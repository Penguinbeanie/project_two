/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["packages_superset-ui-core_node_modules_ace-builds_src-min-noconflict_ace_js"],{

/***/ "./packages/superset-ui-core/node_modules/ace-builds/src-min-noconflict/ace.js":
/*!*************************************************************************************!*\
  !*** ./packages/superset-ui-core/node_modules/ace-builds/src-min-noconflict/ace.js ***!
  \*************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("{/* module decorator */ module = __webpack_require__.nmd(module);\n(function(){function o(n){var i=e;n&&(e[n]||(e[n]={}),i=e[n]);if(!i.define||!i.define.packaged)t.original=i.define,i.define=t,i.define.packaged=!0;if(!i.require||!i.require.packaged)r.original=i.require,i.require=r,i.require.packaged=!0}var ACE_NAMESPACE = \"ace\",e=function(){return this}();!e&&typeof window!=\"undefined\"&&(e=window);if(!ACE_NAMESPACE&&typeof requirejs!=\"undefined\")return;var t=function(e,n,r){if(typeof e!=\"string\"){t.original?t.original.apply(this,arguments):(console.error(\"dropping module because define wasn't a string.\"),console.trace());return}arguments.length==2&&(r=n),t.modules[e]||(t.payloads[e]=r,t.modules[e]=null)};t.modules={},t.payloads={};var n=function(e,t,n){if(typeof t==\"string\"){var i=s(e,t);if(i!=undefined)return n&&n(),i}else if(Object.prototype.toString.call(t)===\"[object Array]\"){var o=[];for(var u=0,a=t.length;u<a;++u){var f=s(e,t[u]);if(f==undefined&&r.original)return;o.push(f)}return n&&n.apply(null,o)||!0}},r=function(e,t){var i=n(\"\",e,t);return i==undefined&&r.original?r.original.apply(this,arguments):i},i=function(e,t){if(t.indexOf(\"!\")!==-1){var n=t.split(\"!\");return i(e,n[0])+\"!\"+i(e,n[1])}if(t.charAt(0)==\".\"){var r=e.split(\"/\").slice(0,-1).join(\"/\");t=r+\"/\"+t;while(t.indexOf(\".\")!==-1&&s!=t){var s=t;t=t.replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return t},s=function(e,r){r=i(e,r);var s=t.modules[r];if(!s){s=t.payloads[r];if(typeof s==\"function\"){var o={},u={id:r,uri:\"\",exports:o,packaged:!0},a=function(e,t){return n(r,e,t)},f=s(a,o,u);o=f||u.exports,t.modules[r]=o,delete t.payloads[r]}s=t.modules[r]=o||s}return s};o(ACE_NAMESPACE)})(),ace.define(\"ace/lib/es6-shim\",[\"require\",\"exports\",\"module\"],function(e,t,n){function r(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||r(String.prototype,\"startsWith\",function(e,t){return t=t||0,this.lastIndexOf(e,t)===t}),String.prototype.endsWith||r(String.prototype,\"endsWith\",function(e,t){var n=this;if(t===undefined||t>n.length)t=n.length;t-=e.length;var r=n.indexOf(e,t);return r!==-1&&r===t}),String.prototype.repeat||r(String.prototype,\"repeat\",function(e){var t=\"\",n=this;while(e>0){e&1&&(t+=n);if(e>>=1)n+=n}return t}),String.prototype.includes||r(String.prototype,\"includes\",function(e,t){return this.indexOf(e,t)!=-1}),Object.assign||(Object.assign=function(e){if(e===undefined||e===null)throw new TypeError(\"Cannot convert undefined or null to object\");var t=Object(e);for(var n=1;n<arguments.length;n++){var r=arguments[n];r!==undefined&&r!==null&&Object.keys(r).forEach(function(e){t[e]=r[e]})}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})}),Array.prototype.find||r(Array.prototype,\"find\",function(e){var t=this.length,n=arguments[1];for(var r=0;r<t;r++){var i=this[r];if(e.call(n,i,r,this))return i}}),Array.prototype.findIndex||r(Array.prototype,\"findIndex\",function(e){var t=this.length,n=arguments[1];for(var r=0;r<t;r++){var i=this[r];if(e.call(n,i,r,this))return r}}),Array.prototype.includes||r(Array.prototype,\"includes\",function(e,t){return this.indexOf(e,t)!=-1}),Array.prototype.fill||r(Array.prototype,\"fill\",function(e){var t=this,n=t.length>>>0,r=arguments[1],i=r>>0,s=i<0?Math.max(n+i,0):Math.min(i,n),o=arguments[2],u=o===undefined?n:o>>0,a=u<0?Math.max(n+u,0):Math.min(u,n);while(s<a)t[s]=e,s++;return t}),Array.of||r(Array,\"of\",function(){return Array.prototype.slice.call(arguments)})}),ace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/es6-shim\"],function(e,t,n){\"use strict\";e(\"./es6-shim\")}),ace.define(\"ace/lib/deep_copy\",[\"require\",\"exports\",\"module\"],function(e,t,n){t.deepCopy=function r(e){if(typeof e!=\"object\"||!e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t[n]=r(e[n]);return t}if(Object.prototype.toString.call(e)!==\"[object Object]\")return e;t={};for(var n in e)t[n]=r(e[n]);return t}}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\",\"ace/lib/deep_copy\"],function(e,t,n){\"use strict\";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split(\"\").reverse().join(\"\")},t.stringRepeat=function(e,t){var n=\"\";while(t>0){t&1&&(n+=e);if(t>>=1)e+=e}return n};var r=/^\\s\\s*/,i=/\\s\\s*$/;t.stringTrimLeft=function(e){return e.replace(r,\"\")},t.stringTrimRight=function(e){return e.replace(i,\"\")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)e[n]&&typeof e[n]==\"object\"?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=e(\"./deep_copy\").deepCopy,t.arrayToMap=function(e){var t={};for(var n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},t.escapeHTML=function(e){return(\"\"+e).replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){n==null&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i},t.supportsLookbehind=function(){try{new RegExp(\"(?<=.)\")}catch(e){return!1}return!0},t.skipEmptyMatch=function(e,t,n){return n&&e.codePointAt(t)>65535?2:1}}),ace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";t.OS={LINUX:\"LINUX\",MAC:\"MAC\",WINDOWS:\"WINDOWS\"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r=typeof navigator==\"object\"?navigator:{},i=(/mac|win|linux/i.exec(r.platform)||[\"other\"])[0].toLowerCase(),s=r.userAgent||\"\",o=r.appName||\"\";t.isWin=i==\"win\",t.isMac=i==\"mac\",t.isLinux=i==\"linux\",t.isIE=o==\"Microsoft Internet Explorer\"||o.indexOf(\"MSAppHost\")>=0?parseFloat((s.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=s.match(/ Gecko\\/\\d+/),t.isOpera=typeof opera==\"object\"&&Object.prototype.toString.call(window[\"opera\"])==\"[object Opera]\",t.isWebKit=parseFloat(s.split(\"WebKit/\")[1])||undefined,t.isChrome=parseFloat(s.split(\" Chrome/\")[1])||undefined,t.isSafari=parseFloat(s.split(\" Safari/\")[1])&&!t.isChrome||undefined,t.isEdge=parseFloat(s.split(\" Edge/\")[1])||undefined,t.isAIR=s.indexOf(\"AdobeAIR\")>=0,t.isAndroid=s.indexOf(\"Android\")>=0,t.isChromeOS=s.indexOf(\" CrOS \")>=0,t.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid}),ace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";function u(){var e=o;o=null,e&&e.forEach(function(e){a(e[0],e[1])})}function a(e,n,r){if(typeof document==\"undefined\")return;if(o)if(r)u();else if(r===!1)return o.push([e,n]);if(s)return;var i=r;if(!r||!r.getRootNode)i=document;else{i=r.getRootNode();if(!i||i==r)i=document}var a=i.ownerDocument||i;if(n&&t.hasCssString(n,i))return null;n&&(e+=\"\\n/*# sourceURL=ace/css/\"+n+\" */\");var f=t.createElement(\"style\");f.appendChild(a.createTextNode(e)),n&&(f.id=n),i==a&&(i=t.getDocumentHead(a)),i.insertBefore(f,i.firstChild)}var r=e(\"./useragent\"),i=\"http://www.w3.org/1999/xhtml\";t.buildDom=function l(e,t,n){if(typeof e==\"string\"&&e){var r=document.createTextNode(e);return t&&t.appendChild(r),r}if(!Array.isArray(e))return e&&e.appendChild&&t&&t.appendChild(e),e;if(typeof e[0]!=\"string\"||!e[0]){var i=[];for(var s=0;s<e.length;s++){var o=l(e[s],t,n);o&&i.push(o)}return i}var u=document.createElement(e[0]),a=e[1],f=1;a&&typeof a==\"object\"&&!Array.isArray(a)&&(f=2);for(var s=f;s<e.length;s++)l(e[s],u,n);return f==2&&Object.keys(a).forEach(function(e){var t=a[e];e===\"class\"?u.className=Array.isArray(t)?t.join(\" \"):t:typeof t==\"function\"||e==\"value\"||e[0]==\"$\"?u[e]=t:e===\"ref\"?n&&(n[t]=u):e===\"style\"?typeof t==\"string\"&&(u.style.cssText=t):t!=null&&u.setAttribute(e,t)}),t&&t.appendChild(u),u},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName(\"head\")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||i,e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=\"\"},t.createTextNode=function(e,t){var n=t?t.ownerDocument:document;return n.createTextNode(e)},t.createFragment=function(e){var t=e?e.ownerDocument:document;return t.createDocumentFragment()},t.hasCssClass=function(e,t){var n=(e.className+\"\").split(/\\s+/g);return n.indexOf(t)!==-1},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=\" \"+n)},t.removeCssClass=function(e,t){var n=e.className.split(/\\s+/g);for(;;){var r=n.indexOf(t);if(r==-1)break;n.splice(r,1)}e.className=n.join(\" \")},t.toggleCssClass=function(e,t){var n=e.className.split(/\\s+/g),r=!0;for(;;){var i=n.indexOf(t);if(i==-1)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(\" \"),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n=0,r;t=t||document;if(r=t.querySelectorAll(\"style\"))while(n<r.length)if(r[n++].id===e)return!0},t.removeElementById=function(e,t){t=t||document,t.getElementById(e)&&t.getElementById(e).remove()};var s,o=[];t.useStrictCSP=function(e){s=e,e==0?u():o||(o=[])},t.importCssString=a,t.importCssStylsheet=function(e,n){t.buildDom([\"link\",{rel:\"stylesheet\",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement(\"ace_inner\");n.style.width=\"100%\",n.style.minWidth=\"0px\",n.style.height=\"200px\",n.style.display=\"block\";var r=t.createElement(\"ace_outer\"),i=r.style;i.position=\"absolute\",i.left=\"-10000px\",i.overflow=\"hidden\",i.width=\"200px\",i.minWidth=\"0px\",i.height=\"150px\",i.display=\"block\",r.appendChild(n);var s=e&&e.documentElement||document&&document.documentElement;if(!s)return 0;s.appendChild(r);var o=n.offsetWidth;i.overflow=\"scroll\";var u=n.offsetWidth;return o===u&&(u=r.clientWidth),s.removeChild(r),o-u},t.computedStyle=function(e,t){return window.getComputedStyle(e,\"\")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=r.isWin?typeof window!=\"undefined\"&&window.devicePixelRatio>=1.5:!0,r.isChromeOS&&(t.HI_DPI=!1);if(typeof document!=\"undefined\"){var f=document.createElement(\"div\");t.HI_DPI&&f.style.transform!==undefined&&(t.HAS_CSS_TRANSFORMS=!0),!r.isEdge&&typeof f.style.animationName!=\"undefined\"&&(t.HAS_CSS_ANIMATION=!0),f=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform=\"translate(\"+Math.round(t)+\"px, \"+Math.round(n)+\"px)\"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+\"px\",e.style.left=Math.round(t)+\"px\"}}),ace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";var r=e(\"./dom\");t.get=function(e,t){var n=new XMLHttpRequest;n.open(\"GET\",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement(\"script\");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){if(n||!i.readyState||i.readyState==\"loaded\"||i.readyState==\"complete\")i=i.onload=i.onreadystatechange=null,n||t()}},t.qualifyURL=function(e){var t=document.createElement(\"a\");return t.href=e,t.href}}),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r={},i=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(!n.length&&!r)return;if(typeof t!=\"object\"||!t)t={};t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=s),n=n.slice();for(var o=0;o<n.length;o++){n[o](t,this);if(t.propagationStopped)break}if(r&&!t.defaultPrevented)return r(t,this)},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(!n)return;n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)},r.once=function(e,t){var n=this;this.on(e,function r(){n.off(e,r),t.apply(null,arguments)});if(!t)return new Promise(function(e){t=e})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;n||(n=this._defaultHandlers={_disabled_:{}});if(n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var s=i.indexOf(t);s!=-1&&i.splice(s,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(!n)return;var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var i=r.indexOf(t);i!=-1&&r.splice(i,1)}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),r.indexOf(t)==-1&&r[n?\"unshift\":\"push\"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(!n)return;var r=n.indexOf(t);r!==-1&&n.splice(r,1)},r.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=undefined),this._eventRegistry&&(this._eventRegistry[e]=undefined),this._defaultHandlers&&(this._defaultHandlers[e]=undefined)},t.EventEmitter=r}),ace.define(\"ace/lib/report_error\",[\"require\",\"exports\",\"module\"],function(e,t,n){t.reportError=function(t,n){var r=new Error(t);r.data=n,typeof console==\"object\"&&console.error&&console.error(r),setTimeout(function(){throw r})}}),ace.define(\"ace/lib/default_english_messages\",[\"require\",\"exports\",\"module\"],function(e,t,n){var r={\"autocomplete.popup.aria-roledescription\":\"Autocomplete suggestions\",\"autocomplete.popup.aria-label\":\"Autocomplete suggestions\",\"autocomplete.popup.item.aria-roledescription\":\"item\",\"autocomplete.loading\":\"Loading...\",\"editor.scroller.aria-roledescription\":\"editor\",\"editor.scroller.aria-label\":\"Editor content, press Enter to start editing, press Escape to exit\",\"editor.gutter.aria-roledescription\":\"editor gutter\",\"editor.gutter.aria-label\":\"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit\",\"error-marker.good-state\":\"Looks good!\",\"prompt.recently-used\":\"Recently used\",\"prompt.other-commands\":\"Other commands\",\"prompt.no-matching-commands\":\"No matching commands\",\"search-box.find.placeholder\":\"Search for\",\"search-box.find-all.text\":\"All\",\"search-box.replace.placeholder\":\"Replace with\",\"search-box.replace-next.text\":\"Replace\",\"search-box.replace-all.text\":\"All\",\"search-box.toggle-replace.title\":\"Toggle Replace mode\",\"search-box.toggle-regexp.title\":\"RegExp Search\",\"search-box.toggle-case.title\":\"CaseSensitive Search\",\"search-box.toggle-whole-word.title\":\"Whole Word Search\",\"search-box.toggle-in-selection.title\":\"Search In Selection\",\"search-box.search-counter\":\"$0 of $1\",\"text-input.aria-roledescription\":\"editor\",\"text-input.aria-label\":\"Cursor at row $0\",\"gutter.code-folding.range.aria-label\":\"Toggle code folding, rows $0 through $1\",\"gutter.code-folding.closed.aria-label\":\"Toggle code folding, rows $0 through $1\",\"gutter.code-folding.open.aria-label\":\"Toggle code folding, row $0\",\"gutter.code-folding.closed.title\":\"Unfold code\",\"gutter.code-folding.open.title\":\"Fold code\",\"gutter.annotation.aria-label.error\":\"Error, read annotations row $0\",\"gutter.annotation.aria-label.warning\":\"Warning, read annotations row $0\",\"gutter.annotation.aria-label.info\":\"Info, read annotations row $0\",\"inline-fold.closed.title\":\"Unfold code\",\"gutter-tooltip.aria-label.error.singular\":\"error\",\"gutter-tooltip.aria-label.error.plural\":\"errors\",\"gutter-tooltip.aria-label.warning.singular\":\"warning\",\"gutter-tooltip.aria-label.warning.plural\":\"warnings\",\"gutter-tooltip.aria-label.info.singular\":\"information message\",\"gutter-tooltip.aria-label.info.plural\":\"information messages\",\"gutter.annotation.aria-label.security\":\"Security finding, read annotations row $0\",\"gutter.annotation.aria-label.hint\":\"Suggestion, read annotations row $0\",\"gutter-tooltip.aria-label.security.singular\":\"security finding\",\"gutter-tooltip.aria-label.security.plural\":\"security findings\",\"gutter-tooltip.aria-label.hint.singular\":\"suggestion\",\"gutter-tooltip.aria-label.hint.plural\":\"suggestions\",\"editor.tooltip.disable-editing\":\"Editing is disabled\"};t.defaultEnglishMessages=r}),ace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/report_error\",\"ace/lib/default_english_messages\"],function(e,t,n){\"no use strict\";function a(e){typeof console!=\"undefined\"&&console.warn&&console.warn.apply(console,arguments)}var r=e(\"./oop\"),i=e(\"./event_emitter\").EventEmitter,s=e(\"./report_error\").reportError,o=e(\"./default_english_messages\").defaultEnglishMessages,u={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};if(!e){var n=this.$options;e=Object.keys(n).filter(function(e){return!n[e].hidden})}else Array.isArray(e)||(e=Object.keys(e));return e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this[\"$\"+e]===t)return;var n=this.$options[e];if(!n)return a('misspelled option \"'+e+'\"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this[\"$\"+e]=t),n&&n.set&&n.set.call(this,t)},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this[\"$\"+e]:a('misspelled option \"'+e+'\"')}},f,l,c=function(){function e(){this.$defaultOptions={},f=o,l=\"dollarSigns\"}return e.prototype.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];typeof r==\"string\"&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,\"initialValue\"in r&&(e[\"$\"+r.name]=r.initialValue)}),r.implement(e,u),this},e.prototype.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];\"value\"in n&&e.setOption(t,n.value)})},e.prototype.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},e.prototype.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},e.prototype.setMessages=function(e,t){f=e,t&&t.placeholders&&(l=t.placeholders)},e.prototype.nls=function(e,t,n){f[e]||(a(\"No message found for the key '\"+e+\"' in messages with id \"+f.$id+\", trying to find a translation for the default string '\"+t+\"'.\"),f[t]||a(\"No message found for the default string '\"+t+\"' in the provided messages. Falling back to the default English message.\"));var r=f[e]||f[t]||t;return n&&(l===\"dollarSigns\"&&(r=r.replace(/\\$(\\$|[\\d]+)/g,function(e,t){return t==\"$\"?\"$\":n[t]})),l===\"curlyBrackets\"&&(r=r.replace(/\\{([^\\}]+)\\}/g,function(e,t){return n[t]}))),r},e}();c.prototype.warn=a,c.prototype.reportError=s,r.implement(c.prototype,i),t.AppConfig=c}),ace.define(\"ace/theme/textmate-css\",[\"require\",\"exports\",\"module\"],function(e,t,n){n.exports='.ace-tm .ace_gutter {\\n  background: #f0f0f0;\\n  color: #333;\\n}\\n\\n.ace-tm .ace_print-margin {\\n  width: 1px;\\n  background: #e8e8e8;\\n}\\n\\n.ace-tm .ace_fold {\\n    background-color: #6B72E6;\\n}\\n\\n.ace-tm {\\n  background-color: #FFFFFF;\\n  color: black;\\n}\\n\\n.ace-tm .ace_cursor {\\n  color: black;\\n}\\n        \\n.ace-tm .ace_invisible {\\n  color: rgb(191, 191, 191);\\n}\\n\\n.ace-tm .ace_storage,\\n.ace-tm .ace_keyword {\\n  color: blue;\\n}\\n\\n.ace-tm .ace_constant {\\n  color: rgb(197, 6, 11);\\n}\\n\\n.ace-tm .ace_constant.ace_buildin {\\n  color: rgb(88, 72, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_language {\\n  color: rgb(88, 92, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_library {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_invalid {\\n  background-color: rgba(255, 0, 0, 0.1);\\n  color: red;\\n}\\n\\n.ace-tm .ace_support.ace_function {\\n  color: rgb(60, 76, 114);\\n}\\n\\n.ace-tm .ace_support.ace_constant {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_support.ace_type,\\n.ace-tm .ace_support.ace_class {\\n  color: rgb(109, 121, 222);\\n}\\n\\n.ace-tm .ace_keyword.ace_operator {\\n  color: rgb(104, 118, 135);\\n}\\n\\n.ace-tm .ace_string {\\n  color: rgb(3, 106, 7);\\n}\\n\\n.ace-tm .ace_comment {\\n  color: rgb(76, 136, 107);\\n}\\n\\n.ace-tm .ace_comment.ace_doc {\\n  color: rgb(0, 102, 255);\\n}\\n\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\n  color: rgb(128, 159, 191);\\n}\\n\\n.ace-tm .ace_constant.ace_numeric {\\n  color: rgb(0, 0, 205);\\n}\\n\\n.ace-tm .ace_variable {\\n  color: rgb(49, 132, 149);\\n}\\n\\n.ace-tm .ace_xml-pe {\\n  color: rgb(104, 104, 91);\\n}\\n\\n.ace-tm .ace_entity.ace_name.ace_function {\\n  color: #0000A2;\\n}\\n\\n\\n.ace-tm .ace_heading {\\n  color: rgb(12, 7, 255);\\n}\\n\\n.ace-tm .ace_list {\\n  color:rgb(185, 6, 144);\\n}\\n\\n.ace-tm .ace_meta.ace_tag {\\n  color:rgb(0, 22, 142);\\n}\\n\\n.ace-tm .ace_string.ace_regex {\\n  color: rgb(255, 0, 0)\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selection {\\n  background: rgb(181, 213, 255);\\n}\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\n  box-shadow: 0 0 3px 0px white;\\n}\\n.ace-tm .ace_marker-layer .ace_step {\\n  background: rgb(252, 255, 0);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_stack {\\n  background: rgb(164, 229, 101);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_bracket {\\n  margin: -1px 0 0 -1px;\\n  border: 1px solid rgb(192, 192, 192);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_active-line {\\n  background: rgba(0, 0, 0, 0.07);\\n}\\n\\n.ace-tm .ace_gutter-active-line {\\n    background-color : #dcdcdc;\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selected-word {\\n  background: rgb(250, 250, 255);\\n  border: 1px solid rgb(200, 200, 250);\\n}\\n\\n.ace-tm .ace_indent-guide {\\n  background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;\\n}\\n\\n.ace-tm .ace_indent-guide-active {\\n  background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC\") right repeat-y;\\n}\\n'}),ace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/theme/textmate-css\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";t.isDark=!1,t.cssClass=\"ace-tm\",t.cssText=e(\"./textmate-css\"),t.$id=\"ace/theme/textmate\";var r=e(\"../lib/dom\");r.importCssString(t.cssText,t.cssClass,!1)}),ace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/net\",\"ace/lib/dom\",\"ace/lib/app_config\",\"ace/theme/textmate\"],function(e,t,n){\"no use strict\";var r=e(\"./lib/lang\"),i=e(\"./lib/net\"),s=e(\"./lib/dom\"),o=e(\"./lib/app_config\").AppConfig;n.exports=t=new o;var u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:\"\",suffix:\".js\",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!u.hasOwnProperty(e))throw new Error(\"Unknown config key: \"+e);return u[e]},t.set=function(e,t){if(u.hasOwnProperty(e))u[e]=t;else if(this.setDefaultValue(\"\",e,t)==0)throw new Error(\"Unknown config key: \"+e);e==\"useStrictCSP\"&&s.useStrictCSP(t)},t.all=function(){return r.copyObject(u)},t.$modes={},t.moduleUrl=function(e,t){if(u.$moduleUrls[e])return u.$moduleUrls[e];var n=e.split(\"/\");t=t||n[n.length-2]||\"\";var r=t==\"snippets\"?\"/\":\"-\",i=n[n.length-1];if(t==\"worker\"&&r==\"-\"){var s=new RegExp(\"^\"+t+\"[\\\\-_]|[\\\\-_]\"+t+\"$\",\"g\");i=i.replace(s,\"\")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var o=u[t+\"Path\"];return o==null?o=u.basePath:r==\"/\"&&(t=r=\"\"),o&&o.slice(-1)!=\"/\"&&(o+=\"/\"),o+t+r+i+this.get(\"suffix\")},t.setModuleUrl=function(e,t){return u.$moduleUrls[e]=t};var a=function(t,n){if(t===\"ace/theme/textmate\"||t===\"./theme/textmate\")return n(null,e(\"./theme/textmate\"));if(f)return f(t,n);console.error(\"loader is not configured\")},f;t.setLoader=function(e){f=e},t.dynamicModules=Object.create(null),t.$loading={},t.$loaded={},t.loadModule=function(e,n){var r;if(Array.isArray(e))var s=e[0],o=e[1];else if(typeof e==\"string\")var o=e;var u=function(e){if(e&&!t.$loading[o])return n&&n(e);t.$loading[o]||(t.$loading[o]=[]),t.$loading[o].push(n);if(t.$loading[o].length>1)return;var r=function(){a(o,function(e,n){n&&(t.$loaded[o]=n),t._emit(\"load.module\",{name:o,module:n});var r=t.$loading[o];t.$loading[o]=null,r.forEach(function(e){e&&e(n)})})};if(!t.get(\"packaged\"))return r();i.loadScript(t.moduleUrl(o,s),r),l()};if(t.dynamicModules[o])t.dynamicModules[o]().then(function(e){e.default?u(e.default):u(e)});else{try{r=this.$require(o)}catch(f){}u(r||t.$loaded[o])}},t.$require=function(e){if(typeof n[\"require\"]==\"function\"){var t=\"require\";return n[t](e)}},t.setModuleLoader=function(e,n){t.dynamicModules[e]=n};var l=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error(\"Unable to infer path to ace from script src,\",\"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\",\"or with webpack use ace/webpack-resolver\"),l=function(){})};t.version=\"1.43.3\"}),ace.define(\"ace/loader_build\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/config\"],function(e,t,n){\"use strict\";function s(t){if(!i||!i.document)return;r.set(\"packaged\",t||e.packaged||n.packaged||i.define&&__webpack_require__.amdD.packaged);var s={},u=\"\",a=document.currentScript||document._currentScript,f=a&&a.ownerDocument||document;a&&a.src&&(u=a.src.split(/[?#]/)[0].split(\"/\").slice(0,-1).join(\"/\")||\"\");var l=f.getElementsByTagName(\"script\");for(var c=0;c<l.length;c++){var h=l[c],p=h.src||h.getAttribute(\"src\");if(!p)continue;var d=h.attributes;for(var v=0,m=d.length;v<m;v++){var g=d[v];g.name.indexOf(\"data-ace-\")===0&&(s[o(g.name.replace(/^data-ace-/,\"\"))]=g.value)}var y=p.match(/^(.*)\\/ace([\\-.]\\w+)?\\.js(\\?|$)/);y&&(u=y[1])}u&&(s.base=s.base||u,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var b in s)typeof s[b]!=\"undefined\"&&r.set(b,s[b])}function o(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}e(\"./lib/fixoldbrowsers\");var r=e(\"./config\");r.setLoader(function(t,n){e([t],function(e){n(null,e)})});var i=function(){return this||typeof window!=\"undefined\"&&window}();n.exports=function(t){r.init=s,r.$require=e,t.require=e, true&&(t.define=__webpack_require__.amdD)}}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r=function(){function e(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}}return e.prototype.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},e.prototype.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},e.prototype.contains=function(e,t){return this.compare(e,t)==0},e.prototype.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),t==1?(t=this.compare(r.row,r.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(r.row,r.column),t==-1?-1:t==1?42:0)},e.prototype.comparePoint=function(e){return this.compare(e.row,e.column)},e.prototype.containsRange=function(e){return this.comparePoint(e.start)==0&&this.comparePoint(e.end)==0},e.prototype.intersects=function(e){var t=this.compareRange(e);return t==-1||t==0||t==1},e.prototype.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},e.prototype.isStart=function(e,t){return this.start.row==e&&this.start.column==t},e.prototype.setStart=function(e,t){typeof e==\"object\"?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},e.prototype.setEnd=function(e,t){typeof e==\"object\"?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},e.prototype.inside=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},e.prototype.insideStart=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)?!1:!0:!1},e.prototype.insideEnd=function(e,t){return this.compare(e,t)==0?this.isStart(e,t)?!1:!0:!1},e.prototype.compare=function(e,t){return!this.isMultiLine()&&e===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0},e.prototype.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},e.prototype.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.clipRows=function(t,n){if(this.end.row>n)var r={row:n+1,column:0};else if(this.end.row<t)var r={row:t,column:0};if(this.start.row>n)var i={row:n+1,column:0};else if(this.start.row<t)var i={row:t,column:0};return e.fromPoints(i||this.start,r||this.end)},e.prototype.extend=function(t,n){var r=this.compare(t,n);if(r==0)return this;if(r==-1)var i={row:t,column:n};else var s={row:t,column:n};return e.fromPoints(i||this.start,s||this.end)},e.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},e.prototype.isMultiLine=function(){return this.start.row!==this.end.row},e.prototype.clone=function(){return e.fromPoints(this.start,this.end)},e.prototype.collapseRows=function(){return this.end.column==0?new e(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new e(this.start.row,0,this.end.row,0)},e.prototype.toScreenRange=function(t){var n=t.documentToScreenPosition(this.start),r=t.documentToScreenPosition(this.end);return new e(n.row,n.column,r.row,r.column)},e.prototype.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t},e}();r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r}),ace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"],function(e,t,n){\"use strict\";var r=e(\"./oop\"),i={MODIFIER_KEYS:{16:\"Shift\",17:\"Ctrl\",18:\"Alt\",224:\"Meta\",91:\"MetaLeft\",92:\"MetaRight\",93:\"ContextMenu\"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,\"super\":8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:\"Backspace\",9:\"Tab\",13:\"Return\",19:\"Pause\",27:\"Esc\",32:\"Space\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"Left\",38:\"Up\",39:\"Right\",40:\"Down\",44:\"Print\",45:\"Insert\",46:\"Delete\",\"-13\":\"NumpadEnter\",144:\"Numlock\",145:\"Scrolllock\"},PRINTABLE_KEYS:{32:\" \",59:\";\",61:\"=\",107:\"+\",109:\"-\",110:\".\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\",111:\"/\",106:\"*\"}},s={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106};for(var o=0;o<10;o++)s[\"Digit\"+o]=48+o,s[\"Numpad\"+o]=96+o,i.PRINTABLE_KEYS[48+o]=\"\"+o,i.FUNCTION_KEYS[96+o]=\"Numpad\"+o;for(var o=65;o<91;o++){var u=String.fromCharCode(o+32);s[\"Key\"+u.toUpperCase()]=o,i.PRINTABLE_KEYS[o]=u}for(var o=1;o<13;o++)s[\"F\"+o]=111+o,i.FUNCTION_KEYS[111+o]=\"F\"+o;var a={Shift:16,Control:17,Alt:18,Meta:224};for(var f in a)s[f]=s[f+\"Left\"]=s[f+\"Right\"]=a[f];t.$codeToKeyCode=s,i.PRINTABLE_KEYS[173]=\"-\";for(var l in i.FUNCTION_KEYS){var c=i.FUNCTION_KEYS[l].toLowerCase();i[c]=parseInt(l,10)}for(var l in i.PRINTABLE_KEYS){var c=i.PRINTABLE_KEYS[l].toLowerCase();i[c]=parseInt(l,10)}r.mixin(i,i.MODIFIER_KEYS),r.mixin(i,i.PRINTABLE_KEYS),r.mixin(i,i.FUNCTION_KEYS),i.enter=i[\"return\"],i.escape=i.esc,i.del=i[\"delete\"],function(){var e=[\"cmd\",\"ctrl\",\"alt\",\"shift\"];for(var t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join(\"-\")+\"-\"}(),i.KEY_MODS[0]=\"\",i.KEY_MODS[-1]=\"input-\",r.mixin(t,i),t.default=t,t.keyCodeToString=function(e){var t=i[e];return typeof t!=\"string\"&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";function a(){u=!1;try{document.createComment(\"\").addEventListener(\"test\",function(){},{get passive(){return u={passive:!1},!0}})}catch(e){}}function f(){return u==undefined&&a(),u}function l(e,t,n){this.elem=e,this.type=t,this.callback=n}function p(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function d(e,t,n){var u=p(t);!n&&t.code&&(n=r.$codeToKeyCode[t.code]||n);if(!i.isMac&&s){t.getModifierState&&(t.getModifierState(\"OS\")||t.getModifierState(\"Win\"))&&(u|=8);if(s.altGr){if((3&u)==3)return;s.altGr=0}if(n===18||n===17){var a=t.location;if(n===17&&a===1)s[n]==1&&(o=t.timeStamp);else if(n===18&&u===3&&a===2){var f=t.timeStamp-o;f<50&&(s.altGr=!0)}}}n in r.MODIFIER_KEYS&&(n=-1);if(!u&&n===13&&t.location===3){e(t,u,-n);if(t.defaultPrevented)return}if(i.isChromeOS&&u&8){e(t,u,n);if(t.defaultPrevented)return;u&=-9}return!!u||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS?e(t,u,n):!1}function v(){s=Object.create(null)}var r=e(\"./keys\"),i=e(\"./useragent\"),s=null,o=0,u;l.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=undefined};var c=t.addListener=function(e,t,n,r){e.addEventListener(t,n,f()),r&&r.$toDestroy.push(new l(e,t,n))},h=t.removeListener=function(e,t,n){e.removeEventListener(t,n,f())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return e.type==\"dblclick\"?0:e.type==\"contextmenu\"||i.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){function i(e){t&&t(e),n&&n(e),h(r,\"mousemove\",t),h(r,\"mouseup\",i),h(r,\"dragstart\",i)}var r=e&&e.ownerDocument||document;return c(r,\"mousemove\",t),c(r,\"mouseup\",i),c(r,\"dragstart\",i),i},t.addMouseWheelListener=function(e,t,n){c(e,\"wheel\",function(e){var n=.15,r=e.deltaX||0,i=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=r*n,e.wheelY=i*n;break;case e.DOM_DELTA_LINE:var s=15;e.wheelX=r*s,e.wheelY=i*s;break;case e.DOM_DELTA_PAGE:var o=150;e.wheelX=r*o,e.wheelY=i*o}t(e)},n)},t.addMultiMouseDownListener=function(e,n,r,s,o){function p(e){t.getButton(e)!==0?u=0:e.detail>1?(u++,u>4&&(u=1)):u=1;if(i.isIE){var o=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-f)>5;if(!l||o)u=1;l&&clearTimeout(l),l=setTimeout(function(){l=null},n[u-1]||600),u==1&&(a=e.clientX,f=e.clientY)}e._clicks=u,r[s](\"mousedown\",e);if(u>4)u=0;else if(u>1)return r[s](h[u],e)}var u=0,a,f,l,h={2:\"dblclick\",3:\"tripleclick\",4:\"quadclick\"};Array.isArray(e)||(e=[e]),e.forEach(function(e){c(e,\"mousedown\",p,o)})},t.getModifierString=function(e){return r.KEY_MODS[p(e)]},t.addCommandKeyListener=function(e,n,r){var i=null;c(e,\"keydown\",function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=d(n,e,e.keyCode);return i=e.defaultPrevented,t},r),c(e,\"keypress\",function(e){i&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),i=null)},r),c(e,\"keyup\",function(e){s[e.keyCode]=null},r),s||(v(),c(window,\"focus\",v))};if(typeof window==\"object\"&&window.postMessage&&!i.isOldIE){var m=1;t.nextTick=function(e,n){n=n||window;var r=\"zero-timeout-message-\"+m++,i=function(s){s.data==r&&(t.stopPropagation(s),h(n,\"message\",i),e())};c(n,\"message\",i),n.postMessage(r,\"*\")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout(function r(){t.$idleBlocked?setTimeout(r,100):e()},n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},e||100)},t.nextFrame=typeof window==\"object\"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r;n.exports={lineMode:!1,pasteCancelled:function(){return r&&r>Date.now()-50?!0:r=!1},cancel:function(){r=Date.now()}}}),ace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/config\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"],function(e,t,n){\"use strict\";var r=e(\"../lib/event\"),i=e(\"../config\").nls,s=e(\"../lib/useragent\"),o=e(\"../lib/dom\"),u=e(\"../lib/lang\"),a=e(\"../clipboard\"),f=s.isChrome<18,l=s.isIE,c=s.isChrome>63,h=400,p=e(\"../lib/keys\"),d=p.KEY_MODS,v=s.isIOS,m=v?/\\s/:/\\n/,g=s.isMobile,y=function(){function e(e,t){var n=this;this.host=t,this.text=o.createElement(\"textarea\"),this.text.className=\"ace_text-input\",this.text.setAttribute(\"wrap\",\"off\"),this.text.setAttribute(\"autocomplete\",\"off\"),this.text.setAttribute(\"autocorrect\",\"off\"),this.text.setAttribute(\"autocapitalize\",\"off\"),this.text.setAttribute(\"spellcheck\",\"false\"),this.text.style.opacity=\"0\",e.insertBefore(this.text,e.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle=\"\",g||(this.text.style.fontSize=\"1px\"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue=\"\",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch(i){}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:\"textbox\"}),r.addListener(this.text,\"blur\",function(e){if(n.ignoreFocusEvents)return;t.onBlur(e),n.$isFocused=!1},t),r.addListener(this.text,\"focus\",function(e){if(n.ignoreFocusEvents)return;n.$isFocused=!0;if(s.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),s.isEdge?setTimeout(n.resetSelection.bind(n)):n.resetSelection()},t),this.$focusScroll=!1,t.on(\"beforeEndOperation\",function(){var e=t.curOp,r=e&&e.command&&e.command.name;if(r==\"insertstring\")return;var i=r&&(e.docChanged||e.selectionChanged);n.inComposition&&i&&(n.lastValue=n.text.value=\"\",n.onCompositionEnd()),n.resetSelection()}),t.on(\"changeSelection\",this.setAriaLabel.bind(this)),this.resetSelection=v?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&t.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,r.addCommandKeyListener(this.text,function(e,r,i){if(n.inComposition)return;return t.onCommandKey(e,r,i)},t),r.addListener(this.text,\"select\",this.onSelect.bind(this),t),r.addListener(this.text,\"input\",this.onInput.bind(this),t),r.addListener(this.text,\"cut\",this.onCut.bind(this),t),r.addListener(this.text,\"copy\",this.onCopy.bind(this),t),r.addListener(this.text,\"paste\",this.onPaste.bind(this),t),(!(\"oncut\"in this.text)||!(\"oncopy\"in this.text)||!(\"onpaste\"in this.text))&&r.addListener(e,\"keydown\",function(e){if(s.isMac&&!e.metaKey||!e.ctrlKey)return;switch(e.keyCode){case 67:n.onCopy(e);break;case 86:n.onPaste(e);break;case 88:n.onCut(e)}},t),this.syncComposition=u.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),r.addListener(this.text,\"compositionstart\",this.onCompositionStart.bind(this),t),r.addListener(this.text,\"compositionupdate\",this.onCompositionUpdate.bind(this),t),r.addListener(this.text,\"keyup\",this.onKeyup.bind(this),t),r.addListener(this.text,\"keydown\",this.syncComposition.bind(this),t),r.addListener(this.text,\"compositionend\",this.onCompositionEnd.bind(this),t),this.closeTimeout,r.addListener(this.text,\"mouseup\",this.$onContextMenu.bind(this),t),r.addListener(this.text,\"mousedown\",function(e){e.preventDefault(),n.onContextMenuClose()},t),r.addListener(t.renderer.scroller,\"contextmenu\",this.$onContextMenu.bind(this),t),r.addListener(this.text,\"contextmenu\",this.$onContextMenu.bind(this),t),v&&this.addIosSelectionHandler(e,t,this.text)}return e.prototype.addIosSelectionHandler=function(e,t,n){var r=this,i=null,s=!1;n.addEventListener(\"keydown\",function(e){i&&clearTimeout(i),s=!0},!0),n.addEventListener(\"keyup\",function(e){i=setTimeout(function(){s=!1},100)},!0);var o=function(e){if(document.activeElement!==n)return;if(s||r.inComposition||t.$mouseHandler.isMousePressed)return;if(r.copied)return;var i=n.selectionStart,o=n.selectionEnd,u=null,a=0;if(i==0)u=p.up;else if(i==1)u=p.home;else if(o>r.lastSelectionEnd&&r.lastValue[o]==\"\\n\")u=p.end;else if(i<r.lastSelectionStart&&r.lastValue[i-1]==\" \")u=p.left,a=d.option;else if(i<r.lastSelectionStart||i==r.lastSelectionStart&&r.lastSelectionEnd!=r.lastSelectionStart&&i==o)u=p.left;else if(o>r.lastSelectionEnd&&r.lastValue.slice(0,o).split(\"\\n\").length>2)u=p.down;else if(o>r.lastSelectionEnd&&r.lastValue[o-1]==\" \")u=p.right,a=d.option;else if(o>r.lastSelectionEnd||o==r.lastSelectionEnd&&r.lastSelectionEnd!=r.lastSelectionStart&&i==o)u=p.right;i!==o&&(a|=d.shift);if(u){var f=t.onCommandKey({},a,u);if(!f&&t.commands){u=p.keyCodeToString(u);var l=t.commands.findKeyCommand(a,u);l&&t.execCommand(l)}r.lastSelectionStart=i,r.lastSelectionEnd=o,r.resetSelection(\"\")}};document.addEventListener(\"selectionchange\",o),t.on(\"destroy\",function(){document.removeEventListener(\"selectionchange\",o)})},e.prototype.onContextMenuClose=function(){var e=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){e.tempStyle&&(e.text.style.cssText=e.tempStyle,e.tempStyle=\"\"),e.host.renderer.$isMousePressed=!1,e.host.renderer.$keepTextAreaAtCursor&&e.host.renderer.$moveTextAreaToCursor()},0)},e.prototype.$onContextMenu=function(e){this.host.textInput.onContextMenu(e),this.onContextMenuClose()},e.prototype.onKeyup=function(e){e.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},e.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},e.prototype.onCompositionStart=function(e){if(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)return;this.inComposition={};if(this.commandMode)return;e.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal(\"compositionStart\"),this.host.on(\"mousedown\",this.cancelComposition);var t=this.host.getSelectionRange();t.end.row=t.start.row,t.end.column=t.start.column,this.inComposition.markerRange=t,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value=\"\",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))},e.prototype.onCompositionUpdate=function(){if(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)return;if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var e=this.text.value;this.sendText(e),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}},e.prototype.onCompositionEnd=function(e){if(!this.host.onCompositionEnd||this.host.$readOnly)return;this.inComposition=!1,this.host.onCompositionEnd(),this.host.off(\"mousedown\",this.cancelComposition),e&&this.onInput()},e.prototype.onCut=function(e){this.doCopy(e,!0)},e.prototype.onCopy=function(e){this.doCopy(e,!1)},e.prototype.onPaste=function(e){var t=this.handleClipboardData(e);if(a.pasteCancelled())return;typeof t==\"string\"?(t&&this.host.onPaste(t,e),s.isIE&&setTimeout(this.resetSelection),r.preventDefault(e)):(this.text.value=\"\",this.pasted=!0)},e.prototype.doCopy=function(e,t){var n=this,i=this.host.getCopyText();if(!i)return r.preventDefault(e);this.handleClipboardData(e,i)?(v&&(this.resetSelection(i),this.copied=i,setTimeout(function(){n.copied=!1},10)),t?this.host.onCut():this.host.onCopy(),r.preventDefault(e)):(this.copied=!0,this.text.value=i,this.text.select(),setTimeout(function(){n.copied=!1,n.resetSelection(),t?n.host.onCut():n.host.onCopy()}))},e.prototype.handleClipboardData=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(!r||f)return;var i=l||n?\"Text\":\"text/plain\";try{return t?r.setData(i,t)!==!1:r.getData(i)}catch(e){if(!n)return this.handleClipboardData(e,t,!0)}},e.prototype.onInput=function(e){if(this.inComposition)return this.onCompositionUpdate();if(e&&e.inputType){if(e.inputType==\"historyUndo\")return this.host.execCommand(\"undo\");if(e.inputType==\"historyRedo\")return this.host.execCommand(\"redo\")}var t=this.text.value,n=this.sendText(t,!0);(t.length>h+100||m.test(n)||g&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},e.prototype.sendText=function(e,t){this.afterContextMenu&&(this.afterContextMenu=!1);if(this.pasted)return this.resetSelection(),e&&this.host.onPaste(e),this.pasted=!1,\"\";var n=this.text.selectionStart,r=this.text.selectionEnd,i=this.lastSelectionStart,o=this.lastValue.length-this.lastSelectionEnd,u=e,a=e.length-n,f=e.length-r,l=0;while(i>0&&this.lastValue[l]==e[l])l++,i--;u=u.slice(l),l=1;while(o>0&&this.lastValue.length-l>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-l]==e[e.length-l])l++,o--;a-=l-1,f-=l-1;var c=u.length-l+1;c<0&&(i=-c,c=0),u=u.slice(0,c);if(!t&&!u&&!a&&!i&&!o&&!f)return\"\";this.sendingText=!0;var h=!1;return s.isAndroid&&u==\". \"&&(u=\"  \",h=!0),u&&!i&&!o&&!a&&!f||this.commandMode?this.host.onTextInput(u):this.host.onTextInput(u,{extendLeft:i,extendRight:o,restoreStart:a,restoreEnd:f}),this.sendingText=!1,this.lastValue=e,this.lastSelectionStart=n,this.lastSelectionEnd=r,this.lastRestoreEnd=f,h?\"\\n\":u},e.prototype.onSelect=function(e){var t=this;if(this.inComposition)return;var n=function(e){return e.selectionStart===0&&e.selectionEnd>=t.lastValue.length&&e.value===t.lastValue&&t.lastValue&&e.selectionEnd!==t.lastSelectionEnd};this.copied?this.copied=!1:n(this.text)?(this.host.selectAll(),this.resetSelection()):g&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()},e.prototype.$resetSelectionIOS=function(e){if(!this.$isFocused||this.copied&&!e||this.sendingText)return;e||(e=\"\");var t=\"\\n ab\"+e+\"cde fg\\n\";t!=this.text.value&&(this.text.value=this.lastValue=t);var n=4,r=4+(e.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=n||this.lastSelectionEnd!=r)&&this.text.setSelectionRange(n,r),this.lastSelectionStart=n,this.lastSelectionEnd=r},e.prototype.$resetSelection=function(){var e=this;if(this.inComposition||this.sendingText)return;if(!this.$isFocused&&!this.afterContextMenu)return;this.inComposition=!0;var t=0,n=0,r=\"\",i=function(t,n){var r=n;for(var i=1;i<=t-e.rowStart&&i<2*e.numberOfExtraLines+1;i++)r+=e.host.session.getLine(t-i).length+1;return r};if(this.host.session){var s=this.host.selection,o=s.getRange(),u=s.cursor.row;if(u===this.rowEnd+1)this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines;else if(u===this.rowStart-1)this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines;else if(u<this.rowStart-1||u>this.rowEnd+1)this.rowStart=u>this.numberOfExtraLines?u-this.numberOfExtraLines:0,this.rowEnd=u>this.numberOfExtraLines?u+this.numberOfExtraLines:2*this.numberOfExtraLines;var a=[];for(var f=this.rowStart;f<=this.rowEnd;f++)a.push(this.host.session.getLine(f));r=a.join(\"\\n\"),t=i(o.start.row,o.start.column),n=i(o.end.row,o.end.column);if(o.start.row<this.rowStart){var l=this.host.session.getLine(this.rowStart-1);t=o.start.row<this.rowStart-1?0:t,n+=l.length+1,r=l+\"\\n\"+r}else if(o.end.row>this.rowEnd){var c=this.host.session.getLine(this.rowEnd+1);n=o.end.row>this.rowEnd+1?c.length:o.end.column,n+=r.length+1,r=r+\"\\n\"+c}else g&&u>0&&(r=\"\\n\"+r,n+=1,t+=1);r.length>h&&(t<h&&n<h?r=r.slice(0,h):(r=\"\\n\",t==n?t=n=0:(t=0,n=1)));var p=r+\"\\n\\n\";p!=this.lastValue&&(this.text.value=this.lastValue=p,this.lastSelectionStart=this.lastSelectionEnd=p.length)}this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd);if(this.lastSelectionEnd!=n||this.lastSelectionStart!=t||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(t,n),this.lastSelectionStart=t,this.lastSelectionEnd=n}catch(d){}this.inComposition=!1},e.prototype.setHost=function(e){this.host=e},e.prototype.setNumberOfExtraLines=function(e){this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER;if(e<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=e},e.prototype.setAriaLabel=function(){var e=\"\";this.host.$textInputAriaLabel&&(e+=\"\".concat(this.host.$textInputAriaLabel,\", \"));if(this.host.session){var t=this.host.session.selection.cursor.row;e+=i(\"text-input.aria-label\",\"Cursor at row $0\",[t+1])}this.text.setAttribute(\"aria-label\",e)},e.prototype.setAriaOptions=function(e){e.activeDescendant?(this.text.setAttribute(\"aria-haspopup\",\"true\"),this.text.setAttribute(\"aria-autocomplete\",e.inline?\"both\":\"list\"),this.text.setAttribute(\"aria-activedescendant\",e.activeDescendant)):(this.text.setAttribute(\"aria-haspopup\",\"false\"),this.text.setAttribute(\"aria-autocomplete\",\"both\"),this.text.removeAttribute(\"aria-activedescendant\")),e.role&&this.text.setAttribute(\"role\",e.role),e.setLabel&&(this.text.setAttribute(\"aria-roledescription\",i(\"text-input.aria-roledescription\",\"editor\")),this.setAriaLabel())},e.prototype.focus=function(){var e=this;this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility});if(this.tempStyle||c||this.$focusScroll==\"browser\")return this.text.focus({preventScroll:!0});var t=this.text.style.top;this.text.style.position=\"fixed\",this.text.style.top=\"0px\";try{var n=this.text.getBoundingClientRect().top!=0}catch(r){return}var i=[];if(n){var s=this.text.parentElement;while(s&&s.nodeType==1)i.push(s),s.setAttribute(\"ace_nocontext\",\"true\"),!s.parentElement&&s.getRootNode?s=s.getRootNode().host:s=s.parentElement}this.text.focus({preventScroll:!0}),n&&i.forEach(function(e){e.removeAttribute(\"ace_nocontext\")}),setTimeout(function(){e.text.style.position=\"\",e.text.style.top==\"0px\"&&(e.text.style.top=t)},0)},e.prototype.blur=function(){this.text.blur()},e.prototype.isFocused=function(){return this.$isFocused},e.prototype.setInputHandler=function(e){this.inputHandler=e},e.prototype.getInputHandler=function(){return this.inputHandler},e.prototype.getElement=function(){return this.text},e.prototype.setCommandMode=function(e){this.commandMode=e,this.text.readOnly=!1},e.prototype.setReadOnly=function(e){this.commandMode||(this.text.readOnly=e)},e.prototype.setCopyWithEmptySelection=function(e){},e.prototype.onContextMenu=function(e){this.afterContextMenu=!0,this.resetSelection(),this.host._emit(\"nativecontextmenu\",{target:this.host,domEvent:e}),this.moveToMouse(e,!0)},e.prototype.moveToMouse=function(e,t){var n=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(t?\"z-index:100000;\":\"\")+(s.isIE?\"opacity:0.1;\":\"\")+\"text-indent: -\"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+\"px;\";var i=this.host.container.getBoundingClientRect(),u=o.computedStyle(this.host.container),a=i.top+(parseInt(u.borderTopWidth)||0),f=i.left+(parseInt(u.borderLeftWidth)||0),l=i.bottom-a-this.text.clientHeight-2,c=function(e){o.translate(n.text,e.clientX-f-2,Math.min(e.clientY-a-2,l))};c(e);if(e.type!=\"mousedown\")return;this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),s.isWin&&r.capture(this.host.container,c,this.onContextMenuClose.bind(this))},e.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},e}();t.TextInput=y,t.$setUserAgentForTests=function(e,t){g=e,v=t}}),ace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";function u(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function a(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var n=t.column-4;else var n=2*t.row-e.start.row-e.end.row;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e(\"../lib/useragent\"),i=0,s=550,o=function(){function e(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler(\"mousedown\",this.onMouseDown.bind(e)),t.setDefaultHandler(\"dblclick\",this.onDoubleClick.bind(e)),t.setDefaultHandler(\"tripleclick\",this.onTripleClick.bind(e)),t.setDefaultHandler(\"quadclick\",this.onQuadClick.bind(e)),t.setDefaultHandler(\"mousewheel\",this.onMouseWheel.bind(e));var n=[\"select\",\"startSelect\",\"selectEnd\",\"selectAllEnd\",\"selectByWordsEnd\",\"selectByLinesEnd\",\"dragWait\",\"dragWaitEnd\",\"focusWait\"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,\"getLineRange\"),e.selectByWords=this.extendSelectionBy.bind(e,\"getWordRange\")}return e.prototype.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,s=e.getButton();if(s!==0){var o=i.getSelectionRange(),u=o.isEmpty();(u||s==1)&&i.selection.moveToPosition(n),s==2&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault());return}this.mousedownEvent.time=Date.now();if(t&&!i.isFocused()){i.focus();if(this.$focusTimeout&&!this.$clickSelection&&!i.inMultiSelectMode){this.setState(\"focusWait\"),this.captureMouse(e);return}}return this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()},e.prototype.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;if(!this.mousedownEvent)return;this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.setStyle(\"ace_selecting\"),this.setState(\"select\")},e.prototype.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(r==-1)e=this.$clickSelection.end;else if(r==1)e=this.$clickSelection.start;else{var i=a(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},e.prototype.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end);if(s==-1&&o<=0){t=this.$clickSelection.end;if(i.end.row!=r.row||i.end.column!=r.column)r=i.start}else if(o==1&&s>=0){t=this.$clickSelection.start;if(i.start.row!=r.row||i.start.column!=r.column)r=i.end}else if(s==-1&&o==1)r=i.end,t=i.start;else{var u=a(this.$clickSelection,r);r=u.cursor,t=u.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},e.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle(\"ace_selecting\")},e.prototype.focusWait=function(){var e=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>i||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},e.prototype.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState(\"select\")):(i=n.selection.getWordRange(t.row,t.column),this.setState(\"selectByWords\")),this.$clickSelection=i,this.select()},e.prototype.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState(\"selectByLines\");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},e.prototype.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState(\"selectAll\")},e.prototype.onMouseWheel=function(e){if(e.getAccelKey())return;e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,o=i?e.wheelX/i:n.vx,u=i?e.wheelY/i:n.vy;i<s&&(o=(o+n.vx)/2,u=(u+n.vy)/2);var a=Math.abs(o/u),f=!1;a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(f=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(f=!0);if(f)n.allowed=r;else if(r-n.allowed<s){var l=Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(u)<=1.5*Math.abs(n.vy);l?(f=!0,n.allowed=r):n.allowed=0}n.t=r,n.vx=o,n.vy=u;if(f)return t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()},e}();o.prototype.selectEnd=o.prototype.selectByLinesEnd,o.prototype.selectAllEnd=o.prototype.selectByLinesEnd,o.prototype.selectByWordsEnd=o.prototype.selectByLinesEnd,t.DefaultHandlers=o}),ace.define(\"ace/lib/scroll\",[\"require\",\"exports\",\"module\"],function(e,t,n){t.preventParentScroll=function(t){t.stopPropagation();var n=t.currentTarget,r=n.scrollHeight>n.clientHeight;r||t.preventDefault()}}),ace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/lib/scroll\"],function(e,t,n){\"use strict\";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}if(typeof n!=\"function\"&&n!==null)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__values||function(e){var t=typeof Symbol==\"function\"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==\"number\")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},s=e(\"./lib/dom\"),o=e(\"./lib/event\"),u=e(\"./range\").Range,a=e(\"./lib/scroll\").preventParentScroll,f=\"ace_tooltip\",l=function(){function e(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}return e.prototype.$init=function(){return this.$element=s.createElement(\"div\"),this.$element.className=f,this.$element.style.display=\"none\",this.$parentNode.appendChild(this.$element),this.$element},e.prototype.getElement=function(){return this.$element||this.$init()},e.prototype.setText=function(e){this.getElement().textContent=e},e.prototype.setHtml=function(e){this.getElement().innerHTML=e},e.prototype.setPosition=function(e,t){var n=this.getElement(),r=n.offsetParent&&n.offsetParent.getBoundingClientRect();n.style.left=e-(r?r.left:0)+\"px\",n.style.top=t-(r?r.top:0)+\"px\"},e.prototype.setClassName=function(e){s.addCssClass(this.getElement(),e)},e.prototype.setTheme=function(e){this.$element.className=f+\" \"+(e.isDark?\"ace_dark \":\"\")+(e.cssClass||\"\")},e.prototype.show=function(e,t,n){e!=null&&this.setText(e),t!=null&&n!=null&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display=\"block\",this.isOpen=!0)},e.prototype.hide=function(e){this.isOpen&&(this.getElement().style.display=\"none\",this.getElement().className=f,this.isOpen=!1)},e.prototype.getHeight=function(){return this.getElement().offsetHeight},e.prototype.getWidth=function(){return this.getElement().offsetWidth},e.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},e}(),c=function(){function e(){this.popups=[]}return e.prototype.addPopup=function(e){this.popups.push(e),this.updatePopups()},e.prototype.removePopup=function(e){var t=this.popups.indexOf(e);t!==-1&&(this.popups.splice(t,1),this.updatePopups())},e.prototype.updatePopups=function(){var e,t,n,r;this.popups.sort(function(e,t){return t.priority-e.priority});var s=[];try{for(var o=i(this.popups),u=o.next();!u.done;u=o.next()){var a=u.value,f=!0;try{for(var l=(n=void 0,i(s)),c=l.next();!c.done;c=l.next()){var h=c.value;if(this.doPopupsOverlap(h,a)){f=!1;break}}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}f?s.push(a):a.hide()}}catch(d){e={error:d}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.doPopupsOverlap=function(e,t){var n=e.getElement().getBoundingClientRect(),r=t.getElement().getBoundingClientRect();return n.left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top},e}(),h=new c;t.popupManager=h,t.Tooltip=l;var p=function(e){function t(t){t===void 0&&(t=document.body);var n=e.call(this,t)||this;n.timeout=undefined,n.lastT=0,n.idleTime=350,n.lastEvent=undefined,n.onMouseOut=n.onMouseOut.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.waitForHover=n.waitForHover.bind(n),n.hide=n.hide.bind(n);var r=n.getElement();return r.style.whiteSpace=\"pre-wrap\",r.style.pointerEvents=\"auto\",r.addEventListener(\"mouseout\",n.onMouseOut),r.tabIndex=-1,r.addEventListener(\"blur\",function(){r.contains(document.activeElement)||this.hide()}.bind(n)),r.addEventListener(\"wheel\",a),n}return r(t,e),t.prototype.addToEditor=function(e){e.on(\"mousemove\",this.onMouseMove),e.on(\"mousedown\",this.hide),e.renderer.getMouseEventTarget().addEventListener(\"mouseout\",this.onMouseOut,!0)},t.prototype.removeFromEditor=function(e){e.off(\"mousemove\",this.onMouseMove),e.off(\"mousedown\",this.hide),e.renderer.getMouseEventTarget().removeEventListener(\"mouseout\",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t.prototype.onMouseMove=function(e,t){this.lastEvent=e,this.lastT=Date.now();var n=t.$mouseHandler.isMousePressed;if(this.isOpen){var r=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(r.row,r.column)||n||this.isOutsideOfText(this.lastEvent))&&this.hide()}if(this.timeout||n)return;this.lastEvent=e,this.timeout=setTimeout(this.waitForHover,this.idleTime)},t.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var e=Date.now()-this.lastT;if(this.idleTime-e>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-e);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},t.prototype.isOutsideOfText=function(e){var t=e.editor,n=e.getDocumentPosition(),r=t.session.getLine(n.row);if(n.column==r.length){var i=t.renderer.pixelToScreenCoordinates(e.clientX,e.clientY),s=t.session.documentToScreenPosition(n.row,n.column);if(s.column!=i.column||s.row!=i.row)return!0}return!1},t.prototype.setDataProvider=function(e){this.$gatherData=e},t.prototype.showForRange=function(e,t,n,r){var i=10;if(r&&r!=this.lastEvent)return;if(this.isOpen&&document.activeElement==this.getElement())return;var s=e.renderer;this.isOpen||(h.addPopup(this),this.$registerCloseEvents(),this.setTheme(s.theme)),this.isOpen=!0,this.addMarker(t,e.session),this.range=u.fromPoints(t.start,t.end);var o=s.textToScreenCoordinates(t.start.row,t.start.column),a=s.scroller.getBoundingClientRect();o.pageX<a.left&&(o.pageX=a.left);var f=this.getElement();f.innerHTML=\"\",f.appendChild(n),f.style.maxHeight=\"\",f.style.display=\"block\";var l=f.clientHeight,c=f.clientWidth,p=window.innerHeight-o.pageY-s.lineHeight,d=!0;o.pageY-l<0&&o.pageY<p&&(d=!1),f.style.maxHeight=(d?o.pageY:p)-i+\"px\",f.style.top=d?\"\":o.pageY+s.lineHeight+\"px\",f.style.bottom=d?window.innerHeight-o.pageY+\"px\":\"\",f.style.left=Math.min(o.pageX,window.innerWidth-c-i)+\"px\"},t.prototype.addMarker=function(e,t){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=t,this.marker=t&&t.addMarker(e,\"ace_highlight-marker\",\"text\")},t.prototype.hide=function(e){if(!e&&document.activeElement==this.getElement())return;if(e&&e.target&&(e.type!=\"keydown\"||e.ctrlKey||e.metaKey)&&this.$element.contains(e.target))return;this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display=\"none\",this.isOpen=!1,h.removePopup(this))},t.prototype.$registerCloseEvents=function(){window.addEventListener(\"keydown\",this.hide,!0),window.addEventListener(\"wheel\",this.hide,!0),window.addEventListener(\"mousedown\",this.hide,!0)},t.prototype.$removeCloseEvents=function(){window.removeEventListener(\"keydown\",this.hide,!0),window.removeEventListener(\"wheel\",this.hide,!0),window.removeEventListener(\"mousedown\",this.hide,!0)},t.prototype.onMouseOut=function(e){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null;if(!this.isOpen)return;if(!e.relatedTarget||this.getElement().contains(e.relatedTarget))return;if(e&&e.currentTarget.contains(e.relatedTarget))return;e.relatedTarget.classList.contains(\"ace_content\")||this.hide()},t}(l);t.HoverTooltip=p}),ace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/tooltip\",\"ace/config\"],function(e,t,n){\"use strict\";function c(e){function a(){var i=u.getDocumentPosition().row,s=t.session.getLength();if(i==s){var o=t.renderer.pixelToScreenCoordinates(0,u.y).row,a=u.$pos;if(o>t.session.documentToScreenRow(a.row,a.column))return c()}r.showTooltip(i);if(!r.isOpen)return;t.on(\"mousewheel\",c),t.on(\"changeSession\",c),window.addEventListener(\"keydown\",c,!0);if(e.$tooltipFollowsMouse)p(u);else{var h=u.getGutterRow(),d=n.$lines.get(h);if(d){var v=d.element.querySelector(\".ace_gutter_annotation\"),m=v.getBoundingClientRect(),g=r.getElement().style;g.left=m.right-f+\"px\",g.top=m.bottom-l+\"px\"}else p(u)}}function c(e){if(e&&e.type===\"keydown\"&&(e.ctrlKey||e.metaKey))return;if(e&&e.type===\"mouseout\"&&(!e.relatedTarget||r.getElement().contains(e.relatedTarget)))return;i&&(i=clearTimeout(i)),r.isOpen&&(r.hideTooltip(),t.off(\"mousewheel\",c),t.off(\"changeSession\",c),window.removeEventListener(\"keydown\",c,!0))}function p(e){r.setPosition(e.x,e.y)}var t=e.editor,n=t.renderer.$gutterLayer,r=new h(t,!0);e.editor.setDefaultHandler(\"guttermousedown\",function(r){if(!t.isFocused()||r.getButton()!=0)return;var i=n.getRegion(r);if(i==\"foldWidgets\")return;var s=r.getDocumentPosition().row,o=t.session.selection;if(r.getShiftKey())o.selectTo(s,0);else{if(r.domEvent.detail==2)return t.selectAll(),r.preventDefault();e.$clickSelection=t.selection.getLineRange(s)}return e.setState(\"selectByLines\"),e.captureMouse(r),r.preventDefault()});var i,u;e.editor.setDefaultHandler(\"guttermousemove\",function(t){var n=t.domEvent.target||t.domEvent.srcElement;if(s.hasCssClass(n,\"ace_fold-widget\")||s.hasCssClass(n,\"ace_custom-widget\"))return c();r.isOpen&&e.$tooltipFollowsMouse&&p(t),u=t;if(i)return;i=setTimeout(function(){i=null,u&&!e.isMousePressed&&a()},50)}),o.addListener(t.renderer.$gutter,\"mouseout\",function(e){u=null;if(!r.isOpen)return;i=setTimeout(function(){i=null,c(e)},50)},t)}var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}if(typeof n!=\"function\"&&n!==null)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__values||function(e){var t=typeof Symbol==\"function\"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==\"number\")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},s=e(\"../lib/dom\"),o=e(\"../lib/event\"),u=e(\"../tooltip\").Tooltip,a=e(\"../config\").nls,f=5,l=3;t.GUTTER_TOOLTIP_LEFT_OFFSET=f,t.GUTTER_TOOLTIP_TOP_OFFSET=l,t.GutterHandler=c;var h=function(e){function t(n,r){r===void 0&&(r=!1);var i=e.call(this,n.container)||this;i.id=\"gt\"+ ++t.$uid,i.editor=n,i.visibleTooltipRow;var s=i.getElement();return s.setAttribute(\"role\",\"tooltip\"),s.setAttribute(\"id\",i.id),s.style.pointerEvents=\"auto\",r&&(i.onMouseOut=i.onMouseOut.bind(i),s.addEventListener(\"mouseout\",i.onMouseOut)),i}return r(t,e),t.prototype.onMouseOut=function(e){if(!this.isOpen)return;if(!e.relatedTarget||this.getElement().contains(e.relatedTarget))return;if(e&&e.currentTarget.contains(e.relatedTarget))return;this.hideTooltip()},t.prototype.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),s=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+s>r&&(t-=20+s),u.prototype.setPosition.call(this,e,t)},Object.defineProperty(t,\"annotationLabels\",{get:function(){return{error:{singular:a(\"gutter-tooltip.aria-label.error.singular\",\"error\"),plural:a(\"gutter-tooltip.aria-label.error.plural\",\"errors\")},security:{singular:a(\"gutter-tooltip.aria-label.security.singular\",\"security finding\"),plural:a(\"gutter-tooltip.aria-label.security.plural\",\"security findings\")},warning:{singular:a(\"gutter-tooltip.aria-label.warning.singular\",\"warning\"),plural:a(\"gutter-tooltip.aria-label.warning.plural\",\"warnings\")},info:{singular:a(\"gutter-tooltip.aria-label.info.singular\",\"information message\"),plural:a(\"gutter-tooltip.aria-label.info.plural\",\"information messages\")},hint:{singular:a(\"gutter-tooltip.aria-label.hint.singular\",\"suggestion\"),plural:a(\"gutter-tooltip.aria-label.hint.plural\",\"suggestions\")}}},enumerable:!1,configurable:!0}),t.prototype.showTooltip=function(e){var n,r=this.editor.renderer.$gutterLayer,i=r.$annotations[e],o;i?o={displayText:Array.from(i.displayText),type:Array.from(i.type)}:o={displayText:[],type:[]};var u=r.session.getFoldLine(e);if(u&&r.$showFoldedAnnotations){var a={error:[],security:[],warning:[],info:[],hint:[]},f={error:1,security:2,warning:3,info:4,hint:5},l;for(var c=e+1;c<=u.end.row;c++){if(!r.$annotations[c])continue;for(var h=0;h<r.$annotations[c].text.length;h++){var p=r.$annotations[c].type[h];a[p].push(r.$annotations[c].text[h]);if(!l||f[p]<f[l])l=p}}if([\"error\",\"security\",\"warning\"].includes(l)){var d=\"\".concat(t.annotationsToSummaryString(a),\" in folded code.\");o.displayText.push(d),o.type.push(l+\"_fold\")}}if(o.displayText.length===0)return this.hideTooltip();var v={error:[],security:[],warning:[],info:[],hint:[]},m=r.$useSvgGutterIcons?\"ace_icon_svg\":\"ace_icon\";for(var c=0;c<o.displayText.length;c++){var g=s.createElement(\"span\"),y=s.createElement(\"span\");(n=y.classList).add.apply(n,[\"ace_\".concat(o.type[c]),m]),y.setAttribute(\"aria-label\",\"\".concat(t.annotationLabels[o.type[c].replace(\"_fold\",\"\")].singular)),y.setAttribute(\"role\",\"img\"),y.appendChild(s.createTextNode(\" \")),g.appendChild(y),g.appendChild(s.createTextNode(o.displayText[c])),g.appendChild(s.createElement(\"br\")),v[o.type[c].replace(\"_fold\",\"\")].push(g)}var b=this.getElement();s.removeChildren(b),v.error.forEach(function(e){return b.appendChild(e)}),v.security.forEach(function(e){return b.appendChild(e)}),v.warning.forEach(function(e){return b.appendChild(e)}),v.info.forEach(function(e){return b.appendChild(e)}),v.hint.forEach(function(e){return b.appendChild(e)}),b.setAttribute(\"aria-live\",\"polite\"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName(\"ace_gutter-tooltip\"));var w=this.$findLinkedAnnotationNode(e);w&&w.setAttribute(\"aria-describedby\",this.id),this.show(),this.visibleTooltipRow=e,this.editor._signal(\"showGutterTooltip\",this)},t.prototype.$findLinkedAnnotationNode=function(e){var t=this.$findCellByRow(e);if(t){var n=t.element;if(n.childNodes.length>2)return n.childNodes[2]}},t.prototype.$findCellByRow=function(e){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(t){return t.row===e})},t.prototype.hideTooltip=function(){if(!this.isOpen)return;this.$element.removeAttribute(\"aria-live\"),this.hide();if(this.visibleTooltipRow!=undefined){var e=this.$findLinkedAnnotationNode(this.visibleTooltipRow);e&&e.removeAttribute(\"aria-describedby\")}this.visibleTooltipRow=undefined,this.editor._signal(\"hideGutterTooltip\",this)},t.annotationsToSummaryString=function(e){var n,r,s=[],o=[\"error\",\"security\",\"warning\",\"info\",\"hint\"];try{for(var u=i(o),a=u.next();!a.done;a=u.next()){var f=a.value;if(!e[f].length)continue;var l=e[f].length===1?t.annotationLabels[f].singular:t.annotationLabels[f].plural;s.push(\"\".concat(e[f].length,\" \").concat(l))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s.join(\", \")},t}(u);h.$uid=0,t.GutterTooltip=h}),ace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";var r=e(\"../lib/event\"),i=e(\"../lib/useragent\"),s=function(){function e(e,t){this.speed,this.wheelX,this.wheelY,this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return e.prototype.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},e.prototype.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},e.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},e.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},e.prototype.getGutterRow=function(){var e=this.getDocumentPosition().row,t=this.editor.session.documentToScreenRow(e,0),n=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return t-n},e.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},e.prototype.getButton=function(){return r.getButton(this.domEvent)},e.prototype.getShiftKey=function(){return this.domEvent.shiftKey},e.prototype.getAccelKey=function(){return i.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},e}();t.MouseEvent=s}),ace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";function f(e){function T(e,n){var r=Date.now(),i=!n||e.row!=n.row,s=!n||e.column!=n.column;if(!S||i||s)t.moveCursorToPosition(e),S=r,x={x:p,y:d};else{var o=l(x.x,x.y,p,d);o>a?S=null:r-S>=u&&(t.renderer.scrollCursorIntoView(),S=null)}}function N(e,n){var r=Date.now(),i=t.renderer.layerConfig.lineHeight,s=t.renderer.layerConfig.characterWidth,u=t.renderer.scroller.getBoundingClientRect(),a={x:{left:p-u.left,right:u.right-p},y:{top:d-u.top,bottom:u.bottom-d}},f=Math.min(a.x.left,a.x.right),l=Math.min(a.y.top,a.y.bottom),c={row:e.row,column:e.column};f/s<=2&&(c.column+=a.x.left<a.x.right?-3:2),l/i<=1&&(c.row+=a.y.top<a.y.bottom?-1:1);var h=e.row!=c.row,v=e.column!=c.column,m=!n||e.row!=n.row;h||v&&!m?E?r-E>=o&&t.renderer.scrollCursorIntoView(c):E=r:E=null}function C(){var e=g;g=t.renderer.screenToTextCoordinates(p,d),T(g,e),N(g,e)}function k(){m=t.selection.toOrientedRange(),h=t.session.addMarker(m,\"ace_selection\",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(v),C(),v=setInterval(C,20),y=0,i.addListener(document,\"mousemove\",O)}function L(){clearInterval(v),t.session.removeMarker(h),h=null,t.selection.fromOrientedRange(m),t.isFocused()&&!w&&t.$resetCursorStyle(),m=null,g=null,y=0,E=null,S=null,i.removeListener(document,\"mousemove\",O)}function O(){A==null&&(A=setTimeout(function(){A!=null&&h&&L()},20))}function M(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return e==\"text/plain\"||e==\"Text\"})}function _(e){var t=[\"copy\",\"copymove\",\"all\",\"uninitialized\"],n=[\"move\",\"copymove\",\"linkmove\",\"all\",\"uninitialized\"],r=s.isMac?e.altKey:e.ctrlKey,i=\"uninitialized\";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o=\"none\";return r&&t.indexOf(i)>=0?o=\"copy\":n.indexOf(i)>=0?o=\"move\":t.indexOf(i)>=0&&(o=\"copy\"),o}var t=e.editor,n=r.createElement(\"div\");n.style.cssText=\"top:-100px;position:absolute;z-index:2147483647;opacity:0.5\",n.textContent=\"\\u00a0\";var f=[\"dragWait\",\"dragWaitEnd\",\"startDrag\",\"dragReadyEnd\",\"onMouseDrag\"];f.forEach(function(t){e[t]=this[t]},this),t.on(\"mousedown\",this.onMouseDown.bind(e));var c=t.container,h,p,d,v,m,g,y=0,b,w,E,S,x;this.onDragStart=function(e){if(this.cancelDrag||!c.draggable){var r=this;return setTimeout(function(){r.startSelect(),r.captureMouse(e)},0),e.preventDefault()}m=t.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=t.getReadOnly()?\"copy\":\"copyMove\",t.container.appendChild(n),i.setDragImage&&i.setDragImage(n,0,0),setTimeout(function(){t.container.removeChild(n)}),i.clearData(),i.setData(\"Text\",t.session.getTextRange()),w=!0,this.setState(\"drag\")},this.onDragEnd=function(e){c.draggable=!1,w=!1,this.setState(null);if(!t.getReadOnly()){var n=e.dataTransfer.dropEffect;!b&&n==\"move\"&&t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle(\"ace_dragging\"),this.editor.renderer.setCursorStyle(\"\")},this.onDragEnter=function(e){if(t.getReadOnly()||!M(e.dataTransfer))return;return p=e.clientX,d=e.clientY,h||k(),y++,e.dataTransfer.dropEffect=b=_(e),i.preventDefault(e)},this.onDragOver=function(e){if(t.getReadOnly()||!M(e.dataTransfer))return;return p=e.clientX,d=e.clientY,h||(k(),y++),A!==null&&(A=null),e.dataTransfer.dropEffect=b=_(e),i.preventDefault(e)},this.onDragLeave=function(e){y--;if(y<=0&&h)return L(),b=null,i.preventDefault(e)},this.onDrop=function(e){if(!g)return;var n=e.dataTransfer;if(w)switch(b){case\"move\":m.contains(g.row,g.column)?m={start:g,end:g}:m=t.moveText(m,g);break;case\"copy\":m=t.moveText(m,g,!0)}else{var r=n.getData(\"Text\");m={start:g,end:t.session.insert(g,r)},t.focus(),b=null}return L(),i.preventDefault(e)},i.addListener(c,\"dragstart\",this.onDragStart.bind(e),t),i.addListener(c,\"dragend\",this.onDragEnd.bind(e),t),i.addListener(c,\"dragenter\",this.onDragEnter.bind(e),t),i.addListener(c,\"dragover\",this.onDragOver.bind(e),t),i.addListener(c,\"dragleave\",this.onDragLeave.bind(e),t),i.addListener(c,\"drop\",this.onDrop.bind(e),t);var A=null}function l(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var r=e(\"../lib/dom\"),i=e(\"../lib/event\"),s=e(\"../lib/useragent\"),o=200,u=200,a=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle(\"ace_dragging\"),this.editor.renderer.setCursorStyle(\"\"),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle(\"ace_dragging\");var n=s.isWin?\"default\":\"move\";e.renderer.setCursorStyle(n),this.setState(\"dragReady\")},this.onMouseDrag=function(e){var t=this.editor.container;if(s.isIE&&this.state==\"dragReady\"){var n=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if(this.state===\"dragWait\"){var n=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(!this.$dragEnabled)return;this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(i===1&&r===0&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;\"unselectable\"in o&&(o.unselectable=\"on\");if(t.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;var u=t.container;u.draggable=!0}this.setState(\"dragWait\")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}).call(f.prototype),t.DragdropHandler=f}),ace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";var r=e(\"./mouse_event\").MouseEvent,i=e(\"../lib/event\"),s=e(\"../lib/dom\");t.addTouchListeners=function(e,t){function b(){var e=window.navigator&&window.navigator.clipboard,r=!1,i=function(){var n=t.getCopyText(),i=t.session.getUndoManager().hasUndo();y.replaceChild(s.buildDom(r?[\"span\",!n&&o(\"selectall\")&&[\"span\",{\"class\":\"ace_mobile-button\",action:\"selectall\"},\"Select All\"],n&&o(\"copy\")&&[\"span\",{\"class\":\"ace_mobile-button\",action:\"copy\"},\"Copy\"],n&&o(\"cut\")&&[\"span\",{\"class\":\"ace_mobile-button\",action:\"cut\"},\"Cut\"],e&&o(\"paste\")&&[\"span\",{\"class\":\"ace_mobile-button\",action:\"paste\"},\"Paste\"],i&&o(\"undo\")&&[\"span\",{\"class\":\"ace_mobile-button\",action:\"undo\"},\"Undo\"],o(\"find\")&&[\"span\",{\"class\":\"ace_mobile-button\",action:\"find\"},\"Find\"],o(\"openCommandPalette\")&&[\"span\",{\"class\":\"ace_mobile-button\",action:\"openCommandPalette\"},\"Palette\"]]:[\"span\"]),y.firstChild)},o=function(e){return t.commands.canExecute(e,t)},u=function(n){var s=n.target.getAttribute(\"action\");if(s==\"more\"||!r)return r=!r,i();if(s==\"paste\")e.readText().then(function(e){t.execCommand(s,e)});else if(s){if(s==\"cut\"||s==\"copy\")e?e.writeText(t.getCopyText()):document.execCommand(\"copy\");t.execCommand(s)}y.firstChild.style.display=\"none\",r=!1,s!=\"openCommandPalette\"&&t.focus()};y=s.buildDom([\"div\",{\"class\":\"ace_mobile-menu\",ontouchstart:function(e){n=\"menu\",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),u(e)},onclick:u},[\"span\"],[\"span\",{\"class\":\"ace_mobile-button\",action:\"more\"},\"...\"]],t.container)}function w(){if(!t.getOption(\"enableMobileMenu\")){y&&E();return}y||b();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.renderer.textToScreenCoordinates(0,0).pageX,i=t.renderer.scrollLeft,s=t.container.getBoundingClientRect();y.style.top=n.pageY-s.top-3+\"px\",n.pageX-s.left<s.width-70?(y.style.left=\"\",y.style.right=\"10px\"):(y.style.right=\"\",y.style.left=r+i-s.left+\"px\"),y.style.display=\"\",y.firstChild.style.display=\"none\",t.on(\"input\",E)}function E(e){y&&(y.style.display=\"none\"),t.off(\"input\",E)}function S(){l=null,clearTimeout(l);var e=t.selection.getRange(),r=e.contains(p.row,p.column);if(e.isEmpty()||!r)t.selection.moveToPosition(p),t.selection.selectWord();n=\"wait\",w()}function x(){l=null,clearTimeout(l),t.selection.moveToPosition(p);var e=d>=2?t.selection.getLineRange(p.row):t.session.getBracketRange(p);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),n=\"wait\"}function T(){h+=60,c=setInterval(function(){h--<=0&&(clearInterval(c),c=null),Math.abs(v)<.01&&(v=0),Math.abs(m)<.01&&(m=0),h<20&&(v=.9*v),h<20&&(m=.9*m);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*m),e==t.session.getScrollTop()&&(h=0)},10)}var n=\"scroll\",o,u,a,f,l,c,h=0,p,d=0,v=0,m=0,g,y;i.addListener(e,\"contextmenu\",function(e){if(!g)return;var n=t.textInput.getElement();n.focus()},t),i.addListener(e,\"touchstart\",function(e){var i=e.touches;if(l||i.length>1){clearTimeout(l),l=null,a=-1,n=\"zoom\";return}g=t.$mouseHandler.isMousePressed=!0;var s=t.renderer.layerConfig.lineHeight,c=t.renderer.layerConfig.lineHeight,y=e.timeStamp;f=y;var b=i[0],w=b.clientX,E=b.clientY;Math.abs(o-w)+Math.abs(u-E)>s&&(a=-1),o=e.clientX=w,u=e.clientY=E,v=m=0;var T=new r(e,t);p=T.getDocumentPosition();if(y-a<500&&i.length==1&&!h)d++,e.preventDefault(),e.button=0,x();else{d=0;var N=t.selection.cursor,C=t.selection.isEmpty()?N:t.selection.anchor,k=t.renderer.$cursorLayer.getPixelPosition(N,!0),L=t.renderer.$cursorLayer.getPixelPosition(C,!0),A=t.renderer.scroller.getBoundingClientRect(),O=t.renderer.layerConfig.offset,M=t.renderer.scrollLeft,_=function(e,t){return e/=c,t=t/s-.75,e*e+t*t};if(e.clientX<A.left){n=\"zoom\";return}var D=_(e.clientX-A.left-k.left+M,e.clientY-A.top-k.top+O),P=_(e.clientX-A.left-L.left+M,e.clientY-A.top-L.top+O);D<3.5&&P<3.5&&(n=D>P?\"cursor\":\"anchor\"),P<3.5?n=\"anchor\":D<3.5?n=\"cursor\":n=\"scroll\",l=setTimeout(S,450)}a=y},t),i.addListener(e,\"touchend\",function(e){g=t.$mouseHandler.isMousePressed=!1,c&&clearInterval(c),n==\"zoom\"?(n=\"\",h=0):l?(t.selection.moveToPosition(p),h=0,w()):n==\"scroll\"?(T(),E()):w(),clearTimeout(l),l=null},t),i.addListener(e,\"touchmove\",function(e){l&&(clearTimeout(l),l=null);var i=e.touches;if(i.length>1||n==\"zoom\")return;var s=i[0],a=o-s.clientX,c=u-s.clientY;if(n==\"wait\"){if(!(a*a+c*c>4))return e.preventDefault();n=\"cursor\"}o=s.clientX,u=s.clientY,e.clientX=s.clientX,e.clientY=s.clientY;var h=e.timeStamp,p=h-f;f=h;if(n==\"scroll\"){var d=new r(e,t);d.speed=1,d.wheelX=a,d.wheelY=c,10*Math.abs(a)<Math.abs(c)&&(a=0),10*Math.abs(c)<Math.abs(a)&&(c=0),p!=0&&(v=a/p,m=c/p),t._emit(\"mousewheel\",d),d.propagationStopped||(v=m=0)}else{var g=new r(e,t),y=g.getDocumentPosition();n==\"cursor\"?t.selection.moveCursorToPosition(y):n==\"anchor\"&&t.selection.setSelectionAnchor(y.row,y.column),t.renderer.scrollCursorIntoView(y),e.preventDefault()}},t)}}),ace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"],function(e,t,n){\"use strict\";var r=e(\"../lib/event\"),i=e(\"../lib/useragent\"),s=e(\"./default_handlers\").DefaultHandlers,o=e(\"./default_gutter_handler\").GutterHandler,u=e(\"./mouse_event\").MouseEvent,a=e(\"./dragdrop_handler\").DragdropHandler,f=e(\"./touch_handler\").addTouchListeners,l=e(\"../config\"),c=function(){function e(e){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var t=this;this.editor=e,new s(this),new o(this),new a(this);var n=function(t){var n=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());n&&window.focus(),e.focus(),setTimeout(function(){e.isFocused()||e.focus()})},u=e.renderer.getMouseEventTarget();r.addListener(u,\"click\",this.onMouseEvent.bind(this,\"click\"),e),r.addListener(u,\"mousemove\",this.onMouseMove.bind(this,\"mousemove\"),e),r.addMultiMouseDownListener([u,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,\"onMouseEvent\",e),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,\"mousewheel\"),e),f(e.container,e);var l=e.renderer.$gutter;r.addListener(l,\"mousedown\",this.onMouseEvent.bind(this,\"guttermousedown\"),e),r.addListener(l,\"click\",this.onMouseEvent.bind(this,\"gutterclick\"),e),r.addListener(l,\"dblclick\",this.onMouseEvent.bind(this,\"gutterdblclick\"),e),r.addListener(l,\"mousemove\",this.onMouseEvent.bind(this,\"guttermousemove\"),e),r.addListener(u,\"mousedown\",n,e),r.addListener(l,\"mousedown\",n,e),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,\"mousedown\",n,e),r.addListener(e.renderer.scrollBarH.element,\"mousedown\",n,e)),e.on(\"mousemove\",function(n){if(t.state||t.$dragDelay||!t.$dragEnabled)return;var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),s=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?s.setCursorStyle(\"default\"):s.setCursorStyle(\"\")},e)}return e.prototype.onMouseEvent=function(e,t){if(!this.editor.session)return;this.editor._emit(e,new u(t,this.editor))},e.prototype.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!n||!n.length)return;this.editor._emit(e,new u(t,this.editor))},e.prototype.onMouseWheel=function(e,t){var n=new u(t,this.editor);n.speed=this.$scrollSpeed*2,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},e.prototype.setState=function(e){this.state=e},e.prototype.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,s=this.editor.renderer;s.$isMousePressed=!0;var o=this,a=!0,f=function(e){if(!e)return;if(i.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new u(e,o.editor),o.$mouseMoved=!0},l=function(e){n.off(\"beforeEndOperation\",p),a=!1,n.session&&c(),o[o.state+\"End\"]&&o[o.state+\"End\"](e),o.state=\"\",o.isMousePressed=s.$isMousePressed=!1,s.$keepTextAreaAtCursor&&s.$moveTextAreaToCursor(),o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent(\"mouseup\",e),n.endOperation()},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1},h=function(){a&&(c(),r.nextFrame(h))};if(i.isOldIE&&e.domEvent.type==\"dblclick\")return setTimeout(function(){l(e)});var p=function(e){if(!o.releaseMouse)return;n.curOp.command.name&&n.curOp.selectionChanged&&(o[o.state+\"End\"]&&o[o.state+\"End\"](),o.state=\"\",o.releaseMouse())};n.on(\"beforeEndOperation\",p),n.startOperation({command:{name:\"mouse\"}}),o.$onCaptureMouseMove=f,o.releaseMouse=r.capture(this.editor.container,f,l),h()},e.prototype.cancelContextMenu=function(){var e=function(t){if(t&&t.domEvent&&t.domEvent.type!=\"contextmenu\")return;this.editor.off(\"nativecontextmenu\",e),t&&t.domEvent&&r.stopEvent(t.domEvent)}.bind(this);setTimeout(e,10),this.editor.on(\"nativecontextmenu\",e)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();c.prototype.releaseMouse=null,l.defineOptions(c.prototype,\"mouseHandler\",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=c}),ace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";var r=e(\"../lib/dom\"),i=function(){function e(e){e.on(\"click\",function(t){var n=t.getDocumentPosition(),i=e.session,s=i.getFoldAt(n.row,n.column,1);s&&(t.getAccelKey()?i.removeFold(s):i.expandFold(s),t.stop());var o=t.domEvent&&t.domEvent.target;o&&r.hasCssClass(o,\"ace_inline_button\")&&r.hasCssClass(o,\"ace_toggle_wrap\")&&(i.setOption(\"wrap\",!i.getUseWrapMode()),e.renderer.scrollCursorIntoView())}),e.on(\"gutterclick\",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n==\"foldWidgets\"){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on(\"gutterdblclick\",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n==\"foldWidgets\"){var r=t.getDocumentPosition().row,i=e.session,s=i.getParentFoldRangeData(r,!0),o=s.range||s.firstRange;if(o){r=o.start.row;var u=i.getFoldAt(r,i.getLine(r).length,1);u?i.removeFold(u):(i.addFold(\"...\",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}})}return e}();t.FoldHandler=i}),ace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"],function(e,t,n){\"use strict\";var r=e(\"../lib/keys\"),i=e(\"../lib/event\"),s=function(){function e(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}return e.prototype.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},e.prototype.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]==e)return;while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)},e.prototype.addKeyboardHandler=function(e,t){if(!e)return;typeof e==\"function\"&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);n!=-1&&this.$handlers.splice(n,1),t==undefined?this.$handlers.push(e):this.$handlers.splice(t,0,e),n==-1&&e.attach&&e.attach(this.$editor)},e.prototype.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t==-1?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},e.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},e.prototype.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||\"\"}).filter(Boolean).join(\" \")},e.prototype.$callKeyboardHandlers=function(e,t,n,r){var s,o=!1,u=this.$editor.commands;for(var a=this.$handlers.length;a--;){s=this.$handlers[a].handleKeyboard(this.$data,e,t,n,r);if(!s||!s.command)continue;s.command==\"null\"?o=!0:o=u.exec(s.command,this.$editor,s.args,r),o&&r&&e!=-1&&s[\"passEvent\"]!=1&&s.command[\"passEvent\"]!=1&&i.stopEvent(r);if(o)break}return!o&&e==-1&&(s={command:\"insertstring\"},o=u.exec(\"insertstring\",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal(\"keyboardActivity\",s),o},e.prototype.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);return this.$callKeyboardHandlers(t,i,n,e)},e.prototype.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)},e}();t.KeyBinding=s}),ace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";function F(e,t,n,r){var i=s?d:p,c=null,h=null,v=null,m=0,g=null,y=null,b=-1,w=null,E=null,T=[];if(!r)for(w=0,r=[];w<n;w++)r[w]=R(e[w]);o=s,u=!1,a=!1,f=!1,l=!1;for(E=0;E<n;E++){c=m,T[E]=h=q(e,r,T,E),m=i[c][h],g=m&240,m&=15,t[E]=v=i[m][5];if(g>0)if(g==16){for(w=b;w<E;w++)t[w]=1;b=-1}else b=-1;y=i[m][6];if(y)b==-1&&(b=E);else if(b>-1){for(w=b;w<E;w++)t[w]=v;b=-1}r[E]==S&&(t[E]=0),o|=v}if(l)for(w=0;w<n;w++)if(r[w]==x){t[w]=s;for(var C=w-1;C>=0;C--){if(r[C]!=N)break;t[C]=s}}}function I(e,t,n){if(o<e)return;if(e==1&&s==m&&!f){n.reverse();return}var r=n.length,i=0,u,a,l,c;while(i<r){if(t[i]>=e){u=i+1;while(u<r&&t[u]>=e)u++;for(a=i,l=u-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;i=u}i++}}function q(e,t,n,r){var i=t[r],o,c,h,p;switch(i){case g:case y:u=!1;case E:case w:return i;case b:return u?w:b;case T:return u=!0,a=!0,y;case N:return E;case C:if(r<1||r+1>=t.length||(o=n[r-1])!=b&&o!=w||(c=t[r+1])!=b&&c!=w)return E;return u&&(c=w),c==o?c:E;case k:o=r>0?n[r-1]:S;if(o==b&&r+1<t.length&&t[r+1]==b)return b;return E;case L:if(r>0&&n[r-1]==b)return b;if(u)return E;p=r+1,h=t.length;while(p<h&&t[p]==L)p++;if(p<h&&t[p]==b)return b;return E;case A:h=t.length,p=r+1;while(p<h&&t[p]==A)p++;if(p<h){var d=e[r],v=d>=1425&&d<=2303||d==64286;o=t[p];if(v&&(o==y||o==T))return y}if(r<1||(o=t[r-1])==S)return E;return n[r-1];case S:return u=!1,f=!0,s;case x:return l=!0,E;case O:case M:case D:case P:case _:u=!1;case H:return E}}function R(e){var t=e.charCodeAt(0),n=t>>8;return n==0?t>191?g:B[t]:n==5?/[\\u0591-\\u05f4]/.test(e)?y:g:n==6?/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(e)?A:/[\\u0660-\\u0669\\u066b-\\u066c]/.test(e)?w:t==1642?L:/[\\u06f0-\\u06f9]/.test(e)?b:T:n==32&&t<=8287?j[t&255]:n==254?t>=65136?T:E:E}function U(e){return e>=\"\\u064b\"&&e<=\"\\u0655\"}var r=[\"\\u0621\",\"\\u0641\"],i=[\"\\u063a\",\"\\u064a\"],s=0,o=0,u=!1,a=!1,f=!1,l=!1,c=!1,h=!1,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v=0,m=1,g=0,y=1,b=2,w=3,E=4,S=5,x=6,T=7,N=8,C=9,k=10,L=11,A=12,O=13,M=14,_=15,D=16,P=17,H=18,B=[H,H,H,H,H,H,H,H,H,x,S,x,N,S,H,H,H,H,H,H,H,H,H,H,H,H,H,H,S,S,S,x,N,E,E,L,L,L,E,E,E,E,E,k,C,k,C,C,b,b,b,b,b,b,b,b,b,b,C,E,E,E,E,E,E,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,E,E,E,E,E,E,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,E,E,E,E,H,H,H,H,H,H,S,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,C,E,L,L,L,L,E,E,E,E,g,E,E,H,E,E,L,L,b,b,E,g,E,E,E,b,g,E,E,E,E,E],j=[N,N,N,N,N,N,N,N,N,N,N,H,H,H,g,y,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,N,S,O,M,_,D,P,C,L,L,L,L,L,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,C,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,N];t.L=g,t.R=y,t.EN=b,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT=\"\\u00b7\",t.doBidiReorder=function(e,n,r){if(e.length<2)return{};var i=e.split(\"\"),o=new Array(i.length),u=new Array(i.length),a=[];s=r?m:v,F(i,a,i.length,n);for(var f=0;f<o.length;o[f]=f,f++);I(2,a,o),I(1,a,o);for(var f=0;f<o.length-1;f++)n[f]===w?a[f]=t.AN:a[f]===y&&(n[f]>T&&n[f]<O||n[f]===E||n[f]===H)?a[f]=t.ON_R:f>0&&i[f-1]===\"\\u0644\"&&/\\u0622|\\u0623|\\u0625|\\u0627/.test(i[f])&&(a[f-1]=a[f]=t.R_H,f++);i[i.length-1]===t.DOT&&(a[i.length-1]=t.B),i[0]===\"\\u202b\"&&(a[0]=t.RLE);for(var f=0;f<o.length;f++)u[f]=a[o[f]];return{logicalFromVisual:o,bidiLevels:u}},t.hasBidiCharacters=function(e,t){var n=!1;for(var r=0;r<e.length;r++)t[r]=R(e.charAt(r)),!n&&(t[r]==y||t[r]==T||t[r]==w)&&(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}}),ace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"],function(e,t,n){\"use strict\";var r=e(\"./lib/bidiutil\"),i=e(\"./lib/lang\"),s=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/,o=function(){function e(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL=\"\\u00ac\",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line=\"\",this.wrapIndent=0,this.EOF=\"\\u00b6\",this.RLE=\"\\u202b\",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(e.getValue())}return e.prototype.isBidiRow=function(e,t,n){return this.seenBidi?(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},e.prototype.onChange=function(e){this.seenBidi?this.currentRow=null:e.action==\"insert\"&&s.test(e.lines.join(\"\\n\"))&&(this.seenBidi=!0,this.currentRow=null)},e.prototype.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},e.prototype.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n,r=this.session.$getRowCacheIndex(t,this.currentRow);while(this.currentRow-e>0){n=this.session.$getRowCacheIndex(t,this.currentRow-e-1);if(n!==r)break;r=n,e++}}else e=this.currentRow;return e},e.prototype.updateRowLine=function(e,t){e===undefined&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1,s=n?this.EOF:this.EOL;this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE;if(this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(t===undefined&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t]),t==o.length&&(this.line+=this.showInvisibles?s:r.DOT))}else this.line+=this.showInvisibles?s:r.DOT;var u=this.session,a=0,f;this.line=this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g,function(e,t){return e===\"\t\"||u.isFullWidth(e.charCodeAt(0))?(f=e===\"\t\"?u.getScreenTabSize(t+a):2,a+=f-1,i.stringRepeat(r.DOT,f)):e}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},e.prototype.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},e.prototype.markAsDirty=function(){this.currentRow=null},e.prototype.updateCharacterWidths=function(e){if(this.characterWidth===e.$characterSize.width)return;this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth(\"\\u05d4\");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=n*.45,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null},e.prototype.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},e.prototype.setEolChar=function(e){this.EOL=e},e.prototype.setContentWidth=function(e){this.contentWidth=e},e.prototype.isRtlLine=function(e){return this.$isRtl?!0:e!=undefined?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir},e.prototype.setRtlDirection=function(e,t){var n=e.getCursorPosition();for(var r=e.selection.getSelectionAnchor().row;r<=n.row;r++)!t&&e.session.getLine(r).charAt(0)===e.session.$bidiHandler.RLE?e.session.doc.removeInLine(r,0,1):t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE)},e.prototype.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,i=r.getVisualFromLogicalIdx(n,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&e<=t&&s[i]%2!==0&&i++;for(var u=0;u<i;u++)o+=this.charWidths[s[u]];return!this.session.getOverwrite()&&e>t&&s[i]%2===0&&(o+=this.charWidths[s[i]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},e.prototype.getSelections=function(e,t){var n=this.bidiMap,r=n.bidiLevels,i,s=[],o=0,u=Math.min(e,t)-this.wrapIndent,a=Math.max(e,t)-this.wrapIndent,f=!1,l=!1,c=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,p=0;p<r.length;p++)h=n.logicalFromVisual[p],i=r[p],f=h>=u&&h<a,f&&!l?c=o:!f&&l&&s.push({left:c,width:o-c}),o+=this.charWidths[i],l=f;f&&p===r.length&&s.push({left:c,width:o-c});if(this.isRtlDir)for(var d=0;d<s.length;d++)s[d].left+=this.rtlLineOffset;return s},e.prototype.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,e=Math.max(e,0),n=0,r=0,i=this.bidiMap.bidiLevels,s=this.charWidths[i[r]];this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);while(e>n+s/2){n+=s;if(r===i.length-1){s=0;break}s=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!==0&&i[r]%2===0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2===0&&i[r]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&s===0&&i[r-1]%2===0||!this.isRtlDir&&r===0&&i[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!==0&&s!==0&&r--,t=this.bidiMap.logicalFromVisual[r]),t===0&&this.isRtlDir&&t++,t+this.wrapIndent},e}();t.BidiHandler=o}),ace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/lang\"),s=e(\"./lib/event_emitter\").EventEmitter,o=e(\"./range\").Range,u=function(){function e(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on(\"change\",function(e){t.$cursorChanged=!0,t.$silent||t._emit(\"changeCursor\"),!t.$isEmpty&&!t.$silent&&t._emit(\"changeSelection\"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.anchor.on(\"change\",function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit(\"changeSelection\")})}return e.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},e.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},e.prototype.getCursor=function(){return this.lead.getPosition()},e.prototype.setAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},e.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},e.prototype.getSelectionLead=function(){return this.lead.getPosition()},e.prototype.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},e.prototype.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},e.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit(\"changeSelection\"))},e.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},e.prototype.setRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},e.prototype.$setSelection=function(e,t,n,r){if(this.$silent)return;var i=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit(\"changeCursor\"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||s)&&this._emit(\"changeSelection\")},e.prototype.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},e.prototype.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},e.prototype.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},e.prototype.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},e.prototype.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},e.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},e.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},e.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},e.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},e.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},e.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},e.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},e.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},e.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},e.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},e.prototype.getWordRange=function(e,t){if(typeof t==\"undefined\"){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},e.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},e.prototype.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},e.prototype.getLineRange=function(e,t){var n=typeof e==\"number\"?e:this.lead.row,r,i=this.session.getFoldLine(n);return i?(n=i.start.row,r=i.end.row):r=n,t===!0?new o(n,0,r,this.session.getLine(r).length):new o(n,0,r+1,0)},e.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},e.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},e.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},e.prototype.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(\" \").length-1==t},e.prototype.moveCursorLeft=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(e.column===0)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},e.prototype.moveCursorRight=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),e=this.lead;this.wouldMoveIntoSoftTab(e,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},e.prototype.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),s=i.match(/^\\s*/);s[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(r.column+=s[0].length),this.moveCursorToPosition(r)},e.prototype.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},e.prototype.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},e.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},e.prototype.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i){this.moveCursorTo(i.end.row,i.end.column);return}this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t));if(t>=n.length){this.moveCursorTo(e,n.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)},e.prototype.moveCursorLongWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var r=this.session.getFoldStringAt(e,t,-1);r==null&&(r=this.doc.getLine(e).substring(0,t));var s=i.stringReverse(r);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(t-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0);if(t<=0){this.moveCursorTo(e,0),this.moveCursorLeft(),e>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(s)&&(t-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)},e.prototype.$shortWordEndIndex=function(e){var t=0,n,r=/\\s/,i=this.session.tokenRe;i.lastIndex=0;if(this.session.tokenRe.exec(e))t=this.session.tokenRe.lastIndex;else{while((n=e[t])&&r.test(n))t++;if(t<1){i.lastIndex=0;while((n=e[t])&&!i.test(n)){i.lastIndex=0,t++;if(r.test(n)){if(t>2){t--;break}while((n=e[t])&&r.test(n))t++;if(t>2)break}}}}return i.lastIndex=0,t},e.prototype.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var s=this.doc.getLength();do e++,r=this.doc.getLine(e);while(e<s&&/^\\s*$/.test(r));/^\\s+/.test(r)||(r=\"\"),t=0}var o=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+o)},e.prototype.moveCursorShortWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1))return this.moveCursorTo(n.start.row,n.start.column);var r=this.session.getLine(e).substring(0,t);if(t===0){do e--,r=this.doc.getLine(e);while(e>0&&/^\\s*$/.test(r));t=r.length,/\\s+$/.test(r)||(r=\"\")}var s=i.stringReverse(r),o=this.$shortWordEndIndex(s);return this.moveCursorTo(e,t-o)},e.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},e.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},e.prototype.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column),r;t===0&&(e!==0&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(r=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(r/this.session.$bidiHandler.charWidths[0])):r=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);if(e!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];e<0?e-=i.rowsAbove||0:e>0&&(e+=i.rowCount-(i.rowsAbove||0))}var s=this.session.screenToDocumentPosition(n.row+e,n.column,r);e!==0&&t===0&&s.row===this.lead.row&&s.column===this.lead.column,this.moveCursorTo(s.row,s.column+t,t===0)},e.prototype.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},e.prototype.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\\uDC00-\\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},e.prototype.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},e.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},e.prototype.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},e.prototype.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},e.prototype.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(r){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},e.prototype.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},e.prototype.fromJSON=function(e){if(e.start==undefined){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},e.prototype.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0},e}();u.prototype.setSelectionAnchor=u.prototype.setAnchor,u.prototype.getSelectionAnchor=u.prototype.getAnchor,u.prototype.setSelectionRange=u.prototype.setRange,r.implement(u.prototype,s),t.Selection=u}),ace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/report_error\"],function(e,t,n){\"use strict\";var r=e(\"./lib/report_error\").reportError,i=2e3,s=function(){function e(e){this.splitRegex,this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){var n=this.states[t],r=[],i=0,s=this.matchMappings[t]={defaultToken:\"text\"},o=\"g\",u=[];for(var a=0;a<n.length;a++){var f=n[a];f.defaultToken&&(s.defaultToken=f.defaultToken),f.caseInsensitive&&o.indexOf(\"i\")===-1&&(o+=\"i\"),f.unicode&&o.indexOf(\"u\")===-1&&(o+=\"u\");if(f.regex==null)continue;f.regex instanceof RegExp&&(f.regex=f.regex.toString().slice(1,-1));var l=f.regex,c=(new RegExp(\"(?:(\"+l+\")|(.))\")).exec(\"a\").length-2;Array.isArray(f.token)?f.token.length==1||c==1?f.token=f.token[0]:c-1!=f.token.length?(this.reportError(\"number of classes and regexp groups doesn't match\",{rule:f,groupCount:c-1}),f.token=f.token[0]):(f.tokenArray=f.token,f.token=null,f.onMatch=this.$arrayTokens):typeof f.token==\"function\"&&!f.onMatch&&(c>1?f.onMatch=this.$applyToken:f.onMatch=f.token),c>1&&(/\\\\\\d/.test(f.regex)?l=f.regex.replace(/\\\\([0-9]+)/g,function(e,t){return\"\\\\\"+(parseInt(t,10)+i+1)}):(c=1,l=this.removeCapturingGroups(f.regex)),!f.splitRegex&&typeof f.token!=\"string\"&&u.push(f)),s[i]=a,i+=c,r.push(l),f.onMatch||(f.onMatch=null)}r.length||(s[0]=0,r.push(\"$\")),u.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this),this.regExps[t]=new RegExp(\"(\"+r.join(\")|(\")+\")|($)\",o)}}return e.prototype.$setMaxTokenCount=function(e){i=e|0},e.prototype.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if(typeof n==\"string\")return[{type:n,value:e}];var r=[];for(var i=0,s=n.length;i<s;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},e.prototype.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return\"text\";var n=[],r=this.tokenArray;for(var i=0,s=r.length;i<s;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},e.prototype.removeCapturingGroups=function(e){var t=e.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!<]|(\\()/g,function(e,t){return t?\"(?:\":e});return t},e.prototype.createSplitterRegexp=function(e,t){if(e.indexOf(\"(?=\")!=-1){var n=0,r=!1,i={};e.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g,function(e,t,s,o,u,a){return r?r=u!=\"]\":u?r=!0:o?(n==i.stack&&(i.end=a+1,i.stack=-1),n--):s&&(n++,s.length!=1&&(i.stack=n,i.start=a)),e}),i.end!=null&&/^\\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return e.charAt(0)!=\"^\"&&(e=\"^\"+e),e.charAt(e.length-1)!=\"$\"&&(e+=\"$\"),new RegExp(e,(t||\"\").replace(\"g\",\"\"))},e.prototype.getLineTokens=function(e,t){if(t&&typeof t!=\"string\"){var n=t.slice(0);t=n[0],t===\"#tmp\"&&(n.shift(),t=n.shift())}else var n=[];var r=t||\"start\",s=this.states[r];s||(r=\"start\",s=this.states[r]);var o=this.matchMappings[r],u=this.regExps[r];u.lastIndex=0;var a,f=[],l=0,c=0,h={type:null,value:\"\"};while(a=u.exec(e)){var p=o.defaultToken,d=null,v=a[0],m=u.lastIndex;if(m-v.length>l){var g=e.substring(l,m-v.length);h.type==p?h.value+=g:(h.type&&f.push(h),h={type:p,value:g})}for(var y=0;y<a.length-2;y++){if(a[y+1]===undefined)continue;d=s[o[y]],d.onMatch?p=d.onMatch(v,r,n,e):p=d.token,d.next&&(typeof d.next==\"string\"?r=d.next:r=d.next(r,n),s=this.states[r],s||(this.reportError(\"state doesn't exist\",r),r=\"start\",s=this.states[r]),o=this.matchMappings[r],l=m,u=this.regExps[r],u.lastIndex=m),d.consumeLineEnd&&(l=m);break}if(v)if(typeof p==\"string\")!!d&&d.merge===!1||h.type!==p?(h.type&&f.push(h),h={type:p,value:v}):h.value+=v;else if(p){h.type&&f.push(h),h={type:null,value:\"\"};for(var y=0;y<p.length;y++)f.push(p[y])}if(l==e.length)break;l=m;if(c++>i){c>2*e.length&&this.reportError(\"infinite loop with in ace tokenizer\",{startState:t,line:e});while(l<e.length)h.type&&f.push(h),h={value:e.substring(l,l+=500),type:\"overflow\"};r=\"start\",n=[];break}}return h.type&&f.push(h),n.length>1&&n[0]!==r&&n.unshift(\"#tmp\",r),{tokens:f,state:n.length?n:r}},e}();s.prototype.reportError=r,t.Tokenizer=s}),ace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/deep_copy\"],function(e,t,n){\"use strict\";var r=e(\"../lib/deep_copy\").deepCopy,i;i=function(){this.$rules={start:[{token:\"empty_line\",regex:\"^$\"},{defaultToken:\"text\"}]}},function(){this.addRules=function(e,t){if(!t){for(var n in e)this.$rules[n]=e[n];return}for(var n in e){var r=e[n];for(var i=0;i<r.length;i++){var s=r[i];if(s.next||s.onMatch)typeof s.next==\"string\"&&s.next.indexOf(t)!==0&&(s.next=t+s.next),s.nextState&&s.nextState.indexOf(t)!==0&&(s.nextState=t+s.nextState)}this.$rules[t+n]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,s){var o=typeof e==\"function\"?(new e).getRules():e;if(i)for(var u=0;u<i.length;u++)i[u]=t+i[u];else{i=[];for(var a in o)i.push(t+a)}this.addRules(o,t);if(n){var f=Array.prototype[s?\"push\":\"unshift\"];for(var u=0;u<i.length;u++)f.apply(this.$rules[i[u]],r(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return(e!=\"start\"||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||\"start\"};this.normalizeRules=function(){function i(s){var o=r[s];o.processed=!0;for(var u=0;u<o.length;u++){var a=o[u],f=null;Array.isArray(a)&&(f=a,a={}),!a.regex&&a.start&&(a.regex=a.start,a.next||(a.next=[]),a.next.push({defaultToken:a.token},{token:a.token+\".end\",regex:a.end||a.start,next:\"pop\"}),a.token=a.token+\".start\",a.push=!0);var l=a.next||a.push;if(l&&Array.isArray(l)){var c=a.stateName;c||(c=a.token,typeof c!=\"string\"&&(c=c[0]||\"\"),r[c]&&(c+=n++)),r[c]=l,a.next=c,i(c)}else l==\"pop\"&&(a.next=t);a.push&&(a.nextState=a.next||a.push,a.next=e,delete a.push);if(a.rules)for(var h in a.rules)r[h]?r[h].push&&r[h].push.apply(r[h],a.rules[h]):r[h]=a.rules[h];var p=typeof a==\"string\"?a:a.include;p&&(p===\"$self\"&&(p=\"start\"),Array.isArray(p)?f=p.map(function(e){return r[e]}):f=r[p]);if(f){var d=[u,1].concat(f);a.noEscape&&(d=d.filter(function(e){return!e.next})),o.splice.apply(o,d),u--}a.keywordMap&&(a.token=this.createKeywordMapper(a.keywordMap,a.defaultToken||\"text\",a.caseInsensitive),delete a.defaultToken)}}var n=0,r=this.$rules;Object.keys(r).forEach(i,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach(function(t){var s=e[t],o=s.split(r||\"|\");for(var u=o.length;u--;){var a=o[u];this.$keywordList.push(a),n&&(a=a.toLowerCase()),i[a]=t}},this),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}.call(i.prototype),t.TextHighlightRules=i}),ace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r;r=function(){this.$behaviours={}},function(){this.add=function(e,t,n){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if(typeof e==\"function\")var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;var t={};for(var n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}.call(r.prototype),t.Behaviour=r}),ace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"./range\").Range,i=function(){function e(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1}return e.prototype.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){this.$row-=1;if(this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},e.prototype.stepForward=function(){this.$tokenIndex+=1;var e;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1,e||(e=this.$session.getLength());if(this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentTokenRow=function(){return this.$row},e.prototype.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(n!==undefined)return n;n=0;while(t>0)t-=1,n+=e[t].value.length;return n},e.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},e.prototype.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)},e}();t.TokenIterator=i}),ace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"],function(e,t,n){\"use strict\";var r=e(\"../../lib/oop\"),i=e(\"../behaviour\").Behaviour,s=e(\"../../token_iterator\").TokenIterator,o=e(\"../../lib/lang\"),u=[\"text\",\"paren.rparen\",\"rparen\",\"paren\",\"punctuation.operator\"],a=[\"text\",\"paren.rparen\",\"rparen\",\"paren\",\"punctuation.operator\",\"comment\"],f,l={},c={'\"':'\"',\"'\":\"'\"},h=function(e){var t=-1;e.multiSelect&&(t=e.selection.index,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount}));if(l[t])return f=l[t];f=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:\"\",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:\"\",maybeInsertedLineEnd:\"\"}},p=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},d;d=function(e){e=e||{},this.add(\"braces\",\"insertion\",function(t,n,r,i,s){var u=r.getCursorPosition(),a=i.doc.getLine(u.row);if(s==\"{\"){h(r);var l=r.getSelectionRange(),c=i.doc.getTextRange(l),v=i.getTokenAt(u.row,u.column);if(c!==\"\"&&c!==\"{\"&&r.getWrapBehavioursEnabled())return p(l,c,\"{\",\"}\");if(v&&/(?:string)\\.quasi|\\.xml/.test(v.type)){var m=[/tag\\-(?:open|name)/,/attribute\\-name/];if(m.some(function(e){return e.test(v.type)})||/(string)\\.quasi/.test(v.type)&&v.value[u.column-v.start-1]!==\"$\")return;return d.recordAutoInsert(r,i,\"}\"),{text:\"{}\",selection:[1,1]}}if(d.isSaneInsertion(r,i))return/[\\]\\}\\)]/.test(a[u.column])||r.inMultiSelectMode||e.braces?(d.recordAutoInsert(r,i,\"}\"),{text:\"{}\",selection:[1,1]}):(d.recordMaybeInsert(r,i,\"{\"),{text:\"{\",selection:[1,1]})}else if(s==\"}\"){h(r);var g=a.substring(u.column,u.column+1);if(g==\"}\"){var y=i.$findOpeningBracket(\"}\",{column:u.column+1,row:u.row});if(y!==null&&d.isAutoInsertedClosing(u,a,s))return d.popAutoInsertedClosing(),{text:\"\",selection:[1,1]}}}else{if(s==\"\\n\"||s==\"\\r\\n\"){h(r);var b=\"\";d.isMaybeInsertedClosing(u,a)&&(b=o.stringRepeat(\"}\",f.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var g=a.substring(u.column,u.column+1);if(g===\"}\"){var w=i.findMatchingBracket({row:u.row,column:u.column+1},\"}\");if(!w)return null;var E=this.$getIndent(i.getLine(w.row))}else{if(!b){d.clearMaybeInsertedClosing();return}var E=this.$getIndent(a)}var S=E+i.getTabString();return{text:\"\\n\"+S+\"\\n\"+E+b,selection:[1,S.length,1,S.length]}}d.clearMaybeInsertedClosing()}}),this.add(\"braces\",\"deletion\",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s==\"{\"){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.end.column,i.end.column+1);if(u==\"}\")return i.end.column++,i;f.maybeInsertedBrackets--}}),this.add(\"parens\",\"insertion\",function(e,t,n,r,i){if(i==\"(\"){h(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==\"\"&&n.getWrapBehavioursEnabled())return p(s,o,\"(\",\")\");if(d.isSaneInsertion(n,r))return d.recordAutoInsert(n,r,\")\"),{text:\"()\",selection:[1,1]}}else if(i==\")\"){h(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f==\")\"){var l=r.$findOpeningBracket(\")\",{column:u.column+1,row:u.row});if(l!==null&&d.isAutoInsertedClosing(u,a,i))return d.popAutoInsertedClosing(),{text:\"\",selection:[1,1]}}}}),this.add(\"parens\",\"deletion\",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s==\"(\"){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==\")\")return i.end.column++,i}}),this.add(\"brackets\",\"insertion\",function(e,t,n,r,i){if(i==\"[\"){h(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==\"\"&&n.getWrapBehavioursEnabled())return p(s,o,\"[\",\"]\");if(d.isSaneInsertion(n,r))return d.recordAutoInsert(n,r,\"]\"),{text:\"[]\",selection:[1,1]}}else if(i==\"]\"){h(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f==\"]\"){var l=r.$findOpeningBracket(\"]\",{column:u.column+1,row:u.row});if(l!==null&&d.isAutoInsertedClosing(u,a,i))return d.popAutoInsertedClosing(),{text:\"\",selection:[1,1]}}}}),this.add(\"brackets\",\"deletion\",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s==\"[\"){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==\"]\")return i.end.column++,i}}),this.add(\"string_dquotes\",\"insertion\",function(e,t,n,r,i){var s=r.$mode.$quotes||c;if(i.length==1&&s[i]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(i)!=-1)return;h(n);var o=i,u=n.getSelectionRange(),a=r.doc.getTextRange(u);if(a!==\"\"&&(a.length!=1||!s[a])&&n.getWrapBehavioursEnabled())return p(u,a,o,o);if(!a){var f=n.getCursorPosition(),l=r.doc.getLine(f.row),d=l.substring(f.column-1,f.column),v=l.substring(f.column,f.column+1),m=r.getTokenAt(f.row,f.column),g=r.getTokenAt(f.row,f.column+1);if(d==\"\\\\\"&&m&&/escape/.test(m.type))return null;var y=m&&/string|escape/.test(m.type),b=!g||/string|escape/.test(g.type),w;if(v==o)w=y!==b,w&&/string\\.end/.test(g.type)&&(w=!1);else{if(y&&!b)return null;if(y&&b)return null;var E=r.$mode.tokenRe;E.lastIndex=0;var S=E.test(d);E.lastIndex=0;var x=E.test(v),T=r.$mode.$pairQuotesAfter,N=T&&T[o]&&T[o].test(d);if(!N&&S||x)return null;if(v&&!/[\\s;,.})\\]\\\\]/.test(v))return null;var C=l[f.column-2];if(!(d!=o||C!=o&&!E.test(C)))return null;w=!0}return{text:w?o+o:\"\",selection:[1,1]}}}}),this.add(\"string_dquotes\",\"deletion\",function(e,t,n,r,i){var s=r.$mode.$quotes||c,o=r.doc.getTextRange(i);if(!i.isMultiLine()&&s.hasOwnProperty(o)){h(n);var u=r.doc.getLine(i.start.row),a=u.substring(i.start.column+1,i.start.column+2);if(a==o)return i.end.column++,i}}),e.closeDocComment!==!1&&this.add(\"doc comment end\",\"insertion\",function(e,t,n,r,i){if(e===\"doc-start\"&&(i===\"\\n\"||i===\"\\r\\n\")&&n.selection.isEmpty()){var s=n.getCursorPosition();if(s.column===0)return;var o=r.doc.getLine(s.row),u=r.doc.getLine(s.row+1),a=r.getTokens(s.row),f=0;for(var l=0;l<a.length;l++){f+=a[l].value.length;var c=a[l];if(f>=s.column){if(f===s.column){if(!/\\.doc/.test(c.type))return;if(/\\*\\//.test(c.value)){var h=a[l+1];if(!h||!/\\.doc/.test(h.type))return}}var p=s.column-(f-c.value.length),d=c.value.indexOf(\"*/\"),v=c.value.indexOf(\"/**\",d>-1?d+2:0);if(v!==-1&&p>v&&p<v+3)return;if(d!==-1&&v!==-1&&p>=d&&p<=v||!/\\.doc/.test(c.type))return;break}}var m=this.$getIndent(o);if(/\\s*\\*/.test(u))return/^\\s*\\*/.test(o)?{text:i+m+\"* \",selection:[1,2+m.length,1,2+m.length]}:{text:i+m+\" * \",selection:[1,3+m.length,1,3+m.length]};if(/\\/\\*\\*/.test(o.substring(0,s.column)))return{text:i+m+\" * \"+i+\" \"+m+\"*/\",selection:[1,4+m.length,1,4+m.length]}}})},d.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||\"text\",u)){if(/[)}\\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||\"text\",u))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||\"text\",a)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,i,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=r.row,f.autoInsertedLineEnd=n+i.substr(r.column),f.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,i)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=r.row,f.maybeInsertedLineStart=i.substr(0,r.column)+n,f.maybeInsertedLineEnd=i.substr(r.column),f.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,n){return f.autoInsertedBrackets>0&&e.row===f.autoInsertedRow&&n===f.autoInsertedLineEnd[0]&&t.substr(e.column)===f.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return f.maybeInsertedBrackets>0&&e.row===f.maybeInsertedRow&&t.substr(e.column)===f.maybeInsertedLineEnd&&t.substr(0,e.column)==f.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},r.inherits(d,i),t.CstyleBehaviour=d}),ace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,s=[];for(var o=0;o<r.length;o+=2)s.push(i+=r[o]),r[o+1]&&s.push(45,i+=r[o+1]);t.wordChars=String.fromCharCode.apply(null,s)}),ace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"../config\"),i=e(\"../tokenizer\").Tokenizer,s=e(\"./text_highlight_rules\").TextHighlightRules,o=e(\"./behaviour/cstyle\").CstyleBehaviour,u=e(\"../unicode\"),a=e(\"../lib/lang\"),f=e(\"../token_iterator\").TokenIterator,l=e(\"../range\").Range,c;c=function(){this.HighlightRules=s},function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp(\"^[\"+u.wordChars+\"\\\\$_]+\",\"g\"),this.nonTokenRe=new RegExp(\"^(?:[^\"+u.wordChars+\"\\\\$_]|\\\\s])+\",\"g\"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart=\"\",this.blockComment=\"\",this.toggleCommentLines=function(e,t,n,r){function w(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var i=t.doc,s=!0,o=!0,u=Infinity,f=t.getTabSize(),l=!1;if(!this.lineCommentStart){if(!this.blockComment)return!1;var c=this.blockComment.start,h=this.blockComment.end,p=new RegExp(\"^(\\\\s*)(?:\"+a.escapeRegExp(c)+\")\"),d=new RegExp(\"(?:\"+a.escapeRegExp(h)+\")\\\\s*$\"),v=function(e,t){if(g(e,t))return;if(!s||/\\S/.test(e))i.insertInLine({row:t,column:e.length},h),i.insertInLine({row:t,column:u},c)},m=function(e,t){var n;(n=e.match(d))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(p))&&i.removeInLine(t,n[1].length,n[0].length)},g=function(e,n){if(p.test(e))return!0;var r=t.getTokens(n);for(var i=0;i<r.length;i++)if(r[i].type===\"comment\")return!0}}else{if(Array.isArray(this.lineCommentStart))var p=this.lineCommentStart.map(a.escapeRegExp).join(\"|\"),c=this.lineCommentStart[0];else var p=a.escapeRegExp(this.lineCommentStart),c=this.lineCommentStart;p=new RegExp(\"^(\\\\s*)(?:\"+p+\") ?\"),l=t.getUseSoftTabs();var m=function(e,t){var n=e.match(p);if(!n)return;var r=n[1].length,s=n[0].length;!b(e,r,s)&&n[0][s-1]==\" \"&&s--,i.removeInLine(t,r,s)},y=c+\" \",v=function(e,t){if(!s||/\\S/.test(e))b(e,u,u)?i.insertInLine({row:t,column:u},y):i.insertInLine({row:t,column:u},c)},g=function(e,t){return p.test(e)},b=function(e,t,n){var r=0;while(t--&&e.charAt(t)==\" \")r++;if(r%f!=0)return!1;var r=0;while(e.charAt(n++)==\" \")r++;return f>2?r%f!=f-1:r%f==0}}var E=Infinity;w(function(e,t){var n=e.search(/\\S/);n!==-1?(n<u&&(u=n),o&&!g(e,t)&&(o=!1)):E>e.length&&(E=e.length)}),u==Infinity&&(u=E,s=!1,o=!1),l&&u%f!=0&&(u=Math.floor(u/f)*f),w(o?m:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(!i)return;!i.start&&i[0]&&(i=i[0]);var s=new f(t,r.row,r.column),o=s.getCurrentToken(),u=t.selection,a=t.selection.toOrientedRange(),c,h;if(o&&/comment/.test(o.type)){var p,d;while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.start);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;p=new l(m,g,m,g+i.start.length);break}o=s.stepBackward()}var s=new f(t,r.row,r.column),o=s.getCurrentToken();while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.end);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;d=new l(m,g,m,g+i.end.length);break}o=s.stepForward()}d&&t.remove(d),p&&(t.remove(p),c=p.start.row,h=-i.start.length)}else h=i.start.length,c=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);a.start.row==c&&(a.start.column+=h),a.end.row==c&&(a.end.column+=h),t.selection.fromOrientedRange(a)},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)if(e[t]){var n=e[t],i=n.prototype.$id,s=r.$modes[i];s||(r.$modes[i]=s=new n),r.$modes[t]||(r.$modes[t]=s),this.$embeds.push(t),this.$modes[t]=s}var o=[\"toggleBlockComment\",\"toggleCommentLines\",\"getNextLineIndent\",\"checkOutdent\",\"autoOutdent\",\"transformAction\",\"getCompletions\"],u=function(e){(function(t){var n=o[e],r=t[n];t[o[e]]=function(){return this.$delegator(n,arguments,r)}})(a)},a=this;for(var t=0;t<o.length;t++)u(t)},this.$delegator=function(e,t,n){var r=t[0]||\"start\";if(typeof r!=\"string\"){if(Array.isArray(r[2])){var i=r[2][r[2].length-1],s=this.$modes[i];if(s)return s[e].apply(s,[r[1]].concat([].slice.call(t,1)))}r=r[0]||\"start\"}for(var o=0;o<this.$embeds.length;o++){if(!this.$modes[this.$embeds[o]])continue;var u=r.split(this.$embeds[o]);if(!u[0]&&u[1]){t[0]=u[1];var s=this.$modes[this.$embeds[o]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:undefined},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var u=s[o][t].apply(this,arguments);if(u)return u}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t){var i=t[r];for(var s=0,o=i.length;s<o;s++)if(typeof i[s].token==\"string\")/keyword|support|storage/.test(i[s].token)&&n.push(i[s].regex);else if(typeof i[s].token==\"object\")for(var u=0,a=i[s].token.length;u<a;u++)if(/keyword|support|storage/.test(i[s].token[u])){var r=i[s].regex.match(/\\(.+?\\)/g)[u];n.push(r.substr(1,r.length-2))}}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map(function(e){return{name:e,value:e,score:0,meta:\"keyword\"}})},this.$id=\"ace/mode/text\"}.call(c.prototype),t.Mode=c}),ace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";var r=e(\"./lib/dom\"),i=function(){function e(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on(\"change\",this.updateOnChange),this.session.on(\"changeFold\",this.updateOnFold),this.session.on(\"changeEditor\",this.$onChangeEditor)}return e.prototype.getRowLength=function(e){var t;return this.lineWidgets?t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:t=0,!this.$useWrapMode||!this.$wrapData[e]?1+t:this.$wrapData[e].length+1+t},e.prototype.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},e.prototype.$onChangeEditor=function(e){this.attach(e.editor)},e.prototype.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach();if(this.editor==e)return;this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on(\"beforeRender\",this.measureWidgets),e.renderer.on(\"afterRender\",this.renderWidgets))},e.prototype.detach=function(e){var t=this.editor;if(!t)return;this.editor=null,t.widgetManager=null,t.renderer.off(\"beforeRender\",this.measureWidgets),t.renderer.off(\"afterRender\",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})},e.prototype.updateOnFold=function(e,t){var n=t.lineWidgets;if(!n||!e.action)return;var r=e.data,i=r.start.row,s=r.end.row,o=e.action==\"add\";for(var u=i+1;u<s;u++)n[u]&&(n[u].hidden=o);n[s]&&(o?n[i]?n[s].hidden=o:n[i]=n[s]:(n[i]==n[s]&&(n[i]=undefined),n[s].hidden=o))},e.prototype.updateOnChange=function(e){var t=this.session.lineWidgets;if(!t)return;var n=e.start.row,r=e.end.row-n;if(r!==0)if(e.action==\"remove\"){var i=t.splice(n+1,r);!t[n]&&i[i.length-1]&&(t[n]=i.pop()),i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var s=new Array(r);t[n]&&t[n].column!=null&&e.start.column>t[n].column&&n++,s.unshift(n,0),t.splice.apply(t,s),this.$updateRows()}},e.prototype.$updateRows=function(){var e=this.session.lineWidgets;if(!e)return;var t=!0;e.forEach(function(e,n){if(e){t=!1,e.row=n;while(e.$oldWidget)e.$oldWidget.row=n,e=e.$oldWidget}}),t&&(this.session.lineWidgets=null)},e.prototype.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},e.prototype.addLineWidget=function(e){this.$registerLineWidget(e),e.session=this.session;if(!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement(\"div\"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=r.createElement(\"div\"),e.el.textContent=e.text),e.el&&(r.addCssClass(e.el,\"ace_lineWidgetContainer\"),e.className&&r.addCssClass(e.el,e.className),e.el.style.position=\"absolute\",e.el.style.zIndex=\"5\",t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=\"3\"),e.pixelHeight==null&&(e.pixelHeight=e.el.offsetHeight)),e.rowCount==null&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);e.$fold=n;if(n){var i=this.session.lineWidgets;e.row==n.end.row&&!i[n.start.row]?i[n.start.row]=e:e.hidden=!0}return this.session._emit(\"changeFold\",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},e.prototype.removeLineWidget=function(e){e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el);if(e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}if(this.session.lineWidgets){var n=this.session.lineWidgets[e.row];if(n==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else while(n){if(n.$oldWidget==e){n.$oldWidget=e.$oldWidget;break}n=n.$oldWidget}}this.session._emit(\"changeFold\",{data:{start:{row:e.row}}}),this.$updateRows()},e.prototype.getWidgetsAtRow=function(e){var t=this.session.lineWidgets,n=t&&t[e],r=[];while(n)r.push(n),n=n.$oldWidget;return r},e.prototype.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},e.prototype.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(!n||!n.length)return;var i=Infinity;for(var s=0;s<n.length;s++){var o=n[s];if(!o||!o.el)continue;if(o.session!=this.session)continue;if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/r.characterWidth));var u=o.h/r.lineHeight;o.coverLine&&(u-=this.session.getRowLineCount(o.row),u<0&&(u=0)),o.rowCount!=u&&(o.rowCount=u,o.row<i&&(i=o.row))}i!=Infinity&&(this.session._emit(\"changeFold\",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]},e.prototype.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(!r)return;var i=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,r.length);while(i>0&&!r[i])i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=i;o<=s;o++){var u=r[o];if(!u||!u.el)continue;if(u.hidden){u.el.style.top=-100-(u.pixelHeight||0)+\"px\";continue}u._inDocument||(u._inDocument=!0,t.container.appendChild(u.el));var a=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;u.coverLine||(a+=n.lineHeight*this.session.getRowLineCount(u.row)),u.el.style.top=a-n.offset+\"px\";var f=u.coverGutter?0:t.gutterWidth;u.fixedWidth||(f-=t.scrollLeft),u.el.style.left=f+\"px\",u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=n.width+2*n.padding+\"px\"),u.fixedWidth?u.el.style.right=t.scrollBar.getWidth()+\"px\":u.el.style.right=\"\"}},e}();t.LineWidgets=i}),ace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";function r(e,t){throw console.log(\"Invalid Delta:\",e),\"Invalid Delta: \"+t}function i(e,t){return t.row>=0&&t.row<e.length&&t.column>=0&&t.column<=e[t.row].length}function s(e,t){t.action!=\"insert\"&&t.action!=\"remove\"&&r(t,\"delta.action must be 'insert' or 'remove'\"),t.lines instanceof Array||r(t,\"delta.lines must be an Array\"),(!t.start||!t.end)&&r(t,\"delta.start/end must be an present\");var n=t.start;i(e,t.start)||r(t,\"delta.start must be contained in document\");var s=t.end;t.action==\"remove\"&&!i(e,s)&&r(t,\"delta.end must contained in document for 'remove' actions\");var o=s.row-n.row,u=s.column-(o==0?n.column:0);(o!=t.lines.length-1||t.lines[o].length!=u)&&r(t,\"delta.range must match delta lines\")}t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,s=e[r]||\"\";switch(t.action){case\"insert\":var o=t.lines;if(o.length===1)e[r]=s.substring(0,i)+t.lines[0]+s.substring(i);else{var u=[r,1].concat(t.lines);e.splice.apply(e,u),e[r]=s.substring(0,i)+e[r],e[r+t.lines.length-1]+=s.substring(i)}break;case\"remove\":var a=t.end.column,f=t.end.row;r===f?e[r]=s.substring(0,i)+s.substring(a):e.splice(r,f-r+1,s.substring(0,i)+e[f].substring(a))}}}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";function o(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function u(e,t,n){var r=e.action==\"insert\",i=(r?1:-1)*(e.end.row-e.start.row),s=(r?1:-1)*(e.end.column-e.start.column),u=e.start,a=r?u:e.end;return o(t,u,n)?{row:t.row,column:t.column}:o(a,t,!n)?{row:t.row+i,column:t.column+(t.row==a.row?s:0)}:{row:u.row,column:u.column}}var r=e(\"./lib/oop\"),i=e(\"./lib/event_emitter\").EventEmitter,s=function(){function e(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),typeof t!=\"number\"?this.setPosition(t.row,t.column):this.setPosition(t,n)}return e.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},e.prototype.getDocument=function(){return this.document},e.prototype.onChange=function(e){if(e.start.row==e.end.row&&e.start.row!=this.row)return;if(e.start.row>this.row)return;var t=u(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)},e.prototype.setPosition=function(e,t,n){var r;n?r={row:e,column:t}:r=this.$clipPositionToDocument(e,t);if(this.row==r.row&&this.column==r.column)return;var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal(\"change\",{old:i,value:r})},e.prototype.detach=function(){this.document.off(\"change\",this.$onChange)},e.prototype.attach=function(e){this.document=e||this.document,this.document.on(\"change\",this.$onChange)},e.prototype.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n},e}();s.prototype.$insertRight=!1,r.implement(s.prototype,i),t.Anchor=s}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./apply_delta\").applyDelta,s=e(\"./lib/event_emitter\").EventEmitter,o=e(\"./range\").Range,u=e(\"./anchor\").Anchor,a=function(){function e(e){this.$lines=[\"\"],e.length===0?this.$lines=[\"\"]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}return e.prototype.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||\"\")},e.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},e.prototype.createAnchor=function(e,t){return new u(this,e,t)},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=t?t[1]:\"\\n\",this._signal(\"changeNewLineMode\")},e.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},e.prototype.setNewLineMode=function(e){if(this.$newLineMode===e)return;this.$newLineMode=e,this._signal(\"changeNewLineMode\")},e.prototype.getNewLineMode=function(){return this.$newLineMode},e.prototype.isNewLine=function(e){return e==\"\\r\\n\"||e==\"\\r\"||e==\"\\n\"},e.prototype.getLine=function(e){return this.$lines[e]||\"\"},e.prototype.getLines=function(e,t){return this.$lines.slice(e,t+1)},e.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},e.prototype.getLength=function(){return this.$lines.length},e.prototype.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},e.prototype.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||\"\").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},e.prototype.insertLines=function(e,t){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(e,t)},e.prototype.removeLines=function(e,t){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(e,t)},e.prototype.insertNewLine=function(e){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(e,[\"\",\"\"])},e.prototype.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},e.prototype.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:\"insert\",lines:[t]},!0),this.clonePos(r)},e.prototype.clippedPos=function(e,t){var n=this.getLength();e===undefined?e=n:e<0?e=0:e>=n&&(e=n-1,t=undefined);var r=this.getLine(e);return t==undefined&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},e.prototype.clonePos=function(e){return{row:e.row,column:e.column}},e.prototype.pos=function(e,t){return{row:e,column:t}},e.prototype.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},e.prototype.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([\"\"]),n=0):(t=[\"\"].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},e.prototype.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(t.length==1?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:\"insert\",lines:t}),this.clonePos(r)},e.prototype.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:\"remove\",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},e.prototype.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:\"remove\",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},e.prototype.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,s=n?this.getLine(i).length:0,u=r?t+1:t,a=r?0:this.getLine(u).length,f=new o(i,s,u,a),l=this.$lines.slice(e,t+1);return this.applyDelta({start:f.start,end:f.end,action:\"remove\",lines:this.getLinesForRange(f)}),l},e.prototype.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:\"remove\",lines:[\"\",\"\"]})},e.prototype.replace=function(e,t){e instanceof o||(e=o.fromPoints(e.start,e.end));if(t.length===0&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;return t?n=this.insert(e.start,t):n=e.start,n},e.prototype.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},e.prototype.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},e.prototype.applyDelta=function(e,t){var n=e.action==\"insert\";if(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))return;n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(i(this.$lines,e,t),this._signal(\"change\",e))},e.prototype.$safeApplyDelta=function(e){var t=this.$lines.length;(e.action==\"remove\"&&e.start.row<t&&e.end.row<t||e.action==\"insert\"&&e.start.row<=t)&&this.applyDelta(e)},e.prototype.$splitAndapplyLargeDelta=function(e,t){var n=e.lines,r=n.length-t+1,i=e.start.row,s=e.start.column;for(var o=0,u=0;o<r;o=u){u+=t-1;var a=n.slice(o,u);a.push(\"\"),this.applyDelta({start:this.pos(i+o,s),end:this.pos(i+u,s=0),action:e.action,lines:a},!0)}e.lines=n.slice(o),e.start.row=i+o,e.start.column=s,this.applyDelta(e,!0)},e.prototype.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action==\"insert\"?\"remove\":\"insert\",lines:e.lines.slice()})},e.prototype.indexToPosition=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length;for(var i=t||0,s=n.length;i<s;i++){e-=n[i].length+r;if(e<0)return{row:i,column:e+n[i].length+r}}return{row:s-1,column:e+n[s-1].length+r}},e.prototype.positionToIndex=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,s=Math.min(e.row,n.length);for(var o=t||0;o<s;++o)i+=n[o].length+r;return i+e.column},e.prototype.$split=function(e){return e.split(/\\r\\n|\\r|\\n/)},e}();a.prototype.$autoNewLine=\"\",a.prototype.$newLineMode=\"auto\",r.implement(a.prototype,s),t.Document=a}),ace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/event_emitter\").EventEmitter,s=function(){function e(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(!n.running)return;var e=new Date,t=n.currentLine,r=-1,i=n.doc,s=t;while(n.lines[t])t++;var o=i.getLength(),u=0;n.running=!1;while(t<o){n.$tokenizeRow(t),r=t;do t++;while(n.lines[t]);u++;if(u%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,r==-1&&(r=t),s<=r&&n.fireUpdateEvent(s,r)}}return e.prototype.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},e.prototype.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},e.prototype.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal(\"update\",{data:n})},e.prototype.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},e.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},e.prototype.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(n===0)this.lines[t]=null;else if(e.action==\"remove\")this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},e.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},e.prototype.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},e.prototype.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||\"start\"},e.prototype.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+\"\"!=r.state+\"\"?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens},e.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},e}();r.implement(s.prototype,i),t.BackgroundTokenizer=s}),ace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"./lib/lang\"),i=e(\"./range\").Range,s=function(){function e(e,t,n){n===void 0&&(n=\"text\"),this.setRegexp(e),this.clazz=t,this.type=n,this.docLen=0}return e.prototype.setRegexp=function(e){if(this.regExp+\"\"==e+\"\")return;this.regExp=e,this.cache=[]},e.prototype.update=function(e,t,n,s){if(!this.regExp)return;var o=s.firstRow,u=s.lastRow,a={},f=n.$editor&&n.$editor.$search,l=f&&f.$isMultilineSearch(n.$editor.getLastSearchOptions());for(var c=o;c<=u;c++){var h=this.cache[c];if(h==null||n.getValue().length!=this.docLen){if(l){h=[];var p=f.$multiLineForward(n,this.regExp,c,u);if(p){var d=p.endRow<=u?p.endRow-1:u;d>c&&(c=d),h.push(new i(p.startRow,p.startCol,p.endRow,p.endCol))}h.length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES))}else h=r.getMatchOffsets(n.getLine(c),this.regExp),h.length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES)),h=h.map(function(e){return new i(c,e.offset,c,e.offset+e.length)});this.cache[c]=h.length?h:\"\"}if(h.length===0)continue;for(var v=h.length;v--;){var m=h[v].toScreenRange(n),g=m.toString();if(a[g])continue;a[g]=!0,t.drawSingleLineMarker(e,m,this.clazz,s)}}this.docLen=n.getValue().length},e}();s.prototype.MAX_RANGES=500,t.SearchHighlight=s}),ace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"],function(e,t,n){\"use strict\";function i(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){while(n<t-1){var i=d(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}function a(e){var t=e.action==\"insert\",n=e.start,r=e.end,i=(r.row-n.row)*(t?1:-1),s=(r.column-n.column)*(t?1:-1);t&&(r=n);for(var o in this.marks){var a=this.marks[o],f=u(a,n);if(f<0)continue;if(f===0&&t){if(a.bias!=1){a.bias==-1;continue}f=1}var l=t?f:u(a,r);if(l>0){a.row+=i,a.column+=a.row==r.row?s:0;continue}!t&&l<=0&&(a.row=n.row,a.column=n.column,l===0&&(a.bias=1))}}function f(e){return{row:e.row,column:e.column}}function l(e){return{start:f(e.start),end:f(e.end),action:e.action,lines:e.lines.slice()}}function c(e){e=e||this;if(Array.isArray(e))return e.map(c).join(\"\\n\");var t=\"\";e.action?(t=e.action==\"insert\"?\"+\":\"-\",t+=\"[\"+e.lines+\"]\"):e.value&&(Array.isArray(e.value)?t=e.value.map(h).join(\"\\n\"):t=h(e.value)),e.start&&(t+=h(e));if(e.id||e.rev)t+=\"\t(\"+(e.id||e.rev)+\")\";return t}function h(e){return e.start.row+\":\"+e.start.column+\"=>\"+e.end.row+\":\"+e.end.column}function p(e,t){var n=e.action==\"insert\",r=t.action==\"insert\";if(n&&r)if(o(t.start,e.end)>=0)m(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;m(e,t,1)}else if(n&&!r)if(o(t.start,e.end)>=0)m(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;m(e,t,-1)}else if(!n&&r)if(o(t.start,e.start)>=0)m(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;m(e,t,1)}else if(!n&&!r)if(o(t.start,e.start)>=0)m(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;m(e,t,-1)}return[t,e]}function d(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!p(e[n],t[r])){while(n<e.length){while(r--)p(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function v(e,t){var n=e.action==\"insert\",r=t.action==\"insert\";if(n&&r)o(e.start,t.start)<0?m(t,e,1):m(e,t,1);else if(n&&!r)o(e.start,t.end)>=0?m(e,t,-1):o(e.start,t.start)<=0?m(t,e,1):(m(e,s.fromPoints(t.start,e.start),-1),m(t,e,1));else if(!n&&r)o(t.start,e.end)>=0?m(t,e,-1):o(t.start,e.start)<=0?m(e,t,1):(m(t,s.fromPoints(e.start,t.start),-1),m(e,t,1));else if(!n&&!r)if(o(t.start,e.end)>=0)m(t,e,-1);else{if(!(o(t.end,e.start)<=0)){var i,u;return o(e.start,t.start)<0&&(i=e,e=y(e,t.start)),o(e.end,t.end)>0&&(u=y(e,t.end)),g(t.end,e.start,e.end,-1),u&&!i&&(e.lines=u.lines,e.start=u.start,e.end=u.end,u=e),[t,i,u].filter(Boolean)}m(e,t,-1)}return[t,e]}function m(e,t,n){g(e.start,t.start,t.end,n),g(e.end,t.start,t.end,n)}function g(e,t,n,r){e.row==(r==1?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function y(e,t){var n=e.lines,r=e.end;e.end=f(t);var i=e.end.row-e.start.row,s=n.splice(i,n.length),o=i?t.column:t.column-e.start.column;n.push(s[0].substring(0,o)),s[0]=s[0].substr(o);var u={start:f(t),end:r,lines:s,action:e.action};return u}function b(e,t){t=l(t);for(var n=e.length;n--;){var r=e[n];for(var i=0;i<r.length;i++){var s=r[i],o=v(s,t);t=o[0],o.length!=2&&(o[2]?(r.splice(i+1,1,o[1],o[2]),i++):o[1]||(r.splice(i,1),i--))}r.length||e.splice(n,1)}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];for(var i=0;i<r.length;i++)b(e,r[i])}}var r=function(){function e(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=Infinity,this.reset()}return e.prototype.addSession=function(e){this.$session=e},e.prototype.add=function(e,t,n){if(this.$fromUndo)return;if(e==this.$lastDelta)return;this.$keepRedoStack||(this.$redoStack.length=0);if(t===!1||!this.lastDeltas){this.lastDeltas=[];var r=this.$undoStack.length;r>this.$undoDepth-1&&this.$undoStack.splice(0,r-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}if(e.action==\"remove\"||e.action==\"insert\")this.$lastDelta=e;this.lastDeltas.push(e)},e.prototype.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},e.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},e.prototype.markIgnored=function(e,t){t==null&&(t=this.$rev+1);var n=this.$undoStack;for(var r=n.length;r--;){var i=n[r][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},e.prototype.getSelection=function(e,t){var n=this.selections;for(var r=n.length;r--;){var i=n[r];if(i.rev<e)return t&&(i=n[r+1]),i}},e.prototype.getRevision=function(){return this.$rev},e.prototype.getDeltas=function(e,t){t==null&&(t=this.$rev+1);var n=this.$undoStack,r=null,i=0;for(var s=n.length;s--;){var o=n[s][0];o.id<t&&!r&&(r=s+1);if(o.id<=e){i=s+1;break}}return n.slice(i,r)},e.prototype.getChangedRanges=function(e,t){t==null&&(t=this.$rev+1)},e.prototype.getChangedLines=function(e,t){t==null&&(t=this.$rev+1)},e.prototype.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(!i(n,n.length))return;e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),s=null;return r&&(s=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,s},e.prototype.redo=function(e,t){this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0;if(this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);w(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev},this)}var r=this.$redoStack.pop(),i=null;return r&&(i=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i},e.prototype.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},e.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},e.prototype.canUndo=function(){return this.$undoStack.length>0},e.prototype.canRedo=function(){return this.$redoStack.length>0},e.prototype.bookmark=function(e){e==undefined&&(e=this.$rev),this.mark=e},e.prototype.isAtBookmark=function(){return this.$rev===this.mark},e.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},e.prototype.fromJSON=function(e){this.reset(),this.$undoStack=e.$undoStack,this.$redoStack=e.$redoStack},e.prototype.$prettyPrint=function(e){return e?c(e):c(this.$undoStack)+\"\\n---\\n\"+c(this.$redoStack)},e}();r.prototype.hasUndo=r.prototype.canUndo,r.prototype.hasRedo=r.prototype.canRedo,r.prototype.isClean=r.prototype.isAtBookmark,r.prototype.markClean=r.prototype.bookmark;var s=e(\"./range\").Range,o=s.comparePoints,u=s.comparePoints;t.UndoManager=r}),ace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"../range\").Range,i=function(){function e(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}return e.prototype.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},e.prototype.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},e.prototype.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},e.prototype.walk=function(e,t,n){var r=0,i=this.folds,s,o,u,a=!0;t==null&&(t=this.end.row,n=this.end.column);for(var f=0;f<i.length;f++){s=i[f],o=s.range.compareStart(t,n);if(o==-1){e(null,t,n,r,a);return}u=e(null,s.start.row,s.start.column,r,a),u=!u&&e(s.placeholder,s.start.row,s.start.column,r);if(u||o===0)return;a=!s.sameRow,r=s.end.column}e(null,t,n,r,a)},e.prototype.getNextFoldTo=function(e,t){var n,r;for(var i=0;i<this.folds.length;i++){n=this.folds[i],r=n.range.compareEnd(e,t);if(r==-1)return{fold:n,kind:\"after\"};if(r===0)return{fold:n,kind:\"inside\"}}return null},e.prototype.addRemoveChars=function(e,t,n){var r=this.getNextFoldTo(e,t),i,s;if(r){i=r.fold;if(r.kind==\"inside\"&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){s=this.folds;var o=s.indexOf(i);o===0&&(this.start.column+=n);for(o;o<s.length;o++){i=s[o],i.start.column+=n;if(!i.sameRow)return;i.end.column+=n}this.end.column+=n}}},e.prototype.split=function(t,n){var r=this.getNextFoldTo(t,n);if(!r||r.kind==\"inside\")return null;var i=r.fold,s=this.folds,o=this.foldData,u=s.indexOf(i),a=s[u-1];this.end.row=a.end.row,this.end.column=a.end.column,s=s.splice(u,s.length-u);var f=new e(o,s);return o.splice(o.indexOf(this)+1,0,f),f},e.prototype.merge=function(e){var t=e.folds;for(var n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},e.prototype.toString=function(){var e=[this.range.toString()+\": [\"];return this.folds.forEach(function(t){e.push(\"  \"+t.toString())}),e.push(\"]\"),e.join(\"\\n\")},e.prototype.idxToPosition=function(e){var t=0;for(var n=0;n<this.folds.length;n++){var r=this.folds[n];e-=r.start.column-t;if(e<0)return{row:r.start.row,column:r.start.column+e};e-=r.placeholder.length;if(e<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}},e}();t.FoldLine=i}),ace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"./range\").Range,i=r.comparePoints,s=function(){function e(){this.ranges=[],this.$bias=1}return e.prototype.pointIndex=function(e,t,n){var r=this.ranges;for(var s=n||0;s<r.length;s++){var o=r[s],u=i(e,o.end);if(u>0)continue;var a=i(e,o.start);return u===0?t&&a!==0?-s-2:s:a>0||a===0&&!t?s:-s-1}return-s-1},e.prototype.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},e.prototype.addList=function(e){var t=[];for(var n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},e.prototype.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},e.prototype.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});var n=t[0],r;for(var s=1;s<t.length;s++){r=n,n=t[s];var o=i(r.end,n.start);if(o<0)continue;if(o==0&&!r.isEmpty()&&!n.isEmpty())continue;i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(s,1),e.push(n),n=r,s--}return this.ranges=t,e},e.prototype.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},e.prototype.containsPoint=function(e){return this.pointIndex(e)>=0},e.prototype.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},e.prototype.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);var s=[];for(var o=r;o<i;o++)s.push(n[o]);return s},e.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},e.prototype.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on(\"change\",this.onChange)},e.prototype.detach=function(){if(!this.session)return;this.session.removeListener(\"change\",this.onChange),this.session=null},e.prototype.$onChange=function(e){var t=e.start,n=e.end,r=t.row,i=n.row,s=this.ranges;for(var o=0,u=s.length;o<u;o++){var a=s[o];if(a.end.row>=r)break}if(e.action==\"insert\"){var f=i-r,l=-t.column+n.column;for(;o<u;o++){var a=s[o];if(a.start.row>r)break;a.start.row==r&&a.start.column>=t.column&&(a.start.column==t.column&&this.$bias<=0||(a.start.column+=l,a.start.row+=f));if(a.end.row==r&&a.end.column>=t.column){if(a.end.column==t.column&&this.$bias<0)continue;a.end.column==t.column&&l>0&&o<u-1&&a.end.column>a.start.column&&a.end.column==s[o+1].start.column&&(a.end.column-=l),a.end.column+=l,a.end.row+=f}}}else{var f=r-i,l=t.column-n.column;for(;o<u;o++){var a=s[o];if(a.start.row>i)break;if(a.end.row<i&&(r<a.end.row||r==a.end.row&&t.column<a.end.column))a.end.row=r,a.end.column=t.column;else if(a.end.row==i)if(a.end.column<=n.column){if(f||a.end.column>t.column)a.end.column=t.column,a.end.row=t.row}else a.end.column+=l,a.end.row+=f;else a.end.row>i&&(a.end.row+=f);if(a.start.row<i&&(r<a.start.row||r==a.start.row&&t.column<a.start.column))a.start.row=r,a.start.column=t.column;else if(a.start.row==i)if(a.start.column<=n.column){if(f||a.start.column>t.column)a.start.column=t.column,a.start.row=t.row}else a.start.column+=l,a.start.row+=f;else a.start.row>i&&(a.start.row+=f)}}if(f!=0&&o<u)for(;o<u;o++){var a=s[o];a.start.row+=f,a.end.row+=f}},e}();s.prototype.comparePoints=i,t.RangeList=s}),ace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\"],function(e,t,n){\"use strict\";function o(e,t){e.row-=t.row,e.row==0&&(e.column-=t.column)}function u(e,t){o(e.start,t),o(e.end,t)}function a(e,t){e.row==0&&(e.column+=t.column),e.row+=t.row}function f(e,t){a(e.start,t),a(e.end,t)}var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}if(typeof n!=\"function\"&&n!==null)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=e(\"../range_list\").RangeList,s=function(e){function t(t,n){var r=e.call(this)||this;return r.foldLine=null,r.placeholder=n,r.range=t,r.start=t.start,r.end=t.end,r.sameRow=t.start.row==t.end.row,r.subFolds=r.ranges=[],r}return r(t,e),t.prototype.toString=function(){return'\"'+this.placeholder+'\" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},t.prototype.clone=function(){var e=this.range.clone(),n=new t(e,this.placeholder);return this.subFolds.forEach(function(e){n.subFolds.push(e.clone())}),n.collapseChildren=this.collapseChildren,n},t.prototype.addSubFold=function(e){if(this.range.isEqual(e))return;u(e,this.start);var t=e.start.row,n=e.start.column;for(var r=0,i=-1;r<this.subFolds.length;r++){i=this.subFolds[r].range.compare(t,n);if(i!=1)break}var s=this.subFolds[r],o=0;if(i==0){if(s.range.containsRange(e))return s.addSubFold(e);o=1}var t=e.range.end.row,n=e.range.end.column;for(var a=r,i=-1;a<this.subFolds.length;a++){i=this.subFolds[a].range.compare(t,n);if(i!=1)break}i==0&&a++;var f=this.subFolds.splice(r,a-r,e),l=i==0?f.length-1:f.length;for(var c=o;c<l;c++)e.addSubFold(f[c]);return e.setFoldLine(this.foldLine),e},t.prototype.restoreRange=function(e){return f(e,this.start)},t}(i);t.Fold=s}),ace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\",\"ace/mouse/mouse_event\"],function(e,t,n){\"use strict\";function a(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;var i=r.folds;for(var s=0;s<i.length;s++){var o=i[s].range;if(o.contains(e,t)){if(n==1&&o.isEnd(e,t)&&!o.isEmpty())continue;if(n==-1&&o.isStart(e,t)&&!o.isEmpty())continue;return i[s]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var s=0;s<r.length;s++){var o=r[s].range.compareRange(e);if(o==2)continue;if(o==-2)break;var u=r[s].folds;for(var a=0;a<u.length;a++){var f=u[a];o=f.range.compareRange(e);if(o==-2)break;if(o==2)continue;if(o==42)break;i.push(f)}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){var e=[],t=this.$foldData;for(var n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){r=r||this.getFoldLine(e);if(!r)return null;var i={end:{column:0}},s,o;for(var u=0;u<r.folds.length;u++){o=r.folds[u];var a=o.range.compareEnd(e,t);if(a==-1){s=this.getLine(o.start.row).substring(i.end.column,o.start.column);break}if(a===0)return null;i=o}return s||(s=this.getLine(o.start.row).substring(i.end.column)),n==-1?s.substring(0,t-i.end.column):n==1?s.substring(t-i.end.column):s},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){var n=this.$foldData,r=t-e+1;for(var i=0;i<n.length;i++){var s=n[i],o=s.end.row,u=s.start.row;if(o>=t){u<t&&(u>=e?r-=t-u:r=0);break}o>=e&&(u>=e?r-=o-u:r-=o-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n=this.$foldData,r=!1,o;e instanceof s?o=e:(o=new s(t,e),o.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(o.range);var u=o.start.row,a=o.start.column,f=o.end.row,l=o.end.column,c=this.getFoldAt(u,a,1),h=this.getFoldAt(f,l,-1);if(c&&h==c)return c.addSubFold(o);c&&!c.range.isStart(u,a)&&this.removeFold(c),h&&!h.range.isEnd(f,l)&&this.removeFold(h);var p=this.getFoldsInRange(o.range);p.length>0&&(this.removeFolds(p),o.collapseChildren||p.forEach(function(e){o.addSubFold(e)}));for(var d=0;d<n.length;d++){var v=n[d];if(f==v.start.row){v.addFold(o),r=!0;break}if(u==v.end.row){v.addFold(o),r=!0;if(!o.sameRow){var m=n[d+1];if(m&&m.start.row==f){v.merge(m);break}}break}if(f<=v.start.row)break}return r||(v=this.$addFoldLine(new i(this.$foldData,o))),this.$useWrapMode?this.$updateWrapData(v.start.row,v.start.row):this.$updateRowLengthCache(v.start.row,v.start.row),this.$modified=!0,this._signal(\"changeFold\",{data:o,action:\"add\"}),o},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,s=t.folds;if(s.length==1)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);s=o.folds,s.shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal(\"changeFold\",{data:e,action:\"remove\"})},this.removeFolds=function(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,i;if(e==null)n=new r(0,0,this.getLength(),0),t==null&&(t=!0);else if(typeof e==\"number\")n=new r(e,0,e,this.getLine(e).length);else if(\"row\"in e)n=r.fromPoints(e,e);else{if(Array.isArray(e))return i=[],e.forEach(function(e){i=i.concat(this.unfold(e))},this),i;n=e}i=this.getFoldsInRangeList(n);var s=i;while(i.length==1&&r.comparePoints(i[0].start,n.start)<0&&r.comparePoints(i[0].end,n.end)>0)this.expandFolds(i),i=this.getFoldsInRangeList(n);t!=0?this.removeFolds(i):this.expandFolds(i);if(s.length)return s},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){r==null&&(r=e.start.row),i==null&&(i=0),t==null&&(t=e.end.row),n==null&&(n=this.getLine(t).length);var s=this.doc,o=\"\";return e.walk(function(e,t,n,u){if(t<r)return;if(t==r){if(n<i)return;u=Math.max(i,u)}e!=null?o+=e:o+=s.getLine(t).substring(u,n)},t,n),o},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(!i){var s;return s=this.doc.getLine(e),s.substring(r||0,t||s.length)}return this.getFoldDisplayLine(i,e,t,n,r)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new i(e,n)}),e},this.toggleFold=function(e){var t=this.selection,n=t.getRange(),r,i;if(n.isEmpty()){var s=n.start;r=this.getFoldAt(s.row,s.column);if(r){this.expandFold(r);return}if(e){var o=this.getFoldLine(s.row);o&&this.expandFolds(o.folds);return}(i=this.findMatchingBracket(s))?n.comparePoint(i)==1?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(n.comparePoint(i)==1?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var u=this.getFoldsInRange(n);if(e&&u.length){this.expandFolds(u);return}u.length==1&&(r=u[0])}r||(r=this.getFoldAt(n.start.row,n.start.column));if(r&&r.range.toString()==n.toString()){this.expandFold(r);return}var a=\"...\";if(!n.isMultiLine()){a=this.getTextRange(n);if(a.length<4)return;a=a.trim().substring(0,2)+\"..\"}this.addFold(a,n)},this.getCommentFoldRange=function(e,t,n){var i=new o(this,e,t),s=i.getCurrentToken(),u=s&&s.type;if(s&&/^comment|string/.test(u)){u=u.match(/comment|string/)[0],u==\"comment\"&&(u+=\"|doc-start|\\\\.doc\");var a=new RegExp(u),f=new r;if(n!=1){do s=i.stepBackward();while(s&&a.test(s.type));s=i.stepForward()}f.start.row=i.getCurrentTokenRow(),f.start.column=i.getCurrentTokenColumn()+s.value.length,i=new o(this,e,t);var l=this.getState(i.$row);if(n!=-1){var c=-1;do{s=i.stepForward();if(c==-1){var h=this.getState(i.$row);l.toString()!==h.toString()&&(c=i.$row)}else if(i.$row>c)break}while(s&&a.test(s.type));s=i.stepBackward()}else s=i.getCurrentToken();f.end.row=i.getCurrentTokenRow(),f.end.column=i.getCurrentTokenColumn();if(f.start.row==f.end.row&&f.start.column>f.end.column)return;return f}},this.foldAll=function(e,t,n,r){n==undefined&&(n=1e5);var i=this.foldWidgets;if(!i)return;t=t||this.getLength(),e=e||0;for(var s=e;s<t;s++){i[s]==null&&(i[s]=this.getFoldWidget(s));if(i[s]!=\"start\")continue;if(r&&!r(s))continue;var o=this.getFoldWidgetRange(s);o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e&&(s=o.end.row,o.collapseChildren=n,this.addFold(\"...\",o))}},this.foldToLevel=function(e){this.foldAll();while(e-->0)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,function(t){var n=e.getTokens(t);for(var r=0;r<n.length;r++){var i=n[r];if(i.type==\"text\"&&/^\\s+$/.test(i.value))continue;return/comment/.test(i.type)?!0:!1}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle=\"markbegin\",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error(\"invalid fold style: \"+e+\"[\"+Object.keys(this.$foldStyles).join(\", \")+\"]\");if(this.$foldStyle==e)return;this.$foldStyle=e,e==\"manual\"&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)},this.$setFolding=function(e){if(this.$foldMode==e)return;this.$foldMode=e,this.off(\"change\",this.$updateFoldWidgets),this.off(\"tokenizerUpdate\",this.$tokenizerUpdateFoldWidgets),this._signal(\"changeAnnotation\");if(!e||this.$foldStyle==\"manual\"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on(\"change\",this.$updateFoldWidgets),this.on(\"tokenizerUpdate\",this.$tokenizerUpdateFoldWidgets)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};var r=e-1,i;while(r>=0){var s=n[r];s==null&&(s=n[r]=this.getFoldWidget(r));if(s==\"start\"){var o=this.getFoldWidgetRange(r);i||(i=o);if(o&&o.end.row>=e)break}r--}return{range:r!==-1&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){t instanceof u&&(t=t.domEvent);var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=\" ace_invalid\")}},this.$toggleFoldWidget=function(e,t){if(!this.getFoldWidget)return;var n=this.getFoldWidget(e),r=this.getLine(e),i=n===\"end\"?-1:1,s=this.getFoldAt(e,i===-1?0:r.length,i);if(s)return t.children||t.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()){s=this.getFoldAt(o.start.row,o.start.column,1);if(s&&o.isEqual(s.range))return this.removeFold(s),s}if(t.siblings){var u=this.getParentFoldRangeData(e);if(u.range)var a=u.range.start.row+1,f=u.range.end.row;this.foldAll(a,f,t.all?1e4:0)}else t.children?(f=o?o.end.row:this.getLength(),this.foldAll(e+1,f,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold(\"...\",o));return o},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(n)return;var r=this.getParentFoldRangeData(t,!0);n=r.range||r.firstRange;if(n){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold(\"...\",n)}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(n===0)this.foldWidgets[t]=null;else if(e.action==\"remove\")this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var r=e(\"../range\").Range,i=e(\"./fold_line\").FoldLine,s=e(\"./fold\").Fold,o=e(\"../token_iterator\").TokenIterator,u=e(\"../mouse/mouse_event\").MouseEvent;t.Folding=a}),ace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"],function(e,t,n){\"use strict\";function s(){this.findMatchingBracket=function(e,t){if(e.column==0)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(n==\"\")return null;var r=n.match(/([\\(\\[\\{])|([\\)\\]\\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t=this.getLine(e.row),n=!0,r,s=t.charAt(e.column-1),o=s&&s.match(/([\\(\\[\\{])|([\\)\\]\\}])/);o||(s=t.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\\(\\[\\{])|([\\)\\]\\}])/),n=!1);if(!o)return null;if(o[1]){var u=this.$findClosingBracket(o[1],e);if(!u)return null;r=i.fromPoints(e,u),n||(r.end.column++,r.start.column--),r.cursor=r.end}else{var u=this.$findOpeningBracket(o[2],e);if(!u)return null;r=i.fromPoints(u,e),n||(r.start.column++,r.end.column--),r.cursor=r.start}return r},this.getMatchingBracketRanges=function(e,t){var n=this.getLine(e.row),r=/([\\(\\[\\{])|([\\)\\]\\}])/,s=!t&&n.charAt(e.column-1),o=s&&s.match(r);o||(s=(t===undefined||t)&&n.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(r));if(!o)return null;var u=new i(e.row,e.column-1,e.row,e.column),a=o[1]?this.$findClosingBracket(o[1],e):this.$findOpeningBracket(o[2],e);if(!a)return[u];var f=new i(a.row,a.column,a.row,a.column+1);return[u,f]},this.$brackets={\")\":\"(\",\"(\":\")\",\"]\":\"[\",\"[\":\"]\",\"{\":\"}\",\"}\":\"{\",\"<\":\">\",\">\":\"<\"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp(\"(\\\\.?\"+u.type.replace(\".\",\"\\\\.\").replace(\"rparen\",\".paren\").replace(/\\b(?:end)\\b/,\"(?:start|begin|end)\").replace(/-close\\b/,\"-(close|open)\")+\")+\"));var a=t.column-o.getCurrentTokenColumn()-2,f=u.value;for(;;){while(a>=0){var l=f.charAt(a);if(l==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else l==e&&(s+=1);a-=1}do u=o.stepBackward();while(u&&!n.test(u.type));if(u==null)break;f=u.value,a=f.length-1}return null},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp(\"(\\\\.?\"+u.type.replace(\".\",\"\\\\.\").replace(\"lparen\",\".paren\").replace(/\\b(?:start|begin)\\b/,\"(?:start|begin|end)\").replace(/-open\\b/,\"-(close|open)\")+\")+\"));var a=t.column-o.getCurrentTokenColumn();for(;;){var f=u.value,l=f.length;while(a<l){var c=f.charAt(a);if(c==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else c==e&&(s+=1);a+=1}do u=o.stepForward();while(u&&!n.test(u.type));if(u==null)break;a=0}return null},this.getMatchingTags=function(e){var t=new r(this,e.row,e.column),n=this.$findTagName(t);if(!n)return;var i=t.stepBackward();return i.value===\"<\"?this.$findClosingTag(t,n):this.$findOpeningTag(t,n)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,r=!1;if(t&&t.type.indexOf(\"tag-name\")===-1)do r?t=e.stepBackward():t=e.stepForward(),t&&(t.value===\"/>\"?r=!0:t.type.indexOf(\"tag-name\")!==-1&&(n=!0));while(t&&!n);return t},this.$findClosingTag=function(e,t){var n,r=t.value,s=t.value,o=0,u=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var a=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),f=!1;do{n=t;if(n.type.indexOf(\"tag-close\")!==-1&&!f){var l=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);f=!0}t=e.stepForward();if(t){if(t.value===\">\"&&!f){var l=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);f=!0}if(t.type.indexOf(\"tag-name\")!==-1){r=t.value;if(s===r)if(n.value===\"<\")o++;else if(n.value===\"</\"){o--;if(o<0){e.stepBackward();var c=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var h=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);t.type.indexOf(\"tag-close\")===-1&&(t=e.stepForward());if(!t||t.value!==\">\")return;var p=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}}else if(s===r&&t.value===\"/>\"){o--;if(o<0)var c=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),h=c,p=h,l=new i(a.end.row,a.end.column,a.end.row,a.end.column+1)}}}while(t&&o>=0);if(u&&l&&c&&p&&a&&h)return{openTag:new i(u.start.row,u.start.column,l.end.row,l.end.column),closeTag:new i(c.start.row,c.start.column,p.end.row,p.end.column),openTagName:a,closeTagName:h}},this.$findOpeningTag=function(e,t){var n=e.getCurrentToken(),r=t.value,s=0,o=e.getCurrentTokenRow(),u=e.getCurrentTokenColumn(),a=u+2,f=new i(o,u,o,a);e.stepForward();var l=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);t.type.indexOf(\"tag-close\")===-1&&(t=e.stepForward());if(!t||t.value!==\">\")return;var c=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{t=n,o=e.getCurrentTokenRow(),u=e.getCurrentTokenColumn(),a=u+t.value.length,n=e.stepBackward();if(t)if(t.type.indexOf(\"tag-name\")!==-1){if(r===t.value)if(n.value===\"<\"){s++;if(s>0){var h=new i(o,u,o,a),p=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do t=e.stepForward();while(t&&t.value!==\">\");var d=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else n.value===\"</\"&&s--}else if(t.value===\"/>\"){var v=0,m=n;while(m){if(m.type.indexOf(\"tag-name\")!==-1&&m.value===r){s--;break}if(m.value===\"<\")break;m=e.stepBackward(),v++}for(var g=0;g<v;g++)e.stepForward()}}while(n&&s<=0);if(p&&d&&f&&c&&h&&l)return{openTag:new i(p.start.row,p.start.column,d.end.row,d.end.column),closeTag:new i(f.start.row,f.start.column,c.end.row,c.end.column),openTagName:h,closeTagName:l}}}var r=e(\"../token_iterator\").TokenIterator,i=e(\"../range\").Range;t.BracketMatch=s}),ace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/line_widgets\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/undomanager\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"],function(e,t,n){\"use strict\";function N(e){return e<4352?!1:e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510}var r=e(\"./lib/oop\"),i=e(\"./lib/lang\"),s=e(\"./bidihandler\").BidiHandler,o=e(\"./config\"),u=e(\"./lib/event_emitter\").EventEmitter,a=e(\"./selection\").Selection,f=e(\"./mode/text\").Mode,l=e(\"./range\").Range,c=e(\"./line_widgets\").LineWidgets,h=e(\"./document\").Document,p=e(\"./background_tokenizer\").BackgroundTokenizer,d=e(\"./search_highlight\").SearchHighlight,v=e(\"./undomanager\").UndoManager,m=function(){function e(t,n){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id=\"session\"+ ++e.$uid,this.$foldData.toString=function(){return this.join(\"\\n\")},this.$gutterCustomWidgets={},this.bgTokenizer=new p((new f).getTokenizer(),this);var r=this;this.bgTokenizer.on(\"update\",function(e){r._signal(\"tokenizerUpdate\",e)}),this.on(\"changeFold\",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this);if(typeof t!=\"object\"||!t.getLine)t=new h(t);this.setDocument(t),this.selection=new a(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on(\"changeSelection\",this.$onSelectionChange),this.selection.on(\"changeCursor\",this.$onSelectionChange),this.$bidiHandler=new s(this),o.resetOptions(this),this.setMode(n),o._signal(\"session\",this),this.destroyed=!1,this.$initOperationListeners()}return e.prototype.$initOperationListeners=function(){var e=this;this.curOp=null,this.on(\"change\",function(){e.curOp||(e.startOperation(),e.curOp.selectionBefore=e.$lastSel),e.curOp.docChanged=!0},!0),this.on(\"changeSelection\",function(){e.curOp||(e.startOperation(),e.curOp.selectionBefore=e.$lastSel),e.curOp.selectionChanged=!0},!0),this.$operationResetTimer=i.delayedCall(this.endOperation.bind(this,!0))},e.prototype.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(e={}),this.$operationResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal(\"startOperation\",e)},e.prototype.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1){this.curOp=null,this._signal(\"endOperation\",e);return}if(e==1&&this.curOp.command&&this.curOp.command.name==\"mouse\")return;var t=this.selection.toJSON();this.curOp.selectionAfter=t,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(t),this._signal(\"beforeEndOperation\"),this.prevOp=this.curOp,this.curOp=null,this._signal(\"endOperation\",e)}},e.prototype.setDocument=function(e){this.doc&&this.doc.off(\"change\",this.$onChange),this.doc=e,e.on(\"change\",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},e.prototype.getDocument=function(){return this.doc},Object.defineProperty(e.prototype,\"widgetManager\",{get:function(){var e=new c(this);return this.widgetManager=e,this.$editor&&e.attach(this.$editor),e},set:function(e){Object.defineProperty(this,\"widgetManager\",{writable:!0,enumerable:!0,configurable:!0,value:e})},enumerable:!1,configurable:!0}),e.prototype.$resetRowCache=function(e){if(!e){this.$docRowCache=[],this.$screenRowCache=[];return}var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},e.prototype.$getRowCacheIndex=function(e,t){var n=0,r=e.length-1;while(n<=r){var i=n+r>>1,s=e[i];if(t>s)n=i+1;else{if(!(t<s))return i;r=i-1}}return n-1},e.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},e.prototype.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},e.prototype.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:\"removeFolds\",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal(\"change\",e)},e.prototype.onSelectionChange=function(){this._signal(\"changeSelection\")},e.prototype.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},e.fromJSON=function(t){typeof t==\"string\"&&(t=JSON.parse(t));var n=new v;n.$undoStack=t.history.undo,n.$redoStack=t.history.redo,n.mark=t.history.mark,n.$rev=t.history.rev;var r=new e(t.value);return t.folds.forEach(function(e){r.addFold(\"...\",l.fromPoints(e.start,e.end))}),r.setAnnotations(t.annotations),r.setBreakpoints(t.breakpoints),r.setMode(t.mode),r.setScrollLeft(t.scrollLeft),r.setScrollTop(t.scrollTop),r.setUndoManager(n),r.selection.fromJSON(t.selection),r},e.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(e){return e.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},e.prototype.toString=function(){return this.doc.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.getState=function(e){return this.bgTokenizer.getState(e)},e.prototype.getTokens=function(e){return this.bgTokenizer.getTokens(e)},e.prototype.getTokenAt=function(e,t){var n=this.bgTokenizer.getTokens(e),r,i=0;if(t==null){var s=n.length-1;i=this.getLine(e).length}else for(var s=0;s<n.length;s++){i+=n[s].value.length;if(i>=t)break}return r=n[s],r?(r.index=s,r.start=i-r.value.length,r):null},e.prototype.setUndoManager=function(e){this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel();if(e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},e.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},e.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},e.prototype.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(\" \",this.getTabSize()):\"\t\"},e.prototype.setUseSoftTabs=function(e){this.setOption(\"useSoftTabs\",e)},e.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},e.prototype.setTabSize=function(e){this.setOption(\"tabSize\",e)},e.prototype.getTabSize=function(){return this.$tabSize},e.prototype.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},e.prototype.setNavigateWithinSoftTabs=function(e){this.setOption(\"navigateWithinSoftTabs\",e)},e.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},e.prototype.setOverwrite=function(e){this.setOption(\"overwrite\",e)},e.prototype.getOverwrite=function(){return this.$overwrite},e.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},e.prototype.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=\"\"),this.$decorations[e]+=\" \"+t,this._signal(\"changeBreakpoint\",{})},e.prototype.removeGutterCustomWidget=function(e){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(e)},e.prototype.addGutterCustomWidget=function(e,t){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(e,t)},e.prototype.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||\"\").replace(\" \"+t,\"\"),this._signal(\"changeBreakpoint\",{})},e.prototype.getBreakpoints=function(){return this.$breakpoints},e.prototype.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]=\"ace_breakpoint\";this._signal(\"changeBreakpoint\",{})},e.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal(\"changeBreakpoint\",{})},e.prototype.setBreakpoint=function(e,t){t===undefined&&(t=\"ace_breakpoint\"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal(\"changeBreakpoint\",{})},e.prototype.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal(\"changeBreakpoint\",{})},e.prototype.addMarker=function(e,t,n,r){var i=this.$markerId++,s={range:e,type:n||\"line\",renderer:typeof n==\"function\"?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=s,this._signal(\"changeFrontMarker\")):(this.$backMarkers[i]=s,this._signal(\"changeBackMarker\")),i},e.prototype.addDynamicMarker=function(e,t){if(!e.update)return;var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal(\"changeFrontMarker\")):(this.$backMarkers[n]=e,this._signal(\"changeBackMarker\")),e},e.prototype.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(!t)return;var n=t.inFront?this.$frontMarkers:this.$backMarkers;delete n[e],this._signal(t.inFront?\"changeFrontMarker\":\"changeBackMarker\")},e.prototype.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},e.prototype.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,\"ace_selected-word\",\"text\");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},e.prototype.highlightLines=function(e,t,n,r){typeof t!=\"number\"&&(n=t,t=e),n||(n=\"ace_step\");var i=new l(e,0,t,Infinity);return i.id=this.addMarker(i,n,\"fullLine\",r),i},e.prototype.setAnnotations=function(e){this.$annotations=e,this._signal(\"changeAnnotation\",{})},e.prototype.getAnnotations=function(){return this.$annotations||[]},e.prototype.clearAnnotations=function(){this.setAnnotations([])},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\\r?\\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine=\"\\n\"},e.prototype.getWordRange=function(e,t){var n=this.getLine(e),r=!1;t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe));if(r)var i=this.tokenRe;else if(/^\\s+$/.test(n.slice(t-1,t+1)))var i=/\\s/;else var i=this.nonTokenRe;var s=t;if(s>0){do s--;while(s>=0&&n.charAt(s).match(i));s++}var o=t;while(o<n.length&&n.charAt(o).match(i))o++;return new l(e,s,e,o)},e.prototype.getAWordRange=function(e,t){var n=this.getWordRange(e,t),r=this.getLine(n.end.row);while(r.charAt(n.end.column).match(/[ \\t]/))n.end.column+=1;return n},e.prototype.setNewLineMode=function(e){this.doc.setNewLineMode(e)},e.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},e.prototype.setUseWorker=function(e){this.setOption(\"useWorker\",e)},e.prototype.getUseWorker=function(){return this.$useWorker},e.prototype.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal(\"tokenizerUpdate\",e)},e.prototype.setMode=function(e,t){if(e&&typeof e==\"object\"){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||\"ace/mode/text\";this.$modes[\"ace/mode/text\"]||(this.$modes[\"ace/mode/text\"]=new f);if(this.$modes[r]&&!n){this.$onChangeMode(this.$modes[r]),t&&t();return}this.$modeId=r,o.loadModule([\"mode\",r],function(e){if(this.destroyed)return;if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes[\"ace/mode/text\"],!0)},e.prototype.$onChangeMode=function(e,t){t||(this.$modeId=e.$id);if(this.$mode===e)return;var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var r=e.getTokenizer();if(r.on!==undefined){var i=this.onReloadTokenizer.bind(this);r.on(\"update\",i)}this.bgTokenizer.setTokenizer(r),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit(\"changeMode\",{oldMode:n,mode:e}))},e.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},e.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn(\"Could not load worker\",e),this.$worker=null}},e.prototype.getMode=function(){return this.$mode},e.prototype.setScrollTop=function(e){if(this.$scrollTop===e||isNaN(e))return;this.$scrollTop=e,this._signal(\"changeScrollTop\",e)},e.prototype.getScrollTop=function(){return this.$scrollTop},e.prototype.setScrollLeft=function(e){if(this.$scrollLeft===e||isNaN(e))return;this.$scrollLeft=e,this._signal(\"changeScrollLeft\",e)},e.prototype.getScrollLeft=function(){return this.$scrollLeft},e.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},e.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},e.prototype.$computeWidth=function(e){if(this.$modified||e){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,s=this.$foldData[i],o=s?s.start.row:Infinity,u=t.length;for(var a=0;a<u;a++){if(a>o){a=s.end.row+1;if(a>=u)break;s=this.$foldData[i++],o=s?s.start.row:Infinity}n[a]==null&&(n[a]=this.$getStringScreenWidth(t[a])[0]),n[a]>r&&(r=n[a])}this.screenWidth=r}},e.prototype.getLine=function(e){return this.doc.getLine(e)},e.prototype.getLines=function(e,t){return this.doc.getLines(e,t)},e.prototype.getLength=function(){return this.doc.getLength()},e.prototype.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},e.prototype.insert=function(e,t){return this.doc.insert(e,t)},e.prototype.remove=function(e){return this.doc.remove(e)},e.prototype.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},e.prototype.undoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;for(var n=e.length-1;n!=-1;n--){var r=e[n];r.action==\"insert\"||r.action==\"remove\"?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1},e.prototype.redoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];(r.action==\"insert\"||r.action==\"remove\")&&this.doc.$safeApplyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1},e.prototype.setUndoSelect=function(e){this.$undoSelect=e},e.prototype.$getUndoSelection=function(e,t){function n(e){return t?e.action!==\"insert\":e.action===\"insert\"}var r,i;for(var s=0;s<e.length;s++){var o=e[s];if(!o.start)continue;if(!r){n(o)?r=l.fromPoints(o.start,o.end):r=l.fromPoints(o.start,o.start);continue}n(o)?(i=o.start,r.compare(i.row,i.column)==-1&&r.setStart(i),i=o.end,r.compare(i.row,i.column)==1&&r.setEnd(i)):(i=o.start,r.compare(i.row,i.column)==-1&&(r=l.fromPoints(o.start,o.start)))}return r},e.prototype.replace=function(e,t){return this.doc.replace(e,t)},e.prototype.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),s=l.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row,u=o?-e.end.column:e.start.column-e.end.column;u&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=u),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=u)),o&&s.start.row>=e.end.row&&(s.start.row+=o,s.end.row+=o)}s.end=this.insert(s.start,r);if(i.length){var a=e.start,f=s.start,o=f.row-a.row,u=f.column-a.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==a.row&&(e.start.column+=u),e.end.row==a.row&&(e.end.column+=u),e.start.row+=o,e.end.row+=o,e}))}return s},e.prototype.indentRows=function(e,t,n){n=n.replace(/\\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},e.prototype.outdentRows=function(e){var t=e.collapseRows(),n=new l(0,0,0,0),r=this.getTabSize();for(var i=t.start.row;i<=t.end.row;++i){var s=this.getLine(i);n.start.row=i,n.end.row=i;for(var o=0;o<r;++o)if(s.charAt(o)!=\" \")break;o<r&&s.charAt(o)==\"\t\"?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},e.prototype.$moveLines=function(e,t,n){e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t);if(n<0){var r=this.getRowFoldStart(e+n);if(r<0)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var s=new l(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),u=n==0?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,u),o.length&&this.addFolds(o),i},e.prototype.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},e.prototype.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},e.prototype.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},e.prototype.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},e.prototype.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},e.prototype.$clipPositionToDocument=function(e,t){t=Math.max(0,t);if(e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},e.prototype.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},e.prototype.setUseWrapMode=function(e){if(e!=this.$useWrapMode){this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0);if(e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal(\"changeWrapMode\")}},e.prototype.getUseWrapMode=function(){return this.$useWrapMode},e.prototype.setWrapLimitRange=function(e,t){if(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal(\"changeWrapMode\")},e.prototype.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal(\"changeWrapLimit\")),!0):!1},e.prototype.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},e.prototype.getWrapLimit=function(){return this.$wrapLimit},e.prototype.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},e.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},e.prototype.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,s=r.row,o=i.row,u=o-s,a=null;this.$updating=!0;if(u!=0)if(n===\"remove\"){this[t?\"$wrapData\":\"$rowLengthCache\"].splice(s,u);var f=this.$foldData;a=this.getFoldsInRange(e),this.removeFolds(a);var l=this.getFoldLine(i.row),c=0;if(l){l.addRemoveChars(i.row,i.column,r.column-i.column),l.shiftRow(-u);var h=this.getFoldLine(s);h&&h!==l&&(h.merge(l),l=h),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=i.row&&l.shiftRow(-u)}o=s}else{var p=Array(u);p.unshift(s,0);var d=t?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,p);var f=this.$foldData,l=this.getFoldLine(s),c=0;if(l){var v=l.range.compareInside(r.row,r.column);v==0?(l=l.split(r.row,r.column),l&&(l.shiftRow(u),l.addRemoveChars(o,0,i.column-r.column))):v==-1&&(l.addRemoveChars(s,0,i.column-r.column),l.shiftRow(u)),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=s&&l.shiftRow(u)}}else{u=Math.abs(e.start.column-e.end.column),n===\"remove\"&&(a=this.getFoldsInRange(e),this.removeFolds(a),u=-u);var l=this.getFoldLine(s);l&&l.addRemoveChars(s,r.column,u)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error(\"doc.getLength() and $wrapData.length have to be the same!\"),this.$updating=!1,t?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),a},e.prototype.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},e.prototype.$updateWrapData=function(e,t){var n=this.doc.getAllLines(),r=this.getTabSize(),i=this.$wrapData,s=this.$wrapLimit,o,u,a=e;t=Math.min(t,n.length-1);while(a<=t)u=this.getFoldLine(a,u),u?(o=[],u.walk(function(e,t,r,i){var s;if(e!=null){s=this.$getDisplayTokens(e,o.length),s[0]=b;for(var u=1;u<s.length;u++)s[u]=w}else s=this.$getDisplayTokens(n[t].substring(i,r),o.length);o=o.concat(s)}.bind(this),u.end.row,n[u.end.row].length+1),i[u.start.row]=this.$computeWrapSplits(o,s,r),a=u.end.row+1):(o=this.$getDisplayTokens(n[a]),i[a]=this.$computeWrapSplits(o,s,r),a++)},e.prototype.$computeWrapSplits=function(e,t,n){function l(){var t=0;if(f===0)return t;if(a)for(var r=0;r<e.length;r++){var i=e[r];if(i==S)t+=1;else{if(i!=x){if(i==T)continue;break}t+=n}}return u&&a!==!1&&(t+=n),Math.min(t,f)}function c(t){var n=t-s;for(var i=s;i<t;i++){var u=e[i];if(u===12||u===2)n-=1}r.length||(h=l(),r.indent=h),o+=n,r.push(o),s=t}if(e.length==0)return[];var r=[],i=e.length,s=0,o=0,u=this.$wrapAsCode,a=this.$indentedSoftWrap,f=t<=Math.max(2*n,8)||a===!1?0:Math.floor(t/2),h=0;while(i-s>t-h){var p=s+t-h;if(e[p-1]>=S&&e[p]>=S){c(p);continue}if(e[p]==b||e[p]==w){for(p;p!=s-1;p--)if(e[p]==b)break;if(p>s){c(p);continue}p=s+t;for(p;p<e.length;p++)if(e[p]!=w)break;if(p==e.length)break;c(p);continue}var d=Math.max(p-(t-(t>>2)),s-1);while(p>d&&e[p]<b)p--;if(u){while(p>d&&e[p]<b)p--;while(p>d&&e[p]==E)p--}else while(p>d&&e[p]<S)p--;if(p>d){c(++p);continue}p=s+t,e[p]==y&&p--,c(p-h)}return r},e.prototype.$getDisplayTokens=function(e,t){var n=[],r;t=t||0;for(var i=0;i<e.length;i++){var s=e.charCodeAt(i);if(s==9){r=this.getScreenTabSize(n.length+t),n.push(x);for(var o=1;o<r;o++)n.push(T)}else s==32?n.push(S):s>39&&s<48||s>57&&s<64?n.push(E):s>=4352&&N(s)?n.push(g,y):n.push(g)}return n},e.prototype.$getStringScreenWidth=function(e,t,n){if(t==0)return[0,0];t==null&&(t=Infinity),n=n||0;var r,i;for(i=0;i<e.length;i++){r=e.charCodeAt(i),r==9?n+=this.getScreenTabSize(n):r>=4352&&N(r)?n+=2:n+=1;if(n>t)break}return[n,i]},e.prototype.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),!this.$useWrapMode||!this.$wrapData[e]?t:this.$wrapData[e].length+t},e.prototype.getRowLineCount=function(e){return!this.$useWrapMode||!this.$wrapData[e]?1:this.$wrapData[e].length+1},e.prototype.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},e.prototype.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},e.prototype.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},e.prototype.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},e.prototype.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:undefined},e.prototype.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},e.prototype.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},e.prototype.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},e.prototype.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i=0,s=0,o,u=0,a=0,f=this.$screenRowCache,l=this.$getRowCacheIndex(f,e),c=f.length;if(c&&l>=0)var u=f[l],i=this.$docRowCache[l],h=e>f[c-1];else var h=!c;var p=this.getLength()-1,d=this.getNextFoldLine(i),v=d?d.start.row:Infinity;while(u<=e){a=this.getRowLength(i);if(u+a>e||i>=p)break;u+=a,i++,i>v&&(i=d.end.row+1,d=this.getNextFoldLine(i,d),v=d?d.start.row:Infinity),h&&(this.$docRowCache.push(i),this.$screenRowCache.push(u))}if(d&&d.start.row<=i)r=this.getFoldDisplayLine(d),i=d.start.row;else{if(u+a<=e||i>p)return{row:p,column:this.getLine(p).length};r=this.getLine(i),d=null}var m=0,g=Math.floor(e-u);if(this.$useWrapMode){var y=this.$wrapData[i];y&&(o=y[g],g>0&&y.length&&(m=y.indent,s=y[g-1]||y[y.length-1],r=r.substring(s)))}return n!==undefined&&this.$bidiHandler.isBidiRow(u+g,i,g)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(r,t-m)[1],this.$useWrapMode&&s>=o&&(s=o-1),d?d.idxToPosition(s):{row:i,column:s}},e.prototype.documentToScreenPosition=function(e,t){if(typeof t==\"undefined\")var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,s=null;s=this.getFoldAt(e,t,1),s&&(e=s.start.row,t=s.start.column);var o,u=0,a=this.$docRowCache,f=this.$getRowCacheIndex(a,e),l=a.length;if(l&&f>=0)var u=a[f],r=this.$screenRowCache[f],c=e>a[l-1];else var c=!l;var h=this.getNextFoldLine(u),p=h?h.start.row:Infinity;while(u<e){if(u>=p){o=h.end.row+1;if(o>e)break;h=this.getNextFoldLine(o,h),p=h?h.start.row:Infinity}else o=u+1;r+=this.getRowLength(u),u=o,c&&(this.$docRowCache.push(u),this.$screenRowCache.push(r))}var d=\"\";h&&u>=p?(d=this.getFoldDisplayLine(h,e,t),i=h.start.row):(d=this.getLine(e).substring(0,t),i=e);var v=0;if(this.$useWrapMode){var m=this.$wrapData[i];if(m){var g=0;while(d.length>=m[g])r++,g++;d=d.substring(m[g-1]||0,d.length),v=g>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[u]&&this.lineWidgets[u].rowsAbove&&(r+=this.lineWidgets[u].rowsAbove),{row:r,column:v+this.$getStringScreenWidth(d)[0]}},e.prototype.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},e.prototype.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},e.prototype.getScreenLength=function(){var e=0,t=null;if(!this.$useWrapMode){e=this.getLength();var n=this.$foldData;for(var r=0;r<n.length;r++)t=n[r],e-=t.end.row-t.start.row}else{var i=this.$wrapData.length,s=0,r=0,t=this.$foldData[r++],o=t?t.start.row:Infinity;while(s<i){var u=this.$wrapData[s];e+=u?u.length+1:1,s++,s>o&&(s=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:Infinity)}}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},e.prototype.$setFontMetrics=function(e){if(!this.$enableVarChar)return;this.$getStringScreenWidth=function(t,n,r){if(n===0)return[0,0];n||(n=Infinity),r=r||0;var i,s;for(s=0;s<t.length;s++){i=t.charAt(s),i===\"\t\"?r+=this.getScreenTabSize(r):r+=e.getCharacterWidth(i);if(r>n)break}return[r,s]}},e.prototype.getPrecedingCharacter=function(){var e=this.selection.getCursor();if(e.column===0)return e.row===0?\"\":this.doc.getNewLineCharacter();var t=this.getLine(e.row);return t[e.column-1]},e.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off(\"change\",this.$onChange),this.selection&&(this.selection.off(\"changeCursor\",this.$onSelectionChange),this.selection.off(\"changeSelection\",this.$onSelectionChange)),this.selection.detach()},e}();m.$uid=0,m.prototype.$modes=o.$modes,m.prototype.getValue=m.prototype.toString,m.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},m.prototype.$overwrite=!1,m.prototype.$mode=null,m.prototype.$modeId=null,m.prototype.$scrollTop=0,m.prototype.$scrollLeft=0,m.prototype.$wrapLimit=80,m.prototype.$useWrapMode=!1,m.prototype.$wrapLimitRange={min:null,max:null},m.prototype.lineWidgets=null,m.prototype.isFullWidth=N,r.implement(m.prototype,u);var g=1,y=2,b=3,w=4,E=9,S=10,x=11,T=12;e(\"./edit_session/folding\").Folding.call(m.prototype),e(\"./edit_session/bracket_match\").BracketMatch.call(m.prototype),o.defineOptions(m.prototype,\"session\",{wrap:{set:function(e){!e||e==\"off\"?e=!1:e==\"free\"?e=!0:e==\"printMargin\"?e=-1:typeof e==\"string\"&&(e=parseInt(e,10)||!1);if(this.$wrap==e)return;this.$wrap=e;if(!e)this.setUseWrapMode(!1);else{var t=typeof e==\"number\"?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?\"printMargin\":this.getWrapLimitRange().min?this.$wrap:\"free\":\"off\"},handlesSet:!0},wrapMethod:{set:function(e){e=e==\"auto\"?this.$mode.type!=\"text\":e!=\"text\",e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:\"auto\"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal(\"changeBreakpoint\")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){e=parseInt(e),e>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal(\"changeTabSize\"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal(\"changeOverwrite\")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=m}),ace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"],function(e,t,n){\"use strict\";function u(e,t){function i(e,r){r===void 0&&(r=!0);var i=n&&t.$supportsUnicodeFlag?new RegExp(\"[\\\\p{L}\\\\p{N}_]\",\"u\"):new RegExp(\"\\\\w\");if(i.test(e)||t.regExp)return n&&t.$supportsUnicodeFlag?r?\"(?<=^|[^\\\\p{L}\\\\p{N}_])\":\"(?=[^\\\\p{L}\\\\p{N}_]|$)\":\"\\\\b\";return\"\"}var n=r.supportsLookbehind(),s=Array.from(e),o=s[0],u=s[s.length-1];return i(o)+e+i(u,!1)}function a(e,t,n){var r=null,i=0;while(i<=e.length){t.lastIndex=i;var s=t.exec(e);if(!s)break;var o=s.index+s[0].length;if(o>e.length-n)break;if(!r||o>r.index+r[0].length)r=s;i=s.index+1}return r}function f(e,t){var n=5e3,r={row:t,column:0},i=e.doc.positionToIndex(r),s=i+n,o=e.doc.indexToPosition(s),u=o.row;return u+1}var r=e(\"./lib/lang\"),i=e(\"./lib/oop\"),s=e(\"./range\").Range,o=function(){function e(){this.$options={}}return e.prototype.set=function(e){return i.mixin(this.$options,e),this},e.prototype.getOptions=function(){return r.copyObject(this.$options)},e.prototype.setOptions=function(e){this.$options=e},e.prototype.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,i,o){return r=new s(e,n,i,o),n==o&&t.start&&t.start.start&&t.skipCurrent!=0&&r.isEqual(t.start)?(r=null,!1):!0}),r},e.prototype.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],u=t.re;if(t.$isMultiLine){var a=u.length,f=i.length-a,l;e:for(var c=u.offset||0;c<=f;c++){for(var h=0;h<a;h++)if(i[c+h].search(u[h])==-1)continue e;var p=i[c],d=i[c+a-1],v=p.length-p.match(u[0])[0].length,m=d.match(u[a-1])[0].length;if(l&&l.end.row===c&&l.end.column>v)continue;o.push(l=new s(c,v,c+a-1,m)),a>2&&(c=c+a-2)}}else for(var g,y=0;y<i.length;y++)if(this.$isMultilineSearch(t)){var b=i.length-1;g=this.$multiLineForward(e,u,y,b);if(g){var w=g.endRow<=b?g.endRow-1:b;w>y&&(y=w),o.push(new s(g.startRow,g.startCol,g.endRow,g.endCol))}}else{g=r.getMatchOffsets(i[y],u);for(var h=0;h<g.length;h++){var E=g[h];o.push(new s(y,E.offset,y,E.offset+E.length))}}if(n){var S=n.start.column,x=n.end.column,y=0,h=o.length-1;while(y<h&&o[y].start.column<S&&o[y].start.row==0)y++;var T=n.end.row-n.start.row;while(y<h&&o[h].end.column>x&&o[h].end.row==T)h--;o=o.slice(y,h+1);for(y=0,h=o.length;y<h;y++)o[y].start.row+=n.start.row,o[y].end.row+=n.start.row}return o},e.prototype.parseReplaceString=function(e){var t={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},n=\"\";for(var r=0,i=e.length;r<i;r++){var s=e.charCodeAt(r);if(s===t.Backslash){r++;if(r>=i){n+=\"\\\\\";break}var o=e.charCodeAt(r);switch(o){case t.Backslash:n+=\"\\\\\";break;case t.n:n+=\"\\n\";break;case t.t:n+=\"\t\"}continue}if(s===t.DollarSign){r++;if(r>=i){n+=\"$\";break}var u=e.charCodeAt(r);if(u===t.DollarSign){n+=\"$$\";continue}if(u===t.Digit0||u===t.Ampersand){n+=\"$&\";continue}if(t.Digit1<=u&&u<=t.Digit9){n+=\"$\"+e[r];continue}}n+=e[r]}return n||e},e.prototype.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(!r)return;var i=this.$isMultilineSearch(n);i&&(e=e.replace(/\\r\\n|\\r|\\n/g,\"\\n\"));var s=r.exec(e);if(!s||!i&&s[0].length!=e.length)return null;t=n.regExp?this.parseReplaceString(t):t.replace(/\\$/g,\"$$$$\"),t=e.replace(r,t);if(n.preserveCase){t=t.split(\"\");for(var o=Math.min(e.length,e.length);o--;){var u=e[o];u&&u.toLowerCase()!=u?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join(\"\")}return t},e.prototype.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n));var i=e.caseSensitive?\"gm\":\"gmi\";try{new RegExp(n,\"u\"),e.$supportsUnicodeFlag=!0,i+=\"u\"}catch(s){e.$supportsUnicodeFlag=!1}e.wholeWord&&(n=u(n,e)),e.$isMultiLine=!t&&/[\\n\\r]/.test(n);if(e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var o=new RegExp(n,i)}catch(s){o=!1}return e.re=o},e.prototype.$assembleMultilineRegExp=function(e,t){var n=e.replace(/\\r\\n|\\r|\\n/g,\"$\\n^\").split(\"\\n\"),r=[];for(var i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(s){return!1}return r},e.prototype.$isMultilineSearch=function(e){return e.re&&/\\\\r\\\\n|\\\\r|\\\\n/.test(e.re.source)&&e.regExp&&!e.$isMultiLine},e.prototype.$multiLineForward=function(e,t,n,r){var i,s=f(e,n);for(var o=n;o<=r;){for(var u=0;u<s;u++){if(o>r)break;var a=e.getLine(o++);i=i==null?a:i+\"\\n\"+a}var l=t.exec(i);t.lastIndex=0;if(l){var c=i.slice(0,l.index).split(\"\\n\"),h=l[0].split(\"\\n\"),p=n+c.length-1,d=c[c.length-1].length,v=p+h.length-1,m=h.length==1?d+h[0].length:h[h.length-1].length;return{startRow:p,startCol:d,endRow:v,endCol:m}}}return null},e.prototype.$multiLineBackward=function(e,t,n,r,i){var s,o=f(e,r),u=e.getLine(r).length-n;for(var l=r;l>=i;){for(var c=0;c<o&&l>=i;c++){var h=e.getLine(l--);s=s==null?h:h+\"\\n\"+s}var p=a(s,t,u);if(p){var d=s.slice(0,p.index).split(\"\\n\"),v=p[0].split(\"\\n\"),m=l+d.length,g=d[d.length-1].length,y=m+v.length-1,b=v.length==1?g+v[0].length:v[v.length-1].length;return{startRow:m,startCol:g,endRow:y,endCol:b}}}return null},e.prototype.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=this.$isMultilineSearch(t),s=this.$multiLineForward,o=this.$multiLineBackward,u=t.backwards==1,a=t.skipCurrent!=0,f=n.unicode,l=t.range,c=t.start;c||(c=l?l[u?\"end\":\"start\"]:e.selection.getRange()),c.start&&(c=c[a!=u?\"end\":\"start\"]);var h=l?l.start.row:0,p=l?l.end.row:e.getLength()-1;if(u)var d=function(e){var n=c.row;if(m(n,c.column,e))return;for(n--;n>=h;n--)if(m(n,Number.MAX_VALUE,e))return;if(t.wrap==0)return;for(n=p,h=c.row;n>=h;n--)if(m(n,Number.MAX_VALUE,e))return};else var d=function(e){var n=c.row;if(m(n,c.column,e))return;for(n+=1;n<=p;n++)if(m(n,0,e))return;if(t.wrap==0)return;for(n=h,p=c.row;n<=p;n++)if(m(n,0,e))return};if(t.$isMultiLine)var v=n.length,m=function(t,r,i){var s=u?t-v+1:t;if(s<0||s+v>e.getLength())return;var o=e.getLine(s),a=o.search(n[0]);if(!u&&a<r||a===-1)return;for(var f=1;f<v;f++){o=e.getLine(s+f);if(o.search(n[f])==-1)return}var l=o.match(n[v-1])[0].length;if(u&&l>r)return;if(i(s,a,s+v-1,l))return!0};else if(u)var m=function(t,s,u){if(i){var a=o(e,n,s,t,h);if(!a)return!1;if(u(a.startRow,a.startCol,a.endRow,a.endCol))return!0}else{var l=e.getLine(t),c=[],p,d=0;n.lastIndex=0;while(p=n.exec(l)){var v=p[0].length;d=p.index;if(!v){if(d>=l.length)break;n.lastIndex=d+=r.skipEmptyMatch(l,d,f)}if(p.index+v>s)break;c.push(p.index,v)}for(var m=c.length-1;m>=0;m-=2){var g=c[m-1],v=c[m];if(u(t,g,t,g+v))return!0}}};else var m=function(t,o,u){n.lastIndex=o;if(i){var a=s(e,n,t,p);if(a){var l=a.endRow<=p?a.endRow-1:p;l>t&&(t=l)}if(!a)return!1;if(u(a.startRow,a.startCol,a.endRow,a.endCol))return!0}else{var c=e.getLine(t),h,d;while(d=n.exec(c)){var v=d[0].length;h=d.index;if(u(t,h,t,h+v))return!0;if(!v){n.lastIndex=h+=r.skipEmptyMatch(c,h,f);if(h>=c.length)return!1}}}};return{forEach:d}},e}();t.Search=o}),ace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";function a(e){return typeof e==\"object\"&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}if(typeof n!=\"function\"&&n!==null)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=e(\"../lib/keys\"),s=e(\"../lib/useragent\"),o=i.KEY_MODS,u=function(){function e(e,t){this.$init(e,t,!1)}return e.prototype.$init=function(e,t,n){this.platform=t||(s.isMac?\"mac\":\"win\"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=n},e.prototype.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},e.prototype.removeCommand=function(e,t){var n=e&&(typeof e==\"string\"?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var s=r[i];if(s==e)delete r[i];else if(Array.isArray(s)){var o=s.indexOf(e);o!=-1&&(s.splice(o,1),s.length==1&&(r[i]=s[0]))}}},e.prototype.bindKey=function(e,t,n){typeof e==\"object\"&&e&&(n==undefined&&(n=e.position),e=e[this.platform]);if(!e)return;if(typeof t==\"function\")return this.addCommand({exec:t,bindKey:e,name:t.name||e});e.split(\"|\").forEach(function(e){var r=\"\";if(e.indexOf(\" \")!=-1){var i=e.split(/\\s+/);e=i.pop(),i.forEach(function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;r+=(r?\" \":\"\")+n,this._addCommandToBinding(r,\"chainKeys\")},this),r+=\" \"}var s=this.parseKeys(e),u=o[s.hashId]+s.key;this._addCommandToBinding(r+u,t,n)},this)},e.prototype._addCommandToBinding=function(e,t,n){var r=this.commandKeyBinding,i;if(!t)delete r[e];else if(!r[e]||this.$singleCommand)r[e]=t;else{Array.isArray(r[e])?(i=r[e].indexOf(t))!=-1&&r[e].splice(i,1):r[e]=[r[e]],typeof n!=\"number\"&&(n=a(t));var s=r[e];for(i=0;i<s.length;i++){var o=s[i],u=a(o);if(u>n)break}s.splice(i,0,t)}},e.prototype.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(!n)return;if(typeof n==\"string\")return this.bindKey(n,t);typeof n==\"function\"&&(n={exec:n});if(typeof n!=\"object\")return;n.name||(n.name=t),this.addCommand(n)},this)},e.prototype.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},e.prototype.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},e.prototype._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},e.prototype.parseKeys=function(e){var t=e.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(e){return e}),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(t.length==1&&t[0]==\"shift\")return{key:n.toUpperCase(),hashId:-1}}var s=0;for(var o=t.length;o--;){var u=i.KEY_MODS[t[o]];if(u==null)return typeof console!=\"undefined\"&&console.error(\"invalid modifier \"+t[o]+\" in \"+e),!1;s|=u}return{key:n,hashId:s}},e.prototype.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},e.prototype.handleKeyboard=function(e,t,n,r){if(r<0)return;var i=o[t]+n,s=this.commandKeyBinding[i];e.$keyChain&&(e.$keyChain+=\" \"+i,s=this.commandKeyBinding[e.$keyChain]||s);if(s)if(s==\"chainKeys\"||s[s.length-1]==\"chainKeys\")return e.$keyChain=e.$keyChain||i,{command:\"null\"};if(e.$keyChain)if(!!t&&t!=4||n.length!=1){if(t==-1||r>0)e.$keyChain=\"\"}else e.$keyChain=e.$keyChain.slice(0,-i.length-1);return{command:s}},e.prototype.getStatusText=function(e,t){return t.$keyChain||\"\"},e}(),f=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.$singleCommand=!0,r}return r(t,e),t}(u);f.call=function(e,t,n){u.prototype.$init.call(e,t,n,!0)},u.call=function(e,t,n){u.prototype.$init.call(e,t,n,!1)},t.HashHandler=f,t.MultiHashHandler=u}),ace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}if(typeof n!=\"function\"&&n!==null)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=e(\"../lib/oop\"),s=e(\"../keyboard/hash_handler\").MultiHashHandler,o=e(\"../lib/event_emitter\").EventEmitter,u=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.byName=r.commands,r.setDefaultHandler(\"exec\",function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)}),r}return r(t,e),t.prototype.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}typeof e==\"string\"&&(e=this.commands[e]);var i={editor:t,command:e,args:n};return this.canExecute(e,t)?(i.returnValue=this._emit(\"exec\",i),this._signal(\"afterExec\",i),i.returnValue===!1?!1:!0):(this._signal(\"commandUnavailable\",i),!1)},t.prototype.canExecute=function(e,t){return typeof e==\"string\"&&(e=this.commands[e]),e?t&&t.$readOnly&&!e.readOnly?!1:this.$checkCommandState!=0&&e.isAvailable&&!e.isAvailable(t)?!1:!0:!1},t.prototype.toggleRecording=function(e){if(this.$inReplay)return;return e&&e._emit(\"changeStatus\"),this.recording?(this.macro.pop(),this.off(\"exec\",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on(\"exec\",this.$addCommandToMacro),this.recording=!0)},t.prototype.replay=function(e){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t==\"string\"?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}},t.prototype.trimMacro=function(e){return e.map(function(e){return typeof e[0]!=\"string\"&&(e[0]=e[0].name),e[1]||(e=e[0]),e})},t}(s);i.implement(u.prototype,o),t.CommandManager=u}),ace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"],function(e,t,n){\"use strict\";function o(e,t){return{win:e,mac:t}}var r=e(\"../lib/lang\"),i=e(\"../config\"),s=e(\"../range\").Range;t.commands=[{name:\"showSettingsMenu\",description:\"Show settings menu\",bindKey:o(\"Ctrl-,\",\"Command-,\"),exec:function(e){i.loadModule(\"ace/ext/settings_menu\",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:\"goToNextError\",description:\"Go to next error\",bindKey:o(\"Alt-E\",\"F4\"),exec:function(e){i.loadModule(\"ace/ext/error_marker\",function(t){t.showErrorMarker(e,1)})},scrollIntoView:\"animate\",readOnly:!0},{name:\"goToPreviousError\",description:\"Go to previous error\",bindKey:o(\"Alt-Shift-E\",\"Shift-F4\"),exec:function(e){i.loadModule(\"ace/ext/error_marker\",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:\"animate\",readOnly:!0},{name:\"selectall\",description:\"Select all\",bindKey:o(\"Ctrl-A\",\"Command-A\"),exec:function(e){e.selectAll()},readOnly:!0},{name:\"centerselection\",description:\"Center selection\",bindKey:o(null,\"Ctrl-L\"),exec:function(e){e.centerSelection()},readOnly:!0},{name:\"gotoline\",description:\"Go to line...\",bindKey:o(\"Ctrl-L\",\"Command-L\"),exec:function(e,t){typeof t==\"number\"&&!isNaN(t)&&e.gotoLine(t),e.prompt({$type:\"gotoLine\"})},readOnly:!0},{name:\"fold\",bindKey:o(\"Alt-L|Ctrl-F1\",\"Command-Alt-L|Command-F1\"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"unfold\",bindKey:o(\"Alt-Shift-L|Ctrl-Shift-F1\",\"Command-Alt-Shift-L|Command-Shift-F1\"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"toggleFoldWidget\",description:\"Toggle fold widget\",bindKey:o(\"F2\",\"F2\"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"toggleParentFoldWidget\",description:\"Toggle parent fold widget\",bindKey:o(\"Alt-F2\",\"Alt-F2\"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"foldall\",description:\"Fold all\",bindKey:o(null,\"Ctrl-Command-Option-0\"),exec:function(e){e.session.foldAll()},scrollIntoView:\"center\",readOnly:!0},{name:\"foldAllComments\",description:\"Fold all comments\",bindKey:o(null,\"Ctrl-Command-Option-0\"),exec:function(e){e.session.foldAllComments()},scrollIntoView:\"center\",readOnly:!0},{name:\"foldOther\",description:\"Fold other\",bindKey:o(\"Alt-0\",\"Command-Option-0\"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:\"center\",readOnly:!0},{name:\"unfoldall\",description:\"Unfold all\",bindKey:o(\"Alt-Shift-0\",\"Command-Option-Shift-0\"),exec:function(e){e.session.unfold()},scrollIntoView:\"center\",readOnly:!0},{name:\"findnext\",description:\"Find next\",bindKey:o(\"Ctrl-K\",\"Command-G\"),exec:function(e){e.findNext()},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"findprevious\",description:\"Find previous\",bindKey:o(\"Ctrl-Shift-K\",\"Command-Shift-G\"),exec:function(e){e.findPrevious()},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"selectOrFindNext\",description:\"Select or find next\",bindKey:o(\"Alt-K\",\"Ctrl-G\"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:\"selectOrFindPrevious\",description:\"Select or find previous\",bindKey:o(\"Alt-Shift-K\",\"Ctrl-Shift-G\"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:\"find\",description:\"Find\",bindKey:o(\"Ctrl-F\",\"Command-F\"),exec:function(e){i.loadModule(\"ace/ext/searchbox\",function(t){t.Search(e)})},readOnly:!0},{name:\"overwrite\",description:\"Overwrite\",bindKey:\"Insert\",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:\"selecttostart\",description:\"Select to start\",bindKey:o(\"Ctrl-Shift-Home\",\"Command-Shift-Home|Command-Shift-Up\"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"gotostart\",description:\"Go to start\",bindKey:o(\"Ctrl-Home\",\"Command-Home|Command-Up\"),exec:function(e){e.navigateFileStart()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"selectup\",description:\"Select up\",bindKey:o(\"Shift-Up\",\"Shift-Up|Ctrl-Shift-P\"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"golineup\",description:\"Go line up\",bindKey:o(\"Up\",\"Up|Ctrl-P\"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selecttoend\",description:\"Select to end\",bindKey:o(\"Ctrl-Shift-End\",\"Command-Shift-End|Command-Shift-Down\"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"gotoend\",description:\"Go to end\",bindKey:o(\"Ctrl-End\",\"Command-End|Command-Down\"),exec:function(e){e.navigateFileEnd()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"selectdown\",description:\"Select down\",bindKey:o(\"Shift-Down\",\"Shift-Down|Ctrl-Shift-N\"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"golinedown\",description:\"Go line down\",bindKey:o(\"Down\",\"Down|Ctrl-N\"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectwordleft\",description:\"Select word left\",bindKey:o(\"Ctrl-Shift-Left\",\"Option-Shift-Left\"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotowordleft\",description:\"Go to word left\",bindKey:o(\"Ctrl-Left\",\"Option-Left\"),exec:function(e){e.navigateWordLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selecttolinestart\",description:\"Select to line start\",bindKey:o(\"Alt-Shift-Left\",\"Command-Shift-Left|Ctrl-Shift-A\"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotolinestart\",description:\"Go to line start\",bindKey:o(\"Alt-Left|Home\",\"Command-Left|Home|Ctrl-A\"),exec:function(e){e.navigateLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectleft\",description:\"Select left\",bindKey:o(\"Shift-Left\",\"Shift-Left|Ctrl-Shift-B\"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotoleft\",description:\"Go to left\",bindKey:o(\"Left\",\"Left|Ctrl-B\"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectwordright\",description:\"Select word right\",bindKey:o(\"Ctrl-Shift-Right\",\"Option-Shift-Right\"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotowordright\",description:\"Go to word right\",bindKey:o(\"Ctrl-Right\",\"Option-Right\"),exec:function(e){e.navigateWordRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selecttolineend\",description:\"Select to line end\",bindKey:o(\"Alt-Shift-Right\",\"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotolineend\",description:\"Go to line end\",bindKey:o(\"Alt-Right|End\",\"Command-Right|End|Ctrl-E\"),exec:function(e){e.navigateLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectright\",description:\"Select right\",bindKey:o(\"Shift-Right\",\"Shift-Right\"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotoright\",description:\"Go to right\",bindKey:o(\"Right\",\"Right|Ctrl-F\"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectpagedown\",description:\"Select page down\",bindKey:\"Shift-PageDown\",exec:function(e){e.selectPageDown()},readOnly:!0},{name:\"pagedown\",description:\"Page down\",bindKey:o(null,\"Option-PageDown\"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:\"gotopagedown\",description:\"Go to page down\",bindKey:o(\"PageDown\",\"PageDown|Ctrl-V\"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:\"selectpageup\",description:\"Select page up\",bindKey:\"Shift-PageUp\",exec:function(e){e.selectPageUp()},readOnly:!0},{name:\"pageup\",description:\"Page up\",bindKey:o(null,\"Option-PageUp\"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:\"gotopageup\",description:\"Go to page up\",bindKey:\"PageUp\",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:\"scrollup\",description:\"Scroll up\",bindKey:o(\"Ctrl-Up\",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:\"scrolldown\",description:\"Scroll down\",bindKey:o(\"Ctrl-Down\",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:\"selectlinestart\",description:\"Select line start\",bindKey:\"Shift-Home\",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectlineend\",description:\"Select line end\",bindKey:\"Shift-End\",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"togglerecording\",description:\"Toggle recording\",bindKey:o(\"Ctrl-Alt-E\",\"Command-Option-E\"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:\"replaymacro\",description:\"Replay macro\",bindKey:o(\"Ctrl-Shift-E\",\"Command-Shift-E\"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:\"jumptomatching\",description:\"Jump to matching\",bindKey:o(\"Ctrl-\\\\|Ctrl-P\",\"Command-\\\\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:\"forEach\",scrollIntoView:\"animate\",readOnly:!0},{name:\"selecttomatching\",description:\"Select to matching\",bindKey:o(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\",\"Command-Shift-\\\\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:\"forEach\",scrollIntoView:\"animate\",readOnly:!0},{name:\"expandToMatching\",description:\"Expand to matching\",bindKey:o(\"Ctrl-Shift-M\",\"Ctrl-Shift-M\"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:\"forEach\",scrollIntoView:\"animate\",readOnly:!0},{name:\"passKeysToBrowser\",description:\"Pass keys to browser\",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:\"copy\",description:\"Copy\",exec:function(e){},readOnly:!0},{name:\"cut\",description:\"Cut\",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty(),n=t?e.selection.getLineRange():e.selection.getRange();e._emit(\"cut\",n),n.isEmpty()||e.session.remove(n),e.clearSelection()},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"paste\",description:\"Paste\",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:\"cursor\"},{name:\"removeline\",description:\"Remove line\",bindKey:o(\"Ctrl-D\",\"Command-D\"),exec:function(e){e.removeLines()},scrollIntoView:\"cursor\",multiSelectAction:\"forEachLine\"},{name:\"duplicateSelection\",description:\"Duplicate selection\",bindKey:o(\"Ctrl-Shift-D\",\"Command-Shift-D\"),exec:function(e){e.duplicateSelection()},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"sortlines\",description:\"Sort lines\",bindKey:o(\"Ctrl-Alt-S\",\"Command-Alt-S\"),exec:function(e){e.sortLines()},scrollIntoView:\"selection\",multiSelectAction:\"forEachLine\"},{name:\"togglecomment\",description:\"Toggle comment\",bindKey:o(\"Ctrl-/\",\"Command-/\"),exec:function(e){e.toggleCommentLines()},multiSelectAction:\"forEachLine\",scrollIntoView:\"selectionPart\"},{name:\"toggleBlockComment\",description:\"Toggle block comment\",bindKey:o(\"Ctrl-Shift-/\",\"Command-Shift-/\"),exec:function(e){e.toggleBlockComment()},multiSelectAction:\"forEach\",scrollIntoView:\"selectionPart\"},{name:\"modifyNumberUp\",description:\"Modify number up\",bindKey:o(\"Ctrl-Shift-Up\",\"Alt-Shift-Up\"),exec:function(e){e.modifyNumber(1)},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"modifyNumberDown\",description:\"Modify number down\",bindKey:o(\"Ctrl-Shift-Down\",\"Alt-Shift-Down\"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"replace\",description:\"Replace\",bindKey:o(\"Ctrl-H\",\"Command-Option-F\"),exec:function(e){i.loadModule(\"ace/ext/searchbox\",function(t){t.Search(e,!0)})}},{name:\"undo\",description:\"Undo\",bindKey:o(\"Ctrl-Z\",\"Command-Z\"),exec:function(e){e.undo()}},{name:\"redo\",description:\"Redo\",bindKey:o(\"Ctrl-Shift-Z|Ctrl-Y\",\"Command-Shift-Z|Command-Y\"),exec:function(e){e.redo()}},{name:\"copylinesup\",description:\"Copy lines up\",bindKey:o(\"Alt-Shift-Up\",\"Command-Option-Up\"),exec:function(e){e.copyLinesUp()},scrollIntoView:\"cursor\"},{name:\"movelinesup\",description:\"Move lines up\",bindKey:o(\"Alt-Up\",\"Option-Up\"),exec:function(e){e.moveLinesUp()},scrollIntoView:\"cursor\"},{name:\"copylinesdown\",description:\"Copy lines down\",bindKey:o(\"Alt-Shift-Down\",\"Command-Option-Down\"),exec:function(e){e.copyLinesDown()},scrollIntoView:\"cursor\"},{name:\"movelinesdown\",description:\"Move lines down\",bindKey:o(\"Alt-Down\",\"Option-Down\"),exec:function(e){e.moveLinesDown()},scrollIntoView:\"cursor\"},{name:\"del\",description:\"Delete\",bindKey:o(\"Delete\",\"Delete|Ctrl-D|Shift-Delete\"),exec:function(e){e.remove(\"right\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"backspace\",description:\"Backspace\",bindKey:o(\"Shift-Backspace|Backspace\",\"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),exec:function(e){e.remove(\"left\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"cut_or_delete\",description:\"Cut or delete\",bindKey:o(\"Shift-Delete\",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove(\"left\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolinestart\",description:\"Remove to line start\",bindKey:o(\"Alt-Backspace\",\"Command-Backspace\"),exec:function(e){e.removeToLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolineend\",description:\"Remove to line end\",bindKey:o(\"Alt-Delete\",\"Ctrl-K|Command-Delete\"),exec:function(e){e.removeToLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolinestarthard\",description:\"Remove to line start hard\",bindKey:o(\"Ctrl-Shift-Backspace\",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolineendhard\",description:\"Remove to line end hard\",bindKey:o(\"Ctrl-Shift-Delete\",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removewordleft\",description:\"Remove word left\",bindKey:o(\"Ctrl-Backspace\",\"Alt-Backspace|Ctrl-Alt-Backspace\"),exec:function(e){e.removeWordLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removewordright\",description:\"Remove word right\",bindKey:o(\"Ctrl-Delete\",\"Alt-Delete\"),exec:function(e){e.removeWordRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"outdent\",description:\"Outdent\",bindKey:o(\"Shift-Tab\",\"Shift-Tab\"),exec:function(e){e.blockOutdent()},multiSelectAction:\"forEach\",scrollIntoView:\"selectionPart\"},{name:\"indent\",description:\"Indent\",bindKey:o(\"Tab\",\"Tab\"),exec:function(e){e.indent()},multiSelectAction:\"forEach\",scrollIntoView:\"selectionPart\"},{name:\"blockoutdent\",description:\"Block outdent\",bindKey:o(\"Ctrl-[\",\"Ctrl-[\"),exec:function(e){e.blockOutdent()},multiSelectAction:\"forEachLine\",scrollIntoView:\"selectionPart\"},{name:\"blockindent\",description:\"Block indent\",bindKey:o(\"Ctrl-]\",\"Ctrl-]\"),exec:function(e){e.blockIndent()},multiSelectAction:\"forEachLine\",scrollIntoView:\"selectionPart\"},{name:\"insertstring\",description:\"Insert string\",exec:function(e,t){e.insert(t)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"inserttext\",description:\"Insert text\",exec:function(e,t){e.insert(r.stringRepeat(t.text||\"\",t.times||1))},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"splitline\",description:\"Split line\",bindKey:o(null,\"Ctrl-O\"),exec:function(e){e.splitLine()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"transposeletters\",description:\"Transpose letters\",bindKey:o(\"Alt-Shift-X\",\"Ctrl-T\"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:\"cursor\"},{name:\"touppercase\",description:\"To uppercase\",bindKey:o(\"Ctrl-U\",\"Ctrl-U\"),exec:function(e){e.toUpperCase()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"tolowercase\",description:\"To lowercase\",bindKey:o(\"Ctrl-Shift-U\",\"Ctrl-Shift-U\"),exec:function(e){e.toLowerCase()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"autoindent\",description:\"Auto Indent\",bindKey:o(null,null),exec:function(e){e.autoIndent()},scrollIntoView:\"animate\"},{name:\"expandtoline\",description:\"Expand to line\",bindKey:o(\"Ctrl-Shift-L\",\"Command-Shift-L\"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"openlink\",bindKey:o(\"Ctrl+F3\",\"F3\"),exec:function(e){e.openLink()}},{name:\"joinlines\",description:\"Join lines\",bindKey:o(null,null),exec:function(e){var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,u=e.session.doc.getTextRange(e.selection.getRange()),a=u.replace(/\\n\\s*/,\" \").length,f=e.session.doc.getLine(n.row);for(var l=n.row+1;l<=i.row+1;l++){var c=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(l)));c.length!==0&&(c=\" \"+c),f+=c}i.row+1<e.session.doc.getLength()-1&&(f+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(n.row,0,i.row+2,0),f),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:\"forEach\",readOnly:!0},{name:\"invertSelection\",description:\"Invert selection\",bindKey:o(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row!==t||r[o].end.column!==n)&&i.push(new s(r[o].end.row,r[o].end.column,t,n)),o===0?(r[o].start.row!==0||r[o].start.column!==0)&&i.push(new s(0,0,r[o].start.row,r[o].start.column)):i.push(new s(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var o=0;o<i.length;o++)e.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:\"none\"},{name:\"addLineAfter\",description:\"Add new line after the current line\",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert(\"\\n\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"addLineBefore\",description:\"Add new line before the current line\",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert(\"\\n\"),t.row===0&&e.navigateUp()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"openCommandPallete\",exec:function(e){console.warn(\"This is an obsolete command. Please use `openCommandPalette` instead.\"),e.prompt({$type:\"commands\"})},readOnly:!0},{name:\"openCommandPalette\",description:\"Open command palette\",bindKey:o(\"F1\",\"F1\"),exec:function(e){e.prompt({$type:\"commands\"})},readOnly:!0},{name:\"modeSelect\",description:\"Change language mode...\",bindKey:o(null,null),exec:function(e){e.prompt({$type:\"modes\"})},readOnly:!0}];for(var u=1;u<9;u++)t.commands.push({name:\"foldToLevel\"+u,description:\"Fold To Level \"+u,level:u,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:\"center\",readOnly:!0})}),ace.define(\"ace/keyboard/gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/mouse/default_gutter_handler\"],function(e,t,n){\"use strict\";var r=e(\"../lib/keys\"),i=e(\"../mouse/default_gutter_handler\").GutterTooltip,s=function(){function e(e){this.editor=e,this.gutterLayer=e.renderer.$gutterLayer,this.element=e.renderer.$gutter,this.lines=e.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new i(this.editor)}return e.prototype.addListener=function(){this.element.addEventListener(\"keydown\",this.$onGutterKeyDown.bind(this)),this.element.addEventListener(\"focusout\",this.$blurGutter.bind(this)),this.editor.on(\"mousewheel\",this.$blurGutter.bind(this))},e.prototype.removeListener=function(){this.element.removeEventListener(\"keydown\",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener(\"focusout\",this.$blurGutter.bind(this)),this.editor.off(\"mousewheel\",this.$blurGutter.bind(this))},e.prototype.$onGutterKeyDown=function(e){if(this.annotationTooltip.isOpen){e.preventDefault(),e.keyCode===r.escape&&this.annotationTooltip.hideTooltip();return}if(e.target===this.element){if(e.keyCode!=r[\"enter\"])return;e.preventDefault();var t=this.editor.getCursorPosition().row;this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),setTimeout(function(){var e=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldLaneWidget(e),n=this.$findNearestAnnotation(e);if(t===null&&n===null)return;var r=this.$findClosestNumber(t,n,e);if(r===t){this.activeLane=\"fold\",this.activeRowIndex=t;if(this.$isCustomWidgetVisible(t)){this.$focusCustomWidget(this.activeRowIndex);return}this.$focusFoldWidget(this.activeRowIndex);return}this.activeRowIndex=n,this.activeLane=\"annotation\",this.$focusAnnotation(this.activeRowIndex);return}.bind(this),10);return}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal(\"gutterkeydown\",new o(e,this))}.bind(this),10)},e.prototype.$handleGutterKeyboardInteraction=function(e){if(e.keyCode===r.tab){e.preventDefault();return}if(e.keyCode===r.escape){e.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(e.keyCode===r.up){e.preventDefault();switch(this.activeLane){case\"fold\":this.$moveFoldWidgetUp();break;case\"annotation\":this.$moveAnnotationUp()}return}if(e.keyCode===r.down){e.preventDefault();switch(this.activeLane){case\"fold\":this.$moveFoldWidgetDown();break;case\"annotation\":this.$moveAnnotationDown()}return}if(e.keyCode===r.left){e.preventDefault(),this.$switchLane(\"annotation\");return}if(e.keyCode===r.right){e.preventDefault(),this.$switchLane(\"fold\");return}if(e.keyCode===r.enter||e.keyCode===r.space){e.preventDefault();switch(this.activeLane){case\"fold\":var t=this.$rowIndexToRow(this.activeRowIndex),n=this.editor.session.$gutterCustomWidgets[t];if(n)n.callbacks&&n.callbacks.onClick&&n.callbacks.onClick(e,t);else{if(this.gutterLayer.session.foldWidgets[t]===\"start\"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]===\"end\")break}return;case\"annotation\":var i=this.lines.cells[this.activeRowIndex].element.childNodes[2],s=i.getBoundingClientRect(),o=this.annotationTooltip.getElement().style;o.left=s.right+\"px\",o.top=s.bottom+\"px\",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}return}},e.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case\"fold\":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case\"annotation\":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip();return},e.prototype.$isFoldWidgetVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n=this.$getFoldWidget(e).style.display!==\"none\";return t&&n},e.prototype.$isCustomWidgetVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n=!!this.$getCustomWidget(e);return t&&n},e.prototype.$isAnnotationVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n=this.$getAnnotation(e).style.display!==\"none\";return t&&n},e.prototype.$getFoldWidget=function(e){var t=this.lines.get(e),n=t.element;return n.childNodes[1]},e.prototype.$getCustomWidget=function(e){var t=this.lines.get(e),n=t.element;return n.childNodes[3]},e.prototype.$getAnnotation=function(e){var t=this.lines.get(e),n=t.element;return n.childNodes[2]},e.prototype.$findNearestFoldLaneWidget=function(e){if(this.$isCustomWidgetVisible(e))return e;if(this.$isFoldWidgetVisible(e))return e;var t=0;while(e-t>0||e+t<this.lines.getLength()-1){t++;if(e-t>=0&&this.$isCustomWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(e+t))return e+t;if(e-t>=0&&this.$isFoldWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(e+t))return e+t}return null},e.prototype.$findNearestAnnotation=function(e){if(this.$isAnnotationVisible(e))return e;var t=0;while(e-t>0||e+t<this.lines.getLength()-1){t++;if(e-t>=0&&this.$isAnnotationVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(e+t))return e+t}return null},e.prototype.$focusFoldWidget=function(e){if(e==null)return;var t=this.$getFoldWidget(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()},e.prototype.$focusCustomWidget=function(e){if(e==null)return;var t=this.$getCustomWidget(e);t&&(t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus())},e.prototype.$focusAnnotation=function(e){if(e==null)return;var t=this.$getAnnotation(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()},e.prototype.$blurFoldWidget=function(e){var t=this.$getFoldWidget(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$blurCustomWidget=function(e){var t=this.$getCustomWidget(e);t&&(t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur())},e.prototype.$blurAnnotation=function(e){var t=this.$getAnnotation(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$moveFoldWidgetUp=function(){var e=this.activeRowIndex;while(e>0){e--;if(this.$isFoldWidgetVisible(e)||this.$isCustomWidgetVisible(e)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=e,this.$isFoldWidgetVisible(e)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}}return},e.prototype.$moveFoldWidgetDown=function(){var e=this.activeRowIndex;while(e<this.lines.getLength()-1){e++;if(this.$isFoldWidgetVisible(e)||this.$isCustomWidgetVisible(e)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=e,this.$isFoldWidgetVisible(e)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}}return},e.prototype.$moveAnnotationUp=function(){var e=this.activeRowIndex;while(e>0){e--;if(this.$isAnnotationVisible(e)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,this.$focusAnnotation(this.activeRowIndex);return}}return},e.prototype.$moveAnnotationDown=function(){var e=this.activeRowIndex;while(e<this.lines.getLength()-1){e++;if(this.$isAnnotationVisible(e)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,this.$focusAnnotation(this.activeRowIndex);return}}return},e.prototype.$findClosestNumber=function(e,t,n){return e===null?t:t===null?e:Math.abs(n-e)<=Math.abs(n-t)?e:t},e.prototype.$switchLane=function(e){switch(e){case\"annotation\":if(this.activeLane===\"annotation\")break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(t==null)break;this.activeLane=\"annotation\",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case\"fold\":if(this.activeLane===\"fold\")break;var n=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(n===null)break;this.activeLane=\"fold\",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$isCustomWidgetVisible(n)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex)}return},e.prototype.$rowIndexToRow=function(e){var t=this.lines.get(e);return t?t.row:null},e.prototype.$rowToRowIndex=function(e){for(var t=0;t<this.lines.getLength();t++){var n=this.lines.get(t);if(n.row==e)return t}return null},e}();t.GutterKeyboardHandler=s;var o=function(){function e(e,t){this.gutterKeyboardHandler=t,this.domEvent=e}return e.prototype.getKey=function(){return r.keyCodeToString(this.domEvent.keyCode)},e.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},e.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane===\"annotation\"},e.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane===\"fold\"},e}();t.GutterKeyboardEvent=o}),ace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/keyboard/gutter_handler\",\"ace/config\",\"ace/clipboard\",\"ace/lib/keys\",\"ace/lib/event\",\"ace/tooltip\"],function(e,t,n){\"use strict\";var r=this&&this.__values||function(e){var t=typeof Symbol==\"function\"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==\"number\")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},i=e(\"./lib/oop\"),s=e(\"./lib/dom\"),o=e(\"./lib/lang\"),u=e(\"./lib/useragent\"),a=e(\"./keyboard/textinput\").TextInput,f=e(\"./mouse/mouse_handler\").MouseHandler,l=e(\"./mouse/fold_handler\").FoldHandler,c=e(\"./keyboard/keybinding\").KeyBinding,h=e(\"./edit_session\").EditSession,p=e(\"./search\").Search,d=e(\"./range\").Range,v=e(\"./lib/event_emitter\").EventEmitter,m=e(\"./commands/command_manager\").CommandManager,g=e(\"./commands/default_commands\").commands,y=e(\"./config\"),b=e(\"./token_iterator\").TokenIterator,w=e(\"./keyboard/gutter_handler\").GutterKeyboardHandler,E=e(\"./config\").nls,S=e(\"./clipboard\"),x=e(\"./lib/keys\"),T=e(\"./lib/event\"),N=e(\"./tooltip\").HoverTooltip,C=function(){function e(t,n,r){this.id=\"editor\"+ ++e.$uid,this.session,this.$toDestroy=[];var i=t.getContainerElement();this.container=i,this.renderer=t,this.commands=new m(u.isMac?\"mac\":\"win\",g),typeof document==\"object\"&&(this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new f(this),new l(this)),this.keyBinding=new c(this),this.$search=(new p).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on(\"exec\",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal(\"input\",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on(\"change\",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(n||r&&r.session||new h(\"\")),y.resetOptions(this),r&&this.setOptions(r),y._signal(\"editor\",this)}return e.prototype.$initOperationListeners=function(){this.commands.on(\"exec\",this.startOperation.bind(this),!0),this.commands.on(\"afterExec\",this.endOperation.bind(this),!0)},e.prototype.startOperation=function(e){this.session.startOperation(e)},e.prototype.endOperation=function(e){this.session.endOperation(e)},e.prototype.onStartOperation=function(e){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,e||(this.previousCommand=null)},e.prototype.onEndOperation=function(e){if(this.curOp&&this.session){if(e&&e.returnValue===!1){this.curOp=null;return}this._signal(\"beforeEndOperation\");if(!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case\"center-animate\":n=\"animate\";case\"center\":this.renderer.scrollCursorIntoView(null,.5);break;case\"animate\":case\"cursor\":this.renderer.scrollCursorIntoView();break;case\"selectionPart\":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:}n==\"animate\"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},e.prototype.$historyTracker=function(e){if(!this.$mergeUndoDeltas)return;var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if(e.command.name==\"insertstring\"){var i=e.args;this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\\s/.test(i)||/\\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&n.indexOf(e.command.name)!==-1;this.$mergeUndoDeltas!=\"always\"&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:n.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())},e.prototype.setKeyboardHandler=function(e,t){if(e&&typeof e==\"string\"&&e!=\"ace\"){this.$keybindingId=e;var n=this;y.loadModule([\"keybinding\",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},e.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},e.prototype.setSession=function(e){if(this.session==e)return;this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off(\"change\",this.$onDocumentChange),this.session.off(\"changeMode\",this.$onChangeMode),this.session.off(\"tokenizerUpdate\",this.$onTokenizerUpdate),this.session.off(\"changeTabSize\",this.$onChangeTabSize),this.session.off(\"changeWrapLimit\",this.$onChangeWrapLimit),this.session.off(\"changeWrapMode\",this.$onChangeWrapMode),this.session.off(\"changeFold\",this.$onChangeFold),this.session.off(\"changeFrontMarker\",this.$onChangeFrontMarker),this.session.off(\"changeBackMarker\",this.$onChangeBackMarker),this.session.off(\"changeBreakpoint\",this.$onChangeBreakpoint),this.session.off(\"changeAnnotation\",this.$onChangeAnnotation),this.session.off(\"changeOverwrite\",this.$onCursorChange),this.session.off(\"changeScrollTop\",this.$onScrollTopChange),this.session.off(\"changeScrollLeft\",this.$onScrollLeftChange),this.session.off(\"startOperation\",this.$onStartOperation),this.session.off(\"endOperation\",this.$onEndOperation);var n=this.session.getSelection();n.off(\"changeCursor\",this.$onCursorChange),n.off(\"changeSelection\",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on(\"change\",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on(\"changeMode\",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on(\"tokenizerUpdate\",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on(\"changeTabSize\",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on(\"changeWrapLimit\",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on(\"changeWrapMode\",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on(\"changeFold\",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on(\"changeFrontMarker\",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on(\"changeBackMarker\",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on(\"changeBreakpoint\",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on(\"changeAnnotation\",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on(\"changeOverwrite\",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on(\"changeScrollTop\",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on(\"changeScrollLeft\",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on(\"changeCursor\",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on(\"changeSelection\",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on(\"startOperation\",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on(\"endOperation\",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal(\"changeSession\",{session:e,oldSession:t}),this.curOp=null,t&&t._signal(\"changeEditor\",{oldEditor:this}),t&&(t.$editor=null),e&&e._signal(\"changeEditor\",{editor:this}),e&&(e.$editor=this),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()},e.prototype.getSession=function(){return this.session},e.prototype.setValue=function(e,t){return this.session.doc.setValue(e),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},e.prototype.getValue=function(){return this.session.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.resize=function(e){this.renderer.onResize(e)},e.prototype.setTheme=function(e,t){this.renderer.setTheme(e,t)},e.prototype.getTheme=function(){return this.renderer.getTheme()},e.prototype.setStyle=function(e,t){this.renderer.setStyle(e,t)},e.prototype.unsetStyle=function(e){this.renderer.unsetStyle(e)},e.prototype.getFontSize=function(){return this.getOption(\"fontSize\")||s.computedStyle(this.container).fontSize},e.prototype.setFontSize=function(e){this.setOption(\"fontSize\",e)},e.prototype.$highlightBrackets=function(){if(this.$highlightPending)return;var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(!t||t.destroyed)return;t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach(function(e){t.removeMarker(e)}),t.$bracketHighlight=null);var n=e.getCursorPosition(),r=e.getKeyboardHandler(),i=r&&r.$getDirectionForHighlight&&r.$getDirectionForHighlight(e),s=t.getMatchingBracketRanges(n,i);if(!s){var o=new b(t,n.row,n.column),u=o.getCurrentToken();if(u&&/\\b(?:tag-open|tag-name)/.test(u.type)){var a=t.getMatchingTags(n);a&&(s=[a.openTagName.isEmpty()?a.openTag:a.openTagName,a.closeTagName.isEmpty()?a.closeTag:a.closeTagName])}}!s&&t.$mode.getMatching&&(s=t.$mode.getMatching(e.session));if(!s){e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide();return}var f=\"ace_bracket\";Array.isArray(s)?s.length==1&&(f=\"ace_error_bracket\"):s=[s],s.length==2&&(d.comparePoints(s[0].end,s[1].start)==0?s=[d.fromPoints(s[0].start,s[1].end)]:d.comparePoints(s[0].start,s[1].end)==0&&(s=[d.fromPoints(s[1].start,s[0].end)])),t.$bracketHighlight={ranges:s,markerIds:s.map(function(e){return t.addMarker(e,f,\"text\")})},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()},50)},e.prototype.focus=function(){this.textInput.focus()},e.prototype.isFocused=function(){return this.textInput.isFocused()},e.prototype.blur=function(){this.textInput.blur()},e.prototype.onFocus=function(e){if(this.$isFocused)return;this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit(\"focus\",e)},e.prototype.onBlur=function(e){if(!this.$isFocused)return;this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit(\"blur\",e)},e.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},e.prototype.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:Infinity;this.renderer.updateLines(e.start.row,n,t),this._signal(\"change\",e),this.$cursorChange()},e.prototype.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},e.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},e.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},e.prototype.onCursorChange=function(){this.$cursorChange(),this._signal(\"changeSelection\")},e.prototype.$updateHighlightActiveLine=function(){var e=this.getSession(),t;if(this.$highlightActiveLine){if(this.$selectionStyle!=\"line\"||!this.selection.isMultiLine())t=this.getCursorPosition();this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(t=!1)}if(e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new d(t.row,t.column,t.row,Infinity);n.id=e.addMarker(n,\"ace_active-line\",\"screenLine\"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal(\"changeBackMarker\"))},e.prototype.onSelectionChange=function(e){var t=this.session;t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null;if(!this.selection.isEmpty()){var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,\"ace_selection\",r)}else this.$updateHighlightActiveLine();var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal(\"changeSelection\")},e.prototype.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(t.isEmpty()||t.isMultiLine())return;var n=t.start.column,r=t.end.column,i=e.getLine(t.start.row),s=i.substring(n,r);if(s.length>5e3||!/[\\w\\d]/.test(s))return;var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s}),u=i.substring(n-1,r+1);if(!o.test(u))return;return o},e.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},e.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},e.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},e.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},e.prototype.onChangeMode=function(e){this.renderer.updateText(),this._emit(\"changeMode\",e)},e.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},e.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},e.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},e.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},e.prototype.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;var r=this.selection.getAllRanges();for(var i=0;i<r.length;i++){var s=r[i];if(i&&r[i-1].start.row==s.start.row)continue;e+=this.session.getLine(s.start.row)+t}}var o={text:e};return this._signal(\"copy\",o),S.lineMode=n?o.text:!1,o.text},e.prototype.onCopy=function(){this.commands.exec(\"copy\",this)},e.prototype.onCut=function(){this.commands.exec(\"cut\",this)},e.prototype.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec(\"paste\",this,n)},e.prototype.$handlePaste=function(e){typeof e==\"string\"&&(e={text:e}),this._signal(\"paste\",e);var t=e.text,n=t===S.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach(function(e){r.insert({row:e.start.row,column:0},t)});else{var i=t.split(/\\r\\n|\\r|\\n/),s=this.selection.rangeList.ranges,o=i.length==2&&(!i[0]||!i[1]);if(i.length!=s.length||o)return this.commands.exec(\"insertstring\",this,t);for(var u=s.length;u--;){var a=s[u];a.isEmpty()||r.remove(a),r.insert(a.start,i[u])}}},e.prototype.execCommand=function(e,t){return this.commands.exec(e,this,t)},e.prototype.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=r.transformAction(n.getState(i.row),\"insertion\",this,n,e);s&&(e!==s.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=s.text)}e==\"\t\"&&(e=this.session.getTabString());if(!this.selection.isEmpty()){var o=this.getSelectionRange();i=this.session.remove(o),this.clearSelection()}else if(this.session.getOverwrite()&&e.indexOf(\"\\n\")==-1){var o=d.fromPoints(i,i);o.end.column+=e.length,this.session.remove(o)}if(e==\"\\n\"||e==\"\\r\\n\"){var u=n.getLine(i.row);if(i.column>u.search(/\\S|$/)){var a=u.substr(i.column).search(/\\S|$/);n.doc.removeInLine(i.row,i.column,i.column+a)}}this.clearSelection();var f=i.column,l=n.getState(i.row),u=n.getLine(i.row),c=r.checkOutdent(l,u,e);n.insert(i,e),s&&s.selection&&(s.selection.length==2?this.selection.setSelectionRange(new d(i.row,f+s.selection[0],i.row,f+s.selection[1])):this.selection.setSelectionRange(new d(i.row+s.selection[0],s.selection[1],i.row+s.selection[2],s.selection[3])));if(this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var h=r.getNextLineIndent(l,u.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},h)}c&&r.autoOutdent(l,n,i.row)}},e.prototype.autoIndent=function(){var e=this.session,t=e.getMode(),n=this.selection.isEmpty()?[new d(0,0,e.doc.getLength()-1,0)]:this.selection.getAllRanges(),r=\"\",i=\"\",s=\"\",o=e.getTabString();for(var u=0;u<n.length;u++){var a=n[u].start.row,f=n[u].end.row;for(var l=a;l<=f;l++){l>0&&(r=e.getState(l-1),i=e.getLine(l-1),s=t.getNextLineIndent(r,i,o));var c=e.getLine(l),h=t.$getIndent(c);if(s!==h){if(h.length>0){var p=new d(l,0,l,h.length);e.remove(p)}s.length>0&&e.insert({row:l,column:0},s)}t.autoOutdent(r,e,l)}}},e.prototype.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:\"insertstring\"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},e.prototype.applyComposition=function(e,t){if(t.extendLeft||t.extendRight){var n=this.selection.getRange();n.start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),!e&&!n.isEmpty()&&this.remove()}(e||!this.selection.isEmpty())&&this.insert(e,!0);if(t.restoreStart||t.restoreEnd){var n=this.selection.getRange();n.start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n)}},e.prototype.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},e.prototype.setOverwrite=function(e){this.session.setOverwrite(e)},e.prototype.getOverwrite=function(){return this.session.getOverwrite()},e.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},e.prototype.setScrollSpeed=function(e){this.setOption(\"scrollSpeed\",e)},e.prototype.getScrollSpeed=function(){return this.getOption(\"scrollSpeed\")},e.prototype.setDragDelay=function(e){this.setOption(\"dragDelay\",e)},e.prototype.getDragDelay=function(){return this.getOption(\"dragDelay\")},e.prototype.setSelectionStyle=function(e){this.setOption(\"selectionStyle\",e)},e.prototype.getSelectionStyle=function(){return this.getOption(\"selectionStyle\")},e.prototype.setHighlightActiveLine=function(e){this.setOption(\"highlightActiveLine\",e)},e.prototype.getHighlightActiveLine=function(){return this.getOption(\"highlightActiveLine\")},e.prototype.setHighlightGutterLine=function(e){this.setOption(\"highlightGutterLine\",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption(\"highlightGutterLine\")},e.prototype.setHighlightSelectedWord=function(e){this.setOption(\"highlightSelectedWord\",e)},e.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},e.prototype.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},e.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},e.prototype.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},e.prototype.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},e.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},e.prototype.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},e.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},e.prototype.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},e.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},e.prototype.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},e.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},e.prototype.setReadOnly=function(e){this.setOption(\"readOnly\",e)},e.prototype.getReadOnly=function(){return this.getOption(\"readOnly\")},e.prototype.setBehavioursEnabled=function(e){this.setOption(\"behavioursEnabled\",e)},e.prototype.getBehavioursEnabled=function(){return this.getOption(\"behavioursEnabled\")},e.prototype.setWrapBehavioursEnabled=function(e){this.setOption(\"wrapBehavioursEnabled\",e)},e.prototype.getWrapBehavioursEnabled=function(){return this.getOption(\"wrapBehavioursEnabled\")},e.prototype.setShowFoldWidgets=function(e){this.setOption(\"showFoldWidgets\",e)},e.prototype.getShowFoldWidgets=function(){return this.getOption(\"showFoldWidgets\")},e.prototype.setFadeFoldWidgets=function(e){this.setOption(\"fadeFoldWidgets\",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption(\"fadeFoldWidgets\")},e.prototype.remove=function(e){this.selection.isEmpty()&&(e==\"left\"?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,\"deletion\",this,n,t);if(t.end.column===0){var s=n.getTextRange(t);if(s[s.length-1]==\"\\n\"){var o=n.getLine(t.end.row);/^\\s+$/.test(o)&&(t.end.column=o.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},e.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},e.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert(\"\\n\"),this.moveCursorToPosition(e)},e.prototype.setGhostText=function(e,t){this.renderer.setGhostText(e,t)},e.prototype.removeGhostText=function(){this.renderer.removeGhostText()},e.prototype.transposeLetters=function(){if(!this.selection.isEmpty())return;var e=this.getCursorPosition(),t=e.column;if(t===0)return;var n=this.session.getLine(e.row),r,i;t<n.length?(r=n.charAt(t)+n.charAt(t-1),i=new d(e.row,t-1,e.row,t+1)):(r=n.charAt(t-1)+n.charAt(t-2),i=new d(e.row,t-2,e.row,t)),this.session.replace(i,r),this.session.selection.moveToPosition(i.end)},e.prototype.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},e.prototype.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},e.prototype.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,\"\t\");return}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\\s+$/.test(r)){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,\"\t\");return}}var i=e.getLine(t.start.row),s=t.start,u=e.getTabSize(),a=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var f=u-a%u,l=o.stringRepeat(\" \",f);else{var f=a%u;while(i[t.start.column-1]==\" \"&&f)t.start.column--,f--;this.selection.setSelectionRange(t),l=\"\t\"}return this.insert(l)},e.prototype.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,\"\t\")},e.prototype.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},e.prototype.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(var r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var i=new d(0,0,0,0);for(var r=e.first;r<=e.last;r++){var s=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=s.length,t.replace(i,n[r-e.first])}},e.prototype.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},e.prototype.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},e.prototype.getNumberAt=function(e,t){var n=/[\\-]?[0-9]+(?:\\.[0-9]+)?/g;n.lastIndex=0;var r=this.session.getLine(e);while(n.lastIndex<t){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var s={value:i[0],start:i.index,end:i.index+i[0].length};return s}}return null},e.prototype.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new d(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(\".\")>=0?s.start+s.value.indexOf(\".\")+1:s.end,u=s.start+s.value.length-o,a=parseFloat(s.value);a*=Math.pow(10,u),o!==s.end&&n<o?e*=Math.pow(10,s.end-n-1):e*=Math.pow(10,s.end-n),a+=e,a/=Math.pow(10,u);var f=a.toFixed(u),l=new d(t,s.start,t,s.end);this.session.replace(l,f),this.moveCursorTo(t,Math.max(s.start+1,n+f.length-s.value.length))}}else this.toggleWord()},e.prototype.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,i=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,\"$1 \").split(/\\s/),s=t-r-1;s<0&&(s=0);var u=0,a=0,f=this;n.match(/[A-Za-z0-9_]+/)&&i.forEach(function(t,i){a=u+t.length,s>=u&&s<=a&&(n=t,f.selection.clearSelection(),f.moveCursorTo(e,u+r),f.selection.selectTo(e,a+r)),u=a});var l=this.$toggleWordPairs,c;for(var h=0;h<l.length;h++){var p=l[h];for(var d=0;d<=1;d++){var v=+!d,m=n.match(new RegExp(\"^\\\\s?_?(\"+o.escapeRegExp(p[d])+\")\\\\s?$\",\"i\"));if(m){var g=n.match(new RegExp(\"([_]|^|\\\\s)(\"+o.escapeRegExp(m[1])+\")($|\\\\s)\",\"g\"));g&&(c=n.replace(new RegExp(o.escapeRegExp(p[d]),\"i\"),function(e){var t=p[v];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[v].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(c),c=\"\")}}}},e.prototype.findLinkAt=function(e,t){var n,i,s=this.session.getLine(e),o=s.split(/((?:https?|ftp):\\/\\/[\\S]+)/),u=t;u<0&&(u=0);var a=0,f=0,l;try{for(var c=r(o),h=c.next();!h.done;h=c.next()){var p=h.value;f=a+p.length;if(u>=a&&u<=f&&p.match(/((?:https?|ftp):\\/\\/[\\S]+)/)){l=p.replace(/[\\s:.,'\";}\\]]+$/,\"\");break}a=f}}catch(d){n={error:d}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l},e.prototype.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,\"_blank\"),t!=null},e.prototype.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},e.prototype.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var s=r?n.start:n.end,o=t.insert(s,t.getTextRange(n));n.start=s,n.end=o,e.setSelectionRange(n,r)}},e.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},e.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},e.prototype.moveText=function(e,t,n){return this.session.moveText(e,t,n)},e.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},e.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},e.prototype.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var s=i.toOrientedRange();n=this.$getSelectedRows(s),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&e==-1&&(r=0),s.moveBy(r,0),i.fromOrientedRange(s)}else{var o=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;var u=0,a=0,f=o.length;for(var l=0;l<f;l++){var c=l;o[l].moveBy(u,0),n=this.$getSelectedRows(o[l]);var h=n.first,p=n.last;while(++l<f){a&&o[l].moveBy(a,0);var d=this.$getSelectedRows(o[l]);if(t&&d.first!=p)break;if(!t&&d.first>p+1)break;p=d.last}l--,u=this.session.$moveLines(h,p,t?0:e),t&&e==-1&&(c=l+1);while(c<=l)o[c].moveBy(u,0),c++;t||(u=0),a+=u}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},e.prototype.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},e.prototype.onCompositionStart=function(e){this.renderer.showComposition(e)},e.prototype.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},e.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},e.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},e.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},e.prototype.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},e.prototype.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},e.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},e.prototype.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var s=n.scrollTop;n.scrollBy(0,i*r.lineHeight),t!=null&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},e.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},e.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},e.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},e.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},e.prototype.scrollPageDown=function(){this.$moveByPage(1)},e.prototype.scrollPageUp=function(){this.$moveByPage(-1)},e.prototype.scrollToRow=function(e){this.renderer.scrollToRow(e)},e.prototype.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},e.prototype.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},e.prototype.getCursorPosition=function(){return this.selection.getCursor()},e.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},e.prototype.getSelectionRange=function(){return this.selection.getRange()},e.prototype.selectAll=function(){this.selection.selectAll()},e.prototype.clearSelection=function(){this.selection.clearSelection()},e.prototype.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},e.prototype.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},e.prototype.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new b(this.session,n.row,n.column),i=r.getCurrentToken(),s=0;i&&i.type.indexOf(\"tag-name\")!==-1&&(i=r.stepBackward());var o=i||r.stepForward();if(!o)return;var u,a=!1,f={},l=n.column-o.start,c,h={\")\":\"(\",\"(\":\"(\",\"]\":\"[\",\"[\":\"[\",\"{\":\"{\",\"}\":\"{\"};do{if(o.value.match(/[{}()\\[\\]]/g))for(;l<o.value.length&&!a;l++){if(!h[o.value[l]])continue;c=h[o.value[l]]+\".\"+o.type.replace(\"rparen\",\"lparen\"),isNaN(f[c])&&(f[c]=0);switch(o.value[l]){case\"(\":case\"[\":case\"{\":f[c]++;break;case\")\":case\"]\":case\"}\":f[c]--,f[c]===-1&&(u=\"bracket\",a=!0)}}else o.type.indexOf(\"tag-name\")!==-1&&(isNaN(f[o.value])&&(f[o.value]=0),i.value===\"<\"&&s>1?f[o.value]++:i.value===\"</\"&&f[o.value]--,f[o.value]===-1&&(u=\"tag\",a=!0));a||(i=o,s++,o=r.stepForward(),l=0)}while(o&&!a);if(!u)return;var p,v;if(u===\"bracket\"){p=this.session.getBracketRange(n);if(!p){p=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+l-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+l-1),v=p.start;if(t||v.row===n.row&&Math.abs(v.column-n.column)<2)p=this.session.getBracketRange(v)}}else if(u===\"tag\"){if(!o||o.type.indexOf(\"tag-name\")===-1)return;p=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2);if(p.compare(n.row,n.column)===0){var m=this.session.getMatchingTags(n);m&&(m.openTag.contains(n.row,n.column)?(p=m.closeTag,v=p.start):(p=m.openTag,m.closeTag.start.row===n.row&&m.closeTag.start.column===n.column?v=p.end:v=p.start))}v=v||p.start}v=p&&p.cursor||v,v&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(v.row,v.column):this.selection.moveTo(v.row,v.column))},e.prototype.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},e.prototype.navigateTo=function(e,t){this.selection.moveTo(e,t)},e.prototype.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},e.prototype.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},e.prototype.navigateLeft=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorLeft()}this.clearSelection()},e.prototype.navigateRight=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorRight()}this.clearSelection()},e.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},e.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},e.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},e.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},e.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},e.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},e.prototype.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},e.prototype.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&r++;return this.selection.setSelectionRange(i),r},e.prototype.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),t!==null?(e.end=this.session.replace(e,t),e):null},e.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},e.prototype.find=function(e,t,n){t||(t={}),typeof e==\"string\"||e instanceof RegExp?t.needle=e:typeof e==\"object\"&&i.mixin(t,e);var r=this.selection.getRange();t.needle==null&&(e=this.session.getTextRange(r)||this.$search.$options.needle,e||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var s=this.$search.find(this.session);if(t.preventScroll)return s;if(s)return this.revealRange(s,n),s;t.backwards?r.start=r.end:r.end=r.start,this.selection.setRange(r)},e.prototype.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},e.prototype.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},e.prototype.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},e.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.destroy=function(){this.destroyed=!0,this.$toDestroy&&(this.$toDestroy.forEach(function(e){e.destroy()}),this.$toDestroy=[]),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal(\"destroy\",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},e.prototype.setAutoScrollEditorIntoView=function(e){if(!e)return;var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement(\"div\"));var i=this.$scrollAnchor;i.style.cssText=\"position:absolute\",this.container.insertBefore(i,this.container.firstChild);var s=this.on(\"changeSelection\",function(){r=!0}),o=this.renderer.on(\"beforeRender\",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),u=this.renderer.on(\"afterRender\",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,s=e.$cursorLayer.$pixelPos,o=e.layerConfig,u=s.top-o.offset;s.top>=0&&u+t.top<0?r=!0:s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight?r=!1:r=null,r!=null&&(i.style.top=u+\"px\",i.style.left=s.left+\"px\",i.style.height=o.lineHeight+\"px\",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){if(e)return;delete this.setAutoScrollEditorIntoView,this.off(\"changeSelection\",s),this.renderer.off(\"afterRender\",u),this.renderer.off(\"beforeRender\",o)}},e.prototype.$resetCursorStyle=function(){var e=this.$cursorStyle||\"ace\",t=this.renderer.$cursorLayer;if(!t)return;t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&e!=\"wide\",s.setCssClass(t.element,\"ace_slim-cursors\",/slim/.test(e))},e.prototype.prompt=function(e,t,n){var r=this;y.loadModule(\"ace/ext/prompt\",function(i){i.prompt(r,e,t,n)})},e}();C.$uid=0,C.prototype.curOp=null,C.prototype.prevOp={},C.prototype.$mergeableCommands=[\"backspace\",\"del\",\"insertstring\"],C.prototype.$toggleWordPairs=[[\"first\",\"last\"],[\"true\",\"false\"],[\"yes\",\"no\"],[\"width\",\"height\"],[\"top\",\"bottom\"],[\"right\",\"left\"],[\"on\",\"off\"],[\"x\",\"y\"],[\"get\",\"set\"],[\"max\",\"min\"],[\"horizontal\",\"vertical\"],[\"show\",\"hide\"],[\"add\",\"remove\"],[\"up\",\"down\"],[\"before\",\"after\"],[\"even\",\"odd\"],[\"in\",\"out\"],[\"inside\",\"outside\"],[\"next\",\"previous\"],[\"increase\",\"decrease\"],[\"attach\",\"detach\"],[\"&&\",\"||\"],[\"==\",\"!=\"]],i.implement(C.prototype,v),y.defineOptions(C.prototype,\"editor\",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal(\"changeSelectionStyle\",{data:e})},initialValue:\"line\"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){var t=this;this.textInput.setReadOnly(e);if(this.destroyed)return;this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(e){var n=!1;if(e&&e.type==\"keydown\"){e&&e.key&&!e.ctrlKey&&!e.metaKey&&(e.key==\" \"&&e.preventDefault(),n=e.key.length==1);if(!n)return}else e&&e.type!==\"exec\"&&(n=!0);if(n){t.hoverTooltip||(t.hoverTooltip=new N);var r=s.createElement(\"div\");r.textContent=E(\"editor.tooltip.disable-editing\",\"Editing is disabled\"),t.hoverTooltip.isOpen||t.hoverTooltip.showForRange(t,t.getSelectionRange(),r)}else t.hoverTooltip&&t.hoverTooltip.isOpen&&t.hoverTooltip.hide()});var n=this.textInput.getElement();e?(T.addListener(n,\"keydown\",this.$readOnlyCallback,this),this.commands.on(\"exec\",this.$readOnlyCallback),this.commands.on(\"commandUnavailable\",this.$readOnlyCallback)):(T.removeListener(n,\"keydown\",this.$readOnlyCallback),this.commands.off(\"exec\",this.$readOnlyCallback),this.commands.off(\"commandUnavailable\",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:[\"ace\",\"slim\",\"smooth\",\"wide\"],initialValue:\"ace\"},mergeUndoDeltas:{values:[!1,!0,\"always\"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?k.attach(this):k.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?k.attach(this):k.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(e&&this.renderer.placeholderNode)this.renderer.off(\"afterRender\",this.$updatePlaceholder),s.removeCssClass(this.container,\"ace_hasPlaceholder\"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!e&&!this.renderer.placeholderNode){this.renderer.on(\"afterRender\",this.$updatePlaceholder),s.addCssClass(this.container,\"ace_hasPlaceholder\");var t=s.createElement(\"div\");t.className=\"ace_placeholder\",t.textContent=this.$placeholder||\"\",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||\"\")}.bind(this),this.on(\"input\",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(e){var t={name:\"blurTextInput\",description:\"Set focus to the editor content div to allow tabbing through the page\",bindKey:\"Esc\",exec:function(e){e.blur(),e.renderer.scroller.focus()},readOnly:!0},n=function(e){if(e.target==this.renderer.scroller&&e.keyCode===x.enter){e.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0),this.focus()}},r;e?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName=\"ace_keyboard-focus\",this.textInput.getElement().setAttribute(\"tabindex\",-1),this.textInput.setNumberOfExtraLines(u.isWin?3:0),this.renderer.scroller.setAttribute(\"tabindex\",0),this.renderer.scroller.setAttribute(\"role\",\"group\"),this.renderer.scroller.setAttribute(\"aria-roledescription\",E(\"editor.scroller.aria-roledescription\",\"editor\")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute(\"aria-label\",E(\"editor.scroller.aria-label\",\"Editor content, press Enter to start editing, press Escape to exit\")),this.renderer.scroller.addEventListener(\"keyup\",n.bind(this)),this.commands.addCommand(t),this.renderer.$gutter.setAttribute(\"tabindex\",0),this.renderer.$gutter.setAttribute(\"aria-hidden\",!1),this.renderer.$gutter.setAttribute(\"role\",\"group\"),this.renderer.$gutter.setAttribute(\"aria-roledescription\",E(\"editor.gutter.aria-roledescription\",\"editor gutter\")),this.renderer.$gutter.setAttribute(\"aria-label\",E(\"editor.gutter.aria-label\",\"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit\")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute(\"aria-hidden\",!0),r||(r=new w(this)),r.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute(\"tabindex\",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute(\"tabindex\",-1),this.renderer.scroller.removeAttribute(\"role\"),this.renderer.scroller.removeAttribute(\"aria-roledescription\"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute(\"aria-label\"),this.renderer.scroller.removeEventListener(\"keyup\",n.bind(this)),this.commands.removeCommand(t),this.renderer.content.removeAttribute(\"aria-hidden\"),this.renderer.$gutter.setAttribute(\"tabindex\",-1),this.renderer.$gutter.setAttribute(\"aria-hidden\",!0),this.renderer.$gutter.removeAttribute(\"role\"),this.renderer.$gutter.removeAttribute(\"aria-roledescription\"),this.renderer.$gutter.removeAttribute(\"aria-label\"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),r&&r.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(e){this.$textInputAriaLabel=e},initialValue:\"\"},enableMobileMenu:{set:function(e){this.$enableMobileMenu=e},initialValue:!0},customScrollbar:\"renderer\",hScrollBarAlwaysVisible:\"renderer\",vScrollBarAlwaysVisible:\"renderer\",highlightGutterLine:\"renderer\",animatedScroll:\"renderer\",showInvisibles:\"renderer\",showPrintMargin:\"renderer\",printMarginColumn:\"renderer\",printMargin:\"renderer\",fadeFoldWidgets:\"renderer\",showFoldWidgets:\"renderer\",displayIndentGuides:\"renderer\",highlightIndentGuides:\"renderer\",showGutter:\"renderer\",fontSize:\"renderer\",fontFamily:\"renderer\",maxLines:\"renderer\",minLines:\"renderer\",scrollPastEnd:\"renderer\",fixedWidthGutter:\"renderer\",theme:\"renderer\",hasCssTransforms:\"renderer\",maxPixelHeight:\"renderer\",useTextareaForIME:\"renderer\",useResizeObserver:\"renderer\",useSvgGutterIcons:\"renderer\",showFoldedAnnotations:\"renderer\",scrollSpeed:\"$mouseHandler\",dragDelay:\"$mouseHandler\",dragEnabled:\"$mouseHandler\",focusTimeout:\"$mouseHandler\",tooltipFollowsMouse:\"$mouseHandler\",firstLineNumber:\"session\",overwrite:\"session\",newLineMode:\"session\",useWorker:\"session\",useSoftTabs:\"session\",navigateWithinSoftTabs:\"session\",tabSize:\"session\",wrap:\"session\",indentedSoftWrap:\"session\",foldStyle:\"session\",mode:\"session\"});var k={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?\"\\u00b7\":\"\"))+\"\"},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on(\"changeSelection\",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off(\"changeSelection\",this.update),this.update(null,e)}};t.Editor=C}),ace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";var r=e(\"../lib/dom\"),i=function(){function e(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=this.canvasHeight*2+\"px\",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return e.prototype.moveContainer=function(e){r.translate(this.element,0,-(e.firstRowScreen*e.lineHeight%this.canvasHeight)-e.offset*this.$offsetCoefficient)},e.prototype.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},e.prototype.computeLineTop=function(e,t,n){var r=t.firstRowScreen*t.lineHeight,i=Math.floor(r/this.canvasHeight),s=n.documentToScreenRow(e,0)*t.lineHeight;return s-i*this.canvasHeight},e.prototype.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},e.prototype.getLength=function(){return this.cells.length},e.prototype.get=function(e){return this.cells[e]},e.prototype.shift=function(){this.$cacheCell(this.cells.shift())},e.prototype.pop=function(){this.$cacheCell(this.cells.pop())},e.prototype.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);var t=r.createFragment(this.element);for(var n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},e.prototype.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);var t=r.createFragment(this.element);for(var n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement(\"afterbegin\",e.element)},e.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},e.prototype.$cacheCell=function(e){if(!e)return;e.element.remove(),this.cellCache.push(e)},e.prototype.createCell=function(e,t,n,i){var s=this.cellCache.pop();if(!s){var o=r.createElement(\"div\");i&&i(o),this.element.appendChild(o),s={element:o,text:\"\",row:e}}return s.row=e,s},e}();t.Lines=i}),ace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\",\"ace/config\"],function(e,t,n){\"use strict\";function l(e){var t=document.createTextNode(\"\");e.appendChild(t);var n=r.createElement(\"span\");e.appendChild(n);var i=r.createElement(\"span\");e.appendChild(i);var s=r.createElement(\"span\");return i.appendChild(s),e}var r=e(\"../lib/dom\"),i=e(\"../lib/oop\"),s=e(\"../lib/lang\"),o=e(\"../lib/event_emitter\").EventEmitter,u=e(\"./lines\").Lines,a=e(\"../config\").nls,f=function(){function e(e){this.element=r.createElement(\"div\"),this.element.className=\"ace_layer ace_gutter-layer\",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1}return e.prototype.setSession=function(e){this.session&&this.session.off(\"change\",this.$updateAnnotations),this.session=e,e&&e.on(\"change\",this.$updateAnnotations)},e.prototype.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn(\"deprecated use session.addGutterDecoration\"),this.session.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn(\"deprecated use session.removeGutterDecoration\"),this.session.removeGutterDecoration(e,t)},e.prototype.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[],type:[],displayText:[]});var o=n.text,u=n.text,a=n.type;o=o?s.escapeHTML(o):n.html||\"\",u=u?u:n.html||\"\",i.text.indexOf(o)===-1&&(i.text.push(o),i.type.push(a),i.displayText.push(u));var f=n.className;f?i.className=f:a===\"error\"?i.className=\" ace_error\":a===\"security\"&&!/\\bace_error\\b/.test(i.className)?i.className=\" ace_security\":a===\"warning\"&&!/\\bace_(error|security)\\b/.test(i.className)?i.className=\" ace_warning\":a===\"info\"&&!i.className?i.className=\" ace_info\":a===\"hint\"&&!i.className&&(i.className=\" ace_hint\")}},e.prototype.$updateAnnotations=function(e){if(!this.$annotations.length)return;var t=e.start.row,n=e.end.row-t;if(n!==0)if(e.action==\"remove\")this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}},e.prototype.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();var i=t.getNextFoldLine(n),s=i?i.start.row:Infinity,o=null,u=-1,a=n;for(;;){a>s&&(a=i.end.row+1,i=t.getNextFoldLine(a,i),s=i?i.start.row:Infinity);if(a>r){while(this.$lines.getLength()>u+1)this.$lines.pop();break}o=this.$lines.get(++u),o?o.row=a:(o=this.$lines.createCell(a,e,this.session,l),this.$lines.push(o)),this.$renderCell(o,e,i,a),a++}this._signal(\"afterRender\"),this.$updateGutterWidth(e)},e.prototype.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:\"\";if(this.$fixedWidth||t.$useWrapMode)i=t.getLength()+r-1;var s=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,o=this.$padding||this.$computePadding();s+=o.left+o.right,s!==this.gutterWidth&&!isNaN(s)&&(this.gutterWidth=s,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+\"px\",this._signal(\"changeGutterWidth\",s))},e.prototype.$updateCursorRow=function(){if(!this.$highlightGutterLine)return;var e=this.session.selection.getCursor();if(this.$cursorRow===e.row)return;this.$cursorRow=e.row},e.prototype.updateLineHighlight=function(){if(!this.$highlightGutterLine)return;var e=this.session.selection.cursor.row;this.$cursorRow=e;if(this.$cursorCell&&this.$cursorCell.row==e)return;this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace(\"ace_gutter-active-line \",\"\"));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;r=t[n-1]}r.element.className=\"ace_gutter-active-line \"+r.element.className,this.$cursorCell=r;break}}},e.prototype.scrollLines=function(e){var t=this.config;this.config=e,this.$updateCursorRow();if(this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;this.oldLastRow=n;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(r>n)for(var i=this.session.getFoldedRowCount(n+1,r);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal(\"afterRender\"),this.$updateGutterWidth(e)},e.prototype.$renderLines=function(e,t,n){var r=[],i=t,s=this.session.getNextFoldLine(i),o=s?s.start.row:Infinity;for(;;){i>o&&(i=s.end.row+1,s=this.session.getNextFoldLine(i,s),o=s?s.start.row:Infinity);if(i>n)break;var u=this.$lines.createCell(i,e,this.session,l);this.$renderCell(u,e,s,i),r.push(u),i++}return r},e.prototype.$renderCell=function(e,t,n,i){var s=e.element,o=this.session,u=s.childNodes[0],f=s.childNodes[1],l=s.childNodes[2],c=s.childNodes[3],h=l.firstChild,p=o.$firstLineNumber,d=o.$breakpoints,v=o.$decorations,m=o.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&o.foldWidgets,y=n?n.start.row:Number.MAX_VALUE,b=t.lineHeight+\"px\",w=this.$useSvgGutterIcons?\"ace_gutter-cell_svg-icons \":\"ace_gutter-cell \",E=this.$useSvgGutterIcons?\"ace_icon_svg\":\"ace_icon\",S=(m?m.getText(o,i):i+p).toString();this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=y&&this.$cursorRow<=n.end.row)&&(w+=\"ace_gutter-active-line \",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace(\"ace_gutter-active-line \",\"\")),this.$cursorCell=e)),d[i]&&(w+=d[i]),v[i]&&(w+=v[i]),this.$annotations[i]&&i!==y&&(w+=this.$annotations[i].className);if(g){var x=g[i];x==null&&(x=g[i]=o.getFoldWidget(i))}if(x){var T=\"ace_fold-widget ace_\"+x,N=x==\"start\"&&i==y&&i<n.end.row;if(N){T+=\" ace_closed\";var C=\"\",k=!1;for(var L=i+1;L<=n.end.row;L++){if(!this.$annotations[L])continue;if(this.$annotations[L].className===\" ace_error\"){k=!0,C=\" ace_error_fold\";break}this.$annotations[L].className===\" ace_security\"?(k=!0,C=\" ace_security_fold\"):this.$annotations[L].className===\" ace_warning\"&&C!==\" ace_security_fold\"&&(k=!0,C=\" ace_warning_fold\")}w+=C}else T+=\" ace_open\";f.className!=T&&(f.className=T),r.setStyle(f.style,\"height\",b),r.setStyle(f.style,\"display\",\"inline-block\"),f.setAttribute(\"role\",\"button\"),f.setAttribute(\"tabindex\",\"-1\");var A=o.getFoldWidgetRange(i);A?f.setAttribute(\"aria-label\",a(\"gutter.code-folding.range.aria-label\",\"Toggle code folding, rows $0 through $1\",[A.start.row+1,A.end.row+1])):n?f.setAttribute(\"aria-label\",a(\"gutter.code-folding.closed.aria-label\",\"Toggle code folding, rows $0 through $1\",[n.start.row+1,n.end.row+1])):f.setAttribute(\"aria-label\",a(\"gutter.code-folding.open.aria-label\",\"Toggle code folding, row $0\",[i+1])),N?(f.setAttribute(\"aria-expanded\",\"false\"),f.setAttribute(\"title\",a(\"gutter.code-folding.closed.title\",\"Unfold code\"))):(f.setAttribute(\"aria-expanded\",\"true\"),f.setAttribute(\"title\",a(\"gutter.code-folding.open.title\",\"Fold code\")))}else f&&(r.setStyle(f.style,\"display\",\"none\"),f.setAttribute(\"tabindex\",\"0\"),f.removeAttribute(\"role\"),f.removeAttribute(\"aria-label\"));var O=this.session.$gutterCustomWidgets[i];O?this.$addCustomWidget(i,O,e):c&&this.$removeCustomWidget(i,e);if(k&&this.$showFoldedAnnotations){l.className=\"ace_gutter_annotation\",h.className=E,h.className+=C,r.setStyle(h.style,\"height\",b),r.setStyle(l.style,\"display\",\"block\"),r.setStyle(l.style,\"height\",b);var M;switch(C){case\" ace_error_fold\":M=a(\"gutter.annotation.aria-label.error\",\"Error, read annotations row $0\",[S]);break;case\" ace_security_fold\":M=a(\"gutter.annotation.aria-label.security\",\"Security finding, read annotations row $0\",[S]);break;case\" ace_warning_fold\":M=a(\"gutter.annotation.aria-label.warning\",\"Warning, read annotations row $0\",[S])}l.setAttribute(\"aria-label\",M),l.setAttribute(\"tabindex\",\"-1\"),l.setAttribute(\"role\",\"button\")}else if(this.$annotations[i]){l.className=\"ace_gutter_annotation\",h.className=E,this.$useSvgGutterIcons?h.className+=this.$annotations[i].className:s.classList.add(this.$annotations[i].className.replace(\" \",\"\")),r.setStyle(h.style,\"height\",b),r.setStyle(l.style,\"display\",\"block\"),r.setStyle(l.style,\"height\",b);var M;switch(this.$annotations[i].className){case\" ace_error\":M=a(\"gutter.annotation.aria-label.error\",\"Error, read annotations row $0\",[S]);break;case\" ace_security\":M=a(\"gutter.annotation.aria-label.security\",\"Security finding, read annotations row $0\",[S]);break;case\" ace_warning\":M=a(\"gutter.annotation.aria-label.warning\",\"Warning, read annotations row $0\",[S]);break;case\" ace_info\":M=a(\"gutter.annotation.aria-label.info\",\"Info, read annotations row $0\",[S]);break;case\" ace_hint\":M=a(\"gutter.annotation.aria-label.hint\",\"Suggestion, read annotations row $0\",[S])}l.setAttribute(\"aria-label\",M),l.setAttribute(\"tabindex\",\"-1\"),l.setAttribute(\"role\",\"button\")}else r.setStyle(l.style,\"display\",\"none\"),l.removeAttribute(\"aria-label\"),l.removeAttribute(\"role\"),l.setAttribute(\"tabindex\",\"0\");return S!==u.data&&(u.data=S),s.className!=w&&(s.className=w),r.setStyle(e.element.style,\"height\",this.$lines.computeLineHeight(i,t,o)+\"px\"),r.setStyle(e.element.style,\"top\",this.$lines.computeLineTop(i,t,o)+\"px\"),e.text=S,l.style.display===\"none\"&&f.style.display===\"none\"&&!O?e.element.setAttribute(\"aria-hidden\",!0):e.element.setAttribute(\"aria-hidden\",!1),e},e.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},e.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return\"\"}}},e.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},e.prototype.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,\"ace_folding-enabled\"):r.removeCssClass(this.element,\"ace_folding-enabled\"),this.$showFoldWidgets=e,this.$padding=null},e.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},e.prototype.$hideFoldWidget=function(e,t){var n=t||this.$getGutterCell(e);if(n&&n.element){var i=n.element.childNodes[1];i&&r.setStyle(i.style,\"display\",\"none\")}},e.prototype.$showFoldWidget=function(e,t){var n=t||this.$getGutterCell(e);if(n&&n.element){var i=n.element.childNodes[1];i&&this.session.foldWidgets&&this.session.foldWidgets[n.row]&&r.setStyle(i.style,\"display\",\"inline-block\")}},e.prototype.$getGutterCell=function(e){var t=this.$lines.cells,n=this.session.documentToScreenRow(e,0);return t[e-this.config.firstRowScreen-(e-n)]},e.prototype.$addCustomWidget=function(e,t,n){var i=t.className,s=t.label,o=t.title,u=t.callbacks;this.session.$gutterCustomWidgets[e]={className:i,label:s,title:o,callbacks:u},this.$hideFoldWidget(e,n);var a=n||this.$getGutterCell(e);if(a&&a.element){var f=a.element.querySelector(\".ace_custom-widget\");f&&f.remove(),f=r.createElement(\"span\"),f.className=\"ace_custom-widget \".concat(i),f.setAttribute(\"tabindex\",\"-1\"),f.setAttribute(\"role\",\"button\"),f.setAttribute(\"aria-label\",s),f.setAttribute(\"title\",o),r.setStyle(f.style,\"display\",\"inline-block\"),r.setStyle(f.style,\"height\",\"inherit\"),u&&u.onClick&&f.addEventListener(\"click\",function(t){u.onClick(t,e),t.stopPropagation()}),a.element.appendChild(f)}},e.prototype.$removeCustomWidget=function(e,t){delete this.session.$gutterCustomWidgets[e],this.$showFoldWidget(e,t);var n=t||this.$getGutterCell(e);if(n&&n.element){var r=n.element.querySelector(\".ace_custom-widget\");r&&n.element.removeChild(r)}},e.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},e.prototype.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();if(e.x<t.left+n.left)return\"markers\";if(this.$showFoldWidgets&&e.x>n.right-t.right)return\"foldWidgets\"},e}();f.prototype.$fixedWidth=!1,f.prototype.$highlightGutterLine=!0,f.prototype.$renderer=\"\",f.prototype.$showLineNumbers=!0,f.prototype.$showFoldWidgets=!0,i.implement(f.prototype,o),t.Gutter=f}),ace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";function o(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}var r=e(\"../range\").Range,i=e(\"../lib/dom\"),s=function(){function e(e){this.element=i.createElement(\"div\"),this.element.className=\"ace_layer ace_marker-layer\",e.appendChild(this.element)}return e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setMarkers=function(e){this.markers=e},e.prototype.elt=function(e,t){var n=this.i!=-1&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement(\"div\"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},e.prototype.update=function(e){if(!e)return;this.config=e,this.i=0;var t;for(var n in this.markers){var r=this.markers[n];if(!r.range){r.update(t,this,this.session,e);continue}var i=r.range.clipRows(e.firstRow,e.lastRow);if(i.isEmpty())continue;i=i.toScreenRange(this.session);if(r.renderer){var s=this.$getTop(i.start.row,e),o=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,o,s,e)}else r.type==\"fullLine\"?this.drawFullLineMarker(t,i,r.clazz,e):r.type==\"screenLine\"?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?r.type==\"text\"?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+\" ace_start\"+\" ace_br15\",e)}if(this.i!=-1)while(this.i<this.element.childElementCount)this.element.removeChild(this.element.lastChild)},e.prototype.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},e.prototype.drawTextMarker=function(e,t,n,i,s){var u=this.session,a=t.start.row,f=t.end.row,l=a,c=0,h=0,p=u.getScreenLastRowColumn(l),d=new r(l,t.start.column,l,h);for(;l<=f;l++)d.start.row=d.end.row=l,d.start.column=l==a?t.start.column:u.getRowWrapIndent(l),d.end.column=p,c=h,h=p,p=l+1<f?u.getScreenLastRowColumn(l+1):l==f?0:t.end.column,this.drawSingleLineMarker(e,d,n+(l==a?\" ace_start\":\"\")+\" ace_br\"+o(l==a||l==a+1&&t.start.column,c<h,h>p,l==f),i,l==f?0:1,s)},e.prototype.drawMultiLineMarker=function(e,t,n,r,i){var s=this.$padding,o=r.lineHeight,u=this.$getTop(t.start.row,r),a=s+t.start.column*r.characterWidth;i=i||\"\";if(this.session.$bidiHandler.isBidiRow(t.start.row)){var f=t.clone();f.end.row=f.start.row,f.end.column=this.session.getLine(f.start.row).length,this.drawBidiSingleLineMarker(e,f,n+\" ace_br1 ace_start\",r,null,i)}else this.elt(n+\" ace_br1 ace_start\",\"height:\"+o+\"px;\"+\"right:\"+s+\"px;\"+\"top:\"+u+\"px;left:\"+a+\"px;\"+(i||\"\"));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var f=t.clone();f.start.row=f.end.row,f.start.column=0,this.drawBidiSingleLineMarker(e,f,n+\" ace_br12\",r,null,i)}else{u=this.$getTop(t.end.row,r);var l=t.end.column*r.characterWidth;this.elt(n+\" ace_br12\",\"height:\"+o+\"px;\"+\"width:\"+l+\"px;\"+\"top:\"+u+\"px;\"+\"left:\"+s+\"px;\"+(i||\"\"))}o=(t.end.row-t.start.row-1)*r.lineHeight;if(o<=0)return;u=this.$getTop(t.start.row+1,r);var c=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(c?\" ace_br\"+c:\"\"),\"height:\"+o+\"px;\"+\"right:\"+s+\"px;\"+\"top:\"+u+\"px;\"+\"left:\"+s+\"px;\"+(i||\"\"))},e.prototype.drawSingleLineMarker=function(e,t,n,r,i,s){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,i,s);var o=r.lineHeight,u=(t.end.column+(i||0)-t.start.column)*r.characterWidth,a=this.$getTop(t.start.row,r),f=this.$padding+t.start.column*r.characterWidth;this.elt(n,\"height:\"+o+\"px;\"+\"width:\"+u+\"px;\"+\"top:\"+a+\"px;\"+\"left:\"+f+\"px;\"+(s||\"\"))},e.prototype.drawBidiSingleLineMarker=function(e,t,n,r,i,s){var o=r.lineHeight,u=this.$getTop(t.start.row,r),a=this.$padding,f=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);f.forEach(function(e){this.elt(n,\"height:\"+o+\"px;\"+\"width:\"+(e.width+(i||0))+\"px;\"+\"top:\"+u+\"px;\"+\"left:\"+(a+e.left)+\"px;\"+(s||\"\"))},this)},e.prototype.drawFullLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,r)-s),this.elt(n,\"height:\"+o+\"px;\"+\"top:\"+s+\"px;\"+\"left:0;right:0;\"+(i||\"\"))},e.prototype.drawScreenLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;this.elt(n,\"height:\"+o+\"px;\"+\"top:\"+s+\"px;\"+\"left:0;right:0;\"+(i||\"\"))},e}();s.prototype.$padding=0,t.Marker=s}),ace.define(\"ace/layer/text_util\",[\"require\",\"exports\",\"module\"],function(e,t,n){var r=new Set([\"text\",\"rparen\",\"lparen\"]);t.isTextToken=function(e){return r.has(e)}}),ace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\",\"ace/config\",\"ace/layer/text_util\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"../lib/dom\"),s=e(\"../lib/lang\"),o=e(\"./lines\").Lines,u=e(\"../lib/event_emitter\").EventEmitter,a=e(\"../config\").nls,f=e(\"./text_util\").isTextToken,l=function(){function e(e){this.dom=i,this.element=this.dom.createElement(\"div\"),this.element.className=\"ace_layer ace_text-layer\",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)}return e.prototype.$updateEolChar=function(){var e=this.session.doc,t=e.getNewLineCharacter()==\"\\n\"&&e.getNewLineMode()!=\"windows\",n=t?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=n)return this.EOL_CHAR=n,!0},e.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin=\"0 \"+e+\"px\"},e.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},e.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},e.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on(\"changeCharacterSize\",function(e){this._signal(\"changeCharacterSize\",e)}.bind(this)),this.$pollSizeChanges()},e.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},e.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},e.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},e.prototype.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e==\"string\"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},e.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},e.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides===e?!1:(this.$highlightIndentGuides=e,e)},e.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;var t=this.$tabStrings=[0];for(var n=1;n<e+1;n++)if(this.showTabs){var r=this.dom.createElement(\"span\");r.className=\"ace_invisible ace_invisible_tab\",r.textContent=s.stringRepeat(this.TAB_CHAR,n),t.push(r)}else t.push(this.dom.createTextNode(s.stringRepeat(\" \",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\\s\\S| \\t|\\t |\\s$/;var i=\"ace_indent-guide\",o=this.showSpaces?\" ace_invisible ace_invisible_space\":\"\",u=this.showSpaces?s.stringRepeat(this.SPACE_CHAR,this.tabSize):s.stringRepeat(\" \",this.tabSize),a=this.showTabs?\" ace_invisible ace_invisible_tab\":\"\",f=this.showTabs?s.stringRepeat(this.TAB_CHAR,this.tabSize):u,r=this.dom.createElement(\"span\");r.className=i+o,r.textContent=u,this.$tabStrings[\" \"]=r;var r=this.dom.createElement(\"span\");r.className=i+a,r.textContent=f,this.$tabStrings[\"\t\"]=r}},e.prototype.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),s=this.element.childNodes,o=0;for(var u=e.firstRow;u<r;u++){var a=this.session.getFoldLine(u);if(a){if(a.containsRow(r)){r=a.start.row;break}u=a.end.row}o++}var f=!1,u=r,a=this.session.getNextFoldLine(u),l=a?a.start.row:Infinity;for(;;){u>l&&(u=a.end.row+1,a=this.session.getNextFoldLine(u,a),l=a?a.start.row:Infinity);if(u>i)break;var c=s[o++];if(c){this.dom.removeChildren(c),this.$renderLine(c,u,u==l?a:!1),f&&(c.style.top=this.$lines.computeLineTop(u,e,this.session)+\"px\");var h=e.lineHeight*this.session.getRowLength(u)+\"px\";c.style.height!=h&&(f=!0,c.style.height=h)}u++}if(f)while(o<this.$lines.cells.length){var p=this.$lines.cells[o++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+\"px\"}},e.prototype.scrollLines=function(e){var t=this.config;this.config=e;if(this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},e.prototype.$renderLinesFragment=function(e,t,n){var r=[],s=t,o=this.session.getNextFoldLine(s),u=o?o.start.row:Infinity;for(;;){s>u&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),u=o?o.start.row:Infinity);if(s>n)break;var a=this.$lines.createCell(s,e,this.session),f=a.element;this.dom.removeChildren(f),i.setStyle(f.style,\"height\",this.$lines.computeLineHeight(s,e,this.session)+\"px\"),i.setStyle(f.style,\"top\",this.$lines.computeLineTop(s,e,this.session)+\"px\"),this.$renderLine(f,s,s==u?o:!1),this.$useLineGroups()?f.className=\"ace_line_group\":f.className=\"ace_line\",r.push(a),s++}return r},e.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;var t=e.firstRow,n=e.lastRow,r=this.$lines;while(r.getLength())r.pop();r.push(this.$renderLinesFragment(e,t,n))},e.prototype.$renderToken=function(e,t,n,r){var i=this,o=/(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC\\u2066\\u2067\\u2068\\u202A\\u202B\\u202D\\u202E\\u202C\\u2069\\u2060\\u2061\\u2062\\u2063\\u2064\\u206A\\u206B\\u206B\\u206C\\u206D\\u206E\\u206F]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g,u=this.dom.createFragment(this.element),l,c=0;while(l=o.exec(r)){var h=l[1],p=l[2],d=l[3],v=l[4],m=l[5];if(!i.showSpaces&&p)continue;var g=c!=l.index?r.slice(c,l.index):\"\";c=l.index+l[0].length,g&&u.appendChild(this.dom.createTextNode(g,this.element));if(h){var y=i.session.getScreenTabSize(t+l.index),b=i.$tabStrings[y].cloneNode(!0);b.charCount=1,u.appendChild(b),t+=y-1}else if(p)if(i.showSpaces){var w=this.dom.createElement(\"span\");w.className=\"ace_invisible ace_invisible_space\",w.textContent=s.stringRepeat(i.SPACE_CHAR,p.length),u.appendChild(w)}else u.appendChild(this.dom.createTextNode(p,this.element));else if(d){var w=this.dom.createElement(\"span\");w.className=\"ace_invisible ace_invisible_space ace_invalid\",w.textContent=s.stringRepeat(i.SPACE_CHAR,d.length),u.appendChild(w)}else if(v){t+=1;var w=this.dom.createElement(\"span\");w.style.width=i.config.characterWidth*2+\"px\",w.className=i.showSpaces?\"ace_cjk ace_invisible ace_invisible_space\":\"ace_cjk\",w.textContent=i.showSpaces?i.SPACE_CHAR:v,u.appendChild(w)}else if(m){t+=1;var w=this.dom.createElement(\"span\");w.style.width=i.config.characterWidth*2+\"px\",w.className=\"ace_cjk\",w.textContent=m,u.appendChild(w)}}u.appendChild(this.dom.createTextNode(c?r.slice(c):r,this.element));if(!f(n.type)){var E=\"ace_\"+n.type.replace(/\\./g,\" ace_\"),w=this.dom.createElement(\"span\");n.type==\"fold\"&&(w.style.width=n.value.length*this.config.characterWidth+\"px\",w.setAttribute(\"title\",a(\"inline-fold.closed.title\",\"Unfold code\"))),w.className=E,w.appendChild(u),e.appendChild(w)}else e.appendChild(u);return t+r.length},e.prototype.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(t[0]==\" \"){r-=r%this.tabSize;var i=r/this.tabSize;for(var s=0;s<i;s++)e.appendChild(this.$tabStrings[\" \"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}if(t[0]==\"\t\"){for(var s=0;s<r;s++)e.appendChild(this.$tabStrings[\"\t\"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}return this.$highlightIndentGuide(),t},e.prototype.$highlightIndentGuide=function(){if(!this.$highlightIndentGuides||!this.displayIndentGuides)return;this.$highlightIndentGuideMarker={indentLevel:undefined,start:undefined,end:undefined,dir:undefined};var e=this.session.doc.$lines;if(!e)return;var t=this.session.selection.getCursor(),n=/^\\s*/.exec(this.session.doc.getLine(t.row))[0].length,r=Math.floor(n/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:r,start:t.row};var i=this.session.$bracketHighlight;if(i){var s=this.session.$bracketHighlight.ranges;for(var o=0;o<s.length;o++)if(t.row!==s[o].start.row){this.$highlightIndentGuideMarker.end=s[o].start.row+1,t.row>s[o].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&e[t.row]!==\"\"&&t.column===e[t.row].length){this.$highlightIndentGuideMarker.dir=1;for(var o=t.row+1;o<e.length;o++){var u=e[o],a=/^\\s*/.exec(u)[0].length;if(u!==\"\"){this.$highlightIndentGuideMarker.end=o;if(a<=n)break}}}this.$renderHighlightIndentGuide()},e.prototype.$clearActiveIndentGuide=function(){var e=this.element.querySelectorAll(\".ace_indent-guide-active\");for(var t=0;t<e.length;t++)e[t].classList.remove(\"ace_indent-guide-active\")},e.prototype.$setIndentGuideActive=function(e,t){var n=this.session.doc.getLine(e.row);if(n!==\"\"){var r=e.element;if(e.element.classList&&e.element.classList.contains(\"ace_line_group\")){if(!(e.element.childNodes.length>0))return;r=e.element.childNodes[0]}var i=r.childNodes;if(i){var s=i[t-1];s&&s.classList&&s.classList.contains(\"ace_indent-guide\")&&s.classList.add(\"ace_indent-guide-active\")}}},e.prototype.$renderHighlightIndentGuide=function(){if(!this.$lines)return;var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(t!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var n=0;n<e.length;n++){var r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row>=this.$highlightIndentGuideMarker.start+1){if(r.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}else for(var n=e.length-1;n>=0;n--){var r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row<this.$highlightIndentGuideMarker.start){if(r.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}},e.prototype.$createLineElement=function(e){var t=this.dom.createElement(\"div\");return t.className=\"ace_line\",t.style.height=this.config.lineHeight+\"px\",t},e.prototype.$renderWrappedLine=function(e,t,n){var r=0,i=0,o=n[0],u=0,a=this.$createLineElement();e.appendChild(a);for(var f=0;f<t.length;f++){var l=t[f],c=l.value;if(f==0&&this.displayIndentGuides){r=c.length,c=this.renderIndentGuide(a,c,o);if(!c)continue;r-=c.length}if(r+c.length<o)u=this.$renderToken(a,u,l,c),r+=c.length;else{while(r+c.length>=o){u=this.$renderToken(a,u,l,c.substring(0,o-r)),c=c.substring(o-r),r=o,a=this.$createLineElement(),e.appendChild(a);var h=this.dom.createTextNode(s.stringRepeat(\"\\u00a0\",n.indent),this.element);h.charCount=0,a.appendChild(h),i++,u=0,o=n[i]||Number.MAX_VALUE}c.length!=0&&(r+=c.length,u=this.$renderToken(a,u,l,c))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(a,u,null,\"\",!0)},e.prototype.$renderSimpleLine=function(e,t){var n=0;for(var r=0;r<t.length;r++){var i=t[r],s=i.value;if(r==0&&this.displayIndentGuides){s=this.renderIndentGuide(e,s);if(!s)continue}if(n+s.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,s);n=this.$renderToken(e,n,i,s)}},e.prototype.$renderOverflowMessage=function(e,t,n,r,i){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var s=this.dom.createElement(\"span\");s.className=\"ace_inline_button ace_keyword ace_toggle_wrap\",s.textContent=i?\"<hide>\":\"<click to see more...>\",e.appendChild(s)},e.prototype.$renderLine=function(e,t,n){!n&&n!=0&&(n=this.session.getFoldLine(t));if(n)var r=this.$getFoldLineTokens(t,n);else var r=this.session.getTokens(t);var i=e;if(r.length){var s=this.session.getRowSplitData(t);if(s&&s.length){this.$renderWrappedLine(e,r,s);var i=e.lastChild}else{var i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,r)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showEOL&&i){n&&(t=n.end.row);var o=this.dom.createElement(\"span\");o.className=\"ace_invisible ace_invisible_eol\",o.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(o)}},e.prototype.$getFoldLineTokens=function(e,t){function i(e,t,n){var i=0,s=0;while(s+e[i].value.length<t){s+=e[i].value.length,i++;if(i==e.length)return}if(s!=t){var o=e[i].value.substring(t-s);o.length>n-t&&(o=o.substring(0,n-t)),r.push({type:e[i].type,value:o}),s=t+o.length,i+=1}while(s<n&&i<e.length){var o=e[i].value;o.length+s>n?r.push({type:e[i].type,value:o.substring(0,n-s)}):r.push(e[i]),s+=o.length,i+=1}}var n=this.session,r=[],s=n.getTokens(e);return t.walk(function(e,t,o,u,a){e!=null?r.push({type:\"fold\",value:e}):(a&&(s=n.getTokens(t)),s.length&&i(s,u,o))},t.end.row,this.session.getLine(t.end.row).length),r},e.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},e}();l.prototype.EOF_CHAR=\"\\u00b6\",l.prototype.EOL_CHAR_LF=\"\\u00ac\",l.prototype.EOL_CHAR_CRLF=\"\\u00a4\",l.prototype.EOL_CHAR=l.prototype.EOL_CHAR_LF,l.prototype.TAB_CHAR=\"\\u2014\",l.prototype.SPACE_CHAR=\"\\u00b7\",l.prototype.$padding=0,l.prototype.MAX_LINE_LENGTH=1e4,l.prototype.showInvisibles=!1,l.prototype.showSpaces=!1,l.prototype.showTabs=!1,l.prototype.showEOL=!1,l.prototype.displayIndentGuides=!0,l.prototype.$highlightIndentGuides=!0,l.prototype.$tabStrings=[],l.prototype.destroy={},l.prototype.onChangeTabSize=l.prototype.$computeTabString,r.implement(l.prototype,u),t.Text=l}),ace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";var r=e(\"../lib/dom\"),i=function(){function e(e){this.element=r.createElement(\"div\"),this.element.className=\"ace_layer ace_cursor-layer\",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,\"ace_hidden-cursors\"),this.$updateCursors=this.$updateOpacity.bind(this)}return e.prototype.$updateOpacity=function(e){var t=this.cursors;for(var n=t.length;n--;)r.setStyle(t[n].style,\"opacity\",e?\"\":\"0\")},e.prototype.$startCssAnimation=function(){var e=this.cursors;for(var t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+\"ms\";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&r.addCssClass(this.element,\"ace_animate-blinking\")}.bind(this))},e.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,r.removeCssClass(this.element,\"ace_animate-blinking\")},e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},e.prototype.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},e.prototype.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,\"ace_smooth-blinking\",e),this.$updateCursors(!0),this.restartTimer())},e.prototype.addCursor=function(){var e=r.createElement(\"div\");return e.className=\"ace_cursor\",this.element.appendChild(e),this.cursors.push(e),e},e.prototype.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},e.prototype.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,\"ace_hidden-cursors\"),this.restartTimer()},e.prototype.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,\"ace_hidden-cursors\"),this.restartTimer()},e.prototype.restartTimer=function(){var e=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,r.removeCssClass(this.element,\"ace_smooth-blinking\")),e(!0);if(!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&r.addCssClass(this.element,\"ace_smooth-blinking\")}.bind(this)));if(r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},e.prototype.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},e.prototype.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},e.prototype.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;if(t===undefined||t.length===0)t=[{cursor:null}];for(var n=0,s=t.length;n<s;n++){var o=this.getPixelPosition(t[n].cursor,!0);if((o.top>e.height+e.offset||o.top<0)&&n>1)continue;var u=this.cursors[i++]||this.addCursor(),a=u.style;this.drawCursor?this.drawCursor(u,o,e,t[n],this.session):this.isCursorInView(o,e)?(r.setStyle(a,\"display\",\"block\"),r.translate(u,o.left,o.top),r.setStyle(a,\"width\",Math.round(e.characterWidth)+\"px\"),r.setStyle(a,\"height\",e.lineHeight+\"px\")):r.setStyle(a,\"display\",\"none\")}while(this.cursors.length>i)this.removeCursor();var f=this.session.getOverwrite();this.$setOverwrite(f),this.$pixelPos=o,this.restartTimer()},e.prototype.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,\"ace_overwrite-cursors\"):r.removeCssClass(this.element,\"ace_overwrite-cursors\"))},e.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},e}();i.prototype.$padding=0,i.prototype.drawCursor=null,t.Cursor=i}),ace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}if(typeof n!=\"function\"&&n!==null)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=e(\"./lib/oop\"),s=e(\"./lib/dom\"),o=e(\"./lib/event\"),u=e(\"./lib/event_emitter\").EventEmitter,a=32768,f=function(){function e(e,t){this.element=s.createElement(\"div\"),this.element.className=\"ace_scrollbar ace_scrollbar\"+t,this.inner=s.createElement(\"div\"),this.inner.className=\"ace_scrollbar-inner\",this.inner.textContent=\"\\u00a0\",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,\"scroll\",this.onScroll.bind(this)),o.addListener(this.element,\"mousedown\",o.preventDefault)}return e.prototype.setVisible=function(e){this.element.style.display=e?\"\":\"none\",this.isVisible=e,this.coeff=1},e}();i.implement(f.prototype,u);var l=function(e){function t(t,n){var r=e.call(this,t,\"-v\")||this;return r.scrollTop=0,r.scrollHeight=0,n.$scrollbarWidth=r.width=s.scrollbarWidth(t.ownerDocument),r.inner.style.width=r.element.style.width=(r.width||15)+5+\"px\",r.$minWidth=0,r}return r(t,e),t.prototype.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(this.coeff!=1){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit(\"scroll\",{data:this.scrollTop})}this.skipEvent=!1},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.element.style.height=e+\"px\"},t.prototype.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):this.coeff!=1&&(this.coeff=1),this.inner.style.height=e+\"px\"},t.prototype.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)},t}(f);l.prototype.setInnerHeight=l.prototype.setScrollHeight;var c=function(e){function t(t,n){var r=e.call(this,t,\"-h\")||this;return r.scrollLeft=0,r.height=n.$scrollbarWidth,r.inner.style.height=r.element.style.height=(r.height||15)+5+\"px\",r}return r(t,e),t.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit(\"scroll\",{data:this.scrollLeft})),this.skipEvent=!1},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.setWidth=function(e){this.element.style.width=e+\"px\"},t.prototype.setInnerWidth=function(e){this.inner.style.width=e+\"px\"},t.prototype.setScrollWidth=function(e){this.inner.style.width=e+\"px\"},t.prototype.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)},t}(f);t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c}),ace.define(\"ace/scrollbar_custom\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}if(typeof n!=\"function\"&&n!==null)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=e(\"./lib/oop\"),s=e(\"./lib/dom\"),o=e(\"./lib/event\"),u=e(\"./lib/event_emitter\").EventEmitter;s.importCssString(\".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\\n  position: absolute;\\n  background: rgba(128, 128, 128, 0.6);\\n  -moz-box-sizing: border-box;\\n  box-sizing: border-box;\\n  border: 1px solid #bbb;\\n  border-radius: 2px;\\n  z-index: 8;\\n}\\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\\n  position: absolute;\\n  z-index: 6;\\n  background: none;\\n  overflow: hidden!important;\\n}\\n.ace_editor>.ace_sb-v {\\n  z-index: 6;\\n  right: 0;\\n  top: 0;\\n  width: 12px;\\n}\\n.ace_editor>.ace_sb-v div {\\n  z-index: 8;\\n  right: 0;\\n  width: 100%;\\n}\\n.ace_editor>.ace_sb-h {\\n  bottom: 0;\\n  left: 0;\\n  height: 12px;\\n}\\n.ace_editor>.ace_sb-h div {\\n  bottom: 0;\\n  height: 100%;\\n}\\n.ace_editor>.ace_sb_grabbed {\\n  z-index: 8;\\n  background: #000;\\n}\",\"ace_scrollbar.css\",!1);var a=function(){function e(e,t){this.element=s.createElement(\"div\"),this.element.className=\"ace_sb\"+t,this.inner=s.createElement(\"div\"),this.inner.className=\"\",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,\"onMouseDown\")}return e.prototype.setVisible=function(e){this.element.style.display=e?\"\":\"none\",this.isVisible=e,this.coeff=1},e}();i.implement(a.prototype,u);var f=function(e){function t(t,n){var r=e.call(this,t,\"-v\")||this;return r.scrollTop=0,r.scrollHeight=0,r.parent=t,r.width=r.VScrollWidth,r.renderer=n,r.inner.style.width=r.element.style.width=(r.width||15)+\"px\",r.$minWidth=0,r}return r(t,e),t.prototype.onMouseDown=function(e,t){if(e!==\"mousedown\")return;if(o.getButton(t)!==0||t.detail===2)return;if(t.target===this.inner){var n=this,r=t.clientY,i=function(e){r=e.clientY},s=function(){clearInterval(l)},u=t.clientY,a=this.thumbTop,f=function(){if(r===undefined)return;var e=n.scrollTopFromThumbTop(a+r-u);if(e===n.scrollTop)return;n._emit(\"scroll\",{data:e})};o.capture(this.inner,i,s);var l=setInterval(f,20);return o.preventDefault(t)}var c=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit(\"scroll\",{data:this.scrollTopFromThumbTop(c)}),o.preventDefault(t)},t.prototype.getHeight=function(){return this.height},t.prototype.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return t>>=0,t<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},t.prototype.setScrollHeight=function(e,t){if(this.pageHeight===e&&!t)return;this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+\"px\",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit(\"scroll\",{data:this.scrollTop}))},t.prototype.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+\"px\"},t}(a);f.prototype.setInnerHeight=f.prototype.setScrollHeight;var l=function(e){function t(t,n){var r=e.call(this,t,\"-h\")||this;return r.scrollLeft=0,r.scrollWidth=0,r.height=r.HScrollHeight,r.inner.style.height=r.element.style.height=(r.height||12)+\"px\",r.renderer=n,r}return r(t,e),t.prototype.onMouseDown=function(e,t){if(e!==\"mousedown\")return;if(o.getButton(t)!==0||t.detail===2)return;if(t.target===this.inner){var n=this,r=t.clientX,i=function(e){r=e.clientX},s=function(){clearInterval(l)},u=t.clientX,a=this.thumbLeft,f=function(){if(r===undefined)return;var e=n.scrollLeftFromThumbLeft(a+r-u);if(e===n.scrollLeft)return;n._emit(\"scroll\",{data:e})};o.capture(this.inner,i,s);var l=setInterval(f,20);return o.preventDefault(t)}var c=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit(\"scroll\",{data:this.scrollLeftFromThumbLeft(c)}),o.preventDefault(t)},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return t>>=0,t<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},t.prototype.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+\"px\",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},t.prototype.setScrollWidth=function(e,t){if(this.pageWidth===e&&!t)return;this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+\"px\",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit(\"scroll\",{data:this.scrollLeft}))},t.prototype.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+\"px\"},t}(a);l.prototype.setInnerWidth=l.prototype.setScrollWidth,t.ScrollBar=f,t.ScrollBarV=f,t.ScrollBarH=l,t.VScrollBar=f,t.HScrollBar=l}),ace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"],function(e,t,n){\"use strict\";var r=e(\"./lib/event\"),i=function(){function e(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;t&&(r.blockIdle(100),n.changes=0,n.onRender(t));if(n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}}return e.prototype.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},e.prototype.clear=function(e){var t=this.changes;return this.changes=0,t},e}();t.RenderLoop=i}),ace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"],function(e,t,n){var r=e(\"../lib/oop\"),i=e(\"../lib/dom\"),s=e(\"../lib/lang\"),o=e(\"../lib/event\"),u=e(\"../lib/useragent\"),a=e(\"../lib/event_emitter\").EventEmitter,f=512,l=typeof ResizeObserver==\"function\",c=200,h=function(){function e(e){this.el=i.createElement(\"div\"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement(\"div\"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement(\"div\"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=s.stringRepeat(\"X\",f),this.$characterSize={width:0,height:0},l?this.$addObserver():this.checkForSizeChanges()}return e.prototype.$setMeasureNodeStyles=function(e,t){e.width=e.height=\"auto\",e.left=e.top=\"0px\",e.visibility=\"hidden\",e.position=\"absolute\",e.whiteSpace=\"pre\",u.isIE<8?e[\"font-family\"]=\"inherit\":e.font=\"inherit\",e.overflow=t?\"hidden\":\"visible\"},e.prototype.checkForSizeChanges=function(e){e===undefined&&(e=this.$measureSizes());if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight=\"bold\";var t=this.$measureSizes();this.$measureNode.style.fontWeight=\"\",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit(\"changeCharacterSize\",{data:e})}},e.prototype.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver(function(t){e.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},e.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=o.onIdle(function t(){e.checkForSizeChanges(),o.onIdle(t,500)},500)},e.prototype.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},e.prototype.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/f};return t.width===0||t.height===0?null:t},e.prototype.$measureCharWidth=function(e){this.$main.textContent=s.stringRepeat(e,f);var t=this.$main.getBoundingClientRect();return t.width/f},e.prototype.getCharacterWidth=function(e){var t=this.charSizes[e];return t===undefined&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},e.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.$getZoom=function(e){return!e||!e.parentElement?1:(Number(window.getComputedStyle(e).zoom)||1)*this.$getZoom(e.parentElement)},e.prototype.$initTransformMeasureNodes=function(){var e=function(e,t){return[\"div\",{style:\"position: absolute;top:\"+e+\"px;left:\"+t+\"px;\"}]};this.els=i.buildDom([e(0,0),e(c,0),e(0,c),e(c,c)],this.el)},e.prototype.transformCoordinates=function(e,t){function r(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function u(e){var t=e.getBoundingClientRect();return[t.left,t.top]}if(e){var n=this.$getZoom(this.el);e=o(1/n,e)}this.els||this.$initTransformMeasureNodes();var a=u(this.els[0]),f=u(this.els[1]),l=u(this.els[2]),h=u(this.els[3]),p=r(i(h,f),i(h,l),i(s(f,l),s(h,a))),d=o(1+p[0],i(f,a)),v=o(1+p[1],i(l,a));if(t){var m=t,g=p[0]*m[0]/c+p[1]*m[1]/c+1,y=s(o(m[0],d),o(m[1],v));return s(o(1/g/c,y),a)}var b=i(e,a),w=r(i(d,o(p[0],b)),i(v,o(p[1],b)),b);return o(c,w)},e}();h.prototype.$characterSize={width:0,height:0},r.implement(h.prototype,a),t.FontMetrics=h}),ace.define(\"ace/css/editor-css\",[\"require\",\"exports\",\"module\"],function(e,t,n){n.exports='\\n.ace_br1 {border-top-left-radius    : 3px;}\\n.ace_br2 {border-top-right-radius   : 3px;}\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\n.ace_br4 {border-bottom-right-radius: 3px;}\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\n.ace_br8 {border-bottom-left-radius : 3px;}\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\n\\n\\n.ace_editor {\\n    position: relative;\\n    overflow: hidden;\\n    padding: 0;\\n    font: 12px/normal \\'Monaco\\', \\'Menlo\\', \\'Ubuntu Mono\\', \\'Consolas\\', \\'Source Code Pro\\', \\'source-code-pro\\', monospace;\\n    direction: ltr;\\n    text-align: left;\\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n    forced-color-adjust: none;\\n}\\n\\n.ace_scroller {\\n    position: absolute;\\n    overflow: hidden;\\n    top: 0;\\n    bottom: 0;\\n    background-color: inherit;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    cursor: text;\\n}\\n\\n.ace_content {\\n    position: absolute;\\n    box-sizing: border-box;\\n    min-width: 100%;\\n    contain: style size layout;\\n    font-variant-ligatures: no-common-ligatures;\\n}\\n.ace_invisible {\\n    font-variant-ligatures: none;\\n}\\n\\n.ace_keyboard-focus:focus {\\n    box-shadow: inset 0 0 0 2px #5E9ED6;\\n    outline: none;\\n}\\n\\n.ace_dragging .ace_scroller:before{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    content: \\'\\';\\n    background: rgba(250, 250, 250, 0.01);\\n    z-index: 1000;\\n}\\n.ace_dragging.ace_dark .ace_scroller:before{\\n    background: rgba(0, 0, 0, 0.01);\\n}\\n\\n.ace_gutter {\\n    position: absolute;\\n    overflow : hidden;\\n    width: auto;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    cursor: default;\\n    z-index: 4;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    contain: style size layout;\\n}\\n\\n.ace_gutter-active-line {\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_scroller.ace_scroll-left:after {\\n    content: \"\";\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    padding-left: 19px;\\n    padding-right: 6px;\\n    background-repeat: no-repeat;\\n}\\n\\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\\n    margin-left: -14px;\\n    float: left;\\n}\\n\\n.ace_gutter-cell .ace_gutter_annotation {\\n    margin-left: -19px;\\n    float: left;\\n}\\n\\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n\\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\");\\n}\\n\\n.ace_icon_svg.ace_error {\\n    -webkit-mask-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+\");\\n    background-color: crimson;\\n}\\n.ace_icon_svg.ace_security {\\n    -webkit-mask-image: url(\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+\");\\n    background-color: crimson;\\n}\\n.ace_icon_svg.ace_warning {\\n    -webkit-mask-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==\");\\n    background-color: darkorange;\\n}\\n.ace_icon_svg.ace_info {\\n    -webkit-mask-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==\");\\n    background-color: royalblue;\\n}\\n.ace_icon_svg.ace_hint {\\n    -webkit-mask-image: url(\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==\");\\n    background-color: silver;\\n}\\n\\n.ace_icon_svg.ace_error_fold {\\n    -webkit-mask-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=\");\\n    background-color: crimson;\\n}\\n.ace_icon_svg.ace_security_fold {\\n    -webkit-mask-image: url(\"data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=\");\\n    background-color: crimson;\\n}\\n.ace_icon_svg.ace_warning_fold {\\n    -webkit-mask-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=\");\\n    background-color: darkorange;\\n}\\n\\n.ace_scrollbar {\\n    contain: strict;\\n    position: absolute;\\n    right: 0;\\n    bottom: 0;\\n    z-index: 6;\\n}\\n\\n.ace_scrollbar-inner {\\n    position: absolute;\\n    cursor: text;\\n    left: 0;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-v{\\n    overflow-x: hidden;\\n    overflow-y: scroll;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-h {\\n    overflow-x: scroll;\\n    overflow-y: hidden;\\n    left: 0;\\n}\\n\\n.ace_print-margin {\\n    position: absolute;\\n    height: 100%;\\n}\\n\\n.ace_text-input {\\n    position: absolute;\\n    z-index: 0;\\n    width: 0.5em;\\n    height: 1em;\\n    opacity: 0;\\n    background: transparent;\\n    -moz-appearance: none;\\n    appearance: none;\\n    border: none;\\n    resize: none;\\n    outline: none;\\n    overflow: hidden;\\n    font: inherit;\\n    padding: 0 1px;\\n    margin: 0 -1px;\\n    contain: strict;\\n    -ms-user-select: text;\\n    -moz-user-select: text;\\n    -webkit-user-select: text;\\n    user-select: text;\\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\\n    white-space: pre!important;\\n}\\n.ace_text-input.ace_composition {\\n    background: transparent;\\n    color: inherit;\\n    z-index: 1000;\\n    opacity: 1;\\n}\\n.ace_composition_placeholder { color: transparent }\\n.ace_composition_marker { \\n    border-bottom: 1px solid;\\n    position: absolute;\\n    border-radius: 0;\\n    margin-top: 1px;\\n}\\n\\n[ace_nocontext=true] {\\n    transform: none!important;\\n    filter: none!important;\\n    clip-path: none!important;\\n    mask : none!important;\\n    contain: none!important;\\n    perspective: none!important;\\n    mix-blend-mode: initial!important;\\n    z-index: auto;\\n}\\n\\n.ace_layer {\\n    z-index: 1;\\n    position: absolute;\\n    overflow: hidden;\\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\\n    word-wrap: normal;\\n    white-space: pre;\\n    height: 100%;\\n    width: 100%;\\n    box-sizing: border-box;\\n    /* setting pointer-events: auto; on node under the mouse, which changes\\n        during scroll, will break mouse wheel scrolling in Safari */\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-layer {\\n    position: relative;\\n    width: auto;\\n    text-align: right;\\n    pointer-events: auto;\\n    height: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer {\\n    font: inherit !important;\\n    position: absolute;\\n    height: 1000000px;\\n    width: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\n    contain: style size layout;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_hidpi .ace_text-layer,\\n.ace_hidpi .ace_gutter-layer,\\n.ace_hidpi .ace_content,\\n.ace_hidpi .ace_gutter {\\n    contain: strict;\\n}\\n.ace_hidpi .ace_text-layer > .ace_line, \\n.ace_hidpi .ace_text-layer > .ace_line_group {\\n    contain: strict;\\n}\\n\\n.ace_cjk {\\n    display: inline-block;\\n    text-align: center;\\n}\\n\\n.ace_cursor-layer {\\n    z-index: 4;\\n}\\n\\n.ace_cursor {\\n    z-index: 4;\\n    position: absolute;\\n    box-sizing: border-box;\\n    border-left: 2px solid;\\n    /* workaround for smooth cursor repaintng whole screen in chrome */\\n    transform: translatez(0);\\n}\\n\\n.ace_multiselect .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_slim-cursors .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_overwrite-cursors .ace_cursor {\\n    border-left-width: 0;\\n    border-bottom: 1px solid;\\n}\\n\\n.ace_hidden-cursors .ace_cursor {\\n    opacity: 0.2;\\n}\\n\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\n    opacity: 0;\\n}\\n\\n.ace_smooth-blinking .ace_cursor {\\n    transition: opacity 0.18s;\\n}\\n\\n.ace_animate-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: step-end;\\n    animation-name: blink-ace-animate;\\n    animation-iteration-count: infinite;\\n}\\n\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: ease-in-out;\\n    animation-name: blink-ace-animate-smooth;\\n}\\n    \\n@keyframes blink-ace-animate {\\n    from, to { opacity: 1; }\\n    60% { opacity: 0; }\\n}\\n\\n@keyframes blink-ace-animate-smooth {\\n    from, to { opacity: 1; }\\n    45% { opacity: 1; }\\n    60% { opacity: 0; }\\n    85% { opacity: 0; }\\n}\\n\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\n    position: absolute;\\n    z-index: 3;\\n}\\n\\n.ace_marker-layer .ace_selection {\\n    position: absolute;\\n    z-index: 5;\\n}\\n\\n.ace_marker-layer .ace_bracket {\\n    position: absolute;\\n    z-index: 6;\\n}\\n\\n.ace_marker-layer .ace_error_bracket {\\n    position: absolute;\\n    border-bottom: 1px solid #DE5555;\\n    border-radius: 0;\\n}\\n\\n.ace_marker-layer .ace_active-line {\\n    position: absolute;\\n    z-index: 2;\\n}\\n\\n.ace_marker-layer .ace_selected-word {\\n    position: absolute;\\n    z-index: 4;\\n    box-sizing: border-box;\\n}\\n\\n.ace_line .ace_fold {\\n    box-sizing: border-box;\\n\\n    display: inline-block;\\n    height: 11px;\\n    margin-top: -2px;\\n    vertical-align: middle;\\n\\n    background-image:\\n        url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),\\n        url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\");\\n    background-repeat: no-repeat, repeat-x;\\n    background-position: center center, top left;\\n    color: transparent;\\n\\n    border: 1px solid black;\\n    border-radius: 2px;\\n\\n    cursor: pointer;\\n    pointer-events: auto;\\n}\\n\\n.ace_dark .ace_fold {\\n}\\n\\n.ace_fold:hover{\\n    background-image:\\n        url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),\\n        url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\");\\n}\\n\\n.ace_tooltip {\\n    background-color: #f5f5f5;\\n    border: 1px solid gray;\\n    border-radius: 1px;\\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\n    color: black;\\n    padding: 3px 4px;\\n    position: absolute;\\n    z-index: 999999;\\n    box-sizing: border-box;\\n    cursor: default;\\n    white-space: pre-wrap;\\n    word-wrap: break-word;\\n    line-height: normal;\\n    font-style: normal;\\n    font-weight: normal;\\n    letter-spacing: normal;\\n    pointer-events: none;\\n    overflow: auto;\\n    max-width: min(33em, 66vw);\\n    overscroll-behavior: contain;\\n}\\n.ace_tooltip pre {\\n    white-space: pre-wrap;\\n}\\n\\n.ace_tooltip.ace_dark {\\n    background-color: #636363;\\n    color: #fff;\\n}\\n\\n.ace_tooltip:focus {\\n    outline: 1px solid #5E9ED6;\\n}\\n\\n.ace_icon {\\n    display: inline-block;\\n    width: 18px;\\n    vertical-align: top;\\n}\\n\\n.ace_icon_svg {\\n    display: inline-block;\\n    width: 12px;\\n    vertical-align: top;\\n    -webkit-mask-repeat: no-repeat;\\n    -webkit-mask-size: 12px;\\n    -webkit-mask-position: center;\\n}\\n\\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\\n    padding-right: 13px;\\n}\\n\\n.ace_fold-widget, .ace_custom-widget {\\n    box-sizing: border-box;\\n\\n    margin: 0 -12px 0 1px;\\n    display: none;\\n    width: 11px;\\n    vertical-align: top;\\n\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n\\n    border-radius: 3px;\\n    \\n    border: 1px solid transparent;\\n    cursor: pointer;\\n    pointer-events: auto;\\n}\\n\\n.ace_custom-widget {\\n    background: none;\\n}\\n\\n.ace_folding-enabled .ace_fold-widget {\\n    display: inline-block;   \\n}\\n\\n.ace_fold-widget.ace_end {\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\");\\n}\\n\\n.ace_fold-widget.ace_closed {\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\");\\n}\\n\\n.ace_fold-widget:hover {\\n    border: 1px solid rgba(0, 0, 0, 0.3);\\n    background-color: rgba(255, 255, 255, 0.2);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\n}\\n\\n.ace_fold-widget:active {\\n    border: 1px solid rgba(0, 0, 0, 0.4);\\n    background-color: rgba(0, 0, 0, 0.05);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\n}\\n/**\\n * Dark version for fold widgets\\n */\\n.ace_dark .ace_fold-widget {\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");\\n}\\n.ace_dark .ace_fold-widget.ace_end {\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");\\n}\\n.ace_dark .ace_fold-widget.ace_closed {\\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");\\n}\\n.ace_dark .ace_fold-widget:hover {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n.ace_dark .ace_fold-widget:active {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n}\\n\\n.ace_inline_button {\\n    border: 1px solid lightgray;\\n    display: inline-block;\\n    margin: -1px 8px;\\n    padding: 0 5px;\\n    pointer-events: auto;\\n    cursor: pointer;\\n}\\n.ace_inline_button:hover {\\n    border-color: gray;\\n    background: rgba(200,200,200,0.2);\\n    display: inline-block;\\n    pointer-events: auto;\\n}\\n\\n.ace_fold-widget.ace_invalid {\\n    background-color: #FFB4B4;\\n    border-color: #DE5555;\\n}\\n\\n.ace_fade-fold-widgets .ace_fold-widget {\\n    transition: opacity 0.4s ease 0.05s;\\n    opacity: 0;\\n}\\n\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\n    transition: opacity 0.05s ease 0.05s;\\n    opacity:1;\\n}\\n\\n.ace_underline {\\n    text-decoration: underline;\\n}\\n\\n.ace_bold {\\n    font-weight: bold;\\n}\\n\\n.ace_nobold .ace_bold {\\n    font-weight: normal;\\n}\\n\\n.ace_italic {\\n    font-style: italic;\\n}\\n\\n\\n.ace_error-marker {\\n    background-color: rgba(255, 0, 0,0.2);\\n    position: absolute;\\n    z-index: 9;\\n}\\n\\n.ace_highlight-marker {\\n    background-color: rgba(255, 255, 0,0.2);\\n    position: absolute;\\n    z-index: 8;\\n}\\n\\n.ace_mobile-menu {\\n    position: absolute;\\n    line-height: 1.5;\\n    border-radius: 4px;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    background: white;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #dcdcdc;\\n    color: black;\\n}\\n.ace_dark > .ace_mobile-menu {\\n    background: #333;\\n    color: #ccc;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #444;\\n\\n}\\n.ace_mobile-button {\\n    padding: 2px;\\n    cursor: pointer;\\n    overflow: hidden;\\n}\\n.ace_mobile-button:hover {\\n    background-color: #eee;\\n    opacity:1;\\n}\\n.ace_mobile-button:active {\\n    background-color: #ddd;\\n}\\n\\n.ace_placeholder {\\n    position: relative;\\n    font-family: arial;\\n    transform: scale(0.9);\\n    transform-origin: left;\\n    white-space: pre;\\n    opacity: 0.7;\\n    margin: 0 10px;\\n    z-index: 1;\\n}\\n\\n.ace_ghost_text {\\n    opacity: 0.5;\\n    font-style: italic;\\n}\\n\\n.ace_ghost_text_container > div {\\n    white-space: pre;\\n}\\n\\n.ghost_text_line_wrapped::after {\\n    content: \"\\u21a9\";\\n    position: absolute;\\n}\\n\\n.ace_lineWidgetContainer.ace_ghost_text {\\n    margin: 0px 4px\\n}\\n\\n.ace_screenreader-only {\\n    position:absolute;\\n    left:-10000px;\\n    top:auto;\\n    width:1px;\\n    height:1px;\\n    overflow:hidden;\\n}\\n\\n.ace_hidden_token {\\n    display: none;\\n}'}),ace.define(\"ace/layer/decorators\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=e(\"../lib/dom\"),i=e(\"../lib/oop\"),s=e(\"../lib/event_emitter\").EventEmitter,o=function(){function e(e,t){this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:\"rgba(255, 18, 18, 1)\",warning:\"rgba(18, 136, 18, 1)\",info:\"rgba(18, 18, 136, 1)\"},this.colors.light={error:\"rgb(255,51,51)\",warning:\"rgb(32,133,72)\",info:\"rgb(35,68,138)\"},this.setScrollBarV(e)}return e.prototype.$createCanvas=function(){this.canvas=r.createElement(\"canvas\"),this.canvas.style.top=\"0px\",this.canvas.style.right=\"0px\",this.canvas.style.zIndex=\"7\",this.canvas.style.position=\"absolute\"},e.prototype.setScrollBarV=function(e){this.$createCanvas(),this.scrollbarV=e,e.element.appendChild(this.canvas),this.setDimensions()},e.prototype.$updateDecorators=function(e){function r(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}if(typeof this.canvas.getContext!=\"function\")return;var t=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(e);var n=this.canvas.getContext(\"2d\"),i=this.renderer.session.$annotations;n.clearRect(0,0,this.canvas.width,this.canvas.height);if(i){var s={info:1,warning:2,error:3};i.forEach(function(e){e.priority=s[e.type]||null}),i=i.sort(r);for(var o=0;o<i.length;o++){var u=i[o].row,a=this.getVerticalOffsetForRow(u),f=a+this.lineHeight,l=Math.round(this.heightRatio*a),c=Math.round(this.heightRatio*f),h=Math.round((l+c)/2),p=c-h;p<this.halfMinDecorationHeight&&(p=this.halfMinDecorationHeight),h-p<0&&(h=p),h+p>this.canvasHeight&&(h=this.canvasHeight-p);var d=h-p,v=h+p,m=v-d;n.fillStyle=t[i[o].type]||null,n.fillRect(0,d,Math.round(this.oneZoneWidth-1),m)}}var g=this.renderer.session.selection.getCursor();if(g){var y=Math.round(this.getVerticalOffsetForRow(g.row)*this.heightRatio);n.fillStyle=\"rgba(0, 0, 0, 0.5)\",n.fillRect(0,y,this.canvasWidth,2)}},e.prototype.getVerticalOffsetForRow=function(e){e|=0;var t=this.renderer.session.documentToScreenRow(e,0)*this.lineHeight;return t},e.prototype.setDimensions=function(e){e=e||this.renderer.layerConfig,this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},e.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},e.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},e}();i.implement(o.prototype,s),t.Decorator=o}),ace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/scrollbar_custom\",\"ace/scrollbar_custom\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/css/editor-css\",\"ace/layer/decorators\",\"ace/lib/useragent\",\"ace/layer/text_util\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/dom\"),s=e(\"./lib/lang\"),o=e(\"./config\"),u=e(\"./layer/gutter\").Gutter,a=e(\"./layer/marker\").Marker,f=e(\"./layer/text\").Text,l=e(\"./layer/cursor\").Cursor,c=e(\"./scrollbar\").HScrollBar,h=e(\"./scrollbar\").VScrollBar,p=e(\"./scrollbar_custom\").HScrollBar,d=e(\"./scrollbar_custom\").VScrollBar,v=e(\"./renderloop\").RenderLoop,m=e(\"./layer/font_metrics\").FontMetrics,g=e(\"./lib/event_emitter\").EventEmitter,y=e(\"./css/editor-css\"),b=e(\"./layer/decorators\").Decorator,w=e(\"./lib/useragent\"),E=e(\"./layer/text_util\").isTextToken;i.importCssString(y,\"ace_editor.css\",!1);var S=function(){function e(e,t){var n=this;this.container=e||i.createElement(\"div\"),i.addCssClass(this.container,\"ace_editor\"),i.HI_DPI&&i.addCssClass(this.container,\"ace_hidpi\"),this.setTheme(t),o.get(\"useStrictCSP\")==null&&o.set(\"useStrictCSP\",!1),this.$gutter=i.createElement(\"div\"),this.$gutter.className=\"ace_gutter\",this.container.appendChild(this.$gutter),this.$gutter.setAttribute(\"aria-hidden\",\"true\"),this.scroller=i.createElement(\"div\"),this.scroller.className=\"ace_scroller\",this.container.appendChild(this.scroller),this.content=i.createElement(\"div\"),this.content.className=\"ace_content\",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on(\"changeGutterWidth\",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var r=this.$textLayer=new f(this.content);this.canvas=r.element,this.$markerFront=new a(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on(\"scroll\",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.on(\"scroll\",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new m(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on(\"changeCharacterSize\",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal(\"changeCharacterSize\",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!w.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),o.resetOptions(this),o._signal(\"renderer\",this)}return e.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle(\"ace_nobold\",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),i.setStyle(this.scroller.style,\"line-height\",this.lineHeight+\"px\")},e.prototype.setSession=function(e){this.session&&this.session.doc.off(\"changeNewLineMode\",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e);if(!e)return;this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on(\"changeNewLineMode\",this.onChangeNewLineMode)},e.prototype.updateLines=function(e,t,n){t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t};if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}if(this.$changedLines.firstRow>this.layerConfig.lastRow)return;this.$loop.schedule(this.CHANGE_LINES)},e.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},e.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},e.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},e.prototype.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},e.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},e.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},e.prototype.onResize=function(e,t,n,r){if(this.resizing>2)return;this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),!r&&this.$maxLines&&this.lineHeight>1&&(!i.style.height||i.style.height==\"0px\")&&(i.style.height=\"1px\",r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var s=this.$updateCachedSize(e,t,n,r);this.$resizeTimer&&this.$resizeTimer.cancel();if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)},e.prototype.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var s=0,o=this.$size,u={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};r&&(e||o.height!=r)&&(o.height=r,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(o.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+\"px\",s|=this.CHANGE_SCROLL);if(n&&(e||o.width!=n)){s|=this.CHANGE_SIZE,o.width=n,t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,\"left\",t+\"px\"),i.setStyle(this.scroller.style,\"left\",t+this.margin.left+\"px\"),o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,\"left\",this.margin.left+\"px\");var a=this.scrollBarV.getWidth()+\"px\";i.setStyle(this.scrollBarH.element.style,\"right\",a),i.setStyle(this.scroller.style,\"right\",a),i.setStyle(this.scroller.style,\"bottom\",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(o.scrollerWidth);if(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)s|=this.CHANGE_FULL}return o.$dirty=!n||!r,s&&this._signal(\"resize\",u),s},e.prototype.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},e.prototype.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},e.prototype.setAnimatedScroll=function(e){this.setOption(\"animatedScroll\",e)},e.prototype.getAnimatedScroll=function(){return this.$animatedScroll},e.prototype.setShowInvisibles=function(e){this.setOption(\"showInvisibles\",e),this.session.$bidiHandler.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.getOption(\"showInvisibles\")},e.prototype.getDisplayIndentGuides=function(){return this.getOption(\"displayIndentGuides\")},e.prototype.setDisplayIndentGuides=function(e){this.setOption(\"displayIndentGuides\",e)},e.prototype.getHighlightIndentGuides=function(){return this.getOption(\"highlightIndentGuides\")},e.prototype.setHighlightIndentGuides=function(e){this.setOption(\"highlightIndentGuides\",e)},e.prototype.setShowPrintMargin=function(e){this.setOption(\"showPrintMargin\",e)},e.prototype.getShowPrintMargin=function(){return this.getOption(\"showPrintMargin\")},e.prototype.setPrintMarginColumn=function(e){this.setOption(\"printMarginColumn\",e)},e.prototype.getPrintMarginColumn=function(){return this.getOption(\"printMarginColumn\")},e.prototype.getShowGutter=function(){return this.getOption(\"showGutter\")},e.prototype.setShowGutter=function(e){return this.setOption(\"showGutter\",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption(\"fadeFoldWidgets\")},e.prototype.setFadeFoldWidgets=function(e){this.setOption(\"fadeFoldWidgets\",e)},e.prototype.setHighlightGutterLine=function(e){this.setOption(\"highlightGutterLine\",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption(\"highlightGutterLine\")},e.prototype.$updatePrintMargin=function(){if(!this.$showPrintMargin&&!this.$printMarginEl)return;if(!this.$printMarginEl){var e=i.createElement(\"div\");e.className=\"ace_layer ace_print-margin-layer\",this.$printMarginEl=i.createElement(\"div\"),this.$printMarginEl.className=\"ace_print-margin\",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+\"px\",t.visibility=this.$showPrintMargin?\"visible\":\"hidden\",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()},e.prototype.getContainerElement=function(){return this.container},e.prototype.getMouseEventTarget=function(){return this.scroller},e.prototype.getTextAreaContainer=function(){return this.container},e.prototype.$moveTextAreaToCursor=function(){if(this.$isMousePressed)return;var e=this.textarea.style,t=this.$composition;if(!this.$keepTextAreaAtCursor&&!t){i.translate(this.textarea,-100,0);return}var n=this.$cursorLayer.$pixelPos;if(!n)return;t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var r=this.layerConfig,s=n.top,o=n.left;s-=r.offset;var u=t&&t.useTextareaForIME||w.isMobile?this.lineHeight:1;if(s<0||s>r.height-u){i.translate(this.textarea,0,0);return}var a=1,f=this.$size.height-u;if(!t)s+=this.lineHeight;else if(t.useTextareaForIME){var l=this.textarea.value;a=this.characterWidth*this.session.$getStringScreenWidth(l)[0]}else s+=this.lineHeight+2;o-=this.scrollLeft,o>this.$size.scrollerWidth-a&&(o=this.$size.scrollerWidth-a),o+=this.gutterWidth+this.margin.left,i.setStyle(e,\"height\",u+\"px\"),i.setStyle(e,\"width\",a+\"px\"),i.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-a),Math.min(s,f))},e.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},e.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},e.prototype.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},e.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},e.prototype.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},e.prototype.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=e|0,i.bottom=t|0,i.right=r|0,i.left=n|0,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},e.prototype.setMargin=function(e,t,n,r){var i=this.margin;i.top=e|0,i.bottom=t|0,i.right=r|0,i.left=n|0,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},e.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},e.prototype.setHScrollBarAlwaysVisible=function(e){this.setOption(\"hScrollBarAlwaysVisible\",e)},e.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},e.prototype.setVScrollBarAlwaysVisible=function(e){this.setOption(\"vScrollBarAlwaysVisible\",e)},e.prototype.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},e.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},e.prototype.freeze=function(){this.$frozen=!0},e.prototype.unfreeze=function(){this.$frozen=!1},e.prototype.$renderChanges=function(e,t){this.$changes&&(e|=this.$changes,this.$changes=0);if(!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t){this.$changes|=e;return}if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal(\"beforeRender\",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){e|=this.$computeLayerConfig()|this.$loop.clear();if(n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-n.offset);var s=n.width+2*this.$padding+\"px\",o=n.minHeight+\"px\";i.setStyle(this.content.style,\"width\",s),i.setStyle(this.content.style,\"height\",o)}e&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?\"ace_scroller \":\"ace_scroller ace_scroll-left \",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName));if(e&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this._signal(\"afterRender\",e);return}if(e&this.CHANGE_SCROLL){this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this._signal(\"afterRender\",e);return}e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal(\"afterRender\",e)},e.prototype.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=n<=2*this.lineHeight,i=!r&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var s=this.container.clientWidth;this.container.style.height=n+\"px\",this.$updateCachedSize(!0,this.$gutterWidth,s,n),this.desiredHeight=n,this._signal(\"autosize\")}},e.prototype.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,s=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),u=this.$horizScroll!==o;u&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),n=t.height<=2*this.lineHeight);var f=t.scrollerHeight+this.lineHeight,l=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=l;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,i-t.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+c.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+l<0||this.scrollTop>c.top),p=a!==h;p&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var d=this.scrollTop%this.lineHeight,v=Math.ceil(f/this.lineHeight)-1,m=Math.max(0,Math.round((this.scrollTop-d)/this.lineHeight)),g=m+v,y,b,w=this.lineHeight;m=e.screenToDocumentRow(m,0);var E=e.getFoldLine(m);E&&(m=E.start.row),y=e.documentToScreenRow(m,0),b=e.getRowLength(m)*w,g=Math.min(e.screenToDocumentRow(g,0),e.getLength()-1),f=t.scrollerHeight+e.getRowLength(g)*w+b,d=this.scrollTop-y*w,d<0&&y>0&&(y=Math.max(0,y+Math.floor(d/w)),d=this.scrollTop-y*w);var S=0;if(this.layerConfig.width!=s||u)S=this.CHANGE_H_SCROLL;if(u||p)S|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal(\"scrollbarVisibilityChanged\"),p&&(s=this.$getLongestLine());return this.layerConfig={width:s,padding:this.$padding,firstRow:m,firstRowScreen:y,lastRow:g,lineHeight:w,characterWidth:this.characterWidth,minHeight:f,maxHeight:i,offset:d,gutterOffset:w?Math.max(0,Math.ceil((d+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(s-this.$padding),S},e.prototype.$updateLines=function(){if(!this.$changedLines)return;var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(e>n.lastRow+1)return;if(t<n.firstRow)return;if(t===Infinity){this.$showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,e,t),!0},e.prototype.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},e.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},e.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},e.prototype.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},e.prototype.updateBreakpoints=function(e){this._rows=e,this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},e.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},e.prototype.showCursor=function(){this.$cursorLayer.showCursor()},e.prototype.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},e.prototype.scrollCursorIntoView=function(e,t,n){if(this.$size.scrollerHeight===0)return;var r=this.$cursorLayer.getPixelPosition(e),i=r.left,s=r.top,o=n&&n.top||0,u=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var a=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;a+o>s?(t&&a+o>s+this.lineHeight&&(s-=t*this.$size.scrollerHeight),s===0&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):a+this.$size.scrollerHeight-u<s+this.lineHeight&&(t&&a+this.$size.scrollerHeight-u<s-this.lineHeight&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight+u-this.$size.scrollerHeight));var f=this.scrollLeft,l=2*this.layerConfig.characterWidth;i-l<f?(i-=l,i<this.$padding+l&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):(i+=l,f+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):f<=this.$padding&&i-f<this.characterWidth&&this.session.setScrollLeft(0))},e.prototype.getScrollTop=function(){return this.session.getScrollTop()},e.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},e.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},e.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},e.prototype.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},e.prototype.alignCursor=function(e,t){typeof e==\"number\"&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},e.prototype.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(s(n/this.STEPS,e,t-e));return i},e.prototype.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),s=i.top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),n!==!1&&this.animateScrolling(o,r)},e.prototype.animateScrolling=function(e,t){function o(){r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,r.$stopAnimation=!1,t&&t()}var n=this.scrollTop;if(!this.$animatedScroll)return;var r=this;if(e==n)return;if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length){e=i[0];if(e==n)return}}var s=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:s},clearInterval(this.$timer),r.session.setScrollTop(s.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){if(r.$stopAnimation){o();return}if(!r.session)return clearInterval(r.$timer);s.length?(r.session.setScrollTop(s.shift()),r.session.$scrollTop=n):n!=null?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):o()},10)},e.prototype.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},e.prototype.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},e.prototype.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},e.prototype.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},e.prototype.isScrollableBy=function(e,t){if(t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top)return!0;if(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom)return!0;if(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left)return!0;if(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},e.prototype.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,s=i/this.characterWidth,o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),u=this.$blockCursor?Math.floor(s):Math.round(s);return{row:o,column:u,side:s-u>0?1:-1,offsetX:i}},e.prototype.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,s=i/this.characterWidth,o=this.$blockCursor?Math.floor(s):Math.round(s),u=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(u,Math.max(o,0),i)},e.prototype.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),s=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+s-this.scrollTop}},e.prototype.visualizeFocus=function(){i.addCssClass(this.container,\"ace_focus\")},e.prototype.visualizeBlur=function(){i.removeCssClass(this.container,\"ace_focus\")},e.prototype.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),e.useTextareaForIME==undefined&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(i.addCssClass(this.textarea,\"ace_composition\"),this.textarea.style.cssText=\"\",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display=\"none\"):e.markerId=this.session.addMarker(e.markerRange,\"ace_composition_marker\",\"text\")},e.prototype.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,\"composition_placeholder\",t.row,t.column),this.$moveTextAreaToCursor()},e.prototype.hideComposition=function(){if(!this.$composition)return;this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),i.removeCssClass(this.textarea,\"ace_composition\"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=\"\"},e.prototype.setGhostText=function(e,t){var n=this.session.selection.cursor,r=t||{row:n.row,column:n.column};this.removeGhostText();var s=this.$calculateWrappedTextChunks(e,r);this.addToken(s[0].text,\"ghost_text\",r.row,r.column),this.$ghostText={text:e,position:{row:r.row,column:r.column}};var o=i.createElement(\"div\");if(s.length>1){var u=this.hideTokensAfterPosition(r.row,r.column),a;s.slice(1).forEach(function(e){var t=i.createElement(\"div\"),n=i.createElement(\"span\");n.className=\"ace_ghost_text\",e.wrapped&&(t.className=\"ghost_text_line_wrapped\"),e.text.length===0&&(e.text=\" \"),n.appendChild(i.createTextNode(e.text)),t.appendChild(n),o.appendChild(t),a=t}),u.forEach(function(e){var t=i.createElement(\"span\");E(e.type)||(t.className=\"ace_\"+e.type.replace(/\\./g,\" ace_\")),t.appendChild(i.createTextNode(e.value)),a.appendChild(t)}),this.$ghostTextWidget={el:o,row:r.row,column:r.column,className:\"ace_ghost_text_container\"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var f=this.$cursorLayer.getPixelPosition(r,!0),l=this.container,c=l.getBoundingClientRect().height,h=s.length*this.lineHeight,p=h<c-f.top;if(p)return;h<c?this.scrollBy(0,(s.length-1)*this.lineHeight):this.scrollToRow(r.row)}},e.prototype.$calculateWrappedTextChunks=function(e,t){var n=this.$size.scrollerWidth-this.$padding*2,r=Math.floor(n/this.characterWidth)-2;r=r<=0?60:r;var i=e.split(/\\r?\\n/),s=[];for(var o=0;o<i.length;o++){var u=this.session.$getDisplayTokens(i[o],t.column),a=this.session.$computeWrapSplits(u,r,this.session.$tabSize);if(a.length>0){var f=0;a.push(i[o].length);for(var l=0;l<a.length;l++){var c=i[o].slice(f,a[l]);s.push({text:c,wrapped:!0}),f=a[l]}}else s.push({text:i[o],wrapped:!1})}return s},e.prototype.removeGhostText=function(){if(!this.$ghostText)return;var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null},e.prototype.addToken=function(e,t,n,r){var i=this.session;i.bgTokenizer.lines[n]=null;var s={type:t,value:e},o=i.getTokens(n);if(r==null||!o.length)o.push(s);else{var u=0;for(var a=0;a<o.length;a++){var f=o[a];u+=f.value.length;if(r<=u){var l=f.value.length-(u-r),c=f.value.slice(0,l),h=f.value.slice(l);o.splice(a,1,{type:f.type,value:c},s,{type:f.type,value:h});break}}}this.updateLines(n,n)},e.prototype.hideTokensAfterPosition=function(e,t){var n=this.session.getTokens(e),r=0,i=!1,s=[];for(var o=0;o<n.length;o++){var u=n[o];r+=u.value.length;if(u.type===\"ghost_text\")continue;if(i){s.push({type:u.type,value:u.value}),u.type=\"hidden_token\";continue}r===t&&(i=!0)}return this.updateLines(e,e),s},e.prototype.removeExtraToken=function(e,t){this.session.bgTokenizer.lines[e]=null,this.updateLines(e,e)},e.prototype.setTheme=function(e,t){function s(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error(\"couldn't load module \"+e+\" or it didn't call define\");r.$id&&(n.$themeId=r.$id),i.importCssString(r.cssText,r.cssClass,n.container),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var s=\"padding\"in r?r.padding:\"padding\"in(n.theme||{})?4:n.$padding;n.$padding&&s!=n.$padding&&n.setPadding(s),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,\"ace_dark\",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent(\"themeLoaded\",{theme:r}),t&&t(),w.isSafari&&n.scroller&&(n.scroller.style.background=\"red\",n.scroller.style.background=\"\")}var n=this;this.$themeId=e,n._dispatchEvent(\"themeChange\",{theme:e});if(!e||typeof e==\"string\"){var r=e||this.$options.theme.initialValue;o.loadModule([\"theme\",r],s)}else s(e)},e.prototype.getTheme=function(){return this.$themeId},e.prototype.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},e.prototype.unsetStyle=function(e){i.removeCssClass(this.container,e)},e.prototype.setCursorStyle=function(e){i.setStyle(this.scroller.style,\"cursor\",e)},e.prototype.setMouseCursor=function(e){i.setStyle(this.scroller.style,\"cursor\",e)},e.prototype.attachToShadowRoot=function(){i.importCssString(y,\"ace_editor.css\",this.container)},e.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=\"\",this.setOption(\"useResizeObserver\",!1)},e.prototype.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),e===!0?(this.scrollBarV=new d(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener(\"scroll\",function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)}),this.scrollBarH.addEventListener(\"scroll\",function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new b(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener(\"scroll\",function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)}),this.scrollBarH.addEventListener(\"scroll\",function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)}))},e.prototype.$addResizeObserver=function(){if(!window.ResizeObserver||this.$resizeObserver)return;var e=this;this.$resizeTimer=s.delayedCall(function(){e.destroyed||e.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(t){var n=t[0].contentRect.width,r=t[0].contentRect.height;Math.abs(e.$size.width-n)>1||Math.abs(e.$size.height-r)>1?e.$resizeTimer.delay():e.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)},e}();S.prototype.CHANGE_CURSOR=1,S.prototype.CHANGE_MARKER=2,S.prototype.CHANGE_GUTTER=4,S.prototype.CHANGE_SCROLL=8,S.prototype.CHANGE_LINES=16,S.prototype.CHANGE_TEXT=32,S.prototype.CHANGE_SIZE=64,S.prototype.CHANGE_MARKER_BACK=128,S.prototype.CHANGE_MARKER_FRONT=256,S.prototype.CHANGE_FULL=512,S.prototype.CHANGE_H_SCROLL=1024,S.prototype.$changes=0,S.prototype.$padding=null,S.prototype.$frozen=!1,S.prototype.STEPS=8,r.implement(S.prototype,g),o.defineOptions(S.prototype,\"renderer\",{useResizeObserver:{set:function(e){!e&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):e&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){typeof e==\"number\"&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?\"block\":\"none\",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(e){this.$gutterLayer.$useSvgGutterIcons=e},initialValue:!1},showFoldedAnnotations:{set:function(e){this.$gutterLayer.$showFoldedAnnotations=e},initialValue:!1},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,\"ace_fade-fold-widgets\",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){this.$textLayer.setHighlightIndentGuides(e)==1?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){typeof e==\"number\"&&(e+=\"px\"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0;if(this.$scrollPastEnd==e)return;this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:\"./theme/textmate\",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!w.isMobile&&!w.isIE}}),t.VirtualRenderer=S}),ace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"],function(e,t,n){\"use strict\";function u(e){var t=\"importScripts('\"+i.qualifyURL(e)+\"');\";try{return new Blob([t],{type:\"application/javascript\"})}catch(n){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,s=new r;return s.append(t),s.getBlob(\"application/javascript\")}}function a(e){if(typeof Worker==\"undefined\")return{postMessage:function(){},terminate:function(){}};if(o.get(\"loadWorkerFromBlob\")){var t=u(e),n=window.URL||window.webkitURL,r=n.createObjectURL(t);return new Worker(r)}return new Worker(e)}var r=e(\"../lib/oop\"),i=e(\"../lib/net\"),s=e(\"../lib/event_emitter\").EventEmitter,o=e(\"../config\"),f=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,s),this.$createWorkerFromOldConfig=function(t,n,r,i,s){e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl);if(o.get(\"packaged\")||!e.toUrl)i=i||o.moduleUrl(n,\"worker\");else{var u=this.$normalizePath;i=i||u(e.toUrl(\"ace/worker/worker.js\",null,\"_\"));var f={};t.forEach(function(t){f[t]=u(e.toUrl(t,null,\"_\").replace(/(\\.js)?(\\?.*)?$/,\"\"))})}return this.$worker=a(i),s&&this.send(\"importScripts\",s),this.$worker.postMessage({init:!0,tlns:f,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case\"event\":this._signal(t.name,{data:t.data});break;case\"call\":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case\"error\":this.reportError(t.data);break;case\"log\":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal(\"terminate\",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(e){e.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off(\"change\",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call(\"setValue\",[e.getValue()]),e.on(\"change\",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),e.action==\"insert\"?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;if(!e)return;this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call(\"setValue\",[this.$doc.getValue()]):this.emit(\"change\",{data:e})}}).call(f.prototype);var l=function(e,t,n){var r=null,i=!1,u=Object.create(s),a=[],l=new f({messageBuffer:a,terminate:function(){},postMessage:function(e){a.push(e);if(!r)return;i?setTimeout(c):c()}});l.setEmitSync=function(e){i=e};var c=function(){var e=a.shift();e.command?r[e.command].apply(r,e.args):e.event&&u._signal(e.event,e.data)};return u.postMessage=function(e){l.onMessage({data:e})},u.callback=function(e,t){this.postMessage({type:\"call\",id:t,data:e})},u.emit=function(e,t){this.postMessage({type:\"event\",name:e,data:t})},o.loadModule([\"worker\",t],function(e){r=new e[n](u);while(a.length)c()}),l};t.UIWorkerClient=l,t.WorkerClient=f,t.createWorker=a}),ace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"],function(e,t,n){\"use strict\";var r=e(\"./range\").Range,i=e(\"./lib/event_emitter\").EventEmitter,s=e(\"./lib/oop\"),o=function(){function e(e,t,n,r,i,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on(\"change\",this.$onUpdate,!0),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var u=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=u.length,this.setup(),e.selection.on(\"changeCursor\",this.$onCursorChange)}return e.prototype.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),n.setUndoSelect(!1)},e.prototype.showOtherMarkers=function(){if(this.othersActive)return;var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})},e.prototype.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)},e.prototype.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row!==t.end.row)return;if(t.start.row!==this.pos.row)return;this.$updating=!0;var n=e.action===\"insert\"?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;this.updateAnchors(e),i&&(this.length+=n);if(i&&!this.session.$fromUndo)if(e.action===\"insert\")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};this.doc.insertMergedLines(a,e.lines)}else if(e.action===\"remove\")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};this.doc.remove(new r(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()},e.prototype.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},e.prototype.updateMarkers=function(){if(this.$updating)return;var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)},e.prototype.onCursorChange=function(e){if(this.$updating||!this.session)return;var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit(\"cursorEnter\",e)):(this.hideOtherMarkers(),this._emit(\"cursorLeave\",e))},e.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off(\"change\",this.$onUpdate),this.session.selection.off(\"changeCursor\",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},e.prototype.cancel=function(){if(this.$undoStackDepth===-1)return;var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth;for(var n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)},e}();s.implement(o.prototype,i),t.PlaceHolder=o}),ace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"],function(e,t,n){function s(e,t){return e.row==t.row&&e.column==t.column}function o(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,u=t.ctrlKey,a=e.getAccelKey(),f=e.getButton();u&&i.isMac&&(f=t.button);if(e.editor.inMultiSelectMode&&f==2){e.editor.textInput.onContextMenu(e.domEvent);return}if(!u&&!n&&!a){f===0&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode();return}if(f!==0)return;var l=e.editor,c=l.selection,h=l.inMultiSelectMode,p=e.getDocumentPosition(),d=c.getCursor(),v=e.inSelection()||c.isEmpty()&&s(p,d),m=e.x,g=e.y,y=function(e){m=e.clientX,g=e.clientY},b=l.session,w=l.renderer.pixelToScreenCoordinates(m,g),E=w,S;if(l.$mouseHandler.$enableJumpToDef)u&&n||a&&n?S=o?\"block\":\"add\":n&&l.$blockSelectEnabled&&(S=\"block\");else if(a&&!n){S=\"add\";if(!h&&o)return}else n&&l.$blockSelectEnabled&&(S=\"block\");S&&i.isMac&&t.ctrlKey&&l.$mouseHandler.cancelContextMenu();if(S==\"add\"){if(!h&&v)return;if(!h){var x=c.toOrientedRange();l.addSelectionMarker(x)}var T=c.rangeList.rangeAtPoint(p);l.inVirtualSelectionMode=!0,o&&(T=null,x=c.ranges[0]||x,l.removeSelectionMarker(x)),l.once(\"mouseup\",function(){var e=c.toOrientedRange();T&&e.isEmpty()&&s(T.cursor,e.cursor)?c.substractPoint(e.cursor):(o?c.substractPoint(x.cursor):x&&(l.removeSelectionMarker(x),c.addRange(x)),c.addRange(e)),l.inVirtualSelectionMode=!1})}else if(S==\"block\"){e.stop(),l.inVirtualSelectionMode=!0;var N,C=[],k=function(){var e=l.renderer.pixelToScreenCoordinates(m,g),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);if(s(E,e)&&s(t,c.lead))return;E=e,l.selection.moveToPosition(t),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(C),C=c.rectangularRangeBlock(E,w),l.$mouseHandler.$clickSelection&&C.length==1&&C[0].isEmpty()&&(C[0]=l.$mouseHandler.$clickSelection.clone()),C.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers()};h&&!a?c.toSingleRange():!h&&a&&(N=c.toOrientedRange(),l.addSelectionMarker(N)),o?w=b.documentToScreenPosition(c.lead):c.moveToPosition(p),E={row:-1,column:-1};var L=function(e){k(),clearInterval(O),l.removeSelectionMarkers(C),C.length||(C=[c.toOrientedRange()]),N&&(l.removeSelectionMarker(N),c.toSingleRange(N));for(var t=0;t<C.length;t++)c.addRange(C[t]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null},A=k;r.capture(l.container,y,L);var O=setInterval(function(){A()},20);return e.preventDefault()}}var r=e(\"../lib/event\"),i=e(\"../lib/useragent\");t.onMouseDown=o}),ace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"],function(e,t,n){t.defaultCommands=[{name:\"addCursorAbove\",description:\"Add cursor above\",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:\"Ctrl-Alt-Up\",mac:\"Ctrl-Alt-Up\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"addCursorBelow\",description:\"Add cursor below\",exec:function(e){e.selectMoreLines(1)},bindKey:{win:\"Ctrl-Alt-Down\",mac:\"Ctrl-Alt-Down\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"addCursorAboveSkipCurrent\",description:\"Add cursor above (skip current)\",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Up\",mac:\"Ctrl-Alt-Shift-Up\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"addCursorBelowSkipCurrent\",description:\"Add cursor below (skip current)\",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Down\",mac:\"Ctrl-Alt-Shift-Down\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectMoreBefore\",description:\"Select more before\",exec:function(e){e.selectMore(-1)},bindKey:{win:\"Ctrl-Alt-Left\",mac:\"Ctrl-Alt-Left\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectMoreAfter\",description:\"Select more after\",exec:function(e){e.selectMore(1)},bindKey:{win:\"Ctrl-Alt-Right\",mac:\"Ctrl-Alt-Right\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectNextBefore\",description:\"Select next before\",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Left\",mac:\"Ctrl-Alt-Shift-Left\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectNextAfter\",description:\"Select next after\",exec:function(e){e.selectMore(1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Right\",mac:\"Ctrl-Alt-Shift-Right\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"toggleSplitSelectionIntoLines\",description:\"Split selection into lines\",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:\"Ctrl-Alt-L\",mac:\"Ctrl-Alt-L\"},readOnly:!0},{name:\"splitSelectionIntoLines\",description:\"Split into lines\",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:\"alignCursors\",description:\"Align cursors\",exec:function(e){e.alignCursors()},bindKey:{win:\"Ctrl-Alt-A\",mac:\"Ctrl-Alt-A\"},scrollIntoView:\"cursor\"},{name:\"findAll\",description:\"Find all\",exec:function(e){e.findAll()},bindKey:{win:\"Ctrl-Alt-K\",mac:\"Ctrl-Alt-G\"},scrollIntoView:\"cursor\",readOnly:!0}],t.multiSelectCommands=[{name:\"singleSelection\",description:\"Single selection\",bindKey:\"esc\",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:\"cursor\",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e(\"../keyboard/hash_handler\").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"],function(e,t,n){function h(e,t,n){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=n==-1,c.find(e)}function v(e,t){return e.row==t.row&&e.column==t.column}function m(e){if(e.$multiselectOnSessionChange)return;e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on(\"changeSession\",e.$multiselectOnSessionChange),e.on(\"mousedown\",o),e.commands.addCommands(f.defaultCommands),g(e)}function g(e){function r(t){n&&(e.renderer.setMouseCursor(\"\"),n=!1)}if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;u.addListener(t,\"keydown\",function(t){var i=t.keyCode==18&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor(\"crosshair\"),n=!0):n&&r()},e),u.addListener(t,\"keyup\",r,e),u.addListener(t,\"blur\",r,e)}var r=e(\"./range_list\").RangeList,i=e(\"./range\").Range,s=e(\"./selection\").Selection,o=e(\"./mouse/multi_select_handler\").onMouseDown,u=e(\"./lib/event\"),a=e(\"./lib/lang\"),f=e(\"./commands/multi_select_commands\");t.commands=f.defaultCommands.concat(f.multiSelectCommands);var l=e(\"./search\").Search,c=new l,p=e(\"./edit_session\").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(p.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(!e)return;if(!this.inMultiSelectMode&&this.rangeCount===0){var n=this.toOrientedRange();this.rangeList.add(n),this.rangeList.add(e);if(this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal(\"multiSelect\"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal(\"addRange\",{range:e})},this.$onRemoveRange=function(e){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal(\"removeRange\",{ranges:e}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal(\"singleSelect\"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new r,this.ranges=[],this.rangeCount=0},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){var e=this.ranges.length?this.ranges:[this.getRange()],t=[];for(var n=0;n<e.length;n++){var r=e[n],s=r.start.row,o=r.end.row;if(s===o)t.push(r.clone());else{t.push(new i(s,r.start.column,s,this.session.getLine(s).length));while(++s<o)t.push(this.getLineRange(s,!0));t.push(new i(o,0,o,r.end.column))}n==0&&!this.isBackwards()&&(t=t.reverse())}this.toSingleRange();for(var n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor),o=this.rectangularRangeBlock(r,s);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],s=e.column<t.column;if(s)var o=e.column,u=t.column,a=e.offsetX,f=t.offsetX;else var o=t.column,u=e.column,a=t.offsetX,f=e.offsetX;var l=e.row<t.row;if(l)var c=e.row,h=t.row;else var c=t.row,h=e.row;o<0&&(o=0),c<0&&(c=0),c==h&&(n=!0);var p;for(var d=c;d<=h;d++){var m=i.fromPoints(this.session.screenToDocumentPosition(d,o,a),this.session.screenToDocumentPosition(d,u,f));if(m.isEmpty()){if(p&&v(m.end,p))break;p=m.end}m.cursor=s?m.start:m.end,r.push(m)}l&&r.reverse();if(!n){var g=r.length-1;while(r[g].isEmpty()&&g>0)g--;if(g>0){var y=0;while(r[y].isEmpty())y++}for(var b=g;b>=y;b--)r[b].isEmpty()&&r.splice(b,1)}return r}}.call(s.prototype);var d=e(\"./editor\").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,\"ace_selection\",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(!e.marker)return;this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length},this.removeSelectionMarkers=function(e){var t=this.session.$selectionMarkers;for(var n=e.length;n--;){var r=e[n];if(!r.marker)continue;this.session.removeMarker(r.marker);var i=t.indexOf(r);i!=-1&&t.splice(i,1)}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){if(this.inMultiSelectMode)return;this.inMultiSelectMode=!0,this.setStyle(\"ace_multiselect\"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler(\"exec\",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onSingleSelect=function(e){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=!1,this.unsetStyle(\"ace_multiselect\"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler(\"exec\",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit(\"changeSelection\")},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(!n.multiSelect)return;if(!t.multiSelectAction){var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}else t.multiSelectAction==\"forEach\"?r=n.forEachSelection(t,e.args):t.multiSelectAction==\"forEachLine\"?r=n.forEachSelection(t,e.args,!0):t.multiSelectAction==\"single\"?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});return r},this.forEachSelection=function(e,t,n){if(this.inVirtualSelectionMode)return;var r=n&&n.keepOrder,i=n==1||n&&n.$byLines,o=this.session,u=this.selection,a=u.rangeList,f=(r?u:a).ranges,l;if(!f.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var c=u._eventRegistry;u._eventRegistry={};var h=new s(o);this.inVirtualSelectionMode=!0;for(var p=f.length;p--;){if(i)while(p>0&&f[p].start.row==f[p-1].end.row)p--;h.fromOrientedRange(f[p]),h.index=p,this.selection=o.selection=h;var d=e.exec?e.exec(this,t||{}):e(this,t||{});!l&&d!==undefined&&(l=d),h.toOrientedRange(f[p])}h.detach(),this.selection=o.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=c,u.mergeOverlappingRanges(),u.ranges[0]&&u.fromOrientedRange(u.ranges[0]);var v=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),v&&v.from==v.to&&this.renderer.animateScrolling(v.from),l},this.exitMultiSelectMode=function(){if(!this.inMultiSelectMode||this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e=\"\";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var t=this.multiSelect.rangeList.ranges,n=[];for(var r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e=\"\")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){t=t||{},t.needle=e||t.needle;if(t.needle==undefined){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var s=this.multiSelect;n||s.toSingleRange(i[0]);for(var o=i.length;o--;)s.addRange(i[o],!0);return r&&s.rangeList.rangeAtPoint(r.start)&&s.addRange(r,!0),i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,s=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(s.row+e,s.column);if(!n.isEmpty())var u=this.session.documentToScreenPosition(r?n.end:n.start),a=this.session.screenToDocumentPosition(u.row+e,u.column);else var a=o;if(r){var f=i.fromPoints(o,a);f.cursor=f.start}else{var f=i.fromPoints(a,o);f.cursor=f.end}f.desiredColumn=s.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(n);else if(t)var l=n.cursor;this.selection.addRange(f),l&&this.selection.substractPoint(l)},this.transposeSelections=function(e){var t=this.session,n=t.multiSelect,r=n.ranges;for(var i=r.length;i--;){var s=r[i];if(s.isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();var u=[];for(var i=r.length;i--;){var s=r[i];u.unshift(t.getTextRange(s))}e<0?u.unshift(u.pop()):u.push(u.shift());for(var i=r.length;i--;){var s=r[i],a=s.clone();t.replace(s,u[i]),s.start.row=a.start.row,s.start.column=a.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect,s=i.toOrientedRange();if(s.isEmpty()){s=r.getWordRange(s.start.row,s.start.column),s.cursor=e==-1?s.start:s.end,this.multiSelect.addRange(s);if(n)return}var o=r.getTextRange(s),u=h(r,o,e);u&&(u.cursor=e==-1?u.start:u.end,this.session.unfold(u),this.multiSelect.addRange(u),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,s=n.filter(function(e){if(e.cursor.row==r)return!0;r=e.cursor.row});if(!n.length||s.length==n.length-1){var o=this.selection.getRange(),u=o.start.row,f=o.end.row,l=u==f;if(l){var c=this.session.getLength(),h;do h=this.session.getLine(f);while(/[=:]/.test(h)&&++f<c);do h=this.session.getLine(u);while(/[=:]/.test(h)&&--u>0);u<0&&(u=0),f>=c&&(f=c-1)}var p=this.session.removeFullLines(u,f);p=this.$reAlignText(p,l),this.session.insert({row:u,column:0},p.join(\"\\n\")+\"\\n\"),l||(o.start.column=0,o.end.column=p[p.length-1].length),this.selection.setRange(o)}else{s.forEach(function(e){t.substractPoint(e.cursor)});var d=0,v=Infinity,m=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\\S/g);return i==-1&&(i=0),n.column>d&&(d=n.column),i<v&&(v=i),i});n.forEach(function(t,n){var r=t.cursor,s=d-r.column,o=m[n]-v;s>o?e.insert(r,a.stringRepeat(\" \",s-o)):e.remove(new i(r.row,r.column,r.row,r.column-s+o)),t.start.column=t.end.column=d,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(e,t){function u(e){return a.stringRepeat(\" \",e)}function f(e){return e[2]?u(i)+e[2]+u(s-e[2].length+o)+e[4].replace(/^([=:])\\s+/,\"$1 \"):e[0]}function l(e){return e[2]?u(i+s-e[2].length)+e[2]+u(o)+e[4].replace(/^([=:])\\s+/,\"$1 \"):e[0]}function c(e){return e[2]?u(i)+e[2]+u(o)+e[4].replace(/^([=:])\\s+/,\"$1 \"):e[0]}var n=!0,r=!0,i,s,o;return e.map(function(e){var t=e.match(/(\\s*)(.*?)(\\s*)([=:].*)/);return t?i==null?(i=t[1].length,s=t[2].length,o=t[3].length,t):(i+s+o!=t[1].length+t[2].length+t[3].length&&(r=!1),i!=t[1].length&&(n=!1),i>t[1].length&&(i=t[1].length),s<t[2].length&&(s=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]}).map(t?f:n?r?l:f:c)}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off(\"addRange\",this.$onAddRange),n.multiSelect.off(\"removeRange\",this.$onRemoveRange),n.multiSelect.off(\"multiSelect\",this.$onMultiSelect),n.multiSelect.off(\"singleSelect\",this.$onSingleSelect),n.multiSelect.lead.off(\"change\",this.$checkMultiselectChange),n.multiSelect.anchor.off(\"change\",this.$checkMultiselectChange)),t&&(t.multiSelect.on(\"addRange\",this.$onAddRange),t.multiSelect.on(\"removeRange\",this.$onRemoveRange),t.multiSelect.on(\"multiSelect\",this.$onMultiSelect),t.multiSelect.on(\"singleSelect\",this.$onSingleSelect),t.multiSelect.lead.on(\"change\",this.$checkMultiselectChange),t.multiSelect.anchor.on(\"change\",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=m,e(\"./config\").defineOptions(d.prototype,\"editor\",{enableMultiselect:{set:function(e){m(this),e?this.on(\"mousedown\",o):this.off(\"mousedown\",o)},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"../../range\").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?\"start\":t==\"markbeginend\"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?\"end\":\"\"},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\\S/,s=e.getLine(t),o=s.search(i);if(o==-1)return;var u=n||s.length,a=e.getLength(),f=t,l=t;while(++t<a){var c=e.getLine(t).search(i);if(c==-1)continue;if(c<=o){var h=e.getTokenAt(t,0);if(!h||h.type!==\"string\")break}l=t}if(l>f){var p=e.getLine(l).length;return new r(f,u,l,p)}},this.openingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i+1},u=e.$findClosingBracket(t,o,s);if(!u)return;var a=e.foldWidgets[u.row];return a==null&&(a=e.getFoldWidget(u.row)),a==\"start\"&&u.row>o.row&&(u.row--,u.column=e.getLine(u.row).length),r.fromPoints(o,u)},this.closingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i},u=e.$findOpeningBracket(t,o);if(!u)return;return u.column++,o.column--,r.fromPoints(u,o)}}).call(i.prototype)}),ace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/range\",\"ace/config\"],function(e,t,n){\"use strict\";function o(e,t,n){var r=0,i=e.length-1;while(r<=i){var s=r+i>>1,o=n(t,e[s]);if(o>0)r=s+1;else{if(!(o<0))return s;i=s-1}}return-(r+1)}function u(e,t,n){var r=e.getAnnotations().sort(i.comparePoints);if(!r.length)return;var s=o(r,{row:t,column:-1},i.comparePoints);s<0&&(s=-s-1),s>=r.length?s=n>0?0:r.length-1:s===0&&n<0&&(s=r.length-1);var u=r[s];if(!u||!n)return;if(u.row===t){do u=r[s+=n];while(u&&u.row===t);if(!u)return r.slice()}var a=[];t=u.row;do a[n<0?\"unshift\":\"push\"](u),u=r[s+=n];while(u&&u.row==t);return a.length&&a}var r=e(\"../lib/dom\"),i=e(\"../range\").Range,s=e(\"../config\").nls;t.showErrorMarker=function(e,t){var n=e.session,i=e.getCursorPosition(),o=i.row,a=n.widgetManager.getWidgetsAtRow(o).filter(function(e){return e.type==\"errorMarker\"})[0];a?a.destroy():o-=t;var f=u(n,o,t),l;if(f){var c=f[0];i.column=(c.pos&&typeof c.column!=\"number\"?c.pos.sc:c.column)||0,i.row=c.row,l=e.renderer.$gutterLayer.$annotations[i.row]}else{if(a)return;l={displayText:[s(\"error-marker.good-state\",\"Looks good!\")],className:\"ace_ok\"}}e.session.unfold(i.row),e.selection.moveToPosition(i);var h={row:i.row,fixedWidth:!0,coverGutter:!0,el:r.createElement(\"div\"),type:\"errorMarker\"},p=h.el.appendChild(r.createElement(\"div\")),d=h.el.appendChild(r.createElement(\"div\"));d.className=\"error_widget_arrow \"+l.className;var v=e.renderer.$cursorLayer.getPixelPosition(i).left;d.style.left=v+e.renderer.gutterWidth-5+\"px\",h.el.className=\"error_widget_wrapper\",p.className=\"error_widget \"+l.className,l.displayText.forEach(function(e,t){p.appendChild(r.createTextNode(e)),t<l.displayText.length-1&&p.appendChild(r.createElement(\"br\"))}),p.appendChild(r.createElement(\"div\"));var m=function(e,t,n){if(t===0&&(n===\"esc\"||n===\"return\"))return h.destroy(),{command:\"null\"}};h.destroy=function(){if(e.$mouseHandler.isMousePressed)return;e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(h),e.off(\"changeSelection\",h.destroy),e.off(\"changeSession\",h.destroy),e.off(\"mouseup\",h.destroy),e.off(\"change\",h.destroy)},e.keyBinding.addKeyboardHandler(m),e.on(\"changeSelection\",h.destroy),e.on(\"changeSession\",h.destroy),e.on(\"mouseup\",h.destroy),e.on(\"change\",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},r.importCssString(\"\\n    .error_widget_wrapper {\\n        background: inherit;\\n        color: inherit;\\n        border:none\\n    }\\n    .error_widget {\\n        border-top: solid 2px;\\n        border-bottom: solid 2px;\\n        margin: 5px 0;\\n        padding: 10px 40px;\\n        white-space: pre-wrap;\\n    }\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\n        border-color: #ff5a5a\\n    }\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\n        border-color: #F1D817\\n    }\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\n        border-color: #5a5a5a\\n    }\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\n        border-color: #5aaa5a\\n    }\\n    .error_widget_arrow {\\n        position: absolute;\\n        border: solid 5px;\\n        border-top-color: transparent!important;\\n        border-right-color: transparent!important;\\n        border-left-color: transparent!important;\\n        top: -5px;\\n    }\\n\",\"error_marker.css\",!1)}),ace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\",\"ace/loader_build\"],function(e,t,n){\"use strict\";e(\"./loader_build\")(t);var r=e(\"./lib/dom\"),i=e(\"./range\").Range,s=e(\"./editor\").Editor,o=e(\"./edit_session\").EditSession,u=e(\"./undomanager\").UndoManager,a=e(\"./virtual_renderer\").VirtualRenderer;e(\"./worker/worker_client\"),e(\"./keyboard/hash_handler\"),e(\"./placeholder\"),e(\"./multi_select\"),e(\"./mode/folding/fold_mode\"),e(\"./theme/textmate\"),e(\"./ext/error_marker\"),t.config=e(\"./config\"),t.edit=function(e,n){if(typeof e==\"string\"){var i=e;e=document.getElementById(i);if(!e)throw new Error(\"ace.edit can't find div #\"+i)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var o=\"\";if(e&&/input|textarea/i.test(e.tagName)){var u=e;o=u.value,e=r.createElement(\"pre\"),u.parentNode.replaceChild(e,u)}else e&&(o=e.textContent,e.innerHTML=\"\");var f=t.createEditSession(o),l=new s(new a(e),f,n),c={document:f,editor:l,onResize:l.resize.bind(l,null)};return u&&(c.textarea=u),l.on(\"destroy\",function(){c.editor.container.env=null}),l.container.env=l.env=c,l},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new u),n},t.Range=i,t.Editor=s,t.EditSession=o,t.UndoManager=u,t.VirtualRenderer=a;var f=t.config.version;t.version=f});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    var global = (function () {\n                        return this;\n                    })();\n                    if (!global && typeof window != \"undefined\") global = window; // can happen in strict mode\n                    if (!global && typeof self != \"undefined\") global = self; // can happen in webworker\n                    \n                    if (!global.ace)\n                        global.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        global.ace[key] = a[key];\n                    global.ace[\"default\"] = global.ace;\n                    if ( true && module) {\n                        module.exports = global.ace;\n                    }\n                });\n            })();\n        //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9zdXBlcnNldC11aS1jb3JlL25vZGVfbW9kdWxlcy9hY2UtYnVpbGRzL3NyYy1taW4tbm9jb25mbGljdC9hY2UuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL3BhY2thZ2VzL3N1cGVyc2V0LXVpLWNvcmUvbm9kZV9tb2R1bGVzL2FjZS1idWlsZHMvc3JjLW1pbi1ub2NvbmZsaWN0L2FjZS5qcz9jZDY4Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIG8obil7dmFyIGk9ZTtuJiYoZVtuXXx8KGVbbl09e30pLGk9ZVtuXSk7aWYoIWkuZGVmaW5lfHwhaS5kZWZpbmUucGFja2FnZWQpdC5vcmlnaW5hbD1pLmRlZmluZSxpLmRlZmluZT10LGkuZGVmaW5lLnBhY2thZ2VkPSEwO2lmKCFpLnJlcXVpcmV8fCFpLnJlcXVpcmUucGFja2FnZWQpci5vcmlnaW5hbD1pLnJlcXVpcmUsaS5yZXF1aXJlPXIsaS5yZXF1aXJlLnBhY2thZ2VkPSEwfXZhciBBQ0VfTkFNRVNQQUNFID0gXCJhY2VcIixlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7IWUmJnR5cGVvZiB3aW5kb3chPVwidW5kZWZpbmVkXCImJihlPXdpbmRvdyk7aWYoIUFDRV9OQU1FU1BBQ0UmJnR5cGVvZiByZXF1aXJlanMhPVwidW5kZWZpbmVkXCIpcmV0dXJuO3ZhciB0PWZ1bmN0aW9uKGUsbixyKXtpZih0eXBlb2YgZSE9XCJzdHJpbmdcIil7dC5vcmlnaW5hbD90Lm9yaWdpbmFsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooY29uc29sZS5lcnJvcihcImRyb3BwaW5nIG1vZHVsZSBiZWNhdXNlIGRlZmluZSB3YXNuJ3QgYSBzdHJpbmcuXCIpLGNvbnNvbGUudHJhY2UoKSk7cmV0dXJufWFyZ3VtZW50cy5sZW5ndGg9PTImJihyPW4pLHQubW9kdWxlc1tlXXx8KHQucGF5bG9hZHNbZV09cix0Lm1vZHVsZXNbZV09bnVsbCl9O3QubW9kdWxlcz17fSx0LnBheWxvYWRzPXt9O3ZhciBuPWZ1bmN0aW9uKGUsdCxuKXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7dmFyIGk9cyhlLHQpO2lmKGkhPXVuZGVmaW5lZClyZXR1cm4gbiYmbigpLGl9ZWxzZSBpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk9PT1cIltvYmplY3QgQXJyYXldXCIpe3ZhciBvPVtdO2Zvcih2YXIgdT0wLGE9dC5sZW5ndGg7dTxhOysrdSl7dmFyIGY9cyhlLHRbdV0pO2lmKGY9PXVuZGVmaW5lZCYmci5vcmlnaW5hbClyZXR1cm47by5wdXNoKGYpfXJldHVybiBuJiZuLmFwcGx5KG51bGwsbyl8fCEwfX0scj1mdW5jdGlvbihlLHQpe3ZhciBpPW4oXCJcIixlLHQpO3JldHVybiBpPT11bmRlZmluZWQmJnIub3JpZ2luYWw/ci5vcmlnaW5hbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6aX0saT1mdW5jdGlvbihlLHQpe2lmKHQuaW5kZXhPZihcIiFcIikhPT0tMSl7dmFyIG49dC5zcGxpdChcIiFcIik7cmV0dXJuIGkoZSxuWzBdKStcIiFcIitpKGUsblsxXSl9aWYodC5jaGFyQXQoMCk9PVwiLlwiKXt2YXIgcj1lLnNwbGl0KFwiL1wiKS5zbGljZSgwLC0xKS5qb2luKFwiL1wiKTt0PXIrXCIvXCIrdDt3aGlsZSh0LmluZGV4T2YoXCIuXCIpIT09LTEmJnMhPXQpe3ZhciBzPXQ7dD10LnJlcGxhY2UoL1xcL1xcLlxcLy8sXCIvXCIpLnJlcGxhY2UoL1teXFwvXStcXC9cXC5cXC5cXC8vLFwiXCIpfX1yZXR1cm4gdH0scz1mdW5jdGlvbihlLHIpe3I9aShlLHIpO3ZhciBzPXQubW9kdWxlc1tyXTtpZighcyl7cz10LnBheWxvYWRzW3JdO2lmKHR5cGVvZiBzPT1cImZ1bmN0aW9uXCIpe3ZhciBvPXt9LHU9e2lkOnIsdXJpOlwiXCIsZXhwb3J0czpvLHBhY2thZ2VkOiEwfSxhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4ocixlLHQpfSxmPXMoYSxvLHUpO289Znx8dS5leHBvcnRzLHQubW9kdWxlc1tyXT1vLGRlbGV0ZSB0LnBheWxvYWRzW3JdfXM9dC5tb2R1bGVzW3JdPW98fHN9cmV0dXJuIHN9O28oQUNFX05BTUVTUEFDRSl9KSgpLGFjZS5kZWZpbmUoXCJhY2UvbGliL2VzNi1zaGltXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLGZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUsdCxuKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9U3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRofHxyKFN0cmluZy5wcm90b3R5cGUsXCJzdGFydHNXaXRoXCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHwwLHRoaXMubGFzdEluZGV4T2YoZSx0KT09PXR9KSxTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRofHxyKFN0cmluZy5wcm90b3R5cGUsXCJlbmRzV2l0aFwiLGZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZih0PT09dW5kZWZpbmVkfHx0Pm4ubGVuZ3RoKXQ9bi5sZW5ndGg7dC09ZS5sZW5ndGg7dmFyIHI9bi5pbmRleE9mKGUsdCk7cmV0dXJuIHIhPT0tMSYmcj09PXR9KSxTdHJpbmcucHJvdG90eXBlLnJlcGVhdHx8cihTdHJpbmcucHJvdG90eXBlLFwicmVwZWF0XCIsZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIixuPXRoaXM7d2hpbGUoZT4wKXtlJjEmJih0Kz1uKTtpZihlPj49MSluKz1ufXJldHVybiB0fSksU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc3x8cihTdHJpbmcucHJvdG90eXBlLFwiaW5jbHVkZXNcIixmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmluZGV4T2YoZSx0KSE9LTF9KSxPYmplY3QuYXNzaWdufHwoT2JqZWN0LmFzc2lnbj1mdW5jdGlvbihlKXtpZihlPT09dW5kZWZpbmVkfHxlPT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO3ZhciB0PU9iamVjdChlKTtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgcj1hcmd1bWVudHNbbl07ciE9PXVuZGVmaW5lZCYmciE9PW51bGwmJk9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1yW2VdfSl9cmV0dXJuIHR9KSxPYmplY3QudmFsdWVzfHwoT2JqZWN0LnZhbHVlcz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSl9KSxBcnJheS5wcm90b3R5cGUuZmluZHx8cihBcnJheS5wcm90b3R5cGUsXCJmaW5kXCIsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj1hcmd1bWVudHNbMV07Zm9yKHZhciByPTA7cjx0O3IrKyl7dmFyIGk9dGhpc1tyXTtpZihlLmNhbGwobixpLHIsdGhpcykpcmV0dXJuIGl9fSksQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleHx8cihBcnJheS5wcm90b3R5cGUsXCJmaW5kSW5kZXhcIixmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxlbmd0aCxuPWFyZ3VtZW50c1sxXTtmb3IodmFyIHI9MDtyPHQ7cisrKXt2YXIgaT10aGlzW3JdO2lmKGUuY2FsbChuLGkscix0aGlzKSlyZXR1cm4gcn19KSxBcnJheS5wcm90b3R5cGUuaW5jbHVkZXN8fHIoQXJyYXkucHJvdG90eXBlLFwiaW5jbHVkZXNcIixmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmluZGV4T2YoZSx0KSE9LTF9KSxBcnJheS5wcm90b3R5cGUuZmlsbHx8cihBcnJheS5wcm90b3R5cGUsXCJmaWxsXCIsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXQubGVuZ3RoPj4+MCxyPWFyZ3VtZW50c1sxXSxpPXI+PjAscz1pPDA/TWF0aC5tYXgobitpLDApOk1hdGgubWluKGksbiksbz1hcmd1bWVudHNbMl0sdT1vPT09dW5kZWZpbmVkP246bz4+MCxhPXU8MD9NYXRoLm1heChuK3UsMCk6TWF0aC5taW4odSxuKTt3aGlsZShzPGEpdFtzXT1lLHMrKztyZXR1cm4gdH0pLEFycmF5Lm9mfHxyKEFycmF5LFwib2ZcIixmdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpfSl9KSxhY2UuZGVmaW5lKFwiYWNlL2xpYi9maXhvbGRicm93c2Vyc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9lczYtc2hpbVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZShcIi4vZXM2LXNoaW1cIil9KSxhY2UuZGVmaW5lKFwiYWNlL2xpYi9kZWVwX2NvcHlcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sZnVuY3Rpb24oZSx0LG4pe3QuZGVlcENvcHk9ZnVuY3Rpb24gcihlKXtpZih0eXBlb2YgZSE9XCJvYmplY3RcInx8IWUpcmV0dXJuIGU7dmFyIHQ7aWYoQXJyYXkuaXNBcnJheShlKSl7dD1bXTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0W25dPXIoZVtuXSk7cmV0dXJuIHR9aWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpIT09XCJbb2JqZWN0IE9iamVjdF1cIilyZXR1cm4gZTt0PXt9O2Zvcih2YXIgbiBpbiBlKXRbbl09cihlW25dKTtyZXR1cm4gdH19KSxhY2UuZGVmaW5lKFwiYWNlL2xpYi9sYW5nXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RlZXBfY29weVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dC5sYXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlW2UubGVuZ3RoLTFdfSx0LnN0cmluZ1JldmVyc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIil9LHQuc3RyaW5nUmVwZWF0PWZ1bmN0aW9uKGUsdCl7dmFyIG49XCJcIjt3aGlsZSh0PjApe3QmMSYmKG4rPWUpO2lmKHQ+Pj0xKWUrPWV9cmV0dXJuIG59O3ZhciByPS9eXFxzXFxzKi8saT0vXFxzXFxzKiQvO3Quc3RyaW5nVHJpbUxlZnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShyLFwiXCIpfSx0LnN0cmluZ1RyaW1SaWdodD1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKGksXCJcIil9LHQuY29weU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSl0W25dPWVbbl07cmV0dXJuIHR9LHQuY29weUFycmF5PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyllW25dJiZ0eXBlb2YgZVtuXT09XCJvYmplY3RcIj90W25dPXRoaXMuY29weU9iamVjdChlW25dKTp0W25dPWVbbl07cmV0dXJuIHR9LHQuZGVlcENvcHk9ZShcIi4vZGVlcF9jb3B5XCIpLmRlZXBDb3B5LHQuYXJyYXlUb01hcD1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0W2Vbbl1dPTE7cmV0dXJuIHR9LHQuY3JlYXRlTWFwPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciBuIGluIGUpdFtuXT1lW25dO3JldHVybiB0fSx0LmFycmF5UmVtb3ZlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjw9ZS5sZW5ndGg7bisrKXQ9PT1lW25dJiZlLnNwbGljZShuLDEpfSx0LmVzY2FwZVJlZ0V4cD1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xcXVxcL1xcXFxdKS9nLFwiXFxcXCQxXCIpfSx0LmVzY2FwZUhUTUw9ZnVuY3Rpb24oZSl7cmV0dXJuKFwiXCIrZSkucmVwbGFjZSgvJi9nLFwiJiMzODtcIikucmVwbGFjZSgvXCIvZyxcIiYjMzQ7XCIpLnJlcGxhY2UoLycvZyxcIiYjMzk7XCIpLnJlcGxhY2UoLzwvZyxcIiYjNjA7XCIpfSx0LmdldE1hdGNoT2Zmc2V0cz1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO3JldHVybiBlLnJlcGxhY2UodCxmdW5jdGlvbihlKXtuLnB1c2goe29mZnNldDphcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxsZW5ndGg6ZS5sZW5ndGh9KX0pLG59LHQuZGVmZXJyZWRDYWxsPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGwsbj1mdW5jdGlvbigpe3Q9bnVsbCxlKCl9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FuY2VsKCksdD1zZXRUaW1lb3V0KG4sZXx8MCkscn07cmV0dXJuIHIuc2NoZWR1bGU9cixyLmNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5jZWwoKSxlKCkscn0sci5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHQpLHQ9bnVsbCxyfSxyLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0fSxyfSx0LmRlbGF5ZWRDYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbCxyPWZ1bmN0aW9uKCl7bj1udWxsLGUoKX0saT1mdW5jdGlvbihlKXtuPT1udWxsJiYobj1zZXRUaW1lb3V0KHIsZXx8dCkpfTtyZXR1cm4gaS5kZWxheT1mdW5jdGlvbihlKXtuJiZjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KHIsZXx8dCl9LGkuc2NoZWR1bGU9aSxpLmNhbGw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpLGUoKX0saS5jYW5jZWw9ZnVuY3Rpb24oKXtuJiZjbGVhclRpbWVvdXQobiksbj1udWxsfSxpLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiBufSxpfSx0LnN1cHBvcnRzTG9va2JlaGluZD1mdW5jdGlvbigpe3RyeXtuZXcgUmVnRXhwKFwiKD88PS4pXCIpfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfSx0LnNraXBFbXB0eU1hdGNoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmZS5jb2RlUG9pbnRBdCh0KT42NTUzNT8yOjF9fSksYWNlLmRlZmluZShcImFjZS9saWIvdXNlcmFnZW50XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt0Lk9TPXtMSU5VWDpcIkxJTlVYXCIsTUFDOlwiTUFDXCIsV0lORE9XUzpcIldJTkRPV1NcIn0sdC5nZXRPUz1mdW5jdGlvbigpe3JldHVybiB0LmlzTWFjP3QuT1MuTUFDOnQuaXNMaW51eD90Lk9TLkxJTlVYOnQuT1MuV0lORE9XU307dmFyIHI9dHlwZW9mIG5hdmlnYXRvcj09XCJvYmplY3RcIj9uYXZpZ2F0b3I6e30saT0oL21hY3x3aW58bGludXgvaS5leGVjKHIucGxhdGZvcm0pfHxbXCJvdGhlclwiXSlbMF0udG9Mb3dlckNhc2UoKSxzPXIudXNlckFnZW50fHxcIlwiLG89ci5hcHBOYW1lfHxcIlwiO3QuaXNXaW49aT09XCJ3aW5cIix0LmlzTWFjPWk9PVwibWFjXCIsdC5pc0xpbnV4PWk9PVwibGludXhcIix0LmlzSUU9bz09XCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcInx8by5pbmRleE9mKFwiTVNBcHBIb3N0XCIpPj0wP3BhcnNlRmxvYXQoKHMubWF0Y2goLyg/Ok1TSUUgfFRyaWRlbnRcXC9bMC05XStbXFwuMC05XSs7LipydjopKFswLTldK1tcXC4wLTldKykvKXx8W10pWzFdKTpwYXJzZUZsb2F0KChzLm1hdGNoKC8oPzpUcmlkZW50XFwvWzAtOV0rW1xcLjAtOV0rOy4qcnY6KShbMC05XStbXFwuMC05XSspLyl8fFtdKVsxXSksdC5pc09sZElFPXQuaXNJRSYmdC5pc0lFPDksdC5pc0dlY2tvPXQuaXNNb3ppbGxhPXMubWF0Y2goLyBHZWNrb1xcL1xcZCsvKSx0LmlzT3BlcmE9dHlwZW9mIG9wZXJhPT1cIm9iamVjdFwiJiZPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93W1wib3BlcmFcIl0pPT1cIltvYmplY3QgT3BlcmFdXCIsdC5pc1dlYktpdD1wYXJzZUZsb2F0KHMuc3BsaXQoXCJXZWJLaXQvXCIpWzFdKXx8dW5kZWZpbmVkLHQuaXNDaHJvbWU9cGFyc2VGbG9hdChzLnNwbGl0KFwiIENocm9tZS9cIilbMV0pfHx1bmRlZmluZWQsdC5pc1NhZmFyaT1wYXJzZUZsb2F0KHMuc3BsaXQoXCIgU2FmYXJpL1wiKVsxXSkmJiF0LmlzQ2hyb21lfHx1bmRlZmluZWQsdC5pc0VkZ2U9cGFyc2VGbG9hdChzLnNwbGl0KFwiIEVkZ2UvXCIpWzFdKXx8dW5kZWZpbmVkLHQuaXNBSVI9cy5pbmRleE9mKFwiQWRvYmVBSVJcIik+PTAsdC5pc0FuZHJvaWQ9cy5pbmRleE9mKFwiQW5kcm9pZFwiKT49MCx0LmlzQ2hyb21lT1M9cy5pbmRleE9mKFwiIENyT1MgXCIpPj0wLHQuaXNJT1M9L2lQYWR8aVBob25lfGlQb2QvLnRlc3QocykmJiF3aW5kb3cuTVNTdHJlYW0sdC5pc0lPUyYmKHQuaXNNYWM9ITApLHQuaXNNb2JpbGU9dC5pc0lPU3x8dC5pc0FuZHJvaWR9KSxhY2UuZGVmaW5lKFwiYWNlL2xpYi9kb21cIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvdXNlcmFnZW50XCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB1KCl7dmFyIGU9bztvPW51bGwsZSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EoZVswXSxlWzFdKX0pfWZ1bmN0aW9uIGEoZSxuLHIpe2lmKHR5cGVvZiBkb2N1bWVudD09XCJ1bmRlZmluZWRcIilyZXR1cm47aWYobylpZihyKXUoKTtlbHNlIGlmKHI9PT0hMSlyZXR1cm4gby5wdXNoKFtlLG5dKTtpZihzKXJldHVybjt2YXIgaT1yO2lmKCFyfHwhci5nZXRSb290Tm9kZSlpPWRvY3VtZW50O2Vsc2V7aT1yLmdldFJvb3ROb2RlKCk7aWYoIWl8fGk9PXIpaT1kb2N1bWVudH12YXIgYT1pLm93bmVyRG9jdW1lbnR8fGk7aWYobiYmdC5oYXNDc3NTdHJpbmcobixpKSlyZXR1cm4gbnVsbDtuJiYoZSs9XCJcXG4vKiMgc291cmNlVVJMPWFjZS9jc3MvXCIrbitcIiAqL1wiKTt2YXIgZj10LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtmLmFwcGVuZENoaWxkKGEuY3JlYXRlVGV4dE5vZGUoZSkpLG4mJihmLmlkPW4pLGk9PWEmJihpPXQuZ2V0RG9jdW1lbnRIZWFkKGEpKSxpLmluc2VydEJlZm9yZShmLGkuZmlyc3RDaGlsZCl9dmFyIHI9ZShcIi4vdXNlcmFnZW50XCIpLGk9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI7dC5idWlsZERvbT1mdW5jdGlvbiBsKGUsdCxuKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIiYmZSl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7cmV0dXJuIHQmJnQuYXBwZW5kQ2hpbGQocikscn1pZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZSYmZS5hcHBlbmRDaGlsZCYmdCYmdC5hcHBlbmRDaGlsZChlKSxlO2lmKHR5cGVvZiBlWzBdIT1cInN0cmluZ1wifHwhZVswXSl7dmFyIGk9W107Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspe3ZhciBvPWwoZVtzXSx0LG4pO28mJmkucHVzaChvKX1yZXR1cm4gaX12YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGVbMF0pLGE9ZVsxXSxmPTE7YSYmdHlwZW9mIGE9PVwib2JqZWN0XCImJiFBcnJheS5pc0FycmF5KGEpJiYoZj0yKTtmb3IodmFyIHM9ZjtzPGUubGVuZ3RoO3MrKylsKGVbc10sdSxuKTtyZXR1cm4gZj09MiYmT2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1hW2VdO2U9PT1cImNsYXNzXCI/dS5jbGFzc05hbWU9QXJyYXkuaXNBcnJheSh0KT90LmpvaW4oXCIgXCIpOnQ6dHlwZW9mIHQ9PVwiZnVuY3Rpb25cInx8ZT09XCJ2YWx1ZVwifHxlWzBdPT1cIiRcIj91W2VdPXQ6ZT09PVwicmVmXCI/biYmKG5bdF09dSk6ZT09PVwic3R5bGVcIj90eXBlb2YgdD09XCJzdHJpbmdcIiYmKHUuc3R5bGUuY3NzVGV4dD10KTp0IT1udWxsJiZ1LnNldEF0dHJpYnV0ZShlLHQpfSksdCYmdC5hcHBlbmRDaGlsZCh1KSx1fSx0LmdldERvY3VtZW50SGVhZD1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KGU9ZG9jdW1lbnQpLGUuaGVhZHx8ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF18fGUuZG9jdW1lbnRFbGVtZW50fSx0LmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0fHxpLGUpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSl9LHQucmVtb3ZlQ2hpbGRyZW49ZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9XCJcIn0sdC5jcmVhdGVUZXh0Tm9kZT1mdW5jdGlvbihlLHQpe3ZhciBuPXQ/dC5vd25lckRvY3VtZW50OmRvY3VtZW50O3JldHVybiBuLmNyZWF0ZVRleHROb2RlKGUpfSx0LmNyZWF0ZUZyYWdtZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWU/ZS5vd25lckRvY3VtZW50OmRvY3VtZW50O3JldHVybiB0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKX0sdC5oYXNDc3NDbGFzcz1mdW5jdGlvbihlLHQpe3ZhciBuPShlLmNsYXNzTmFtZStcIlwiKS5zcGxpdCgvXFxzKy9nKTtyZXR1cm4gbi5pbmRleE9mKHQpIT09LTF9LHQuYWRkQ3NzQ2xhc3M9ZnVuY3Rpb24oZSxuKXt0Lmhhc0Nzc0NsYXNzKGUsbil8fChlLmNsYXNzTmFtZSs9XCIgXCIrbil9LHQucmVtb3ZlQ3NzQ2xhc3M9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy9nKTtmb3IoOzspe3ZhciByPW4uaW5kZXhPZih0KTtpZihyPT0tMSlicmVhaztuLnNwbGljZShyLDEpfWUuY2xhc3NOYW1lPW4uam9pbihcIiBcIil9LHQudG9nZ2xlQ3NzQ2xhc3M9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy9nKSxyPSEwO2Zvcig7Oyl7dmFyIGk9bi5pbmRleE9mKHQpO2lmKGk9PS0xKWJyZWFrO3I9ITEsbi5zcGxpY2UoaSwxKX1yZXR1cm4gciYmbi5wdXNoKHQpLGUuY2xhc3NOYW1lPW4uam9pbihcIiBcIikscn0sdC5zZXRDc3NDbGFzcz1mdW5jdGlvbihlLG4scil7cj90LmFkZENzc0NsYXNzKGUsbik6dC5yZW1vdmVDc3NDbGFzcyhlLG4pfSx0Lmhhc0Nzc1N0cmluZz1mdW5jdGlvbihlLHQpe3ZhciBuPTAscjt0PXR8fGRvY3VtZW50O2lmKHI9dC5xdWVyeVNlbGVjdG9yQWxsKFwic3R5bGVcIikpd2hpbGUobjxyLmxlbmd0aClpZihyW24rK10uaWQ9PT1lKXJldHVybiEwfSx0LnJlbW92ZUVsZW1lbnRCeUlkPWZ1bmN0aW9uKGUsdCl7dD10fHxkb2N1bWVudCx0LmdldEVsZW1lbnRCeUlkKGUpJiZ0LmdldEVsZW1lbnRCeUlkKGUpLnJlbW92ZSgpfTt2YXIgcyxvPVtdO3QudXNlU3RyaWN0Q1NQPWZ1bmN0aW9uKGUpe3M9ZSxlPT0wP3UoKTpvfHwobz1bXSl9LHQuaW1wb3J0Q3NzU3RyaW5nPWEsdC5pbXBvcnRDc3NTdHlsc2hlZXQ9ZnVuY3Rpb24oZSxuKXt0LmJ1aWxkRG9tKFtcImxpbmtcIix7cmVsOlwic3R5bGVzaGVldFwiLGhyZWY6ZX1dLHQuZ2V0RG9jdW1lbnRIZWFkKG4pKX0sdC5zY3JvbGxiYXJXaWR0aD1mdW5jdGlvbihlKXt2YXIgbj10LmNyZWF0ZUVsZW1lbnQoXCJhY2VfaW5uZXJcIik7bi5zdHlsZS53aWR0aD1cIjEwMCVcIixuLnN0eWxlLm1pbldpZHRoPVwiMHB4XCIsbi5zdHlsZS5oZWlnaHQ9XCIyMDBweFwiLG4uc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7dmFyIHI9dC5jcmVhdGVFbGVtZW50KFwiYWNlX291dGVyXCIpLGk9ci5zdHlsZTtpLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixpLmxlZnQ9XCItMTAwMDBweFwiLGkub3ZlcmZsb3c9XCJoaWRkZW5cIixpLndpZHRoPVwiMjAwcHhcIixpLm1pbldpZHRoPVwiMHB4XCIsaS5oZWlnaHQ9XCIxNTBweFwiLGkuZGlzcGxheT1cImJsb2NrXCIsci5hcHBlbmRDaGlsZChuKTt2YXIgcz1lJiZlLmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtpZighcylyZXR1cm4gMDtzLmFwcGVuZENoaWxkKHIpO3ZhciBvPW4ub2Zmc2V0V2lkdGg7aS5vdmVyZmxvdz1cInNjcm9sbFwiO3ZhciB1PW4ub2Zmc2V0V2lkdGg7cmV0dXJuIG89PT11JiYodT1yLmNsaWVudFdpZHRoKSxzLnJlbW92ZUNoaWxkKHIpLG8tdX0sdC5jb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsXCJcIil8fHt9fSx0LnNldFN0eWxlPWZ1bmN0aW9uKGUsdCxuKXtlW3RdIT09biYmKGVbdF09bil9LHQuSEFTX0NTU19BTklNQVRJT049ITEsdC5IQVNfQ1NTX1RSQU5TRk9STVM9ITEsdC5ISV9EUEk9ci5pc1dpbj90eXBlb2Ygd2luZG93IT1cInVuZGVmaW5lZFwiJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbz49MS41OiEwLHIuaXNDaHJvbWVPUyYmKHQuSElfRFBJPSExKTtpZih0eXBlb2YgZG9jdW1lbnQhPVwidW5kZWZpbmVkXCIpe3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5ISV9EUEkmJmYuc3R5bGUudHJhbnNmb3JtIT09dW5kZWZpbmVkJiYodC5IQVNfQ1NTX1RSQU5TRk9STVM9ITApLCFyLmlzRWRnZSYmdHlwZW9mIGYuc3R5bGUuYW5pbWF0aW9uTmFtZSE9XCJ1bmRlZmluZWRcIiYmKHQuSEFTX0NTU19BTklNQVRJT049ITApLGY9bnVsbH10LkhBU19DU1NfVFJBTlNGT1JNUz90LnRyYW5zbGF0ZT1mdW5jdGlvbihlLHQsbil7ZS5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUoXCIrTWF0aC5yb3VuZCh0KStcInB4LCBcIitNYXRoLnJvdW5kKG4pK1wicHgpXCJ9OnQudHJhbnNsYXRlPWZ1bmN0aW9uKGUsdCxuKXtlLnN0eWxlLnRvcD1NYXRoLnJvdW5kKG4pK1wicHhcIixlLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0KStcInB4XCJ9fSksYWNlLmRlZmluZShcImFjZS9saWIvbmV0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4vZG9tXCIpO3QuZ2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IFhNTEh0dHBSZXF1ZXN0O24ub3BlbihcIkdFVFwiLGUsITApLG4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7bi5yZWFkeVN0YXRlPT09NCYmdChuLnJlc3BvbnNlVGV4dCl9LG4uc2VuZChudWxsKX0sdC5sb2FkU2NyaXB0PWZ1bmN0aW9uKGUsdCl7dmFyIG49ci5nZXREb2N1bWVudEhlYWQoKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aS5zcmM9ZSxuLmFwcGVuZENoaWxkKGkpLGkub25sb2FkPWkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUsbil7aWYobnx8IWkucmVhZHlTdGF0ZXx8aS5yZWFkeVN0YXRlPT1cImxvYWRlZFwifHxpLnJlYWR5U3RhdGU9PVwiY29tcGxldGVcIilpPWkub25sb2FkPWkub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbnx8dCgpfX0sdC5xdWFsaWZ5VVJMPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiB0LmhyZWY9ZSx0LmhyZWZ9fSksYWNlLmRlZmluZShcImFjZS9saWIvb29wXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt0LmluaGVyaXRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX0sdC5taXhpbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX0sdC5pbXBsZW1lbnQ9ZnVuY3Rpb24oZSxuKXt0Lm1peGluKGUsbil9fSksYWNlLmRlZmluZShcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9e30saT1mdW5jdGlvbigpe3RoaXMucHJvcGFnYXRpb25TdG9wcGVkPSEwfSxzPWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfTtyLl9lbWl0PXIuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9ldmVudFJlZ2lzdHJ5fHwodGhpcy5fZXZlbnRSZWdpc3RyeT17fSksdGhpcy5fZGVmYXVsdEhhbmRsZXJzfHwodGhpcy5fZGVmYXVsdEhhbmRsZXJzPXt9KTt2YXIgbj10aGlzLl9ldmVudFJlZ2lzdHJ5W2VdfHxbXSxyPXRoaXMuX2RlZmF1bHRIYW5kbGVyc1tlXTtpZighbi5sZW5ndGgmJiFyKXJldHVybjtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQpdD17fTt0LnR5cGV8fCh0LnR5cGU9ZSksdC5zdG9wUHJvcGFnYXRpb258fCh0LnN0b3BQcm9wYWdhdGlvbj1pKSx0LnByZXZlbnREZWZhdWx0fHwodC5wcmV2ZW50RGVmYXVsdD1zKSxuPW4uc2xpY2UoKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl7bltvXSh0LHRoaXMpO2lmKHQucHJvcGFnYXRpb25TdG9wcGVkKWJyZWFrfWlmKHImJiF0LmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHIodCx0aGlzKX0sci5fc2lnbmFsPWZ1bmN0aW9uKGUsdCl7dmFyIG49KHRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9KVtlXTtpZighbilyZXR1cm47bj1uLnNsaWNlKCk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspbltyXSh0LHRoaXMpfSxyLm9uY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3RoaXMub24oZSxmdW5jdGlvbiByKCl7bi5vZmYoZSxyKSx0LmFwcGx5KG51bGwsYXJndW1lbnRzKX0pO2lmKCF0KXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlKXt0PWV9KX0sci5zZXREZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2RlZmF1bHRIYW5kbGVycztufHwobj10aGlzLl9kZWZhdWx0SGFuZGxlcnM9e19kaXNhYmxlZF86e319KTtpZihuW2VdKXt2YXIgcj1uW2VdLGk9bi5fZGlzYWJsZWRfW2VdO2l8fChuLl9kaXNhYmxlZF9bZV09aT1bXSksaS5wdXNoKHIpO3ZhciBzPWkuaW5kZXhPZih0KTtzIT0tMSYmaS5zcGxpY2UocywxKX1uW2VdPXR9LHIucmVtb3ZlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9kZWZhdWx0SGFuZGxlcnM7aWYoIW4pcmV0dXJuO3ZhciByPW4uX2Rpc2FibGVkX1tlXTtpZihuW2VdPT10KXImJnRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZSxyLnBvcCgpKTtlbHNlIGlmKHIpe3ZhciBpPXIuaW5kZXhPZih0KTtpIT0tMSYmci5zcGxpY2UoaSwxKX19LHIub249ci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9ldmVudFJlZ2lzdHJ5PXRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9O3ZhciByPXRoaXMuX2V2ZW50UmVnaXN0cnlbZV07cmV0dXJuIHJ8fChyPXRoaXMuX2V2ZW50UmVnaXN0cnlbZV09W10pLHIuaW5kZXhPZih0KT09LTEmJnJbbj9cInVuc2hpZnRcIjpcInB1c2hcIl0odCksdH0sci5vZmY9ci5yZW1vdmVMaXN0ZW5lcj1yLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLl9ldmVudFJlZ2lzdHJ5PXRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9O3ZhciBuPXRoaXMuX2V2ZW50UmVnaXN0cnlbZV07aWYoIW4pcmV0dXJuO3ZhciByPW4uaW5kZXhPZih0KTtyIT09LTEmJm4uc3BsaWNlKHIsMSl9LHIucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2V8fCh0aGlzLl9ldmVudFJlZ2lzdHJ5PXRoaXMuX2RlZmF1bHRIYW5kbGVycz11bmRlZmluZWQpLHRoaXMuX2V2ZW50UmVnaXN0cnkmJih0aGlzLl9ldmVudFJlZ2lzdHJ5W2VdPXVuZGVmaW5lZCksdGhpcy5fZGVmYXVsdEhhbmRsZXJzJiYodGhpcy5fZGVmYXVsdEhhbmRsZXJzW2VdPXVuZGVmaW5lZCl9LHQuRXZlbnRFbWl0dGVyPXJ9KSxhY2UuZGVmaW5lKFwiYWNlL2xpYi9yZXBvcnRfZXJyb3JcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sZnVuY3Rpb24oZSx0LG4pe3QucmVwb3J0RXJyb3I9ZnVuY3Rpb24odCxuKXt2YXIgcj1uZXcgRXJyb3IodCk7ci5kYXRhPW4sdHlwZW9mIGNvbnNvbGU9PVwib2JqZWN0XCImJmNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3Iociksc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHJ9KX19KSxhY2UuZGVmaW5lKFwiYWNlL2xpYi9kZWZhdWx0X2VuZ2xpc2hfbWVzc2FnZXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPXtcImF1dG9jb21wbGV0ZS5wb3B1cC5hcmlhLXJvbGVkZXNjcmlwdGlvblwiOlwiQXV0b2NvbXBsZXRlIHN1Z2dlc3Rpb25zXCIsXCJhdXRvY29tcGxldGUucG9wdXAuYXJpYS1sYWJlbFwiOlwiQXV0b2NvbXBsZXRlIHN1Z2dlc3Rpb25zXCIsXCJhdXRvY29tcGxldGUucG9wdXAuaXRlbS5hcmlhLXJvbGVkZXNjcmlwdGlvblwiOlwiaXRlbVwiLFwiYXV0b2NvbXBsZXRlLmxvYWRpbmdcIjpcIkxvYWRpbmcuLi5cIixcImVkaXRvci5zY3JvbGxlci5hcmlhLXJvbGVkZXNjcmlwdGlvblwiOlwiZWRpdG9yXCIsXCJlZGl0b3Iuc2Nyb2xsZXIuYXJpYS1sYWJlbFwiOlwiRWRpdG9yIGNvbnRlbnQsIHByZXNzIEVudGVyIHRvIHN0YXJ0IGVkaXRpbmcsIHByZXNzIEVzY2FwZSB0byBleGl0XCIsXCJlZGl0b3IuZ3V0dGVyLmFyaWEtcm9sZWRlc2NyaXB0aW9uXCI6XCJlZGl0b3IgZ3V0dGVyXCIsXCJlZGl0b3IuZ3V0dGVyLmFyaWEtbGFiZWxcIjpcIkVkaXRvciBndXR0ZXIsIHByZXNzIEVudGVyIHRvIGludGVyYWN0IHdpdGggY29udHJvbHMgdXNpbmcgYXJyb3cga2V5cywgcHJlc3MgRXNjYXBlIHRvIGV4aXRcIixcImVycm9yLW1hcmtlci5nb29kLXN0YXRlXCI6XCJMb29rcyBnb29kIVwiLFwicHJvbXB0LnJlY2VudGx5LXVzZWRcIjpcIlJlY2VudGx5IHVzZWRcIixcInByb21wdC5vdGhlci1jb21tYW5kc1wiOlwiT3RoZXIgY29tbWFuZHNcIixcInByb21wdC5uby1tYXRjaGluZy1jb21tYW5kc1wiOlwiTm8gbWF0Y2hpbmcgY29tbWFuZHNcIixcInNlYXJjaC1ib3guZmluZC5wbGFjZWhvbGRlclwiOlwiU2VhcmNoIGZvclwiLFwic2VhcmNoLWJveC5maW5kLWFsbC50ZXh0XCI6XCJBbGxcIixcInNlYXJjaC1ib3gucmVwbGFjZS5wbGFjZWhvbGRlclwiOlwiUmVwbGFjZSB3aXRoXCIsXCJzZWFyY2gtYm94LnJlcGxhY2UtbmV4dC50ZXh0XCI6XCJSZXBsYWNlXCIsXCJzZWFyY2gtYm94LnJlcGxhY2UtYWxsLnRleHRcIjpcIkFsbFwiLFwic2VhcmNoLWJveC50b2dnbGUtcmVwbGFjZS50aXRsZVwiOlwiVG9nZ2xlIFJlcGxhY2UgbW9kZVwiLFwic2VhcmNoLWJveC50b2dnbGUtcmVnZXhwLnRpdGxlXCI6XCJSZWdFeHAgU2VhcmNoXCIsXCJzZWFyY2gtYm94LnRvZ2dsZS1jYXNlLnRpdGxlXCI6XCJDYXNlU2Vuc2l0aXZlIFNlYXJjaFwiLFwic2VhcmNoLWJveC50b2dnbGUtd2hvbGUtd29yZC50aXRsZVwiOlwiV2hvbGUgV29yZCBTZWFyY2hcIixcInNlYXJjaC1ib3gudG9nZ2xlLWluLXNlbGVjdGlvbi50aXRsZVwiOlwiU2VhcmNoIEluIFNlbGVjdGlvblwiLFwic2VhcmNoLWJveC5zZWFyY2gtY291bnRlclwiOlwiJDAgb2YgJDFcIixcInRleHQtaW5wdXQuYXJpYS1yb2xlZGVzY3JpcHRpb25cIjpcImVkaXRvclwiLFwidGV4dC1pbnB1dC5hcmlhLWxhYmVsXCI6XCJDdXJzb3IgYXQgcm93ICQwXCIsXCJndXR0ZXIuY29kZS1mb2xkaW5nLnJhbmdlLmFyaWEtbGFiZWxcIjpcIlRvZ2dsZSBjb2RlIGZvbGRpbmcsIHJvd3MgJDAgdGhyb3VnaCAkMVwiLFwiZ3V0dGVyLmNvZGUtZm9sZGluZy5jbG9zZWQuYXJpYS1sYWJlbFwiOlwiVG9nZ2xlIGNvZGUgZm9sZGluZywgcm93cyAkMCB0aHJvdWdoICQxXCIsXCJndXR0ZXIuY29kZS1mb2xkaW5nLm9wZW4uYXJpYS1sYWJlbFwiOlwiVG9nZ2xlIGNvZGUgZm9sZGluZywgcm93ICQwXCIsXCJndXR0ZXIuY29kZS1mb2xkaW5nLmNsb3NlZC50aXRsZVwiOlwiVW5mb2xkIGNvZGVcIixcImd1dHRlci5jb2RlLWZvbGRpbmcub3Blbi50aXRsZVwiOlwiRm9sZCBjb2RlXCIsXCJndXR0ZXIuYW5ub3RhdGlvbi5hcmlhLWxhYmVsLmVycm9yXCI6XCJFcnJvciwgcmVhZCBhbm5vdGF0aW9ucyByb3cgJDBcIixcImd1dHRlci5hbm5vdGF0aW9uLmFyaWEtbGFiZWwud2FybmluZ1wiOlwiV2FybmluZywgcmVhZCBhbm5vdGF0aW9ucyByb3cgJDBcIixcImd1dHRlci5hbm5vdGF0aW9uLmFyaWEtbGFiZWwuaW5mb1wiOlwiSW5mbywgcmVhZCBhbm5vdGF0aW9ucyByb3cgJDBcIixcImlubGluZS1mb2xkLmNsb3NlZC50aXRsZVwiOlwiVW5mb2xkIGNvZGVcIixcImd1dHRlci10b29sdGlwLmFyaWEtbGFiZWwuZXJyb3Iuc2luZ3VsYXJcIjpcImVycm9yXCIsXCJndXR0ZXItdG9vbHRpcC5hcmlhLWxhYmVsLmVycm9yLnBsdXJhbFwiOlwiZXJyb3JzXCIsXCJndXR0ZXItdG9vbHRpcC5hcmlhLWxhYmVsLndhcm5pbmcuc2luZ3VsYXJcIjpcIndhcm5pbmdcIixcImd1dHRlci10b29sdGlwLmFyaWEtbGFiZWwud2FybmluZy5wbHVyYWxcIjpcIndhcm5pbmdzXCIsXCJndXR0ZXItdG9vbHRpcC5hcmlhLWxhYmVsLmluZm8uc2luZ3VsYXJcIjpcImluZm9ybWF0aW9uIG1lc3NhZ2VcIixcImd1dHRlci10b29sdGlwLmFyaWEtbGFiZWwuaW5mby5wbHVyYWxcIjpcImluZm9ybWF0aW9uIG1lc3NhZ2VzXCIsXCJndXR0ZXIuYW5ub3RhdGlvbi5hcmlhLWxhYmVsLnNlY3VyaXR5XCI6XCJTZWN1cml0eSBmaW5kaW5nLCByZWFkIGFubm90YXRpb25zIHJvdyAkMFwiLFwiZ3V0dGVyLmFubm90YXRpb24uYXJpYS1sYWJlbC5oaW50XCI6XCJTdWdnZXN0aW9uLCByZWFkIGFubm90YXRpb25zIHJvdyAkMFwiLFwiZ3V0dGVyLXRvb2x0aXAuYXJpYS1sYWJlbC5zZWN1cml0eS5zaW5ndWxhclwiOlwic2VjdXJpdHkgZmluZGluZ1wiLFwiZ3V0dGVyLXRvb2x0aXAuYXJpYS1sYWJlbC5zZWN1cml0eS5wbHVyYWxcIjpcInNlY3VyaXR5IGZpbmRpbmdzXCIsXCJndXR0ZXItdG9vbHRpcC5hcmlhLWxhYmVsLmhpbnQuc2luZ3VsYXJcIjpcInN1Z2dlc3Rpb25cIixcImd1dHRlci10b29sdGlwLmFyaWEtbGFiZWwuaGludC5wbHVyYWxcIjpcInN1Z2dlc3Rpb25zXCIsXCJlZGl0b3IudG9vbHRpcC5kaXNhYmxlLWVkaXRpbmdcIjpcIkVkaXRpbmcgaXMgZGlzYWJsZWRcIn07dC5kZWZhdWx0RW5nbGlzaE1lc3NhZ2VzPXJ9KSxhY2UuZGVmaW5lKFwiYWNlL2xpYi9hcHBfY29uZmlnXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCIsXCJhY2UvbGliL3JlcG9ydF9lcnJvclwiLFwiYWNlL2xpYi9kZWZhdWx0X2VuZ2xpc2hfbWVzc2FnZXNcIl0sZnVuY3Rpb24oZSx0LG4pe1wibm8gdXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoZSl7dHlwZW9mIGNvbnNvbGUhPVwidW5kZWZpbmVkXCImJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX12YXIgcj1lKFwiLi9vb3BcIiksaT1lKFwiLi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcixzPWUoXCIuL3JlcG9ydF9lcnJvclwiKS5yZXBvcnRFcnJvcixvPWUoXCIuL2RlZmF1bHRfZW5nbGlzaF9tZXNzYWdlc1wiKS5kZWZhdWx0RW5nbGlzaE1lc3NhZ2VzLHU9e3NldE9wdGlvbnM6ZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLnNldE9wdGlvbih0LGVbdF0pfSx0aGlzKX0sZ2V0T3B0aW9uczpmdW5jdGlvbihlKXt2YXIgdD17fTtpZighZSl7dmFyIG49dGhpcy4kb3B0aW9ucztlPU9iamVjdC5rZXlzKG4pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hbltlXS5oaWRkZW59KX1lbHNlIEFycmF5LmlzQXJyYXkoZSl8fChlPU9iamVjdC5rZXlzKGUpKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09dGhpcy5nZXRPcHRpb24oZSl9LHRoaXMpLHR9LHNldE9wdGlvbjpmdW5jdGlvbihlLHQpe2lmKHRoaXNbXCIkXCIrZV09PT10KXJldHVybjt2YXIgbj10aGlzLiRvcHRpb25zW2VdO2lmKCFuKXJldHVybiBhKCdtaXNzcGVsbGVkIG9wdGlvbiBcIicrZSsnXCInKTtpZihuLmZvcndhcmRUbylyZXR1cm4gdGhpc1tuLmZvcndhcmRUb10mJnRoaXNbbi5mb3J3YXJkVG9dLnNldE9wdGlvbihlLHQpO24uaGFuZGxlc1NldHx8KHRoaXNbXCIkXCIrZV09dCksbiYmbi5zZXQmJm4uc2V0LmNhbGwodGhpcyx0KX0sZ2V0T3B0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJG9wdGlvbnNbZV07cmV0dXJuIHQ/dC5mb3J3YXJkVG8/dGhpc1t0LmZvcndhcmRUb10mJnRoaXNbdC5mb3J3YXJkVG9dLmdldE9wdGlvbihlKTp0JiZ0LmdldD90LmdldC5jYWxsKHRoaXMpOnRoaXNbXCIkXCIrZV06YSgnbWlzc3BlbGxlZCBvcHRpb24gXCInK2UrJ1wiJyl9fSxmLGwsYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLiRkZWZhdWx0T3B0aW9ucz17fSxmPW8sbD1cImRvbGxhclNpZ25zXCJ9cmV0dXJuIGUucHJvdG90eXBlLmRlZmluZU9wdGlvbnM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLiRvcHRpb25zfHwodGhpcy4kZGVmYXVsdE9wdGlvbnNbdF09ZS4kb3B0aW9ucz17fSksT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1uW3RdO3R5cGVvZiByPT1cInN0cmluZ1wiJiYocj17Zm9yd2FyZFRvOnJ9KSxyLm5hbWV8fChyLm5hbWU9dCksZS4kb3B0aW9uc1tyLm5hbWVdPXIsXCJpbml0aWFsVmFsdWVcImluIHImJihlW1wiJFwiK3IubmFtZV09ci5pbml0aWFsVmFsdWUpfSksci5pbXBsZW1lbnQoZSx1KSx0aGlzfSxlLnByb3RvdHlwZS5yZXNldE9wdGlvbnM9ZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS4kb3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1lLiRvcHRpb25zW3RdO1widmFsdWVcImluIG4mJmUuc2V0T3B0aW9uKHQsbi52YWx1ZSl9KX0sZS5wcm90b3R5cGUuc2V0RGVmYXVsdFZhbHVlPWZ1bmN0aW9uKGUsdCxuKXtpZighZSl7Zm9yKGUgaW4gdGhpcy4kZGVmYXVsdE9wdGlvbnMpaWYodGhpcy4kZGVmYXVsdE9wdGlvbnNbZV1bdF0pYnJlYWs7aWYoIXRoaXMuJGRlZmF1bHRPcHRpb25zW2VdW3RdKXJldHVybiExfXZhciByPXRoaXMuJGRlZmF1bHRPcHRpb25zW2VdfHwodGhpcy4kZGVmYXVsdE9wdGlvbnNbZV09e30pO3JbdF0mJihyLmZvcndhcmRUbz90aGlzLnNldERlZmF1bHRWYWx1ZShyLmZvcndhcmRUbyx0LG4pOnJbdF0udmFsdWU9bil9LGUucHJvdG90eXBlLnNldERlZmF1bHRWYWx1ZXM9ZnVuY3Rpb24oZSx0KXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3RoaXMuc2V0RGVmYXVsdFZhbHVlKGUsbix0W25dKX0sdGhpcyl9LGUucHJvdG90eXBlLnNldE1lc3NhZ2VzPWZ1bmN0aW9uKGUsdCl7Zj1lLHQmJnQucGxhY2Vob2xkZXJzJiYobD10LnBsYWNlaG9sZGVycyl9LGUucHJvdG90eXBlLm5scz1mdW5jdGlvbihlLHQsbil7ZltlXXx8KGEoXCJObyBtZXNzYWdlIGZvdW5kIGZvciB0aGUga2V5ICdcIitlK1wiJyBpbiBtZXNzYWdlcyB3aXRoIGlkIFwiK2YuJGlkK1wiLCB0cnlpbmcgdG8gZmluZCBhIHRyYW5zbGF0aW9uIGZvciB0aGUgZGVmYXVsdCBzdHJpbmcgJ1wiK3QrXCInLlwiKSxmW3RdfHxhKFwiTm8gbWVzc2FnZSBmb3VuZCBmb3IgdGhlIGRlZmF1bHQgc3RyaW5nICdcIit0K1wiJyBpbiB0aGUgcHJvdmlkZWQgbWVzc2FnZXMuIEZhbGxpbmcgYmFjayB0byB0aGUgZGVmYXVsdCBFbmdsaXNoIG1lc3NhZ2UuXCIpKTt2YXIgcj1mW2VdfHxmW3RdfHx0O3JldHVybiBuJiYobD09PVwiZG9sbGFyU2lnbnNcIiYmKHI9ci5yZXBsYWNlKC9cXCQoXFwkfFtcXGRdKykvZyxmdW5jdGlvbihlLHQpe3JldHVybiB0PT1cIiRcIj9cIiRcIjpuW3RdfSkpLGw9PT1cImN1cmx5QnJhY2tldHNcIiYmKHI9ci5yZXBsYWNlKC9cXHsoW15cXH1dKylcXH0vZyxmdW5jdGlvbihlLHQpe3JldHVybiBuW3RdfSkpKSxyfSxlfSgpO2MucHJvdG90eXBlLndhcm49YSxjLnByb3RvdHlwZS5yZXBvcnRFcnJvcj1zLHIuaW1wbGVtZW50KGMucHJvdG90eXBlLGkpLHQuQXBwQ29uZmlnPWN9KSxhY2UuZGVmaW5lKFwiYWNlL3RoZW1lL3RleHRtYXRlLWNzc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSxmdW5jdGlvbihlLHQsbil7bi5leHBvcnRzPScuYWNlLXRtIC5hY2VfZ3V0dGVyIHtcXG4gIGJhY2tncm91bmQ6ICNmMGYwZjA7XFxuICBjb2xvcjogIzMzMztcXG59XFxuXFxuLmFjZS10bSAuYWNlX3ByaW50LW1hcmdpbiB7XFxuICB3aWR0aDogMXB4O1xcbiAgYmFja2dyb3VuZDogI2U4ZThlODtcXG59XFxuXFxuLmFjZS10bSAuYWNlX2ZvbGQge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNkI3MkU2O1xcbn1cXG5cXG4uYWNlLXRtIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XFxuICBjb2xvcjogYmxhY2s7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9jdXJzb3Ige1xcbiAgY29sb3I6IGJsYWNrO1xcbn1cXG4gICAgICAgIFxcbi5hY2UtdG0gLmFjZV9pbnZpc2libGUge1xcbiAgY29sb3I6IHJnYigxOTEsIDE5MSwgMTkxKTtcXG59XFxuXFxuLmFjZS10bSAuYWNlX3N0b3JhZ2UsXFxuLmFjZS10bSAuYWNlX2tleXdvcmQge1xcbiAgY29sb3I6IGJsdWU7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9jb25zdGFudCB7XFxuICBjb2xvcjogcmdiKDE5NywgNiwgMTEpO1xcbn1cXG5cXG4uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX2J1aWxkaW4ge1xcbiAgY29sb3I6IHJnYig4OCwgNzIsIDI0Nik7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9jb25zdGFudC5hY2VfbGFuZ3VhZ2Uge1xcbiAgY29sb3I6IHJnYig4OCwgOTIsIDI0Nik7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9jb25zdGFudC5hY2VfbGlicmFyeSB7XFxuICBjb2xvcjogcmdiKDYsIDE1MCwgMTQpO1xcbn1cXG5cXG4uYWNlLXRtIC5hY2VfaW52YWxpZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgMC4xKTtcXG4gIGNvbG9yOiByZWQ7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XFxuICBjb2xvcjogcmdiKDYwLCA3NiwgMTE0KTtcXG59XFxuXFxuLmFjZS10bSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50IHtcXG4gIGNvbG9yOiByZ2IoNiwgMTUwLCAxNCk7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9zdXBwb3J0LmFjZV90eXBlLFxcbi5hY2UtdG0gLmFjZV9zdXBwb3J0LmFjZV9jbGFzcyB7XFxuICBjb2xvcjogcmdiKDEwOSwgMTIxLCAyMjIpO1xcbn1cXG5cXG4uYWNlLXRtIC5hY2Vfa2V5d29yZC5hY2Vfb3BlcmF0b3Ige1xcbiAgY29sb3I6IHJnYigxMDQsIDExOCwgMTM1KTtcXG59XFxuXFxuLmFjZS10bSAuYWNlX3N0cmluZyB7XFxuICBjb2xvcjogcmdiKDMsIDEwNiwgNyk7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9jb21tZW50IHtcXG4gIGNvbG9yOiByZ2IoNzYsIDEzNiwgMTA3KTtcXG59XFxuXFxuLmFjZS10bSAuYWNlX2NvbW1lbnQuYWNlX2RvYyB7XFxuICBjb2xvcjogcmdiKDAsIDEwMiwgMjU1KTtcXG59XFxuXFxuLmFjZS10bSAuYWNlX2NvbW1lbnQuYWNlX2RvYy5hY2VfdGFnIHtcXG4gIGNvbG9yOiByZ2IoMTI4LCAxNTksIDE5MSk7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9jb25zdGFudC5hY2VfbnVtZXJpYyB7XFxuICBjb2xvcjogcmdiKDAsIDAsIDIwNSk7XFxufVxcblxcbi5hY2UtdG0gLmFjZV92YXJpYWJsZSB7XFxuICBjb2xvcjogcmdiKDQ5LCAxMzIsIDE0OSk7XFxufVxcblxcbi5hY2UtdG0gLmFjZV94bWwtcGUge1xcbiAgY29sb3I6IHJnYigxMDQsIDEwNCwgOTEpO1xcbn1cXG5cXG4uYWNlLXRtIC5hY2VfZW50aXR5LmFjZV9uYW1lLmFjZV9mdW5jdGlvbiB7XFxuICBjb2xvcjogIzAwMDBBMjtcXG59XFxuXFxuXFxuLmFjZS10bSAuYWNlX2hlYWRpbmcge1xcbiAgY29sb3I6IHJnYigxMiwgNywgMjU1KTtcXG59XFxuXFxuLmFjZS10bSAuYWNlX2xpc3Qge1xcbiAgY29sb3I6cmdiKDE4NSwgNiwgMTQ0KTtcXG59XFxuXFxuLmFjZS10bSAuYWNlX21ldGEuYWNlX3RhZyB7XFxuICBjb2xvcjpyZ2IoMCwgMjIsIDE0Mik7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9zdHJpbmcuYWNlX3JlZ2V4IHtcXG4gIGNvbG9yOiByZ2IoMjU1LCAwLCAwKVxcbn1cXG5cXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtcXG4gIGJhY2tncm91bmQ6IHJnYigxODEsIDIxMywgMjU1KTtcXG59XFxuLmFjZS10bS5hY2VfbXVsdGlzZWxlY3QgLmFjZV9zZWxlY3Rpb24uYWNlX3N0YXJ0IHtcXG4gIGJveC1zaGFkb3c6IDAgMCAzcHggMHB4IHdoaXRlO1xcbn1cXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XFxuICBiYWNrZ3JvdW5kOiByZ2IoMjUyLCAyNTUsIDApO1xcbn1cXG5cXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RhY2sge1xcbiAgYmFja2dyb3VuZDogcmdiKDE2NCwgMjI5LCAxMDEpO1xcbn1cXG5cXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XFxuICBtYXJnaW46IC0xcHggMCAwIC0xcHg7XFxuICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMTkyLCAxOTIsIDE5Mik7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9hY3RpdmUtbGluZSB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDcpO1xcbn1cXG5cXG4uYWNlLXRtIC5hY2VfZ3V0dGVyLWFjdGl2ZS1saW5lIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvciA6ICNkY2RjZGM7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3RlZC13b3JkIHtcXG4gIGJhY2tncm91bmQ6IHJnYigyNTAsIDI1MCwgMjU1KTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDAsIDIwMCwgMjUwKTtcXG59XFxuXFxuLmFjZS10bSAuYWNlX2luZGVudC1ndWlkZSB7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRTBsRVFWUUltV1A0Ly8vL2Y0YkxseS8vQndBbVZnZDEvdzExL2dBQUFBQkpSVTVFcmtKZ2dnPT1cIikgcmlnaHQgcmVwZWF0LXk7XFxufVxcblxcbi5hY2UtdG0gLmFjZV9pbmRlbnQtZ3VpZGUtYWN0aXZlIHtcXG4gIGJhY2tncm91bmQ6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBSUdOSVVrMEFBSG9sQUFDQWd3QUErZjhBQUlEcEFBQjFNQUFBNm1BQUFEcVlBQUFYYjVKZnhVWUFBQUFaU1VSQlZIamFZdmovLy85L2hpdkt5djhCQUFBQS8vOERBQ0xxQmhidmsrL2VBQUFBQUVsRlRrU3VRbUNDXCIpIHJpZ2h0IHJlcGVhdC15O1xcbn1cXG4nfSksYWNlLmRlZmluZShcImFjZS90aGVtZS90ZXh0bWF0ZVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3RoZW1lL3RleHRtYXRlLWNzc1wiLFwiYWNlL2xpYi9kb21cIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3QuaXNEYXJrPSExLHQuY3NzQ2xhc3M9XCJhY2UtdG1cIix0LmNzc1RleHQ9ZShcIi4vdGV4dG1hdGUtY3NzXCIpLHQuJGlkPVwiYWNlL3RoZW1lL3RleHRtYXRlXCI7dmFyIHI9ZShcIi4uL2xpYi9kb21cIik7ci5pbXBvcnRDc3NTdHJpbmcodC5jc3NUZXh0LHQuY3NzQ2xhc3MsITEpfSksYWNlLmRlZmluZShcImFjZS9jb25maWdcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2xpYi9uZXRcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2FwcF9jb25maWdcIixcImFjZS90aGVtZS90ZXh0bWF0ZVwiXSxmdW5jdGlvbihlLHQsbil7XCJubyB1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4vbGliL2xhbmdcIiksaT1lKFwiLi9saWIvbmV0XCIpLHM9ZShcIi4vbGliL2RvbVwiKSxvPWUoXCIuL2xpYi9hcHBfY29uZmlnXCIpLkFwcENvbmZpZztuLmV4cG9ydHM9dD1uZXcgbzt2YXIgdT17cGFja2FnZWQ6ITEsd29ya2VyUGF0aDpudWxsLG1vZGVQYXRoOm51bGwsdGhlbWVQYXRoOm51bGwsYmFzZVBhdGg6XCJcIixzdWZmaXg6XCIuanNcIiwkbW9kdWxlVXJsczp7fSxsb2FkV29ya2VyRnJvbUJsb2I6ITAsc2hhcmVkUG9wdXBzOiExLHVzZVN0cmljdENTUDpudWxsfTt0LmdldD1mdW5jdGlvbihlKXtpZighdS5oYXNPd25Qcm9wZXJ0eShlKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbmZpZyBrZXk6IFwiK2UpO3JldHVybiB1W2VdfSx0LnNldD1mdW5jdGlvbihlLHQpe2lmKHUuaGFzT3duUHJvcGVydHkoZSkpdVtlXT10O2Vsc2UgaWYodGhpcy5zZXREZWZhdWx0VmFsdWUoXCJcIixlLHQpPT0wKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29uZmlnIGtleTogXCIrZSk7ZT09XCJ1c2VTdHJpY3RDU1BcIiYmcy51c2VTdHJpY3RDU1AodCl9LHQuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHIuY29weU9iamVjdCh1KX0sdC4kbW9kZXM9e30sdC5tb2R1bGVVcmw9ZnVuY3Rpb24oZSx0KXtpZih1LiRtb2R1bGVVcmxzW2VdKXJldHVybiB1LiRtb2R1bGVVcmxzW2VdO3ZhciBuPWUuc3BsaXQoXCIvXCIpO3Q9dHx8bltuLmxlbmd0aC0yXXx8XCJcIjt2YXIgcj10PT1cInNuaXBwZXRzXCI/XCIvXCI6XCItXCIsaT1uW24ubGVuZ3RoLTFdO2lmKHQ9PVwid29ya2VyXCImJnI9PVwiLVwiKXt2YXIgcz1uZXcgUmVnRXhwKFwiXlwiK3QrXCJbXFxcXC1fXXxbXFxcXC1fXVwiK3QrXCIkXCIsXCJnXCIpO2k9aS5yZXBsYWNlKHMsXCJcIil9KCFpfHxpPT10KSYmbi5sZW5ndGg+MSYmKGk9bltuLmxlbmd0aC0yXSk7dmFyIG89dVt0K1wiUGF0aFwiXTtyZXR1cm4gbz09bnVsbD9vPXUuYmFzZVBhdGg6cj09XCIvXCImJih0PXI9XCJcIiksbyYmby5zbGljZSgtMSkhPVwiL1wiJiYobys9XCIvXCIpLG8rdCtyK2krdGhpcy5nZXQoXCJzdWZmaXhcIil9LHQuc2V0TW9kdWxlVXJsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUuJG1vZHVsZVVybHNbZV09dH07dmFyIGE9ZnVuY3Rpb24odCxuKXtpZih0PT09XCJhY2UvdGhlbWUvdGV4dG1hdGVcInx8dD09PVwiLi90aGVtZS90ZXh0bWF0ZVwiKXJldHVybiBuKG51bGwsZShcIi4vdGhlbWUvdGV4dG1hdGVcIikpO2lmKGYpcmV0dXJuIGYodCxuKTtjb25zb2xlLmVycm9yKFwibG9hZGVyIGlzIG5vdCBjb25maWd1cmVkXCIpfSxmO3Quc2V0TG9hZGVyPWZ1bmN0aW9uKGUpe2Y9ZX0sdC5keW5hbWljTW9kdWxlcz1PYmplY3QuY3JlYXRlKG51bGwpLHQuJGxvYWRpbmc9e30sdC4kbG9hZGVkPXt9LHQubG9hZE1vZHVsZT1mdW5jdGlvbihlLG4pe3ZhciByO2lmKEFycmF5LmlzQXJyYXkoZSkpdmFyIHM9ZVswXSxvPWVbMV07ZWxzZSBpZih0eXBlb2YgZT09XCJzdHJpbmdcIil2YXIgbz1lO3ZhciB1PWZ1bmN0aW9uKGUpe2lmKGUmJiF0LiRsb2FkaW5nW29dKXJldHVybiBuJiZuKGUpO3QuJGxvYWRpbmdbb118fCh0LiRsb2FkaW5nW29dPVtdKSx0LiRsb2FkaW5nW29dLnB1c2gobik7aWYodC4kbG9hZGluZ1tvXS5sZW5ndGg+MSlyZXR1cm47dmFyIHI9ZnVuY3Rpb24oKXthKG8sZnVuY3Rpb24oZSxuKXtuJiYodC4kbG9hZGVkW29dPW4pLHQuX2VtaXQoXCJsb2FkLm1vZHVsZVwiLHtuYW1lOm8sbW9kdWxlOm59KTt2YXIgcj10LiRsb2FkaW5nW29dO3QuJGxvYWRpbmdbb109bnVsbCxyLmZvckVhY2goZnVuY3Rpb24oZSl7ZSYmZShuKX0pfSl9O2lmKCF0LmdldChcInBhY2thZ2VkXCIpKXJldHVybiByKCk7aS5sb2FkU2NyaXB0KHQubW9kdWxlVXJsKG8scyksciksbCgpfTtpZih0LmR5bmFtaWNNb2R1bGVzW29dKXQuZHluYW1pY01vZHVsZXNbb10oKS50aGVuKGZ1bmN0aW9uKGUpe2UuZGVmYXVsdD91KGUuZGVmYXVsdCk6dShlKX0pO2Vsc2V7dHJ5e3I9dGhpcy4kcmVxdWlyZShvKX1jYXRjaChmKXt9dShyfHx0LiRsb2FkZWRbb10pfX0sdC4kcmVxdWlyZT1mdW5jdGlvbihlKXtpZih0eXBlb2YgbltcInJlcXVpcmVcIl09PVwiZnVuY3Rpb25cIil7dmFyIHQ9XCJyZXF1aXJlXCI7cmV0dXJuIG5bdF0oZSl9fSx0LnNldE1vZHVsZUxvYWRlcj1mdW5jdGlvbihlLG4pe3QuZHluYW1pY01vZHVsZXNbZV09bn07dmFyIGw9ZnVuY3Rpb24oKXshdS5iYXNlUGF0aCYmIXUud29ya2VyUGF0aCYmIXUubW9kZVBhdGgmJiF1LnRoZW1lUGF0aCYmIU9iamVjdC5rZXlzKHUuJG1vZHVsZVVybHMpLmxlbmd0aCYmKGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gaW5mZXIgcGF0aCB0byBhY2UgZnJvbSBzY3JpcHQgc3JjLFwiLFwidXNlIGFjZS5jb25maWcuc2V0KCdiYXNlUGF0aCcsICdwYXRoJykgdG8gZW5hYmxlIGR5bmFtaWMgbG9hZGluZyBvZiBtb2RlcyBhbmQgdGhlbWVzXCIsXCJvciB3aXRoIHdlYnBhY2sgdXNlIGFjZS93ZWJwYWNrLXJlc29sdmVyXCIpLGw9ZnVuY3Rpb24oKXt9KX07dC52ZXJzaW9uPVwiMS40My4zXCJ9KSxhY2UuZGVmaW5lKFwiYWNlL2xvYWRlcl9idWlsZFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9maXhvbGRicm93c2Vyc1wiLFwiYWNlL2NvbmZpZ1wiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyh0KXtpZighaXx8IWkuZG9jdW1lbnQpcmV0dXJuO3Iuc2V0KFwicGFja2FnZWRcIix0fHxlLnBhY2thZ2VkfHxuLnBhY2thZ2VkfHxpLmRlZmluZSYmZGVmaW5lLnBhY2thZ2VkKTt2YXIgcz17fSx1PVwiXCIsYT1kb2N1bWVudC5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5fY3VycmVudFNjcmlwdCxmPWEmJmEub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQ7YSYmYS5zcmMmJih1PWEuc3JjLnNwbGl0KC9bPyNdLylbMF0uc3BsaXQoXCIvXCIpLnNsaWNlKDAsLTEpLmpvaW4oXCIvXCIpfHxcIlwiKTt2YXIgbD1mLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO2Zvcih2YXIgYz0wO2M8bC5sZW5ndGg7YysrKXt2YXIgaD1sW2NdLHA9aC5zcmN8fGguZ2V0QXR0cmlidXRlKFwic3JjXCIpO2lmKCFwKWNvbnRpbnVlO3ZhciBkPWguYXR0cmlidXRlcztmb3IodmFyIHY9MCxtPWQubGVuZ3RoO3Y8bTt2Kyspe3ZhciBnPWRbdl07Zy5uYW1lLmluZGV4T2YoXCJkYXRhLWFjZS1cIik9PT0wJiYoc1tvKGcubmFtZS5yZXBsYWNlKC9eZGF0YS1hY2UtLyxcIlwiKSldPWcudmFsdWUpfXZhciB5PXAubWF0Y2goL14oLiopXFwvYWNlKFtcXC0uXVxcdyspP1xcLmpzKFxcP3wkKS8pO3kmJih1PXlbMV0pfXUmJihzLmJhc2U9cy5iYXNlfHx1LHMucGFja2FnZWQ9ITApLHMuYmFzZVBhdGg9cy5iYXNlLHMud29ya2VyUGF0aD1zLndvcmtlclBhdGh8fHMuYmFzZSxzLm1vZGVQYXRoPXMubW9kZVBhdGh8fHMuYmFzZSxzLnRoZW1lUGF0aD1zLnRoZW1lUGF0aHx8cy5iYXNlLGRlbGV0ZSBzLmJhc2U7Zm9yKHZhciBiIGluIHMpdHlwZW9mIHNbYl0hPVwidW5kZWZpbmVkXCImJnIuc2V0KGIsc1tiXSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZS5yZXBsYWNlKC8tKC4pL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9ZShcIi4vbGliL2ZpeG9sZGJyb3dzZXJzXCIpO3ZhciByPWUoXCIuL2NvbmZpZ1wiKTtyLnNldExvYWRlcihmdW5jdGlvbih0LG4pe2UoW3RdLGZ1bmN0aW9uKGUpe24obnVsbCxlKX0pfSk7dmFyIGk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc3x8dHlwZW9mIHdpbmRvdyE9XCJ1bmRlZmluZWRcIiYmd2luZG93fSgpO24uZXhwb3J0cz1mdW5jdGlvbih0KXtyLmluaXQ9cyxyLiRyZXF1aXJlPWUsdC5yZXF1aXJlPWUsdHlwZW9mIGRlZmluZT09XCJmdW5jdGlvblwiJiYodC5kZWZpbmU9ZGVmaW5lKX19KSxhY2UuZGVmaW5lKFwiYWNlL3JhbmdlXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scil7dGhpcy5zdGFydD17cm93OmUsY29sdW1uOnR9LHRoaXMuZW5kPXtyb3c6bixjb2x1bW46cn19cmV0dXJuIGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09ZS5zdGFydC5yb3cmJnRoaXMuZW5kLnJvdz09PWUuZW5kLnJvdyYmdGhpcy5zdGFydC5jb2x1bW49PT1lLnN0YXJ0LmNvbHVtbiYmdGhpcy5lbmQuY29sdW1uPT09ZS5lbmQuY29sdW1ufSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiUmFuZ2U6IFtcIit0aGlzLnN0YXJ0LnJvdytcIi9cIit0aGlzLnN0YXJ0LmNvbHVtbitcIl0gLT4gW1wiK3RoaXMuZW5kLnJvdytcIi9cIit0aGlzLmVuZC5jb2x1bW4rXCJdXCJ9LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY29tcGFyZShlLHQpPT0wfSxlLnByb3RvdHlwZS5jb21wYXJlUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmVuZCxyPWUuc3RhcnQ7cmV0dXJuIHQ9dGhpcy5jb21wYXJlKG4ucm93LG4uY29sdW1uKSx0PT0xPyh0PXRoaXMuY29tcGFyZShyLnJvdyxyLmNvbHVtbiksdD09MT8yOnQ9PTA/MTowKTp0PT0tMT8tMjoodD10aGlzLmNvbXBhcmUoci5yb3csci5jb2x1bW4pLHQ9PS0xPy0xOnQ9PTE/NDI6MCl9LGUucHJvdG90eXBlLmNvbXBhcmVQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wYXJlKGUucm93LGUuY29sdW1uKX0sZS5wcm90b3R5cGUuY29udGFpbnNSYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQoZS5zdGFydCk9PTAmJnRoaXMuY29tcGFyZVBvaW50KGUuZW5kKT09MH0sZS5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbXBhcmVSYW5nZShlKTtyZXR1cm4gdD09LTF8fHQ9PTB8fHQ9PTF9LGUucHJvdG90eXBlLmlzRW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5kLnJvdz09ZSYmdGhpcy5lbmQuY29sdW1uPT10fSxlLnByb3RvdHlwZS5pc1N0YXJ0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1lJiZ0aGlzLnN0YXJ0LmNvbHVtbj09dH0sZS5wcm90b3R5cGUuc2V0U3RhcnQ9ZnVuY3Rpb24oZSx0KXt0eXBlb2YgZT09XCJvYmplY3RcIj8odGhpcy5zdGFydC5jb2x1bW49ZS5jb2x1bW4sdGhpcy5zdGFydC5yb3c9ZS5yb3cpOih0aGlzLnN0YXJ0LnJvdz1lLHRoaXMuc3RhcnQuY29sdW1uPXQpfSxlLnByb3RvdHlwZS5zZXRFbmQ9ZnVuY3Rpb24oZSx0KXt0eXBlb2YgZT09XCJvYmplY3RcIj8odGhpcy5lbmQuY29sdW1uPWUuY29sdW1uLHRoaXMuZW5kLnJvdz1lLnJvdyk6KHRoaXMuZW5kLnJvdz1lLHRoaXMuZW5kLmNvbHVtbj10KX0sZS5wcm90b3R5cGUuaW5zaWRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY29tcGFyZShlLHQpPT0wP3RoaXMuaXNFbmQoZSx0KXx8dGhpcy5pc1N0YXJ0KGUsdCk/ITE6ITA6ITF9LGUucHJvdG90eXBlLmluc2lkZVN0YXJ0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY29tcGFyZShlLHQpPT0wP3RoaXMuaXNFbmQoZSx0KT8hMTohMDohMX0sZS5wcm90b3R5cGUuaW5zaWRlRW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY29tcGFyZShlLHQpPT0wP3RoaXMuaXNTdGFydChlLHQpPyExOiEwOiExfSxlLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIXRoaXMuaXNNdWx0aUxpbmUoKSYmZT09PXRoaXMuc3RhcnQucm93P3Q8dGhpcy5zdGFydC5jb2x1bW4/LTE6dD50aGlzLmVuZC5jb2x1bW4/MTowOmU8dGhpcy5zdGFydC5yb3c/LTE6ZT50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PWU/dD49dGhpcy5zdGFydC5jb2x1bW4/MDotMTp0aGlzLmVuZC5yb3c9PT1lP3Q8PXRoaXMuZW5kLmNvbHVtbj8wOjE6MH0sZS5wcm90b3R5cGUuY29tcGFyZVN0YXJ0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1lJiZ0aGlzLnN0YXJ0LmNvbHVtbj09dD8tMTp0aGlzLmNvbXBhcmUoZSx0KX0sZS5wcm90b3R5cGUuY29tcGFyZUVuZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuZC5yb3c9PWUmJnRoaXMuZW5kLmNvbHVtbj09dD8xOnRoaXMuY29tcGFyZShlLHQpfSxlLnByb3RvdHlwZS5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5kLnJvdz09ZSYmdGhpcy5lbmQuY29sdW1uPT10PzE6dGhpcy5zdGFydC5yb3c9PWUmJnRoaXMuc3RhcnQuY29sdW1uPT10Py0xOnRoaXMuY29tcGFyZShlLHQpfSxlLnByb3RvdHlwZS5jbGlwUm93cz1mdW5jdGlvbih0LG4pe2lmKHRoaXMuZW5kLnJvdz5uKXZhciByPXtyb3c6bisxLGNvbHVtbjowfTtlbHNlIGlmKHRoaXMuZW5kLnJvdzx0KXZhciByPXtyb3c6dCxjb2x1bW46MH07aWYodGhpcy5zdGFydC5yb3c+bil2YXIgaT17cm93Om4rMSxjb2x1bW46MH07ZWxzZSBpZih0aGlzLnN0YXJ0LnJvdzx0KXZhciBpPXtyb3c6dCxjb2x1bW46MH07cmV0dXJuIGUuZnJvbVBvaW50cyhpfHx0aGlzLnN0YXJ0LHJ8fHRoaXMuZW5kKX0sZS5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcy5jb21wYXJlKHQsbik7aWYocj09MClyZXR1cm4gdGhpcztpZihyPT0tMSl2YXIgaT17cm93OnQsY29sdW1uOm59O2Vsc2UgdmFyIHM9e3Jvdzp0LGNvbHVtbjpufTtyZXR1cm4gZS5mcm9tUG9pbnRzKGl8fHRoaXMuc3RhcnQsc3x8dGhpcy5lbmQpfSxlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sZS5wcm90b3R5cGUuaXNNdWx0aUxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydC5yb3chPT10aGlzLmVuZC5yb3d9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LHRoaXMuZW5kKX0sZS5wcm90b3R5cGUuY29sbGFwc2VSb3dzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kLmNvbHVtbj09MD9uZXcgZSh0aGlzLnN0YXJ0LnJvdywwLE1hdGgubWF4KHRoaXMuc3RhcnQucm93LHRoaXMuZW5kLnJvdy0xKSwwKTpuZXcgZSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sZS5wcm90b3R5cGUudG9TY3JlZW5SYW5nZT1mdW5jdGlvbih0KXt2YXIgbj10LmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KSxyPXQuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTtyZXR1cm4gbmV3IGUobi5yb3csbi5jb2x1bW4sci5yb3csci5jb2x1bW4pfSxlLnByb3RvdHlwZS5tb3ZlQnk9ZnVuY3Rpb24oZSx0KXt0aGlzLnN0YXJ0LnJvdys9ZSx0aGlzLnN0YXJ0LmNvbHVtbis9dCx0aGlzLmVuZC5yb3crPWUsdGhpcy5lbmQuY29sdW1uKz10fSxlfSgpO3IuZnJvbVBvaW50cz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcihlLnJvdyxlLmNvbHVtbix0LnJvdyx0LmNvbHVtbil9LHIuY29tcGFyZVBvaW50cz1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJvdy10LnJvd3x8ZS5jb2x1bW4tdC5jb2x1bW59LHQuUmFuZ2U9cn0pLGFjZS5kZWZpbmUoXCJhY2UvbGliL2tleXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9vb3BcIiksaT17TU9ESUZJRVJfS0VZUzp7MTY6XCJTaGlmdFwiLDE3OlwiQ3RybFwiLDE4OlwiQWx0XCIsMjI0OlwiTWV0YVwiLDkxOlwiTWV0YUxlZnRcIiw5MjpcIk1ldGFSaWdodFwiLDkzOlwiQ29udGV4dE1lbnVcIn0sS0VZX01PRFM6e2N0cmw6MSxhbHQ6MixvcHRpb246MixzaGlmdDo0LFwic3VwZXJcIjo4LG1ldGE6OCxjb21tYW5kOjgsY21kOjgsY29udHJvbDoxfSxGVU5DVElPTl9LRVlTOns4OlwiQmFja3NwYWNlXCIsOTpcIlRhYlwiLDEzOlwiUmV0dXJuXCIsMTk6XCJQYXVzZVwiLDI3OlwiRXNjXCIsMzI6XCJTcGFjZVwiLDMzOlwiUGFnZVVwXCIsMzQ6XCJQYWdlRG93blwiLDM1OlwiRW5kXCIsMzY6XCJIb21lXCIsMzc6XCJMZWZ0XCIsMzg6XCJVcFwiLDM5OlwiUmlnaHRcIiw0MDpcIkRvd25cIiw0NDpcIlByaW50XCIsNDU6XCJJbnNlcnRcIiw0NjpcIkRlbGV0ZVwiLFwiLTEzXCI6XCJOdW1wYWRFbnRlclwiLDE0NDpcIk51bWxvY2tcIiwxNDU6XCJTY3JvbGxsb2NrXCJ9LFBSSU5UQUJMRV9LRVlTOnszMjpcIiBcIiw1OTpcIjtcIiw2MTpcIj1cIiwxMDc6XCIrXCIsMTA5OlwiLVwiLDExMDpcIi5cIiwxODY6XCI7XCIsMTg3OlwiPVwiLDE4ODpcIixcIiwxODk6XCItXCIsMTkwOlwiLlwiLDE5MTpcIi9cIiwxOTI6XCJgXCIsMjE5OlwiW1wiLDIyMDpcIlxcXFxcIiwyMjE6XCJdXCIsMjIyOlwiJ1wiLDExMTpcIi9cIiwxMDY6XCIqXCJ9fSxzPXtDb21tYW5kOjIyNCxCYWNrc3BhY2U6OCxUYWI6OSxSZXR1cm46MTMsRW50ZXI6MTMsUGF1c2U6MTksRXNjYXBlOjI3LFBhZ2VVcDozMyxQYWdlRG93bjozNCxFbmQ6MzUsSG9tZTozNixJbnNlcnQ6NDUsRGVsZXRlOjQ2LEFycm93TGVmdDozNyxBcnJvd1VwOjM4LEFycm93UmlnaHQ6MzksQXJyb3dEb3duOjQwLEJhY2txdW90ZToxOTIsTWludXM6MTg5LEVxdWFsOjE4NyxCcmFja2V0TGVmdDoyMTksQmFja3NsYXNoOjIyMCxCcmFja2V0UmlnaHQ6MjIxLFNlbWljb2xvbjoxODYsUXVvdGU6MjIyLENvbW1hOjE4OCxQZXJpb2Q6MTkwLFNsYXNoOjE5MSxTcGFjZTozMixOdW1wYWRBZGQ6MTA3LE51bXBhZERlY2ltYWw6MTEwLE51bXBhZFN1YnRyYWN0OjEwOSxOdW1wYWREaXZpZGU6MTExLE51bXBhZE11bHRpcGx5OjEwNn07Zm9yKHZhciBvPTA7bzwxMDtvKyspc1tcIkRpZ2l0XCIrb109NDgrbyxzW1wiTnVtcGFkXCIrb109OTYrbyxpLlBSSU5UQUJMRV9LRVlTWzQ4K29dPVwiXCIrbyxpLkZVTkNUSU9OX0tFWVNbOTYrb109XCJOdW1wYWRcIitvO2Zvcih2YXIgbz02NTtvPDkxO28rKyl7dmFyIHU9U3RyaW5nLmZyb21DaGFyQ29kZShvKzMyKTtzW1wiS2V5XCIrdS50b1VwcGVyQ2FzZSgpXT1vLGkuUFJJTlRBQkxFX0tFWVNbb109dX1mb3IodmFyIG89MTtvPDEzO28rKylzW1wiRlwiK29dPTExMStvLGkuRlVOQ1RJT05fS0VZU1sxMTErb109XCJGXCIrbzt2YXIgYT17U2hpZnQ6MTYsQ29udHJvbDoxNyxBbHQ6MTgsTWV0YToyMjR9O2Zvcih2YXIgZiBpbiBhKXNbZl09c1tmK1wiTGVmdFwiXT1zW2YrXCJSaWdodFwiXT1hW2ZdO3QuJGNvZGVUb0tleUNvZGU9cyxpLlBSSU5UQUJMRV9LRVlTWzE3M109XCItXCI7Zm9yKHZhciBsIGluIGkuRlVOQ1RJT05fS0VZUyl7dmFyIGM9aS5GVU5DVElPTl9LRVlTW2xdLnRvTG93ZXJDYXNlKCk7aVtjXT1wYXJzZUludChsLDEwKX1mb3IodmFyIGwgaW4gaS5QUklOVEFCTEVfS0VZUyl7dmFyIGM9aS5QUklOVEFCTEVfS0VZU1tsXS50b0xvd2VyQ2FzZSgpO2lbY109cGFyc2VJbnQobCwxMCl9ci5taXhpbihpLGkuTU9ESUZJRVJfS0VZUyksci5taXhpbihpLGkuUFJJTlRBQkxFX0tFWVMpLHIubWl4aW4oaSxpLkZVTkNUSU9OX0tFWVMpLGkuZW50ZXI9aVtcInJldHVyblwiXSxpLmVzY2FwZT1pLmVzYyxpLmRlbD1pW1wiZGVsZXRlXCJdLGZ1bmN0aW9uKCl7dmFyIGU9W1wiY21kXCIsXCJjdHJsXCIsXCJhbHRcIixcInNoaWZ0XCJdO2Zvcih2YXIgdD1NYXRoLnBvdygyLGUubGVuZ3RoKTt0LS07KWkuS0VZX01PRFNbdF09ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQmaS5LRVlfTU9EU1tlXX0pLmpvaW4oXCItXCIpK1wiLVwifSgpLGkuS0VZX01PRFNbMF09XCJcIixpLktFWV9NT0RTWy0xXT1cImlucHV0LVwiLHIubWl4aW4odCxpKSx0LmRlZmF1bHQ9dCx0LmtleUNvZGVUb1N0cmluZz1mdW5jdGlvbihlKXt2YXIgdD1pW2VdO3JldHVybiB0eXBlb2YgdCE9XCJzdHJpbmdcIiYmKHQ9U3RyaW5nLmZyb21DaGFyQ29kZShlKSksdC50b0xvd2VyQ2FzZSgpfX0pLGFjZS5kZWZpbmUoXCJhY2UvbGliL2V2ZW50XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2tleXNcIixcImFjZS9saWIvdXNlcmFnZW50XCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKCl7dT0hMTt0cnl7ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcIlwiKS5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLGZ1bmN0aW9uKCl7fSx7Z2V0IHBhc3NpdmUoKXtyZXR1cm4gdT17cGFzc2l2ZTohMX0sITB9fSl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBmKCl7cmV0dXJuIHU9PXVuZGVmaW5lZCYmYSgpLHV9ZnVuY3Rpb24gbChlLHQsbil7dGhpcy5lbGVtPWUsdGhpcy50eXBlPXQsdGhpcy5jYWxsYmFjaz1ufWZ1bmN0aW9uIHAoZSl7cmV0dXJuIDB8KGUuY3RybEtleT8xOjApfChlLmFsdEtleT8yOjApfChlLnNoaWZ0S2V5PzQ6MCl8KGUubWV0YUtleT84OjApfWZ1bmN0aW9uIGQoZSx0LG4pe3ZhciB1PXAodCk7IW4mJnQuY29kZSYmKG49ci4kY29kZVRvS2V5Q29kZVt0LmNvZGVdfHxuKTtpZighaS5pc01hYyYmcyl7dC5nZXRNb2RpZmllclN0YXRlJiYodC5nZXRNb2RpZmllclN0YXRlKFwiT1NcIil8fHQuZ2V0TW9kaWZpZXJTdGF0ZShcIldpblwiKSkmJih1fD04KTtpZihzLmFsdEdyKXtpZigoMyZ1KT09MylyZXR1cm47cy5hbHRHcj0wfWlmKG49PT0xOHx8bj09PTE3KXt2YXIgYT10LmxvY2F0aW9uO2lmKG49PT0xNyYmYT09PTEpc1tuXT09MSYmKG89dC50aW1lU3RhbXApO2Vsc2UgaWYobj09PTE4JiZ1PT09MyYmYT09PTIpe3ZhciBmPXQudGltZVN0YW1wLW87Zjw1MCYmKHMuYWx0R3I9ITApfX19biBpbiByLk1PRElGSUVSX0tFWVMmJihuPS0xKTtpZighdSYmbj09PTEzJiZ0LmxvY2F0aW9uPT09Myl7ZSh0LHUsLW4pO2lmKHQuZGVmYXVsdFByZXZlbnRlZClyZXR1cm59aWYoaS5pc0Nocm9tZU9TJiZ1Jjgpe2UodCx1LG4pO2lmKHQuZGVmYXVsdFByZXZlbnRlZClyZXR1cm47dSY9LTl9cmV0dXJuISF1fHxuIGluIHIuRlVOQ1RJT05fS0VZU3x8biBpbiByLlBSSU5UQUJMRV9LRVlTP2UodCx1LG4pOiExfWZ1bmN0aW9uIHYoKXtzPU9iamVjdC5jcmVhdGUobnVsbCl9dmFyIHI9ZShcIi4va2V5c1wiKSxpPWUoXCIuL3VzZXJhZ2VudFwiKSxzPW51bGwsbz0wLHU7bC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2godGhpcy5lbGVtLHRoaXMudHlwZSx0aGlzLmNhbGxiYWNrKSx0aGlzLmVsZW09dGhpcy50eXBlPXRoaXMuY2FsbGJhY2s9dW5kZWZpbmVkfTt2YXIgYz10LmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuLHIpe2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4sZigpKSxyJiZyLiR0b0Rlc3Ryb3kucHVzaChuZXcgbChlLHQsbikpfSxoPXQucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sZigpKX07dC5zdG9wRXZlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuc3RvcFByb3BhZ2F0aW9uKGUpLHQucHJldmVudERlZmF1bHQoZSksITF9LHQuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpfSx0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKX0sdC5nZXRCdXR0b249ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09XCJkYmxjbGlja1wiPzA6ZS50eXBlPT1cImNvbnRleHRtZW51XCJ8fGkuaXNNYWMmJmUuY3RybEtleSYmIWUuYWx0S2V5JiYhZS5zaGlmdEtleT8yOmUuYnV0dG9ufSx0LmNhcHR1cmU9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGkoZSl7dCYmdChlKSxuJiZuKGUpLGgocixcIm1vdXNlbW92ZVwiLHQpLGgocixcIm1vdXNldXBcIixpKSxoKHIsXCJkcmFnc3RhcnRcIixpKX12YXIgcj1lJiZlLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50O3JldHVybiBjKHIsXCJtb3VzZW1vdmVcIix0KSxjKHIsXCJtb3VzZXVwXCIsaSksYyhyLFwiZHJhZ3N0YXJ0XCIsaSksaX0sdC5hZGRNb3VzZVdoZWVsTGlzdGVuZXI9ZnVuY3Rpb24oZSx0LG4pe2MoZSxcIndoZWVsXCIsZnVuY3Rpb24oZSl7dmFyIG49LjE1LHI9ZS5kZWx0YVh8fDAsaT1lLmRlbHRhWXx8MDtzd2l0Y2goZS5kZWx0YU1vZGUpe2Nhc2UgZS5ET01fREVMVEFfUElYRUw6ZS53aGVlbFg9cipuLGUud2hlZWxZPWkqbjticmVhaztjYXNlIGUuRE9NX0RFTFRBX0xJTkU6dmFyIHM9MTU7ZS53aGVlbFg9cipzLGUud2hlZWxZPWkqczticmVhaztjYXNlIGUuRE9NX0RFTFRBX1BBR0U6dmFyIG89MTUwO2Uud2hlZWxYPXIqbyxlLndoZWVsWT1pKm99dChlKX0sbil9LHQuYWRkTXVsdGlNb3VzZURvd25MaXN0ZW5lcj1mdW5jdGlvbihlLG4scixzLG8pe2Z1bmN0aW9uIHAoZSl7dC5nZXRCdXR0b24oZSkhPT0wP3U9MDplLmRldGFpbD4xPyh1KyssdT40JiYodT0xKSk6dT0xO2lmKGkuaXNJRSl7dmFyIG89TWF0aC5hYnMoZS5jbGllbnRYLWEpPjV8fE1hdGguYWJzKGUuY2xpZW50WS1mKT41O2lmKCFsfHxvKXU9MTtsJiZjbGVhclRpbWVvdXQobCksbD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bD1udWxsfSxuW3UtMV18fDYwMCksdT09MSYmKGE9ZS5jbGllbnRYLGY9ZS5jbGllbnRZKX1lLl9jbGlja3M9dSxyW3NdKFwibW91c2Vkb3duXCIsZSk7aWYodT40KXU9MDtlbHNlIGlmKHU+MSlyZXR1cm4gcltzXShoW3VdLGUpfXZhciB1PTAsYSxmLGwsaD17MjpcImRibGNsaWNrXCIsMzpcInRyaXBsZWNsaWNrXCIsNDpcInF1YWRjbGlja1wifTtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLGUuZm9yRWFjaChmdW5jdGlvbihlKXtjKGUsXCJtb3VzZWRvd25cIixwLG8pfSl9LHQuZ2V0TW9kaWZpZXJTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuS0VZX01PRFNbcChlKV19LHQuYWRkQ29tbWFuZEtleUxpc3RlbmVyPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT1udWxsO2MoZSxcImtleWRvd25cIixmdW5jdGlvbihlKXtzW2Uua2V5Q29kZV09KHNbZS5rZXlDb2RlXXx8MCkrMTt2YXIgdD1kKG4sZSxlLmtleUNvZGUpO3JldHVybiBpPWUuZGVmYXVsdFByZXZlbnRlZCx0fSxyKSxjKGUsXCJrZXlwcmVzc1wiLGZ1bmN0aW9uKGUpe2kmJihlLmN0cmxLZXl8fGUuYWx0S2V5fHxlLnNoaWZ0S2V5fHxlLm1ldGFLZXkpJiYodC5zdG9wRXZlbnQoZSksaT1udWxsKX0sciksYyhlLFwia2V5dXBcIixmdW5jdGlvbihlKXtzW2Uua2V5Q29kZV09bnVsbH0sciksc3x8KHYoKSxjKHdpbmRvdyxcImZvY3VzXCIsdikpfTtpZih0eXBlb2Ygd2luZG93PT1cIm9iamVjdFwiJiZ3aW5kb3cucG9zdE1lc3NhZ2UmJiFpLmlzT2xkSUUpe3ZhciBtPTE7dC5uZXh0VGljaz1mdW5jdGlvbihlLG4pe249bnx8d2luZG93O3ZhciByPVwiemVyby10aW1lb3V0LW1lc3NhZ2UtXCIrbSsrLGk9ZnVuY3Rpb24ocyl7cy5kYXRhPT1yJiYodC5zdG9wUHJvcGFnYXRpb24ocyksaChuLFwibWVzc2FnZVwiLGkpLGUoKSl9O2MobixcIm1lc3NhZ2VcIixpKSxuLnBvc3RNZXNzYWdlKHIsXCIqXCIpfX10LiRpZGxlQmxvY2tlZD0hMSx0Lm9uSWRsZT1mdW5jdGlvbihlLG4pe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uIHIoKXt0LiRpZGxlQmxvY2tlZD9zZXRUaW1lb3V0KHIsMTAwKTplKCl9LG4pfSx0LiRpZGxlQmxvY2tJZD1udWxsLHQuYmxvY2tJZGxlPWZ1bmN0aW9uKGUpe3QuJGlkbGVCbG9ja0lkJiZjbGVhclRpbWVvdXQodC4kaWRsZUJsb2NrSWQpLHQuJGlkbGVCbG9ja2VkPSEwLHQuJGlkbGVCbG9ja0lkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LiRpZGxlQmxvY2tlZD0hMX0sZXx8MTAwKX0sdC5uZXh0RnJhbWU9dHlwZW9mIHdpbmRvdz09XCJvYmplY3RcIiYmKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLHQubmV4dEZyYW1lP3QubmV4dEZyYW1lPXQubmV4dEZyYW1lLmJpbmQod2luZG93KTp0Lm5leHRGcmFtZT1mdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMTcpfX0pLGFjZS5kZWZpbmUoXCJhY2UvY2xpcGJvYXJkXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmV4cG9ydHM9e2xpbmVNb2RlOiExLHBhc3RlQ2FuY2VsbGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHImJnI+RGF0ZS5ub3coKS01MD8hMDpyPSExfSxjYW5jZWw6ZnVuY3Rpb24oKXtyPURhdGUubm93KCl9fX0pLGFjZS5kZWZpbmUoXCJhY2Uva2V5Ym9hcmQvdGV4dGlucHV0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvY29uZmlnXCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2NsaXBib2FyZFwiLFwiYWNlL2xpYi9rZXlzXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi4vbGliL2V2ZW50XCIpLGk9ZShcIi4uL2NvbmZpZ1wiKS5ubHMscz1lKFwiLi4vbGliL3VzZXJhZ2VudFwiKSxvPWUoXCIuLi9saWIvZG9tXCIpLHU9ZShcIi4uL2xpYi9sYW5nXCIpLGE9ZShcIi4uL2NsaXBib2FyZFwiKSxmPXMuaXNDaHJvbWU8MTgsbD1zLmlzSUUsYz1zLmlzQ2hyb21lPjYzLGg9NDAwLHA9ZShcIi4uL2xpYi9rZXlzXCIpLGQ9cC5LRVlfTU9EUyx2PXMuaXNJT1MsbT12Py9cXHMvOi9cXG4vLGc9cy5pc01vYmlsZSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBuPXRoaXM7dGhpcy5ob3N0PXQsdGhpcy50ZXh0PW8uY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpLHRoaXMudGV4dC5jbGFzc05hbWU9XCJhY2VfdGV4dC1pbnB1dFwiLHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJ3cmFwXCIsXCJvZmZcIiksdGhpcy50ZXh0LnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpLHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJhdXRvY29ycmVjdFwiLFwib2ZmXCIpLHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJhdXRvY2FwaXRhbGl6ZVwiLFwib2ZmXCIpLHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsXCJmYWxzZVwiKSx0aGlzLnRleHQuc3R5bGUub3BhY2l0eT1cIjBcIixlLmluc2VydEJlZm9yZSh0aGlzLnRleHQsZS5maXJzdENoaWxkKSx0aGlzLmNvcGllZD0hMSx0aGlzLnBhc3RlZD0hMSx0aGlzLmluQ29tcG9zaXRpb249ITEsdGhpcy5zZW5kaW5nVGV4dD0hMSx0aGlzLnRlbXBTdHlsZT1cIlwiLGd8fCh0aGlzLnRleHQuc3R5bGUuZm9udFNpemU9XCIxcHhcIiksdGhpcy5jb21tYW5kTW9kZT0hMSx0aGlzLmlnbm9yZUZvY3VzRXZlbnRzPSExLHRoaXMubGFzdFZhbHVlPVwiXCIsdGhpcy5sYXN0U2VsZWN0aW9uU3RhcnQ9MCx0aGlzLmxhc3RTZWxlY3Rpb25FbmQ9MCx0aGlzLmxhc3RSZXN0b3JlRW5kPTAsdGhpcy5yb3dTdGFydD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUix0aGlzLnJvd0VuZD1OdW1iZXIuTUlOX1NBRkVfSU5URUdFUix0aGlzLm51bWJlck9mRXh0cmFMaW5lcz0wO3RyeXt0aGlzLiRpc0ZvY3VzZWQ9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09PXRoaXMudGV4dH1jYXRjaChpKXt9dGhpcy5jYW5jZWxDb21wb3NpdGlvbj10aGlzLmNhbmNlbENvbXBvc2l0aW9uLmJpbmQodGhpcyksdGhpcy5zZXRBcmlhT3B0aW9ucyh7cm9sZTpcInRleHRib3hcIn0pLHIuYWRkTGlzdGVuZXIodGhpcy50ZXh0LFwiYmx1clwiLGZ1bmN0aW9uKGUpe2lmKG4uaWdub3JlRm9jdXNFdmVudHMpcmV0dXJuO3Qub25CbHVyKGUpLG4uJGlzRm9jdXNlZD0hMX0sdCksci5hZGRMaXN0ZW5lcih0aGlzLnRleHQsXCJmb2N1c1wiLGZ1bmN0aW9uKGUpe2lmKG4uaWdub3JlRm9jdXNFdmVudHMpcmV0dXJuO24uJGlzRm9jdXNlZD0hMDtpZihzLmlzRWRnZSl0cnl7aWYoIWRvY3VtZW50Lmhhc0ZvY3VzKCkpcmV0dXJufWNhdGNoKGUpe310Lm9uRm9jdXMoZSkscy5pc0VkZ2U/c2V0VGltZW91dChuLnJlc2V0U2VsZWN0aW9uLmJpbmQobikpOm4ucmVzZXRTZWxlY3Rpb24oKX0sdCksdGhpcy4kZm9jdXNTY3JvbGw9ITEsdC5vbihcImJlZm9yZUVuZE9wZXJhdGlvblwiLGZ1bmN0aW9uKCl7dmFyIGU9dC5jdXJPcCxyPWUmJmUuY29tbWFuZCYmZS5jb21tYW5kLm5hbWU7aWYocj09XCJpbnNlcnRzdHJpbmdcIilyZXR1cm47dmFyIGk9ciYmKGUuZG9jQ2hhbmdlZHx8ZS5zZWxlY3Rpb25DaGFuZ2VkKTtuLmluQ29tcG9zaXRpb24mJmkmJihuLmxhc3RWYWx1ZT1uLnRleHQudmFsdWU9XCJcIixuLm9uQ29tcG9zaXRpb25FbmQoKSksbi5yZXNldFNlbGVjdGlvbigpfSksdC5vbihcImNoYW5nZVNlbGVjdGlvblwiLHRoaXMuc2V0QXJpYUxhYmVsLmJpbmQodGhpcykpLHRoaXMucmVzZXRTZWxlY3Rpb249dj90aGlzLiRyZXNldFNlbGVjdGlvbklPUzp0aGlzLiRyZXNldFNlbGVjdGlvbix0aGlzLiRpc0ZvY3VzZWQmJnQub25Gb2N1cygpLHRoaXMuaW5wdXRIYW5kbGVyPW51bGwsdGhpcy5hZnRlckNvbnRleHRNZW51PSExLHIuYWRkQ29tbWFuZEtleUxpc3RlbmVyKHRoaXMudGV4dCxmdW5jdGlvbihlLHIsaSl7aWYobi5pbkNvbXBvc2l0aW9uKXJldHVybjtyZXR1cm4gdC5vbkNvbW1hbmRLZXkoZSxyLGkpfSx0KSxyLmFkZExpc3RlbmVyKHRoaXMudGV4dCxcInNlbGVjdFwiLHRoaXMub25TZWxlY3QuYmluZCh0aGlzKSx0KSxyLmFkZExpc3RlbmVyKHRoaXMudGV4dCxcImlucHV0XCIsdGhpcy5vbklucHV0LmJpbmQodGhpcyksdCksci5hZGRMaXN0ZW5lcih0aGlzLnRleHQsXCJjdXRcIix0aGlzLm9uQ3V0LmJpbmQodGhpcyksdCksci5hZGRMaXN0ZW5lcih0aGlzLnRleHQsXCJjb3B5XCIsdGhpcy5vbkNvcHkuYmluZCh0aGlzKSx0KSxyLmFkZExpc3RlbmVyKHRoaXMudGV4dCxcInBhc3RlXCIsdGhpcy5vblBhc3RlLmJpbmQodGhpcyksdCksKCEoXCJvbmN1dFwiaW4gdGhpcy50ZXh0KXx8IShcIm9uY29weVwiaW4gdGhpcy50ZXh0KXx8IShcIm9ucGFzdGVcImluIHRoaXMudGV4dCkpJiZyLmFkZExpc3RlbmVyKGUsXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7aWYocy5pc01hYyYmIWUubWV0YUtleXx8IWUuY3RybEtleSlyZXR1cm47c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSA2NzpuLm9uQ29weShlKTticmVhaztjYXNlIDg2Om4ub25QYXN0ZShlKTticmVhaztjYXNlIDg4Om4ub25DdXQoZSl9fSx0KSx0aGlzLnN5bmNDb21wb3NpdGlvbj11LmRlbGF5ZWRDYWxsKHRoaXMub25Db21wb3NpdGlvblVwZGF0ZS5iaW5kKHRoaXMpLDUwKS5zY2hlZHVsZS5iaW5kKG51bGwsbnVsbCksci5hZGRMaXN0ZW5lcih0aGlzLnRleHQsXCJjb21wb3NpdGlvbnN0YXJ0XCIsdGhpcy5vbkNvbXBvc2l0aW9uU3RhcnQuYmluZCh0aGlzKSx0KSxyLmFkZExpc3RlbmVyKHRoaXMudGV4dCxcImNvbXBvc2l0aW9udXBkYXRlXCIsdGhpcy5vbkNvbXBvc2l0aW9uVXBkYXRlLmJpbmQodGhpcyksdCksci5hZGRMaXN0ZW5lcih0aGlzLnRleHQsXCJrZXl1cFwiLHRoaXMub25LZXl1cC5iaW5kKHRoaXMpLHQpLHIuYWRkTGlzdGVuZXIodGhpcy50ZXh0LFwia2V5ZG93blwiLHRoaXMuc3luY0NvbXBvc2l0aW9uLmJpbmQodGhpcyksdCksci5hZGRMaXN0ZW5lcih0aGlzLnRleHQsXCJjb21wb3NpdGlvbmVuZFwiLHRoaXMub25Db21wb3NpdGlvbkVuZC5iaW5kKHRoaXMpLHQpLHRoaXMuY2xvc2VUaW1lb3V0LHIuYWRkTGlzdGVuZXIodGhpcy50ZXh0LFwibW91c2V1cFwiLHRoaXMuJG9uQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0KSxyLmFkZExpc3RlbmVyKHRoaXMudGV4dCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxuLm9uQ29udGV4dE1lbnVDbG9zZSgpfSx0KSxyLmFkZExpc3RlbmVyKHQucmVuZGVyZXIuc2Nyb2xsZXIsXCJjb250ZXh0bWVudVwiLHRoaXMuJG9uQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0KSxyLmFkZExpc3RlbmVyKHRoaXMudGV4dCxcImNvbnRleHRtZW51XCIsdGhpcy4kb25Db250ZXh0TWVudS5iaW5kKHRoaXMpLHQpLHYmJnRoaXMuYWRkSW9zU2VsZWN0aW9uSGFuZGxlcihlLHQsdGhpcy50ZXh0KX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkSW9zU2VsZWN0aW9uSGFuZGxlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcyxpPW51bGwscz0hMTtuLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7aSYmY2xlYXJUaW1lb3V0KGkpLHM9ITB9LCEwKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGZ1bmN0aW9uKGUpe2k9c2V0VGltZW91dChmdW5jdGlvbigpe3M9ITF9LDEwMCl9LCEwKTt2YXIgbz1mdW5jdGlvbihlKXtpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50IT09bilyZXR1cm47aWYoc3x8ci5pbkNvbXBvc2l0aW9ufHx0LiRtb3VzZUhhbmRsZXIuaXNNb3VzZVByZXNzZWQpcmV0dXJuO2lmKHIuY29waWVkKXJldHVybjt2YXIgaT1uLnNlbGVjdGlvblN0YXJ0LG89bi5zZWxlY3Rpb25FbmQsdT1udWxsLGE9MDtpZihpPT0wKXU9cC51cDtlbHNlIGlmKGk9PTEpdT1wLmhvbWU7ZWxzZSBpZihvPnIubGFzdFNlbGVjdGlvbkVuZCYmci5sYXN0VmFsdWVbb109PVwiXFxuXCIpdT1wLmVuZDtlbHNlIGlmKGk8ci5sYXN0U2VsZWN0aW9uU3RhcnQmJnIubGFzdFZhbHVlW2ktMV09PVwiIFwiKXU9cC5sZWZ0LGE9ZC5vcHRpb247ZWxzZSBpZihpPHIubGFzdFNlbGVjdGlvblN0YXJ0fHxpPT1yLmxhc3RTZWxlY3Rpb25TdGFydCYmci5sYXN0U2VsZWN0aW9uRW5kIT1yLmxhc3RTZWxlY3Rpb25TdGFydCYmaT09byl1PXAubGVmdDtlbHNlIGlmKG8+ci5sYXN0U2VsZWN0aW9uRW5kJiZyLmxhc3RWYWx1ZS5zbGljZSgwLG8pLnNwbGl0KFwiXFxuXCIpLmxlbmd0aD4yKXU9cC5kb3duO2Vsc2UgaWYobz5yLmxhc3RTZWxlY3Rpb25FbmQmJnIubGFzdFZhbHVlW28tMV09PVwiIFwiKXU9cC5yaWdodCxhPWQub3B0aW9uO2Vsc2UgaWYobz5yLmxhc3RTZWxlY3Rpb25FbmR8fG89PXIubGFzdFNlbGVjdGlvbkVuZCYmci5sYXN0U2VsZWN0aW9uRW5kIT1yLmxhc3RTZWxlY3Rpb25TdGFydCYmaT09byl1PXAucmlnaHQ7aSE9PW8mJihhfD1kLnNoaWZ0KTtpZih1KXt2YXIgZj10Lm9uQ29tbWFuZEtleSh7fSxhLHUpO2lmKCFmJiZ0LmNvbW1hbmRzKXt1PXAua2V5Q29kZVRvU3RyaW5nKHUpO3ZhciBsPXQuY29tbWFuZHMuZmluZEtleUNvbW1hbmQoYSx1KTtsJiZ0LmV4ZWNDb21tYW5kKGwpfXIubGFzdFNlbGVjdGlvblN0YXJ0PWksci5sYXN0U2VsZWN0aW9uRW5kPW8sci5yZXNldFNlbGVjdGlvbihcIlwiKX19O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIixvKSx0Lm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLG8pfSl9LGUucHJvdG90eXBlLm9uQ29udGV4dE1lbnVDbG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuY2xvc2VUaW1lb3V0KSx0aGlzLmNsb3NlVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS50ZW1wU3R5bGUmJihlLnRleHQuc3R5bGUuY3NzVGV4dD1lLnRlbXBTdHlsZSxlLnRlbXBTdHlsZT1cIlwiKSxlLmhvc3QucmVuZGVyZXIuJGlzTW91c2VQcmVzc2VkPSExLGUuaG9zdC5yZW5kZXJlci4ka2VlcFRleHRBcmVhQXRDdXJzb3ImJmUuaG9zdC5yZW5kZXJlci4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKX0sMCl9LGUucHJvdG90eXBlLiRvbkNvbnRleHRNZW51PWZ1bmN0aW9uKGUpe3RoaXMuaG9zdC50ZXh0SW5wdXQub25Db250ZXh0TWVudShlKSx0aGlzLm9uQ29udGV4dE1lbnVDbG9zZSgpfSxlLnByb3RvdHlwZS5vbktleXVwPWZ1bmN0aW9uKGUpe2Uua2V5Q29kZT09MjcmJnRoaXMudGV4dC52YWx1ZS5sZW5ndGg8dGhpcy50ZXh0LnNlbGVjdGlvblN0YXJ0JiYodGhpcy5pbkNvbXBvc2l0aW9ufHwodGhpcy5sYXN0VmFsdWU9dGhpcy50ZXh0LnZhbHVlKSx0aGlzLmxhc3RTZWxlY3Rpb25TdGFydD10aGlzLmxhc3RTZWxlY3Rpb25FbmQ9LTEsdGhpcy5yZXNldFNlbGVjdGlvbigpKSx0aGlzLnN5bmNDb21wb3NpdGlvbigpfSxlLnByb3RvdHlwZS5jYW5jZWxDb21wb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuaWdub3JlRm9jdXNFdmVudHM9ITAsdGhpcy50ZXh0LmJsdXIoKSx0aGlzLnRleHQuZm9jdXMoKSx0aGlzLmlnbm9yZUZvY3VzRXZlbnRzPSExfSxlLnByb3RvdHlwZS5vbkNvbXBvc2l0aW9uU3RhcnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5pbkNvbXBvc2l0aW9ufHwhdGhpcy5ob3N0Lm9uQ29tcG9zaXRpb25TdGFydHx8dGhpcy5ob3N0LiRyZWFkT25seSlyZXR1cm47dGhpcy5pbkNvbXBvc2l0aW9uPXt9O2lmKHRoaXMuY29tbWFuZE1vZGUpcmV0dXJuO2UuZGF0YSYmKHRoaXMuaW5Db21wb3NpdGlvbi51c2VUZXh0YXJlYUZvcklNRT0hMSksc2V0VGltZW91dCh0aGlzLm9uQ29tcG9zaXRpb25VcGRhdGUuYmluZCh0aGlzKSwwKSx0aGlzLmhvc3QuX3NpZ25hbChcImNvbXBvc2l0aW9uU3RhcnRcIiksdGhpcy5ob3N0Lm9uKFwibW91c2Vkb3duXCIsdGhpcy5jYW5jZWxDb21wb3NpdGlvbik7dmFyIHQ9dGhpcy5ob3N0LmdldFNlbGVjdGlvblJhbmdlKCk7dC5lbmQucm93PXQuc3RhcnQucm93LHQuZW5kLmNvbHVtbj10LnN0YXJ0LmNvbHVtbix0aGlzLmluQ29tcG9zaXRpb24ubWFya2VyUmFuZ2U9dCx0aGlzLmluQ29tcG9zaXRpb24uc2VsZWN0aW9uU3RhcnQ9dGhpcy5sYXN0U2VsZWN0aW9uU3RhcnQsdGhpcy5ob3N0Lm9uQ29tcG9zaXRpb25TdGFydCh0aGlzLmluQ29tcG9zaXRpb24pLHRoaXMuaW5Db21wb3NpdGlvbi51c2VUZXh0YXJlYUZvcklNRT8odGhpcy5sYXN0VmFsdWU9dGhpcy50ZXh0LnZhbHVlPVwiXCIsdGhpcy5sYXN0U2VsZWN0aW9uU3RhcnQ9MCx0aGlzLmxhc3RTZWxlY3Rpb25FbmQ9MCk6KHRoaXMudGV4dC5tc0dldElucHV0Q29udGV4dCYmKHRoaXMuaW5Db21wb3NpdGlvbi5jb250ZXh0PXRoaXMudGV4dC5tc0dldElucHV0Q29udGV4dCgpKSx0aGlzLnRleHQuZ2V0SW5wdXRDb250ZXh0JiYodGhpcy5pbkNvbXBvc2l0aW9uLmNvbnRleHQ9dGhpcy50ZXh0LmdldElucHV0Q29udGV4dCgpKSl9LGUucHJvdG90eXBlLm9uQ29tcG9zaXRpb25VcGRhdGU9ZnVuY3Rpb24oKXtpZighdGhpcy5pbkNvbXBvc2l0aW9ufHwhdGhpcy5ob3N0Lm9uQ29tcG9zaXRpb25VcGRhdGV8fHRoaXMuaG9zdC4kcmVhZE9ubHkpcmV0dXJuO2lmKHRoaXMuY29tbWFuZE1vZGUpcmV0dXJuIHRoaXMuY2FuY2VsQ29tcG9zaXRpb24oKTtpZih0aGlzLmluQ29tcG9zaXRpb24udXNlVGV4dGFyZWFGb3JJTUUpdGhpcy5ob3N0Lm9uQ29tcG9zaXRpb25VcGRhdGUodGhpcy50ZXh0LnZhbHVlKTtlbHNle3ZhciBlPXRoaXMudGV4dC52YWx1ZTt0aGlzLnNlbmRUZXh0KGUpLHRoaXMuaW5Db21wb3NpdGlvbi5tYXJrZXJSYW5nZSYmKHRoaXMuaW5Db21wb3NpdGlvbi5jb250ZXh0JiYodGhpcy5pbkNvbXBvc2l0aW9uLm1hcmtlclJhbmdlLnN0YXJ0LmNvbHVtbj10aGlzLmluQ29tcG9zaXRpb24uc2VsZWN0aW9uU3RhcnQ9dGhpcy5pbkNvbXBvc2l0aW9uLmNvbnRleHQuY29tcG9zaXRpb25TdGFydE9mZnNldCksdGhpcy5pbkNvbXBvc2l0aW9uLm1hcmtlclJhbmdlLmVuZC5jb2x1bW49dGhpcy5pbkNvbXBvc2l0aW9uLm1hcmtlclJhbmdlLnN0YXJ0LmNvbHVtbit0aGlzLmxhc3RTZWxlY3Rpb25FbmQtdGhpcy5pbkNvbXBvc2l0aW9uLnNlbGVjdGlvblN0YXJ0K3RoaXMubGFzdFJlc3RvcmVFbmQpfX0sZS5wcm90b3R5cGUub25Db21wb3NpdGlvbkVuZD1mdW5jdGlvbihlKXtpZighdGhpcy5ob3N0Lm9uQ29tcG9zaXRpb25FbmR8fHRoaXMuaG9zdC4kcmVhZE9ubHkpcmV0dXJuO3RoaXMuaW5Db21wb3NpdGlvbj0hMSx0aGlzLmhvc3Qub25Db21wb3NpdGlvbkVuZCgpLHRoaXMuaG9zdC5vZmYoXCJtb3VzZWRvd25cIix0aGlzLmNhbmNlbENvbXBvc2l0aW9uKSxlJiZ0aGlzLm9uSW5wdXQoKX0sZS5wcm90b3R5cGUub25DdXQ9ZnVuY3Rpb24oZSl7dGhpcy5kb0NvcHkoZSwhMCl9LGUucHJvdG90eXBlLm9uQ29weT1mdW5jdGlvbihlKXt0aGlzLmRvQ29weShlLCExKX0sZS5wcm90b3R5cGUub25QYXN0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmhhbmRsZUNsaXBib2FyZERhdGEoZSk7aWYoYS5wYXN0ZUNhbmNlbGxlZCgpKXJldHVybjt0eXBlb2YgdD09XCJzdHJpbmdcIj8odCYmdGhpcy5ob3N0Lm9uUGFzdGUodCxlKSxzLmlzSUUmJnNldFRpbWVvdXQodGhpcy5yZXNldFNlbGVjdGlvbiksci5wcmV2ZW50RGVmYXVsdChlKSk6KHRoaXMudGV4dC52YWx1ZT1cIlwiLHRoaXMucGFzdGVkPSEwKX0sZS5wcm90b3R5cGUuZG9Db3B5PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPXRoaXMuaG9zdC5nZXRDb3B5VGV4dCgpO2lmKCFpKXJldHVybiByLnByZXZlbnREZWZhdWx0KGUpO3RoaXMuaGFuZGxlQ2xpcGJvYXJkRGF0YShlLGkpPyh2JiYodGhpcy5yZXNldFNlbGVjdGlvbihpKSx0aGlzLmNvcGllZD1pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmNvcGllZD0hMX0sMTApKSx0P3RoaXMuaG9zdC5vbkN1dCgpOnRoaXMuaG9zdC5vbkNvcHkoKSxyLnByZXZlbnREZWZhdWx0KGUpKToodGhpcy5jb3BpZWQ9ITAsdGhpcy50ZXh0LnZhbHVlPWksdGhpcy50ZXh0LnNlbGVjdCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmNvcGllZD0hMSxuLnJlc2V0U2VsZWN0aW9uKCksdD9uLmhvc3Qub25DdXQoKTpuLmhvc3Qub25Db3B5KCl9KSl9LGUucHJvdG90eXBlLmhhbmRsZUNsaXBib2FyZERhdGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuY2xpcGJvYXJkRGF0YXx8d2luZG93LmNsaXBib2FyZERhdGE7aWYoIXJ8fGYpcmV0dXJuO3ZhciBpPWx8fG4/XCJUZXh0XCI6XCJ0ZXh0L3BsYWluXCI7dHJ5e3JldHVybiB0P3Iuc2V0RGF0YShpLHQpIT09ITE6ci5nZXREYXRhKGkpfWNhdGNoKGUpe2lmKCFuKXJldHVybiB0aGlzLmhhbmRsZUNsaXBib2FyZERhdGEoZSx0LCEwKX19LGUucHJvdG90eXBlLm9uSW5wdXQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5pbkNvbXBvc2l0aW9uKXJldHVybiB0aGlzLm9uQ29tcG9zaXRpb25VcGRhdGUoKTtpZihlJiZlLmlucHV0VHlwZSl7aWYoZS5pbnB1dFR5cGU9PVwiaGlzdG9yeVVuZG9cIilyZXR1cm4gdGhpcy5ob3N0LmV4ZWNDb21tYW5kKFwidW5kb1wiKTtpZihlLmlucHV0VHlwZT09XCJoaXN0b3J5UmVkb1wiKXJldHVybiB0aGlzLmhvc3QuZXhlY0NvbW1hbmQoXCJyZWRvXCIpfXZhciB0PXRoaXMudGV4dC52YWx1ZSxuPXRoaXMuc2VuZFRleHQodCwhMCk7KHQubGVuZ3RoPmgrMTAwfHxtLnRlc3Qobil8fGcmJnRoaXMubGFzdFNlbGVjdGlvblN0YXJ0PDEmJnRoaXMubGFzdFNlbGVjdGlvblN0YXJ0PT10aGlzLmxhc3RTZWxlY3Rpb25FbmQpJiZ0aGlzLnJlc2V0U2VsZWN0aW9uKCl9LGUucHJvdG90eXBlLnNlbmRUZXh0PWZ1bmN0aW9uKGUsdCl7dGhpcy5hZnRlckNvbnRleHRNZW51JiYodGhpcy5hZnRlckNvbnRleHRNZW51PSExKTtpZih0aGlzLnBhc3RlZClyZXR1cm4gdGhpcy5yZXNldFNlbGVjdGlvbigpLGUmJnRoaXMuaG9zdC5vblBhc3RlKGUpLHRoaXMucGFzdGVkPSExLFwiXCI7dmFyIG49dGhpcy50ZXh0LnNlbGVjdGlvblN0YXJ0LHI9dGhpcy50ZXh0LnNlbGVjdGlvbkVuZCxpPXRoaXMubGFzdFNlbGVjdGlvblN0YXJ0LG89dGhpcy5sYXN0VmFsdWUubGVuZ3RoLXRoaXMubGFzdFNlbGVjdGlvbkVuZCx1PWUsYT1lLmxlbmd0aC1uLGY9ZS5sZW5ndGgtcixsPTA7d2hpbGUoaT4wJiZ0aGlzLmxhc3RWYWx1ZVtsXT09ZVtsXSlsKyssaS0tO3U9dS5zbGljZShsKSxsPTE7d2hpbGUobz4wJiZ0aGlzLmxhc3RWYWx1ZS5sZW5ndGgtbD50aGlzLmxhc3RTZWxlY3Rpb25TdGFydC0xJiZ0aGlzLmxhc3RWYWx1ZVt0aGlzLmxhc3RWYWx1ZS5sZW5ndGgtbF09PWVbZS5sZW5ndGgtbF0pbCsrLG8tLTthLT1sLTEsZi09bC0xO3ZhciBjPXUubGVuZ3RoLWwrMTtjPDAmJihpPS1jLGM9MCksdT11LnNsaWNlKDAsYyk7aWYoIXQmJiF1JiYhYSYmIWkmJiFvJiYhZilyZXR1cm5cIlwiO3RoaXMuc2VuZGluZ1RleHQ9ITA7dmFyIGg9ITE7cmV0dXJuIHMuaXNBbmRyb2lkJiZ1PT1cIi4gXCImJih1PVwiICBcIixoPSEwKSx1JiYhaSYmIW8mJiFhJiYhZnx8dGhpcy5jb21tYW5kTW9kZT90aGlzLmhvc3Qub25UZXh0SW5wdXQodSk6dGhpcy5ob3N0Lm9uVGV4dElucHV0KHUse2V4dGVuZExlZnQ6aSxleHRlbmRSaWdodDpvLHJlc3RvcmVTdGFydDphLHJlc3RvcmVFbmQ6Zn0pLHRoaXMuc2VuZGluZ1RleHQ9ITEsdGhpcy5sYXN0VmFsdWU9ZSx0aGlzLmxhc3RTZWxlY3Rpb25TdGFydD1uLHRoaXMubGFzdFNlbGVjdGlvbkVuZD1yLHRoaXMubGFzdFJlc3RvcmVFbmQ9ZixoP1wiXFxuXCI6dX0sZS5wcm90b3R5cGUub25TZWxlY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmluQ29tcG9zaXRpb24pcmV0dXJuO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbGVjdGlvblN0YXJ0PT09MCYmZS5zZWxlY3Rpb25FbmQ+PXQubGFzdFZhbHVlLmxlbmd0aCYmZS52YWx1ZT09PXQubGFzdFZhbHVlJiZ0Lmxhc3RWYWx1ZSYmZS5zZWxlY3Rpb25FbmQhPT10Lmxhc3RTZWxlY3Rpb25FbmR9O3RoaXMuY29waWVkP3RoaXMuY29waWVkPSExOm4odGhpcy50ZXh0KT8odGhpcy5ob3N0LnNlbGVjdEFsbCgpLHRoaXMucmVzZXRTZWxlY3Rpb24oKSk6ZyYmdGhpcy50ZXh0LnNlbGVjdGlvblN0YXJ0IT10aGlzLmxhc3RTZWxlY3Rpb25TdGFydCYmdGhpcy5yZXNldFNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS4kcmVzZXRTZWxlY3Rpb25JT1M9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuJGlzRm9jdXNlZHx8dGhpcy5jb3BpZWQmJiFlfHx0aGlzLnNlbmRpbmdUZXh0KXJldHVybjtlfHwoZT1cIlwiKTt2YXIgdD1cIlxcbiBhYlwiK2UrXCJjZGUgZmdcXG5cIjt0IT10aGlzLnRleHQudmFsdWUmJih0aGlzLnRleHQudmFsdWU9dGhpcy5sYXN0VmFsdWU9dCk7dmFyIG49NCxyPTQrKGUubGVuZ3RofHwodGhpcy5ob3N0LnNlbGVjdGlvbi5pc0VtcHR5KCk/MDoxKSk7KHRoaXMubGFzdFNlbGVjdGlvblN0YXJ0IT1ufHx0aGlzLmxhc3RTZWxlY3Rpb25FbmQhPXIpJiZ0aGlzLnRleHQuc2V0U2VsZWN0aW9uUmFuZ2UobixyKSx0aGlzLmxhc3RTZWxlY3Rpb25TdGFydD1uLHRoaXMubGFzdFNlbGVjdGlvbkVuZD1yfSxlLnByb3RvdHlwZS4kcmVzZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuaW5Db21wb3NpdGlvbnx8dGhpcy5zZW5kaW5nVGV4dClyZXR1cm47aWYoIXRoaXMuJGlzRm9jdXNlZCYmIXRoaXMuYWZ0ZXJDb250ZXh0TWVudSlyZXR1cm47dGhpcy5pbkNvbXBvc2l0aW9uPSEwO3ZhciB0PTAsbj0wLHI9XCJcIixpPWZ1bmN0aW9uKHQsbil7dmFyIHI9bjtmb3IodmFyIGk9MTtpPD10LWUucm93U3RhcnQmJmk8MiplLm51bWJlck9mRXh0cmFMaW5lcysxO2krKylyKz1lLmhvc3Quc2Vzc2lvbi5nZXRMaW5lKHQtaSkubGVuZ3RoKzE7cmV0dXJuIHJ9O2lmKHRoaXMuaG9zdC5zZXNzaW9uKXt2YXIgcz10aGlzLmhvc3Quc2VsZWN0aW9uLG89cy5nZXRSYW5nZSgpLHU9cy5jdXJzb3Iucm93O2lmKHU9PT10aGlzLnJvd0VuZCsxKXRoaXMucm93U3RhcnQ9dGhpcy5yb3dFbmQrMSx0aGlzLnJvd0VuZD10aGlzLnJvd1N0YXJ0KzIqdGhpcy5udW1iZXJPZkV4dHJhTGluZXM7ZWxzZSBpZih1PT09dGhpcy5yb3dTdGFydC0xKXRoaXMucm93RW5kPXRoaXMucm93U3RhcnQtMSx0aGlzLnJvd1N0YXJ0PXRoaXMucm93RW5kLTIqdGhpcy5udW1iZXJPZkV4dHJhTGluZXM7ZWxzZSBpZih1PHRoaXMucm93U3RhcnQtMXx8dT50aGlzLnJvd0VuZCsxKXRoaXMucm93U3RhcnQ9dT50aGlzLm51bWJlck9mRXh0cmFMaW5lcz91LXRoaXMubnVtYmVyT2ZFeHRyYUxpbmVzOjAsdGhpcy5yb3dFbmQ9dT50aGlzLm51bWJlck9mRXh0cmFMaW5lcz91K3RoaXMubnVtYmVyT2ZFeHRyYUxpbmVzOjIqdGhpcy5udW1iZXJPZkV4dHJhTGluZXM7dmFyIGE9W107Zm9yKHZhciBmPXRoaXMucm93U3RhcnQ7Zjw9dGhpcy5yb3dFbmQ7ZisrKWEucHVzaCh0aGlzLmhvc3Quc2Vzc2lvbi5nZXRMaW5lKGYpKTtyPWEuam9pbihcIlxcblwiKSx0PWkoby5zdGFydC5yb3csby5zdGFydC5jb2x1bW4pLG49aShvLmVuZC5yb3csby5lbmQuY29sdW1uKTtpZihvLnN0YXJ0LnJvdzx0aGlzLnJvd1N0YXJ0KXt2YXIgbD10aGlzLmhvc3Quc2Vzc2lvbi5nZXRMaW5lKHRoaXMucm93U3RhcnQtMSk7dD1vLnN0YXJ0LnJvdzx0aGlzLnJvd1N0YXJ0LTE/MDp0LG4rPWwubGVuZ3RoKzEscj1sK1wiXFxuXCIrcn1lbHNlIGlmKG8uZW5kLnJvdz50aGlzLnJvd0VuZCl7dmFyIGM9dGhpcy5ob3N0LnNlc3Npb24uZ2V0TGluZSh0aGlzLnJvd0VuZCsxKTtuPW8uZW5kLnJvdz50aGlzLnJvd0VuZCsxP2MubGVuZ3RoOm8uZW5kLmNvbHVtbixuKz1yLmxlbmd0aCsxLHI9citcIlxcblwiK2N9ZWxzZSBnJiZ1PjAmJihyPVwiXFxuXCIrcixuKz0xLHQrPTEpO3IubGVuZ3RoPmgmJih0PGgmJm48aD9yPXIuc2xpY2UoMCxoKToocj1cIlxcblwiLHQ9PW4/dD1uPTA6KHQ9MCxuPTEpKSk7dmFyIHA9citcIlxcblxcblwiO3AhPXRoaXMubGFzdFZhbHVlJiYodGhpcy50ZXh0LnZhbHVlPXRoaXMubGFzdFZhbHVlPXAsdGhpcy5sYXN0U2VsZWN0aW9uU3RhcnQ9dGhpcy5sYXN0U2VsZWN0aW9uRW5kPXAubGVuZ3RoKX10aGlzLmFmdGVyQ29udGV4dE1lbnUmJih0aGlzLmxhc3RTZWxlY3Rpb25TdGFydD10aGlzLnRleHQuc2VsZWN0aW9uU3RhcnQsdGhpcy5sYXN0U2VsZWN0aW9uRW5kPXRoaXMudGV4dC5zZWxlY3Rpb25FbmQpO2lmKHRoaXMubGFzdFNlbGVjdGlvbkVuZCE9bnx8dGhpcy5sYXN0U2VsZWN0aW9uU3RhcnQhPXR8fHRoaXMudGV4dC5zZWxlY3Rpb25FbmQhPXRoaXMubGFzdFNlbGVjdGlvbkVuZCl0cnl7dGhpcy50ZXh0LnNldFNlbGVjdGlvblJhbmdlKHQsbiksdGhpcy5sYXN0U2VsZWN0aW9uU3RhcnQ9dCx0aGlzLmxhc3RTZWxlY3Rpb25FbmQ9bn1jYXRjaChkKXt9dGhpcy5pbkNvbXBvc2l0aW9uPSExfSxlLnByb3RvdHlwZS5zZXRIb3N0PWZ1bmN0aW9uKGUpe3RoaXMuaG9zdD1lfSxlLnByb3RvdHlwZS5zZXROdW1iZXJPZkV4dHJhTGluZXM9ZnVuY3Rpb24oZSl7dGhpcy5yb3dTdGFydD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUix0aGlzLnJvd0VuZD1OdW1iZXIuTUlOX1NBRkVfSU5URUdFUjtpZihlPDApe3RoaXMubnVtYmVyT2ZFeHRyYUxpbmVzPTA7cmV0dXJufXRoaXMubnVtYmVyT2ZFeHRyYUxpbmVzPWV9LGUucHJvdG90eXBlLnNldEFyaWFMYWJlbD1mdW5jdGlvbigpe3ZhciBlPVwiXCI7dGhpcy5ob3N0LiR0ZXh0SW5wdXRBcmlhTGFiZWwmJihlKz1cIlwiLmNvbmNhdCh0aGlzLmhvc3QuJHRleHRJbnB1dEFyaWFMYWJlbCxcIiwgXCIpKTtpZih0aGlzLmhvc3Quc2Vzc2lvbil7dmFyIHQ9dGhpcy5ob3N0LnNlc3Npb24uc2VsZWN0aW9uLmN1cnNvci5yb3c7ZSs9aShcInRleHQtaW5wdXQuYXJpYS1sYWJlbFwiLFwiQ3Vyc29yIGF0IHJvdyAkMFwiLFt0KzFdKX10aGlzLnRleHQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGUpfSxlLnByb3RvdHlwZS5zZXRBcmlhT3B0aW9ucz1mdW5jdGlvbihlKXtlLmFjdGl2ZURlc2NlbmRhbnQ/KHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIsXCJ0cnVlXCIpLHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWF1dG9jb21wbGV0ZVwiLGUuaW5saW5lP1wiYm90aFwiOlwibGlzdFwiKSx0aGlzLnRleHQuc2V0QXR0cmlidXRlKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsZS5hY3RpdmVEZXNjZW5kYW50KSk6KHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIsXCJmYWxzZVwiKSx0aGlzLnRleHQuc2V0QXR0cmlidXRlKFwiYXJpYS1hdXRvY29tcGxldGVcIixcImJvdGhcIiksdGhpcy50ZXh0LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiKSksZS5yb2xlJiZ0aGlzLnRleHQuc2V0QXR0cmlidXRlKFwicm9sZVwiLGUucm9sZSksZS5zZXRMYWJlbCYmKHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXJvbGVkZXNjcmlwdGlvblwiLGkoXCJ0ZXh0LWlucHV0LmFyaWEtcm9sZWRlc2NyaXB0aW9uXCIsXCJlZGl0b3JcIikpLHRoaXMuc2V0QXJpYUxhYmVsKCkpfSxlLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zZXRBcmlhT3B0aW9ucyh7c2V0TGFiZWw6dGhpcy5ob3N0LnJlbmRlcmVyLmVuYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eX0pO2lmKHRoaXMudGVtcFN0eWxlfHxjfHx0aGlzLiRmb2N1c1Njcm9sbD09XCJicm93c2VyXCIpcmV0dXJuIHRoaXMudGV4dC5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pO3ZhciB0PXRoaXMudGV4dC5zdHlsZS50b3A7dGhpcy50ZXh0LnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIix0aGlzLnRleHQuc3R5bGUudG9wPVwiMHB4XCI7dHJ5e3ZhciBuPXRoaXMudGV4dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AhPTB9Y2F0Y2gocil7cmV0dXJufXZhciBpPVtdO2lmKG4pe3ZhciBzPXRoaXMudGV4dC5wYXJlbnRFbGVtZW50O3doaWxlKHMmJnMubm9kZVR5cGU9PTEpaS5wdXNoKHMpLHMuc2V0QXR0cmlidXRlKFwiYWNlX25vY29udGV4dFwiLFwidHJ1ZVwiKSwhcy5wYXJlbnRFbGVtZW50JiZzLmdldFJvb3ROb2RlP3M9cy5nZXRSb290Tm9kZSgpLmhvc3Q6cz1zLnBhcmVudEVsZW1lbnR9dGhpcy50ZXh0LmZvY3VzKHtwcmV2ZW50U2Nyb2xsOiEwfSksbiYmaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlQXR0cmlidXRlKFwiYWNlX25vY29udGV4dFwiKX0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnRleHQuc3R5bGUucG9zaXRpb249XCJcIixlLnRleHQuc3R5bGUudG9wPT1cIjBweFwiJiYoZS50ZXh0LnN0eWxlLnRvcD10KX0sMCl9LGUucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oKXt0aGlzLnRleHQuYmx1cigpfSxlLnByb3RvdHlwZS5pc0ZvY3VzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaXNGb2N1c2VkfSxlLnByb3RvdHlwZS5zZXRJbnB1dEhhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5pbnB1dEhhbmRsZXI9ZX0sZS5wcm90b3R5cGUuZ2V0SW5wdXRIYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXRIYW5kbGVyfSxlLnByb3RvdHlwZS5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dH0sZS5wcm90b3R5cGUuc2V0Q29tbWFuZE1vZGU9ZnVuY3Rpb24oZSl7dGhpcy5jb21tYW5kTW9kZT1lLHRoaXMudGV4dC5yZWFkT25seT0hMX0sZS5wcm90b3R5cGUuc2V0UmVhZE9ubHk9ZnVuY3Rpb24oZSl7dGhpcy5jb21tYW5kTW9kZXx8KHRoaXMudGV4dC5yZWFkT25seT1lKX0sZS5wcm90b3R5cGUuc2V0Q29weVdpdGhFbXB0eVNlbGVjdGlvbj1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLm9uQ29udGV4dE1lbnU9ZnVuY3Rpb24oZSl7dGhpcy5hZnRlckNvbnRleHRNZW51PSEwLHRoaXMucmVzZXRTZWxlY3Rpb24oKSx0aGlzLmhvc3QuX2VtaXQoXCJuYXRpdmVjb250ZXh0bWVudVwiLHt0YXJnZXQ6dGhpcy5ob3N0LGRvbUV2ZW50OmV9KSx0aGlzLm1vdmVUb01vdXNlKGUsITApfSxlLnByb3RvdHlwZS5tb3ZlVG9Nb3VzZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dGhpcy50ZW1wU3R5bGV8fCh0aGlzLnRlbXBTdHlsZT10aGlzLnRleHQuc3R5bGUuY3NzVGV4dCksdGhpcy50ZXh0LnN0eWxlLmNzc1RleHQ9KHQ/XCJ6LWluZGV4OjEwMDAwMDtcIjpcIlwiKSsocy5pc0lFP1wib3BhY2l0eTowLjE7XCI6XCJcIikrXCJ0ZXh0LWluZGVudDogLVwiKyh0aGlzLmxhc3RTZWxlY3Rpb25TdGFydCt0aGlzLmxhc3RTZWxlY3Rpb25FbmQpKnRoaXMuaG9zdC5yZW5kZXJlci5jaGFyYWN0ZXJXaWR0aCouNStcInB4O1wiO3ZhciBpPXRoaXMuaG9zdC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT1vLmNvbXB1dGVkU3R5bGUodGhpcy5ob3N0LmNvbnRhaW5lciksYT1pLnRvcCsocGFyc2VJbnQodS5ib3JkZXJUb3BXaWR0aCl8fDApLGY9aS5sZWZ0KyhwYXJzZUludCh1LmJvcmRlckxlZnRXaWR0aCl8fDApLGw9aS5ib3R0b20tYS10aGlzLnRleHQuY2xpZW50SGVpZ2h0LTIsYz1mdW5jdGlvbihlKXtvLnRyYW5zbGF0ZShuLnRleHQsZS5jbGllbnRYLWYtMixNYXRoLm1pbihlLmNsaWVudFktYS0yLGwpKX07YyhlKTtpZihlLnR5cGUhPVwibW91c2Vkb3duXCIpcmV0dXJuO3RoaXMuaG9zdC5yZW5kZXJlci4kaXNNb3VzZVByZXNzZWQ9ITAsY2xlYXJUaW1lb3V0KHRoaXMuY2xvc2VUaW1lb3V0KSxzLmlzV2luJiZyLmNhcHR1cmUodGhpcy5ob3N0LmNvbnRhaW5lcixjLHRoaXMub25Db250ZXh0TWVudUNsb3NlLmJpbmQodGhpcykpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy50ZXh0LnBhcmVudEVsZW1lbnQmJnRoaXMudGV4dC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMudGV4dCl9LGV9KCk7dC5UZXh0SW5wdXQ9eSx0LiRzZXRVc2VyQWdlbnRGb3JUZXN0cz1mdW5jdGlvbihlLHQpe2c9ZSx2PXR9fSksYWNlLmRlZmluZShcImFjZS9tb3VzZS9kZWZhdWx0X2hhbmRsZXJzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdShlLHQsbixyKXtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KG4tZSwyKStNYXRoLnBvdyhyLXQsMikpfWZ1bmN0aW9uIGEoZSx0KXtpZihlLnN0YXJ0LnJvdz09ZS5lbmQucm93KXZhciBuPTIqdC5jb2x1bW4tZS5zdGFydC5jb2x1bW4tZS5lbmQuY29sdW1uO2Vsc2UgaWYoZS5zdGFydC5yb3c9PWUuZW5kLnJvdy0xJiYhZS5zdGFydC5jb2x1bW4mJiFlLmVuZC5jb2x1bW4pdmFyIG49dC5jb2x1bW4tNDtlbHNlIHZhciBuPTIqdC5yb3ctZS5zdGFydC5yb3ctZS5lbmQucm93O3JldHVybiBuPDA/e2N1cnNvcjplLnN0YXJ0LGFuY2hvcjplLmVuZH06e2N1cnNvcjplLmVuZCxhbmNob3I6ZS5zdGFydH19dmFyIHI9ZShcIi4uL2xpYi91c2VyYWdlbnRcIiksaT0wLHM9NTUwLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2UuJGNsaWNrU2VsZWN0aW9uPW51bGw7dmFyIHQ9ZS5lZGl0b3I7dC5zZXREZWZhdWx0SGFuZGxlcihcIm1vdXNlZG93blwiLHRoaXMub25Nb3VzZURvd24uYmluZChlKSksdC5zZXREZWZhdWx0SGFuZGxlcihcImRibGNsaWNrXCIsdGhpcy5vbkRvdWJsZUNsaWNrLmJpbmQoZSkpLHQuc2V0RGVmYXVsdEhhbmRsZXIoXCJ0cmlwbGVjbGlja1wiLHRoaXMub25UcmlwbGVDbGljay5iaW5kKGUpKSx0LnNldERlZmF1bHRIYW5kbGVyKFwicXVhZGNsaWNrXCIsdGhpcy5vblF1YWRDbGljay5iaW5kKGUpKSx0LnNldERlZmF1bHRIYW5kbGVyKFwibW91c2V3aGVlbFwiLHRoaXMub25Nb3VzZVdoZWVsLmJpbmQoZSkpO3ZhciBuPVtcInNlbGVjdFwiLFwic3RhcnRTZWxlY3RcIixcInNlbGVjdEVuZFwiLFwic2VsZWN0QWxsRW5kXCIsXCJzZWxlY3RCeVdvcmRzRW5kXCIsXCJzZWxlY3RCeUxpbmVzRW5kXCIsXCJkcmFnV2FpdFwiLFwiZHJhZ1dhaXRFbmRcIixcImZvY3VzV2FpdFwiXTtuLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT10aGlzW3RdfSx0aGlzKSxlLnNlbGVjdEJ5TGluZXM9dGhpcy5leHRlbmRTZWxlY3Rpb25CeS5iaW5kKGUsXCJnZXRMaW5lUmFuZ2VcIiksZS5zZWxlY3RCeVdvcmRzPXRoaXMuZXh0ZW5kU2VsZWN0aW9uQnkuYmluZChlLFwiZ2V0V29yZFJhbmdlXCIpfXJldHVybiBlLnByb3RvdHlwZS5vbk1vdXNlRG93bj1mdW5jdGlvbihlKXt2YXIgdD1lLmluU2VsZWN0aW9uKCksbj1lLmdldERvY3VtZW50UG9zaXRpb24oKTt0aGlzLm1vdXNlZG93bkV2ZW50PWU7dmFyIGk9dGhpcy5lZGl0b3Iscz1lLmdldEJ1dHRvbigpO2lmKHMhPT0wKXt2YXIgbz1pLmdldFNlbGVjdGlvblJhbmdlKCksdT1vLmlzRW1wdHkoKTsodXx8cz09MSkmJmkuc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKG4pLHM9PTImJihpLnRleHRJbnB1dC5vbkNvbnRleHRNZW51KGUuZG9tRXZlbnQpLHIuaXNNb3ppbGxhfHxlLnByZXZlbnREZWZhdWx0KCkpO3JldHVybn10aGlzLm1vdXNlZG93bkV2ZW50LnRpbWU9RGF0ZS5ub3coKTtpZih0JiYhaS5pc0ZvY3VzZWQoKSl7aS5mb2N1cygpO2lmKHRoaXMuJGZvY3VzVGltZW91dCYmIXRoaXMuJGNsaWNrU2VsZWN0aW9uJiYhaS5pbk11bHRpU2VsZWN0TW9kZSl7dGhpcy5zZXRTdGF0ZShcImZvY3VzV2FpdFwiKSx0aGlzLmNhcHR1cmVNb3VzZShlKTtyZXR1cm59fXJldHVybiB0aGlzLmNhcHR1cmVNb3VzZShlKSx0aGlzLnN0YXJ0U2VsZWN0KG4sZS5kb21FdmVudC5fY2xpY2tzPjEpLGUucHJldmVudERlZmF1bHQoKX0sZS5wcm90b3R5cGUuc3RhcnRTZWxlY3Q9ZnVuY3Rpb24oZSx0KXtlPWV8fHRoaXMuZWRpdG9yLnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKHRoaXMueCx0aGlzLnkpO3ZhciBuPXRoaXMuZWRpdG9yO2lmKCF0aGlzLm1vdXNlZG93bkV2ZW50KXJldHVybjt0aGlzLm1vdXNlZG93bkV2ZW50LmdldFNoaWZ0S2V5KCk/bi5zZWxlY3Rpb24uc2VsZWN0VG9Qb3NpdGlvbihlKTp0fHxuLnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihlKSx0fHx0aGlzLnNlbGVjdCgpLG4uc2V0U3R5bGUoXCJhY2Vfc2VsZWN0aW5nXCIpLHRoaXMuc2V0U3RhdGUoXCJzZWxlY3RcIil9LGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5lZGl0b3Isbj10LnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKHRoaXMueCx0aGlzLnkpO2lmKHRoaXMuJGNsaWNrU2VsZWN0aW9uKXt2YXIgcj10aGlzLiRjbGlja1NlbGVjdGlvbi5jb21wYXJlUG9pbnQobik7aWYocj09LTEpZT10aGlzLiRjbGlja1NlbGVjdGlvbi5lbmQ7ZWxzZSBpZihyPT0xKWU9dGhpcy4kY2xpY2tTZWxlY3Rpb24uc3RhcnQ7ZWxzZXt2YXIgaT1hKHRoaXMuJGNsaWNrU2VsZWN0aW9uLG4pO249aS5jdXJzb3IsZT1pLmFuY2hvcn10LnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25BbmNob3IoZS5yb3csZS5jb2x1bW4pfXQuc2VsZWN0aW9uLnNlbGVjdFRvUG9zaXRpb24obiksdC5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpfSxlLnByb3RvdHlwZS5leHRlbmRTZWxlY3Rpb25CeT1mdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZWRpdG9yLHI9bi5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsdGhpcy55KSxpPW4uc2VsZWN0aW9uW2VdKHIucm93LHIuY29sdW1uKTtpZih0aGlzLiRjbGlja1NlbGVjdGlvbil7dmFyIHM9dGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KGkuc3RhcnQpLG89dGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KGkuZW5kKTtpZihzPT0tMSYmbzw9MCl7dD10aGlzLiRjbGlja1NlbGVjdGlvbi5lbmQ7aWYoaS5lbmQucm93IT1yLnJvd3x8aS5lbmQuY29sdW1uIT1yLmNvbHVtbilyPWkuc3RhcnR9ZWxzZSBpZihvPT0xJiZzPj0wKXt0PXRoaXMuJGNsaWNrU2VsZWN0aW9uLnN0YXJ0O2lmKGkuc3RhcnQucm93IT1yLnJvd3x8aS5zdGFydC5jb2x1bW4hPXIuY29sdW1uKXI9aS5lbmR9ZWxzZSBpZihzPT0tMSYmbz09MSlyPWkuZW5kLHQ9aS5zdGFydDtlbHNle3ZhciB1PWEodGhpcy4kY2xpY2tTZWxlY3Rpb24scik7cj11LmN1cnNvcix0PXUuYW5jaG9yfW4uc2VsZWN0aW9uLnNldFNlbGVjdGlvbkFuY2hvcih0LnJvdyx0LmNvbHVtbil9bi5zZWxlY3Rpb24uc2VsZWN0VG9Qb3NpdGlvbihyKSxuLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCl9LGUucHJvdG90eXBlLnNlbGVjdEJ5TGluZXNFbmQ9ZnVuY3Rpb24oKXt0aGlzLiRjbGlja1NlbGVjdGlvbj1udWxsLHRoaXMuZWRpdG9yLnVuc2V0U3R5bGUoXCJhY2Vfc2VsZWN0aW5nXCIpfSxlLnByb3RvdHlwZS5mb2N1c1dhaXQ9ZnVuY3Rpb24oKXt2YXIgZT11KHRoaXMubW91c2Vkb3duRXZlbnQueCx0aGlzLm1vdXNlZG93bkV2ZW50LnksdGhpcy54LHRoaXMueSksdD1EYXRlLm5vdygpOyhlPml8fHQtdGhpcy5tb3VzZWRvd25FdmVudC50aW1lPnRoaXMuJGZvY3VzVGltZW91dCkmJnRoaXMuc3RhcnRTZWxlY3QodGhpcy5tb3VzZWRvd25FdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkpfSxlLnByb3RvdHlwZS5vbkRvdWJsZUNsaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLG49dGhpcy5lZGl0b3Iscj1uLnNlc3Npb24saT1yLmdldEJyYWNrZXRSYW5nZSh0KTtpPyhpLmlzRW1wdHkoKSYmKGkuc3RhcnQuY29sdW1uLS0saS5lbmQuY29sdW1uKyspLHRoaXMuc2V0U3RhdGUoXCJzZWxlY3RcIikpOihpPW4uc2VsZWN0aW9uLmdldFdvcmRSYW5nZSh0LnJvdyx0LmNvbHVtbiksdGhpcy5zZXRTdGF0ZShcInNlbGVjdEJ5V29yZHNcIikpLHRoaXMuJGNsaWNrU2VsZWN0aW9uPWksdGhpcy5zZWxlY3QoKX0sZS5wcm90b3R5cGUub25UcmlwbGVDbGljaz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldERvY3VtZW50UG9zaXRpb24oKSxuPXRoaXMuZWRpdG9yO3RoaXMuc2V0U3RhdGUoXCJzZWxlY3RCeUxpbmVzXCIpO3ZhciByPW4uZ2V0U2VsZWN0aW9uUmFuZ2UoKTtyLmlzTXVsdGlMaW5lKCkmJnIuY29udGFpbnModC5yb3csdC5jb2x1bW4pPyh0aGlzLiRjbGlja1NlbGVjdGlvbj1uLnNlbGVjdGlvbi5nZXRMaW5lUmFuZ2Uoci5zdGFydC5yb3cpLHRoaXMuJGNsaWNrU2VsZWN0aW9uLmVuZD1uLnNlbGVjdGlvbi5nZXRMaW5lUmFuZ2Uoci5lbmQucm93KS5lbmQpOnRoaXMuJGNsaWNrU2VsZWN0aW9uPW4uc2VsZWN0aW9uLmdldExpbmVSYW5nZSh0LnJvdyksdGhpcy5zZWxlY3QoKX0sZS5wcm90b3R5cGUub25RdWFkQ2xpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lZGl0b3I7dC5zZWxlY3RBbGwoKSx0aGlzLiRjbGlja1NlbGVjdGlvbj10LmdldFNlbGVjdGlvblJhbmdlKCksdGhpcy5zZXRTdGF0ZShcInNlbGVjdEFsbFwiKX0sZS5wcm90b3R5cGUub25Nb3VzZVdoZWVsPWZ1bmN0aW9uKGUpe2lmKGUuZ2V0QWNjZWxLZXkoKSlyZXR1cm47ZS5nZXRTaGlmdEtleSgpJiZlLndoZWVsWSYmIWUud2hlZWxYJiYoZS53aGVlbFg9ZS53aGVlbFksZS53aGVlbFk9MCk7dmFyIHQ9dGhpcy5lZGl0b3I7dGhpcy4kbGFzdFNjcm9sbHx8KHRoaXMuJGxhc3RTY3JvbGw9e3Q6MCx2eDowLHZ5OjAsYWxsb3dlZDowfSk7dmFyIG49dGhpcy4kbGFzdFNjcm9sbCxyPWUuZG9tRXZlbnQudGltZVN0YW1wLGk9ci1uLnQsbz1pP2Uud2hlZWxYL2k6bi52eCx1PWk/ZS53aGVlbFkvaTpuLnZ5O2k8cyYmKG89KG8rbi52eCkvMix1PSh1K24udnkpLzIpO3ZhciBhPU1hdGguYWJzKG8vdSksZj0hMTthPj0xJiZ0LnJlbmRlcmVyLmlzU2Nyb2xsYWJsZUJ5KGUud2hlZWxYKmUuc3BlZWQsMCkmJihmPSEwKSxhPD0xJiZ0LnJlbmRlcmVyLmlzU2Nyb2xsYWJsZUJ5KDAsZS53aGVlbFkqZS5zcGVlZCkmJihmPSEwKTtpZihmKW4uYWxsb3dlZD1yO2Vsc2UgaWYoci1uLmFsbG93ZWQ8cyl7dmFyIGw9TWF0aC5hYnMobyk8PTEuNSpNYXRoLmFicyhuLnZ4KSYmTWF0aC5hYnModSk8PTEuNSpNYXRoLmFicyhuLnZ5KTtsPyhmPSEwLG4uYWxsb3dlZD1yKTpuLmFsbG93ZWQ9MH1uLnQ9cixuLnZ4PW8sbi52eT11O2lmKGYpcmV0dXJuIHQucmVuZGVyZXIuc2Nyb2xsQnkoZS53aGVlbFgqZS5zcGVlZCxlLndoZWVsWSplLnNwZWVkKSxlLnN0b3AoKX0sZX0oKTtvLnByb3RvdHlwZS5zZWxlY3RFbmQ9by5wcm90b3R5cGUuc2VsZWN0QnlMaW5lc0VuZCxvLnByb3RvdHlwZS5zZWxlY3RBbGxFbmQ9by5wcm90b3R5cGUuc2VsZWN0QnlMaW5lc0VuZCxvLnByb3RvdHlwZS5zZWxlY3RCeVdvcmRzRW5kPW8ucHJvdG90eXBlLnNlbGVjdEJ5TGluZXNFbmQsdC5EZWZhdWx0SGFuZGxlcnM9b30pLGFjZS5kZWZpbmUoXCJhY2UvbGliL3Njcm9sbFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSxmdW5jdGlvbihlLHQsbil7dC5wcmV2ZW50UGFyZW50U2Nyb2xsPWZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCk7dmFyIG49dC5jdXJyZW50VGFyZ2V0LHI9bi5zY3JvbGxIZWlnaHQ+bi5jbGllbnRIZWlnaHQ7cnx8dC5wcmV2ZW50RGVmYXVsdCgpfX0pLGFjZS5kZWZpbmUoXCJhY2UvdG9vbHRpcFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9yYW5nZVwiLFwiYWNlL2xpYi9zY3JvbGxcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfSxlKHQsbil9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIiYmbiE9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKG4pK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZSh0LG4pLHQucHJvdG90eXBlPW49PT1udWxsP09iamVjdC5jcmVhdGUobik6KHIucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyByKX19KCksaT10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgU3ltYm9sPT1cImZ1bmN0aW9uXCImJlN5bWJvbC5pdGVyYXRvcixuPXQmJmVbdF0scj0wO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihlJiZ0eXBlb2YgZS5sZW5ndGg9PVwibnVtYmVyXCIpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmcj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbcisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfSxzPWUoXCIuL2xpYi9kb21cIiksbz1lKFwiLi9saWIvZXZlbnRcIiksdT1lKFwiLi9yYW5nZVwiKS5SYW5nZSxhPWUoXCIuL2xpYi9zY3JvbGxcIikucHJldmVudFBhcmVudFNjcm9sbCxmPVwiYWNlX3Rvb2x0aXBcIixsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmlzT3Blbj0hMSx0aGlzLiRlbGVtZW50PW51bGwsdGhpcy4kcGFyZW50Tm9kZT1lfXJldHVybiBlLnByb3RvdHlwZS4kaW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRlbGVtZW50PXMuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLiRlbGVtZW50LmNsYXNzTmFtZT1mLHRoaXMuJGVsZW1lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLiRwYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuJGVsZW1lbnQpLHRoaXMuJGVsZW1lbnR9LGUucHJvdG90eXBlLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWxlbWVudHx8dGhpcy4kaW5pdCgpfSxlLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKGUpe3RoaXMuZ2V0RWxlbWVudCgpLnRleHRDb250ZW50PWV9LGUucHJvdG90eXBlLnNldEh0bWw9ZnVuY3Rpb24oZSl7dGhpcy5nZXRFbGVtZW50KCkuaW5uZXJIVE1MPWV9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRFbGVtZW50KCkscj1uLm9mZnNldFBhcmVudCYmbi5vZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bi5zdHlsZS5sZWZ0PWUtKHI/ci5sZWZ0OjApK1wicHhcIixuLnN0eWxlLnRvcD10LShyP3IudG9wOjApK1wicHhcIn0sZS5wcm90b3R5cGUuc2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKGUpe3MuYWRkQ3NzQ2xhc3ModGhpcy5nZXRFbGVtZW50KCksZSl9LGUucHJvdG90eXBlLnNldFRoZW1lPWZ1bmN0aW9uKGUpe3RoaXMuJGVsZW1lbnQuY2xhc3NOYW1lPWYrXCIgXCIrKGUuaXNEYXJrP1wiYWNlX2RhcmsgXCI6XCJcIikrKGUuY3NzQ2xhc3N8fFwiXCIpfSxlLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGUsdCxuKXtlIT1udWxsJiZ0aGlzLnNldFRleHQoZSksdCE9bnVsbCYmbiE9bnVsbCYmdGhpcy5zZXRQb3NpdGlvbih0LG4pLHRoaXMuaXNPcGVufHwodGhpcy5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5pc09wZW49ITApfSxlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGUpe3RoaXMuaXNPcGVuJiYodGhpcy5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLmdldEVsZW1lbnQoKS5jbGFzc05hbWU9Zix0aGlzLmlzT3Blbj0hMSl9LGUucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVsZW1lbnQoKS5vZmZzZXRIZWlnaHR9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRofSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pc09wZW49ITEsdGhpcy4kZWxlbWVudCYmdGhpcy4kZWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLiRlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy4kZWxlbWVudCl9LGV9KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnBvcHVwcz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkUG9wdXA9ZnVuY3Rpb24oZSl7dGhpcy5wb3B1cHMucHVzaChlKSx0aGlzLnVwZGF0ZVBvcHVwcygpfSxlLnByb3RvdHlwZS5yZW1vdmVQb3B1cD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBvcHVwcy5pbmRleE9mKGUpO3QhPT0tMSYmKHRoaXMucG9wdXBzLnNwbGljZSh0LDEpLHRoaXMudXBkYXRlUG9wdXBzKCkpfSxlLnByb3RvdHlwZS51cGRhdGVQb3B1cHM9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scjt0aGlzLnBvcHVwcy5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucHJpb3JpdHktZS5wcmlvcml0eX0pO3ZhciBzPVtdO3RyeXtmb3IodmFyIG89aSh0aGlzLnBvcHVwcyksdT1vLm5leHQoKTshdS5kb25lO3U9by5uZXh0KCkpe3ZhciBhPXUudmFsdWUsZj0hMDt0cnl7Zm9yKHZhciBsPShuPXZvaWQgMCxpKHMpKSxjPWwubmV4dCgpOyFjLmRvbmU7Yz1sLm5leHQoKSl7dmFyIGg9Yy52YWx1ZTtpZih0aGlzLmRvUG9wdXBzT3ZlcmxhcChoLGEpKXtmPSExO2JyZWFrfX19Y2F0Y2gocCl7bj17ZXJyb3I6cH19ZmluYWxseXt0cnl7YyYmIWMuZG9uZSYmKHI9bC5yZXR1cm4pJiZyLmNhbGwobCl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fWY/cy5wdXNoKGEpOmEuaGlkZSgpfX1jYXRjaChkKXtlPXtlcnJvcjpkfX1maW5hbGx5e3RyeXt1JiYhdS5kb25lJiYodD1vLnJldHVybikmJnQuY2FsbChvKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19fSxlLnByb3RvdHlwZS5kb1BvcHVwc092ZXJsYXA9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldEVsZW1lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPXQuZ2V0RWxlbWVudCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBuLmxlZnQ8ci5yaWdodCYmbi5yaWdodD5yLmxlZnQmJm4udG9wPHIuYm90dG9tJiZuLmJvdHRvbT5yLnRvcH0sZX0oKSxoPW5ldyBjO3QucG9wdXBNYW5hZ2VyPWgsdC5Ub29sdGlwPWw7dmFyIHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt0PT09dm9pZCAwJiYodD1kb2N1bWVudC5ib2R5KTt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztuLnRpbWVvdXQ9dW5kZWZpbmVkLG4ubGFzdFQ9MCxuLmlkbGVUaW1lPTM1MCxuLmxhc3RFdmVudD11bmRlZmluZWQsbi5vbk1vdXNlT3V0PW4ub25Nb3VzZU91dC5iaW5kKG4pLG4ub25Nb3VzZU1vdmU9bi5vbk1vdXNlTW92ZS5iaW5kKG4pLG4ud2FpdEZvckhvdmVyPW4ud2FpdEZvckhvdmVyLmJpbmQobiksbi5oaWRlPW4uaGlkZS5iaW5kKG4pO3ZhciByPW4uZ2V0RWxlbWVudCgpO3JldHVybiByLnN0eWxlLndoaXRlU3BhY2U9XCJwcmUtd3JhcFwiLHIuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIixyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLG4ub25Nb3VzZU91dCksci50YWJJbmRleD0tMSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsZnVuY3Rpb24oKXtyLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpfHx0aGlzLmhpZGUoKX0uYmluZChuKSksci5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIixhKSxufXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuYWRkVG9FZGl0b3I9ZnVuY3Rpb24oZSl7ZS5vbihcIm1vdXNlbW92ZVwiLHRoaXMub25Nb3VzZU1vdmUpLGUub24oXCJtb3VzZWRvd25cIix0aGlzLmhpZGUpLGUucmVuZGVyZXIuZ2V0TW91c2VFdmVudFRhcmdldCgpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLHRoaXMub25Nb3VzZU91dCwhMCl9LHQucHJvdG90eXBlLnJlbW92ZUZyb21FZGl0b3I9ZnVuY3Rpb24oZSl7ZS5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLm9uTW91c2VNb3ZlKSxlLm9mZihcIm1vdXNlZG93blwiLHRoaXMuaGlkZSksZS5yZW5kZXJlci5nZXRNb3VzZUV2ZW50VGFyZ2V0KCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsdGhpcy5vbk1vdXNlT3V0LCEwKSx0aGlzLnRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KSx0aGlzLnRpbWVvdXQ9bnVsbCl9LHQucHJvdG90eXBlLm9uTW91c2VNb3ZlPWZ1bmN0aW9uKGUsdCl7dGhpcy5sYXN0RXZlbnQ9ZSx0aGlzLmxhc3RUPURhdGUubm93KCk7dmFyIG49dC4kbW91c2VIYW5kbGVyLmlzTW91c2VQcmVzc2VkO2lmKHRoaXMuaXNPcGVuKXt2YXIgcj10aGlzLmxhc3RFdmVudCYmdGhpcy5sYXN0RXZlbnQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpOyghdGhpcy5yYW5nZXx8IXRoaXMucmFuZ2UuY29udGFpbnMoci5yb3csci5jb2x1bW4pfHxufHx0aGlzLmlzT3V0c2lkZU9mVGV4dCh0aGlzLmxhc3RFdmVudCkpJiZ0aGlzLmhpZGUoKX1pZih0aGlzLnRpbWVvdXR8fG4pcmV0dXJuO3RoaXMubGFzdEV2ZW50PWUsdGhpcy50aW1lb3V0PXNldFRpbWVvdXQodGhpcy53YWl0Rm9ySG92ZXIsdGhpcy5pZGxlVGltZSl9LHQucHJvdG90eXBlLndhaXRGb3JIb3Zlcj1mdW5jdGlvbigpe3RoaXMudGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7dmFyIGU9RGF0ZS5ub3coKS10aGlzLmxhc3RUO2lmKHRoaXMuaWRsZVRpbWUtZT4xMCl7dGhpcy50aW1lb3V0PXNldFRpbWVvdXQodGhpcy53YWl0Rm9ySG92ZXIsdGhpcy5pZGxlVGltZS1lKTtyZXR1cm59dGhpcy50aW1lb3V0PW51bGwsdGhpcy5sYXN0RXZlbnQmJiF0aGlzLmlzT3V0c2lkZU9mVGV4dCh0aGlzLmxhc3RFdmVudCkmJnRoaXMuJGdhdGhlckRhdGEodGhpcy5sYXN0RXZlbnQsdGhpcy5sYXN0RXZlbnQuZWRpdG9yKX0sdC5wcm90b3R5cGUuaXNPdXRzaWRlT2ZUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuZWRpdG9yLG49ZS5nZXREb2N1bWVudFBvc2l0aW9uKCkscj10LnNlc3Npb24uZ2V0TGluZShuLnJvdyk7aWYobi5jb2x1bW49PXIubGVuZ3RoKXt2YXIgaT10LnJlbmRlcmVyLnBpeGVsVG9TY3JlZW5Db29yZGluYXRlcyhlLmNsaWVudFgsZS5jbGllbnRZKSxzPXQuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24obi5yb3csbi5jb2x1bW4pO2lmKHMuY29sdW1uIT1pLmNvbHVtbnx8cy5yb3chPWkucm93KXJldHVybiEwfXJldHVybiExfSx0LnByb3RvdHlwZS5zZXREYXRhUHJvdmlkZXI9ZnVuY3Rpb24oZSl7dGhpcy4kZ2F0aGVyRGF0YT1lfSx0LnByb3RvdHlwZS5zaG93Rm9yUmFuZ2U9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9MTA7aWYociYmciE9dGhpcy5sYXN0RXZlbnQpcmV0dXJuO2lmKHRoaXMuaXNPcGVuJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50PT10aGlzLmdldEVsZW1lbnQoKSlyZXR1cm47dmFyIHM9ZS5yZW5kZXJlcjt0aGlzLmlzT3Blbnx8KGguYWRkUG9wdXAodGhpcyksdGhpcy4kcmVnaXN0ZXJDbG9zZUV2ZW50cygpLHRoaXMuc2V0VGhlbWUocy50aGVtZSkpLHRoaXMuaXNPcGVuPSEwLHRoaXMuYWRkTWFya2VyKHQsZS5zZXNzaW9uKSx0aGlzLnJhbmdlPXUuZnJvbVBvaW50cyh0LnN0YXJ0LHQuZW5kKTt2YXIgbz1zLnRleHRUb1NjcmVlbkNvb3JkaW5hdGVzKHQuc3RhcnQucm93LHQuc3RhcnQuY29sdW1uKSxhPXMuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7by5wYWdlWDxhLmxlZnQmJihvLnBhZ2VYPWEubGVmdCk7dmFyIGY9dGhpcy5nZXRFbGVtZW50KCk7Zi5pbm5lckhUTUw9XCJcIixmLmFwcGVuZENoaWxkKG4pLGYuc3R5bGUubWF4SGVpZ2h0PVwiXCIsZi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjt2YXIgbD1mLmNsaWVudEhlaWdodCxjPWYuY2xpZW50V2lkdGgscD13aW5kb3cuaW5uZXJIZWlnaHQtby5wYWdlWS1zLmxpbmVIZWlnaHQsZD0hMDtvLnBhZ2VZLWw8MCYmby5wYWdlWTxwJiYoZD0hMSksZi5zdHlsZS5tYXhIZWlnaHQ9KGQ/by5wYWdlWTpwKS1pK1wicHhcIixmLnN0eWxlLnRvcD1kP1wiXCI6by5wYWdlWStzLmxpbmVIZWlnaHQrXCJweFwiLGYuc3R5bGUuYm90dG9tPWQ/d2luZG93LmlubmVySGVpZ2h0LW8ucGFnZVkrXCJweFwiOlwiXCIsZi5zdHlsZS5sZWZ0PU1hdGgubWluKG8ucGFnZVgsd2luZG93LmlubmVyV2lkdGgtYy1pKStcInB4XCJ9LHQucHJvdG90eXBlLmFkZE1hcmtlcj1mdW5jdGlvbihlLHQpe3RoaXMubWFya2VyJiZ0aGlzLiRtYXJrZXJTZXNzaW9uLnJlbW92ZU1hcmtlcih0aGlzLm1hcmtlciksdGhpcy4kbWFya2VyU2Vzc2lvbj10LHRoaXMubWFya2VyPXQmJnQuYWRkTWFya2VyKGUsXCJhY2VfaGlnaGxpZ2h0LW1hcmtlclwiLFwidGV4dFwiKX0sdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbihlKXtpZighZSYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09dGhpcy5nZXRFbGVtZW50KCkpcmV0dXJuO2lmKGUmJmUudGFyZ2V0JiYoZS50eXBlIT1cImtleWRvd25cInx8ZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiZ0aGlzLiRlbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KSlyZXR1cm47dGhpcy5sYXN0RXZlbnQ9bnVsbCx0aGlzLnRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLHRoaXMudGltZW91dD1udWxsLHRoaXMuYWRkTWFya2VyKG51bGwpLHRoaXMuaXNPcGVuJiYodGhpcy4kcmVtb3ZlQ2xvc2VFdmVudHMoKSx0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuaXNPcGVuPSExLGgucmVtb3ZlUG9wdXAodGhpcykpfSx0LnByb3RvdHlwZS4kcmVnaXN0ZXJDbG9zZUV2ZW50cz1mdW5jdGlvbigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuaGlkZSwhMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHRoaXMuaGlkZSwhMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLmhpZGUsITApfSx0LnByb3RvdHlwZS4kcmVtb3ZlQ2xvc2VFdmVudHM9ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLmhpZGUsITApLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIix0aGlzLmhpZGUsITApLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5oaWRlLCEwKX0sdC5wcm90b3R5cGUub25Nb3VzZU91dD1mdW5jdGlvbihlKXt0aGlzLnRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KSx0aGlzLnRpbWVvdXQ9bnVsbCksdGhpcy5sYXN0RXZlbnQ9bnVsbDtpZighdGhpcy5pc09wZW4pcmV0dXJuO2lmKCFlLnJlbGF0ZWRUYXJnZXR8fHRoaXMuZ2V0RWxlbWVudCgpLmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkpcmV0dXJuO2lmKGUmJmUuY3VycmVudFRhcmdldC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKXJldHVybjtlLnJlbGF0ZWRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWNlX2NvbnRlbnRcIil8fHRoaXMuaGlkZSgpfSx0fShsKTt0LkhvdmVyVG9vbHRpcD1wfSksYWNlLmRlZmluZShcImFjZS9tb3VzZS9kZWZhdWx0X2d1dHRlcl9oYW5kbGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL3Rvb2x0aXBcIixcImFjZS9jb25maWdcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGMoZSl7ZnVuY3Rpb24gYSgpe3ZhciBpPXUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnJvdyxzPXQuc2Vzc2lvbi5nZXRMZW5ndGgoKTtpZihpPT1zKXt2YXIgbz10LnJlbmRlcmVyLnBpeGVsVG9TY3JlZW5Db29yZGluYXRlcygwLHUueSkucm93LGE9dS4kcG9zO2lmKG8+dC5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Sb3coYS5yb3csYS5jb2x1bW4pKXJldHVybiBjKCl9ci5zaG93VG9vbHRpcChpKTtpZighci5pc09wZW4pcmV0dXJuO3Qub24oXCJtb3VzZXdoZWVsXCIsYyksdC5vbihcImNoYW5nZVNlc3Npb25cIixjKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixjLCEwKTtpZihlLiR0b29sdGlwRm9sbG93c01vdXNlKXAodSk7ZWxzZXt2YXIgaD11LmdldEd1dHRlclJvdygpLGQ9bi4kbGluZXMuZ2V0KGgpO2lmKGQpe3ZhciB2PWQuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjZV9ndXR0ZXJfYW5ub3RhdGlvblwiKSxtPXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZz1yLmdldEVsZW1lbnQoKS5zdHlsZTtnLmxlZnQ9bS5yaWdodC1mK1wicHhcIixnLnRvcD1tLmJvdHRvbS1sK1wicHhcIn1lbHNlIHAodSl9fWZ1bmN0aW9uIGMoZSl7aWYoZSYmZS50eXBlPT09XCJrZXlkb3duXCImJihlLmN0cmxLZXl8fGUubWV0YUtleSkpcmV0dXJuO2lmKGUmJmUudHlwZT09PVwibW91c2VvdXRcIiYmKCFlLnJlbGF0ZWRUYXJnZXR8fHIuZ2V0RWxlbWVudCgpLmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkpKXJldHVybjtpJiYoaT1jbGVhclRpbWVvdXQoaSkpLHIuaXNPcGVuJiYoci5oaWRlVG9vbHRpcCgpLHQub2ZmKFwibW91c2V3aGVlbFwiLGMpLHQub2ZmKFwiY2hhbmdlU2Vzc2lvblwiLGMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGMsITApKX1mdW5jdGlvbiBwKGUpe3Iuc2V0UG9zaXRpb24oZS54LGUueSl9dmFyIHQ9ZS5lZGl0b3Isbj10LnJlbmRlcmVyLiRndXR0ZXJMYXllcixyPW5ldyBoKHQsITApO2UuZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKFwiZ3V0dGVybW91c2Vkb3duXCIsZnVuY3Rpb24ocil7aWYoIXQuaXNGb2N1c2VkKCl8fHIuZ2V0QnV0dG9uKCkhPTApcmV0dXJuO3ZhciBpPW4uZ2V0UmVnaW9uKHIpO2lmKGk9PVwiZm9sZFdpZGdldHNcIilyZXR1cm47dmFyIHM9ci5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93LG89dC5zZXNzaW9uLnNlbGVjdGlvbjtpZihyLmdldFNoaWZ0S2V5KCkpby5zZWxlY3RUbyhzLDApO2Vsc2V7aWYoci5kb21FdmVudC5kZXRhaWw9PTIpcmV0dXJuIHQuc2VsZWN0QWxsKCksci5wcmV2ZW50RGVmYXVsdCgpO2UuJGNsaWNrU2VsZWN0aW9uPXQuc2VsZWN0aW9uLmdldExpbmVSYW5nZShzKX1yZXR1cm4gZS5zZXRTdGF0ZShcInNlbGVjdEJ5TGluZXNcIiksZS5jYXB0dXJlTW91c2Uociksci5wcmV2ZW50RGVmYXVsdCgpfSk7dmFyIGksdTtlLmVkaXRvci5zZXREZWZhdWx0SGFuZGxlcihcImd1dHRlcm1vdXNlbW92ZVwiLGZ1bmN0aW9uKHQpe3ZhciBuPXQuZG9tRXZlbnQudGFyZ2V0fHx0LmRvbUV2ZW50LnNyY0VsZW1lbnQ7aWYocy5oYXNDc3NDbGFzcyhuLFwiYWNlX2ZvbGQtd2lkZ2V0XCIpfHxzLmhhc0Nzc0NsYXNzKG4sXCJhY2VfY3VzdG9tLXdpZGdldFwiKSlyZXR1cm4gYygpO3IuaXNPcGVuJiZlLiR0b29sdGlwRm9sbG93c01vdXNlJiZwKHQpLHU9dDtpZihpKXJldHVybjtpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpPW51bGwsdSYmIWUuaXNNb3VzZVByZXNzZWQmJmEoKX0sNTApfSksby5hZGRMaXN0ZW5lcih0LnJlbmRlcmVyLiRndXR0ZXIsXCJtb3VzZW91dFwiLGZ1bmN0aW9uKGUpe3U9bnVsbDtpZighci5pc09wZW4pcmV0dXJuO2k9c2V0VGltZW91dChmdW5jdGlvbigpe2k9bnVsbCxjKGUpfSw1MCl9LHQpfXZhciByPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfSxlKHQsbil9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIiYmbiE9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKG4pK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZSh0LG4pLHQucHJvdG90eXBlPW49PT1udWxsP09iamVjdC5jcmVhdGUobik6KHIucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyByKX19KCksaT10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgU3ltYm9sPT1cImZ1bmN0aW9uXCImJlN5bWJvbC5pdGVyYXRvcixuPXQmJmVbdF0scj0wO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihlJiZ0eXBlb2YgZS5sZW5ndGg9PVwibnVtYmVyXCIpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmcj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbcisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfSxzPWUoXCIuLi9saWIvZG9tXCIpLG89ZShcIi4uL2xpYi9ldmVudFwiKSx1PWUoXCIuLi90b29sdGlwXCIpLlRvb2x0aXAsYT1lKFwiLi4vY29uZmlnXCIpLm5scyxmPTUsbD0zO3QuR1VUVEVSX1RPT0xUSVBfTEVGVF9PRkZTRVQ9Zix0LkdVVFRFUl9UT09MVElQX1RPUF9PRkZTRVQ9bCx0Lkd1dHRlckhhbmRsZXI9Yzt2YXIgaD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4scil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBpPWUuY2FsbCh0aGlzLG4uY29udGFpbmVyKXx8dGhpcztpLmlkPVwiZ3RcIisgKyt0LiR1aWQsaS5lZGl0b3I9bixpLnZpc2libGVUb29sdGlwUm93O3ZhciBzPWkuZ2V0RWxlbWVudCgpO3JldHVybiBzLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInRvb2x0aXBcIikscy5zZXRBdHRyaWJ1dGUoXCJpZFwiLGkuaWQpLHMuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIixyJiYoaS5vbk1vdXNlT3V0PWkub25Nb3VzZU91dC5iaW5kKGkpLHMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsaS5vbk1vdXNlT3V0KSksaX1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLm9uTW91c2VPdXQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNPcGVuKXJldHVybjtpZighZS5yZWxhdGVkVGFyZ2V0fHx0aGlzLmdldEVsZW1lbnQoKS5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKXJldHVybjtpZihlJiZlLmN1cnJlbnRUYXJnZXQuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KSlyZXR1cm47dGhpcy5oaWRlVG9vbHRpcCgpfSx0LnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPXdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgscj13aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsaT10aGlzLmdldFdpZHRoKCkscz10aGlzLmdldEhlaWdodCgpO2UrPTE1LHQrPTE1LGUraT5uJiYoZS09ZStpLW4pLHQrcz5yJiYodC09MjArcyksdS5wcm90b3R5cGUuc2V0UG9zaXRpb24uY2FsbCh0aGlzLGUsdCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiYW5ub3RhdGlvbkxhYmVsc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57ZXJyb3I6e3Npbmd1bGFyOmEoXCJndXR0ZXItdG9vbHRpcC5hcmlhLWxhYmVsLmVycm9yLnNpbmd1bGFyXCIsXCJlcnJvclwiKSxwbHVyYWw6YShcImd1dHRlci10b29sdGlwLmFyaWEtbGFiZWwuZXJyb3IucGx1cmFsXCIsXCJlcnJvcnNcIil9LHNlY3VyaXR5OntzaW5ndWxhcjphKFwiZ3V0dGVyLXRvb2x0aXAuYXJpYS1sYWJlbC5zZWN1cml0eS5zaW5ndWxhclwiLFwic2VjdXJpdHkgZmluZGluZ1wiKSxwbHVyYWw6YShcImd1dHRlci10b29sdGlwLmFyaWEtbGFiZWwuc2VjdXJpdHkucGx1cmFsXCIsXCJzZWN1cml0eSBmaW5kaW5nc1wiKX0sd2FybmluZzp7c2luZ3VsYXI6YShcImd1dHRlci10b29sdGlwLmFyaWEtbGFiZWwud2FybmluZy5zaW5ndWxhclwiLFwid2FybmluZ1wiKSxwbHVyYWw6YShcImd1dHRlci10b29sdGlwLmFyaWEtbGFiZWwud2FybmluZy5wbHVyYWxcIixcIndhcm5pbmdzXCIpfSxpbmZvOntzaW5ndWxhcjphKFwiZ3V0dGVyLXRvb2x0aXAuYXJpYS1sYWJlbC5pbmZvLnNpbmd1bGFyXCIsXCJpbmZvcm1hdGlvbiBtZXNzYWdlXCIpLHBsdXJhbDphKFwiZ3V0dGVyLXRvb2x0aXAuYXJpYS1sYWJlbC5pbmZvLnBsdXJhbFwiLFwiaW5mb3JtYXRpb24gbWVzc2FnZXNcIil9LGhpbnQ6e3Npbmd1bGFyOmEoXCJndXR0ZXItdG9vbHRpcC5hcmlhLWxhYmVsLmhpbnQuc2luZ3VsYXJcIixcInN1Z2dlc3Rpb25cIikscGx1cmFsOmEoXCJndXR0ZXItdG9vbHRpcC5hcmlhLWxhYmVsLmhpbnQucGx1cmFsXCIsXCJzdWdnZXN0aW9uc1wiKX19fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnNob3dUb29sdGlwPWZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcy5lZGl0b3IucmVuZGVyZXIuJGd1dHRlckxheWVyLGk9ci4kYW5ub3RhdGlvbnNbZV0sbztpP289e2Rpc3BsYXlUZXh0OkFycmF5LmZyb20oaS5kaXNwbGF5VGV4dCksdHlwZTpBcnJheS5mcm9tKGkudHlwZSl9Om89e2Rpc3BsYXlUZXh0OltdLHR5cGU6W119O3ZhciB1PXIuc2Vzc2lvbi5nZXRGb2xkTGluZShlKTtpZih1JiZyLiRzaG93Rm9sZGVkQW5ub3RhdGlvbnMpe3ZhciBhPXtlcnJvcjpbXSxzZWN1cml0eTpbXSx3YXJuaW5nOltdLGluZm86W10saGludDpbXX0sZj17ZXJyb3I6MSxzZWN1cml0eToyLHdhcm5pbmc6MyxpbmZvOjQsaGludDo1fSxsO2Zvcih2YXIgYz1lKzE7Yzw9dS5lbmQucm93O2MrKyl7aWYoIXIuJGFubm90YXRpb25zW2NdKWNvbnRpbnVlO2Zvcih2YXIgaD0wO2g8ci4kYW5ub3RhdGlvbnNbY10udGV4dC5sZW5ndGg7aCsrKXt2YXIgcD1yLiRhbm5vdGF0aW9uc1tjXS50eXBlW2hdO2FbcF0ucHVzaChyLiRhbm5vdGF0aW9uc1tjXS50ZXh0W2hdKTtpZighbHx8ZltwXTxmW2xdKWw9cH19aWYoW1wiZXJyb3JcIixcInNlY3VyaXR5XCIsXCJ3YXJuaW5nXCJdLmluY2x1ZGVzKGwpKXt2YXIgZD1cIlwiLmNvbmNhdCh0LmFubm90YXRpb25zVG9TdW1tYXJ5U3RyaW5nKGEpLFwiIGluIGZvbGRlZCBjb2RlLlwiKTtvLmRpc3BsYXlUZXh0LnB1c2goZCksby50eXBlLnB1c2gobCtcIl9mb2xkXCIpfX1pZihvLmRpc3BsYXlUZXh0Lmxlbmd0aD09PTApcmV0dXJuIHRoaXMuaGlkZVRvb2x0aXAoKTt2YXIgdj17ZXJyb3I6W10sc2VjdXJpdHk6W10sd2FybmluZzpbXSxpbmZvOltdLGhpbnQ6W119LG09ci4kdXNlU3ZnR3V0dGVySWNvbnM/XCJhY2VfaWNvbl9zdmdcIjpcImFjZV9pY29uXCI7Zm9yKHZhciBjPTA7YzxvLmRpc3BsYXlUZXh0Lmxlbmd0aDtjKyspe3ZhciBnPXMuY3JlYXRlRWxlbWVudChcInNwYW5cIikseT1zLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpOyhuPXkuY2xhc3NMaXN0KS5hZGQuYXBwbHkobixbXCJhY2VfXCIuY29uY2F0KG8udHlwZVtjXSksbV0pLHkuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiXCIuY29uY2F0KHQuYW5ub3RhdGlvbkxhYmVsc1tvLnR5cGVbY10ucmVwbGFjZShcIl9mb2xkXCIsXCJcIildLnNpbmd1bGFyKSkseS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJpbWdcIikseS5hcHBlbmRDaGlsZChzLmNyZWF0ZVRleHROb2RlKFwiIFwiKSksZy5hcHBlbmRDaGlsZCh5KSxnLmFwcGVuZENoaWxkKHMuY3JlYXRlVGV4dE5vZGUoby5kaXNwbGF5VGV4dFtjXSkpLGcuYXBwZW5kQ2hpbGQocy5jcmVhdGVFbGVtZW50KFwiYnJcIikpLHZbby50eXBlW2NdLnJlcGxhY2UoXCJfZm9sZFwiLFwiXCIpXS5wdXNoKGcpfXZhciBiPXRoaXMuZ2V0RWxlbWVudCgpO3MucmVtb3ZlQ2hpbGRyZW4oYiksdi5lcnJvci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBiLmFwcGVuZENoaWxkKGUpfSksdi5zZWN1cml0eS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBiLmFwcGVuZENoaWxkKGUpfSksdi53YXJuaW5nLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGIuYXBwZW5kQ2hpbGQoZSl9KSx2LmluZm8uZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gYi5hcHBlbmRDaGlsZChlKX0pLHYuaGludC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBiLmFwcGVuZENoaWxkKGUpfSksYi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIixcInBvbGl0ZVwiKSx0aGlzLmlzT3Blbnx8KHRoaXMuc2V0VGhlbWUodGhpcy5lZGl0b3IucmVuZGVyZXIudGhlbWUpLHRoaXMuc2V0Q2xhc3NOYW1lKFwiYWNlX2d1dHRlci10b29sdGlwXCIpKTt2YXIgdz10aGlzLiRmaW5kTGlua2VkQW5ub3RhdGlvbk5vZGUoZSk7dyYmdy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsdGhpcy5pZCksdGhpcy5zaG93KCksdGhpcy52aXNpYmxlVG9vbHRpcFJvdz1lLHRoaXMuZWRpdG9yLl9zaWduYWwoXCJzaG93R3V0dGVyVG9vbHRpcFwiLHRoaXMpfSx0LnByb3RvdHlwZS4kZmluZExpbmtlZEFubm90YXRpb25Ob2RlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJGZpbmRDZWxsQnlSb3coZSk7aWYodCl7dmFyIG49dC5lbGVtZW50O2lmKG4uY2hpbGROb2Rlcy5sZW5ndGg+MilyZXR1cm4gbi5jaGlsZE5vZGVzWzJdfX0sdC5wcm90b3R5cGUuJGZpbmRDZWxsQnlSb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlbmRlcmVyLiRndXR0ZXJMYXllci4kbGluZXMuY2VsbHMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5yb3c9PT1lfSl9LHQucHJvdG90eXBlLmhpZGVUb29sdGlwPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNPcGVuKXJldHVybjt0aGlzLiRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiKSx0aGlzLmhpZGUoKTtpZih0aGlzLnZpc2libGVUb29sdGlwUm93IT11bmRlZmluZWQpe3ZhciBlPXRoaXMuJGZpbmRMaW5rZWRBbm5vdGF0aW9uTm9kZSh0aGlzLnZpc2libGVUb29sdGlwUm93KTtlJiZlLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGVzY3JpYmVkYnlcIil9dGhpcy52aXNpYmxlVG9vbHRpcFJvdz11bmRlZmluZWQsdGhpcy5lZGl0b3IuX3NpZ25hbChcImhpZGVHdXR0ZXJUb29sdGlwXCIsdGhpcyl9LHQuYW5ub3RhdGlvbnNUb1N1bW1hcnlTdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIG4scixzPVtdLG89W1wiZXJyb3JcIixcInNlY3VyaXR5XCIsXCJ3YXJuaW5nXCIsXCJpbmZvXCIsXCJoaW50XCJdO3RyeXtmb3IodmFyIHU9aShvKSxhPXUubmV4dCgpOyFhLmRvbmU7YT11Lm5leHQoKSl7dmFyIGY9YS52YWx1ZTtpZighZVtmXS5sZW5ndGgpY29udGludWU7dmFyIGw9ZVtmXS5sZW5ndGg9PT0xP3QuYW5ub3RhdGlvbkxhYmVsc1tmXS5zaW5ndWxhcjp0LmFubm90YXRpb25MYWJlbHNbZl0ucGx1cmFsO3MucHVzaChcIlwiLmNvbmNhdChlW2ZdLmxlbmd0aCxcIiBcIikuY29uY2F0KGwpKX19Y2F0Y2goYyl7bj17ZXJyb3I6Y319ZmluYWxseXt0cnl7YSYmIWEuZG9uZSYmKHI9dS5yZXR1cm4pJiZyLmNhbGwodSl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiBzLmpvaW4oXCIsIFwiKX0sdH0odSk7aC4kdWlkPTAsdC5HdXR0ZXJUb29sdGlwPWh9KSxhY2UuZGVmaW5lKFwiYWNlL21vdXNlL21vdXNlX2V2ZW50XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uL2xpYi9ldmVudFwiKSxpPWUoXCIuLi9saWIvdXNlcmFnZW50XCIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5zcGVlZCx0aGlzLndoZWVsWCx0aGlzLndoZWVsWSx0aGlzLmRvbUV2ZW50PWUsdGhpcy5lZGl0b3I9dCx0aGlzLng9dGhpcy5jbGllbnRYPWUuY2xpZW50WCx0aGlzLnk9dGhpcy5jbGllbnRZPWUuY2xpZW50WSx0aGlzLiRwb3M9bnVsbCx0aGlzLiRpblNlbGVjdGlvbj1udWxsLHRoaXMucHJvcGFnYXRpb25TdG9wcGVkPSExLHRoaXMuZGVmYXVsdFByZXZlbnRlZD0hMX1yZXR1cm4gZS5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7ci5zdG9wUHJvcGFnYXRpb24odGhpcy5kb21FdmVudCksdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGUucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7ci5wcmV2ZW50RGVmYXVsdCh0aGlzLmRvbUV2ZW50KSx0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMucHJldmVudERlZmF1bHQoKX0sZS5wcm90b3R5cGUuZ2V0RG9jdW1lbnRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRwb3M/dGhpcy4kcG9zOih0aGlzLiRwb3M9dGhpcy5lZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXModGhpcy5jbGllbnRYLHRoaXMuY2xpZW50WSksdGhpcy4kcG9zKX0sZS5wcm90b3R5cGUuZ2V0R3V0dGVyUm93PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93LHQ9dGhpcy5lZGl0b3Iuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUm93KGUsMCksbj10aGlzLmVkaXRvci5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Sb3codGhpcy5lZGl0b3IucmVuZGVyZXIuJGd1dHRlckxheWVyLiRsaW5lcy5nZXQoMCkucm93LDApO3JldHVybiB0LW59LGUucHJvdG90eXBlLmluU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy4kaW5TZWxlY3Rpb24hPT1udWxsKXJldHVybiB0aGlzLiRpblNlbGVjdGlvbjt2YXIgZT10aGlzLmVkaXRvcix0PWUuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtpZih0LmlzRW1wdHkoKSl0aGlzLiRpblNlbGVjdGlvbj0hMTtlbHNle3ZhciBuPXRoaXMuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO3RoaXMuJGluU2VsZWN0aW9uPXQuY29udGFpbnMobi5yb3csbi5jb2x1bW4pfXJldHVybiB0aGlzLiRpblNlbGVjdGlvbn0sZS5wcm90b3R5cGUuZ2V0QnV0dG9uPWZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2V0QnV0dG9uKHRoaXMuZG9tRXZlbnQpfSxlLnByb3RvdHlwZS5nZXRTaGlmdEtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbUV2ZW50LnNoaWZ0S2V5fSxlLnByb3RvdHlwZS5nZXRBY2NlbEtleT1mdW5jdGlvbigpe3JldHVybiBpLmlzTWFjP3RoaXMuZG9tRXZlbnQubWV0YUtleTp0aGlzLmRvbUV2ZW50LmN0cmxLZXl9LGV9KCk7dC5Nb3VzZUV2ZW50PXN9KSxhY2UuZGVmaW5lKFwiYWNlL21vdXNlL2RyYWdkcm9wX2hhbmRsZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZihlKXtmdW5jdGlvbiBUKGUsbil7dmFyIHI9RGF0ZS5ub3coKSxpPSFufHxlLnJvdyE9bi5yb3cscz0hbnx8ZS5jb2x1bW4hPW4uY29sdW1uO2lmKCFTfHxpfHxzKXQubW92ZUN1cnNvclRvUG9zaXRpb24oZSksUz1yLHg9e3g6cCx5OmR9O2Vsc2V7dmFyIG89bCh4LngseC55LHAsZCk7bz5hP1M9bnVsbDpyLVM+PXUmJih0LnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCksUz1udWxsKX19ZnVuY3Rpb24gTihlLG4pe3ZhciByPURhdGUubm93KCksaT10LnJlbmRlcmVyLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQscz10LnJlbmRlcmVyLmxheWVyQ29uZmlnLmNoYXJhY3RlcldpZHRoLHU9dC5yZW5kZXJlci5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPXt4OntsZWZ0OnAtdS5sZWZ0LHJpZ2h0OnUucmlnaHQtcH0seTp7dG9wOmQtdS50b3AsYm90dG9tOnUuYm90dG9tLWR9fSxmPU1hdGgubWluKGEueC5sZWZ0LGEueC5yaWdodCksbD1NYXRoLm1pbihhLnkudG9wLGEueS5ib3R0b20pLGM9e3JvdzplLnJvdyxjb2x1bW46ZS5jb2x1bW59O2Yvczw9MiYmKGMuY29sdW1uKz1hLngubGVmdDxhLngucmlnaHQ/LTM6MiksbC9pPD0xJiYoYy5yb3crPWEueS50b3A8YS55LmJvdHRvbT8tMToxKTt2YXIgaD1lLnJvdyE9Yy5yb3csdj1lLmNvbHVtbiE9Yy5jb2x1bW4sbT0hbnx8ZS5yb3chPW4ucm93O2h8fHYmJiFtP0U/ci1FPj1vJiZ0LnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KGMpOkU9cjpFPW51bGx9ZnVuY3Rpb24gQygpe3ZhciBlPWc7Zz10LnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKHAsZCksVChnLGUpLE4oZyxlKX1mdW5jdGlvbiBrKCl7bT10LnNlbGVjdGlvbi50b09yaWVudGVkUmFuZ2UoKSxoPXQuc2Vzc2lvbi5hZGRNYXJrZXIobSxcImFjZV9zZWxlY3Rpb25cIix0LmdldFNlbGVjdGlvblN0eWxlKCkpLHQuY2xlYXJTZWxlY3Rpb24oKSx0LmlzRm9jdXNlZCgpJiZ0LnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghMSksY2xlYXJJbnRlcnZhbCh2KSxDKCksdj1zZXRJbnRlcnZhbChDLDIwKSx5PTAsaS5hZGRMaXN0ZW5lcihkb2N1bWVudCxcIm1vdXNlbW92ZVwiLE8pfWZ1bmN0aW9uIEwoKXtjbGVhckludGVydmFsKHYpLHQuc2Vzc2lvbi5yZW1vdmVNYXJrZXIoaCksaD1udWxsLHQuc2VsZWN0aW9uLmZyb21PcmllbnRlZFJhbmdlKG0pLHQuaXNGb2N1c2VkKCkmJiF3JiZ0LiRyZXNldEN1cnNvclN0eWxlKCksbT1udWxsLGc9bnVsbCx5PTAsRT1udWxsLFM9bnVsbCxpLnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsTyl9ZnVuY3Rpb24gTygpe0E9PW51bGwmJihBPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtBIT1udWxsJiZoJiZMKCl9LDIwKSl9ZnVuY3Rpb24gTShlKXt2YXIgdD1lLnR5cGVzO3JldHVybiF0fHxBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKHQsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PVwidGV4dC9wbGFpblwifHxlPT1cIlRleHRcIn0pfWZ1bmN0aW9uIF8oZSl7dmFyIHQ9W1wiY29weVwiLFwiY29weW1vdmVcIixcImFsbFwiLFwidW5pbml0aWFsaXplZFwiXSxuPVtcIm1vdmVcIixcImNvcHltb3ZlXCIsXCJsaW5rbW92ZVwiLFwiYWxsXCIsXCJ1bmluaXRpYWxpemVkXCJdLHI9cy5pc01hYz9lLmFsdEtleTplLmN0cmxLZXksaT1cInVuaW5pdGlhbGl6ZWRcIjt0cnl7aT1lLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkLnRvTG93ZXJDYXNlKCl9Y2F0Y2goZSl7fXZhciBvPVwibm9uZVwiO3JldHVybiByJiZ0LmluZGV4T2YoaSk+PTA/bz1cImNvcHlcIjpuLmluZGV4T2YoaSk+PTA/bz1cIm1vdmVcIjp0LmluZGV4T2YoaSk+PTAmJihvPVwiY29weVwiKSxvfXZhciB0PWUuZWRpdG9yLG49ci5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uc3R5bGUuY3NzVGV4dD1cInRvcDotMTAwcHg7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyMTQ3NDgzNjQ3O29wYWNpdHk6MC41XCIsbi50ZXh0Q29udGVudD1cIlxcdTAwYTBcIjt2YXIgZj1bXCJkcmFnV2FpdFwiLFwiZHJhZ1dhaXRFbmRcIixcInN0YXJ0RHJhZ1wiLFwiZHJhZ1JlYWR5RW5kXCIsXCJvbk1vdXNlRHJhZ1wiXTtmLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT10aGlzW3RdfSx0aGlzKSx0Lm9uKFwibW91c2Vkb3duXCIsdGhpcy5vbk1vdXNlRG93bi5iaW5kKGUpKTt2YXIgYz10LmNvbnRhaW5lcixoLHAsZCx2LG0sZyx5PTAsYix3LEUsUyx4O3RoaXMub25EcmFnU3RhcnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5jYW5jZWxEcmFnfHwhYy5kcmFnZ2FibGUpe3ZhciByPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLnN0YXJ0U2VsZWN0KCksci5jYXB0dXJlTW91c2UoZSl9LDApLGUucHJldmVudERlZmF1bHQoKX1tPXQuZ2V0U2VsZWN0aW9uUmFuZ2UoKTt2YXIgaT1lLmRhdGFUcmFuc2ZlcjtpLmVmZmVjdEFsbG93ZWQ9dC5nZXRSZWFkT25seSgpP1wiY29weVwiOlwiY29weU1vdmVcIix0LmNvbnRhaW5lci5hcHBlbmRDaGlsZChuKSxpLnNldERyYWdJbWFnZSYmaS5zZXREcmFnSW1hZ2UobiwwLDApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmNvbnRhaW5lci5yZW1vdmVDaGlsZChuKX0pLGkuY2xlYXJEYXRhKCksaS5zZXREYXRhKFwiVGV4dFwiLHQuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UoKSksdz0hMCx0aGlzLnNldFN0YXRlKFwiZHJhZ1wiKX0sdGhpcy5vbkRyYWdFbmQ9ZnVuY3Rpb24oZSl7Yy5kcmFnZ2FibGU9ITEsdz0hMSx0aGlzLnNldFN0YXRlKG51bGwpO2lmKCF0LmdldFJlYWRPbmx5KCkpe3ZhciBuPWUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q7IWImJm49PVwibW92ZVwiJiZ0LnNlc3Npb24ucmVtb3ZlKHQuZ2V0U2VsZWN0aW9uUmFuZ2UoKSksdC4kcmVzZXRDdXJzb3JTdHlsZSgpfXRoaXMuZWRpdG9yLnVuc2V0U3R5bGUoXCJhY2VfZHJhZ2dpbmdcIiksdGhpcy5lZGl0b3IucmVuZGVyZXIuc2V0Q3Vyc29yU3R5bGUoXCJcIil9LHRoaXMub25EcmFnRW50ZXI9ZnVuY3Rpb24oZSl7aWYodC5nZXRSZWFkT25seSgpfHwhTShlLmRhdGFUcmFuc2ZlcikpcmV0dXJuO3JldHVybiBwPWUuY2xpZW50WCxkPWUuY2xpZW50WSxofHxrKCkseSsrLGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9Yj1fKGUpLGkucHJldmVudERlZmF1bHQoZSl9LHRoaXMub25EcmFnT3Zlcj1mdW5jdGlvbihlKXtpZih0LmdldFJlYWRPbmx5KCl8fCFNKGUuZGF0YVRyYW5zZmVyKSlyZXR1cm47cmV0dXJuIHA9ZS5jbGllbnRYLGQ9ZS5jbGllbnRZLGh8fChrKCkseSsrKSxBIT09bnVsbCYmKEE9bnVsbCksZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1iPV8oZSksaS5wcmV2ZW50RGVmYXVsdChlKX0sdGhpcy5vbkRyYWdMZWF2ZT1mdW5jdGlvbihlKXt5LS07aWYoeTw9MCYmaClyZXR1cm4gTCgpLGI9bnVsbCxpLnByZXZlbnREZWZhdWx0KGUpfSx0aGlzLm9uRHJvcD1mdW5jdGlvbihlKXtpZighZylyZXR1cm47dmFyIG49ZS5kYXRhVHJhbnNmZXI7aWYodylzd2l0Y2goYil7Y2FzZVwibW92ZVwiOm0uY29udGFpbnMoZy5yb3csZy5jb2x1bW4pP209e3N0YXJ0OmcsZW5kOmd9Om09dC5tb3ZlVGV4dChtLGcpO2JyZWFrO2Nhc2VcImNvcHlcIjptPXQubW92ZVRleHQobSxnLCEwKX1lbHNle3ZhciByPW4uZ2V0RGF0YShcIlRleHRcIik7bT17c3RhcnQ6ZyxlbmQ6dC5zZXNzaW9uLmluc2VydChnLHIpfSx0LmZvY3VzKCksYj1udWxsfXJldHVybiBMKCksaS5wcmV2ZW50RGVmYXVsdChlKX0saS5hZGRMaXN0ZW5lcihjLFwiZHJhZ3N0YXJ0XCIsdGhpcy5vbkRyYWdTdGFydC5iaW5kKGUpLHQpLGkuYWRkTGlzdGVuZXIoYyxcImRyYWdlbmRcIix0aGlzLm9uRHJhZ0VuZC5iaW5kKGUpLHQpLGkuYWRkTGlzdGVuZXIoYyxcImRyYWdlbnRlclwiLHRoaXMub25EcmFnRW50ZXIuYmluZChlKSx0KSxpLmFkZExpc3RlbmVyKGMsXCJkcmFnb3ZlclwiLHRoaXMub25EcmFnT3Zlci5iaW5kKGUpLHQpLGkuYWRkTGlzdGVuZXIoYyxcImRyYWdsZWF2ZVwiLHRoaXMub25EcmFnTGVhdmUuYmluZChlKSx0KSxpLmFkZExpc3RlbmVyKGMsXCJkcm9wXCIsdGhpcy5vbkRyb3AuYmluZChlKSx0KTt2YXIgQT1udWxsfWZ1bmN0aW9uIGwoZSx0LG4scil7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhuLWUsMikrTWF0aC5wb3coci10LDIpKX12YXIgcj1lKFwiLi4vbGliL2RvbVwiKSxpPWUoXCIuLi9saWIvZXZlbnRcIikscz1lKFwiLi4vbGliL3VzZXJhZ2VudFwiKSxvPTIwMCx1PTIwMCxhPTU7KGZ1bmN0aW9uKCl7dGhpcy5kcmFnV2FpdD1mdW5jdGlvbigpe3ZhciBlPURhdGUubm93KCktdGhpcy5tb3VzZWRvd25FdmVudC50aW1lO2U+dGhpcy5lZGl0b3IuZ2V0RHJhZ0RlbGF5KCkmJnRoaXMuc3RhcnREcmFnKCl9LHRoaXMuZHJhZ1dhaXRFbmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVkaXRvci5jb250YWluZXI7ZS5kcmFnZ2FibGU9ITEsdGhpcy5zdGFydFNlbGVjdCh0aGlzLm1vdXNlZG93bkV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKSksdGhpcy5zZWxlY3RFbmQoKX0sdGhpcy5kcmFnUmVhZHlFbmQ9ZnVuY3Rpb24oZSl7dGhpcy5lZGl0b3IuJHJlc2V0Q3Vyc29yU3R5bGUoKSx0aGlzLmVkaXRvci51bnNldFN0eWxlKFwiYWNlX2RyYWdnaW5nXCIpLHRoaXMuZWRpdG9yLnJlbmRlcmVyLnNldEN1cnNvclN0eWxlKFwiXCIpLHRoaXMuZHJhZ1dhaXRFbmQoKX0sdGhpcy5zdGFydERyYWc9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbERyYWc9ITE7dmFyIGU9dGhpcy5lZGl0b3IsdD1lLmNvbnRhaW5lcjt0LmRyYWdnYWJsZT0hMCxlLnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghMSksZS5zZXRTdHlsZShcImFjZV9kcmFnZ2luZ1wiKTt2YXIgbj1zLmlzV2luP1wiZGVmYXVsdFwiOlwibW92ZVwiO2UucmVuZGVyZXIuc2V0Q3Vyc29yU3R5bGUobiksdGhpcy5zZXRTdGF0ZShcImRyYWdSZWFkeVwiKX0sdGhpcy5vbk1vdXNlRHJhZz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVkaXRvci5jb250YWluZXI7aWYocy5pc0lFJiZ0aGlzLnN0YXRlPT1cImRyYWdSZWFkeVwiKXt2YXIgbj1sKHRoaXMubW91c2Vkb3duRXZlbnQueCx0aGlzLm1vdXNlZG93bkV2ZW50LnksdGhpcy54LHRoaXMueSk7bj4zJiZ0LmRyYWdEcm9wKCl9aWYodGhpcy5zdGF0ZT09PVwiZHJhZ1dhaXRcIil7dmFyIG49bCh0aGlzLm1vdXNlZG93bkV2ZW50LngsdGhpcy5tb3VzZWRvd25FdmVudC55LHRoaXMueCx0aGlzLnkpO24+MCYmKHQuZHJhZ2dhYmxlPSExLHRoaXMuc3RhcnRTZWxlY3QodGhpcy5tb3VzZWRvd25FdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkpKX19LHRoaXMub25Nb3VzZURvd249ZnVuY3Rpb24oZSl7aWYoIXRoaXMuJGRyYWdFbmFibGVkKXJldHVybjt0aGlzLm1vdXNlZG93bkV2ZW50PWU7dmFyIHQ9dGhpcy5lZGl0b3Isbj1lLmluU2VsZWN0aW9uKCkscj1lLmdldEJ1dHRvbigpLGk9ZS5kb21FdmVudC5kZXRhaWx8fDE7aWYoaT09PTEmJnI9PT0wJiZuKXtpZihlLmVkaXRvci5pbk11bHRpU2VsZWN0TW9kZSYmKGUuZ2V0QWNjZWxLZXkoKXx8ZS5nZXRTaGlmdEtleSgpKSlyZXR1cm47dGhpcy5tb3VzZWRvd25FdmVudC50aW1lPURhdGUubm93KCk7dmFyIG89ZS5kb21FdmVudC50YXJnZXR8fGUuZG9tRXZlbnQuc3JjRWxlbWVudDtcInVuc2VsZWN0YWJsZVwiaW4gbyYmKG8udW5zZWxlY3RhYmxlPVwib25cIik7aWYodC5nZXREcmFnRGVsYXkoKSl7aWYocy5pc1dlYktpdCl7dGhpcy5jYW5jZWxEcmFnPSEwO3ZhciB1PXQuY29udGFpbmVyO3UuZHJhZ2dhYmxlPSEwfXRoaXMuc2V0U3RhdGUoXCJkcmFnV2FpdFwiKX1lbHNlIHRoaXMuc3RhcnREcmFnKCk7dGhpcy5jYXB0dXJlTW91c2UoZSx0aGlzLm9uTW91c2VEcmFnLmJpbmQodGhpcykpLGUuZGVmYXVsdFByZXZlbnRlZD0hMH19fSkuY2FsbChmLnByb3RvdHlwZSksdC5EcmFnZHJvcEhhbmRsZXI9Zn0pLGFjZS5kZWZpbmUoXCJhY2UvbW91c2UvdG91Y2hfaGFuZGxlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL21vdXNlL21vdXNlX2V2ZW50XCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL2RvbVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4vbW91c2VfZXZlbnRcIikuTW91c2VFdmVudCxpPWUoXCIuLi9saWIvZXZlbnRcIikscz1lKFwiLi4vbGliL2RvbVwiKTt0LmFkZFRvdWNoTGlzdGVuZXJzPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gYigpe3ZhciBlPXdpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IuY2xpcGJvYXJkLHI9ITEsaT1mdW5jdGlvbigpe3ZhciBuPXQuZ2V0Q29weVRleHQoKSxpPXQuc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLmhhc1VuZG8oKTt5LnJlcGxhY2VDaGlsZChzLmJ1aWxkRG9tKHI/W1wic3BhblwiLCFuJiZvKFwic2VsZWN0YWxsXCIpJiZbXCJzcGFuXCIse1wiY2xhc3NcIjpcImFjZV9tb2JpbGUtYnV0dG9uXCIsYWN0aW9uOlwic2VsZWN0YWxsXCJ9LFwiU2VsZWN0IEFsbFwiXSxuJiZvKFwiY29weVwiKSYmW1wic3BhblwiLHtcImNsYXNzXCI6XCJhY2VfbW9iaWxlLWJ1dHRvblwiLGFjdGlvbjpcImNvcHlcIn0sXCJDb3B5XCJdLG4mJm8oXCJjdXRcIikmJltcInNwYW5cIix7XCJjbGFzc1wiOlwiYWNlX21vYmlsZS1idXR0b25cIixhY3Rpb246XCJjdXRcIn0sXCJDdXRcIl0sZSYmbyhcInBhc3RlXCIpJiZbXCJzcGFuXCIse1wiY2xhc3NcIjpcImFjZV9tb2JpbGUtYnV0dG9uXCIsYWN0aW9uOlwicGFzdGVcIn0sXCJQYXN0ZVwiXSxpJiZvKFwidW5kb1wiKSYmW1wic3BhblwiLHtcImNsYXNzXCI6XCJhY2VfbW9iaWxlLWJ1dHRvblwiLGFjdGlvbjpcInVuZG9cIn0sXCJVbmRvXCJdLG8oXCJmaW5kXCIpJiZbXCJzcGFuXCIse1wiY2xhc3NcIjpcImFjZV9tb2JpbGUtYnV0dG9uXCIsYWN0aW9uOlwiZmluZFwifSxcIkZpbmRcIl0sbyhcIm9wZW5Db21tYW5kUGFsZXR0ZVwiKSYmW1wic3BhblwiLHtcImNsYXNzXCI6XCJhY2VfbW9iaWxlLWJ1dHRvblwiLGFjdGlvbjpcIm9wZW5Db21tYW5kUGFsZXR0ZVwifSxcIlBhbGV0dGVcIl1dOltcInNwYW5cIl0pLHkuZmlyc3RDaGlsZCl9LG89ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29tbWFuZHMuY2FuRXhlY3V0ZShlLHQpfSx1PWZ1bmN0aW9uKG4pe3ZhciBzPW4udGFyZ2V0LmdldEF0dHJpYnV0ZShcImFjdGlvblwiKTtpZihzPT1cIm1vcmVcInx8IXIpcmV0dXJuIHI9IXIsaSgpO2lmKHM9PVwicGFzdGVcIillLnJlYWRUZXh0KCkudGhlbihmdW5jdGlvbihlKXt0LmV4ZWNDb21tYW5kKHMsZSl9KTtlbHNlIGlmKHMpe2lmKHM9PVwiY3V0XCJ8fHM9PVwiY29weVwiKWU/ZS53cml0ZVRleHQodC5nZXRDb3B5VGV4dCgpKTpkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIik7dC5leGVjQ29tbWFuZChzKX15LmZpcnN0Q2hpbGQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixyPSExLHMhPVwib3BlbkNvbW1hbmRQYWxldHRlXCImJnQuZm9jdXMoKX07eT1zLmJ1aWxkRG9tKFtcImRpdlwiLHtcImNsYXNzXCI6XCJhY2VfbW9iaWxlLW1lbnVcIixvbnRvdWNoc3RhcnQ6ZnVuY3Rpb24oZSl7bj1cIm1lbnVcIixlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSx0LnRleHRJbnB1dC5mb2N1cygpfSxvbnRvdWNoZW5kOmZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLHUoZSl9LG9uY2xpY2s6dX0sW1wic3BhblwiXSxbXCJzcGFuXCIse1wiY2xhc3NcIjpcImFjZV9tb2JpbGUtYnV0dG9uXCIsYWN0aW9uOlwibW9yZVwifSxcIi4uLlwiXV0sdC5jb250YWluZXIpfWZ1bmN0aW9uIHcoKXtpZighdC5nZXRPcHRpb24oXCJlbmFibGVNb2JpbGVNZW51XCIpKXt5JiZFKCk7cmV0dXJufXl8fGIoKTt2YXIgZT10LnNlbGVjdGlvbi5jdXJzb3Isbj10LnJlbmRlcmVyLnRleHRUb1NjcmVlbkNvb3JkaW5hdGVzKGUucm93LGUuY29sdW1uKSxyPXQucmVuZGVyZXIudGV4dFRvU2NyZWVuQ29vcmRpbmF0ZXMoMCwwKS5wYWdlWCxpPXQucmVuZGVyZXIuc2Nyb2xsTGVmdCxzPXQuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3kuc3R5bGUudG9wPW4ucGFnZVktcy50b3AtMytcInB4XCIsbi5wYWdlWC1zLmxlZnQ8cy53aWR0aC03MD8oeS5zdHlsZS5sZWZ0PVwiXCIseS5zdHlsZS5yaWdodD1cIjEwcHhcIik6KHkuc3R5bGUucmlnaHQ9XCJcIix5LnN0eWxlLmxlZnQ9citpLXMubGVmdCtcInB4XCIpLHkuc3R5bGUuZGlzcGxheT1cIlwiLHkuZmlyc3RDaGlsZC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHQub24oXCJpbnB1dFwiLEUpfWZ1bmN0aW9uIEUoZSl7eSYmKHkuc3R5bGUuZGlzcGxheT1cIm5vbmVcIiksdC5vZmYoXCJpbnB1dFwiLEUpfWZ1bmN0aW9uIFMoKXtsPW51bGwsY2xlYXJUaW1lb3V0KGwpO3ZhciBlPXQuc2VsZWN0aW9uLmdldFJhbmdlKCkscj1lLmNvbnRhaW5zKHAucm93LHAuY29sdW1uKTtpZihlLmlzRW1wdHkoKXx8IXIpdC5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24ocCksdC5zZWxlY3Rpb24uc2VsZWN0V29yZCgpO249XCJ3YWl0XCIsdygpfWZ1bmN0aW9uIHgoKXtsPW51bGwsY2xlYXJUaW1lb3V0KGwpLHQuc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKHApO3ZhciBlPWQ+PTI/dC5zZWxlY3Rpb24uZ2V0TGluZVJhbmdlKHAucm93KTp0LnNlc3Npb24uZ2V0QnJhY2tldFJhbmdlKHApO2UmJiFlLmlzRW1wdHkoKT90LnNlbGVjdGlvbi5zZXRSYW5nZShlKTp0LnNlbGVjdGlvbi5zZWxlY3RXb3JkKCksbj1cIndhaXRcIn1mdW5jdGlvbiBUKCl7aCs9NjAsYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2gtLTw9MCYmKGNsZWFySW50ZXJ2YWwoYyksYz1udWxsKSxNYXRoLmFicyh2KTwuMDEmJih2PTApLE1hdGguYWJzKG0pPC4wMSYmKG09MCksaDwyMCYmKHY9LjkqdiksaDwyMCYmKG09LjkqbSk7dmFyIGU9dC5zZXNzaW9uLmdldFNjcm9sbFRvcCgpO3QucmVuZGVyZXIuc2Nyb2xsQnkoMTAqdiwxMCptKSxlPT10LnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCkmJihoPTApfSwxMCl9dmFyIG49XCJzY3JvbGxcIixvLHUsYSxmLGwsYyxoPTAscCxkPTAsdj0wLG09MCxnLHk7aS5hZGRMaXN0ZW5lcihlLFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihlKXtpZighZylyZXR1cm47dmFyIG49dC50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpO24uZm9jdXMoKX0sdCksaS5hZGRMaXN0ZW5lcihlLFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGUpe3ZhciBpPWUudG91Y2hlcztpZihsfHxpLmxlbmd0aD4xKXtjbGVhclRpbWVvdXQobCksbD1udWxsLGE9LTEsbj1cInpvb21cIjtyZXR1cm59Zz10LiRtb3VzZUhhbmRsZXIuaXNNb3VzZVByZXNzZWQ9ITA7dmFyIHM9dC5yZW5kZXJlci5sYXllckNvbmZpZy5saW5lSGVpZ2h0LGM9dC5yZW5kZXJlci5sYXllckNvbmZpZy5saW5lSGVpZ2h0LHk9ZS50aW1lU3RhbXA7Zj15O3ZhciBiPWlbMF0sdz1iLmNsaWVudFgsRT1iLmNsaWVudFk7TWF0aC5hYnMoby13KStNYXRoLmFicyh1LUUpPnMmJihhPS0xKSxvPWUuY2xpZW50WD13LHU9ZS5jbGllbnRZPUUsdj1tPTA7dmFyIFQ9bmV3IHIoZSx0KTtwPVQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO2lmKHktYTw1MDAmJmkubGVuZ3RoPT0xJiYhaClkKyssZS5wcmV2ZW50RGVmYXVsdCgpLGUuYnV0dG9uPTAseCgpO2Vsc2V7ZD0wO3ZhciBOPXQuc2VsZWN0aW9uLmN1cnNvcixDPXQuc2VsZWN0aW9uLmlzRW1wdHkoKT9OOnQuc2VsZWN0aW9uLmFuY2hvcixrPXQucmVuZGVyZXIuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oTiwhMCksTD10LnJlbmRlcmVyLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKEMsITApLEE9dC5yZW5kZXJlci5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxPPXQucmVuZGVyZXIubGF5ZXJDb25maWcub2Zmc2V0LE09dC5yZW5kZXJlci5zY3JvbGxMZWZ0LF89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS89Yyx0PXQvcy0uNzUsZSplK3QqdH07aWYoZS5jbGllbnRYPEEubGVmdCl7bj1cInpvb21cIjtyZXR1cm59dmFyIEQ9XyhlLmNsaWVudFgtQS5sZWZ0LWsubGVmdCtNLGUuY2xpZW50WS1BLnRvcC1rLnRvcCtPKSxQPV8oZS5jbGllbnRYLUEubGVmdC1MLmxlZnQrTSxlLmNsaWVudFktQS50b3AtTC50b3ArTyk7RDwzLjUmJlA8My41JiYobj1EPlA/XCJjdXJzb3JcIjpcImFuY2hvclwiKSxQPDMuNT9uPVwiYW5jaG9yXCI6RDwzLjU/bj1cImN1cnNvclwiOm49XCJzY3JvbGxcIixsPXNldFRpbWVvdXQoUyw0NTApfWE9eX0sdCksaS5hZGRMaXN0ZW5lcihlLFwidG91Y2hlbmRcIixmdW5jdGlvbihlKXtnPXQuJG1vdXNlSGFuZGxlci5pc01vdXNlUHJlc3NlZD0hMSxjJiZjbGVhckludGVydmFsKGMpLG49PVwiem9vbVwiPyhuPVwiXCIsaD0wKTpsPyh0LnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihwKSxoPTAsdygpKTpuPT1cInNjcm9sbFwiPyhUKCksRSgpKTp3KCksY2xlYXJUaW1lb3V0KGwpLGw9bnVsbH0sdCksaS5hZGRMaXN0ZW5lcihlLFwidG91Y2htb3ZlXCIsZnVuY3Rpb24oZSl7bCYmKGNsZWFyVGltZW91dChsKSxsPW51bGwpO3ZhciBpPWUudG91Y2hlcztpZihpLmxlbmd0aD4xfHxuPT1cInpvb21cIilyZXR1cm47dmFyIHM9aVswXSxhPW8tcy5jbGllbnRYLGM9dS1zLmNsaWVudFk7aWYobj09XCJ3YWl0XCIpe2lmKCEoYSphK2MqYz40KSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO249XCJjdXJzb3JcIn1vPXMuY2xpZW50WCx1PXMuY2xpZW50WSxlLmNsaWVudFg9cy5jbGllbnRYLGUuY2xpZW50WT1zLmNsaWVudFk7dmFyIGg9ZS50aW1lU3RhbXAscD1oLWY7Zj1oO2lmKG49PVwic2Nyb2xsXCIpe3ZhciBkPW5ldyByKGUsdCk7ZC5zcGVlZD0xLGQud2hlZWxYPWEsZC53aGVlbFk9YywxMCpNYXRoLmFicyhhKTxNYXRoLmFicyhjKSYmKGE9MCksMTAqTWF0aC5hYnMoYyk8TWF0aC5hYnMoYSkmJihjPTApLHAhPTAmJih2PWEvcCxtPWMvcCksdC5fZW1pdChcIm1vdXNld2hlZWxcIixkKSxkLnByb3BhZ2F0aW9uU3RvcHBlZHx8KHY9bT0wKX1lbHNle3ZhciBnPW5ldyByKGUsdCkseT1nLmdldERvY3VtZW50UG9zaXRpb24oKTtuPT1cImN1cnNvclwiP3Quc2VsZWN0aW9uLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHkpOm49PVwiYW5jaG9yXCImJnQuc2VsZWN0aW9uLnNldFNlbGVjdGlvbkFuY2hvcih5LnJvdyx5LmNvbHVtbiksdC5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyh5KSxlLnByZXZlbnREZWZhdWx0KCl9fSx0KX19KSxhY2UuZGVmaW5lKFwiYWNlL21vdXNlL21vdXNlX2hhbmRsZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9saWIvdXNlcmFnZW50XCIsXCJhY2UvbW91c2UvZGVmYXVsdF9oYW5kbGVyc1wiLFwiYWNlL21vdXNlL2RlZmF1bHRfZ3V0dGVyX2hhbmRsZXJcIixcImFjZS9tb3VzZS9tb3VzZV9ldmVudFwiLFwiYWNlL21vdXNlL2RyYWdkcm9wX2hhbmRsZXJcIixcImFjZS9tb3VzZS90b3VjaF9oYW5kbGVyXCIsXCJhY2UvY29uZmlnXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi4vbGliL2V2ZW50XCIpLGk9ZShcIi4uL2xpYi91c2VyYWdlbnRcIikscz1lKFwiLi9kZWZhdWx0X2hhbmRsZXJzXCIpLkRlZmF1bHRIYW5kbGVycyxvPWUoXCIuL2RlZmF1bHRfZ3V0dGVyX2hhbmRsZXJcIikuR3V0dGVySGFuZGxlcix1PWUoXCIuL21vdXNlX2V2ZW50XCIpLk1vdXNlRXZlbnQsYT1lKFwiLi9kcmFnZHJvcF9oYW5kbGVyXCIpLkRyYWdkcm9wSGFuZGxlcixmPWUoXCIuL3RvdWNoX2hhbmRsZXJcIikuYWRkVG91Y2hMaXN0ZW5lcnMsbD1lKFwiLi4vY29uZmlnXCIpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuJGRyYWdEZWxheSx0aGlzLiRkcmFnRW5hYmxlZCx0aGlzLiRtb3VzZU1vdmVkLHRoaXMubW91c2VFdmVudCx0aGlzLiRmb2N1c1RpbWVvdXQ7dmFyIHQ9dGhpczt0aGlzLmVkaXRvcj1lLG5ldyBzKHRoaXMpLG5ldyBvKHRoaXMpLG5ldyBhKHRoaXMpO3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBuPSFkb2N1bWVudC5oYXNGb2N1c3x8IWRvY3VtZW50Lmhhc0ZvY3VzKCl8fCFlLmlzRm9jdXNlZCgpJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50PT0oZS50ZXh0SW5wdXQmJmUudGV4dElucHV0LmdldEVsZW1lbnQoKSk7biYmd2luZG93LmZvY3VzKCksZS5mb2N1cygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmlzRm9jdXNlZCgpfHxlLmZvY3VzKCl9KX0sdT1lLnJlbmRlcmVyLmdldE1vdXNlRXZlbnRUYXJnZXQoKTtyLmFkZExpc3RlbmVyKHUsXCJjbGlja1wiLHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcyxcImNsaWNrXCIpLGUpLHIuYWRkTGlzdGVuZXIodSxcIm1vdXNlbW92ZVwiLHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzLFwibW91c2Vtb3ZlXCIpLGUpLHIuYWRkTXVsdGlNb3VzZURvd25MaXN0ZW5lcihbdSxlLnJlbmRlcmVyLnNjcm9sbEJhclYmJmUucmVuZGVyZXIuc2Nyb2xsQmFyVi5pbm5lcixlLnJlbmRlcmVyLnNjcm9sbEJhckgmJmUucmVuZGVyZXIuc2Nyb2xsQmFySC5pbm5lcixlLnRleHRJbnB1dCYmZS50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpXS5maWx0ZXIoQm9vbGVhbiksWzQwMCwzMDAsMjUwXSx0aGlzLFwib25Nb3VzZUV2ZW50XCIsZSksci5hZGRNb3VzZVdoZWVsTGlzdGVuZXIoZS5jb250YWluZXIsdGhpcy5vbk1vdXNlV2hlZWwuYmluZCh0aGlzLFwibW91c2V3aGVlbFwiKSxlKSxmKGUuY29udGFpbmVyLGUpO3ZhciBsPWUucmVuZGVyZXIuJGd1dHRlcjtyLmFkZExpc3RlbmVyKGwsXCJtb3VzZWRvd25cIix0aGlzLm9uTW91c2VFdmVudC5iaW5kKHRoaXMsXCJndXR0ZXJtb3VzZWRvd25cIiksZSksci5hZGRMaXN0ZW5lcihsLFwiY2xpY2tcIix0aGlzLm9uTW91c2VFdmVudC5iaW5kKHRoaXMsXCJndXR0ZXJjbGlja1wiKSxlKSxyLmFkZExpc3RlbmVyKGwsXCJkYmxjbGlja1wiLHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcyxcImd1dHRlcmRibGNsaWNrXCIpLGUpLHIuYWRkTGlzdGVuZXIobCxcIm1vdXNlbW92ZVwiLHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcyxcImd1dHRlcm1vdXNlbW92ZVwiKSxlKSxyLmFkZExpc3RlbmVyKHUsXCJtb3VzZWRvd25cIixuLGUpLHIuYWRkTGlzdGVuZXIobCxcIm1vdXNlZG93blwiLG4sZSksaS5pc0lFJiZlLnJlbmRlcmVyLnNjcm9sbEJhclYmJihyLmFkZExpc3RlbmVyKGUucmVuZGVyZXIuc2Nyb2xsQmFyVi5lbGVtZW50LFwibW91c2Vkb3duXCIsbixlKSxyLmFkZExpc3RlbmVyKGUucmVuZGVyZXIuc2Nyb2xsQmFySC5lbGVtZW50LFwibW91c2Vkb3duXCIsbixlKSksZS5vbihcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKG4pe2lmKHQuc3RhdGV8fHQuJGRyYWdEZWxheXx8IXQuJGRyYWdFbmFibGVkKXJldHVybjt2YXIgcj1lLnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKG4ueCxuLnkpLGk9ZS5zZXNzaW9uLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHM9ZS5yZW5kZXJlcjshaS5pc0VtcHR5KCkmJmkuaW5zaWRlU3RhcnQoci5yb3csci5jb2x1bW4pP3Muc2V0Q3Vyc29yU3R5bGUoXCJkZWZhdWx0XCIpOnMuc2V0Q3Vyc29yU3R5bGUoXCJcIil9LGUpfXJldHVybiBlLnByb3RvdHlwZS5vbk1vdXNlRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5lZGl0b3Iuc2Vzc2lvbilyZXR1cm47dGhpcy5lZGl0b3IuX2VtaXQoZSxuZXcgdSh0LHRoaXMuZWRpdG9yKSl9LGUucHJvdG90eXBlLm9uTW91c2VNb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5lZGl0b3IuX2V2ZW50UmVnaXN0cnkmJnRoaXMuZWRpdG9yLl9ldmVudFJlZ2lzdHJ5Lm1vdXNlbW92ZTtpZighbnx8IW4ubGVuZ3RoKXJldHVybjt0aGlzLmVkaXRvci5fZW1pdChlLG5ldyB1KHQsdGhpcy5lZGl0b3IpKX0sZS5wcm90b3R5cGUub25Nb3VzZVdoZWVsPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHUodCx0aGlzLmVkaXRvcik7bi5zcGVlZD10aGlzLiRzY3JvbGxTcGVlZCoyLG4ud2hlZWxYPXQud2hlZWxYLG4ud2hlZWxZPXQud2hlZWxZLHRoaXMuZWRpdG9yLl9lbWl0KGUsbil9LGUucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGUpe3RoaXMuc3RhdGU9ZX0sZS5wcm90b3R5cGUuY2FwdHVyZU1vdXNlPWZ1bmN0aW9uKGUsdCl7dGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXMuaXNNb3VzZVByZXNzZWQ9ITA7dmFyIG49dGhpcy5lZGl0b3Iscz10aGlzLmVkaXRvci5yZW5kZXJlcjtzLiRpc01vdXNlUHJlc3NlZD0hMDt2YXIgbz10aGlzLGE9ITAsZj1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47aWYoaS5pc1dlYktpdCYmIWUud2hpY2gmJm8ucmVsZWFzZU1vdXNlKXJldHVybiBvLnJlbGVhc2VNb3VzZSgpO28ueD1lLmNsaWVudFgsby55PWUuY2xpZW50WSx0JiZ0KGUpLG8ubW91c2VFdmVudD1uZXcgdShlLG8uZWRpdG9yKSxvLiRtb3VzZU1vdmVkPSEwfSxsPWZ1bmN0aW9uKGUpe24ub2ZmKFwiYmVmb3JlRW5kT3BlcmF0aW9uXCIscCksYT0hMSxuLnNlc3Npb24mJmMoKSxvW28uc3RhdGUrXCJFbmRcIl0mJm9bby5zdGF0ZStcIkVuZFwiXShlKSxvLnN0YXRlPVwiXCIsby5pc01vdXNlUHJlc3NlZD1zLiRpc01vdXNlUHJlc3NlZD0hMSxzLiRrZWVwVGV4dEFyZWFBdEN1cnNvciYmcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKSxvLiRvbkNhcHR1cmVNb3VzZU1vdmU9by5yZWxlYXNlTW91c2U9bnVsbCxlJiZvLm9uTW91c2VFdmVudChcIm1vdXNldXBcIixlKSxuLmVuZE9wZXJhdGlvbigpfSxjPWZ1bmN0aW9uKCl7b1tvLnN0YXRlXSYmb1tvLnN0YXRlXSgpLG8uJG1vdXNlTW92ZWQ9ITF9LGg9ZnVuY3Rpb24oKXthJiYoYygpLHIubmV4dEZyYW1lKGgpKX07aWYoaS5pc09sZElFJiZlLmRvbUV2ZW50LnR5cGU9PVwiZGJsY2xpY2tcIilyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2woZSl9KTt2YXIgcD1mdW5jdGlvbihlKXtpZighby5yZWxlYXNlTW91c2UpcmV0dXJuO24uY3VyT3AuY29tbWFuZC5uYW1lJiZuLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQmJihvW28uc3RhdGUrXCJFbmRcIl0mJm9bby5zdGF0ZStcIkVuZFwiXSgpLG8uc3RhdGU9XCJcIixvLnJlbGVhc2VNb3VzZSgpKX07bi5vbihcImJlZm9yZUVuZE9wZXJhdGlvblwiLHApLG4uc3RhcnRPcGVyYXRpb24oe2NvbW1hbmQ6e25hbWU6XCJtb3VzZVwifX0pLG8uJG9uQ2FwdHVyZU1vdXNlTW92ZT1mLG8ucmVsZWFzZU1vdXNlPXIuY2FwdHVyZSh0aGlzLmVkaXRvci5jb250YWluZXIsZixsKSxoKCl9LGUucHJvdG90eXBlLmNhbmNlbENvbnRleHRNZW51PWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCl7aWYodCYmdC5kb21FdmVudCYmdC5kb21FdmVudC50eXBlIT1cImNvbnRleHRtZW51XCIpcmV0dXJuO3RoaXMuZWRpdG9yLm9mZihcIm5hdGl2ZWNvbnRleHRtZW51XCIsZSksdCYmdC5kb21FdmVudCYmci5zdG9wRXZlbnQodC5kb21FdmVudCl9LmJpbmQodGhpcyk7c2V0VGltZW91dChlLDEwKSx0aGlzLmVkaXRvci5vbihcIm5hdGl2ZWNvbnRleHRtZW51XCIsZSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbGVhc2VNb3VzZSYmdGhpcy5yZWxlYXNlTW91c2UoKX0sZX0oKTtjLnByb3RvdHlwZS5yZWxlYXNlTW91c2U9bnVsbCxsLmRlZmluZU9wdGlvbnMoYy5wcm90b3R5cGUsXCJtb3VzZUhhbmRsZXJcIix7c2Nyb2xsU3BlZWQ6e2luaXRpYWxWYWx1ZToyfSxkcmFnRGVsYXk6e2luaXRpYWxWYWx1ZTppLmlzTWFjPzE1MDowfSxkcmFnRW5hYmxlZDp7aW5pdGlhbFZhbHVlOiEwfSxmb2N1c1RpbWVvdXQ6e2luaXRpYWxWYWx1ZTowfSx0b29sdGlwRm9sbG93c01vdXNlOntpbml0aWFsVmFsdWU6ITB9fSksdC5Nb3VzZUhhbmRsZXI9Y30pLGFjZS5kZWZpbmUoXCJhY2UvbW91c2UvZm9sZF9oYW5kbGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uL2xpYi9kb21cIiksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7ZS5vbihcImNsaWNrXCIsZnVuY3Rpb24odCl7dmFyIG49dC5nZXREb2N1bWVudFBvc2l0aW9uKCksaT1lLnNlc3Npb24scz1pLmdldEZvbGRBdChuLnJvdyxuLmNvbHVtbiwxKTtzJiYodC5nZXRBY2NlbEtleSgpP2kucmVtb3ZlRm9sZChzKTppLmV4cGFuZEZvbGQocyksdC5zdG9wKCkpO3ZhciBvPXQuZG9tRXZlbnQmJnQuZG9tRXZlbnQudGFyZ2V0O28mJnIuaGFzQ3NzQ2xhc3MobyxcImFjZV9pbmxpbmVfYnV0dG9uXCIpJiZyLmhhc0Nzc0NsYXNzKG8sXCJhY2VfdG9nZ2xlX3dyYXBcIikmJihpLnNldE9wdGlvbihcIndyYXBcIiwhaS5nZXRVc2VXcmFwTW9kZSgpKSxlLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCkpfSksZS5vbihcImd1dHRlcmNsaWNrXCIsZnVuY3Rpb24odCl7dmFyIG49ZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuZ2V0UmVnaW9uKHQpO2lmKG49PVwiZm9sZFdpZGdldHNcIil7dmFyIHI9dC5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93LGk9ZS5zZXNzaW9uO2kuZm9sZFdpZGdldHMmJmkuZm9sZFdpZGdldHNbcl0mJmUuc2Vzc2lvbi5vbkZvbGRXaWRnZXRDbGljayhyLHQpLGUuaXNGb2N1c2VkKCl8fGUuZm9jdXMoKSx0LnN0b3AoKX19KSxlLm9uKFwiZ3V0dGVyZGJsY2xpY2tcIixmdW5jdGlvbih0KXt2YXIgbj1lLnJlbmRlcmVyLiRndXR0ZXJMYXllci5nZXRSZWdpb24odCk7aWYobj09XCJmb2xkV2lkZ2V0c1wiKXt2YXIgcj10LmdldERvY3VtZW50UG9zaXRpb24oKS5yb3csaT1lLnNlc3Npb24scz1pLmdldFBhcmVudEZvbGRSYW5nZURhdGEociwhMCksbz1zLnJhbmdlfHxzLmZpcnN0UmFuZ2U7aWYobyl7cj1vLnN0YXJ0LnJvdzt2YXIgdT1pLmdldEZvbGRBdChyLGkuZ2V0TGluZShyKS5sZW5ndGgsMSk7dT9pLnJlbW92ZUZvbGQodSk6KGkuYWRkRm9sZChcIi4uLlwiLG8pLGUucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoe3JvdzpvLnN0YXJ0LnJvdyxjb2x1bW46MH0pKX10LnN0b3AoKX19KX1yZXR1cm4gZX0oKTt0LkZvbGRIYW5kbGVyPWl9KSxhY2UuZGVmaW5lKFwiYWNlL2tleWJvYXJkL2tleWJpbmRpbmdcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIva2V5c1wiLFwiYWNlL2xpYi9ldmVudFwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uL2xpYi9rZXlzXCIpLGk9ZShcIi4uL2xpYi9ldmVudFwiKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLiRlZGl0b3I9ZSx0aGlzLiRkYXRhPXtlZGl0b3I6ZX0sdGhpcy4kaGFuZGxlcnM9W10sdGhpcy5zZXREZWZhdWx0SGFuZGxlcihlLmNvbW1hbmRzKX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0RGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVLZXlib2FyZEhhbmRsZXIodGhpcy4kZGVmYXVsdEhhbmRsZXIpLHRoaXMuJGRlZmF1bHRIYW5kbGVyPWUsdGhpcy5hZGRLZXlib2FyZEhhbmRsZXIoZSwwKX0sZS5wcm90b3R5cGUuc2V0S2V5Ym9hcmRIYW5kbGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJGhhbmRsZXJzO2lmKHRbdC5sZW5ndGgtMV09PWUpcmV0dXJuO3doaWxlKHRbdC5sZW5ndGgtMV0mJnRbdC5sZW5ndGgtMV0hPXRoaXMuJGRlZmF1bHRIYW5kbGVyKXRoaXMucmVtb3ZlS2V5Ym9hcmRIYW5kbGVyKHRbdC5sZW5ndGgtMV0pO3RoaXMuYWRkS2V5Ym9hcmRIYW5kbGVyKGUsMSl9LGUucHJvdG90eXBlLmFkZEtleWJvYXJkSGFuZGxlcj1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjt0eXBlb2YgZT09XCJmdW5jdGlvblwiJiYhZS5oYW5kbGVLZXlib2FyZCYmKGUuaGFuZGxlS2V5Ym9hcmQ9ZSk7dmFyIG49dGhpcy4kaGFuZGxlcnMuaW5kZXhPZihlKTtuIT0tMSYmdGhpcy4kaGFuZGxlcnMuc3BsaWNlKG4sMSksdD09dW5kZWZpbmVkP3RoaXMuJGhhbmRsZXJzLnB1c2goZSk6dGhpcy4kaGFuZGxlcnMuc3BsaWNlKHQsMCxlKSxuPT0tMSYmZS5hdHRhY2gmJmUuYXR0YWNoKHRoaXMuJGVkaXRvcil9LGUucHJvdG90eXBlLnJlbW92ZUtleWJvYXJkSGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiRoYW5kbGVycy5pbmRleE9mKGUpO3JldHVybiB0PT0tMT8hMToodGhpcy4kaGFuZGxlcnMuc3BsaWNlKHQsMSksZS5kZXRhY2gmJmUuZGV0YWNoKHRoaXMuJGVkaXRvciksITApfSxlLnByb3RvdHlwZS5nZXRLZXlib2FyZEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaGFuZGxlcnNbdGhpcy4kaGFuZGxlcnMubGVuZ3RoLTFdfSxlLnByb3RvdHlwZS5nZXRTdGF0dXNUZXh0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kZGF0YSx0PWUuZWRpdG9yO3JldHVybiB0aGlzLiRoYW5kbGVycy5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0U3RhdHVzVGV4dCYmbi5nZXRTdGF0dXNUZXh0KHQsZSl8fFwiXCJ9KS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIil9LGUucHJvdG90eXBlLiRjYWxsS2V5Ym9hcmRIYW5kbGVycz1mdW5jdGlvbihlLHQsbixyKXt2YXIgcyxvPSExLHU9dGhpcy4kZWRpdG9yLmNvbW1hbmRzO2Zvcih2YXIgYT10aGlzLiRoYW5kbGVycy5sZW5ndGg7YS0tOyl7cz10aGlzLiRoYW5kbGVyc1thXS5oYW5kbGVLZXlib2FyZCh0aGlzLiRkYXRhLGUsdCxuLHIpO2lmKCFzfHwhcy5jb21tYW5kKWNvbnRpbnVlO3MuY29tbWFuZD09XCJudWxsXCI/bz0hMDpvPXUuZXhlYyhzLmNvbW1hbmQsdGhpcy4kZWRpdG9yLHMuYXJncyxyKSxvJiZyJiZlIT0tMSYmc1tcInBhc3NFdmVudFwiXSE9MSYmcy5jb21tYW5kW1wicGFzc0V2ZW50XCJdIT0xJiZpLnN0b3BFdmVudChyKTtpZihvKWJyZWFrfXJldHVybiFvJiZlPT0tMSYmKHM9e2NvbW1hbmQ6XCJpbnNlcnRzdHJpbmdcIn0sbz11LmV4ZWMoXCJpbnNlcnRzdHJpbmdcIix0aGlzLiRlZGl0b3IsdCkpLG8mJnRoaXMuJGVkaXRvci5fc2lnbmFsJiZ0aGlzLiRlZGl0b3IuX3NpZ25hbChcImtleWJvYXJkQWN0aXZpdHlcIixzKSxvfSxlLnByb3RvdHlwZS5vbkNvbW1hbmRLZXk9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXIua2V5Q29kZVRvU3RyaW5nKG4pO3JldHVybiB0aGlzLiRjYWxsS2V5Ym9hcmRIYW5kbGVycyh0LGksbixlKX0sZS5wcm90b3R5cGUub25UZXh0SW5wdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGNhbGxLZXlib2FyZEhhbmRsZXJzKC0xLGUpfSxlfSgpO3QuS2V5QmluZGluZz1zfSksYWNlLmRlZmluZShcImFjZS9saWIvYmlkaXV0aWxcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIEYoZSx0LG4scil7dmFyIGk9cz9kOnAsYz1udWxsLGg9bnVsbCx2PW51bGwsbT0wLGc9bnVsbCx5PW51bGwsYj0tMSx3PW51bGwsRT1udWxsLFQ9W107aWYoIXIpZm9yKHc9MCxyPVtdO3c8bjt3Kyspclt3XT1SKGVbd10pO289cyx1PSExLGE9ITEsZj0hMSxsPSExO2ZvcihFPTA7RTxuO0UrKyl7Yz1tLFRbRV09aD1xKGUscixULEUpLG09aVtjXVtoXSxnPW0mMjQwLG0mPTE1LHRbRV09dj1pW21dWzVdO2lmKGc+MClpZihnPT0xNil7Zm9yKHc9Yjt3PEU7dysrKXRbd109MTtiPS0xfWVsc2UgYj0tMTt5PWlbbV1bNl07aWYoeSliPT0tMSYmKGI9RSk7ZWxzZSBpZihiPi0xKXtmb3Iodz1iO3c8RTt3KyspdFt3XT12O2I9LTF9cltFXT09UyYmKHRbRV09MCksb3w9dn1pZihsKWZvcih3PTA7dzxuO3crKylpZihyW3ddPT14KXt0W3ddPXM7Zm9yKHZhciBDPXctMTtDPj0wO0MtLSl7aWYocltDXSE9TilicmVhazt0W0NdPXN9fX1mdW5jdGlvbiBJKGUsdCxuKXtpZihvPGUpcmV0dXJuO2lmKGU9PTEmJnM9PW0mJiFmKXtuLnJldmVyc2UoKTtyZXR1cm59dmFyIHI9bi5sZW5ndGgsaT0wLHUsYSxsLGM7d2hpbGUoaTxyKXtpZih0W2ldPj1lKXt1PWkrMTt3aGlsZSh1PHImJnRbdV0+PWUpdSsrO2ZvcihhPWksbD11LTE7YTxsO2ErKyxsLS0pYz1uW2FdLG5bYV09bltsXSxuW2xdPWM7aT11fWkrK319ZnVuY3Rpb24gcShlLHQsbixyKXt2YXIgaT10W3JdLG8sYyxoLHA7c3dpdGNoKGkpe2Nhc2UgZzpjYXNlIHk6dT0hMTtjYXNlIEU6Y2FzZSB3OnJldHVybiBpO2Nhc2UgYjpyZXR1cm4gdT93OmI7Y2FzZSBUOnJldHVybiB1PSEwLGE9ITAseTtjYXNlIE46cmV0dXJuIEU7Y2FzZSBDOmlmKHI8MXx8cisxPj10Lmxlbmd0aHx8KG89bltyLTFdKSE9YiYmbyE9d3x8KGM9dFtyKzFdKSE9YiYmYyE9dylyZXR1cm4gRTtyZXR1cm4gdSYmKGM9dyksYz09bz9jOkU7Y2FzZSBrOm89cj4wP25bci0xXTpTO2lmKG89PWImJnIrMTx0Lmxlbmd0aCYmdFtyKzFdPT1iKXJldHVybiBiO3JldHVybiBFO2Nhc2UgTDppZihyPjAmJm5bci0xXT09YilyZXR1cm4gYjtpZih1KXJldHVybiBFO3A9cisxLGg9dC5sZW5ndGg7d2hpbGUocDxoJiZ0W3BdPT1MKXArKztpZihwPGgmJnRbcF09PWIpcmV0dXJuIGI7cmV0dXJuIEU7Y2FzZSBBOmg9dC5sZW5ndGgscD1yKzE7d2hpbGUocDxoJiZ0W3BdPT1BKXArKztpZihwPGgpe3ZhciBkPWVbcl0sdj1kPj0xNDI1JiZkPD0yMzAzfHxkPT02NDI4NjtvPXRbcF07aWYodiYmKG89PXl8fG89PVQpKXJldHVybiB5fWlmKHI8MXx8KG89dFtyLTFdKT09UylyZXR1cm4gRTtyZXR1cm4gbltyLTFdO2Nhc2UgUzpyZXR1cm4gdT0hMSxmPSEwLHM7Y2FzZSB4OnJldHVybiBsPSEwLEU7Y2FzZSBPOmNhc2UgTTpjYXNlIEQ6Y2FzZSBQOmNhc2UgXzp1PSExO2Nhc2UgSDpyZXR1cm4gRX19ZnVuY3Rpb24gUihlKXt2YXIgdD1lLmNoYXJDb2RlQXQoMCksbj10Pj44O3JldHVybiBuPT0wP3Q+MTkxP2c6Qlt0XTpuPT01Py9bXFx1MDU5MS1cXHUwNWY0XS8udGVzdChlKT95Omc6bj09Nj8vW1xcdTA2MTAtXFx1MDYxYVxcdTA2NGItXFx1MDY1ZlxcdTA2ZDYtXFx1MDZlNFxcdTA2ZTctXFx1MDZlZF0vLnRlc3QoZSk/QTovW1xcdTA2NjAtXFx1MDY2OVxcdTA2NmItXFx1MDY2Y10vLnRlc3QoZSk/dzp0PT0xNjQyP0w6L1tcXHUwNmYwLVxcdTA2ZjldLy50ZXN0KGUpP2I6VDpuPT0zMiYmdDw9ODI4Nz9qW3QmMjU1XTpuPT0yNTQ/dD49NjUxMzY/VDpFOkV9ZnVuY3Rpb24gVShlKXtyZXR1cm4gZT49XCJcXHUwNjRiXCImJmU8PVwiXFx1MDY1NVwifXZhciByPVtcIlxcdTA2MjFcIixcIlxcdTA2NDFcIl0saT1bXCJcXHUwNjNhXCIsXCJcXHUwNjRhXCJdLHM9MCxvPTAsdT0hMSxhPSExLGY9ITEsbD0hMSxjPSExLGg9ITEscD1bWzAsMywwLDEsMCwwLDBdLFswLDMsMCwxLDIsMiwwXSxbMCwzLDAsMTcsMiwwLDFdLFswLDMsNSw1LDQsMSwwXSxbMCwzLDIxLDIxLDQsMCwxXSxbMCwzLDUsNSw0LDIsMF1dLGQ9W1syLDAsMSwxLDAsMSwwXSxbMiwwLDEsMSwwLDIsMF0sWzIsMCwyLDEsMywyLDBdLFsyLDAsMiwzMywzLDEsMV1dLHY9MCxtPTEsZz0wLHk9MSxiPTIsdz0zLEU9NCxTPTUseD02LFQ9NyxOPTgsQz05LGs9MTAsTD0xMSxBPTEyLE89MTMsTT0xNCxfPTE1LEQ9MTYsUD0xNyxIPTE4LEI9W0gsSCxILEgsSCxILEgsSCxILHgsUyx4LE4sUyxILEgsSCxILEgsSCxILEgsSCxILEgsSCxILEgsUyxTLFMseCxOLEUsRSxMLEwsTCxFLEUsRSxFLEUsayxDLGssQyxDLGIsYixiLGIsYixiLGIsYixiLGIsQyxFLEUsRSxFLEUsRSxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsRSxFLEUsRSxFLEUsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLGcsZyxnLEUsRSxFLEUsSCxILEgsSCxILEgsUyxILEgsSCxILEgsSCxILEgsSCxILEgsSCxILEgsSCxILEgsSCxILEgsSCxILEgsSCxILEgsQyxFLEwsTCxMLEwsRSxFLEUsRSxnLEUsRSxILEUsRSxMLEwsYixiLEUsZyxFLEUsRSxiLGcsRSxFLEUsRSxFXSxqPVtOLE4sTixOLE4sTixOLE4sTixOLE4sSCxILEgsZyx5LEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLE4sUyxPLE0sXyxELFAsQyxMLEwsTCxMLEwsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsQyxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsRSxFLEUsTl07dC5MPWcsdC5SPXksdC5FTj1iLHQuT05fUj0zLHQuQU49NCx0LlJfSD01LHQuQj02LHQuUkxFPTcsdC5ET1Q9XCJcXHUwMGI3XCIsdC5kb0JpZGlSZW9yZGVyPWZ1bmN0aW9uKGUsbixyKXtpZihlLmxlbmd0aDwyKXJldHVybnt9O3ZhciBpPWUuc3BsaXQoXCJcIiksbz1uZXcgQXJyYXkoaS5sZW5ndGgpLHU9bmV3IEFycmF5KGkubGVuZ3RoKSxhPVtdO3M9cj9tOnYsRihpLGEsaS5sZW5ndGgsbik7Zm9yKHZhciBmPTA7ZjxvLmxlbmd0aDtvW2ZdPWYsZisrKTtJKDIsYSxvKSxJKDEsYSxvKTtmb3IodmFyIGY9MDtmPG8ubGVuZ3RoLTE7ZisrKW5bZl09PT13P2FbZl09dC5BTjphW2ZdPT09eSYmKG5bZl0+VCYmbltmXTxPfHxuW2ZdPT09RXx8bltmXT09PUgpP2FbZl09dC5PTl9SOmY+MCYmaVtmLTFdPT09XCJcXHUwNjQ0XCImJi9cXHUwNjIyfFxcdTA2MjN8XFx1MDYyNXxcXHUwNjI3Ly50ZXN0KGlbZl0pJiYoYVtmLTFdPWFbZl09dC5SX0gsZisrKTtpW2kubGVuZ3RoLTFdPT09dC5ET1QmJihhW2kubGVuZ3RoLTFdPXQuQiksaVswXT09PVwiXFx1MjAyYlwiJiYoYVswXT10LlJMRSk7Zm9yKHZhciBmPTA7ZjxvLmxlbmd0aDtmKyspdVtmXT1hW29bZl1dO3JldHVybntsb2dpY2FsRnJvbVZpc3VhbDpvLGJpZGlMZXZlbHM6dX19LHQuaGFzQmlkaUNoYXJhY3RlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0W3JdPVIoZS5jaGFyQXQocikpLCFuJiYodFtyXT09eXx8dFtyXT09VHx8dFtyXT09dykmJihuPSEwKTtyZXR1cm4gbn0sdC5nZXRWaXN1YWxGcm9tTG9naWNhbElkeD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dC5sb2dpY2FsRnJvbVZpc3VhbC5sZW5ndGg7bisrKWlmKHQubG9naWNhbEZyb21WaXN1YWxbbl09PWUpcmV0dXJuIG47cmV0dXJuIDB9fSksYWNlLmRlZmluZShcImFjZS9iaWRpaGFuZGxlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9iaWRpdXRpbFwiLFwiYWNlL2xpYi9sYW5nXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9saWIvYmlkaXV0aWxcIiksaT1lKFwiLi9saWIvbGFuZ1wiKSxzPS9bXFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MDcwMC1cXHUwOGFjXFx1MjAyQl0vLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuc2Vzc2lvbj1lLHRoaXMuYmlkaU1hcD17fSx0aGlzLmN1cnJlbnRSb3c9bnVsbCx0aGlzLmJpZGlVdGlsPXIsdGhpcy5jaGFyV2lkdGhzPVtdLHRoaXMuRU9MPVwiXFx1MDBhY1wiLHRoaXMuc2hvd0ludmlzaWJsZXM9ITAsdGhpcy5pc1J0bERpcj0hMSx0aGlzLiRpc1J0bD0hMSx0aGlzLmxpbmU9XCJcIix0aGlzLndyYXBJbmRlbnQ9MCx0aGlzLkVPRj1cIlxcdTAwYjZcIix0aGlzLlJMRT1cIlxcdTIwMmJcIix0aGlzLmNvbnRlbnRXaWR0aD0wLHRoaXMuZm9udE1ldHJpY3M9bnVsbCx0aGlzLnJ0bExpbmVPZmZzZXQ9MCx0aGlzLndyYXBPZmZzZXQ9MCx0aGlzLmlzTW92ZUxlZnRPcGVyYXRpb249ITEsdGhpcy5zZWVuQmlkaT1zLnRlc3QoZS5nZXRWYWx1ZSgpKX1yZXR1cm4gZS5wcm90b3R5cGUuaXNCaWRpUm93PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5zZWVuQmlkaT8oZSE9PXRoaXMuY3VycmVudFJvdyYmKHRoaXMuY3VycmVudFJvdz1lLHRoaXMudXBkYXRlUm93TGluZSh0LG4pLHRoaXMudXBkYXRlQmlkaU1hcCgpKSx0aGlzLmJpZGlNYXAuYmlkaUxldmVscyk6ITF9LGUucHJvdG90eXBlLm9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3RoaXMuc2VlbkJpZGk/dGhpcy5jdXJyZW50Um93PW51bGw6ZS5hY3Rpb249PVwiaW5zZXJ0XCImJnMudGVzdChlLmxpbmVzLmpvaW4oXCJcXG5cIikpJiYodGhpcy5zZWVuQmlkaT0hMCx0aGlzLmN1cnJlbnRSb3c9bnVsbCl9LGUucHJvdG90eXBlLmdldERvY3VtZW50Um93PWZ1bmN0aW9uKCl7dmFyIGU9MCx0PXRoaXMuc2Vzc2lvbi4kc2NyZWVuUm93Q2FjaGU7aWYodC5sZW5ndGgpe3ZhciBuPXRoaXMuc2Vzc2lvbi4kZ2V0Um93Q2FjaGVJbmRleCh0LHRoaXMuY3VycmVudFJvdyk7bj49MCYmKGU9dGhpcy5zZXNzaW9uLiRkb2NSb3dDYWNoZVtuXSl9cmV0dXJuIGV9LGUucHJvdG90eXBlLmdldFNwbGl0SW5kZXg9ZnVuY3Rpb24oKXt2YXIgZT0wLHQ9dGhpcy5zZXNzaW9uLiRzY3JlZW5Sb3dDYWNoZTtpZih0Lmxlbmd0aCl7dmFyIG4scj10aGlzLnNlc3Npb24uJGdldFJvd0NhY2hlSW5kZXgodCx0aGlzLmN1cnJlbnRSb3cpO3doaWxlKHRoaXMuY3VycmVudFJvdy1lPjApe249dGhpcy5zZXNzaW9uLiRnZXRSb3dDYWNoZUluZGV4KHQsdGhpcy5jdXJyZW50Um93LWUtMSk7aWYobiE9PXIpYnJlYWs7cj1uLGUrK319ZWxzZSBlPXRoaXMuY3VycmVudFJvdztyZXR1cm4gZX0sZS5wcm90b3R5cGUudXBkYXRlUm93TGluZT1mdW5jdGlvbihlLHQpe2U9PT11bmRlZmluZWQmJihlPXRoaXMuZ2V0RG9jdW1lbnRSb3coKSk7dmFyIG49ZT09PXRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKS0xLHM9bj90aGlzLkVPRjp0aGlzLkVPTDt0aGlzLndyYXBJbmRlbnQ9MCx0aGlzLmxpbmU9dGhpcy5zZXNzaW9uLmdldExpbmUoZSksdGhpcy5pc1J0bERpcj10aGlzLiRpc1J0bHx8dGhpcy5saW5lLmNoYXJBdCgwKT09PXRoaXMuUkxFO2lmKHRoaXMuc2Vzc2lvbi4kdXNlV3JhcE1vZGUpe3ZhciBvPXRoaXMuc2Vzc2lvbi4kd3JhcERhdGFbZV07byYmKHQ9PT11bmRlZmluZWQmJih0PXRoaXMuZ2V0U3BsaXRJbmRleCgpKSx0PjAmJm8ubGVuZ3RoPyh0aGlzLndyYXBJbmRlbnQ9by5pbmRlbnQsdGhpcy53cmFwT2Zmc2V0PXRoaXMud3JhcEluZGVudCp0aGlzLmNoYXJXaWR0aHNbci5MXSx0aGlzLmxpbmU9dDxvLmxlbmd0aD90aGlzLmxpbmUuc3Vic3RyaW5nKG9bdC0xXSxvW3RdKTp0aGlzLmxpbmUuc3Vic3RyaW5nKG9bby5sZW5ndGgtMV0pKTp0aGlzLmxpbmU9dGhpcy5saW5lLnN1YnN0cmluZygwLG9bdF0pLHQ9PW8ubGVuZ3RoJiYodGhpcy5saW5lKz10aGlzLnNob3dJbnZpc2libGVzP3M6ci5ET1QpKX1lbHNlIHRoaXMubGluZSs9dGhpcy5zaG93SW52aXNpYmxlcz9zOnIuRE9UO3ZhciB1PXRoaXMuc2Vzc2lvbixhPTAsZjt0aGlzLmxpbmU9dGhpcy5saW5lLnJlcGxhY2UoL1xcdHxbXFx1MTEwMC1cXHUyMDI5LCBcXHUyMDJGLVxcdUZGRTZdL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PVwiXHRcInx8dS5pc0Z1bGxXaWR0aChlLmNoYXJDb2RlQXQoMCkpPyhmPWU9PT1cIlx0XCI/dS5nZXRTY3JlZW5UYWJTaXplKHQrYSk6MixhKz1mLTEsaS5zdHJpbmdSZXBlYXQoci5ET1QsZikpOmV9KSx0aGlzLmlzUnRsRGlyJiYodGhpcy5mb250TWV0cmljcy4kbWFpbi50ZXh0Q29udGVudD10aGlzLmxpbmUuY2hhckF0KHRoaXMubGluZS5sZW5ndGgtMSk9PXIuRE9UP3RoaXMubGluZS5zdWJzdHIoMCx0aGlzLmxpbmUubGVuZ3RoLTEpOnRoaXMubGluZSx0aGlzLnJ0bExpbmVPZmZzZXQ9dGhpcy5jb250ZW50V2lkdGgtdGhpcy5mb250TWV0cmljcy4kbWFpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCl9LGUucHJvdG90eXBlLnVwZGF0ZUJpZGlNYXA9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyLmhhc0JpZGlDaGFyYWN0ZXJzKHRoaXMubGluZSxlKXx8dGhpcy5pc1J0bERpcj90aGlzLmJpZGlNYXA9ci5kb0JpZGlSZW9yZGVyKHRoaXMubGluZSxlLHRoaXMuaXNSdGxEaXIpOnRoaXMuYmlkaU1hcD17fX0sZS5wcm90b3R5cGUubWFya0FzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRSb3c9bnVsbH0sZS5wcm90b3R5cGUudXBkYXRlQ2hhcmFjdGVyV2lkdGhzPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2hhcmFjdGVyV2lkdGg9PT1lLiRjaGFyYWN0ZXJTaXplLndpZHRoKXJldHVybjt0aGlzLmZvbnRNZXRyaWNzPWU7dmFyIHQ9dGhpcy5jaGFyYWN0ZXJXaWR0aD1lLiRjaGFyYWN0ZXJTaXplLndpZHRoLG49ZS4kbWVhc3VyZUNoYXJXaWR0aChcIlxcdTA1ZDRcIik7dGhpcy5jaGFyV2lkdGhzW3IuTF09dGhpcy5jaGFyV2lkdGhzW3IuRU5dPXRoaXMuY2hhcldpZHRoc1tyLk9OX1JdPXQsdGhpcy5jaGFyV2lkdGhzW3IuUl09dGhpcy5jaGFyV2lkdGhzW3IuQU5dPW4sdGhpcy5jaGFyV2lkdGhzW3IuUl9IXT1uKi40NSx0aGlzLmNoYXJXaWR0aHNbci5CXT10aGlzLmNoYXJXaWR0aHNbci5STEVdPTAsdGhpcy5jdXJyZW50Um93PW51bGx9LGUucHJvdG90eXBlLnNldFNob3dJbnZpc2libGVzPWZ1bmN0aW9uKGUpe3RoaXMuc2hvd0ludmlzaWJsZXM9ZSx0aGlzLmN1cnJlbnRSb3c9bnVsbH0sZS5wcm90b3R5cGUuc2V0RW9sQ2hhcj1mdW5jdGlvbihlKXt0aGlzLkVPTD1lfSxlLnByb3RvdHlwZS5zZXRDb250ZW50V2lkdGg9ZnVuY3Rpb24oZSl7dGhpcy5jb250ZW50V2lkdGg9ZX0sZS5wcm90b3R5cGUuaXNSdGxMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRpc1J0bD8hMDplIT11bmRlZmluZWQ/dGhpcy5zZXNzaW9uLmdldExpbmUoZSkuY2hhckF0KDApPT10aGlzLlJMRTp0aGlzLmlzUnRsRGlyfSxlLnByb3RvdHlwZS5zZXRSdGxEaXJlY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldEN1cnNvclBvc2l0aW9uKCk7Zm9yKHZhciByPWUuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkFuY2hvcigpLnJvdztyPD1uLnJvdztyKyspIXQmJmUuc2Vzc2lvbi5nZXRMaW5lKHIpLmNoYXJBdCgwKT09PWUuc2Vzc2lvbi4kYmlkaUhhbmRsZXIuUkxFP2Uuc2Vzc2lvbi5kb2MucmVtb3ZlSW5MaW5lKHIsMCwxKTp0JiZlLnNlc3Npb24uZ2V0TGluZShyKS5jaGFyQXQoMCkhPT1lLnNlc3Npb24uJGJpZGlIYW5kbGVyLlJMRSYmZS5zZXNzaW9uLmRvYy5pbnNlcnQoe2NvbHVtbjowLHJvdzpyfSxlLnNlc3Npb24uJGJpZGlIYW5kbGVyLlJMRSl9LGUucHJvdG90eXBlLmdldFBvc0xlZnQ9ZnVuY3Rpb24oZSl7ZS09dGhpcy53cmFwSW5kZW50O3ZhciB0PXRoaXMubGluZS5jaGFyQXQoMCk9PT10aGlzLlJMRT8xOjAsbj1lPnQ/dGhpcy5zZXNzaW9uLmdldE92ZXJ3cml0ZSgpP2U6ZS0xOnQsaT1yLmdldFZpc3VhbEZyb21Mb2dpY2FsSWR4KG4sdGhpcy5iaWRpTWFwKSxzPXRoaXMuYmlkaU1hcC5iaWRpTGV2ZWxzLG89MDshdGhpcy5zZXNzaW9uLmdldE92ZXJ3cml0ZSgpJiZlPD10JiZzW2ldJTIhPT0wJiZpKys7Zm9yKHZhciB1PTA7dTxpO3UrKylvKz10aGlzLmNoYXJXaWR0aHNbc1t1XV07cmV0dXJuIXRoaXMuc2Vzc2lvbi5nZXRPdmVyd3JpdGUoKSYmZT50JiZzW2ldJTI9PT0wJiYobys9dGhpcy5jaGFyV2lkdGhzW3NbaV1dKSx0aGlzLndyYXBJbmRlbnQmJihvKz10aGlzLmlzUnRsRGlyPy0xKnRoaXMud3JhcE9mZnNldDp0aGlzLndyYXBPZmZzZXQpLHRoaXMuaXNSdGxEaXImJihvKz10aGlzLnJ0bExpbmVPZmZzZXQpLG99LGUucHJvdG90eXBlLmdldFNlbGVjdGlvbnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmJpZGlNYXAscj1uLmJpZGlMZXZlbHMsaSxzPVtdLG89MCx1PU1hdGgubWluKGUsdCktdGhpcy53cmFwSW5kZW50LGE9TWF0aC5tYXgoZSx0KS10aGlzLndyYXBJbmRlbnQsZj0hMSxsPSExLGM9MDt0aGlzLndyYXBJbmRlbnQmJihvKz10aGlzLmlzUnRsRGlyPy0xKnRoaXMud3JhcE9mZnNldDp0aGlzLndyYXBPZmZzZXQpO2Zvcih2YXIgaCxwPTA7cDxyLmxlbmd0aDtwKyspaD1uLmxvZ2ljYWxGcm9tVmlzdWFsW3BdLGk9cltwXSxmPWg+PXUmJmg8YSxmJiYhbD9jPW86IWYmJmwmJnMucHVzaCh7bGVmdDpjLHdpZHRoOm8tY30pLG8rPXRoaXMuY2hhcldpZHRoc1tpXSxsPWY7ZiYmcD09PXIubGVuZ3RoJiZzLnB1c2goe2xlZnQ6Yyx3aWR0aDpvLWN9KTtpZih0aGlzLmlzUnRsRGlyKWZvcih2YXIgZD0wO2Q8cy5sZW5ndGg7ZCsrKXNbZF0ubGVmdCs9dGhpcy5ydGxMaW5lT2Zmc2V0O3JldHVybiBzfSxlLnByb3RvdHlwZS5vZmZzZXRUb0NvbD1mdW5jdGlvbihlKXt0aGlzLmlzUnRsRGlyJiYoZS09dGhpcy5ydGxMaW5lT2Zmc2V0KTt2YXIgdD0wLGU9TWF0aC5tYXgoZSwwKSxuPTAscj0wLGk9dGhpcy5iaWRpTWFwLmJpZGlMZXZlbHMscz10aGlzLmNoYXJXaWR0aHNbaVtyXV07dGhpcy53cmFwSW5kZW50JiYoZS09dGhpcy5pc1J0bERpcj8tMSp0aGlzLndyYXBPZmZzZXQ6dGhpcy53cmFwT2Zmc2V0KTt3aGlsZShlPm4rcy8yKXtuKz1zO2lmKHI9PT1pLmxlbmd0aC0xKXtzPTA7YnJlYWt9cz10aGlzLmNoYXJXaWR0aHNbaVsrK3JdXX1yZXR1cm4gcj4wJiZpW3ItMV0lMiE9PTAmJmlbcl0lMj09PTA/KGU8biYmci0tLHQ9dGhpcy5iaWRpTWFwLmxvZ2ljYWxGcm9tVmlzdWFsW3JdKTpyPjAmJmlbci0xXSUyPT09MCYmaVtyXSUyIT09MD90PTErKGU+bj90aGlzLmJpZGlNYXAubG9naWNhbEZyb21WaXN1YWxbcl06dGhpcy5iaWRpTWFwLmxvZ2ljYWxGcm9tVmlzdWFsW3ItMV0pOnRoaXMuaXNSdGxEaXImJnI9PT1pLmxlbmd0aC0xJiZzPT09MCYmaVtyLTFdJTI9PT0wfHwhdGhpcy5pc1J0bERpciYmcj09PTAmJmlbcl0lMiE9PTA/dD0xK3RoaXMuYmlkaU1hcC5sb2dpY2FsRnJvbVZpc3VhbFtyXToocj4wJiZpW3ItMV0lMiE9PTAmJnMhPT0wJiZyLS0sdD10aGlzLmJpZGlNYXAubG9naWNhbEZyb21WaXN1YWxbcl0pLHQ9PT0wJiZ0aGlzLmlzUnRsRGlyJiZ0KyssdCt0aGlzLndyYXBJbmRlbnR9LGV9KCk7dC5CaWRpSGFuZGxlcj1vfSksYWNlLmRlZmluZShcImFjZS9zZWxlY3Rpb25cIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL3JhbmdlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9saWIvb29wXCIpLGk9ZShcIi4vbGliL2xhbmdcIikscz1lKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXIsbz1lKFwiLi9yYW5nZVwiKS5SYW5nZSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnNlc3Npb249ZSx0aGlzLmRvYz1lLmdldERvY3VtZW50KCksdGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuY3Vyc29yPXRoaXMubGVhZD10aGlzLmRvYy5jcmVhdGVBbmNob3IoMCwwKSx0aGlzLmFuY2hvcj10aGlzLmRvYy5jcmVhdGVBbmNob3IoMCwwKSx0aGlzLiRzaWxlbnQ9ITE7dmFyIHQ9dGhpczt0aGlzLmN1cnNvci5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKGUpe3QuJGN1cnNvckNoYW5nZWQ9ITAsdC4kc2lsZW50fHx0Ll9lbWl0KFwiY2hhbmdlQ3Vyc29yXCIpLCF0LiRpc0VtcHR5JiYhdC4kc2lsZW50JiZ0Ll9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpLCF0LiRrZWVwRGVzaXJlZENvbHVtbk9uQ2hhbmdlJiZlLm9sZC5jb2x1bW4hPWUudmFsdWUuY29sdW1uJiYodC4kZGVzaXJlZENvbHVtbj1udWxsKX0pLHRoaXMuYW5jaG9yLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXt0LiRhbmNob3JDaGFuZ2VkPSEwLCF0LiRpc0VtcHR5JiYhdC4kc2lsZW50JiZ0Ll9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpfSl9cmV0dXJuIGUucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaXNFbXB0eXx8dGhpcy5hbmNob3Iucm93PT10aGlzLmxlYWQucm93JiZ0aGlzLmFuY2hvci5jb2x1bW49PXRoaXMubGVhZC5jb2x1bW59LGUucHJvdG90eXBlLmlzTXVsdGlMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuJGlzRW1wdHkmJnRoaXMuYW5jaG9yLnJvdyE9dGhpcy5jdXJzb3Iucm93fSxlLnByb3RvdHlwZS5nZXRDdXJzb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWFkLmdldFBvc2l0aW9uKCl9LGUucHJvdG90eXBlLnNldEFuY2hvcj1mdW5jdGlvbihlLHQpe3RoaXMuJGlzRW1wdHk9ITEsdGhpcy5hbmNob3Iuc2V0UG9zaXRpb24oZSx0KX0sZS5wcm90b3R5cGUuZ2V0QW5jaG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGlzRW1wdHk/dGhpcy5nZXRTZWxlY3Rpb25MZWFkKCk6dGhpcy5hbmNob3IuZ2V0UG9zaXRpb24oKX0sZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uTGVhZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlYWQuZ2V0UG9zaXRpb24oKX0sZS5wcm90b3R5cGUuaXNCYWNrd2FyZHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmFuY2hvcix0PXRoaXMubGVhZDtyZXR1cm4gZS5yb3c+dC5yb3d8fGUucm93PT10LnJvdyYmZS5jb2x1bW4+dC5jb2x1bW59LGUucHJvdG90eXBlLmdldFJhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hbmNob3IsdD10aGlzLmxlYWQ7cmV0dXJuIHRoaXMuJGlzRW1wdHk/by5mcm9tUG9pbnRzKHQsdCk6dGhpcy5pc0JhY2t3YXJkcygpP28uZnJvbVBvaW50cyh0LGUpOm8uZnJvbVBvaW50cyhlLHQpfSxlLnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuJGlzRW1wdHl8fCh0aGlzLiRpc0VtcHR5PSEwLHRoaXMuX2VtaXQoXCJjaGFuZ2VTZWxlY3Rpb25cIikpfSxlLnByb3RvdHlwZS5zZWxlY3RBbGw9ZnVuY3Rpb24oKXt0aGlzLiRzZXRTZWxlY3Rpb24oMCwwLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSl9LGUucHJvdG90eXBlLnNldFJhbmdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dD9lLmVuZDplLnN0YXJ0LHI9dD9lLnN0YXJ0OmUuZW5kO3RoaXMuJHNldFNlbGVjdGlvbihuLnJvdyxuLmNvbHVtbixyLnJvdyxyLmNvbHVtbil9LGUucHJvdG90eXBlLiRzZXRTZWxlY3Rpb249ZnVuY3Rpb24oZSx0LG4scil7aWYodGhpcy4kc2lsZW50KXJldHVybjt2YXIgaT10aGlzLiRpc0VtcHR5LHM9dGhpcy5pbk11bHRpU2VsZWN0TW9kZTt0aGlzLiRzaWxlbnQ9ITAsdGhpcy4kY3Vyc29yQ2hhbmdlZD10aGlzLiRhbmNob3JDaGFuZ2VkPSExLHRoaXMuYW5jaG9yLnNldFBvc2l0aW9uKGUsdCksdGhpcy5jdXJzb3Iuc2V0UG9zaXRpb24obixyKSx0aGlzLiRpc0VtcHR5PSFvLmNvbXBhcmVQb2ludHModGhpcy5hbmNob3IsdGhpcy5jdXJzb3IpLHRoaXMuJHNpbGVudD0hMSx0aGlzLiRjdXJzb3JDaGFuZ2VkJiZ0aGlzLl9lbWl0KFwiY2hhbmdlQ3Vyc29yXCIpLCh0aGlzLiRjdXJzb3JDaGFuZ2VkfHx0aGlzLiRhbmNob3JDaGFuZ2VkfHxpIT10aGlzLiRpc0VtcHR5fHxzKSYmdGhpcy5fZW1pdChcImNoYW5nZVNlbGVjdGlvblwiKX0sZS5wcm90b3R5cGUuJG1vdmVTZWxlY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZWFkO3RoaXMuJGlzRW1wdHkmJnRoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKHQucm93LHQuY29sdW1uKSxlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNlbGVjdFRvPWZ1bmN0aW9uKGUsdCl7dGhpcy4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvclRvKGUsdCl9KX0sZS5wcm90b3R5cGUuc2VsZWN0VG9Qb3NpdGlvbj1mdW5jdGlvbihlKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihlKX0pfSxlLnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24oZSx0KXt0aGlzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5tb3ZlQ3Vyc29yVG8oZSx0KX0sZS5wcm90b3R5cGUubW92ZVRvUG9zaXRpb249ZnVuY3Rpb24oZSl7dGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24oZSl9LGUucHJvdG90eXBlLnNlbGVjdFVwPWZ1bmN0aW9uKCl7dGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JVcCl9LGUucHJvdG90eXBlLnNlbGVjdERvd249ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckRvd24pfSxlLnByb3RvdHlwZS5zZWxlY3RSaWdodD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yUmlnaHQpfSxlLnByb3RvdHlwZS5zZWxlY3RMZWZ0PWZ1bmN0aW9uKCl7dGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JMZWZ0KX0sZS5wcm90b3R5cGUuc2VsZWN0TGluZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JMaW5lU3RhcnQpfSxlLnByb3RvdHlwZS5zZWxlY3RMaW5lRW5kPWZ1bmN0aW9uKCl7dGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JMaW5lRW5kKX0sZS5wcm90b3R5cGUuc2VsZWN0RmlsZUVuZD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yRmlsZUVuZCl9LGUucHJvdG90eXBlLnNlbGVjdEZpbGVTdGFydD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yRmlsZVN0YXJ0KX0sZS5wcm90b3R5cGUuc2VsZWN0V29yZFJpZ2h0PWZ1bmN0aW9uKCl7dGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JXb3JkUmlnaHQpfSxlLnByb3RvdHlwZS5zZWxlY3RXb3JkTGVmdD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yV29yZExlZnQpfSxlLnByb3RvdHlwZS5nZXRXb3JkUmFuZ2U9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgdD09XCJ1bmRlZmluZWRcIil7dmFyIG49ZXx8dGhpcy5sZWFkO2U9bi5yb3csdD1uLmNvbHVtbn1yZXR1cm4gdGhpcy5zZXNzaW9uLmdldFdvcmRSYW5nZShlLHQpfSxlLnByb3RvdHlwZS5zZWxlY3RXb3JkPWZ1bmN0aW9uKCl7dGhpcy5zZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmdldFdvcmRSYW5nZSgpKX0sZS5wcm90b3R5cGUuc2VsZWN0QVdvcmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEN1cnNvcigpLHQ9dGhpcy5zZXNzaW9uLmdldEFXb3JkUmFuZ2UoZS5yb3csZS5jb2x1bW4pO3RoaXMuc2V0U2VsZWN0aW9uUmFuZ2UodCl9LGUucHJvdG90eXBlLmdldExpbmVSYW5nZT1mdW5jdGlvbihlLHQpe3ZhciBuPXR5cGVvZiBlPT1cIm51bWJlclwiP2U6dGhpcy5sZWFkLnJvdyxyLGk9dGhpcy5zZXNzaW9uLmdldEZvbGRMaW5lKG4pO3JldHVybiBpPyhuPWkuc3RhcnQucm93LHI9aS5lbmQucm93KTpyPW4sdD09PSEwP25ldyBvKG4sMCxyLHRoaXMuc2Vzc2lvbi5nZXRMaW5lKHIpLmxlbmd0aCk6bmV3IG8obiwwLHIrMSwwKX0sZS5wcm90b3R5cGUuc2VsZWN0TGluZT1mdW5jdGlvbigpe3RoaXMuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5nZXRMaW5lUmFuZ2UoKSl9LGUucHJvdG90eXBlLm1vdmVDdXJzb3JVcD1mdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvckJ5KC0xLDApfSxlLnByb3RvdHlwZS5tb3ZlQ3Vyc29yRG93bj1mdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvckJ5KDEsMCl9LGUucHJvdG90eXBlLndvdWxkTW92ZUludG9Tb2Z0VGFiPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmNvbHVtbixpPWUuY29sdW1uK3Q7cmV0dXJuIG48MCYmKHI9ZS5jb2x1bW4tdCxpPWUuY29sdW1uKSx0aGlzLnNlc3Npb24uaXNUYWJTdG9wKGUpJiZ0aGlzLmRvYy5nZXRMaW5lKGUucm93KS5zbGljZShyLGkpLnNwbGl0KFwiIFwiKS5sZW5ndGgtMT09dH0sZS5wcm90b3R5cGUubW92ZUN1cnNvckxlZnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlYWQuZ2V0UG9zaXRpb24oKSx0O2lmKHQ9dGhpcy5zZXNzaW9uLmdldEZvbGRBdChlLnJvdyxlLmNvbHVtbiwtMSkpdGhpcy5tb3ZlQ3Vyc29yVG8odC5zdGFydC5yb3csdC5zdGFydC5jb2x1bW4pO2Vsc2UgaWYoZS5jb2x1bW49PT0wKWUucm93PjAmJnRoaXMubW92ZUN1cnNvclRvKGUucm93LTEsdGhpcy5kb2MuZ2V0TGluZShlLnJvdy0xKS5sZW5ndGgpO2Vsc2V7dmFyIG49dGhpcy5zZXNzaW9uLmdldFRhYlNpemUoKTt0aGlzLndvdWxkTW92ZUludG9Tb2Z0VGFiKGUsbiwtMSkmJiF0aGlzLnNlc3Npb24uZ2V0TmF2aWdhdGVXaXRoaW5Tb2Z0VGFicygpP3RoaXMubW92ZUN1cnNvckJ5KDAsLW4pOnRoaXMubW92ZUN1cnNvckJ5KDAsLTEpfX0sZS5wcm90b3R5cGUubW92ZUN1cnNvclJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZWFkLmdldFBvc2l0aW9uKCksdDtpZih0PXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZS5yb3csZS5jb2x1bW4sMSkpdGhpcy5tb3ZlQ3Vyc29yVG8odC5lbmQucm93LHQuZW5kLmNvbHVtbik7ZWxzZSBpZih0aGlzLmxlYWQuY29sdW1uPT10aGlzLmRvYy5nZXRMaW5lKHRoaXMubGVhZC5yb3cpLmxlbmd0aCl0aGlzLmxlYWQucm93PHRoaXMuZG9jLmdldExlbmd0aCgpLTEmJnRoaXMubW92ZUN1cnNvclRvKHRoaXMubGVhZC5yb3crMSwwKTtlbHNle3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRUYWJTaXplKCksZT10aGlzLmxlYWQ7dGhpcy53b3VsZE1vdmVJbnRvU29mdFRhYihlLG4sMSkmJiF0aGlzLnNlc3Npb24uZ2V0TmF2aWdhdGVXaXRoaW5Tb2Z0VGFicygpP3RoaXMubW92ZUN1cnNvckJ5KDAsbik6dGhpcy5tb3ZlQ3Vyc29yQnkoMCwxKX19LGUucHJvdG90eXBlLm1vdmVDdXJzb3JMaW5lU3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbixuPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUm93KGUsdCkscj10aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKG4sMCksaT10aGlzLnNlc3Npb24uZ2V0RGlzcGxheUxpbmUoZSxudWxsLHIucm93LHIuY29sdW1uKSxzPWkubWF0Y2goL15cXHMqLyk7c1swXS5sZW5ndGghPXQmJiF0aGlzLnNlc3Npb24uJHVzZUVtYWNzU3R5bGVMaW5lU3RhcnQmJihyLmNvbHVtbis9c1swXS5sZW5ndGgpLHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24ocil9LGUucHJvdG90eXBlLm1vdmVDdXJzb3JMaW5lRW5kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZWFkLHQ9dGhpcy5zZXNzaW9uLmdldERvY3VtZW50TGFzdFJvd0NvbHVtblBvc2l0aW9uKGUucm93LGUuY29sdW1uKTtpZih0aGlzLmxlYWQuY29sdW1uPT10LmNvbHVtbil7dmFyIG49dGhpcy5zZXNzaW9uLmdldExpbmUodC5yb3cpO2lmKHQuY29sdW1uPT1uLmxlbmd0aCl7dmFyIHI9bi5zZWFyY2goL1xccyskLyk7cj4wJiYodC5jb2x1bW49cil9fXRoaXMubW92ZUN1cnNvclRvKHQucm93LHQuY29sdW1uKX0sZS5wcm90b3R5cGUubW92ZUN1cnNvckZpbGVFbmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRvYy5nZXRMZW5ndGgoKS0xLHQ9dGhpcy5kb2MuZ2V0TGluZShlKS5sZW5ndGg7dGhpcy5tb3ZlQ3Vyc29yVG8oZSx0KX0sZS5wcm90b3R5cGUubW92ZUN1cnNvckZpbGVTdGFydD1mdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvclRvKDAsMCl9LGUucHJvdG90eXBlLm1vdmVDdXJzb3JMb25nV29yZFJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZWFkLnJvdyx0PXRoaXMubGVhZC5jb2x1bW4sbj10aGlzLmRvYy5nZXRMaW5lKGUpLHI9bi5zdWJzdHJpbmcodCk7dGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4PTAsdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4PTA7dmFyIGk9dGhpcy5zZXNzaW9uLmdldEZvbGRBdChlLHQsMSk7aWYoaSl7dGhpcy5tb3ZlQ3Vyc29yVG8oaS5lbmQucm93LGkuZW5kLmNvbHVtbik7cmV0dXJufXRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmV4ZWMocikmJih0Kz10aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXgsdGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4PTAscj1uLnN1YnN0cmluZyh0KSk7aWYodD49bi5sZW5ndGgpe3RoaXMubW92ZUN1cnNvclRvKGUsbi5sZW5ndGgpLHRoaXMubW92ZUN1cnNvclJpZ2h0KCksZTx0aGlzLmRvYy5nZXRMZW5ndGgoKS0xJiZ0aGlzLm1vdmVDdXJzb3JXb3JkUmlnaHQoKTtyZXR1cm59dGhpcy5zZXNzaW9uLnRva2VuUmUuZXhlYyhyKSYmKHQrPXRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleCx0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg9MCksdGhpcy5tb3ZlQ3Vyc29yVG8oZSx0KX0sZS5wcm90b3R5cGUubW92ZUN1cnNvckxvbmdXb3JkTGVmdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVhZC5yb3csdD10aGlzLmxlYWQuY29sdW1uLG47aWYobj10aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGUsdCwtMSkpe3RoaXMubW92ZUN1cnNvclRvKG4uc3RhcnQucm93LG4uc3RhcnQuY29sdW1uKTtyZXR1cm59dmFyIHI9dGhpcy5zZXNzaW9uLmdldEZvbGRTdHJpbmdBdChlLHQsLTEpO3I9PW51bGwmJihyPXRoaXMuZG9jLmdldExpbmUoZSkuc3Vic3RyaW5nKDAsdCkpO3ZhciBzPWkuc3RyaW5nUmV2ZXJzZShyKTt0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg9MCx0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg9MCx0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5leGVjKHMpJiYodC09dGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4LHM9cy5zbGljZSh0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXgpLHRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmxhc3RJbmRleD0wKTtpZih0PD0wKXt0aGlzLm1vdmVDdXJzb3JUbyhlLDApLHRoaXMubW92ZUN1cnNvckxlZnQoKSxlPjAmJnRoaXMubW92ZUN1cnNvcldvcmRMZWZ0KCk7cmV0dXJufXRoaXMuc2Vzc2lvbi50b2tlblJlLmV4ZWMocykmJih0LT10aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXgsdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4PTApLHRoaXMubW92ZUN1cnNvclRvKGUsdCl9LGUucHJvdG90eXBlLiRzaG9ydFdvcmRFbmRJbmRleD1mdW5jdGlvbihlKXt2YXIgdD0wLG4scj0vXFxzLyxpPXRoaXMuc2Vzc2lvbi50b2tlblJlO2kubGFzdEluZGV4PTA7aWYodGhpcy5zZXNzaW9uLnRva2VuUmUuZXhlYyhlKSl0PXRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleDtlbHNle3doaWxlKChuPWVbdF0pJiZyLnRlc3QobikpdCsrO2lmKHQ8MSl7aS5sYXN0SW5kZXg9MDt3aGlsZSgobj1lW3RdKSYmIWkudGVzdChuKSl7aS5sYXN0SW5kZXg9MCx0Kys7aWYoci50ZXN0KG4pKXtpZih0PjIpe3QtLTticmVha313aGlsZSgobj1lW3RdKSYmci50ZXN0KG4pKXQrKztpZih0PjIpYnJlYWt9fX19cmV0dXJuIGkubGFzdEluZGV4PTAsdH0sZS5wcm90b3R5cGUubW92ZUN1cnNvclNob3J0V29yZFJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZWFkLnJvdyx0PXRoaXMubGVhZC5jb2x1bW4sbj10aGlzLmRvYy5nZXRMaW5lKGUpLHI9bi5zdWJzdHJpbmcodCksaT10aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGUsdCwxKTtpZihpKXJldHVybiB0aGlzLm1vdmVDdXJzb3JUbyhpLmVuZC5yb3csaS5lbmQuY29sdW1uKTtpZih0PT1uLmxlbmd0aCl7dmFyIHM9dGhpcy5kb2MuZ2V0TGVuZ3RoKCk7ZG8gZSsrLHI9dGhpcy5kb2MuZ2V0TGluZShlKTt3aGlsZShlPHMmJi9eXFxzKiQvLnRlc3QocikpOy9eXFxzKy8udGVzdChyKXx8KHI9XCJcIiksdD0wfXZhciBvPXRoaXMuJHNob3J0V29yZEVuZEluZGV4KHIpO3RoaXMubW92ZUN1cnNvclRvKGUsdCtvKX0sZS5wcm90b3R5cGUubW92ZUN1cnNvclNob3J0V29yZExlZnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbixuO2lmKG49dGhpcy5zZXNzaW9uLmdldEZvbGRBdChlLHQsLTEpKXJldHVybiB0aGlzLm1vdmVDdXJzb3JUbyhuLnN0YXJ0LnJvdyxuLnN0YXJ0LmNvbHVtbik7dmFyIHI9dGhpcy5zZXNzaW9uLmdldExpbmUoZSkuc3Vic3RyaW5nKDAsdCk7aWYodD09PTApe2RvIGUtLSxyPXRoaXMuZG9jLmdldExpbmUoZSk7d2hpbGUoZT4wJiYvXlxccyokLy50ZXN0KHIpKTt0PXIubGVuZ3RoLC9cXHMrJC8udGVzdChyKXx8KHI9XCJcIil9dmFyIHM9aS5zdHJpbmdSZXZlcnNlKHIpLG89dGhpcy4kc2hvcnRXb3JkRW5kSW5kZXgocyk7cmV0dXJuIHRoaXMubW92ZUN1cnNvclRvKGUsdC1vKX0sZS5wcm90b3R5cGUubW92ZUN1cnNvcldvcmRSaWdodD1mdW5jdGlvbigpe3RoaXMuc2Vzc2lvbi4kc2VsZWN0TG9uZ1dvcmRzP3RoaXMubW92ZUN1cnNvckxvbmdXb3JkUmlnaHQoKTp0aGlzLm1vdmVDdXJzb3JTaG9ydFdvcmRSaWdodCgpfSxlLnByb3RvdHlwZS5tb3ZlQ3Vyc29yV29yZExlZnQ9ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24uJHNlbGVjdExvbmdXb3Jkcz90aGlzLm1vdmVDdXJzb3JMb25nV29yZExlZnQoKTp0aGlzLm1vdmVDdXJzb3JTaG9ydFdvcmRMZWZ0KCl9LGUucHJvdG90eXBlLm1vdmVDdXJzb3JCeT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5sZWFkLnJvdyx0aGlzLmxlYWQuY29sdW1uKSxyO3Q9PT0wJiYoZSE9PTAmJih0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmlzQmlkaVJvdyhuLnJvdyx0aGlzLmxlYWQucm93KT8ocj10aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmdldFBvc0xlZnQobi5jb2x1bW4pLG4uY29sdW1uPU1hdGgucm91bmQoci90aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmNoYXJXaWR0aHNbMF0pKTpyPW4uY29sdW1uKnRoaXMuc2Vzc2lvbi4kYmlkaUhhbmRsZXIuY2hhcldpZHRoc1swXSksdGhpcy4kZGVzaXJlZENvbHVtbj9uLmNvbHVtbj10aGlzLiRkZXNpcmVkQ29sdW1uOnRoaXMuJGRlc2lyZWRDb2x1bW49bi5jb2x1bW4pO2lmKGUhPTAmJnRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cyYmdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzW3RoaXMubGVhZC5yb3ddKXt2YXIgaT10aGlzLnNlc3Npb24ubGluZVdpZGdldHNbdGhpcy5sZWFkLnJvd107ZTwwP2UtPWkucm93c0Fib3ZlfHwwOmU+MCYmKGUrPWkucm93Q291bnQtKGkucm93c0Fib3ZlfHwwKSl9dmFyIHM9dGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihuLnJvdytlLG4uY29sdW1uLHIpO2UhPT0wJiZ0PT09MCYmcy5yb3c9PT10aGlzLmxlYWQucm93JiZzLmNvbHVtbj09PXRoaXMubGVhZC5jb2x1bW4sdGhpcy5tb3ZlQ3Vyc29yVG8ocy5yb3cscy5jb2x1bW4rdCx0PT09MCl9LGUucHJvdG90eXBlLm1vdmVDdXJzb3JUb1Bvc2l0aW9uPWZ1bmN0aW9uKGUpe3RoaXMubW92ZUN1cnNvclRvKGUucm93LGUuY29sdW1uKX0sZS5wcm90b3R5cGUubW92ZUN1cnNvclRvPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGUsdCwxKTtyJiYoZT1yLnN0YXJ0LnJvdyx0PXIuc3RhcnQuY29sdW1uKSx0aGlzLiRrZWVwRGVzaXJlZENvbHVtbk9uQ2hhbmdlPSEwO3ZhciBpPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKGUpOy9bXFx1REMwMC1cXHVERkZGXS8udGVzdChpLmNoYXJBdCh0KSkmJmkuY2hhckF0KHQtMSkmJih0aGlzLmxlYWQucm93PT1lJiZ0aGlzLmxlYWQuY29sdW1uPT10KzE/dC09MTp0Kz0xKSx0aGlzLmxlYWQuc2V0UG9zaXRpb24oZSx0KSx0aGlzLiRrZWVwRGVzaXJlZENvbHVtbk9uQ2hhbmdlPSExLG58fCh0aGlzLiRkZXNpcmVkQ29sdW1uPW51bGwpfSxlLnByb3RvdHlwZS5tb3ZlQ3Vyc29yVG9TY3JlZW49ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oZSx0KTt0aGlzLm1vdmVDdXJzb3JUbyhyLnJvdyxyLmNvbHVtbixuKX0sZS5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5sZWFkLmRldGFjaCgpLHRoaXMuYW5jaG9yLmRldGFjaCgpfSxlLnByb3RvdHlwZS5mcm9tT3JpZW50ZWRSYW5nZT1mdW5jdGlvbihlKXt0aGlzLnNldFNlbGVjdGlvblJhbmdlKGUsZS5jdXJzb3I9PWUuc3RhcnQpLHRoaXMuJGRlc2lyZWRDb2x1bW49ZS5kZXNpcmVkQ29sdW1ufHx0aGlzLiRkZXNpcmVkQ29sdW1ufSxlLnByb3RvdHlwZS50b09yaWVudGVkUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRSYW5nZSgpO3JldHVybiBlPyhlLnN0YXJ0LmNvbHVtbj10LnN0YXJ0LmNvbHVtbixlLnN0YXJ0LnJvdz10LnN0YXJ0LnJvdyxlLmVuZC5jb2x1bW49dC5lbmQuY29sdW1uLGUuZW5kLnJvdz10LmVuZC5yb3cpOmU9dCxlLmN1cnNvcj10aGlzLmlzQmFja3dhcmRzKCk/ZS5zdGFydDplLmVuZCxlLmRlc2lyZWRDb2x1bW49dGhpcy4kZGVzaXJlZENvbHVtbixlfSxlLnByb3RvdHlwZS5nZXRSYW5nZU9mTW92ZW1lbnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Q3Vyc29yKCk7dHJ5e2UodGhpcyk7dmFyIG49dGhpcy5nZXRDdXJzb3IoKTtyZXR1cm4gby5mcm9tUG9pbnRzKHQsbil9Y2F0Y2gocil7cmV0dXJuIG8uZnJvbVBvaW50cyh0LHQpfWZpbmFsbHl7dGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbih0KX19LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe2lmKHRoaXMucmFuZ2VDb3VudCl2YXIgZT10aGlzLnJhbmdlcy5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbG9uZSgpO3JldHVybiB0LmlzQmFja3dhcmRzPWUuY3Vyc29yPT1lLnN0YXJ0LHR9KTtlbHNle3ZhciBlPXRoaXMuZ2V0UmFuZ2UoKTtlLmlzQmFja3dhcmRzPXRoaXMuaXNCYWNrd2FyZHMoKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24oZSl7aWYoZS5zdGFydD09dW5kZWZpbmVkKXtpZih0aGlzLnJhbmdlTGlzdCYmZS5sZW5ndGg+MSl7dGhpcy50b1NpbmdsZVJhbmdlKGVbMF0pO2Zvcih2YXIgdD1lLmxlbmd0aDt0LS07KXt2YXIgbj1vLmZyb21Qb2ludHMoZVt0XS5zdGFydCxlW3RdLmVuZCk7ZVt0XS5pc0JhY2t3YXJkcyYmKG4uY3Vyc29yPW4uc3RhcnQpLHRoaXMuYWRkUmFuZ2UobiwhMCl9cmV0dXJufWU9ZVswXX10aGlzLnJhbmdlTGlzdCYmdGhpcy50b1NpbmdsZVJhbmdlKGUpLHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UoZSxlLmlzQmFja3dhcmRzKX0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtpZigoZS5sZW5ndGh8fHRoaXMucmFuZ2VDb3VudCkmJmUubGVuZ3RoIT10aGlzLnJhbmdlQ291bnQpcmV0dXJuITE7aWYoIWUubGVuZ3RofHwhdGhpcy5yYW5nZXMpcmV0dXJuIHRoaXMuZ2V0UmFuZ2UoKS5pc0VxdWFsKGUpO2Zvcih2YXIgdD10aGlzLnJhbmdlcy5sZW5ndGg7dC0tOylpZighdGhpcy5yYW5nZXNbdF0uaXNFcXVhbChlW3RdKSlyZXR1cm4hMTtyZXR1cm4hMH0sZX0oKTt1LnByb3RvdHlwZS5zZXRTZWxlY3Rpb25BbmNob3I9dS5wcm90b3R5cGUuc2V0QW5jaG9yLHUucHJvdG90eXBlLmdldFNlbGVjdGlvbkFuY2hvcj11LnByb3RvdHlwZS5nZXRBbmNob3IsdS5wcm90b3R5cGUuc2V0U2VsZWN0aW9uUmFuZ2U9dS5wcm90b3R5cGUuc2V0UmFuZ2Usci5pbXBsZW1lbnQodS5wcm90b3R5cGUscyksdC5TZWxlY3Rpb249dX0pLGFjZS5kZWZpbmUoXCJhY2UvdG9rZW5pemVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL3JlcG9ydF9lcnJvclwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4vbGliL3JlcG9ydF9lcnJvclwiKS5yZXBvcnRFcnJvcixpPTJlMyxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnNwbGl0UmVnZXgsdGhpcy5zdGF0ZXM9ZSx0aGlzLnJlZ0V4cHM9e30sdGhpcy5tYXRjaE1hcHBpbmdzPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnN0YXRlcyl7dmFyIG49dGhpcy5zdGF0ZXNbdF0scj1bXSxpPTAscz10aGlzLm1hdGNoTWFwcGluZ3NbdF09e2RlZmF1bHRUb2tlbjpcInRleHRcIn0sbz1cImdcIix1PVtdO2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgZj1uW2FdO2YuZGVmYXVsdFRva2VuJiYocy5kZWZhdWx0VG9rZW49Zi5kZWZhdWx0VG9rZW4pLGYuY2FzZUluc2Vuc2l0aXZlJiZvLmluZGV4T2YoXCJpXCIpPT09LTEmJihvKz1cImlcIiksZi51bmljb2RlJiZvLmluZGV4T2YoXCJ1XCIpPT09LTEmJihvKz1cInVcIik7aWYoZi5yZWdleD09bnVsbCljb250aW51ZTtmLnJlZ2V4IGluc3RhbmNlb2YgUmVnRXhwJiYoZi5yZWdleD1mLnJlZ2V4LnRvU3RyaW5nKCkuc2xpY2UoMSwtMSkpO3ZhciBsPWYucmVnZXgsYz0obmV3IFJlZ0V4cChcIig/OihcIitsK1wiKXwoLikpXCIpKS5leGVjKFwiYVwiKS5sZW5ndGgtMjtBcnJheS5pc0FycmF5KGYudG9rZW4pP2YudG9rZW4ubGVuZ3RoPT0xfHxjPT0xP2YudG9rZW49Zi50b2tlblswXTpjLTEhPWYudG9rZW4ubGVuZ3RoPyh0aGlzLnJlcG9ydEVycm9yKFwibnVtYmVyIG9mIGNsYXNzZXMgYW5kIHJlZ2V4cCBncm91cHMgZG9lc24ndCBtYXRjaFwiLHtydWxlOmYsZ3JvdXBDb3VudDpjLTF9KSxmLnRva2VuPWYudG9rZW5bMF0pOihmLnRva2VuQXJyYXk9Zi50b2tlbixmLnRva2VuPW51bGwsZi5vbk1hdGNoPXRoaXMuJGFycmF5VG9rZW5zKTp0eXBlb2YgZi50b2tlbj09XCJmdW5jdGlvblwiJiYhZi5vbk1hdGNoJiYoYz4xP2Yub25NYXRjaD10aGlzLiRhcHBseVRva2VuOmYub25NYXRjaD1mLnRva2VuKSxjPjEmJigvXFxcXFxcZC8udGVzdChmLnJlZ2V4KT9sPWYucmVnZXgucmVwbGFjZSgvXFxcXChbMC05XSspL2csZnVuY3Rpb24oZSx0KXtyZXR1cm5cIlxcXFxcIisocGFyc2VJbnQodCwxMCkraSsxKX0pOihjPTEsbD10aGlzLnJlbW92ZUNhcHR1cmluZ0dyb3VwcyhmLnJlZ2V4KSksIWYuc3BsaXRSZWdleCYmdHlwZW9mIGYudG9rZW4hPVwic3RyaW5nXCImJnUucHVzaChmKSksc1tpXT1hLGkrPWMsci5wdXNoKGwpLGYub25NYXRjaHx8KGYub25NYXRjaD1udWxsKX1yLmxlbmd0aHx8KHNbMF09MCxyLnB1c2goXCIkXCIpKSx1LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zcGxpdFJlZ2V4PXRoaXMuY3JlYXRlU3BsaXR0ZXJSZWdleHAoZS5yZWdleCxvKX0sdGhpcyksdGhpcy5yZWdFeHBzW3RdPW5ldyBSZWdFeHAoXCIoXCIrci5qb2luKFwiKXwoXCIpK1wiKXwoJClcIixvKX19cmV0dXJuIGUucHJvdG90eXBlLiRzZXRNYXhUb2tlbkNvdW50PWZ1bmN0aW9uKGUpe2k9ZXwwfSxlLnByb3RvdHlwZS4kYXBwbHlUb2tlbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNwbGl0UmVnZXguZXhlYyhlKS5zbGljZSgxKSxuPXRoaXMudG9rZW4uYXBwbHkodGhpcyx0KTtpZih0eXBlb2Ygbj09XCJzdHJpbmdcIilyZXR1cm5be3R5cGU6bix2YWx1ZTplfV07dmFyIHI9W107Zm9yKHZhciBpPTAscz1uLmxlbmd0aDtpPHM7aSsrKXRbaV0mJihyW3IubGVuZ3RoXT17dHlwZTpuW2ldLHZhbHVlOnRbaV19KTtyZXR1cm4gcn0sZS5wcm90b3R5cGUuJGFycmF5VG9rZW5zPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybltdO3ZhciB0PXRoaXMuc3BsaXRSZWdleC5leGVjKGUpO2lmKCF0KXJldHVyblwidGV4dFwiO3ZhciBuPVtdLHI9dGhpcy50b2tlbkFycmF5O2Zvcih2YXIgaT0wLHM9ci5sZW5ndGg7aTxzO2krKyl0W2krMV0mJihuW24ubGVuZ3RoXT17dHlwZTpyW2ldLHZhbHVlOnRbaSsxXX0pO3JldHVybiBufSxlLnByb3RvdHlwZS5yZW1vdmVDYXB0dXJpbmdHcm91cHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKC9cXFxcLnxcXFsoPzpcXFxcLnxbXlxcXFxcXF1dKSp8XFwoXFw/Wzo9ITxdfChcXCgpL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9cIig/OlwiOmV9KTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuY3JlYXRlU3BsaXR0ZXJSZWdleHA9ZnVuY3Rpb24oZSx0KXtpZihlLmluZGV4T2YoXCIoPz1cIikhPS0xKXt2YXIgbj0wLHI9ITEsaT17fTtlLnJlcGxhY2UoLyhcXFxcLil8KFxcKCg/OlxcP1s9IV0pPyl8KFxcKSl8KFtcXFtcXF1dKS9nLGZ1bmN0aW9uKGUsdCxzLG8sdSxhKXtyZXR1cm4gcj9yPXUhPVwiXVwiOnU/cj0hMDpvPyhuPT1pLnN0YWNrJiYoaS5lbmQ9YSsxLGkuc3RhY2s9LTEpLG4tLSk6cyYmKG4rKyxzLmxlbmd0aCE9MSYmKGkuc3RhY2s9bixpLnN0YXJ0PWEpKSxlfSksaS5lbmQhPW51bGwmJi9eXFwpKiQvLnRlc3QoZS5zdWJzdHIoaS5lbmQpKSYmKGU9ZS5zdWJzdHJpbmcoMCxpLnN0YXJ0KStlLnN1YnN0cihpLmVuZCkpfXJldHVybiBlLmNoYXJBdCgwKSE9XCJeXCImJihlPVwiXlwiK2UpLGUuY2hhckF0KGUubGVuZ3RoLTEpIT1cIiRcIiYmKGUrPVwiJFwiKSxuZXcgUmVnRXhwKGUsKHR8fFwiXCIpLnJlcGxhY2UoXCJnXCIsXCJcIikpfSxlLnByb3RvdHlwZS5nZXRMaW5lVG9rZW5zPWZ1bmN0aW9uKGUsdCl7aWYodCYmdHlwZW9mIHQhPVwic3RyaW5nXCIpe3ZhciBuPXQuc2xpY2UoMCk7dD1uWzBdLHQ9PT1cIiN0bXBcIiYmKG4uc2hpZnQoKSx0PW4uc2hpZnQoKSl9ZWxzZSB2YXIgbj1bXTt2YXIgcj10fHxcInN0YXJ0XCIscz10aGlzLnN0YXRlc1tyXTtzfHwocj1cInN0YXJ0XCIscz10aGlzLnN0YXRlc1tyXSk7dmFyIG89dGhpcy5tYXRjaE1hcHBpbmdzW3JdLHU9dGhpcy5yZWdFeHBzW3JdO3UubGFzdEluZGV4PTA7dmFyIGEsZj1bXSxsPTAsYz0wLGg9e3R5cGU6bnVsbCx2YWx1ZTpcIlwifTt3aGlsZShhPXUuZXhlYyhlKSl7dmFyIHA9by5kZWZhdWx0VG9rZW4sZD1udWxsLHY9YVswXSxtPXUubGFzdEluZGV4O2lmKG0tdi5sZW5ndGg+bCl7dmFyIGc9ZS5zdWJzdHJpbmcobCxtLXYubGVuZ3RoKTtoLnR5cGU9PXA/aC52YWx1ZSs9ZzooaC50eXBlJiZmLnB1c2goaCksaD17dHlwZTpwLHZhbHVlOmd9KX1mb3IodmFyIHk9MDt5PGEubGVuZ3RoLTI7eSsrKXtpZihhW3krMV09PT11bmRlZmluZWQpY29udGludWU7ZD1zW29beV1dLGQub25NYXRjaD9wPWQub25NYXRjaCh2LHIsbixlKTpwPWQudG9rZW4sZC5uZXh0JiYodHlwZW9mIGQubmV4dD09XCJzdHJpbmdcIj9yPWQubmV4dDpyPWQubmV4dChyLG4pLHM9dGhpcy5zdGF0ZXNbcl0sc3x8KHRoaXMucmVwb3J0RXJyb3IoXCJzdGF0ZSBkb2Vzbid0IGV4aXN0XCIscikscj1cInN0YXJ0XCIscz10aGlzLnN0YXRlc1tyXSksbz10aGlzLm1hdGNoTWFwcGluZ3Nbcl0sbD1tLHU9dGhpcy5yZWdFeHBzW3JdLHUubGFzdEluZGV4PW0pLGQuY29uc3VtZUxpbmVFbmQmJihsPW0pO2JyZWFrfWlmKHYpaWYodHlwZW9mIHA9PVwic3RyaW5nXCIpISFkJiZkLm1lcmdlPT09ITF8fGgudHlwZSE9PXA/KGgudHlwZSYmZi5wdXNoKGgpLGg9e3R5cGU6cCx2YWx1ZTp2fSk6aC52YWx1ZSs9djtlbHNlIGlmKHApe2gudHlwZSYmZi5wdXNoKGgpLGg9e3R5cGU6bnVsbCx2YWx1ZTpcIlwifTtmb3IodmFyIHk9MDt5PHAubGVuZ3RoO3krKylmLnB1c2gocFt5XSl9aWYobD09ZS5sZW5ndGgpYnJlYWs7bD1tO2lmKGMrKz5pKXtjPjIqZS5sZW5ndGgmJnRoaXMucmVwb3J0RXJyb3IoXCJpbmZpbml0ZSBsb29wIHdpdGggaW4gYWNlIHRva2VuaXplclwiLHtzdGFydFN0YXRlOnQsbGluZTplfSk7d2hpbGUobDxlLmxlbmd0aCloLnR5cGUmJmYucHVzaChoKSxoPXt2YWx1ZTplLnN1YnN0cmluZyhsLGwrPTUwMCksdHlwZTpcIm92ZXJmbG93XCJ9O3I9XCJzdGFydFwiLG49W107YnJlYWt9fXJldHVybiBoLnR5cGUmJmYucHVzaChoKSxuLmxlbmd0aD4xJiZuWzBdIT09ciYmbi51bnNoaWZ0KFwiI3RtcFwiLHIpLHt0b2tlbnM6ZixzdGF0ZTpuLmxlbmd0aD9uOnJ9fSxlfSgpO3MucHJvdG90eXBlLnJlcG9ydEVycm9yPXIsdC5Ub2tlbml6ZXI9c30pLGFjZS5kZWZpbmUoXCJhY2UvbW9kZS90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kZWVwX2NvcHlcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi9saWIvZGVlcF9jb3B5XCIpLmRlZXBDb3B5LGk7aT1mdW5jdGlvbigpe3RoaXMuJHJ1bGVzPXtzdGFydDpbe3Rva2VuOlwiZW1wdHlfbGluZVwiLHJlZ2V4OlwiXiRcIn0se2RlZmF1bHRUb2tlbjpcInRleHRcIn1dfX0sZnVuY3Rpb24oKXt0aGlzLmFkZFJ1bGVzPWZ1bmN0aW9uKGUsdCl7aWYoIXQpe2Zvcih2YXIgbiBpbiBlKXRoaXMuJHJ1bGVzW25dPWVbbl07cmV0dXJufWZvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dO2Zvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldO2lmKHMubmV4dHx8cy5vbk1hdGNoKXR5cGVvZiBzLm5leHQ9PVwic3RyaW5nXCImJnMubmV4dC5pbmRleE9mKHQpIT09MCYmKHMubmV4dD10K3MubmV4dCkscy5uZXh0U3RhdGUmJnMubmV4dFN0YXRlLmluZGV4T2YodCkhPT0wJiYocy5uZXh0U3RhdGU9dCtzLm5leHRTdGF0ZSl9dGhpcy4kcnVsZXNbdCtuXT1yfX0sdGhpcy5nZXRSdWxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRydWxlc30sdGhpcy5lbWJlZFJ1bGVzPWZ1bmN0aW9uKGUsdCxuLGkscyl7dmFyIG89dHlwZW9mIGU9PVwiZnVuY3Rpb25cIj8obmV3IGUpLmdldFJ1bGVzKCk6ZTtpZihpKWZvcih2YXIgdT0wO3U8aS5sZW5ndGg7dSsrKWlbdV09dCtpW3VdO2Vsc2V7aT1bXTtmb3IodmFyIGEgaW4gbylpLnB1c2godCthKX10aGlzLmFkZFJ1bGVzKG8sdCk7aWYobil7dmFyIGY9QXJyYXkucHJvdG90eXBlW3M/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdO2Zvcih2YXIgdT0wO3U8aS5sZW5ndGg7dSsrKWYuYXBwbHkodGhpcy4kcnVsZXNbaVt1XV0scihuKSl9dGhpcy4kZW1iZWRzfHwodGhpcy4kZW1iZWRzPVtdKSx0aGlzLiRlbWJlZHMucHVzaCh0KX0sdGhpcy5nZXRFbWJlZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZW1iZWRzfTt2YXIgZT1mdW5jdGlvbihlLHQpe3JldHVybihlIT1cInN0YXJ0XCJ8fHQubGVuZ3RoKSYmdC51bnNoaWZ0KHRoaXMubmV4dFN0YXRlLGUpLHRoaXMubmV4dFN0YXRlfSx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc2hpZnQoKSx0LnNoaWZ0KCl8fFwic3RhcnRcIn07dGhpcy5ub3JtYWxpemVSdWxlcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGkocyl7dmFyIG89cltzXTtvLnByb2Nlc3NlZD0hMDtmb3IodmFyIHU9MDt1PG8ubGVuZ3RoO3UrKyl7dmFyIGE9b1t1XSxmPW51bGw7QXJyYXkuaXNBcnJheShhKSYmKGY9YSxhPXt9KSwhYS5yZWdleCYmYS5zdGFydCYmKGEucmVnZXg9YS5zdGFydCxhLm5leHR8fChhLm5leHQ9W10pLGEubmV4dC5wdXNoKHtkZWZhdWx0VG9rZW46YS50b2tlbn0se3Rva2VuOmEudG9rZW4rXCIuZW5kXCIscmVnZXg6YS5lbmR8fGEuc3RhcnQsbmV4dDpcInBvcFwifSksYS50b2tlbj1hLnRva2VuK1wiLnN0YXJ0XCIsYS5wdXNoPSEwKTt2YXIgbD1hLm5leHR8fGEucHVzaDtpZihsJiZBcnJheS5pc0FycmF5KGwpKXt2YXIgYz1hLnN0YXRlTmFtZTtjfHwoYz1hLnRva2VuLHR5cGVvZiBjIT1cInN0cmluZ1wiJiYoYz1jWzBdfHxcIlwiKSxyW2NdJiYoYys9bisrKSkscltjXT1sLGEubmV4dD1jLGkoYyl9ZWxzZSBsPT1cInBvcFwiJiYoYS5uZXh0PXQpO2EucHVzaCYmKGEubmV4dFN0YXRlPWEubmV4dHx8YS5wdXNoLGEubmV4dD1lLGRlbGV0ZSBhLnB1c2gpO2lmKGEucnVsZXMpZm9yKHZhciBoIGluIGEucnVsZXMpcltoXT9yW2hdLnB1c2gmJnJbaF0ucHVzaC5hcHBseShyW2hdLGEucnVsZXNbaF0pOnJbaF09YS5ydWxlc1toXTt2YXIgcD10eXBlb2YgYT09XCJzdHJpbmdcIj9hOmEuaW5jbHVkZTtwJiYocD09PVwiJHNlbGZcIiYmKHA9XCJzdGFydFwiKSxBcnJheS5pc0FycmF5KHApP2Y9cC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHJbZV19KTpmPXJbcF0pO2lmKGYpe3ZhciBkPVt1LDFdLmNvbmNhdChmKTthLm5vRXNjYXBlJiYoZD1kLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS5uZXh0fSkpLG8uc3BsaWNlLmFwcGx5KG8sZCksdS0tfWEua2V5d29yZE1hcCYmKGEudG9rZW49dGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyKGEua2V5d29yZE1hcCxhLmRlZmF1bHRUb2tlbnx8XCJ0ZXh0XCIsYS5jYXNlSW5zZW5zaXRpdmUpLGRlbGV0ZSBhLmRlZmF1bHRUb2tlbil9fXZhciBuPTAscj10aGlzLiRydWxlcztPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGksdGhpcyl9LHRoaXMuY3JlYXRlS2V5d29yZE1hcHBlcj1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiB0aGlzLiRrZXl3b3JkTGlzdD1bXSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBzPWVbdF0sbz1zLnNwbGl0KHJ8fFwifFwiKTtmb3IodmFyIHU9by5sZW5ndGg7dS0tOyl7dmFyIGE9b1t1XTt0aGlzLiRrZXl3b3JkTGlzdC5wdXNoKGEpLG4mJihhPWEudG9Mb3dlckNhc2UoKSksaVthXT10fX0sdGhpcyksZT1udWxsLG4/ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZS50b0xvd2VyQ2FzZSgpXXx8dH06ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fHR9fSx0aGlzLmdldEtleXdvcmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGtleXdvcmRzfX0uY2FsbChpLnByb3RvdHlwZSksdC5UZXh0SGlnaGxpZ2h0UnVsZXM9aX0pLGFjZS5kZWZpbmUoXCJhY2UvbW9kZS9iZWhhdmlvdXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByO3I9ZnVuY3Rpb24oKXt0aGlzLiRiZWhhdmlvdXJzPXt9fSxmdW5jdGlvbigpe3RoaXMuYWRkPWZ1bmN0aW9uKGUsdCxuKXtzd2l0Y2godW5kZWZpbmVkKXtjYXNlIHRoaXMuJGJlaGF2aW91cnM6dGhpcy4kYmVoYXZpb3Vycz17fTtjYXNlIHRoaXMuJGJlaGF2aW91cnNbZV06dGhpcy4kYmVoYXZpb3Vyc1tlXT17fX10aGlzLiRiZWhhdmlvdXJzW2VdW3RdPW59LHRoaXMuYWRkQmVoYXZpb3Vycz1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlmb3IodmFyIG4gaW4gZVt0XSl0aGlzLmFkZCh0LG4sZVt0XVtuXSl9LHRoaXMucmVtb3ZlPWZ1bmN0aW9uKGUpe3RoaXMuJGJlaGF2aW91cnMmJnRoaXMuJGJlaGF2aW91cnNbZV0mJmRlbGV0ZSB0aGlzLiRiZWhhdmlvdXJzW2VdfSx0aGlzLmluaGVyaXQ9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgZT09XCJmdW5jdGlvblwiKXZhciBuPShuZXcgZSkuZ2V0QmVoYXZpb3Vycyh0KTtlbHNlIHZhciBuPWUuZ2V0QmVoYXZpb3Vycyh0KTt0aGlzLmFkZEJlaGF2aW91cnMobil9LHRoaXMuZ2V0QmVoYXZpb3Vycz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gdGhpcy4kYmVoYXZpb3Vyczt2YXIgdD17fTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLiRiZWhhdmlvdXJzW2Vbbl1dJiYodFtlW25dXT10aGlzLiRiZWhhdmlvdXJzW2Vbbl1dKTtyZXR1cm4gdH19LmNhbGwoci5wcm90b3R5cGUpLHQuQmVoYXZpb3VyPXJ9KSxhY2UuZGVmaW5lKFwiYWNlL3Rva2VuX2l0ZXJhdG9yXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuL3JhbmdlXCIpLlJhbmdlLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLiRzZXNzaW9uPWUsdGhpcy4kcm93PXQsdGhpcy4kcm93VG9rZW5zPWUuZ2V0VG9rZW5zKHQpO3ZhciByPWUuZ2V0VG9rZW5BdCh0LG4pO3RoaXMuJHRva2VuSW5kZXg9cj9yLmluZGV4Oi0xfXJldHVybiBlLnByb3RvdHlwZS5zdGVwQmFja3dhcmQ9ZnVuY3Rpb24oKXt0aGlzLiR0b2tlbkluZGV4LT0xO3doaWxlKHRoaXMuJHRva2VuSW5kZXg8MCl7dGhpcy4kcm93LT0xO2lmKHRoaXMuJHJvdzwwKXJldHVybiB0aGlzLiRyb3c9MCxudWxsO3RoaXMuJHJvd1Rva2Vucz10aGlzLiRzZXNzaW9uLmdldFRva2Vucyh0aGlzLiRyb3cpLHRoaXMuJHRva2VuSW5kZXg9dGhpcy4kcm93VG9rZW5zLmxlbmd0aC0xfXJldHVybiB0aGlzLiRyb3dUb2tlbnNbdGhpcy4kdG9rZW5JbmRleF19LGUucHJvdG90eXBlLnN0ZXBGb3J3YXJkPWZ1bmN0aW9uKCl7dGhpcy4kdG9rZW5JbmRleCs9MTt2YXIgZTt3aGlsZSh0aGlzLiR0b2tlbkluZGV4Pj10aGlzLiRyb3dUb2tlbnMubGVuZ3RoKXt0aGlzLiRyb3crPTEsZXx8KGU9dGhpcy4kc2Vzc2lvbi5nZXRMZW5ndGgoKSk7aWYodGhpcy4kcm93Pj1lKXJldHVybiB0aGlzLiRyb3c9ZS0xLG51bGw7dGhpcy4kcm93VG9rZW5zPXRoaXMuJHNlc3Npb24uZ2V0VG9rZW5zKHRoaXMuJHJvdyksdGhpcy4kdG9rZW5JbmRleD0wfXJldHVybiB0aGlzLiRyb3dUb2tlbnNbdGhpcy4kdG9rZW5JbmRleF19LGUucHJvdG90eXBlLmdldEN1cnJlbnRUb2tlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRyb3dUb2tlbnNbdGhpcy4kdG9rZW5JbmRleF19LGUucHJvdG90eXBlLmdldEN1cnJlbnRUb2tlblJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRyb3d9LGUucHJvdG90eXBlLmdldEN1cnJlbnRUb2tlbkNvbHVtbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJHJvd1Rva2Vucyx0PXRoaXMuJHRva2VuSW5kZXgsbj1lW3RdLnN0YXJ0O2lmKG4hPT11bmRlZmluZWQpcmV0dXJuIG47bj0wO3doaWxlKHQ+MCl0LT0xLG4rPWVbdF0udmFsdWUubGVuZ3RoO3JldHVybiBufSxlLnByb3RvdHlwZS5nZXRDdXJyZW50VG9rZW5Qb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybntyb3c6dGhpcy4kcm93LGNvbHVtbjp0aGlzLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpfX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFRva2VuUmFuZ2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRyb3dUb2tlbnNbdGhpcy4kdG9rZW5JbmRleF0sdD10aGlzLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpO3JldHVybiBuZXcgcih0aGlzLiRyb3csdCx0aGlzLiRyb3csdCtlLnZhbHVlLmxlbmd0aCl9LGV9KCk7dC5Ub2tlbkl0ZXJhdG9yPWl9KSxhY2UuZGVmaW5lKFwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL2JlaGF2aW91clwiLFwiYWNlL3Rva2VuX2l0ZXJhdG9yXCIsXCJhY2UvbGliL2xhbmdcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi8uLi9saWIvb29wXCIpLGk9ZShcIi4uL2JlaGF2aW91clwiKS5CZWhhdmlvdXIscz1lKFwiLi4vLi4vdG9rZW5faXRlcmF0b3JcIikuVG9rZW5JdGVyYXRvcixvPWUoXCIuLi8uLi9saWIvbGFuZ1wiKSx1PVtcInRleHRcIixcInBhcmVuLnJwYXJlblwiLFwicnBhcmVuXCIsXCJwYXJlblwiLFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIl0sYT1bXCJ0ZXh0XCIsXCJwYXJlbi5ycGFyZW5cIixcInJwYXJlblwiLFwicGFyZW5cIixcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsXCJjb21tZW50XCJdLGYsbD17fSxjPXsnXCInOidcIicsXCInXCI6XCInXCJ9LGg9ZnVuY3Rpb24oZSl7dmFyIHQ9LTE7ZS5tdWx0aVNlbGVjdCYmKHQ9ZS5zZWxlY3Rpb24uaW5kZXgsbC5yYW5nZUNvdW50IT1lLm11bHRpU2VsZWN0LnJhbmdlQ291bnQmJihsPXtyYW5nZUNvdW50OmUubXVsdGlTZWxlY3QucmFuZ2VDb3VudH0pKTtpZihsW3RdKXJldHVybiBmPWxbdF07Zj1sW3RdPXthdXRvSW5zZXJ0ZWRCcmFja2V0czowLGF1dG9JbnNlcnRlZFJvdzotMSxhdXRvSW5zZXJ0ZWRMaW5lRW5kOlwiXCIsbWF5YmVJbnNlcnRlZEJyYWNrZXRzOjAsbWF5YmVJbnNlcnRlZFJvdzotMSxtYXliZUluc2VydGVkTGluZVN0YXJ0OlwiXCIsbWF5YmVJbnNlcnRlZExpbmVFbmQ6XCJcIn19LHA9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ZS5lbmQucm93LWUuc3RhcnQucm93O3JldHVybnt0ZXh0Om4rdCtyLHNlbGVjdGlvbjpbMCxlLnN0YXJ0LmNvbHVtbisxLGksZS5lbmQuY29sdW1uKyhpPzA6MSldfX0sZDtkPWZ1bmN0aW9uKGUpe2U9ZXx8e30sdGhpcy5hZGQoXCJicmFjZXNcIixcImluc2VydGlvblwiLGZ1bmN0aW9uKHQsbixyLGkscyl7dmFyIHU9ci5nZXRDdXJzb3JQb3NpdGlvbigpLGE9aS5kb2MuZ2V0TGluZSh1LnJvdyk7aWYocz09XCJ7XCIpe2gocik7dmFyIGw9ci5nZXRTZWxlY3Rpb25SYW5nZSgpLGM9aS5kb2MuZ2V0VGV4dFJhbmdlKGwpLHY9aS5nZXRUb2tlbkF0KHUucm93LHUuY29sdW1uKTtpZihjIT09XCJcIiYmYyE9PVwie1wiJiZyLmdldFdyYXBCZWhhdmlvdXJzRW5hYmxlZCgpKXJldHVybiBwKGwsYyxcIntcIixcIn1cIik7aWYodiYmLyg/OnN0cmluZylcXC5xdWFzaXxcXC54bWwvLnRlc3Qodi50eXBlKSl7dmFyIG09Wy90YWdcXC0oPzpvcGVufG5hbWUpLywvYXR0cmlidXRlXFwtbmFtZS9dO2lmKG0uc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS50ZXN0KHYudHlwZSl9KXx8LyhzdHJpbmcpXFwucXVhc2kvLnRlc3Qodi50eXBlKSYmdi52YWx1ZVt1LmNvbHVtbi12LnN0YXJ0LTFdIT09XCIkXCIpcmV0dXJuO3JldHVybiBkLnJlY29yZEF1dG9JbnNlcnQocixpLFwifVwiKSx7dGV4dDpcInt9XCIsc2VsZWN0aW9uOlsxLDFdfX1pZihkLmlzU2FuZUluc2VydGlvbihyLGkpKXJldHVybi9bXFxdXFx9XFwpXS8udGVzdChhW3UuY29sdW1uXSl8fHIuaW5NdWx0aVNlbGVjdE1vZGV8fGUuYnJhY2VzPyhkLnJlY29yZEF1dG9JbnNlcnQocixpLFwifVwiKSx7dGV4dDpcInt9XCIsc2VsZWN0aW9uOlsxLDFdfSk6KGQucmVjb3JkTWF5YmVJbnNlcnQocixpLFwie1wiKSx7dGV4dDpcIntcIixzZWxlY3Rpb246WzEsMV19KX1lbHNlIGlmKHM9PVwifVwiKXtoKHIpO3ZhciBnPWEuc3Vic3RyaW5nKHUuY29sdW1uLHUuY29sdW1uKzEpO2lmKGc9PVwifVwiKXt2YXIgeT1pLiRmaW5kT3BlbmluZ0JyYWNrZXQoXCJ9XCIse2NvbHVtbjp1LmNvbHVtbisxLHJvdzp1LnJvd30pO2lmKHkhPT1udWxsJiZkLmlzQXV0b0luc2VydGVkQ2xvc2luZyh1LGEscykpcmV0dXJuIGQucG9wQXV0b0luc2VydGVkQ2xvc2luZygpLHt0ZXh0OlwiXCIsc2VsZWN0aW9uOlsxLDFdfX19ZWxzZXtpZihzPT1cIlxcblwifHxzPT1cIlxcclxcblwiKXtoKHIpO3ZhciBiPVwiXCI7ZC5pc01heWJlSW5zZXJ0ZWRDbG9zaW5nKHUsYSkmJihiPW8uc3RyaW5nUmVwZWF0KFwifVwiLGYubWF5YmVJbnNlcnRlZEJyYWNrZXRzKSxkLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKSk7dmFyIGc9YS5zdWJzdHJpbmcodS5jb2x1bW4sdS5jb2x1bW4rMSk7aWYoZz09PVwifVwiKXt2YXIgdz1pLmZpbmRNYXRjaGluZ0JyYWNrZXQoe3Jvdzp1LnJvdyxjb2x1bW46dS5jb2x1bW4rMX0sXCJ9XCIpO2lmKCF3KXJldHVybiBudWxsO3ZhciBFPXRoaXMuJGdldEluZGVudChpLmdldExpbmUody5yb3cpKX1lbHNle2lmKCFiKXtkLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKTtyZXR1cm59dmFyIEU9dGhpcy4kZ2V0SW5kZW50KGEpfXZhciBTPUUraS5nZXRUYWJTdHJpbmcoKTtyZXR1cm57dGV4dDpcIlxcblwiK1MrXCJcXG5cIitFK2Isc2VsZWN0aW9uOlsxLFMubGVuZ3RoLDEsUy5sZW5ndGhdfX1kLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKX19KSx0aGlzLmFkZChcImJyYWNlc1wiLFwiZGVsZXRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBzPXIuZG9jLmdldFRleHRSYW5nZShpKTtpZighaS5pc011bHRpTGluZSgpJiZzPT1cIntcIil7aChuKTt2YXIgbz1yLmRvYy5nZXRMaW5lKGkuc3RhcnQucm93KSx1PW8uc3Vic3RyaW5nKGkuZW5kLmNvbHVtbixpLmVuZC5jb2x1bW4rMSk7aWYodT09XCJ9XCIpcmV0dXJuIGkuZW5kLmNvbHVtbisrLGk7Zi5tYXliZUluc2VydGVkQnJhY2tldHMtLX19KSx0aGlzLmFkZChcInBhcmVuc1wiLFwiaW5zZXJ0aW9uXCIsZnVuY3Rpb24oZSx0LG4scixpKXtpZihpPT1cIihcIil7aChuKTt2YXIgcz1uLmdldFNlbGVjdGlvblJhbmdlKCksbz1yLmRvYy5nZXRUZXh0UmFuZ2Uocyk7aWYobyE9PVwiXCImJm4uZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpcmV0dXJuIHAocyxvLFwiKFwiLFwiKVwiKTtpZihkLmlzU2FuZUluc2VydGlvbihuLHIpKXJldHVybiBkLnJlY29yZEF1dG9JbnNlcnQobixyLFwiKVwiKSx7dGV4dDpcIigpXCIsc2VsZWN0aW9uOlsxLDFdfX1lbHNlIGlmKGk9PVwiKVwiKXtoKG4pO3ZhciB1PW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxhPXIuZG9jLmdldExpbmUodS5yb3cpLGY9YS5zdWJzdHJpbmcodS5jb2x1bW4sdS5jb2x1bW4rMSk7aWYoZj09XCIpXCIpe3ZhciBsPXIuJGZpbmRPcGVuaW5nQnJhY2tldChcIilcIix7Y29sdW1uOnUuY29sdW1uKzEscm93OnUucm93fSk7aWYobCE9PW51bGwmJmQuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKHUsYSxpKSlyZXR1cm4gZC5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCkse3RleHQ6XCJcIixzZWxlY3Rpb246WzEsMV19fX19KSx0aGlzLmFkZChcInBhcmVuc1wiLFwiZGVsZXRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBzPXIuZG9jLmdldFRleHRSYW5nZShpKTtpZighaS5pc011bHRpTGluZSgpJiZzPT1cIihcIil7aChuKTt2YXIgbz1yLmRvYy5nZXRMaW5lKGkuc3RhcnQucm93KSx1PW8uc3Vic3RyaW5nKGkuc3RhcnQuY29sdW1uKzEsaS5zdGFydC5jb2x1bW4rMik7aWYodT09XCIpXCIpcmV0dXJuIGkuZW5kLmNvbHVtbisrLGl9fSksdGhpcy5hZGQoXCJicmFja2V0c1wiLFwiaW5zZXJ0aW9uXCIsZnVuY3Rpb24oZSx0LG4scixpKXtpZihpPT1cIltcIil7aChuKTt2YXIgcz1uLmdldFNlbGVjdGlvblJhbmdlKCksbz1yLmRvYy5nZXRUZXh0UmFuZ2Uocyk7aWYobyE9PVwiXCImJm4uZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpcmV0dXJuIHAocyxvLFwiW1wiLFwiXVwiKTtpZihkLmlzU2FuZUluc2VydGlvbihuLHIpKXJldHVybiBkLnJlY29yZEF1dG9JbnNlcnQobixyLFwiXVwiKSx7dGV4dDpcIltdXCIsc2VsZWN0aW9uOlsxLDFdfX1lbHNlIGlmKGk9PVwiXVwiKXtoKG4pO3ZhciB1PW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxhPXIuZG9jLmdldExpbmUodS5yb3cpLGY9YS5zdWJzdHJpbmcodS5jb2x1bW4sdS5jb2x1bW4rMSk7aWYoZj09XCJdXCIpe3ZhciBsPXIuJGZpbmRPcGVuaW5nQnJhY2tldChcIl1cIix7Y29sdW1uOnUuY29sdW1uKzEscm93OnUucm93fSk7aWYobCE9PW51bGwmJmQuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKHUsYSxpKSlyZXR1cm4gZC5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCkse3RleHQ6XCJcIixzZWxlY3Rpb246WzEsMV19fX19KSx0aGlzLmFkZChcImJyYWNrZXRzXCIsXCJkZWxldGlvblwiLGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9ci5kb2MuZ2V0VGV4dFJhbmdlKGkpO2lmKCFpLmlzTXVsdGlMaW5lKCkmJnM9PVwiW1wiKXtoKG4pO3ZhciBvPXIuZG9jLmdldExpbmUoaS5zdGFydC5yb3cpLHU9by5zdWJzdHJpbmcoaS5zdGFydC5jb2x1bW4rMSxpLnN0YXJ0LmNvbHVtbisyKTtpZih1PT1cIl1cIilyZXR1cm4gaS5lbmQuY29sdW1uKyssaX19KSx0aGlzLmFkZChcInN0cmluZ19kcXVvdGVzXCIsXCJpbnNlcnRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBzPXIuJG1vZGUuJHF1b3Rlc3x8YztpZihpLmxlbmd0aD09MSYmc1tpXSl7aWYodGhpcy5saW5lQ29tbWVudFN0YXJ0JiZ0aGlzLmxpbmVDb21tZW50U3RhcnQuaW5kZXhPZihpKSE9LTEpcmV0dXJuO2gobik7dmFyIG89aSx1PW4uZ2V0U2VsZWN0aW9uUmFuZ2UoKSxhPXIuZG9jLmdldFRleHRSYW5nZSh1KTtpZihhIT09XCJcIiYmKGEubGVuZ3RoIT0xfHwhc1thXSkmJm4uZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpcmV0dXJuIHAodSxhLG8sbyk7aWYoIWEpe3ZhciBmPW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxsPXIuZG9jLmdldExpbmUoZi5yb3cpLGQ9bC5zdWJzdHJpbmcoZi5jb2x1bW4tMSxmLmNvbHVtbiksdj1sLnN1YnN0cmluZyhmLmNvbHVtbixmLmNvbHVtbisxKSxtPXIuZ2V0VG9rZW5BdChmLnJvdyxmLmNvbHVtbiksZz1yLmdldFRva2VuQXQoZi5yb3csZi5jb2x1bW4rMSk7aWYoZD09XCJcXFxcXCImJm0mJi9lc2NhcGUvLnRlc3QobS50eXBlKSlyZXR1cm4gbnVsbDt2YXIgeT1tJiYvc3RyaW5nfGVzY2FwZS8udGVzdChtLnR5cGUpLGI9IWd8fC9zdHJpbmd8ZXNjYXBlLy50ZXN0KGcudHlwZSksdztpZih2PT1vKXc9eSE9PWIsdyYmL3N0cmluZ1xcLmVuZC8udGVzdChnLnR5cGUpJiYodz0hMSk7ZWxzZXtpZih5JiYhYilyZXR1cm4gbnVsbDtpZih5JiZiKXJldHVybiBudWxsO3ZhciBFPXIuJG1vZGUudG9rZW5SZTtFLmxhc3RJbmRleD0wO3ZhciBTPUUudGVzdChkKTtFLmxhc3RJbmRleD0wO3ZhciB4PUUudGVzdCh2KSxUPXIuJG1vZGUuJHBhaXJRdW90ZXNBZnRlcixOPVQmJlRbb10mJlRbb10udGVzdChkKTtpZighTiYmU3x8eClyZXR1cm4gbnVsbDtpZih2JiYhL1tcXHM7LC59KVxcXVxcXFxdLy50ZXN0KHYpKXJldHVybiBudWxsO3ZhciBDPWxbZi5jb2x1bW4tMl07aWYoIShkIT1vfHxDIT1vJiYhRS50ZXN0KEMpKSlyZXR1cm4gbnVsbDt3PSEwfXJldHVybnt0ZXh0Onc/bytvOlwiXCIsc2VsZWN0aW9uOlsxLDFdfX19fSksdGhpcy5hZGQoXCJzdHJpbmdfZHF1b3Rlc1wiLFwiZGVsZXRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBzPXIuJG1vZGUuJHF1b3Rlc3x8YyxvPXIuZG9jLmdldFRleHRSYW5nZShpKTtpZighaS5pc011bHRpTGluZSgpJiZzLmhhc093blByb3BlcnR5KG8pKXtoKG4pO3ZhciB1PXIuZG9jLmdldExpbmUoaS5zdGFydC5yb3cpLGE9dS5zdWJzdHJpbmcoaS5zdGFydC5jb2x1bW4rMSxpLnN0YXJ0LmNvbHVtbisyKTtpZihhPT1vKXJldHVybiBpLmVuZC5jb2x1bW4rKyxpfX0pLGUuY2xvc2VEb2NDb21tZW50IT09ITEmJnRoaXMuYWRkKFwiZG9jIGNvbW1lbnQgZW5kXCIsXCJpbnNlcnRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe2lmKGU9PT1cImRvYy1zdGFydFwiJiYoaT09PVwiXFxuXCJ8fGk9PT1cIlxcclxcblwiKSYmbi5zZWxlY3Rpb24uaXNFbXB0eSgpKXt2YXIgcz1uLmdldEN1cnNvclBvc2l0aW9uKCk7aWYocy5jb2x1bW49PT0wKXJldHVybjt2YXIgbz1yLmRvYy5nZXRMaW5lKHMucm93KSx1PXIuZG9jLmdldExpbmUocy5yb3crMSksYT1yLmdldFRva2VucyhzLnJvdyksZj0wO2Zvcih2YXIgbD0wO2w8YS5sZW5ndGg7bCsrKXtmKz1hW2xdLnZhbHVlLmxlbmd0aDt2YXIgYz1hW2xdO2lmKGY+PXMuY29sdW1uKXtpZihmPT09cy5jb2x1bW4pe2lmKCEvXFwuZG9jLy50ZXN0KGMudHlwZSkpcmV0dXJuO2lmKC9cXCpcXC8vLnRlc3QoYy52YWx1ZSkpe3ZhciBoPWFbbCsxXTtpZighaHx8IS9cXC5kb2MvLnRlc3QoaC50eXBlKSlyZXR1cm59fXZhciBwPXMuY29sdW1uLShmLWMudmFsdWUubGVuZ3RoKSxkPWMudmFsdWUuaW5kZXhPZihcIiovXCIpLHY9Yy52YWx1ZS5pbmRleE9mKFwiLyoqXCIsZD4tMT9kKzI6MCk7aWYodiE9PS0xJiZwPnYmJnA8diszKXJldHVybjtpZihkIT09LTEmJnYhPT0tMSYmcD49ZCYmcDw9dnx8IS9cXC5kb2MvLnRlc3QoYy50eXBlKSlyZXR1cm47YnJlYWt9fXZhciBtPXRoaXMuJGdldEluZGVudChvKTtpZigvXFxzKlxcKi8udGVzdCh1KSlyZXR1cm4vXlxccypcXCovLnRlc3Qobyk/e3RleHQ6aSttK1wiKiBcIixzZWxlY3Rpb246WzEsMittLmxlbmd0aCwxLDIrbS5sZW5ndGhdfTp7dGV4dDppK20rXCIgKiBcIixzZWxlY3Rpb246WzEsMyttLmxlbmd0aCwxLDMrbS5sZW5ndGhdfTtpZigvXFwvXFwqXFwqLy50ZXN0KG8uc3Vic3RyaW5nKDAscy5jb2x1bW4pKSlyZXR1cm57dGV4dDppK20rXCIgKiBcIitpK1wiIFwiK20rXCIqL1wiLHNlbGVjdGlvbjpbMSw0K20ubGVuZ3RoLDEsNCttLmxlbmd0aF19fX0pfSxkLmlzU2FuZUluc2VydGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0Q3Vyc29yUG9zaXRpb24oKSxyPW5ldyBzKHQsbi5yb3csbi5jb2x1bW4pO2lmKCF0aGlzLiRtYXRjaFRva2VuVHlwZShyLmdldEN1cnJlbnRUb2tlbigpfHxcInRleHRcIix1KSl7aWYoL1spfVxcXV0vLnRlc3QoZS5zZXNzaW9uLmdldExpbmUobi5yb3cpW24uY29sdW1uXSkpcmV0dXJuITA7dmFyIGk9bmV3IHModCxuLnJvdyxuLmNvbHVtbisxKTtpZighdGhpcy4kbWF0Y2hUb2tlblR5cGUoaS5nZXRDdXJyZW50VG9rZW4oKXx8XCJ0ZXh0XCIsdSkpcmV0dXJuITF9cmV0dXJuIHIuc3RlcEZvcndhcmQoKSxyLmdldEN1cnJlbnRUb2tlblJvdygpIT09bi5yb3d8fHRoaXMuJG1hdGNoVG9rZW5UeXBlKHIuZ2V0Q3VycmVudFRva2VuKCl8fFwidGV4dFwiLGEpfSxkLiRtYXRjaFRva2VuVHlwZT1mdW5jdGlvbihlLHQpe3JldHVybiB0LmluZGV4T2YoZS50eXBlfHxlKT4tMX0sZC5yZWNvcmRBdXRvSW5zZXJ0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmdldEN1cnNvclBvc2l0aW9uKCksaT10LmRvYy5nZXRMaW5lKHIucm93KTt0aGlzLmlzQXV0b0luc2VydGVkQ2xvc2luZyhyLGksZi5hdXRvSW5zZXJ0ZWRMaW5lRW5kWzBdKXx8KGYuYXV0b0luc2VydGVkQnJhY2tldHM9MCksZi5hdXRvSW5zZXJ0ZWRSb3c9ci5yb3csZi5hdXRvSW5zZXJ0ZWRMaW5lRW5kPW4raS5zdWJzdHIoci5jb2x1bW4pLGYuYXV0b0luc2VydGVkQnJhY2tldHMrK30sZC5yZWNvcmRNYXliZUluc2VydD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5nZXRDdXJzb3JQb3NpdGlvbigpLGk9dC5kb2MuZ2V0TGluZShyLnJvdyk7dGhpcy5pc01heWJlSW5zZXJ0ZWRDbG9zaW5nKHIsaSl8fChmLm1heWJlSW5zZXJ0ZWRCcmFja2V0cz0wKSxmLm1heWJlSW5zZXJ0ZWRSb3c9ci5yb3csZi5tYXliZUluc2VydGVkTGluZVN0YXJ0PWkuc3Vic3RyKDAsci5jb2x1bW4pK24sZi5tYXliZUluc2VydGVkTGluZUVuZD1pLnN1YnN0cihyLmNvbHVtbiksZi5tYXliZUluc2VydGVkQnJhY2tldHMrK30sZC5pc0F1dG9JbnNlcnRlZENsb3Npbmc9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmLmF1dG9JbnNlcnRlZEJyYWNrZXRzPjAmJmUucm93PT09Zi5hdXRvSW5zZXJ0ZWRSb3cmJm49PT1mLmF1dG9JbnNlcnRlZExpbmVFbmRbMF0mJnQuc3Vic3RyKGUuY29sdW1uKT09PWYuYXV0b0luc2VydGVkTGluZUVuZH0sZC5pc01heWJlSW5zZXJ0ZWRDbG9zaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGYubWF5YmVJbnNlcnRlZEJyYWNrZXRzPjAmJmUucm93PT09Zi5tYXliZUluc2VydGVkUm93JiZ0LnN1YnN0cihlLmNvbHVtbik9PT1mLm1heWJlSW5zZXJ0ZWRMaW5lRW5kJiZ0LnN1YnN0cigwLGUuY29sdW1uKT09Zi5tYXliZUluc2VydGVkTGluZVN0YXJ0fSxkLnBvcEF1dG9JbnNlcnRlZENsb3Npbmc9ZnVuY3Rpb24oKXtmLmF1dG9JbnNlcnRlZExpbmVFbmQ9Zi5hdXRvSW5zZXJ0ZWRMaW5lRW5kLnN1YnN0cigxKSxmLmF1dG9JbnNlcnRlZEJyYWNrZXRzLS19LGQuY2xlYXJNYXliZUluc2VydGVkQ2xvc2luZz1mdW5jdGlvbigpe2YmJihmLm1heWJlSW5zZXJ0ZWRCcmFja2V0cz0wLGYubWF5YmVJbnNlcnRlZFJvdz0tMSl9LHIuaW5oZXJpdHMoZCxpKSx0LkNzdHlsZUJlaGF2aW91cj1kfSksYWNlLmRlZmluZShcImFjZS91bmljb2RlXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1bNDgsOSw4LDI1LDUsMCwyLDI1LDQ4LDAsMTEsMCw1LDAsNiwyMiwyLDMwLDIsNDU3LDUsMTEsMTUsNCw4LDAsMiwwLDE4LDExNiwyLDEsMywzLDksMCwyLDIsMiwwLDIsMTksMiw4MiwyLDEzOCwyLDQsMywxNTUsMTIsMzcsMywwLDgsMzgsMTAsNDQsMiwwLDIsMSwyLDEsMiwwLDksMjYsNiwyLDMwLDEwLDcsNjEsMiw5LDUsMTAxLDIsNywzLDksMiwxOCwzLDAsMTcsNTgsMywxMDAsMTUsNTMsNSwwLDYsNDUsMjExLDU3LDMsMTgsMiw1LDMsMTEsMyw5LDIsMSw3LDYsMiwyLDIsNywzLDEsMywyMSwyLDYsMiwwLDQsMywzLDgsMywxLDMsMyw5LDAsNSwxLDIsNCwzLDExLDE2LDIsMiw1LDUsMSwzLDIxLDIsNiwyLDEsMiwxLDIsMSwzLDAsMiw0LDUsMSwzLDIsNCwwLDgsMywyLDAsOCwxNSwxMiwyLDIsOCwyLDIsMiwyMSwyLDYsMiwxLDIsNCwzLDksMiwyLDIsMiwzLDAsMTYsMywzLDksMTgsMiwyLDcsMywxLDMsMjEsMiw2LDIsMSwyLDQsMyw4LDMsMSwzLDIsOSwxLDUsMSwyLDQsMyw5LDIsMCwxNywxLDIsNSw0LDIsMiwzLDQsMSwyLDAsMiwxLDQsMSw0LDIsNCwxMSw1LDQsNCwyLDIsMywzLDAsNywwLDE1LDksMTgsMiwyLDcsMiwyLDIsMjIsMiw5LDIsNCw0LDcsMiwyLDIsMyw4LDEsMiwxLDcsMywzLDksMTksMSwyLDcsMiwyLDIsMjIsMiw5LDIsNCwzLDgsMiwyLDIsMyw4LDEsOCwwLDIsMywzLDksMTksMSwyLDcsMiwyLDIsMjIsMiwxNSw0LDcsMiwyLDIsMywxMCwwLDksMywzLDksMTEsNSwzLDEsMiwxNyw0LDIzLDIsOCwyLDAsMyw2LDQsMCw1LDUsMiwwLDIsNywxOSwxLDE0LDU3LDYsMTQsMiw5LDQwLDEsMiwwLDMsMSwyLDAsMywwLDcsMywyLDYsMiwyLDIsMCwyLDAsMywxLDIsMTIsMiwyLDMsNCwyLDAsMiw1LDMsOSwzLDEsMzUsMCwyNCwxLDcsOSwxMiwwLDIsMCwyLDAsNSw5LDIsMzUsNSwxOSwyLDUsNSw3LDIsMzUsMTAsMCw1OCw3Myw3LDc3LDMsMzcsMTEsNDIsMiwwLDQsMzI4LDIsMywzLDYsMiwwLDIsMywzLDQwLDIsMywzLDMyLDIsMywzLDYsMiwwLDIsMywzLDE0LDIsNTYsMiwzLDMsNjYsNSwwLDMzLDE1LDE3LDg0LDEzLDYxOSwzLDE2LDIsMjUsNiw3NCwyMiwxMiwyLDYsMTIsMjAsMTIsMTksMTMsMTIsMiwyLDIsMSwxMyw1MSwzLDI5LDQsMCw1LDEsMyw5LDM0LDIsMyw5LDcsODcsOSw0Miw2LDY5LDExLDI4LDQsMTEsNSwxMSwxMSwzOSwzLDQsMTIsNDMsNSwyNSw3LDEwLDM4LDI3LDUsNjIsMiwyOCwzLDEwLDcsOSwxNCwwLDg5LDc1LDUsOSwxOCw4LDEzLDQyLDQsMTEsNzEsNTUsOSw5LDQsNDgsODMsMiwyLDMwLDE0LDIzMCwyMywyODAsMyw1LDMsMzcsMyw1LDMsNywyLDAsMiwwLDIsMCwyLDMwLDMsNTIsMiw2LDIsMCw0LDIsMiw2LDQsMywzLDUsNSwxMiw2LDIsMiw2LDY3LDEsMjAsMCwyOSwwLDE0LDAsMTcsNCw2MCwxMiw1LDAsNCwxMSwxOCwwLDUsMCwzLDksMiwwLDQsNCw3LDAsMiwwLDIsMCwyLDMsMiwxMCwzLDMsNiw0LDUsMCw1MywxLDI2ODQsNDYsMiw0NiwyLDEzMiw3LDYsMTUsMzcsMTEsNTMsMTAsMCwxNywyMiwxMCw2LDIsNiwyLDYsMiw2LDIsNiwyLDYsMiw2LDIsNiwyLDMxLDQ4LDAsNDcwLDEsMzYsNSwyLDQsNiwxLDUsODUsMywxLDMsMiwyLDg5LDIsMyw2LDQwLDQsOTMsMTgsMjMsNTcsMTUsNTEzLDY1ODEsNzUsMjA5MzksNTMsMTE2NCw2OCw0NSwzLDI2OCw0LDI3LDIxLDMxLDMsMTMsMTMsMSwyLDI0LDksNjksMTEsMSwzOCw4LDMsMTAyLDMsMSwxMTEsNDQsMjUsNTEsMTMsNjgsMTIsOSw3LDIzLDQsMCw1LDQ1LDMsMzUsMTMsMjgsNCw2NCwxNSwxMCwzOSw1NCwxMCwxMywzLDksNywyMiw0LDEsNSw2NiwyNSwyLDIyNyw0MiwyLDEsMyw5LDcsMTExNzEsMTMsMjIsNSw0OCw4NDUzLDMwMSwzLDYxLDMsMTA1LDM5LDYsMTMsNCw2LDExLDIsMTIsMiw0LDIsMCwyLDEsMiwxLDIsMTA3LDM0LDM2MiwxOSw2MywzLDUzLDQxLDExLDUsMTUsMTcsNiwxMywxLDI1LDIsMzMsNCwyLDEzNCwyMCw5LDgsMjUsNSwwLDIsMjUsMTIsODgsNCw1LDMsNSwzLDUsMywyXSxpPTAscz1bXTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rPTIpcy5wdXNoKGkrPXJbb10pLHJbbysxXSYmcy5wdXNoKDQ1LGkrPXJbbysxXSk7dC53b3JkQ2hhcnM9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHMpfSksYWNlLmRlZmluZShcImFjZS9tb2RlL3RleHRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9jb25maWdcIixcImFjZS90b2tlbml6ZXJcIixcImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXIvY3N0eWxlXCIsXCJhY2UvdW5pY29kZVwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvdG9rZW5faXRlcmF0b3JcIixcImFjZS9yYW5nZVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uL2NvbmZpZ1wiKSxpPWUoXCIuLi90b2tlbml6ZXJcIikuVG9rZW5pemVyLHM9ZShcIi4vdGV4dF9oaWdobGlnaHRfcnVsZXNcIikuVGV4dEhpZ2hsaWdodFJ1bGVzLG89ZShcIi4vYmVoYXZpb3VyL2NzdHlsZVwiKS5Dc3R5bGVCZWhhdmlvdXIsdT1lKFwiLi4vdW5pY29kZVwiKSxhPWUoXCIuLi9saWIvbGFuZ1wiKSxmPWUoXCIuLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yLGw9ZShcIi4uL3JhbmdlXCIpLlJhbmdlLGM7Yz1mdW5jdGlvbigpe3RoaXMuSGlnaGxpZ2h0UnVsZXM9c30sZnVuY3Rpb24oKXt0aGlzLiRkZWZhdWx0QmVoYXZpb3VyPW5ldyBvLHRoaXMudG9rZW5SZT1uZXcgUmVnRXhwKFwiXltcIit1LndvcmRDaGFycytcIlxcXFwkX10rXCIsXCJnXCIpLHRoaXMubm9uVG9rZW5SZT1uZXcgUmVnRXhwKFwiXig/OlteXCIrdS53b3JkQ2hhcnMrXCJcXFxcJF9dfFxcXFxzXSkrXCIsXCJnXCIpLHRoaXMuZ2V0VG9rZW5pemVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRva2VuaXplcnx8KHRoaXMuJGhpZ2hsaWdodFJ1bGVzPXRoaXMuJGhpZ2hsaWdodFJ1bGVzfHxuZXcgdGhpcy5IaWdobGlnaHRSdWxlcyh0aGlzLiRoaWdobGlnaHRSdWxlQ29uZmlnKSx0aGlzLiR0b2tlbml6ZXI9bmV3IGkodGhpcy4kaGlnaGxpZ2h0UnVsZXMuZ2V0UnVsZXMoKSkpLHRoaXMuJHRva2VuaXplcn0sdGhpcy5saW5lQ29tbWVudFN0YXJ0PVwiXCIsdGhpcy5ibG9ja0NvbW1lbnQ9XCJcIix0aGlzLnRvZ2dsZUNvbW1lbnRMaW5lcz1mdW5jdGlvbihlLHQsbixyKXtmdW5jdGlvbiB3KGUpe2Zvcih2YXIgdD1uO3Q8PXI7dCsrKWUoaS5nZXRMaW5lKHQpLHQpfXZhciBpPXQuZG9jLHM9ITAsbz0hMCx1PUluZmluaXR5LGY9dC5nZXRUYWJTaXplKCksbD0hMTtpZighdGhpcy5saW5lQ29tbWVudFN0YXJ0KXtpZighdGhpcy5ibG9ja0NvbW1lbnQpcmV0dXJuITE7dmFyIGM9dGhpcy5ibG9ja0NvbW1lbnQuc3RhcnQsaD10aGlzLmJsb2NrQ29tbWVudC5lbmQscD1uZXcgUmVnRXhwKFwiXihcXFxccyopKD86XCIrYS5lc2NhcGVSZWdFeHAoYykrXCIpXCIpLGQ9bmV3IFJlZ0V4cChcIig/OlwiK2EuZXNjYXBlUmVnRXhwKGgpK1wiKVxcXFxzKiRcIiksdj1mdW5jdGlvbihlLHQpe2lmKGcoZSx0KSlyZXR1cm47aWYoIXN8fC9cXFMvLnRlc3QoZSkpaS5pbnNlcnRJbkxpbmUoe3Jvdzp0LGNvbHVtbjplLmxlbmd0aH0saCksaS5pbnNlcnRJbkxpbmUoe3Jvdzp0LGNvbHVtbjp1fSxjKX0sbT1mdW5jdGlvbihlLHQpe3ZhciBuOyhuPWUubWF0Y2goZCkpJiZpLnJlbW92ZUluTGluZSh0LGUubGVuZ3RoLW5bMF0ubGVuZ3RoLGUubGVuZ3RoKSwobj1lLm1hdGNoKHApKSYmaS5yZW1vdmVJbkxpbmUodCxuWzFdLmxlbmd0aCxuWzBdLmxlbmd0aCl9LGc9ZnVuY3Rpb24oZSxuKXtpZihwLnRlc3QoZSkpcmV0dXJuITA7dmFyIHI9dC5nZXRUb2tlbnMobik7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXS50eXBlPT09XCJjb21tZW50XCIpcmV0dXJuITB9fWVsc2V7aWYoQXJyYXkuaXNBcnJheSh0aGlzLmxpbmVDb21tZW50U3RhcnQpKXZhciBwPXRoaXMubGluZUNvbW1lbnRTdGFydC5tYXAoYS5lc2NhcGVSZWdFeHApLmpvaW4oXCJ8XCIpLGM9dGhpcy5saW5lQ29tbWVudFN0YXJ0WzBdO2Vsc2UgdmFyIHA9YS5lc2NhcGVSZWdFeHAodGhpcy5saW5lQ29tbWVudFN0YXJ0KSxjPXRoaXMubGluZUNvbW1lbnRTdGFydDtwPW5ldyBSZWdFeHAoXCJeKFxcXFxzKikoPzpcIitwK1wiKSA/XCIpLGw9dC5nZXRVc2VTb2Z0VGFicygpO3ZhciBtPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5tYXRjaChwKTtpZighbilyZXR1cm47dmFyIHI9blsxXS5sZW5ndGgscz1uWzBdLmxlbmd0aDshYihlLHIscykmJm5bMF1bcy0xXT09XCIgXCImJnMtLSxpLnJlbW92ZUluTGluZSh0LHIscyl9LHk9YytcIiBcIix2PWZ1bmN0aW9uKGUsdCl7aWYoIXN8fC9cXFMvLnRlc3QoZSkpYihlLHUsdSk/aS5pbnNlcnRJbkxpbmUoe3Jvdzp0LGNvbHVtbjp1fSx5KTppLmluc2VydEluTGluZSh7cm93OnQsY29sdW1uOnV9LGMpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAudGVzdChlKX0sYj1mdW5jdGlvbihlLHQsbil7dmFyIHI9MDt3aGlsZSh0LS0mJmUuY2hhckF0KHQpPT1cIiBcIilyKys7aWYociVmIT0wKXJldHVybiExO3ZhciByPTA7d2hpbGUoZS5jaGFyQXQobisrKT09XCIgXCIpcisrO3JldHVybiBmPjI/ciVmIT1mLTE6ciVmPT0wfX12YXIgRT1JbmZpbml0eTt3KGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zZWFyY2goL1xcUy8pO24hPT0tMT8objx1JiYodT1uKSxvJiYhZyhlLHQpJiYobz0hMSkpOkU+ZS5sZW5ndGgmJihFPWUubGVuZ3RoKX0pLHU9PUluZmluaXR5JiYodT1FLHM9ITEsbz0hMSksbCYmdSVmIT0wJiYodT1NYXRoLmZsb29yKHUvZikqZiksdyhvP206dil9LHRoaXMudG9nZ2xlQmxvY2tDb21tZW50PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuYmxvY2tDb21tZW50O2lmKCFpKXJldHVybjshaS5zdGFydCYmaVswXSYmKGk9aVswXSk7dmFyIHM9bmV3IGYodCxyLnJvdyxyLmNvbHVtbiksbz1zLmdldEN1cnJlbnRUb2tlbigpLHU9dC5zZWxlY3Rpb24sYT10LnNlbGVjdGlvbi50b09yaWVudGVkUmFuZ2UoKSxjLGg7aWYobyYmL2NvbW1lbnQvLnRlc3Qoby50eXBlKSl7dmFyIHAsZDt3aGlsZShvJiYvY29tbWVudC8udGVzdChvLnR5cGUpKXt2YXIgdj1vLnZhbHVlLmluZGV4T2YoaS5zdGFydCk7aWYodiE9LTEpe3ZhciBtPXMuZ2V0Q3VycmVudFRva2VuUm93KCksZz1zLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpK3Y7cD1uZXcgbChtLGcsbSxnK2kuc3RhcnQubGVuZ3RoKTticmVha31vPXMuc3RlcEJhY2t3YXJkKCl9dmFyIHM9bmV3IGYodCxyLnJvdyxyLmNvbHVtbiksbz1zLmdldEN1cnJlbnRUb2tlbigpO3doaWxlKG8mJi9jb21tZW50Ly50ZXN0KG8udHlwZSkpe3ZhciB2PW8udmFsdWUuaW5kZXhPZihpLmVuZCk7aWYodiE9LTEpe3ZhciBtPXMuZ2V0Q3VycmVudFRva2VuUm93KCksZz1zLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpK3Y7ZD1uZXcgbChtLGcsbSxnK2kuZW5kLmxlbmd0aCk7YnJlYWt9bz1zLnN0ZXBGb3J3YXJkKCl9ZCYmdC5yZW1vdmUoZCkscCYmKHQucmVtb3ZlKHApLGM9cC5zdGFydC5yb3csaD0taS5zdGFydC5sZW5ndGgpfWVsc2UgaD1pLnN0YXJ0Lmxlbmd0aCxjPW4uc3RhcnQucm93LHQuaW5zZXJ0KG4uZW5kLGkuZW5kKSx0Lmluc2VydChuLnN0YXJ0LGkuc3RhcnQpO2Euc3RhcnQucm93PT1jJiYoYS5zdGFydC5jb2x1bW4rPWgpLGEuZW5kLnJvdz09YyYmKGEuZW5kLmNvbHVtbis9aCksdC5zZWxlY3Rpb24uZnJvbU9yaWVudGVkUmFuZ2UoYSl9LHRoaXMuZ2V0TmV4dExpbmVJbmRlbnQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLiRnZXRJbmRlbnQodCl9LHRoaXMuY2hlY2tPdXRkZW50PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMX0sdGhpcy5hdXRvT3V0ZGVudD1mdW5jdGlvbihlLHQsbil7fSx0aGlzLiRnZXRJbmRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goL15cXHMqLylbMF19LHRoaXMuY3JlYXRlV29ya2VyPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSx0aGlzLmNyZWF0ZU1vZGVEZWxlZ2F0ZXM9ZnVuY3Rpb24oZSl7dGhpcy4kZW1iZWRzPVtdLHRoaXMuJG1vZGVzPXt9O2Zvcih2YXIgdCBpbiBlKWlmKGVbdF0pe3ZhciBuPWVbdF0saT1uLnByb3RvdHlwZS4kaWQscz1yLiRtb2Rlc1tpXTtzfHwoci4kbW9kZXNbaV09cz1uZXcgbiksci4kbW9kZXNbdF18fChyLiRtb2Rlc1t0XT1zKSx0aGlzLiRlbWJlZHMucHVzaCh0KSx0aGlzLiRtb2Rlc1t0XT1zfXZhciBvPVtcInRvZ2dsZUJsb2NrQ29tbWVudFwiLFwidG9nZ2xlQ29tbWVudExpbmVzXCIsXCJnZXROZXh0TGluZUluZGVudFwiLFwiY2hlY2tPdXRkZW50XCIsXCJhdXRvT3V0ZGVudFwiLFwidHJhbnNmb3JtQWN0aW9uXCIsXCJnZXRDb21wbGV0aW9uc1wiXSx1PWZ1bmN0aW9uKGUpeyhmdW5jdGlvbih0KXt2YXIgbj1vW2VdLHI9dFtuXTt0W29bZV1dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGRlbGVnYXRvcihuLGFyZ3VtZW50cyxyKX19KShhKX0sYT10aGlzO2Zvcih2YXIgdD0wO3Q8by5sZW5ndGg7dCsrKXUodCl9LHRoaXMuJGRlbGVnYXRvcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXXx8XCJzdGFydFwiO2lmKHR5cGVvZiByIT1cInN0cmluZ1wiKXtpZihBcnJheS5pc0FycmF5KHJbMl0pKXt2YXIgaT1yWzJdW3JbMl0ubGVuZ3RoLTFdLHM9dGhpcy4kbW9kZXNbaV07aWYocylyZXR1cm4gc1tlXS5hcHBseShzLFtyWzFdXS5jb25jYXQoW10uc2xpY2UuY2FsbCh0LDEpKSl9cj1yWzBdfHxcInN0YXJ0XCJ9Zm9yKHZhciBvPTA7bzx0aGlzLiRlbWJlZHMubGVuZ3RoO28rKyl7aWYoIXRoaXMuJG1vZGVzW3RoaXMuJGVtYmVkc1tvXV0pY29udGludWU7dmFyIHU9ci5zcGxpdCh0aGlzLiRlbWJlZHNbb10pO2lmKCF1WzBdJiZ1WzFdKXt0WzBdPXVbMV07dmFyIHM9dGhpcy4kbW9kZXNbdGhpcy4kZW1iZWRzW29dXTtyZXR1cm4gc1tlXS5hcHBseShzLHQpfX12YXIgYT1uLmFwcGx5KHRoaXMsdCk7cmV0dXJuIG4/YTp1bmRlZmluZWR9LHRoaXMudHJhbnNmb3JtQWN0aW9uPWZ1bmN0aW9uKGUsdCxuLHIsaSl7aWYodGhpcy4kYmVoYXZpb3VyKXt2YXIgcz10aGlzLiRiZWhhdmlvdXIuZ2V0QmVoYXZpb3VycygpO2Zvcih2YXIgbyBpbiBzKWlmKHNbb11bdF0pe3ZhciB1PXNbb11bdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHUpcmV0dXJuIHV9fX0sdGhpcy5nZXRLZXl3b3Jkcz1mdW5jdGlvbihlKXtpZighdGhpcy5jb21wbGV0aW9uS2V5d29yZHMpe3ZhciB0PXRoaXMuJHRva2VuaXplci5ydWxlcyxuPVtdO2Zvcih2YXIgciBpbiB0KXt2YXIgaT10W3JdO2Zvcih2YXIgcz0wLG89aS5sZW5ndGg7czxvO3MrKylpZih0eXBlb2YgaVtzXS50b2tlbj09XCJzdHJpbmdcIikva2V5d29yZHxzdXBwb3J0fHN0b3JhZ2UvLnRlc3QoaVtzXS50b2tlbikmJm4ucHVzaChpW3NdLnJlZ2V4KTtlbHNlIGlmKHR5cGVvZiBpW3NdLnRva2VuPT1cIm9iamVjdFwiKWZvcih2YXIgdT0wLGE9aVtzXS50b2tlbi5sZW5ndGg7dTxhO3UrKylpZigva2V5d29yZHxzdXBwb3J0fHN0b3JhZ2UvLnRlc3QoaVtzXS50b2tlblt1XSkpe3ZhciByPWlbc10ucmVnZXgubWF0Y2goL1xcKC4rP1xcKS9nKVt1XTtuLnB1c2goci5zdWJzdHIoMSxyLmxlbmd0aC0yKSl9fXRoaXMuY29tcGxldGlvbktleXdvcmRzPW59cmV0dXJuIGU/bi5jb25jYXQodGhpcy4ka2V5d29yZExpc3R8fFtdKTp0aGlzLiRrZXl3b3JkTGlzdH0sdGhpcy4kY3JlYXRlS2V5d29yZExpc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaGlnaGxpZ2h0UnVsZXN8fHRoaXMuZ2V0VG9rZW5pemVyKCksdGhpcy4ka2V5d29yZExpc3Q9dGhpcy4kaGlnaGxpZ2h0UnVsZXMuJGtleXdvcmRMaXN0fHxbXX0sdGhpcy5nZXRDb21wbGV0aW9ucz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLiRrZXl3b3JkTGlzdHx8dGhpcy4kY3JlYXRlS2V5d29yZExpc3QoKTtyZXR1cm4gaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6ZSx2YWx1ZTplLHNjb3JlOjAsbWV0YTpcImtleXdvcmRcIn19KX0sdGhpcy4kaWQ9XCJhY2UvbW9kZS90ZXh0XCJ9LmNhbGwoYy5wcm90b3R5cGUpLHQuTW9kZT1jfSksYWNlLmRlZmluZShcImFjZS9saW5lX3dpZGdldHNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9saWIvZG9tXCIpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuc2Vzc2lvbj1lLHRoaXMuc2Vzc2lvbi53aWRnZXRNYW5hZ2VyPXRoaXMsdGhpcy5zZXNzaW9uLmdldFJvd0xlbmd0aD10aGlzLmdldFJvd0xlbmd0aCx0aGlzLnNlc3Npb24uJGdldFdpZGdldFNjcmVlbkxlbmd0aD10aGlzLiRnZXRXaWRnZXRTY3JlZW5MZW5ndGgsdGhpcy51cGRhdGVPbkNoYW5nZT10aGlzLnVwZGF0ZU9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5yZW5kZXJXaWRnZXRzPXRoaXMucmVuZGVyV2lkZ2V0cy5iaW5kKHRoaXMpLHRoaXMubWVhc3VyZVdpZGdldHM9dGhpcy5tZWFzdXJlV2lkZ2V0cy5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5fY2hhbmdlZFdpZGdldHM9W10sdGhpcy4kb25DaGFuZ2VFZGl0b3I9dGhpcy4kb25DaGFuZ2VFZGl0b3IuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VcIix0aGlzLnVwZGF0ZU9uQ2hhbmdlKSx0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VGb2xkXCIsdGhpcy51cGRhdGVPbkZvbGQpLHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUVkaXRvclwiLHRoaXMuJG9uQ2hhbmdlRWRpdG9yKX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0Um93TGVuZ3RoPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzLmxpbmVXaWRnZXRzP3Q9dGhpcy5saW5lV2lkZ2V0c1tlXSYmdGhpcy5saW5lV2lkZ2V0c1tlXS5yb3dDb3VudHx8MDp0PTAsIXRoaXMuJHVzZVdyYXBNb2RlfHwhdGhpcy4kd3JhcERhdGFbZV0/MSt0OnRoaXMuJHdyYXBEYXRhW2VdLmxlbmd0aCsxK3R9LGUucHJvdG90eXBlLiRnZXRXaWRnZXRTY3JlZW5MZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT0wO3JldHVybiB0aGlzLmxpbmVXaWRnZXRzLmZvckVhY2goZnVuY3Rpb24odCl7dCYmdC5yb3dDb3VudCYmIXQuaGlkZGVuJiYoZSs9dC5yb3dDb3VudCl9KSxlfSxlLnByb3RvdHlwZS4kb25DaGFuZ2VFZGl0b3I9ZnVuY3Rpb24oZSl7dGhpcy5hdHRhY2goZS5lZGl0b3IpfSxlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oZSl7ZSYmZS53aWRnZXRNYW5hZ2VyJiZlLndpZGdldE1hbmFnZXIhPXRoaXMmJmUud2lkZ2V0TWFuYWdlci5kZXRhY2goKTtpZih0aGlzLmVkaXRvcj09ZSlyZXR1cm47dGhpcy5kZXRhY2goKSx0aGlzLmVkaXRvcj1lLGUmJihlLndpZGdldE1hbmFnZXI9dGhpcyxlLnJlbmRlcmVyLm9uKFwiYmVmb3JlUmVuZGVyXCIsdGhpcy5tZWFzdXJlV2lkZ2V0cyksZS5yZW5kZXJlci5vbihcImFmdGVyUmVuZGVyXCIsdGhpcy5yZW5kZXJXaWRnZXRzKSl9LGUucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVkaXRvcjtpZighdClyZXR1cm47dGhpcy5lZGl0b3I9bnVsbCx0LndpZGdldE1hbmFnZXI9bnVsbCx0LnJlbmRlcmVyLm9mZihcImJlZm9yZVJlbmRlclwiLHRoaXMubWVhc3VyZVdpZGdldHMpLHQucmVuZGVyZXIub2ZmKFwiYWZ0ZXJSZW5kZXJcIix0aGlzLnJlbmRlcldpZGdldHMpO3ZhciBuPXRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cztuJiZuLmZvckVhY2goZnVuY3Rpb24oZSl7ZSYmZS5lbCYmZS5lbC5wYXJlbnROb2RlJiYoZS5faW5Eb2N1bWVudD0hMSxlLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZS5lbCkpfSl9LGUucHJvdG90eXBlLnVwZGF0ZU9uRm9sZD1mdW5jdGlvbihlLHQpe3ZhciBuPXQubGluZVdpZGdldHM7aWYoIW58fCFlLmFjdGlvbilyZXR1cm47dmFyIHI9ZS5kYXRhLGk9ci5zdGFydC5yb3cscz1yLmVuZC5yb3csbz1lLmFjdGlvbj09XCJhZGRcIjtmb3IodmFyIHU9aSsxO3U8czt1Kyspblt1XSYmKG5bdV0uaGlkZGVuPW8pO25bc10mJihvP25baV0/bltzXS5oaWRkZW49bzpuW2ldPW5bc106KG5baV09PW5bc10mJihuW2ldPXVuZGVmaW5lZCksbltzXS5oaWRkZW49bykpfSxlLnByb3RvdHlwZS51cGRhdGVPbkNoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNlc3Npb24ubGluZVdpZGdldHM7aWYoIXQpcmV0dXJuO3ZhciBuPWUuc3RhcnQucm93LHI9ZS5lbmQucm93LW47aWYociE9PTApaWYoZS5hY3Rpb249PVwicmVtb3ZlXCIpe3ZhciBpPXQuc3BsaWNlKG4rMSxyKTshdFtuXSYmaVtpLmxlbmd0aC0xXSYmKHRbbl09aS5wb3AoKSksaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UmJnRoaXMucmVtb3ZlTGluZVdpZGdldChlKX0sdGhpcyksdGhpcy4kdXBkYXRlUm93cygpfWVsc2V7dmFyIHM9bmV3IEFycmF5KHIpO3Rbbl0mJnRbbl0uY29sdW1uIT1udWxsJiZlLnN0YXJ0LmNvbHVtbj50W25dLmNvbHVtbiYmbisrLHMudW5zaGlmdChuLDApLHQuc3BsaWNlLmFwcGx5KHQscyksdGhpcy4kdXBkYXRlUm93cygpfX0sZS5wcm90b3R5cGUuJHVwZGF0ZVJvd3M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24ubGluZVdpZGdldHM7aWYoIWUpcmV0dXJuO3ZhciB0PSEwO2UuZm9yRWFjaChmdW5jdGlvbihlLG4pe2lmKGUpe3Q9ITEsZS5yb3c9bjt3aGlsZShlLiRvbGRXaWRnZXQpZS4kb2xkV2lkZ2V0LnJvdz1uLGU9ZS4kb2xkV2lkZ2V0fX0pLHQmJih0aGlzLnNlc3Npb24ubGluZVdpZGdldHM9bnVsbCl9LGUucHJvdG90eXBlLiRyZWdpc3RlckxpbmVXaWRnZXQ9ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzfHwodGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzPW5ldyBBcnJheSh0aGlzLnNlc3Npb24uZ2V0TGVuZ3RoKCkpKTt2YXIgdD10aGlzLnNlc3Npb24ubGluZVdpZGdldHNbZS5yb3ddO3JldHVybiB0JiYoZS4kb2xkV2lkZ2V0PXQsdC5lbCYmdC5lbC5wYXJlbnROb2RlJiYodC5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQuZWwpLHQuX2luRG9jdW1lbnQ9ITEpKSx0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbZS5yb3ddPWUsZX0sZS5wcm90b3R5cGUuYWRkTGluZVdpZGdldD1mdW5jdGlvbihlKXt0aGlzLiRyZWdpc3RlckxpbmVXaWRnZXQoZSksZS5zZXNzaW9uPXRoaXMuc2Vzc2lvbjtpZighdGhpcy5lZGl0b3IpcmV0dXJuIGU7dmFyIHQ9dGhpcy5lZGl0b3IucmVuZGVyZXI7ZS5odG1sJiYhZS5lbCYmKGUuZWw9ci5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGUuZWwuaW5uZXJIVE1MPWUuaHRtbCksZS50ZXh0JiYhZS5lbCYmKGUuZWw9ci5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGUuZWwudGV4dENvbnRlbnQ9ZS50ZXh0KSxlLmVsJiYoci5hZGRDc3NDbGFzcyhlLmVsLFwiYWNlX2xpbmVXaWRnZXRDb250YWluZXJcIiksZS5jbGFzc05hbWUmJnIuYWRkQ3NzQ2xhc3MoZS5lbCxlLmNsYXNzTmFtZSksZS5lbC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5lbC5zdHlsZS56SW5kZXg9XCI1XCIsdC5jb250YWluZXIuYXBwZW5kQ2hpbGQoZS5lbCksZS5faW5Eb2N1bWVudD0hMCxlLmNvdmVyR3V0dGVyfHwoZS5lbC5zdHlsZS56SW5kZXg9XCIzXCIpLGUucGl4ZWxIZWlnaHQ9PW51bGwmJihlLnBpeGVsSGVpZ2h0PWUuZWwub2Zmc2V0SGVpZ2h0KSksZS5yb3dDb3VudD09bnVsbCYmKGUucm93Q291bnQ9ZS5waXhlbEhlaWdodC90LmxheWVyQ29uZmlnLmxpbmVIZWlnaHQpO3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZS5yb3csMCk7ZS4kZm9sZD1uO2lmKG4pe3ZhciBpPXRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cztlLnJvdz09bi5lbmQucm93JiYhaVtuLnN0YXJ0LnJvd10/aVtuLnN0YXJ0LnJvd109ZTplLmhpZGRlbj0hMH1yZXR1cm4gdGhpcy5zZXNzaW9uLl9lbWl0KFwiY2hhbmdlRm9sZFwiLHtkYXRhOntzdGFydDp7cm93OmUucm93fX19KSx0aGlzLiR1cGRhdGVSb3dzKCksdGhpcy5yZW5kZXJXaWRnZXRzKG51bGwsdCksdGhpcy5vbldpZGdldENoYW5nZWQoZSksZX0sZS5wcm90b3R5cGUucmVtb3ZlTGluZVdpZGdldD1mdW5jdGlvbihlKXtlLl9pbkRvY3VtZW50PSExLGUuc2Vzc2lvbj1udWxsLGUuZWwmJmUuZWwucGFyZW50Tm9kZSYmZS5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUuZWwpO2lmKGUuZWRpdG9yJiZlLmVkaXRvci5kZXN0cm95KXRyeXtlLmVkaXRvci5kZXN0cm95KCl9Y2F0Y2godCl7fWlmKHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cyl7dmFyIG49dGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzW2Uucm93XTtpZihuPT1lKXRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0c1tlLnJvd109ZS4kb2xkV2lkZ2V0LGUuJG9sZFdpZGdldCYmdGhpcy5vbldpZGdldENoYW5nZWQoZS4kb2xkV2lkZ2V0KTtlbHNlIHdoaWxlKG4pe2lmKG4uJG9sZFdpZGdldD09ZSl7bi4kb2xkV2lkZ2V0PWUuJG9sZFdpZGdldDticmVha31uPW4uJG9sZFdpZGdldH19dGhpcy5zZXNzaW9uLl9lbWl0KFwiY2hhbmdlRm9sZFwiLHtkYXRhOntzdGFydDp7cm93OmUucm93fX19KSx0aGlzLiR1cGRhdGVSb3dzKCl9LGUucHJvdG90eXBlLmdldFdpZGdldHNBdFJvdz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNlc3Npb24ubGluZVdpZGdldHMsbj10JiZ0W2VdLHI9W107d2hpbGUobilyLnB1c2gobiksbj1uLiRvbGRXaWRnZXQ7cmV0dXJuIHJ9LGUucHJvdG90eXBlLm9uV2lkZ2V0Q2hhbmdlZD1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb24uX2NoYW5nZWRXaWRnZXRzLnB1c2goZSksdGhpcy5lZGl0b3ImJnRoaXMuZWRpdG9yLnJlbmRlcmVyLnVwZGF0ZUZ1bGwoKX0sZS5wcm90b3R5cGUubWVhc3VyZVdpZGdldHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNlc3Npb24uX2NoYW5nZWRXaWRnZXRzLHI9dC5sYXllckNvbmZpZztpZighbnx8IW4ubGVuZ3RoKXJldHVybjt2YXIgaT1JbmZpbml0eTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIG89bltzXTtpZighb3x8IW8uZWwpY29udGludWU7aWYoby5zZXNzaW9uIT10aGlzLnNlc3Npb24pY29udGludWU7aWYoIW8uX2luRG9jdW1lbnQpe2lmKHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0c1tvLnJvd10hPW8pY29udGludWU7by5faW5Eb2N1bWVudD0hMCx0LmNvbnRhaW5lci5hcHBlbmRDaGlsZChvLmVsKX1vLmg9by5lbC5vZmZzZXRIZWlnaHQsby5maXhlZFdpZHRofHwoby53PW8uZWwub2Zmc2V0V2lkdGgsby5zY3JlZW5XaWR0aD1NYXRoLmNlaWwoby53L3IuY2hhcmFjdGVyV2lkdGgpKTt2YXIgdT1vLmgvci5saW5lSGVpZ2h0O28uY292ZXJMaW5lJiYodS09dGhpcy5zZXNzaW9uLmdldFJvd0xpbmVDb3VudChvLnJvdyksdTwwJiYodT0wKSksby5yb3dDb3VudCE9dSYmKG8ucm93Q291bnQ9dSxvLnJvdzxpJiYoaT1vLnJvdykpfWkhPUluZmluaXR5JiYodGhpcy5zZXNzaW9uLl9lbWl0KFwiY2hhbmdlRm9sZFwiLHtkYXRhOntzdGFydDp7cm93Oml9fX0pLHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0V2lkdGg9bnVsbCksdGhpcy5zZXNzaW9uLl9jaGFuZ2VkV2lkZ2V0cz1bXX0sZS5wcm90b3R5cGUucmVuZGVyV2lkZ2V0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXQubGF5ZXJDb25maWcscj10aGlzLnNlc3Npb24ubGluZVdpZGdldHM7aWYoIXIpcmV0dXJuO3ZhciBpPU1hdGgubWluKHRoaXMuZmlyc3RSb3csbi5maXJzdFJvdykscz1NYXRoLm1heCh0aGlzLmxhc3RSb3csbi5sYXN0Um93LHIubGVuZ3RoKTt3aGlsZShpPjAmJiFyW2ldKWktLTt0aGlzLmZpcnN0Um93PW4uZmlyc3RSb3csdGhpcy5sYXN0Um93PW4ubGFzdFJvdyx0LiRjdXJzb3JMYXllci5jb25maWc9bjtmb3IodmFyIG89aTtvPD1zO28rKyl7dmFyIHU9cltvXTtpZighdXx8IXUuZWwpY29udGludWU7aWYodS5oaWRkZW4pe3UuZWwuc3R5bGUudG9wPS0xMDAtKHUucGl4ZWxIZWlnaHR8fDApK1wicHhcIjtjb250aW51ZX11Ll9pbkRvY3VtZW50fHwodS5faW5Eb2N1bWVudD0hMCx0LmNvbnRhaW5lci5hcHBlbmRDaGlsZCh1LmVsKSk7dmFyIGE9dC4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbih7cm93Om8sY29sdW1uOjB9LCEwKS50b3A7dS5jb3ZlckxpbmV8fChhKz1uLmxpbmVIZWlnaHQqdGhpcy5zZXNzaW9uLmdldFJvd0xpbmVDb3VudCh1LnJvdykpLHUuZWwuc3R5bGUudG9wPWEtbi5vZmZzZXQrXCJweFwiO3ZhciBmPXUuY292ZXJHdXR0ZXI/MDp0Lmd1dHRlcldpZHRoO3UuZml4ZWRXaWR0aHx8KGYtPXQuc2Nyb2xsTGVmdCksdS5lbC5zdHlsZS5sZWZ0PWYrXCJweFwiLHUuZnVsbFdpZHRoJiZ1LnNjcmVlbldpZHRoJiYodS5lbC5zdHlsZS5taW5XaWR0aD1uLndpZHRoKzIqbi5wYWRkaW5nK1wicHhcIiksdS5maXhlZFdpZHRoP3UuZWwuc3R5bGUucmlnaHQ9dC5zY3JvbGxCYXIuZ2V0V2lkdGgoKStcInB4XCI6dS5lbC5zdHlsZS5yaWdodD1cIlwifX0sZX0oKTt0LkxpbmVXaWRnZXRzPWl9KSxhY2UuZGVmaW5lKFwiYWNlL2FwcGx5X2RlbHRhXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUsdCl7dGhyb3cgY29uc29sZS5sb2coXCJJbnZhbGlkIERlbHRhOlwiLGUpLFwiSW52YWxpZCBEZWx0YTogXCIrdH1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIHQucm93Pj0wJiZ0LnJvdzxlLmxlbmd0aCYmdC5jb2x1bW4+PTAmJnQuY29sdW1uPD1lW3Qucm93XS5sZW5ndGh9ZnVuY3Rpb24gcyhlLHQpe3QuYWN0aW9uIT1cImluc2VydFwiJiZ0LmFjdGlvbiE9XCJyZW1vdmVcIiYmcih0LFwiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSdcIiksdC5saW5lcyBpbnN0YW5jZW9mIEFycmF5fHxyKHQsXCJkZWx0YS5saW5lcyBtdXN0IGJlIGFuIEFycmF5XCIpLCghdC5zdGFydHx8IXQuZW5kKSYmcih0LFwiZGVsdGEuc3RhcnQvZW5kIG11c3QgYmUgYW4gcHJlc2VudFwiKTt2YXIgbj10LnN0YXJ0O2koZSx0LnN0YXJ0KXx8cih0LFwiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnRcIik7dmFyIHM9dC5lbmQ7dC5hY3Rpb249PVwicmVtb3ZlXCImJiFpKGUscykmJnIodCxcImRlbHRhLmVuZCBtdXN0IGNvbnRhaW5lZCBpbiBkb2N1bWVudCBmb3IgJ3JlbW92ZScgYWN0aW9uc1wiKTt2YXIgbz1zLnJvdy1uLnJvdyx1PXMuY29sdW1uLShvPT0wP24uY29sdW1uOjApOyhvIT10LmxpbmVzLmxlbmd0aC0xfHx0LmxpbmVzW29dLmxlbmd0aCE9dSkmJnIodCxcImRlbHRhLnJhbmdlIG11c3QgbWF0Y2ggZGVsdGEgbGluZXNcIil9dC5hcHBseURlbHRhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LnN0YXJ0LnJvdyxpPXQuc3RhcnQuY29sdW1uLHM9ZVtyXXx8XCJcIjtzd2l0Y2godC5hY3Rpb24pe2Nhc2VcImluc2VydFwiOnZhciBvPXQubGluZXM7aWYoby5sZW5ndGg9PT0xKWVbcl09cy5zdWJzdHJpbmcoMCxpKSt0LmxpbmVzWzBdK3Muc3Vic3RyaW5nKGkpO2Vsc2V7dmFyIHU9W3IsMV0uY29uY2F0KHQubGluZXMpO2Uuc3BsaWNlLmFwcGx5KGUsdSksZVtyXT1zLnN1YnN0cmluZygwLGkpK2Vbcl0sZVtyK3QubGluZXMubGVuZ3RoLTFdKz1zLnN1YnN0cmluZyhpKX1icmVhaztjYXNlXCJyZW1vdmVcIjp2YXIgYT10LmVuZC5jb2x1bW4sZj10LmVuZC5yb3c7cj09PWY/ZVtyXT1zLnN1YnN0cmluZygwLGkpK3Muc3Vic3RyaW5nKGEpOmUuc3BsaWNlKHIsZi1yKzEscy5zdWJzdHJpbmcoMCxpKStlW2ZdLnN1YnN0cmluZyhhKSl9fX0pLGFjZS5kZWZpbmUoXCJhY2UvYW5jaG9yXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCxuKXt2YXIgcj1uP2UuY29sdW1uPD10LmNvbHVtbjplLmNvbHVtbjx0LmNvbHVtbjtyZXR1cm4gZS5yb3c8dC5yb3d8fGUucm93PT10LnJvdyYmcn1mdW5jdGlvbiB1KGUsdCxuKXt2YXIgcj1lLmFjdGlvbj09XCJpbnNlcnRcIixpPShyPzE6LTEpKihlLmVuZC5yb3ctZS5zdGFydC5yb3cpLHM9KHI/MTotMSkqKGUuZW5kLmNvbHVtbi1lLnN0YXJ0LmNvbHVtbiksdT1lLnN0YXJ0LGE9cj91OmUuZW5kO3JldHVybiBvKHQsdSxuKT97cm93OnQucm93LGNvbHVtbjp0LmNvbHVtbn06byhhLHQsIW4pP3tyb3c6dC5yb3craSxjb2x1bW46dC5jb2x1bW4rKHQucm93PT1hLnJvdz9zOjApfTp7cm93OnUucm93LGNvbHVtbjp1LmNvbHVtbn19dmFyIHI9ZShcIi4vbGliL29vcFwiKSxpPWUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcixzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy4kb25DaGFuZ2U9dGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuYXR0YWNoKGUpLHR5cGVvZiB0IT1cIm51bWJlclwiP3RoaXMuc2V0UG9zaXRpb24odC5yb3csdC5jb2x1bW4pOnRoaXMuc2V0UG9zaXRpb24odCxuKX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdyx0aGlzLmNvbHVtbil9LGUucHJvdG90eXBlLmdldERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnR9LGUucHJvdG90eXBlLm9uQ2hhbmdlPWZ1bmN0aW9uKGUpe2lmKGUuc3RhcnQucm93PT1lLmVuZC5yb3cmJmUuc3RhcnQucm93IT10aGlzLnJvdylyZXR1cm47aWYoZS5zdGFydC5yb3c+dGhpcy5yb3cpcmV0dXJuO3ZhciB0PXUoZSx7cm93OnRoaXMucm93LGNvbHVtbjp0aGlzLmNvbHVtbn0sdGhpcy4kaW5zZXJ0UmlnaHQpO3RoaXMuc2V0UG9zaXRpb24odC5yb3csdC5jb2x1bW4sITApfSxlLnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbihlLHQsbil7dmFyIHI7bj9yPXtyb3c6ZSxjb2x1bW46dH06cj10aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KGUsdCk7aWYodGhpcy5yb3c9PXIucm93JiZ0aGlzLmNvbHVtbj09ci5jb2x1bW4pcmV0dXJuO3ZhciBpPXtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufTt0aGlzLnJvdz1yLnJvdyx0aGlzLmNvbHVtbj1yLmNvbHVtbix0aGlzLl9zaWduYWwoXCJjaGFuZ2VcIix7b2xkOmksdmFsdWU6cn0pfSxlLnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLmRvY3VtZW50Lm9mZihcImNoYW5nZVwiLHRoaXMuJG9uQ2hhbmdlKX0sZS5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKGUpe3RoaXMuZG9jdW1lbnQ9ZXx8dGhpcy5kb2N1bWVudCx0aGlzLmRvY3VtZW50Lm9uKFwiY2hhbmdlXCIsdGhpcy4kb25DaGFuZ2UpfSxlLnByb3RvdHlwZS4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiBlPj10aGlzLmRvY3VtZW50LmdldExlbmd0aCgpPyhuLnJvdz1NYXRoLm1heCgwLHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCktMSksbi5jb2x1bW49dGhpcy5kb2N1bWVudC5nZXRMaW5lKG4ucm93KS5sZW5ndGgpOmU8MD8obi5yb3c9MCxuLmNvbHVtbj0wKToobi5yb3c9ZSxuLmNvbHVtbj1NYXRoLm1pbih0aGlzLmRvY3VtZW50LmdldExpbmUobi5yb3cpLmxlbmd0aCxNYXRoLm1heCgwLHQpKSksdDwwJiYobi5jb2x1bW49MCksbn0sZX0oKTtzLnByb3RvdHlwZS4kaW5zZXJ0UmlnaHQ9ITEsci5pbXBsZW1lbnQocy5wcm90b3R5cGUsaSksdC5BbmNob3I9c30pLGFjZS5kZWZpbmUoXCJhY2UvZG9jdW1lbnRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvYXBwbHlfZGVsdGFcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvYW5jaG9yXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9saWIvb29wXCIpLGk9ZShcIi4vYXBwbHlfZGVsdGFcIikuYXBwbHlEZWx0YSxzPWUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcixvPWUoXCIuL3JhbmdlXCIpLlJhbmdlLHU9ZShcIi4vYW5jaG9yXCIpLkFuY2hvcixhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLiRsaW5lcz1bXCJcIl0sZS5sZW5ndGg9PT0wP3RoaXMuJGxpbmVzPVtcIlwiXTpBcnJheS5pc0FycmF5KGUpP3RoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzowLGNvbHVtbjowfSxlKTp0aGlzLmluc2VydCh7cm93OjAsY29sdW1uOjB9LGUpfXJldHVybiBlLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldExlbmd0aCgpLTE7dGhpcy5yZW1vdmUobmV3IG8oMCwwLHQsdGhpcy5nZXRMaW5lKHQpLmxlbmd0aCkpLHRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sZXx8XCJcIil9LGUucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKX0sZS5wcm90b3R5cGUuY3JlYXRlQW5jaG9yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB1KHRoaXMsZSx0KX0sZS5wcm90b3R5cGUuJGRldGVjdE5ld0xpbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaCgvXi4qPyhcXHJcXG58XFxyfFxcbikvbSk7dGhpcy4kYXV0b05ld0xpbmU9dD90WzFdOlwiXFxuXCIsdGhpcy5fc2lnbmFsKFwiY2hhbmdlTmV3TGluZU1vZGVcIil9LGUucHJvdG90eXBlLmdldE5ld0xpbmVDaGFyYWN0ZXI9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy4kbmV3TGluZU1vZGUpe2Nhc2VcIndpbmRvd3NcIjpyZXR1cm5cIlxcclxcblwiO2Nhc2VcInVuaXhcIjpyZXR1cm5cIlxcblwiO2RlZmF1bHQ6cmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lfHxcIlxcblwifX0sZS5wcm90b3R5cGUuc2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24oZSl7aWYodGhpcy4kbmV3TGluZU1vZGU9PT1lKXJldHVybjt0aGlzLiRuZXdMaW5lTW9kZT1lLHRoaXMuX3NpZ25hbChcImNoYW5nZU5ld0xpbmVNb2RlXCIpfSxlLnByb3RvdHlwZS5nZXROZXdMaW5lTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRuZXdMaW5lTW9kZX0sZS5wcm90b3R5cGUuaXNOZXdMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiBlPT1cIlxcclxcblwifHxlPT1cIlxcclwifHxlPT1cIlxcblwifSxlLnByb3RvdHlwZS5nZXRMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRsaW5lc1tlXXx8XCJcIn0sZS5wcm90b3R5cGUuZ2V0TGluZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZSx0KzEpfSxlLnByb3RvdHlwZS5nZXRBbGxMaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExpbmVzKDAsdGhpcy5nZXRMZW5ndGgoKSl9LGUucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRsaW5lcy5sZW5ndGh9LGUucHJvdG90eXBlLmdldFRleHRSYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKGUpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSxlLnByb3RvdHlwZS5nZXRMaW5lc0ZvclJhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUuc3RhcnQucm93PT09ZS5lbmQucm93KXQ9W3RoaXMuZ2V0TGluZShlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKGUuc3RhcnQuY29sdW1uLGUuZW5kLmNvbHVtbildO2Vsc2V7dD10aGlzLmdldExpbmVzKGUuc3RhcnQucm93LGUuZW5kLnJvdyksdFswXT0odFswXXx8XCJcIikuc3Vic3RyaW5nKGUuc3RhcnQuY29sdW1uKTt2YXIgbj10Lmxlbmd0aC0xO2UuZW5kLnJvdy1lLnN0YXJ0LnJvdz09biYmKHRbbl09dFtuXS5zdWJzdHJpbmcoMCxlLmVuZC5jb2x1bW4pKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuaW5zZXJ0TGluZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLlwiKSx0aGlzLmluc2VydEZ1bGxMaW5lcyhlLHQpfSxlLnByb3RvdHlwZS5yZW1vdmVMaW5lcz1mdW5jdGlvbihlLHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuXCIpLHRoaXMucmVtb3ZlRnVsbExpbmVzKGUsdCl9LGUucHJvdG90eXBlLmluc2VydE5ld0xpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuXCIpLHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoZSxbXCJcIixcIlwiXSl9LGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmdldExlbmd0aCgpPD0xJiZ0aGlzLiRkZXRlY3ROZXdMaW5lKHQpLHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoZSx0aGlzLiRzcGxpdCh0KSl9LGUucHJvdG90eXBlLmluc2VydEluTGluZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY2xpcHBlZFBvcyhlLnJvdyxlLmNvbHVtbikscj10aGlzLnBvcyhlLnJvdyxlLmNvbHVtbit0Lmxlbmd0aCk7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6bixlbmQ6cixhY3Rpb246XCJpbnNlcnRcIixsaW5lczpbdF19LCEwKSx0aGlzLmNsb25lUG9zKHIpfSxlLnByb3RvdHlwZS5jbGlwcGVkUG9zPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRMZW5ndGgoKTtlPT09dW5kZWZpbmVkP2U9bjplPDA/ZT0wOmU+PW4mJihlPW4tMSx0PXVuZGVmaW5lZCk7dmFyIHI9dGhpcy5nZXRMaW5lKGUpO3JldHVybiB0PT11bmRlZmluZWQmJih0PXIubGVuZ3RoKSx0PU1hdGgubWluKE1hdGgubWF4KHQsMCksci5sZW5ndGgpLHtyb3c6ZSxjb2x1bW46dH19LGUucHJvdG90eXBlLmNsb25lUG9zPWZ1bmN0aW9uKGUpe3JldHVybntyb3c6ZS5yb3csY29sdW1uOmUuY29sdW1ufX0sZS5wcm90b3R5cGUucG9zPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3JvdzplLGNvbHVtbjp0fX0sZS5wcm90b3R5cGUuJGNsaXBQb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldExlbmd0aCgpO3JldHVybiBlLnJvdz49dD8oZS5yb3c9TWF0aC5tYXgoMCx0LTEpLGUuY29sdW1uPXRoaXMuZ2V0TGluZSh0LTEpLmxlbmd0aCk6KGUucm93PU1hdGgubWF4KDAsZS5yb3cpLGUuY29sdW1uPU1hdGgubWluKE1hdGgubWF4KGUuY29sdW1uLDApLHRoaXMuZ2V0TGluZShlLnJvdykubGVuZ3RoKSksZX0sZS5wcm90b3R5cGUuaW5zZXJ0RnVsbExpbmVzPWZ1bmN0aW9uKGUsdCl7ZT1NYXRoLm1pbihNYXRoLm1heChlLDApLHRoaXMuZ2V0TGVuZ3RoKCkpO3ZhciBuPTA7ZTx0aGlzLmdldExlbmd0aCgpPyh0PXQuY29uY2F0KFtcIlwiXSksbj0wKToodD1bXCJcIl0uY29uY2F0KHQpLGUtLSxuPXRoaXMuJGxpbmVzW2VdLmxlbmd0aCksdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyh7cm93OmUsY29sdW1uOm59LHQpfSxlLnByb3RvdHlwZS5pbnNlcnRNZXJnZWRMaW5lcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY2xpcHBlZFBvcyhlLnJvdyxlLmNvbHVtbikscj17cm93Om4ucm93K3QubGVuZ3RoLTEsY29sdW1uOih0Lmxlbmd0aD09MT9uLmNvbHVtbjowKSt0W3QubGVuZ3RoLTFdLmxlbmd0aH07cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6bixlbmQ6cixhY3Rpb246XCJpbnNlcnRcIixsaW5lczp0fSksdGhpcy5jbG9uZVBvcyhyKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2xpcHBlZFBvcyhlLnN0YXJ0LnJvdyxlLnN0YXJ0LmNvbHVtbiksbj10aGlzLmNsaXBwZWRQb3MoZS5lbmQucm93LGUuZW5kLmNvbHVtbik7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dCxlbmQ6bixhY3Rpb246XCJyZW1vdmVcIixsaW5lczp0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OnQsZW5kOm59KX0pLHRoaXMuY2xvbmVQb3ModCl9LGUucHJvdG90eXBlLnJlbW92ZUluTGluZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5jbGlwcGVkUG9zKGUsdCksaT10aGlzLmNsaXBwZWRQb3MoZSxuKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpyLGVuZDppLGFjdGlvbjpcInJlbW92ZVwiLGxpbmVzOnRoaXMuZ2V0TGluZXNGb3JSYW5nZSh7c3RhcnQ6cixlbmQ6aX0pfSwhMCksdGhpcy5jbG9uZVBvcyhyKX0sZS5wcm90b3R5cGUucmVtb3ZlRnVsbExpbmVzPWZ1bmN0aW9uKGUsdCl7ZT1NYXRoLm1pbihNYXRoLm1heCgwLGUpLHRoaXMuZ2V0TGVuZ3RoKCktMSksdD1NYXRoLm1pbihNYXRoLm1heCgwLHQpLHRoaXMuZ2V0TGVuZ3RoKCktMSk7dmFyIG49dD09dGhpcy5nZXRMZW5ndGgoKS0xJiZlPjAscj10PHRoaXMuZ2V0TGVuZ3RoKCktMSxpPW4/ZS0xOmUscz1uP3RoaXMuZ2V0TGluZShpKS5sZW5ndGg6MCx1PXI/dCsxOnQsYT1yPzA6dGhpcy5nZXRMaW5lKHUpLmxlbmd0aCxmPW5ldyBvKGkscyx1LGEpLGw9dGhpcy4kbGluZXMuc2xpY2UoZSx0KzEpO3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OmYuc3RhcnQsZW5kOmYuZW5kLGFjdGlvbjpcInJlbW92ZVwiLGxpbmVzOnRoaXMuZ2V0TGluZXNGb3JSYW5nZShmKX0pLGx9LGUucHJvdG90eXBlLnJlbW92ZU5ld0xpbmU9ZnVuY3Rpb24oZSl7ZTx0aGlzLmdldExlbmd0aCgpLTEmJmU+PTAmJnRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5wb3MoZSx0aGlzLmdldExpbmUoZSkubGVuZ3RoKSxlbmQ6dGhpcy5wb3MoZSsxLDApLGFjdGlvbjpcInJlbW92ZVwiLGxpbmVzOltcIlwiLFwiXCJdfSl9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygb3x8KGU9by5mcm9tUG9pbnRzKGUuc3RhcnQsZS5lbmQpKTtpZih0Lmxlbmd0aD09PTAmJmUuaXNFbXB0eSgpKXJldHVybiBlLnN0YXJ0O2lmKHQ9PXRoaXMuZ2V0VGV4dFJhbmdlKGUpKXJldHVybiBlLmVuZDt0aGlzLnJlbW92ZShlKTt2YXIgbjtyZXR1cm4gdD9uPXRoaXMuaW5zZXJ0KGUuc3RhcnQsdCk6bj1lLnN0YXJ0LG59LGUucHJvdG90eXBlLmFwcGx5RGVsdGFzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuYXBwbHlEZWx0YShlW3RdKX0sZS5wcm90b3R5cGUucmV2ZXJ0RGVsdGFzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMucmV2ZXJ0RGVsdGEoZVt0XSl9LGUucHJvdG90eXBlLmFwcGx5RGVsdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmFjdGlvbj09XCJpbnNlcnRcIjtpZihuP2UubGluZXMubGVuZ3RoPD0xJiYhZS5saW5lc1swXTohby5jb21wYXJlUG9pbnRzKGUuc3RhcnQsZS5lbmQpKXJldHVybjtuJiZlLmxpbmVzLmxlbmd0aD4yZTQ/dGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZSwyZTQpOihpKHRoaXMuJGxpbmVzLGUsdCksdGhpcy5fc2lnbmFsKFwiY2hhbmdlXCIsZSkpfSxlLnByb3RvdHlwZS4kc2FmZUFwcGx5RGVsdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kbGluZXMubGVuZ3RoOyhlLmFjdGlvbj09XCJyZW1vdmVcIiYmZS5zdGFydC5yb3c8dCYmZS5lbmQucm93PHR8fGUuYWN0aW9uPT1cImluc2VydFwiJiZlLnN0YXJ0LnJvdzw9dCkmJnRoaXMuYXBwbHlEZWx0YShlKX0sZS5wcm90b3R5cGUuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5saW5lcyxyPW4ubGVuZ3RoLXQrMSxpPWUuc3RhcnQucm93LHM9ZS5zdGFydC5jb2x1bW47Zm9yKHZhciBvPTAsdT0wO288cjtvPXUpe3UrPXQtMTt2YXIgYT1uLnNsaWNlKG8sdSk7YS5wdXNoKFwiXCIpLHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5wb3MoaStvLHMpLGVuZDp0aGlzLnBvcyhpK3Uscz0wKSxhY3Rpb246ZS5hY3Rpb24sbGluZXM6YX0sITApfWUubGluZXM9bi5zbGljZShvKSxlLnN0YXJ0LnJvdz1pK28sZS5zdGFydC5jb2x1bW49cyx0aGlzLmFwcGx5RGVsdGEoZSwhMCl9LGUucHJvdG90eXBlLnJldmVydERlbHRhPWZ1bmN0aW9uKGUpe3RoaXMuJHNhZmVBcHBseURlbHRhKHtzdGFydDp0aGlzLmNsb25lUG9zKGUuc3RhcnQpLGVuZDp0aGlzLmNsb25lUG9zKGUuZW5kKSxhY3Rpb246ZS5hY3Rpb249PVwiaW5zZXJ0XCI/XCJyZW1vdmVcIjpcImluc2VydFwiLGxpbmVzOmUubGluZXMuc2xpY2UoKX0pfSxlLnByb3RvdHlwZS5pbmRleFRvUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLiRsaW5lc3x8dGhpcy5nZXRBbGxMaW5lcygpLHI9dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoO2Zvcih2YXIgaT10fHwwLHM9bi5sZW5ndGg7aTxzO2krKyl7ZS09bltpXS5sZW5ndGgrcjtpZihlPDApcmV0dXJue3JvdzppLGNvbHVtbjplK25baV0ubGVuZ3RoK3J9fXJldHVybntyb3c6cy0xLGNvbHVtbjplK25bcy0xXS5sZW5ndGgrcn19LGUucHJvdG90eXBlLnBvc2l0aW9uVG9JbmRleD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJGxpbmVzfHx0aGlzLmdldEFsbExpbmVzKCkscj10aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGgsaT0wLHM9TWF0aC5taW4oZS5yb3csbi5sZW5ndGgpO2Zvcih2YXIgbz10fHwwO288czsrK28paSs9bltvXS5sZW5ndGgrcjtyZXR1cm4gaStlLmNvbHVtbn0sZS5wcm90b3R5cGUuJHNwbGl0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KC9cXHJcXG58XFxyfFxcbi8pfSxlfSgpO2EucHJvdG90eXBlLiRhdXRvTmV3TGluZT1cIlwiLGEucHJvdG90eXBlLiRuZXdMaW5lTW9kZT1cImF1dG9cIixyLmltcGxlbWVudChhLnByb3RvdHlwZSxzKSx0LkRvY3VtZW50PWF9KSxhY2UuZGVmaW5lKFwiYWNlL2JhY2tncm91bmRfdG9rZW5pemVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9saWIvb29wXCIpLGk9ZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5ydW5uaW5nPSExLHRoaXMubGluZXM9W10sdGhpcy5zdGF0ZXM9W10sdGhpcy5jdXJyZW50TGluZT0wLHRoaXMudG9rZW5pemVyPWU7dmFyIG49dGhpczt0aGlzLiR3b3JrZXI9ZnVuY3Rpb24oKXtpZighbi5ydW5uaW5nKXJldHVybjt2YXIgZT1uZXcgRGF0ZSx0PW4uY3VycmVudExpbmUscj0tMSxpPW4uZG9jLHM9dDt3aGlsZShuLmxpbmVzW3RdKXQrKzt2YXIgbz1pLmdldExlbmd0aCgpLHU9MDtuLnJ1bm5pbmc9ITE7d2hpbGUodDxvKXtuLiR0b2tlbml6ZVJvdyh0KSxyPXQ7ZG8gdCsrO3doaWxlKG4ubGluZXNbdF0pO3UrKztpZih1JTU9PT0wJiZuZXcgRGF0ZS1lPjIwKXtuLnJ1bm5pbmc9c2V0VGltZW91dChuLiR3b3JrZXIsMjApO2JyZWFrfX1uLmN1cnJlbnRMaW5lPXQscj09LTEmJihyPXQpLHM8PXImJm4uZmlyZVVwZGF0ZUV2ZW50KHMscil9fXJldHVybiBlLnByb3RvdHlwZS5zZXRUb2tlbml6ZXI9ZnVuY3Rpb24oZSl7dGhpcy50b2tlbml6ZXI9ZSx0aGlzLmxpbmVzPVtdLHRoaXMuc3RhdGVzPVtdLHRoaXMuc3RhcnQoMCl9LGUucHJvdG90eXBlLnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3RoaXMuZG9jPWUsdGhpcy5saW5lcz1bXSx0aGlzLnN0YXRlcz1bXSx0aGlzLnN0b3AoKX0sZS5wcm90b3R5cGUuZmlyZVVwZGF0ZUV2ZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49e2ZpcnN0OmUsbGFzdDp0fTt0aGlzLl9zaWduYWwoXCJ1cGRhdGVcIix7ZGF0YTpufSl9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe3RoaXMuY3VycmVudExpbmU9TWF0aC5taW4oZXx8MCx0aGlzLmN1cnJlbnRMaW5lLHRoaXMuZG9jLmdldExlbmd0aCgpKSx0aGlzLmxpbmVzLnNwbGljZSh0aGlzLmN1cnJlbnRMaW5lLHRoaXMubGluZXMubGVuZ3RoKSx0aGlzLnN0YXRlcy5zcGxpY2UodGhpcy5jdXJyZW50TGluZSx0aGlzLnN0YXRlcy5sZW5ndGgpLHRoaXMuc3RvcCgpLHRoaXMucnVubmluZz1zZXRUaW1lb3V0KHRoaXMuJHdvcmtlciw3MDApfSxlLnByb3RvdHlwZS5zY2hlZHVsZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5ydW5uaW5nfHwodGhpcy5ydW5uaW5nPXNldFRpbWVvdXQodGhpcy4kd29ya2VyLDcwMCkpfSxlLnByb3RvdHlwZS4kdXBkYXRlT25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydC5yb3csbj1lLmVuZC5yb3ctdDtpZihuPT09MCl0aGlzLmxpbmVzW3RdPW51bGw7ZWxzZSBpZihlLmFjdGlvbj09XCJyZW1vdmVcIil0aGlzLmxpbmVzLnNwbGljZSh0LG4rMSxudWxsKSx0aGlzLnN0YXRlcy5zcGxpY2UodCxuKzEsbnVsbCk7ZWxzZXt2YXIgcj1BcnJheShuKzEpO3IudW5zaGlmdCh0LDEpLHRoaXMubGluZXMuc3BsaWNlLmFwcGx5KHRoaXMubGluZXMsciksdGhpcy5zdGF0ZXMuc3BsaWNlLmFwcGx5KHRoaXMuc3RhdGVzLHIpfXRoaXMuY3VycmVudExpbmU9TWF0aC5taW4odCx0aGlzLmN1cnJlbnRMaW5lLHRoaXMuZG9jLmdldExlbmd0aCgpKSx0aGlzLnN0b3AoKX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMucnVubmluZyYmY2xlYXJUaW1lb3V0KHRoaXMucnVubmluZyksdGhpcy5ydW5uaW5nPSExfSxlLnByb3RvdHlwZS5nZXRUb2tlbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGluZXNbZV18fHRoaXMuJHRva2VuaXplUm93KGUpfSxlLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jdXJyZW50TGluZT09ZSYmdGhpcy4kdG9rZW5pemVSb3coZSksdGhpcy5zdGF0ZXNbZV18fFwic3RhcnRcIn0sZS5wcm90b3R5cGUuJHRva2VuaXplUm93PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZG9jLmdldExpbmUoZSksbj10aGlzLnN0YXRlc1tlLTFdLHI9dGhpcy50b2tlbml6ZXIuZ2V0TGluZVRva2Vucyh0LG4sZSk7cmV0dXJuIHRoaXMuc3RhdGVzW2VdK1wiXCIhPXIuc3RhdGUrXCJcIj8odGhpcy5zdGF0ZXNbZV09ci5zdGF0ZSx0aGlzLmxpbmVzW2UrMV09bnVsbCx0aGlzLmN1cnJlbnRMaW5lPmUrMSYmKHRoaXMuY3VycmVudExpbmU9ZSsxKSk6dGhpcy5jdXJyZW50TGluZT09ZSYmKHRoaXMuY3VycmVudExpbmU9ZSsxKSx0aGlzLmxpbmVzW2VdPXIudG9rZW5zfSxlLnByb3RvdHlwZS5jbGVhbnVwPWZ1bmN0aW9uKCl7dGhpcy5ydW5uaW5nPSExLHRoaXMubGluZXM9W10sdGhpcy5zdGF0ZXM9W10sdGhpcy5jdXJyZW50TGluZT0wLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCl9LGV9KCk7ci5pbXBsZW1lbnQocy5wcm90b3R5cGUsaSksdC5CYWNrZ3JvdW5kVG9rZW5pemVyPXN9KSxhY2UuZGVmaW5lKFwiYWNlL3NlYXJjaF9oaWdobGlnaHRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL3JhbmdlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9saWIvbGFuZ1wiKSxpPWUoXCIuL3JhbmdlXCIpLlJhbmdlLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXtuPT09dm9pZCAwJiYobj1cInRleHRcIiksdGhpcy5zZXRSZWdleHAoZSksdGhpcy5jbGF6ej10LHRoaXMudHlwZT1uLHRoaXMuZG9jTGVuPTB9cmV0dXJuIGUucHJvdG90eXBlLnNldFJlZ2V4cD1mdW5jdGlvbihlKXtpZih0aGlzLnJlZ0V4cCtcIlwiPT1lK1wiXCIpcmV0dXJuO3RoaXMucmVnRXhwPWUsdGhpcy5jYWNoZT1bXX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUsdCxuLHMpe2lmKCF0aGlzLnJlZ0V4cClyZXR1cm47dmFyIG89cy5maXJzdFJvdyx1PXMubGFzdFJvdyxhPXt9LGY9bi4kZWRpdG9yJiZuLiRlZGl0b3IuJHNlYXJjaCxsPWYmJmYuJGlzTXVsdGlsaW5lU2VhcmNoKG4uJGVkaXRvci5nZXRMYXN0U2VhcmNoT3B0aW9ucygpKTtmb3IodmFyIGM9bztjPD11O2MrKyl7dmFyIGg9dGhpcy5jYWNoZVtjXTtpZihoPT1udWxsfHxuLmdldFZhbHVlKCkubGVuZ3RoIT10aGlzLmRvY0xlbil7aWYobCl7aD1bXTt2YXIgcD1mLiRtdWx0aUxpbmVGb3J3YXJkKG4sdGhpcy5yZWdFeHAsYyx1KTtpZihwKXt2YXIgZD1wLmVuZFJvdzw9dT9wLmVuZFJvdy0xOnU7ZD5jJiYoYz1kKSxoLnB1c2gobmV3IGkocC5zdGFydFJvdyxwLnN0YXJ0Q29sLHAuZW5kUm93LHAuZW5kQ29sKSl9aC5sZW5ndGg+dGhpcy5NQVhfUkFOR0VTJiYoaD1oLnNsaWNlKDAsdGhpcy5NQVhfUkFOR0VTKSl9ZWxzZSBoPXIuZ2V0TWF0Y2hPZmZzZXRzKG4uZ2V0TGluZShjKSx0aGlzLnJlZ0V4cCksaC5sZW5ndGg+dGhpcy5NQVhfUkFOR0VTJiYoaD1oLnNsaWNlKDAsdGhpcy5NQVhfUkFOR0VTKSksaD1oLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoYyxlLm9mZnNldCxjLGUub2Zmc2V0K2UubGVuZ3RoKX0pO3RoaXMuY2FjaGVbY109aC5sZW5ndGg/aDpcIlwifWlmKGgubGVuZ3RoPT09MCljb250aW51ZTtmb3IodmFyIHY9aC5sZW5ndGg7di0tOyl7dmFyIG09aFt2XS50b1NjcmVlblJhbmdlKG4pLGc9bS50b1N0cmluZygpO2lmKGFbZ10pY29udGludWU7YVtnXT0hMCx0LmRyYXdTaW5nbGVMaW5lTWFya2VyKGUsbSx0aGlzLmNsYXp6LHMpfX10aGlzLmRvY0xlbj1uLmdldFZhbHVlKCkubGVuZ3RofSxlfSgpO3MucHJvdG90eXBlLk1BWF9SQU5HRVM9NTAwLHQuU2VhcmNoSGlnaGxpZ2h0PXN9KSxhY2UuZGVmaW5lKFwiYWNlL3VuZG9tYW5hZ2VyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtmb3IodmFyIG49dDtuLS07KXt2YXIgcj1lW25dO2lmKHImJiFyWzBdLmlnbm9yZSl7d2hpbGUobjx0LTEpe3ZhciBpPWQoZVtuXSxlW24rMV0pO2Vbbl09aVswXSxlW24rMV09aVsxXSxuKyt9cmV0dXJuITB9fX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuYWN0aW9uPT1cImluc2VydFwiLG49ZS5zdGFydCxyPWUuZW5kLGk9KHIucm93LW4ucm93KSoodD8xOi0xKSxzPShyLmNvbHVtbi1uLmNvbHVtbikqKHQ/MTotMSk7dCYmKHI9bik7Zm9yKHZhciBvIGluIHRoaXMubWFya3Mpe3ZhciBhPXRoaXMubWFya3Nbb10sZj11KGEsbik7aWYoZjwwKWNvbnRpbnVlO2lmKGY9PT0wJiZ0KXtpZihhLmJpYXMhPTEpe2EuYmlhcz09LTE7Y29udGludWV9Zj0xfXZhciBsPXQ/Zjp1KGEscik7aWYobD4wKXthLnJvdys9aSxhLmNvbHVtbis9YS5yb3c9PXIucm93P3M6MDtjb250aW51ZX0hdCYmbDw9MCYmKGEucm93PW4ucm93LGEuY29sdW1uPW4uY29sdW1uLGw9PT0wJiYoYS5iaWFzPTEpKX19ZnVuY3Rpb24gZihlKXtyZXR1cm57cm93OmUucm93LGNvbHVtbjplLmNvbHVtbn19ZnVuY3Rpb24gbChlKXtyZXR1cm57c3RhcnQ6ZihlLnN0YXJ0KSxlbmQ6ZihlLmVuZCksYWN0aW9uOmUuYWN0aW9uLGxpbmVzOmUubGluZXMuc2xpY2UoKX19ZnVuY3Rpb24gYyhlKXtlPWV8fHRoaXM7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5tYXAoYykuam9pbihcIlxcblwiKTt2YXIgdD1cIlwiO2UuYWN0aW9uPyh0PWUuYWN0aW9uPT1cImluc2VydFwiP1wiK1wiOlwiLVwiLHQrPVwiW1wiK2UubGluZXMrXCJdXCIpOmUudmFsdWUmJihBcnJheS5pc0FycmF5KGUudmFsdWUpP3Q9ZS52YWx1ZS5tYXAoaCkuam9pbihcIlxcblwiKTp0PWgoZS52YWx1ZSkpLGUuc3RhcnQmJih0Kz1oKGUpKTtpZihlLmlkfHxlLnJldil0Kz1cIlx0KFwiKyhlLmlkfHxlLnJldikrXCIpXCI7cmV0dXJuIHR9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZS5zdGFydC5yb3crXCI6XCIrZS5zdGFydC5jb2x1bW4rXCI9PlwiK2UuZW5kLnJvdytcIjpcIitlLmVuZC5jb2x1bW59ZnVuY3Rpb24gcChlLHQpe3ZhciBuPWUuYWN0aW9uPT1cImluc2VydFwiLHI9dC5hY3Rpb249PVwiaW5zZXJ0XCI7aWYobiYmcilpZihvKHQuc3RhcnQsZS5lbmQpPj0wKW0odCxlLC0xKTtlbHNle2lmKCEobyh0LnN0YXJ0LGUuc3RhcnQpPD0wKSlyZXR1cm4gbnVsbDttKGUsdCwxKX1lbHNlIGlmKG4mJiFyKWlmKG8odC5zdGFydCxlLmVuZCk+PTApbSh0LGUsLTEpO2Vsc2V7aWYoIShvKHQuZW5kLGUuc3RhcnQpPD0wKSlyZXR1cm4gbnVsbDttKGUsdCwtMSl9ZWxzZSBpZighbiYmcilpZihvKHQuc3RhcnQsZS5zdGFydCk+PTApbSh0LGUsMSk7ZWxzZXtpZighKG8odC5zdGFydCxlLnN0YXJ0KTw9MCkpcmV0dXJuIG51bGw7bShlLHQsMSl9ZWxzZSBpZighbiYmIXIpaWYobyh0LnN0YXJ0LGUuc3RhcnQpPj0wKW0odCxlLDEpO2Vsc2V7aWYoIShvKHQuZW5kLGUuc3RhcnQpPD0wKSlyZXR1cm4gbnVsbDttKGUsdCwtMSl9cmV0dXJuW3QsZV19ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKCFwKGVbbl0sdFtyXSkpe3doaWxlKG48ZS5sZW5ndGgpe3doaWxlKHItLSlwKHRbcl0sZVtuXSk7cj10Lmxlbmd0aCxuKyt9cmV0dXJuW2UsdF19cmV0dXJuIGUuc2VsZWN0aW9uQmVmb3JlPXQuc2VsZWN0aW9uQmVmb3JlPWUuc2VsZWN0aW9uQWZ0ZXI9dC5zZWxlY3Rpb25BZnRlcj1udWxsLFt0LGVdfWZ1bmN0aW9uIHYoZSx0KXt2YXIgbj1lLmFjdGlvbj09XCJpbnNlcnRcIixyPXQuYWN0aW9uPT1cImluc2VydFwiO2lmKG4mJnIpbyhlLnN0YXJ0LHQuc3RhcnQpPDA/bSh0LGUsMSk6bShlLHQsMSk7ZWxzZSBpZihuJiYhcilvKGUuc3RhcnQsdC5lbmQpPj0wP20oZSx0LC0xKTpvKGUuc3RhcnQsdC5zdGFydCk8PTA/bSh0LGUsMSk6KG0oZSxzLmZyb21Qb2ludHModC5zdGFydCxlLnN0YXJ0KSwtMSksbSh0LGUsMSkpO2Vsc2UgaWYoIW4mJnIpbyh0LnN0YXJ0LGUuZW5kKT49MD9tKHQsZSwtMSk6byh0LnN0YXJ0LGUuc3RhcnQpPD0wP20oZSx0LDEpOihtKHQscy5mcm9tUG9pbnRzKGUuc3RhcnQsdC5zdGFydCksLTEpLG0oZSx0LDEpKTtlbHNlIGlmKCFuJiYhcilpZihvKHQuc3RhcnQsZS5lbmQpPj0wKW0odCxlLC0xKTtlbHNle2lmKCEobyh0LmVuZCxlLnN0YXJ0KTw9MCkpe3ZhciBpLHU7cmV0dXJuIG8oZS5zdGFydCx0LnN0YXJ0KTwwJiYoaT1lLGU9eShlLHQuc3RhcnQpKSxvKGUuZW5kLHQuZW5kKT4wJiYodT15KGUsdC5lbmQpKSxnKHQuZW5kLGUuc3RhcnQsZS5lbmQsLTEpLHUmJiFpJiYoZS5saW5lcz11LmxpbmVzLGUuc3RhcnQ9dS5zdGFydCxlLmVuZD11LmVuZCx1PWUpLFt0LGksdV0uZmlsdGVyKEJvb2xlYW4pfW0oZSx0LC0xKX1yZXR1cm5bdCxlXX1mdW5jdGlvbiBtKGUsdCxuKXtnKGUuc3RhcnQsdC5zdGFydCx0LmVuZCxuKSxnKGUuZW5kLHQuc3RhcnQsdC5lbmQsbil9ZnVuY3Rpb24gZyhlLHQsbixyKXtlLnJvdz09KHI9PTE/dDpuKS5yb3cmJihlLmNvbHVtbis9cioobi5jb2x1bW4tdC5jb2x1bW4pKSxlLnJvdys9cioobi5yb3ctdC5yb3cpfWZ1bmN0aW9uIHkoZSx0KXt2YXIgbj1lLmxpbmVzLHI9ZS5lbmQ7ZS5lbmQ9Zih0KTt2YXIgaT1lLmVuZC5yb3ctZS5zdGFydC5yb3cscz1uLnNwbGljZShpLG4ubGVuZ3RoKSxvPWk/dC5jb2x1bW46dC5jb2x1bW4tZS5zdGFydC5jb2x1bW47bi5wdXNoKHNbMF0uc3Vic3RyaW5nKDAsbykpLHNbMF09c1swXS5zdWJzdHIobyk7dmFyIHU9e3N0YXJ0OmYodCksZW5kOnIsbGluZXM6cyxhY3Rpb246ZS5hY3Rpb259O3JldHVybiB1fWZ1bmN0aW9uIGIoZSx0KXt0PWwodCk7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspe3ZhciByPWVbbl07Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBzPXJbaV0sbz12KHMsdCk7dD1vWzBdLG8ubGVuZ3RoIT0yJiYob1syXT8oci5zcGxpY2UoaSsxLDEsb1sxXSxvWzJdKSxpKyspOm9bMV18fChyLnNwbGljZShpLDEpLGktLSkpfXIubGVuZ3RofHxlLnNwbGljZShuLDEpfXJldHVybiBlfWZ1bmN0aW9uIHcoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krKyliKGUscltpXSl9fXZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuJGtlZXBSZWRvU3RhY2ssdGhpcy4kbWF4UmV2PTAsdGhpcy4kZnJvbVVuZG89ITEsdGhpcy4kdW5kb0RlcHRoPUluZmluaXR5LHRoaXMucmVzZXQoKX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkU2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLiRzZXNzaW9uPWV9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQsbil7aWYodGhpcy4kZnJvbVVuZG8pcmV0dXJuO2lmKGU9PXRoaXMuJGxhc3REZWx0YSlyZXR1cm47dGhpcy4ka2VlcFJlZG9TdGFja3x8KHRoaXMuJHJlZG9TdGFjay5sZW5ndGg9MCk7aWYodD09PSExfHwhdGhpcy5sYXN0RGVsdGFzKXt0aGlzLmxhc3REZWx0YXM9W107dmFyIHI9dGhpcy4kdW5kb1N0YWNrLmxlbmd0aDtyPnRoaXMuJHVuZG9EZXB0aC0xJiZ0aGlzLiR1bmRvU3RhY2suc3BsaWNlKDAsci10aGlzLiR1bmRvRGVwdGgrMSksdGhpcy4kdW5kb1N0YWNrLnB1c2godGhpcy5sYXN0RGVsdGFzKSxlLmlkPXRoaXMuJHJldj0rK3RoaXMuJG1heFJldn1pZihlLmFjdGlvbj09XCJyZW1vdmVcInx8ZS5hY3Rpb249PVwiaW5zZXJ0XCIpdGhpcy4kbGFzdERlbHRhPWU7dGhpcy5sYXN0RGVsdGFzLnB1c2goZSl9LGUucHJvdG90eXBlLmFkZFNlbGVjdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuc2VsZWN0aW9ucy5wdXNoKHt2YWx1ZTplLHJldjp0fHx0aGlzLiRyZXZ9KX0sZS5wcm90b3R5cGUuc3RhcnROZXdHcm91cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3REZWx0YXM9bnVsbCx0aGlzLiRyZXZ9LGUucHJvdG90eXBlLm1hcmtJZ25vcmVkPWZ1bmN0aW9uKGUsdCl7dD09bnVsbCYmKHQ9dGhpcy4kcmV2KzEpO3ZhciBuPXRoaXMuJHVuZG9TdGFjaztmb3IodmFyIHI9bi5sZW5ndGg7ci0tOyl7dmFyIGk9bltyXVswXTtpZihpLmlkPD1lKWJyZWFrO2kuaWQ8dCYmKGkuaWdub3JlPSEwKX10aGlzLmxhc3REZWx0YXM9bnVsbH0sZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZWxlY3Rpb25zO2Zvcih2YXIgcj1uLmxlbmd0aDtyLS07KXt2YXIgaT1uW3JdO2lmKGkucmV2PGUpcmV0dXJuIHQmJihpPW5bcisxXSksaX19LGUucHJvdG90eXBlLmdldFJldmlzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHJldn0sZS5wcm90b3R5cGUuZ2V0RGVsdGFzPWZ1bmN0aW9uKGUsdCl7dD09bnVsbCYmKHQ9dGhpcy4kcmV2KzEpO3ZhciBuPXRoaXMuJHVuZG9TdGFjayxyPW51bGwsaT0wO2Zvcih2YXIgcz1uLmxlbmd0aDtzLS07KXt2YXIgbz1uW3NdWzBdO28uaWQ8dCYmIXImJihyPXMrMSk7aWYoby5pZDw9ZSl7aT1zKzE7YnJlYWt9fXJldHVybiBuLnNsaWNlKGkscil9LGUucHJvdG90eXBlLmdldENoYW5nZWRSYW5nZXM9ZnVuY3Rpb24oZSx0KXt0PT1udWxsJiYodD10aGlzLiRyZXYrMSl9LGUucHJvdG90eXBlLmdldENoYW5nZWRMaW5lcz1mdW5jdGlvbihlLHQpe3Q9PW51bGwmJih0PXRoaXMuJHJldisxKX0sZS5wcm90b3R5cGUudW5kbz1mdW5jdGlvbihlLHQpe3RoaXMubGFzdERlbHRhcz1udWxsO3ZhciBuPXRoaXMuJHVuZG9TdGFjaztpZighaShuLG4ubGVuZ3RoKSlyZXR1cm47ZXx8KGU9dGhpcy4kc2Vzc2lvbiksdGhpcy4kcmVkb1N0YWNrQmFzZVJldiE9PXRoaXMuJHJldiYmdGhpcy4kcmVkb1N0YWNrLmxlbmd0aCYmKHRoaXMuJHJlZG9TdGFjaz1bXSksdGhpcy4kZnJvbVVuZG89ITA7dmFyIHI9bi5wb3AoKSxzPW51bGw7cmV0dXJuIHImJihzPWUudW5kb0NoYW5nZXMocix0KSx0aGlzLiRyZWRvU3RhY2sucHVzaChyKSx0aGlzLiRzeW5jUmV2KCkpLHRoaXMuJGZyb21VbmRvPSExLHN9LGUucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oZSx0KXt0aGlzLmxhc3REZWx0YXM9bnVsbCxlfHwoZT10aGlzLiRzZXNzaW9uKSx0aGlzLiRmcm9tVW5kbz0hMDtpZih0aGlzLiRyZWRvU3RhY2tCYXNlUmV2IT10aGlzLiRyZXYpe3ZhciBuPXRoaXMuZ2V0RGVsdGFzKHRoaXMuJHJlZG9TdGFja0Jhc2VSZXYsdGhpcy4kcmV2KzEpO3codGhpcy4kcmVkb1N0YWNrLG4pLHRoaXMuJHJlZG9TdGFja0Jhc2VSZXY9dGhpcy4kcmV2LHRoaXMuJHJlZG9TdGFjay5mb3JFYWNoKGZ1bmN0aW9uKGUpe2VbMF0uaWQ9Kyt0aGlzLiRtYXhSZXZ9LHRoaXMpfXZhciByPXRoaXMuJHJlZG9TdGFjay5wb3AoKSxpPW51bGw7cmV0dXJuIHImJihpPWUucmVkb0NoYW5nZXMocix0KSx0aGlzLiR1bmRvU3RhY2sucHVzaChyKSx0aGlzLiRzeW5jUmV2KCkpLHRoaXMuJGZyb21VbmRvPSExLGl9LGUucHJvdG90eXBlLiRzeW5jUmV2PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kdW5kb1N0YWNrLHQ9ZVtlLmxlbmd0aC0xXSxuPXQmJnRbMF0uaWR8fDA7dGhpcy4kcmVkb1N0YWNrQmFzZVJldj1uLHRoaXMuJHJldj1ufSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubGFzdERlbHRhcz1udWxsLHRoaXMuJGxhc3REZWx0YT1udWxsLHRoaXMuJHVuZG9TdGFjaz1bXSx0aGlzLiRyZWRvU3RhY2s9W10sdGhpcy4kcmV2PTAsdGhpcy5tYXJrPTAsdGhpcy4kcmVkb1N0YWNrQmFzZVJldj10aGlzLiRyZXYsdGhpcy5zZWxlY3Rpb25zPVtdfSxlLnByb3RvdHlwZS5jYW5VbmRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVuZG9TdGFjay5sZW5ndGg+MH0sZS5wcm90b3R5cGUuY2FuUmVkbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRyZWRvU3RhY2subGVuZ3RoPjB9LGUucHJvdG90eXBlLmJvb2ttYXJrPWZ1bmN0aW9uKGUpe2U9PXVuZGVmaW5lZCYmKGU9dGhpcy4kcmV2KSx0aGlzLm1hcms9ZX0sZS5wcm90b3R5cGUuaXNBdEJvb2ttYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHJldj09PXRoaXMubWFya30sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJueyRyZWRvU3RhY2s6dGhpcy4kcmVkb1N0YWNrLCR1bmRvU3RhY2s6dGhpcy4kdW5kb1N0YWNrfX0sZS5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24oZSl7dGhpcy5yZXNldCgpLHRoaXMuJHVuZG9TdGFjaz1lLiR1bmRvU3RhY2ssdGhpcy4kcmVkb1N0YWNrPWUuJHJlZG9TdGFja30sZS5wcm90b3R5cGUuJHByZXR0eVByaW50PWZ1bmN0aW9uKGUpe3JldHVybiBlP2MoZSk6Yyh0aGlzLiR1bmRvU3RhY2spK1wiXFxuLS0tXFxuXCIrYyh0aGlzLiRyZWRvU3RhY2spfSxlfSgpO3IucHJvdG90eXBlLmhhc1VuZG89ci5wcm90b3R5cGUuY2FuVW5kbyxyLnByb3RvdHlwZS5oYXNSZWRvPXIucHJvdG90eXBlLmNhblJlZG8sci5wcm90b3R5cGUuaXNDbGVhbj1yLnByb3RvdHlwZS5pc0F0Qm9va21hcmssci5wcm90b3R5cGUubWFya0NsZWFuPXIucHJvdG90eXBlLmJvb2ttYXJrO3ZhciBzPWUoXCIuL3JhbmdlXCIpLlJhbmdlLG89cy5jb21wYXJlUG9pbnRzLHU9cy5jb21wYXJlUG9pbnRzO3QuVW5kb01hbmFnZXI9cn0pLGFjZS5kZWZpbmUoXCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRfbGluZVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi4vcmFuZ2VcIikuUmFuZ2UsaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmZvbGREYXRhPWUsQXJyYXkuaXNBcnJheSh0KT90aGlzLmZvbGRzPXQ6dD10aGlzLmZvbGRzPVt0XTt2YXIgbj10W3QubGVuZ3RoLTFdO3RoaXMucmFuZ2U9bmV3IHIodFswXS5zdGFydC5yb3csdFswXS5zdGFydC5jb2x1bW4sbi5lbmQucm93LG4uZW5kLmNvbHVtbiksdGhpcy5zdGFydD10aGlzLnJhbmdlLnN0YXJ0LHRoaXMuZW5kPXRoaXMucmFuZ2UuZW5kLHRoaXMuZm9sZHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnNldEZvbGRMaW5lKHRoaXMpfSx0aGlzKX1yZXR1cm4gZS5wcm90b3R5cGUuc2hpZnRSb3c9ZnVuY3Rpb24oZSl7dGhpcy5zdGFydC5yb3crPWUsdGhpcy5lbmQucm93Kz1lLHRoaXMuZm9sZHMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnN0YXJ0LnJvdys9ZSx0LmVuZC5yb3crPWV9KX0sZS5wcm90b3R5cGUuYWRkRm9sZD1mdW5jdGlvbihlKXtpZihlLnNhbWVSb3cpe2lmKGUuc3RhcnQucm93PHRoaXMuc3RhcnRSb3d8fGUuZW5kUm93PnRoaXMuZW5kUm93KXRocm93IG5ldyBFcnJvcihcIkNhbid0IGFkZCBhIGZvbGQgdG8gdGhpcyBGb2xkTGluZSBhcyBpdCBoYXMgbm8gY29ubmVjdGlvblwiKTt0aGlzLmZvbGRzLnB1c2goZSksdGhpcy5mb2xkcy5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuLWUucmFuZ2UuY29tcGFyZUVuZCh0LnN0YXJ0LnJvdyx0LnN0YXJ0LmNvbHVtbil9KSx0aGlzLnJhbmdlLmNvbXBhcmVFbmQoZS5zdGFydC5yb3csZS5zdGFydC5jb2x1bW4pPjA/KHRoaXMuZW5kLnJvdz1lLmVuZC5yb3csdGhpcy5lbmQuY29sdW1uPWUuZW5kLmNvbHVtbik6dGhpcy5yYW5nZS5jb21wYXJlU3RhcnQoZS5lbmQucm93LGUuZW5kLmNvbHVtbik8MCYmKHRoaXMuc3RhcnQucm93PWUuc3RhcnQucm93LHRoaXMuc3RhcnQuY29sdW1uPWUuc3RhcnQuY29sdW1uKX1lbHNlIGlmKGUuc3RhcnQucm93PT10aGlzLmVuZC5yb3cpdGhpcy5mb2xkcy5wdXNoKGUpLHRoaXMuZW5kLnJvdz1lLmVuZC5yb3csdGhpcy5lbmQuY29sdW1uPWUuZW5kLmNvbHVtbjtlbHNle2lmKGUuZW5kLnJvdyE9dGhpcy5zdGFydC5yb3cpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGFkZCBmb2xkIHRvIEZvbGRSb3cgdGhhdCBkb2Vzbid0IGhhdmUgYSBtYXRjaGluZyByb3dcIik7dGhpcy5mb2xkcy51bnNoaWZ0KGUpLHRoaXMuc3RhcnQucm93PWUuc3RhcnQucm93LHRoaXMuc3RhcnQuY29sdW1uPWUuc3RhcnQuY29sdW1ufWUuZm9sZExpbmU9dGhpc30sZS5wcm90b3R5cGUuY29udGFpbnNSb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PXRoaXMuc3RhcnQucm93JiZlPD10aGlzLmVuZC5yb3d9LGUucHJvdG90eXBlLndhbGs9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPTAsaT10aGlzLmZvbGRzLHMsbyx1LGE9ITA7dD09bnVsbCYmKHQ9dGhpcy5lbmQucm93LG49dGhpcy5lbmQuY29sdW1uKTtmb3IodmFyIGY9MDtmPGkubGVuZ3RoO2YrKyl7cz1pW2ZdLG89cy5yYW5nZS5jb21wYXJlU3RhcnQodCxuKTtpZihvPT0tMSl7ZShudWxsLHQsbixyLGEpO3JldHVybn11PWUobnVsbCxzLnN0YXJ0LnJvdyxzLnN0YXJ0LmNvbHVtbixyLGEpLHU9IXUmJmUocy5wbGFjZWhvbGRlcixzLnN0YXJ0LnJvdyxzLnN0YXJ0LmNvbHVtbixyKTtpZih1fHxvPT09MClyZXR1cm47YT0hcy5zYW1lUm93LHI9cy5lbmQuY29sdW1ufWUobnVsbCx0LG4scixhKX0sZS5wcm90b3R5cGUuZ2V0TmV4dEZvbGRUbz1mdW5jdGlvbihlLHQpe3ZhciBuLHI7Zm9yKHZhciBpPTA7aTx0aGlzLmZvbGRzLmxlbmd0aDtpKyspe249dGhpcy5mb2xkc1tpXSxyPW4ucmFuZ2UuY29tcGFyZUVuZChlLHQpO2lmKHI9PS0xKXJldHVybntmb2xkOm4sa2luZDpcImFmdGVyXCJ9O2lmKHI9PT0wKXJldHVybntmb2xkOm4sa2luZDpcImluc2lkZVwifX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuYWRkUmVtb3ZlQ2hhcnM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuZ2V0TmV4dEZvbGRUbyhlLHQpLGkscztpZihyKXtpPXIuZm9sZDtpZihyLmtpbmQ9PVwiaW5zaWRlXCImJmkuc3RhcnQuY29sdW1uIT10JiZpLnN0YXJ0LnJvdyE9ZSl3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKGUsdCxpKTtlbHNlIGlmKGkuc3RhcnQucm93PT1lKXtzPXRoaXMuZm9sZHM7dmFyIG89cy5pbmRleE9mKGkpO289PT0wJiYodGhpcy5zdGFydC5jb2x1bW4rPW4pO2ZvcihvO288cy5sZW5ndGg7bysrKXtpPXNbb10saS5zdGFydC5jb2x1bW4rPW47aWYoIWkuc2FtZVJvdylyZXR1cm47aS5lbmQuY29sdW1uKz1ufXRoaXMuZW5kLmNvbHVtbis9bn19fSxlLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMuZ2V0TmV4dEZvbGRUbyh0LG4pO2lmKCFyfHxyLmtpbmQ9PVwiaW5zaWRlXCIpcmV0dXJuIG51bGw7dmFyIGk9ci5mb2xkLHM9dGhpcy5mb2xkcyxvPXRoaXMuZm9sZERhdGEsdT1zLmluZGV4T2YoaSksYT1zW3UtMV07dGhpcy5lbmQucm93PWEuZW5kLnJvdyx0aGlzLmVuZC5jb2x1bW49YS5lbmQuY29sdW1uLHM9cy5zcGxpY2UodSxzLmxlbmd0aC11KTt2YXIgZj1uZXcgZShvLHMpO3JldHVybiBvLnNwbGljZShvLmluZGV4T2YodGhpcykrMSwwLGYpLGZ9LGUucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZm9sZHM7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5hZGRGb2xkKHRbbl0pO3ZhciByPXRoaXMuZm9sZERhdGE7ci5zcGxpY2Uoci5pbmRleE9mKGUpLDEpfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPVt0aGlzLnJhbmdlLnRvU3RyaW5nKCkrXCI6IFtcIl07cmV0dXJuIHRoaXMuZm9sZHMuZm9yRWFjaChmdW5jdGlvbih0KXtlLnB1c2goXCIgIFwiK3QudG9TdHJpbmcoKSl9KSxlLnB1c2goXCJdXCIpLGUuam9pbihcIlxcblwiKX0sZS5wcm90b3R5cGUuaWR4VG9Qb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0wO2Zvcih2YXIgbj0wO248dGhpcy5mb2xkcy5sZW5ndGg7bisrKXt2YXIgcj10aGlzLmZvbGRzW25dO2UtPXIuc3RhcnQuY29sdW1uLXQ7aWYoZTwwKXJldHVybntyb3c6ci5zdGFydC5yb3csY29sdW1uOnIuc3RhcnQuY29sdW1uK2V9O2UtPXIucGxhY2Vob2xkZXIubGVuZ3RoO2lmKGU8MClyZXR1cm4gci5zdGFydDt0PXIuZW5kLmNvbHVtbn1yZXR1cm57cm93OnRoaXMuZW5kLnJvdyxjb2x1bW46dGhpcy5lbmQuY29sdW1uK2V9fSxlfSgpO3QuRm9sZExpbmU9aX0pLGFjZS5kZWZpbmUoXCJhY2UvcmFuZ2VfbGlzdFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9yYW5nZVwiKS5SYW5nZSxpPXIuY29tcGFyZVBvaW50cyxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMucmFuZ2VzPVtdLHRoaXMuJGJpYXM9MX1yZXR1cm4gZS5wcm90b3R5cGUucG9pbnRJbmRleD1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5yYW5nZXM7Zm9yKHZhciBzPW58fDA7czxyLmxlbmd0aDtzKyspe3ZhciBvPXJbc10sdT1pKGUsby5lbmQpO2lmKHU+MCljb250aW51ZTt2YXIgYT1pKGUsby5zdGFydCk7cmV0dXJuIHU9PT0wP3QmJmEhPT0wPy1zLTI6czphPjB8fGE9PT0wJiYhdD9zOi1zLTF9cmV0dXJuLXMtMX0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PSFlLmlzRW1wdHkoKSxuPXRoaXMucG9pbnRJbmRleChlLnN0YXJ0LHQpO248MCYmKG49LW4tMSk7dmFyIHI9dGhpcy5wb2ludEluZGV4KGUuZW5kLHQsbik7cmV0dXJuIHI8MD9yPS1yLTE6cisrLHRoaXMucmFuZ2VzLnNwbGljZShuLHItbixlKX0sZS5wcm90b3R5cGUuYWRkTGlzdD1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG49ZS5sZW5ndGg7bi0tOyl0LnB1c2guYXBwbHkodCx0aGlzLmFkZChlW25dKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLnN1YnN0cmFjdFBvaW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucG9pbnRJbmRleChlKTtpZih0Pj0wKXJldHVybiB0aGlzLnJhbmdlcy5zcGxpY2UodCwxKX0sZS5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMucmFuZ2VzO3Q9dC5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZS5zdGFydCx0LnN0YXJ0KX0pO3ZhciBuPXRbMF0scjtmb3IodmFyIHM9MTtzPHQubGVuZ3RoO3MrKyl7cj1uLG49dFtzXTt2YXIgbz1pKHIuZW5kLG4uc3RhcnQpO2lmKG88MCljb250aW51ZTtpZihvPT0wJiYhci5pc0VtcHR5KCkmJiFuLmlzRW1wdHkoKSljb250aW51ZTtpKHIuZW5kLG4uZW5kKTwwJiYoci5lbmQucm93PW4uZW5kLnJvdyxyLmVuZC5jb2x1bW49bi5lbmQuY29sdW1uKSx0LnNwbGljZShzLDEpLGUucHVzaChuKSxuPXIscy0tfXJldHVybiB0aGlzLnJhbmdlcz10LGV9LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucG9pbnRJbmRleCh7cm93OmUsY29sdW1uOnR9KT49MH0sZS5wcm90b3R5cGUuY29udGFpbnNQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wb2ludEluZGV4KGUpPj0wfSxlLnByb3RvdHlwZS5yYW5nZUF0UG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wb2ludEluZGV4KGUpO2lmKHQ+PTApcmV0dXJuIHRoaXMucmFuZ2VzW3RdfSxlLnByb3RvdHlwZS5jbGlwUm93cz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMucmFuZ2VzO2lmKG5bMF0uc3RhcnQucm93PnR8fG5bbi5sZW5ndGgtMV0uc3RhcnQucm93PGUpcmV0dXJuW107dmFyIHI9dGhpcy5wb2ludEluZGV4KHtyb3c6ZSxjb2x1bW46MH0pO3I8MCYmKHI9LXItMSk7dmFyIGk9dGhpcy5wb2ludEluZGV4KHtyb3c6dCxjb2x1bW46MH0scik7aTwwJiYoaT0taS0xKTt2YXIgcz1bXTtmb3IodmFyIG89cjtvPGk7bysrKXMucHVzaChuW29dKTtyZXR1cm4gc30sZS5wcm90b3R5cGUucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VzLnNwbGljZSgwLHRoaXMucmFuZ2VzLmxlbmd0aCl9LGUucHJvdG90eXBlLmF0dGFjaD1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb24mJnRoaXMuZGV0YWNoKCksdGhpcy5zZXNzaW9uPWUsdGhpcy5vbkNoYW5nZT10aGlzLiRvbkNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZVwiLHRoaXMub25DaGFuZ2UpfSxlLnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXtpZighdGhpcy5zZXNzaW9uKXJldHVybjt0aGlzLnNlc3Npb24ucmVtb3ZlTGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLm9uQ2hhbmdlKSx0aGlzLnNlc3Npb249bnVsbH0sZS5wcm90b3R5cGUuJG9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhcnQsbj1lLmVuZCxyPXQucm93LGk9bi5yb3cscz10aGlzLnJhbmdlcztmb3IodmFyIG89MCx1PXMubGVuZ3RoO288dTtvKyspe3ZhciBhPXNbb107aWYoYS5lbmQucm93Pj1yKWJyZWFrfWlmKGUuYWN0aW9uPT1cImluc2VydFwiKXt2YXIgZj1pLXIsbD0tdC5jb2x1bW4rbi5jb2x1bW47Zm9yKDtvPHU7bysrKXt2YXIgYT1zW29dO2lmKGEuc3RhcnQucm93PnIpYnJlYWs7YS5zdGFydC5yb3c9PXImJmEuc3RhcnQuY29sdW1uPj10LmNvbHVtbiYmKGEuc3RhcnQuY29sdW1uPT10LmNvbHVtbiYmdGhpcy4kYmlhczw9MHx8KGEuc3RhcnQuY29sdW1uKz1sLGEuc3RhcnQucm93Kz1mKSk7aWYoYS5lbmQucm93PT1yJiZhLmVuZC5jb2x1bW4+PXQuY29sdW1uKXtpZihhLmVuZC5jb2x1bW49PXQuY29sdW1uJiZ0aGlzLiRiaWFzPDApY29udGludWU7YS5lbmQuY29sdW1uPT10LmNvbHVtbiYmbD4wJiZvPHUtMSYmYS5lbmQuY29sdW1uPmEuc3RhcnQuY29sdW1uJiZhLmVuZC5jb2x1bW49PXNbbysxXS5zdGFydC5jb2x1bW4mJihhLmVuZC5jb2x1bW4tPWwpLGEuZW5kLmNvbHVtbis9bCxhLmVuZC5yb3crPWZ9fX1lbHNle3ZhciBmPXItaSxsPXQuY29sdW1uLW4uY29sdW1uO2Zvcig7bzx1O28rKyl7dmFyIGE9c1tvXTtpZihhLnN0YXJ0LnJvdz5pKWJyZWFrO2lmKGEuZW5kLnJvdzxpJiYocjxhLmVuZC5yb3d8fHI9PWEuZW5kLnJvdyYmdC5jb2x1bW48YS5lbmQuY29sdW1uKSlhLmVuZC5yb3c9cixhLmVuZC5jb2x1bW49dC5jb2x1bW47ZWxzZSBpZihhLmVuZC5yb3c9PWkpaWYoYS5lbmQuY29sdW1uPD1uLmNvbHVtbil7aWYoZnx8YS5lbmQuY29sdW1uPnQuY29sdW1uKWEuZW5kLmNvbHVtbj10LmNvbHVtbixhLmVuZC5yb3c9dC5yb3d9ZWxzZSBhLmVuZC5jb2x1bW4rPWwsYS5lbmQucm93Kz1mO2Vsc2UgYS5lbmQucm93PmkmJihhLmVuZC5yb3crPWYpO2lmKGEuc3RhcnQucm93PGkmJihyPGEuc3RhcnQucm93fHxyPT1hLnN0YXJ0LnJvdyYmdC5jb2x1bW48YS5zdGFydC5jb2x1bW4pKWEuc3RhcnQucm93PXIsYS5zdGFydC5jb2x1bW49dC5jb2x1bW47ZWxzZSBpZihhLnN0YXJ0LnJvdz09aSlpZihhLnN0YXJ0LmNvbHVtbjw9bi5jb2x1bW4pe2lmKGZ8fGEuc3RhcnQuY29sdW1uPnQuY29sdW1uKWEuc3RhcnQuY29sdW1uPXQuY29sdW1uLGEuc3RhcnQucm93PXQucm93fWVsc2UgYS5zdGFydC5jb2x1bW4rPWwsYS5zdGFydC5yb3crPWY7ZWxzZSBhLnN0YXJ0LnJvdz5pJiYoYS5zdGFydC5yb3crPWYpfX1pZihmIT0wJiZvPHUpZm9yKDtvPHU7bysrKXt2YXIgYT1zW29dO2Euc3RhcnQucm93Kz1mLGEuZW5kLnJvdys9Zn19LGV9KCk7cy5wcm90b3R5cGUuY29tcGFyZVBvaW50cz1pLHQuUmFuZ2VMaXN0PXN9KSxhY2UuZGVmaW5lKFwiYWNlL2VkaXRfc2Vzc2lvbi9mb2xkXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VfbGlzdFwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2Uucm93LT10LnJvdyxlLnJvdz09MCYmKGUuY29sdW1uLT10LmNvbHVtbil9ZnVuY3Rpb24gdShlLHQpe28oZS5zdGFydCx0KSxvKGUuZW5kLHQpfWZ1bmN0aW9uIGEoZSx0KXtlLnJvdz09MCYmKGUuY29sdW1uKz10LmNvbHVtbiksZS5yb3crPXQucm93fWZ1bmN0aW9uIGYoZSx0KXthKGUuc3RhcnQsdCksYShlLmVuZCx0KX12YXIgcj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LG4pe3JldHVybiBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX0sZSh0LG4pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWlmKHR5cGVvZiBuIT1cImZ1bmN0aW9uXCImJm4hPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyhuKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2UodCxuKSx0LnByb3RvdHlwZT1uPT09bnVsbD9PYmplY3QuY3JlYXRlKG4pOihyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcil9fSgpLGk9ZShcIi4uL3JhbmdlX2xpc3RcIikuUmFuZ2VMaXN0LHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5mb2xkTGluZT1udWxsLHIucGxhY2Vob2xkZXI9bixyLnJhbmdlPXQsci5zdGFydD10LnN0YXJ0LHIuZW5kPXQuZW5kLHIuc2FtZVJvdz10LnN0YXJ0LnJvdz09dC5lbmQucm93LHIuc3ViRm9sZHM9ci5yYW5nZXM9W10scn1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuJ1wiJyt0aGlzLnBsYWNlaG9sZGVyKydcIiAnK3RoaXMucmFuZ2UudG9TdHJpbmcoKX0sdC5wcm90b3R5cGUuc2V0Rm9sZExpbmU9ZnVuY3Rpb24oZSl7dGhpcy5mb2xkTGluZT1lLHRoaXMuc3ViRm9sZHMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnNldEZvbGRMaW5lKGUpfSl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yYW5nZS5jbG9uZSgpLG49bmV3IHQoZSx0aGlzLnBsYWNlaG9sZGVyKTtyZXR1cm4gdGhpcy5zdWJGb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uc3ViRm9sZHMucHVzaChlLmNsb25lKCkpfSksbi5jb2xsYXBzZUNoaWxkcmVuPXRoaXMuY29sbGFwc2VDaGlsZHJlbixufSx0LnByb3RvdHlwZS5hZGRTdWJGb2xkPWZ1bmN0aW9uKGUpe2lmKHRoaXMucmFuZ2UuaXNFcXVhbChlKSlyZXR1cm47dShlLHRoaXMuc3RhcnQpO3ZhciB0PWUuc3RhcnQucm93LG49ZS5zdGFydC5jb2x1bW47Zm9yKHZhciByPTAsaT0tMTtyPHRoaXMuc3ViRm9sZHMubGVuZ3RoO3IrKyl7aT10aGlzLnN1YkZvbGRzW3JdLnJhbmdlLmNvbXBhcmUodCxuKTtpZihpIT0xKWJyZWFrfXZhciBzPXRoaXMuc3ViRm9sZHNbcl0sbz0wO2lmKGk9PTApe2lmKHMucmFuZ2UuY29udGFpbnNSYW5nZShlKSlyZXR1cm4gcy5hZGRTdWJGb2xkKGUpO289MX12YXIgdD1lLnJhbmdlLmVuZC5yb3csbj1lLnJhbmdlLmVuZC5jb2x1bW47Zm9yKHZhciBhPXIsaT0tMTthPHRoaXMuc3ViRm9sZHMubGVuZ3RoO2ErKyl7aT10aGlzLnN1YkZvbGRzW2FdLnJhbmdlLmNvbXBhcmUodCxuKTtpZihpIT0xKWJyZWFrfWk9PTAmJmErKzt2YXIgZj10aGlzLnN1YkZvbGRzLnNwbGljZShyLGEtcixlKSxsPWk9PTA/Zi5sZW5ndGgtMTpmLmxlbmd0aDtmb3IodmFyIGM9bztjPGw7YysrKWUuYWRkU3ViRm9sZChmW2NdKTtyZXR1cm4gZS5zZXRGb2xkTGluZSh0aGlzLmZvbGRMaW5lKSxlfSx0LnByb3RvdHlwZS5yZXN0b3JlUmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGYoZSx0aGlzLnN0YXJ0KX0sdH0oaSk7dC5Gb2xkPXN9KSxhY2UuZGVmaW5lKFwiYWNlL2VkaXRfc2Vzc2lvbi9mb2xkaW5nXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9lZGl0X3Nlc3Npb24vZm9sZF9saW5lXCIsXCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRcIixcImFjZS90b2tlbl9pdGVyYXRvclwiLFwiYWNlL21vdXNlL21vdXNlX2V2ZW50XCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKCl7dGhpcy5nZXRGb2xkQXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuZ2V0Rm9sZExpbmUoZSk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIGk9ci5mb2xkcztmb3IodmFyIHM9MDtzPGkubGVuZ3RoO3MrKyl7dmFyIG89aVtzXS5yYW5nZTtpZihvLmNvbnRhaW5zKGUsdCkpe2lmKG49PTEmJm8uaXNFbmQoZSx0KSYmIW8uaXNFbXB0eSgpKWNvbnRpbnVlO2lmKG49PS0xJiZvLmlzU3RhcnQoZSx0KSYmIW8uaXNFbXB0eSgpKWNvbnRpbnVlO3JldHVybiBpW3NdfX19LHRoaXMuZ2V0Rm9sZHNJblJhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhcnQsbj1lLmVuZCxyPXRoaXMuJGZvbGREYXRhLGk9W107dC5jb2x1bW4rPTEsbi5jb2x1bW4tPTE7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBvPXJbc10ucmFuZ2UuY29tcGFyZVJhbmdlKGUpO2lmKG89PTIpY29udGludWU7aWYobz09LTIpYnJlYWs7dmFyIHU9cltzXS5mb2xkcztmb3IodmFyIGE9MDthPHUubGVuZ3RoO2ErKyl7dmFyIGY9dVthXTtvPWYucmFuZ2UuY29tcGFyZVJhbmdlKGUpO2lmKG89PS0yKWJyZWFrO2lmKG89PTIpY29udGludWU7aWYobz09NDIpYnJlYWs7aS5wdXNoKGYpfX1yZXR1cm4gdC5jb2x1bW4tPTEsbi5jb2x1bW4rPTEsaX0sdGhpcy5nZXRGb2xkc0luUmFuZ2VMaXN0PWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe3ZhciB0PVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXt0PXQuY29uY2F0KHRoaXMuZ2V0Rm9sZHNJblJhbmdlKGUpKX0sdGhpcyl9ZWxzZSB2YXIgdD10aGlzLmdldEZvbGRzSW5SYW5nZShlKTtyZXR1cm4gdH0sdGhpcy5nZXRBbGxGb2xkcz1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy4kZm9sZERhdGE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZm9yKHZhciByPTA7cjx0W25dLmZvbGRzLmxlbmd0aDtyKyspZS5wdXNoKHRbbl0uZm9sZHNbcl0pO3JldHVybiBlfSx0aGlzLmdldEZvbGRTdHJpbmdBdD1mdW5jdGlvbihlLHQsbixyKXtyPXJ8fHRoaXMuZ2V0Rm9sZExpbmUoZSk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIGk9e2VuZDp7Y29sdW1uOjB9fSxzLG87Zm9yKHZhciB1PTA7dTxyLmZvbGRzLmxlbmd0aDt1Kyspe289ci5mb2xkc1t1XTt2YXIgYT1vLnJhbmdlLmNvbXBhcmVFbmQoZSx0KTtpZihhPT0tMSl7cz10aGlzLmdldExpbmUoby5zdGFydC5yb3cpLnN1YnN0cmluZyhpLmVuZC5jb2x1bW4sby5zdGFydC5jb2x1bW4pO2JyZWFrfWlmKGE9PT0wKXJldHVybiBudWxsO2k9b31yZXR1cm4gc3x8KHM9dGhpcy5nZXRMaW5lKG8uc3RhcnQucm93KS5zdWJzdHJpbmcoaS5lbmQuY29sdW1uKSksbj09LTE/cy5zdWJzdHJpbmcoMCx0LWkuZW5kLmNvbHVtbik6bj09MT9zLnN1YnN0cmluZyh0LWkuZW5kLmNvbHVtbik6c30sdGhpcy5nZXRGb2xkTGluZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJGZvbGREYXRhLHI9MDt0JiYocj1uLmluZGV4T2YodCkpLHI9PS0xJiYocj0wKTtmb3IocjtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZihpLnN0YXJ0LnJvdzw9ZSYmaS5lbmQucm93Pj1lKXJldHVybiBpO2lmKGkuZW5kLnJvdz5lKXJldHVybiBudWxsfXJldHVybiBudWxsfSx0aGlzLmdldE5leHRGb2xkTGluZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJGZvbGREYXRhLHI9MDt0JiYocj1uLmluZGV4T2YodCkpLHI9PS0xJiYocj0wKTtmb3IocjtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZihpLmVuZC5yb3c+PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9LHRoaXMuZ2V0Rm9sZGVkUm93Q291bnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLiRmb2xkRGF0YSxyPXQtZSsxO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcz1uW2ldLG89cy5lbmQucm93LHU9cy5zdGFydC5yb3c7aWYobz49dCl7dTx0JiYodT49ZT9yLT10LXU6cj0wKTticmVha31vPj1lJiYodT49ZT9yLT1vLXU6ci09by1lKzEpfXJldHVybiByfSx0aGlzLiRhZGRGb2xkTGluZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kZm9sZERhdGEucHVzaChlKSx0aGlzLiRmb2xkRGF0YS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3RhcnQucm93LXQuc3RhcnQucm93fSksZX0sdGhpcy5hZGRGb2xkPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy4kZm9sZERhdGEscj0hMSxvO2UgaW5zdGFuY2VvZiBzP289ZToobz1uZXcgcyh0LGUpLG8uY29sbGFwc2VDaGlsZHJlbj10LmNvbGxhcHNlQ2hpbGRyZW4pLHRoaXMuJGNsaXBSYW5nZVRvRG9jdW1lbnQoby5yYW5nZSk7dmFyIHU9by5zdGFydC5yb3csYT1vLnN0YXJ0LmNvbHVtbixmPW8uZW5kLnJvdyxsPW8uZW5kLmNvbHVtbixjPXRoaXMuZ2V0Rm9sZEF0KHUsYSwxKSxoPXRoaXMuZ2V0Rm9sZEF0KGYsbCwtMSk7aWYoYyYmaD09YylyZXR1cm4gYy5hZGRTdWJGb2xkKG8pO2MmJiFjLnJhbmdlLmlzU3RhcnQodSxhKSYmdGhpcy5yZW1vdmVGb2xkKGMpLGgmJiFoLnJhbmdlLmlzRW5kKGYsbCkmJnRoaXMucmVtb3ZlRm9sZChoKTt2YXIgcD10aGlzLmdldEZvbGRzSW5SYW5nZShvLnJhbmdlKTtwLmxlbmd0aD4wJiYodGhpcy5yZW1vdmVGb2xkcyhwKSxvLmNvbGxhcHNlQ2hpbGRyZW58fHAuZm9yRWFjaChmdW5jdGlvbihlKXtvLmFkZFN1YkZvbGQoZSl9KSk7Zm9yKHZhciBkPTA7ZDxuLmxlbmd0aDtkKyspe3ZhciB2PW5bZF07aWYoZj09di5zdGFydC5yb3cpe3YuYWRkRm9sZChvKSxyPSEwO2JyZWFrfWlmKHU9PXYuZW5kLnJvdyl7di5hZGRGb2xkKG8pLHI9ITA7aWYoIW8uc2FtZVJvdyl7dmFyIG09bltkKzFdO2lmKG0mJm0uc3RhcnQucm93PT1mKXt2Lm1lcmdlKG0pO2JyZWFrfX1icmVha31pZihmPD12LnN0YXJ0LnJvdylicmVha31yZXR1cm4gcnx8KHY9dGhpcy4kYWRkRm9sZExpbmUobmV3IGkodGhpcy4kZm9sZERhdGEsbykpKSx0aGlzLiR1c2VXcmFwTW9kZT90aGlzLiR1cGRhdGVXcmFwRGF0YSh2LnN0YXJ0LnJvdyx2LnN0YXJ0LnJvdyk6dGhpcy4kdXBkYXRlUm93TGVuZ3RoQ2FjaGUodi5zdGFydC5yb3csdi5zdGFydC5yb3cpLHRoaXMuJG1vZGlmaWVkPSEwLHRoaXMuX3NpZ25hbChcImNoYW5nZUZvbGRcIix7ZGF0YTpvLGFjdGlvbjpcImFkZFwifSksb30sdGhpcy5hZGRGb2xkcz1mdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5hZGRGb2xkKGUpfSx0aGlzKX0sdGhpcy5yZW1vdmVGb2xkPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZm9sZExpbmUsbj10LnN0YXJ0LnJvdyxyPXQuZW5kLnJvdyxpPXRoaXMuJGZvbGREYXRhLHM9dC5mb2xkcztpZihzLmxlbmd0aD09MSlpLnNwbGljZShpLmluZGV4T2YodCksMSk7ZWxzZSBpZih0LnJhbmdlLmlzRW5kKGUuZW5kLnJvdyxlLmVuZC5jb2x1bW4pKXMucG9wKCksdC5lbmQucm93PXNbcy5sZW5ndGgtMV0uZW5kLnJvdyx0LmVuZC5jb2x1bW49c1tzLmxlbmd0aC0xXS5lbmQuY29sdW1uO2Vsc2UgaWYodC5yYW5nZS5pc1N0YXJ0KGUuc3RhcnQucm93LGUuc3RhcnQuY29sdW1uKSlzLnNoaWZ0KCksdC5zdGFydC5yb3c9c1swXS5zdGFydC5yb3csdC5zdGFydC5jb2x1bW49c1swXS5zdGFydC5jb2x1bW47ZWxzZSBpZihlLnNhbWVSb3cpcy5zcGxpY2Uocy5pbmRleE9mKGUpLDEpO2Vsc2V7dmFyIG89dC5zcGxpdChlLnN0YXJ0LnJvdyxlLnN0YXJ0LmNvbHVtbik7cz1vLmZvbGRzLHMuc2hpZnQoKSxvLnN0YXJ0LnJvdz1zWzBdLnN0YXJ0LnJvdyxvLnN0YXJ0LmNvbHVtbj1zWzBdLnN0YXJ0LmNvbHVtbn10aGlzLiR1cGRhdGluZ3x8KHRoaXMuJHVzZVdyYXBNb2RlP3RoaXMuJHVwZGF0ZVdyYXBEYXRhKG4scik6dGhpcy4kdXBkYXRlUm93TGVuZ3RoQ2FjaGUobixyKSksdGhpcy4kbW9kaWZpZWQ9ITAsdGhpcy5fc2lnbmFsKFwiY2hhbmdlRm9sZFwiLHtkYXRhOmUsYWN0aW9uOlwicmVtb3ZlXCJ9KX0sdGhpcy5yZW1vdmVGb2xkcz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LnB1c2goZVtuXSk7dC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMucmVtb3ZlRm9sZChlKX0sdGhpcyksdGhpcy4kbW9kaWZpZWQ9ITB9LHRoaXMuZXhwYW5kRm9sZD1mdW5jdGlvbihlKXt0aGlzLnJlbW92ZUZvbGQoZSksZS5zdWJGb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucmVzdG9yZVJhbmdlKHQpLHRoaXMuYWRkRm9sZCh0KX0sdGhpcyksZS5jb2xsYXBzZUNoaWxkcmVuPjAmJnRoaXMuZm9sZEFsbChlLnN0YXJ0LnJvdysxLGUuZW5kLnJvdyxlLmNvbGxhcHNlQ2hpbGRyZW4tMSksZS5zdWJGb2xkcz1bXX0sdGhpcy5leHBhbmRGb2xkcz1mdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5leHBhbmRGb2xkKGUpfSx0aGlzKX0sdGhpcy51bmZvbGQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixpO2lmKGU9PW51bGwpbj1uZXcgcigwLDAsdGhpcy5nZXRMZW5ndGgoKSwwKSx0PT1udWxsJiYodD0hMCk7ZWxzZSBpZih0eXBlb2YgZT09XCJudW1iZXJcIiluPW5ldyByKGUsMCxlLHRoaXMuZ2V0TGluZShlKS5sZW5ndGgpO2Vsc2UgaWYoXCJyb3dcImluIGUpbj1yLmZyb21Qb2ludHMoZSxlKTtlbHNle2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGk9W10sZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2k9aS5jb25jYXQodGhpcy51bmZvbGQoZSkpfSx0aGlzKSxpO249ZX1pPXRoaXMuZ2V0Rm9sZHNJblJhbmdlTGlzdChuKTt2YXIgcz1pO3doaWxlKGkubGVuZ3RoPT0xJiZyLmNvbXBhcmVQb2ludHMoaVswXS5zdGFydCxuLnN0YXJ0KTwwJiZyLmNvbXBhcmVQb2ludHMoaVswXS5lbmQsbi5lbmQpPjApdGhpcy5leHBhbmRGb2xkcyhpKSxpPXRoaXMuZ2V0Rm9sZHNJblJhbmdlTGlzdChuKTt0IT0wP3RoaXMucmVtb3ZlRm9sZHMoaSk6dGhpcy5leHBhbmRGb2xkcyhpKTtpZihzLmxlbmd0aClyZXR1cm4gc30sdGhpcy5pc1Jvd0ZvbGRlZD1mdW5jdGlvbihlLHQpe3JldHVybiEhdGhpcy5nZXRGb2xkTGluZShlLHQpfSx0aGlzLmdldFJvd0ZvbGRFbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldEZvbGRMaW5lKGUsdCk7cmV0dXJuIG4/bi5lbmQucm93OmV9LHRoaXMuZ2V0Um93Rm9sZFN0YXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRGb2xkTGluZShlLHQpO3JldHVybiBuP24uc3RhcnQucm93OmV9LHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lPWZ1bmN0aW9uKGUsdCxuLHIsaSl7cj09bnVsbCYmKHI9ZS5zdGFydC5yb3cpLGk9PW51bGwmJihpPTApLHQ9PW51bGwmJih0PWUuZW5kLnJvdyksbj09bnVsbCYmKG49dGhpcy5nZXRMaW5lKHQpLmxlbmd0aCk7dmFyIHM9dGhpcy5kb2Msbz1cIlwiO3JldHVybiBlLndhbGsoZnVuY3Rpb24oZSx0LG4sdSl7aWYodDxyKXJldHVybjtpZih0PT1yKXtpZihuPGkpcmV0dXJuO3U9TWF0aC5tYXgoaSx1KX1lIT1udWxsP28rPWU6bys9cy5nZXRMaW5lKHQpLnN1YnN0cmluZyh1LG4pfSx0LG4pLG99LHRoaXMuZ2V0RGlzcGxheUxpbmU9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcy5nZXRGb2xkTGluZShlKTtpZighaSl7dmFyIHM7cmV0dXJuIHM9dGhpcy5kb2MuZ2V0TGluZShlKSxzLnN1YnN0cmluZyhyfHwwLHR8fHMubGVuZ3RoKX1yZXR1cm4gdGhpcy5nZXRGb2xkRGlzcGxheUxpbmUoaSxlLHQsbixyKX0sdGhpcy4kY2xvbmVGb2xkRGF0YT1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlPXRoaXMuJGZvbGREYXRhLm1hcChmdW5jdGlvbih0KXt2YXIgbj10LmZvbGRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5jbG9uZSgpfSk7cmV0dXJuIG5ldyBpKGUsbil9KSxlfSx0aGlzLnRvZ2dsZUZvbGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zZWxlY3Rpb24sbj10LmdldFJhbmdlKCkscixpO2lmKG4uaXNFbXB0eSgpKXt2YXIgcz1uLnN0YXJ0O3I9dGhpcy5nZXRGb2xkQXQocy5yb3cscy5jb2x1bW4pO2lmKHIpe3RoaXMuZXhwYW5kRm9sZChyKTtyZXR1cm59aWYoZSl7dmFyIG89dGhpcy5nZXRGb2xkTGluZShzLnJvdyk7byYmdGhpcy5leHBhbmRGb2xkcyhvLmZvbGRzKTtyZXR1cm59KGk9dGhpcy5maW5kTWF0Y2hpbmdCcmFja2V0KHMpKT9uLmNvbXBhcmVQb2ludChpKT09MT9uLmVuZD1pOihuLnN0YXJ0PWksbi5zdGFydC5jb2x1bW4rKyxuLmVuZC5jb2x1bW4tLSk6KGk9dGhpcy5maW5kTWF0Y2hpbmdCcmFja2V0KHtyb3c6cy5yb3csY29sdW1uOnMuY29sdW1uKzF9KSk/KG4uY29tcGFyZVBvaW50KGkpPT0xP24uZW5kPWk6bi5zdGFydD1pLG4uc3RhcnQuY29sdW1uKyspOm49dGhpcy5nZXRDb21tZW50Rm9sZFJhbmdlKHMucm93LHMuY29sdW1uKXx8bn1lbHNle3ZhciB1PXRoaXMuZ2V0Rm9sZHNJblJhbmdlKG4pO2lmKGUmJnUubGVuZ3RoKXt0aGlzLmV4cGFuZEZvbGRzKHUpO3JldHVybn11Lmxlbmd0aD09MSYmKHI9dVswXSl9cnx8KHI9dGhpcy5nZXRGb2xkQXQobi5zdGFydC5yb3csbi5zdGFydC5jb2x1bW4pKTtpZihyJiZyLnJhbmdlLnRvU3RyaW5nKCk9PW4udG9TdHJpbmcoKSl7dGhpcy5leHBhbmRGb2xkKHIpO3JldHVybn12YXIgYT1cIi4uLlwiO2lmKCFuLmlzTXVsdGlMaW5lKCkpe2E9dGhpcy5nZXRUZXh0UmFuZ2Uobik7aWYoYS5sZW5ndGg8NClyZXR1cm47YT1hLnRyaW0oKS5zdWJzdHJpbmcoMCwyKStcIi4uXCJ9dGhpcy5hZGRGb2xkKGEsbil9LHRoaXMuZ2V0Q29tbWVudEZvbGRSYW5nZT1mdW5jdGlvbihlLHQsbil7dmFyIGk9bmV3IG8odGhpcyxlLHQpLHM9aS5nZXRDdXJyZW50VG9rZW4oKSx1PXMmJnMudHlwZTtpZihzJiYvXmNvbW1lbnR8c3RyaW5nLy50ZXN0KHUpKXt1PXUubWF0Y2goL2NvbW1lbnR8c3RyaW5nLylbMF0sdT09XCJjb21tZW50XCImJih1Kz1cInxkb2Mtc3RhcnR8XFxcXC5kb2NcIik7dmFyIGE9bmV3IFJlZ0V4cCh1KSxmPW5ldyByO2lmKG4hPTEpe2RvIHM9aS5zdGVwQmFja3dhcmQoKTt3aGlsZShzJiZhLnRlc3Qocy50eXBlKSk7cz1pLnN0ZXBGb3J3YXJkKCl9Zi5zdGFydC5yb3c9aS5nZXRDdXJyZW50VG9rZW5Sb3coKSxmLnN0YXJ0LmNvbHVtbj1pLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpK3MudmFsdWUubGVuZ3RoLGk9bmV3IG8odGhpcyxlLHQpO3ZhciBsPXRoaXMuZ2V0U3RhdGUoaS4kcm93KTtpZihuIT0tMSl7dmFyIGM9LTE7ZG97cz1pLnN0ZXBGb3J3YXJkKCk7aWYoYz09LTEpe3ZhciBoPXRoaXMuZ2V0U3RhdGUoaS4kcm93KTtsLnRvU3RyaW5nKCkhPT1oLnRvU3RyaW5nKCkmJihjPWkuJHJvdyl9ZWxzZSBpZihpLiRyb3c+YylicmVha313aGlsZShzJiZhLnRlc3Qocy50eXBlKSk7cz1pLnN0ZXBCYWNrd2FyZCgpfWVsc2Ugcz1pLmdldEN1cnJlbnRUb2tlbigpO2YuZW5kLnJvdz1pLmdldEN1cnJlbnRUb2tlblJvdygpLGYuZW5kLmNvbHVtbj1pLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpO2lmKGYuc3RhcnQucm93PT1mLmVuZC5yb3cmJmYuc3RhcnQuY29sdW1uPmYuZW5kLmNvbHVtbilyZXR1cm47cmV0dXJuIGZ9fSx0aGlzLmZvbGRBbGw9ZnVuY3Rpb24oZSx0LG4scil7bj09dW5kZWZpbmVkJiYobj0xZTUpO3ZhciBpPXRoaXMuZm9sZFdpZGdldHM7aWYoIWkpcmV0dXJuO3Q9dHx8dGhpcy5nZXRMZW5ndGgoKSxlPWV8fDA7Zm9yKHZhciBzPWU7czx0O3MrKyl7aVtzXT09bnVsbCYmKGlbc109dGhpcy5nZXRGb2xkV2lkZ2V0KHMpKTtpZihpW3NdIT1cInN0YXJ0XCIpY29udGludWU7aWYociYmIXIocykpY29udGludWU7dmFyIG89dGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2Uocyk7byYmby5pc011bHRpTGluZSgpJiZvLmVuZC5yb3c8PXQmJm8uc3RhcnQucm93Pj1lJiYocz1vLmVuZC5yb3csby5jb2xsYXBzZUNoaWxkcmVuPW4sdGhpcy5hZGRGb2xkKFwiLi4uXCIsbykpfX0sdGhpcy5mb2xkVG9MZXZlbD1mdW5jdGlvbihlKXt0aGlzLmZvbGRBbGwoKTt3aGlsZShlLS0+MCl0aGlzLnVuZm9sZChudWxsLCExKX0sdGhpcy5mb2xkQWxsQ29tbWVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZm9sZEFsbChudWxsLG51bGwsbnVsbCxmdW5jdGlvbih0KXt2YXIgbj1lLmdldFRva2Vucyh0KTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZihpLnR5cGU9PVwidGV4dFwiJiYvXlxccyskLy50ZXN0KGkudmFsdWUpKWNvbnRpbnVlO3JldHVybi9jb21tZW50Ly50ZXN0KGkudHlwZSk/ITA6ITF9fSl9LHRoaXMuJGZvbGRTdHlsZXM9e21hbnVhbDoxLG1hcmtiZWdpbjoxLG1hcmtiZWdpbmVuZDoxfSx0aGlzLiRmb2xkU3R5bGU9XCJtYXJrYmVnaW5cIix0aGlzLnNldEZvbGRTdHlsZT1mdW5jdGlvbihlKXtpZighdGhpcy4kZm9sZFN0eWxlc1tlXSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZvbGQgc3R5bGU6IFwiK2UrXCJbXCIrT2JqZWN0LmtleXModGhpcy4kZm9sZFN0eWxlcykuam9pbihcIiwgXCIpK1wiXVwiKTtpZih0aGlzLiRmb2xkU3R5bGU9PWUpcmV0dXJuO3RoaXMuJGZvbGRTdHlsZT1lLGU9PVwibWFudWFsXCImJnRoaXMudW5mb2xkKCk7dmFyIHQ9dGhpcy4kZm9sZE1vZGU7dGhpcy4kc2V0Rm9sZGluZyhudWxsKSx0aGlzLiRzZXRGb2xkaW5nKHQpfSx0aGlzLiRzZXRGb2xkaW5nPWZ1bmN0aW9uKGUpe2lmKHRoaXMuJGZvbGRNb2RlPT1lKXJldHVybjt0aGlzLiRmb2xkTW9kZT1lLHRoaXMub2ZmKFwiY2hhbmdlXCIsdGhpcy4kdXBkYXRlRm9sZFdpZGdldHMpLHRoaXMub2ZmKFwidG9rZW5pemVyVXBkYXRlXCIsdGhpcy4kdG9rZW5pemVyVXBkYXRlRm9sZFdpZGdldHMpLHRoaXMuX3NpZ25hbChcImNoYW5nZUFubm90YXRpb25cIik7aWYoIWV8fHRoaXMuJGZvbGRTdHlsZT09XCJtYW51YWxcIil7dGhpcy5mb2xkV2lkZ2V0cz1udWxsO3JldHVybn10aGlzLmZvbGRXaWRnZXRzPVtdLHRoaXMuZ2V0Rm9sZFdpZGdldD1lLmdldEZvbGRXaWRnZXQuYmluZChlLHRoaXMsdGhpcy4kZm9sZFN0eWxlKSx0aGlzLmdldEZvbGRXaWRnZXRSYW5nZT1lLmdldEZvbGRXaWRnZXRSYW5nZS5iaW5kKGUsdGhpcyx0aGlzLiRmb2xkU3R5bGUpLHRoaXMuJHVwZGF0ZUZvbGRXaWRnZXRzPXRoaXMudXBkYXRlRm9sZFdpZGdldHMuYmluZCh0aGlzKSx0aGlzLiR0b2tlbml6ZXJVcGRhdGVGb2xkV2lkZ2V0cz10aGlzLnRva2VuaXplclVwZGF0ZUZvbGRXaWRnZXRzLmJpbmQodGhpcyksdGhpcy5vbihcImNoYW5nZVwiLHRoaXMuJHVwZGF0ZUZvbGRXaWRnZXRzKSx0aGlzLm9uKFwidG9rZW5pemVyVXBkYXRlXCIsdGhpcy4kdG9rZW5pemVyVXBkYXRlRm9sZFdpZGdldHMpfSx0aGlzLmdldFBhcmVudEZvbGRSYW5nZURhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmZvbGRXaWRnZXRzO2lmKCFufHx0JiZuW2VdKXJldHVybnt9O3ZhciByPWUtMSxpO3doaWxlKHI+PTApe3ZhciBzPW5bcl07cz09bnVsbCYmKHM9bltyXT10aGlzLmdldEZvbGRXaWRnZXQocikpO2lmKHM9PVwic3RhcnRcIil7dmFyIG89dGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2Uocik7aXx8KGk9byk7aWYobyYmby5lbmQucm93Pj1lKWJyZWFrfXItLX1yZXR1cm57cmFuZ2U6ciE9PS0xJiZvLGZpcnN0UmFuZ2U6aX19LHRoaXMub25Gb2xkV2lkZ2V0Q2xpY2s9ZnVuY3Rpb24oZSx0KXt0IGluc3RhbmNlb2YgdSYmKHQ9dC5kb21FdmVudCk7dmFyIG49e2NoaWxkcmVuOnQuc2hpZnRLZXksYWxsOnQuY3RybEtleXx8dC5tZXRhS2V5LHNpYmxpbmdzOnQuYWx0S2V5fSxyPXRoaXMuJHRvZ2dsZUZvbGRXaWRnZXQoZSxuKTtpZighcil7dmFyIGk9dC50YXJnZXR8fHQuc3JjRWxlbWVudDtpJiYvYWNlX2ZvbGQtd2lkZ2V0Ly50ZXN0KGkuY2xhc3NOYW1lKSYmKGkuY2xhc3NOYW1lKz1cIiBhY2VfaW52YWxpZFwiKX19LHRoaXMuJHRvZ2dsZUZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5nZXRGb2xkV2lkZ2V0KXJldHVybjt2YXIgbj10aGlzLmdldEZvbGRXaWRnZXQoZSkscj10aGlzLmdldExpbmUoZSksaT1uPT09XCJlbmRcIj8tMToxLHM9dGhpcy5nZXRGb2xkQXQoZSxpPT09LTE/MDpyLmxlbmd0aCxpKTtpZihzKXJldHVybiB0LmNoaWxkcmVufHx0LmFsbD90aGlzLnJlbW92ZUZvbGQocyk6dGhpcy5leHBhbmRGb2xkKHMpLHM7dmFyIG89dGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UoZSwhMCk7aWYobyYmIW8uaXNNdWx0aUxpbmUoKSl7cz10aGlzLmdldEZvbGRBdChvLnN0YXJ0LnJvdyxvLnN0YXJ0LmNvbHVtbiwxKTtpZihzJiZvLmlzRXF1YWwocy5yYW5nZSkpcmV0dXJuIHRoaXMucmVtb3ZlRm9sZChzKSxzfWlmKHQuc2libGluZ3Mpe3ZhciB1PXRoaXMuZ2V0UGFyZW50Rm9sZFJhbmdlRGF0YShlKTtpZih1LnJhbmdlKXZhciBhPXUucmFuZ2Uuc3RhcnQucm93KzEsZj11LnJhbmdlLmVuZC5yb3c7dGhpcy5mb2xkQWxsKGEsZix0LmFsbD8xZTQ6MCl9ZWxzZSB0LmNoaWxkcmVuPyhmPW8/by5lbmQucm93OnRoaXMuZ2V0TGVuZ3RoKCksdGhpcy5mb2xkQWxsKGUrMSxmLHQuYWxsPzFlNDowKSk6byYmKHQuYWxsJiYoby5jb2xsYXBzZUNoaWxkcmVuPTFlNCksdGhpcy5hZGRGb2xkKFwiLi4uXCIsbykpO3JldHVybiBvfSx0aGlzLnRvZ2dsZUZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCkucm93O3Q9dGhpcy5nZXRSb3dGb2xkU3RhcnQodCk7dmFyIG49dGhpcy4kdG9nZ2xlRm9sZFdpZGdldCh0LHt9KTtpZihuKXJldHVybjt2YXIgcj10aGlzLmdldFBhcmVudEZvbGRSYW5nZURhdGEodCwhMCk7bj1yLnJhbmdlfHxyLmZpcnN0UmFuZ2U7aWYobil7dD1uLnN0YXJ0LnJvdzt2YXIgaT10aGlzLmdldEZvbGRBdCh0LHRoaXMuZ2V0TGluZSh0KS5sZW5ndGgsMSk7aT90aGlzLnJlbW92ZUZvbGQoaSk6dGhpcy5hZGRGb2xkKFwiLi4uXCIsbil9fSx0aGlzLnVwZGF0ZUZvbGRXaWRnZXRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhcnQucm93LG49ZS5lbmQucm93LXQ7aWYobj09PTApdGhpcy5mb2xkV2lkZ2V0c1t0XT1udWxsO2Vsc2UgaWYoZS5hY3Rpb249PVwicmVtb3ZlXCIpdGhpcy5mb2xkV2lkZ2V0cy5zcGxpY2UodCxuKzEsbnVsbCk7ZWxzZXt2YXIgcj1BcnJheShuKzEpO3IudW5zaGlmdCh0LDEpLHRoaXMuZm9sZFdpZGdldHMuc3BsaWNlLmFwcGx5KHRoaXMuZm9sZFdpZGdldHMscil9fSx0aGlzLnRva2VuaXplclVwZGF0ZUZvbGRXaWRnZXRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YTt0LmZpcnN0IT10Lmxhc3QmJnRoaXMuZm9sZFdpZGdldHMubGVuZ3RoPnQuZmlyc3QmJnRoaXMuZm9sZFdpZGdldHMuc3BsaWNlKHQuZmlyc3QsdGhpcy5mb2xkV2lkZ2V0cy5sZW5ndGgpfX12YXIgcj1lKFwiLi4vcmFuZ2VcIikuUmFuZ2UsaT1lKFwiLi9mb2xkX2xpbmVcIikuRm9sZExpbmUscz1lKFwiLi9mb2xkXCIpLkZvbGQsbz1lKFwiLi4vdG9rZW5faXRlcmF0b3JcIikuVG9rZW5JdGVyYXRvcix1PWUoXCIuLi9tb3VzZS9tb3VzZV9ldmVudFwiKS5Nb3VzZUV2ZW50O3QuRm9sZGluZz1hfSksYWNlLmRlZmluZShcImFjZS9lZGl0X3Nlc3Npb24vYnJhY2tldF9tYXRjaFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3Rva2VuX2l0ZXJhdG9yXCIsXCJhY2UvcmFuZ2VcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHMoKXt0aGlzLmZpbmRNYXRjaGluZ0JyYWNrZXQ9ZnVuY3Rpb24oZSx0KXtpZihlLmNvbHVtbj09MClyZXR1cm4gbnVsbDt2YXIgbj10fHx0aGlzLmdldExpbmUoZS5yb3cpLmNoYXJBdChlLmNvbHVtbi0xKTtpZihuPT1cIlwiKXJldHVybiBudWxsO3ZhciByPW4ubWF0Y2goLyhbXFwoXFxbXFx7XSl8KFtcXClcXF1cXH1dKS8pO3JldHVybiByP3JbMV0/dGhpcy4kZmluZENsb3NpbmdCcmFja2V0KHJbMV0sZSk6dGhpcy4kZmluZE9wZW5pbmdCcmFja2V0KHJbMl0sZSk6bnVsbH0sdGhpcy5nZXRCcmFja2V0UmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRMaW5lKGUucm93KSxuPSEwLHIscz10LmNoYXJBdChlLmNvbHVtbi0xKSxvPXMmJnMubWF0Y2goLyhbXFwoXFxbXFx7XSl8KFtcXClcXF1cXH1dKS8pO298fChzPXQuY2hhckF0KGUuY29sdW1uKSxlPXtyb3c6ZS5yb3csY29sdW1uOmUuY29sdW1uKzF9LG89cyYmcy5tYXRjaCgvKFtcXChcXFtcXHtdKXwoW1xcKVxcXVxcfV0pLyksbj0hMSk7aWYoIW8pcmV0dXJuIG51bGw7aWYob1sxXSl7dmFyIHU9dGhpcy4kZmluZENsb3NpbmdCcmFja2V0KG9bMV0sZSk7aWYoIXUpcmV0dXJuIG51bGw7cj1pLmZyb21Qb2ludHMoZSx1KSxufHwoci5lbmQuY29sdW1uKyssci5zdGFydC5jb2x1bW4tLSksci5jdXJzb3I9ci5lbmR9ZWxzZXt2YXIgdT10aGlzLiRmaW5kT3BlbmluZ0JyYWNrZXQob1syXSxlKTtpZighdSlyZXR1cm4gbnVsbDtyPWkuZnJvbVBvaW50cyh1LGUpLG58fChyLnN0YXJ0LmNvbHVtbisrLHIuZW5kLmNvbHVtbi0tKSxyLmN1cnNvcj1yLnN0YXJ0fXJldHVybiByfSx0aGlzLmdldE1hdGNoaW5nQnJhY2tldFJhbmdlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0TGluZShlLnJvdykscj0vKFtcXChcXFtcXHtdKXwoW1xcKVxcXVxcfV0pLyxzPSF0JiZuLmNoYXJBdChlLmNvbHVtbi0xKSxvPXMmJnMubWF0Y2gocik7b3x8KHM9KHQ9PT11bmRlZmluZWR8fHQpJiZuLmNoYXJBdChlLmNvbHVtbiksZT17cm93OmUucm93LGNvbHVtbjplLmNvbHVtbisxfSxvPXMmJnMubWF0Y2gocikpO2lmKCFvKXJldHVybiBudWxsO3ZhciB1PW5ldyBpKGUucm93LGUuY29sdW1uLTEsZS5yb3csZS5jb2x1bW4pLGE9b1sxXT90aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQob1sxXSxlKTp0aGlzLiRmaW5kT3BlbmluZ0JyYWNrZXQob1syXSxlKTtpZighYSlyZXR1cm5bdV07dmFyIGY9bmV3IGkoYS5yb3csYS5jb2x1bW4sYS5yb3csYS5jb2x1bW4rMSk7cmV0dXJuW3UsZl19LHRoaXMuJGJyYWNrZXRzPXtcIilcIjpcIihcIixcIihcIjpcIilcIixcIl1cIjpcIltcIixcIltcIjpcIl1cIixcIntcIjpcIn1cIixcIn1cIjpcIntcIixcIjxcIjpcIj5cIixcIj5cIjpcIjxcIn0sdGhpcy4kZmluZE9wZW5pbmdCcmFja2V0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLiRicmFja2V0c1tlXSxzPTEsbz1uZXcgcih0aGlzLHQucm93LHQuY29sdW1uKSx1PW8uZ2V0Q3VycmVudFRva2VuKCk7dXx8KHU9by5zdGVwRm9yd2FyZCgpKTtpZighdSlyZXR1cm47bnx8KG49bmV3IFJlZ0V4cChcIihcXFxcLj9cIit1LnR5cGUucmVwbGFjZShcIi5cIixcIlxcXFwuXCIpLnJlcGxhY2UoXCJycGFyZW5cIixcIi5wYXJlblwiKS5yZXBsYWNlKC9cXGIoPzplbmQpXFxiLyxcIig/OnN0YXJ0fGJlZ2lufGVuZClcIikucmVwbGFjZSgvLWNsb3NlXFxiLyxcIi0oY2xvc2V8b3BlbilcIikrXCIpK1wiKSk7dmFyIGE9dC5jb2x1bW4tby5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKS0yLGY9dS52YWx1ZTtmb3IoOzspe3doaWxlKGE+PTApe3ZhciBsPWYuY2hhckF0KGEpO2lmKGw9PWkpe3MtPTE7aWYocz09MClyZXR1cm57cm93Om8uZ2V0Q3VycmVudFRva2VuUm93KCksY29sdW1uOmErby5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKX19ZWxzZSBsPT1lJiYocys9MSk7YS09MX1kbyB1PW8uc3RlcEJhY2t3YXJkKCk7d2hpbGUodSYmIW4udGVzdCh1LnR5cGUpKTtpZih1PT1udWxsKWJyZWFrO2Y9dS52YWx1ZSxhPWYubGVuZ3RoLTF9cmV0dXJuIG51bGx9LHRoaXMuJGZpbmRDbG9zaW5nQnJhY2tldD1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcy4kYnJhY2tldHNbZV0scz0xLG89bmV3IHIodGhpcyx0LnJvdyx0LmNvbHVtbiksdT1vLmdldEN1cnJlbnRUb2tlbigpO3V8fCh1PW8uc3RlcEZvcndhcmQoKSk7aWYoIXUpcmV0dXJuO258fChuPW5ldyBSZWdFeHAoXCIoXFxcXC4/XCIrdS50eXBlLnJlcGxhY2UoXCIuXCIsXCJcXFxcLlwiKS5yZXBsYWNlKFwibHBhcmVuXCIsXCIucGFyZW5cIikucmVwbGFjZSgvXFxiKD86c3RhcnR8YmVnaW4pXFxiLyxcIig/OnN0YXJ0fGJlZ2lufGVuZClcIikucmVwbGFjZSgvLW9wZW5cXGIvLFwiLShjbG9zZXxvcGVuKVwiKStcIikrXCIpKTt2YXIgYT10LmNvbHVtbi1vLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpO2Zvcig7Oyl7dmFyIGY9dS52YWx1ZSxsPWYubGVuZ3RoO3doaWxlKGE8bCl7dmFyIGM9Zi5jaGFyQXQoYSk7aWYoYz09aSl7cy09MTtpZihzPT0wKXJldHVybntyb3c6by5nZXRDdXJyZW50VG9rZW5Sb3coKSxjb2x1bW46YStvLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpfX1lbHNlIGM9PWUmJihzKz0xKTthKz0xfWRvIHU9by5zdGVwRm9yd2FyZCgpO3doaWxlKHUmJiFuLnRlc3QodS50eXBlKSk7aWYodT09bnVsbClicmVhazthPTB9cmV0dXJuIG51bGx9LHRoaXMuZ2V0TWF0Y2hpbmdUYWdzPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyByKHRoaXMsZS5yb3csZS5jb2x1bW4pLG49dGhpcy4kZmluZFRhZ05hbWUodCk7aWYoIW4pcmV0dXJuO3ZhciBpPXQuc3RlcEJhY2t3YXJkKCk7cmV0dXJuIGkudmFsdWU9PT1cIjxcIj90aGlzLiRmaW5kQ2xvc2luZ1RhZyh0LG4pOnRoaXMuJGZpbmRPcGVuaW5nVGFnKHQsbil9LHRoaXMuJGZpbmRUYWdOYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Q3VycmVudFRva2VuKCksbj0hMSxyPSExO2lmKHQmJnQudHlwZS5pbmRleE9mKFwidGFnLW5hbWVcIik9PT0tMSlkbyByP3Q9ZS5zdGVwQmFja3dhcmQoKTp0PWUuc3RlcEZvcndhcmQoKSx0JiYodC52YWx1ZT09PVwiLz5cIj9yPSEwOnQudHlwZS5pbmRleE9mKFwidGFnLW5hbWVcIikhPT0tMSYmKG49ITApKTt3aGlsZSh0JiYhbik7cmV0dXJuIHR9LHRoaXMuJGZpbmRDbG9zaW5nVGFnPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10LnZhbHVlLHM9dC52YWx1ZSxvPTAsdT1uZXcgaShlLmdldEN1cnJlbnRUb2tlblJvdygpLGUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCksZS5nZXRDdXJyZW50VG9rZW5Sb3coKSxlLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpKzEpO3Q9ZS5zdGVwRm9yd2FyZCgpO3ZhciBhPW5ldyBpKGUuZ2V0Q3VycmVudFRva2VuUm93KCksZS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSxlLmdldEN1cnJlbnRUb2tlblJvdygpLGUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkrdC52YWx1ZS5sZW5ndGgpLGY9ITE7ZG97bj10O2lmKG4udHlwZS5pbmRleE9mKFwidGFnLWNsb3NlXCIpIT09LTEmJiFmKXt2YXIgbD1uZXcgaShlLmdldEN1cnJlbnRUb2tlblJvdygpLGUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCksZS5nZXRDdXJyZW50VG9rZW5Sb3coKSxlLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpKzEpO2Y9ITB9dD1lLnN0ZXBGb3J3YXJkKCk7aWYodCl7aWYodC52YWx1ZT09PVwiPlwiJiYhZil7dmFyIGw9bmV3IGkoZS5nZXRDdXJyZW50VG9rZW5Sb3coKSxlLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpLGUuZ2V0Q3VycmVudFRva2VuUm93KCksZS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSsxKTtmPSEwfWlmKHQudHlwZS5pbmRleE9mKFwidGFnLW5hbWVcIikhPT0tMSl7cj10LnZhbHVlO2lmKHM9PT1yKWlmKG4udmFsdWU9PT1cIjxcIilvKys7ZWxzZSBpZihuLnZhbHVlPT09XCI8L1wiKXtvLS07aWYobzwwKXtlLnN0ZXBCYWNrd2FyZCgpO3ZhciBjPW5ldyBpKGUuZ2V0Q3VycmVudFRva2VuUm93KCksZS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSxlLmdldEN1cnJlbnRUb2tlblJvdygpLGUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkrMik7dD1lLnN0ZXBGb3J3YXJkKCk7dmFyIGg9bmV3IGkoZS5nZXRDdXJyZW50VG9rZW5Sb3coKSxlLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpLGUuZ2V0Q3VycmVudFRva2VuUm93KCksZS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSt0LnZhbHVlLmxlbmd0aCk7dC50eXBlLmluZGV4T2YoXCJ0YWctY2xvc2VcIik9PT0tMSYmKHQ9ZS5zdGVwRm9yd2FyZCgpKTtpZighdHx8dC52YWx1ZSE9PVwiPlwiKXJldHVybjt2YXIgcD1uZXcgaShlLmdldEN1cnJlbnRUb2tlblJvdygpLGUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCksZS5nZXRDdXJyZW50VG9rZW5Sb3coKSxlLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpKzEpfX19ZWxzZSBpZihzPT09ciYmdC52YWx1ZT09PVwiLz5cIil7by0tO2lmKG88MCl2YXIgYz1uZXcgaShlLmdldEN1cnJlbnRUb2tlblJvdygpLGUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCksZS5nZXRDdXJyZW50VG9rZW5Sb3coKSxlLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpKzIpLGg9YyxwPWgsbD1uZXcgaShhLmVuZC5yb3csYS5lbmQuY29sdW1uLGEuZW5kLnJvdyxhLmVuZC5jb2x1bW4rMSl9fX13aGlsZSh0JiZvPj0wKTtpZih1JiZsJiZjJiZwJiZhJiZoKXJldHVybntvcGVuVGFnOm5ldyBpKHUuc3RhcnQucm93LHUuc3RhcnQuY29sdW1uLGwuZW5kLnJvdyxsLmVuZC5jb2x1bW4pLGNsb3NlVGFnOm5ldyBpKGMuc3RhcnQucm93LGMuc3RhcnQuY29sdW1uLHAuZW5kLnJvdyxwLmVuZC5jb2x1bW4pLG9wZW5UYWdOYW1lOmEsY2xvc2VUYWdOYW1lOmh9fSx0aGlzLiRmaW5kT3BlbmluZ1RhZz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0Q3VycmVudFRva2VuKCkscj10LnZhbHVlLHM9MCxvPWUuZ2V0Q3VycmVudFRva2VuUm93KCksdT1lLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpLGE9dSsyLGY9bmV3IGkobyx1LG8sYSk7ZS5zdGVwRm9yd2FyZCgpO3ZhciBsPW5ldyBpKGUuZ2V0Q3VycmVudFRva2VuUm93KCksZS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSxlLmdldEN1cnJlbnRUb2tlblJvdygpLGUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkrdC52YWx1ZS5sZW5ndGgpO3QudHlwZS5pbmRleE9mKFwidGFnLWNsb3NlXCIpPT09LTEmJih0PWUuc3RlcEZvcndhcmQoKSk7aWYoIXR8fHQudmFsdWUhPT1cIj5cIilyZXR1cm47dmFyIGM9bmV3IGkoZS5nZXRDdXJyZW50VG9rZW5Sb3coKSxlLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpLGUuZ2V0Q3VycmVudFRva2VuUm93KCksZS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSsxKTtlLnN0ZXBCYWNrd2FyZCgpLGUuc3RlcEJhY2t3YXJkKCk7ZG97dD1uLG89ZS5nZXRDdXJyZW50VG9rZW5Sb3coKSx1PWUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCksYT11K3QudmFsdWUubGVuZ3RoLG49ZS5zdGVwQmFja3dhcmQoKTtpZih0KWlmKHQudHlwZS5pbmRleE9mKFwidGFnLW5hbWVcIikhPT0tMSl7aWYocj09PXQudmFsdWUpaWYobi52YWx1ZT09PVwiPFwiKXtzKys7aWYocz4wKXt2YXIgaD1uZXcgaShvLHUsbyxhKSxwPW5ldyBpKGUuZ2V0Q3VycmVudFRva2VuUm93KCksZS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSxlLmdldEN1cnJlbnRUb2tlblJvdygpLGUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkrMSk7ZG8gdD1lLnN0ZXBGb3J3YXJkKCk7d2hpbGUodCYmdC52YWx1ZSE9PVwiPlwiKTt2YXIgZD1uZXcgaShlLmdldEN1cnJlbnRUb2tlblJvdygpLGUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCksZS5nZXRDdXJyZW50VG9rZW5Sb3coKSxlLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpKzEpfX1lbHNlIG4udmFsdWU9PT1cIjwvXCImJnMtLX1lbHNlIGlmKHQudmFsdWU9PT1cIi8+XCIpe3ZhciB2PTAsbT1uO3doaWxlKG0pe2lmKG0udHlwZS5pbmRleE9mKFwidGFnLW5hbWVcIikhPT0tMSYmbS52YWx1ZT09PXIpe3MtLTticmVha31pZihtLnZhbHVlPT09XCI8XCIpYnJlYWs7bT1lLnN0ZXBCYWNrd2FyZCgpLHYrK31mb3IodmFyIGc9MDtnPHY7ZysrKWUuc3RlcEZvcndhcmQoKX19d2hpbGUobiYmczw9MCk7aWYocCYmZCYmZiYmYyYmaCYmbClyZXR1cm57b3BlblRhZzpuZXcgaShwLnN0YXJ0LnJvdyxwLnN0YXJ0LmNvbHVtbixkLmVuZC5yb3csZC5lbmQuY29sdW1uKSxjbG9zZVRhZzpuZXcgaShmLnN0YXJ0LnJvdyxmLnN0YXJ0LmNvbHVtbixjLmVuZC5yb3csYy5lbmQuY29sdW1uKSxvcGVuVGFnTmFtZTpoLGNsb3NlVGFnTmFtZTpsfX19dmFyIHI9ZShcIi4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3IsaT1lKFwiLi4vcmFuZ2VcIikuUmFuZ2U7dC5CcmFja2V0TWF0Y2g9c30pLGFjZS5kZWZpbmUoXCJhY2UvZWRpdF9zZXNzaW9uXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvYmlkaWhhbmRsZXJcIixcImFjZS9jb25maWdcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL3NlbGVjdGlvblwiLFwiYWNlL21vZGUvdGV4dFwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvbGluZV93aWRnZXRzXCIsXCJhY2UvZG9jdW1lbnRcIixcImFjZS9iYWNrZ3JvdW5kX3Rva2VuaXplclwiLFwiYWNlL3NlYXJjaF9oaWdobGlnaHRcIixcImFjZS91bmRvbWFuYWdlclwiLFwiYWNlL2VkaXRfc2Vzc2lvbi9mb2xkaW5nXCIsXCJhY2UvZWRpdF9zZXNzaW9uL2JyYWNrZXRfbWF0Y2hcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIE4oZSl7cmV0dXJuIGU8NDM1Mj8hMTplPj00MzUyJiZlPD00NDQ3fHxlPj00NTE1JiZlPD00NTE5fHxlPj00NjAyJiZlPD00NjA3fHxlPj05MDAxJiZlPD05MDAyfHxlPj0xMTkwNCYmZTw9MTE5Mjl8fGU+PTExOTMxJiZlPD0xMjAxOXx8ZT49MTIwMzImJmU8PTEyMjQ1fHxlPj0xMjI3MiYmZTw9MTIyODN8fGU+PTEyMjg4JiZlPD0xMjM1MHx8ZT49MTIzNTMmJmU8PTEyNDM4fHxlPj0xMjQ0MSYmZTw9MTI1NDN8fGU+PTEyNTQ5JiZlPD0xMjU4OXx8ZT49MTI1OTMmJmU8PTEyNjg2fHxlPj0xMjY4OCYmZTw9MTI3MzB8fGU+PTEyNzM2JiZlPD0xMjc3MXx8ZT49MTI3ODQmJmU8PTEyODMwfHxlPj0xMjgzMiYmZTw9MTI4NzF8fGU+PTEyODgwJiZlPD0xMzA1NHx8ZT49MTMwNTYmJmU8PTE5OTAzfHxlPj0xOTk2OCYmZTw9NDIxMjR8fGU+PTQyMTI4JiZlPD00MjE4Mnx8ZT49NDMzNjAmJmU8PTQzMzg4fHxlPj00NDAzMiYmZTw9NTUyMDN8fGU+PTU1MjE2JiZlPD01NTIzOHx8ZT49NTUyNDMmJmU8PTU1MjkxfHxlPj02Mzc0NCYmZTw9NjQyNTV8fGU+PTY1MDQwJiZlPD02NTA0OXx8ZT49NjUwNzImJmU8PTY1MTA2fHxlPj02NTEwOCYmZTw9NjUxMjZ8fGU+PTY1MTI4JiZlPD02NTEzMXx8ZT49NjUyODEmJmU8PTY1Mzc2fHxlPj02NTUwNCYmZTw9NjU1MTB9dmFyIHI9ZShcIi4vbGliL29vcFwiKSxpPWUoXCIuL2xpYi9sYW5nXCIpLHM9ZShcIi4vYmlkaWhhbmRsZXJcIikuQmlkaUhhbmRsZXIsbz1lKFwiLi9jb25maWdcIiksdT1lKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXIsYT1lKFwiLi9zZWxlY3Rpb25cIikuU2VsZWN0aW9uLGY9ZShcIi4vbW9kZS90ZXh0XCIpLk1vZGUsbD1lKFwiLi9yYW5nZVwiKS5SYW5nZSxjPWUoXCIuL2xpbmVfd2lkZ2V0c1wiKS5MaW5lV2lkZ2V0cyxoPWUoXCIuL2RvY3VtZW50XCIpLkRvY3VtZW50LHA9ZShcIi4vYmFja2dyb3VuZF90b2tlbml6ZXJcIikuQmFja2dyb3VuZFRva2VuaXplcixkPWUoXCIuL3NlYXJjaF9oaWdobGlnaHRcIikuU2VhcmNoSGlnaGxpZ2h0LHY9ZShcIi4vdW5kb21hbmFnZXJcIikuVW5kb01hbmFnZXIsbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXt0aGlzLmRvYyx0aGlzLiRicmVha3BvaW50cz1bXSx0aGlzLiRkZWNvcmF0aW9ucz1bXSx0aGlzLiRmcm9udE1hcmtlcnM9e30sdGhpcy4kYmFja01hcmtlcnM9e30sdGhpcy4kbWFya2VySWQ9MSx0aGlzLiR1bmRvU2VsZWN0PSEwLHRoaXMuJGVkaXRvcj1udWxsLHRoaXMucHJldk9wPXt9LHRoaXMuJGZvbGREYXRhPVtdLHRoaXMuaWQ9XCJzZXNzaW9uXCIrICsrZS4kdWlkLHRoaXMuJGZvbGREYXRhLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuam9pbihcIlxcblwiKX0sdGhpcy4kZ3V0dGVyQ3VzdG9tV2lkZ2V0cz17fSx0aGlzLmJnVG9rZW5pemVyPW5ldyBwKChuZXcgZikuZ2V0VG9rZW5pemVyKCksdGhpcyk7dmFyIHI9dGhpczt0aGlzLmJnVG9rZW5pemVyLm9uKFwidXBkYXRlXCIsZnVuY3Rpb24oZSl7ci5fc2lnbmFsKFwidG9rZW5pemVyVXBkYXRlXCIsZSl9KSx0aGlzLm9uKFwiY2hhbmdlRm9sZFwiLHRoaXMub25DaGFuZ2VGb2xkLmJpbmQodGhpcykpLHRoaXMuJG9uQ2hhbmdlPXRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuZ2V0TGluZSl0PW5ldyBoKHQpO3RoaXMuc2V0RG9jdW1lbnQodCksdGhpcy5zZWxlY3Rpb249bmV3IGEodGhpcyksdGhpcy4kb25TZWxlY3Rpb25DaGFuZ2U9dGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuc2VsZWN0aW9uLm9uKFwiY2hhbmdlU2VsZWN0aW9uXCIsdGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UpLHRoaXMuc2VsZWN0aW9uLm9uKFwiY2hhbmdlQ3Vyc29yXCIsdGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UpLHRoaXMuJGJpZGlIYW5kbGVyPW5ldyBzKHRoaXMpLG8ucmVzZXRPcHRpb25zKHRoaXMpLHRoaXMuc2V0TW9kZShuKSxvLl9zaWduYWwoXCJzZXNzaW9uXCIsdGhpcyksdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy4kaW5pdE9wZXJhdGlvbkxpc3RlbmVycygpfXJldHVybiBlLnByb3RvdHlwZS4kaW5pdE9wZXJhdGlvbkxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5jdXJPcD1udWxsLHRoaXMub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2UuY3VyT3B8fChlLnN0YXJ0T3BlcmF0aW9uKCksZS5jdXJPcC5zZWxlY3Rpb25CZWZvcmU9ZS4kbGFzdFNlbCksZS5jdXJPcC5kb2NDaGFuZ2VkPSEwfSwhMCksdGhpcy5vbihcImNoYW5nZVNlbGVjdGlvblwiLGZ1bmN0aW9uKCl7ZS5jdXJPcHx8KGUuc3RhcnRPcGVyYXRpb24oKSxlLmN1ck9wLnNlbGVjdGlvbkJlZm9yZT1lLiRsYXN0U2VsKSxlLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQ9ITB9LCEwKSx0aGlzLiRvcGVyYXRpb25SZXNldFRpbWVyPWkuZGVsYXllZENhbGwodGhpcy5lbmRPcGVyYXRpb24uYmluZCh0aGlzLCEwKSl9LGUucHJvdG90eXBlLnN0YXJ0T3BlcmF0aW9uPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY3VyT3Ape2lmKCFlfHx0aGlzLmN1ck9wLmNvbW1hbmQpcmV0dXJuO3RoaXMucHJldk9wPXRoaXMuY3VyT3B9ZXx8KGU9e30pLHRoaXMuJG9wZXJhdGlvblJlc2V0VGltZXIuc2NoZWR1bGUoKSx0aGlzLmN1ck9wPXtjb21tYW5kOmUuY29tbWFuZHx8e30sYXJnczplLmFyZ3N9LHRoaXMuY3VyT3Auc2VsZWN0aW9uQmVmb3JlPXRoaXMuc2VsZWN0aW9uLnRvSlNPTigpLHRoaXMuX3NpZ25hbChcInN0YXJ0T3BlcmF0aW9uXCIsZSl9LGUucHJvdG90eXBlLmVuZE9wZXJhdGlvbj1mdW5jdGlvbihlKXtpZih0aGlzLmN1ck9wKXtpZihlJiZlLnJldHVyblZhbHVlPT09ITEpe3RoaXMuY3VyT3A9bnVsbCx0aGlzLl9zaWduYWwoXCJlbmRPcGVyYXRpb25cIixlKTtyZXR1cm59aWYoZT09MSYmdGhpcy5jdXJPcC5jb21tYW5kJiZ0aGlzLmN1ck9wLmNvbW1hbmQubmFtZT09XCJtb3VzZVwiKXJldHVybjt2YXIgdD10aGlzLnNlbGVjdGlvbi50b0pTT04oKTt0aGlzLmN1ck9wLnNlbGVjdGlvbkFmdGVyPXQsdGhpcy4kbGFzdFNlbD10aGlzLnNlbGVjdGlvbi50b0pTT04oKSx0aGlzLmdldFVuZG9NYW5hZ2VyKCkuYWRkU2VsZWN0aW9uKHQpLHRoaXMuX3NpZ25hbChcImJlZm9yZUVuZE9wZXJhdGlvblwiKSx0aGlzLnByZXZPcD10aGlzLmN1ck9wLHRoaXMuY3VyT3A9bnVsbCx0aGlzLl9zaWduYWwoXCJlbmRPcGVyYXRpb25cIixlKX19LGUucHJvdG90eXBlLnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3RoaXMuZG9jJiZ0aGlzLmRvYy5vZmYoXCJjaGFuZ2VcIix0aGlzLiRvbkNoYW5nZSksdGhpcy5kb2M9ZSxlLm9uKFwiY2hhbmdlXCIsdGhpcy4kb25DaGFuZ2UsITApLHRoaXMuYmdUb2tlbml6ZXIuc2V0RG9jdW1lbnQodGhpcy5nZXREb2N1bWVudCgpKSx0aGlzLnJlc2V0Q2FjaGVzKCl9LGUucHJvdG90eXBlLmdldERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ3aWRnZXRNYW5hZ2VyXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPW5ldyBjKHRoaXMpO3JldHVybiB0aGlzLndpZGdldE1hbmFnZXI9ZSx0aGlzLiRlZGl0b3ImJmUuYXR0YWNoKHRoaXMuJGVkaXRvciksZX0sc2V0OmZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwid2lkZ2V0TWFuYWdlclwiLHt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuJHJlc2V0Um93Q2FjaGU9ZnVuY3Rpb24oZSl7aWYoIWUpe3RoaXMuJGRvY1Jvd0NhY2hlPVtdLHRoaXMuJHNjcmVlblJvd0NhY2hlPVtdO3JldHVybn12YXIgdD10aGlzLiRkb2NSb3dDYWNoZS5sZW5ndGgsbj10aGlzLiRnZXRSb3dDYWNoZUluZGV4KHRoaXMuJGRvY1Jvd0NhY2hlLGUpKzE7dD5uJiYodGhpcy4kZG9jUm93Q2FjaGUuc3BsaWNlKG4sdCksdGhpcy4kc2NyZWVuUm93Q2FjaGUuc3BsaWNlKG4sdCkpfSxlLnByb3RvdHlwZS4kZ2V0Um93Q2FjaGVJbmRleD1mdW5jdGlvbihlLHQpe3ZhciBuPTAscj1lLmxlbmd0aC0xO3doaWxlKG48PXIpe3ZhciBpPW4rcj4+MSxzPWVbaV07aWYodD5zKW49aSsxO2Vsc2V7aWYoISh0PHMpKXJldHVybiBpO3I9aS0xfX1yZXR1cm4gbi0xfSxlLnByb3RvdHlwZS5yZXNldENhY2hlcz1mdW5jdGlvbigpe3RoaXMuJG1vZGlmaWVkPSEwLHRoaXMuJHdyYXBEYXRhPVtdLHRoaXMuJHJvd0xlbmd0aENhY2hlPVtdLHRoaXMuJHJlc2V0Um93Q2FjaGUoMCksdGhpcy5kZXN0cm95ZWR8fHRoaXMuYmdUb2tlbml6ZXIuc3RhcnQoMCl9LGUucHJvdG90eXBlLm9uQ2hhbmdlRm9sZD1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dGhpcy4kcmVzZXRSb3dDYWNoZSh0LnN0YXJ0LnJvdyl9LGUucHJvdG90eXBlLm9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3RoaXMuJG1vZGlmaWVkPSEwLHRoaXMuJGJpZGlIYW5kbGVyLm9uQ2hhbmdlKGUpLHRoaXMuJHJlc2V0Um93Q2FjaGUoZS5zdGFydC5yb3cpO3ZhciB0PXRoaXMuJHVwZGF0ZUludGVybmFsRGF0YU9uQ2hhbmdlKGUpOyF0aGlzLiRmcm9tVW5kbyYmdGhpcy4kdW5kb01hbmFnZXImJih0JiZ0Lmxlbmd0aCYmKHRoaXMuJHVuZG9NYW5hZ2VyLmFkZCh7YWN0aW9uOlwicmVtb3ZlRm9sZHNcIixmb2xkczp0fSx0aGlzLm1lcmdlVW5kb0RlbHRhcyksdGhpcy5tZXJnZVVuZG9EZWx0YXM9ITApLHRoaXMuJHVuZG9NYW5hZ2VyLmFkZChlLHRoaXMubWVyZ2VVbmRvRGVsdGFzKSx0aGlzLm1lcmdlVW5kb0RlbHRhcz0hMCx0aGlzLiRpbmZvcm1VbmRvTWFuYWdlci5zY2hlZHVsZSgpKSx0aGlzLmJnVG9rZW5pemVyLiR1cGRhdGVPbkNoYW5nZShlKSx0aGlzLl9zaWduYWwoXCJjaGFuZ2VcIixlKX0sZS5wcm90b3R5cGUub25TZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLl9zaWduYWwoXCJjaGFuZ2VTZWxlY3Rpb25cIil9LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUpe3RoaXMuZG9jLnNldFZhbHVlKGUpLHRoaXMuc2VsZWN0aW9uLm1vdmVUbygwLDApLHRoaXMuJHJlc2V0Um93Q2FjaGUoMCksdGhpcy5zZXRVbmRvTWFuYWdlcih0aGlzLiR1bmRvTWFuYWdlciksdGhpcy5nZXRVbmRvTWFuYWdlcigpLnJlc2V0KCl9LGUuZnJvbUpTT049ZnVuY3Rpb24odCl7dHlwZW9mIHQ9PVwic3RyaW5nXCImJih0PUpTT04ucGFyc2UodCkpO3ZhciBuPW5ldyB2O24uJHVuZG9TdGFjaz10Lmhpc3RvcnkudW5kbyxuLiRyZWRvU3RhY2s9dC5oaXN0b3J5LnJlZG8sbi5tYXJrPXQuaGlzdG9yeS5tYXJrLG4uJHJldj10Lmhpc3RvcnkucmV2O3ZhciByPW5ldyBlKHQudmFsdWUpO3JldHVybiB0LmZvbGRzLmZvckVhY2goZnVuY3Rpb24oZSl7ci5hZGRGb2xkKFwiLi4uXCIsbC5mcm9tUG9pbnRzKGUuc3RhcnQsZS5lbmQpKX0pLHIuc2V0QW5ub3RhdGlvbnModC5hbm5vdGF0aW9ucyksci5zZXRCcmVha3BvaW50cyh0LmJyZWFrcG9pbnRzKSxyLnNldE1vZGUodC5tb2RlKSxyLnNldFNjcm9sbExlZnQodC5zY3JvbGxMZWZ0KSxyLnNldFNjcm9sbFRvcCh0LnNjcm9sbFRvcCksci5zZXRVbmRvTWFuYWdlcihuKSxyLnNlbGVjdGlvbi5mcm9tSlNPTih0LnNlbGVjdGlvbikscn0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue2Fubm90YXRpb25zOnRoaXMuJGFubm90YXRpb25zLGJyZWFrcG9pbnRzOnRoaXMuJGJyZWFrcG9pbnRzLGZvbGRzOnRoaXMuZ2V0QWxsRm9sZHMoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmFuZ2V9KSxoaXN0b3J5OnRoaXMuZ2V0VW5kb01hbmFnZXIoKSxtb2RlOnRoaXMuJG1vZGUuJGlkLHNjcm9sbExlZnQ6dGhpcy4kc2Nyb2xsTGVmdCxzY3JvbGxUb3A6dGhpcy4kc2Nyb2xsVG9wLHNlbGVjdGlvbjp0aGlzLnNlbGVjdGlvbi50b0pTT04oKSx2YWx1ZTp0aGlzLmRvYy5nZXRWYWx1ZSgpfX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2MuZ2V0VmFsdWUoKX0sZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9ufSxlLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iZ1Rva2VuaXplci5nZXRTdGF0ZShlKX0sZS5wcm90b3R5cGUuZ2V0VG9rZW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJnVG9rZW5pemVyLmdldFRva2VucyhlKX0sZS5wcm90b3R5cGUuZ2V0VG9rZW5BdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuYmdUb2tlbml6ZXIuZ2V0VG9rZW5zKGUpLHIsaT0wO2lmKHQ9PW51bGwpe3ZhciBzPW4ubGVuZ3RoLTE7aT10aGlzLmdldExpbmUoZSkubGVuZ3RofWVsc2UgZm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKyspe2krPW5bc10udmFsdWUubGVuZ3RoO2lmKGk+PXQpYnJlYWt9cmV0dXJuIHI9bltzXSxyPyhyLmluZGV4PXMsci5zdGFydD1pLXIudmFsdWUubGVuZ3RoLHIpOm51bGx9LGUucHJvdG90eXBlLnNldFVuZG9NYW5hZ2VyPWZ1bmN0aW9uKGUpe3RoaXMuJHVuZG9NYW5hZ2VyPWUsdGhpcy4kaW5mb3JtVW5kb01hbmFnZXImJnRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyLmNhbmNlbCgpO2lmKGUpe3ZhciB0PXRoaXM7ZS5hZGRTZXNzaW9uKHRoaXMpLHRoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlcj1mdW5jdGlvbigpe3QuJGluZm9ybVVuZG9NYW5hZ2VyLmNhbmNlbCgpLHQubWVyZ2VVbmRvRGVsdGFzPSExfSx0aGlzLiRpbmZvcm1VbmRvTWFuYWdlcj1pLmRlbGF5ZWRDYWxsKHRoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlcil9ZWxzZSB0aGlzLiRzeW5jSW5mb3JtVW5kb01hbmFnZXI9ZnVuY3Rpb24oKXt9fSxlLnByb3RvdHlwZS5tYXJrVW5kb0dyb3VwPWZ1bmN0aW9uKCl7dGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyJiZ0aGlzLiRzeW5jSW5mb3JtVW5kb01hbmFnZXIoKX0sZS5wcm90b3R5cGUuZ2V0VW5kb01hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdW5kb01hbmFnZXJ8fHRoaXMuJGRlZmF1bHRVbmRvTWFuYWdlcn0sZS5wcm90b3R5cGUuZ2V0VGFiU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VXNlU29mdFRhYnMoKT9pLnN0cmluZ1JlcGVhdChcIiBcIix0aGlzLmdldFRhYlNpemUoKSk6XCJcdFwifSxlLnByb3RvdHlwZS5zZXRVc2VTb2Z0VGFicz1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcInVzZVNvZnRUYWJzXCIsZSl9LGUucHJvdG90eXBlLmdldFVzZVNvZnRUYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVzZVNvZnRUYWJzJiYhdGhpcy4kbW9kZS4kaW5kZW50V2l0aFRhYnN9LGUucHJvdG90eXBlLnNldFRhYlNpemU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oXCJ0YWJTaXplXCIsZSl9LGUucHJvdG90eXBlLmdldFRhYlNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdGFiU2l6ZX0sZS5wcm90b3R5cGUuaXNUYWJTdG9wPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR1c2VTb2Z0VGFicyYmZS5jb2x1bW4ldGhpcy4kdGFiU2l6ZT09PTB9LGUucHJvdG90eXBlLnNldE5hdmlnYXRlV2l0aGluU29mdFRhYnM9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oXCJuYXZpZ2F0ZVdpdGhpblNvZnRUYWJzXCIsZSl9LGUucHJvdG90eXBlLmdldE5hdmlnYXRlV2l0aGluU29mdFRhYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbmF2aWdhdGVXaXRoaW5Tb2Z0VGFic30sZS5wcm90b3R5cGUuc2V0T3ZlcndyaXRlPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKFwib3ZlcndyaXRlXCIsZSl9LGUucHJvdG90eXBlLmdldE92ZXJ3cml0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRvdmVyd3JpdGV9LGUucHJvdG90eXBlLnRvZ2dsZU92ZXJ3cml0ZT1mdW5jdGlvbigpe3RoaXMuc2V0T3ZlcndyaXRlKCF0aGlzLiRvdmVyd3JpdGUpfSxlLnByb3RvdHlwZS5hZGRHdXR0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy4kZGVjb3JhdGlvbnNbZV18fCh0aGlzLiRkZWNvcmF0aW9uc1tlXT1cIlwiKSx0aGlzLiRkZWNvcmF0aW9uc1tlXSs9XCIgXCIrdCx0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIse30pfSxlLnByb3RvdHlwZS5yZW1vdmVHdXR0ZXJDdXN0b21XaWRnZXQ9ZnVuY3Rpb24oZSl7dGhpcy4kZWRpdG9yJiZ0aGlzLiRlZGl0b3IucmVuZGVyZXIuJGd1dHRlckxheWVyLiRyZW1vdmVDdXN0b21XaWRnZXQoZSl9LGUucHJvdG90eXBlLmFkZEd1dHRlckN1c3RvbVdpZGdldD1mdW5jdGlvbihlLHQpe3RoaXMuJGVkaXRvciYmdGhpcy4kZWRpdG9yLnJlbmRlcmVyLiRndXR0ZXJMYXllci4kYWRkQ3VzdG9tV2lkZ2V0KGUsdCl9LGUucHJvdG90eXBlLnJlbW92ZUd1dHRlckRlY29yYXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLiRkZWNvcmF0aW9uc1tlXT0odGhpcy4kZGVjb3JhdGlvbnNbZV18fFwiXCIpLnJlcGxhY2UoXCIgXCIrdCxcIlwiKSx0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIse30pfSxlLnByb3RvdHlwZS5nZXRCcmVha3BvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRicmVha3BvaW50c30sZS5wcm90b3R5cGUuc2V0QnJlYWtwb2ludHM9ZnVuY3Rpb24oZSl7dGhpcy4kYnJlYWtwb2ludHM9W107Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspdGhpcy4kYnJlYWtwb2ludHNbZVt0XV09XCJhY2VfYnJlYWtwb2ludFwiO3RoaXMuX3NpZ25hbChcImNoYW5nZUJyZWFrcG9pbnRcIix7fSl9LGUucHJvdG90eXBlLmNsZWFyQnJlYWtwb2ludHM9ZnVuY3Rpb24oKXt0aGlzLiRicmVha3BvaW50cz1bXSx0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIse30pfSxlLnByb3RvdHlwZS5zZXRCcmVha3BvaW50PWZ1bmN0aW9uKGUsdCl7dD09PXVuZGVmaW5lZCYmKHQ9XCJhY2VfYnJlYWtwb2ludFwiKSx0P3RoaXMuJGJyZWFrcG9pbnRzW2VdPXQ6ZGVsZXRlIHRoaXMuJGJyZWFrcG9pbnRzW2VdLHRoaXMuX3NpZ25hbChcImNoYW5nZUJyZWFrcG9pbnRcIix7fSl9LGUucHJvdG90eXBlLmNsZWFyQnJlYWtwb2ludD1mdW5jdGlvbihlKXtkZWxldGUgdGhpcy4kYnJlYWtwb2ludHNbZV0sdGhpcy5fc2lnbmFsKFwiY2hhbmdlQnJlYWtwb2ludFwiLHt9KX0sZS5wcm90b3R5cGUuYWRkTWFya2VyPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuJG1hcmtlcklkKysscz17cmFuZ2U6ZSx0eXBlOm58fFwibGluZVwiLHJlbmRlcmVyOnR5cGVvZiBuPT1cImZ1bmN0aW9uXCI/bjpudWxsLGNsYXp6OnQsaW5Gcm9udDohIXIsaWQ6aX07cmV0dXJuIHI/KHRoaXMuJGZyb250TWFya2Vyc1tpXT1zLHRoaXMuX3NpZ25hbChcImNoYW5nZUZyb250TWFya2VyXCIpKToodGhpcy4kYmFja01hcmtlcnNbaV09cyx0aGlzLl9zaWduYWwoXCJjaGFuZ2VCYWNrTWFya2VyXCIpKSxpfSxlLnByb3RvdHlwZS5hZGREeW5hbWljTWFya2VyPWZ1bmN0aW9uKGUsdCl7aWYoIWUudXBkYXRlKXJldHVybjt2YXIgbj10aGlzLiRtYXJrZXJJZCsrO3JldHVybiBlLmlkPW4sZS5pbkZyb250PSEhdCx0Pyh0aGlzLiRmcm9udE1hcmtlcnNbbl09ZSx0aGlzLl9zaWduYWwoXCJjaGFuZ2VGcm9udE1hcmtlclwiKSk6KHRoaXMuJGJhY2tNYXJrZXJzW25dPWUsdGhpcy5fc2lnbmFsKFwiY2hhbmdlQmFja01hcmtlclwiKSksZX0sZS5wcm90b3R5cGUucmVtb3ZlTWFya2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJGZyb250TWFya2Vyc1tlXXx8dGhpcy4kYmFja01hcmtlcnNbZV07aWYoIXQpcmV0dXJuO3ZhciBuPXQuaW5Gcm9udD90aGlzLiRmcm9udE1hcmtlcnM6dGhpcy4kYmFja01hcmtlcnM7ZGVsZXRlIG5bZV0sdGhpcy5fc2lnbmFsKHQuaW5Gcm9udD9cImNoYW5nZUZyb250TWFya2VyXCI6XCJjaGFuZ2VCYWNrTWFya2VyXCIpfSxlLnByb3RvdHlwZS5nZXRNYXJrZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuJGZyb250TWFya2Vyczp0aGlzLiRiYWNrTWFya2Vyc30sZS5wcm90b3R5cGUuaGlnaGxpZ2h0PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLiRzZWFyY2hIaWdobGlnaHQpe3ZhciB0PW5ldyBkKG51bGwsXCJhY2Vfc2VsZWN0ZWQtd29yZFwiLFwidGV4dFwiKTt0aGlzLiRzZWFyY2hIaWdobGlnaHQ9dGhpcy5hZGREeW5hbWljTWFya2VyKHQpfXRoaXMuJHNlYXJjaEhpZ2hsaWdodC5zZXRSZWdleHAoZSl9LGUucHJvdG90eXBlLmhpZ2hsaWdodExpbmVzPWZ1bmN0aW9uKGUsdCxuLHIpe3R5cGVvZiB0IT1cIm51bWJlclwiJiYobj10LHQ9ZSksbnx8KG49XCJhY2Vfc3RlcFwiKTt2YXIgaT1uZXcgbChlLDAsdCxJbmZpbml0eSk7cmV0dXJuIGkuaWQ9dGhpcy5hZGRNYXJrZXIoaSxuLFwiZnVsbExpbmVcIixyKSxpfSxlLnByb3RvdHlwZS5zZXRBbm5vdGF0aW9ucz1mdW5jdGlvbihlKXt0aGlzLiRhbm5vdGF0aW9ucz1lLHRoaXMuX3NpZ25hbChcImNoYW5nZUFubm90YXRpb25cIix7fSl9LGUucHJvdG90eXBlLmdldEFubm90YXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFubm90YXRpb25zfHxbXX0sZS5wcm90b3R5cGUuY2xlYXJBbm5vdGF0aW9ucz1mdW5jdGlvbigpe3RoaXMuc2V0QW5ub3RhdGlvbnMoW10pfSxlLnByb3RvdHlwZS4kZGV0ZWN0TmV3TGluZT1mdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC9eLio/KFxccj9cXG4pL20pO3Q/dGhpcy4kYXV0b05ld0xpbmU9dFsxXTp0aGlzLiRhdXRvTmV3TGluZT1cIlxcblwifSxlLnByb3RvdHlwZS5nZXRXb3JkUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldExpbmUoZSkscj0hMTt0PjAmJihyPSEhbi5jaGFyQXQodC0xKS5tYXRjaCh0aGlzLnRva2VuUmUpKSxyfHwocj0hIW4uY2hhckF0KHQpLm1hdGNoKHRoaXMudG9rZW5SZSkpO2lmKHIpdmFyIGk9dGhpcy50b2tlblJlO2Vsc2UgaWYoL15cXHMrJC8udGVzdChuLnNsaWNlKHQtMSx0KzEpKSl2YXIgaT0vXFxzLztlbHNlIHZhciBpPXRoaXMubm9uVG9rZW5SZTt2YXIgcz10O2lmKHM+MCl7ZG8gcy0tO3doaWxlKHM+PTAmJm4uY2hhckF0KHMpLm1hdGNoKGkpKTtzKyt9dmFyIG89dDt3aGlsZShvPG4ubGVuZ3RoJiZuLmNoYXJBdChvKS5tYXRjaChpKSlvKys7cmV0dXJuIG5ldyBsKGUscyxlLG8pfSxlLnByb3RvdHlwZS5nZXRBV29yZFJhbmdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRXb3JkUmFuZ2UoZSx0KSxyPXRoaXMuZ2V0TGluZShuLmVuZC5yb3cpO3doaWxlKHIuY2hhckF0KG4uZW5kLmNvbHVtbikubWF0Y2goL1sgXFx0XS8pKW4uZW5kLmNvbHVtbis9MTtyZXR1cm4gbn0sZS5wcm90b3R5cGUuc2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24oZSl7dGhpcy5kb2Muc2V0TmV3TGluZU1vZGUoZSl9LGUucHJvdG90eXBlLmdldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jLmdldE5ld0xpbmVNb2RlKCl9LGUucHJvdG90eXBlLnNldFVzZVdvcmtlcj1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcInVzZVdvcmtlclwiLGUpfSxlLnByb3RvdHlwZS5nZXRVc2VXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdXNlV29ya2VyfSxlLnByb3RvdHlwZS5vblJlbG9hZFRva2VuaXplcj1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dGhpcy5iZ1Rva2VuaXplci5zdGFydCh0LmZpcnN0KSx0aGlzLl9zaWduYWwoXCJ0b2tlbml6ZXJVcGRhdGVcIixlKX0sZS5wcm90b3R5cGUuc2V0TW9kZT1mdW5jdGlvbihlLHQpe2lmKGUmJnR5cGVvZiBlPT1cIm9iamVjdFwiKXtpZihlLmdldFRva2VuaXplcilyZXR1cm4gdGhpcy4kb25DaGFuZ2VNb2RlKGUpO3ZhciBuPWUscj1uLnBhdGh9ZWxzZSByPWV8fFwiYWNlL21vZGUvdGV4dFwiO3RoaXMuJG1vZGVzW1wiYWNlL21vZGUvdGV4dFwiXXx8KHRoaXMuJG1vZGVzW1wiYWNlL21vZGUvdGV4dFwiXT1uZXcgZik7aWYodGhpcy4kbW9kZXNbcl0mJiFuKXt0aGlzLiRvbkNoYW5nZU1vZGUodGhpcy4kbW9kZXNbcl0pLHQmJnQoKTtyZXR1cm59dGhpcy4kbW9kZUlkPXIsby5sb2FkTW9kdWxlKFtcIm1vZGVcIixyXSxmdW5jdGlvbihlKXtpZih0aGlzLmRlc3Ryb3llZClyZXR1cm47aWYodGhpcy4kbW9kZUlkIT09cilyZXR1cm4gdCYmdCgpO3RoaXMuJG1vZGVzW3JdJiYhbj90aGlzLiRvbkNoYW5nZU1vZGUodGhpcy4kbW9kZXNbcl0pOmUmJmUuTW9kZSYmKGU9bmV3IGUuTW9kZShuKSxufHwodGhpcy4kbW9kZXNbcl09ZSxlLiRpZD1yKSx0aGlzLiRvbkNoYW5nZU1vZGUoZSkpLHQmJnQoKX0uYmluZCh0aGlzKSksdGhpcy4kbW9kZXx8dGhpcy4kb25DaGFuZ2VNb2RlKHRoaXMuJG1vZGVzW1wiYWNlL21vZGUvdGV4dFwiXSwhMCl9LGUucHJvdG90eXBlLiRvbkNoYW5nZU1vZGU9ZnVuY3Rpb24oZSx0KXt0fHwodGhpcy4kbW9kZUlkPWUuJGlkKTtpZih0aGlzLiRtb2RlPT09ZSlyZXR1cm47dmFyIG49dGhpcy4kbW9kZTt0aGlzLiRtb2RlPWUsdGhpcy4kc3RvcFdvcmtlcigpLHRoaXMuJHVzZVdvcmtlciYmdGhpcy4kc3RhcnRXb3JrZXIoKTt2YXIgcj1lLmdldFRva2VuaXplcigpO2lmKHIub24hPT11bmRlZmluZWQpe3ZhciBpPXRoaXMub25SZWxvYWRUb2tlbml6ZXIuYmluZCh0aGlzKTtyLm9uKFwidXBkYXRlXCIsaSl9dGhpcy5iZ1Rva2VuaXplci5zZXRUb2tlbml6ZXIociksdGhpcy5iZ1Rva2VuaXplci5zZXREb2N1bWVudCh0aGlzLmdldERvY3VtZW50KCkpLHRoaXMudG9rZW5SZT1lLnRva2VuUmUsdGhpcy5ub25Ub2tlblJlPWUubm9uVG9rZW5SZSx0fHwoZS5hdHRhY2hUb1Nlc3Npb24mJmUuYXR0YWNoVG9TZXNzaW9uKHRoaXMpLHRoaXMuJG9wdGlvbnMud3JhcE1ldGhvZC5zZXQuY2FsbCh0aGlzLHRoaXMuJHdyYXBNZXRob2QpLHRoaXMuJHNldEZvbGRpbmcoZS5mb2xkaW5nUnVsZXMpLHRoaXMuYmdUb2tlbml6ZXIuc3RhcnQoMCksdGhpcy5fZW1pdChcImNoYW5nZU1vZGVcIix7b2xkTW9kZTpuLG1vZGU6ZX0pKX0sZS5wcm90b3R5cGUuJHN0b3BXb3JrZXI9ZnVuY3Rpb24oKXt0aGlzLiR3b3JrZXImJih0aGlzLiR3b3JrZXIudGVybWluYXRlKCksdGhpcy4kd29ya2VyPW51bGwpfSxlLnByb3RvdHlwZS4kc3RhcnRXb3JrZXI9ZnVuY3Rpb24oKXt0cnl7dGhpcy4kd29ya2VyPXRoaXMuJG1vZGUuY3JlYXRlV29ya2VyKHRoaXMpfWNhdGNoKGUpe28ud2FybihcIkNvdWxkIG5vdCBsb2FkIHdvcmtlclwiLGUpLHRoaXMuJHdvcmtlcj1udWxsfX0sZS5wcm90b3R5cGUuZ2V0TW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRtb2RlfSxlLnByb3RvdHlwZS5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24oZSl7aWYodGhpcy4kc2Nyb2xsVG9wPT09ZXx8aXNOYU4oZSkpcmV0dXJuO3RoaXMuJHNjcm9sbFRvcD1lLHRoaXMuX3NpZ25hbChcImNoYW5nZVNjcm9sbFRvcFwiLGUpfSxlLnByb3RvdHlwZS5nZXRTY3JvbGxUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2Nyb2xsVG9wfSxlLnByb3RvdHlwZS5zZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuJHNjcm9sbExlZnQ9PT1lfHxpc05hTihlKSlyZXR1cm47dGhpcy4kc2Nyb2xsTGVmdD1lLHRoaXMuX3NpZ25hbChcImNoYW5nZVNjcm9sbExlZnRcIixlKX0sZS5wcm90b3R5cGUuZ2V0U2Nyb2xsTGVmdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxMZWZ0fSxlLnByb3RvdHlwZS5nZXRTY3JlZW5XaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRjb21wdXRlV2lkdGgoKSx0aGlzLmxpbmVXaWRnZXRzP01hdGgubWF4KHRoaXMuZ2V0TGluZVdpZGdldE1heFdpZHRoKCksdGhpcy5zY3JlZW5XaWR0aCk6dGhpcy5zY3JlZW5XaWR0aH0sZS5wcm90b3R5cGUuZ2V0TGluZVdpZGdldE1heFdpZHRoPWZ1bmN0aW9uKCl7aWYodGhpcy5saW5lV2lkZ2V0c1dpZHRoIT1udWxsKXJldHVybiB0aGlzLmxpbmVXaWRnZXRzV2lkdGg7dmFyIGU9MDtyZXR1cm4gdGhpcy5saW5lV2lkZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QmJnQuc2NyZWVuV2lkdGg+ZSYmKGU9dC5zY3JlZW5XaWR0aCl9KSx0aGlzLmxpbmVXaWRnZXRXaWR0aD1lfSxlLnByb3RvdHlwZS4kY29tcHV0ZVdpZHRoPWZ1bmN0aW9uKGUpe2lmKHRoaXMuJG1vZGlmaWVkfHxlKXt0aGlzLiRtb2RpZmllZD0hMTtpZih0aGlzLiR1c2VXcmFwTW9kZSlyZXR1cm4gdGhpcy5zY3JlZW5XaWR0aD10aGlzLiR3cmFwTGltaXQ7dmFyIHQ9dGhpcy5kb2MuZ2V0QWxsTGluZXMoKSxuPXRoaXMuJHJvd0xlbmd0aENhY2hlLHI9MCxpPTAscz10aGlzLiRmb2xkRGF0YVtpXSxvPXM/cy5zdGFydC5yb3c6SW5maW5pdHksdT10Lmxlbmd0aDtmb3IodmFyIGE9MDthPHU7YSsrKXtpZihhPm8pe2E9cy5lbmQucm93KzE7aWYoYT49dSlicmVhaztzPXRoaXMuJGZvbGREYXRhW2krK10sbz1zP3Muc3RhcnQucm93OkluZmluaXR5fW5bYV09PW51bGwmJihuW2FdPXRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoKHRbYV0pWzBdKSxuW2FdPnImJihyPW5bYV0pfXRoaXMuc2NyZWVuV2lkdGg9cn19LGUucHJvdG90eXBlLmdldExpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZG9jLmdldExpbmUoZSl9LGUucHJvdG90eXBlLmdldExpbmVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZG9jLmdldExpbmVzKGUsdCl9LGUucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvYy5nZXRMZW5ndGgoKX0sZS5wcm90b3R5cGUuZ2V0VGV4dFJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRvYy5nZXRUZXh0UmFuZ2UoZXx8dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSl9LGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRvYy5pbnNlcnQoZSx0KX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRvYy5yZW1vdmUoZSl9LGUucHJvdG90eXBlLnJlbW92ZUZ1bGxMaW5lcz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRvYy5yZW1vdmVGdWxsTGluZXMoZSx0KX0sZS5wcm90b3R5cGUudW5kb0NoYW5nZXM9ZnVuY3Rpb24oZSx0KXtpZighZS5sZW5ndGgpcmV0dXJuO3RoaXMuJGZyb21VbmRvPSEwO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24hPS0xO24tLSl7dmFyIHI9ZVtuXTtyLmFjdGlvbj09XCJpbnNlcnRcInx8ci5hY3Rpb249PVwicmVtb3ZlXCI/dGhpcy5kb2MucmV2ZXJ0RGVsdGEocik6ci5mb2xkcyYmdGhpcy5hZGRGb2xkcyhyLmZvbGRzKX0hdCYmdGhpcy4kdW5kb1NlbGVjdCYmKGUuc2VsZWN0aW9uQmVmb3JlP3RoaXMuc2VsZWN0aW9uLmZyb21KU09OKGUuc2VsZWN0aW9uQmVmb3JlKTp0aGlzLnNlbGVjdGlvbi5zZXRSYW5nZSh0aGlzLiRnZXRVbmRvU2VsZWN0aW9uKGUsITApKSksdGhpcy4kZnJvbVVuZG89ITF9LGUucHJvdG90eXBlLnJlZG9DaGFuZ2VzPWZ1bmN0aW9uKGUsdCl7aWYoIWUubGVuZ3RoKXJldHVybjt0aGlzLiRmcm9tVW5kbz0hMDtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTsoci5hY3Rpb249PVwiaW5zZXJ0XCJ8fHIuYWN0aW9uPT1cInJlbW92ZVwiKSYmdGhpcy5kb2MuJHNhZmVBcHBseURlbHRhKHIpfSF0JiZ0aGlzLiR1bmRvU2VsZWN0JiYoZS5zZWxlY3Rpb25BZnRlcj90aGlzLnNlbGVjdGlvbi5mcm9tSlNPTihlLnNlbGVjdGlvbkFmdGVyKTp0aGlzLnNlbGVjdGlvbi5zZXRSYW5nZSh0aGlzLiRnZXRVbmRvU2VsZWN0aW9uKGUsITEpKSksdGhpcy4kZnJvbVVuZG89ITF9LGUucHJvdG90eXBlLnNldFVuZG9TZWxlY3Q9ZnVuY3Rpb24oZSl7dGhpcy4kdW5kb1NlbGVjdD1lfSxlLnByb3RvdHlwZS4kZ2V0VW5kb1NlbGVjdGlvbj1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIHQ/ZS5hY3Rpb24hPT1cImluc2VydFwiOmUuYWN0aW9uPT09XCJpbnNlcnRcIn12YXIgcixpO2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgbz1lW3NdO2lmKCFvLnN0YXJ0KWNvbnRpbnVlO2lmKCFyKXtuKG8pP3I9bC5mcm9tUG9pbnRzKG8uc3RhcnQsby5lbmQpOnI9bC5mcm9tUG9pbnRzKG8uc3RhcnQsby5zdGFydCk7Y29udGludWV9bihvKT8oaT1vLnN0YXJ0LHIuY29tcGFyZShpLnJvdyxpLmNvbHVtbik9PS0xJiZyLnNldFN0YXJ0KGkpLGk9by5lbmQsci5jb21wYXJlKGkucm93LGkuY29sdW1uKT09MSYmci5zZXRFbmQoaSkpOihpPW8uc3RhcnQsci5jb21wYXJlKGkucm93LGkuY29sdW1uKT09LTEmJihyPWwuZnJvbVBvaW50cyhvLnN0YXJ0LG8uc3RhcnQpKSl9cmV0dXJuIHJ9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kb2MucmVwbGFjZShlLHQpfSxlLnByb3RvdHlwZS5tb3ZlVGV4dD1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5nZXRUZXh0UmFuZ2UoZSksaT10aGlzLmdldEZvbGRzSW5SYW5nZShlKSxzPWwuZnJvbVBvaW50cyh0LHQpO2lmKCFuKXt0aGlzLnJlbW92ZShlKTt2YXIgbz1lLnN0YXJ0LnJvdy1lLmVuZC5yb3csdT1vPy1lLmVuZC5jb2x1bW46ZS5zdGFydC5jb2x1bW4tZS5lbmQuY29sdW1uO3UmJihzLnN0YXJ0LnJvdz09ZS5lbmQucm93JiZzLnN0YXJ0LmNvbHVtbj5lLmVuZC5jb2x1bW4mJihzLnN0YXJ0LmNvbHVtbis9dSkscy5lbmQucm93PT1lLmVuZC5yb3cmJnMuZW5kLmNvbHVtbj5lLmVuZC5jb2x1bW4mJihzLmVuZC5jb2x1bW4rPXUpKSxvJiZzLnN0YXJ0LnJvdz49ZS5lbmQucm93JiYocy5zdGFydC5yb3crPW8scy5lbmQucm93Kz1vKX1zLmVuZD10aGlzLmluc2VydChzLnN0YXJ0LHIpO2lmKGkubGVuZ3RoKXt2YXIgYT1lLnN0YXJ0LGY9cy5zdGFydCxvPWYucm93LWEucm93LHU9Zi5jb2x1bW4tYS5jb2x1bW47dGhpcy5hZGRGb2xkcyhpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZT1lLmNsb25lKCksZS5zdGFydC5yb3c9PWEucm93JiYoZS5zdGFydC5jb2x1bW4rPXUpLGUuZW5kLnJvdz09YS5yb3cmJihlLmVuZC5jb2x1bW4rPXUpLGUuc3RhcnQucm93Kz1vLGUuZW5kLnJvdys9byxlfSkpfXJldHVybiBzfSxlLnByb3RvdHlwZS5pbmRlbnRSb3dzPWZ1bmN0aW9uKGUsdCxuKXtuPW4ucmVwbGFjZSgvXFx0L2csdGhpcy5nZXRUYWJTdHJpbmcoKSk7Zm9yKHZhciByPWU7cjw9dDtyKyspdGhpcy5kb2MuaW5zZXJ0SW5MaW5lKHtyb3c6cixjb2x1bW46MH0sbil9LGUucHJvdG90eXBlLm91dGRlbnRSb3dzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY29sbGFwc2VSb3dzKCksbj1uZXcgbCgwLDAsMCwwKSxyPXRoaXMuZ2V0VGFiU2l6ZSgpO2Zvcih2YXIgaT10LnN0YXJ0LnJvdztpPD10LmVuZC5yb3c7KytpKXt2YXIgcz10aGlzLmdldExpbmUoaSk7bi5zdGFydC5yb3c9aSxuLmVuZC5yb3c9aTtmb3IodmFyIG89MDtvPHI7KytvKWlmKHMuY2hhckF0KG8pIT1cIiBcIilicmVhaztvPHImJnMuY2hhckF0KG8pPT1cIlx0XCI/KG4uc3RhcnQuY29sdW1uPW8sbi5lbmQuY29sdW1uPW8rMSk6KG4uc3RhcnQuY29sdW1uPTAsbi5lbmQuY29sdW1uPW8pLHRoaXMucmVtb3ZlKG4pfX0sZS5wcm90b3R5cGUuJG1vdmVMaW5lcz1mdW5jdGlvbihlLHQsbil7ZT10aGlzLmdldFJvd0ZvbGRTdGFydChlKSx0PXRoaXMuZ2V0Um93Rm9sZEVuZCh0KTtpZihuPDApe3ZhciByPXRoaXMuZ2V0Um93Rm9sZFN0YXJ0KGUrbik7aWYocjwwKXJldHVybiAwO3ZhciBpPXItZX1lbHNlIGlmKG4+MCl7dmFyIHI9dGhpcy5nZXRSb3dGb2xkRW5kKHQrbik7aWYocj50aGlzLmRvYy5nZXRMZW5ndGgoKS0xKXJldHVybiAwO3ZhciBpPXItdH1lbHNle2U9dGhpcy4kY2xpcFJvd1RvRG9jdW1lbnQoZSksdD10aGlzLiRjbGlwUm93VG9Eb2N1bWVudCh0KTt2YXIgaT10LWUrMX12YXIgcz1uZXcgbChlLDAsdCxOdW1iZXIuTUFYX1ZBTFVFKSxvPXRoaXMuZ2V0Rm9sZHNJblJhbmdlKHMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZT1lLmNsb25lKCksZS5zdGFydC5yb3crPWksZS5lbmQucm93Kz1pLGV9KSx1PW49PTA/dGhpcy5kb2MuZ2V0TGluZXMoZSx0KTp0aGlzLmRvYy5yZW1vdmVGdWxsTGluZXMoZSx0KTtyZXR1cm4gdGhpcy5kb2MuaW5zZXJ0RnVsbExpbmVzKGUraSx1KSxvLmxlbmd0aCYmdGhpcy5hZGRGb2xkcyhvKSxpfSxlLnByb3RvdHlwZS5tb3ZlTGluZXNVcD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLiRtb3ZlTGluZXMoZSx0LC0xKX0sZS5wcm90b3R5cGUubW92ZUxpbmVzRG93bj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLiRtb3ZlTGluZXMoZSx0LDEpfSxlLnByb3RvdHlwZS5kdXBsaWNhdGVMaW5lcz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLiRtb3ZlTGluZXMoZSx0LDApfSxlLnByb3RvdHlwZS4kY2xpcFJvd1RvRG9jdW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oZSx0aGlzLmRvYy5nZXRMZW5ndGgoKS0xKSl9LGUucHJvdG90eXBlLiRjbGlwQ29sdW1uVG9Sb3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdDwwPzA6TWF0aC5taW4odGhpcy5kb2MuZ2V0TGluZShlKS5sZW5ndGgsdCl9LGUucHJvdG90eXBlLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50PWZ1bmN0aW9uKGUsdCl7dD1NYXRoLm1heCgwLHQpO2lmKGU8MCllPTAsdD0wO2Vsc2V7dmFyIG49dGhpcy5kb2MuZ2V0TGVuZ3RoKCk7ZT49bj8oZT1uLTEsdD10aGlzLmRvYy5nZXRMaW5lKG4tMSkubGVuZ3RoKTp0PU1hdGgubWluKHRoaXMuZG9jLmdldExpbmUoZSkubGVuZ3RoLHQpfXJldHVybntyb3c6ZSxjb2x1bW46dH19LGUucHJvdG90eXBlLiRjbGlwUmFuZ2VUb0RvY3VtZW50PWZ1bmN0aW9uKGUpe2Uuc3RhcnQucm93PDA/KGUuc3RhcnQucm93PTAsZS5zdGFydC5jb2x1bW49MCk6ZS5zdGFydC5jb2x1bW49dGhpcy4kY2xpcENvbHVtblRvUm93KGUuc3RhcnQucm93LGUuc3RhcnQuY29sdW1uKTt2YXIgdD10aGlzLmRvYy5nZXRMZW5ndGgoKS0xO3JldHVybiBlLmVuZC5yb3c+dD8oZS5lbmQucm93PXQsZS5lbmQuY29sdW1uPXRoaXMuZG9jLmdldExpbmUodCkubGVuZ3RoKTplLmVuZC5jb2x1bW49dGhpcy4kY2xpcENvbHVtblRvUm93KGUuZW5kLnJvdyxlLmVuZC5jb2x1bW4pLGV9LGUucHJvdG90eXBlLnNldFVzZVdyYXBNb2RlPWZ1bmN0aW9uKGUpe2lmKGUhPXRoaXMuJHVzZVdyYXBNb2RlKXt0aGlzLiR1c2VXcmFwTW9kZT1lLHRoaXMuJG1vZGlmaWVkPSEwLHRoaXMuJHJlc2V0Um93Q2FjaGUoMCk7aWYoZSl7dmFyIHQ9dGhpcy5nZXRMZW5ndGgoKTt0aGlzLiR3cmFwRGF0YT1BcnJheSh0KSx0aGlzLiR1cGRhdGVXcmFwRGF0YSgwLHQtMSl9dGhpcy5fc2lnbmFsKFwiY2hhbmdlV3JhcE1vZGVcIil9fSxlLnByb3RvdHlwZS5nZXRVc2VXcmFwTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR1c2VXcmFwTW9kZX0sZS5wcm90b3R5cGUuc2V0V3JhcExpbWl0UmFuZ2U9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLiR3cmFwTGltaXRSYW5nZS5taW4hPT1lfHx0aGlzLiR3cmFwTGltaXRSYW5nZS5tYXghPT10KXRoaXMuJHdyYXBMaW1pdFJhbmdlPXttaW46ZSxtYXg6dH0sdGhpcy4kbW9kaWZpZWQ9ITAsdGhpcy4kYmlkaUhhbmRsZXIubWFya0FzRGlydHkoKSx0aGlzLiR1c2VXcmFwTW9kZSYmdGhpcy5fc2lnbmFsKFwiY2hhbmdlV3JhcE1vZGVcIil9LGUucHJvdG90eXBlLmFkanVzdFdyYXBMaW1pdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJHdyYXBMaW1pdFJhbmdlO24ubWF4PDAmJihuPXttaW46dCxtYXg6dH0pO3ZhciByPXRoaXMuJGNvbnN0cmFpbldyYXBMaW1pdChlLG4ubWluLG4ubWF4KTtyZXR1cm4gciE9dGhpcy4kd3JhcExpbWl0JiZyPjE/KHRoaXMuJHdyYXBMaW1pdD1yLHRoaXMuJG1vZGlmaWVkPSEwLHRoaXMuJHVzZVdyYXBNb2RlJiYodGhpcy4kdXBkYXRlV3JhcERhdGEoMCx0aGlzLmdldExlbmd0aCgpLTEpLHRoaXMuJHJlc2V0Um93Q2FjaGUoMCksdGhpcy5fc2lnbmFsKFwiY2hhbmdlV3JhcExpbWl0XCIpKSwhMCk6ITF9LGUucHJvdG90eXBlLiRjb25zdHJhaW5XcmFwTGltaXQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0JiYoZT1NYXRoLm1heCh0LGUpKSxuJiYoZT1NYXRoLm1pbihuLGUpKSxlfSxlLnByb3RvdHlwZS5nZXRXcmFwTGltaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kd3JhcExpbWl0fSxlLnByb3RvdHlwZS5zZXRXcmFwTGltaXQ9ZnVuY3Rpb24oZSl7dGhpcy5zZXRXcmFwTGltaXRSYW5nZShlLGUpfSxlLnByb3RvdHlwZS5nZXRXcmFwTGltaXRSYW5nZT1mdW5jdGlvbigpe3JldHVybnttaW46dGhpcy4kd3JhcExpbWl0UmFuZ2UubWluLG1heDp0aGlzLiR3cmFwTGltaXRSYW5nZS5tYXh9fSxlLnByb3RvdHlwZS4kdXBkYXRlSW50ZXJuYWxEYXRhT25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kdXNlV3JhcE1vZGUsbj1lLmFjdGlvbixyPWUuc3RhcnQsaT1lLmVuZCxzPXIucm93LG89aS5yb3csdT1vLXMsYT1udWxsO3RoaXMuJHVwZGF0aW5nPSEwO2lmKHUhPTApaWYobj09PVwicmVtb3ZlXCIpe3RoaXNbdD9cIiR3cmFwRGF0YVwiOlwiJHJvd0xlbmd0aENhY2hlXCJdLnNwbGljZShzLHUpO3ZhciBmPXRoaXMuJGZvbGREYXRhO2E9dGhpcy5nZXRGb2xkc0luUmFuZ2UoZSksdGhpcy5yZW1vdmVGb2xkcyhhKTt2YXIgbD10aGlzLmdldEZvbGRMaW5lKGkucm93KSxjPTA7aWYobCl7bC5hZGRSZW1vdmVDaGFycyhpLnJvdyxpLmNvbHVtbixyLmNvbHVtbi1pLmNvbHVtbiksbC5zaGlmdFJvdygtdSk7dmFyIGg9dGhpcy5nZXRGb2xkTGluZShzKTtoJiZoIT09bCYmKGgubWVyZ2UobCksbD1oKSxjPWYuaW5kZXhPZihsKSsxfWZvcihjO2M8Zi5sZW5ndGg7YysrKXt2YXIgbD1mW2NdO2wuc3RhcnQucm93Pj1pLnJvdyYmbC5zaGlmdFJvdygtdSl9bz1zfWVsc2V7dmFyIHA9QXJyYXkodSk7cC51bnNoaWZ0KHMsMCk7dmFyIGQ9dD90aGlzLiR3cmFwRGF0YTp0aGlzLiRyb3dMZW5ndGhDYWNoZTtkLnNwbGljZS5hcHBseShkLHApO3ZhciBmPXRoaXMuJGZvbGREYXRhLGw9dGhpcy5nZXRGb2xkTGluZShzKSxjPTA7aWYobCl7dmFyIHY9bC5yYW5nZS5jb21wYXJlSW5zaWRlKHIucm93LHIuY29sdW1uKTt2PT0wPyhsPWwuc3BsaXQoci5yb3csci5jb2x1bW4pLGwmJihsLnNoaWZ0Um93KHUpLGwuYWRkUmVtb3ZlQ2hhcnMobywwLGkuY29sdW1uLXIuY29sdW1uKSkpOnY9PS0xJiYobC5hZGRSZW1vdmVDaGFycyhzLDAsaS5jb2x1bW4tci5jb2x1bW4pLGwuc2hpZnRSb3codSkpLGM9Zi5pbmRleE9mKGwpKzF9Zm9yKGM7YzxmLmxlbmd0aDtjKyspe3ZhciBsPWZbY107bC5zdGFydC5yb3c+PXMmJmwuc2hpZnRSb3codSl9fWVsc2V7dT1NYXRoLmFicyhlLnN0YXJ0LmNvbHVtbi1lLmVuZC5jb2x1bW4pLG49PT1cInJlbW92ZVwiJiYoYT10aGlzLmdldEZvbGRzSW5SYW5nZShlKSx0aGlzLnJlbW92ZUZvbGRzKGEpLHU9LXUpO3ZhciBsPXRoaXMuZ2V0Rm9sZExpbmUocyk7bCYmbC5hZGRSZW1vdmVDaGFycyhzLHIuY29sdW1uLHUpfXJldHVybiB0JiZ0aGlzLiR3cmFwRGF0YS5sZW5ndGghPXRoaXMuZG9jLmdldExlbmd0aCgpJiZjb25zb2xlLmVycm9yKFwiZG9jLmdldExlbmd0aCgpIGFuZCAkd3JhcERhdGEubGVuZ3RoIGhhdmUgdG8gYmUgdGhlIHNhbWUhXCIpLHRoaXMuJHVwZGF0aW5nPSExLHQ/dGhpcy4kdXBkYXRlV3JhcERhdGEocyxvKTp0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZShzLG8pLGF9LGUucHJvdG90eXBlLiR1cGRhdGVSb3dMZW5ndGhDYWNoZT1mdW5jdGlvbihlLHQpe3RoaXMuJHJvd0xlbmd0aENhY2hlW2VdPW51bGwsdGhpcy4kcm93TGVuZ3RoQ2FjaGVbdF09bnVsbH0sZS5wcm90b3R5cGUuJHVwZGF0ZVdyYXBEYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5kb2MuZ2V0QWxsTGluZXMoKSxyPXRoaXMuZ2V0VGFiU2l6ZSgpLGk9dGhpcy4kd3JhcERhdGEscz10aGlzLiR3cmFwTGltaXQsbyx1LGE9ZTt0PU1hdGgubWluKHQsbi5sZW5ndGgtMSk7d2hpbGUoYTw9dCl1PXRoaXMuZ2V0Rm9sZExpbmUoYSx1KSx1PyhvPVtdLHUud2FsayhmdW5jdGlvbihlLHQscixpKXt2YXIgcztpZihlIT1udWxsKXtzPXRoaXMuJGdldERpc3BsYXlUb2tlbnMoZSxvLmxlbmd0aCksc1swXT1iO2Zvcih2YXIgdT0xO3U8cy5sZW5ndGg7dSsrKXNbdV09d31lbHNlIHM9dGhpcy4kZ2V0RGlzcGxheVRva2VucyhuW3RdLnN1YnN0cmluZyhpLHIpLG8ubGVuZ3RoKTtvPW8uY29uY2F0KHMpfS5iaW5kKHRoaXMpLHUuZW5kLnJvdyxuW3UuZW5kLnJvd10ubGVuZ3RoKzEpLGlbdS5zdGFydC5yb3ddPXRoaXMuJGNvbXB1dGVXcmFwU3BsaXRzKG8scyxyKSxhPXUuZW5kLnJvdysxKToobz10aGlzLiRnZXREaXNwbGF5VG9rZW5zKG5bYV0pLGlbYV09dGhpcy4kY29tcHV0ZVdyYXBTcGxpdHMobyxzLHIpLGErKyl9LGUucHJvdG90eXBlLiRjb21wdXRlV3JhcFNwbGl0cz1mdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gbCgpe3ZhciB0PTA7aWYoZj09PTApcmV0dXJuIHQ7aWYoYSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXTtpZihpPT1TKXQrPTE7ZWxzZXtpZihpIT14KXtpZihpPT1UKWNvbnRpbnVlO2JyZWFrfXQrPW59fXJldHVybiB1JiZhIT09ITEmJih0Kz1uKSxNYXRoLm1pbih0LGYpfWZ1bmN0aW9uIGModCl7dmFyIG49dC1zO2Zvcih2YXIgaT1zO2k8dDtpKyspe3ZhciB1PWVbaV07aWYodT09PTEyfHx1PT09MiluLT0xfXIubGVuZ3RofHwoaD1sKCksci5pbmRlbnQ9aCksbys9bixyLnB1c2gobykscz10fWlmKGUubGVuZ3RoPT0wKXJldHVybltdO3ZhciByPVtdLGk9ZS5sZW5ndGgscz0wLG89MCx1PXRoaXMuJHdyYXBBc0NvZGUsYT10aGlzLiRpbmRlbnRlZFNvZnRXcmFwLGY9dDw9TWF0aC5tYXgoMipuLDgpfHxhPT09ITE/MDpNYXRoLmZsb29yKHQvMiksaD0wO3doaWxlKGktcz50LWgpe3ZhciBwPXMrdC1oO2lmKGVbcC0xXT49UyYmZVtwXT49Uyl7YyhwKTtjb250aW51ZX1pZihlW3BdPT1ifHxlW3BdPT13KXtmb3IocDtwIT1zLTE7cC0tKWlmKGVbcF09PWIpYnJlYWs7aWYocD5zKXtjKHApO2NvbnRpbnVlfXA9cyt0O2ZvcihwO3A8ZS5sZW5ndGg7cCsrKWlmKGVbcF0hPXcpYnJlYWs7aWYocD09ZS5sZW5ndGgpYnJlYWs7YyhwKTtjb250aW51ZX12YXIgZD1NYXRoLm1heChwLSh0LSh0Pj4yKSkscy0xKTt3aGlsZShwPmQmJmVbcF08YilwLS07aWYodSl7d2hpbGUocD5kJiZlW3BdPGIpcC0tO3doaWxlKHA+ZCYmZVtwXT09RSlwLS19ZWxzZSB3aGlsZShwPmQmJmVbcF08UylwLS07aWYocD5kKXtjKCsrcCk7Y29udGludWV9cD1zK3QsZVtwXT09eSYmcC0tLGMocC1oKX1yZXR1cm4gcn0sZS5wcm90b3R5cGUuJGdldERpc3BsYXlUb2tlbnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxyO3Q9dHx8MDtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHM9ZS5jaGFyQ29kZUF0KGkpO2lmKHM9PTkpe3I9dGhpcy5nZXRTY3JlZW5UYWJTaXplKG4ubGVuZ3RoK3QpLG4ucHVzaCh4KTtmb3IodmFyIG89MTtvPHI7bysrKW4ucHVzaChUKX1lbHNlIHM9PTMyP24ucHVzaChTKTpzPjM5JiZzPDQ4fHxzPjU3JiZzPDY0P24ucHVzaChFKTpzPj00MzUyJiZOKHMpP24ucHVzaChnLHkpOm4ucHVzaChnKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuJGdldFN0cmluZ1NjcmVlbldpZHRoPWZ1bmN0aW9uKGUsdCxuKXtpZih0PT0wKXJldHVyblswLDBdO3Q9PW51bGwmJih0PUluZmluaXR5KSxuPW58fDA7dmFyIHIsaTtmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKXtyPWUuY2hhckNvZGVBdChpKSxyPT05P24rPXRoaXMuZ2V0U2NyZWVuVGFiU2l6ZShuKTpyPj00MzUyJiZOKHIpP24rPTI6bis9MTtpZihuPnQpYnJlYWt9cmV0dXJuW24saV19LGUucHJvdG90eXBlLmdldFJvd0xlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD0xO3JldHVybiB0aGlzLmxpbmVXaWRnZXRzJiYodCs9dGhpcy5saW5lV2lkZ2V0c1tlXSYmdGhpcy5saW5lV2lkZ2V0c1tlXS5yb3dDb3VudHx8MCksIXRoaXMuJHVzZVdyYXBNb2RlfHwhdGhpcy4kd3JhcERhdGFbZV0/dDp0aGlzLiR3cmFwRGF0YVtlXS5sZW5ndGgrdH0sZS5wcm90b3R5cGUuZ2V0Um93TGluZUNvdW50PWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLiR1c2VXcmFwTW9kZXx8IXRoaXMuJHdyYXBEYXRhW2VdPzE6dGhpcy4kd3JhcERhdGFbZV0ubGVuZ3RoKzF9LGUucHJvdG90eXBlLmdldFJvd1dyYXBJbmRlbnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy4kdXNlV3JhcE1vZGUpe3ZhciB0PXRoaXMuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKGUsTnVtYmVyLk1BWF9WQUxVRSksbj10aGlzLiR3cmFwRGF0YVt0LnJvd107cmV0dXJuIG4ubGVuZ3RoJiZuWzBdPHQuY29sdW1uP24uaW5kZW50OjB9cmV0dXJuIDB9LGUucHJvdG90eXBlLmdldFNjcmVlbkxhc3RSb3dDb2x1bW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oZSxOdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gdGhpcy5kb2N1bWVudFRvU2NyZWVuQ29sdW1uKHQucm93LHQuY29sdW1uKX0sZS5wcm90b3R5cGUuZ2V0RG9jdW1lbnRMYXN0Um93Q29sdW1uPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5kb2N1bWVudFRvU2NyZWVuUm93KGUsdCk7cmV0dXJuIHRoaXMuZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbihuKX0sZS5wcm90b3R5cGUuZ2V0RG9jdW1lbnRMYXN0Um93Q29sdW1uUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmRvY3VtZW50VG9TY3JlZW5Sb3coZSx0KTtyZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24obixOdW1iZXIuTUFYX1ZBTFVFLzEwKX0sZS5wcm90b3R5cGUuZ2V0Um93U3BsaXREYXRhPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR1c2VXcmFwTW9kZT90aGlzLiR3cmFwRGF0YVtlXTp1bmRlZmluZWR9LGUucHJvdG90eXBlLmdldFNjcmVlblRhYlNpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJHRhYlNpemUtKGUldGhpcy4kdGFiU2l6ZXwwKX0sZS5wcm90b3R5cGUuc2NyZWVuVG9Eb2N1bWVudFJvdz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihlLHQpLnJvd30sZS5wcm90b3R5cGUuc2NyZWVuVG9Eb2N1bWVudENvbHVtbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihlLHQpLmNvbHVtbn0sZS5wcm90b3R5cGUuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uPWZ1bmN0aW9uKGUsdCxuKXtpZihlPDApcmV0dXJue3JvdzowLGNvbHVtbjowfTt2YXIgcixpPTAscz0wLG8sdT0wLGE9MCxmPXRoaXMuJHNjcmVlblJvd0NhY2hlLGw9dGhpcy4kZ2V0Um93Q2FjaGVJbmRleChmLGUpLGM9Zi5sZW5ndGg7aWYoYyYmbD49MCl2YXIgdT1mW2xdLGk9dGhpcy4kZG9jUm93Q2FjaGVbbF0saD1lPmZbYy0xXTtlbHNlIHZhciBoPSFjO3ZhciBwPXRoaXMuZ2V0TGVuZ3RoKCktMSxkPXRoaXMuZ2V0TmV4dEZvbGRMaW5lKGkpLHY9ZD9kLnN0YXJ0LnJvdzpJbmZpbml0eTt3aGlsZSh1PD1lKXthPXRoaXMuZ2V0Um93TGVuZ3RoKGkpO2lmKHUrYT5lfHxpPj1wKWJyZWFrO3UrPWEsaSsrLGk+diYmKGk9ZC5lbmQucm93KzEsZD10aGlzLmdldE5leHRGb2xkTGluZShpLGQpLHY9ZD9kLnN0YXJ0LnJvdzpJbmZpbml0eSksaCYmKHRoaXMuJGRvY1Jvd0NhY2hlLnB1c2goaSksdGhpcy4kc2NyZWVuUm93Q2FjaGUucHVzaCh1KSl9aWYoZCYmZC5zdGFydC5yb3c8PWkpcj10aGlzLmdldEZvbGREaXNwbGF5TGluZShkKSxpPWQuc3RhcnQucm93O2Vsc2V7aWYodSthPD1lfHxpPnApcmV0dXJue3JvdzpwLGNvbHVtbjp0aGlzLmdldExpbmUocCkubGVuZ3RofTtyPXRoaXMuZ2V0TGluZShpKSxkPW51bGx9dmFyIG09MCxnPU1hdGguZmxvb3IoZS11KTtpZih0aGlzLiR1c2VXcmFwTW9kZSl7dmFyIHk9dGhpcy4kd3JhcERhdGFbaV07eSYmKG89eVtnXSxnPjAmJnkubGVuZ3RoJiYobT15LmluZGVudCxzPXlbZy0xXXx8eVt5Lmxlbmd0aC0xXSxyPXIuc3Vic3RyaW5nKHMpKSl9cmV0dXJuIG4hPT11bmRlZmluZWQmJnRoaXMuJGJpZGlIYW5kbGVyLmlzQmlkaVJvdyh1K2csaSxnKSYmKHQ9dGhpcy4kYmlkaUhhbmRsZXIub2Zmc2V0VG9Db2wobikpLHMrPXRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoKHIsdC1tKVsxXSx0aGlzLiR1c2VXcmFwTW9kZSYmcz49byYmKHM9by0xKSxkP2QuaWR4VG9Qb3NpdGlvbihzKTp7cm93OmksY29sdW1uOnN9fSxlLnByb3RvdHlwZS5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb249ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgdD09XCJ1bmRlZmluZWRcIil2YXIgbj10aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KGUucm93LGUuY29sdW1uKTtlbHNlIG49dGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChlLHQpO2U9bi5yb3csdD1uLmNvbHVtbjt2YXIgcj0wLGk9bnVsbCxzPW51bGw7cz10aGlzLmdldEZvbGRBdChlLHQsMSkscyYmKGU9cy5zdGFydC5yb3csdD1zLnN0YXJ0LmNvbHVtbik7dmFyIG8sdT0wLGE9dGhpcy4kZG9jUm93Q2FjaGUsZj10aGlzLiRnZXRSb3dDYWNoZUluZGV4KGEsZSksbD1hLmxlbmd0aDtpZihsJiZmPj0wKXZhciB1PWFbZl0scj10aGlzLiRzY3JlZW5Sb3dDYWNoZVtmXSxjPWU+YVtsLTFdO2Vsc2UgdmFyIGM9IWw7dmFyIGg9dGhpcy5nZXROZXh0Rm9sZExpbmUodSkscD1oP2guc3RhcnQucm93OkluZmluaXR5O3doaWxlKHU8ZSl7aWYodT49cCl7bz1oLmVuZC5yb3crMTtpZihvPmUpYnJlYWs7aD10aGlzLmdldE5leHRGb2xkTGluZShvLGgpLHA9aD9oLnN0YXJ0LnJvdzpJbmZpbml0eX1lbHNlIG89dSsxO3IrPXRoaXMuZ2V0Um93TGVuZ3RoKHUpLHU9byxjJiYodGhpcy4kZG9jUm93Q2FjaGUucHVzaCh1KSx0aGlzLiRzY3JlZW5Sb3dDYWNoZS5wdXNoKHIpKX12YXIgZD1cIlwiO2gmJnU+PXA/KGQ9dGhpcy5nZXRGb2xkRGlzcGxheUxpbmUoaCxlLHQpLGk9aC5zdGFydC5yb3cpOihkPXRoaXMuZ2V0TGluZShlKS5zdWJzdHJpbmcoMCx0KSxpPWUpO3ZhciB2PTA7aWYodGhpcy4kdXNlV3JhcE1vZGUpe3ZhciBtPXRoaXMuJHdyYXBEYXRhW2ldO2lmKG0pe3ZhciBnPTA7d2hpbGUoZC5sZW5ndGg+PW1bZ10pcisrLGcrKztkPWQuc3Vic3RyaW5nKG1bZy0xXXx8MCxkLmxlbmd0aCksdj1nPjA/bS5pbmRlbnQ6MH19cmV0dXJuIHRoaXMubGluZVdpZGdldHMmJnRoaXMubGluZVdpZGdldHNbdV0mJnRoaXMubGluZVdpZGdldHNbdV0ucm93c0Fib3ZlJiYocis9dGhpcy5saW5lV2lkZ2V0c1t1XS5yb3dzQWJvdmUpLHtyb3c6cixjb2x1bW46dit0aGlzLiRnZXRTdHJpbmdTY3JlZW5XaWR0aChkKVswXX19LGUucHJvdG90eXBlLmRvY3VtZW50VG9TY3JlZW5Db2x1bW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oZSx0KS5jb2x1bW59LGUucHJvdG90eXBlLmRvY3VtZW50VG9TY3JlZW5Sb3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oZSx0KS5yb3d9LGUucHJvdG90eXBlLmdldFNjcmVlbkxlbmd0aD1mdW5jdGlvbigpe3ZhciBlPTAsdD1udWxsO2lmKCF0aGlzLiR1c2VXcmFwTW9kZSl7ZT10aGlzLmdldExlbmd0aCgpO3ZhciBuPXRoaXMuJGZvbGREYXRhO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXQ9bltyXSxlLT10LmVuZC5yb3ctdC5zdGFydC5yb3d9ZWxzZXt2YXIgaT10aGlzLiR3cmFwRGF0YS5sZW5ndGgscz0wLHI9MCx0PXRoaXMuJGZvbGREYXRhW3IrK10sbz10P3Quc3RhcnQucm93OkluZmluaXR5O3doaWxlKHM8aSl7dmFyIHU9dGhpcy4kd3JhcERhdGFbc107ZSs9dT91Lmxlbmd0aCsxOjEscysrLHM+byYmKHM9dC5lbmQucm93KzEsdD10aGlzLiRmb2xkRGF0YVtyKytdLG89dD90LnN0YXJ0LnJvdzpJbmZpbml0eSl9fXJldHVybiB0aGlzLmxpbmVXaWRnZXRzJiYoZSs9dGhpcy4kZ2V0V2lkZ2V0U2NyZWVuTGVuZ3RoKCkpLGV9LGUucHJvdG90eXBlLiRzZXRGb250TWV0cmljcz1mdW5jdGlvbihlKXtpZighdGhpcy4kZW5hYmxlVmFyQ2hhcilyZXR1cm47dGhpcy4kZ2V0U3RyaW5nU2NyZWVuV2lkdGg9ZnVuY3Rpb24odCxuLHIpe2lmKG49PT0wKXJldHVyblswLDBdO258fChuPUluZmluaXR5KSxyPXJ8fDA7dmFyIGkscztmb3Iocz0wO3M8dC5sZW5ndGg7cysrKXtpPXQuY2hhckF0KHMpLGk9PT1cIlx0XCI/cis9dGhpcy5nZXRTY3JlZW5UYWJTaXplKHIpOnIrPWUuZ2V0Q2hhcmFjdGVyV2lkdGgoaSk7aWYocj5uKWJyZWFrfXJldHVybltyLHNdfX0sZS5wcm90b3R5cGUuZ2V0UHJlY2VkaW5nQ2hhcmFjdGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCk7aWYoZS5jb2x1bW49PT0wKXJldHVybiBlLnJvdz09PTA/XCJcIjp0aGlzLmRvYy5nZXROZXdMaW5lQ2hhcmFjdGVyKCk7dmFyIHQ9dGhpcy5nZXRMaW5lKGUucm93KTtyZXR1cm4gdFtlLmNvbHVtbi0xXX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5iZ1Rva2VuaXplci5zZXREb2N1bWVudChudWxsKSx0aGlzLmJnVG9rZW5pemVyLmNsZWFudXAoKSx0aGlzLmRlc3Ryb3llZD0hMCksdGhpcy5lbmRPcGVyYXRpb24oKSx0aGlzLiRzdG9wV29ya2VyKCksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLmRvYyYmdGhpcy5kb2Mub2ZmKFwiY2hhbmdlXCIsdGhpcy4kb25DaGFuZ2UpLHRoaXMuc2VsZWN0aW9uJiYodGhpcy5zZWxlY3Rpb24ub2ZmKFwiY2hhbmdlQ3Vyc29yXCIsdGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UpLHRoaXMuc2VsZWN0aW9uLm9mZihcImNoYW5nZVNlbGVjdGlvblwiLHRoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlKSksdGhpcy5zZWxlY3Rpb24uZGV0YWNoKCl9LGV9KCk7bS4kdWlkPTAsbS5wcm90b3R5cGUuJG1vZGVzPW8uJG1vZGVzLG0ucHJvdG90eXBlLmdldFZhbHVlPW0ucHJvdG90eXBlLnRvU3RyaW5nLG0ucHJvdG90eXBlLiRkZWZhdWx0VW5kb01hbmFnZXI9e3VuZG86ZnVuY3Rpb24oKXt9LHJlZG86ZnVuY3Rpb24oKXt9LGhhc1VuZG86ZnVuY3Rpb24oKXt9LGhhc1JlZG86ZnVuY3Rpb24oKXt9LHJlc2V0OmZ1bmN0aW9uKCl7fSxhZGQ6ZnVuY3Rpb24oKXt9LGFkZFNlbGVjdGlvbjpmdW5jdGlvbigpe30sc3RhcnROZXdHcm91cDpmdW5jdGlvbigpe30sYWRkU2Vzc2lvbjpmdW5jdGlvbigpe319LG0ucHJvdG90eXBlLiRvdmVyd3JpdGU9ITEsbS5wcm90b3R5cGUuJG1vZGU9bnVsbCxtLnByb3RvdHlwZS4kbW9kZUlkPW51bGwsbS5wcm90b3R5cGUuJHNjcm9sbFRvcD0wLG0ucHJvdG90eXBlLiRzY3JvbGxMZWZ0PTAsbS5wcm90b3R5cGUuJHdyYXBMaW1pdD04MCxtLnByb3RvdHlwZS4kdXNlV3JhcE1vZGU9ITEsbS5wcm90b3R5cGUuJHdyYXBMaW1pdFJhbmdlPXttaW46bnVsbCxtYXg6bnVsbH0sbS5wcm90b3R5cGUubGluZVdpZGdldHM9bnVsbCxtLnByb3RvdHlwZS5pc0Z1bGxXaWR0aD1OLHIuaW1wbGVtZW50KG0ucHJvdG90eXBlLHUpO3ZhciBnPTEseT0yLGI9Myx3PTQsRT05LFM9MTAseD0xMSxUPTEyO2UoXCIuL2VkaXRfc2Vzc2lvbi9mb2xkaW5nXCIpLkZvbGRpbmcuY2FsbChtLnByb3RvdHlwZSksZShcIi4vZWRpdF9zZXNzaW9uL2JyYWNrZXRfbWF0Y2hcIikuQnJhY2tldE1hdGNoLmNhbGwobS5wcm90b3R5cGUpLG8uZGVmaW5lT3B0aW9ucyhtLnByb3RvdHlwZSxcInNlc3Npb25cIix7d3JhcDp7c2V0OmZ1bmN0aW9uKGUpeyFlfHxlPT1cIm9mZlwiP2U9ITE6ZT09XCJmcmVlXCI/ZT0hMDplPT1cInByaW50TWFyZ2luXCI/ZT0tMTp0eXBlb2YgZT09XCJzdHJpbmdcIiYmKGU9cGFyc2VJbnQoZSwxMCl8fCExKTtpZih0aGlzLiR3cmFwPT1lKXJldHVybjt0aGlzLiR3cmFwPWU7aWYoIWUpdGhpcy5zZXRVc2VXcmFwTW9kZSghMSk7ZWxzZXt2YXIgdD10eXBlb2YgZT09XCJudW1iZXJcIj9lOm51bGw7dGhpcy5zZXRXcmFwTGltaXRSYW5nZSh0LHQpLHRoaXMuc2V0VXNlV3JhcE1vZGUoITApfX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VXNlV3JhcE1vZGUoKT90aGlzLiR3cmFwPT0tMT9cInByaW50TWFyZ2luXCI6dGhpcy5nZXRXcmFwTGltaXRSYW5nZSgpLm1pbj90aGlzLiR3cmFwOlwiZnJlZVwiOlwib2ZmXCJ9LGhhbmRsZXNTZXQ6ITB9LHdyYXBNZXRob2Q6e3NldDpmdW5jdGlvbihlKXtlPWU9PVwiYXV0b1wiP3RoaXMuJG1vZGUudHlwZSE9XCJ0ZXh0XCI6ZSE9XCJ0ZXh0XCIsZSE9dGhpcy4kd3JhcEFzQ29kZSYmKHRoaXMuJHdyYXBBc0NvZGU9ZSx0aGlzLiR1c2VXcmFwTW9kZSYmKHRoaXMuJHVzZVdyYXBNb2RlPSExLHRoaXMuc2V0VXNlV3JhcE1vZGUoITApKSl9LGluaXRpYWxWYWx1ZTpcImF1dG9cIn0saW5kZW50ZWRTb2Z0V3JhcDp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kdXNlV3JhcE1vZGUmJih0aGlzLiR1c2VXcmFwTW9kZT0hMSx0aGlzLnNldFVzZVdyYXBNb2RlKCEwKSl9LGluaXRpYWxWYWx1ZTohMH0sZmlyc3RMaW5lTnVtYmVyOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIpfSxpbml0aWFsVmFsdWU6MX0sdXNlV29ya2VyOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy4kdXNlV29ya2VyPWUsdGhpcy4kc3RvcFdvcmtlcigpLGUmJnRoaXMuJHN0YXJ0V29ya2VyKCl9LGluaXRpYWxWYWx1ZTohMH0sdXNlU29mdFRhYnM6e2luaXRpYWxWYWx1ZTohMH0sdGFiU2l6ZTp7c2V0OmZ1bmN0aW9uKGUpe2U9cGFyc2VJbnQoZSksZT4wJiZ0aGlzLiR0YWJTaXplIT09ZSYmKHRoaXMuJG1vZGlmaWVkPSEwLHRoaXMuJHJvd0xlbmd0aENhY2hlPVtdLHRoaXMuJHRhYlNpemU9ZSx0aGlzLl9zaWduYWwoXCJjaGFuZ2VUYWJTaXplXCIpKX0saW5pdGlhbFZhbHVlOjQsaGFuZGxlc1NldDohMH0sbmF2aWdhdGVXaXRoaW5Tb2Z0VGFiczp7aW5pdGlhbFZhbHVlOiExfSxmb2xkU3R5bGU6e3NldDpmdW5jdGlvbihlKXt0aGlzLnNldEZvbGRTdHlsZShlKX0saGFuZGxlc1NldDohMH0sb3ZlcndyaXRlOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2lnbmFsKFwiY2hhbmdlT3ZlcndyaXRlXCIpfSxpbml0aWFsVmFsdWU6ITF9LG5ld0xpbmVNb2RlOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5kb2Muc2V0TmV3TGluZU1vZGUoZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvYy5nZXROZXdMaW5lTW9kZSgpfSxoYW5kbGVzU2V0OiEwfSxtb2RlOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXRNb2RlKGUpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbW9kZUlkfSxoYW5kbGVzU2V0OiEwfX0pLHQuRWRpdFNlc3Npb249bX0pLGFjZS5kZWZpbmUoXCJhY2Uvc2VhcmNoXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvb29wXCIsXCJhY2UvcmFuZ2VcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHUoZSx0KXtmdW5jdGlvbiBpKGUscil7cj09PXZvaWQgMCYmKHI9ITApO3ZhciBpPW4mJnQuJHN1cHBvcnRzVW5pY29kZUZsYWc/bmV3IFJlZ0V4cChcIltcXFxccHtMfVxcXFxwe059X11cIixcInVcIik6bmV3IFJlZ0V4cChcIlxcXFx3XCIpO2lmKGkudGVzdChlKXx8dC5yZWdFeHApcmV0dXJuIG4mJnQuJHN1cHBvcnRzVW5pY29kZUZsYWc/cj9cIig/PD1efFteXFxcXHB7TH1cXFxccHtOfV9dKVwiOlwiKD89W15cXFxccHtMfVxcXFxwe059X118JClcIjpcIlxcXFxiXCI7cmV0dXJuXCJcIn12YXIgbj1yLnN1cHBvcnRzTG9va2JlaGluZCgpLHM9QXJyYXkuZnJvbShlKSxvPXNbMF0sdT1zW3MubGVuZ3RoLTFdO3JldHVybiBpKG8pK2UraSh1LCExKX1mdW5jdGlvbiBhKGUsdCxuKXt2YXIgcj1udWxsLGk9MDt3aGlsZShpPD1lLmxlbmd0aCl7dC5sYXN0SW5kZXg9aTt2YXIgcz10LmV4ZWMoZSk7aWYoIXMpYnJlYWs7dmFyIG89cy5pbmRleCtzWzBdLmxlbmd0aDtpZihvPmUubGVuZ3RoLW4pYnJlYWs7aWYoIXJ8fG8+ci5pbmRleCtyWzBdLmxlbmd0aClyPXM7aT1zLmluZGV4KzF9cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQpe3ZhciBuPTVlMyxyPXtyb3c6dCxjb2x1bW46MH0saT1lLmRvYy5wb3NpdGlvblRvSW5kZXgocikscz1pK24sbz1lLmRvYy5pbmRleFRvUG9zaXRpb24ocyksdT1vLnJvdztyZXR1cm4gdSsxfXZhciByPWUoXCIuL2xpYi9sYW5nXCIpLGk9ZShcIi4vbGliL29vcFwiKSxzPWUoXCIuL3JhbmdlXCIpLlJhbmdlLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy4kb3B0aW9ucz17fX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUpe3JldHVybiBpLm1peGluKHRoaXMuJG9wdGlvbnMsZSksdGhpc30sZS5wcm90b3R5cGUuZ2V0T3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiByLmNvcHlPYmplY3QodGhpcy4kb3B0aW9ucyl9LGUucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24oZSl7dGhpcy4kb3B0aW9ucz1lfSxlLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJG9wdGlvbnMsbj10aGlzLiRtYXRjaEl0ZXJhdG9yKGUsdCk7aWYoIW4pcmV0dXJuITE7dmFyIHI9bnVsbDtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKGUsbixpLG8pe3JldHVybiByPW5ldyBzKGUsbixpLG8pLG49PW8mJnQuc3RhcnQmJnQuc3RhcnQuc3RhcnQmJnQuc2tpcEN1cnJlbnQhPTAmJnIuaXNFcXVhbCh0LnN0YXJ0KT8ocj1udWxsLCExKTohMH0pLHJ9LGUucHJvdG90eXBlLmZpbmRBbGw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kb3B0aW9ucztpZighdC5uZWVkbGUpcmV0dXJuW107dGhpcy4kYXNzZW1ibGVSZWdFeHAodCk7dmFyIG49dC5yYW5nZSxpPW4/ZS5nZXRMaW5lcyhuLnN0YXJ0LnJvdyxuLmVuZC5yb3cpOmUuZG9jLmdldEFsbExpbmVzKCksbz1bXSx1PXQucmU7aWYodC4kaXNNdWx0aUxpbmUpe3ZhciBhPXUubGVuZ3RoLGY9aS5sZW5ndGgtYSxsO2U6Zm9yKHZhciBjPXUub2Zmc2V0fHwwO2M8PWY7YysrKXtmb3IodmFyIGg9MDtoPGE7aCsrKWlmKGlbYytoXS5zZWFyY2godVtoXSk9PS0xKWNvbnRpbnVlIGU7dmFyIHA9aVtjXSxkPWlbYythLTFdLHY9cC5sZW5ndGgtcC5tYXRjaCh1WzBdKVswXS5sZW5ndGgsbT1kLm1hdGNoKHVbYS0xXSlbMF0ubGVuZ3RoO2lmKGwmJmwuZW5kLnJvdz09PWMmJmwuZW5kLmNvbHVtbj52KWNvbnRpbnVlO28ucHVzaChsPW5ldyBzKGMsdixjK2EtMSxtKSksYT4yJiYoYz1jK2EtMil9fWVsc2UgZm9yKHZhciBnLHk9MDt5PGkubGVuZ3RoO3krKylpZih0aGlzLiRpc011bHRpbGluZVNlYXJjaCh0KSl7dmFyIGI9aS5sZW5ndGgtMTtnPXRoaXMuJG11bHRpTGluZUZvcndhcmQoZSx1LHksYik7aWYoZyl7dmFyIHc9Zy5lbmRSb3c8PWI/Zy5lbmRSb3ctMTpiO3c+eSYmKHk9dyksby5wdXNoKG5ldyBzKGcuc3RhcnRSb3csZy5zdGFydENvbCxnLmVuZFJvdyxnLmVuZENvbCkpfX1lbHNle2c9ci5nZXRNYXRjaE9mZnNldHMoaVt5XSx1KTtmb3IodmFyIGg9MDtoPGcubGVuZ3RoO2grKyl7dmFyIEU9Z1toXTtvLnB1c2gobmV3IHMoeSxFLm9mZnNldCx5LEUub2Zmc2V0K0UubGVuZ3RoKSl9fWlmKG4pe3ZhciBTPW4uc3RhcnQuY29sdW1uLHg9bi5lbmQuY29sdW1uLHk9MCxoPW8ubGVuZ3RoLTE7d2hpbGUoeTxoJiZvW3ldLnN0YXJ0LmNvbHVtbjxTJiZvW3ldLnN0YXJ0LnJvdz09MCl5Kys7dmFyIFQ9bi5lbmQucm93LW4uc3RhcnQucm93O3doaWxlKHk8aCYmb1toXS5lbmQuY29sdW1uPngmJm9baF0uZW5kLnJvdz09VCloLS07bz1vLnNsaWNlKHksaCsxKTtmb3IoeT0wLGg9by5sZW5ndGg7eTxoO3krKylvW3ldLnN0YXJ0LnJvdys9bi5zdGFydC5yb3csb1t5XS5lbmQucm93Kz1uLnN0YXJ0LnJvd31yZXR1cm4gb30sZS5wcm90b3R5cGUucGFyc2VSZXBsYWNlU3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PXtEb2xsYXJTaWduOjM2LEFtcGVyc2FuZDozOCxEaWdpdDA6NDgsRGlnaXQxOjQ5LERpZ2l0OTo1NyxCYWNrc2xhc2g6OTIsbjoxMTAsdDoxMTZ9LG49XCJcIjtmb3IodmFyIHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe3ZhciBzPWUuY2hhckNvZGVBdChyKTtpZihzPT09dC5CYWNrc2xhc2gpe3IrKztpZihyPj1pKXtuKz1cIlxcXFxcIjticmVha312YXIgbz1lLmNoYXJDb2RlQXQocik7c3dpdGNoKG8pe2Nhc2UgdC5CYWNrc2xhc2g6bis9XCJcXFxcXCI7YnJlYWs7Y2FzZSB0Lm46bis9XCJcXG5cIjticmVhaztjYXNlIHQudDpuKz1cIlx0XCJ9Y29udGludWV9aWYocz09PXQuRG9sbGFyU2lnbil7cisrO2lmKHI+PWkpe24rPVwiJFwiO2JyZWFrfXZhciB1PWUuY2hhckNvZGVBdChyKTtpZih1PT09dC5Eb2xsYXJTaWduKXtuKz1cIiQkXCI7Y29udGludWV9aWYodT09PXQuRGlnaXQwfHx1PT09dC5BbXBlcnNhbmQpe24rPVwiJCZcIjtjb250aW51ZX1pZih0LkRpZ2l0MTw9dSYmdTw9dC5EaWdpdDkpe24rPVwiJFwiK2Vbcl07Y29udGludWV9fW4rPWVbcl19cmV0dXJuIG58fGV9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLiRvcHRpb25zLHI9dGhpcy4kYXNzZW1ibGVSZWdFeHAobik7aWYobi4kaXNNdWx0aUxpbmUpcmV0dXJuIHQ7aWYoIXIpcmV0dXJuO3ZhciBpPXRoaXMuJGlzTXVsdGlsaW5lU2VhcmNoKG4pO2kmJihlPWUucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZyxcIlxcblwiKSk7dmFyIHM9ci5leGVjKGUpO2lmKCFzfHwhaSYmc1swXS5sZW5ndGghPWUubGVuZ3RoKXJldHVybiBudWxsO3Q9bi5yZWdFeHA/dGhpcy5wYXJzZVJlcGxhY2VTdHJpbmcodCk6dC5yZXBsYWNlKC9cXCQvZyxcIiQkJCRcIiksdD1lLnJlcGxhY2Uocix0KTtpZihuLnByZXNlcnZlQ2FzZSl7dD10LnNwbGl0KFwiXCIpO2Zvcih2YXIgbz1NYXRoLm1pbihlLmxlbmd0aCxlLmxlbmd0aCk7by0tOyl7dmFyIHU9ZVtvXTt1JiZ1LnRvTG93ZXJDYXNlKCkhPXU/dFtvXT10W29dLnRvVXBwZXJDYXNlKCk6dFtvXT10W29dLnRvTG93ZXJDYXNlKCl9dD10LmpvaW4oXCJcIil9cmV0dXJuIHR9LGUucHJvdG90eXBlLiRhc3NlbWJsZVJlZ0V4cD1mdW5jdGlvbihlLHQpe2lmKGUubmVlZGxlIGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiBlLnJlPWUubmVlZGxlO3ZhciBuPWUubmVlZGxlO2lmKCFlLm5lZWRsZSlyZXR1cm4gZS5yZT0hMTtlLnJlZ0V4cHx8KG49ci5lc2NhcGVSZWdFeHAobikpO3ZhciBpPWUuY2FzZVNlbnNpdGl2ZT9cImdtXCI6XCJnbWlcIjt0cnl7bmV3IFJlZ0V4cChuLFwidVwiKSxlLiRzdXBwb3J0c1VuaWNvZGVGbGFnPSEwLGkrPVwidVwifWNhdGNoKHMpe2UuJHN1cHBvcnRzVW5pY29kZUZsYWc9ITF9ZS53aG9sZVdvcmQmJihuPXUobixlKSksZS4kaXNNdWx0aUxpbmU9IXQmJi9bXFxuXFxyXS8udGVzdChuKTtpZihlLiRpc011bHRpTGluZSlyZXR1cm4gZS5yZT10aGlzLiRhc3NlbWJsZU11bHRpbGluZVJlZ0V4cChuLGkpO3RyeXt2YXIgbz1uZXcgUmVnRXhwKG4saSl9Y2F0Y2gocyl7bz0hMX1yZXR1cm4gZS5yZT1vfSxlLnByb3RvdHlwZS4kYXNzZW1ibGVNdWx0aWxpbmVSZWdFeHA9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnJlcGxhY2UoL1xcclxcbnxcXHJ8XFxuL2csXCIkXFxuXlwiKS5zcGxpdChcIlxcblwiKSxyPVtdO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXRyeXtyLnB1c2gobmV3IFJlZ0V4cChuW2ldLHQpKX1jYXRjaChzKXtyZXR1cm4hMX1yZXR1cm4gcn0sZS5wcm90b3R5cGUuJGlzTXVsdGlsaW5lU2VhcmNoPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlJiYvXFxcXHJcXFxcbnxcXFxccnxcXFxcbi8udGVzdChlLnJlLnNvdXJjZSkmJmUucmVnRXhwJiYhZS4kaXNNdWx0aUxpbmV9LGUucHJvdG90eXBlLiRtdWx0aUxpbmVGb3J3YXJkPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLHM9ZihlLG4pO2Zvcih2YXIgbz1uO288PXI7KXtmb3IodmFyIHU9MDt1PHM7dSsrKXtpZihvPnIpYnJlYWs7dmFyIGE9ZS5nZXRMaW5lKG8rKyk7aT1pPT1udWxsP2E6aStcIlxcblwiK2F9dmFyIGw9dC5leGVjKGkpO3QubGFzdEluZGV4PTA7aWYobCl7dmFyIGM9aS5zbGljZSgwLGwuaW5kZXgpLnNwbGl0KFwiXFxuXCIpLGg9bFswXS5zcGxpdChcIlxcblwiKSxwPW4rYy5sZW5ndGgtMSxkPWNbYy5sZW5ndGgtMV0ubGVuZ3RoLHY9cCtoLmxlbmd0aC0xLG09aC5sZW5ndGg9PTE/ZCtoWzBdLmxlbmd0aDpoW2gubGVuZ3RoLTFdLmxlbmd0aDtyZXR1cm57c3RhcnRSb3c6cCxzdGFydENvbDpkLGVuZFJvdzp2LGVuZENvbDptfX19cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLiRtdWx0aUxpbmVCYWNrd2FyZD1mdW5jdGlvbihlLHQsbixyLGkpe3ZhciBzLG89ZihlLHIpLHU9ZS5nZXRMaW5lKHIpLmxlbmd0aC1uO2Zvcih2YXIgbD1yO2w+PWk7KXtmb3IodmFyIGM9MDtjPG8mJmw+PWk7YysrKXt2YXIgaD1lLmdldExpbmUobC0tKTtzPXM9PW51bGw/aDpoK1wiXFxuXCIrc312YXIgcD1hKHMsdCx1KTtpZihwKXt2YXIgZD1zLnNsaWNlKDAscC5pbmRleCkuc3BsaXQoXCJcXG5cIiksdj1wWzBdLnNwbGl0KFwiXFxuXCIpLG09bCtkLmxlbmd0aCxnPWRbZC5sZW5ndGgtMV0ubGVuZ3RoLHk9bSt2Lmxlbmd0aC0xLGI9di5sZW5ndGg9PTE/Zyt2WzBdLmxlbmd0aDp2W3YubGVuZ3RoLTFdLmxlbmd0aDtyZXR1cm57c3RhcnRSb3c6bSxzdGFydENvbDpnLGVuZFJvdzp5LGVuZENvbDpifX19cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLiRtYXRjaEl0ZXJhdG9yPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy4kYXNzZW1ibGVSZWdFeHAodCk7aWYoIW4pcmV0dXJuITE7dmFyIGk9dGhpcy4kaXNNdWx0aWxpbmVTZWFyY2godCkscz10aGlzLiRtdWx0aUxpbmVGb3J3YXJkLG89dGhpcy4kbXVsdGlMaW5lQmFja3dhcmQsdT10LmJhY2t3YXJkcz09MSxhPXQuc2tpcEN1cnJlbnQhPTAsZj1uLnVuaWNvZGUsbD10LnJhbmdlLGM9dC5zdGFydDtjfHwoYz1sP2xbdT9cImVuZFwiOlwic3RhcnRcIl06ZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSksYy5zdGFydCYmKGM9Y1thIT11P1wiZW5kXCI6XCJzdGFydFwiXSk7dmFyIGg9bD9sLnN0YXJ0LnJvdzowLHA9bD9sLmVuZC5yb3c6ZS5nZXRMZW5ndGgoKS0xO2lmKHUpdmFyIGQ9ZnVuY3Rpb24oZSl7dmFyIG49Yy5yb3c7aWYobShuLGMuY29sdW1uLGUpKXJldHVybjtmb3Iobi0tO24+PWg7bi0tKWlmKG0obixOdW1iZXIuTUFYX1ZBTFVFLGUpKXJldHVybjtpZih0LndyYXA9PTApcmV0dXJuO2ZvcihuPXAsaD1jLnJvdztuPj1oO24tLSlpZihtKG4sTnVtYmVyLk1BWF9WQUxVRSxlKSlyZXR1cm59O2Vsc2UgdmFyIGQ9ZnVuY3Rpb24oZSl7dmFyIG49Yy5yb3c7aWYobShuLGMuY29sdW1uLGUpKXJldHVybjtmb3Iobis9MTtuPD1wO24rKylpZihtKG4sMCxlKSlyZXR1cm47aWYodC53cmFwPT0wKXJldHVybjtmb3Iobj1oLHA9Yy5yb3c7bjw9cDtuKyspaWYobShuLDAsZSkpcmV0dXJufTtpZih0LiRpc011bHRpTGluZSl2YXIgdj1uLmxlbmd0aCxtPWZ1bmN0aW9uKHQscixpKXt2YXIgcz11P3QtdisxOnQ7aWYoczwwfHxzK3Y+ZS5nZXRMZW5ndGgoKSlyZXR1cm47dmFyIG89ZS5nZXRMaW5lKHMpLGE9by5zZWFyY2goblswXSk7aWYoIXUmJmE8cnx8YT09PS0xKXJldHVybjtmb3IodmFyIGY9MTtmPHY7ZisrKXtvPWUuZ2V0TGluZShzK2YpO2lmKG8uc2VhcmNoKG5bZl0pPT0tMSlyZXR1cm59dmFyIGw9by5tYXRjaChuW3YtMV0pWzBdLmxlbmd0aDtpZih1JiZsPnIpcmV0dXJuO2lmKGkocyxhLHMrdi0xLGwpKXJldHVybiEwfTtlbHNlIGlmKHUpdmFyIG09ZnVuY3Rpb24odCxzLHUpe2lmKGkpe3ZhciBhPW8oZSxuLHMsdCxoKTtpZighYSlyZXR1cm4hMTtpZih1KGEuc3RhcnRSb3csYS5zdGFydENvbCxhLmVuZFJvdyxhLmVuZENvbCkpcmV0dXJuITB9ZWxzZXt2YXIgbD1lLmdldExpbmUodCksYz1bXSxwLGQ9MDtuLmxhc3RJbmRleD0wO3doaWxlKHA9bi5leGVjKGwpKXt2YXIgdj1wWzBdLmxlbmd0aDtkPXAuaW5kZXg7aWYoIXYpe2lmKGQ+PWwubGVuZ3RoKWJyZWFrO24ubGFzdEluZGV4PWQrPXIuc2tpcEVtcHR5TWF0Y2gobCxkLGYpfWlmKHAuaW5kZXgrdj5zKWJyZWFrO2MucHVzaChwLmluZGV4LHYpfWZvcih2YXIgbT1jLmxlbmd0aC0xO20+PTA7bS09Mil7dmFyIGc9Y1ttLTFdLHY9Y1ttXTtpZih1KHQsZyx0LGcrdikpcmV0dXJuITB9fX07ZWxzZSB2YXIgbT1mdW5jdGlvbih0LG8sdSl7bi5sYXN0SW5kZXg9bztpZihpKXt2YXIgYT1zKGUsbix0LHApO2lmKGEpe3ZhciBsPWEuZW5kUm93PD1wP2EuZW5kUm93LTE6cDtsPnQmJih0PWwpfWlmKCFhKXJldHVybiExO2lmKHUoYS5zdGFydFJvdyxhLnN0YXJ0Q29sLGEuZW5kUm93LGEuZW5kQ29sKSlyZXR1cm4hMH1lbHNle3ZhciBjPWUuZ2V0TGluZSh0KSxoLGQ7d2hpbGUoZD1uLmV4ZWMoYykpe3ZhciB2PWRbMF0ubGVuZ3RoO2g9ZC5pbmRleDtpZih1KHQsaCx0LGgrdikpcmV0dXJuITA7aWYoIXYpe24ubGFzdEluZGV4PWgrPXIuc2tpcEVtcHR5TWF0Y2goYyxoLGYpO2lmKGg+PWMubGVuZ3RoKXJldHVybiExfX19fTtyZXR1cm57Zm9yRWFjaDpkfX0sZX0oKTt0LlNlYXJjaD1vfSksYWNlLmRlZmluZShcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIva2V5c1wiLFwiYWNlL2xpYi91c2VyYWdlbnRcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIHR5cGVvZiBlPT1cIm9iamVjdFwiJiZlLmJpbmRLZXkmJmUuYmluZEtleS5wb3NpdGlvbnx8KGUuaXNEZWZhdWx0Py0xMDA6MCl9dmFyIHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9LGUodCxuKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1pZih0eXBlb2YgbiE9XCJmdW5jdGlvblwiJiZuIT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcobikrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtlKHQsbiksdC5wcm90b3R5cGU9bj09PW51bGw/T2JqZWN0LmNyZWF0ZShuKTooci5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IHIpfX0oKSxpPWUoXCIuLi9saWIva2V5c1wiKSxzPWUoXCIuLi9saWIvdXNlcmFnZW50XCIpLG89aS5LRVlfTU9EUyx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuJGluaXQoZSx0LCExKX1yZXR1cm4gZS5wcm90b3R5cGUuJGluaXQ9ZnVuY3Rpb24oZSx0LG4pe3RoaXMucGxhdGZvcm09dHx8KHMuaXNNYWM/XCJtYWNcIjpcIndpblwiKSx0aGlzLmNvbW1hbmRzPXt9LHRoaXMuY29tbWFuZEtleUJpbmRpbmc9e30sdGhpcy5hZGRDb21tYW5kcyhlKSx0aGlzLiRzaW5nbGVDb21tYW5kPW59LGUucHJvdG90eXBlLmFkZENvbW1hbmQ9ZnVuY3Rpb24oZSl7dGhpcy5jb21tYW5kc1tlLm5hbWVdJiZ0aGlzLnJlbW92ZUNvbW1hbmQoZSksdGhpcy5jb21tYW5kc1tlLm5hbWVdPWUsZS5iaW5kS2V5JiZ0aGlzLl9idWlsZEtleUhhc2goZSl9LGUucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lJiYodHlwZW9mIGU9PVwic3RyaW5nXCI/ZTplLm5hbWUpO2U9dGhpcy5jb21tYW5kc1tuXSx0fHxkZWxldGUgdGhpcy5jb21tYW5kc1tuXTt2YXIgcj10aGlzLmNvbW1hbmRLZXlCaW5kaW5nO2Zvcih2YXIgaSBpbiByKXt2YXIgcz1yW2ldO2lmKHM9PWUpZGVsZXRlIHJbaV07ZWxzZSBpZihBcnJheS5pc0FycmF5KHMpKXt2YXIgbz1zLmluZGV4T2YoZSk7byE9LTEmJihzLnNwbGljZShvLDEpLHMubGVuZ3RoPT0xJiYocltpXT1zWzBdKSl9fX0sZS5wcm90b3R5cGUuYmluZEtleT1mdW5jdGlvbihlLHQsbil7dHlwZW9mIGU9PVwib2JqZWN0XCImJmUmJihuPT11bmRlZmluZWQmJihuPWUucG9zaXRpb24pLGU9ZVt0aGlzLnBsYXRmb3JtXSk7aWYoIWUpcmV0dXJuO2lmKHR5cGVvZiB0PT1cImZ1bmN0aW9uXCIpcmV0dXJuIHRoaXMuYWRkQ29tbWFuZCh7ZXhlYzp0LGJpbmRLZXk6ZSxuYW1lOnQubmFtZXx8ZX0pO2Uuc3BsaXQoXCJ8XCIpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9XCJcIjtpZihlLmluZGV4T2YoXCIgXCIpIT0tMSl7dmFyIGk9ZS5zcGxpdCgvXFxzKy8pO2U9aS5wb3AoKSxpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wYXJzZUtleXMoZSksbj1vW3QuaGFzaElkXSt0LmtleTtyKz0ocj9cIiBcIjpcIlwiKStuLHRoaXMuX2FkZENvbW1hbmRUb0JpbmRpbmcocixcImNoYWluS2V5c1wiKX0sdGhpcykscis9XCIgXCJ9dmFyIHM9dGhpcy5wYXJzZUtleXMoZSksdT1vW3MuaGFzaElkXStzLmtleTt0aGlzLl9hZGRDb21tYW5kVG9CaW5kaW5nKHIrdSx0LG4pfSx0aGlzKX0sZS5wcm90b3R5cGUuX2FkZENvbW1hbmRUb0JpbmRpbmc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuY29tbWFuZEtleUJpbmRpbmcsaTtpZighdClkZWxldGUgcltlXTtlbHNlIGlmKCFyW2VdfHx0aGlzLiRzaW5nbGVDb21tYW5kKXJbZV09dDtlbHNle0FycmF5LmlzQXJyYXkocltlXSk/KGk9cltlXS5pbmRleE9mKHQpKSE9LTEmJnJbZV0uc3BsaWNlKGksMSk6cltlXT1bcltlXV0sdHlwZW9mIG4hPVwibnVtYmVyXCImJihuPWEodCkpO3ZhciBzPXJbZV07Zm9yKGk9MDtpPHMubGVuZ3RoO2krKyl7dmFyIG89c1tpXSx1PWEobyk7aWYodT5uKWJyZWFrfXMuc3BsaWNlKGksMCx0KX19LGUucHJvdG90eXBlLmFkZENvbW1hbmRzPWZ1bmN0aW9uKGUpe2UmJk9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZVt0XTtpZighbilyZXR1cm47aWYodHlwZW9mIG49PVwic3RyaW5nXCIpcmV0dXJuIHRoaXMuYmluZEtleShuLHQpO3R5cGVvZiBuPT1cImZ1bmN0aW9uXCImJihuPXtleGVjOm59KTtpZih0eXBlb2YgbiE9XCJvYmplY3RcIilyZXR1cm47bi5uYW1lfHwobi5uYW1lPXQpLHRoaXMuYWRkQ29tbWFuZChuKX0sdGhpcyl9LGUucHJvdG90eXBlLnJlbW92ZUNvbW1hbmRzPWZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5yZW1vdmVDb21tYW5kKGVbdF0pfSx0aGlzKX0sZS5wcm90b3R5cGUuYmluZEtleXM9ZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLmJpbmRLZXkodCxlW3RdKX0sdGhpcyl9LGUucHJvdG90eXBlLl9idWlsZEtleUhhc2g9ZnVuY3Rpb24oZSl7dGhpcy5iaW5kS2V5KGUuYmluZEtleSxlKX0sZS5wcm90b3R5cGUucGFyc2VLZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9Mb3dlckNhc2UoKS5zcGxpdCgvW1xcLVxcK10oW1xcLVxcK10pPy8pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pLG49dC5wb3AoKSxyPWlbbl07aWYoaS5GVU5DVElPTl9LRVlTW3JdKW49aS5GVU5DVElPTl9LRVlTW3JdLnRvTG93ZXJDYXNlKCk7ZWxzZXtpZighdC5sZW5ndGgpcmV0dXJue2tleTpuLGhhc2hJZDotMX07aWYodC5sZW5ndGg9PTEmJnRbMF09PVwic2hpZnRcIilyZXR1cm57a2V5Om4udG9VcHBlckNhc2UoKSxoYXNoSWQ6LTF9fXZhciBzPTA7Zm9yKHZhciBvPXQubGVuZ3RoO28tLTspe3ZhciB1PWkuS0VZX01PRFNbdFtvXV07aWYodT09bnVsbClyZXR1cm4gdHlwZW9mIGNvbnNvbGUhPVwidW5kZWZpbmVkXCImJmNvbnNvbGUuZXJyb3IoXCJpbnZhbGlkIG1vZGlmaWVyIFwiK3Rbb10rXCIgaW4gXCIrZSksITE7c3w9dX1yZXR1cm57a2V5Om4saGFzaElkOnN9fSxlLnByb3RvdHlwZS5maW5kS2V5Q29tbWFuZD1mdW5jdGlvbihlLHQpe3ZhciBuPW9bZV0rdDtyZXR1cm4gdGhpcy5jb21tYW5kS2V5QmluZGluZ1tuXX0sZS5wcm90b3R5cGUuaGFuZGxlS2V5Ym9hcmQ9ZnVuY3Rpb24oZSx0LG4scil7aWYocjwwKXJldHVybjt2YXIgaT1vW3RdK24scz10aGlzLmNvbW1hbmRLZXlCaW5kaW5nW2ldO2UuJGtleUNoYWluJiYoZS4ka2V5Q2hhaW4rPVwiIFwiK2kscz10aGlzLmNvbW1hbmRLZXlCaW5kaW5nW2UuJGtleUNoYWluXXx8cyk7aWYocylpZihzPT1cImNoYWluS2V5c1wifHxzW3MubGVuZ3RoLTFdPT1cImNoYWluS2V5c1wiKXJldHVybiBlLiRrZXlDaGFpbj1lLiRrZXlDaGFpbnx8aSx7Y29tbWFuZDpcIm51bGxcIn07aWYoZS4ka2V5Q2hhaW4paWYoISF0JiZ0IT00fHxuLmxlbmd0aCE9MSl7aWYodD09LTF8fHI+MCllLiRrZXlDaGFpbj1cIlwifWVsc2UgZS4ka2V5Q2hhaW49ZS4ka2V5Q2hhaW4uc2xpY2UoMCwtaS5sZW5ndGgtMSk7cmV0dXJue2NvbW1hbmQ6c319LGUucHJvdG90eXBlLmdldFN0YXR1c1RleHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC4ka2V5Q2hhaW58fFwiXCJ9LGV9KCksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gci4kc2luZ2xlQ29tbWFuZD0hMCxyfXJldHVybiByKHQsZSksdH0odSk7Zi5jYWxsPWZ1bmN0aW9uKGUsdCxuKXt1LnByb3RvdHlwZS4kaW5pdC5jYWxsKGUsdCxuLCEwKX0sdS5jYWxsPWZ1bmN0aW9uKGUsdCxuKXt1LnByb3RvdHlwZS4kaW5pdC5jYWxsKGUsdCxuLCExKX0sdC5IYXNoSGFuZGxlcj1mLHQuTXVsdGlIYXNoSGFuZGxlcj11fSksYWNlLmRlZmluZShcImFjZS9jb21tYW5kcy9jb21tYW5kX21hbmFnZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2Uva2V5Ym9hcmQvaGFzaF9oYW5kbGVyXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfSxlKHQsbil9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIiYmbiE9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKG4pK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZSh0LG4pLHQucHJvdG90eXBlPW49PT1udWxsP09iamVjdC5jcmVhdGUobik6KHIucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyByKX19KCksaT1lKFwiLi4vbGliL29vcFwiKSxzPWUoXCIuLi9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIikuTXVsdGlIYXNoSGFuZGxlcixvPWUoXCIuLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXIsdT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsbix0KXx8dGhpcztyZXR1cm4gci5ieU5hbWU9ci5jb21tYW5kcyxyLnNldERlZmF1bHRIYW5kbGVyKFwiZXhlY1wiLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFyZ3M/ZS5jb21tYW5kLmV4ZWMoZS5lZGl0b3IsZS5hcmdzLGUuZXZlbnQsITEpOmUuY29tbWFuZC5leGVjKGUuZWRpdG9yLHt9LGUuZXZlbnQsITApfSkscn1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24oZSx0LG4pe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KWlmKHRoaXMuZXhlYyhlW3JdLHQsbikpcmV0dXJuITA7cmV0dXJuITF9dHlwZW9mIGU9PVwic3RyaW5nXCImJihlPXRoaXMuY29tbWFuZHNbZV0pO3ZhciBpPXtlZGl0b3I6dCxjb21tYW5kOmUsYXJnczpufTtyZXR1cm4gdGhpcy5jYW5FeGVjdXRlKGUsdCk/KGkucmV0dXJuVmFsdWU9dGhpcy5fZW1pdChcImV4ZWNcIixpKSx0aGlzLl9zaWduYWwoXCJhZnRlckV4ZWNcIixpKSxpLnJldHVyblZhbHVlPT09ITE/ITE6ITApOih0aGlzLl9zaWduYWwoXCJjb21tYW5kVW5hdmFpbGFibGVcIixpKSwhMSl9LHQucHJvdG90eXBlLmNhbkV4ZWN1dGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHlwZW9mIGU9PVwic3RyaW5nXCImJihlPXRoaXMuY29tbWFuZHNbZV0pLGU/dCYmdC4kcmVhZE9ubHkmJiFlLnJlYWRPbmx5PyExOnRoaXMuJGNoZWNrQ29tbWFuZFN0YXRlIT0wJiZlLmlzQXZhaWxhYmxlJiYhZS5pc0F2YWlsYWJsZSh0KT8hMTohMDohMX0sdC5wcm90b3R5cGUudG9nZ2xlUmVjb3JkaW5nPWZ1bmN0aW9uKGUpe2lmKHRoaXMuJGluUmVwbGF5KXJldHVybjtyZXR1cm4gZSYmZS5fZW1pdChcImNoYW5nZVN0YXR1c1wiKSx0aGlzLnJlY29yZGluZz8odGhpcy5tYWNyby5wb3AoKSx0aGlzLm9mZihcImV4ZWNcIix0aGlzLiRhZGRDb21tYW5kVG9NYWNybyksdGhpcy5tYWNyby5sZW5ndGh8fCh0aGlzLm1hY3JvPXRoaXMub2xkTWFjcm8pLHRoaXMucmVjb3JkaW5nPSExKToodGhpcy4kYWRkQ29tbWFuZFRvTWFjcm98fCh0aGlzLiRhZGRDb21tYW5kVG9NYWNybz1mdW5jdGlvbihlKXt0aGlzLm1hY3JvLnB1c2goW2UuY29tbWFuZCxlLmFyZ3NdKX0uYmluZCh0aGlzKSksdGhpcy5vbGRNYWNybz10aGlzLm1hY3JvLHRoaXMubWFjcm89W10sdGhpcy5vbihcImV4ZWNcIix0aGlzLiRhZGRDb21tYW5kVG9NYWNybyksdGhpcy5yZWNvcmRpbmc9ITApfSx0LnByb3RvdHlwZS5yZXBsYXk9ZnVuY3Rpb24oZSl7aWYodGhpcy4kaW5SZXBsYXl8fCF0aGlzLm1hY3JvKXJldHVybjtpZih0aGlzLnJlY29yZGluZylyZXR1cm4gdGhpcy50b2dnbGVSZWNvcmRpbmcoZSk7dHJ5e3RoaXMuJGluUmVwbGF5PSEwLHRoaXMubWFjcm8uZm9yRWFjaChmdW5jdGlvbih0KXt0eXBlb2YgdD09XCJzdHJpbmdcIj90aGlzLmV4ZWModCxlKTp0aGlzLmV4ZWModFswXSxlLHRbMV0pfSx0aGlzKX1maW5hbGx5e3RoaXMuJGluUmVwbGF5PSExfX0sdC5wcm90b3R5cGUudHJpbU1hY3JvPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGVbMF0hPVwic3RyaW5nXCImJihlWzBdPWVbMF0ubmFtZSksZVsxXXx8KGU9ZVswXSksZX0pfSx0fShzKTtpLmltcGxlbWVudCh1LnByb3RvdHlwZSxvKSx0LkNvbW1hbmRNYW5hZ2VyPXV9KSxhY2UuZGVmaW5lKFwiYWNlL2NvbW1hbmRzL2RlZmF1bHRfY29tbWFuZHNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2NvbmZpZ1wiLFwiYWNlL3JhbmdlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7cmV0dXJue3dpbjplLG1hYzp0fX12YXIgcj1lKFwiLi4vbGliL2xhbmdcIiksaT1lKFwiLi4vY29uZmlnXCIpLHM9ZShcIi4uL3JhbmdlXCIpLlJhbmdlO3QuY29tbWFuZHM9W3tuYW1lOlwic2hvd1NldHRpbmdzTWVudVwiLGRlc2NyaXB0aW9uOlwiU2hvdyBzZXR0aW5ncyBtZW51XCIsYmluZEtleTpvKFwiQ3RybC0sXCIsXCJDb21tYW5kLSxcIiksZXhlYzpmdW5jdGlvbihlKXtpLmxvYWRNb2R1bGUoXCJhY2UvZXh0L3NldHRpbmdzX21lbnVcIixmdW5jdGlvbih0KXt0LmluaXQoZSksZS5zaG93U2V0dGluZ3NNZW51KCl9KX0scmVhZE9ubHk6ITB9LHtuYW1lOlwiZ29Ub05leHRFcnJvclwiLGRlc2NyaXB0aW9uOlwiR28gdG8gbmV4dCBlcnJvclwiLGJpbmRLZXk6byhcIkFsdC1FXCIsXCJGNFwiKSxleGVjOmZ1bmN0aW9uKGUpe2kubG9hZE1vZHVsZShcImFjZS9leHQvZXJyb3JfbWFya2VyXCIsZnVuY3Rpb24odCl7dC5zaG93RXJyb3JNYXJrZXIoZSwxKX0pfSxzY3JvbGxJbnRvVmlldzpcImFuaW1hdGVcIixyZWFkT25seTohMH0se25hbWU6XCJnb1RvUHJldmlvdXNFcnJvclwiLGRlc2NyaXB0aW9uOlwiR28gdG8gcHJldmlvdXMgZXJyb3JcIixiaW5kS2V5Om8oXCJBbHQtU2hpZnQtRVwiLFwiU2hpZnQtRjRcIiksZXhlYzpmdW5jdGlvbihlKXtpLmxvYWRNb2R1bGUoXCJhY2UvZXh0L2Vycm9yX21hcmtlclwiLGZ1bmN0aW9uKHQpe3Quc2hvd0Vycm9yTWFya2VyKGUsLTEpfSl9LHNjcm9sbEludG9WaWV3OlwiYW5pbWF0ZVwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcInNlbGVjdGFsbFwiLGRlc2NyaXB0aW9uOlwiU2VsZWN0IGFsbFwiLGJpbmRLZXk6byhcIkN0cmwtQVwiLFwiQ29tbWFuZC1BXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RBbGwoKX0scmVhZE9ubHk6ITB9LHtuYW1lOlwiY2VudGVyc2VsZWN0aW9uXCIsZGVzY3JpcHRpb246XCJDZW50ZXIgc2VsZWN0aW9uXCIsYmluZEtleTpvKG51bGwsXCJDdHJsLUxcIiksZXhlYzpmdW5jdGlvbihlKXtlLmNlbnRlclNlbGVjdGlvbigpfSxyZWFkT25seTohMH0se25hbWU6XCJnb3RvbGluZVwiLGRlc2NyaXB0aW9uOlwiR28gdG8gbGluZS4uLlwiLGJpbmRLZXk6byhcIkN0cmwtTFwiLFwiQ29tbWFuZC1MXCIpLGV4ZWM6ZnVuY3Rpb24oZSx0KXt0eXBlb2YgdD09XCJudW1iZXJcIiYmIWlzTmFOKHQpJiZlLmdvdG9MaW5lKHQpLGUucHJvbXB0KHskdHlwZTpcImdvdG9MaW5lXCJ9KX0scmVhZE9ubHk6ITB9LHtuYW1lOlwiZm9sZFwiLGJpbmRLZXk6byhcIkFsdC1MfEN0cmwtRjFcIixcIkNvbW1hbmQtQWx0LUx8Q29tbWFuZC1GMVwiKSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2Vzc2lvbi50b2dnbGVGb2xkKCExKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjZW50ZXJcIixyZWFkT25seTohMH0se25hbWU6XCJ1bmZvbGRcIixiaW5kS2V5Om8oXCJBbHQtU2hpZnQtTHxDdHJsLVNoaWZ0LUYxXCIsXCJDb21tYW5kLUFsdC1TaGlmdC1MfENvbW1hbmQtU2hpZnQtRjFcIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24udG9nZ2xlRm9sZCghMCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY2VudGVyXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwidG9nZ2xlRm9sZFdpZGdldFwiLGRlc2NyaXB0aW9uOlwiVG9nZ2xlIGZvbGQgd2lkZ2V0XCIsYmluZEtleTpvKFwiRjJcIixcIkYyXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZXNzaW9uLnRvZ2dsZUZvbGRXaWRnZXQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjZW50ZXJcIixyZWFkT25seTohMH0se25hbWU6XCJ0b2dnbGVQYXJlbnRGb2xkV2lkZ2V0XCIsZGVzY3JpcHRpb246XCJUb2dnbGUgcGFyZW50IGZvbGQgd2lkZ2V0XCIsYmluZEtleTpvKFwiQWx0LUYyXCIsXCJBbHQtRjJcIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24udG9nZ2xlRm9sZFdpZGdldCghMCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY2VudGVyXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiZm9sZGFsbFwiLGRlc2NyaXB0aW9uOlwiRm9sZCBhbGxcIixiaW5kS2V5Om8obnVsbCxcIkN0cmwtQ29tbWFuZC1PcHRpb24tMFwiKSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2Vzc2lvbi5mb2xkQWxsKCl9LHNjcm9sbEludG9WaWV3OlwiY2VudGVyXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiZm9sZEFsbENvbW1lbnRzXCIsZGVzY3JpcHRpb246XCJGb2xkIGFsbCBjb21tZW50c1wiLGJpbmRLZXk6byhudWxsLFwiQ3RybC1Db21tYW5kLU9wdGlvbi0wXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZXNzaW9uLmZvbGRBbGxDb21tZW50cygpfSxzY3JvbGxJbnRvVmlldzpcImNlbnRlclwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcImZvbGRPdGhlclwiLGRlc2NyaXB0aW9uOlwiRm9sZCBvdGhlclwiLGJpbmRLZXk6byhcIkFsdC0wXCIsXCJDb21tYW5kLU9wdGlvbi0wXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZXNzaW9uLmZvbGRBbGwoKSxlLnNlc3Npb24udW5mb2xkKGUuc2VsZWN0aW9uLmdldEFsbFJhbmdlcygpKX0sc2Nyb2xsSW50b1ZpZXc6XCJjZW50ZXJcIixyZWFkT25seTohMH0se25hbWU6XCJ1bmZvbGRhbGxcIixkZXNjcmlwdGlvbjpcIlVuZm9sZCBhbGxcIixiaW5kS2V5Om8oXCJBbHQtU2hpZnQtMFwiLFwiQ29tbWFuZC1PcHRpb24tU2hpZnQtMFwiKSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2Vzc2lvbi51bmZvbGQoKX0sc2Nyb2xsSW50b1ZpZXc6XCJjZW50ZXJcIixyZWFkT25seTohMH0se25hbWU6XCJmaW5kbmV4dFwiLGRlc2NyaXB0aW9uOlwiRmluZCBuZXh0XCIsYmluZEtleTpvKFwiQ3RybC1LXCIsXCJDb21tYW5kLUdcIiksZXhlYzpmdW5jdGlvbihlKXtlLmZpbmROZXh0KCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY2VudGVyXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiZmluZHByZXZpb3VzXCIsZGVzY3JpcHRpb246XCJGaW5kIHByZXZpb3VzXCIsYmluZEtleTpvKFwiQ3RybC1TaGlmdC1LXCIsXCJDb21tYW5kLVNoaWZ0LUdcIiksZXhlYzpmdW5jdGlvbihlKXtlLmZpbmRQcmV2aW91cygpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImNlbnRlclwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcInNlbGVjdE9yRmluZE5leHRcIixkZXNjcmlwdGlvbjpcIlNlbGVjdCBvciBmaW5kIG5leHRcIixiaW5kS2V5Om8oXCJBbHQtS1wiLFwiQ3RybC1HXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3Rpb24uaXNFbXB0eSgpP2Uuc2VsZWN0aW9uLnNlbGVjdFdvcmQoKTplLmZpbmROZXh0KCl9LHJlYWRPbmx5OiEwfSx7bmFtZTpcInNlbGVjdE9yRmluZFByZXZpb3VzXCIsZGVzY3JpcHRpb246XCJTZWxlY3Qgb3IgZmluZCBwcmV2aW91c1wiLGJpbmRLZXk6byhcIkFsdC1TaGlmdC1LXCIsXCJDdHJsLVNoaWZ0LUdcIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdGlvbi5pc0VtcHR5KCk/ZS5zZWxlY3Rpb24uc2VsZWN0V29yZCgpOmUuZmluZFByZXZpb3VzKCl9LHJlYWRPbmx5OiEwfSx7bmFtZTpcImZpbmRcIixkZXNjcmlwdGlvbjpcIkZpbmRcIixiaW5kS2V5Om8oXCJDdHJsLUZcIixcIkNvbW1hbmQtRlwiKSxleGVjOmZ1bmN0aW9uKGUpe2kubG9hZE1vZHVsZShcImFjZS9leHQvc2VhcmNoYm94XCIsZnVuY3Rpb24odCl7dC5TZWFyY2goZSl9KX0scmVhZE9ubHk6ITB9LHtuYW1lOlwib3ZlcndyaXRlXCIsZGVzY3JpcHRpb246XCJPdmVyd3JpdGVcIixiaW5kS2V5OlwiSW5zZXJ0XCIsZXhlYzpmdW5jdGlvbihlKXtlLnRvZ2dsZU92ZXJ3cml0ZSgpfSxyZWFkT25seTohMH0se25hbWU6XCJzZWxlY3R0b3N0YXJ0XCIsZGVzY3JpcHRpb246XCJTZWxlY3QgdG8gc3RhcnRcIixiaW5kS2V5Om8oXCJDdHJsLVNoaWZ0LUhvbWVcIixcIkNvbW1hbmQtU2hpZnQtSG9tZXxDb21tYW5kLVNoaWZ0LVVwXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RGaWxlU3RhcnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIscmVhZE9ubHk6ITAsc2Nyb2xsSW50b1ZpZXc6XCJhbmltYXRlXCIsYWNlQ29tbWFuZEdyb3VwOlwiZmlsZUp1bXBcIn0se25hbWU6XCJnb3Rvc3RhcnRcIixkZXNjcmlwdGlvbjpcIkdvIHRvIHN0YXJ0XCIsYmluZEtleTpvKFwiQ3RybC1Ib21lXCIsXCJDb21tYW5kLUhvbWV8Q29tbWFuZC1VcFwiKSxleGVjOmZ1bmN0aW9uKGUpe2UubmF2aWdhdGVGaWxlU3RhcnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIscmVhZE9ubHk6ITAsc2Nyb2xsSW50b1ZpZXc6XCJhbmltYXRlXCIsYWNlQ29tbWFuZEdyb3VwOlwiZmlsZUp1bXBcIn0se25hbWU6XCJzZWxlY3R1cFwiLGRlc2NyaXB0aW9uOlwiU2VsZWN0IHVwXCIsYmluZEtleTpvKFwiU2hpZnQtVXBcIixcIlNoaWZ0LVVwfEN0cmwtU2hpZnQtUFwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0VXAoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJnb2xpbmV1cFwiLGRlc2NyaXB0aW9uOlwiR28gbGluZSB1cFwiLGJpbmRLZXk6byhcIlVwXCIsXCJVcHxDdHJsLVBcIiksZXhlYzpmdW5jdGlvbihlLHQpe2UubmF2aWdhdGVVcCh0LnRpbWVzKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJzZWxlY3R0b2VuZFwiLGRlc2NyaXB0aW9uOlwiU2VsZWN0IHRvIGVuZFwiLGJpbmRLZXk6byhcIkN0cmwtU2hpZnQtRW5kXCIsXCJDb21tYW5kLVNoaWZ0LUVuZHxDb21tYW5kLVNoaWZ0LURvd25cIiksZXhlYzpmdW5jdGlvbihlKXtlLmdldFNlbGVjdGlvbigpLnNlbGVjdEZpbGVFbmQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIscmVhZE9ubHk6ITAsc2Nyb2xsSW50b1ZpZXc6XCJhbmltYXRlXCIsYWNlQ29tbWFuZEdyb3VwOlwiZmlsZUp1bXBcIn0se25hbWU6XCJnb3RvZW5kXCIsZGVzY3JpcHRpb246XCJHbyB0byBlbmRcIixiaW5kS2V5Om8oXCJDdHJsLUVuZFwiLFwiQ29tbWFuZC1FbmR8Q29tbWFuZC1Eb3duXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0ZUZpbGVFbmQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIscmVhZE9ubHk6ITAsc2Nyb2xsSW50b1ZpZXc6XCJhbmltYXRlXCIsYWNlQ29tbWFuZEdyb3VwOlwiZmlsZUp1bXBcIn0se25hbWU6XCJzZWxlY3Rkb3duXCIsZGVzY3JpcHRpb246XCJTZWxlY3QgZG93blwiLGJpbmRLZXk6byhcIlNoaWZ0LURvd25cIixcIlNoaWZ0LURvd258Q3RybC1TaGlmdC1OXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3REb3duKCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiZ29saW5lZG93blwiLGRlc2NyaXB0aW9uOlwiR28gbGluZSBkb3duXCIsYmluZEtleTpvKFwiRG93blwiLFwiRG93bnxDdHJsLU5cIiksZXhlYzpmdW5jdGlvbihlLHQpe2UubmF2aWdhdGVEb3duKHQudGltZXMpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcInNlbGVjdHdvcmRsZWZ0XCIsZGVzY3JpcHRpb246XCJTZWxlY3Qgd29yZCBsZWZ0XCIsYmluZEtleTpvKFwiQ3RybC1TaGlmdC1MZWZ0XCIsXCJPcHRpb24tU2hpZnQtTGVmdFwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0V29yZExlZnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJnb3Rvd29yZGxlZnRcIixkZXNjcmlwdGlvbjpcIkdvIHRvIHdvcmQgbGVmdFwiLGJpbmRLZXk6byhcIkN0cmwtTGVmdFwiLFwiT3B0aW9uLUxlZnRcIiksZXhlYzpmdW5jdGlvbihlKXtlLm5hdmlnYXRlV29yZExlZnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJzZWxlY3R0b2xpbmVzdGFydFwiLGRlc2NyaXB0aW9uOlwiU2VsZWN0IHRvIGxpbmUgc3RhcnRcIixiaW5kS2V5Om8oXCJBbHQtU2hpZnQtTGVmdFwiLFwiQ29tbWFuZC1TaGlmdC1MZWZ0fEN0cmwtU2hpZnQtQVwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0TGluZVN0YXJ0KCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiZ290b2xpbmVzdGFydFwiLGRlc2NyaXB0aW9uOlwiR28gdG8gbGluZSBzdGFydFwiLGJpbmRLZXk6byhcIkFsdC1MZWZ0fEhvbWVcIixcIkNvbW1hbmQtTGVmdHxIb21lfEN0cmwtQVwiKSxleGVjOmZ1bmN0aW9uKGUpe2UubmF2aWdhdGVMaW5lU3RhcnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJzZWxlY3RsZWZ0XCIsZGVzY3JpcHRpb246XCJTZWxlY3QgbGVmdFwiLGJpbmRLZXk6byhcIlNoaWZ0LUxlZnRcIixcIlNoaWZ0LUxlZnR8Q3RybC1TaGlmdC1CXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMZWZ0KCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiZ290b2xlZnRcIixkZXNjcmlwdGlvbjpcIkdvIHRvIGxlZnRcIixiaW5kS2V5Om8oXCJMZWZ0XCIsXCJMZWZ0fEN0cmwtQlwiKSxleGVjOmZ1bmN0aW9uKGUsdCl7ZS5uYXZpZ2F0ZUxlZnQodC50aW1lcyl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwic2VsZWN0d29yZHJpZ2h0XCIsZGVzY3JpcHRpb246XCJTZWxlY3Qgd29yZCByaWdodFwiLGJpbmRLZXk6byhcIkN0cmwtU2hpZnQtUmlnaHRcIixcIk9wdGlvbi1TaGlmdC1SaWdodFwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0V29yZFJpZ2h0KCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiZ290b3dvcmRyaWdodFwiLGRlc2NyaXB0aW9uOlwiR28gdG8gd29yZCByaWdodFwiLGJpbmRLZXk6byhcIkN0cmwtUmlnaHRcIixcIk9wdGlvbi1SaWdodFwiKSxleGVjOmZ1bmN0aW9uKGUpe2UubmF2aWdhdGVXb3JkUmlnaHQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJzZWxlY3R0b2xpbmVlbmRcIixkZXNjcmlwdGlvbjpcIlNlbGVjdCB0byBsaW5lIGVuZFwiLGJpbmRLZXk6byhcIkFsdC1TaGlmdC1SaWdodFwiLFwiQ29tbWFuZC1TaGlmdC1SaWdodHxTaGlmdC1FbmR8Q3RybC1TaGlmdC1FXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lRW5kKCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiZ290b2xpbmVlbmRcIixkZXNjcmlwdGlvbjpcIkdvIHRvIGxpbmUgZW5kXCIsYmluZEtleTpvKFwiQWx0LVJpZ2h0fEVuZFwiLFwiQ29tbWFuZC1SaWdodHxFbmR8Q3RybC1FXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0ZUxpbmVFbmQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJzZWxlY3RyaWdodFwiLGRlc2NyaXB0aW9uOlwiU2VsZWN0IHJpZ2h0XCIsYmluZEtleTpvKFwiU2hpZnQtUmlnaHRcIixcIlNoaWZ0LVJpZ2h0XCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSaWdodCgpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcImdvdG9yaWdodFwiLGRlc2NyaXB0aW9uOlwiR28gdG8gcmlnaHRcIixiaW5kS2V5Om8oXCJSaWdodFwiLFwiUmlnaHR8Q3RybC1GXCIpLGV4ZWM6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRlUmlnaHQodC50aW1lcyl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwic2VsZWN0cGFnZWRvd25cIixkZXNjcmlwdGlvbjpcIlNlbGVjdCBwYWdlIGRvd25cIixiaW5kS2V5OlwiU2hpZnQtUGFnZURvd25cIixleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0UGFnZURvd24oKX0scmVhZE9ubHk6ITB9LHtuYW1lOlwicGFnZWRvd25cIixkZXNjcmlwdGlvbjpcIlBhZ2UgZG93blwiLGJpbmRLZXk6byhudWxsLFwiT3B0aW9uLVBhZ2VEb3duXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zY3JvbGxQYWdlRG93bigpfSxyZWFkT25seTohMH0se25hbWU6XCJnb3RvcGFnZWRvd25cIixkZXNjcmlwdGlvbjpcIkdvIHRvIHBhZ2UgZG93blwiLGJpbmRLZXk6byhcIlBhZ2VEb3duXCIsXCJQYWdlRG93bnxDdHJsLVZcIiksZXhlYzpmdW5jdGlvbihlKXtlLmdvdG9QYWdlRG93bigpfSxyZWFkT25seTohMH0se25hbWU6XCJzZWxlY3RwYWdldXBcIixkZXNjcmlwdGlvbjpcIlNlbGVjdCBwYWdlIHVwXCIsYmluZEtleTpcIlNoaWZ0LVBhZ2VVcFwiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RQYWdlVXAoKX0scmVhZE9ubHk6ITB9LHtuYW1lOlwicGFnZXVwXCIsZGVzY3JpcHRpb246XCJQYWdlIHVwXCIsYmluZEtleTpvKG51bGwsXCJPcHRpb24tUGFnZVVwXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zY3JvbGxQYWdlVXAoKX0scmVhZE9ubHk6ITB9LHtuYW1lOlwiZ290b3BhZ2V1cFwiLGRlc2NyaXB0aW9uOlwiR28gdG8gcGFnZSB1cFwiLGJpbmRLZXk6XCJQYWdlVXBcIixleGVjOmZ1bmN0aW9uKGUpe2UuZ290b1BhZ2VVcCgpfSxyZWFkT25seTohMH0se25hbWU6XCJzY3JvbGx1cFwiLGRlc2NyaXB0aW9uOlwiU2Nyb2xsIHVwXCIsYmluZEtleTpvKFwiQ3RybC1VcFwiLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5zY3JvbGxCeSgwLC0yKmUucmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodCl9LHJlYWRPbmx5OiEwfSx7bmFtZTpcInNjcm9sbGRvd25cIixkZXNjcmlwdGlvbjpcIlNjcm9sbCBkb3duXCIsYmluZEtleTpvKFwiQ3RybC1Eb3duXCIsbnVsbCksZXhlYzpmdW5jdGlvbihlKXtlLnJlbmRlcmVyLnNjcm9sbEJ5KDAsMiplLnJlbmRlcmVyLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQpfSxyZWFkT25seTohMH0se25hbWU6XCJzZWxlY3RsaW5lc3RhcnRcIixkZXNjcmlwdGlvbjpcIlNlbGVjdCBsaW5lIHN0YXJ0XCIsYmluZEtleTpcIlNoaWZ0LUhvbWVcIixleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0TGluZVN0YXJ0KCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwic2VsZWN0bGluZWVuZFwiLGRlc2NyaXB0aW9uOlwiU2VsZWN0IGxpbmUgZW5kXCIsYmluZEtleTpcIlNoaWZ0LUVuZFwiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lRW5kKCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwidG9nZ2xlcmVjb3JkaW5nXCIsZGVzY3JpcHRpb246XCJUb2dnbGUgcmVjb3JkaW5nXCIsYmluZEtleTpvKFwiQ3RybC1BbHQtRVwiLFwiQ29tbWFuZC1PcHRpb24tRVwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuY29tbWFuZHMudG9nZ2xlUmVjb3JkaW5nKGUpfSxyZWFkT25seTohMH0se25hbWU6XCJyZXBsYXltYWNyb1wiLGRlc2NyaXB0aW9uOlwiUmVwbGF5IG1hY3JvXCIsYmluZEtleTpvKFwiQ3RybC1TaGlmdC1FXCIsXCJDb21tYW5kLVNoaWZ0LUVcIiksZXhlYzpmdW5jdGlvbihlKXtlLmNvbW1hbmRzLnJlcGxheShlKX0scmVhZE9ubHk6ITB9LHtuYW1lOlwianVtcHRvbWF0Y2hpbmdcIixkZXNjcmlwdGlvbjpcIkp1bXAgdG8gbWF0Y2hpbmdcIixiaW5kS2V5Om8oXCJDdHJsLVxcXFx8Q3RybC1QXCIsXCJDb21tYW5kLVxcXFxcIiksZXhlYzpmdW5jdGlvbihlKXtlLmp1bXBUb01hdGNoaW5nKCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiYW5pbWF0ZVwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcInNlbGVjdHRvbWF0Y2hpbmdcIixkZXNjcmlwdGlvbjpcIlNlbGVjdCB0byBtYXRjaGluZ1wiLGJpbmRLZXk6byhcIkN0cmwtU2hpZnQtXFxcXHxDdHJsLVNoaWZ0LVBcIixcIkNvbW1hbmQtU2hpZnQtXFxcXFwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuanVtcFRvTWF0Y2hpbmcoITApfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImFuaW1hdGVcIixyZWFkT25seTohMH0se25hbWU6XCJleHBhbmRUb01hdGNoaW5nXCIsZGVzY3JpcHRpb246XCJFeHBhbmQgdG8gbWF0Y2hpbmdcIixiaW5kS2V5Om8oXCJDdHJsLVNoaWZ0LU1cIixcIkN0cmwtU2hpZnQtTVwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuanVtcFRvTWF0Y2hpbmcoITAsITApfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImFuaW1hdGVcIixyZWFkT25seTohMH0se25hbWU6XCJwYXNzS2V5c1RvQnJvd3NlclwiLGRlc2NyaXB0aW9uOlwiUGFzcyBrZXlzIHRvIGJyb3dzZXJcIixiaW5kS2V5Om8obnVsbCxudWxsKSxleGVjOmZ1bmN0aW9uKCl7fSxwYXNzRXZlbnQ6ITAscmVhZE9ubHk6ITB9LHtuYW1lOlwiY29weVwiLGRlc2NyaXB0aW9uOlwiQ29weVwiLGV4ZWM6ZnVuY3Rpb24oZSl7fSxyZWFkT25seTohMH0se25hbWU6XCJjdXRcIixkZXNjcmlwdGlvbjpcIkN1dFwiLGV4ZWM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS4kY29weVdpdGhFbXB0eVNlbGVjdGlvbiYmZS5zZWxlY3Rpb24uaXNFbXB0eSgpLG49dD9lLnNlbGVjdGlvbi5nZXRMaW5lUmFuZ2UoKTplLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2UuX2VtaXQoXCJjdXRcIixuKSxuLmlzRW1wdHkoKXx8ZS5zZXNzaW9uLnJlbW92ZShuKSxlLmNsZWFyU2VsZWN0aW9uKCl9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIsbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCJ9LHtuYW1lOlwicGFzdGVcIixkZXNjcmlwdGlvbjpcIlBhc3RlXCIsZXhlYzpmdW5jdGlvbihlLHQpe2UuJGhhbmRsZVBhc3RlKHQpfSxzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcInJlbW92ZWxpbmVcIixkZXNjcmlwdGlvbjpcIlJlbW92ZSBsaW5lXCIsYmluZEtleTpvKFwiQ3RybC1EXCIsXCJDb21tYW5kLURcIiksZXhlYzpmdW5jdGlvbihlKXtlLnJlbW92ZUxpbmVzKCl9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIsbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoTGluZVwifSx7bmFtZTpcImR1cGxpY2F0ZVNlbGVjdGlvblwiLGRlc2NyaXB0aW9uOlwiRHVwbGljYXRlIHNlbGVjdGlvblwiLGJpbmRLZXk6byhcIkN0cmwtU2hpZnQtRFwiLFwiQ29tbWFuZC1TaGlmdC1EXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5kdXBsaWNhdGVTZWxlY3Rpb24oKX0sc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIn0se25hbWU6XCJzb3J0bGluZXNcIixkZXNjcmlwdGlvbjpcIlNvcnQgbGluZXNcIixiaW5kS2V5Om8oXCJDdHJsLUFsdC1TXCIsXCJDb21tYW5kLUFsdC1TXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zb3J0TGluZXMoKX0sc2Nyb2xsSW50b1ZpZXc6XCJzZWxlY3Rpb25cIixtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hMaW5lXCJ9LHtuYW1lOlwidG9nZ2xlY29tbWVudFwiLGRlc2NyaXB0aW9uOlwiVG9nZ2xlIGNvbW1lbnRcIixiaW5kS2V5Om8oXCJDdHJsLS9cIixcIkNvbW1hbmQtL1wiKSxleGVjOmZ1bmN0aW9uKGUpe2UudG9nZ2xlQ29tbWVudExpbmVzKCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaExpbmVcIixzY3JvbGxJbnRvVmlldzpcInNlbGVjdGlvblBhcnRcIn0se25hbWU6XCJ0b2dnbGVCbG9ja0NvbW1lbnRcIixkZXNjcmlwdGlvbjpcIlRvZ2dsZSBibG9jayBjb21tZW50XCIsYmluZEtleTpvKFwiQ3RybC1TaGlmdC0vXCIsXCJDb21tYW5kLVNoaWZ0LS9cIiksZXhlYzpmdW5jdGlvbihlKXtlLnRvZ2dsZUJsb2NrQ29tbWVudCgpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcInNlbGVjdGlvblBhcnRcIn0se25hbWU6XCJtb2RpZnlOdW1iZXJVcFwiLGRlc2NyaXB0aW9uOlwiTW9kaWZ5IG51bWJlciB1cFwiLGJpbmRLZXk6byhcIkN0cmwtU2hpZnQtVXBcIixcIkFsdC1TaGlmdC1VcFwiKSxleGVjOmZ1bmN0aW9uKGUpe2UubW9kaWZ5TnVtYmVyKDEpfSxzY3JvbGxJbnRvVmlldzpcImN1cnNvclwiLG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwifSx7bmFtZTpcIm1vZGlmeU51bWJlckRvd25cIixkZXNjcmlwdGlvbjpcIk1vZGlmeSBudW1iZXIgZG93blwiLGJpbmRLZXk6byhcIkN0cmwtU2hpZnQtRG93blwiLFwiQWx0LVNoaWZ0LURvd25cIiksZXhlYzpmdW5jdGlvbihlKXtlLm1vZGlmeU51bWJlcigtMSl9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIsbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCJ9LHtuYW1lOlwicmVwbGFjZVwiLGRlc2NyaXB0aW9uOlwiUmVwbGFjZVwiLGJpbmRLZXk6byhcIkN0cmwtSFwiLFwiQ29tbWFuZC1PcHRpb24tRlwiKSxleGVjOmZ1bmN0aW9uKGUpe2kubG9hZE1vZHVsZShcImFjZS9leHQvc2VhcmNoYm94XCIsZnVuY3Rpb24odCl7dC5TZWFyY2goZSwhMCl9KX19LHtuYW1lOlwidW5kb1wiLGRlc2NyaXB0aW9uOlwiVW5kb1wiLGJpbmRLZXk6byhcIkN0cmwtWlwiLFwiQ29tbWFuZC1aXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS51bmRvKCl9fSx7bmFtZTpcInJlZG9cIixkZXNjcmlwdGlvbjpcIlJlZG9cIixiaW5kS2V5Om8oXCJDdHJsLVNoaWZ0LVp8Q3RybC1ZXCIsXCJDb21tYW5kLVNoaWZ0LVp8Q29tbWFuZC1ZXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZWRvKCl9fSx7bmFtZTpcImNvcHlsaW5lc3VwXCIsZGVzY3JpcHRpb246XCJDb3B5IGxpbmVzIHVwXCIsYmluZEtleTpvKFwiQWx0LVNoaWZ0LVVwXCIsXCJDb21tYW5kLU9wdGlvbi1VcFwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuY29weUxpbmVzVXAoKX0sc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIn0se25hbWU6XCJtb3ZlbGluZXN1cFwiLGRlc2NyaXB0aW9uOlwiTW92ZSBsaW5lcyB1cFwiLGJpbmRLZXk6byhcIkFsdC1VcFwiLFwiT3B0aW9uLVVwXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5tb3ZlTGluZXNVcCgpfSxzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcImNvcHlsaW5lc2Rvd25cIixkZXNjcmlwdGlvbjpcIkNvcHkgbGluZXMgZG93blwiLGJpbmRLZXk6byhcIkFsdC1TaGlmdC1Eb3duXCIsXCJDb21tYW5kLU9wdGlvbi1Eb3duXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5jb3B5TGluZXNEb3duKCl9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCJ9LHtuYW1lOlwibW92ZWxpbmVzZG93blwiLGRlc2NyaXB0aW9uOlwiTW92ZSBsaW5lcyBkb3duXCIsYmluZEtleTpvKFwiQWx0LURvd25cIixcIk9wdGlvbi1Eb3duXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5tb3ZlTGluZXNEb3duKCl9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCJ9LHtuYW1lOlwiZGVsXCIsZGVzY3JpcHRpb246XCJEZWxldGVcIixiaW5kS2V5Om8oXCJEZWxldGVcIixcIkRlbGV0ZXxDdHJsLUR8U2hpZnQtRGVsZXRlXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmUoXCJyaWdodFwiKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIn0se25hbWU6XCJiYWNrc3BhY2VcIixkZXNjcmlwdGlvbjpcIkJhY2tzcGFjZVwiLGJpbmRLZXk6byhcIlNoaWZ0LUJhY2tzcGFjZXxCYWNrc3BhY2VcIixcIkN0cmwtQmFja3NwYWNlfFNoaWZ0LUJhY2tzcGFjZXxCYWNrc3BhY2V8Q3RybC1IXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmUoXCJsZWZ0XCIpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcImN1dF9vcl9kZWxldGVcIixkZXNjcmlwdGlvbjpcIkN1dCBvciBkZWxldGVcIixiaW5kS2V5Om8oXCJTaGlmdC1EZWxldGVcIixudWxsKSxleGVjOmZ1bmN0aW9uKGUpe2lmKCFlLnNlbGVjdGlvbi5pc0VtcHR5KCkpcmV0dXJuITE7ZS5yZW1vdmUoXCJsZWZ0XCIpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcInJlbW92ZXRvbGluZXN0YXJ0XCIsZGVzY3JpcHRpb246XCJSZW1vdmUgdG8gbGluZSBzdGFydFwiLGJpbmRLZXk6byhcIkFsdC1CYWNrc3BhY2VcIixcIkNvbW1hbmQtQmFja3NwYWNlXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVUb0xpbmVTdGFydCgpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcInJlbW92ZXRvbGluZWVuZFwiLGRlc2NyaXB0aW9uOlwiUmVtb3ZlIHRvIGxpbmUgZW5kXCIsYmluZEtleTpvKFwiQWx0LURlbGV0ZVwiLFwiQ3RybC1LfENvbW1hbmQtRGVsZXRlXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVUb0xpbmVFbmQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIn0se25hbWU6XCJyZW1vdmV0b2xpbmVzdGFydGhhcmRcIixkZXNjcmlwdGlvbjpcIlJlbW92ZSB0byBsaW5lIHN0YXJ0IGhhcmRcIixiaW5kS2V5Om8oXCJDdHJsLVNoaWZ0LUJhY2tzcGFjZVwiLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTt0LnN0YXJ0LmNvbHVtbj0wLGUuc2Vzc2lvbi5yZW1vdmUodCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCJ9LHtuYW1lOlwicmVtb3ZldG9saW5lZW5kaGFyZFwiLGRlc2NyaXB0aW9uOlwiUmVtb3ZlIHRvIGxpbmUgZW5kIGhhcmRcIixiaW5kS2V5Om8oXCJDdHJsLVNoaWZ0LURlbGV0ZVwiLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTt0LmVuZC5jb2x1bW49TnVtYmVyLk1BWF9WQUxVRSxlLnNlc3Npb24ucmVtb3ZlKHQpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcInJlbW92ZXdvcmRsZWZ0XCIsZGVzY3JpcHRpb246XCJSZW1vdmUgd29yZCBsZWZ0XCIsYmluZEtleTpvKFwiQ3RybC1CYWNrc3BhY2VcIixcIkFsdC1CYWNrc3BhY2V8Q3RybC1BbHQtQmFja3NwYWNlXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVXb3JkTGVmdCgpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcInJlbW92ZXdvcmRyaWdodFwiLGRlc2NyaXB0aW9uOlwiUmVtb3ZlIHdvcmQgcmlnaHRcIixiaW5kS2V5Om8oXCJDdHJsLURlbGV0ZVwiLFwiQWx0LURlbGV0ZVwiKSxleGVjOmZ1bmN0aW9uKGUpe2UucmVtb3ZlV29yZFJpZ2h0KCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCJ9LHtuYW1lOlwib3V0ZGVudFwiLGRlc2NyaXB0aW9uOlwiT3V0ZGVudFwiLGJpbmRLZXk6byhcIlNoaWZ0LVRhYlwiLFwiU2hpZnQtVGFiXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5ibG9ja091dGRlbnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJzZWxlY3Rpb25QYXJ0XCJ9LHtuYW1lOlwiaW5kZW50XCIsZGVzY3JpcHRpb246XCJJbmRlbnRcIixiaW5kS2V5Om8oXCJUYWJcIixcIlRhYlwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuaW5kZW50KCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3Olwic2VsZWN0aW9uUGFydFwifSx7bmFtZTpcImJsb2Nrb3V0ZGVudFwiLGRlc2NyaXB0aW9uOlwiQmxvY2sgb3V0ZGVudFwiLGJpbmRLZXk6byhcIkN0cmwtW1wiLFwiQ3RybC1bXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5ibG9ja091dGRlbnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoTGluZVwiLHNjcm9sbEludG9WaWV3Olwic2VsZWN0aW9uUGFydFwifSx7bmFtZTpcImJsb2NraW5kZW50XCIsZGVzY3JpcHRpb246XCJCbG9jayBpbmRlbnRcIixiaW5kS2V5Om8oXCJDdHJsLV1cIixcIkN0cmwtXVwiKSxleGVjOmZ1bmN0aW9uKGUpe2UuYmxvY2tJbmRlbnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoTGluZVwiLHNjcm9sbEludG9WaWV3Olwic2VsZWN0aW9uUGFydFwifSx7bmFtZTpcImluc2VydHN0cmluZ1wiLGRlc2NyaXB0aW9uOlwiSW5zZXJ0IHN0cmluZ1wiLGV4ZWM6ZnVuY3Rpb24oZSx0KXtlLmluc2VydCh0KX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIn0se25hbWU6XCJpbnNlcnR0ZXh0XCIsZGVzY3JpcHRpb246XCJJbnNlcnQgdGV4dFwiLGV4ZWM6ZnVuY3Rpb24oZSx0KXtlLmluc2VydChyLnN0cmluZ1JlcGVhdCh0LnRleHR8fFwiXCIsdC50aW1lc3x8MSkpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcInNwbGl0bGluZVwiLGRlc2NyaXB0aW9uOlwiU3BsaXQgbGluZVwiLGJpbmRLZXk6byhudWxsLFwiQ3RybC1PXCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zcGxpdExpbmUoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIn0se25hbWU6XCJ0cmFuc3Bvc2VsZXR0ZXJzXCIsZGVzY3JpcHRpb246XCJUcmFuc3Bvc2UgbGV0dGVyc1wiLGJpbmRLZXk6byhcIkFsdC1TaGlmdC1YXCIsXCJDdHJsLVRcIiksZXhlYzpmdW5jdGlvbihlKXtlLnRyYW5zcG9zZUxldHRlcnMoKX0sbXVsdGlTZWxlY3RBY3Rpb246ZnVuY3Rpb24oZSl7ZS50cmFuc3Bvc2VTZWxlY3Rpb25zKDEpfSxzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcInRvdXBwZXJjYXNlXCIsZGVzY3JpcHRpb246XCJUbyB1cHBlcmNhc2VcIixiaW5kS2V5Om8oXCJDdHJsLVVcIixcIkN0cmwtVVwiKSxleGVjOmZ1bmN0aW9uKGUpe2UudG9VcHBlckNhc2UoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIn0se25hbWU6XCJ0b2xvd2VyY2FzZVwiLGRlc2NyaXB0aW9uOlwiVG8gbG93ZXJjYXNlXCIsYmluZEtleTpvKFwiQ3RybC1TaGlmdC1VXCIsXCJDdHJsLVNoaWZ0LVVcIiksZXhlYzpmdW5jdGlvbihlKXtlLnRvTG93ZXJDYXNlKCl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCJ9LHtuYW1lOlwiYXV0b2luZGVudFwiLGRlc2NyaXB0aW9uOlwiQXV0byBJbmRlbnRcIixiaW5kS2V5Om8obnVsbCxudWxsKSxleGVjOmZ1bmN0aW9uKGUpe2UuYXV0b0luZGVudCgpfSxzY3JvbGxJbnRvVmlldzpcImFuaW1hdGVcIn0se25hbWU6XCJleHBhbmR0b2xpbmVcIixkZXNjcmlwdGlvbjpcIkV4cGFuZCB0byBsaW5lXCIsYmluZEtleTpvKFwiQ3RybC1TaGlmdC1MXCIsXCJDb21tYW5kLVNoaWZ0LUxcIiksZXhlYzpmdW5jdGlvbihlKXt2YXIgdD1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO3Quc3RhcnQuY29sdW1uPXQuZW5kLmNvbHVtbj0wLHQuZW5kLnJvdysrLGUuc2VsZWN0aW9uLnNldFJhbmdlKHQsITEpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcIm9wZW5saW5rXCIsYmluZEtleTpvKFwiQ3RybCtGM1wiLFwiRjNcIiksZXhlYzpmdW5jdGlvbihlKXtlLm9wZW5MaW5rKCl9fSx7bmFtZTpcImpvaW5saW5lc1wiLGRlc2NyaXB0aW9uOlwiSm9pbiBsaW5lc1wiLGJpbmRLZXk6byhudWxsLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWxlY3Rpb24uaXNCYWNrd2FyZHMoKSxuPXQ/ZS5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uTGVhZCgpOmUuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkFuY2hvcigpLGk9dD9lLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25BbmNob3IoKTplLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25MZWFkKCksbz1lLnNlc3Npb24uZG9jLmdldExpbmUobi5yb3cpLmxlbmd0aCx1PWUuc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKGUuc2VsZWN0aW9uLmdldFJhbmdlKCkpLGE9dS5yZXBsYWNlKC9cXG5cXHMqLyxcIiBcIikubGVuZ3RoLGY9ZS5zZXNzaW9uLmRvYy5nZXRMaW5lKG4ucm93KTtmb3IodmFyIGw9bi5yb3crMTtsPD1pLnJvdysxO2wrKyl7dmFyIGM9ci5zdHJpbmdUcmltTGVmdChyLnN0cmluZ1RyaW1SaWdodChlLnNlc3Npb24uZG9jLmdldExpbmUobCkpKTtjLmxlbmd0aCE9PTAmJihjPVwiIFwiK2MpLGYrPWN9aS5yb3crMTxlLnNlc3Npb24uZG9jLmdldExlbmd0aCgpLTEmJihmKz1lLnNlc3Npb24uZG9jLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSksZS5jbGVhclNlbGVjdGlvbigpLGUuc2Vzc2lvbi5kb2MucmVwbGFjZShuZXcgcyhuLnJvdywwLGkucm93KzIsMCksZiksYT4wPyhlLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yVG8obi5yb3csbi5jb2x1bW4pLGUuc2VsZWN0aW9uLnNlbGVjdFRvKG4ucm93LG4uY29sdW1uK2EpKToobz1lLnNlc3Npb24uZG9jLmdldExpbmUobi5yb3cpLmxlbmd0aD5vP28rMTpvLGUuc2VsZWN0aW9uLm1vdmVDdXJzb3JUbyhuLnJvdyxvKSl9LG11bHRpU2VsZWN0QWN0aW9uOlwiZm9yRWFjaFwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcImludmVydFNlbGVjdGlvblwiLGRlc2NyaXB0aW9uOlwiSW52ZXJ0IHNlbGVjdGlvblwiLGJpbmRLZXk6byhudWxsLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXNzaW9uLmRvYy5nZXRMZW5ndGgoKS0xLG49ZS5zZXNzaW9uLmRvYy5nZXRMaW5lKHQpLmxlbmd0aCxyPWUuc2VsZWN0aW9uLnJhbmdlTGlzdC5yYW5nZXMsaT1bXTtyLmxlbmd0aDwxJiYocj1bZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKV0pO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKW89PXIubGVuZ3RoLTEmJihyW29dLmVuZC5yb3chPT10fHxyW29dLmVuZC5jb2x1bW4hPT1uKSYmaS5wdXNoKG5ldyBzKHJbb10uZW5kLnJvdyxyW29dLmVuZC5jb2x1bW4sdCxuKSksbz09PTA/KHJbb10uc3RhcnQucm93IT09MHx8cltvXS5zdGFydC5jb2x1bW4hPT0wKSYmaS5wdXNoKG5ldyBzKDAsMCxyW29dLnN0YXJ0LnJvdyxyW29dLnN0YXJ0LmNvbHVtbikpOmkucHVzaChuZXcgcyhyW28tMV0uZW5kLnJvdyxyW28tMV0uZW5kLmNvbHVtbixyW29dLnN0YXJ0LnJvdyxyW29dLnN0YXJ0LmNvbHVtbikpO2UuZXhpdE11bHRpU2VsZWN0TW9kZSgpLGUuY2xlYXJTZWxlY3Rpb24oKTtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyllLnNlbGVjdGlvbi5hZGRSYW5nZShpW29dLCExKX0scmVhZE9ubHk6ITAsc2Nyb2xsSW50b1ZpZXc6XCJub25lXCJ9LHtuYW1lOlwiYWRkTGluZUFmdGVyXCIsZGVzY3JpcHRpb246XCJBZGQgbmV3IGxpbmUgYWZ0ZXIgdGhlIGN1cnJlbnQgbGluZVwiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKSxlLm5hdmlnYXRlTGluZUVuZCgpLGUuaW5zZXJ0KFwiXFxuXCIpfSxtdWx0aVNlbGVjdEFjdGlvbjpcImZvckVhY2hcIixzY3JvbGxJbnRvVmlldzpcImN1cnNvclwifSx7bmFtZTpcImFkZExpbmVCZWZvcmVcIixkZXNjcmlwdGlvbjpcIkFkZCBuZXcgbGluZSBiZWZvcmUgdGhlIGN1cnJlbnQgbGluZVwiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTt2YXIgdD1lLmdldEN1cnNvclBvc2l0aW9uKCk7ZS5zZWxlY3Rpb24ubW92ZVRvKHQucm93LTEsTnVtYmVyLk1BWF9WQUxVRSksZS5pbnNlcnQoXCJcXG5cIiksdC5yb3c9PT0wJiZlLm5hdmlnYXRlVXAoKX0sbXVsdGlTZWxlY3RBY3Rpb246XCJmb3JFYWNoXCIsc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIn0se25hbWU6XCJvcGVuQ29tbWFuZFBhbGxldGVcIixleGVjOmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRoaXMgaXMgYW4gb2Jzb2xldGUgY29tbWFuZC4gUGxlYXNlIHVzZSBgb3BlbkNvbW1hbmRQYWxldHRlYCBpbnN0ZWFkLlwiKSxlLnByb21wdCh7JHR5cGU6XCJjb21tYW5kc1wifSl9LHJlYWRPbmx5OiEwfSx7bmFtZTpcIm9wZW5Db21tYW5kUGFsZXR0ZVwiLGRlc2NyaXB0aW9uOlwiT3BlbiBjb21tYW5kIHBhbGV0dGVcIixiaW5kS2V5Om8oXCJGMVwiLFwiRjFcIiksZXhlYzpmdW5jdGlvbihlKXtlLnByb21wdCh7JHR5cGU6XCJjb21tYW5kc1wifSl9LHJlYWRPbmx5OiEwfSx7bmFtZTpcIm1vZGVTZWxlY3RcIixkZXNjcmlwdGlvbjpcIkNoYW5nZSBsYW5ndWFnZSBtb2RlLi4uXCIsYmluZEtleTpvKG51bGwsbnVsbCksZXhlYzpmdW5jdGlvbihlKXtlLnByb21wdCh7JHR5cGU6XCJtb2Rlc1wifSl9LHJlYWRPbmx5OiEwfV07Zm9yKHZhciB1PTE7dTw5O3UrKyl0LmNvbW1hbmRzLnB1c2goe25hbWU6XCJmb2xkVG9MZXZlbFwiK3UsZGVzY3JpcHRpb246XCJGb2xkIFRvIExldmVsIFwiK3UsbGV2ZWw6dSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2Vzc2lvbi5mb2xkVG9MZXZlbCh0aGlzLmxldmVsKX0sc2Nyb2xsSW50b1ZpZXc6XCJjZW50ZXJcIixyZWFkT25seTohMH0pfSksYWNlLmRlZmluZShcImFjZS9rZXlib2FyZC9ndXR0ZXJfaGFuZGxlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9rZXlzXCIsXCJhY2UvbW91c2UvZGVmYXVsdF9ndXR0ZXJfaGFuZGxlclwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uL2xpYi9rZXlzXCIpLGk9ZShcIi4uL21vdXNlL2RlZmF1bHRfZ3V0dGVyX2hhbmRsZXJcIikuR3V0dGVyVG9vbHRpcCxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmVkaXRvcj1lLHRoaXMuZ3V0dGVyTGF5ZXI9ZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIsdGhpcy5lbGVtZW50PWUucmVuZGVyZXIuJGd1dHRlcix0aGlzLmxpbmVzPWUucmVuZGVyZXIuJGd1dHRlckxheWVyLiRsaW5lcyx0aGlzLmFjdGl2ZVJvd0luZGV4PW51bGwsdGhpcy5hY3RpdmVMYW5lPW51bGwsdGhpcy5hbm5vdGF0aW9uVG9vbHRpcD1uZXcgaSh0aGlzLmVkaXRvcil9cmV0dXJuIGUucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy4kb25HdXR0ZXJLZXlEb3duLmJpbmQodGhpcykpLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIix0aGlzLiRibHVyR3V0dGVyLmJpbmQodGhpcykpLHRoaXMuZWRpdG9yLm9uKFwibW91c2V3aGVlbFwiLHRoaXMuJGJsdXJHdXR0ZXIuYmluZCh0aGlzKSl9LGUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy4kb25HdXR0ZXJLZXlEb3duLmJpbmQodGhpcykpLHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIix0aGlzLiRibHVyR3V0dGVyLmJpbmQodGhpcykpLHRoaXMuZWRpdG9yLm9mZihcIm1vdXNld2hlZWxcIix0aGlzLiRibHVyR3V0dGVyLmJpbmQodGhpcykpfSxlLnByb3RvdHlwZS4kb25HdXR0ZXJLZXlEb3duPWZ1bmN0aW9uKGUpe2lmKHRoaXMuYW5ub3RhdGlvblRvb2x0aXAuaXNPcGVuKXtlLnByZXZlbnREZWZhdWx0KCksZS5rZXlDb2RlPT09ci5lc2NhcGUmJnRoaXMuYW5ub3RhdGlvblRvb2x0aXAuaGlkZVRvb2x0aXAoKTtyZXR1cm59aWYoZS50YXJnZXQ9PT10aGlzLmVsZW1lbnQpe2lmKGUua2V5Q29kZSE9cltcImVudGVyXCJdKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9dGhpcy5lZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKS5yb3c7dGhpcy5lZGl0b3IuaXNSb3dWaXNpYmxlKHQpfHx0aGlzLmVkaXRvci5zY3JvbGxUb0xpbmUodCwhMCwhMCksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPXRoaXMuJHJvd1RvUm93SW5kZXgodGhpcy5ndXR0ZXJMYXllci4kY3Vyc29yQ2VsbC5yb3cpLHQ9dGhpcy4kZmluZE5lYXJlc3RGb2xkTGFuZVdpZGdldChlKSxuPXRoaXMuJGZpbmROZWFyZXN0QW5ub3RhdGlvbihlKTtpZih0PT09bnVsbCYmbj09PW51bGwpcmV0dXJuO3ZhciByPXRoaXMuJGZpbmRDbG9zZXN0TnVtYmVyKHQsbixlKTtpZihyPT09dCl7dGhpcy5hY3RpdmVMYW5lPVwiZm9sZFwiLHRoaXMuYWN0aXZlUm93SW5kZXg9dDtpZih0aGlzLiRpc0N1c3RvbVdpZGdldFZpc2libGUodCkpe3RoaXMuJGZvY3VzQ3VzdG9tV2lkZ2V0KHRoaXMuYWN0aXZlUm93SW5kZXgpO3JldHVybn10aGlzLiRmb2N1c0ZvbGRXaWRnZXQodGhpcy5hY3RpdmVSb3dJbmRleCk7cmV0dXJufXRoaXMuYWN0aXZlUm93SW5kZXg9bix0aGlzLmFjdGl2ZUxhbmU9XCJhbm5vdGF0aW9uXCIsdGhpcy4kZm9jdXNBbm5vdGF0aW9uKHRoaXMuYWN0aXZlUm93SW5kZXgpO3JldHVybn0uYmluZCh0aGlzKSwxMCk7cmV0dXJufXRoaXMuJGhhbmRsZUd1dHRlcktleWJvYXJkSW50ZXJhY3Rpb24oZSksc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZWRpdG9yLl9zaWduYWwoXCJndXR0ZXJrZXlkb3duXCIsbmV3IG8oZSx0aGlzKSl9LmJpbmQodGhpcyksMTApfSxlLnByb3RvdHlwZS4kaGFuZGxlR3V0dGVyS2V5Ym9hcmRJbnRlcmFjdGlvbj1mdW5jdGlvbihlKXtpZihlLmtleUNvZGU9PT1yLnRhYil7ZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybn1pZihlLmtleUNvZGU9PT1yLmVzY2FwZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuJGJsdXJHdXR0ZXIoKSx0aGlzLmVsZW1lbnQuZm9jdXMoKSx0aGlzLmxhbmU9bnVsbDtyZXR1cm59aWYoZS5rZXlDb2RlPT09ci51cCl7ZS5wcmV2ZW50RGVmYXVsdCgpO3N3aXRjaCh0aGlzLmFjdGl2ZUxhbmUpe2Nhc2VcImZvbGRcIjp0aGlzLiRtb3ZlRm9sZFdpZGdldFVwKCk7YnJlYWs7Y2FzZVwiYW5ub3RhdGlvblwiOnRoaXMuJG1vdmVBbm5vdGF0aW9uVXAoKX1yZXR1cm59aWYoZS5rZXlDb2RlPT09ci5kb3duKXtlLnByZXZlbnREZWZhdWx0KCk7c3dpdGNoKHRoaXMuYWN0aXZlTGFuZSl7Y2FzZVwiZm9sZFwiOnRoaXMuJG1vdmVGb2xkV2lkZ2V0RG93bigpO2JyZWFrO2Nhc2VcImFubm90YXRpb25cIjp0aGlzLiRtb3ZlQW5ub3RhdGlvbkRvd24oKX1yZXR1cm59aWYoZS5rZXlDb2RlPT09ci5sZWZ0KXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy4kc3dpdGNoTGFuZShcImFubm90YXRpb25cIik7cmV0dXJufWlmKGUua2V5Q29kZT09PXIucmlnaHQpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLiRzd2l0Y2hMYW5lKFwiZm9sZFwiKTtyZXR1cm59aWYoZS5rZXlDb2RlPT09ci5lbnRlcnx8ZS5rZXlDb2RlPT09ci5zcGFjZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3N3aXRjaCh0aGlzLmFjdGl2ZUxhbmUpe2Nhc2VcImZvbGRcIjp2YXIgdD10aGlzLiRyb3dJbmRleFRvUm93KHRoaXMuYWN0aXZlUm93SW5kZXgpLG49dGhpcy5lZGl0b3Iuc2Vzc2lvbi4kZ3V0dGVyQ3VzdG9tV2lkZ2V0c1t0XTtpZihuKW4uY2FsbGJhY2tzJiZuLmNhbGxiYWNrcy5vbkNsaWNrJiZuLmNhbGxiYWNrcy5vbkNsaWNrKGUsdCk7ZWxzZXtpZih0aGlzLmd1dHRlckxheWVyLnNlc3Npb24uZm9sZFdpZGdldHNbdF09PT1cInN0YXJ0XCIpe3RoaXMuZWRpdG9yLnNlc3Npb24ub25Gb2xkV2lkZ2V0Q2xpY2sodGhpcy4kcm93SW5kZXhUb1Jvdyh0aGlzLmFjdGl2ZVJvd0luZGV4KSxlKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy4kcm93SW5kZXhUb1Jvdyh0aGlzLmFjdGl2ZVJvd0luZGV4KSE9PXQmJih0aGlzLiRibHVyRm9sZFdpZGdldCh0aGlzLmFjdGl2ZVJvd0luZGV4KSx0aGlzLmFjdGl2ZVJvd0luZGV4PXRoaXMuJHJvd1RvUm93SW5kZXgodCksdGhpcy4kZm9jdXNGb2xkV2lkZ2V0KHRoaXMuYWN0aXZlUm93SW5kZXgpKX0uYmluZCh0aGlzKSwxMCk7YnJlYWt9aWYodGhpcy5ndXR0ZXJMYXllci5zZXNzaW9uLmZvbGRXaWRnZXRzW3RoaXMuJHJvd0luZGV4VG9Sb3codGhpcy5hY3RpdmVSb3dJbmRleCldPT09XCJlbmRcIilicmVha31yZXR1cm47Y2FzZVwiYW5ub3RhdGlvblwiOnZhciBpPXRoaXMubGluZXMuY2VsbHNbdGhpcy5hY3RpdmVSb3dJbmRleF0uZWxlbWVudC5jaGlsZE5vZGVzWzJdLHM9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPXRoaXMuYW5ub3RhdGlvblRvb2x0aXAuZ2V0RWxlbWVudCgpLnN0eWxlO28ubGVmdD1zLnJpZ2h0K1wicHhcIixvLnRvcD1zLmJvdHRvbStcInB4XCIsdGhpcy5hbm5vdGF0aW9uVG9vbHRpcC5zaG93VG9vbHRpcCh0aGlzLiRyb3dJbmRleFRvUm93KHRoaXMuYWN0aXZlUm93SW5kZXgpKX1yZXR1cm59fSxlLnByb3RvdHlwZS4kYmx1ckd1dHRlcj1mdW5jdGlvbigpe2lmKHRoaXMuYWN0aXZlUm93SW5kZXghPT1udWxsKXN3aXRjaCh0aGlzLmFjdGl2ZUxhbmUpe2Nhc2VcImZvbGRcIjp0aGlzLiRibHVyRm9sZFdpZGdldCh0aGlzLmFjdGl2ZVJvd0luZGV4KSx0aGlzLiRibHVyQ3VzdG9tV2lkZ2V0KHRoaXMuYWN0aXZlUm93SW5kZXgpO2JyZWFrO2Nhc2VcImFubm90YXRpb25cIjp0aGlzLiRibHVyQW5ub3RhdGlvbih0aGlzLmFjdGl2ZVJvd0luZGV4KX10aGlzLmFubm90YXRpb25Ub29sdGlwLmlzT3BlbiYmdGhpcy5hbm5vdGF0aW9uVG9vbHRpcC5oaWRlVG9vbHRpcCgpO3JldHVybn0sZS5wcm90b3R5cGUuJGlzRm9sZFdpZGdldFZpc2libGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lZGl0b3IuaXNSb3dGdWxseVZpc2libGUodGhpcy4kcm93SW5kZXhUb1JvdyhlKSksbj10aGlzLiRnZXRGb2xkV2lkZ2V0KGUpLnN0eWxlLmRpc3BsYXkhPT1cIm5vbmVcIjtyZXR1cm4gdCYmbn0sZS5wcm90b3R5cGUuJGlzQ3VzdG9tV2lkZ2V0VmlzaWJsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVkaXRvci5pc1Jvd0Z1bGx5VmlzaWJsZSh0aGlzLiRyb3dJbmRleFRvUm93KGUpKSxuPSEhdGhpcy4kZ2V0Q3VzdG9tV2lkZ2V0KGUpO3JldHVybiB0JiZufSxlLnByb3RvdHlwZS4kaXNBbm5vdGF0aW9uVmlzaWJsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVkaXRvci5pc1Jvd0Z1bGx5VmlzaWJsZSh0aGlzLiRyb3dJbmRleFRvUm93KGUpKSxuPXRoaXMuJGdldEFubm90YXRpb24oZSkuc3R5bGUuZGlzcGxheSE9PVwibm9uZVwiO3JldHVybiB0JiZufSxlLnByb3RvdHlwZS4kZ2V0Rm9sZFdpZGdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxpbmVzLmdldChlKSxuPXQuZWxlbWVudDtyZXR1cm4gbi5jaGlsZE5vZGVzWzFdfSxlLnByb3RvdHlwZS4kZ2V0Q3VzdG9tV2lkZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGluZXMuZ2V0KGUpLG49dC5lbGVtZW50O3JldHVybiBuLmNoaWxkTm9kZXNbM119LGUucHJvdG90eXBlLiRnZXRBbm5vdGF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGluZXMuZ2V0KGUpLG49dC5lbGVtZW50O3JldHVybiBuLmNoaWxkTm9kZXNbMl19LGUucHJvdG90eXBlLiRmaW5kTmVhcmVzdEZvbGRMYW5lV2lkZ2V0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuJGlzQ3VzdG9tV2lkZ2V0VmlzaWJsZShlKSlyZXR1cm4gZTtpZih0aGlzLiRpc0ZvbGRXaWRnZXRWaXNpYmxlKGUpKXJldHVybiBlO3ZhciB0PTA7d2hpbGUoZS10PjB8fGUrdDx0aGlzLmxpbmVzLmdldExlbmd0aCgpLTEpe3QrKztpZihlLXQ+PTAmJnRoaXMuJGlzQ3VzdG9tV2lkZ2V0VmlzaWJsZShlLXQpKXJldHVybiBlLXQ7aWYoZSt0PD10aGlzLmxpbmVzLmdldExlbmd0aCgpLTEmJnRoaXMuJGlzQ3VzdG9tV2lkZ2V0VmlzaWJsZShlK3QpKXJldHVybiBlK3Q7aWYoZS10Pj0wJiZ0aGlzLiRpc0ZvbGRXaWRnZXRWaXNpYmxlKGUtdCkpcmV0dXJuIGUtdDtpZihlK3Q8PXRoaXMubGluZXMuZ2V0TGVuZ3RoKCktMSYmdGhpcy4kaXNGb2xkV2lkZ2V0VmlzaWJsZShlK3QpKXJldHVybiBlK3R9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLiRmaW5kTmVhcmVzdEFubm90YXRpb249ZnVuY3Rpb24oZSl7aWYodGhpcy4kaXNBbm5vdGF0aW9uVmlzaWJsZShlKSlyZXR1cm4gZTt2YXIgdD0wO3doaWxlKGUtdD4wfHxlK3Q8dGhpcy5saW5lcy5nZXRMZW5ndGgoKS0xKXt0Kys7aWYoZS10Pj0wJiZ0aGlzLiRpc0Fubm90YXRpb25WaXNpYmxlKGUtdCkpcmV0dXJuIGUtdDtpZihlK3Q8PXRoaXMubGluZXMuZ2V0TGVuZ3RoKCktMSYmdGhpcy4kaXNBbm5vdGF0aW9uVmlzaWJsZShlK3QpKXJldHVybiBlK3R9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLiRmb2N1c0ZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSl7aWYoZT09bnVsbClyZXR1cm47dmFyIHQ9dGhpcy4kZ2V0Rm9sZFdpZGdldChlKTt0LmNsYXNzTGlzdC5hZGQodGhpcy5lZGl0b3IucmVuZGVyZXIua2V5Ym9hcmRGb2N1c0NsYXNzTmFtZSksdC5mb2N1cygpfSxlLnByb3RvdHlwZS4kZm9jdXNDdXN0b21XaWRnZXQ9ZnVuY3Rpb24oZSl7aWYoZT09bnVsbClyZXR1cm47dmFyIHQ9dGhpcy4kZ2V0Q3VzdG9tV2lkZ2V0KGUpO3QmJih0LmNsYXNzTGlzdC5hZGQodGhpcy5lZGl0b3IucmVuZGVyZXIua2V5Ym9hcmRGb2N1c0NsYXNzTmFtZSksdC5mb2N1cygpKX0sZS5wcm90b3R5cGUuJGZvY3VzQW5ub3RhdGlvbj1mdW5jdGlvbihlKXtpZihlPT1udWxsKXJldHVybjt2YXIgdD10aGlzLiRnZXRBbm5vdGF0aW9uKGUpO3QuY2xhc3NMaXN0LmFkZCh0aGlzLmVkaXRvci5yZW5kZXJlci5rZXlib2FyZEZvY3VzQ2xhc3NOYW1lKSx0LmZvY3VzKCl9LGUucHJvdG90eXBlLiRibHVyRm9sZFdpZGdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiRnZXRGb2xkV2lkZ2V0KGUpO3QuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmVkaXRvci5yZW5kZXJlci5rZXlib2FyZEZvY3VzQ2xhc3NOYW1lKSx0LmJsdXIoKX0sZS5wcm90b3R5cGUuJGJsdXJDdXN0b21XaWRnZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kZ2V0Q3VzdG9tV2lkZ2V0KGUpO3QmJih0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5lZGl0b3IucmVuZGVyZXIua2V5Ym9hcmRGb2N1c0NsYXNzTmFtZSksdC5ibHVyKCkpfSxlLnByb3RvdHlwZS4kYmx1ckFubm90YXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kZ2V0QW5ub3RhdGlvbihlKTt0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5lZGl0b3IucmVuZGVyZXIua2V5Ym9hcmRGb2N1c0NsYXNzTmFtZSksdC5ibHVyKCl9LGUucHJvdG90eXBlLiRtb3ZlRm9sZFdpZGdldFVwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hY3RpdmVSb3dJbmRleDt3aGlsZShlPjApe2UtLTtpZih0aGlzLiRpc0ZvbGRXaWRnZXRWaXNpYmxlKGUpfHx0aGlzLiRpc0N1c3RvbVdpZGdldFZpc2libGUoZSkpe3RoaXMuJGJsdXJGb2xkV2lkZ2V0KHRoaXMuYWN0aXZlUm93SW5kZXgpLHRoaXMuJGJsdXJDdXN0b21XaWRnZXQodGhpcy5hY3RpdmVSb3dJbmRleCksdGhpcy5hY3RpdmVSb3dJbmRleD1lLHRoaXMuJGlzRm9sZFdpZGdldFZpc2libGUoZSk/dGhpcy4kZm9jdXNGb2xkV2lkZ2V0KHRoaXMuYWN0aXZlUm93SW5kZXgpOnRoaXMuJGZvY3VzQ3VzdG9tV2lkZ2V0KHRoaXMuYWN0aXZlUm93SW5kZXgpO3JldHVybn19cmV0dXJufSxlLnByb3RvdHlwZS4kbW92ZUZvbGRXaWRnZXREb3duPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hY3RpdmVSb3dJbmRleDt3aGlsZShlPHRoaXMubGluZXMuZ2V0TGVuZ3RoKCktMSl7ZSsrO2lmKHRoaXMuJGlzRm9sZFdpZGdldFZpc2libGUoZSl8fHRoaXMuJGlzQ3VzdG9tV2lkZ2V0VmlzaWJsZShlKSl7dGhpcy4kYmx1ckZvbGRXaWRnZXQodGhpcy5hY3RpdmVSb3dJbmRleCksdGhpcy4kYmx1ckN1c3RvbVdpZGdldCh0aGlzLmFjdGl2ZVJvd0luZGV4KSx0aGlzLmFjdGl2ZVJvd0luZGV4PWUsdGhpcy4kaXNGb2xkV2lkZ2V0VmlzaWJsZShlKT90aGlzLiRmb2N1c0ZvbGRXaWRnZXQodGhpcy5hY3RpdmVSb3dJbmRleCk6dGhpcy4kZm9jdXNDdXN0b21XaWRnZXQodGhpcy5hY3RpdmVSb3dJbmRleCk7cmV0dXJufX1yZXR1cm59LGUucHJvdG90eXBlLiRtb3ZlQW5ub3RhdGlvblVwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hY3RpdmVSb3dJbmRleDt3aGlsZShlPjApe2UtLTtpZih0aGlzLiRpc0Fubm90YXRpb25WaXNpYmxlKGUpKXt0aGlzLiRibHVyQW5ub3RhdGlvbih0aGlzLmFjdGl2ZVJvd0luZGV4KSx0aGlzLmFjdGl2ZVJvd0luZGV4PWUsdGhpcy4kZm9jdXNBbm5vdGF0aW9uKHRoaXMuYWN0aXZlUm93SW5kZXgpO3JldHVybn19cmV0dXJufSxlLnByb3RvdHlwZS4kbW92ZUFubm90YXRpb25Eb3duPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hY3RpdmVSb3dJbmRleDt3aGlsZShlPHRoaXMubGluZXMuZ2V0TGVuZ3RoKCktMSl7ZSsrO2lmKHRoaXMuJGlzQW5ub3RhdGlvblZpc2libGUoZSkpe3RoaXMuJGJsdXJBbm5vdGF0aW9uKHRoaXMuYWN0aXZlUm93SW5kZXgpLHRoaXMuYWN0aXZlUm93SW5kZXg9ZSx0aGlzLiRmb2N1c0Fubm90YXRpb24odGhpcy5hY3RpdmVSb3dJbmRleCk7cmV0dXJufX1yZXR1cm59LGUucHJvdG90eXBlLiRmaW5kQ2xvc2VzdE51bWJlcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9PT1udWxsP3Q6dD09PW51bGw/ZTpNYXRoLmFicyhuLWUpPD1NYXRoLmFicyhuLXQpP2U6dH0sZS5wcm90b3R5cGUuJHN3aXRjaExhbmU9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2VcImFubm90YXRpb25cIjppZih0aGlzLmFjdGl2ZUxhbmU9PT1cImFubm90YXRpb25cIilicmVhazt2YXIgdD10aGlzLiRmaW5kTmVhcmVzdEFubm90YXRpb24odGhpcy5hY3RpdmVSb3dJbmRleCk7aWYodD09bnVsbClicmVhazt0aGlzLmFjdGl2ZUxhbmU9XCJhbm5vdGF0aW9uXCIsdGhpcy4kYmx1ckZvbGRXaWRnZXQodGhpcy5hY3RpdmVSb3dJbmRleCksdGhpcy4kYmx1ckN1c3RvbVdpZGdldCh0aGlzLmFjdGl2ZVJvd0luZGV4KSx0aGlzLmFjdGl2ZVJvd0luZGV4PXQsdGhpcy4kZm9jdXNBbm5vdGF0aW9uKHRoaXMuYWN0aXZlUm93SW5kZXgpO2JyZWFrO2Nhc2VcImZvbGRcIjppZih0aGlzLmFjdGl2ZUxhbmU9PT1cImZvbGRcIilicmVhazt2YXIgbj10aGlzLiRmaW5kTmVhcmVzdEZvbGRMYW5lV2lkZ2V0KHRoaXMuYWN0aXZlUm93SW5kZXgpO2lmKG49PT1udWxsKWJyZWFrO3RoaXMuYWN0aXZlTGFuZT1cImZvbGRcIix0aGlzLiRibHVyQW5ub3RhdGlvbih0aGlzLmFjdGl2ZVJvd0luZGV4KSx0aGlzLmFjdGl2ZVJvd0luZGV4PW4sdGhpcy4kaXNDdXN0b21XaWRnZXRWaXNpYmxlKG4pP3RoaXMuJGZvY3VzQ3VzdG9tV2lkZ2V0KHRoaXMuYWN0aXZlUm93SW5kZXgpOnRoaXMuJGZvY3VzRm9sZFdpZGdldCh0aGlzLmFjdGl2ZVJvd0luZGV4KX1yZXR1cm59LGUucHJvdG90eXBlLiRyb3dJbmRleFRvUm93PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGluZXMuZ2V0KGUpO3JldHVybiB0P3Qucm93Om51bGx9LGUucHJvdG90eXBlLiRyb3dUb1Jvd0luZGV4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5saW5lcy5nZXRMZW5ndGgoKTt0Kyspe3ZhciBuPXRoaXMubGluZXMuZ2V0KHQpO2lmKG4ucm93PT1lKXJldHVybiB0fXJldHVybiBudWxsfSxlfSgpO3QuR3V0dGVyS2V5Ym9hcmRIYW5kbGVyPXM7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5ndXR0ZXJLZXlib2FyZEhhbmRsZXI9dCx0aGlzLmRvbUV2ZW50PWV9cmV0dXJuIGUucHJvdG90eXBlLmdldEtleT1mdW5jdGlvbigpe3JldHVybiByLmtleUNvZGVUb1N0cmluZyh0aGlzLmRvbUV2ZW50LmtleUNvZGUpfSxlLnByb3RvdHlwZS5nZXRSb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ndXR0ZXJLZXlib2FyZEhhbmRsZXIuJHJvd0luZGV4VG9Sb3codGhpcy5ndXR0ZXJLZXlib2FyZEhhbmRsZXIuYWN0aXZlUm93SW5kZXgpfSxlLnByb3RvdHlwZS5pc0luQW5ub3RhdGlvbkxhbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ndXR0ZXJLZXlib2FyZEhhbmRsZXIuYWN0aXZlTGFuZT09PVwiYW5ub3RhdGlvblwifSxlLnByb3RvdHlwZS5pc0luRm9sZExhbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ndXR0ZXJLZXlib2FyZEhhbmRsZXIuYWN0aXZlTGFuZT09PVwiZm9sZFwifSxlfSgpO3QuR3V0dGVyS2V5Ym9hcmRFdmVudD1vfSksYWNlLmRlZmluZShcImFjZS9lZGl0b3JcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiLFwiYWNlL2tleWJvYXJkL3RleHRpbnB1dFwiLFwiYWNlL21vdXNlL21vdXNlX2hhbmRsZXJcIixcImFjZS9tb3VzZS9mb2xkX2hhbmRsZXJcIixcImFjZS9rZXlib2FyZC9rZXliaW5kaW5nXCIsXCJhY2UvZWRpdF9zZXNzaW9uXCIsXCJhY2Uvc2VhcmNoXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL2NvbW1hbmRzL2NvbW1hbmRfbWFuYWdlclwiLFwiYWNlL2NvbW1hbmRzL2RlZmF1bHRfY29tbWFuZHNcIixcImFjZS9jb25maWdcIixcImFjZS90b2tlbl9pdGVyYXRvclwiLFwiYWNlL2tleWJvYXJkL2d1dHRlcl9oYW5kbGVyXCIsXCJhY2UvY29uZmlnXCIsXCJhY2UvY2xpcGJvYXJkXCIsXCJhY2UvbGliL2tleXNcIixcImFjZS9saWIvZXZlbnRcIixcImFjZS90b29sdGlwXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgU3ltYm9sPT1cImZ1bmN0aW9uXCImJlN5bWJvbC5pdGVyYXRvcixuPXQmJmVbdF0scj0wO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihlJiZ0eXBlb2YgZS5sZW5ndGg9PVwibnVtYmVyXCIpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmcj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbcisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfSxpPWUoXCIuL2xpYi9vb3BcIikscz1lKFwiLi9saWIvZG9tXCIpLG89ZShcIi4vbGliL2xhbmdcIiksdT1lKFwiLi9saWIvdXNlcmFnZW50XCIpLGE9ZShcIi4va2V5Ym9hcmQvdGV4dGlucHV0XCIpLlRleHRJbnB1dCxmPWUoXCIuL21vdXNlL21vdXNlX2hhbmRsZXJcIikuTW91c2VIYW5kbGVyLGw9ZShcIi4vbW91c2UvZm9sZF9oYW5kbGVyXCIpLkZvbGRIYW5kbGVyLGM9ZShcIi4va2V5Ym9hcmQva2V5YmluZGluZ1wiKS5LZXlCaW5kaW5nLGg9ZShcIi4vZWRpdF9zZXNzaW9uXCIpLkVkaXRTZXNzaW9uLHA9ZShcIi4vc2VhcmNoXCIpLlNlYXJjaCxkPWUoXCIuL3JhbmdlXCIpLlJhbmdlLHY9ZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyLG09ZShcIi4vY29tbWFuZHMvY29tbWFuZF9tYW5hZ2VyXCIpLkNvbW1hbmRNYW5hZ2VyLGc9ZShcIi4vY29tbWFuZHMvZGVmYXVsdF9jb21tYW5kc1wiKS5jb21tYW5kcyx5PWUoXCIuL2NvbmZpZ1wiKSxiPWUoXCIuL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3Isdz1lKFwiLi9rZXlib2FyZC9ndXR0ZXJfaGFuZGxlclwiKS5HdXR0ZXJLZXlib2FyZEhhbmRsZXIsRT1lKFwiLi9jb25maWdcIikubmxzLFM9ZShcIi4vY2xpcGJvYXJkXCIpLHg9ZShcIi4vbGliL2tleXNcIiksVD1lKFwiLi9saWIvZXZlbnRcIiksTj1lKFwiLi90b29sdGlwXCIpLkhvdmVyVG9vbHRpcCxDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7dGhpcy5pZD1cImVkaXRvclwiKyArK2UuJHVpZCx0aGlzLnNlc3Npb24sdGhpcy4kdG9EZXN0cm95PVtdO3ZhciBpPXQuZ2V0Q29udGFpbmVyRWxlbWVudCgpO3RoaXMuY29udGFpbmVyPWksdGhpcy5yZW5kZXJlcj10LHRoaXMuY29tbWFuZHM9bmV3IG0odS5pc01hYz9cIm1hY1wiOlwid2luXCIsZyksdHlwZW9mIGRvY3VtZW50PT1cIm9iamVjdFwiJiYodGhpcy50ZXh0SW5wdXQ9bmV3IGEodC5nZXRUZXh0QXJlYUNvbnRhaW5lcigpLHRoaXMpLHRoaXMucmVuZGVyZXIudGV4dGFyZWE9dGhpcy50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpLHRoaXMuJG1vdXNlSGFuZGxlcj1uZXcgZih0aGlzKSxuZXcgbCh0aGlzKSksdGhpcy5rZXlCaW5kaW5nPW5ldyBjKHRoaXMpLHRoaXMuJHNlYXJjaD0obmV3IHApLnNldCh7d3JhcDohMH0pLHRoaXMuJGhpc3RvcnlUcmFja2VyPXRoaXMuJGhpc3RvcnlUcmFja2VyLmJpbmQodGhpcyksdGhpcy5jb21tYW5kcy5vbihcImV4ZWNcIix0aGlzLiRoaXN0b3J5VHJhY2tlciksdGhpcy4kaW5pdE9wZXJhdGlvbkxpc3RlbmVycygpLHRoaXMuXyRlbWl0SW5wdXRFdmVudD1vLmRlbGF5ZWRDYWxsKGZ1bmN0aW9uKCl7dGhpcy5fc2lnbmFsKFwiaW5wdXRcIix7fSksdGhpcy5zZXNzaW9uJiYhdGhpcy5zZXNzaW9uLmRlc3Ryb3llZCYmdGhpcy5zZXNzaW9uLmJnVG9rZW5pemVyLnNjaGVkdWxlU3RhcnQoKX0uYmluZCh0aGlzKSksdGhpcy5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKGUsdCl7dC5fJGVtaXRJbnB1dEV2ZW50LnNjaGVkdWxlKDMxKX0pLHRoaXMuc2V0U2Vzc2lvbihufHxyJiZyLnNlc3Npb258fG5ldyBoKFwiXCIpKSx5LnJlc2V0T3B0aW9ucyh0aGlzKSxyJiZ0aGlzLnNldE9wdGlvbnMocikseS5fc2lnbmFsKFwiZWRpdG9yXCIsdGhpcyl9cmV0dXJuIGUucHJvdG90eXBlLiRpbml0T3BlcmF0aW9uTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dGhpcy5jb21tYW5kcy5vbihcImV4ZWNcIix0aGlzLnN0YXJ0T3BlcmF0aW9uLmJpbmQodGhpcyksITApLHRoaXMuY29tbWFuZHMub24oXCJhZnRlckV4ZWNcIix0aGlzLmVuZE9wZXJhdGlvbi5iaW5kKHRoaXMpLCEwKX0sZS5wcm90b3R5cGUuc3RhcnRPcGVyYXRpb249ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uLnN0YXJ0T3BlcmF0aW9uKGUpfSxlLnByb3RvdHlwZS5lbmRPcGVyYXRpb249ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uLmVuZE9wZXJhdGlvbihlKX0sZS5wcm90b3R5cGUub25TdGFydE9wZXJhdGlvbj1mdW5jdGlvbihlKXt0aGlzLmN1ck9wPXRoaXMuc2Vzc2lvbi5jdXJPcCx0aGlzLmN1ck9wLnNjcm9sbFRvcD10aGlzLnJlbmRlcmVyLnNjcm9sbFRvcCx0aGlzLnByZXZPcD10aGlzLnNlc3Npb24ucHJldk9wLGV8fCh0aGlzLnByZXZpb3VzQ29tbWFuZD1udWxsKX0sZS5wcm90b3R5cGUub25FbmRPcGVyYXRpb249ZnVuY3Rpb24oZSl7aWYodGhpcy5jdXJPcCYmdGhpcy5zZXNzaW9uKXtpZihlJiZlLnJldHVyblZhbHVlPT09ITEpe3RoaXMuY3VyT3A9bnVsbDtyZXR1cm59dGhpcy5fc2lnbmFsKFwiYmVmb3JlRW5kT3BlcmF0aW9uXCIpO2lmKCF0aGlzLmN1ck9wKXJldHVybjt2YXIgdD10aGlzLmN1ck9wLmNvbW1hbmQsbj10JiZ0LnNjcm9sbEludG9WaWV3O2lmKG4pe3N3aXRjaChuKXtjYXNlXCJjZW50ZXItYW5pbWF0ZVwiOm49XCJhbmltYXRlXCI7Y2FzZVwiY2VudGVyXCI6dGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41KTticmVhaztjYXNlXCJhbmltYXRlXCI6Y2FzZVwiY3Vyc29yXCI6dGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO2JyZWFrO2Nhc2VcInNlbGVjdGlvblBhcnRcIjp2YXIgcj10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGk9dGhpcy5yZW5kZXJlci5sYXllckNvbmZpZzsoci5zdGFydC5yb3c+PWkubGFzdFJvd3x8ci5lbmQucm93PD1pLmZpcnN0Um93KSYmdGhpcy5yZW5kZXJlci5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldyh0aGlzLnNlbGVjdGlvbi5hbmNob3IsdGhpcy5zZWxlY3Rpb24ubGVhZCk7YnJlYWs7ZGVmYXVsdDp9bj09XCJhbmltYXRlXCImJnRoaXMucmVuZGVyZXIuYW5pbWF0ZVNjcm9sbGluZyh0aGlzLmN1ck9wLnNjcm9sbFRvcCl9dGhpcy4kbGFzdFNlbD10aGlzLnNlc3Npb24uc2VsZWN0aW9uLnRvSlNPTigpLHRoaXMucHJldk9wPXRoaXMuY3VyT3AsdGhpcy5jdXJPcD1udWxsfX0sZS5wcm90b3R5cGUuJGhpc3RvcnlUcmFja2VyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLiRtZXJnZVVuZG9EZWx0YXMpcmV0dXJuO3ZhciB0PXRoaXMucHJldk9wLG49dGhpcy4kbWVyZ2VhYmxlQ29tbWFuZHMscj10LmNvbW1hbmQmJmUuY29tbWFuZC5uYW1lPT10LmNvbW1hbmQubmFtZTtpZihlLmNvbW1hbmQubmFtZT09XCJpbnNlcnRzdHJpbmdcIil7dmFyIGk9ZS5hcmdzO3RoaXMubWVyZ2VOZXh0Q29tbWFuZD09PXVuZGVmaW5lZCYmKHRoaXMubWVyZ2VOZXh0Q29tbWFuZD0hMCkscj1yJiZ0aGlzLm1lcmdlTmV4dENvbW1hbmQmJighL1xccy8udGVzdChpKXx8L1xccy8udGVzdCh0LmFyZ3MpKSx0aGlzLm1lcmdlTmV4dENvbW1hbmQ9ITB9ZWxzZSByPXImJm4uaW5kZXhPZihlLmNvbW1hbmQubmFtZSkhPT0tMTt0aGlzLiRtZXJnZVVuZG9EZWx0YXMhPVwiYWx3YXlzXCImJkRhdGUubm93KCktdGhpcy5zZXF1ZW5jZVN0YXJ0VGltZT4yZTMmJihyPSExKSxyP3RoaXMuc2Vzc2lvbi5tZXJnZVVuZG9EZWx0YXM9ITA6bi5pbmRleE9mKGUuY29tbWFuZC5uYW1lKSE9PS0xJiYodGhpcy5zZXF1ZW5jZVN0YXJ0VGltZT1EYXRlLm5vdygpKX0sZS5wcm90b3R5cGUuc2V0S2V5Ym9hcmRIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7aWYoZSYmdHlwZW9mIGU9PVwic3RyaW5nXCImJmUhPVwiYWNlXCIpe3RoaXMuJGtleWJpbmRpbmdJZD1lO3ZhciBuPXRoaXM7eS5sb2FkTW9kdWxlKFtcImtleWJpbmRpbmdcIixlXSxmdW5jdGlvbihyKXtuLiRrZXliaW5kaW5nSWQ9PWUmJm4ua2V5QmluZGluZy5zZXRLZXlib2FyZEhhbmRsZXIociYmci5oYW5kbGVyKSx0JiZ0KCl9KX1lbHNlIHRoaXMuJGtleWJpbmRpbmdJZD1udWxsLHRoaXMua2V5QmluZGluZy5zZXRLZXlib2FyZEhhbmRsZXIoZSksdCYmdCgpfSxlLnByb3RvdHlwZS5nZXRLZXlib2FyZEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlCaW5kaW5nLmdldEtleWJvYXJkSGFuZGxlcigpfSxlLnByb3RvdHlwZS5zZXRTZXNzaW9uPWZ1bmN0aW9uKGUpe2lmKHRoaXMuc2Vzc2lvbj09ZSlyZXR1cm47dGhpcy5jdXJPcCYmdGhpcy5lbmRPcGVyYXRpb24oKSx0aGlzLmN1ck9wPXt9O3ZhciB0PXRoaXMuc2Vzc2lvbjtpZih0KXt0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlXCIsdGhpcy4kb25Eb2N1bWVudENoYW5nZSksdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZU1vZGVcIix0aGlzLiRvbkNoYW5nZU1vZGUpLHRoaXMuc2Vzc2lvbi5vZmYoXCJ0b2tlbml6ZXJVcGRhdGVcIix0aGlzLiRvblRva2VuaXplclVwZGF0ZSksdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZVRhYlNpemVcIix0aGlzLiRvbkNoYW5nZVRhYlNpemUpLHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VXcmFwTGltaXRcIix0aGlzLiRvbkNoYW5nZVdyYXBMaW1pdCksdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZVdyYXBNb2RlXCIsdGhpcy4kb25DaGFuZ2VXcmFwTW9kZSksdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZUZvbGRcIix0aGlzLiRvbkNoYW5nZUZvbGQpLHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VGcm9udE1hcmtlclwiLHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXIpLHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VCYWNrTWFya2VyXCIsdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyKSx0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlQnJlYWtwb2ludFwiLHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludCksdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZUFubm90YXRpb25cIix0aGlzLiRvbkNoYW5nZUFubm90YXRpb24pLHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VPdmVyd3JpdGVcIix0aGlzLiRvbkN1cnNvckNoYW5nZSksdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZVNjcm9sbFRvcFwiLHRoaXMuJG9uU2Nyb2xsVG9wQ2hhbmdlKSx0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlU2Nyb2xsTGVmdFwiLHRoaXMuJG9uU2Nyb2xsTGVmdENoYW5nZSksdGhpcy5zZXNzaW9uLm9mZihcInN0YXJ0T3BlcmF0aW9uXCIsdGhpcy4kb25TdGFydE9wZXJhdGlvbiksdGhpcy5zZXNzaW9uLm9mZihcImVuZE9wZXJhdGlvblwiLHRoaXMuJG9uRW5kT3BlcmF0aW9uKTt2YXIgbj10aGlzLnNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7bi5vZmYoXCJjaGFuZ2VDdXJzb3JcIix0aGlzLiRvbkN1cnNvckNoYW5nZSksbi5vZmYoXCJjaGFuZ2VTZWxlY3Rpb25cIix0aGlzLiRvblNlbGVjdGlvbkNoYW5nZSl9dGhpcy5zZXNzaW9uPWUsZT8odGhpcy4kb25Eb2N1bWVudENoYW5nZT10aGlzLm9uRG9jdW1lbnRDaGFuZ2UuYmluZCh0aGlzKSxlLm9uKFwiY2hhbmdlXCIsdGhpcy4kb25Eb2N1bWVudENoYW5nZSksdGhpcy5yZW5kZXJlci5zZXRTZXNzaW9uKGUpLHRoaXMuJG9uQ2hhbmdlTW9kZT10aGlzLm9uQ2hhbmdlTW9kZS5iaW5kKHRoaXMpLGUub24oXCJjaGFuZ2VNb2RlXCIsdGhpcy4kb25DaGFuZ2VNb2RlKSx0aGlzLiRvblRva2VuaXplclVwZGF0ZT10aGlzLm9uVG9rZW5pemVyVXBkYXRlLmJpbmQodGhpcyksZS5vbihcInRva2VuaXplclVwZGF0ZVwiLHRoaXMuJG9uVG9rZW5pemVyVXBkYXRlKSx0aGlzLiRvbkNoYW5nZVRhYlNpemU9dGhpcy5yZW5kZXJlci5vbkNoYW5nZVRhYlNpemUuYmluZCh0aGlzLnJlbmRlcmVyKSxlLm9uKFwiY2hhbmdlVGFiU2l6ZVwiLHRoaXMuJG9uQ2hhbmdlVGFiU2l6ZSksdGhpcy4kb25DaGFuZ2VXcmFwTGltaXQ9dGhpcy5vbkNoYW5nZVdyYXBMaW1pdC5iaW5kKHRoaXMpLGUub24oXCJjaGFuZ2VXcmFwTGltaXRcIix0aGlzLiRvbkNoYW5nZVdyYXBMaW1pdCksdGhpcy4kb25DaGFuZ2VXcmFwTW9kZT10aGlzLm9uQ2hhbmdlV3JhcE1vZGUuYmluZCh0aGlzKSxlLm9uKFwiY2hhbmdlV3JhcE1vZGVcIix0aGlzLiRvbkNoYW5nZVdyYXBNb2RlKSx0aGlzLiRvbkNoYW5nZUZvbGQ9dGhpcy5vbkNoYW5nZUZvbGQuYmluZCh0aGlzKSxlLm9uKFwiY2hhbmdlRm9sZFwiLHRoaXMuJG9uQ2hhbmdlRm9sZCksdGhpcy4kb25DaGFuZ2VGcm9udE1hcmtlcj10aGlzLm9uQ2hhbmdlRnJvbnRNYXJrZXIuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VGcm9udE1hcmtlclwiLHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXIpLHRoaXMuJG9uQ2hhbmdlQmFja01hcmtlcj10aGlzLm9uQ2hhbmdlQmFja01hcmtlci5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUJhY2tNYXJrZXJcIix0aGlzLiRvbkNoYW5nZUJhY2tNYXJrZXIpLHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludD10aGlzLm9uQ2hhbmdlQnJlYWtwb2ludC5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUJyZWFrcG9pbnRcIix0aGlzLiRvbkNoYW5nZUJyZWFrcG9pbnQpLHRoaXMuJG9uQ2hhbmdlQW5ub3RhdGlvbj10aGlzLm9uQ2hhbmdlQW5ub3RhdGlvbi5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUFubm90YXRpb25cIix0aGlzLiRvbkNoYW5nZUFubm90YXRpb24pLHRoaXMuJG9uQ3Vyc29yQ2hhbmdlPXRoaXMub25DdXJzb3JDaGFuZ2UuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VPdmVyd3JpdGVcIix0aGlzLiRvbkN1cnNvckNoYW5nZSksdGhpcy4kb25TY3JvbGxUb3BDaGFuZ2U9dGhpcy5vblNjcm9sbFRvcENoYW5nZS5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZVNjcm9sbFRvcFwiLHRoaXMuJG9uU2Nyb2xsVG9wQ2hhbmdlKSx0aGlzLiRvblNjcm9sbExlZnRDaGFuZ2U9dGhpcy5vblNjcm9sbExlZnRDaGFuZ2UuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VTY3JvbGxMZWZ0XCIsdGhpcy4kb25TY3JvbGxMZWZ0Q2hhbmdlKSx0aGlzLnNlbGVjdGlvbj1lLmdldFNlbGVjdGlvbigpLHRoaXMuc2VsZWN0aW9uLm9uKFwiY2hhbmdlQ3Vyc29yXCIsdGhpcy4kb25DdXJzb3JDaGFuZ2UpLHRoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlPXRoaXMub25TZWxlY3Rpb25DaGFuZ2UuYmluZCh0aGlzKSx0aGlzLnNlbGVjdGlvbi5vbihcImNoYW5nZVNlbGVjdGlvblwiLHRoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlKSx0aGlzLiRvblN0YXJ0T3BlcmF0aW9uPXRoaXMub25TdGFydE9wZXJhdGlvbi5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5vbihcInN0YXJ0T3BlcmF0aW9uXCIsdGhpcy4kb25TdGFydE9wZXJhdGlvbiksdGhpcy4kb25FbmRPcGVyYXRpb249dGhpcy5vbkVuZE9wZXJhdGlvbi5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5vbihcImVuZE9wZXJhdGlvblwiLHRoaXMuJG9uRW5kT3BlcmF0aW9uKSx0aGlzLm9uQ2hhbmdlTW9kZSgpLHRoaXMub25DdXJzb3JDaGFuZ2UoKSx0aGlzLm9uU2Nyb2xsVG9wQ2hhbmdlKCksdGhpcy5vblNjcm9sbExlZnRDaGFuZ2UoKSx0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKCksdGhpcy5vbkNoYW5nZUZyb250TWFya2VyKCksdGhpcy5vbkNoYW5nZUJhY2tNYXJrZXIoKSx0aGlzLm9uQ2hhbmdlQnJlYWtwb2ludCgpLHRoaXMub25DaGFuZ2VBbm5vdGF0aW9uKCksdGhpcy5zZXNzaW9uLmdldFVzZVdyYXBNb2RlKCkmJnRoaXMucmVuZGVyZXIuYWRqdXN0V3JhcExpbWl0KCksdGhpcy5yZW5kZXJlci51cGRhdGVGdWxsKCkpOih0aGlzLnNlbGVjdGlvbj1udWxsLHRoaXMucmVuZGVyZXIuc2V0U2Vzc2lvbihlKSksdGhpcy5fc2lnbmFsKFwiY2hhbmdlU2Vzc2lvblwiLHtzZXNzaW9uOmUsb2xkU2Vzc2lvbjp0fSksdGhpcy5jdXJPcD1udWxsLHQmJnQuX3NpZ25hbChcImNoYW5nZUVkaXRvclwiLHtvbGRFZGl0b3I6dGhpc30pLHQmJih0LiRlZGl0b3I9bnVsbCksZSYmZS5fc2lnbmFsKFwiY2hhbmdlRWRpdG9yXCIse2VkaXRvcjp0aGlzfSksZSYmKGUuJGVkaXRvcj10aGlzKSxlJiYhZS5kZXN0cm95ZWQmJmUuYmdUb2tlbml6ZXIuc2NoZWR1bGVTdGFydCgpfSxlLnByb3RvdHlwZS5nZXRTZXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbn0sZS5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uLmRvYy5zZXRWYWx1ZShlKSx0P3Q9PTE/dGhpcy5uYXZpZ2F0ZUZpbGVFbmQoKTp0PT0tMSYmdGhpcy5uYXZpZ2F0ZUZpbGVTdGFydCgpOnRoaXMuc2VsZWN0QWxsKCksZX0sZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uLmdldFZhbHVlKCl9LGUucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbn0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIub25SZXNpemUoZSl9LGUucHJvdG90eXBlLnNldFRoZW1lPWZ1bmN0aW9uKGUsdCl7dGhpcy5yZW5kZXJlci5zZXRUaGVtZShlLHQpfSxlLnByb3RvdHlwZS5nZXRUaGVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldFRoZW1lKCl9LGUucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKGUsdCl7dGhpcy5yZW5kZXJlci5zZXRTdHlsZShlLHQpfSxlLnByb3RvdHlwZS51bnNldFN0eWxlPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIudW5zZXRTdHlsZShlKX0sZS5wcm90b3R5cGUuZ2V0Rm9udFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJmb250U2l6ZVwiKXx8cy5jb21wdXRlZFN0eWxlKHRoaXMuY29udGFpbmVyKS5mb250U2l6ZX0sZS5wcm90b3R5cGUuc2V0Rm9udFNpemU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oXCJmb250U2l6ZVwiLGUpfSxlLnByb3RvdHlwZS4kaGlnaGxpZ2h0QnJhY2tldHM9ZnVuY3Rpb24oKXtpZih0aGlzLiRoaWdobGlnaHRQZW5kaW5nKXJldHVybjt2YXIgZT10aGlzO3RoaXMuJGhpZ2hsaWdodFBlbmRpbmc9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe2UuJGhpZ2hsaWdodFBlbmRpbmc9ITE7dmFyIHQ9ZS5zZXNzaW9uO2lmKCF0fHx0LmRlc3Ryb3llZClyZXR1cm47dC4kYnJhY2tldEhpZ2hsaWdodCYmKHQuJGJyYWNrZXRIaWdobGlnaHQubWFya2VySWRzLmZvckVhY2goZnVuY3Rpb24oZSl7dC5yZW1vdmVNYXJrZXIoZSl9KSx0LiRicmFja2V0SGlnaGxpZ2h0PW51bGwpO3ZhciBuPWUuZ2V0Q3Vyc29yUG9zaXRpb24oKSxyPWUuZ2V0S2V5Ym9hcmRIYW5kbGVyKCksaT1yJiZyLiRnZXREaXJlY3Rpb25Gb3JIaWdobGlnaHQmJnIuJGdldERpcmVjdGlvbkZvckhpZ2hsaWdodChlKSxzPXQuZ2V0TWF0Y2hpbmdCcmFja2V0UmFuZ2VzKG4saSk7aWYoIXMpe3ZhciBvPW5ldyBiKHQsbi5yb3csbi5jb2x1bW4pLHU9by5nZXRDdXJyZW50VG9rZW4oKTtpZih1JiYvXFxiKD86dGFnLW9wZW58dGFnLW5hbWUpLy50ZXN0KHUudHlwZSkpe3ZhciBhPXQuZ2V0TWF0Y2hpbmdUYWdzKG4pO2EmJihzPVthLm9wZW5UYWdOYW1lLmlzRW1wdHkoKT9hLm9wZW5UYWc6YS5vcGVuVGFnTmFtZSxhLmNsb3NlVGFnTmFtZS5pc0VtcHR5KCk/YS5jbG9zZVRhZzphLmNsb3NlVGFnTmFtZV0pfX0hcyYmdC4kbW9kZS5nZXRNYXRjaGluZyYmKHM9dC4kbW9kZS5nZXRNYXRjaGluZyhlLnNlc3Npb24pKTtpZighcyl7ZS5nZXRIaWdobGlnaHRJbmRlbnRHdWlkZXMoKSYmZS5yZW5kZXJlci4kdGV4dExheWVyLiRoaWdobGlnaHRJbmRlbnRHdWlkZSgpO3JldHVybn12YXIgZj1cImFjZV9icmFja2V0XCI7QXJyYXkuaXNBcnJheShzKT9zLmxlbmd0aD09MSYmKGY9XCJhY2VfZXJyb3JfYnJhY2tldFwiKTpzPVtzXSxzLmxlbmd0aD09MiYmKGQuY29tcGFyZVBvaW50cyhzWzBdLmVuZCxzWzFdLnN0YXJ0KT09MD9zPVtkLmZyb21Qb2ludHMoc1swXS5zdGFydCxzWzFdLmVuZCldOmQuY29tcGFyZVBvaW50cyhzWzBdLnN0YXJ0LHNbMV0uZW5kKT09MCYmKHM9W2QuZnJvbVBvaW50cyhzWzFdLnN0YXJ0LHNbMF0uZW5kKV0pKSx0LiRicmFja2V0SGlnaGxpZ2h0PXtyYW5nZXM6cyxtYXJrZXJJZHM6cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQuYWRkTWFya2VyKGUsZixcInRleHRcIil9KX0sZS5nZXRIaWdobGlnaHRJbmRlbnRHdWlkZXMoKSYmZS5yZW5kZXJlci4kdGV4dExheWVyLiRoaWdobGlnaHRJbmRlbnRHdWlkZSgpfSw1MCl9LGUucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy50ZXh0SW5wdXQuZm9jdXMoKX0sZS5wcm90b3R5cGUuaXNGb2N1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dElucHV0LmlzRm9jdXNlZCgpfSxlLnByb3RvdHlwZS5ibHVyPWZ1bmN0aW9uKCl7dGhpcy50ZXh0SW5wdXQuYmx1cigpfSxlLnByb3RvdHlwZS5vbkZvY3VzPWZ1bmN0aW9uKGUpe2lmKHRoaXMuJGlzRm9jdXNlZClyZXR1cm47dGhpcy4kaXNGb2N1c2VkPSEwLHRoaXMucmVuZGVyZXIuc2hvd0N1cnNvcigpLHRoaXMucmVuZGVyZXIudmlzdWFsaXplRm9jdXMoKSx0aGlzLl9lbWl0KFwiZm9jdXNcIixlKX0sZS5wcm90b3R5cGUub25CbHVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLiRpc0ZvY3VzZWQpcmV0dXJuO3RoaXMuJGlzRm9jdXNlZD0hMSx0aGlzLnJlbmRlcmVyLmhpZGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnZpc3VhbGl6ZUJsdXIoKSx0aGlzLl9lbWl0KFwiYmx1clwiLGUpfSxlLnByb3RvdHlwZS4kY3Vyc29yQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKSx0aGlzLiRoaWdobGlnaHRCcmFja2V0cygpLHRoaXMuJHVwZGF0ZUhpZ2hsaWdodEFjdGl2ZUxpbmUoKX0sZS5wcm90b3R5cGUub25Eb2N1bWVudENoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNlc3Npb24uJHVzZVdyYXBNb2RlLG49ZS5zdGFydC5yb3c9PWUuZW5kLnJvdz9lLmVuZC5yb3c6SW5maW5pdHk7dGhpcy5yZW5kZXJlci51cGRhdGVMaW5lcyhlLnN0YXJ0LnJvdyxuLHQpLHRoaXMuX3NpZ25hbChcImNoYW5nZVwiLGUpLHRoaXMuJGN1cnNvckNoYW5nZSgpfSxlLnByb3RvdHlwZS5vblRva2VuaXplclVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dGhpcy5yZW5kZXJlci51cGRhdGVMaW5lcyh0LmZpcnN0LHQubGFzdCl9LGUucHJvdG90eXBlLm9uU2Nyb2xsVG9wQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5zY3JvbGxUb1kodGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpKX0sZS5wcm90b3R5cGUub25TY3JvbGxMZWZ0Q2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5zY3JvbGxUb1godGhpcy5zZXNzaW9uLmdldFNjcm9sbExlZnQoKSl9LGUucHJvdG90eXBlLm9uQ3Vyc29yQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy4kY3Vyc29yQ2hhbmdlKCksdGhpcy5fc2lnbmFsKFwiY2hhbmdlU2VsZWN0aW9uXCIpfSxlLnByb3RvdHlwZS4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2Vzc2lvbigpLHQ7aWYodGhpcy4kaGlnaGxpZ2h0QWN0aXZlTGluZSl7aWYodGhpcy4kc2VsZWN0aW9uU3R5bGUhPVwibGluZVwifHwhdGhpcy5zZWxlY3Rpb24uaXNNdWx0aUxpbmUoKSl0PXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTt0aGlzLnJlbmRlcmVyLnRoZW1lJiZ0aGlzLnJlbmRlcmVyLnRoZW1lLiRzZWxlY3Rpb25Db2xvckNvbmZsaWN0JiYhdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpJiYodD0hMSksdGhpcy5yZW5kZXJlci4kbWF4TGluZXMmJnRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKT09PTEmJiEodGhpcy5yZW5kZXJlci4kbWluTGluZXM+MSkmJih0PSExKX1pZihlLiRoaWdobGlnaHRMaW5lTWFya2VyJiYhdCllLnJlbW92ZU1hcmtlcihlLiRoaWdobGlnaHRMaW5lTWFya2VyLmlkKSxlLiRoaWdobGlnaHRMaW5lTWFya2VyPW51bGw7ZWxzZSBpZighZS4kaGlnaGxpZ2h0TGluZU1hcmtlciYmdCl7dmFyIG49bmV3IGQodC5yb3csdC5jb2x1bW4sdC5yb3csSW5maW5pdHkpO24uaWQ9ZS5hZGRNYXJrZXIobixcImFjZV9hY3RpdmUtbGluZVwiLFwic2NyZWVuTGluZVwiKSxlLiRoaWdobGlnaHRMaW5lTWFya2VyPW59ZWxzZSB0JiYoZS4kaGlnaGxpZ2h0TGluZU1hcmtlci5zdGFydC5yb3c9dC5yb3csZS4kaGlnaGxpZ2h0TGluZU1hcmtlci5lbmQucm93PXQucm93LGUuJGhpZ2hsaWdodExpbmVNYXJrZXIuc3RhcnQuY29sdW1uPXQuY29sdW1uLGUuX3NpZ25hbChcImNoYW5nZUJhY2tNYXJrZXJcIikpfSxlLnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNlc3Npb247dC4kc2VsZWN0aW9uTWFya2VyJiZ0LnJlbW92ZU1hcmtlcih0LiRzZWxlY3Rpb25NYXJrZXIpLHQuJHNlbGVjdGlvbk1hcmtlcj1udWxsO2lmKCF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpe3ZhciBuPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkscj10aGlzLmdldFNlbGVjdGlvblN0eWxlKCk7dC4kc2VsZWN0aW9uTWFya2VyPXQuYWRkTWFya2VyKG4sXCJhY2Vfc2VsZWN0aW9uXCIscil9ZWxzZSB0aGlzLiR1cGRhdGVIaWdobGlnaHRBY3RpdmVMaW5lKCk7dmFyIGk9dGhpcy4kaGlnaGxpZ2h0U2VsZWN0ZWRXb3JkJiZ0aGlzLiRnZXRTZWxlY3Rpb25IaWdoTGlnaHRSZWdleHAoKTt0aGlzLnNlc3Npb24uaGlnaGxpZ2h0KGkpLHRoaXMuX3NpZ25hbChcImNoYW5nZVNlbGVjdGlvblwiKX0sZS5wcm90b3R5cGUuJGdldFNlbGVjdGlvbkhpZ2hMaWdodFJlZ2V4cD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2Vzc2lvbix0PXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtpZih0LmlzRW1wdHkoKXx8dC5pc011bHRpTGluZSgpKXJldHVybjt2YXIgbj10LnN0YXJ0LmNvbHVtbixyPXQuZW5kLmNvbHVtbixpPWUuZ2V0TGluZSh0LnN0YXJ0LnJvdykscz1pLnN1YnN0cmluZyhuLHIpO2lmKHMubGVuZ3RoPjVlM3x8IS9bXFx3XFxkXS8udGVzdChzKSlyZXR1cm47dmFyIG89dGhpcy4kc2VhcmNoLiRhc3NlbWJsZVJlZ0V4cCh7d2hvbGVXb3JkOiEwLGNhc2VTZW5zaXRpdmU6ITAsbmVlZGxlOnN9KSx1PWkuc3Vic3RyaW5nKG4tMSxyKzEpO2lmKCFvLnRlc3QodSkpcmV0dXJuO3JldHVybiBvfSxlLnByb3RvdHlwZS5vbkNoYW5nZUZyb250TWFya2VyPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci51cGRhdGVGcm9udE1hcmtlcnMoKX0sZS5wcm90b3R5cGUub25DaGFuZ2VCYWNrTWFya2VyPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpfSxlLnByb3RvdHlwZS5vbkNoYW5nZUJyZWFrcG9pbnQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnVwZGF0ZUJyZWFrcG9pbnRzKCl9LGUucHJvdG90eXBlLm9uQ2hhbmdlQW5ub3RhdGlvbj1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIuc2V0QW5ub3RhdGlvbnModGhpcy5zZXNzaW9uLmdldEFubm90YXRpb25zKCkpfSxlLnByb3RvdHlwZS5vbkNoYW5nZU1vZGU9ZnVuY3Rpb24oZSl7dGhpcy5yZW5kZXJlci51cGRhdGVUZXh0KCksdGhpcy5fZW1pdChcImNoYW5nZU1vZGVcIixlKX0sZS5wcm90b3R5cGUub25DaGFuZ2VXcmFwTGltaXQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnVwZGF0ZUZ1bGwoKX0sZS5wcm90b3R5cGUub25DaGFuZ2VXcmFwTW9kZT1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIub25SZXNpemUoITApfSxlLnByb3RvdHlwZS5vbkNoYW5nZUZvbGQ9ZnVuY3Rpb24oKXt0aGlzLiR1cGRhdGVIaWdobGlnaHRBY3RpdmVMaW5lKCksdGhpcy5yZW5kZXJlci51cGRhdGVGdWxsKCl9LGUucHJvdG90eXBlLmdldFNlbGVjdGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSl9LGUucHJvdG90eXBlLmdldENvcHlUZXh0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWxlY3RlZFRleHQoKSx0PXRoaXMuc2Vzc2lvbi5kb2MuZ2V0TmV3TGluZUNoYXJhY3RlcigpLG49ITE7aWYoIWUmJnRoaXMuJGNvcHlXaXRoRW1wdHlTZWxlY3Rpb24pe249ITA7dmFyIHI9dGhpcy5zZWxlY3Rpb24uZ2V0QWxsUmFuZ2VzKCk7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBzPXJbaV07aWYoaSYmcltpLTFdLnN0YXJ0LnJvdz09cy5zdGFydC5yb3cpY29udGludWU7ZSs9dGhpcy5zZXNzaW9uLmdldExpbmUocy5zdGFydC5yb3cpK3R9fXZhciBvPXt0ZXh0OmV9O3JldHVybiB0aGlzLl9zaWduYWwoXCJjb3B5XCIsbyksUy5saW5lTW9kZT1uP28udGV4dDohMSxvLnRleHR9LGUucHJvdG90eXBlLm9uQ29weT1mdW5jdGlvbigpe3RoaXMuY29tbWFuZHMuZXhlYyhcImNvcHlcIix0aGlzKX0sZS5wcm90b3R5cGUub25DdXQ9ZnVuY3Rpb24oKXt0aGlzLmNvbW1hbmRzLmV4ZWMoXCJjdXRcIix0aGlzKX0sZS5wcm90b3R5cGUub25QYXN0ZT1mdW5jdGlvbihlLHQpe3ZhciBuPXt0ZXh0OmUsZXZlbnQ6dH07dGhpcy5jb21tYW5kcy5leGVjKFwicGFzdGVcIix0aGlzLG4pfSxlLnByb3RvdHlwZS4kaGFuZGxlUGFzdGU9ZnVuY3Rpb24oZSl7dHlwZW9mIGU9PVwic3RyaW5nXCImJihlPXt0ZXh0OmV9KSx0aGlzLl9zaWduYWwoXCJwYXN0ZVwiLGUpO3ZhciB0PWUudGV4dCxuPXQ9PT1TLmxpbmVNb2RlLHI9dGhpcy5zZXNzaW9uO2lmKCF0aGlzLmluTXVsdGlTZWxlY3RNb2RlfHx0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpbj9yLmluc2VydCh7cm93OnRoaXMuc2VsZWN0aW9uLmxlYWQucm93LGNvbHVtbjowfSx0KTp0aGlzLmluc2VydCh0KTtlbHNlIGlmKG4pdGhpcy5zZWxlY3Rpb24ucmFuZ2VMaXN0LnJhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuaW5zZXJ0KHtyb3c6ZS5zdGFydC5yb3csY29sdW1uOjB9LHQpfSk7ZWxzZXt2YXIgaT10LnNwbGl0KC9cXHJcXG58XFxyfFxcbi8pLHM9dGhpcy5zZWxlY3Rpb24ucmFuZ2VMaXN0LnJhbmdlcyxvPWkubGVuZ3RoPT0yJiYoIWlbMF18fCFpWzFdKTtpZihpLmxlbmd0aCE9cy5sZW5ndGh8fG8pcmV0dXJuIHRoaXMuY29tbWFuZHMuZXhlYyhcImluc2VydHN0cmluZ1wiLHRoaXMsdCk7Zm9yKHZhciB1PXMubGVuZ3RoO3UtLTspe3ZhciBhPXNbdV07YS5pc0VtcHR5KCl8fHIucmVtb3ZlKGEpLHIuaW5zZXJ0KGEuc3RhcnQsaVt1XSl9fX0sZS5wcm90b3R5cGUuZXhlY0NvbW1hbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jb21tYW5kcy5leGVjKGUsdGhpcyx0KX0sZS5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLHI9bi5nZXRNb2RlKCksaT10aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7aWYodGhpcy5nZXRCZWhhdmlvdXJzRW5hYmxlZCgpJiYhdCl7dmFyIHM9ci50cmFuc2Zvcm1BY3Rpb24obi5nZXRTdGF0ZShpLnJvdyksXCJpbnNlcnRpb25cIix0aGlzLG4sZSk7cyYmKGUhPT1zLnRleHQmJih0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGV8fCh0aGlzLnNlc3Npb24ubWVyZ2VVbmRvRGVsdGFzPSExLHRoaXMubWVyZ2VOZXh0Q29tbWFuZD0hMSkpLGU9cy50ZXh0KX1lPT1cIlx0XCImJihlPXRoaXMuc2Vzc2lvbi5nZXRUYWJTdHJpbmcoKSk7aWYoIXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSl7dmFyIG89dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO2k9dGhpcy5zZXNzaW9uLnJlbW92ZShvKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9ZWxzZSBpZih0aGlzLnNlc3Npb24uZ2V0T3ZlcndyaXRlKCkmJmUuaW5kZXhPZihcIlxcblwiKT09LTEpe3ZhciBvPWQuZnJvbVBvaW50cyhpLGkpO28uZW5kLmNvbHVtbis9ZS5sZW5ndGgsdGhpcy5zZXNzaW9uLnJlbW92ZShvKX1pZihlPT1cIlxcblwifHxlPT1cIlxcclxcblwiKXt2YXIgdT1uLmdldExpbmUoaS5yb3cpO2lmKGkuY29sdW1uPnUuc2VhcmNoKC9cXFN8JC8pKXt2YXIgYT11LnN1YnN0cihpLmNvbHVtbikuc2VhcmNoKC9cXFN8JC8pO24uZG9jLnJlbW92ZUluTGluZShpLnJvdyxpLmNvbHVtbixpLmNvbHVtbithKX19dGhpcy5jbGVhclNlbGVjdGlvbigpO3ZhciBmPWkuY29sdW1uLGw9bi5nZXRTdGF0ZShpLnJvdyksdT1uLmdldExpbmUoaS5yb3cpLGM9ci5jaGVja091dGRlbnQobCx1LGUpO24uaW5zZXJ0KGksZSkscyYmcy5zZWxlY3Rpb24mJihzLnNlbGVjdGlvbi5sZW5ndGg9PTI/dGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UobmV3IGQoaS5yb3csZitzLnNlbGVjdGlvblswXSxpLnJvdyxmK3Muc2VsZWN0aW9uWzFdKSk6dGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UobmV3IGQoaS5yb3crcy5zZWxlY3Rpb25bMF0scy5zZWxlY3Rpb25bMV0saS5yb3crcy5zZWxlY3Rpb25bMl0scy5zZWxlY3Rpb25bM10pKSk7aWYodGhpcy4kZW5hYmxlQXV0b0luZGVudCl7aWYobi5nZXREb2N1bWVudCgpLmlzTmV3TGluZShlKSl7dmFyIGg9ci5nZXROZXh0TGluZUluZGVudChsLHUuc2xpY2UoMCxpLmNvbHVtbiksbi5nZXRUYWJTdHJpbmcoKSk7bi5pbnNlcnQoe3JvdzppLnJvdysxLGNvbHVtbjowfSxoKX1jJiZyLmF1dG9PdXRkZW50KGwsbixpLnJvdyl9fSxlLnByb3RvdHlwZS5hdXRvSW5kZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLHQ9ZS5nZXRNb2RlKCksbj10aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCk/W25ldyBkKDAsMCxlLmRvYy5nZXRMZW5ndGgoKS0xLDApXTp0aGlzLnNlbGVjdGlvbi5nZXRBbGxSYW5nZXMoKSxyPVwiXCIsaT1cIlwiLHM9XCJcIixvPWUuZ2V0VGFiU3RyaW5nKCk7Zm9yKHZhciB1PTA7dTxuLmxlbmd0aDt1Kyspe3ZhciBhPW5bdV0uc3RhcnQucm93LGY9blt1XS5lbmQucm93O2Zvcih2YXIgbD1hO2w8PWY7bCsrKXtsPjAmJihyPWUuZ2V0U3RhdGUobC0xKSxpPWUuZ2V0TGluZShsLTEpLHM9dC5nZXROZXh0TGluZUluZGVudChyLGksbykpO3ZhciBjPWUuZ2V0TGluZShsKSxoPXQuJGdldEluZGVudChjKTtpZihzIT09aCl7aWYoaC5sZW5ndGg+MCl7dmFyIHA9bmV3IGQobCwwLGwsaC5sZW5ndGgpO2UucmVtb3ZlKHApfXMubGVuZ3RoPjAmJmUuaW5zZXJ0KHtyb3c6bCxjb2x1bW46MH0scyl9dC5hdXRvT3V0ZGVudChyLGUsbCl9fX0sZS5wcm90b3R5cGUub25UZXh0SW5wdXQ9ZnVuY3Rpb24oZSx0KXtpZighdClyZXR1cm4gdGhpcy5rZXlCaW5kaW5nLm9uVGV4dElucHV0KGUpO3RoaXMuc3RhcnRPcGVyYXRpb24oe2NvbW1hbmQ6e25hbWU6XCJpbnNlcnRzdHJpbmdcIn19KTt2YXIgbj10aGlzLmFwcGx5Q29tcG9zaXRpb24uYmluZCh0aGlzLGUsdCk7dGhpcy5zZWxlY3Rpb24ucmFuZ2VDb3VudD90aGlzLmZvckVhY2hTZWxlY3Rpb24obik6bigpLHRoaXMuZW5kT3BlcmF0aW9uKCl9LGUucHJvdG90eXBlLmFwcGx5Q29tcG9zaXRpb249ZnVuY3Rpb24oZSx0KXtpZih0LmV4dGVuZExlZnR8fHQuZXh0ZW5kUmlnaHQpe3ZhciBuPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7bi5zdGFydC5jb2x1bW4tPXQuZXh0ZW5kTGVmdCxuLmVuZC5jb2x1bW4rPXQuZXh0ZW5kUmlnaHQsbi5zdGFydC5jb2x1bW48MCYmKG4uc3RhcnQucm93LS0sbi5zdGFydC5jb2x1bW4rPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKG4uc3RhcnQucm93KS5sZW5ndGgrMSksdGhpcy5zZWxlY3Rpb24uc2V0UmFuZ2UobiksIWUmJiFuLmlzRW1wdHkoKSYmdGhpcy5yZW1vdmUoKX0oZXx8IXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSkmJnRoaXMuaW5zZXJ0KGUsITApO2lmKHQucmVzdG9yZVN0YXJ0fHx0LnJlc3RvcmVFbmQpe3ZhciBuPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7bi5zdGFydC5jb2x1bW4tPXQucmVzdG9yZVN0YXJ0LG4uZW5kLmNvbHVtbi09dC5yZXN0b3JlRW5kLHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKG4pfX0sZS5wcm90b3R5cGUub25Db21tYW5kS2V5PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5rZXlCaW5kaW5nLm9uQ29tbWFuZEtleShlLHQsbil9LGUucHJvdG90eXBlLnNldE92ZXJ3cml0ZT1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb24uc2V0T3ZlcndyaXRlKGUpfSxlLnByb3RvdHlwZS5nZXRPdmVyd3JpdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uLmdldE92ZXJ3cml0ZSgpfSxlLnByb3RvdHlwZS50b2dnbGVPdmVyd3JpdGU9ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24udG9nZ2xlT3ZlcndyaXRlKCl9LGUucHJvdG90eXBlLnNldFNjcm9sbFNwZWVkPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKFwic2Nyb2xsU3BlZWRcIixlKX0sZS5wcm90b3R5cGUuZ2V0U2Nyb2xsU3BlZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzY3JvbGxTcGVlZFwiKX0sZS5wcm90b3R5cGUuc2V0RHJhZ0RlbGF5PWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKFwiZHJhZ0RlbGF5XCIsZSl9LGUucHJvdG90eXBlLmdldERyYWdEZWxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbihcImRyYWdEZWxheVwiKX0sZS5wcm90b3R5cGUuc2V0U2VsZWN0aW9uU3R5bGU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oXCJzZWxlY3Rpb25TdHlsZVwiLGUpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25TdHlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbihcInNlbGVjdGlvblN0eWxlXCIpfSxlLnByb3RvdHlwZS5zZXRIaWdobGlnaHRBY3RpdmVMaW5lPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKFwiaGlnaGxpZ2h0QWN0aXZlTGluZVwiLGUpfSxlLnByb3RvdHlwZS5nZXRIaWdobGlnaHRBY3RpdmVMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiaGlnaGxpZ2h0QWN0aXZlTGluZVwiKX0sZS5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcImhpZ2hsaWdodEd1dHRlckxpbmVcIixlKX0sZS5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbihcImhpZ2hsaWdodEd1dHRlckxpbmVcIil9LGUucHJvdG90eXBlLnNldEhpZ2hsaWdodFNlbGVjdGVkV29yZD1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcImhpZ2hsaWdodFNlbGVjdGVkV29yZFwiLGUpfSxlLnByb3RvdHlwZS5nZXRIaWdobGlnaHRTZWxlY3RlZFdvcmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaGlnaGxpZ2h0U2VsZWN0ZWRXb3JkfSxlLnByb3RvdHlwZS5zZXRBbmltYXRlZFNjcm9sbD1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnNldEFuaW1hdGVkU2Nyb2xsKGUpfSxlLnByb3RvdHlwZS5nZXRBbmltYXRlZFNjcm9sbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldEFuaW1hdGVkU2Nyb2xsKCl9LGUucHJvdG90eXBlLnNldFNob3dJbnZpc2libGVzPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0U2hvd0ludmlzaWJsZXMoZSl9LGUucHJvdG90eXBlLmdldFNob3dJbnZpc2libGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0U2hvd0ludmlzaWJsZXMoKX0sZS5wcm90b3R5cGUuc2V0RGlzcGxheUluZGVudEd1aWRlcz1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnNldERpc3BsYXlJbmRlbnRHdWlkZXMoZSl9LGUucHJvdG90eXBlLmdldERpc3BsYXlJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXREaXNwbGF5SW5kZW50R3VpZGVzKCl9LGUucHJvdG90eXBlLnNldEhpZ2hsaWdodEluZGVudEd1aWRlcz1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnNldEhpZ2hsaWdodEluZGVudEd1aWRlcyhlKX0sZS5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0SW5kZW50R3VpZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0SGlnaGxpZ2h0SW5kZW50R3VpZGVzKCl9LGUucHJvdG90eXBlLnNldFNob3dQcmludE1hcmdpbj1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnNldFNob3dQcmludE1hcmdpbihlKX0sZS5wcm90b3R5cGUuZ2V0U2hvd1ByaW50TWFyZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0U2hvd1ByaW50TWFyZ2luKCl9LGUucHJvdG90eXBlLnNldFByaW50TWFyZ2luQ29sdW1uPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0UHJpbnRNYXJnaW5Db2x1bW4oZSl9LGUucHJvdG90eXBlLmdldFByaW50TWFyZ2luQ29sdW1uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0UHJpbnRNYXJnaW5Db2x1bW4oKX0sZS5wcm90b3R5cGUuc2V0UmVhZE9ubHk9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oXCJyZWFkT25seVwiLGUpfSxlLnByb3RvdHlwZS5nZXRSZWFkT25seT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbihcInJlYWRPbmx5XCIpfSxlLnByb3RvdHlwZS5zZXRCZWhhdmlvdXJzRW5hYmxlZD1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcImJlaGF2aW91cnNFbmFibGVkXCIsZSl9LGUucHJvdG90eXBlLmdldEJlaGF2aW91cnNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiYmVoYXZpb3Vyc0VuYWJsZWRcIil9LGUucHJvdG90eXBlLnNldFdyYXBCZWhhdmlvdXJzRW5hYmxlZD1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcIndyYXBCZWhhdmlvdXJzRW5hYmxlZFwiLGUpfSxlLnByb3RvdHlwZS5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJ3cmFwQmVoYXZpb3Vyc0VuYWJsZWRcIil9LGUucHJvdG90eXBlLnNldFNob3dGb2xkV2lkZ2V0cz1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcInNob3dGb2xkV2lkZ2V0c1wiLGUpfSxlLnByb3RvdHlwZS5nZXRTaG93Rm9sZFdpZGdldHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzaG93Rm9sZFdpZGdldHNcIil9LGUucHJvdG90eXBlLnNldEZhZGVGb2xkV2lkZ2V0cz1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcImZhZGVGb2xkV2lkZ2V0c1wiLGUpfSxlLnByb3RvdHlwZS5nZXRGYWRlRm9sZFdpZGdldHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJmYWRlRm9sZFdpZGdldHNcIil9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkmJihlPT1cImxlZnRcIj90aGlzLnNlbGVjdGlvbi5zZWxlY3RMZWZ0KCk6dGhpcy5zZWxlY3Rpb24uc2VsZWN0UmlnaHQoKSk7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO2lmKHRoaXMuZ2V0QmVoYXZpb3Vyc0VuYWJsZWQoKSl7dmFyIG49dGhpcy5zZXNzaW9uLHI9bi5nZXRTdGF0ZSh0LnN0YXJ0LnJvdyksaT1uLmdldE1vZGUoKS50cmFuc2Zvcm1BY3Rpb24ocixcImRlbGV0aW9uXCIsdGhpcyxuLHQpO2lmKHQuZW5kLmNvbHVtbj09PTApe3ZhciBzPW4uZ2V0VGV4dFJhbmdlKHQpO2lmKHNbcy5sZW5ndGgtMV09PVwiXFxuXCIpe3ZhciBvPW4uZ2V0TGluZSh0LmVuZC5yb3cpOy9eXFxzKyQvLnRlc3QobykmJih0LmVuZC5jb2x1bW49by5sZW5ndGgpfX1pJiYodD1pKX10aGlzLnNlc3Npb24ucmVtb3ZlKHQpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sZS5wcm90b3R5cGUucmVtb3ZlV29yZFJpZ2h0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpJiZ0aGlzLnNlbGVjdGlvbi5zZWxlY3RXb3JkUmlnaHQoKSx0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSksdGhpcy5jbGVhclNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5yZW1vdmVXb3JkTGVmdD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSYmdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZExlZnQoKSx0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSksdGhpcy5jbGVhclNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5yZW1vdmVUb0xpbmVTdGFydD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSYmdGhpcy5zZWxlY3Rpb24uc2VsZWN0TGluZVN0YXJ0KCksdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpJiZ0aGlzLnNlbGVjdGlvbi5zZWxlY3RMZWZ0KCksdGhpcy5zZXNzaW9uLnJlbW92ZSh0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sZS5wcm90b3R5cGUucmVtb3ZlVG9MaW5lRW5kPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpJiZ0aGlzLnNlbGVjdGlvbi5zZWxlY3RMaW5lRW5kKCk7dmFyIGU9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO2Uuc3RhcnQuY29sdW1uPT1lLmVuZC5jb2x1bW4mJmUuc3RhcnQucm93PT1lLmVuZC5yb3cmJihlLmVuZC5jb2x1bW49MCxlLmVuZC5yb3crKyksdGhpcy5zZXNzaW9uLnJlbW92ZShlKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LGUucHJvdG90eXBlLnNwbGl0TGluZT1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KHRoaXMuc2Vzc2lvbi5yZW1vdmUodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCkpO3ZhciBlPXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTt0aGlzLmluc2VydChcIlxcblwiKSx0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKGUpfSxlLnByb3RvdHlwZS5zZXRHaG9zdFRleHQ9ZnVuY3Rpb24oZSx0KXt0aGlzLnJlbmRlcmVyLnNldEdob3N0VGV4dChlLHQpfSxlLnByb3RvdHlwZS5yZW1vdmVHaG9zdFRleHQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnJlbW92ZUdob3N0VGV4dCgpfSxlLnByb3RvdHlwZS50cmFuc3Bvc2VMZXR0ZXJzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSlyZXR1cm47dmFyIGU9dGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpLHQ9ZS5jb2x1bW47aWYodD09PTApcmV0dXJuO3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKGUucm93KSxyLGk7dDxuLmxlbmd0aD8ocj1uLmNoYXJBdCh0KStuLmNoYXJBdCh0LTEpLGk9bmV3IGQoZS5yb3csdC0xLGUucm93LHQrMSkpOihyPW4uY2hhckF0KHQtMSkrbi5jaGFyQXQodC0yKSxpPW5ldyBkKGUucm93LHQtMixlLnJvdyx0KSksdGhpcy5zZXNzaW9uLnJlcGxhY2UoaSxyKSx0aGlzLnNlc3Npb24uc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKGkuZW5kKX0sZS5wcm90b3R5cGUudG9Mb3dlckNhc2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7dGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpJiZ0aGlzLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpLG49dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZSh0KTt0aGlzLnNlc3Npb24ucmVwbGFjZSh0LG4udG9Mb3dlckNhc2UoKSksdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UoZSl9LGUucHJvdG90eXBlLnRvVXBwZXJDYXNlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSYmdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZCgpO3ZhciB0PXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSxuPXRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UodCk7dGhpcy5zZXNzaW9uLnJlcGxhY2UodCxuLnRvVXBwZXJDYXNlKCkpLHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKGUpfSxlLnByb3RvdHlwZS5pbmRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24sdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7aWYodC5zdGFydC5yb3c8dC5lbmQucm93KXt2YXIgbj10aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtlLmluZGVudFJvd3Mobi5maXJzdCxuLmxhc3QsXCJcdFwiKTtyZXR1cm59aWYodC5zdGFydC5jb2x1bW48dC5lbmQuY29sdW1uKXt2YXIgcj1lLmdldFRleHRSYW5nZSh0KTtpZighL15cXHMrJC8udGVzdChyKSl7dmFyIG49dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCk7ZS5pbmRlbnRSb3dzKG4uZmlyc3Qsbi5sYXN0LFwiXHRcIik7cmV0dXJufX12YXIgaT1lLmdldExpbmUodC5zdGFydC5yb3cpLHM9dC5zdGFydCx1PWUuZ2V0VGFiU2l6ZSgpLGE9ZS5kb2N1bWVudFRvU2NyZWVuQ29sdW1uKHMucm93LHMuY29sdW1uKTtpZih0aGlzLnNlc3Npb24uZ2V0VXNlU29mdFRhYnMoKSl2YXIgZj11LWEldSxsPW8uc3RyaW5nUmVwZWF0KFwiIFwiLGYpO2Vsc2V7dmFyIGY9YSV1O3doaWxlKGlbdC5zdGFydC5jb2x1bW4tMV09PVwiIFwiJiZmKXQuc3RhcnQuY29sdW1uLS0sZi0tO3RoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKHQpLGw9XCJcdFwifXJldHVybiB0aGlzLmluc2VydChsKX0sZS5wcm90b3R5cGUuYmxvY2tJbmRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTt0aGlzLnNlc3Npb24uaW5kZW50Um93cyhlLmZpcnN0LGUubGFzdCxcIlx0XCIpfSxlLnByb3RvdHlwZS5ibG9ja091dGRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7dGhpcy5zZXNzaW9uLm91dGRlbnRSb3dzKGUuZ2V0UmFuZ2UoKSl9LGUucHJvdG90eXBlLnNvcnRMaW5lcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJGdldFNlbGVjdGVkUm93cygpLHQ9dGhpcy5zZXNzaW9uLG49W107Zm9yKHZhciByPWUuZmlyc3Q7cjw9ZS5sYXN0O3IrKyluLnB1c2godC5nZXRMaW5lKHIpKTtuLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpPHQudG9Mb3dlckNhc2UoKT8tMTplLnRvTG93ZXJDYXNlKCk+dC50b0xvd2VyQ2FzZSgpPzE6MH0pO3ZhciBpPW5ldyBkKDAsMCwwLDApO2Zvcih2YXIgcj1lLmZpcnN0O3I8PWUubGFzdDtyKyspe3ZhciBzPXQuZ2V0TGluZShyKTtpLnN0YXJ0LnJvdz1yLGkuZW5kLnJvdz1yLGkuZW5kLmNvbHVtbj1zLmxlbmd0aCx0LnJlcGxhY2UoaSxuW3ItZS5maXJzdF0pfX0sZS5wcm90b3R5cGUudG9nZ2xlQ29tbWVudExpbmVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLmdldFN0YXRlKHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKS5yb3cpLHQ9dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCk7dGhpcy5zZXNzaW9uLmdldE1vZGUoKS50b2dnbGVDb21tZW50TGluZXMoZSx0aGlzLnNlc3Npb24sdC5maXJzdCx0Lmxhc3QpfSxlLnByb3RvdHlwZS50b2dnbGVCbG9ja0NvbW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEN1cnNvclBvc2l0aW9uKCksdD10aGlzLnNlc3Npb24uZ2V0U3RhdGUoZS5yb3cpLG49dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO3RoaXMuc2Vzc2lvbi5nZXRNb2RlKCkudG9nZ2xlQmxvY2tDb21tZW50KHQsdGhpcy5zZXNzaW9uLG4sZSl9LGUucHJvdG90eXBlLmdldE51bWJlckF0PWZ1bmN0aW9uKGUsdCl7dmFyIG49L1tcXC1dP1swLTldKyg/OlxcLlswLTldKyk/L2c7bi5sYXN0SW5kZXg9MDt2YXIgcj10aGlzLnNlc3Npb24uZ2V0TGluZShlKTt3aGlsZShuLmxhc3RJbmRleDx0KXt2YXIgaT1uLmV4ZWMocik7aWYoaS5pbmRleDw9dCYmaS5pbmRleCtpWzBdLmxlbmd0aD49dCl7dmFyIHM9e3ZhbHVlOmlbMF0sc3RhcnQ6aS5pbmRleCxlbmQ6aS5pbmRleCtpWzBdLmxlbmd0aH07cmV0dXJuIHN9fXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5tb2RpZnlOdW1iZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCkucm93LG49dGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCkuY29sdW1uLHI9bmV3IGQodCxuLTEsdCxuKSxpPXRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2Uocik7aWYoIWlzTmFOKHBhcnNlRmxvYXQoaSkpJiZpc0Zpbml0ZShpKSl7dmFyIHM9dGhpcy5nZXROdW1iZXJBdCh0LG4pO2lmKHMpe3ZhciBvPXMudmFsdWUuaW5kZXhPZihcIi5cIik+PTA/cy5zdGFydCtzLnZhbHVlLmluZGV4T2YoXCIuXCIpKzE6cy5lbmQsdT1zLnN0YXJ0K3MudmFsdWUubGVuZ3RoLW8sYT1wYXJzZUZsb2F0KHMudmFsdWUpO2EqPU1hdGgucG93KDEwLHUpLG8hPT1zLmVuZCYmbjxvP2UqPU1hdGgucG93KDEwLHMuZW5kLW4tMSk6ZSo9TWF0aC5wb3coMTAscy5lbmQtbiksYSs9ZSxhLz1NYXRoLnBvdygxMCx1KTt2YXIgZj1hLnRvRml4ZWQodSksbD1uZXcgZCh0LHMuc3RhcnQsdCxzLmVuZCk7dGhpcy5zZXNzaW9uLnJlcGxhY2UobCxmKSx0aGlzLm1vdmVDdXJzb3JUbyh0LE1hdGgubWF4KHMuc3RhcnQrMSxuK2YubGVuZ3RoLXMudmFsdWUubGVuZ3RoKSl9fWVsc2UgdGhpcy50b2dnbGVXb3JkKCl9LGUucHJvdG90eXBlLnRvZ2dsZVdvcmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5yb3csdD10aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5jb2x1bW47dGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZCgpO3ZhciBuPXRoaXMuZ2V0U2VsZWN0ZWRUZXh0KCkscj10aGlzLnNlbGVjdGlvbi5nZXRXb3JkUmFuZ2UoKS5zdGFydC5jb2x1bW4saT1uLnJlcGxhY2UoLyhbYS16XSt8W0EtWl0rKSg/PVtBLVpfXXwkKS9nLFwiJDEgXCIpLnNwbGl0KC9cXHMvKSxzPXQtci0xO3M8MCYmKHM9MCk7dmFyIHU9MCxhPTAsZj10aGlzO24ubWF0Y2goL1tBLVphLXowLTlfXSsvKSYmaS5mb3JFYWNoKGZ1bmN0aW9uKHQsaSl7YT11K3QubGVuZ3RoLHM+PXUmJnM8PWEmJihuPXQsZi5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKSxmLm1vdmVDdXJzb3JUbyhlLHUrciksZi5zZWxlY3Rpb24uc2VsZWN0VG8oZSxhK3IpKSx1PWF9KTt2YXIgbD10aGlzLiR0b2dnbGVXb3JkUGFpcnMsYztmb3IodmFyIGg9MDtoPGwubGVuZ3RoO2grKyl7dmFyIHA9bFtoXTtmb3IodmFyIGQ9MDtkPD0xO2QrKyl7dmFyIHY9KyFkLG09bi5tYXRjaChuZXcgUmVnRXhwKFwiXlxcXFxzP18/KFwiK28uZXNjYXBlUmVnRXhwKHBbZF0pK1wiKVxcXFxzPyRcIixcImlcIikpO2lmKG0pe3ZhciBnPW4ubWF0Y2gobmV3IFJlZ0V4cChcIihbX118XnxcXFxccykoXCIrby5lc2NhcGVSZWdFeHAobVsxXSkrXCIpKCR8XFxcXHMpXCIsXCJnXCIpKTtnJiYoYz1uLnJlcGxhY2UobmV3IFJlZ0V4cChvLmVzY2FwZVJlZ0V4cChwW2RdKSxcImlcIiksZnVuY3Rpb24oZSl7dmFyIHQ9cFt2XTtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpPT1lP3Q9dC50b1VwcGVyQ2FzZSgpOmUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCk9PWUuY2hhckF0KDApJiYodD10LnN1YnN0cigwLDApK3Bbdl0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSkpLHR9KSx0aGlzLmluc2VydChjKSxjPVwiXCIpfX19fSxlLnByb3RvdHlwZS5maW5kTGlua0F0PWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxzPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKGUpLG89cy5zcGxpdCgvKCg/Omh0dHBzP3xmdHApOlxcL1xcL1tcXFNdKykvKSx1PXQ7dTwwJiYodT0wKTt2YXIgYT0wLGY9MCxsO3RyeXtmb3IodmFyIGM9cihvKSxoPWMubmV4dCgpOyFoLmRvbmU7aD1jLm5leHQoKSl7dmFyIHA9aC52YWx1ZTtmPWErcC5sZW5ndGg7aWYodT49YSYmdTw9ZiYmcC5tYXRjaCgvKCg/Omh0dHBzP3xmdHApOlxcL1xcL1tcXFNdKykvKSl7bD1wLnJlcGxhY2UoL1tcXHM6LiwnXCI7fVxcXV0rJC8sXCJcIik7YnJlYWt9YT1mfX1jYXRjaChkKXtuPXtlcnJvcjpkfX1maW5hbGx5e3RyeXtoJiYhaC5kb25lJiYoaT1jLnJldHVybikmJmkuY2FsbChjKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19cmV0dXJuIGx9LGUucHJvdG90eXBlLm9wZW5MaW5rPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCksdD10aGlzLmZpbmRMaW5rQXQoZS5yb3csZS5jb2x1bW4pO3JldHVybiB0JiZ3aW5kb3cub3Blbih0LFwiX2JsYW5rXCIpLHQhPW51bGx9LGUucHJvdG90eXBlLnJlbW92ZUxpbmVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCk7dGhpcy5zZXNzaW9uLnJlbW92ZUZ1bGxMaW5lcyhlLmZpcnN0LGUubGFzdCksdGhpcy5jbGVhclNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5kdXBsaWNhdGVTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlbGVjdGlvbix0PXRoaXMuc2Vzc2lvbixuPWUuZ2V0UmFuZ2UoKSxyPWUuaXNCYWNrd2FyZHMoKTtpZihuLmlzRW1wdHkoKSl7dmFyIGk9bi5zdGFydC5yb3c7dC5kdXBsaWNhdGVMaW5lcyhpLGkpfWVsc2V7dmFyIHM9cj9uLnN0YXJ0Om4uZW5kLG89dC5pbnNlcnQocyx0LmdldFRleHRSYW5nZShuKSk7bi5zdGFydD1zLG4uZW5kPW8sZS5zZXRTZWxlY3Rpb25SYW5nZShuLHIpfX0sZS5wcm90b3R5cGUubW92ZUxpbmVzRG93bj1mdW5jdGlvbigpe3RoaXMuJG1vdmVMaW5lcygxLCExKX0sZS5wcm90b3R5cGUubW92ZUxpbmVzVXA9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlTGluZXMoLTEsITEpfSxlLnByb3RvdHlwZS5tb3ZlVGV4dD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuc2Vzc2lvbi5tb3ZlVGV4dChlLHQsbil9LGUucHJvdG90eXBlLmNvcHlMaW5lc1VwPWZ1bmN0aW9uKCl7dGhpcy4kbW92ZUxpbmVzKC0xLCEwKX0sZS5wcm90b3R5cGUuY29weUxpbmVzRG93bj1mdW5jdGlvbigpe3RoaXMuJG1vdmVMaW5lcygxLCEwKX0sZS5wcm90b3R5cGUuJG1vdmVMaW5lcz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaT10aGlzLnNlbGVjdGlvbjtpZighaS5pbk11bHRpU2VsZWN0TW9kZXx8dGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlKXt2YXIgcz1pLnRvT3JpZW50ZWRSYW5nZSgpO249dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKHMpLHI9dGhpcy5zZXNzaW9uLiRtb3ZlTGluZXMobi5maXJzdCxuLmxhc3QsdD8wOmUpLHQmJmU9PS0xJiYocj0wKSxzLm1vdmVCeShyLDApLGkuZnJvbU9yaWVudGVkUmFuZ2Uocyl9ZWxzZXt2YXIgbz1pLnJhbmdlTGlzdC5yYW5nZXM7aS5yYW5nZUxpc3QuZGV0YWNoKHRoaXMuc2Vzc2lvbiksdGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlPSEwO3ZhciB1PTAsYT0wLGY9by5sZW5ndGg7Zm9yKHZhciBsPTA7bDxmO2wrKyl7dmFyIGM9bDtvW2xdLm1vdmVCeSh1LDApLG49dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKG9bbF0pO3ZhciBoPW4uZmlyc3QscD1uLmxhc3Q7d2hpbGUoKytsPGYpe2EmJm9bbF0ubW92ZUJ5KGEsMCk7dmFyIGQ9dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKG9bbF0pO2lmKHQmJmQuZmlyc3QhPXApYnJlYWs7aWYoIXQmJmQuZmlyc3Q+cCsxKWJyZWFrO3A9ZC5sYXN0fWwtLSx1PXRoaXMuc2Vzc2lvbi4kbW92ZUxpbmVzKGgscCx0PzA6ZSksdCYmZT09LTEmJihjPWwrMSk7d2hpbGUoYzw9bClvW2NdLm1vdmVCeSh1LDApLGMrKzt0fHwodT0wKSxhKz11fWkuZnJvbU9yaWVudGVkUmFuZ2UoaS5yYW5nZXNbMF0pLGkucmFuZ2VMaXN0LmF0dGFjaCh0aGlzLnNlc3Npb24pLHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZT0hMX19LGUucHJvdG90eXBlLiRnZXRTZWxlY3RlZFJvd3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9KGV8fHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSkuY29sbGFwc2VSb3dzKCkse2ZpcnN0OnRoaXMuc2Vzc2lvbi5nZXRSb3dGb2xkU3RhcnQoZS5zdGFydC5yb3cpLGxhc3Q6dGhpcy5zZXNzaW9uLmdldFJvd0ZvbGRFbmQoZS5lbmQucm93KX19LGUucHJvdG90eXBlLm9uQ29tcG9zaXRpb25TdGFydD1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnNob3dDb21wb3NpdGlvbihlKX0sZS5wcm90b3R5cGUub25Db21wb3NpdGlvblVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnNldENvbXBvc2l0aW9uVGV4dChlKX0sZS5wcm90b3R5cGUub25Db21wb3NpdGlvbkVuZD1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIuaGlkZUNvbXBvc2l0aW9uKCl9LGUucHJvdG90eXBlLmdldEZpcnN0VmlzaWJsZVJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldEZpcnN0VmlzaWJsZVJvdygpfSxlLnByb3RvdHlwZS5nZXRMYXN0VmlzaWJsZVJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldExhc3RWaXNpYmxlUm93KCl9LGUucHJvdG90eXBlLmlzUm93VmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gZT49dGhpcy5nZXRGaXJzdFZpc2libGVSb3coKSYmZTw9dGhpcy5nZXRMYXN0VmlzaWJsZVJvdygpfSxlLnByb3RvdHlwZS5pc1Jvd0Z1bGx5VmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gZT49dGhpcy5yZW5kZXJlci5nZXRGaXJzdEZ1bGx5VmlzaWJsZVJvdygpJiZlPD10aGlzLnJlbmRlcmVyLmdldExhc3RGdWxseVZpc2libGVSb3coKX0sZS5wcm90b3R5cGUuJGdldFZpc2libGVSb3dDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldFNjcm9sbEJvdHRvbVJvdygpLXRoaXMucmVuZGVyZXIuZ2V0U2Nyb2xsVG9wUm93KCkrMX0sZS5wcm90b3R5cGUuJG1vdmVCeVBhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnJlbmRlcmVyLHI9dGhpcy5yZW5kZXJlci5sYXllckNvbmZpZyxpPWUqTWF0aC5mbG9vcihyLmhlaWdodC9yLmxpbmVIZWlnaHQpO3Q9PT0hMD90aGlzLnNlbGVjdGlvbi4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvckJ5KGksMCl9KTp0PT09ITEmJih0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yQnkoaSwwKSx0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpKTt2YXIgcz1uLnNjcm9sbFRvcDtuLnNjcm9sbEJ5KDAsaSpyLmxpbmVIZWlnaHQpLHQhPW51bGwmJm4uc2Nyb2xsQ3Vyc29ySW50b1ZpZXcobnVsbCwuNSksbi5hbmltYXRlU2Nyb2xsaW5nKHMpfSxlLnByb3RvdHlwZS5zZWxlY3RQYWdlRG93bj1mdW5jdGlvbigpe3RoaXMuJG1vdmVCeVBhZ2UoMSwhMCl9LGUucHJvdG90eXBlLnNlbGVjdFBhZ2VVcD1mdW5jdGlvbigpe3RoaXMuJG1vdmVCeVBhZ2UoLTEsITApfSxlLnByb3RvdHlwZS5nb3RvUGFnZURvd249ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlQnlQYWdlKDEsITEpfSxlLnByb3RvdHlwZS5nb3RvUGFnZVVwPWZ1bmN0aW9uKCl7dGhpcy4kbW92ZUJ5UGFnZSgtMSwhMSl9LGUucHJvdG90eXBlLnNjcm9sbFBhZ2VEb3duPWZ1bmN0aW9uKCl7dGhpcy4kbW92ZUJ5UGFnZSgxKX0sZS5wcm90b3R5cGUuc2Nyb2xsUGFnZVVwPWZ1bmN0aW9uKCl7dGhpcy4kbW92ZUJ5UGFnZSgtMSl9LGUucHJvdG90eXBlLnNjcm9sbFRvUm93PWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2Nyb2xsVG9Sb3coZSl9LGUucHJvdG90eXBlLnNjcm9sbFRvTGluZT1mdW5jdGlvbihlLHQsbixyKXt0aGlzLnJlbmRlcmVyLnNjcm9sbFRvTGluZShlLHQsbixyKX0sZS5wcm90b3R5cGUuY2VudGVyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpLHQ9e3JvdzpNYXRoLmZsb29yKGUuc3RhcnQucm93KyhlLmVuZC5yb3ctZS5zdGFydC5yb3cpLzIpLGNvbHVtbjpNYXRoLmZsb29yKGUuc3RhcnQuY29sdW1uKyhlLmVuZC5jb2x1bW4tZS5zdGFydC5jb2x1bW4pLzIpfTt0aGlzLnJlbmRlcmVyLmFsaWduQ3Vyc29yKHQsLjUpfSxlLnByb3RvdHlwZS5nZXRDdXJzb3JQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKX0sZS5wcm90b3R5cGUuZ2V0Q3Vyc29yUG9zaXRpb25TY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmdldEN1cnNvclBvc2l0aW9uKCkpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25SYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpfSxlLnByb3RvdHlwZS5zZWxlY3RBbGw9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvbi5zZWxlY3RBbGwoKX0sZS5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5tb3ZlQ3Vyc29yVG89ZnVuY3Rpb24oZSx0KXt0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yVG8oZSx0KX0sZS5wcm90b3R5cGUubW92ZUN1cnNvclRvUG9zaXRpb249ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvclRvUG9zaXRpb24oZSl9LGUucHJvdG90eXBlLmp1bXBUb01hdGNoaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpLHI9bmV3IGIodGhpcy5zZXNzaW9uLG4ucm93LG4uY29sdW1uKSxpPXIuZ2V0Q3VycmVudFRva2VuKCkscz0wO2kmJmkudHlwZS5pbmRleE9mKFwidGFnLW5hbWVcIikhPT0tMSYmKGk9ci5zdGVwQmFja3dhcmQoKSk7dmFyIG89aXx8ci5zdGVwRm9yd2FyZCgpO2lmKCFvKXJldHVybjt2YXIgdSxhPSExLGY9e30sbD1uLmNvbHVtbi1vLnN0YXJ0LGMsaD17XCIpXCI6XCIoXCIsXCIoXCI6XCIoXCIsXCJdXCI6XCJbXCIsXCJbXCI6XCJbXCIsXCJ7XCI6XCJ7XCIsXCJ9XCI6XCJ7XCJ9O2Rve2lmKG8udmFsdWUubWF0Y2goL1t7fSgpXFxbXFxdXS9nKSlmb3IoO2w8by52YWx1ZS5sZW5ndGgmJiFhO2wrKyl7aWYoIWhbby52YWx1ZVtsXV0pY29udGludWU7Yz1oW28udmFsdWVbbF1dK1wiLlwiK28udHlwZS5yZXBsYWNlKFwicnBhcmVuXCIsXCJscGFyZW5cIiksaXNOYU4oZltjXSkmJihmW2NdPTApO3N3aXRjaChvLnZhbHVlW2xdKXtjYXNlXCIoXCI6Y2FzZVwiW1wiOmNhc2VcIntcIjpmW2NdKys7YnJlYWs7Y2FzZVwiKVwiOmNhc2VcIl1cIjpjYXNlXCJ9XCI6ZltjXS0tLGZbY109PT0tMSYmKHU9XCJicmFja2V0XCIsYT0hMCl9fWVsc2Ugby50eXBlLmluZGV4T2YoXCJ0YWctbmFtZVwiKSE9PS0xJiYoaXNOYU4oZltvLnZhbHVlXSkmJihmW28udmFsdWVdPTApLGkudmFsdWU9PT1cIjxcIiYmcz4xP2Zbby52YWx1ZV0rKzppLnZhbHVlPT09XCI8L1wiJiZmW28udmFsdWVdLS0sZltvLnZhbHVlXT09PS0xJiYodT1cInRhZ1wiLGE9ITApKTthfHwoaT1vLHMrKyxvPXIuc3RlcEZvcndhcmQoKSxsPTApfXdoaWxlKG8mJiFhKTtpZighdSlyZXR1cm47dmFyIHAsdjtpZih1PT09XCJicmFja2V0XCIpe3A9dGhpcy5zZXNzaW9uLmdldEJyYWNrZXRSYW5nZShuKTtpZighcCl7cD1uZXcgZChyLmdldEN1cnJlbnRUb2tlblJvdygpLHIuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkrbC0xLHIuZ2V0Q3VycmVudFRva2VuUm93KCksci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKStsLTEpLHY9cC5zdGFydDtpZih0fHx2LnJvdz09PW4ucm93JiZNYXRoLmFicyh2LmNvbHVtbi1uLmNvbHVtbik8MilwPXRoaXMuc2Vzc2lvbi5nZXRCcmFja2V0UmFuZ2Uodil9fWVsc2UgaWYodT09PVwidGFnXCIpe2lmKCFvfHxvLnR5cGUuaW5kZXhPZihcInRhZy1uYW1lXCIpPT09LTEpcmV0dXJuO3A9bmV3IGQoci5nZXRDdXJyZW50VG9rZW5Sb3coKSxyLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpLTIsci5nZXRDdXJyZW50VG9rZW5Sb3coKSxyLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpLTIpO2lmKHAuY29tcGFyZShuLnJvdyxuLmNvbHVtbik9PT0wKXt2YXIgbT10aGlzLnNlc3Npb24uZ2V0TWF0Y2hpbmdUYWdzKG4pO20mJihtLm9wZW5UYWcuY29udGFpbnMobi5yb3csbi5jb2x1bW4pPyhwPW0uY2xvc2VUYWcsdj1wLnN0YXJ0KToocD1tLm9wZW5UYWcsbS5jbG9zZVRhZy5zdGFydC5yb3c9PT1uLnJvdyYmbS5jbG9zZVRhZy5zdGFydC5jb2x1bW49PT1uLmNvbHVtbj92PXAuZW5kOnY9cC5zdGFydCkpfXY9dnx8cC5zdGFydH12PXAmJnAuY3Vyc29yfHx2LHYmJihlP3AmJnQ/dGhpcy5zZWxlY3Rpb24uc2V0UmFuZ2UocCk6cCYmcC5pc0VxdWFsKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk/dGhpcy5jbGVhclNlbGVjdGlvbigpOnRoaXMuc2VsZWN0aW9uLnNlbGVjdFRvKHYucm93LHYuY29sdW1uKTp0aGlzLnNlbGVjdGlvbi5tb3ZlVG8odi5yb3csdi5jb2x1bW4pKX0sZS5wcm90b3R5cGUuZ290b0xpbmU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5zZXNzaW9uLnVuZm9sZCh7cm93OmUtMSxjb2x1bW46dHx8MH0pLHRoaXMuZXhpdE11bHRpU2VsZWN0TW9kZSYmdGhpcy5leGl0TXVsdGlTZWxlY3RNb2RlKCksdGhpcy5tb3ZlQ3Vyc29yVG8oZS0xLHR8fDApLHRoaXMuaXNSb3dGdWxseVZpc2libGUoZS0xKXx8dGhpcy5zY3JvbGxUb0xpbmUoZS0xLCEwLG4pfSxlLnByb3RvdHlwZS5uYXZpZ2F0ZVRvPWZ1bmN0aW9uKGUsdCl7dGhpcy5zZWxlY3Rpb24ubW92ZVRvKGUsdCl9LGUucHJvdG90eXBlLm5hdmlnYXRlVXA9ZnVuY3Rpb24oZSl7aWYodGhpcy5zZWxlY3Rpb24uaXNNdWx0aUxpbmUoKSYmIXRoaXMuc2VsZWN0aW9uLmlzQmFja3dhcmRzKCkpe3ZhciB0PXRoaXMuc2VsZWN0aW9uLmFuY2hvci5nZXRQb3NpdGlvbigpO3JldHVybiB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHQpfXRoaXMuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckJ5KC1lfHwtMSwwKX0sZS5wcm90b3R5cGUubmF2aWdhdGVEb3duPWZ1bmN0aW9uKGUpe2lmKHRoaXMuc2VsZWN0aW9uLmlzTXVsdGlMaW5lKCkmJnRoaXMuc2VsZWN0aW9uLmlzQmFja3dhcmRzKCkpe3ZhciB0PXRoaXMuc2VsZWN0aW9uLmFuY2hvci5nZXRQb3NpdGlvbigpO3JldHVybiB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHQpfXRoaXMuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckJ5KGV8fDEsMCl9LGUucHJvdG90eXBlLm5hdmlnYXRlTGVmdD1mdW5jdGlvbihlKXtpZighdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKXt2YXIgdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCkuc3RhcnQ7dGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbih0KX1lbHNle2U9ZXx8MTt3aGlsZShlLS0pdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckxlZnQoKX10aGlzLmNsZWFyU2VsZWN0aW9uKCl9LGUucHJvdG90eXBlLm5hdmlnYXRlUmlnaHQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSl7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpLmVuZDt0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHQpfWVsc2V7ZT1lfHwxO3doaWxlKGUtLSl0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yUmlnaHQoKX10aGlzLmNsZWFyU2VsZWN0aW9uKCl9LGUucHJvdG90eXBlLm5hdmlnYXRlTGluZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckxpbmVTdGFydCgpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sZS5wcm90b3R5cGUubmF2aWdhdGVMaW5lRW5kPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckxpbmVFbmQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LGUucHJvdG90eXBlLm5hdmlnYXRlRmlsZUVuZD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JGaWxlRW5kKCksdGhpcy5jbGVhclNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5uYXZpZ2F0ZUZpbGVTdGFydD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JGaWxlU3RhcnQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LGUucHJvdG90eXBlLm5hdmlnYXRlV29yZFJpZ2h0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvcldvcmRSaWdodCgpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sZS5wcm90b3R5cGUubmF2aWdhdGVXb3JkTGVmdD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JXb3JkTGVmdCgpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sZS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlLHQpe3QmJnRoaXMuJHNlYXJjaC5zZXQodCk7dmFyIG49dGhpcy4kc2VhcmNoLmZpbmQodGhpcy5zZXNzaW9uKSxyPTA7cmV0dXJuIG4/KHRoaXMuJHRyeVJlcGxhY2UobixlKSYmKHI9MSksdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UobiksdGhpcy5yZW5kZXJlci5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldyhuLnN0YXJ0LG4uZW5kKSxyKTpyfSxlLnByb3RvdHlwZS5yZXBsYWNlQWxsPWZ1bmN0aW9uKGUsdCl7dCYmdGhpcy4kc2VhcmNoLnNldCh0KTt2YXIgbj10aGlzLiRzZWFyY2guZmluZEFsbCh0aGlzLnNlc3Npb24pLHI9MDtpZighbi5sZW5ndGgpcmV0dXJuIHI7dmFyIGk9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO3RoaXMuc2VsZWN0aW9uLm1vdmVUbygwLDApO2Zvcih2YXIgcz1uLmxlbmd0aC0xO3M+PTA7LS1zKXRoaXMuJHRyeVJlcGxhY2UobltzXSxlKSYmcisrO3JldHVybiB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShpKSxyfSxlLnByb3RvdHlwZS4kdHJ5UmVwbGFjZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UoZSk7cmV0dXJuIHQ9dGhpcy4kc2VhcmNoLnJlcGxhY2Uobix0KSx0IT09bnVsbD8oZS5lbmQ9dGhpcy5zZXNzaW9uLnJlcGxhY2UoZSx0KSxlKTpudWxsfSxlLnByb3RvdHlwZS5nZXRMYXN0U2VhcmNoT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzZWFyY2guZ2V0T3B0aW9ucygpfSxlLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGUsdCxuKXt0fHwodD17fSksdHlwZW9mIGU9PVwic3RyaW5nXCJ8fGUgaW5zdGFuY2VvZiBSZWdFeHA/dC5uZWVkbGU9ZTp0eXBlb2YgZT09XCJvYmplY3RcIiYmaS5taXhpbih0LGUpO3ZhciByPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7dC5uZWVkbGU9PW51bGwmJihlPXRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2Uocil8fHRoaXMuJHNlYXJjaC4kb3B0aW9ucy5uZWVkbGUsZXx8KHI9dGhpcy5zZXNzaW9uLmdldFdvcmRSYW5nZShyLnN0YXJ0LnJvdyxyLnN0YXJ0LmNvbHVtbiksZT10aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHIpKSx0aGlzLiRzZWFyY2guc2V0KHtuZWVkbGU6ZX0pKSx0aGlzLiRzZWFyY2guc2V0KHQpLHQuc3RhcnR8fHRoaXMuJHNlYXJjaC5zZXQoe3N0YXJ0OnJ9KTt2YXIgcz10aGlzLiRzZWFyY2guZmluZCh0aGlzLnNlc3Npb24pO2lmKHQucHJldmVudFNjcm9sbClyZXR1cm4gcztpZihzKXJldHVybiB0aGlzLnJldmVhbFJhbmdlKHMsbiksczt0LmJhY2t3YXJkcz9yLnN0YXJ0PXIuZW5kOnIuZW5kPXIuc3RhcnQsdGhpcy5zZWxlY3Rpb24uc2V0UmFuZ2Uocil9LGUucHJvdG90eXBlLmZpbmROZXh0PWZ1bmN0aW9uKGUsdCl7dGhpcy5maW5kKHtza2lwQ3VycmVudDohMCxiYWNrd2FyZHM6ITF9LGUsdCl9LGUucHJvdG90eXBlLmZpbmRQcmV2aW91cz1mdW5jdGlvbihlLHQpe3RoaXMuZmluZChlLHtza2lwQ3VycmVudDohMCxiYWNrd2FyZHM6ITB9LHQpfSxlLnByb3RvdHlwZS5yZXZlYWxSYW5nZT1mdW5jdGlvbihlLHQpe3RoaXMuc2Vzc2lvbi51bmZvbGQoZSksdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UoZSk7dmFyIG49dGhpcy5yZW5kZXJlci5zY3JvbGxUb3A7dGhpcy5yZW5kZXJlci5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldyhlLnN0YXJ0LGUuZW5kLC41KSx0IT09ITEmJnRoaXMucmVuZGVyZXIuYW5pbWF0ZVNjcm9sbGluZyhuKX0sZS5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe3RoaXMuc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLnVuZG8odGhpcy5zZXNzaW9uKSx0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KG51bGwsLjUpfSxlLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKCl7dGhpcy5zZXNzaW9uLmdldFVuZG9NYW5hZ2VyKCkucmVkbyh0aGlzLnNlc3Npb24pLHRoaXMucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcobnVsbCwuNSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3llZD0hMCx0aGlzLiR0b0Rlc3Ryb3kmJih0aGlzLiR0b0Rlc3Ryb3kuZm9yRWFjaChmdW5jdGlvbihlKXtlLmRlc3Ryb3koKX0pLHRoaXMuJHRvRGVzdHJveT1bXSksdGhpcy4kbW91c2VIYW5kbGVyJiZ0aGlzLiRtb3VzZUhhbmRsZXIuZGVzdHJveSgpLHRoaXMucmVuZGVyZXIuZGVzdHJveSgpLHRoaXMuX3NpZ25hbChcImRlc3Ryb3lcIix0aGlzKSx0aGlzLnNlc3Npb24mJnRoaXMuc2Vzc2lvbi5kZXN0cm95KCksdGhpcy5fJGVtaXRJbnB1dEV2ZW50JiZ0aGlzLl8kZW1pdElucHV0RXZlbnQuY2FuY2VsKCksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKX0sZS5wcm90b3R5cGUuc2V0QXV0b1Njcm9sbEVkaXRvckludG9WaWV3PWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybjt2YXIgdCxuPXRoaXMscj0hMTt0aGlzLiRzY3JvbGxBbmNob3J8fCh0aGlzLiRzY3JvbGxBbmNob3I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7dmFyIGk9dGhpcy4kc2Nyb2xsQW5jaG9yO2kuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlXCIsdGhpcy5jb250YWluZXIuaW5zZXJ0QmVmb3JlKGksdGhpcy5jb250YWluZXIuZmlyc3RDaGlsZCk7dmFyIHM9dGhpcy5vbihcImNoYW5nZVNlbGVjdGlvblwiLGZ1bmN0aW9uKCl7cj0hMH0pLG89dGhpcy5yZW5kZXJlci5vbihcImJlZm9yZVJlbmRlclwiLGZ1bmN0aW9uKCl7ciYmKHQ9bi5yZW5kZXJlci5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfSksdT10aGlzLnJlbmRlcmVyLm9uKFwiYWZ0ZXJSZW5kZXJcIixmdW5jdGlvbigpe2lmKHImJnQmJihuLmlzRm9jdXNlZCgpfHxuLnNlYXJjaEJveCYmbi5zZWFyY2hCb3guaXNGb2N1c2VkKCkpKXt2YXIgZT1uLnJlbmRlcmVyLHM9ZS4kY3Vyc29yTGF5ZXIuJHBpeGVsUG9zLG89ZS5sYXllckNvbmZpZyx1PXMudG9wLW8ub2Zmc2V0O3MudG9wPj0wJiZ1K3QudG9wPDA/cj0hMDpzLnRvcDxvLmhlaWdodCYmcy50b3ArdC50b3Arby5saW5lSGVpZ2h0PndpbmRvdy5pbm5lckhlaWdodD9yPSExOnI9bnVsbCxyIT1udWxsJiYoaS5zdHlsZS50b3A9dStcInB4XCIsaS5zdHlsZS5sZWZ0PXMubGVmdCtcInB4XCIsaS5zdHlsZS5oZWlnaHQ9by5saW5lSGVpZ2h0K1wicHhcIixpLnNjcm9sbEludG9WaWV3KHIpKSxyPXQ9bnVsbH19KTt0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldz1mdW5jdGlvbihlKXtpZihlKXJldHVybjtkZWxldGUgdGhpcy5zZXRBdXRvU2Nyb2xsRWRpdG9ySW50b1ZpZXcsdGhpcy5vZmYoXCJjaGFuZ2VTZWxlY3Rpb25cIixzKSx0aGlzLnJlbmRlcmVyLm9mZihcImFmdGVyUmVuZGVyXCIsdSksdGhpcy5yZW5kZXJlci5vZmYoXCJiZWZvcmVSZW5kZXJcIixvKX19LGUucHJvdG90eXBlLiRyZXNldEN1cnNvclN0eWxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kY3Vyc29yU3R5bGV8fFwiYWNlXCIsdD10aGlzLnJlbmRlcmVyLiRjdXJzb3JMYXllcjtpZighdClyZXR1cm47dC5zZXRTbW9vdGhCbGlua2luZygvc21vb3RoLy50ZXN0KGUpKSx0LmlzQmxpbmtpbmc9IXRoaXMuJHJlYWRPbmx5JiZlIT1cIndpZGVcIixzLnNldENzc0NsYXNzKHQuZWxlbWVudCxcImFjZV9zbGltLWN1cnNvcnNcIiwvc2xpbS8udGVzdChlKSl9LGUucHJvdG90eXBlLnByb21wdD1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpczt5LmxvYWRNb2R1bGUoXCJhY2UvZXh0L3Byb21wdFwiLGZ1bmN0aW9uKGkpe2kucHJvbXB0KHIsZSx0LG4pfSl9LGV9KCk7Qy4kdWlkPTAsQy5wcm90b3R5cGUuY3VyT3A9bnVsbCxDLnByb3RvdHlwZS5wcmV2T3A9e30sQy5wcm90b3R5cGUuJG1lcmdlYWJsZUNvbW1hbmRzPVtcImJhY2tzcGFjZVwiLFwiZGVsXCIsXCJpbnNlcnRzdHJpbmdcIl0sQy5wcm90b3R5cGUuJHRvZ2dsZVdvcmRQYWlycz1bW1wiZmlyc3RcIixcImxhc3RcIl0sW1widHJ1ZVwiLFwiZmFsc2VcIl0sW1wieWVzXCIsXCJub1wiXSxbXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLFtcInRvcFwiLFwiYm90dG9tXCJdLFtcInJpZ2h0XCIsXCJsZWZ0XCJdLFtcIm9uXCIsXCJvZmZcIl0sW1wieFwiLFwieVwiXSxbXCJnZXRcIixcInNldFwiXSxbXCJtYXhcIixcIm1pblwiXSxbXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiXSxbXCJzaG93XCIsXCJoaWRlXCJdLFtcImFkZFwiLFwicmVtb3ZlXCJdLFtcInVwXCIsXCJkb3duXCJdLFtcImJlZm9yZVwiLFwiYWZ0ZXJcIl0sW1wiZXZlblwiLFwib2RkXCJdLFtcImluXCIsXCJvdXRcIl0sW1wiaW5zaWRlXCIsXCJvdXRzaWRlXCJdLFtcIm5leHRcIixcInByZXZpb3VzXCJdLFtcImluY3JlYXNlXCIsXCJkZWNyZWFzZVwiXSxbXCJhdHRhY2hcIixcImRldGFjaFwiXSxbXCImJlwiLFwifHxcIl0sW1wiPT1cIixcIiE9XCJdXSxpLmltcGxlbWVudChDLnByb3RvdHlwZSx2KSx5LmRlZmluZU9wdGlvbnMoQy5wcm90b3R5cGUsXCJlZGl0b3JcIix7c2VsZWN0aW9uU3R5bGU6e3NldDpmdW5jdGlvbihlKXt0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKCksdGhpcy5fc2lnbmFsKFwiY2hhbmdlU2VsZWN0aW9uU3R5bGVcIix7ZGF0YTplfSl9LGluaXRpYWxWYWx1ZTpcImxpbmVcIn0saGlnaGxpZ2h0QWN0aXZlTGluZTp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSgpfSxpbml0aWFsVmFsdWU6ITB9LGhpZ2hsaWdodFNlbGVjdGVkV29yZDp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlKCl9LGluaXRpYWxWYWx1ZTohMH0scmVhZE9ubHk6e3NldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMudGV4dElucHV0LnNldFJlYWRPbmx5KGUpO2lmKHRoaXMuZGVzdHJveWVkKXJldHVybjt0aGlzLiRyZXNldEN1cnNvclN0eWxlKCksdGhpcy4kcmVhZE9ubHlDYWxsYmFja3x8KHRoaXMuJHJlYWRPbmx5Q2FsbGJhY2s9ZnVuY3Rpb24oZSl7dmFyIG49ITE7aWYoZSYmZS50eXBlPT1cImtleWRvd25cIil7ZSYmZS5rZXkmJiFlLmN0cmxLZXkmJiFlLm1ldGFLZXkmJihlLmtleT09XCIgXCImJmUucHJldmVudERlZmF1bHQoKSxuPWUua2V5Lmxlbmd0aD09MSk7aWYoIW4pcmV0dXJufWVsc2UgZSYmZS50eXBlIT09XCJleGVjXCImJihuPSEwKTtpZihuKXt0LmhvdmVyVG9vbHRpcHx8KHQuaG92ZXJUb29sdGlwPW5ldyBOKTt2YXIgcj1zLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci50ZXh0Q29udGVudD1FKFwiZWRpdG9yLnRvb2x0aXAuZGlzYWJsZS1lZGl0aW5nXCIsXCJFZGl0aW5nIGlzIGRpc2FibGVkXCIpLHQuaG92ZXJUb29sdGlwLmlzT3Blbnx8dC5ob3ZlclRvb2x0aXAuc2hvd0ZvclJhbmdlKHQsdC5nZXRTZWxlY3Rpb25SYW5nZSgpLHIpfWVsc2UgdC5ob3ZlclRvb2x0aXAmJnQuaG92ZXJUb29sdGlwLmlzT3BlbiYmdC5ob3ZlclRvb2x0aXAuaGlkZSgpfSk7dmFyIG49dGhpcy50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpO2U/KFQuYWRkTGlzdGVuZXIobixcImtleWRvd25cIix0aGlzLiRyZWFkT25seUNhbGxiYWNrLHRoaXMpLHRoaXMuY29tbWFuZHMub24oXCJleGVjXCIsdGhpcy4kcmVhZE9ubHlDYWxsYmFjayksdGhpcy5jb21tYW5kcy5vbihcImNvbW1hbmRVbmF2YWlsYWJsZVwiLHRoaXMuJHJlYWRPbmx5Q2FsbGJhY2spKTooVC5yZW1vdmVMaXN0ZW5lcihuLFwia2V5ZG93blwiLHRoaXMuJHJlYWRPbmx5Q2FsbGJhY2spLHRoaXMuY29tbWFuZHMub2ZmKFwiZXhlY1wiLHRoaXMuJHJlYWRPbmx5Q2FsbGJhY2spLHRoaXMuY29tbWFuZHMub2ZmKFwiY29tbWFuZFVuYXZhaWxhYmxlXCIsdGhpcy4kcmVhZE9ubHlDYWxsYmFjayksdGhpcy5ob3ZlclRvb2x0aXAmJih0aGlzLmhvdmVyVG9vbHRpcC5kZXN0cm95KCksdGhpcy5ob3ZlclRvb2x0aXA9bnVsbCkpfSxpbml0aWFsVmFsdWU6ITF9LGNvcHlXaXRoRW1wdHlTZWxlY3Rpb246e3NldDpmdW5jdGlvbihlKXt0aGlzLnRleHRJbnB1dC5zZXRDb3B5V2l0aEVtcHR5U2VsZWN0aW9uKGUpfSxpbml0aWFsVmFsdWU6ITF9LGN1cnNvclN0eWxlOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy4kcmVzZXRDdXJzb3JTdHlsZSgpfSx2YWx1ZXM6W1wiYWNlXCIsXCJzbGltXCIsXCJzbW9vdGhcIixcIndpZGVcIl0saW5pdGlhbFZhbHVlOlwiYWNlXCJ9LG1lcmdlVW5kb0RlbHRhczp7dmFsdWVzOlshMSwhMCxcImFsd2F5c1wiXSxpbml0aWFsVmFsdWU6ITB9LGJlaGF2aW91cnNFbmFibGVkOntpbml0aWFsVmFsdWU6ITB9LHdyYXBCZWhhdmlvdXJzRW5hYmxlZDp7aW5pdGlhbFZhbHVlOiEwfSxlbmFibGVBdXRvSW5kZW50Ontpbml0aWFsVmFsdWU6ITB9LGF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldzp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuc2V0QXV0b1Njcm9sbEVkaXRvckludG9WaWV3KGUpfX0sa2V5Ym9hcmRIYW5kbGVyOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXRLZXlib2FyZEhhbmRsZXIoZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRrZXliaW5kaW5nSWR9LGhhbmRsZXNTZXQ6ITB9LHZhbHVlOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uLnNldFZhbHVlKGUpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpfSxoYW5kbGVzU2V0OiEwLGhpZGRlbjohMH0sc2Vzc2lvbjp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuc2V0U2Vzc2lvbihlKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbn0saGFuZGxlc1NldDohMCxoaWRkZW46ITB9LHNob3dMaW5lTnVtYmVyczp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuJGd1dHRlckxheWVyLnNldFNob3dMaW5lTnVtYmVycyhlKSx0aGlzLnJlbmRlcmVyLiRsb29wLnNjaGVkdWxlKHRoaXMucmVuZGVyZXIuQ0hBTkdFX0dVVFRFUiksZSYmdGhpcy4kcmVsYXRpdmVMaW5lTnVtYmVycz9rLmF0dGFjaCh0aGlzKTprLmRldGFjaCh0aGlzKX0saW5pdGlhbFZhbHVlOiEwfSxyZWxhdGl2ZUxpbmVOdW1iZXJzOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy4kc2hvd0xpbmVOdW1iZXJzJiZlP2suYXR0YWNoKHRoaXMpOmsuZGV0YWNoKHRoaXMpfX0scGxhY2Vob2xkZXI6e3NldDpmdW5jdGlvbihlKXt0aGlzLiR1cGRhdGVQbGFjZWhvbGRlcnx8KHRoaXMuJHVwZGF0ZVBsYWNlaG9sZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uJiYodGhpcy5yZW5kZXJlci4kY29tcG9zaXRpb258fHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKT4xfHx0aGlzLnNlc3Npb24uZ2V0TGluZSgwKS5sZW5ndGg+MCk7aWYoZSYmdGhpcy5yZW5kZXJlci5wbGFjZWhvbGRlck5vZGUpdGhpcy5yZW5kZXJlci5vZmYoXCJhZnRlclJlbmRlclwiLHRoaXMuJHVwZGF0ZVBsYWNlaG9sZGVyKSxzLnJlbW92ZUNzc0NsYXNzKHRoaXMuY29udGFpbmVyLFwiYWNlX2hhc1BsYWNlaG9sZGVyXCIpLHRoaXMucmVuZGVyZXIucGxhY2Vob2xkZXJOb2RlLnJlbW92ZSgpLHRoaXMucmVuZGVyZXIucGxhY2Vob2xkZXJOb2RlPW51bGw7ZWxzZSBpZighZSYmIXRoaXMucmVuZGVyZXIucGxhY2Vob2xkZXJOb2RlKXt0aGlzLnJlbmRlcmVyLm9uKFwiYWZ0ZXJSZW5kZXJcIix0aGlzLiR1cGRhdGVQbGFjZWhvbGRlcikscy5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lcixcImFjZV9oYXNQbGFjZWhvbGRlclwiKTt2YXIgdD1zLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc05hbWU9XCJhY2VfcGxhY2Vob2xkZXJcIix0LnRleHRDb250ZW50PXRoaXMuJHBsYWNlaG9sZGVyfHxcIlwiLHRoaXMucmVuZGVyZXIucGxhY2Vob2xkZXJOb2RlPXQsdGhpcy5yZW5kZXJlci5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIucGxhY2Vob2xkZXJOb2RlKX1lbHNlIWUmJnRoaXMucmVuZGVyZXIucGxhY2Vob2xkZXJOb2RlJiYodGhpcy5yZW5kZXJlci5wbGFjZWhvbGRlck5vZGUudGV4dENvbnRlbnQ9dGhpcy4kcGxhY2Vob2xkZXJ8fFwiXCIpfS5iaW5kKHRoaXMpLHRoaXMub24oXCJpbnB1dFwiLHRoaXMuJHVwZGF0ZVBsYWNlaG9sZGVyKSksdGhpcy4kdXBkYXRlUGxhY2Vob2xkZXIoKX19LGVuYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eTp7c2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiYmx1clRleHRJbnB1dFwiLGRlc2NyaXB0aW9uOlwiU2V0IGZvY3VzIHRvIHRoZSBlZGl0b3IgY29udGVudCBkaXYgdG8gYWxsb3cgdGFiYmluZyB0aHJvdWdoIHRoZSBwYWdlXCIsYmluZEtleTpcIkVzY1wiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5ibHVyKCksZS5yZW5kZXJlci5zY3JvbGxlci5mb2N1cygpfSxyZWFkT25seTohMH0sbj1mdW5jdGlvbihlKXtpZihlLnRhcmdldD09dGhpcy5yZW5kZXJlci5zY3JvbGxlciYmZS5rZXlDb2RlPT09eC5lbnRlcil7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKS5yb3c7dGhpcy5pc1Jvd1Zpc2libGUodCl8fHRoaXMuc2Nyb2xsVG9MaW5lKHQsITAsITApLHRoaXMuZm9jdXMoKX19LHI7ZT8odGhpcy5yZW5kZXJlci5lbmFibGVLZXlib2FyZEFjY2Vzc2liaWxpdHk9ITAsdGhpcy5yZW5kZXJlci5rZXlib2FyZEZvY3VzQ2xhc3NOYW1lPVwiYWNlX2tleWJvYXJkLWZvY3VzXCIsdGhpcy50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsLTEpLHRoaXMudGV4dElucHV0LnNldE51bWJlck9mRXh0cmFMaW5lcyh1LmlzV2luPzM6MCksdGhpcy5yZW5kZXJlci5zY3JvbGxlci5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLDApLHRoaXMucmVuZGVyZXIuc2Nyb2xsZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiZ3JvdXBcIiksdGhpcy5yZW5kZXJlci5zY3JvbGxlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLXJvbGVkZXNjcmlwdGlvblwiLEUoXCJlZGl0b3Iuc2Nyb2xsZXIuYXJpYS1yb2xlZGVzY3JpcHRpb25cIixcImVkaXRvclwiKSksdGhpcy5yZW5kZXJlci5zY3JvbGxlci5jbGFzc0xpc3QuYWRkKHRoaXMucmVuZGVyZXIua2V5Ym9hcmRGb2N1c0NsYXNzTmFtZSksdGhpcy5yZW5kZXJlci5zY3JvbGxlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsRShcImVkaXRvci5zY3JvbGxlci5hcmlhLWxhYmVsXCIsXCJFZGl0b3IgY29udGVudCwgcHJlc3MgRW50ZXIgdG8gc3RhcnQgZWRpdGluZywgcHJlc3MgRXNjYXBlIHRvIGV4aXRcIikpLHRoaXMucmVuZGVyZXIuc2Nyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsbi5iaW5kKHRoaXMpKSx0aGlzLmNvbW1hbmRzLmFkZENvbW1hbmQodCksdGhpcy5yZW5kZXJlci4kZ3V0dGVyLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsMCksdGhpcy5yZW5kZXJlci4kZ3V0dGVyLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsITEpLHRoaXMucmVuZGVyZXIuJGd1dHRlci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJncm91cFwiKSx0aGlzLnJlbmRlcmVyLiRndXR0ZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1yb2xlZGVzY3JpcHRpb25cIixFKFwiZWRpdG9yLmd1dHRlci5hcmlhLXJvbGVkZXNjcmlwdGlvblwiLFwiZWRpdG9yIGd1dHRlclwiKSksdGhpcy5yZW5kZXJlci4kZ3V0dGVyLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixFKFwiZWRpdG9yLmd1dHRlci5hcmlhLWxhYmVsXCIsXCJFZGl0b3IgZ3V0dGVyLCBwcmVzcyBFbnRlciB0byBpbnRlcmFjdCB3aXRoIGNvbnRyb2xzIHVzaW5nIGFycm93IGtleXMsIHByZXNzIEVzY2FwZSB0byBleGl0XCIpKSx0aGlzLnJlbmRlcmVyLiRndXR0ZXIuY2xhc3NMaXN0LmFkZCh0aGlzLnJlbmRlcmVyLmtleWJvYXJkRm9jdXNDbGFzc05hbWUpLHRoaXMucmVuZGVyZXIuY29udGVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCEwKSxyfHwocj1uZXcgdyh0aGlzKSksci5hZGRMaXN0ZW5lcigpLHRoaXMudGV4dElucHV0LnNldEFyaWFPcHRpb25zKHtzZXRMYWJlbDohMH0pKToodGhpcy5yZW5kZXJlci5lbmFibGVLZXlib2FyZEFjY2Vzc2liaWxpdHk9ITEsdGhpcy50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsMCksdGhpcy50ZXh0SW5wdXQuc2V0TnVtYmVyT2ZFeHRyYUxpbmVzKDApLHRoaXMucmVuZGVyZXIuc2Nyb2xsZXIuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwtMSksdGhpcy5yZW5kZXJlci5zY3JvbGxlci5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpLHRoaXMucmVuZGVyZXIuc2Nyb2xsZXIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1yb2xlZGVzY3JpcHRpb25cIiksdGhpcy5yZW5kZXJlci5zY3JvbGxlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMucmVuZGVyZXIua2V5Ym9hcmRGb2N1c0NsYXNzTmFtZSksdGhpcy5yZW5kZXJlci5zY3JvbGxlci5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpLHRoaXMucmVuZGVyZXIuc2Nyb2xsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsbi5iaW5kKHRoaXMpKSx0aGlzLmNvbW1hbmRzLnJlbW92ZUNvbW1hbmQodCksdGhpcy5yZW5kZXJlci5jb250ZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpLHRoaXMucmVuZGVyZXIuJGd1dHRlci5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLC0xKSx0aGlzLnJlbmRlcmVyLiRndXR0ZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwhMCksdGhpcy5yZW5kZXJlci4kZ3V0dGVyLnJlbW92ZUF0dHJpYnV0ZShcInJvbGVcIiksdGhpcy5yZW5kZXJlci4kZ3V0dGVyLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCIpLHRoaXMucmVuZGVyZXIuJGd1dHRlci5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpLHRoaXMucmVuZGVyZXIuJGd1dHRlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMucmVuZGVyZXIua2V5Ym9hcmRGb2N1c0NsYXNzTmFtZSksciYmci5yZW1vdmVMaXN0ZW5lcigpKX0saW5pdGlhbFZhbHVlOiExfSx0ZXh0SW5wdXRBcmlhTGFiZWw6e3NldDpmdW5jdGlvbihlKXt0aGlzLiR0ZXh0SW5wdXRBcmlhTGFiZWw9ZX0saW5pdGlhbFZhbHVlOlwiXCJ9LGVuYWJsZU1vYmlsZU1lbnU6e3NldDpmdW5jdGlvbihlKXt0aGlzLiRlbmFibGVNb2JpbGVNZW51PWV9LGluaXRpYWxWYWx1ZTohMH0sY3VzdG9tU2Nyb2xsYmFyOlwicmVuZGVyZXJcIixoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZTpcInJlbmRlcmVyXCIsdlNjcm9sbEJhckFsd2F5c1Zpc2libGU6XCJyZW5kZXJlclwiLGhpZ2hsaWdodEd1dHRlckxpbmU6XCJyZW5kZXJlclwiLGFuaW1hdGVkU2Nyb2xsOlwicmVuZGVyZXJcIixzaG93SW52aXNpYmxlczpcInJlbmRlcmVyXCIsc2hvd1ByaW50TWFyZ2luOlwicmVuZGVyZXJcIixwcmludE1hcmdpbkNvbHVtbjpcInJlbmRlcmVyXCIscHJpbnRNYXJnaW46XCJyZW5kZXJlclwiLGZhZGVGb2xkV2lkZ2V0czpcInJlbmRlcmVyXCIsc2hvd0ZvbGRXaWRnZXRzOlwicmVuZGVyZXJcIixkaXNwbGF5SW5kZW50R3VpZGVzOlwicmVuZGVyZXJcIixoaWdobGlnaHRJbmRlbnRHdWlkZXM6XCJyZW5kZXJlclwiLHNob3dHdXR0ZXI6XCJyZW5kZXJlclwiLGZvbnRTaXplOlwicmVuZGVyZXJcIixmb250RmFtaWx5OlwicmVuZGVyZXJcIixtYXhMaW5lczpcInJlbmRlcmVyXCIsbWluTGluZXM6XCJyZW5kZXJlclwiLHNjcm9sbFBhc3RFbmQ6XCJyZW5kZXJlclwiLGZpeGVkV2lkdGhHdXR0ZXI6XCJyZW5kZXJlclwiLHRoZW1lOlwicmVuZGVyZXJcIixoYXNDc3NUcmFuc2Zvcm1zOlwicmVuZGVyZXJcIixtYXhQaXhlbEhlaWdodDpcInJlbmRlcmVyXCIsdXNlVGV4dGFyZWFGb3JJTUU6XCJyZW5kZXJlclwiLHVzZVJlc2l6ZU9ic2VydmVyOlwicmVuZGVyZXJcIix1c2VTdmdHdXR0ZXJJY29uczpcInJlbmRlcmVyXCIsc2hvd0ZvbGRlZEFubm90YXRpb25zOlwicmVuZGVyZXJcIixzY3JvbGxTcGVlZDpcIiRtb3VzZUhhbmRsZXJcIixkcmFnRGVsYXk6XCIkbW91c2VIYW5kbGVyXCIsZHJhZ0VuYWJsZWQ6XCIkbW91c2VIYW5kbGVyXCIsZm9jdXNUaW1lb3V0OlwiJG1vdXNlSGFuZGxlclwiLHRvb2x0aXBGb2xsb3dzTW91c2U6XCIkbW91c2VIYW5kbGVyXCIsZmlyc3RMaW5lTnVtYmVyOlwic2Vzc2lvblwiLG92ZXJ3cml0ZTpcInNlc3Npb25cIixuZXdMaW5lTW9kZTpcInNlc3Npb25cIix1c2VXb3JrZXI6XCJzZXNzaW9uXCIsdXNlU29mdFRhYnM6XCJzZXNzaW9uXCIsbmF2aWdhdGVXaXRoaW5Tb2Z0VGFiczpcInNlc3Npb25cIix0YWJTaXplOlwic2Vzc2lvblwiLHdyYXA6XCJzZXNzaW9uXCIsaW5kZW50ZWRTb2Z0V3JhcDpcInNlc3Npb25cIixmb2xkU3R5bGU6XCJzZXNzaW9uXCIsbW9kZTpcInNlc3Npb25cIn0pO3ZhciBrPXtnZXRUZXh0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuKE1hdGguYWJzKGUuc2VsZWN0aW9uLmxlYWQucm93LXQpfHx0KzErKHQ8OT9cIlxcdTAwYjdcIjpcIlwiKSkrXCJcIn0sZ2V0V2lkdGg6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBNYXRoLm1heCh0LnRvU3RyaW5nKCkubGVuZ3RoLChuLmxhc3RSb3crMSkudG9TdHJpbmcoKS5sZW5ndGgsMikqbi5jaGFyYWN0ZXJXaWR0aH0sdXBkYXRlOmZ1bmN0aW9uKGUsdCl7dC5yZW5kZXJlci4kbG9vcC5zY2hlZHVsZSh0LnJlbmRlcmVyLkNIQU5HRV9HVVRURVIpfSxhdHRhY2g6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuJHJlbmRlcmVyPXRoaXMsZS5vbihcImNoYW5nZVNlbGVjdGlvblwiLHRoaXMudXBkYXRlKSx0aGlzLnVwZGF0ZShudWxsLGUpfSxkZXRhY2g6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuJHJlbmRlcmVyPT10aGlzJiYoZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuJHJlbmRlcmVyPW51bGwpLGUub2ZmKFwiY2hhbmdlU2VsZWN0aW9uXCIsdGhpcy51cGRhdGUpLHRoaXMudXBkYXRlKG51bGwsZSl9fTt0LkVkaXRvcj1DfSksYWNlLmRlZmluZShcImFjZS9sYXllci9saW5lc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi9saWIvZG9tXCIpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5lbGVtZW50PWUsdGhpcy5jYW52YXNIZWlnaHQ9dHx8NWU1LHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQ9dGhpcy5jYW52YXNIZWlnaHQqMitcInB4XCIsdGhpcy5jZWxscz1bXSx0aGlzLmNlbGxDYWNoZT1bXSx0aGlzLiRvZmZzZXRDb2VmZmljaWVudD0wfXJldHVybiBlLnByb3RvdHlwZS5tb3ZlQ29udGFpbmVyPWZ1bmN0aW9uKGUpe3IudHJhbnNsYXRlKHRoaXMuZWxlbWVudCwwLC0oZS5maXJzdFJvd1NjcmVlbiplLmxpbmVIZWlnaHQldGhpcy5jYW52YXNIZWlnaHQpLWUub2Zmc2V0KnRoaXMuJG9mZnNldENvZWZmaWNpZW50KX0sZS5wcm90b3R5cGUucGFnZUNoYW5nZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5mbG9vcihlLmZpcnN0Um93U2NyZWVuKmUubGluZUhlaWdodC90aGlzLmNhbnZhc0hlaWdodCkhPT1NYXRoLmZsb29yKHQuZmlyc3RSb3dTY3JlZW4qdC5saW5lSGVpZ2h0L3RoaXMuY2FudmFzSGVpZ2h0KX0sZS5wcm90b3R5cGUuY29tcHV0ZUxpbmVUb3A9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQuZmlyc3RSb3dTY3JlZW4qdC5saW5lSGVpZ2h0LGk9TWF0aC5mbG9vcihyL3RoaXMuY2FudmFzSGVpZ2h0KSxzPW4uZG9jdW1lbnRUb1NjcmVlblJvdyhlLDApKnQubGluZUhlaWdodDtyZXR1cm4gcy1pKnRoaXMuY2FudmFzSGVpZ2h0fSxlLnByb3RvdHlwZS5jb21wdXRlTGluZUhlaWdodD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQubGluZUhlaWdodCpuLmdldFJvd0xpbmVDb3VudChlKX0sZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHMubGVuZ3RofSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2VsbHNbZV19LGUucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7dGhpcy4kY2FjaGVDZWxsKHRoaXMuY2VsbHMuc2hpZnQoKSl9LGUucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3RoaXMuJGNhY2hlQ2VsbCh0aGlzLmNlbGxzLnBvcCgpKX0sZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXt0aGlzLmNlbGxzLnB1c2guYXBwbHkodGhpcy5jZWxscyxlKTt2YXIgdD1yLmNyZWF0ZUZyYWdtZW50KHRoaXMuZWxlbWVudCk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC5hcHBlbmRDaGlsZChlW25dLmVsZW1lbnQpO3RoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0KX1lbHNlIHRoaXMuY2VsbHMucHVzaChlKSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZS5lbGVtZW50KX0sZS5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXt0aGlzLmNlbGxzLnVuc2hpZnQuYXBwbHkodGhpcy5jZWxscyxlKTt2YXIgdD1yLmNyZWF0ZUZyYWdtZW50KHRoaXMuZWxlbWVudCk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC5hcHBlbmRDaGlsZChlW25dLmVsZW1lbnQpO3RoaXMuZWxlbWVudC5maXJzdENoaWxkP3RoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUodCx0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZCk6dGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHQpfWVsc2UgdGhpcy5jZWxscy51bnNoaWZ0KGUpLHRoaXMuZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsZS5lbGVtZW50KX0sZS5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzLmxlbmd0aD90aGlzLmNlbGxzW3RoaXMuY2VsbHMubGVuZ3RoLTFdOm51bGx9LGUucHJvdG90eXBlLiRjYWNoZUNlbGw9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO2UuZWxlbWVudC5yZW1vdmUoKSx0aGlzLmNlbGxDYWNoZS5wdXNoKGUpfSxlLnByb3RvdHlwZS5jcmVhdGVDZWxsPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBzPXRoaXMuY2VsbENhY2hlLnBvcCgpO2lmKCFzKXt2YXIgbz1yLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aSYmaShvKSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQobykscz17ZWxlbWVudDpvLHRleHQ6XCJcIixyb3c6ZX19cmV0dXJuIHMucm93PWUsc30sZX0oKTt0LkxpbmVzPWl9KSxhY2UuZGVmaW5lKFwiYWNlL2xheWVyL2d1dHRlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL2xheWVyL2xpbmVzXCIsXCJhY2UvY29uZmlnXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBsKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2UuYXBwZW5kQ2hpbGQodCk7dmFyIG49ci5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtlLmFwcGVuZENoaWxkKG4pO3ZhciBpPXIuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ZS5hcHBlbmRDaGlsZChpKTt2YXIgcz1yLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3JldHVybiBpLmFwcGVuZENoaWxkKHMpLGV9dmFyIHI9ZShcIi4uL2xpYi9kb21cIiksaT1lKFwiLi4vbGliL29vcFwiKSxzPWUoXCIuLi9saWIvbGFuZ1wiKSxvPWUoXCIuLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXIsdT1lKFwiLi9saW5lc1wiKS5MaW5lcyxhPWUoXCIuLi9jb25maWdcIikubmxzLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZWxlbWVudD1yLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5lbGVtZW50LmNsYXNzTmFtZT1cImFjZV9sYXllciBhY2VfZ3V0dGVyLWxheWVyXCIsZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuc2V0U2hvd0ZvbGRXaWRnZXRzKHRoaXMuJHNob3dGb2xkV2lkZ2V0cyksdGhpcy5ndXR0ZXJXaWR0aD0wLHRoaXMuJGFubm90YXRpb25zPVtdLHRoaXMuJHVwZGF0ZUFubm90YXRpb25zPXRoaXMuJHVwZGF0ZUFubm90YXRpb25zLmJpbmQodGhpcyksdGhpcy4kbGluZXM9bmV3IHUodGhpcy5lbGVtZW50KSx0aGlzLiRsaW5lcy4kb2Zmc2V0Q29lZmZpY2llbnQ9MX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0U2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb24mJnRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VcIix0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucyksdGhpcy5zZXNzaW9uPWUsZSYmZS5vbihcImNoYW5nZVwiLHRoaXMuJHVwZGF0ZUFubm90YXRpb25zKX0sZS5wcm90b3R5cGUuYWRkR3V0dGVyRGVjb3JhdGlvbj1mdW5jdGlvbihlLHQpe3dpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcImRlcHJlY2F0ZWQgdXNlIHNlc3Npb24uYWRkR3V0dGVyRGVjb3JhdGlvblwiKSx0aGlzLnNlc3Npb24uYWRkR3V0dGVyRGVjb3JhdGlvbihlLHQpfSxlLnByb3RvdHlwZS5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUsdCl7d2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKFwiZGVwcmVjYXRlZCB1c2Ugc2Vzc2lvbi5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uXCIpLHRoaXMuc2Vzc2lvbi5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uKGUsdCl9LGUucHJvdG90eXBlLnNldEFubm90YXRpb25zPWZ1bmN0aW9uKGUpe3RoaXMuJGFubm90YXRpb25zPVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLHI9bi5yb3csaT10aGlzLiRhbm5vdGF0aW9uc1tyXTtpfHwoaT10aGlzLiRhbm5vdGF0aW9uc1tyXT17dGV4dDpbXSx0eXBlOltdLGRpc3BsYXlUZXh0OltdfSk7dmFyIG89bi50ZXh0LHU9bi50ZXh0LGE9bi50eXBlO289bz9zLmVzY2FwZUhUTUwobyk6bi5odG1sfHxcIlwiLHU9dT91Om4uaHRtbHx8XCJcIixpLnRleHQuaW5kZXhPZihvKT09PS0xJiYoaS50ZXh0LnB1c2gobyksaS50eXBlLnB1c2goYSksaS5kaXNwbGF5VGV4dC5wdXNoKHUpKTt2YXIgZj1uLmNsYXNzTmFtZTtmP2kuY2xhc3NOYW1lPWY6YT09PVwiZXJyb3JcIj9pLmNsYXNzTmFtZT1cIiBhY2VfZXJyb3JcIjphPT09XCJzZWN1cml0eVwiJiYhL1xcYmFjZV9lcnJvclxcYi8udGVzdChpLmNsYXNzTmFtZSk/aS5jbGFzc05hbWU9XCIgYWNlX3NlY3VyaXR5XCI6YT09PVwid2FybmluZ1wiJiYhL1xcYmFjZV8oZXJyb3J8c2VjdXJpdHkpXFxiLy50ZXN0KGkuY2xhc3NOYW1lKT9pLmNsYXNzTmFtZT1cIiBhY2Vfd2FybmluZ1wiOmE9PT1cImluZm9cIiYmIWkuY2xhc3NOYW1lP2kuY2xhc3NOYW1lPVwiIGFjZV9pbmZvXCI6YT09PVwiaGludFwiJiYhaS5jbGFzc05hbWUmJihpLmNsYXNzTmFtZT1cIiBhY2VfaGludFwiKX19LGUucHJvdG90eXBlLiR1cGRhdGVBbm5vdGF0aW9ucz1mdW5jdGlvbihlKXtpZighdGhpcy4kYW5ub3RhdGlvbnMubGVuZ3RoKXJldHVybjt2YXIgdD1lLnN0YXJ0LnJvdyxuPWUuZW5kLnJvdy10O2lmKG4hPT0wKWlmKGUuYWN0aW9uPT1cInJlbW92ZVwiKXRoaXMuJGFubm90YXRpb25zLnNwbGljZSh0LG4rMSxudWxsKTtlbHNle3ZhciByPW5ldyBBcnJheShuKzEpO3IudW5zaGlmdCh0LDEpLHRoaXMuJGFubm90YXRpb25zLnNwbGljZS5hcHBseSh0aGlzLiRhbm5vdGF0aW9ucyxyKX19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLmNvbmZpZz1lO3ZhciB0PXRoaXMuc2Vzc2lvbixuPWUuZmlyc3RSb3cscj1NYXRoLm1pbihlLmxhc3RSb3crZS5ndXR0ZXJPZmZzZXQsdC5nZXRMZW5ndGgoKS0xKTt0aGlzLm9sZExhc3RSb3c9cix0aGlzLmNvbmZpZz1lLHRoaXMuJGxpbmVzLm1vdmVDb250YWluZXIoZSksdGhpcy4kdXBkYXRlQ3Vyc29yUm93KCk7dmFyIGk9dC5nZXROZXh0Rm9sZExpbmUobikscz1pP2kuc3RhcnQucm93OkluZmluaXR5LG89bnVsbCx1PS0xLGE9bjtmb3IoOzspe2E+cyYmKGE9aS5lbmQucm93KzEsaT10LmdldE5leHRGb2xkTGluZShhLGkpLHM9aT9pLnN0YXJ0LnJvdzpJbmZpbml0eSk7aWYoYT5yKXt3aGlsZSh0aGlzLiRsaW5lcy5nZXRMZW5ndGgoKT51KzEpdGhpcy4kbGluZXMucG9wKCk7YnJlYWt9bz10aGlzLiRsaW5lcy5nZXQoKyt1KSxvP28ucm93PWE6KG89dGhpcy4kbGluZXMuY3JlYXRlQ2VsbChhLGUsdGhpcy5zZXNzaW9uLGwpLHRoaXMuJGxpbmVzLnB1c2gobykpLHRoaXMuJHJlbmRlckNlbGwobyxlLGksYSksYSsrfXRoaXMuX3NpZ25hbChcImFmdGVyUmVuZGVyXCIpLHRoaXMuJHVwZGF0ZUd1dHRlcldpZHRoKGUpfSxlLnByb3RvdHlwZS4kdXBkYXRlR3V0dGVyV2lkdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zZXNzaW9uLG49dC5ndXR0ZXJSZW5kZXJlcnx8dGhpcy4kcmVuZGVyZXIscj10LiRmaXJzdExpbmVOdW1iZXIsaT10aGlzLiRsaW5lcy5sYXN0KCk/dGhpcy4kbGluZXMubGFzdCgpLnRleHQ6XCJcIjtpZih0aGlzLiRmaXhlZFdpZHRofHx0LiR1c2VXcmFwTW9kZSlpPXQuZ2V0TGVuZ3RoKCkrci0xO3ZhciBzPW4/bi5nZXRXaWR0aCh0LGksZSk6aS50b1N0cmluZygpLmxlbmd0aCplLmNoYXJhY3RlcldpZHRoLG89dGhpcy4kcGFkZGluZ3x8dGhpcy4kY29tcHV0ZVBhZGRpbmcoKTtzKz1vLmxlZnQrby5yaWdodCxzIT09dGhpcy5ndXR0ZXJXaWR0aCYmIWlzTmFOKHMpJiYodGhpcy5ndXR0ZXJXaWR0aD1zLHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnN0eWxlLndpZHRoPXRoaXMuZWxlbWVudC5zdHlsZS53aWR0aD1NYXRoLmNlaWwodGhpcy5ndXR0ZXJXaWR0aCkrXCJweFwiLHRoaXMuX3NpZ25hbChcImNoYW5nZUd1dHRlcldpZHRoXCIscykpfSxlLnByb3RvdHlwZS4kdXBkYXRlQ3Vyc29yUm93PWZ1bmN0aW9uKCl7aWYoIXRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUpcmV0dXJuO3ZhciBlPXRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCk7aWYodGhpcy4kY3Vyc29yUm93PT09ZS5yb3cpcmV0dXJuO3RoaXMuJGN1cnNvclJvdz1lLnJvd30sZS5wcm90b3R5cGUudXBkYXRlTGluZUhpZ2hsaWdodD1mdW5jdGlvbigpe2lmKCF0aGlzLiRoaWdobGlnaHRHdXR0ZXJMaW5lKXJldHVybjt2YXIgZT10aGlzLnNlc3Npb24uc2VsZWN0aW9uLmN1cnNvci5yb3c7dGhpcy4kY3Vyc29yUm93PWU7aWYodGhpcy4kY3Vyc29yQ2VsbCYmdGhpcy4kY3Vyc29yQ2VsbC5yb3c9PWUpcmV0dXJuO3RoaXMuJGN1cnNvckNlbGwmJih0aGlzLiRjdXJzb3JDZWxsLmVsZW1lbnQuY2xhc3NOYW1lPXRoaXMuJGN1cnNvckNlbGwuZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShcImFjZV9ndXR0ZXItYWN0aXZlLWxpbmUgXCIsXCJcIikpO3ZhciB0PXRoaXMuJGxpbmVzLmNlbGxzO3RoaXMuJGN1cnNvckNlbGw9bnVsbDtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihyLnJvdz49dGhpcy4kY3Vyc29yUm93KXtpZihyLnJvdz50aGlzLiRjdXJzb3JSb3cpe3ZhciBpPXRoaXMuc2Vzc2lvbi5nZXRGb2xkTGluZSh0aGlzLiRjdXJzb3JSb3cpO2lmKCEobj4wJiZpJiZpLnN0YXJ0LnJvdz09dFtuLTFdLnJvdykpYnJlYWs7cj10W24tMV19ci5lbGVtZW50LmNsYXNzTmFtZT1cImFjZV9ndXR0ZXItYWN0aXZlLWxpbmUgXCIrci5lbGVtZW50LmNsYXNzTmFtZSx0aGlzLiRjdXJzb3JDZWxsPXI7YnJlYWt9fX0sZS5wcm90b3R5cGUuc2Nyb2xsTGluZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb25maWc7dGhpcy5jb25maWc9ZSx0aGlzLiR1cGRhdGVDdXJzb3JSb3coKTtpZih0aGlzLiRsaW5lcy5wYWdlQ2hhbmdlZCh0LGUpKXJldHVybiB0aGlzLnVwZGF0ZShlKTt0aGlzLiRsaW5lcy5tb3ZlQ29udGFpbmVyKGUpO3ZhciBuPU1hdGgubWluKGUubGFzdFJvdytlLmd1dHRlck9mZnNldCx0aGlzLnNlc3Npb24uZ2V0TGVuZ3RoKCktMSkscj10aGlzLm9sZExhc3RSb3c7dGhpcy5vbGRMYXN0Um93PW47aWYoIXR8fHI8ZS5maXJzdFJvdylyZXR1cm4gdGhpcy51cGRhdGUoZSk7aWYobjx0LmZpcnN0Um93KXJldHVybiB0aGlzLnVwZGF0ZShlKTtpZih0LmZpcnN0Um93PGUuZmlyc3RSb3cpZm9yKHZhciBpPXRoaXMuc2Vzc2lvbi5nZXRGb2xkZWRSb3dDb3VudCh0LmZpcnN0Um93LGUuZmlyc3RSb3ctMSk7aT4wO2ktLSl0aGlzLiRsaW5lcy5zaGlmdCgpO2lmKHI+bilmb3IodmFyIGk9dGhpcy5zZXNzaW9uLmdldEZvbGRlZFJvd0NvdW50KG4rMSxyKTtpPjA7aS0tKXRoaXMuJGxpbmVzLnBvcCgpO2UuZmlyc3RSb3c8dC5maXJzdFJvdyYmdGhpcy4kbGluZXMudW5zaGlmdCh0aGlzLiRyZW5kZXJMaW5lcyhlLGUuZmlyc3RSb3csdC5maXJzdFJvdy0xKSksbj5yJiZ0aGlzLiRsaW5lcy5wdXNoKHRoaXMuJHJlbmRlckxpbmVzKGUscisxLG4pKSx0aGlzLnVwZGF0ZUxpbmVIaWdobGlnaHQoKSx0aGlzLl9zaWduYWwoXCJhZnRlclJlbmRlclwiKSx0aGlzLiR1cGRhdGVHdXR0ZXJXaWR0aChlKX0sZS5wcm90b3R5cGUuJHJlbmRlckxpbmVzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXSxpPXQscz10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKGkpLG89cz9zLnN0YXJ0LnJvdzpJbmZpbml0eTtmb3IoOzspe2k+byYmKGk9cy5lbmQucm93KzEscz10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKGkscyksbz1zP3Muc3RhcnQucm93OkluZmluaXR5KTtpZihpPm4pYnJlYWs7dmFyIHU9dGhpcy4kbGluZXMuY3JlYXRlQ2VsbChpLGUsdGhpcy5zZXNzaW9uLGwpO3RoaXMuJHJlbmRlckNlbGwodSxlLHMsaSksci5wdXNoKHUpLGkrK31yZXR1cm4gcn0sZS5wcm90b3R5cGUuJHJlbmRlckNlbGw9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHM9ZS5lbGVtZW50LG89dGhpcy5zZXNzaW9uLHU9cy5jaGlsZE5vZGVzWzBdLGY9cy5jaGlsZE5vZGVzWzFdLGw9cy5jaGlsZE5vZGVzWzJdLGM9cy5jaGlsZE5vZGVzWzNdLGg9bC5maXJzdENoaWxkLHA9by4kZmlyc3RMaW5lTnVtYmVyLGQ9by4kYnJlYWtwb2ludHMsdj1vLiRkZWNvcmF0aW9ucyxtPW8uZ3V0dGVyUmVuZGVyZXJ8fHRoaXMuJHJlbmRlcmVyLGc9dGhpcy4kc2hvd0ZvbGRXaWRnZXRzJiZvLmZvbGRXaWRnZXRzLHk9bj9uLnN0YXJ0LnJvdzpOdW1iZXIuTUFYX1ZBTFVFLGI9dC5saW5lSGVpZ2h0K1wicHhcIix3PXRoaXMuJHVzZVN2Z0d1dHRlckljb25zP1wiYWNlX2d1dHRlci1jZWxsX3N2Zy1pY29ucyBcIjpcImFjZV9ndXR0ZXItY2VsbCBcIixFPXRoaXMuJHVzZVN2Z0d1dHRlckljb25zP1wiYWNlX2ljb25fc3ZnXCI6XCJhY2VfaWNvblwiLFM9KG0/bS5nZXRUZXh0KG8saSk6aStwKS50b1N0cmluZygpO3RoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUmJihpPT10aGlzLiRjdXJzb3JSb3d8fG4mJmk8dGhpcy4kY3Vyc29yUm93JiZpPj15JiZ0aGlzLiRjdXJzb3JSb3c8PW4uZW5kLnJvdykmJih3Kz1cImFjZV9ndXR0ZXItYWN0aXZlLWxpbmUgXCIsdGhpcy4kY3Vyc29yQ2VsbCE9ZSYmKHRoaXMuJGN1cnNvckNlbGwmJih0aGlzLiRjdXJzb3JDZWxsLmVsZW1lbnQuY2xhc3NOYW1lPXRoaXMuJGN1cnNvckNlbGwuZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShcImFjZV9ndXR0ZXItYWN0aXZlLWxpbmUgXCIsXCJcIikpLHRoaXMuJGN1cnNvckNlbGw9ZSkpLGRbaV0mJih3Kz1kW2ldKSx2W2ldJiYodys9dltpXSksdGhpcy4kYW5ub3RhdGlvbnNbaV0mJmkhPT15JiYodys9dGhpcy4kYW5ub3RhdGlvbnNbaV0uY2xhc3NOYW1lKTtpZihnKXt2YXIgeD1nW2ldO3g9PW51bGwmJih4PWdbaV09by5nZXRGb2xkV2lkZ2V0KGkpKX1pZih4KXt2YXIgVD1cImFjZV9mb2xkLXdpZGdldCBhY2VfXCIreCxOPXg9PVwic3RhcnRcIiYmaT09eSYmaTxuLmVuZC5yb3c7aWYoTil7VCs9XCIgYWNlX2Nsb3NlZFwiO3ZhciBDPVwiXCIsaz0hMTtmb3IodmFyIEw9aSsxO0w8PW4uZW5kLnJvdztMKyspe2lmKCF0aGlzLiRhbm5vdGF0aW9uc1tMXSljb250aW51ZTtpZih0aGlzLiRhbm5vdGF0aW9uc1tMXS5jbGFzc05hbWU9PT1cIiBhY2VfZXJyb3JcIil7az0hMCxDPVwiIGFjZV9lcnJvcl9mb2xkXCI7YnJlYWt9dGhpcy4kYW5ub3RhdGlvbnNbTF0uY2xhc3NOYW1lPT09XCIgYWNlX3NlY3VyaXR5XCI/KGs9ITAsQz1cIiBhY2Vfc2VjdXJpdHlfZm9sZFwiKTp0aGlzLiRhbm5vdGF0aW9uc1tMXS5jbGFzc05hbWU9PT1cIiBhY2Vfd2FybmluZ1wiJiZDIT09XCIgYWNlX3NlY3VyaXR5X2ZvbGRcIiYmKGs9ITAsQz1cIiBhY2Vfd2FybmluZ19mb2xkXCIpfXcrPUN9ZWxzZSBUKz1cIiBhY2Vfb3BlblwiO2YuY2xhc3NOYW1lIT1UJiYoZi5jbGFzc05hbWU9VCksci5zZXRTdHlsZShmLnN0eWxlLFwiaGVpZ2h0XCIsYiksci5zZXRTdHlsZShmLnN0eWxlLFwiZGlzcGxheVwiLFwiaW5saW5lLWJsb2NrXCIpLGYuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpLGYuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpO3ZhciBBPW8uZ2V0Rm9sZFdpZGdldFJhbmdlKGkpO0E/Zi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsYShcImd1dHRlci5jb2RlLWZvbGRpbmcucmFuZ2UuYXJpYS1sYWJlbFwiLFwiVG9nZ2xlIGNvZGUgZm9sZGluZywgcm93cyAkMCB0aHJvdWdoICQxXCIsW0Euc3RhcnQucm93KzEsQS5lbmQucm93KzFdKSk6bj9mLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixhKFwiZ3V0dGVyLmNvZGUtZm9sZGluZy5jbG9zZWQuYXJpYS1sYWJlbFwiLFwiVG9nZ2xlIGNvZGUgZm9sZGluZywgcm93cyAkMCB0aHJvdWdoICQxXCIsW24uc3RhcnQucm93KzEsbi5lbmQucm93KzFdKSk6Zi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsYShcImd1dHRlci5jb2RlLWZvbGRpbmcub3Blbi5hcmlhLWxhYmVsXCIsXCJUb2dnbGUgY29kZSBmb2xkaW5nLCByb3cgJDBcIixbaSsxXSkpLE4/KGYuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIiksZi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGEoXCJndXR0ZXIuY29kZS1mb2xkaW5nLmNsb3NlZC50aXRsZVwiLFwiVW5mb2xkIGNvZGVcIikpKTooZi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpLGYuc2V0QXR0cmlidXRlKFwidGl0bGVcIixhKFwiZ3V0dGVyLmNvZGUtZm9sZGluZy5vcGVuLnRpdGxlXCIsXCJGb2xkIGNvZGVcIikpKX1lbHNlIGYmJihyLnNldFN0eWxlKGYuc3R5bGUsXCJkaXNwbGF5XCIsXCJub25lXCIpLGYuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksZi5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpLGYucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSk7dmFyIE89dGhpcy5zZXNzaW9uLiRndXR0ZXJDdXN0b21XaWRnZXRzW2ldO08/dGhpcy4kYWRkQ3VzdG9tV2lkZ2V0KGksTyxlKTpjJiZ0aGlzLiRyZW1vdmVDdXN0b21XaWRnZXQoaSxlKTtpZihrJiZ0aGlzLiRzaG93Rm9sZGVkQW5ub3RhdGlvbnMpe2wuY2xhc3NOYW1lPVwiYWNlX2d1dHRlcl9hbm5vdGF0aW9uXCIsaC5jbGFzc05hbWU9RSxoLmNsYXNzTmFtZSs9QyxyLnNldFN0eWxlKGguc3R5bGUsXCJoZWlnaHRcIixiKSxyLnNldFN0eWxlKGwuc3R5bGUsXCJkaXNwbGF5XCIsXCJibG9ja1wiKSxyLnNldFN0eWxlKGwuc3R5bGUsXCJoZWlnaHRcIixiKTt2YXIgTTtzd2l0Y2goQyl7Y2FzZVwiIGFjZV9lcnJvcl9mb2xkXCI6TT1hKFwiZ3V0dGVyLmFubm90YXRpb24uYXJpYS1sYWJlbC5lcnJvclwiLFwiRXJyb3IsIHJlYWQgYW5ub3RhdGlvbnMgcm93ICQwXCIsW1NdKTticmVhaztjYXNlXCIgYWNlX3NlY3VyaXR5X2ZvbGRcIjpNPWEoXCJndXR0ZXIuYW5ub3RhdGlvbi5hcmlhLWxhYmVsLnNlY3VyaXR5XCIsXCJTZWN1cml0eSBmaW5kaW5nLCByZWFkIGFubm90YXRpb25zIHJvdyAkMFwiLFtTXSk7YnJlYWs7Y2FzZVwiIGFjZV93YXJuaW5nX2ZvbGRcIjpNPWEoXCJndXR0ZXIuYW5ub3RhdGlvbi5hcmlhLWxhYmVsLndhcm5pbmdcIixcIldhcm5pbmcsIHJlYWQgYW5ub3RhdGlvbnMgcm93ICQwXCIsW1NdKX1sLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixNKSxsLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKSxsLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImJ1dHRvblwiKX1lbHNlIGlmKHRoaXMuJGFubm90YXRpb25zW2ldKXtsLmNsYXNzTmFtZT1cImFjZV9ndXR0ZXJfYW5ub3RhdGlvblwiLGguY2xhc3NOYW1lPUUsdGhpcy4kdXNlU3ZnR3V0dGVySWNvbnM/aC5jbGFzc05hbWUrPXRoaXMuJGFubm90YXRpb25zW2ldLmNsYXNzTmFtZTpzLmNsYXNzTGlzdC5hZGQodGhpcy4kYW5ub3RhdGlvbnNbaV0uY2xhc3NOYW1lLnJlcGxhY2UoXCIgXCIsXCJcIikpLHIuc2V0U3R5bGUoaC5zdHlsZSxcImhlaWdodFwiLGIpLHIuc2V0U3R5bGUobC5zdHlsZSxcImRpc3BsYXlcIixcImJsb2NrXCIpLHIuc2V0U3R5bGUobC5zdHlsZSxcImhlaWdodFwiLGIpO3ZhciBNO3N3aXRjaCh0aGlzLiRhbm5vdGF0aW9uc1tpXS5jbGFzc05hbWUpe2Nhc2VcIiBhY2VfZXJyb3JcIjpNPWEoXCJndXR0ZXIuYW5ub3RhdGlvbi5hcmlhLWxhYmVsLmVycm9yXCIsXCJFcnJvciwgcmVhZCBhbm5vdGF0aW9ucyByb3cgJDBcIixbU10pO2JyZWFrO2Nhc2VcIiBhY2Vfc2VjdXJpdHlcIjpNPWEoXCJndXR0ZXIuYW5ub3RhdGlvbi5hcmlhLWxhYmVsLnNlY3VyaXR5XCIsXCJTZWN1cml0eSBmaW5kaW5nLCByZWFkIGFubm90YXRpb25zIHJvdyAkMFwiLFtTXSk7YnJlYWs7Y2FzZVwiIGFjZV93YXJuaW5nXCI6TT1hKFwiZ3V0dGVyLmFubm90YXRpb24uYXJpYS1sYWJlbC53YXJuaW5nXCIsXCJXYXJuaW5nLCByZWFkIGFubm90YXRpb25zIHJvdyAkMFwiLFtTXSk7YnJlYWs7Y2FzZVwiIGFjZV9pbmZvXCI6TT1hKFwiZ3V0dGVyLmFubm90YXRpb24uYXJpYS1sYWJlbC5pbmZvXCIsXCJJbmZvLCByZWFkIGFubm90YXRpb25zIHJvdyAkMFwiLFtTXSk7YnJlYWs7Y2FzZVwiIGFjZV9oaW50XCI6TT1hKFwiZ3V0dGVyLmFubm90YXRpb24uYXJpYS1sYWJlbC5oaW50XCIsXCJTdWdnZXN0aW9uLCByZWFkIGFubm90YXRpb25zIHJvdyAkMFwiLFtTXSl9bC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsTSksbC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiLTFcIiksbC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIil9ZWxzZSByLnNldFN0eWxlKGwuc3R5bGUsXCJkaXNwbGF5XCIsXCJub25lXCIpLGwucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSxsLnJlbW92ZUF0dHJpYnV0ZShcInJvbGVcIiksbC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKTtyZXR1cm4gUyE9PXUuZGF0YSYmKHUuZGF0YT1TKSxzLmNsYXNzTmFtZSE9dyYmKHMuY2xhc3NOYW1lPXcpLHIuc2V0U3R5bGUoZS5lbGVtZW50LnN0eWxlLFwiaGVpZ2h0XCIsdGhpcy4kbGluZXMuY29tcHV0ZUxpbmVIZWlnaHQoaSx0LG8pK1wicHhcIiksci5zZXRTdHlsZShlLmVsZW1lbnQuc3R5bGUsXCJ0b3BcIix0aGlzLiRsaW5lcy5jb21wdXRlTGluZVRvcChpLHQsbykrXCJweFwiKSxlLnRleHQ9UyxsLnN0eWxlLmRpc3BsYXk9PT1cIm5vbmVcIiYmZi5zdHlsZS5kaXNwbGF5PT09XCJub25lXCImJiFPP2UuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCEwKTplLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwhMSksZX0sZS5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbihlKXt0aGlzLiRoaWdobGlnaHRHdXR0ZXJMaW5lPWV9LGUucHJvdG90eXBlLnNldFNob3dMaW5lTnVtYmVycz1mdW5jdGlvbihlKXt0aGlzLiRyZW5kZXJlcj0hZSYme2dldFdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX19LGUucHJvdG90eXBlLmdldFNob3dMaW5lTnVtYmVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzaG93TGluZU51bWJlcnN9LGUucHJvdG90eXBlLnNldFNob3dGb2xkV2lkZ2V0cz1mdW5jdGlvbihlKXtlP3IuYWRkQ3NzQ2xhc3ModGhpcy5lbGVtZW50LFwiYWNlX2ZvbGRpbmctZW5hYmxlZFwiKTpyLnJlbW92ZUNzc0NsYXNzKHRoaXMuZWxlbWVudCxcImFjZV9mb2xkaW5nLWVuYWJsZWRcIiksdGhpcy4kc2hvd0ZvbGRXaWRnZXRzPWUsdGhpcy4kcGFkZGluZz1udWxsfSxlLnByb3RvdHlwZS5nZXRTaG93Rm9sZFdpZGdldHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2hvd0ZvbGRXaWRnZXRzfSxlLnByb3RvdHlwZS4kaGlkZUZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHx0aGlzLiRnZXRHdXR0ZXJDZWxsKGUpO2lmKG4mJm4uZWxlbWVudCl7dmFyIGk9bi5lbGVtZW50LmNoaWxkTm9kZXNbMV07aSYmci5zZXRTdHlsZShpLnN0eWxlLFwiZGlzcGxheVwiLFwibm9uZVwiKX19LGUucHJvdG90eXBlLiRzaG93Rm9sZFdpZGdldD1mdW5jdGlvbihlLHQpe3ZhciBuPXR8fHRoaXMuJGdldEd1dHRlckNlbGwoZSk7aWYobiYmbi5lbGVtZW50KXt2YXIgaT1uLmVsZW1lbnQuY2hpbGROb2Rlc1sxXTtpJiZ0aGlzLnNlc3Npb24uZm9sZFdpZGdldHMmJnRoaXMuc2Vzc2lvbi5mb2xkV2lkZ2V0c1tuLnJvd10mJnIuc2V0U3R5bGUoaS5zdHlsZSxcImRpc3BsYXlcIixcImlubGluZS1ibG9ja1wiKX19LGUucHJvdG90eXBlLiRnZXRHdXR0ZXJDZWxsPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJGxpbmVzLmNlbGxzLG49dGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Sb3coZSwwKTtyZXR1cm4gdFtlLXRoaXMuY29uZmlnLmZpcnN0Um93U2NyZWVuLShlLW4pXX0sZS5wcm90b3R5cGUuJGFkZEN1c3RvbVdpZGdldD1mdW5jdGlvbihlLHQsbil7dmFyIGk9dC5jbGFzc05hbWUscz10LmxhYmVsLG89dC50aXRsZSx1PXQuY2FsbGJhY2tzO3RoaXMuc2Vzc2lvbi4kZ3V0dGVyQ3VzdG9tV2lkZ2V0c1tlXT17Y2xhc3NOYW1lOmksbGFiZWw6cyx0aXRsZTpvLGNhbGxiYWNrczp1fSx0aGlzLiRoaWRlRm9sZFdpZGdldChlLG4pO3ZhciBhPW58fHRoaXMuJGdldEd1dHRlckNlbGwoZSk7aWYoYSYmYS5lbGVtZW50KXt2YXIgZj1hLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY2VfY3VzdG9tLXdpZGdldFwiKTtmJiZmLnJlbW92ZSgpLGY9ci5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxmLmNsYXNzTmFtZT1cImFjZV9jdXN0b20td2lkZ2V0IFwiLmNvbmNhdChpKSxmLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKSxmLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImJ1dHRvblwiKSxmLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixzKSxmLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsbyksci5zZXRTdHlsZShmLnN0eWxlLFwiZGlzcGxheVwiLFwiaW5saW5lLWJsb2NrXCIpLHIuc2V0U3R5bGUoZi5zdHlsZSxcImhlaWdodFwiLFwiaW5oZXJpdFwiKSx1JiZ1Lm9uQ2xpY2smJmYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCl7dS5vbkNsaWNrKHQsZSksdC5zdG9wUHJvcGFnYXRpb24oKX0pLGEuZWxlbWVudC5hcHBlbmRDaGlsZChmKX19LGUucHJvdG90eXBlLiRyZW1vdmVDdXN0b21XaWRnZXQ9ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5zZXNzaW9uLiRndXR0ZXJDdXN0b21XaWRnZXRzW2VdLHRoaXMuJHNob3dGb2xkV2lkZ2V0KGUsdCk7dmFyIG49dHx8dGhpcy4kZ2V0R3V0dGVyQ2VsbChlKTtpZihuJiZuLmVsZW1lbnQpe3ZhciByPW4uZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjZV9jdXN0b20td2lkZ2V0XCIpO3ImJm4uZWxlbWVudC5yZW1vdmVDaGlsZChyKX19LGUucHJvdG90eXBlLiRjb21wdXRlUGFkZGluZz1mdW5jdGlvbigpe2lmKCF0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZClyZXR1cm57bGVmdDowLHJpZ2h0OjB9O3ZhciBlPXIuY29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZCk7cmV0dXJuIHRoaXMuJHBhZGRpbmc9e30sdGhpcy4kcGFkZGluZy5sZWZ0PShwYXJzZUludChlLmJvcmRlckxlZnRXaWR0aCl8fDApKyhwYXJzZUludChlLnBhZGRpbmdMZWZ0KXx8MCkrMSx0aGlzLiRwYWRkaW5nLnJpZ2h0PShwYXJzZUludChlLmJvcmRlclJpZ2h0V2lkdGgpfHwwKSsocGFyc2VJbnQoZS5wYWRkaW5nUmlnaHQpfHwwKSx0aGlzLiRwYWRkaW5nfSxlLnByb3RvdHlwZS5nZXRSZWdpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kcGFkZGluZ3x8dGhpcy4kY29tcHV0ZVBhZGRpbmcoKSxuPXRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihlLng8dC5sZWZ0K24ubGVmdClyZXR1cm5cIm1hcmtlcnNcIjtpZih0aGlzLiRzaG93Rm9sZFdpZGdldHMmJmUueD5uLnJpZ2h0LXQucmlnaHQpcmV0dXJuXCJmb2xkV2lkZ2V0c1wifSxlfSgpO2YucHJvdG90eXBlLiRmaXhlZFdpZHRoPSExLGYucHJvdG90eXBlLiRoaWdobGlnaHRHdXR0ZXJMaW5lPSEwLGYucHJvdG90eXBlLiRyZW5kZXJlcj1cIlwiLGYucHJvdG90eXBlLiRzaG93TGluZU51bWJlcnM9ITAsZi5wcm90b3R5cGUuJHNob3dGb2xkV2lkZ2V0cz0hMCxpLmltcGxlbWVudChmLnByb3RvdHlwZSxvKSx0Lkd1dHRlcj1mfSksYWNlLmRlZmluZShcImFjZS9sYXllci9tYXJrZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZVwiLFwiYWNlL2xpYi9kb21cIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0LG4scil7cmV0dXJuKGU/MTowKXwodD8yOjApfChuPzQ6MCl8KHI/ODowKX12YXIgcj1lKFwiLi4vcmFuZ2VcIikuUmFuZ2UsaT1lKFwiLi4vbGliL2RvbVwiKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmVsZW1lbnQ9aS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9XCJhY2VfbGF5ZXIgYWNlX21hcmtlci1sYXllclwiLGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWV9LGUucHJvdG90eXBlLnNldFNlc3Npb249ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uPWV9LGUucHJvdG90eXBlLnNldE1hcmtlcnM9ZnVuY3Rpb24oZSl7dGhpcy5tYXJrZXJzPWV9LGUucHJvdG90eXBlLmVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuaSE9LTEmJnRoaXMuZWxlbWVudC5jaGlsZE5vZGVzW3RoaXMuaV07bj90aGlzLmkrKzoobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChuKSx0aGlzLmk9LTEpLG4uc3R5bGUuY3NzVGV4dD10LG4uY2xhc3NOYW1lPWV9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dGhpcy5jb25maWc9ZSx0aGlzLmk9MDt2YXIgdDtmb3IodmFyIG4gaW4gdGhpcy5tYXJrZXJzKXt2YXIgcj10aGlzLm1hcmtlcnNbbl07aWYoIXIucmFuZ2Upe3IudXBkYXRlKHQsdGhpcyx0aGlzLnNlc3Npb24sZSk7Y29udGludWV9dmFyIGk9ci5yYW5nZS5jbGlwUm93cyhlLmZpcnN0Um93LGUubGFzdFJvdyk7aWYoaS5pc0VtcHR5KCkpY29udGludWU7aT1pLnRvU2NyZWVuUmFuZ2UodGhpcy5zZXNzaW9uKTtpZihyLnJlbmRlcmVyKXt2YXIgcz10aGlzLiRnZXRUb3AoaS5zdGFydC5yb3csZSksbz10aGlzLiRwYWRkaW5nK2kuc3RhcnQuY29sdW1uKmUuY2hhcmFjdGVyV2lkdGg7ci5yZW5kZXJlcih0LGksbyxzLGUpfWVsc2Ugci50eXBlPT1cImZ1bGxMaW5lXCI/dGhpcy5kcmF3RnVsbExpbmVNYXJrZXIodCxpLHIuY2xhenosZSk6ci50eXBlPT1cInNjcmVlbkxpbmVcIj90aGlzLmRyYXdTY3JlZW5MaW5lTWFya2VyKHQsaSxyLmNsYXp6LGUpOmkuaXNNdWx0aUxpbmUoKT9yLnR5cGU9PVwidGV4dFwiP3RoaXMuZHJhd1RleHRNYXJrZXIodCxpLHIuY2xhenosZSk6dGhpcy5kcmF3TXVsdGlMaW5lTWFya2VyKHQsaSxyLmNsYXp6LGUpOnRoaXMuZHJhd1NpbmdsZUxpbmVNYXJrZXIodCxpLHIuY2xhenorXCIgYWNlX3N0YXJ0XCIrXCIgYWNlX2JyMTVcIixlKX1pZih0aGlzLmkhPS0xKXdoaWxlKHRoaXMuaTx0aGlzLmVsZW1lbnQuY2hpbGRFbGVtZW50Q291bnQpdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudC5sYXN0Q2hpbGQpfSxlLnByb3RvdHlwZS4kZ2V0VG9wPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUtdC5maXJzdFJvd1NjcmVlbikqdC5saW5lSGVpZ2h0fSxlLnByb3RvdHlwZS5kcmF3VGV4dE1hcmtlcj1mdW5jdGlvbihlLHQsbixpLHMpe3ZhciB1PXRoaXMuc2Vzc2lvbixhPXQuc3RhcnQucm93LGY9dC5lbmQucm93LGw9YSxjPTAsaD0wLHA9dS5nZXRTY3JlZW5MYXN0Um93Q29sdW1uKGwpLGQ9bmV3IHIobCx0LnN0YXJ0LmNvbHVtbixsLGgpO2Zvcig7bDw9ZjtsKyspZC5zdGFydC5yb3c9ZC5lbmQucm93PWwsZC5zdGFydC5jb2x1bW49bD09YT90LnN0YXJ0LmNvbHVtbjp1LmdldFJvd1dyYXBJbmRlbnQobCksZC5lbmQuY29sdW1uPXAsYz1oLGg9cCxwPWwrMTxmP3UuZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbihsKzEpOmw9PWY/MDp0LmVuZC5jb2x1bW4sdGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcihlLGQsbisobD09YT9cIiBhY2Vfc3RhcnRcIjpcIlwiKStcIiBhY2VfYnJcIitvKGw9PWF8fGw9PWErMSYmdC5zdGFydC5jb2x1bW4sYzxoLGg+cCxsPT1mKSxpLGw9PWY/MDoxLHMpfSxlLnByb3RvdHlwZS5kcmF3TXVsdGlMaW5lTWFya2VyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9dGhpcy4kcGFkZGluZyxvPXIubGluZUhlaWdodCx1PXRoaXMuJGdldFRvcCh0LnN0YXJ0LnJvdyxyKSxhPXMrdC5zdGFydC5jb2x1bW4qci5jaGFyYWN0ZXJXaWR0aDtpPWl8fFwiXCI7aWYodGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5pc0JpZGlSb3codC5zdGFydC5yb3cpKXt2YXIgZj10LmNsb25lKCk7Zi5lbmQucm93PWYuc3RhcnQucm93LGYuZW5kLmNvbHVtbj10aGlzLnNlc3Npb24uZ2V0TGluZShmLnN0YXJ0LnJvdykubGVuZ3RoLHRoaXMuZHJhd0JpZGlTaW5nbGVMaW5lTWFya2VyKGUsZixuK1wiIGFjZV9icjEgYWNlX3N0YXJ0XCIscixudWxsLGkpfWVsc2UgdGhpcy5lbHQobitcIiBhY2VfYnIxIGFjZV9zdGFydFwiLFwiaGVpZ2h0OlwiK28rXCJweDtcIitcInJpZ2h0OlwiK3MrXCJweDtcIitcInRvcDpcIit1K1wicHg7bGVmdDpcIithK1wicHg7XCIrKGl8fFwiXCIpKTtpZih0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmlzQmlkaVJvdyh0LmVuZC5yb3cpKXt2YXIgZj10LmNsb25lKCk7Zi5zdGFydC5yb3c9Zi5lbmQucm93LGYuc3RhcnQuY29sdW1uPTAsdGhpcy5kcmF3QmlkaVNpbmdsZUxpbmVNYXJrZXIoZSxmLG4rXCIgYWNlX2JyMTJcIixyLG51bGwsaSl9ZWxzZXt1PXRoaXMuJGdldFRvcCh0LmVuZC5yb3cscik7dmFyIGw9dC5lbmQuY29sdW1uKnIuY2hhcmFjdGVyV2lkdGg7dGhpcy5lbHQobitcIiBhY2VfYnIxMlwiLFwiaGVpZ2h0OlwiK28rXCJweDtcIitcIndpZHRoOlwiK2wrXCJweDtcIitcInRvcDpcIit1K1wicHg7XCIrXCJsZWZ0OlwiK3MrXCJweDtcIisoaXx8XCJcIikpfW89KHQuZW5kLnJvdy10LnN0YXJ0LnJvdy0xKSpyLmxpbmVIZWlnaHQ7aWYobzw9MClyZXR1cm47dT10aGlzLiRnZXRUb3AodC5zdGFydC5yb3crMSxyKTt2YXIgYz0odC5zdGFydC5jb2x1bW4/MTowKXwodC5lbmQuY29sdW1uPzA6OCk7dGhpcy5lbHQobisoYz9cIiBhY2VfYnJcIitjOlwiXCIpLFwiaGVpZ2h0OlwiK28rXCJweDtcIitcInJpZ2h0OlwiK3MrXCJweDtcIitcInRvcDpcIit1K1wicHg7XCIrXCJsZWZ0OlwiK3MrXCJweDtcIisoaXx8XCJcIikpfSxlLnByb3RvdHlwZS5kcmF3U2luZ2xlTGluZU1hcmtlcj1mdW5jdGlvbihlLHQsbixyLGkscyl7aWYodGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5pc0JpZGlSb3codC5zdGFydC5yb3cpKXJldHVybiB0aGlzLmRyYXdCaWRpU2luZ2xlTGluZU1hcmtlcihlLHQsbixyLGkscyk7dmFyIG89ci5saW5lSGVpZ2h0LHU9KHQuZW5kLmNvbHVtbisoaXx8MCktdC5zdGFydC5jb2x1bW4pKnIuY2hhcmFjdGVyV2lkdGgsYT10aGlzLiRnZXRUb3AodC5zdGFydC5yb3csciksZj10aGlzLiRwYWRkaW5nK3Quc3RhcnQuY29sdW1uKnIuY2hhcmFjdGVyV2lkdGg7dGhpcy5lbHQobixcImhlaWdodDpcIitvK1wicHg7XCIrXCJ3aWR0aDpcIit1K1wicHg7XCIrXCJ0b3A6XCIrYStcInB4O1wiK1wibGVmdDpcIitmK1wicHg7XCIrKHN8fFwiXCIpKX0sZS5wcm90b3R5cGUuZHJhd0JpZGlTaW5nbGVMaW5lTWFya2VyPWZ1bmN0aW9uKGUsdCxuLHIsaSxzKXt2YXIgbz1yLmxpbmVIZWlnaHQsdT10aGlzLiRnZXRUb3AodC5zdGFydC5yb3csciksYT10aGlzLiRwYWRkaW5nLGY9dGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5nZXRTZWxlY3Rpb25zKHQuc3RhcnQuY29sdW1uLHQuZW5kLmNvbHVtbik7Zi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuZWx0KG4sXCJoZWlnaHQ6XCIrbytcInB4O1wiK1wid2lkdGg6XCIrKGUud2lkdGgrKGl8fDApKStcInB4O1wiK1widG9wOlwiK3UrXCJweDtcIitcImxlZnQ6XCIrKGErZS5sZWZ0KStcInB4O1wiKyhzfHxcIlwiKSl9LHRoaXMpfSxlLnByb3RvdHlwZS5kcmF3RnVsbExpbmVNYXJrZXI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgcz10aGlzLiRnZXRUb3AodC5zdGFydC5yb3csciksbz1yLmxpbmVIZWlnaHQ7dC5zdGFydC5yb3chPXQuZW5kLnJvdyYmKG8rPXRoaXMuJGdldFRvcCh0LmVuZC5yb3csciktcyksdGhpcy5lbHQobixcImhlaWdodDpcIitvK1wicHg7XCIrXCJ0b3A6XCIrcytcInB4O1wiK1wibGVmdDowO3JpZ2h0OjA7XCIrKGl8fFwiXCIpKX0sZS5wcm90b3R5cGUuZHJhd1NjcmVlbkxpbmVNYXJrZXI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgcz10aGlzLiRnZXRUb3AodC5zdGFydC5yb3csciksbz1yLmxpbmVIZWlnaHQ7dGhpcy5lbHQobixcImhlaWdodDpcIitvK1wicHg7XCIrXCJ0b3A6XCIrcytcInB4O1wiK1wibGVmdDowO3JpZ2h0OjA7XCIrKGl8fFwiXCIpKX0sZX0oKTtzLnByb3RvdHlwZS4kcGFkZGluZz0wLHQuTWFya2VyPXN9KSxhY2UuZGVmaW5lKFwiYWNlL2xheWVyL3RleHRfdXRpbFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IFNldChbXCJ0ZXh0XCIsXCJycGFyZW5cIixcImxwYXJlblwiXSk7dC5pc1RleHRUb2tlbj1mdW5jdGlvbihlKXtyZXR1cm4gci5oYXMoZSl9fSksYWNlLmRlZmluZShcImFjZS9sYXllci90ZXh0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2xheWVyL2xpbmVzXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixcImFjZS9jb25maWdcIixcImFjZS9sYXllci90ZXh0X3V0aWxcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi9saWIvb29wXCIpLGk9ZShcIi4uL2xpYi9kb21cIikscz1lKFwiLi4vbGliL2xhbmdcIiksbz1lKFwiLi9saW5lc1wiKS5MaW5lcyx1PWUoXCIuLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXIsYT1lKFwiLi4vY29uZmlnXCIpLm5scyxmPWUoXCIuL3RleHRfdXRpbFwiKS5pc1RleHRUb2tlbixsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmRvbT1pLHRoaXMuZWxlbWVudD10aGlzLmRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9XCJhY2VfbGF5ZXIgYWNlX3RleHQtbGF5ZXJcIixlLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCksdGhpcy4kdXBkYXRlRW9sQ2hhcj10aGlzLiR1cGRhdGVFb2xDaGFyLmJpbmQodGhpcyksdGhpcy4kbGluZXM9bmV3IG8odGhpcy5lbGVtZW50KX1yZXR1cm4gZS5wcm90b3R5cGUuJHVwZGF0ZUVvbENoYXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24uZG9jLHQ9ZS5nZXROZXdMaW5lQ2hhcmFjdGVyKCk9PVwiXFxuXCImJmUuZ2V0TmV3TGluZU1vZGUoKSE9XCJ3aW5kb3dzXCIsbj10P3RoaXMuRU9MX0NIQVJfTEY6dGhpcy5FT0xfQ0hBUl9DUkxGO2lmKHRoaXMuRU9MX0NIQVIhPW4pcmV0dXJuIHRoaXMuRU9MX0NIQVI9biwhMH0sZS5wcm90b3R5cGUuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWUsdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpbj1cIjAgXCIrZStcInB4XCJ9LGUucHJvdG90eXBlLmdldExpbmVIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZm9udE1ldHJpY3MuJGNoYXJhY3RlclNpemUuaGVpZ2h0fHwwfSxlLnByb3RvdHlwZS5nZXRDaGFyYWN0ZXJXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmb250TWV0cmljcy4kY2hhcmFjdGVyU2l6ZS53aWR0aHx8MH0sZS5wcm90b3R5cGUuJHNldEZvbnRNZXRyaWNzPWZ1bmN0aW9uKGUpe3RoaXMuJGZvbnRNZXRyaWNzPWUsdGhpcy4kZm9udE1ldHJpY3Mub24oXCJjaGFuZ2VDaGFyYWN0ZXJTaXplXCIsZnVuY3Rpb24oZSl7dGhpcy5fc2lnbmFsKFwiY2hhbmdlQ2hhcmFjdGVyU2l6ZVwiLGUpfS5iaW5kKHRoaXMpKSx0aGlzLiRwb2xsU2l6ZUNoYW5nZXMoKX0sZS5wcm90b3R5cGUuY2hlY2tGb3JTaXplQ2hhbmdlcz1mdW5jdGlvbigpe3RoaXMuJGZvbnRNZXRyaWNzLmNoZWNrRm9yU2l6ZUNoYW5nZXMoKX0sZS5wcm90b3R5cGUuJHBvbGxTaXplQ2hhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcj10aGlzLiRmb250TWV0cmljcy4kcG9sbFNpemVDaGFuZ2VzKCl9LGUucHJvdG90eXBlLnNldFNlc3Npb249ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uPWUsZSYmdGhpcy4kY29tcHV0ZVRhYlN0cmluZygpfSxlLnByb3RvdHlwZS5zZXRTaG93SW52aXNpYmxlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zaG93SW52aXNpYmxlcz09ZT8hMToodGhpcy5zaG93SW52aXNpYmxlcz1lLHR5cGVvZiBlPT1cInN0cmluZ1wiPyh0aGlzLnNob3dTcGFjZXM9L3RhYi9pLnRlc3QoZSksdGhpcy5zaG93VGFicz0vc3BhY2UvaS50ZXN0KGUpLHRoaXMuc2hvd0VPTD0vZW9sL2kudGVzdChlKSk6dGhpcy5zaG93U3BhY2VzPXRoaXMuc2hvd1RhYnM9dGhpcy5zaG93RU9MPWUsdGhpcy4kY29tcHV0ZVRhYlN0cmluZygpLCEwKX0sZS5wcm90b3R5cGUuc2V0RGlzcGxheUluZGVudEd1aWRlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzPT1lPyExOih0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXM9ZSx0aGlzLiRjb21wdXRlVGFiU3RyaW5nKCksITApfSxlLnByb3RvdHlwZS5zZXRIaWdobGlnaHRJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlcz09PWU/ITE6KHRoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlcz1lLGUpfSxlLnByb3RvdHlwZS4kY29tcHV0ZVRhYlN0cmluZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2Vzc2lvbi5nZXRUYWJTaXplKCk7dGhpcy50YWJTaXplPWU7dmFyIHQ9dGhpcy4kdGFiU3RyaW5ncz1bMF07Zm9yKHZhciBuPTE7bjxlKzE7bisrKWlmKHRoaXMuc2hvd1RhYnMpe3ZhciByPXRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3IuY2xhc3NOYW1lPVwiYWNlX2ludmlzaWJsZSBhY2VfaW52aXNpYmxlX3RhYlwiLHIudGV4dENvbnRlbnQ9cy5zdHJpbmdSZXBlYXQodGhpcy5UQUJfQ0hBUixuKSx0LnB1c2gocil9ZWxzZSB0LnB1c2godGhpcy5kb20uY3JlYXRlVGV4dE5vZGUocy5zdHJpbmdSZXBlYXQoXCIgXCIsbiksdGhpcy5lbGVtZW50KSk7aWYodGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzKXt0aGlzLiRpbmRlbnRHdWlkZVJlPS9cXHNcXFN8IFxcdHxcXHQgfFxccyQvO3ZhciBpPVwiYWNlX2luZGVudC1ndWlkZVwiLG89dGhpcy5zaG93U3BhY2VzP1wiIGFjZV9pbnZpc2libGUgYWNlX2ludmlzaWJsZV9zcGFjZVwiOlwiXCIsdT10aGlzLnNob3dTcGFjZXM/cy5zdHJpbmdSZXBlYXQodGhpcy5TUEFDRV9DSEFSLHRoaXMudGFiU2l6ZSk6cy5zdHJpbmdSZXBlYXQoXCIgXCIsdGhpcy50YWJTaXplKSxhPXRoaXMuc2hvd1RhYnM/XCIgYWNlX2ludmlzaWJsZSBhY2VfaW52aXNpYmxlX3RhYlwiOlwiXCIsZj10aGlzLnNob3dUYWJzP3Muc3RyaW5nUmVwZWF0KHRoaXMuVEFCX0NIQVIsdGhpcy50YWJTaXplKTp1LHI9dGhpcy5kb20uY3JlYXRlRWxlbWVudChcInNwYW5cIik7ci5jbGFzc05hbWU9aStvLHIudGV4dENvbnRlbnQ9dSx0aGlzLiR0YWJTdHJpbmdzW1wiIFwiXT1yO3ZhciByPXRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3IuY2xhc3NOYW1lPWkrYSxyLnRleHRDb250ZW50PWYsdGhpcy4kdGFiU3RyaW5nc1tcIlx0XCJdPXJ9fSxlLnByb3RvdHlwZS51cGRhdGVMaW5lcz1mdW5jdGlvbihlLHQsbil7aWYodGhpcy5jb25maWcubGFzdFJvdyE9ZS5sYXN0Um93fHx0aGlzLmNvbmZpZy5maXJzdFJvdyE9ZS5maXJzdFJvdylyZXR1cm4gdGhpcy51cGRhdGUoZSk7dGhpcy5jb25maWc9ZTt2YXIgcj1NYXRoLm1heCh0LGUuZmlyc3RSb3cpLGk9TWF0aC5taW4obixlLmxhc3RSb3cpLHM9dGhpcy5lbGVtZW50LmNoaWxkTm9kZXMsbz0wO2Zvcih2YXIgdT1lLmZpcnN0Um93O3U8cjt1Kyspe3ZhciBhPXRoaXMuc2Vzc2lvbi5nZXRGb2xkTGluZSh1KTtpZihhKXtpZihhLmNvbnRhaW5zUm93KHIpKXtyPWEuc3RhcnQucm93O2JyZWFrfXU9YS5lbmQucm93fW8rK312YXIgZj0hMSx1PXIsYT10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHUpLGw9YT9hLnN0YXJ0LnJvdzpJbmZpbml0eTtmb3IoOzspe3U+bCYmKHU9YS5lbmQucm93KzEsYT10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHUsYSksbD1hP2Euc3RhcnQucm93OkluZmluaXR5KTtpZih1PmkpYnJlYWs7dmFyIGM9c1tvKytdO2lmKGMpe3RoaXMuZG9tLnJlbW92ZUNoaWxkcmVuKGMpLHRoaXMuJHJlbmRlckxpbmUoYyx1LHU9PWw/YTohMSksZiYmKGMuc3R5bGUudG9wPXRoaXMuJGxpbmVzLmNvbXB1dGVMaW5lVG9wKHUsZSx0aGlzLnNlc3Npb24pK1wicHhcIik7dmFyIGg9ZS5saW5lSGVpZ2h0KnRoaXMuc2Vzc2lvbi5nZXRSb3dMZW5ndGgodSkrXCJweFwiO2Muc3R5bGUuaGVpZ2h0IT1oJiYoZj0hMCxjLnN0eWxlLmhlaWdodD1oKX11Kyt9aWYoZil3aGlsZShvPHRoaXMuJGxpbmVzLmNlbGxzLmxlbmd0aCl7dmFyIHA9dGhpcy4kbGluZXMuY2VsbHNbbysrXTtwLmVsZW1lbnQuc3R5bGUudG9wPXRoaXMuJGxpbmVzLmNvbXB1dGVMaW5lVG9wKHAucm93LGUsdGhpcy5zZXNzaW9uKStcInB4XCJ9fSxlLnByb3RvdHlwZS5zY3JvbGxMaW5lcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbmZpZzt0aGlzLmNvbmZpZz1lO2lmKHRoaXMuJGxpbmVzLnBhZ2VDaGFuZ2VkKHQsZSkpcmV0dXJuIHRoaXMudXBkYXRlKGUpO3RoaXMuJGxpbmVzLm1vdmVDb250YWluZXIoZSk7dmFyIG49ZS5sYXN0Um93LHI9dD90Lmxhc3RSb3c6LTE7aWYoIXR8fHI8ZS5maXJzdFJvdylyZXR1cm4gdGhpcy51cGRhdGUoZSk7aWYobjx0LmZpcnN0Um93KXJldHVybiB0aGlzLnVwZGF0ZShlKTtpZighdHx8dC5sYXN0Um93PGUuZmlyc3RSb3cpcmV0dXJuIHRoaXMudXBkYXRlKGUpO2lmKGUubGFzdFJvdzx0LmZpcnN0Um93KXJldHVybiB0aGlzLnVwZGF0ZShlKTtpZih0LmZpcnN0Um93PGUuZmlyc3RSb3cpZm9yKHZhciBpPXRoaXMuc2Vzc2lvbi5nZXRGb2xkZWRSb3dDb3VudCh0LmZpcnN0Um93LGUuZmlyc3RSb3ctMSk7aT4wO2ktLSl0aGlzLiRsaW5lcy5zaGlmdCgpO2lmKHQubGFzdFJvdz5lLmxhc3RSb3cpZm9yKHZhciBpPXRoaXMuc2Vzc2lvbi5nZXRGb2xkZWRSb3dDb3VudChlLmxhc3RSb3crMSx0Lmxhc3RSb3cpO2k+MDtpLS0pdGhpcy4kbGluZXMucG9wKCk7ZS5maXJzdFJvdzx0LmZpcnN0Um93JiZ0aGlzLiRsaW5lcy51bnNoaWZ0KHRoaXMuJHJlbmRlckxpbmVzRnJhZ21lbnQoZSxlLmZpcnN0Um93LHQuZmlyc3RSb3ctMSkpLGUubGFzdFJvdz50Lmxhc3RSb3cmJnRoaXMuJGxpbmVzLnB1c2godGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudChlLHQubGFzdFJvdysxLGUubGFzdFJvdykpLHRoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlKCl9LGUucHJvdG90eXBlLiRyZW5kZXJMaW5lc0ZyYWdtZW50PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXSxzPXQsbz10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHMpLHU9bz9vLnN0YXJ0LnJvdzpJbmZpbml0eTtmb3IoOzspe3M+dSYmKHM9by5lbmQucm93KzEsbz10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHMsbyksdT1vP28uc3RhcnQucm93OkluZmluaXR5KTtpZihzPm4pYnJlYWs7dmFyIGE9dGhpcy4kbGluZXMuY3JlYXRlQ2VsbChzLGUsdGhpcy5zZXNzaW9uKSxmPWEuZWxlbWVudDt0aGlzLmRvbS5yZW1vdmVDaGlsZHJlbihmKSxpLnNldFN0eWxlKGYuc3R5bGUsXCJoZWlnaHRcIix0aGlzLiRsaW5lcy5jb21wdXRlTGluZUhlaWdodChzLGUsdGhpcy5zZXNzaW9uKStcInB4XCIpLGkuc2V0U3R5bGUoZi5zdHlsZSxcInRvcFwiLHRoaXMuJGxpbmVzLmNvbXB1dGVMaW5lVG9wKHMsZSx0aGlzLnNlc3Npb24pK1wicHhcIiksdGhpcy4kcmVuZGVyTGluZShmLHMscz09dT9vOiExKSx0aGlzLiR1c2VMaW5lR3JvdXBzKCk/Zi5jbGFzc05hbWU9XCJhY2VfbGluZV9ncm91cFwiOmYuY2xhc3NOYW1lPVwiYWNlX2xpbmVcIixyLnB1c2goYSkscysrfXJldHVybiByfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy4kbGluZXMubW92ZUNvbnRhaW5lcihlKSx0aGlzLmNvbmZpZz1lO3ZhciB0PWUuZmlyc3RSb3csbj1lLmxhc3RSb3cscj10aGlzLiRsaW5lczt3aGlsZShyLmdldExlbmd0aCgpKXIucG9wKCk7ci5wdXNoKHRoaXMuJHJlbmRlckxpbmVzRnJhZ21lbnQoZSx0LG4pKX0sZS5wcm90b3R5cGUuJHJlbmRlclRva2VuPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMsbz0vKFxcdCl8KCArKXwoW1xceDAwLVxceDFmXFx4ODAtXFx4YTBcXHhhZFxcdTE2ODBcXHUxODBFXFx1MjAwMC1cXHUyMDBmXFx1MjAyOFxcdTIwMjlcXHUyMDJGXFx1MjA1RlxcdUZFRkZcXHVGRkY5LVxcdUZGRkNcXHUyMDY2XFx1MjA2N1xcdTIwNjhcXHUyMDJBXFx1MjAyQlxcdTIwMkRcXHUyMDJFXFx1MjAyQ1xcdTIwNjlcXHUyMDYwXFx1MjA2MVxcdTIwNjJcXHUyMDYzXFx1MjA2NFxcdTIwNkFcXHUyMDZCXFx1MjA2QlxcdTIwNkNcXHUyMDZEXFx1MjA2RVxcdTIwNkZdKyl8KFxcdTMwMDApfChbXFx1MTEwMC1cXHUxMTVGXFx1MTFBMy1cXHUxMUE3XFx1MTFGQS1cXHUxMUZGXFx1MjMyOS1cXHUyMzJBXFx1MkU4MC1cXHUyRTk5XFx1MkU5Qi1cXHUyRUYzXFx1MkYwMC1cXHUyRkQ1XFx1MkZGMC1cXHUyRkZCXFx1MzAwMS1cXHUzMDNFXFx1MzA0MS1cXHUzMDk2XFx1MzA5OS1cXHUzMEZGXFx1MzEwNS1cXHUzMTJEXFx1MzEzMS1cXHUzMThFXFx1MzE5MC1cXHUzMUJBXFx1MzFDMC1cXHUzMUUzXFx1MzFGMC1cXHUzMjFFXFx1MzIyMC1cXHUzMjQ3XFx1MzI1MC1cXHUzMkZFXFx1MzMwMC1cXHU0REJGXFx1NEUwMC1cXHVBNDhDXFx1QTQ5MC1cXHVBNEM2XFx1QTk2MC1cXHVBOTdDXFx1QUMwMC1cXHVEN0EzXFx1RDdCMC1cXHVEN0M2XFx1RDdDQi1cXHVEN0ZCXFx1RjkwMC1cXHVGQUZGXFx1RkUxMC1cXHVGRTE5XFx1RkUzMC1cXHVGRTUyXFx1RkU1NC1cXHVGRTY2XFx1RkU2OC1cXHVGRTZCXFx1RkYwMS1cXHVGRjYwXFx1RkZFMC1cXHVGRkU2XXxbXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdKS9nLHU9dGhpcy5kb20uY3JlYXRlRnJhZ21lbnQodGhpcy5lbGVtZW50KSxsLGM9MDt3aGlsZShsPW8uZXhlYyhyKSl7dmFyIGg9bFsxXSxwPWxbMl0sZD1sWzNdLHY9bFs0XSxtPWxbNV07aWYoIWkuc2hvd1NwYWNlcyYmcCljb250aW51ZTt2YXIgZz1jIT1sLmluZGV4P3Iuc2xpY2UoYyxsLmluZGV4KTpcIlwiO2M9bC5pbmRleCtsWzBdLmxlbmd0aCxnJiZ1LmFwcGVuZENoaWxkKHRoaXMuZG9tLmNyZWF0ZVRleHROb2RlKGcsdGhpcy5lbGVtZW50KSk7aWYoaCl7dmFyIHk9aS5zZXNzaW9uLmdldFNjcmVlblRhYlNpemUodCtsLmluZGV4KSxiPWkuJHRhYlN0cmluZ3NbeV0uY2xvbmVOb2RlKCEwKTtiLmNoYXJDb3VudD0xLHUuYXBwZW5kQ2hpbGQoYiksdCs9eS0xfWVsc2UgaWYocClpZihpLnNob3dTcGFjZXMpe3ZhciB3PXRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3cuY2xhc3NOYW1lPVwiYWNlX2ludmlzaWJsZSBhY2VfaW52aXNpYmxlX3NwYWNlXCIsdy50ZXh0Q29udGVudD1zLnN0cmluZ1JlcGVhdChpLlNQQUNFX0NIQVIscC5sZW5ndGgpLHUuYXBwZW5kQ2hpbGQodyl9ZWxzZSB1LmFwcGVuZENoaWxkKHRoaXMuZG9tLmNyZWF0ZVRleHROb2RlKHAsdGhpcy5lbGVtZW50KSk7ZWxzZSBpZihkKXt2YXIgdz10aGlzLmRvbS5jcmVhdGVFbGVtZW50KFwic3BhblwiKTt3LmNsYXNzTmFtZT1cImFjZV9pbnZpc2libGUgYWNlX2ludmlzaWJsZV9zcGFjZSBhY2VfaW52YWxpZFwiLHcudGV4dENvbnRlbnQ9cy5zdHJpbmdSZXBlYXQoaS5TUEFDRV9DSEFSLGQubGVuZ3RoKSx1LmFwcGVuZENoaWxkKHcpfWVsc2UgaWYodil7dCs9MTt2YXIgdz10aGlzLmRvbS5jcmVhdGVFbGVtZW50KFwic3BhblwiKTt3LnN0eWxlLndpZHRoPWkuY29uZmlnLmNoYXJhY3RlcldpZHRoKjIrXCJweFwiLHcuY2xhc3NOYW1lPWkuc2hvd1NwYWNlcz9cImFjZV9jamsgYWNlX2ludmlzaWJsZSBhY2VfaW52aXNpYmxlX3NwYWNlXCI6XCJhY2VfY2prXCIsdy50ZXh0Q29udGVudD1pLnNob3dTcGFjZXM/aS5TUEFDRV9DSEFSOnYsdS5hcHBlbmRDaGlsZCh3KX1lbHNlIGlmKG0pe3QrPTE7dmFyIHc9dGhpcy5kb20uY3JlYXRlRWxlbWVudChcInNwYW5cIik7dy5zdHlsZS53aWR0aD1pLmNvbmZpZy5jaGFyYWN0ZXJXaWR0aCoyK1wicHhcIix3LmNsYXNzTmFtZT1cImFjZV9jamtcIix3LnRleHRDb250ZW50PW0sdS5hcHBlbmRDaGlsZCh3KX19dS5hcHBlbmRDaGlsZCh0aGlzLmRvbS5jcmVhdGVUZXh0Tm9kZShjP3Iuc2xpY2UoYyk6cix0aGlzLmVsZW1lbnQpKTtpZighZihuLnR5cGUpKXt2YXIgRT1cImFjZV9cIituLnR5cGUucmVwbGFjZSgvXFwuL2csXCIgYWNlX1wiKSx3PXRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO24udHlwZT09XCJmb2xkXCImJih3LnN0eWxlLndpZHRoPW4udmFsdWUubGVuZ3RoKnRoaXMuY29uZmlnLmNoYXJhY3RlcldpZHRoK1wicHhcIix3LnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYShcImlubGluZS1mb2xkLmNsb3NlZC50aXRsZVwiLFwiVW5mb2xkIGNvZGVcIikpKSx3LmNsYXNzTmFtZT1FLHcuYXBwZW5kQ2hpbGQodSksZS5hcHBlbmRDaGlsZCh3KX1lbHNlIGUuYXBwZW5kQ2hpbGQodSk7cmV0dXJuIHQrci5sZW5ndGh9LGUucHJvdG90eXBlLnJlbmRlckluZGVudEd1aWRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LnNlYXJjaCh0aGlzLiRpbmRlbnRHdWlkZVJlKTtpZihyPD0wfHxyPj1uKXJldHVybiB0O2lmKHRbMF09PVwiIFwiKXtyLT1yJXRoaXMudGFiU2l6ZTt2YXIgaT1yL3RoaXMudGFiU2l6ZTtmb3IodmFyIHM9MDtzPGk7cysrKWUuYXBwZW5kQ2hpbGQodGhpcy4kdGFiU3RyaW5nc1tcIiBcIl0uY2xvbmVOb2RlKCEwKSk7cmV0dXJuIHRoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlKCksdC5zdWJzdHIocil9aWYodFswXT09XCJcdFwiKXtmb3IodmFyIHM9MDtzPHI7cysrKWUuYXBwZW5kQ2hpbGQodGhpcy4kdGFiU3RyaW5nc1tcIlx0XCJdLmNsb25lTm9kZSghMCkpO3JldHVybiB0aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZSgpLHQuc3Vic3RyKHIpfXJldHVybiB0aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZSgpLHR9LGUucHJvdG90eXBlLiRoaWdobGlnaHRJbmRlbnRHdWlkZT1mdW5jdGlvbigpe2lmKCF0aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZXN8fCF0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXMpcmV0dXJuO3RoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlTWFya2VyPXtpbmRlbnRMZXZlbDp1bmRlZmluZWQsc3RhcnQ6dW5kZWZpbmVkLGVuZDp1bmRlZmluZWQsZGlyOnVuZGVmaW5lZH07dmFyIGU9dGhpcy5zZXNzaW9uLmRvYy4kbGluZXM7aWYoIWUpcmV0dXJuO3ZhciB0PXRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCksbj0vXlxccyovLmV4ZWModGhpcy5zZXNzaW9uLmRvYy5nZXRMaW5lKHQucm93KSlbMF0ubGVuZ3RoLHI9TWF0aC5mbG9vcihuL3RoaXMudGFiU2l6ZSk7dGhpcy4kaGlnaGxpZ2h0SW5kZW50R3VpZGVNYXJrZXI9e2luZGVudExldmVsOnIsc3RhcnQ6dC5yb3d9O3ZhciBpPXRoaXMuc2Vzc2lvbi4kYnJhY2tldEhpZ2hsaWdodDtpZihpKXt2YXIgcz10aGlzLnNlc3Npb24uJGJyYWNrZXRIaWdobGlnaHQucmFuZ2VzO2Zvcih2YXIgbz0wO288cy5sZW5ndGg7bysrKWlmKHQucm93IT09c1tvXS5zdGFydC5yb3cpe3RoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlTWFya2VyLmVuZD1zW29dLnN0YXJ0LnJvdysxLHQucm93PnNbb10uc3RhcnQucm93P3RoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlTWFya2VyLmRpcj0tMTp0aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZU1hcmtlci5kaXI9MTticmVha319aWYoIXRoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlTWFya2VyLmVuZCYmZVt0LnJvd10hPT1cIlwiJiZ0LmNvbHVtbj09PWVbdC5yb3ddLmxlbmd0aCl7dGhpcy4kaGlnaGxpZ2h0SW5kZW50R3VpZGVNYXJrZXIuZGlyPTE7Zm9yKHZhciBvPXQucm93KzE7bzxlLmxlbmd0aDtvKyspe3ZhciB1PWVbb10sYT0vXlxccyovLmV4ZWModSlbMF0ubGVuZ3RoO2lmKHUhPT1cIlwiKXt0aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZU1hcmtlci5lbmQ9bztpZihhPD1uKWJyZWFrfX19dGhpcy4kcmVuZGVySGlnaGxpZ2h0SW5kZW50R3VpZGUoKX0sZS5wcm90b3R5cGUuJGNsZWFyQWN0aXZlSW5kZW50R3VpZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hY2VfaW5kZW50LWd1aWRlLWFjdGl2ZVwiKTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLmNsYXNzTGlzdC5yZW1vdmUoXCJhY2VfaW5kZW50LWd1aWRlLWFjdGl2ZVwiKX0sZS5wcm90b3R5cGUuJHNldEluZGVudEd1aWRlQWN0aXZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLmRvYy5nZXRMaW5lKGUucm93KTtpZihuIT09XCJcIil7dmFyIHI9ZS5lbGVtZW50O2lmKGUuZWxlbWVudC5jbGFzc0xpc3QmJmUuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY2VfbGluZV9ncm91cFwiKSl7aWYoIShlLmVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGg+MCkpcmV0dXJuO3I9ZS5lbGVtZW50LmNoaWxkTm9kZXNbMF19dmFyIGk9ci5jaGlsZE5vZGVzO2lmKGkpe3ZhciBzPWlbdC0xXTtzJiZzLmNsYXNzTGlzdCYmcy5jbGFzc0xpc3QuY29udGFpbnMoXCJhY2VfaW5kZW50LWd1aWRlXCIpJiZzLmNsYXNzTGlzdC5hZGQoXCJhY2VfaW5kZW50LWd1aWRlLWFjdGl2ZVwiKX19fSxlLnByb3RvdHlwZS4kcmVuZGVySGlnaGxpZ2h0SW5kZW50R3VpZGU9ZnVuY3Rpb24oKXtpZighdGhpcy4kbGluZXMpcmV0dXJuO3ZhciBlPXRoaXMuJGxpbmVzLmNlbGxzO3RoaXMuJGNsZWFyQWN0aXZlSW5kZW50R3VpZGUoKTt2YXIgdD10aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZU1hcmtlci5pbmRlbnRMZXZlbDtpZih0IT09MClpZih0aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZU1hcmtlci5kaXI9PT0xKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO2lmKHRoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlTWFya2VyLmVuZCYmci5yb3c+PXRoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlTWFya2VyLnN0YXJ0KzEpe2lmKHIucm93Pj10aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZU1hcmtlci5lbmQpYnJlYWs7dGhpcy4kc2V0SW5kZW50R3VpZGVBY3RpdmUocix0KX19ZWxzZSBmb3IodmFyIG49ZS5sZW5ndGgtMTtuPj0wO24tLSl7dmFyIHI9ZVtuXTtpZih0aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZU1hcmtlci5lbmQmJnIucm93PHRoaXMuJGhpZ2hsaWdodEluZGVudEd1aWRlTWFya2VyLnN0YXJ0KXtpZihyLnJvdzx0aGlzLiRoaWdobGlnaHRJbmRlbnRHdWlkZU1hcmtlci5lbmQpYnJlYWs7dGhpcy4kc2V0SW5kZW50R3VpZGVBY3RpdmUocix0KX19fSxlLnByb3RvdHlwZS4kY3JlYXRlTGluZUVsZW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5jbGFzc05hbWU9XCJhY2VfbGluZVwiLHQuc3R5bGUuaGVpZ2h0PXRoaXMuY29uZmlnLmxpbmVIZWlnaHQrXCJweFwiLHR9LGUucHJvdG90eXBlLiRyZW5kZXJXcmFwcGVkTGluZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9MCxpPTAsbz1uWzBdLHU9MCxhPXRoaXMuJGNyZWF0ZUxpbmVFbGVtZW50KCk7ZS5hcHBlbmRDaGlsZChhKTtmb3IodmFyIGY9MDtmPHQubGVuZ3RoO2YrKyl7dmFyIGw9dFtmXSxjPWwudmFsdWU7aWYoZj09MCYmdGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzKXtyPWMubGVuZ3RoLGM9dGhpcy5yZW5kZXJJbmRlbnRHdWlkZShhLGMsbyk7aWYoIWMpY29udGludWU7ci09Yy5sZW5ndGh9aWYocitjLmxlbmd0aDxvKXU9dGhpcy4kcmVuZGVyVG9rZW4oYSx1LGwsYykscis9Yy5sZW5ndGg7ZWxzZXt3aGlsZShyK2MubGVuZ3RoPj1vKXt1PXRoaXMuJHJlbmRlclRva2VuKGEsdSxsLGMuc3Vic3RyaW5nKDAsby1yKSksYz1jLnN1YnN0cmluZyhvLXIpLHI9byxhPXRoaXMuJGNyZWF0ZUxpbmVFbGVtZW50KCksZS5hcHBlbmRDaGlsZChhKTt2YXIgaD10aGlzLmRvbS5jcmVhdGVUZXh0Tm9kZShzLnN0cmluZ1JlcGVhdChcIlxcdTAwYTBcIixuLmluZGVudCksdGhpcy5lbGVtZW50KTtoLmNoYXJDb3VudD0wLGEuYXBwZW5kQ2hpbGQoaCksaSsrLHU9MCxvPW5baV18fE51bWJlci5NQVhfVkFMVUV9Yy5sZW5ndGghPTAmJihyKz1jLmxlbmd0aCx1PXRoaXMuJHJlbmRlclRva2VuKGEsdSxsLGMpKX19bltuLmxlbmd0aC0xXT50aGlzLk1BWF9MSU5FX0xFTkdUSCYmdGhpcy4kcmVuZGVyT3ZlcmZsb3dNZXNzYWdlKGEsdSxudWxsLFwiXCIsITApfSxlLnByb3RvdHlwZS4kcmVuZGVyU2ltcGxlTGluZT1mdW5jdGlvbihlLHQpe3ZhciBuPTA7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl0scz1pLnZhbHVlO2lmKHI9PTAmJnRoaXMuZGlzcGxheUluZGVudEd1aWRlcyl7cz10aGlzLnJlbmRlckluZGVudEd1aWRlKGUscyk7aWYoIXMpY29udGludWV9aWYobitzLmxlbmd0aD50aGlzLk1BWF9MSU5FX0xFTkdUSClyZXR1cm4gdGhpcy4kcmVuZGVyT3ZlcmZsb3dNZXNzYWdlKGUsbixpLHMpO249dGhpcy4kcmVuZGVyVG9rZW4oZSxuLGkscyl9fSxlLnByb3RvdHlwZS4kcmVuZGVyT3ZlcmZsb3dNZXNzYWdlPWZ1bmN0aW9uKGUsdCxuLHIsaSl7biYmdGhpcy4kcmVuZGVyVG9rZW4oZSx0LG4sci5zbGljZSgwLHRoaXMuTUFYX0xJTkVfTEVOR1RILXQpKTt2YXIgcz10aGlzLmRvbS5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtzLmNsYXNzTmFtZT1cImFjZV9pbmxpbmVfYnV0dG9uIGFjZV9rZXl3b3JkIGFjZV90b2dnbGVfd3JhcFwiLHMudGV4dENvbnRlbnQ9aT9cIjxoaWRlPlwiOlwiPGNsaWNrIHRvIHNlZSBtb3JlLi4uPlwiLGUuYXBwZW5kQ2hpbGQocyl9LGUucHJvdG90eXBlLiRyZW5kZXJMaW5lPWZ1bmN0aW9uKGUsdCxuKXshbiYmbiE9MCYmKG49dGhpcy5zZXNzaW9uLmdldEZvbGRMaW5lKHQpKTtpZihuKXZhciByPXRoaXMuJGdldEZvbGRMaW5lVG9rZW5zKHQsbik7ZWxzZSB2YXIgcj10aGlzLnNlc3Npb24uZ2V0VG9rZW5zKHQpO3ZhciBpPWU7aWYoci5sZW5ndGgpe3ZhciBzPXRoaXMuc2Vzc2lvbi5nZXRSb3dTcGxpdERhdGEodCk7aWYocyYmcy5sZW5ndGgpe3RoaXMuJHJlbmRlcldyYXBwZWRMaW5lKGUscixzKTt2YXIgaT1lLmxhc3RDaGlsZH1lbHNle3ZhciBpPWU7dGhpcy4kdXNlTGluZUdyb3VwcygpJiYoaT10aGlzLiRjcmVhdGVMaW5lRWxlbWVudCgpLGUuYXBwZW5kQ2hpbGQoaSkpLHRoaXMuJHJlbmRlclNpbXBsZUxpbmUoaSxyKX19ZWxzZSB0aGlzLiR1c2VMaW5lR3JvdXBzKCkmJihpPXRoaXMuJGNyZWF0ZUxpbmVFbGVtZW50KCksZS5hcHBlbmRDaGlsZChpKSk7aWYodGhpcy5zaG93RU9MJiZpKXtuJiYodD1uLmVuZC5yb3cpO3ZhciBvPXRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO28uY2xhc3NOYW1lPVwiYWNlX2ludmlzaWJsZSBhY2VfaW52aXNpYmxlX2VvbFwiLG8udGV4dENvbnRlbnQ9dD09dGhpcy5zZXNzaW9uLmdldExlbmd0aCgpLTE/dGhpcy5FT0ZfQ0hBUjp0aGlzLkVPTF9DSEFSLGkuYXBwZW5kQ2hpbGQobyl9fSxlLnByb3RvdHlwZS4kZ2V0Rm9sZExpbmVUb2tlbnM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUsdCxuKXt2YXIgaT0wLHM9MDt3aGlsZShzK2VbaV0udmFsdWUubGVuZ3RoPHQpe3MrPWVbaV0udmFsdWUubGVuZ3RoLGkrKztpZihpPT1lLmxlbmd0aClyZXR1cm59aWYocyE9dCl7dmFyIG89ZVtpXS52YWx1ZS5zdWJzdHJpbmcodC1zKTtvLmxlbmd0aD5uLXQmJihvPW8uc3Vic3RyaW5nKDAsbi10KSksci5wdXNoKHt0eXBlOmVbaV0udHlwZSx2YWx1ZTpvfSkscz10K28ubGVuZ3RoLGkrPTF9d2hpbGUoczxuJiZpPGUubGVuZ3RoKXt2YXIgbz1lW2ldLnZhbHVlO28ubGVuZ3RoK3M+bj9yLnB1c2goe3R5cGU6ZVtpXS50eXBlLHZhbHVlOm8uc3Vic3RyaW5nKDAsbi1zKX0pOnIucHVzaChlW2ldKSxzKz1vLmxlbmd0aCxpKz0xfX12YXIgbj10aGlzLnNlc3Npb24scj1bXSxzPW4uZ2V0VG9rZW5zKGUpO3JldHVybiB0LndhbGsoZnVuY3Rpb24oZSx0LG8sdSxhKXtlIT1udWxsP3IucHVzaCh7dHlwZTpcImZvbGRcIix2YWx1ZTplfSk6KGEmJihzPW4uZ2V0VG9rZW5zKHQpKSxzLmxlbmd0aCYmaShzLHUsbykpfSx0LmVuZC5yb3csdGhpcy5zZXNzaW9uLmdldExpbmUodC5lbmQucm93KS5sZW5ndGgpLHJ9LGUucHJvdG90eXBlLiR1c2VMaW5lR3JvdXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpfSxlfSgpO2wucHJvdG90eXBlLkVPRl9DSEFSPVwiXFx1MDBiNlwiLGwucHJvdG90eXBlLkVPTF9DSEFSX0xGPVwiXFx1MDBhY1wiLGwucHJvdG90eXBlLkVPTF9DSEFSX0NSTEY9XCJcXHUwMGE0XCIsbC5wcm90b3R5cGUuRU9MX0NIQVI9bC5wcm90b3R5cGUuRU9MX0NIQVJfTEYsbC5wcm90b3R5cGUuVEFCX0NIQVI9XCJcXHUyMDE0XCIsbC5wcm90b3R5cGUuU1BBQ0VfQ0hBUj1cIlxcdTAwYjdcIixsLnByb3RvdHlwZS4kcGFkZGluZz0wLGwucHJvdG90eXBlLk1BWF9MSU5FX0xFTkdUSD0xZTQsbC5wcm90b3R5cGUuc2hvd0ludmlzaWJsZXM9ITEsbC5wcm90b3R5cGUuc2hvd1NwYWNlcz0hMSxsLnByb3RvdHlwZS5zaG93VGFicz0hMSxsLnByb3RvdHlwZS5zaG93RU9MPSExLGwucHJvdG90eXBlLmRpc3BsYXlJbmRlbnRHdWlkZXM9ITAsbC5wcm90b3R5cGUuJGhpZ2hsaWdodEluZGVudEd1aWRlcz0hMCxsLnByb3RvdHlwZS4kdGFiU3RyaW5ncz1bXSxsLnByb3RvdHlwZS5kZXN0cm95PXt9LGwucHJvdG90eXBlLm9uQ2hhbmdlVGFiU2l6ZT1sLnByb3RvdHlwZS4kY29tcHV0ZVRhYlN0cmluZyxyLmltcGxlbWVudChsLnByb3RvdHlwZSx1KSx0LlRleHQ9bH0pLGFjZS5kZWZpbmUoXCJhY2UvbGF5ZXIvY3Vyc29yXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uL2xpYi9kb21cIiksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5lbGVtZW50PXIuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmVsZW1lbnQuY2xhc3NOYW1lPVwiYWNlX2xheWVyIGFjZV9jdXJzb3ItbGF5ZXJcIixlLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCksdGhpcy5pc1Zpc2libGU9ITEsdGhpcy5pc0JsaW5raW5nPSEwLHRoaXMuYmxpbmtJbnRlcnZhbD0xZTMsdGhpcy5zbW9vdGhCbGlua2luZz0hMSx0aGlzLmN1cnNvcnM9W10sdGhpcy5jdXJzb3I9dGhpcy5hZGRDdXJzb3IoKSxyLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCxcImFjZV9oaWRkZW4tY3Vyc29yc1wiKSx0aGlzLiR1cGRhdGVDdXJzb3JzPXRoaXMuJHVwZGF0ZU9wYWNpdHkuYmluZCh0aGlzKX1yZXR1cm4gZS5wcm90b3R5cGUuJHVwZGF0ZU9wYWNpdHk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jdXJzb3JzO2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KXIuc2V0U3R5bGUodFtuXS5zdHlsZSxcIm9wYWNpdHlcIixlP1wiXCI6XCIwXCIpfSxlLnByb3RvdHlwZS4kc3RhcnRDc3NBbmltYXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmN1cnNvcnM7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLTspZVt0XS5zdHlsZS5hbmltYXRpb25EdXJhdGlvbj10aGlzLmJsaW5rSW50ZXJ2YWwrXCJtc1wiO3RoaXMuJGlzQW5pbWF0aW5nPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLiRpc0FuaW1hdGluZyYmci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsXCJhY2VfYW5pbWF0ZS1ibGlua2luZ1wiKX0uYmluZCh0aGlzKSl9LGUucHJvdG90eXBlLiRzdG9wQ3NzQW5pbWF0aW9uPWZ1bmN0aW9uKCl7dGhpcy4kaXNBbmltYXRpbmc9ITEsci5yZW1vdmVDc3NDbGFzcyh0aGlzLmVsZW1lbnQsXCJhY2VfYW5pbWF0ZS1ibGlua2luZ1wiKX0sZS5wcm90b3R5cGUuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWV9LGUucHJvdG90eXBlLnNldFNlc3Npb249ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uPWV9LGUucHJvdG90eXBlLnNldEJsaW5raW5nPWZ1bmN0aW9uKGUpe2UhPXRoaXMuaXNCbGlua2luZyYmKHRoaXMuaXNCbGlua2luZz1lLHRoaXMucmVzdGFydFRpbWVyKCkpfSxlLnByb3RvdHlwZS5zZXRCbGlua0ludGVydmFsPWZ1bmN0aW9uKGUpe2UhPXRoaXMuYmxpbmtJbnRlcnZhbCYmKHRoaXMuYmxpbmtJbnRlcnZhbD1lLHRoaXMucmVzdGFydFRpbWVyKCkpfSxlLnByb3RvdHlwZS5zZXRTbW9vdGhCbGlua2luZz1mdW5jdGlvbihlKXtlIT10aGlzLnNtb290aEJsaW5raW5nJiYodGhpcy5zbW9vdGhCbGlua2luZz1lLHIuc2V0Q3NzQ2xhc3ModGhpcy5lbGVtZW50LFwiYWNlX3Ntb290aC1ibGlua2luZ1wiLGUpLHRoaXMuJHVwZGF0ZUN1cnNvcnMoITApLHRoaXMucmVzdGFydFRpbWVyKCkpfSxlLnByb3RvdHlwZS5hZGRDdXJzb3I9ZnVuY3Rpb24oKXt2YXIgZT1yLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGUuY2xhc3NOYW1lPVwiYWNlX2N1cnNvclwiLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChlKSx0aGlzLmN1cnNvcnMucHVzaChlKSxlfSxlLnByb3RvdHlwZS5yZW1vdmVDdXJzb3I9ZnVuY3Rpb24oKXtpZih0aGlzLmN1cnNvcnMubGVuZ3RoPjEpe3ZhciBlPXRoaXMuY3Vyc29ycy5wb3AoKTtyZXR1cm4gZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLGV9fSxlLnByb3RvdHlwZS5oaWRlQ3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGU9ITEsci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsXCJhY2VfaGlkZGVuLWN1cnNvcnNcIiksdGhpcy5yZXN0YXJ0VGltZXIoKX0sZS5wcm90b3R5cGUuc2hvd0N1cnNvcj1mdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlPSEwLHIucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LFwiYWNlX2hpZGRlbi1jdXJzb3JzXCIpLHRoaXMucmVzdGFydFRpbWVyKCl9LGUucHJvdG90eXBlLnJlc3RhcnRUaW1lcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJHVwZGF0ZUN1cnNvcnM7Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCksdGhpcy4kc3RvcENzc0FuaW1hdGlvbigpLHRoaXMuc21vb3RoQmxpbmtpbmcmJih0aGlzLiRpc1Ntb290aEJsaW5raW5nPSExLHIucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LFwiYWNlX3Ntb290aC1ibGlua2luZ1wiKSksZSghMCk7aWYoIXRoaXMuaXNCbGlua2luZ3x8IXRoaXMuYmxpbmtJbnRlcnZhbHx8IXRoaXMuaXNWaXNpYmxlKXt0aGlzLiRzdG9wQ3NzQW5pbWF0aW9uKCk7cmV0dXJufXRoaXMuc21vb3RoQmxpbmtpbmcmJih0aGlzLiRpc1Ntb290aEJsaW5raW5nPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLiRpc1Ntb290aEJsaW5raW5nJiZyLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCxcImFjZV9zbW9vdGgtYmxpbmtpbmdcIil9LmJpbmQodGhpcykpKTtpZihyLkhBU19DU1NfQU5JTUFUSU9OKXRoaXMuJHN0YXJ0Q3NzQW5pbWF0aW9uKCk7ZWxzZXt2YXIgdD1mdW5jdGlvbigpe3RoaXMudGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKCExKX0sLjYqdGhpcy5ibGlua0ludGVydmFsKX0uYmluZCh0aGlzKTt0aGlzLmludGVydmFsSWQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlKCEwKSx0KCl9LHRoaXMuYmxpbmtJbnRlcnZhbCksdCgpfX0sZS5wcm90b3R5cGUuZ2V0UGl4ZWxQb3NpdGlvbj1mdW5jdGlvbihlLHQpe2lmKCF0aGlzLmNvbmZpZ3x8IXRoaXMuc2Vzc2lvbilyZXR1cm57bGVmdDowLHRvcDowfTtlfHwoZT10aGlzLnNlc3Npb24uc2VsZWN0aW9uLmdldEN1cnNvcigpKTt2YXIgbj10aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKGUpLHI9dGhpcy4kcGFkZGluZysodGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5pc0JpZGlSb3cobi5yb3csZS5yb3cpP3RoaXMuc2Vzc2lvbi4kYmlkaUhhbmRsZXIuZ2V0UG9zTGVmdChuLmNvbHVtbik6bi5jb2x1bW4qdGhpcy5jb25maWcuY2hhcmFjdGVyV2lkdGgpLGk9KG4ucm93LSh0P3RoaXMuY29uZmlnLmZpcnN0Um93U2NyZWVuOjApKSp0aGlzLmNvbmZpZy5saW5lSGVpZ2h0O3JldHVybntsZWZ0OnIsdG9wOml9fSxlLnByb3RvdHlwZS5pc0N1cnNvckluVmlldz1mdW5jdGlvbihlLHQpe3JldHVybiBlLnRvcD49MCYmZS50b3A8dC5tYXhIZWlnaHR9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLmNvbmZpZz1lO3ZhciB0PXRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VycyxuPTAsaT0wO2lmKHQ9PT11bmRlZmluZWR8fHQubGVuZ3RoPT09MCl0PVt7Y3Vyc29yOm51bGx9XTtmb3IodmFyIG49MCxzPXQubGVuZ3RoO248cztuKyspe3ZhciBvPXRoaXMuZ2V0UGl4ZWxQb3NpdGlvbih0W25dLmN1cnNvciwhMCk7aWYoKG8udG9wPmUuaGVpZ2h0K2Uub2Zmc2V0fHxvLnRvcDwwKSYmbj4xKWNvbnRpbnVlO3ZhciB1PXRoaXMuY3Vyc29yc1tpKytdfHx0aGlzLmFkZEN1cnNvcigpLGE9dS5zdHlsZTt0aGlzLmRyYXdDdXJzb3I/dGhpcy5kcmF3Q3Vyc29yKHUsbyxlLHRbbl0sdGhpcy5zZXNzaW9uKTp0aGlzLmlzQ3Vyc29ySW5WaWV3KG8sZSk/KHIuc2V0U3R5bGUoYSxcImRpc3BsYXlcIixcImJsb2NrXCIpLHIudHJhbnNsYXRlKHUsby5sZWZ0LG8udG9wKSxyLnNldFN0eWxlKGEsXCJ3aWR0aFwiLE1hdGgucm91bmQoZS5jaGFyYWN0ZXJXaWR0aCkrXCJweFwiKSxyLnNldFN0eWxlKGEsXCJoZWlnaHRcIixlLmxpbmVIZWlnaHQrXCJweFwiKSk6ci5zZXRTdHlsZShhLFwiZGlzcGxheVwiLFwibm9uZVwiKX13aGlsZSh0aGlzLmN1cnNvcnMubGVuZ3RoPmkpdGhpcy5yZW1vdmVDdXJzb3IoKTt2YXIgZj10aGlzLnNlc3Npb24uZ2V0T3ZlcndyaXRlKCk7dGhpcy4kc2V0T3ZlcndyaXRlKGYpLHRoaXMuJHBpeGVsUG9zPW8sdGhpcy5yZXN0YXJ0VGltZXIoKX0sZS5wcm90b3R5cGUuJHNldE92ZXJ3cml0ZT1mdW5jdGlvbihlKXtlIT10aGlzLm92ZXJ3cml0ZSYmKHRoaXMub3ZlcndyaXRlPWUsZT9yLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCxcImFjZV9vdmVyd3JpdGUtY3Vyc29yc1wiKTpyLnJlbW92ZUNzc0NsYXNzKHRoaXMuZWxlbWVudCxcImFjZV9vdmVyd3JpdGUtY3Vyc29yc1wiKSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCksY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKX0sZX0oKTtpLnByb3RvdHlwZS4kcGFkZGluZz0wLGkucHJvdG90eXBlLmRyYXdDdXJzb3I9bnVsbCx0LkN1cnNvcj1pfSksYWNlLmRlZmluZShcImFjZS9zY3JvbGxiYXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LG4pe3JldHVybiBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX0sZSh0LG4pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWlmKHR5cGVvZiBuIT1cImZ1bmN0aW9uXCImJm4hPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyhuKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2UodCxuKSx0LnByb3RvdHlwZT1uPT09bnVsbD9PYmplY3QuY3JlYXRlKG4pOihyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcil9fSgpLGk9ZShcIi4vbGliL29vcFwiKSxzPWUoXCIuL2xpYi9kb21cIiksbz1lKFwiLi9saWIvZXZlbnRcIiksdT1lKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXIsYT0zMjc2OCxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuZWxlbWVudD1zLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5lbGVtZW50LmNsYXNzTmFtZT1cImFjZV9zY3JvbGxiYXIgYWNlX3Njcm9sbGJhclwiK3QsdGhpcy5pbm5lcj1zLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5pbm5lci5jbGFzc05hbWU9XCJhY2Vfc2Nyb2xsYmFyLWlubmVyXCIsdGhpcy5pbm5lci50ZXh0Q29udGVudD1cIlxcdTAwYTBcIix0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5pbm5lciksZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuc2V0VmlzaWJsZSghMSksdGhpcy5za2lwRXZlbnQ9ITEsby5hZGRMaXN0ZW5lcih0aGlzLmVsZW1lbnQsXCJzY3JvbGxcIix0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcykpLG8uYWRkTGlzdGVuZXIodGhpcy5lbGVtZW50LFwibW91c2Vkb3duXCIsby5wcmV2ZW50RGVmYXVsdCl9cmV0dXJuIGUucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXk9ZT9cIlwiOlwibm9uZVwiLHRoaXMuaXNWaXNpYmxlPWUsdGhpcy5jb2VmZj0xfSxlfSgpO2kuaW1wbGVtZW50KGYucHJvdG90eXBlLHUpO3ZhciBsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyx0LFwiLXZcIil8fHRoaXM7cmV0dXJuIHIuc2Nyb2xsVG9wPTAsci5zY3JvbGxIZWlnaHQ9MCxuLiRzY3JvbGxiYXJXaWR0aD1yLndpZHRoPXMuc2Nyb2xsYmFyV2lkdGgodC5vd25lckRvY3VtZW50KSxyLmlubmVyLnN0eWxlLndpZHRoPXIuZWxlbWVudC5zdHlsZS53aWR0aD0oci53aWR0aHx8MTUpKzUrXCJweFwiLHIuJG1pbldpZHRoPTAscn1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLm9uU2Nyb2xsPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2tpcEV2ZW50KXt0aGlzLnNjcm9sbFRvcD10aGlzLmVsZW1lbnQuc2Nyb2xsVG9wO2lmKHRoaXMuY29lZmYhPTEpe3ZhciBlPXRoaXMuZWxlbWVudC5jbGllbnRIZWlnaHQvdGhpcy5zY3JvbGxIZWlnaHQ7dGhpcy5zY3JvbGxUb3A9dGhpcy5zY3JvbGxUb3AqKDEtZSkvKHRoaXMuY29lZmYtZSl9dGhpcy5fZW1pdChcInNjcm9sbFwiLHtkYXRhOnRoaXMuc2Nyb2xsVG9wfSl9dGhpcy5za2lwRXZlbnQ9ITF9LHQucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuaXNWaXNpYmxlP3RoaXMud2lkdGg6MCx0aGlzLiRtaW5XaWR0aHx8MCl9LHQucHJvdG90eXBlLnNldEhlaWdodD1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0PWUrXCJweFwifSx0LnByb3RvdHlwZS5zZXRTY3JvbGxIZWlnaHQ9ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxIZWlnaHQ9ZSxlPmE/KHRoaXMuY29lZmY9YS9lLGU9YSk6dGhpcy5jb2VmZiE9MSYmKHRoaXMuY29lZmY9MSksdGhpcy5pbm5lci5zdHlsZS5oZWlnaHQ9ZStcInB4XCJ9LHQucHJvdG90eXBlLnNldFNjcm9sbFRvcD1mdW5jdGlvbihlKXt0aGlzLnNjcm9sbFRvcCE9ZSYmKHRoaXMuc2tpcEV2ZW50PSEwLHRoaXMuc2Nyb2xsVG9wPWUsdGhpcy5lbGVtZW50LnNjcm9sbFRvcD1lKnRoaXMuY29lZmYpfSx0fShmKTtsLnByb3RvdHlwZS5zZXRJbm5lckhlaWdodD1sLnByb3RvdHlwZS5zZXRTY3JvbGxIZWlnaHQ7dmFyIGM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzLHQsXCItaFwiKXx8dGhpcztyZXR1cm4gci5zY3JvbGxMZWZ0PTAsci5oZWlnaHQ9bi4kc2Nyb2xsYmFyV2lkdGgsci5pbm5lci5zdHlsZS5oZWlnaHQ9ci5lbGVtZW50LnN0eWxlLmhlaWdodD0oci5oZWlnaHR8fDE1KSs1K1wicHhcIixyfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUub25TY3JvbGw9ZnVuY3Rpb24oKXt0aGlzLnNraXBFdmVudHx8KHRoaXMuc2Nyb2xsTGVmdD10aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdCx0aGlzLl9lbWl0KFwic2Nyb2xsXCIse2RhdGE6dGhpcy5zY3JvbGxMZWZ0fSkpLHRoaXMuc2tpcEV2ZW50PSExfSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1Zpc2libGU/dGhpcy5oZWlnaHQ6MH0sdC5wcm90b3R5cGUuc2V0V2lkdGg9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPWUrXCJweFwifSx0LnByb3RvdHlwZS5zZXRJbm5lcldpZHRoPWZ1bmN0aW9uKGUpe3RoaXMuaW5uZXIuc3R5bGUud2lkdGg9ZStcInB4XCJ9LHQucHJvdG90eXBlLnNldFNjcm9sbFdpZHRoPWZ1bmN0aW9uKGUpe3RoaXMuaW5uZXIuc3R5bGUud2lkdGg9ZStcInB4XCJ9LHQucHJvdG90eXBlLnNldFNjcm9sbExlZnQ9ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxMZWZ0IT1lJiYodGhpcy5za2lwRXZlbnQ9ITAsdGhpcy5zY3JvbGxMZWZ0PXRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0PWUpfSx0fShmKTt0LlNjcm9sbEJhcj1sLHQuU2Nyb2xsQmFyVj1sLHQuU2Nyb2xsQmFySD1jLHQuVlNjcm9sbEJhcj1sLHQuSFNjcm9sbEJhcj1jfSksYWNlLmRlZmluZShcImFjZS9zY3JvbGxiYXJfY3VzdG9tXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9LGUodCxuKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1pZih0eXBlb2YgbiE9XCJmdW5jdGlvblwiJiZuIT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcobikrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtlKHQsbiksdC5wcm90b3R5cGU9bj09PW51bGw/T2JqZWN0LmNyZWF0ZShuKTooci5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IHIpfX0oKSxpPWUoXCIuL2xpYi9vb3BcIikscz1lKFwiLi9saWIvZG9tXCIpLG89ZShcIi4vbGliL2V2ZW50XCIpLHU9ZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO3MuaW1wb3J0Q3NzU3RyaW5nKFwiLmFjZV9lZGl0b3I+LmFjZV9zYi12IGRpdiwgLmFjZV9lZGl0b3I+LmFjZV9zYi1oIGRpdntcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMTI4LCAxMjgsIDEyOCwgMC42KTtcXG4gIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjYmJiO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgei1pbmRleDogODtcXG59XFxuLmFjZV9lZGl0b3I+LmFjZV9zYi12LCAuYWNlX2VkaXRvcj4uYWNlX3NiLWgge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogNjtcXG4gIGJhY2tncm91bmQ6IG5vbmU7XFxuICBvdmVyZmxvdzogaGlkZGVuIWltcG9ydGFudDtcXG59XFxuLmFjZV9lZGl0b3I+LmFjZV9zYi12IHtcXG4gIHotaW5kZXg6IDY7XFxuICByaWdodDogMDtcXG4gIHRvcDogMDtcXG4gIHdpZHRoOiAxMnB4O1xcbn1cXG4uYWNlX2VkaXRvcj4uYWNlX3NiLXYgZGl2IHtcXG4gIHotaW5kZXg6IDg7XFxuICByaWdodDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uYWNlX2VkaXRvcj4uYWNlX3NiLWgge1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIGhlaWdodDogMTJweDtcXG59XFxuLmFjZV9lZGl0b3I+LmFjZV9zYi1oIGRpdiB7XFxuICBib3R0b206IDA7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5hY2VfZWRpdG9yPi5hY2Vfc2JfZ3JhYmJlZCB7XFxuICB6LWluZGV4OiA4O1xcbiAgYmFja2dyb3VuZDogIzAwMDtcXG59XCIsXCJhY2Vfc2Nyb2xsYmFyLmNzc1wiLCExKTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmVsZW1lbnQ9cy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9XCJhY2Vfc2JcIit0LHRoaXMuaW5uZXI9cy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuaW5uZXIuY2xhc3NOYW1lPVwiXCIsdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaW5uZXIpLHRoaXMuVlNjcm9sbFdpZHRoPTEyLHRoaXMuSFNjcm9sbEhlaWdodD0xMixlLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCksdGhpcy5zZXRWaXNpYmxlKCExKSx0aGlzLnNraXBFdmVudD0hMSxvLmFkZE11bHRpTW91c2VEb3duTGlzdGVuZXIodGhpcy5lbGVtZW50LFs1MDAsMzAwLDMwMF0sdGhpcyxcIm9uTW91c2VEb3duXCIpfXJldHVybiBlLnByb3RvdHlwZS5zZXRWaXNpYmxlPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PWU/XCJcIjpcIm5vbmVcIix0aGlzLmlzVmlzaWJsZT1lLHRoaXMuY29lZmY9MX0sZX0oKTtpLmltcGxlbWVudChhLnByb3RvdHlwZSx1KTt2YXIgZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxcIi12XCIpfHx0aGlzO3JldHVybiByLnNjcm9sbFRvcD0wLHIuc2Nyb2xsSGVpZ2h0PTAsci5wYXJlbnQ9dCxyLndpZHRoPXIuVlNjcm9sbFdpZHRoLHIucmVuZGVyZXI9bixyLmlubmVyLnN0eWxlLndpZHRoPXIuZWxlbWVudC5zdHlsZS53aWR0aD0oci53aWR0aHx8MTUpK1wicHhcIixyLiRtaW5XaWR0aD0wLHJ9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5vbk1vdXNlRG93bj1mdW5jdGlvbihlLHQpe2lmKGUhPT1cIm1vdXNlZG93blwiKXJldHVybjtpZihvLmdldEJ1dHRvbih0KSE9PTB8fHQuZGV0YWlsPT09MilyZXR1cm47aWYodC50YXJnZXQ9PT10aGlzLmlubmVyKXt2YXIgbj10aGlzLHI9dC5jbGllbnRZLGk9ZnVuY3Rpb24oZSl7cj1lLmNsaWVudFl9LHM9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGwpfSx1PXQuY2xpZW50WSxhPXRoaXMudGh1bWJUb3AsZj1mdW5jdGlvbigpe2lmKHI9PT11bmRlZmluZWQpcmV0dXJuO3ZhciBlPW4uc2Nyb2xsVG9wRnJvbVRodW1iVG9wKGErci11KTtpZihlPT09bi5zY3JvbGxUb3ApcmV0dXJuO24uX2VtaXQoXCJzY3JvbGxcIix7ZGF0YTplfSl9O28uY2FwdHVyZSh0aGlzLmlubmVyLGkscyk7dmFyIGw9c2V0SW50ZXJ2YWwoZiwyMCk7cmV0dXJuIG8ucHJldmVudERlZmF1bHQodCl9dmFyIGM9dC5jbGllbnRZLXRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AtdGhpcy50aHVtYkhlaWdodC8yO3JldHVybiB0aGlzLl9lbWl0KFwic2Nyb2xsXCIse2RhdGE6dGhpcy5zY3JvbGxUb3BGcm9tVGh1bWJUb3AoYyl9KSxvLnByZXZlbnREZWZhdWx0KHQpfSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWlnaHR9LHQucHJvdG90eXBlLnNjcm9sbFRvcEZyb21UaHVtYlRvcD1mdW5jdGlvbihlKXt2YXIgdD1lKih0aGlzLnBhZ2VIZWlnaHQtdGhpcy52aWV3SGVpZ2h0KS8odGhpcy5zbGlkZUhlaWdodC10aGlzLnRodW1iSGVpZ2h0KTtyZXR1cm4gdD4+PTAsdDwwP3Q9MDp0PnRoaXMucGFnZUhlaWdodC10aGlzLnZpZXdIZWlnaHQmJih0PXRoaXMucGFnZUhlaWdodC10aGlzLnZpZXdIZWlnaHQpLHR9LHQucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuaXNWaXNpYmxlP3RoaXMud2lkdGg6MCx0aGlzLiRtaW5XaWR0aHx8MCl9LHQucHJvdG90eXBlLnNldEhlaWdodD1mdW5jdGlvbihlKXt0aGlzLmhlaWdodD1NYXRoLm1heCgwLGUpLHRoaXMuc2xpZGVIZWlnaHQ9dGhpcy5oZWlnaHQsdGhpcy52aWV3SGVpZ2h0PXRoaXMuaGVpZ2h0LHRoaXMuc2V0U2Nyb2xsSGVpZ2h0KHRoaXMucGFnZUhlaWdodCwhMCl9LHQucHJvdG90eXBlLnNldFNjcm9sbEhlaWdodD1mdW5jdGlvbihlLHQpe2lmKHRoaXMucGFnZUhlaWdodD09PWUmJiF0KXJldHVybjt0aGlzLnBhZ2VIZWlnaHQ9ZSx0aGlzLnRodW1iSGVpZ2h0PXRoaXMuc2xpZGVIZWlnaHQqdGhpcy52aWV3SGVpZ2h0L3RoaXMucGFnZUhlaWdodCx0aGlzLnRodW1iSGVpZ2h0PnRoaXMuc2xpZGVIZWlnaHQmJih0aGlzLnRodW1iSGVpZ2h0PXRoaXMuc2xpZGVIZWlnaHQpLHRoaXMudGh1bWJIZWlnaHQ8MTUmJih0aGlzLnRodW1iSGVpZ2h0PTE1KSx0aGlzLmlubmVyLnN0eWxlLmhlaWdodD10aGlzLnRodW1iSGVpZ2h0K1wicHhcIix0aGlzLnNjcm9sbFRvcD50aGlzLnBhZ2VIZWlnaHQtdGhpcy52aWV3SGVpZ2h0JiYodGhpcy5zY3JvbGxUb3A9dGhpcy5wYWdlSGVpZ2h0LXRoaXMudmlld0hlaWdodCx0aGlzLnNjcm9sbFRvcDwwJiYodGhpcy5zY3JvbGxUb3A9MCksdGhpcy5fZW1pdChcInNjcm9sbFwiLHtkYXRhOnRoaXMuc2Nyb2xsVG9wfSkpfSx0LnByb3RvdHlwZS5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxUb3A9ZSxlPDAmJihlPTApLHRoaXMudGh1bWJUb3A9ZSoodGhpcy5zbGlkZUhlaWdodC10aGlzLnRodW1iSGVpZ2h0KS8odGhpcy5wYWdlSGVpZ2h0LXRoaXMudmlld0hlaWdodCksdGhpcy5pbm5lci5zdHlsZS50b3A9dGhpcy50aHVtYlRvcCtcInB4XCJ9LHR9KGEpO2YucHJvdG90eXBlLnNldElubmVySGVpZ2h0PWYucHJvdG90eXBlLnNldFNjcm9sbEhlaWdodDt2YXIgbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxcIi1oXCIpfHx0aGlzO3JldHVybiByLnNjcm9sbExlZnQ9MCxyLnNjcm9sbFdpZHRoPTAsci5oZWlnaHQ9ci5IU2Nyb2xsSGVpZ2h0LHIuaW5uZXIuc3R5bGUuaGVpZ2h0PXIuZWxlbWVudC5zdHlsZS5oZWlnaHQ9KHIuaGVpZ2h0fHwxMikrXCJweFwiLHIucmVuZGVyZXI9bixyfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUub25Nb3VzZURvd249ZnVuY3Rpb24oZSx0KXtpZihlIT09XCJtb3VzZWRvd25cIilyZXR1cm47aWYoby5nZXRCdXR0b24odCkhPT0wfHx0LmRldGFpbD09PTIpcmV0dXJuO2lmKHQudGFyZ2V0PT09dGhpcy5pbm5lcil7dmFyIG49dGhpcyxyPXQuY2xpZW50WCxpPWZ1bmN0aW9uKGUpe3I9ZS5jbGllbnRYfSxzPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChsKX0sdT10LmNsaWVudFgsYT10aGlzLnRodW1iTGVmdCxmPWZ1bmN0aW9uKCl7aWYocj09PXVuZGVmaW5lZClyZXR1cm47dmFyIGU9bi5zY3JvbGxMZWZ0RnJvbVRodW1iTGVmdChhK3ItdSk7aWYoZT09PW4uc2Nyb2xsTGVmdClyZXR1cm47bi5fZW1pdChcInNjcm9sbFwiLHtkYXRhOmV9KX07by5jYXB0dXJlKHRoaXMuaW5uZXIsaSxzKTt2YXIgbD1zZXRJbnRlcnZhbChmLDIwKTtyZXR1cm4gby5wcmV2ZW50RGVmYXVsdCh0KX12YXIgYz10LmNsaWVudFgtdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtdGhpcy50aHVtYldpZHRoLzI7cmV0dXJuIHRoaXMuX2VtaXQoXCJzY3JvbGxcIix7ZGF0YTp0aGlzLnNjcm9sbExlZnRGcm9tVGh1bWJMZWZ0KGMpfSksby5wcmV2ZW50RGVmYXVsdCh0KX0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlP3RoaXMuaGVpZ2h0OjB9LHQucHJvdG90eXBlLnNjcm9sbExlZnRGcm9tVGh1bWJMZWZ0PWZ1bmN0aW9uKGUpe3ZhciB0PWUqKHRoaXMucGFnZVdpZHRoLXRoaXMudmlld1dpZHRoKS8odGhpcy5zbGlkZVdpZHRoLXRoaXMudGh1bWJXaWR0aCk7cmV0dXJuIHQ+Pj0wLHQ8MD90PTA6dD50aGlzLnBhZ2VXaWR0aC10aGlzLnZpZXdXaWR0aCYmKHQ9dGhpcy5wYWdlV2lkdGgtdGhpcy52aWV3V2lkdGgpLHR9LHQucHJvdG90eXBlLnNldFdpZHRoPWZ1bmN0aW9uKGUpe3RoaXMud2lkdGg9TWF0aC5tYXgoMCxlKSx0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg9dGhpcy53aWR0aCtcInB4XCIsdGhpcy5zbGlkZVdpZHRoPXRoaXMud2lkdGgsdGhpcy52aWV3V2lkdGg9dGhpcy53aWR0aCx0aGlzLnNldFNjcm9sbFdpZHRoKHRoaXMucGFnZVdpZHRoLCEwKX0sdC5wcm90b3R5cGUuc2V0U2Nyb2xsV2lkdGg9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnBhZ2VXaWR0aD09PWUmJiF0KXJldHVybjt0aGlzLnBhZ2VXaWR0aD1lLHRoaXMudGh1bWJXaWR0aD10aGlzLnNsaWRlV2lkdGgqdGhpcy52aWV3V2lkdGgvdGhpcy5wYWdlV2lkdGgsdGhpcy50aHVtYldpZHRoPnRoaXMuc2xpZGVXaWR0aCYmKHRoaXMudGh1bWJXaWR0aD10aGlzLnNsaWRlV2lkdGgpLHRoaXMudGh1bWJXaWR0aDwxNSYmKHRoaXMudGh1bWJXaWR0aD0xNSksdGhpcy5pbm5lci5zdHlsZS53aWR0aD10aGlzLnRodW1iV2lkdGgrXCJweFwiLHRoaXMuc2Nyb2xsTGVmdD50aGlzLnBhZ2VXaWR0aC10aGlzLnZpZXdXaWR0aCYmKHRoaXMuc2Nyb2xsTGVmdD10aGlzLnBhZ2VXaWR0aC10aGlzLnZpZXdXaWR0aCx0aGlzLnNjcm9sbExlZnQ8MCYmKHRoaXMuc2Nyb2xsTGVmdD0wKSx0aGlzLl9lbWl0KFwic2Nyb2xsXCIse2RhdGE6dGhpcy5zY3JvbGxMZWZ0fSkpfSx0LnByb3RvdHlwZS5zZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKGUpe3RoaXMuc2Nyb2xsTGVmdD1lLGU8MCYmKGU9MCksdGhpcy50aHVtYkxlZnQ9ZSoodGhpcy5zbGlkZVdpZHRoLXRoaXMudGh1bWJXaWR0aCkvKHRoaXMucGFnZVdpZHRoLXRoaXMudmlld1dpZHRoKSx0aGlzLmlubmVyLnN0eWxlLmxlZnQ9dGhpcy50aHVtYkxlZnQrXCJweFwifSx0fShhKTtsLnByb3RvdHlwZS5zZXRJbm5lcldpZHRoPWwucHJvdG90eXBlLnNldFNjcm9sbFdpZHRoLHQuU2Nyb2xsQmFyPWYsdC5TY3JvbGxCYXJWPWYsdC5TY3JvbGxCYXJIPWwsdC5WU2Nyb2xsQmFyPWYsdC5IU2Nyb2xsQmFyPWx9KSxhY2UuZGVmaW5lKFwiYWNlL3JlbmRlcmxvb3BcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZXZlbnRcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuL2xpYi9ldmVudFwiKSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMub25SZW5kZXI9ZSx0aGlzLnBlbmRpbmc9ITEsdGhpcy5jaGFuZ2VzPTAsdGhpcy4kcmVjdXJzaW9uTGltaXQ9Mix0aGlzLndpbmRvdz10fHx3aW5kb3c7dmFyIG49dGhpczt0aGlzLl9mbHVzaD1mdW5jdGlvbihlKXtuLnBlbmRpbmc9ITE7dmFyIHQ9bi5jaGFuZ2VzO3QmJihyLmJsb2NrSWRsZSgxMDApLG4uY2hhbmdlcz0wLG4ub25SZW5kZXIodCkpO2lmKG4uY2hhbmdlcyl7aWYobi4kcmVjdXJzaW9uTGltaXQtLTwwKXJldHVybjtuLnNjaGVkdWxlKCl9ZWxzZSBuLiRyZWN1cnNpb25MaW1pdD0yfX1yZXR1cm4gZS5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24oZSl7dGhpcy5jaGFuZ2VzPXRoaXMuY2hhbmdlc3xlLHRoaXMuY2hhbmdlcyYmIXRoaXMucGVuZGluZyYmKHIubmV4dEZyYW1lKHRoaXMuX2ZsdXNoKSx0aGlzLnBlbmRpbmc9ITApfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNoYW5nZXM7cmV0dXJuIHRoaXMuY2hhbmdlcz0wLHR9LGV9KCk7dC5SZW5kZXJMb29wPWl9KSxhY2UuZGVmaW5lKFwiYWNlL2xheWVyL2ZvbnRfbWV0cmljc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9saWIvdXNlcmFnZW50XCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIl0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoXCIuLi9saWIvb29wXCIpLGk9ZShcIi4uL2xpYi9kb21cIikscz1lKFwiLi4vbGliL2xhbmdcIiksbz1lKFwiLi4vbGliL2V2ZW50XCIpLHU9ZShcIi4uL2xpYi91c2VyYWdlbnRcIiksYT1lKFwiLi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyLGY9NTEyLGw9dHlwZW9mIFJlc2l6ZU9ic2VydmVyPT1cImZ1bmN0aW9uXCIsYz0yMDAsaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5lbD1pLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy4kc2V0TWVhc3VyZU5vZGVTdHlsZXModGhpcy5lbC5zdHlsZSwhMCksdGhpcy4kbWFpbj1pLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy4kc2V0TWVhc3VyZU5vZGVTdHlsZXModGhpcy4kbWFpbi5zdHlsZSksdGhpcy4kbWVhc3VyZU5vZGU9aS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzKHRoaXMuJG1lYXN1cmVOb2RlLnN0eWxlKSx0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuJG1haW4pLHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy4kbWVhc3VyZU5vZGUpLGUuYXBwZW5kQ2hpbGQodGhpcy5lbCksdGhpcy4kbWVhc3VyZU5vZGUudGV4dENvbnRlbnQ9cy5zdHJpbmdSZXBlYXQoXCJYXCIsZiksdGhpcy4kY2hhcmFjdGVyU2l6ZT17d2lkdGg6MCxoZWlnaHQ6MH0sbD90aGlzLiRhZGRPYnNlcnZlcigpOnRoaXMuY2hlY2tGb3JTaXplQ2hhbmdlcygpfXJldHVybiBlLnByb3RvdHlwZS4kc2V0TWVhc3VyZU5vZGVTdHlsZXM9ZnVuY3Rpb24oZSx0KXtlLndpZHRoPWUuaGVpZ2h0PVwiYXV0b1wiLGUubGVmdD1lLnRvcD1cIjBweFwiLGUudmlzaWJpbGl0eT1cImhpZGRlblwiLGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUud2hpdGVTcGFjZT1cInByZVwiLHUuaXNJRTw4P2VbXCJmb250LWZhbWlseVwiXT1cImluaGVyaXRcIjplLmZvbnQ9XCJpbmhlcml0XCIsZS5vdmVyZmxvdz10P1wiaGlkZGVuXCI6XCJ2aXNpYmxlXCJ9LGUucHJvdG90eXBlLmNoZWNrRm9yU2l6ZUNoYW5nZXM9ZnVuY3Rpb24oZSl7ZT09PXVuZGVmaW5lZCYmKGU9dGhpcy4kbWVhc3VyZVNpemVzKCkpO2lmKGUmJih0aGlzLiRjaGFyYWN0ZXJTaXplLndpZHRoIT09ZS53aWR0aHx8dGhpcy4kY2hhcmFjdGVyU2l6ZS5oZWlnaHQhPT1lLmhlaWdodCkpe3RoaXMuJG1lYXN1cmVOb2RlLnN0eWxlLmZvbnRXZWlnaHQ9XCJib2xkXCI7dmFyIHQ9dGhpcy4kbWVhc3VyZVNpemVzKCk7dGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUuZm9udFdlaWdodD1cIlwiLHRoaXMuJGNoYXJhY3RlclNpemU9ZSx0aGlzLmNoYXJTaXplcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuYWxsb3dCb2xkRm9udHM9dCYmdC53aWR0aD09PWUud2lkdGgmJnQuaGVpZ2h0PT09ZS5oZWlnaHQsdGhpcy5fZW1pdChcImNoYW5nZUNoYXJhY3RlclNpemVcIix7ZGF0YTplfSl9fSxlLnByb3RvdHlwZS4kYWRkT2JzZXJ2ZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuJG9ic2VydmVyPW5ldyB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24odCl7ZS5jaGVja0ZvclNpemVDaGFuZ2VzKCl9KSx0aGlzLiRvYnNlcnZlci5vYnNlcnZlKHRoaXMuJG1lYXN1cmVOb2RlKX0sZS5wcm90b3R5cGUuJHBvbGxTaXplQ2hhbmdlcz1mdW5jdGlvbigpe2lmKHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyfHx0aGlzLiRvYnNlcnZlcilyZXR1cm4gdGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXI7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXI9by5vbklkbGUoZnVuY3Rpb24gdCgpe2UuY2hlY2tGb3JTaXplQ2hhbmdlcygpLG8ub25JZGxlKHQsNTAwKX0sNTAwKX0sZS5wcm90b3R5cGUuc2V0UG9sbGluZz1mdW5jdGlvbihlKXtlP3RoaXMuJHBvbGxTaXplQ2hhbmdlcygpOnRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyJiYoY2xlYXJJbnRlcnZhbCh0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lciksdGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXI9MCl9LGUucHJvdG90eXBlLiRtZWFzdXJlU2l6ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2hlaWdodDooZXx8dGhpcy4kbWVhc3VyZU5vZGUpLmNsaWVudEhlaWdodCx3aWR0aDooZXx8dGhpcy4kbWVhc3VyZU5vZGUpLmNsaWVudFdpZHRoL2Z9O3JldHVybiB0LndpZHRoPT09MHx8dC5oZWlnaHQ9PT0wP251bGw6dH0sZS5wcm90b3R5cGUuJG1lYXN1cmVDaGFyV2lkdGg9ZnVuY3Rpb24oZSl7dGhpcy4kbWFpbi50ZXh0Q29udGVudD1zLnN0cmluZ1JlcGVhdChlLGYpO3ZhciB0PXRoaXMuJG1haW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIHQud2lkdGgvZn0sZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyV2lkdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jaGFyU2l6ZXNbZV07cmV0dXJuIHQ9PT11bmRlZmluZWQmJih0PXRoaXMuY2hhclNpemVzW2VdPXRoaXMuJG1lYXN1cmVDaGFyV2lkdGgoZSkvdGhpcy4kY2hhcmFjdGVyU2l6ZS53aWR0aCksdH0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXIpLHRoaXMuJG9ic2VydmVyJiZ0aGlzLiRvYnNlcnZlci5kaXNjb25uZWN0KCksdGhpcy5lbCYmdGhpcy5lbC5wYXJlbnROb2RlJiZ0aGlzLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbCl9LGUucHJvdG90eXBlLiRnZXRab29tPWZ1bmN0aW9uKGUpe3JldHVybiFlfHwhZS5wYXJlbnRFbGVtZW50PzE6KE51bWJlcih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKS56b29tKXx8MSkqdGhpcy4kZ2V0Wm9vbShlLnBhcmVudEVsZW1lbnQpfSxlLnByb3RvdHlwZS4kaW5pdFRyYW5zZm9ybU1lYXN1cmVOb2Rlcz1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuW1wiZGl2XCIse3N0eWxlOlwicG9zaXRpb246IGFic29sdXRlO3RvcDpcIitlK1wicHg7bGVmdDpcIit0K1wicHg7XCJ9XX07dGhpcy5lbHM9aS5idWlsZERvbShbZSgwLDApLGUoYywwKSxlKDAsYyksZShjLGMpXSx0aGlzLmVsKX0sZS5wcm90b3R5cGUudHJhbnNmb3JtQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUsdCxuKXt2YXIgcj1lWzFdKnRbMF0tZVswXSp0WzFdO3JldHVyblsoLXRbMV0qblswXSt0WzBdKm5bMV0pL3IsKCtlWzFdKm5bMF0tZVswXSpuWzFdKS9yXX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuW2VbMF0tdFswXSxlWzFdLXRbMV1dfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm5bZVswXSt0WzBdLGVbMV0rdFsxXV19ZnVuY3Rpb24gbyhlLHQpe3JldHVybltlKnRbMF0sZSp0WzFdXX1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuW3QubGVmdCx0LnRvcF19aWYoZSl7dmFyIG49dGhpcy4kZ2V0Wm9vbSh0aGlzLmVsKTtlPW8oMS9uLGUpfXRoaXMuZWxzfHx0aGlzLiRpbml0VHJhbnNmb3JtTWVhc3VyZU5vZGVzKCk7dmFyIGE9dSh0aGlzLmVsc1swXSksZj11KHRoaXMuZWxzWzFdKSxsPXUodGhpcy5lbHNbMl0pLGg9dSh0aGlzLmVsc1szXSkscD1yKGkoaCxmKSxpKGgsbCksaShzKGYsbCkscyhoLGEpKSksZD1vKDErcFswXSxpKGYsYSkpLHY9bygxK3BbMV0saShsLGEpKTtpZih0KXt2YXIgbT10LGc9cFswXSptWzBdL2MrcFsxXSptWzFdL2MrMSx5PXMobyhtWzBdLGQpLG8obVsxXSx2KSk7cmV0dXJuIHMobygxL2cvYyx5KSxhKX12YXIgYj1pKGUsYSksdz1yKGkoZCxvKHBbMF0sYikpLGkodixvKHBbMV0sYikpLGIpO3JldHVybiBvKGMsdyl9LGV9KCk7aC5wcm90b3R5cGUuJGNoYXJhY3RlclNpemU9e3dpZHRoOjAsaGVpZ2h0OjB9LHIuaW1wbGVtZW50KGgucHJvdG90eXBlLGEpLHQuRm9udE1ldHJpY3M9aH0pLGFjZS5kZWZpbmUoXCJhY2UvY3NzL2VkaXRvci1jc3NcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sZnVuY3Rpb24oZSx0LG4pe24uZXhwb3J0cz0nXFxuLmFjZV9icjEge2JvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgOiAzcHg7fVxcbi5hY2VfYnIyIHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1cyAgIDogM3B4O31cXG4uYWNlX2JyMyB7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1cyAgICA6IDNweDsgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICAgIDNweDt9XFxuLmFjZV9icjQge2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7fVxcbi5hY2VfYnI1IHtib3JkZXItdG9wLWxlZnQtcmFkaXVzICAgIDogM3B4OyBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4O31cXG4uYWNlX2JyNiB7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXMgICA6IDNweDsgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDNweDt9XFxuLmFjZV9icjcge2JvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgOiAzcHg7IGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAgICAzcHg7IGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7fVxcbi5hY2VfYnI4IHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIDogM3B4O31cXG4uYWNlX2JyOSB7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1cyAgICA6IDNweDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogIDNweDt9XFxuLmFjZV9icjEwe2JvcmRlci10b3AtcmlnaHQtcmFkaXVzICAgOiAzcHg7IGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICAzcHg7fVxcbi5hY2VfYnIxMXtib3JkZXItdG9wLWxlZnQtcmFkaXVzICAgIDogM3B4OyBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogICAgM3B4OyBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAgM3B4O31cXG4uYWNlX2JyMTJ7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDNweDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogIDNweDt9XFxuLmFjZV9icjEze2JvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgOiAzcHg7IGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7IGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICAzcHg7fVxcbi5hY2VfYnIxNHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1cyAgIDogM3B4OyBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4OyBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAgM3B4O31cXG4uYWNlX2JyMTV7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1cyAgICA6IDNweDsgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICAgIDNweDsgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDNweDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogM3B4O31cXG5cXG5cXG4uYWNlX2VkaXRvciB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgZm9udDogMTJweC9ub3JtYWwgXFwnTW9uYWNvXFwnLCBcXCdNZW5sb1xcJywgXFwnVWJ1bnR1IE1vbm9cXCcsIFxcJ0NvbnNvbGFzXFwnLCBcXCdTb3VyY2UgQ29kZSBQcm9cXCcsIFxcJ3NvdXJjZS1jb2RlLXByb1xcJywgbW9ub3NwYWNlO1xcbiAgICBkaXJlY3Rpb246IGx0cjtcXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcXG4gICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xcbiAgICBmb3JjZWQtY29sb3ItYWRqdXN0OiBub25lO1xcbn1cXG5cXG4uYWNlX3Njcm9sbGVyIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICB0b3A6IDA7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgY3Vyc29yOiB0ZXh0O1xcbn1cXG5cXG4uYWNlX2NvbnRlbnQge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIG1pbi13aWR0aDogMTAwJTtcXG4gICAgY29udGFpbjogc3R5bGUgc2l6ZSBsYXlvdXQ7XFxuICAgIGZvbnQtdmFyaWFudC1saWdhdHVyZXM6IG5vLWNvbW1vbi1saWdhdHVyZXM7XFxufVxcbi5hY2VfaW52aXNpYmxlIHtcXG4gICAgZm9udC12YXJpYW50LWxpZ2F0dXJlczogbm9uZTtcXG59XFxuXFxuLmFjZV9rZXlib2FyZC1mb2N1czpmb2N1cyB7XFxuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDJweCAjNUU5RUQ2O1xcbiAgICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG4uYWNlX2RyYWdnaW5nIC5hY2Vfc2Nyb2xsZXI6YmVmb3Jle1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMDtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgY29udGVudDogXFwnXFwnO1xcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1MCwgMjUwLCAyNTAsIDAuMDEpO1xcbiAgICB6LWluZGV4OiAxMDAwO1xcbn1cXG4uYWNlX2RyYWdnaW5nLmFjZV9kYXJrIC5hY2Vfc2Nyb2xsZXI6YmVmb3Jle1xcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDEpO1xcbn1cXG5cXG4uYWNlX2d1dHRlciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgb3ZlcmZsb3cgOiBoaWRkZW47XFxuICAgIHdpZHRoOiBhdXRvO1xcbiAgICB0b3A6IDA7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgbGVmdDogMDtcXG4gICAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgICB6LWluZGV4OiA0O1xcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcbiAgICBjb250YWluOiBzdHlsZSBzaXplIGxheW91dDtcXG59XFxuXFxuLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHJpZ2h0OiAwO1xcbn1cXG5cXG4uYWNlX3Njcm9sbGVyLmFjZV9zY3JvbGwtbGVmdDphZnRlciB7XFxuICAgIGNvbnRlbnQ6IFwiXCI7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgYm90dG9tOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICBib3gtc2hhZG93OiAxN3B4IDAgMTZweCAtMTZweCByZ2JhKDAsIDAsIDAsIDAuNCkgaW5zZXQ7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG5cXG4uYWNlX2d1dHRlci1jZWxsLCAuYWNlX2d1dHRlci1jZWxsX3N2Zy1pY29ucyB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgcGFkZGluZy1sZWZ0OiAxOXB4O1xcbiAgICBwYWRkaW5nLXJpZ2h0OiA2cHg7XFxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxufVxcblxcbi5hY2VfZ3V0dGVyLWNlbGxfc3ZnLWljb25zIC5hY2VfZ3V0dGVyX2Fubm90YXRpb24ge1xcbiAgICBtYXJnaW4tbGVmdDogLTE0cHg7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbn1cXG5cXG4uYWNlX2d1dHRlci1jZWxsIC5hY2VfZ3V0dGVyX2Fubm90YXRpb24ge1xcbiAgICBtYXJnaW4tbGVmdDogLTE5cHg7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbn1cXG5cXG4uYWNlX2d1dHRlci1jZWxsLmFjZV9lcnJvciwgLmFjZV9pY29uLmFjZV9lcnJvciwgLmFjZV9pY29uLmFjZV9lcnJvcl9mb2xkLCAuYWNlX2d1dHRlci1jZWxsLmFjZV9zZWN1cml0eSwgLmFjZV9pY29uLmFjZV9zZWN1cml0eSwgLmFjZV9pY29uLmFjZV9zZWN1cml0eV9mb2xkIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FNQUFBQW9MUTlUQUFBQk9GQk1WRVgvLy8vLy8vLy9RUnN3RkFiL1VpNHdGQVl3RkFZd0ZBYVdHQWZEUnltek9TSC9QeHN3RkFiL1NpVXdGQVl3RkFiVVBSdmpRaURsbG9nNUhoSGRSeWJzVGkzL1R5djlUaXIrU3lqL1VDMy8vLy9YdXJlYk1CSXdGQWIvUlNIYlB4L2dVemZkd0wza3pNaXZLQkF3RkFiYnZibmhQeDY2Tmhvd0ZBWXdGQWFaSmc4d0ZBYXhLQkRadXJmL1JCNm1NeGIvU0NNd0ZBWXdGQWJ4UUIzK1JCNHdGQWIvUWh5NE9oKzRRaWZiTlJjd0ZBWXdGQVl3RkFiL1FSemROaGd3RkFZd0ZBYmF2N3YvVXk3b2FFNjhNQks1THhMZXdyL3IyTlhld0xzd0ZBYXhKdzR3RkFia1BSeTJQeVl3RkFheEtoTG0xdE13RkFhelBpUXdGQWFVR0FiL1FCcmZPeDNidnJ2L1ZDL21hRTR3RkFiUlBCcTZNUk84UXluZXc4RHAydGpmd2Iwd0ZBYng2ZWp1NStieTZ1bnM0dUg5L2YzNit2ci9Ha0hqQUFBQVluUlNUbE1BR3QrNjRybld1L2JvOGVBQTRJbkgzK0R3b043ajRlTGk0eFA5OU5mZzQrYisvdTlCL2VEczFNRDFtTzcrNFBIZzJNWGEzNDdnN3ZEaXpNTE40ZUcrUHY3aTVldnMvdjc5eXU3UzMvRFY3LzQ5OFl2MjRlSCs0dWZRM096dS92Nyt5MTNzUnF3QUFBRExTVVJCVkhqYVpjL1hEc0ZnR0lCaHREcnNobGl0bWsySXJiSEZxTDJwdlhmLys3OERQb2tqNytGejlxcFUvOVVYSklsaG1QYVRhUTZRUGF6MG1tKzVnd2tnb3ZjVjZHWnpkNUp0Q1F3Z3N4b0hPdkpPMTVrbGVSTEFuTWdIRklFU1VFUG1hd0I5bmdtZWxUdGlwd3dmQVNpbHhPTHlpVjVVVlV5VkFmYkcwY0NQSGlnK0dCa3pBRU5IUzBBc3RWRjZiYWNaSU96Z0xteHNIYnQyT2VjTmdKQzgzSkVSbWVQVVlxOEFSR2tKeDZYdEZzZGRkQlFnWkUyblBSNkNJQ1poYXdqQTRGYi9jaHYrMzk5a2ZSK01NTURHT1FBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XFxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDJweCBjZW50ZXI7XFxufVxcblxcbi5hY2VfZ3V0dGVyLWNlbGwuYWNlX3dhcm5pbmcsIC5hY2VfaWNvbi5hY2Vfd2FybmluZywgLmFjZV9pY29uLmFjZV93YXJuaW5nX2ZvbGQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQU1BQUFBb0xROVRBQUFBbVZCTVZFWC8vLzhBQUFELy8vOEFBQUFBQUFCUFN6Yi81c0FBQUFCL2JsSC83M3ovdWxrQUFBQUFBQUQ4NXBrQUFBQUFBQUFDQWdQL3ZHei9ya0RlckdiR3JWNy9wa1FJQ0FmLy8vL2UwSXNBQUFEL29FRC9xVHZocm5VQUFBRC95SEQvbmpjQUFBRHV2MnIvbnovL29Uai9wMDY0b0dmL3pIQUFBQUE5TmlyL3RGSUFBQUQvdGxUaXVXZi90a0lBQUFDeW5YRUFBQUFBQUFBdElSVzd6QnBCQUFBQU0zUlNUbE1BQUJSMW03UlhPOExuMzFaMzZ6VCtuZVhlNU96b29SRGZuK1RaNHAzaDJoVGY0dDNrM3VjeXJOMUs1K1hha3M1MlNmczlDWGdyQUFBQWprbEVRVlI0Mm8zUGJRK0NJQlFGWUV3Ym9QaFNZZ29ZdW5JcXFMbjYvejh1WWRIOFZtZG51OXZ6NFd3WGdOL3hUUFJEMitzZ09jWmpzZ2Uvd2hYWmdVYVlZdlQ4UW51SmFVcmpySFVRcmVHY3p1RWFmUUNPL1NKVHVmVGJyb1dzUGdzbGxWaHEzd0pFazJqVVN6WDNDVUVESkM4NDcwN2RqUmM1TVRBUXhvTGd1cFdSd1c2VUI1ZlMrK05WOEFiT1pnbnNDN0JwRUFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XFxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDJweCBjZW50ZXI7XFxufVxcblxcbi5hY2VfZ3V0dGVyLWNlbGwuYWNlX2luZm8sIC5hY2VfaWNvbi5hY2VfaW5mbywgLmFjZV9ndXR0ZXItY2VsbC5hY2VfaGludCwgLmFjZV9pY29uLmFjZV9oaW50IHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FBQUFBQTZtS0M5QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFBSjBVazVUQUFCMms4MDRBQUFBUGtsRVFWUVkwMk5nSUI2OFF1TzN0aUx6bmpBd3BLVGdOeURiTWVnd2lzQ0haVUVUVVpWMFpxT3F1QnBYajJydG5wU0pUMUFFbm5SbUwyT2dHZ0FBSUtrUlFhcDJodGdBQUFBQVNVVk9SSzVDWUlJPVwiKTtcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMnB4IGNlbnRlcjtcXG59XFxuXFxuLmFjZV9kYXJrIC5hY2VfZ3V0dGVyLWNlbGwuYWNlX2luZm8sIC5hY2VfZGFyayAuYWNlX2ljb24uYWNlX2luZm8sIC5hY2VfZGFyayAuYWNlX2d1dHRlci1jZWxsLmFjZV9oaW50LCAuYWNlX2RhcmsgLmFjZV9pY29uLmFjZV9oaW50IHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQkFNQUFBRHQzZUpTQUFBQUpGQk1WRVVBQUFDaG9hR0FnSUFxS2lxK3ZyNnRyYTFaV1ZtVWxKU2JtNXM4UER4dWJtNTZlbnJkZ3pnM0FBQUFBWFJTVGxNQVFPYllaZ0FBQUNsSlJFRlVlTnBqWU1BUGRzTVlIZWd5SlpGUUJsc1VsTUZWQ1dVWUtrQVpNeFpBR2R4bERNUUJBRytUQlA0QjZSeUpBQUFBQUVsRlRrU3VRbUNDXCIpO1xcbn1cXG5cXG4uYWNlX2ljb25fc3ZnLmFjZV9lcnJvciB7XFxuICAgIC13ZWJraXQtbWFzay1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhacFpYZENiM2c5SWpBZ01DQXlNQ0F4TmlJK0NqeG5JSE4wY205clpTMTNhV1IwYUQwaU1pSWdjM1J5YjJ0bFBTSnlaV1FpSUhOb1lYQmxMWEpsYm1SbGNtbHVaejBpWjJWdmJXVjBjbWxqVUhKbFkybHphVzl1SWo0S1BHTnBjbU5zWlNCbWFXeHNQU0p1YjI1bElpQmplRDBpT0NJZ1kzazlJamdpSUhJOUlqY2lJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUx6NEtQR3hwYm1VZ2VERTlJakV4SWlCNU1UMGlOU0lnZURJOUlqVWlJSGt5UFNJeE1TSXZQZ284YkdsdVpTQjRNVDBpTVRFaUlIa3hQU0l4TVNJZ2VESTlJalVpSUhreVBTSTFJaTgrQ2p3dlp6NEtQQzl6ZG1jK1wiKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogY3JpbXNvbjtcXG59XFxuLmFjZV9pY29uX3N2Zy5hY2Vfc2VjdXJpdHkge1xcbiAgICAtd2Via2l0LW1hc2staW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjJhV1YzUW05NFBTSXdJREFnTWpBZ01UWWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SStDaUFnSUNBOFp5QnpkSEp2YTJVdGQybGtkR2c5SWpJaUlITjBjbTlyWlQwaVpHRnlhMjl5WVc1blpTSWdabWxzYkQwaWJtOXVaU0lnYzJoaGNHVXRjbVZ1WkdWeWFXNW5QU0puWlc5dFpYUnlhV05RY21WamFYTnBiMjRpUGdvZ0lDQWdJQ0FnSUR4d1lYUm9JR05zWVhOelBTSnpkSEp2YTJVdGJHbHVaV3B2YVc0dGNtOTFibVFpSUdROUlrMDRJREUwTGpnek1EZERPQ0F4TkM0NE16QTNJRElnTVRJdU9UQTBOeUF5SURndU1EZzVPVEpXTXk0eU5qVTBPRU0xTGpNeElETXVNalkxTkRnZ055NDVPRGs1T1NBeExqTTBPVEU0SURjdU9UZzVPVGtnTVM0ek5Ea3hPRU0zTGprNE9UazVJREV1TXpRNU1UZ2dNVEF1TmprZ015NHlOalUwT0NBeE5DQXpMakkyTlRRNFZqZ3VNRGc1T1RKRE1UUWdNVEl1T1RBME55QTRJREUwTGpnek1EY2dPQ0F4TkM0NE16QTNXaUl2UGdvZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWsweUlEZ3VNRGc1T1RKV015NHlOalUwT0VNMUxqTXhJRE11TWpZMU5EZ2dOeTQ1T0RrNU9TQXhMak0wT1RFNElEY3VPVGc1T1RrZ01TNHpORGt4T0NJdlBnb2dJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHhNeTQ1T1NBNExqQTRPVGt5VmpNdU1qWTFORGhETVRBdU5qZ2dNeTR5TmpVME9DQTRJREV1TXpRNU1UZ2dPQ0F4TGpNME9URTRJaTgrQ2lBZ0lDQWdJQ0FnUEhCaGRHZ2dZMnhoYzNNOUluTjBjbTlyWlMxc2FXNWxhbTlwYmkxeWIzVnVaQ0lnWkQwaVRUZ2dORlk1SWk4K0NpQWdJQ0FnSUNBZ1BIQmhkR2dnWTJ4aGMzTTlJbk4wY205clpTMXNhVzVsYW05cGJpMXliM1Z1WkNJZ1pEMGlUVGdnTVRCV01USWlMejRLSUNBZ0lEd3ZaejRLUEM5emRtYytcIik7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGNyaW1zb247XFxufVxcbi5hY2VfaWNvbl9zdmcuYWNlX3dhcm5pbmcge1xcbiAgICAtd2Via2l0LW1hc2staW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TUNBeE5pSStDanhuSUhOMGNtOXJaUzEzYVdSMGFEMGlNaUlnYzNSeWIydGxQU0prWVhKcmIzSmhibWRsSWlCemFHRndaUzF5Wlc1a1pYSnBibWM5SW1kbGIyMWxkSEpwWTFCeVpXTnBjMmx2YmlJK0NqeHdiMng1WjI5dUlITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpSUdacGJHdzlJbTV2Ym1VaUlIQnZhVzUwY3owaU9DQXhJREUxSURFMUlERWdNVFVnT0NBeElpOCtDanh5WldOMElIZzlJamdpSUhrOUlqRXlJaUIzYVdSMGFEMGlNQzR3TVNJZ2FHVnBaMmgwUFNJd0xqQXhJaTgrQ2p4c2FXNWxJSGd4UFNJNElpQjVNVDBpTmlJZ2VESTlJamdpSUhreVBTSXhNQ0l2UGdvOEwyYytDand2YzNablBnPT1cIik7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtvcmFuZ2U7XFxufVxcbi5hY2VfaWNvbl9zdmcuYWNlX2luZm8ge1xcbiAgICAtd2Via2l0LW1hc2staW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TUNBeE5pSStDanhuSUhOMGNtOXJaUzEzYVdSMGFEMGlNaUlnYzNSeWIydGxQU0ppYkhWbElpQnphR0Z3WlMxeVpXNWtaWEpwYm1jOUltZGxiMjFsZEhKcFkxQnlaV05wYzJsdmJpSStDanhqYVhKamJHVWdabWxzYkQwaWJtOXVaU0lnWTNnOUlqZ2lJR041UFNJNElpQnlQU0kzSWlCemRISnZhMlV0YkdsdVpXcHZhVzQ5SW5KdmRXNWtJaTgrQ2p4d2IyeDViR2x1WlNCd2IybHVkSE05SWpnZ01URWdPQ0E0SWk4K0NqeHdiMng1YkdsdVpTQndiMmx1ZEhNOUlqa2dPQ0EySURnaUx6NEtQR3hwYm1VZ2VERTlJakV3SWlCNU1UMGlNVEVpSUhneVBTSTJJaUI1TWowaU1URWlMejRLUEhKbFkzUWdlRDBpT0NJZ2VUMGlOU0lnZDJsa2RHZzlJakF1TURFaUlHaGxhV2RvZEQwaU1DNHdNU0l2UGdvOEwyYytDand2YzNablBnPT1cIik7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJveWFsYmx1ZTtcXG59XFxuLmFjZV9pY29uX3N2Zy5hY2VfaGludCB7XFxuICAgIC13ZWJraXQtbWFzay1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCMmFXVjNRbTk0UFNJd0lEQWdNakFnTVRZaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK0NpQWdJQ0E4WnlCemRISnZhMlV0ZDJsa2RHZzlJaklpSUhOMGNtOXJaVDBpYzJsc2RtVnlJaUJtYVd4c1BTSnViMjVsSWlCemFHRndaUzF5Wlc1a1pYSnBibWM5SW1kbGIyMWxkSEpwWTFCeVpXTnBjMmx2YmlJK0NpQWdJQ0FnSUNBZ1BIQmhkR2dnWTJ4aGMzTTlJbk4wY205clpTMXNhVzVsYW05cGJpMXliM1Z1WkNJZ1pEMGlUVFlnTVRSSU1UQWlMejRLSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOT0NBeE1VZzVRemtnT1M0ME56QXdNaUF4TWlBNExqVTBNREF5SURFeUlEVXVOell3TURKRE1USXVNRElnTkM0ME1EQXdNaUF4TVM0ek9TQXpMak0yTURBeUlERXdMalF6SURJdU5qY3dNREpET1NBeExqWTBNREF5SURjdU1EQXdNREVnTVM0Mk5EQXdNaUExTGpVM01EQXhJREl1Tmpjd01ESkROQzQyTVRBd01TQXpMak0yTURBeUlETXVPVGdnTkM0ME1EQXdNaUEwSURVdU56WXdNREpETkNBNExqVTBNREF5SURjdU1EQXdNREVnT1M0ME56QXdNaUEzTGpBd01EQXhJREV4U0RoYUlpOCtDaUFnSUNBOEwyYytDand2YzNablBnPT1cIik7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHNpbHZlcjtcXG59XFxuXFxuLmFjZV9pY29uX3N2Zy5hY2VfZXJyb3JfZm9sZCB7XFxuICAgIC13ZWJraXQtbWFzay1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhacFpYZENiM2c5SWpBZ01DQXlNQ0F4TmlJZ1ptbHNiRDBpYm05dVpTSStDaUFnUEhCaGRHZ2daRDBpYlNBeE9DNDVNams0TlRFc055NDRNams0TURjMklHTWdNQzR4TkRZek5UTXNOaTR6TXpjME5qQTBJQzAyTGpNeU16RTBOeXczTGpjM056ZzBORFFnTFRjdU5EYzNPVEV5TERjdU56YzNPRFEwTkNBdE1pNHhNRGN5TnpJMkxDMHdMakV5T0RjMUlEVXVNVEUzTmpjNExEQXVNelUyTWpRNUlEVXVNRFV4TmprNExDMDNMamczTURBMk1UZ2dMVEF1TmpBME5qY3lMQzA0TGpBd016azNNelE1SUMwM0xqQTNOekkzTURZc0xUY3VOVFl6TVRFNE9TQXROQzQ0TlRjekxDMDNMalF6TURNNU5UVTJJREV1TmpBMkxDMHdMakV4TlRFME1qSTFJRFl1T0RrM05EZzFMREV1TWpZeU5UUTFPVFlnTnk0eU9ETTFNVFFzTnk0MU1qSTJNVEk1TmlCNklpQm1hV3hzUFNKamNtbHRjMjl1SWlCemRISnZhMlV0ZDJsa2RHZzlJaklpTHo0S0lDQThjR0YwYUNCbWFXeHNMWEoxYkdVOUltVjJaVzV2WkdRaUlHTnNhWEF0Y25Wc1pUMGlaWFpsYm05a1pDSWdaRDBpYlNBNExqRXhORGMxTmpJc01pNHdOVEk1T0RJNElHTWdNeTR6TkRreE5qazRMREFnTmk0d05qUXhNekk0TERJdU5qYzJPRFl5TnlBMkxqQTJOREV6TWpnc05TNDVOemc1TlRNZ01Dd3pMak13TWpFeE1qSWdMVEl1TnpFME9UWXpMRFV1T1RjNE9USXdNaUF0Tmk0d05qUXhNekk0TERVdU9UYzRPVEl3TWlBdE15NHpORGt4TkRjekxEQWdMVFl1TURZME1UYzNNaXd0TWk0Mk56WTRNRGdnTFRZdU1EWTBNVGMzTWl3dE5TNDVOemc1TWpBeUlEQXVNREExTXprc0xUTXVNams1T0RnMk1TQXlMamN4TnpJMk5UWXNMVFV1T1Rjek5qUXdPQ0EyTGpBMk5ERTNOeklzTFRVdU9UYzRPVFV6SUhvZ2JTQXdMQzB4TGpjek5UZ3lOekU1SUdNZ0xUUXVNekl4TkRnek5pd3dJQzAzTGpneU5EYzBNRE00TERNdU5EVTBNREU0TkRrZ0xUY3VPREkwTnpRd016Z3NOeTQzTVRRM09EQXhPU0F3TERRdU1qWXdOekk0TWlBekxqVXdNekkxTmpjNExEY3VOekUwTnpRMU1pQTNMamd5TkRjME1ETTRMRGN1TnpFME56UTFNaUEwTGpNeU1UUTBPVGdzTUNBM0xqZ3lORFk1T1Rnc0xUTXVORFUwTURFM0lEY3VPREkwTmprNU9Dd3ROeTQzTVRRM05EVXlJREFzTFRJdU1EUTJNRGt4TkNBdE1DNDRNalF6T1RJc0xUUXVNREE0TXpZM01pQXRNaTR5T1RFM05UWXNMVFV1TkRVMU1UYzBOaUJESURFeUxqRTRNREl5TlN3eExqRXlPVGsyTkRnZ01UQXVNVGt3TURFekxEQXVNekUzTVRVMU5qRWdPQzR4TVRRM05UWXlMREF1TXpFM01UVTFOakVnV2lCTklEWXVPVE0zTkRVMk15dzRMakkwTURVNU9EVWdOQzQyTnpFNE5qZzFMREV3TGpRNE5UZzFNaUEyTGpBd09EWTRNVFFzTVRFdU9EYzJOekk0SURndU16RTNNREF6TlN3NUxqWXdNRGM1TVRFZ01UQXVOakkxTXpNM0xERXhMamczTmpjeU9DQXhNUzQ1TmpJeE16Z3NNVEF1TkRnMU9EVXlJRGt1TmprMk5UVXdPQ3c0TGpJME1EVTVPRFVnTVRFdU9UWXlNVE00TERZdU1EQTJPREEyTmlBeE1DNDFOek15TkRZc05DNDJNemMwTXpNMUlEZ3VNekUzTURBek5TdzJMamczTXpReU9UY2dOaTR3TmpBM05qQTNMRFF1TmpNM05ETXpOU0EwTGpZM01UZzJPRFVzTmk0d01EWTRNRFkySUZvaUlHWnBiR3c5SW1OeWFXMXpiMjRpSUhOMGNtOXJaUzEzYVdSMGFEMGlNaUl2UGdvOEwzTjJaejQ9XCIpO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBjcmltc29uO1xcbn1cXG4uYWNlX2ljb25fc3ZnLmFjZV9zZWN1cml0eV9mb2xkIHtcXG4gICAgLXdlYmtpdC1tYXNrLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LENqeHpkbWNnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUIyYVdWM1FtOTRQU0l3SURBZ01UY2dNVFFpSUdacGJHdzlJbTV2Ym1VaVBnb2dJQ0FnUEhCaGRHZ2daRDBpVFRFd0xqQXdNREVnTVRNdU5qazVNa014TUM0d01EQXhJREV6TGpZNU9USWdNVEV1T1RJME1TQXhNeTQwTnpZeklERXpJREV5TGpZNU9USkRNVFF1TkRFek9TQXhNUzQyTnpneElERTJJREV3TGpVZ01UWXVNVEkxTVNBMkxqZ3hNVEkyVmpJdU5UZzVPRGRETVRZdU1USTFNU0F5TGpVME56WTRJREUyTGpFeU1qRWdNaTQxTURZeE9TQXhOaTR4TVRZMElESXVORFkxTlRsV01TNDNNVFE0TlVneE5TNHlOREUwVERFMUxqSXpNRGNnTVM0M01UUTRORXd4TkM0Mk1qVXhJREV1TmprNU1qSldOaTQ0TVRFeU0wTXhOQzQyTWpVeElEZ3VOVEV3TmpFZ01UUXVOakkxTVNBNUxqUTJORFl4SURFeUxqYzRNalFnTVRFdU56SXhRekV5TGpFMU9EWWdNVEl1TkRnME9DQXhNQzR3TURBeElERXpMalk1T1RJZ01UQXVNREF3TVNBeE15NDJPVGt5V2lJZ1ptbHNiRDBpWTNKcGJYTnZiaUlnYzNSeWIydGxMWGRwWkhSb1BTSXlJaTgrQ2lBZ0lDQThjR0YwYUNCbWFXeHNMWEoxYkdVOUltVjJaVzV2WkdRaUlHTnNhWEF0Y25Wc1pUMGlaWFpsYm05a1pDSWdaRDBpVFRjdU16TTJNRGtnTUM0ek5qYzBOelZETnk0d016SXhOQ0F3TGpFMU1qWTFNaUEyTGpZeU5UUTRJREF1TVRVek5qRTBJRFl1TXpJeU5UTWdNQzR6TmprNU9UZE1OaTR6TURnMk9TQXdMak0zT1RVMU5FTTJMakk1TlRVeklEQXVNemc0TlRnNElEWXVNamN6T0RnZ01DNDBNRE15TmpZZ05pNHlORFF4TnlBd0xqUXlNamM0T1VNMkxqRTRORGN4SURBdU5EWXhPRFlnTmk0d09UTXlNU0F3TGpVeU1ERTNNU0ExTGprM016RXpJREF1TlRreE16Y3pRelV1TnpNeU5URWdNQzQzTXpRd05Ua2dOUzR6TnprNUlEQXVPVEkyT0RZMElEUXVPVFF5TnprZ01TNHhNakF3T1VNMExqQTJNVFEwSURFdU5UQTVOeUF5TGpnM05UUXhJREV1T0Rnek56Y2dNUzQxT0RrNE5DQXhMamc0TXpjM1NEQXVOekUwT0RRMFZqSXVOelU0TnpkV05pNDVPREF4TlVNd0xqY3hORGcwTkNBNUxqUTVNemMwSURJdU1qZzROallnTVRFdU1UazNNeUF6TGpjd01qVTBJREV5TGpJeE9EVkROQzQwTVRnME5TQXhNaTQzTXpVMUlEVXVNVEk0TnpRZ01UTXVNVEExTXlBMUxqWTFOek16SURFekxqTTBOVGRETlM0NU1qSTROQ0F4TXk0ME5qWTBJRFl1TVRRMU5qWWdNVE11TlRVMU9TQTJMak13TkRZMUlERXpMall4TmpGRE5pNHpPRFF5TXlBeE15NDJORFl5SURZdU5EUTRNRFVnTVRNdU5qWTVJRFl1TkRrek5Ea2dNVE11TmpnME9FTTJMalV4TmpJeUlERXpMalk1TWpjZ05pNDFNelF6T0NBeE15NDJPVGc1SURZdU5UUTNOalFnTVRNdU56QXpNMHcyTGpVMk16Z3lJREV6TGpjd09EZE1OaTQxTmprd09DQXhNeTQzTVRBMFREWXVOVGN3T1RrZ01UTXVOekV4VERZdU9ETTVPRFFnTVRNdU56VXpNMHcyTGpVM01qUXlJREV6TGpjeE1UVkROaTQzTkRZek15QXhNeTQzTmpjeklEWXVPVE16TXpVZ01UTXVOelkzTXlBM0xqRXdOekkzSURFekxqY3hNVFZNTnk0eE1EZzNJREV6TGpjeE1VdzNMakV4TURZeElERXpMamN4TURSTU55NHhNVFU0TnlBeE15NDNNRGczVERjdU1UTXlNRFVnTVRNdU56QXpNME0zTGpFME5UTXhJREV6TGpZNU9Ea2dOeTR4TmpNME5pQXhNeTQyT1RJM0lEY3VNVGcyTVRrZ01UTXVOamcwT0VNM0xqSXpNVFkwSURFekxqWTJPU0EzTGpJNU5UUTJJREV6TGpZME5qSWdOeTR6TnpVd015QXhNeTQyTVRZeFF6Y3VOVE0wTURNZ01UTXVOVFUxT1NBM0xqYzFOamcxSURFekxqUTJOalFnT0M0d01qSXpOaUF4TXk0ek5EVTNRemd1TlRVd09UVWdNVE11TVRBMU15QTVMakkyTVRJeklERXlMamN6TlRVZ09TNDVOemN4TlNBeE1pNHlNVGcxUXpFeExqTTVNU0F4TVM0eE9UY3pJREV5TGprMk5EZ2dPUzQwT1RNM055QXhNaTQ1TmpRNElEWXVPVGd3TVRoV01pNDNOVGc0UXpFeUxqazJORGdnTWk0M01UWTJJREV5TGprMk1Ua2dNaTQyTnpVeE1TQXhNaTQ1TlRZeElESXVOak0wTlRGV01TNDRPRE0zTjBneE1pNHdPREV4UXpFeUxqQTNOelVnTVM0NE9ETTNOeUF4TWk0d056UWdNUzQ0T0RNM055QXhNaTR3TnpBMElERXVPRGd6TnpkRE1UQXVOemszT1NBeExqZzRNREEwSURrdU5qRTVOaklnTVM0MU1URXdNaUE0TGpjek9EazBJREV1TVRJME9EWkRPQzQzTXpVek5DQXhMakV5TXpJM0lEZ3VOek14TnpRZ01TNHhNakUyT0NBNExqY3lPREUwSURFdU1USXdNRGxET0M0eU9URXdNeUF3TGpreU5qZzJOQ0EzTGprek9EUXlJREF1TnpNME1EVTVJRGN1TmprM056a2dNQzQxT1RFek56TkROeTQxTnpjM01pQXdMalV5TURFM01TQTNMalE0TmpJeUlEQXVORFl4T0RZZ055NDBNalkzTmlBd0xqUXlNamM0T1VNM0xqTTVOekExSURBdU5EQXpNalkySURjdU16YzFNemtnTUM0ek9EZzFPRGdnTnk0ek5qSXlOQ0F3TGpNM09UVTFORXczTGpNME9EazJJREF1TXpjd016VkROeTR6TkRnNU5pQXdMak0zTURNMUlEY3VNelE0TkRjZ01DNHpOekF3TWlBM0xqTTBOVFl6SURBdU16YzBNRFUwVERjdU16TTNOemtnTUM0ek5qZzJOVGxNTnk0ek16WXdPU0F3TGpNMk56UTNOVnBOT0M0d016UTNNU0F5TGpjeU5qa3hRemd1T0RZd05DQXpMakE1TURZeklEa3VPVFl3TmpZZ015NDBOak13T1NBeE1TNHlNRFl4SURNdU5UZzVNRGRXTmk0NU9EQXhOVWd4TVM0eU1UUTRRekV4TGpJeE5EZ2dPQzQyTnprMU15QXhNQzR4TmpNM0lEa3VPVEkxTURjZ09DNDVOVEkxTkNBeE1DNDNPVGs0UXpndU16VTFPVFVnTVRFdU1qTXdOaUEzTGpjMU16YzBJREV4TGpVME5UUWdOeTR5T1RjNU5pQXhNUzQzTlRJM1F6Y3VNVEUyTnpFZ01URXVPRE0xTVNBMkxqazJNRFl5SURFeExqZzVPVFlnTmk0NE16azROQ0F4TVM0NU5EWTVRell1TnpFNU1EWWdNVEV1T0RrNU5pQTJMalUyTWprM0lERXhMamd6TlRFZ05pNHpPREUzTXlBeE1TNDNOVEkzUXpVdU9USTFPVFVnTVRFdU5UUTFOQ0ExTGpNeU16Y3pJREV4TGpJek1EWWdOQzQzTWpjeE5TQXhNQzQzT1RrNFF6TXVOVEUyTURNZ09TNDVNalV3TnlBeUxqUTJORGcwSURndU5qYzVOVFVnTWk0ME5qUTROQ0EyTGprNE1ERTRWak11TlRnNU1EbERNeTQzTVRjek9DQXpMalEyTWpNNUlEUXVPREl6TURnZ015NHdPRFl6T1NBMUxqWTFNRE16SURJdU56SXdOekZETmk0eE5ESXlPQ0F5TGpVd016STBJRFl1TlRRME9EVWdNaTR5T0RVek55QTJMamd6TWpVMElESXVNVEUyTWpSRE55NHhNakU0TVNBeUxqSTROVE0xSURjdU5USTNJREl1TlRBek5USWdPQzR3TWpFNU5pQXlMamN5TVRNeFF6Z3VNREkyTWlBeUxqY3lNekUzSURndU1ETXdORFVnTWk0M01qVXdOQ0E0TGpBek5EY3hJREl1TnpJMk9URmFUVFV1T1RZME9EUWdNeTQwTURFME4xWTNMamMzTmpRM1NEY3VOekUwT0RSV015NDBNREUwTjBnMUxqazJORGcwV2swMUxqazJORGcwSURFd0xqUXdNVFZXT0M0Mk5URTBOMGczTGpjeE5EZzBWakV3TGpRd01UVklOUzQ1TmpRNE5Gb2lJR1pwYkd3OUltTnlhVzF6YjI0aUlITjBjbTlyWlMxM2FXUjBhRDBpTWlJdlBnbzhMM04yWno0PVwiKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogY3JpbXNvbjtcXG59XFxuLmFjZV9pY29uX3N2Zy5hY2Vfd2FybmluZ19mb2xkIHtcXG4gICAgLXdlYmtpdC1tYXNrLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNakFpSUdobGFXZG9kRDBpTVRZaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TUNBeE5pSWdabWxzYkQwaWJtOXVaU0lnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JajRLUEhCaGRHZ2dabWxzYkMxeWRXeGxQU0psZG1WdWIyUmtJaUJqYkdsd0xYSjFiR1U5SW1WMlpXNXZaR1FpSUdROUlrMHhOQzQzTnpZNUlERTBMamN6TXpkTU9DNDJOVEU1TWlBeUxqUTRNelk1UXpndU16STVORFlnTVM0NE16ZzNOeUEzTGpRd09URXpJREV1T0RNNE56Y2dOeTR3T0RZMk55QXlMalE0TXpZNVREQXVPVFl4TmpZNUlERTBMamN6TXpkRE1DNDJOekEzTnpVZ01UVXVNekUxTlNBeExqQTVNemd6SURFMklERXVOelEwTWprZ01UWklNVE11T1RrME0wTXhOQzQyTkRRNElERTJJREUxTGpBMk56Z2dNVFV1TXpFMU5TQXhOQzQzTnpZNUlERTBMamN6TXpkYVRUTXVNVFl3TURjZ01UUXVNalZNTnk0NE5qa3lPU0EwTGpnek1UVTJUREV5TGpVM09EVWdNVFF1TWpWSU15NHhOakF3TjFwTk9DNDNORFF5T1NBeE1TNDJNalZXTVRNdU16YzFTRFl1T1RrME1qbFdNVEV1TmpJMVNEZ3VOelEwTWpsYVRUWXVPVGswTWprZ01UQXVOelZXTnk0eU5VZzRMamMwTkRJNVZqRXdMamMxU0RZdU9UazBNamxhSWlCbWFXeHNQU0lqUlVNM01qRXhJaTgrQ2p4d1lYUm9JR1E5SWsweE1TNHhPVGt4SURJdU9UVXlNemhETVRBdU9EZ3dPU0F5TGpNeE5EWTNJREV3TGpNMU16Y2dNUzQ0TURVeU5pQTVMamN3TlRVZ01TNDFNRGxNTVRFdU1EUXhJREV1TURZNU56aERNVEV1TmpnNE15QXdMamswT1RneE5DQXhNaTR6TXpjZ01TNHlOekkyTXlBeE1pNDJNekUzSURFdU9EWXhOREZNTVRjdU5qRXpOaUF4TVM0NE1UWXhRekU0TGpNMU1qY2dNVE11TWpreU9TQXhOeTQxT1RNNElERTFMakE0TURRZ01UWXVNREU0SURFMUxqVTNORFZETVRZdU5EQTBOQ0F4TkM0ME5UQTNJREUyTGpNeU16RWdNVE11TWpFNE9DQXhOUzQzT1RJMElERXlMakUxTlRWTU1URXVNVGs1TVNBeUxqazFNak00V2lJZ1ptbHNiRDBpSTBWRE56SXhNU0l2UGdvOEwzTjJaejQ9XCIpO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrb3JhbmdlO1xcbn1cXG5cXG4uYWNlX3Njcm9sbGJhciB7XFxuICAgIGNvbnRhaW46IHN0cmljdDtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICByaWdodDogMDtcXG4gICAgYm90dG9tOiAwO1xcbiAgICB6LWluZGV4OiA2O1xcbn1cXG5cXG4uYWNlX3Njcm9sbGJhci1pbm5lciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgY3Vyc29yOiB0ZXh0O1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0b3A6IDA7XFxufVxcblxcbi5hY2Vfc2Nyb2xsYmFyLXZ7XFxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xcbiAgICB0b3A6IDA7XFxufVxcblxcbi5hY2Vfc2Nyb2xsYmFyLWgge1xcbiAgICBvdmVyZmxvdy14OiBzY3JvbGw7XFxuICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcXG4gICAgbGVmdDogMDtcXG59XFxuXFxuLmFjZV9wcmludC1tYXJnaW4ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLmFjZV90ZXh0LWlucHV0IHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB6LWluZGV4OiAwO1xcbiAgICB3aWR0aDogMC41ZW07XFxuICAgIGhlaWdodDogMWVtO1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gICAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcbiAgICBhcHBlYXJhbmNlOiBub25lO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIHJlc2l6ZTogbm9uZTtcXG4gICAgb3V0bGluZTogbm9uZTtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgZm9udDogaW5oZXJpdDtcXG4gICAgcGFkZGluZzogMCAxcHg7XFxuICAgIG1hcmdpbjogMCAtMXB4O1xcbiAgICBjb250YWluOiBzdHJpY3Q7XFxuICAgIC1tcy11c2VyLXNlbGVjdDogdGV4dDtcXG4gICAgLW1vei11c2VyLXNlbGVjdDogdGV4dDtcXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogdGV4dDtcXG4gICAgdXNlci1zZWxlY3Q6IHRleHQ7XFxuICAgIC8qd2l0aCBgcHJlLWxpbmVgIGNocm9tZSBpbnNlcnRzICZuYnNwOyBpbnN0ZWFkIG9mIHNwYWNlKi9cXG4gICAgd2hpdGUtc3BhY2U6IHByZSFpbXBvcnRhbnQ7XFxufVxcbi5hY2VfdGV4dC1pbnB1dC5hY2VfY29tcG9zaXRpb24ge1xcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gICAgY29sb3I6IGluaGVyaXQ7XFxuICAgIHotaW5kZXg6IDEwMDA7XFxuICAgIG9wYWNpdHk6IDE7XFxufVxcbi5hY2VfY29tcG9zaXRpb25fcGxhY2Vob2xkZXIgeyBjb2xvcjogdHJhbnNwYXJlbnQgfVxcbi5hY2VfY29tcG9zaXRpb25fbWFya2VyIHsgXFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBib3JkZXItcmFkaXVzOiAwO1xcbiAgICBtYXJnaW4tdG9wOiAxcHg7XFxufVxcblxcblthY2Vfbm9jb250ZXh0PXRydWVdIHtcXG4gICAgdHJhbnNmb3JtOiBub25lIWltcG9ydGFudDtcXG4gICAgZmlsdGVyOiBub25lIWltcG9ydGFudDtcXG4gICAgY2xpcC1wYXRoOiBub25lIWltcG9ydGFudDtcXG4gICAgbWFzayA6IG5vbmUhaW1wb3J0YW50O1xcbiAgICBjb250YWluOiBub25lIWltcG9ydGFudDtcXG4gICAgcGVyc3BlY3RpdmU6IG5vbmUhaW1wb3J0YW50O1xcbiAgICBtaXgtYmxlbmQtbW9kZTogaW5pdGlhbCFpbXBvcnRhbnQ7XFxuICAgIHotaW5kZXg6IGF1dG87XFxufVxcblxcbi5hY2VfbGF5ZXIge1xcbiAgICB6LWluZGV4OiAxO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgIC8qIHdvcmthcm91bmQgZm9yIGNocm9tZSBidWcgaHR0cHM6Ly9naXRodWIuY29tL2FqYXhvcmcvYWNlL2lzc3Vlcy8yMzEyKi9cXG4gICAgd29yZC13cmFwOiBub3JtYWw7XFxuICAgIHdoaXRlLXNwYWNlOiBwcmU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIC8qIHNldHRpbmcgcG9pbnRlci1ldmVudHM6IGF1dG87IG9uIG5vZGUgdW5kZXIgdGhlIG1vdXNlLCB3aGljaCBjaGFuZ2VzXFxuICAgICAgICBkdXJpbmcgc2Nyb2xsLCB3aWxsIGJyZWFrIG1vdXNlIHdoZWVsIHNjcm9sbGluZyBpbiBTYWZhcmkgKi9cXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcblxcbi5hY2VfZ3V0dGVyLWxheWVyIHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICB3aWR0aDogYXV0bztcXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbiAgICBoZWlnaHQ6IDEwMDAwMDBweDtcXG4gICAgY29udGFpbjogc3R5bGUgc2l6ZSBsYXlvdXQ7XFxufVxcblxcbi5hY2VfdGV4dC1sYXllciB7XFxuICAgIGZvbnQ6IGluaGVyaXQgIWltcG9ydGFudDtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBoZWlnaHQ6IDEwMDAwMDBweDtcXG4gICAgd2lkdGg6IDEwMDAwMDBweDtcXG4gICAgY29udGFpbjogc3R5bGUgc2l6ZSBsYXlvdXQ7XFxufVxcblxcbi5hY2VfdGV4dC1sYXllciA+IC5hY2VfbGluZSwgLmFjZV90ZXh0LWxheWVyID4gLmFjZV9saW5lX2dyb3VwIHtcXG4gICAgY29udGFpbjogc3R5bGUgc2l6ZSBsYXlvdXQ7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICByaWdodDogMDtcXG59XFxuXFxuLmFjZV9oaWRwaSAuYWNlX3RleHQtbGF5ZXIsXFxuLmFjZV9oaWRwaSAuYWNlX2d1dHRlci1sYXllcixcXG4uYWNlX2hpZHBpIC5hY2VfY29udGVudCxcXG4uYWNlX2hpZHBpIC5hY2VfZ3V0dGVyIHtcXG4gICAgY29udGFpbjogc3RyaWN0O1xcbn1cXG4uYWNlX2hpZHBpIC5hY2VfdGV4dC1sYXllciA+IC5hY2VfbGluZSwgXFxuLmFjZV9oaWRwaSAuYWNlX3RleHQtbGF5ZXIgPiAuYWNlX2xpbmVfZ3JvdXAge1xcbiAgICBjb250YWluOiBzdHJpY3Q7XFxufVxcblxcbi5hY2VfY2prIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi5hY2VfY3Vyc29yLWxheWVyIHtcXG4gICAgei1pbmRleDogNDtcXG59XFxuXFxuLmFjZV9jdXJzb3Ige1xcbiAgICB6LWluZGV4OiA0O1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIGJvcmRlci1sZWZ0OiAycHggc29saWQ7XFxuICAgIC8qIHdvcmthcm91bmQgZm9yIHNtb290aCBjdXJzb3IgcmVwYWludG5nIHdob2xlIHNjcmVlbiBpbiBjaHJvbWUgKi9cXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGV6KDApO1xcbn1cXG5cXG4uYWNlX211bHRpc2VsZWN0IC5hY2VfY3Vyc29yIHtcXG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDFweDtcXG59XFxuXFxuLmFjZV9zbGltLWN1cnNvcnMgLmFjZV9jdXJzb3Ige1xcbiAgICBib3JkZXItbGVmdC13aWR0aDogMXB4O1xcbn1cXG5cXG4uYWNlX292ZXJ3cml0ZS1jdXJzb3JzIC5hY2VfY3Vyc29yIHtcXG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDA7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcXG59XFxuXFxuLmFjZV9oaWRkZW4tY3Vyc29ycyAuYWNlX2N1cnNvciB7XFxuICAgIG9wYWNpdHk6IDAuMjtcXG59XFxuXFxuLmFjZV9oYXNQbGFjZWhvbGRlciAuYWNlX2hpZGRlbi1jdXJzb3JzIC5hY2VfY3Vyc29yIHtcXG4gICAgb3BhY2l0eTogMDtcXG59XFxuXFxuLmFjZV9zbW9vdGgtYmxpbmtpbmcgLmFjZV9jdXJzb3Ige1xcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMThzO1xcbn1cXG5cXG4uYWNlX2FuaW1hdGUtYmxpbmtpbmcgLmFjZV9jdXJzb3Ige1xcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDEwMDBtcztcXG4gICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogc3RlcC1lbmQ7XFxuICAgIGFuaW1hdGlvbi1uYW1lOiBibGluay1hY2UtYW5pbWF0ZTtcXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XFxufVxcblxcbi5hY2VfYW5pbWF0ZS1ibGlua2luZy5hY2Vfc21vb3RoLWJsaW5raW5nIC5hY2VfY3Vyc29yIHtcXG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAxMDAwbXM7XFxuICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0O1xcbiAgICBhbmltYXRpb24tbmFtZTogYmxpbmstYWNlLWFuaW1hdGUtc21vb3RoO1xcbn1cXG4gICAgXFxuQGtleWZyYW1lcyBibGluay1hY2UtYW5pbWF0ZSB7XFxuICAgIGZyb20sIHRvIHsgb3BhY2l0eTogMTsgfVxcbiAgICA2MCUgeyBvcGFjaXR5OiAwOyB9XFxufVxcblxcbkBrZXlmcmFtZXMgYmxpbmstYWNlLWFuaW1hdGUtc21vb3RoIHtcXG4gICAgZnJvbSwgdG8geyBvcGFjaXR5OiAxOyB9XFxuICAgIDQ1JSB7IG9wYWNpdHk6IDE7IH1cXG4gICAgNjAlIHsgb3BhY2l0eTogMDsgfVxcbiAgICA4NSUgeyBvcGFjaXR5OiAwOyB9XFxufVxcblxcbi5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCwgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGFjayB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgei1pbmRleDogMztcXG59XFxuXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHotaW5kZXg6IDU7XFxufVxcblxcbi5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgei1pbmRleDogNjtcXG59XFxuXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9lcnJvcl9icmFja2V0IHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0RFNTU1NTtcXG4gICAgYm9yZGVyLXJhZGl1czogMDtcXG59XFxuXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9hY3RpdmUtbGluZSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgei1pbmRleDogMjtcXG59XFxuXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3RlZC13b3JkIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB6LWluZGV4OiA0O1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG4uYWNlX2xpbmUgLmFjZV9mb2xkIHtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG5cXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICBoZWlnaHQ6IDExcHg7XFxuICAgIG1hcmdpbi10b3A6IC0ycHg7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuXFxuICAgIGJhY2tncm91bmQtaW1hZ2U6XFxuICAgICAgICB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJFQUFBQUpDQVlBQUFEVTZNY01BQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUpwSlJFRlVlTnBpL1AvL1B3T2xnQVhHWUdSa2xBVlNva0Q4R21qd1kxd2FzS2xqUXBZQUN0cENGZUFEY0hWUWZReU1RQXd6d0FaSTN3Skt2Q0xrZktCYU1TQ2xCbFI3Qk9RaWtDRkdRRUVySUgwVnFrYWJpR0NBcXdVYWRBelpKUnhRci8wZ3dpWElhbDh6UVFQbk5WVGdKMVRkYXdMMFQ1Z0JJUDFNVUpOaEJ2MkhLb1FISGpxTnJBNFdPNHpZMGdseU5LTFQyS0lmSU1BQVFzZGdHaVh2Z25ZQUFBQUFTVVZPUks1Q1lJST1cIiksXFxuICAgICAgICB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQTNDQVlBQUFETk5pQTVBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUNKSlJFRlVlTnBpK1AvL2Z4Z1RBd1BEQnhEeEQwNzhSU1grWWVFeURGTUNJTUFBSTNJTm1YaXdmMllBQUFBQVNVVk9SSzVDWUlJPVwiKTtcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCwgcmVwZWF0LXg7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXIsIHRvcCBsZWZ0O1xcbiAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XFxuXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XFxuXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgcG9pbnRlci1ldmVudHM6IGF1dG87XFxufVxcblxcbi5hY2VfZGFyayAuYWNlX2ZvbGQge1xcbn1cXG5cXG4uYWNlX2ZvbGQ6aG92ZXJ7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6XFxuICAgICAgICB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJFQUFBQUpDQVlBQUFEVTZNY01BQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUpwSlJFRlVlTnBpL1AvL1B3T2xnQVhHWUdSa2xBVlNva0Q4R21qd1kxd2FzS2xqUXBZQUN0cENGZUFEY0hWUWZReU1RQXd6d0FaSTN3Skt2Q0xrZktCYU1TQ2xCbFI3Qk9RaWtDRkdRRUVySUgwVnFrYWJpR0NBcXdVYWRBelpKUnhRci8wZ3dpWElhbDh6UVFQbk5WVGdKMVRkYXdMMFQ1Z0JJUDFNVUpOaEJ2MkhLb1FISGpxTnJBNFdPNHpZMGdseU5LTFQyS0lmSU1BQVFzZGdHaVh2Z25ZQUFBQUFTVVZPUks1Q1lJST1cIiksXFxuICAgICAgICB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQTNDQVlBQUFETk5pQTVBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUNCSlJFRlVlTnBpK1AvL2Z6NFRBd1BEWnhEeEQ1WDRpNWZMTUV3SmdBQURBRVBWRGJqTnc4N1pBQUFBQUVsRlRrU3VRbUNDXCIpO1xcbn1cXG5cXG4uYWNlX3Rvb2x0aXAge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xcbiAgICBib3JkZXItcmFkaXVzOiAxcHg7XFxuICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XFxuICAgIGNvbG9yOiBibGFjaztcXG4gICAgcGFkZGluZzogM3B4IDRweDtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB6LWluZGV4OiA5OTk5OTk7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIGN1cnNvcjogZGVmYXVsdDtcXG4gICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxuICAgIGxpbmUtaGVpZ2h0OiBub3JtYWw7XFxuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gICAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDtcXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICAgIG92ZXJmbG93OiBhdXRvO1xcbiAgICBtYXgtd2lkdGg6IG1pbigzM2VtLCA2NnZ3KTtcXG4gICAgb3ZlcnNjcm9sbC1iZWhhdmlvcjogY29udGFpbjtcXG59XFxuLmFjZV90b29sdGlwIHByZSB7XFxuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcXG59XFxuXFxuLmFjZV90b29sdGlwLmFjZV9kYXJrIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzYzNjM2MztcXG4gICAgY29sb3I6ICNmZmY7XFxufVxcblxcbi5hY2VfdG9vbHRpcDpmb2N1cyB7XFxuICAgIG91dGxpbmU6IDFweCBzb2xpZCAjNUU5RUQ2O1xcbn1cXG5cXG4uYWNlX2ljb24ge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHdpZHRoOiAxOHB4O1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbn1cXG5cXG4uYWNlX2ljb25fc3ZnIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICB3aWR0aDogMTJweDtcXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcXG4gICAgLXdlYmtpdC1tYXNrLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICAtd2Via2l0LW1hc2stc2l6ZTogMTJweDtcXG4gICAgLXdlYmtpdC1tYXNrLXBvc2l0aW9uOiBjZW50ZXI7XFxufVxcblxcbi5hY2VfZm9sZGluZy1lbmFibGVkID4gLmFjZV9ndXR0ZXItY2VsbCwgLmFjZV9mb2xkaW5nLWVuYWJsZWQgPiAuYWNlX2d1dHRlci1jZWxsX3N2Zy1pY29ucyB7XFxuICAgIHBhZGRpbmctcmlnaHQ6IDEzcHg7XFxufVxcblxcbi5hY2VfZm9sZC13aWRnZXQsIC5hY2VfY3VzdG9tLXdpZGdldCB7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuXFxuICAgIG1hcmdpbjogMCAtMTJweCAwIDFweDtcXG4gICAgZGlzcGxheTogbm9uZTtcXG4gICAgd2lkdGg6IDExcHg7XFxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxuXFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQVVBQUFBRkNBWUFBQUNOYnlibEFBQUFORWxFUVZSNDJtV0tzUTBBTUF6QzhpeExscnpRanptQmlFanAwQTZXd0JDU1BnS0FYb0xrcVNvdDduTjN5TXdSN3BaMzJOenBLa1ZvREJVeEtBQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuXFxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gICAgXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbn1cXG5cXG4uYWNlX2N1c3RvbS13aWRnZXQge1xcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xcbn1cXG5cXG4uYWNlX2ZvbGRpbmctZW5hYmxlZCAuYWNlX2ZvbGQtd2lkZ2V0IHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyAgIFxcbn1cXG5cXG4uYWNlX2ZvbGQtd2lkZ2V0LmFjZV9lbmQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFVQUFBQUZDQVlBQUFDTmJ5YmxBQUFBTkVsRVFWUjQybTNId1FrQU1BaEQwWXpzUmNoRktJN3NBaWtlV2tyeHdTY0VCMG5oNWU3S1RQV2ltWmtpNHRZZlZiWCtNTmw0cHlaWGVqVU8xUUFBQUFCSlJVNUVya0pnZ2c9PVwiKTtcXG59XFxuXFxuLmFjZV9mb2xkLXdpZGdldC5hY2VfY2xvc2VkIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBTUFBQUFHQ0FZQUFBQUc1U1FNQUFBQU9VbEVRVlI0MmpYS3dRa0FNQWdEd0t3cUtENEV3UTI2c1NPa1ZXamdJSUhBelBpQ2dhcWlxbkpIWm5LSUNCRVJITjE5NE81Yjl2Ykx1QVZSTCtsMFlXblpBQUFBQUVsRlRrU3VRbUNDWEE9PVwiKTtcXG59XFxuXFxuLmFjZV9mb2xkLXdpZGdldDpob3ZlciB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4zKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcbiAgICBib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpO1xcbn1cXG5cXG4uYWNlX2ZvbGQtd2lkZ2V0OmFjdGl2ZSB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC40KTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjA1KTtcXG4gICAgYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTtcXG59XFxuLyoqXFxuICogRGFyayB2ZXJzaW9uIGZvciBmb2xkIHdpZGdldHNcXG4gKi9cXG4uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQVVBQUFBRkNBWUFBQUNOYnlibEFBQUFIa2xFUVZRSVcyUDQvLzgvQXpvR0VRN29HQ2FMTEFoV2lTd0IxNDZCQVFDU1RQWW9jcVQwQUFBQUFFbEZUa1N1UW1DQ1wiKTtcXG59XFxuLmFjZV9kYXJrIC5hY2VfZm9sZC13aWRnZXQuYWNlX2VuZCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQVVBQUFBRkNBWUFBQUNOYnlibEFBQUFIMGxFUVZRSVcyUDQvLzgvQXhRN3dOaklBakRNZ0M0QXhqQ1ZLQmlySUFBRjBrejJybGh4cEFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XFxufVxcbi5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0LmFjZV9jbG9zZWQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFNQUFBQUZDQVlBQUFDQWNWYWlBQUFBSEVsRVFWUUlXMlA0Ly8rL0F4QXpnREFEbE9PQXpuSEFLZ1BXQXdBUmppOFVJRFRmUVFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XFxufVxcbi5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0OmhvdmVyIHtcXG4gICAgYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xcbn1cXG4uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldDphY3RpdmUge1xcbiAgICBib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcbn1cXG5cXG4uYWNlX2lubGluZV9idXR0b24ge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXk7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgbWFyZ2luOiAtMXB4IDhweDtcXG4gICAgcGFkZGluZzogMCA1cHg7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5hY2VfaW5saW5lX2J1dHRvbjpob3ZlciB7XFxuICAgIGJvcmRlci1jb2xvcjogZ3JheTtcXG4gICAgYmFja2dyb3VuZDogcmdiYSgyMDAsMjAwLDIwMCwwLjIpO1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbn1cXG5cXG4uYWNlX2ZvbGQtd2lkZ2V0LmFjZV9pbnZhbGlkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGQjRCNDtcXG4gICAgYm9yZGVyLWNvbG9yOiAjREU1NTU1O1xcbn1cXG5cXG4uYWNlX2ZhZGUtZm9sZC13aWRnZXRzIC5hY2VfZm9sZC13aWRnZXQge1xcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNHMgZWFzZSAwLjA1cztcXG4gICAgb3BhY2l0eTogMDtcXG59XFxuXFxuLmFjZV9mYWRlLWZvbGQtd2lkZ2V0czpob3ZlciAuYWNlX2ZvbGQtd2lkZ2V0IHtcXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlIDAuMDVzO1xcbiAgICBvcGFjaXR5OjE7XFxufVxcblxcbi5hY2VfdW5kZXJsaW5lIHtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcblxcbi5hY2VfYm9sZCB7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cXG4uYWNlX25vYm9sZCAuYWNlX2JvbGQge1xcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xcbn1cXG5cXG4uYWNlX2l0YWxpYyB7XFxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcXG59XFxuXFxuXFxuLmFjZV9lcnJvci1tYXJrZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwwLjIpO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHotaW5kZXg6IDk7XFxufVxcblxcbi5hY2VfaGlnaGxpZ2h0LW1hcmtlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDAsMC4yKTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB6LWluZGV4OiA4O1xcbn1cXG5cXG4uYWNlX21vYmlsZS1tZW51IHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsaW5lLWhlaWdodDogMS41O1xcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgICBib3gtc2hhZG93OiAxcHggM3B4IDJweCBncmV5O1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGNkY2RjO1xcbiAgICBjb2xvcjogYmxhY2s7XFxufVxcbi5hY2VfZGFyayA+IC5hY2VfbW9iaWxlLW1lbnUge1xcbiAgICBiYWNrZ3JvdW5kOiAjMzMzO1xcbiAgICBjb2xvcjogI2NjYztcXG4gICAgYm94LXNoYWRvdzogMXB4IDNweCAycHggZ3JleTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDtcXG5cXG59XFxuLmFjZV9tb2JpbGUtYnV0dG9uIHtcXG4gICAgcGFkZGluZzogMnB4O1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxufVxcbi5hY2VfbW9iaWxlLWJ1dHRvbjpob3ZlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxuICAgIG9wYWNpdHk6MTtcXG59XFxuLmFjZV9tb2JpbGUtYnV0dG9uOmFjdGl2ZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkZGQ7XFxufVxcblxcbi5hY2VfcGxhY2Vob2xkZXIge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIGZvbnQtZmFtaWx5OiBhcmlhbDtcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpO1xcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0O1xcbiAgICB3aGl0ZS1zcGFjZTogcHJlO1xcbiAgICBvcGFjaXR5OiAwLjc7XFxuICAgIG1hcmdpbjogMCAxMHB4O1xcbiAgICB6LWluZGV4OiAxO1xcbn1cXG5cXG4uYWNlX2dob3N0X3RleHQge1xcbiAgICBvcGFjaXR5OiAwLjU7XFxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcXG59XFxuXFxuLmFjZV9naG9zdF90ZXh0X2NvbnRhaW5lciA+IGRpdiB7XFxuICAgIHdoaXRlLXNwYWNlOiBwcmU7XFxufVxcblxcbi5naG9zdF90ZXh0X2xpbmVfd3JhcHBlZDo6YWZ0ZXIge1xcbiAgICBjb250ZW50OiBcIlxcdTIxYTlcIjtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG5cXG4uYWNlX2xpbmVXaWRnZXRDb250YWluZXIuYWNlX2dob3N0X3RleHQge1xcbiAgICBtYXJnaW46IDBweCA0cHhcXG59XFxuXFxuLmFjZV9zY3JlZW5yZWFkZXItb25seSB7XFxuICAgIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgICBsZWZ0Oi0xMDAwMHB4O1xcbiAgICB0b3A6YXV0bztcXG4gICAgd2lkdGg6MXB4O1xcbiAgICBoZWlnaHQ6MXB4O1xcbiAgICBvdmVyZmxvdzpoaWRkZW47XFxufVxcblxcbi5hY2VfaGlkZGVuX3Rva2VuIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59J30pLGFjZS5kZWZpbmUoXCJhY2UvbGF5ZXIvZGVjb3JhdG9yc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi9saWIvZG9tXCIpLGk9ZShcIi4uL2xpYi9vb3BcIikscz1lKFwiLi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5yZW5kZXJlcj10LHRoaXMucGl4ZWxSYXRpbz0xLHRoaXMubWF4SGVpZ2h0PXQubGF5ZXJDb25maWcubWF4SGVpZ2h0LHRoaXMubGluZUhlaWdodD10LmxheWVyQ29uZmlnLmxpbmVIZWlnaHQsdGhpcy5taW5EZWNvcmF0aW9uSGVpZ2h0PTIqdGhpcy5waXhlbFJhdGlvfDAsdGhpcy5oYWxmTWluRGVjb3JhdGlvbkhlaWdodD10aGlzLm1pbkRlY29yYXRpb25IZWlnaHQvMnwwLHRoaXMuY29sb3JzPXt9LHRoaXMuY29sb3JzLmRhcms9e2Vycm9yOlwicmdiYSgyNTUsIDE4LCAxOCwgMSlcIix3YXJuaW5nOlwicmdiYSgxOCwgMTM2LCAxOCwgMSlcIixpbmZvOlwicmdiYSgxOCwgMTgsIDEzNiwgMSlcIn0sdGhpcy5jb2xvcnMubGlnaHQ9e2Vycm9yOlwicmdiKDI1NSw1MSw1MSlcIix3YXJuaW5nOlwicmdiKDMyLDEzMyw3MilcIixpbmZvOlwicmdiKDM1LDY4LDEzOClcIn0sdGhpcy5zZXRTY3JvbGxCYXJWKGUpfXJldHVybiBlLnByb3RvdHlwZS4kY3JlYXRlQ2FudmFzPWZ1bmN0aW9uKCl7dGhpcy5jYW52YXM9ci5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuY2FudmFzLnN0eWxlLnRvcD1cIjBweFwiLHRoaXMuY2FudmFzLnN0eWxlLnJpZ2h0PVwiMHB4XCIsdGhpcy5jYW52YXMuc3R5bGUuekluZGV4PVwiN1wiLHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIn0sZS5wcm90b3R5cGUuc2V0U2Nyb2xsQmFyVj1mdW5jdGlvbihlKXt0aGlzLiRjcmVhdGVDYW52YXMoKSx0aGlzLnNjcm9sbGJhclY9ZSxlLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpLHRoaXMuc2V0RGltZW5zaW9ucygpfSxlLnByb3RvdHlwZS4kdXBkYXRlRGVjb3JhdG9ycz1mdW5jdGlvbihlKXtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIGUucHJpb3JpdHk8dC5wcmlvcml0eT8tMTplLnByaW9yaXR5PnQucHJpb3JpdHk/MTowfWlmKHR5cGVvZiB0aGlzLmNhbnZhcy5nZXRDb250ZXh0IT1cImZ1bmN0aW9uXCIpcmV0dXJuO3ZhciB0PXRoaXMucmVuZGVyZXIudGhlbWUuaXNEYXJrPT09ITA/dGhpcy5jb2xvcnMuZGFyazp0aGlzLmNvbG9ycy5saWdodDt0aGlzLnNldERpbWVuc2lvbnMoZSk7dmFyIG49dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLGk9dGhpcy5yZW5kZXJlci5zZXNzaW9uLiRhbm5vdGF0aW9ucztuLmNsZWFyUmVjdCgwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KTtpZihpKXt2YXIgcz17aW5mbzoxLHdhcm5pbmc6MixlcnJvcjozfTtpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5wcmlvcml0eT1zW2UudHlwZV18fG51bGx9KSxpPWkuc29ydChyKTtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIHU9aVtvXS5yb3csYT10aGlzLmdldFZlcnRpY2FsT2Zmc2V0Rm9yUm93KHUpLGY9YSt0aGlzLmxpbmVIZWlnaHQsbD1NYXRoLnJvdW5kKHRoaXMuaGVpZ2h0UmF0aW8qYSksYz1NYXRoLnJvdW5kKHRoaXMuaGVpZ2h0UmF0aW8qZiksaD1NYXRoLnJvdW5kKChsK2MpLzIpLHA9Yy1oO3A8dGhpcy5oYWxmTWluRGVjb3JhdGlvbkhlaWdodCYmKHA9dGhpcy5oYWxmTWluRGVjb3JhdGlvbkhlaWdodCksaC1wPDAmJihoPXApLGgrcD50aGlzLmNhbnZhc0hlaWdodCYmKGg9dGhpcy5jYW52YXNIZWlnaHQtcCk7dmFyIGQ9aC1wLHY9aCtwLG09di1kO24uZmlsbFN0eWxlPXRbaVtvXS50eXBlXXx8bnVsbCxuLmZpbGxSZWN0KDAsZCxNYXRoLnJvdW5kKHRoaXMub25lWm9uZVdpZHRoLTEpLG0pfX12YXIgZz10aGlzLnJlbmRlcmVyLnNlc3Npb24uc2VsZWN0aW9uLmdldEN1cnNvcigpO2lmKGcpe3ZhciB5PU1hdGgucm91bmQodGhpcy5nZXRWZXJ0aWNhbE9mZnNldEZvclJvdyhnLnJvdykqdGhpcy5oZWlnaHRSYXRpbyk7bi5maWxsU3R5bGU9XCJyZ2JhKDAsIDAsIDAsIDAuNSlcIixuLmZpbGxSZWN0KDAseSx0aGlzLmNhbnZhc1dpZHRoLDIpfX0sZS5wcm90b3R5cGUuZ2V0VmVydGljYWxPZmZzZXRGb3JSb3c9ZnVuY3Rpb24oZSl7ZXw9MDt2YXIgdD10aGlzLnJlbmRlcmVyLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblJvdyhlLDApKnRoaXMubGluZUhlaWdodDtyZXR1cm4gdH0sZS5wcm90b3R5cGUuc2V0RGltZW5zaW9ucz1mdW5jdGlvbihlKXtlPWV8fHRoaXMucmVuZGVyZXIubGF5ZXJDb25maWcsdGhpcy5tYXhIZWlnaHQ9ZS5tYXhIZWlnaHQsdGhpcy5saW5lSGVpZ2h0PWUubGluZUhlaWdodCx0aGlzLmNhbnZhc0hlaWdodD1lLmhlaWdodCx0aGlzLmNhbnZhc1dpZHRoPXRoaXMuc2Nyb2xsYmFyVi53aWR0aHx8dGhpcy5jYW52YXNXaWR0aCx0aGlzLnNldFpvbmVXaWR0aCgpLHRoaXMuY2FudmFzLndpZHRoPXRoaXMuY2FudmFzV2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0PXRoaXMuY2FudmFzSGVpZ2h0LHRoaXMubWF4SGVpZ2h0PHRoaXMuY2FudmFzSGVpZ2h0P3RoaXMuaGVpZ2h0UmF0aW89MTp0aGlzLmhlaWdodFJhdGlvPXRoaXMuY2FudmFzSGVpZ2h0L3RoaXMubWF4SGVpZ2h0fSxlLnByb3RvdHlwZS5zZXRab25lV2lkdGg9ZnVuY3Rpb24oKXt0aGlzLm9uZVpvbmVXaWR0aD10aGlzLmNhbnZhc1dpZHRofSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNhbnZhcyl9LGV9KCk7aS5pbXBsZW1lbnQoby5wcm90b3R5cGUscyksdC5EZWNvcmF0b3I9b30pLGFjZS5kZWZpbmUoXCJhY2UvdmlydHVhbF9yZW5kZXJlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9jb25maWdcIixcImFjZS9sYXllci9ndXR0ZXJcIixcImFjZS9sYXllci9tYXJrZXJcIixcImFjZS9sYXllci90ZXh0XCIsXCJhY2UvbGF5ZXIvY3Vyc29yXCIsXCJhY2Uvc2Nyb2xsYmFyXCIsXCJhY2Uvc2Nyb2xsYmFyXCIsXCJhY2Uvc2Nyb2xsYmFyX2N1c3RvbVwiLFwiYWNlL3Njcm9sbGJhcl9jdXN0b21cIixcImFjZS9yZW5kZXJsb29wXCIsXCJhY2UvbGF5ZXIvZm9udF9tZXRyaWNzXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixcImFjZS9jc3MvZWRpdG9yLWNzc1wiLFwiYWNlL2xheWVyL2RlY29yYXRvcnNcIixcImFjZS9saWIvdXNlcmFnZW50XCIsXCJhY2UvbGF5ZXIvdGV4dF91dGlsXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9saWIvb29wXCIpLGk9ZShcIi4vbGliL2RvbVwiKSxzPWUoXCIuL2xpYi9sYW5nXCIpLG89ZShcIi4vY29uZmlnXCIpLHU9ZShcIi4vbGF5ZXIvZ3V0dGVyXCIpLkd1dHRlcixhPWUoXCIuL2xheWVyL21hcmtlclwiKS5NYXJrZXIsZj1lKFwiLi9sYXllci90ZXh0XCIpLlRleHQsbD1lKFwiLi9sYXllci9jdXJzb3JcIikuQ3Vyc29yLGM9ZShcIi4vc2Nyb2xsYmFyXCIpLkhTY3JvbGxCYXIsaD1lKFwiLi9zY3JvbGxiYXJcIikuVlNjcm9sbEJhcixwPWUoXCIuL3Njcm9sbGJhcl9jdXN0b21cIikuSFNjcm9sbEJhcixkPWUoXCIuL3Njcm9sbGJhcl9jdXN0b21cIikuVlNjcm9sbEJhcix2PWUoXCIuL3JlbmRlcmxvb3BcIikuUmVuZGVyTG9vcCxtPWUoXCIuL2xheWVyL2ZvbnRfbWV0cmljc1wiKS5Gb250TWV0cmljcyxnPWUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcix5PWUoXCIuL2Nzcy9lZGl0b3ItY3NzXCIpLGI9ZShcIi4vbGF5ZXIvZGVjb3JhdG9yc1wiKS5EZWNvcmF0b3Isdz1lKFwiLi9saWIvdXNlcmFnZW50XCIpLEU9ZShcIi4vbGF5ZXIvdGV4dF91dGlsXCIpLmlzVGV4dFRva2VuO2kuaW1wb3J0Q3NzU3RyaW5nKHksXCJhY2VfZWRpdG9yLmNzc1wiLCExKTt2YXIgUz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj10aGlzO3RoaXMuY29udGFpbmVyPWV8fGkuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpLmFkZENzc0NsYXNzKHRoaXMuY29udGFpbmVyLFwiYWNlX2VkaXRvclwiKSxpLkhJX0RQSSYmaS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lcixcImFjZV9oaWRwaVwiKSx0aGlzLnNldFRoZW1lKHQpLG8uZ2V0KFwidXNlU3RyaWN0Q1NQXCIpPT1udWxsJiZvLnNldChcInVzZVN0cmljdENTUFwiLCExKSx0aGlzLiRndXR0ZXI9aS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuJGd1dHRlci5jbGFzc05hbWU9XCJhY2VfZ3V0dGVyXCIsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy4kZ3V0dGVyKSx0aGlzLiRndXR0ZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5zY3JvbGxlcj1pLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5zY3JvbGxlci5jbGFzc05hbWU9XCJhY2Vfc2Nyb2xsZXJcIix0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNjcm9sbGVyKSx0aGlzLmNvbnRlbnQ9aS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuY29udGVudC5jbGFzc05hbWU9XCJhY2VfY29udGVudFwiLHRoaXMuc2Nyb2xsZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KSx0aGlzLiRndXR0ZXJMYXllcj1uZXcgdSh0aGlzLiRndXR0ZXIpLHRoaXMuJGd1dHRlckxheWVyLm9uKFwiY2hhbmdlR3V0dGVyV2lkdGhcIix0aGlzLm9uR3V0dGVyUmVzaXplLmJpbmQodGhpcykpLHRoaXMuJG1hcmtlckJhY2s9bmV3IGEodGhpcy5jb250ZW50KTt2YXIgcj10aGlzLiR0ZXh0TGF5ZXI9bmV3IGYodGhpcy5jb250ZW50KTt0aGlzLmNhbnZhcz1yLmVsZW1lbnQsdGhpcy4kbWFya2VyRnJvbnQ9bmV3IGEodGhpcy5jb250ZW50KSx0aGlzLiRjdXJzb3JMYXllcj1uZXcgbCh0aGlzLmNvbnRlbnQpLHRoaXMuJGhvcml6U2Nyb2xsPSExLHRoaXMuJHZTY3JvbGw9ITEsdGhpcy5zY3JvbGxCYXI9dGhpcy5zY3JvbGxCYXJWPW5ldyBoKHRoaXMuY29udGFpbmVyLHRoaXMpLHRoaXMuc2Nyb2xsQmFySD1uZXcgYyh0aGlzLmNvbnRhaW5lcix0aGlzKSx0aGlzLnNjcm9sbEJhclYub24oXCJzY3JvbGxcIixmdW5jdGlvbihlKXtuLiRzY3JvbGxBbmltYXRpb258fG4uc2Vzc2lvbi5zZXRTY3JvbGxUb3AoZS5kYXRhLW4uc2Nyb2xsTWFyZ2luLnRvcCl9KSx0aGlzLnNjcm9sbEJhckgub24oXCJzY3JvbGxcIixmdW5jdGlvbihlKXtuLiRzY3JvbGxBbmltYXRpb258fG4uc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KGUuZGF0YS1uLnNjcm9sbE1hcmdpbi5sZWZ0KX0pLHRoaXMuc2Nyb2xsVG9wPTAsdGhpcy5zY3JvbGxMZWZ0PTAsdGhpcy5jdXJzb3JQb3M9e3JvdzowLGNvbHVtbjowfSx0aGlzLiRmb250TWV0cmljcz1uZXcgbSh0aGlzLmNvbnRhaW5lciksdGhpcy4kdGV4dExheWVyLiRzZXRGb250TWV0cmljcyh0aGlzLiRmb250TWV0cmljcyksdGhpcy4kdGV4dExheWVyLm9uKFwiY2hhbmdlQ2hhcmFjdGVyU2l6ZVwiLGZ1bmN0aW9uKGUpe24udXBkYXRlQ2hhcmFjdGVyU2l6ZSgpLG4ub25SZXNpemUoITAsbi5ndXR0ZXJXaWR0aCxuLiRzaXplLndpZHRoLG4uJHNpemUuaGVpZ2h0KSxuLl9zaWduYWwoXCJjaGFuZ2VDaGFyYWN0ZXJTaXplXCIsZSl9KSx0aGlzLiRzaXplPXt3aWR0aDowLGhlaWdodDowLHNjcm9sbGVySGVpZ2h0OjAsc2Nyb2xsZXJXaWR0aDowLCRkaXJ0eTohMH0sdGhpcy5sYXllckNvbmZpZz17d2lkdGg6MSxwYWRkaW5nOjAsZmlyc3RSb3c6MCxmaXJzdFJvd1NjcmVlbjowLGxhc3RSb3c6MCxsaW5lSGVpZ2h0OjAsY2hhcmFjdGVyV2lkdGg6MCxtaW5IZWlnaHQ6MSxtYXhIZWlnaHQ6MSxvZmZzZXQ6MCxoZWlnaHQ6MSxndXR0ZXJPZmZzZXQ6MX0sdGhpcy5zY3JvbGxNYXJnaW49e2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowLHY6MCxoOjB9LHRoaXMubWFyZ2luPXtsZWZ0OjAscmlnaHQ6MCx0b3A6MCxib3R0b206MCx2OjAsaDowfSx0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvcj0hdy5pc0lPUyx0aGlzLiRsb29wPW5ldyB2KHRoaXMuJHJlbmRlckNoYW5nZXMuYmluZCh0aGlzKSx0aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpLHRoaXMudXBkYXRlQ2hhcmFjdGVyU2l6ZSgpLHRoaXMuc2V0UGFkZGluZyg0KSx0aGlzLiRhZGRSZXNpemVPYnNlcnZlcigpLG8ucmVzZXRPcHRpb25zKHRoaXMpLG8uX3NpZ25hbChcInJlbmRlcmVyXCIsdGhpcyl9cmV0dXJuIGUucHJvdG90eXBlLnVwZGF0ZUNoYXJhY3RlclNpemU9ZnVuY3Rpb24oKXt0aGlzLiR0ZXh0TGF5ZXIuYWxsb3dCb2xkRm9udHMhPXRoaXMuJGFsbG93Qm9sZEZvbnRzJiYodGhpcy4kYWxsb3dCb2xkRm9udHM9dGhpcy4kdGV4dExheWVyLmFsbG93Qm9sZEZvbnRzLHRoaXMuc2V0U3R5bGUoXCJhY2Vfbm9ib2xkXCIsIXRoaXMuJGFsbG93Qm9sZEZvbnRzKSksdGhpcy5sYXllckNvbmZpZy5jaGFyYWN0ZXJXaWR0aD10aGlzLmNoYXJhY3RlcldpZHRoPXRoaXMuJHRleHRMYXllci5nZXRDaGFyYWN0ZXJXaWR0aCgpLHRoaXMubGF5ZXJDb25maWcubGluZUhlaWdodD10aGlzLmxpbmVIZWlnaHQ9dGhpcy4kdGV4dExheWVyLmdldExpbmVIZWlnaHQoKSx0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpLGkuc2V0U3R5bGUodGhpcy5zY3JvbGxlci5zdHlsZSxcImxpbmUtaGVpZ2h0XCIsdGhpcy5saW5lSGVpZ2h0K1wicHhcIil9LGUucHJvdG90eXBlLnNldFNlc3Npb249ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uJiZ0aGlzLnNlc3Npb24uZG9jLm9mZihcImNoYW5nZU5ld0xpbmVNb2RlXCIsdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlKSx0aGlzLnNlc3Npb249ZSxlJiZ0aGlzLnNjcm9sbE1hcmdpbi50b3AmJmUuZ2V0U2Nyb2xsVG9wKCk8PTAmJmUuc2V0U2Nyb2xsVG9wKC10aGlzLnNjcm9sbE1hcmdpbi50b3ApLHRoaXMuJGN1cnNvckxheWVyLnNldFNlc3Npb24oZSksdGhpcy4kbWFya2VyQmFjay5zZXRTZXNzaW9uKGUpLHRoaXMuJG1hcmtlckZyb250LnNldFNlc3Npb24oZSksdGhpcy4kZ3V0dGVyTGF5ZXIuc2V0U2Vzc2lvbihlKSx0aGlzLiR0ZXh0TGF5ZXIuc2V0U2Vzc2lvbihlKTtpZighZSlyZXR1cm47dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKSx0aGlzLnNlc3Npb24uJHNldEZvbnRNZXRyaWNzKHRoaXMuJGZvbnRNZXRyaWNzKSx0aGlzLnNjcm9sbEJhckguc2Nyb2xsTGVmdD10aGlzLnNjcm9sbEJhclYuc2Nyb2xsVG9wPW51bGwsdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlPXRoaXMub25DaGFuZ2VOZXdMaW5lTW9kZS5iaW5kKHRoaXMpLHRoaXMub25DaGFuZ2VOZXdMaW5lTW9kZSgpLHRoaXMuc2Vzc2lvbi5kb2Mub24oXCJjaGFuZ2VOZXdMaW5lTW9kZVwiLHRoaXMub25DaGFuZ2VOZXdMaW5lTW9kZSl9LGUucHJvdG90eXBlLnVwZGF0ZUxpbmVzPWZ1bmN0aW9uKGUsdCxuKXt0PT09dW5kZWZpbmVkJiYodD1JbmZpbml0eSksdGhpcy4kY2hhbmdlZExpbmVzPyh0aGlzLiRjaGFuZ2VkTGluZXMuZmlyc3RSb3c+ZSYmKHRoaXMuJGNoYW5nZWRMaW5lcy5maXJzdFJvdz1lKSx0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdzx0JiYodGhpcy4kY2hhbmdlZExpbmVzLmxhc3RSb3c9dCkpOnRoaXMuJGNoYW5nZWRMaW5lcz17Zmlyc3RSb3c6ZSxsYXN0Um93OnR9O2lmKHRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93PHRoaXMubGF5ZXJDb25maWcuZmlyc3RSb3cpe2lmKCFuKXJldHVybjt0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdz10aGlzLmxheWVyQ29uZmlnLmxhc3RSb3d9aWYodGhpcy4kY2hhbmdlZExpbmVzLmZpcnN0Um93PnRoaXMubGF5ZXJDb25maWcubGFzdFJvdylyZXR1cm47dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9MSU5FUyl9LGUucHJvdG90eXBlLm9uQ2hhbmdlTmV3TGluZU1vZGU9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFQpLHRoaXMuJHRleHRMYXllci4kdXBkYXRlRW9sQ2hhcigpLHRoaXMuc2Vzc2lvbi4kYmlkaUhhbmRsZXIuc2V0RW9sQ2hhcih0aGlzLiR0ZXh0TGF5ZXIuRU9MX0NIQVIpfSxlLnByb3RvdHlwZS5vbkNoYW5nZVRhYlNpemU9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFR8dGhpcy5DSEFOR0VfTUFSS0VSKSx0aGlzLiR0ZXh0TGF5ZXIub25DaGFuZ2VUYWJTaXplKCl9LGUucHJvdG90eXBlLnVwZGF0ZVRleHQ9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFQpfSxlLnByb3RvdHlwZS51cGRhdGVGdWxsPWZ1bmN0aW9uKGUpe2U/dGhpcy4kcmVuZGVyQ2hhbmdlcyh0aGlzLkNIQU5HRV9GVUxMLCEwKTp0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpfSxlLnByb3RvdHlwZS51cGRhdGVGb250U2l6ZT1mdW5jdGlvbigpe3RoaXMuJHRleHRMYXllci5jaGVja0ZvclNpemVDaGFuZ2VzKCl9LGUucHJvdG90eXBlLiR1cGRhdGVTaXplQXN5bmM9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnBlbmRpbmc/dGhpcy4kc2l6ZS4kZGlydHk9ITA6dGhpcy5vblJlc2l6ZSgpfSxlLnByb3RvdHlwZS5vblJlc2l6ZT1mdW5jdGlvbihlLHQsbixyKXtpZih0aGlzLnJlc2l6aW5nPjIpcmV0dXJuO3RoaXMucmVzaXppbmc+MD90aGlzLnJlc2l6aW5nKys6dGhpcy5yZXNpemluZz1lPzE6MDt2YXIgaT10aGlzLmNvbnRhaW5lcjtyfHwocj1pLmNsaWVudEhlaWdodHx8aS5zY3JvbGxIZWlnaHQpLCFyJiZ0aGlzLiRtYXhMaW5lcyYmdGhpcy5saW5lSGVpZ2h0PjEmJighaS5zdHlsZS5oZWlnaHR8fGkuc3R5bGUuaGVpZ2h0PT1cIjBweFwiKSYmKGkuc3R5bGUuaGVpZ2h0PVwiMXB4XCIscj1pLmNsaWVudEhlaWdodHx8aS5zY3JvbGxIZWlnaHQpLG58fChuPWkuY2xpZW50V2lkdGh8fGkuc2Nyb2xsV2lkdGgpO3ZhciBzPXRoaXMuJHVwZGF0ZUNhY2hlZFNpemUoZSx0LG4scik7dGhpcy4kcmVzaXplVGltZXImJnRoaXMuJHJlc2l6ZVRpbWVyLmNhbmNlbCgpO2lmKCF0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0fHwhbiYmIXIpcmV0dXJuIHRoaXMucmVzaXppbmc9MDtlJiYodGhpcy4kZ3V0dGVyTGF5ZXIuJHBhZGRpbmc9bnVsbCksZT90aGlzLiRyZW5kZXJDaGFuZ2VzKHN8dGhpcy4kY2hhbmdlcywhMCk6dGhpcy4kbG9vcC5zY2hlZHVsZShzfHRoaXMuJGNoYW5nZXMpLHRoaXMucmVzaXppbmcmJih0aGlzLnJlc2l6aW5nPTApLHRoaXMuc2Nyb2xsQmFySC5zY3JvbGxMZWZ0PXRoaXMuc2Nyb2xsQmFyVi5zY3JvbGxUb3A9bnVsbCx0aGlzLiRjdXN0b21TY3JvbGxiYXImJnRoaXMuJHVwZGF0ZUN1c3RvbVNjcm9sbGJhcighMCl9LGUucHJvdG90eXBlLiR1cGRhdGVDYWNoZWRTaXplPWZ1bmN0aW9uKGUsdCxuLHIpe3ItPXRoaXMuJGV4dHJhSGVpZ2h0fHwwO3ZhciBzPTAsbz10aGlzLiRzaXplLHU9e3dpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0LHNjcm9sbGVySGVpZ2h0Om8uc2Nyb2xsZXJIZWlnaHQsc2Nyb2xsZXJXaWR0aDpvLnNjcm9sbGVyV2lkdGh9O3ImJihlfHxvLmhlaWdodCE9cikmJihvLmhlaWdodD1yLHN8PXRoaXMuQ0hBTkdFX1NJWkUsby5zY3JvbGxlckhlaWdodD1vLmhlaWdodCx0aGlzLiRob3JpelNjcm9sbCYmKG8uc2Nyb2xsZXJIZWlnaHQtPXRoaXMuc2Nyb2xsQmFySC5nZXRIZWlnaHQoKSksdGhpcy5zY3JvbGxCYXJWLnNldEhlaWdodChvLnNjcm9sbGVySGVpZ2h0KSx0aGlzLnNjcm9sbEJhclYuZWxlbWVudC5zdHlsZS5ib3R0b209dGhpcy5zY3JvbGxCYXJILmdldEhlaWdodCgpK1wicHhcIixzfD10aGlzLkNIQU5HRV9TQ1JPTEwpO2lmKG4mJihlfHxvLndpZHRoIT1uKSl7c3w9dGhpcy5DSEFOR0VfU0laRSxvLndpZHRoPW4sdD09bnVsbCYmKHQ9dGhpcy4kc2hvd0d1dHRlcj90aGlzLiRndXR0ZXIub2Zmc2V0V2lkdGg6MCksdGhpcy5ndXR0ZXJXaWR0aD10LGkuc2V0U3R5bGUodGhpcy5zY3JvbGxCYXJILmVsZW1lbnQuc3R5bGUsXCJsZWZ0XCIsdCtcInB4XCIpLGkuc2V0U3R5bGUodGhpcy5zY3JvbGxlci5zdHlsZSxcImxlZnRcIix0K3RoaXMubWFyZ2luLmxlZnQrXCJweFwiKSxvLnNjcm9sbGVyV2lkdGg9TWF0aC5tYXgoMCxuLXQtdGhpcy5zY3JvbGxCYXJWLmdldFdpZHRoKCktdGhpcy5tYXJnaW4uaCksaS5zZXRTdHlsZSh0aGlzLiRndXR0ZXIuc3R5bGUsXCJsZWZ0XCIsdGhpcy5tYXJnaW4ubGVmdCtcInB4XCIpO3ZhciBhPXRoaXMuc2Nyb2xsQmFyVi5nZXRXaWR0aCgpK1wicHhcIjtpLnNldFN0eWxlKHRoaXMuc2Nyb2xsQmFySC5lbGVtZW50LnN0eWxlLFwicmlnaHRcIixhKSxpLnNldFN0eWxlKHRoaXMuc2Nyb2xsZXIuc3R5bGUsXCJyaWdodFwiLGEpLGkuc2V0U3R5bGUodGhpcy5zY3JvbGxlci5zdHlsZSxcImJvdHRvbVwiLHRoaXMuc2Nyb2xsQmFySC5nZXRIZWlnaHQoKSksdGhpcy5zY3JvbGxCYXJILnNldFdpZHRoKG8uc2Nyb2xsZXJXaWR0aCk7aWYodGhpcy5zZXNzaW9uJiZ0aGlzLnNlc3Npb24uZ2V0VXNlV3JhcE1vZGUoKSYmdGhpcy5hZGp1c3RXcmFwTGltaXQoKXx8ZSlzfD10aGlzLkNIQU5HRV9GVUxMfXJldHVybiBvLiRkaXJ0eT0hbnx8IXIscyYmdGhpcy5fc2lnbmFsKFwicmVzaXplXCIsdSksc30sZS5wcm90b3R5cGUub25HdXR0ZXJSZXNpemU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kc2hvd0d1dHRlcj9lOjA7dCE9dGhpcy5ndXR0ZXJXaWR0aCYmKHRoaXMuJGNoYW5nZXN8PXRoaXMuJHVwZGF0ZUNhY2hlZFNpemUoITAsdCx0aGlzLiRzaXplLndpZHRoLHRoaXMuJHNpemUuaGVpZ2h0KSksdGhpcy5zZXNzaW9uLmdldFVzZVdyYXBNb2RlKCkmJnRoaXMuYWRqdXN0V3JhcExpbWl0KCk/dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKTp0aGlzLiRzaXplLiRkaXJ0eT90aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpOnRoaXMuJGNvbXB1dGVMYXllckNvbmZpZygpfSxlLnByb3RvdHlwZS5hZGp1c3RXcmFwTGltaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRzaXplLnNjcm9sbGVyV2lkdGgtdGhpcy4kcGFkZGluZyoyLHQ9TWF0aC5mbG9vcihlL3RoaXMuY2hhcmFjdGVyV2lkdGgpO3JldHVybiB0aGlzLnNlc3Npb24uYWRqdXN0V3JhcExpbWl0KHQsdGhpcy4kc2hvd1ByaW50TWFyZ2luJiZ0aGlzLiRwcmludE1hcmdpbkNvbHVtbil9LGUucHJvdG90eXBlLnNldEFuaW1hdGVkU2Nyb2xsPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKFwiYW5pbWF0ZWRTY3JvbGxcIixlKX0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0ZWRTY3JvbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYW5pbWF0ZWRTY3JvbGx9LGUucHJvdG90eXBlLnNldFNob3dJbnZpc2libGVzPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKFwic2hvd0ludmlzaWJsZXNcIixlKSx0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLnNldFNob3dJbnZpc2libGVzKGUpfSxlLnByb3RvdHlwZS5nZXRTaG93SW52aXNpYmxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbihcInNob3dJbnZpc2libGVzXCIpfSxlLnByb3RvdHlwZS5nZXREaXNwbGF5SW5kZW50R3VpZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZGlzcGxheUluZGVudEd1aWRlc1wiKX0sZS5wcm90b3R5cGUuc2V0RGlzcGxheUluZGVudEd1aWRlcz1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcImRpc3BsYXlJbmRlbnRHdWlkZXNcIixlKX0sZS5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0SW5kZW50R3VpZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiaGlnaGxpZ2h0SW5kZW50R3VpZGVzXCIpfSxlLnByb3RvdHlwZS5zZXRIaWdobGlnaHRJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oXCJoaWdobGlnaHRJbmRlbnRHdWlkZXNcIixlKX0sZS5wcm90b3R5cGUuc2V0U2hvd1ByaW50TWFyZ2luPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKFwic2hvd1ByaW50TWFyZ2luXCIsZSl9LGUucHJvdG90eXBlLmdldFNob3dQcmludE1hcmdpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbihcInNob3dQcmludE1hcmdpblwiKX0sZS5wcm90b3R5cGUuc2V0UHJpbnRNYXJnaW5Db2x1bW49ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oXCJwcmludE1hcmdpbkNvbHVtblwiLGUpfSxlLnByb3RvdHlwZS5nZXRQcmludE1hcmdpbkNvbHVtbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbihcInByaW50TWFyZ2luQ29sdW1uXCIpfSxlLnByb3RvdHlwZS5nZXRTaG93R3V0dGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwic2hvd0d1dHRlclwiKX0sZS5wcm90b3R5cGUuc2V0U2hvd0d1dHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRPcHRpb24oXCJzaG93R3V0dGVyXCIsZSl9LGUucHJvdG90eXBlLmdldEZhZGVGb2xkV2lkZ2V0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbihcImZhZGVGb2xkV2lkZ2V0c1wiKX0sZS5wcm90b3R5cGUuc2V0RmFkZUZvbGRXaWRnZXRzPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKFwiZmFkZUZvbGRXaWRnZXRzXCIsZSl9LGUucHJvdG90eXBlLnNldEhpZ2hsaWdodEd1dHRlckxpbmU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oXCJoaWdobGlnaHRHdXR0ZXJMaW5lXCIsZSl9LGUucHJvdG90eXBlLmdldEhpZ2hsaWdodEd1dHRlckxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJoaWdobGlnaHRHdXR0ZXJMaW5lXCIpfSxlLnByb3RvdHlwZS4kdXBkYXRlUHJpbnRNYXJnaW49ZnVuY3Rpb24oKXtpZighdGhpcy4kc2hvd1ByaW50TWFyZ2luJiYhdGhpcy4kcHJpbnRNYXJnaW5FbClyZXR1cm47aWYoIXRoaXMuJHByaW50TWFyZ2luRWwpe3ZhciBlPWkuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmNsYXNzTmFtZT1cImFjZV9sYXllciBhY2VfcHJpbnQtbWFyZ2luLWxheWVyXCIsdGhpcy4kcHJpbnRNYXJnaW5FbD1pLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy4kcHJpbnRNYXJnaW5FbC5jbGFzc05hbWU9XCJhY2VfcHJpbnQtbWFyZ2luXCIsZS5hcHBlbmRDaGlsZCh0aGlzLiRwcmludE1hcmdpbkVsKSx0aGlzLmNvbnRlbnQuaW5zZXJ0QmVmb3JlKGUsdGhpcy5jb250ZW50LmZpcnN0Q2hpbGQpfXZhciB0PXRoaXMuJHByaW50TWFyZ2luRWwuc3R5bGU7dC5sZWZ0PU1hdGgucm91bmQodGhpcy5jaGFyYWN0ZXJXaWR0aCp0aGlzLiRwcmludE1hcmdpbkNvbHVtbit0aGlzLiRwYWRkaW5nKStcInB4XCIsdC52aXNpYmlsaXR5PXRoaXMuJHNob3dQcmludE1hcmdpbj9cInZpc2libGVcIjpcImhpZGRlblwiLHRoaXMuc2Vzc2lvbiYmdGhpcy5zZXNzaW9uLiR3cmFwPT0tMSYmdGhpcy5hZGp1c3RXcmFwTGltaXQoKX0sZS5wcm90b3R5cGUuZ2V0Q29udGFpbmVyRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lcn0sZS5wcm90b3R5cGUuZ2V0TW91c2VFdmVudFRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcm9sbGVyfSxlLnByb3RvdHlwZS5nZXRUZXh0QXJlYUNvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lcn0sZS5wcm90b3R5cGUuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yPWZ1bmN0aW9uKCl7aWYodGhpcy4kaXNNb3VzZVByZXNzZWQpcmV0dXJuO3ZhciBlPXRoaXMudGV4dGFyZWEuc3R5bGUsdD10aGlzLiRjb21wb3NpdGlvbjtpZighdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3ImJiF0KXtpLnRyYW5zbGF0ZSh0aGlzLnRleHRhcmVhLC0xMDAsMCk7cmV0dXJufXZhciBuPXRoaXMuJGN1cnNvckxheWVyLiRwaXhlbFBvcztpZighbilyZXR1cm47dCYmdC5tYXJrZXJSYW5nZSYmKG49dGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbih0Lm1hcmtlclJhbmdlLnN0YXJ0LCEwKSk7dmFyIHI9dGhpcy5sYXllckNvbmZpZyxzPW4udG9wLG89bi5sZWZ0O3MtPXIub2Zmc2V0O3ZhciB1PXQmJnQudXNlVGV4dGFyZWFGb3JJTUV8fHcuaXNNb2JpbGU/dGhpcy5saW5lSGVpZ2h0OjE7aWYoczwwfHxzPnIuaGVpZ2h0LXUpe2kudHJhbnNsYXRlKHRoaXMudGV4dGFyZWEsMCwwKTtyZXR1cm59dmFyIGE9MSxmPXRoaXMuJHNpemUuaGVpZ2h0LXU7aWYoIXQpcys9dGhpcy5saW5lSGVpZ2h0O2Vsc2UgaWYodC51c2VUZXh0YXJlYUZvcklNRSl7dmFyIGw9dGhpcy50ZXh0YXJlYS52YWx1ZTthPXRoaXMuY2hhcmFjdGVyV2lkdGgqdGhpcy5zZXNzaW9uLiRnZXRTdHJpbmdTY3JlZW5XaWR0aChsKVswXX1lbHNlIHMrPXRoaXMubGluZUhlaWdodCsyO28tPXRoaXMuc2Nyb2xsTGVmdCxvPnRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aC1hJiYobz10aGlzLiRzaXplLnNjcm9sbGVyV2lkdGgtYSksbys9dGhpcy5ndXR0ZXJXaWR0aCt0aGlzLm1hcmdpbi5sZWZ0LGkuc2V0U3R5bGUoZSxcImhlaWdodFwiLHUrXCJweFwiKSxpLnNldFN0eWxlKGUsXCJ3aWR0aFwiLGErXCJweFwiKSxpLnRyYW5zbGF0ZSh0aGlzLnRleHRhcmVhLE1hdGgubWluKG8sdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoLWEpLE1hdGgubWluKHMsZikpfSxlLnByb3RvdHlwZS5nZXRGaXJzdFZpc2libGVSb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllckNvbmZpZy5maXJzdFJvd30sZS5wcm90b3R5cGUuZ2V0Rmlyc3RGdWxseVZpc2libGVSb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllckNvbmZpZy5maXJzdFJvdysodGhpcy5sYXllckNvbmZpZy5vZmZzZXQ9PT0wPzA6MSl9LGUucHJvdG90eXBlLmdldExhc3RGdWxseVZpc2libGVSb3c9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxheWVyQ29uZmlnLHQ9ZS5sYXN0Um93LG49dGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Sb3codCwwKSplLmxpbmVIZWlnaHQ7cmV0dXJuIG4tdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpPmUuaGVpZ2h0LWUubGluZUhlaWdodD90LTE6dH0sZS5wcm90b3R5cGUuZ2V0TGFzdFZpc2libGVSb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllckNvbmZpZy5sYXN0Um93fSxlLnByb3RvdHlwZS5zZXRQYWRkaW5nPWZ1bmN0aW9uKGUpe3RoaXMuJHBhZGRpbmc9ZSx0aGlzLiR0ZXh0TGF5ZXIuc2V0UGFkZGluZyhlKSx0aGlzLiRjdXJzb3JMYXllci5zZXRQYWRkaW5nKGUpLHRoaXMuJG1hcmtlckZyb250LnNldFBhZGRpbmcoZSksdGhpcy4kbWFya2VyQmFjay5zZXRQYWRkaW5nKGUpLHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCksdGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKX0sZS5wcm90b3R5cGUuc2V0U2Nyb2xsTWFyZ2luPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuc2Nyb2xsTWFyZ2luO2kudG9wPWV8MCxpLmJvdHRvbT10fDAsaS5yaWdodD1yfDAsaS5sZWZ0PW58MCxpLnY9aS50b3AraS5ib3R0b20saS5oPWkubGVmdCtpLnJpZ2h0LGkudG9wJiZ0aGlzLnNjcm9sbFRvcDw9MCYmdGhpcy5zZXNzaW9uJiZ0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKC1pLnRvcCksdGhpcy51cGRhdGVGdWxsKCl9LGUucHJvdG90eXBlLnNldE1hcmdpbj1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLm1hcmdpbjtpLnRvcD1lfDAsaS5ib3R0b209dHwwLGkucmlnaHQ9cnwwLGkubGVmdD1ufDAsaS52PWkudG9wK2kuYm90dG9tLGkuaD1pLmxlZnQraS5yaWdodCx0aGlzLiR1cGRhdGVDYWNoZWRTaXplKCEwLHRoaXMuZ3V0dGVyV2lkdGgsdGhpcy4kc2l6ZS53aWR0aCx0aGlzLiRzaXplLmhlaWdodCksdGhpcy51cGRhdGVGdWxsKCl9LGUucHJvdG90eXBlLmdldEhTY3JvbGxCYXJBbHdheXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlfSxlLnByb3RvdHlwZS5zZXRIU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcImhTY3JvbGxCYXJBbHdheXNWaXNpYmxlXCIsZSl9LGUucHJvdG90eXBlLmdldFZTY3JvbGxCYXJBbHdheXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHZTY3JvbGxCYXJBbHdheXNWaXNpYmxlfSxlLnByb3RvdHlwZS5zZXRWU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbihcInZTY3JvbGxCYXJBbHdheXNWaXNpYmxlXCIsZSl9LGUucHJvdG90eXBlLiR1cGRhdGVTY3JvbGxCYXJWPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sYXllckNvbmZpZy5tYXhIZWlnaHQsdD10aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0OyF0aGlzLiRtYXhMaW5lcyYmdGhpcy4kc2Nyb2xsUGFzdEVuZCYmKGUtPSh0LXRoaXMubGluZUhlaWdodCkqdGhpcy4kc2Nyb2xsUGFzdEVuZCx0aGlzLnNjcm9sbFRvcD5lLXQmJihlPXRoaXMuc2Nyb2xsVG9wK3QsdGhpcy5zY3JvbGxCYXJWLnNjcm9sbFRvcD1udWxsKSksdGhpcy5zY3JvbGxCYXJWLnNldFNjcm9sbEhlaWdodChlK3RoaXMuc2Nyb2xsTWFyZ2luLnYpLHRoaXMuc2Nyb2xsQmFyVi5zZXRTY3JvbGxUb3AodGhpcy5zY3JvbGxUb3ArdGhpcy5zY3JvbGxNYXJnaW4udG9wKX0sZS5wcm90b3R5cGUuJHVwZGF0ZVNjcm9sbEJhckg9ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbEJhckguc2V0U2Nyb2xsV2lkdGgodGhpcy5sYXllckNvbmZpZy53aWR0aCsyKnRoaXMuJHBhZGRpbmcrdGhpcy5zY3JvbGxNYXJnaW4uaCksdGhpcy5zY3JvbGxCYXJILnNldFNjcm9sbExlZnQodGhpcy5zY3JvbGxMZWZ0K3RoaXMuc2Nyb2xsTWFyZ2luLmxlZnQpfSxlLnByb3RvdHlwZS5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLiRmcm96ZW49ITB9LGUucHJvdG90eXBlLnVuZnJlZXplPWZ1bmN0aW9uKCl7dGhpcy4kZnJvemVuPSExfSxlLnByb3RvdHlwZS4kcmVuZGVyQ2hhbmdlcz1mdW5jdGlvbihlLHQpe3RoaXMuJGNoYW5nZXMmJihlfD10aGlzLiRjaGFuZ2VzLHRoaXMuJGNoYW5nZXM9MCk7aWYoIXRoaXMuc2Vzc2lvbnx8IXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRofHx0aGlzLiRmcm96ZW58fCFlJiYhdCl7dGhpcy4kY2hhbmdlc3w9ZTtyZXR1cm59aWYodGhpcy4kc2l6ZS4kZGlydHkpcmV0dXJuIHRoaXMuJGNoYW5nZXN8PWUsdGhpcy5vblJlc2l6ZSghMCk7dGhpcy5saW5lSGVpZ2h0fHx0aGlzLiR0ZXh0TGF5ZXIuY2hlY2tGb3JTaXplQ2hhbmdlcygpLHRoaXMuX3NpZ25hbChcImJlZm9yZVJlbmRlclwiLGUpLHRoaXMuc2Vzc2lvbiYmdGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlciYmdGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci51cGRhdGVDaGFyYWN0ZXJXaWR0aHModGhpcy4kZm9udE1ldHJpY3MpO3ZhciBuPXRoaXMubGF5ZXJDb25maWc7aWYoZSZ0aGlzLkNIQU5HRV9GVUxMfHxlJnRoaXMuQ0hBTkdFX1NJWkV8fGUmdGhpcy5DSEFOR0VfVEVYVHx8ZSZ0aGlzLkNIQU5HRV9MSU5FU3x8ZSZ0aGlzLkNIQU5HRV9TQ1JPTEx8fGUmdGhpcy5DSEFOR0VfSF9TQ1JPTEwpe2V8PXRoaXMuJGNvbXB1dGVMYXllckNvbmZpZygpfHRoaXMuJGxvb3AuY2xlYXIoKTtpZihuLmZpcnN0Um93IT10aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93JiZuLmZpcnN0Um93U2NyZWVuPT10aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93U2NyZWVuKXt2YXIgcj10aGlzLnNjcm9sbFRvcCsobi5maXJzdFJvdy1NYXRoLm1heCh0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93LDApKSp0aGlzLmxpbmVIZWlnaHQ7cj4wJiYodGhpcy5zY3JvbGxUb3A9cixlfD10aGlzLkNIQU5HRV9TQ1JPTEwsZXw9dGhpcy4kY29tcHV0ZUxheWVyQ29uZmlnKCl8dGhpcy4kbG9vcC5jbGVhcigpKX1uPXRoaXMubGF5ZXJDb25maWcsdGhpcy4kdXBkYXRlU2Nyb2xsQmFyVigpLGUmdGhpcy5DSEFOR0VfSF9TQ1JPTEwmJnRoaXMuJHVwZGF0ZVNjcm9sbEJhckgoKSxpLnRyYW5zbGF0ZSh0aGlzLmNvbnRlbnQsLXRoaXMuc2Nyb2xsTGVmdCwtbi5vZmZzZXQpO3ZhciBzPW4ud2lkdGgrMip0aGlzLiRwYWRkaW5nK1wicHhcIixvPW4ubWluSGVpZ2h0K1wicHhcIjtpLnNldFN0eWxlKHRoaXMuY29udGVudC5zdHlsZSxcIndpZHRoXCIscyksaS5zZXRTdHlsZSh0aGlzLmNvbnRlbnQuc3R5bGUsXCJoZWlnaHRcIixvKX1lJnRoaXMuQ0hBTkdFX0hfU0NST0xMJiYoaS50cmFuc2xhdGUodGhpcy5jb250ZW50LC10aGlzLnNjcm9sbExlZnQsLW4ub2Zmc2V0KSx0aGlzLnNjcm9sbGVyLmNsYXNzTmFtZT10aGlzLnNjcm9sbExlZnQ8PTA/XCJhY2Vfc2Nyb2xsZXIgXCI6XCJhY2Vfc2Nyb2xsZXIgYWNlX3Njcm9sbC1sZWZ0IFwiLHRoaXMuZW5hYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5JiYodGhpcy5zY3JvbGxlci5jbGFzc05hbWUrPXRoaXMua2V5Ym9hcmRGb2N1c0NsYXNzTmFtZSkpO2lmKGUmdGhpcy5DSEFOR0VfRlVMTCl7dGhpcy4kY2hhbmdlZExpbmVzPW51bGwsdGhpcy4kdGV4dExheWVyLnVwZGF0ZShuKSx0aGlzLiRzaG93R3V0dGVyJiZ0aGlzLiRndXR0ZXJMYXllci51cGRhdGUobiksdGhpcy4kY3VzdG9tU2Nyb2xsYmFyJiZ0aGlzLiRzY3JvbGxEZWNvcmF0b3IuJHVwZGF0ZURlY29yYXRvcnMobiksdGhpcy4kbWFya2VyQmFjay51cGRhdGUobiksdGhpcy4kbWFya2VyRnJvbnQudXBkYXRlKG4pLHRoaXMuJGN1cnNvckxheWVyLnVwZGF0ZShuKSx0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpLHRoaXMuX3NpZ25hbChcImFmdGVyUmVuZGVyXCIsZSk7cmV0dXJufWlmKGUmdGhpcy5DSEFOR0VfU0NST0xMKXt0aGlzLiRjaGFuZ2VkTGluZXM9bnVsbCxlJnRoaXMuQ0hBTkdFX1RFWFR8fGUmdGhpcy5DSEFOR0VfTElORVM/dGhpcy4kdGV4dExheWVyLnVwZGF0ZShuKTp0aGlzLiR0ZXh0TGF5ZXIuc2Nyb2xsTGluZXMobiksdGhpcy4kc2hvd0d1dHRlciYmKGUmdGhpcy5DSEFOR0VfR1VUVEVSfHxlJnRoaXMuQ0hBTkdFX0xJTkVTP3RoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShuKTp0aGlzLiRndXR0ZXJMYXllci5zY3JvbGxMaW5lcyhuKSksdGhpcy4kY3VzdG9tU2Nyb2xsYmFyJiZ0aGlzLiRzY3JvbGxEZWNvcmF0b3IuJHVwZGF0ZURlY29yYXRvcnMobiksdGhpcy4kbWFya2VyQmFjay51cGRhdGUobiksdGhpcy4kbWFya2VyRnJvbnQudXBkYXRlKG4pLHRoaXMuJGN1cnNvckxheWVyLnVwZGF0ZShuKSx0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpLHRoaXMuX3NpZ25hbChcImFmdGVyUmVuZGVyXCIsZSk7cmV0dXJufWUmdGhpcy5DSEFOR0VfVEVYVD8odGhpcy4kY2hhbmdlZExpbmVzPW51bGwsdGhpcy4kdGV4dExheWVyLnVwZGF0ZShuKSx0aGlzLiRzaG93R3V0dGVyJiZ0aGlzLiRndXR0ZXJMYXllci51cGRhdGUobiksdGhpcy4kY3VzdG9tU2Nyb2xsYmFyJiZ0aGlzLiRzY3JvbGxEZWNvcmF0b3IuJHVwZGF0ZURlY29yYXRvcnMobikpOmUmdGhpcy5DSEFOR0VfTElORVM/KCh0aGlzLiR1cGRhdGVMaW5lcygpfHxlJnRoaXMuQ0hBTkdFX0dVVFRFUiYmdGhpcy4kc2hvd0d1dHRlcikmJnRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShuKSx0aGlzLiRjdXN0b21TY3JvbGxiYXImJnRoaXMuJHNjcm9sbERlY29yYXRvci4kdXBkYXRlRGVjb3JhdG9ycyhuKSk6ZSZ0aGlzLkNIQU5HRV9URVhUfHxlJnRoaXMuQ0hBTkdFX0dVVFRFUj8odGhpcy4kc2hvd0d1dHRlciYmdGhpcy4kZ3V0dGVyTGF5ZXIudXBkYXRlKG4pLHRoaXMuJGN1c3RvbVNjcm9sbGJhciYmdGhpcy4kc2Nyb2xsRGVjb3JhdG9yLiR1cGRhdGVEZWNvcmF0b3JzKG4pKTplJnRoaXMuQ0hBTkdFX0NVUlNPUiYmKHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUmJnRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZUxpbmVIaWdobGlnaHQobiksdGhpcy4kY3VzdG9tU2Nyb2xsYmFyJiZ0aGlzLiRzY3JvbGxEZWNvcmF0b3IuJHVwZGF0ZURlY29yYXRvcnMobikpLGUmdGhpcy5DSEFOR0VfQ1VSU09SJiYodGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKG4pLHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCkpLGUmKHRoaXMuQ0hBTkdFX01BUktFUnx0aGlzLkNIQU5HRV9NQVJLRVJfRlJPTlQpJiZ0aGlzLiRtYXJrZXJGcm9udC51cGRhdGUobiksZSYodGhpcy5DSEFOR0VfTUFSS0VSfHRoaXMuQ0hBTkdFX01BUktFUl9CQUNLKSYmdGhpcy4kbWFya2VyQmFjay51cGRhdGUobiksdGhpcy5fc2lnbmFsKFwiYWZ0ZXJSZW5kZXJcIixlKX0sZS5wcm90b3R5cGUuJGF1dG9zaXplPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLmdldFNjcmVlbkxlbmd0aCgpKnRoaXMubGluZUhlaWdodCx0PXRoaXMuJG1heExpbmVzKnRoaXMubGluZUhlaWdodCxuPU1hdGgubWluKHQsTWF0aC5tYXgoKHRoaXMuJG1pbkxpbmVzfHwxKSp0aGlzLmxpbmVIZWlnaHQsZSkpK3RoaXMuc2Nyb2xsTWFyZ2luLnYrKHRoaXMuJGV4dHJhSGVpZ2h0fHwwKTt0aGlzLiRob3JpelNjcm9sbCYmKG4rPXRoaXMuc2Nyb2xsQmFySC5nZXRIZWlnaHQoKSksdGhpcy4kbWF4UGl4ZWxIZWlnaHQmJm4+dGhpcy4kbWF4UGl4ZWxIZWlnaHQmJihuPXRoaXMuJG1heFBpeGVsSGVpZ2h0KTt2YXIgcj1uPD0yKnRoaXMubGluZUhlaWdodCxpPSFyJiZlPnQ7aWYobiE9dGhpcy5kZXNpcmVkSGVpZ2h0fHx0aGlzLiRzaXplLmhlaWdodCE9dGhpcy5kZXNpcmVkSGVpZ2h0fHxpIT10aGlzLiR2U2Nyb2xsKXtpIT10aGlzLiR2U2Nyb2xsJiYodGhpcy4kdlNjcm9sbD1pLHRoaXMuc2Nyb2xsQmFyVi5zZXRWaXNpYmxlKGkpKTt2YXIgcz10aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aDt0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9bitcInB4XCIsdGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZSghMCx0aGlzLiRndXR0ZXJXaWR0aCxzLG4pLHRoaXMuZGVzaXJlZEhlaWdodD1uLHRoaXMuX3NpZ25hbChcImF1dG9zaXplXCIpfX0sZS5wcm90b3R5cGUuJGNvbXB1dGVMYXllckNvbmZpZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2Vzc2lvbix0PXRoaXMuJHNpemUsbj10LmhlaWdodDw9Mip0aGlzLmxpbmVIZWlnaHQscj10aGlzLnNlc3Npb24uZ2V0U2NyZWVuTGVuZ3RoKCksaT1yKnRoaXMubGluZUhlaWdodCxzPXRoaXMuJGdldExvbmdlc3RMaW5lKCksbz0hbiYmKHRoaXMuJGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlfHx0LnNjcm9sbGVyV2lkdGgtcy0yKnRoaXMuJHBhZGRpbmc8MCksdT10aGlzLiRob3JpelNjcm9sbCE9PW87dSYmKHRoaXMuJGhvcml6U2Nyb2xsPW8sdGhpcy5zY3JvbGxCYXJILnNldFZpc2libGUobykpO3ZhciBhPXRoaXMuJHZTY3JvbGw7dGhpcy4kbWF4TGluZXMmJnRoaXMubGluZUhlaWdodD4xJiYodGhpcy4kYXV0b3NpemUoKSxuPXQuaGVpZ2h0PD0yKnRoaXMubGluZUhlaWdodCk7dmFyIGY9dC5zY3JvbGxlckhlaWdodCt0aGlzLmxpbmVIZWlnaHQsbD0hdGhpcy4kbWF4TGluZXMmJnRoaXMuJHNjcm9sbFBhc3RFbmQ/KHQuc2Nyb2xsZXJIZWlnaHQtdGhpcy5saW5lSGVpZ2h0KSp0aGlzLiRzY3JvbGxQYXN0RW5kOjA7aSs9bDt2YXIgYz10aGlzLnNjcm9sbE1hcmdpbjt0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKE1hdGgubWF4KC1jLnRvcCxNYXRoLm1pbih0aGlzLnNjcm9sbFRvcCxpLXQuc2Nyb2xsZXJIZWlnaHQrYy5ib3R0b20pKSksdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQoTWF0aC5tYXgoLWMubGVmdCxNYXRoLm1pbih0aGlzLnNjcm9sbExlZnQscysyKnRoaXMuJHBhZGRpbmctdC5zY3JvbGxlcldpZHRoK2MucmlnaHQpKSk7dmFyIGg9IW4mJih0aGlzLiR2U2Nyb2xsQmFyQWx3YXlzVmlzaWJsZXx8dC5zY3JvbGxlckhlaWdodC1pK2w8MHx8dGhpcy5zY3JvbGxUb3A+Yy50b3ApLHA9YSE9PWg7cCYmKHRoaXMuJHZTY3JvbGw9aCx0aGlzLnNjcm9sbEJhclYuc2V0VmlzaWJsZShoKSk7dmFyIGQ9dGhpcy5zY3JvbGxUb3AldGhpcy5saW5lSGVpZ2h0LHY9TWF0aC5jZWlsKGYvdGhpcy5saW5lSGVpZ2h0KS0xLG09TWF0aC5tYXgoMCxNYXRoLnJvdW5kKCh0aGlzLnNjcm9sbFRvcC1kKS90aGlzLmxpbmVIZWlnaHQpKSxnPW0rdix5LGIsdz10aGlzLmxpbmVIZWlnaHQ7bT1lLnNjcmVlblRvRG9jdW1lbnRSb3cobSwwKTt2YXIgRT1lLmdldEZvbGRMaW5lKG0pO0UmJihtPUUuc3RhcnQucm93KSx5PWUuZG9jdW1lbnRUb1NjcmVlblJvdyhtLDApLGI9ZS5nZXRSb3dMZW5ndGgobSkqdyxnPU1hdGgubWluKGUuc2NyZWVuVG9Eb2N1bWVudFJvdyhnLDApLGUuZ2V0TGVuZ3RoKCktMSksZj10LnNjcm9sbGVySGVpZ2h0K2UuZ2V0Um93TGVuZ3RoKGcpKncrYixkPXRoaXMuc2Nyb2xsVG9wLXkqdyxkPDAmJnk+MCYmKHk9TWF0aC5tYXgoMCx5K01hdGguZmxvb3IoZC93KSksZD10aGlzLnNjcm9sbFRvcC15KncpO3ZhciBTPTA7aWYodGhpcy5sYXllckNvbmZpZy53aWR0aCE9c3x8dSlTPXRoaXMuQ0hBTkdFX0hfU0NST0xMO2lmKHV8fHApU3w9dGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZSghMCx0aGlzLmd1dHRlcldpZHRoLHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuX3NpZ25hbChcInNjcm9sbGJhclZpc2liaWxpdHlDaGFuZ2VkXCIpLHAmJihzPXRoaXMuJGdldExvbmdlc3RMaW5lKCkpO3JldHVybiB0aGlzLmxheWVyQ29uZmlnPXt3aWR0aDpzLHBhZGRpbmc6dGhpcy4kcGFkZGluZyxmaXJzdFJvdzptLGZpcnN0Um93U2NyZWVuOnksbGFzdFJvdzpnLGxpbmVIZWlnaHQ6dyxjaGFyYWN0ZXJXaWR0aDp0aGlzLmNoYXJhY3RlcldpZHRoLG1pbkhlaWdodDpmLG1heEhlaWdodDppLG9mZnNldDpkLGd1dHRlck9mZnNldDp3P01hdGgubWF4KDAsTWF0aC5jZWlsKChkK3QuaGVpZ2h0LXQuc2Nyb2xsZXJIZWlnaHQpL3cpKTowLGhlaWdodDp0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0fSx0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyJiZ0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLnNldENvbnRlbnRXaWR0aChzLXRoaXMuJHBhZGRpbmcpLFN9LGUucHJvdG90eXBlLiR1cGRhdGVMaW5lcz1mdW5jdGlvbigpe2lmKCF0aGlzLiRjaGFuZ2VkTGluZXMpcmV0dXJuO3ZhciBlPXRoaXMuJGNoYW5nZWRMaW5lcy5maXJzdFJvdyx0PXRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93O3RoaXMuJGNoYW5nZWRMaW5lcz1udWxsO3ZhciBuPXRoaXMubGF5ZXJDb25maWc7aWYoZT5uLmxhc3RSb3crMSlyZXR1cm47aWYodDxuLmZpcnN0Um93KXJldHVybjtpZih0PT09SW5maW5pdHkpe3RoaXMuJHNob3dHdXR0ZXImJnRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShuKSx0aGlzLiR0ZXh0TGF5ZXIudXBkYXRlKG4pO3JldHVybn1yZXR1cm4gdGhpcy4kdGV4dExheWVyLnVwZGF0ZUxpbmVzKG4sZSx0KSwhMH0sZS5wcm90b3R5cGUuJGdldExvbmdlc3RMaW5lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLmdldFNjcmVlbldpZHRoKCk7cmV0dXJuIHRoaXMuc2hvd0ludmlzaWJsZXMmJiF0aGlzLnNlc3Npb24uJHVzZVdyYXBNb2RlJiYoZSs9MSksdGhpcy4kdGV4dExheWVyJiZlPnRoaXMuJHRleHRMYXllci5NQVhfTElORV9MRU5HVEgmJihlPXRoaXMuJHRleHRMYXllci5NQVhfTElORV9MRU5HVEgrMzApLE1hdGgubWF4KHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aC0yKnRoaXMuJHBhZGRpbmcsTWF0aC5yb3VuZChlKnRoaXMuY2hhcmFjdGVyV2lkdGgpKX0sZS5wcm90b3R5cGUudXBkYXRlRnJvbnRNYXJrZXJzPWZ1bmN0aW9uKCl7dGhpcy4kbWFya2VyRnJvbnQuc2V0TWFya2Vycyh0aGlzLnNlc3Npb24uZ2V0TWFya2VycyghMCkpLHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfTUFSS0VSX0ZST05UKX0sZS5wcm90b3R5cGUudXBkYXRlQmFja01hcmtlcnM9ZnVuY3Rpb24oKXt0aGlzLiRtYXJrZXJCYWNrLnNldE1hcmtlcnModGhpcy5zZXNzaW9uLmdldE1hcmtlcnMoKSksdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9NQVJLRVJfQkFDSyl9LGUucHJvdG90eXBlLmFkZEd1dHRlckRlY29yYXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLiRndXR0ZXJMYXllci5hZGRHdXR0ZXJEZWNvcmF0aW9uKGUsdCl9LGUucHJvdG90eXBlLnJlbW92ZUd1dHRlckRlY29yYXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLiRndXR0ZXJMYXllci5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uKGUsdCl9LGUucHJvdG90eXBlLnVwZGF0ZUJyZWFrcG9pbnRzPWZ1bmN0aW9uKGUpe3RoaXMuX3Jvd3M9ZSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0dVVFRFUil9LGUucHJvdG90eXBlLnNldEFubm90YXRpb25zPWZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLnNldEFubm90YXRpb25zKGUpLHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfR1VUVEVSKX0sZS5wcm90b3R5cGUudXBkYXRlQ3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9DVVJTT1IpfSxlLnByb3RvdHlwZS5oaWRlQ3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy4kY3Vyc29yTGF5ZXIuaGlkZUN1cnNvcigpfSxlLnByb3RvdHlwZS5zaG93Q3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy4kY3Vyc29yTGF5ZXIuc2hvd0N1cnNvcigpfSxlLnByb3RvdHlwZS5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldz1mdW5jdGlvbihlLHQsbil7dGhpcy5zY3JvbGxDdXJzb3JJbnRvVmlldyhlLG4pLHRoaXMuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcodCxuKX0sZS5wcm90b3R5cGUuc2Nyb2xsQ3Vyc29ySW50b1ZpZXc9ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQ9PT0wKXJldHVybjt2YXIgcj10aGlzLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKGUpLGk9ci5sZWZ0LHM9ci50b3Asbz1uJiZuLnRvcHx8MCx1PW4mJm4uYm90dG9tfHwwO3RoaXMuJHNjcm9sbEFuaW1hdGlvbiYmKHRoaXMuJHN0b3BBbmltYXRpb249ITApO3ZhciBhPXRoaXMuJHNjcm9sbEFuaW1hdGlvbj90aGlzLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCk6dGhpcy5zY3JvbGxUb3A7YStvPnM/KHQmJmErbz5zK3RoaXMubGluZUhlaWdodCYmKHMtPXQqdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCkscz09PTAmJihzPS10aGlzLnNjcm9sbE1hcmdpbi50b3ApLHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AocykpOmErdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodC11PHMrdGhpcy5saW5lSGVpZ2h0JiYodCYmYSt0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0LXU8cy10aGlzLmxpbmVIZWlnaHQmJihzKz10KnRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQpLHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3Aocyt0aGlzLmxpbmVIZWlnaHQrdS10aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KSk7dmFyIGY9dGhpcy5zY3JvbGxMZWZ0LGw9Mip0aGlzLmxheWVyQ29uZmlnLmNoYXJhY3RlcldpZHRoO2ktbDxmPyhpLT1sLGk8dGhpcy4kcGFkZGluZytsJiYoaT0tdGhpcy5zY3JvbGxNYXJnaW4ubGVmdCksdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQoaSkpOihpKz1sLGYrdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoPGkrdGhpcy5jaGFyYWN0ZXJXaWR0aD90aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChNYXRoLnJvdW5kKGkrdGhpcy5jaGFyYWN0ZXJXaWR0aC10aGlzLiRzaXplLnNjcm9sbGVyV2lkdGgpKTpmPD10aGlzLiRwYWRkaW5nJiZpLWY8dGhpcy5jaGFyYWN0ZXJXaWR0aCYmdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQoMCkpfSxlLnByb3RvdHlwZS5nZXRTY3JvbGxUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpfSxlLnByb3RvdHlwZS5nZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCl9LGUucHJvdG90eXBlLmdldFNjcm9sbFRvcFJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcm9sbFRvcC90aGlzLmxpbmVIZWlnaHR9LGUucHJvdG90eXBlLmdldFNjcm9sbEJvdHRvbVJvdz1mdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCgwLE1hdGguZmxvb3IoKHRoaXMuc2Nyb2xsVG9wK3RoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQpL3RoaXMubGluZUhlaWdodCktMSl9LGUucHJvdG90eXBlLnNjcm9sbFRvUm93PWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AoZSp0aGlzLmxpbmVIZWlnaHQpfSxlLnByb3RvdHlwZS5hbGlnbkN1cnNvcj1mdW5jdGlvbihlLHQpe3R5cGVvZiBlPT1cIm51bWJlclwiJiYoZT17cm93OmUsY29sdW1uOjB9KTt2YXIgbj10aGlzLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKGUpLHI9dGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodC10aGlzLmxpbmVIZWlnaHQsaT1uLnRvcC1yKih0fHwwKTtyZXR1cm4gdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChpKSxpfSxlLnByb3RvdHlwZS4kY2FsY1N0ZXBzPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPXRoaXMuU1RFUFMsaT1bXSxzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiooTWF0aC5wb3coZS0xLDMpKzEpK3R9O2ZvcihuPTA7bjxyOysrbilpLnB1c2gocyhuL3RoaXMuU1RFUFMsZSx0LWUpKTtyZXR1cm4gaX0sZS5wcm90b3R5cGUuc2Nyb2xsVG9MaW5lPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oe3JvdzplLGNvbHVtbjowfSkscz1pLnRvcDt0JiYocy09dGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodC8yKTt2YXIgbz10aGlzLnNjcm9sbFRvcDt0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHMpLG4hPT0hMSYmdGhpcy5hbmltYXRlU2Nyb2xsaW5nKG8scil9LGUucHJvdG90eXBlLmFuaW1hdGVTY3JvbGxpbmc9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBvKCl7ci4kdGltZXI9Y2xlYXJJbnRlcnZhbChyLiR0aW1lciksci4kc2Nyb2xsQW5pbWF0aW9uPW51bGwsci4kc3RvcEFuaW1hdGlvbj0hMSx0JiZ0KCl9dmFyIG49dGhpcy5zY3JvbGxUb3A7aWYoIXRoaXMuJGFuaW1hdGVkU2Nyb2xsKXJldHVybjt2YXIgcj10aGlzO2lmKGU9PW4pcmV0dXJuO2lmKHRoaXMuJHNjcm9sbEFuaW1hdGlvbil7dmFyIGk9dGhpcy4kc2Nyb2xsQW5pbWF0aW9uLnN0ZXBzO2lmKGkubGVuZ3RoKXtlPWlbMF07aWYoZT09bilyZXR1cm59fXZhciBzPXIuJGNhbGNTdGVwcyhlLG4pO3RoaXMuJHNjcm9sbEFuaW1hdGlvbj17ZnJvbTplLHRvOm4sc3RlcHM6c30sY2xlYXJJbnRlcnZhbCh0aGlzLiR0aW1lciksci5zZXNzaW9uLnNldFNjcm9sbFRvcChzLnNoaWZ0KCkpLHIuc2Vzc2lvbi4kc2Nyb2xsVG9wPW4sdGhpcy4kdGltZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihyLiRzdG9wQW5pbWF0aW9uKXtvKCk7cmV0dXJufWlmKCFyLnNlc3Npb24pcmV0dXJuIGNsZWFySW50ZXJ2YWwoci4kdGltZXIpO3MubGVuZ3RoPyhyLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHMuc2hpZnQoKSksci5zZXNzaW9uLiRzY3JvbGxUb3A9bik6biE9bnVsbD8oci5zZXNzaW9uLiRzY3JvbGxUb3A9LTEsci5zZXNzaW9uLnNldFNjcm9sbFRvcChuKSxuPW51bGwpOm8oKX0sMTApfSxlLnByb3RvdHlwZS5zY3JvbGxUb1k9ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxUb3AhPT1lJiYodGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9TQ1JPTEwpLHRoaXMuc2Nyb2xsVG9wPWUpfSxlLnByb3RvdHlwZS5zY3JvbGxUb1g9ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxMZWZ0IT09ZSYmKHRoaXMuc2Nyb2xsTGVmdD1lKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0hfU0NST0xMKX0sZS5wcm90b3R5cGUuc2Nyb2xsVG89ZnVuY3Rpb24oZSx0KXt0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHQpLHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KGUpfSxlLnByb3RvdHlwZS5zY3JvbGxCeT1mdW5jdGlvbihlLHQpe3QmJnRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpK3QpLGUmJnRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCkrZSl9LGUucHJvdG90eXBlLmlzU2Nyb2xsYWJsZUJ5PWZ1bmN0aW9uKGUsdCl7aWYodDwwJiZ0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCk+PTEtdGhpcy5zY3JvbGxNYXJnaW4udG9wKXJldHVybiEwO2lmKHQ+MCYmdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpK3RoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQtdGhpcy5sYXllckNvbmZpZy5tYXhIZWlnaHQ8LTErdGhpcy5zY3JvbGxNYXJnaW4uYm90dG9tKXJldHVybiEwO2lmKGU8MCYmdGhpcy5zZXNzaW9uLmdldFNjcm9sbExlZnQoKT49MS10aGlzLnNjcm9sbE1hcmdpbi5sZWZ0KXJldHVybiEwO2lmKGU+MCYmdGhpcy5zZXNzaW9uLmdldFNjcm9sbExlZnQoKSt0aGlzLiRzaXplLnNjcm9sbGVyV2lkdGgtdGhpcy5sYXllckNvbmZpZy53aWR0aDwtMSt0aGlzLnNjcm9sbE1hcmdpbi5yaWdodClyZXR1cm4hMH0sZS5wcm90b3R5cGUucGl4ZWxUb1NjcmVlbkNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYodGhpcy4kaGFzQ3NzVHJhbnNmb3Jtcyl7bj17dG9wOjAsbGVmdDowfTt2YXIgcj10aGlzLiRmb250TWV0cmljcy50cmFuc2Zvcm1Db29yZGluYXRlcyhbZSx0XSk7ZT1yWzFdLXRoaXMuZ3V0dGVyV2lkdGgtdGhpcy5tYXJnaW4ubGVmdCx0PXJbMF19ZWxzZSBuPXRoaXMuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dmFyIGk9ZSt0aGlzLnNjcm9sbExlZnQtbi5sZWZ0LXRoaXMuJHBhZGRpbmcscz1pL3RoaXMuY2hhcmFjdGVyV2lkdGgsbz1NYXRoLmZsb29yKCh0K3RoaXMuc2Nyb2xsVG9wLW4udG9wKS90aGlzLmxpbmVIZWlnaHQpLHU9dGhpcy4kYmxvY2tDdXJzb3I/TWF0aC5mbG9vcihzKTpNYXRoLnJvdW5kKHMpO3JldHVybntyb3c6byxjb2x1bW46dSxzaWRlOnMtdT4wPzE6LTEsb2Zmc2V0WDppfX0sZS5wcm90b3R5cGUuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZih0aGlzLiRoYXNDc3NUcmFuc2Zvcm1zKXtuPXt0b3A6MCxsZWZ0OjB9O3ZhciByPXRoaXMuJGZvbnRNZXRyaWNzLnRyYW5zZm9ybUNvb3JkaW5hdGVzKFtlLHRdKTtlPXJbMV0tdGhpcy5ndXR0ZXJXaWR0aC10aGlzLm1hcmdpbi5sZWZ0LHQ9clswXX1lbHNlIG49dGhpcy5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgaT1lK3RoaXMuc2Nyb2xsTGVmdC1uLmxlZnQtdGhpcy4kcGFkZGluZyxzPWkvdGhpcy5jaGFyYWN0ZXJXaWR0aCxvPXRoaXMuJGJsb2NrQ3Vyc29yP01hdGguZmxvb3Iocyk6TWF0aC5yb3VuZChzKSx1PU1hdGguZmxvb3IoKHQrdGhpcy5zY3JvbGxUb3Atbi50b3ApL3RoaXMubGluZUhlaWdodCk7cmV0dXJuIHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24odSxNYXRoLm1heChvLDApLGkpfSxlLnByb3RvdHlwZS50ZXh0VG9TY3JlZW5Db29yZGluYXRlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj10aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKGUsdCksaT10aGlzLiRwYWRkaW5nKyh0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmlzQmlkaVJvdyhyLnJvdyxlKT90aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmdldFBvc0xlZnQoci5jb2x1bW4pOk1hdGgucm91bmQoci5jb2x1bW4qdGhpcy5jaGFyYWN0ZXJXaWR0aCkpLHM9ci5yb3cqdGhpcy5saW5lSGVpZ2h0O3JldHVybntwYWdlWDpuLmxlZnQraS10aGlzLnNjcm9sbExlZnQscGFnZVk6bi50b3Arcy10aGlzLnNjcm9sbFRvcH19LGUucHJvdG90eXBlLnZpc3VhbGl6ZUZvY3VzPWZ1bmN0aW9uKCl7aS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lcixcImFjZV9mb2N1c1wiKX0sZS5wcm90b3R5cGUudmlzdWFsaXplQmx1cj1mdW5jdGlvbigpe2kucmVtb3ZlQ3NzQ2xhc3ModGhpcy5jb250YWluZXIsXCJhY2VfZm9jdXNcIil9LGUucHJvdG90eXBlLnNob3dDb21wb3NpdGlvbj1mdW5jdGlvbihlKXt0aGlzLiRjb21wb3NpdGlvbj1lLGUuY3NzVGV4dHx8KGUuY3NzVGV4dD10aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQpLGUudXNlVGV4dGFyZWFGb3JJTUU9PXVuZGVmaW5lZCYmKGUudXNlVGV4dGFyZWFGb3JJTUU9dGhpcy4kdXNlVGV4dGFyZWFGb3JJTUUpLHRoaXMuJHVzZVRleHRhcmVhRm9ySU1FPyhpLmFkZENzc0NsYXNzKHRoaXMudGV4dGFyZWEsXCJhY2VfY29tcG9zaXRpb25cIiksdGhpcy50ZXh0YXJlYS5zdHlsZS5jc3NUZXh0PVwiXCIsdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKSx0aGlzLiRjdXJzb3JMYXllci5lbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCIpOmUubWFya2VySWQ9dGhpcy5zZXNzaW9uLmFkZE1hcmtlcihlLm1hcmtlclJhbmdlLFwiYWNlX2NvbXBvc2l0aW9uX21hcmtlclwiLFwidGV4dFwiKX0sZS5wcm90b3R5cGUuc2V0Q29tcG9zaXRpb25UZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uY3Vyc29yO3RoaXMuYWRkVG9rZW4oZSxcImNvbXBvc2l0aW9uX3BsYWNlaG9sZGVyXCIsdC5yb3csdC5jb2x1bW4pLHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCl9LGUucHJvdG90eXBlLmhpZGVDb21wb3NpdGlvbj1mdW5jdGlvbigpe2lmKCF0aGlzLiRjb21wb3NpdGlvbilyZXR1cm47dGhpcy4kY29tcG9zaXRpb24ubWFya2VySWQmJnRoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIodGhpcy4kY29tcG9zaXRpb24ubWFya2VySWQpLGkucmVtb3ZlQ3NzQ2xhc3ModGhpcy50ZXh0YXJlYSxcImFjZV9jb21wb3NpdGlvblwiKSx0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQ9dGhpcy4kY29tcG9zaXRpb24uY3NzVGV4dDt2YXIgZT10aGlzLnNlc3Npb24uc2VsZWN0aW9uLmN1cnNvcjt0aGlzLnJlbW92ZUV4dHJhVG9rZW4oZS5yb3csZS5jb2x1bW4pLHRoaXMuJGNvbXBvc2l0aW9uPW51bGwsdGhpcy4kY3Vyc29yTGF5ZXIuZWxlbWVudC5zdHlsZS5kaXNwbGF5PVwiXCJ9LGUucHJvdG90eXBlLnNldEdob3N0VGV4dD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uY3Vyc29yLHI9dHx8e3JvdzpuLnJvdyxjb2x1bW46bi5jb2x1bW59O3RoaXMucmVtb3ZlR2hvc3RUZXh0KCk7dmFyIHM9dGhpcy4kY2FsY3VsYXRlV3JhcHBlZFRleHRDaHVua3MoZSxyKTt0aGlzLmFkZFRva2VuKHNbMF0udGV4dCxcImdob3N0X3RleHRcIixyLnJvdyxyLmNvbHVtbiksdGhpcy4kZ2hvc3RUZXh0PXt0ZXh0OmUscG9zaXRpb246e3JvdzpyLnJvdyxjb2x1bW46ci5jb2x1bW59fTt2YXIgbz1pLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYocy5sZW5ndGg+MSl7dmFyIHU9dGhpcy5oaWRlVG9rZW5zQWZ0ZXJQb3NpdGlvbihyLnJvdyxyLmNvbHVtbiksYTtzLnNsaWNlKDEpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG49aS5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtuLmNsYXNzTmFtZT1cImFjZV9naG9zdF90ZXh0XCIsZS53cmFwcGVkJiYodC5jbGFzc05hbWU9XCJnaG9zdF90ZXh0X2xpbmVfd3JhcHBlZFwiKSxlLnRleHQubGVuZ3RoPT09MCYmKGUudGV4dD1cIiBcIiksbi5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKGUudGV4dCkpLHQuYXBwZW5kQ2hpbGQobiksby5hcHBlbmRDaGlsZCh0KSxhPXR9KSx1LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtFKGUudHlwZSl8fCh0LmNsYXNzTmFtZT1cImFjZV9cIitlLnR5cGUucmVwbGFjZSgvXFwuL2csXCIgYWNlX1wiKSksdC5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKGUudmFsdWUpKSxhLmFwcGVuZENoaWxkKHQpfSksdGhpcy4kZ2hvc3RUZXh0V2lkZ2V0PXtlbDpvLHJvdzpyLnJvdyxjb2x1bW46ci5jb2x1bW4sY2xhc3NOYW1lOlwiYWNlX2dob3N0X3RleHRfY29udGFpbmVyXCJ9LHRoaXMuc2Vzc2lvbi53aWRnZXRNYW5hZ2VyLmFkZExpbmVXaWRnZXQodGhpcy4kZ2hvc3RUZXh0V2lkZ2V0KTt2YXIgZj10aGlzLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKHIsITApLGw9dGhpcy5jb250YWluZXIsYz1sLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCxoPXMubGVuZ3RoKnRoaXMubGluZUhlaWdodCxwPWg8Yy1mLnRvcDtpZihwKXJldHVybjtoPGM/dGhpcy5zY3JvbGxCeSgwLChzLmxlbmd0aC0xKSp0aGlzLmxpbmVIZWlnaHQpOnRoaXMuc2Nyb2xsVG9Sb3coci5yb3cpfX0sZS5wcm90b3R5cGUuJGNhbGN1bGF0ZVdyYXBwZWRUZXh0Q2h1bmtzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoLXRoaXMuJHBhZGRpbmcqMixyPU1hdGguZmxvb3Iobi90aGlzLmNoYXJhY3RlcldpZHRoKS0yO3I9cjw9MD82MDpyO3ZhciBpPWUuc3BsaXQoL1xccj9cXG4vKSxzPVtdO2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXt2YXIgdT10aGlzLnNlc3Npb24uJGdldERpc3BsYXlUb2tlbnMoaVtvXSx0LmNvbHVtbiksYT10aGlzLnNlc3Npb24uJGNvbXB1dGVXcmFwU3BsaXRzKHUscix0aGlzLnNlc3Npb24uJHRhYlNpemUpO2lmKGEubGVuZ3RoPjApe3ZhciBmPTA7YS5wdXNoKGlbb10ubGVuZ3RoKTtmb3IodmFyIGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIGM9aVtvXS5zbGljZShmLGFbbF0pO3MucHVzaCh7dGV4dDpjLHdyYXBwZWQ6ITB9KSxmPWFbbF19fWVsc2Ugcy5wdXNoKHt0ZXh0Omlbb10sd3JhcHBlZDohMX0pfXJldHVybiBzfSxlLnByb3RvdHlwZS5yZW1vdmVHaG9zdFRleHQ9ZnVuY3Rpb24oKXtpZighdGhpcy4kZ2hvc3RUZXh0KXJldHVybjt2YXIgZT10aGlzLiRnaG9zdFRleHQucG9zaXRpb247dGhpcy5yZW1vdmVFeHRyYVRva2VuKGUucm93LGUuY29sdW1uKSx0aGlzLiRnaG9zdFRleHRXaWRnZXQmJih0aGlzLnNlc3Npb24ud2lkZ2V0TWFuYWdlci5yZW1vdmVMaW5lV2lkZ2V0KHRoaXMuJGdob3N0VGV4dFdpZGdldCksdGhpcy4kZ2hvc3RUZXh0V2lkZ2V0PW51bGwpLHRoaXMuJGdob3N0VGV4dD1udWxsfSxlLnByb3RvdHlwZS5hZGRUb2tlbj1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLnNlc3Npb247aS5iZ1Rva2VuaXplci5saW5lc1tuXT1udWxsO3ZhciBzPXt0eXBlOnQsdmFsdWU6ZX0sbz1pLmdldFRva2VucyhuKTtpZihyPT1udWxsfHwhby5sZW5ndGgpby5wdXNoKHMpO2Vsc2V7dmFyIHU9MDtmb3IodmFyIGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIGY9b1thXTt1Kz1mLnZhbHVlLmxlbmd0aDtpZihyPD11KXt2YXIgbD1mLnZhbHVlLmxlbmd0aC0odS1yKSxjPWYudmFsdWUuc2xpY2UoMCxsKSxoPWYudmFsdWUuc2xpY2UobCk7by5zcGxpY2UoYSwxLHt0eXBlOmYudHlwZSx2YWx1ZTpjfSxzLHt0eXBlOmYudHlwZSx2YWx1ZTpofSk7YnJlYWt9fX10aGlzLnVwZGF0ZUxpbmVzKG4sbil9LGUucHJvdG90eXBlLmhpZGVUb2tlbnNBZnRlclBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLmdldFRva2VucyhlKSxyPTAsaT0hMSxzPVtdO2Zvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKXt2YXIgdT1uW29dO3IrPXUudmFsdWUubGVuZ3RoO2lmKHUudHlwZT09PVwiZ2hvc3RfdGV4dFwiKWNvbnRpbnVlO2lmKGkpe3MucHVzaCh7dHlwZTp1LnR5cGUsdmFsdWU6dS52YWx1ZX0pLHUudHlwZT1cImhpZGRlbl90b2tlblwiO2NvbnRpbnVlfXI9PT10JiYoaT0hMCl9cmV0dXJuIHRoaXMudXBkYXRlTGluZXMoZSxlKSxzfSxlLnByb3RvdHlwZS5yZW1vdmVFeHRyYVRva2VuPWZ1bmN0aW9uKGUsdCl7dGhpcy5zZXNzaW9uLmJnVG9rZW5pemVyLmxpbmVzW2VdPW51bGwsdGhpcy51cGRhdGVMaW5lcyhlLGUpfSxlLnByb3RvdHlwZS5zZXRUaGVtZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHMocil7aWYobi4kdGhlbWVJZCE9ZSlyZXR1cm4gdCYmdCgpO2lmKCFyfHwhci5jc3NDbGFzcyl0aHJvdyBuZXcgRXJyb3IoXCJjb3VsZG4ndCBsb2FkIG1vZHVsZSBcIitlK1wiIG9yIGl0IGRpZG4ndCBjYWxsIGRlZmluZVwiKTtyLiRpZCYmKG4uJHRoZW1lSWQ9ci4kaWQpLGkuaW1wb3J0Q3NzU3RyaW5nKHIuY3NzVGV4dCxyLmNzc0NsYXNzLG4uY29udGFpbmVyKSxuLnRoZW1lJiZpLnJlbW92ZUNzc0NsYXNzKG4uY29udGFpbmVyLG4udGhlbWUuY3NzQ2xhc3MpO3ZhciBzPVwicGFkZGluZ1wiaW4gcj9yLnBhZGRpbmc6XCJwYWRkaW5nXCJpbihuLnRoZW1lfHx7fSk/NDpuLiRwYWRkaW5nO24uJHBhZGRpbmcmJnMhPW4uJHBhZGRpbmcmJm4uc2V0UGFkZGluZyhzKSxuLiR0aGVtZT1yLmNzc0NsYXNzLG4udGhlbWU9cixpLmFkZENzc0NsYXNzKG4uY29udGFpbmVyLHIuY3NzQ2xhc3MpLGkuc2V0Q3NzQ2xhc3Mobi5jb250YWluZXIsXCJhY2VfZGFya1wiLHIuaXNEYXJrKSxuLiRzaXplJiYobi4kc2l6ZS53aWR0aD0wLG4uJHVwZGF0ZVNpemVBc3luYygpKSxuLl9kaXNwYXRjaEV2ZW50KFwidGhlbWVMb2FkZWRcIix7dGhlbWU6cn0pLHQmJnQoKSx3LmlzU2FmYXJpJiZuLnNjcm9sbGVyJiYobi5zY3JvbGxlci5zdHlsZS5iYWNrZ3JvdW5kPVwicmVkXCIsbi5zY3JvbGxlci5zdHlsZS5iYWNrZ3JvdW5kPVwiXCIpfXZhciBuPXRoaXM7dGhpcy4kdGhlbWVJZD1lLG4uX2Rpc3BhdGNoRXZlbnQoXCJ0aGVtZUNoYW5nZVwiLHt0aGVtZTplfSk7aWYoIWV8fHR5cGVvZiBlPT1cInN0cmluZ1wiKXt2YXIgcj1lfHx0aGlzLiRvcHRpb25zLnRoZW1lLmluaXRpYWxWYWx1ZTtvLmxvYWRNb2R1bGUoW1widGhlbWVcIixyXSxzKX1lbHNlIHMoZSl9LGUucHJvdG90eXBlLmdldFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRoZW1lSWR9LGUucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKGUsdCl7aS5zZXRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lcixlLHQhPT0hMSl9LGUucHJvdG90eXBlLnVuc2V0U3R5bGU9ZnVuY3Rpb24oZSl7aS5yZW1vdmVDc3NDbGFzcyh0aGlzLmNvbnRhaW5lcixlKX0sZS5wcm90b3R5cGUuc2V0Q3Vyc29yU3R5bGU9ZnVuY3Rpb24oZSl7aS5zZXRTdHlsZSh0aGlzLnNjcm9sbGVyLnN0eWxlLFwiY3Vyc29yXCIsZSl9LGUucHJvdG90eXBlLnNldE1vdXNlQ3Vyc29yPWZ1bmN0aW9uKGUpe2kuc2V0U3R5bGUodGhpcy5zY3JvbGxlci5zdHlsZSxcImN1cnNvclwiLGUpfSxlLnByb3RvdHlwZS5hdHRhY2hUb1NoYWRvd1Jvb3Q9ZnVuY3Rpb24oKXtpLmltcG9ydENzc1N0cmluZyh5LFwiYWNlX2VkaXRvci5jc3NcIix0aGlzLmNvbnRhaW5lcil9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZyZWV6ZSgpLHRoaXMuJGZvbnRNZXRyaWNzLmRlc3Ryb3koKSx0aGlzLiRjdXJzb3JMYXllci5kZXN0cm95KCksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLmNvbnRhaW5lci50ZXh0Q29udGVudD1cIlwiLHRoaXMuc2V0T3B0aW9uKFwidXNlUmVzaXplT2JzZXJ2ZXJcIiwhMSl9LGUucHJvdG90eXBlLiR1cGRhdGVDdXN0b21TY3JvbGxiYXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLiRob3JpelNjcm9sbD10aGlzLiR2U2Nyb2xsPW51bGwsdGhpcy5zY3JvbGxCYXJWLmVsZW1lbnQucmVtb3ZlKCksdGhpcy5zY3JvbGxCYXJILmVsZW1lbnQucmVtb3ZlKCksZT09PSEwPyh0aGlzLnNjcm9sbEJhclY9bmV3IGQodGhpcy5jb250YWluZXIsdGhpcyksdGhpcy5zY3JvbGxCYXJIPW5ldyBwKHRoaXMuY29udGFpbmVyLHRoaXMpLHRoaXMuc2Nyb2xsQmFyVi5zZXRIZWlnaHQodGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCksdGhpcy5zY3JvbGxCYXJILnNldFdpZHRoKHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCksdGhpcy5zY3JvbGxCYXJWLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixmdW5jdGlvbihlKXt0LiRzY3JvbGxBbmltYXRpb258fHQuc2Vzc2lvbi5zZXRTY3JvbGxUb3AoZS5kYXRhLXQuc2Nyb2xsTWFyZ2luLnRvcCl9KSx0aGlzLnNjcm9sbEJhckguYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGZ1bmN0aW9uKGUpe3QuJHNjcm9sbEFuaW1hdGlvbnx8dC5zZXNzaW9uLnNldFNjcm9sbExlZnQoZS5kYXRhLXQuc2Nyb2xsTWFyZ2luLmxlZnQpfSksdGhpcy4kc2Nyb2xsRGVjb3JhdG9yPyh0aGlzLiRzY3JvbGxEZWNvcmF0b3Iuc2V0U2Nyb2xsQmFyVih0aGlzLnNjcm9sbEJhclYpLHRoaXMuJHNjcm9sbERlY29yYXRvci4kdXBkYXRlRGVjb3JhdG9ycygpKToodGhpcy4kc2Nyb2xsRGVjb3JhdG9yPW5ldyBiKHRoaXMuc2Nyb2xsQmFyVix0aGlzKSx0aGlzLiRzY3JvbGxEZWNvcmF0b3IuJHVwZGF0ZURlY29yYXRvcnMoKSkpOih0aGlzLnNjcm9sbEJhclY9bmV3IGgodGhpcy5jb250YWluZXIsdGhpcyksdGhpcy5zY3JvbGxCYXJIPW5ldyBjKHRoaXMuY29udGFpbmVyLHRoaXMpLHRoaXMuc2Nyb2xsQmFyVi5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsZnVuY3Rpb24oZSl7dC4kc2Nyb2xsQW5pbWF0aW9ufHx0LnNlc3Npb24uc2V0U2Nyb2xsVG9wKGUuZGF0YS10LnNjcm9sbE1hcmdpbi50b3ApfSksdGhpcy5zY3JvbGxCYXJILmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixmdW5jdGlvbihlKXt0LiRzY3JvbGxBbmltYXRpb258fHQuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KGUuZGF0YS10LnNjcm9sbE1hcmdpbi5sZWZ0KX0pKX0sZS5wcm90b3R5cGUuJGFkZFJlc2l6ZU9ic2VydmVyPWZ1bmN0aW9uKCl7aWYoIXdpbmRvdy5SZXNpemVPYnNlcnZlcnx8dGhpcy4kcmVzaXplT2JzZXJ2ZXIpcmV0dXJuO3ZhciBlPXRoaXM7dGhpcy4kcmVzaXplVGltZXI9cy5kZWxheWVkQ2FsbChmdW5jdGlvbigpe2UuZGVzdHJveWVkfHxlLm9uUmVzaXplKCl9LDUwKSx0aGlzLiRyZXNpemVPYnNlcnZlcj1uZXcgd2luZG93LlJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uKHQpe3ZhciBuPXRbMF0uY29udGVudFJlY3Qud2lkdGgscj10WzBdLmNvbnRlbnRSZWN0LmhlaWdodDtNYXRoLmFicyhlLiRzaXplLndpZHRoLW4pPjF8fE1hdGguYWJzKGUuJHNpemUuaGVpZ2h0LXIpPjE/ZS4kcmVzaXplVGltZXIuZGVsYXkoKTplLiRyZXNpemVUaW1lci5jYW5jZWwoKX0pLHRoaXMuJHJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5jb250YWluZXIpfSxlfSgpO1MucHJvdG90eXBlLkNIQU5HRV9DVVJTT1I9MSxTLnByb3RvdHlwZS5DSEFOR0VfTUFSS0VSPTIsUy5wcm90b3R5cGUuQ0hBTkdFX0dVVFRFUj00LFMucHJvdG90eXBlLkNIQU5HRV9TQ1JPTEw9OCxTLnByb3RvdHlwZS5DSEFOR0VfTElORVM9MTYsUy5wcm90b3R5cGUuQ0hBTkdFX1RFWFQ9MzIsUy5wcm90b3R5cGUuQ0hBTkdFX1NJWkU9NjQsUy5wcm90b3R5cGUuQ0hBTkdFX01BUktFUl9CQUNLPTEyOCxTLnByb3RvdHlwZS5DSEFOR0VfTUFSS0VSX0ZST05UPTI1NixTLnByb3RvdHlwZS5DSEFOR0VfRlVMTD01MTIsUy5wcm90b3R5cGUuQ0hBTkdFX0hfU0NST0xMPTEwMjQsUy5wcm90b3R5cGUuJGNoYW5nZXM9MCxTLnByb3RvdHlwZS4kcGFkZGluZz1udWxsLFMucHJvdG90eXBlLiRmcm96ZW49ITEsUy5wcm90b3R5cGUuU1RFUFM9OCxyLmltcGxlbWVudChTLnByb3RvdHlwZSxnKSxvLmRlZmluZU9wdGlvbnMoUy5wcm90b3R5cGUsXCJyZW5kZXJlclwiLHt1c2VSZXNpemVPYnNlcnZlcjp7c2V0OmZ1bmN0aW9uKGUpeyFlJiZ0aGlzLiRyZXNpemVPYnNlcnZlcj8odGhpcy4kcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpLHRoaXMuJHJlc2l6ZVRpbWVyLmNhbmNlbCgpLHRoaXMuJHJlc2l6ZVRpbWVyPXRoaXMuJHJlc2l6ZU9ic2VydmVyPW51bGwpOmUmJiF0aGlzLiRyZXNpemVPYnNlcnZlciYmdGhpcy4kYWRkUmVzaXplT2JzZXJ2ZXIoKX19LGFuaW1hdGVkU2Nyb2xsOntpbml0aWFsVmFsdWU6ITF9LHNob3dJbnZpc2libGVzOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy4kdGV4dExheWVyLnNldFNob3dJbnZpc2libGVzKGUpJiZ0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFQpfSxpbml0aWFsVmFsdWU6ITF9LHNob3dQcmludE1hcmdpbjp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKX0saW5pdGlhbFZhbHVlOiEwfSxwcmludE1hcmdpbkNvbHVtbjp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKX0saW5pdGlhbFZhbHVlOjgwfSxwcmludE1hcmdpbjp7c2V0OmZ1bmN0aW9uKGUpe3R5cGVvZiBlPT1cIm51bWJlclwiJiYodGhpcy4kcHJpbnRNYXJnaW5Db2x1bW49ZSksdGhpcy4kc2hvd1ByaW50TWFyZ2luPSEhZSx0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2hvd1ByaW50TWFyZ2luJiZ0aGlzLiRwcmludE1hcmdpbkNvbHVtbn19LHNob3dHdXR0ZXI6e3NldDpmdW5jdGlvbihlKXt0aGlzLiRndXR0ZXIuc3R5bGUuZGlzcGxheT1lP1wiYmxvY2tcIjpcIm5vbmVcIix0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpLHRoaXMub25HdXR0ZXJSZXNpemUoKX0saW5pdGlhbFZhbHVlOiEwfSx1c2VTdmdHdXR0ZXJJY29uczp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLiR1c2VTdmdHdXR0ZXJJY29ucz1lfSxpbml0aWFsVmFsdWU6ITF9LHNob3dGb2xkZWRBbm5vdGF0aW9uczp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLiRzaG93Rm9sZGVkQW5ub3RhdGlvbnM9ZX0saW5pdGlhbFZhbHVlOiExfSxmYWRlRm9sZFdpZGdldHM6e3NldDpmdW5jdGlvbihlKXtpLnNldENzc0NsYXNzKHRoaXMuJGd1dHRlcixcImFjZV9mYWRlLWZvbGQtd2lkZ2V0c1wiLGUpfSxpbml0aWFsVmFsdWU6ITF9LHNob3dGb2xkV2lkZ2V0czp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLnNldFNob3dGb2xkV2lkZ2V0cyhlKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0dVVFRFUil9LGluaXRpYWxWYWx1ZTohMH0sZGlzcGxheUluZGVudEd1aWRlczp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJHRleHRMYXllci5zZXREaXNwbGF5SW5kZW50R3VpZGVzKGUpJiZ0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFQpfSxpbml0aWFsVmFsdWU6ITB9LGhpZ2hsaWdodEluZGVudEd1aWRlczp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJHRleHRMYXllci5zZXRIaWdobGlnaHRJbmRlbnRHdWlkZXMoZSk9PTE/dGhpcy4kdGV4dExheWVyLiRoaWdobGlnaHRJbmRlbnRHdWlkZSgpOnRoaXMuJHRleHRMYXllci4kY2xlYXJBY3RpdmVJbmRlbnRHdWlkZSh0aGlzLiR0ZXh0TGF5ZXIuJGxpbmVzLmNlbGxzKX0saW5pdGlhbFZhbHVlOiEwfSxoaWdobGlnaHRHdXR0ZXJMaW5lOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy4kZ3V0dGVyTGF5ZXIuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZShlKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0dVVFRFUil9LGluaXRpYWxWYWx1ZTohMH0saFNjcm9sbEJhckFsd2F5c1Zpc2libGU6e3NldDpmdW5jdGlvbihlKXsoIXRoaXMuJGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlfHwhdGhpcy4kaG9yaXpTY3JvbGwpJiZ0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1NDUk9MTCl9LGluaXRpYWxWYWx1ZTohMX0sdlNjcm9sbEJhckFsd2F5c1Zpc2libGU6e3NldDpmdW5jdGlvbihlKXsoIXRoaXMuJHZTY3JvbGxCYXJBbHdheXNWaXNpYmxlfHwhdGhpcy4kdlNjcm9sbCkmJnRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfU0NST0xMKX0saW5pdGlhbFZhbHVlOiExfSxmb250U2l6ZTp7c2V0OmZ1bmN0aW9uKGUpe3R5cGVvZiBlPT1cIm51bWJlclwiJiYoZSs9XCJweFwiKSx0aGlzLmNvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1lLHRoaXMudXBkYXRlRm9udFNpemUoKX0saW5pdGlhbFZhbHVlOjEyfSxmb250RmFtaWx5OntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIuc3R5bGUuZm9udEZhbWlseT1lLHRoaXMudXBkYXRlRm9udFNpemUoKX19LG1heExpbmVzOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVGdWxsKCl9fSxtaW5MaW5lczp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJG1pbkxpbmVzPDU2Mjk0OTk1MzQyMTMxMXx8KHRoaXMuJG1pbkxpbmVzPTApLHRoaXMudXBkYXRlRnVsbCgpfX0sbWF4UGl4ZWxIZWlnaHQ6e3NldDpmdW5jdGlvbihlKXt0aGlzLnVwZGF0ZUZ1bGwoKX0saW5pdGlhbFZhbHVlOjB9LHNjcm9sbFBhc3RFbmQ6e3NldDpmdW5jdGlvbihlKXtlPStlfHwwO2lmKHRoaXMuJHNjcm9sbFBhc3RFbmQ9PWUpcmV0dXJuO3RoaXMuJHNjcm9sbFBhc3RFbmQ9ZSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1NDUk9MTCl9LGluaXRpYWxWYWx1ZTowLGhhbmRsZXNTZXQ6ITB9LGZpeGVkV2lkdGhHdXR0ZXI6e3NldDpmdW5jdGlvbihlKXt0aGlzLiRndXR0ZXJMYXllci4kZml4ZWRXaWR0aD0hIWUsdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpfX0sY3VzdG9tU2Nyb2xsYmFyOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy4kdXBkYXRlQ3VzdG9tU2Nyb2xsYmFyKGUpfSxpbml0aWFsVmFsdWU6ITF9LHRoZW1lOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXRUaGVtZShlKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRoZW1lSWR8fHRoaXMudGhlbWV9LGluaXRpYWxWYWx1ZTpcIi4vdGhlbWUvdGV4dG1hdGVcIixoYW5kbGVzU2V0OiEwfSxoYXNDc3NUcmFuc2Zvcm1zOnt9LHVzZVRleHRhcmVhRm9ySU1FOntpbml0aWFsVmFsdWU6IXcuaXNNb2JpbGUmJiF3LmlzSUV9fSksdC5WaXJ0dWFsUmVuZGVyZXI9U30pLGFjZS5kZWZpbmUoXCJhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL25ldFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCIsXCJhY2UvY29uZmlnXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB1KGUpe3ZhciB0PVwiaW1wb3J0U2NyaXB0cygnXCIraS5xdWFsaWZ5VVJMKGUpK1wiJyk7XCI7dHJ5e3JldHVybiBuZXcgQmxvYihbdF0se3R5cGU6XCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCJ9KX1jYXRjaChuKXt2YXIgcj13aW5kb3cuQmxvYkJ1aWxkZXJ8fHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlcnx8d2luZG93Lk1vekJsb2JCdWlsZGVyLHM9bmV3IHI7cmV0dXJuIHMuYXBwZW5kKHQpLHMuZ2V0QmxvYihcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIil9fWZ1bmN0aW9uIGEoZSl7aWYodHlwZW9mIFdvcmtlcj09XCJ1bmRlZmluZWRcIilyZXR1cm57cG9zdE1lc3NhZ2U6ZnVuY3Rpb24oKXt9LHRlcm1pbmF0ZTpmdW5jdGlvbigpe319O2lmKG8uZ2V0KFwibG9hZFdvcmtlckZyb21CbG9iXCIpKXt2YXIgdD11KGUpLG49d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTCxyPW4uY3JlYXRlT2JqZWN0VVJMKHQpO3JldHVybiBuZXcgV29ya2VyKHIpfXJldHVybiBuZXcgV29ya2VyKGUpfXZhciByPWUoXCIuLi9saWIvb29wXCIpLGk9ZShcIi4uL2xpYi9uZXRcIikscz1lKFwiLi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyLG89ZShcIi4uL2NvbmZpZ1wiKSxmPWZ1bmN0aW9uKGUpe2UucG9zdE1lc3NhZ2V8fChlPXRoaXMuJGNyZWF0ZVdvcmtlckZyb21PbGRDb25maWcuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0aGlzLiR3b3JrZXI9ZSx0aGlzLiRzZW5kRGVsdGFRdWV1ZT10aGlzLiRzZW5kRGVsdGFRdWV1ZS5iaW5kKHRoaXMpLHRoaXMuY2hhbmdlTGlzdGVuZXI9dGhpcy5jaGFuZ2VMaXN0ZW5lci5iaW5kKHRoaXMpLHRoaXMub25NZXNzYWdlPXRoaXMub25NZXNzYWdlLmJpbmQodGhpcyksdGhpcy5jYWxsYmFja0lkPTEsdGhpcy5jYWxsYmFja3M9e30sdGhpcy4kd29ya2VyLm9ubWVzc2FnZT10aGlzLm9uTWVzc2FnZX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxzKSx0aGlzLiRjcmVhdGVXb3JrZXJGcm9tT2xkQ29uZmlnPWZ1bmN0aW9uKHQsbixyLGkscyl7ZS5uYW1lVG9VcmwmJiFlLnRvVXJsJiYoZS50b1VybD1lLm5hbWVUb1VybCk7aWYoby5nZXQoXCJwYWNrYWdlZFwiKXx8IWUudG9VcmwpaT1pfHxvLm1vZHVsZVVybChuLFwid29ya2VyXCIpO2Vsc2V7dmFyIHU9dGhpcy4kbm9ybWFsaXplUGF0aDtpPWl8fHUoZS50b1VybChcImFjZS93b3JrZXIvd29ya2VyLmpzXCIsbnVsbCxcIl9cIikpO3ZhciBmPXt9O3QuZm9yRWFjaChmdW5jdGlvbih0KXtmW3RdPXUoZS50b1VybCh0LG51bGwsXCJfXCIpLnJlcGxhY2UoLyhcXC5qcyk/KFxcPy4qKT8kLyxcIlwiKSl9KX1yZXR1cm4gdGhpcy4kd29ya2VyPWEoaSkscyYmdGhpcy5zZW5kKFwiaW1wb3J0U2NyaXB0c1wiLHMpLHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7aW5pdDohMCx0bG5zOmYsbW9kdWxlOm4sY2xhc3NuYW1lOnJ9KSx0aGlzLiR3b3JrZXJ9LHRoaXMub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YTtzd2l0Y2godC50eXBlKXtjYXNlXCJldmVudFwiOnRoaXMuX3NpZ25hbCh0Lm5hbWUse2RhdGE6dC5kYXRhfSk7YnJlYWs7Y2FzZVwiY2FsbFwiOnZhciBuPXRoaXMuY2FsbGJhY2tzW3QuaWRdO24mJihuKHQuZGF0YSksZGVsZXRlIHRoaXMuY2FsbGJhY2tzW3QuaWRdKTticmVhaztjYXNlXCJlcnJvclwiOnRoaXMucmVwb3J0RXJyb3IodC5kYXRhKTticmVhaztjYXNlXCJsb2dcIjp3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2cmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsdC5kYXRhKX19LHRoaXMucmVwb3J0RXJyb3I9ZnVuY3Rpb24oZSl7d2luZG93LmNvbnNvbGUmJmNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IoZSl9LHRoaXMuJG5vcm1hbGl6ZVBhdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGkucXVhbGlmeVVSTChlKX0sdGhpcy50ZXJtaW5hdGU9ZnVuY3Rpb24oKXt0aGlzLl9zaWduYWwoXCJ0ZXJtaW5hdGVcIix7fSksdGhpcy5kZWx0YVF1ZXVlPW51bGwsdGhpcy4kd29ya2VyLnRlcm1pbmF0ZSgpLHRoaXMuJHdvcmtlci5vbmVycm9yPWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKX0sdGhpcy4kd29ya2VyPW51bGwsdGhpcy4kZG9jJiZ0aGlzLiRkb2Mub2ZmKFwiY2hhbmdlXCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy4kZG9jPW51bGx9LHRoaXMuc2VuZD1mdW5jdGlvbihlLHQpe3RoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZDplLGFyZ3M6dH0pfSx0aGlzLmNhbGw9ZnVuY3Rpb24oZSx0LG4pe2lmKG4pe3ZhciByPXRoaXMuY2FsbGJhY2tJZCsrO3RoaXMuY2FsbGJhY2tzW3JdPW4sdC5wdXNoKHIpfXRoaXMuc2VuZChlLHQpfSx0aGlzLmVtaXQ9ZnVuY3Rpb24oZSx0KXt0cnl7dC5kYXRhJiZ0LmRhdGEuZXJyJiYodC5kYXRhLmVycj17bWVzc2FnZTp0LmRhdGEuZXJyLm1lc3NhZ2Usc3RhY2s6dC5kYXRhLmVyci5zdGFjayxjb2RlOnQuZGF0YS5lcnIuY29kZX0pLHRoaXMuJHdvcmtlciYmdGhpcy4kd29ya2VyLnBvc3RNZXNzYWdlKHtldmVudDplLGRhdGE6e2RhdGE6dC5kYXRhfX0pfWNhdGNoKG4pe2NvbnNvbGUuZXJyb3Iobi5zdGFjayl9fSx0aGlzLmF0dGFjaFRvRG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dGhpcy4kZG9jJiZ0aGlzLnRlcm1pbmF0ZSgpLHRoaXMuJGRvYz1lLHRoaXMuY2FsbChcInNldFZhbHVlXCIsW2UuZ2V0VmFsdWUoKV0pLGUub24oXCJjaGFuZ2VcIix0aGlzLmNoYW5nZUxpc3RlbmVyLCEwKX0sdGhpcy5jaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbihlKXt0aGlzLmRlbHRhUXVldWV8fCh0aGlzLmRlbHRhUXVldWU9W10sc2V0VGltZW91dCh0aGlzLiRzZW5kRGVsdGFRdWV1ZSwwKSksZS5hY3Rpb249PVwiaW5zZXJ0XCI/dGhpcy5kZWx0YVF1ZXVlLnB1c2goZS5zdGFydCxlLmxpbmVzKTp0aGlzLmRlbHRhUXVldWUucHVzaChlLnN0YXJ0LGUuZW5kKX0sdGhpcy4kc2VuZERlbHRhUXVldWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRlbHRhUXVldWU7aWYoIWUpcmV0dXJuO3RoaXMuZGVsdGFRdWV1ZT1udWxsLGUubGVuZ3RoPjUwJiZlLmxlbmd0aD50aGlzLiRkb2MuZ2V0TGVuZ3RoKCk+PjE/dGhpcy5jYWxsKFwic2V0VmFsdWVcIixbdGhpcy4kZG9jLmdldFZhbHVlKCldKTp0aGlzLmVtaXQoXCJjaGFuZ2VcIix7ZGF0YTplfSl9fSkuY2FsbChmLnByb3RvdHlwZSk7dmFyIGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW51bGwsaT0hMSx1PU9iamVjdC5jcmVhdGUocyksYT1bXSxsPW5ldyBmKHttZXNzYWdlQnVmZmVyOmEsdGVybWluYXRlOmZ1bmN0aW9uKCl7fSxwb3N0TWVzc2FnZTpmdW5jdGlvbihlKXthLnB1c2goZSk7aWYoIXIpcmV0dXJuO2k/c2V0VGltZW91dChjKTpjKCl9fSk7bC5zZXRFbWl0U3luYz1mdW5jdGlvbihlKXtpPWV9O3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGU9YS5zaGlmdCgpO2UuY29tbWFuZD9yW2UuY29tbWFuZF0uYXBwbHkocixlLmFyZ3MpOmUuZXZlbnQmJnUuX3NpZ25hbChlLmV2ZW50LGUuZGF0YSl9O3JldHVybiB1LnBvc3RNZXNzYWdlPWZ1bmN0aW9uKGUpe2wub25NZXNzYWdlKHtkYXRhOmV9KX0sdS5jYWxsYmFjaz1mdW5jdGlvbihlLHQpe3RoaXMucG9zdE1lc3NhZ2Uoe3R5cGU6XCJjYWxsXCIsaWQ6dCxkYXRhOmV9KX0sdS5lbWl0PWZ1bmN0aW9uKGUsdCl7dGhpcy5wb3N0TWVzc2FnZSh7dHlwZTpcImV2ZW50XCIsbmFtZTplLGRhdGE6dH0pfSxvLmxvYWRNb2R1bGUoW1wid29ya2VyXCIsdF0sZnVuY3Rpb24oZSl7cj1uZXcgZVtuXSh1KTt3aGlsZShhLmxlbmd0aCljKCl9KSxsfTt0LlVJV29ya2VyQ2xpZW50PWwsdC5Xb3JrZXJDbGllbnQ9Zix0LmNyZWF0ZVdvcmtlcj1hfSksYWNlLmRlZmluZShcImFjZS9wbGFjZWhvbGRlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixcImFjZS9saWIvb29wXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi9yYW5nZVwiKS5SYW5nZSxpPWUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcixzPWUoXCIuL2xpYi9vb3BcIiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scixpLHMpe3ZhciBvPXRoaXM7dGhpcy5sZW5ndGg9dCx0aGlzLnNlc3Npb249ZSx0aGlzLmRvYz1lLmdldERvY3VtZW50KCksdGhpcy5tYWluQ2xhc3M9aSx0aGlzLm90aGVyc0NsYXNzPXMsdGhpcy4kb25VcGRhdGU9dGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpLHRoaXMuZG9jLm9uKFwiY2hhbmdlXCIsdGhpcy4kb25VcGRhdGUsITApLHRoaXMuJG90aGVycz1yLHRoaXMuJG9uQ3Vyc29yQ2hhbmdlPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe28ub25DdXJzb3JDaGFuZ2UoKX0pfSx0aGlzLiRwb3M9bjt2YXIgdT1lLmdldFVuZG9NYW5hZ2VyKCkuJHVuZG9TdGFja3x8ZS5nZXRVbmRvTWFuYWdlcigpLiR1bmRvc3RhY2t8fHtsZW5ndGg6LTF9O3RoaXMuJHVuZG9TdGFja0RlcHRoPXUubGVuZ3RoLHRoaXMuc2V0dXAoKSxlLnNlbGVjdGlvbi5vbihcImNoYW5nZUN1cnNvclwiLHRoaXMuJG9uQ3Vyc29yQ2hhbmdlKX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0dXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5kb2Msbj10aGlzLnNlc3Npb247dGhpcy5zZWxlY3Rpb25CZWZvcmU9bi5zZWxlY3Rpb24udG9KU09OKCksbi5zZWxlY3Rpb24uaW5NdWx0aVNlbGVjdE1vZGUmJm4uc2VsZWN0aW9uLnRvU2luZ2xlUmFuZ2UoKSx0aGlzLnBvcz10LmNyZWF0ZUFuY2hvcih0aGlzLiRwb3Mucm93LHRoaXMuJHBvcy5jb2x1bW4pO3ZhciBpPXRoaXMucG9zO2kuJGluc2VydFJpZ2h0PSEwLGkuZGV0YWNoKCksaS5tYXJrZXJJZD1uLmFkZE1hcmtlcihuZXcgcihpLnJvdyxpLmNvbHVtbixpLnJvdyxpLmNvbHVtbit0aGlzLmxlbmd0aCksdGhpcy5tYWluQ2xhc3MsbnVsbCwhMSksdGhpcy5vdGhlcnM9W10sdGhpcy4kb3RoZXJzLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHI9dC5jcmVhdGVBbmNob3Iobi5yb3csbi5jb2x1bW4pO3IuJGluc2VydFJpZ2h0PSEwLHIuZGV0YWNoKCksZS5vdGhlcnMucHVzaChyKX0pLG4uc2V0VW5kb1NlbGVjdCghMSl9LGUucHJvdG90eXBlLnNob3dPdGhlck1hcmtlcnM9ZnVuY3Rpb24oKXtpZih0aGlzLm90aGVyc0FjdGl2ZSlyZXR1cm47dmFyIGU9dGhpcy5zZXNzaW9uLHQ9dGhpczt0aGlzLm90aGVyc0FjdGl2ZT0hMCx0aGlzLm90aGVycy5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ubWFya2VySWQ9ZS5hZGRNYXJrZXIobmV3IHIobi5yb3csbi5jb2x1bW4sbi5yb3csbi5jb2x1bW4rdC5sZW5ndGgpLHQub3RoZXJzQ2xhc3MsbnVsbCwhMSl9KX0sZS5wcm90b3R5cGUuaGlkZU90aGVyTWFya2Vycz1mdW5jdGlvbigpe2lmKCF0aGlzLm90aGVyc0FjdGl2ZSlyZXR1cm47dGhpcy5vdGhlcnNBY3RpdmU9ITE7Zm9yKHZhciBlPTA7ZTx0aGlzLm90aGVycy5sZW5ndGg7ZSsrKXRoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIodGhpcy5vdGhlcnNbZV0ubWFya2VySWQpfSxlLnByb3RvdHlwZS5vblVwZGF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLiR1cGRhdGluZylyZXR1cm4gdGhpcy51cGRhdGVBbmNob3JzKGUpO3ZhciB0PWU7aWYodC5zdGFydC5yb3chPT10LmVuZC5yb3cpcmV0dXJuO2lmKHQuc3RhcnQucm93IT09dGhpcy5wb3Mucm93KXJldHVybjt0aGlzLiR1cGRhdGluZz0hMDt2YXIgbj1lLmFjdGlvbj09PVwiaW5zZXJ0XCI/dC5lbmQuY29sdW1uLXQuc3RhcnQuY29sdW1uOnQuc3RhcnQuY29sdW1uLXQuZW5kLmNvbHVtbixpPXQuc3RhcnQuY29sdW1uPj10aGlzLnBvcy5jb2x1bW4mJnQuc3RhcnQuY29sdW1uPD10aGlzLnBvcy5jb2x1bW4rdGhpcy5sZW5ndGgrMSxzPXQuc3RhcnQuY29sdW1uLXRoaXMucG9zLmNvbHVtbjt0aGlzLnVwZGF0ZUFuY2hvcnMoZSksaSYmKHRoaXMubGVuZ3RoKz1uKTtpZihpJiYhdGhpcy5zZXNzaW9uLiRmcm9tVW5kbylpZihlLmFjdGlvbj09PVwiaW5zZXJ0XCIpZm9yKHZhciBvPXRoaXMub3RoZXJzLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgdT10aGlzLm90aGVyc1tvXSxhPXtyb3c6dS5yb3csY29sdW1uOnUuY29sdW1uK3N9O3RoaXMuZG9jLmluc2VydE1lcmdlZExpbmVzKGEsZS5saW5lcyl9ZWxzZSBpZihlLmFjdGlvbj09PVwicmVtb3ZlXCIpZm9yKHZhciBvPXRoaXMub3RoZXJzLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgdT10aGlzLm90aGVyc1tvXSxhPXtyb3c6dS5yb3csY29sdW1uOnUuY29sdW1uK3N9O3RoaXMuZG9jLnJlbW92ZShuZXcgcihhLnJvdyxhLmNvbHVtbixhLnJvdyxhLmNvbHVtbi1uKSl9dGhpcy4kdXBkYXRpbmc9ITEsdGhpcy51cGRhdGVNYXJrZXJzKCl9LGUucHJvdG90eXBlLnVwZGF0ZUFuY2hvcnM9ZnVuY3Rpb24oZSl7dGhpcy5wb3Mub25DaGFuZ2UoZSk7Zm9yKHZhciB0PXRoaXMub3RoZXJzLmxlbmd0aDt0LS07KXRoaXMub3RoZXJzW3RdLm9uQ2hhbmdlKGUpO3RoaXMudXBkYXRlTWFya2VycygpfSxlLnByb3RvdHlwZS51cGRhdGVNYXJrZXJzPWZ1bmN0aW9uKCl7aWYodGhpcy4kdXBkYXRpbmcpcmV0dXJuO3ZhciBlPXRoaXMsdD10aGlzLnNlc3Npb24sbj1mdW5jdGlvbihuLGkpe3QucmVtb3ZlTWFya2VyKG4ubWFya2VySWQpLG4ubWFya2VySWQ9dC5hZGRNYXJrZXIobmV3IHIobi5yb3csbi5jb2x1bW4sbi5yb3csbi5jb2x1bW4rZS5sZW5ndGgpLGksbnVsbCwhMSl9O24odGhpcy5wb3MsdGhpcy5tYWluQ2xhc3MpO2Zvcih2YXIgaT10aGlzLm90aGVycy5sZW5ndGg7aS0tOyluKHRoaXMub3RoZXJzW2ldLHRoaXMub3RoZXJzQ2xhc3MpfSxlLnByb3RvdHlwZS5vbkN1cnNvckNoYW5nZT1mdW5jdGlvbihlKXtpZih0aGlzLiR1cGRhdGluZ3x8IXRoaXMuc2Vzc2lvbilyZXR1cm47dmFyIHQ9dGhpcy5zZXNzaW9uLnNlbGVjdGlvbi5nZXRDdXJzb3IoKTt0LnJvdz09PXRoaXMucG9zLnJvdyYmdC5jb2x1bW4+PXRoaXMucG9zLmNvbHVtbiYmdC5jb2x1bW48PXRoaXMucG9zLmNvbHVtbit0aGlzLmxlbmd0aD8odGhpcy5zaG93T3RoZXJNYXJrZXJzKCksdGhpcy5fZW1pdChcImN1cnNvckVudGVyXCIsZSkpOih0aGlzLmhpZGVPdGhlck1hcmtlcnMoKSx0aGlzLl9lbWl0KFwiY3Vyc29yTGVhdmVcIixlKSl9LGUucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIodGhpcy5wb3MmJnRoaXMucG9zLm1hcmtlcklkKSx0aGlzLmhpZGVPdGhlck1hcmtlcnMoKSx0aGlzLmRvYy5vZmYoXCJjaGFuZ2VcIix0aGlzLiRvblVwZGF0ZSksdGhpcy5zZXNzaW9uLnNlbGVjdGlvbi5vZmYoXCJjaGFuZ2VDdXJzb3JcIix0aGlzLiRvbkN1cnNvckNoYW5nZSksdGhpcy5zZXNzaW9uLnNldFVuZG9TZWxlY3QoITApLHRoaXMuc2Vzc2lvbj1udWxsfSxlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXtpZih0aGlzLiR1bmRvU3RhY2tEZXB0aD09PS0xKXJldHVybjt2YXIgZT10aGlzLnNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKSx0PShlLiR1bmRvU3RhY2t8fGUuJHVuZG9zdGFjaykubGVuZ3RoLXRoaXMuJHVuZG9TdGFja0RlcHRoO2Zvcih2YXIgbj0wO248dDtuKyspZS51bmRvKHRoaXMuc2Vzc2lvbiwhMCk7dGhpcy5zZWxlY3Rpb25CZWZvcmUmJnRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZnJvbUpTT04odGhpcy5zZWxlY3Rpb25CZWZvcmUpfSxlfSgpO3MuaW1wbGVtZW50KG8ucHJvdG90eXBlLGkpLHQuUGxhY2VIb2xkZXI9b30pLGFjZS5kZWZpbmUoXCJhY2UvbW91c2UvbXVsdGlfc2VsZWN0X2hhbmRsZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9saWIvdXNlcmFnZW50XCJdLGZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGUucm93PT10LnJvdyYmZS5jb2x1bW49PXQuY29sdW1ufWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZS5kb21FdmVudCxuPXQuYWx0S2V5LG89dC5zaGlmdEtleSx1PXQuY3RybEtleSxhPWUuZ2V0QWNjZWxLZXkoKSxmPWUuZ2V0QnV0dG9uKCk7dSYmaS5pc01hYyYmKGY9dC5idXR0b24pO2lmKGUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlJiZmPT0yKXtlLmVkaXRvci50ZXh0SW5wdXQub25Db250ZXh0TWVudShlLmRvbUV2ZW50KTtyZXR1cm59aWYoIXUmJiFuJiYhYSl7Zj09PTAmJmUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlJiZlLmVkaXRvci5leGl0TXVsdGlTZWxlY3RNb2RlKCk7cmV0dXJufWlmKGYhPT0wKXJldHVybjt2YXIgbD1lLmVkaXRvcixjPWwuc2VsZWN0aW9uLGg9bC5pbk11bHRpU2VsZWN0TW9kZSxwPWUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLGQ9Yy5nZXRDdXJzb3IoKSx2PWUuaW5TZWxlY3Rpb24oKXx8Yy5pc0VtcHR5KCkmJnMocCxkKSxtPWUueCxnPWUueSx5PWZ1bmN0aW9uKGUpe209ZS5jbGllbnRYLGc9ZS5jbGllbnRZfSxiPWwuc2Vzc2lvbix3PWwucmVuZGVyZXIucGl4ZWxUb1NjcmVlbkNvb3JkaW5hdGVzKG0sZyksRT13LFM7aWYobC4kbW91c2VIYW5kbGVyLiRlbmFibGVKdW1wVG9EZWYpdSYmbnx8YSYmbj9TPW8/XCJibG9ja1wiOlwiYWRkXCI6biYmbC4kYmxvY2tTZWxlY3RFbmFibGVkJiYoUz1cImJsb2NrXCIpO2Vsc2UgaWYoYSYmIW4pe1M9XCJhZGRcIjtpZighaCYmbylyZXR1cm59ZWxzZSBuJiZsLiRibG9ja1NlbGVjdEVuYWJsZWQmJihTPVwiYmxvY2tcIik7UyYmaS5pc01hYyYmdC5jdHJsS2V5JiZsLiRtb3VzZUhhbmRsZXIuY2FuY2VsQ29udGV4dE1lbnUoKTtpZihTPT1cImFkZFwiKXtpZighaCYmdilyZXR1cm47aWYoIWgpe3ZhciB4PWMudG9PcmllbnRlZFJhbmdlKCk7bC5hZGRTZWxlY3Rpb25NYXJrZXIoeCl9dmFyIFQ9Yy5yYW5nZUxpc3QucmFuZ2VBdFBvaW50KHApO2wuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZT0hMCxvJiYoVD1udWxsLHg9Yy5yYW5nZXNbMF18fHgsbC5yZW1vdmVTZWxlY3Rpb25NYXJrZXIoeCkpLGwub25jZShcIm1vdXNldXBcIixmdW5jdGlvbigpe3ZhciBlPWMudG9PcmllbnRlZFJhbmdlKCk7VCYmZS5pc0VtcHR5KCkmJnMoVC5jdXJzb3IsZS5jdXJzb3IpP2Muc3Vic3RyYWN0UG9pbnQoZS5jdXJzb3IpOihvP2Muc3Vic3RyYWN0UG9pbnQoeC5jdXJzb3IpOngmJihsLnJlbW92ZVNlbGVjdGlvbk1hcmtlcih4KSxjLmFkZFJhbmdlKHgpKSxjLmFkZFJhbmdlKGUpKSxsLmluVmlydHVhbFNlbGVjdGlvbk1vZGU9ITF9KX1lbHNlIGlmKFM9PVwiYmxvY2tcIil7ZS5zdG9wKCksbC5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlPSEwO3ZhciBOLEM9W10saz1mdW5jdGlvbigpe3ZhciBlPWwucmVuZGVyZXIucGl4ZWxUb1NjcmVlbkNvb3JkaW5hdGVzKG0sZyksdD1iLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihlLnJvdyxlLmNvbHVtbixlLm9mZnNldFgpO2lmKHMoRSxlKSYmcyh0LGMubGVhZCkpcmV0dXJuO0U9ZSxsLnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbih0KSxsLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCksbC5yZW1vdmVTZWxlY3Rpb25NYXJrZXJzKEMpLEM9Yy5yZWN0YW5ndWxhclJhbmdlQmxvY2soRSx3KSxsLiRtb3VzZUhhbmRsZXIuJGNsaWNrU2VsZWN0aW9uJiZDLmxlbmd0aD09MSYmQ1swXS5pc0VtcHR5KCkmJihDWzBdPWwuJG1vdXNlSGFuZGxlci4kY2xpY2tTZWxlY3Rpb24uY2xvbmUoKSksQy5mb3JFYWNoKGwuYWRkU2VsZWN0aW9uTWFya2VyLGwpLGwudXBkYXRlU2VsZWN0aW9uTWFya2VycygpfTtoJiYhYT9jLnRvU2luZ2xlUmFuZ2UoKTohaCYmYSYmKE49Yy50b09yaWVudGVkUmFuZ2UoKSxsLmFkZFNlbGVjdGlvbk1hcmtlcihOKSksbz93PWIuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKGMubGVhZCk6Yy5tb3ZlVG9Qb3NpdGlvbihwKSxFPXtyb3c6LTEsY29sdW1uOi0xfTt2YXIgTD1mdW5jdGlvbihlKXtrKCksY2xlYXJJbnRlcnZhbChPKSxsLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnMoQyksQy5sZW5ndGh8fChDPVtjLnRvT3JpZW50ZWRSYW5nZSgpXSksTiYmKGwucmVtb3ZlU2VsZWN0aW9uTWFya2VyKE4pLGMudG9TaW5nbGVSYW5nZShOKSk7Zm9yKHZhciB0PTA7dDxDLmxlbmd0aDt0KyspYy5hZGRSYW5nZShDW3RdKTtsLmluVmlydHVhbFNlbGVjdGlvbk1vZGU9ITEsbC4kbW91c2VIYW5kbGVyLiRjbGlja1NlbGVjdGlvbj1udWxsfSxBPWs7ci5jYXB0dXJlKGwuY29udGFpbmVyLHksTCk7dmFyIE89c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtBKCl9LDIwKTtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpfX12YXIgcj1lKFwiLi4vbGliL2V2ZW50XCIpLGk9ZShcIi4uL2xpYi91c2VyYWdlbnRcIik7dC5vbk1vdXNlRG93bj1vfSksYWNlLmRlZmluZShcImFjZS9jb21tYW5kcy9tdWx0aV9zZWxlY3RfY29tbWFuZHNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIl0sZnVuY3Rpb24oZSx0LG4pe3QuZGVmYXVsdENvbW1hbmRzPVt7bmFtZTpcImFkZEN1cnNvckFib3ZlXCIsZGVzY3JpcHRpb246XCJBZGQgY3Vyc29yIGFib3ZlXCIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdE1vcmVMaW5lcygtMSl9LGJpbmRLZXk6e3dpbjpcIkN0cmwtQWx0LVVwXCIsbWFjOlwiQ3RybC1BbHQtVXBcIn0sc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJhZGRDdXJzb3JCZWxvd1wiLGRlc2NyaXB0aW9uOlwiQWRkIGN1cnNvciBiZWxvd1wiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlTGluZXMoMSl9LGJpbmRLZXk6e3dpbjpcIkN0cmwtQWx0LURvd25cIixtYWM6XCJDdHJsLUFsdC1Eb3duXCJ9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiYWRkQ3Vyc29yQWJvdmVTa2lwQ3VycmVudFwiLGRlc2NyaXB0aW9uOlwiQWRkIGN1cnNvciBhYm92ZSAoc2tpcCBjdXJyZW50KVwiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlTGluZXMoLTEsITApfSxiaW5kS2V5Ont3aW46XCJDdHJsLUFsdC1TaGlmdC1VcFwiLG1hYzpcIkN0cmwtQWx0LVNoaWZ0LVVwXCJ9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwiYWRkQ3Vyc29yQmVsb3dTa2lwQ3VycmVudFwiLGRlc2NyaXB0aW9uOlwiQWRkIGN1cnNvciBiZWxvdyAoc2tpcCBjdXJyZW50KVwiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlTGluZXMoMSwhMCl9LGJpbmRLZXk6e3dpbjpcIkN0cmwtQWx0LVNoaWZ0LURvd25cIixtYWM6XCJDdHJsLUFsdC1TaGlmdC1Eb3duXCJ9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9LHtuYW1lOlwic2VsZWN0TW9yZUJlZm9yZVwiLGRlc2NyaXB0aW9uOlwiU2VsZWN0IG1vcmUgYmVmb3JlXCIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdE1vcmUoLTEpfSxiaW5kS2V5Ont3aW46XCJDdHJsLUFsdC1MZWZ0XCIsbWFjOlwiQ3RybC1BbHQtTGVmdFwifSxzY3JvbGxJbnRvVmlldzpcImN1cnNvclwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcInNlbGVjdE1vcmVBZnRlclwiLGRlc2NyaXB0aW9uOlwiU2VsZWN0IG1vcmUgYWZ0ZXJcIixleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0TW9yZSgxKX0sYmluZEtleTp7d2luOlwiQ3RybC1BbHQtUmlnaHRcIixtYWM6XCJDdHJsLUFsdC1SaWdodFwifSxzY3JvbGxJbnRvVmlldzpcImN1cnNvclwiLHJlYWRPbmx5OiEwfSx7bmFtZTpcInNlbGVjdE5leHRCZWZvcmVcIixkZXNjcmlwdGlvbjpcIlNlbGVjdCBuZXh0IGJlZm9yZVwiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlKC0xLCEwKX0sYmluZEtleTp7d2luOlwiQ3RybC1BbHQtU2hpZnQtTGVmdFwiLG1hYzpcIkN0cmwtQWx0LVNoaWZ0LUxlZnRcIn0sc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJzZWxlY3ROZXh0QWZ0ZXJcIixkZXNjcmlwdGlvbjpcIlNlbGVjdCBuZXh0IGFmdGVyXCIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdE1vcmUoMSwhMCl9LGJpbmRLZXk6e3dpbjpcIkN0cmwtQWx0LVNoaWZ0LVJpZ2h0XCIsbWFjOlwiQ3RybC1BbHQtU2hpZnQtUmlnaHRcIn0sc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIixyZWFkT25seTohMH0se25hbWU6XCJ0b2dnbGVTcGxpdFNlbGVjdGlvbkludG9MaW5lc1wiLGRlc2NyaXB0aW9uOlwiU3BsaXQgc2VsZWN0aW9uIGludG8gbGluZXNcIixleGVjOmZ1bmN0aW9uKGUpe2UubXVsdGlTZWxlY3QucmFuZ2VDb3VudD4xP2UubXVsdGlTZWxlY3Quam9pblNlbGVjdGlvbnMoKTplLm11bHRpU2VsZWN0LnNwbGl0SW50b0xpbmVzKCl9LGJpbmRLZXk6e3dpbjpcIkN0cmwtQWx0LUxcIixtYWM6XCJDdHJsLUFsdC1MXCJ9LHJlYWRPbmx5OiEwfSx7bmFtZTpcInNwbGl0U2VsZWN0aW9uSW50b0xpbmVzXCIsZGVzY3JpcHRpb246XCJTcGxpdCBpbnRvIGxpbmVzXCIsZXhlYzpmdW5jdGlvbihlKXtlLm11bHRpU2VsZWN0LnNwbGl0SW50b0xpbmVzKCl9LHJlYWRPbmx5OiEwfSx7bmFtZTpcImFsaWduQ3Vyc29yc1wiLGRlc2NyaXB0aW9uOlwiQWxpZ24gY3Vyc29yc1wiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5hbGlnbkN1cnNvcnMoKX0sYmluZEtleTp7d2luOlwiQ3RybC1BbHQtQVwiLG1hYzpcIkN0cmwtQWx0LUFcIn0sc2Nyb2xsSW50b1ZpZXc6XCJjdXJzb3JcIn0se25hbWU6XCJmaW5kQWxsXCIsZGVzY3JpcHRpb246XCJGaW5kIGFsbFwiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5maW5kQWxsKCl9LGJpbmRLZXk6e3dpbjpcIkN0cmwtQWx0LUtcIixtYWM6XCJDdHJsLUFsdC1HXCJ9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITB9XSx0Lm11bHRpU2VsZWN0Q29tbWFuZHM9W3tuYW1lOlwic2luZ2xlU2VsZWN0aW9uXCIsZGVzY3JpcHRpb246XCJTaW5nbGUgc2VsZWN0aW9uXCIsYmluZEtleTpcImVzY1wiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5leGl0TXVsdGlTZWxlY3RNb2RlKCl9LHNjcm9sbEludG9WaWV3OlwiY3Vyc29yXCIscmVhZE9ubHk6ITAsaXNBdmFpbGFibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuaW5NdWx0aVNlbGVjdE1vZGV9fV07dmFyIHI9ZShcIi4uL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiKS5IYXNoSGFuZGxlcjt0LmtleWJvYXJkSGFuZGxlcj1uZXcgcih0Lm11bHRpU2VsZWN0Q29tbWFuZHMpfSksYWNlLmRlZmluZShcImFjZS9tdWx0aV9zZWxlY3RcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZV9saXN0XCIsXCJhY2UvcmFuZ2VcIixcImFjZS9zZWxlY3Rpb25cIixcImFjZS9tb3VzZS9tdWx0aV9zZWxlY3RfaGFuZGxlclwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvY29tbWFuZHMvbXVsdGlfc2VsZWN0X2NvbW1hbmRzXCIsXCJhY2Uvc2VhcmNoXCIsXCJhY2UvZWRpdF9zZXNzaW9uXCIsXCJhY2UvZWRpdG9yXCIsXCJhY2UvY29uZmlnXCJdLGZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBoKGUsdCxuKXtyZXR1cm4gYy4kb3B0aW9ucy53cmFwPSEwLGMuJG9wdGlvbnMubmVlZGxlPXQsYy4kb3B0aW9ucy5iYWNrd2FyZHM9bj09LTEsYy5maW5kKGUpfWZ1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZS5yb3c9PXQucm93JiZlLmNvbHVtbj09dC5jb2x1bW59ZnVuY3Rpb24gbShlKXtpZihlLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZSlyZXR1cm47ZS4kb25BZGRSYW5nZT1lLiRvbkFkZFJhbmdlLmJpbmQoZSksZS4kb25SZW1vdmVSYW5nZT1lLiRvblJlbW92ZVJhbmdlLmJpbmQoZSksZS4kb25NdWx0aVNlbGVjdD1lLiRvbk11bHRpU2VsZWN0LmJpbmQoZSksZS4kb25TaW5nbGVTZWxlY3Q9ZS4kb25TaW5nbGVTZWxlY3QuYmluZChlKSxlLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZT10Lm9uU2Vzc2lvbkNoYW5nZS5iaW5kKGUpLGUuJGNoZWNrTXVsdGlzZWxlY3RDaGFuZ2U9ZS4kY2hlY2tNdWx0aXNlbGVjdENoYW5nZS5iaW5kKGUpLGUuJG11bHRpc2VsZWN0T25TZXNzaW9uQ2hhbmdlKGUpLGUub24oXCJjaGFuZ2VTZXNzaW9uXCIsZS4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2UpLGUub24oXCJtb3VzZWRvd25cIixvKSxlLmNvbW1hbmRzLmFkZENvbW1hbmRzKGYuZGVmYXVsdENvbW1hbmRzKSxnKGUpfWZ1bmN0aW9uIGcoZSl7ZnVuY3Rpb24gcih0KXtuJiYoZS5yZW5kZXJlci5zZXRNb3VzZUN1cnNvcihcIlwiKSxuPSExKX1pZighZS50ZXh0SW5wdXQpcmV0dXJuO3ZhciB0PWUudGV4dElucHV0LmdldEVsZW1lbnQoKSxuPSExO3UuYWRkTGlzdGVuZXIodCxcImtleWRvd25cIixmdW5jdGlvbih0KXt2YXIgaT10LmtleUNvZGU9PTE4JiYhKHQuY3RybEtleXx8dC5zaGlmdEtleXx8dC5tZXRhS2V5KTtlLiRibG9ja1NlbGVjdEVuYWJsZWQmJmk/bnx8KGUucmVuZGVyZXIuc2V0TW91c2VDdXJzb3IoXCJjcm9zc2hhaXJcIiksbj0hMCk6biYmcigpfSxlKSx1LmFkZExpc3RlbmVyKHQsXCJrZXl1cFwiLHIsZSksdS5hZGRMaXN0ZW5lcih0LFwiYmx1clwiLHIsZSl9dmFyIHI9ZShcIi4vcmFuZ2VfbGlzdFwiKS5SYW5nZUxpc3QsaT1lKFwiLi9yYW5nZVwiKS5SYW5nZSxzPWUoXCIuL3NlbGVjdGlvblwiKS5TZWxlY3Rpb24sbz1lKFwiLi9tb3VzZS9tdWx0aV9zZWxlY3RfaGFuZGxlclwiKS5vbk1vdXNlRG93bix1PWUoXCIuL2xpYi9ldmVudFwiKSxhPWUoXCIuL2xpYi9sYW5nXCIpLGY9ZShcIi4vY29tbWFuZHMvbXVsdGlfc2VsZWN0X2NvbW1hbmRzXCIpO3QuY29tbWFuZHM9Zi5kZWZhdWx0Q29tbWFuZHMuY29uY2F0KGYubXVsdGlTZWxlY3RDb21tYW5kcyk7dmFyIGw9ZShcIi4vc2VhcmNoXCIpLlNlYXJjaCxjPW5ldyBsLHA9ZShcIi4vZWRpdF9zZXNzaW9uXCIpLkVkaXRTZXNzaW9uOyhmdW5jdGlvbigpe3RoaXMuZ2V0U2VsZWN0aW9uTWFya2Vycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzZWxlY3Rpb25NYXJrZXJzfX0pLmNhbGwocC5wcm90b3R5cGUpLGZ1bmN0aW9uKCl7dGhpcy5yYW5nZXM9bnVsbCx0aGlzLnJhbmdlTGlzdD1udWxsLHRoaXMuYWRkUmFuZ2U9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoIXRoaXMuaW5NdWx0aVNlbGVjdE1vZGUmJnRoaXMucmFuZ2VDb3VudD09PTApe3ZhciBuPXRoaXMudG9PcmllbnRlZFJhbmdlKCk7dGhpcy5yYW5nZUxpc3QuYWRkKG4pLHRoaXMucmFuZ2VMaXN0LmFkZChlKTtpZih0aGlzLnJhbmdlTGlzdC5yYW5nZXMubGVuZ3RoIT0yKXJldHVybiB0aGlzLnJhbmdlTGlzdC5yZW1vdmVBbGwoKSx0fHx0aGlzLmZyb21PcmllbnRlZFJhbmdlKGUpO3RoaXMucmFuZ2VMaXN0LnJlbW92ZUFsbCgpLHRoaXMucmFuZ2VMaXN0LmFkZChuKSx0aGlzLiRvbkFkZFJhbmdlKG4pfWUuY3Vyc29yfHwoZS5jdXJzb3I9ZS5lbmQpO3ZhciByPXRoaXMucmFuZ2VMaXN0LmFkZChlKTtyZXR1cm4gdGhpcy4kb25BZGRSYW5nZShlKSxyLmxlbmd0aCYmdGhpcy4kb25SZW1vdmVSYW5nZShyKSx0aGlzLnJhbmdlQ291bnQ+MSYmIXRoaXMuaW5NdWx0aVNlbGVjdE1vZGUmJih0aGlzLl9zaWduYWwoXCJtdWx0aVNlbGVjdFwiKSx0aGlzLmluTXVsdGlTZWxlY3RNb2RlPSEwLHRoaXMuc2Vzc2lvbi4kdW5kb1NlbGVjdD0hMSx0aGlzLnJhbmdlTGlzdC5hdHRhY2godGhpcy5zZXNzaW9uKSksdHx8dGhpcy5mcm9tT3JpZW50ZWRSYW5nZShlKX0sdGhpcy50b1NpbmdsZVJhbmdlPWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5yYW5nZXNbMF07dmFyIHQ9dGhpcy5yYW5nZUxpc3QucmVtb3ZlQWxsKCk7dC5sZW5ndGgmJnRoaXMuJG9uUmVtb3ZlUmFuZ2UodCksZSYmdGhpcy5mcm9tT3JpZW50ZWRSYW5nZShlKX0sdGhpcy5zdWJzdHJhY3RQb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnJhbmdlTGlzdC5zdWJzdHJhY3RQb2ludChlKTtpZih0KXJldHVybiB0aGlzLiRvblJlbW92ZVJhbmdlKHQpLHRbMF19LHRoaXMubWVyZ2VPdmVybGFwcGluZ1Jhbmdlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmFuZ2VMaXN0Lm1lcmdlKCk7ZS5sZW5ndGgmJnRoaXMuJG9uUmVtb3ZlUmFuZ2UoZSl9LHRoaXMuJG9uQWRkUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5yYW5nZUNvdW50PXRoaXMucmFuZ2VMaXN0LnJhbmdlcy5sZW5ndGgsdGhpcy5yYW5nZXMudW5zaGlmdChlKSx0aGlzLl9zaWduYWwoXCJhZGRSYW5nZVwiLHtyYW5nZTplfSl9LHRoaXMuJG9uUmVtb3ZlUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5yYW5nZUNvdW50PXRoaXMucmFuZ2VMaXN0LnJhbmdlcy5sZW5ndGg7aWYodGhpcy5yYW5nZUNvdW50PT0xJiZ0aGlzLmluTXVsdGlTZWxlY3RNb2RlKXt2YXIgdD10aGlzLnJhbmdlTGlzdC5yYW5nZXMucG9wKCk7ZS5wdXNoKHQpLHRoaXMucmFuZ2VDb3VudD0wfWZvcih2YXIgbj1lLmxlbmd0aDtuLS07KXt2YXIgcj10aGlzLnJhbmdlcy5pbmRleE9mKGVbbl0pO3RoaXMucmFuZ2VzLnNwbGljZShyLDEpfXRoaXMuX3NpZ25hbChcInJlbW92ZVJhbmdlXCIse3JhbmdlczplfSksdGhpcy5yYW5nZUNvdW50PT09MCYmdGhpcy5pbk11bHRpU2VsZWN0TW9kZSYmKHRoaXMuaW5NdWx0aVNlbGVjdE1vZGU9ITEsdGhpcy5fc2lnbmFsKFwic2luZ2xlU2VsZWN0XCIpLHRoaXMuc2Vzc2lvbi4kdW5kb1NlbGVjdD0hMCx0aGlzLnJhbmdlTGlzdC5kZXRhY2godGhpcy5zZXNzaW9uKSksdD10fHx0aGlzLnJhbmdlc1swXSx0JiYhdC5pc0VxdWFsKHRoaXMuZ2V0UmFuZ2UoKSkmJnRoaXMuZnJvbU9yaWVudGVkUmFuZ2UodCl9LHRoaXMuJGluaXRSYW5nZUxpc3Q9ZnVuY3Rpb24oKXtpZih0aGlzLnJhbmdlTGlzdClyZXR1cm47dGhpcy5yYW5nZUxpc3Q9bmV3IHIsdGhpcy5yYW5nZXM9W10sdGhpcy5yYW5nZUNvdW50PTB9LHRoaXMuZ2V0QWxsUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VDb3VudD90aGlzLnJhbmdlTGlzdC5yYW5nZXMuY29uY2F0KCk6W3RoaXMuZ2V0UmFuZ2UoKV19LHRoaXMuc3BsaXRJbnRvTGluZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJhbmdlcy5sZW5ndGg/dGhpcy5yYW5nZXM6W3RoaXMuZ2V0UmFuZ2UoKV0sdD1bXTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXSxzPXIuc3RhcnQucm93LG89ci5lbmQucm93O2lmKHM9PT1vKXQucHVzaChyLmNsb25lKCkpO2Vsc2V7dC5wdXNoKG5ldyBpKHMsci5zdGFydC5jb2x1bW4scyx0aGlzLnNlc3Npb24uZ2V0TGluZShzKS5sZW5ndGgpKTt3aGlsZSgrK3M8byl0LnB1c2godGhpcy5nZXRMaW5lUmFuZ2UocywhMCkpO3QucHVzaChuZXcgaShvLDAsbyxyLmVuZC5jb2x1bW4pKX1uPT0wJiYhdGhpcy5pc0JhY2t3YXJkcygpJiYodD10LnJldmVyc2UoKSl9dGhpcy50b1NpbmdsZVJhbmdlKCk7Zm9yKHZhciBuPXQubGVuZ3RoO24tLTspdGhpcy5hZGRSYW5nZSh0W25dKX0sdGhpcy5qb2luU2VsZWN0aW9ucz1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmFuZ2VMaXN0LnJhbmdlcyx0PWVbZS5sZW5ndGgtMV0sbj1pLmZyb21Qb2ludHMoZVswXS5zdGFydCx0LmVuZCk7dGhpcy50b1NpbmdsZVJhbmdlKCksdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShuLHQuY3Vyc29yPT10LnN0YXJ0KX0sdGhpcy50b2dnbGVCbG9ja1NlbGVjdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMucmFuZ2VDb3VudD4xKXt2YXIgZT10aGlzLnJhbmdlTGlzdC5yYW5nZXMsdD1lW2UubGVuZ3RoLTFdLG49aS5mcm9tUG9pbnRzKGVbMF0uc3RhcnQsdC5lbmQpO3RoaXMudG9TaW5nbGVSYW5nZSgpLHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2Uobix0LmN1cnNvcj09dC5zdGFydCl9ZWxzZXt2YXIgcj10aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuY3Vyc29yKSxzPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5hbmNob3IpLG89dGhpcy5yZWN0YW5ndWxhclJhbmdlQmxvY2socixzKTtvLmZvckVhY2godGhpcy5hZGRSYW5nZSx0aGlzKX19LHRoaXMucmVjdGFuZ3VsYXJSYW5nZUJsb2NrPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXSxzPWUuY29sdW1uPHQuY29sdW1uO2lmKHMpdmFyIG89ZS5jb2x1bW4sdT10LmNvbHVtbixhPWUub2Zmc2V0WCxmPXQub2Zmc2V0WDtlbHNlIHZhciBvPXQuY29sdW1uLHU9ZS5jb2x1bW4sYT10Lm9mZnNldFgsZj1lLm9mZnNldFg7dmFyIGw9ZS5yb3c8dC5yb3c7aWYobCl2YXIgYz1lLnJvdyxoPXQucm93O2Vsc2UgdmFyIGM9dC5yb3csaD1lLnJvdztvPDAmJihvPTApLGM8MCYmKGM9MCksYz09aCYmKG49ITApO3ZhciBwO2Zvcih2YXIgZD1jO2Q8PWg7ZCsrKXt2YXIgbT1pLmZyb21Qb2ludHModGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihkLG8sYSksdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihkLHUsZikpO2lmKG0uaXNFbXB0eSgpKXtpZihwJiZ2KG0uZW5kLHApKWJyZWFrO3A9bS5lbmR9bS5jdXJzb3I9cz9tLnN0YXJ0Om0uZW5kLHIucHVzaChtKX1sJiZyLnJldmVyc2UoKTtpZighbil7dmFyIGc9ci5sZW5ndGgtMTt3aGlsZShyW2ddLmlzRW1wdHkoKSYmZz4wKWctLTtpZihnPjApe3ZhciB5PTA7d2hpbGUoclt5XS5pc0VtcHR5KCkpeSsrfWZvcih2YXIgYj1nO2I+PXk7Yi0tKXJbYl0uaXNFbXB0eSgpJiZyLnNwbGljZShiLDEpfXJldHVybiByfX0uY2FsbChzLnByb3RvdHlwZSk7dmFyIGQ9ZShcIi4vZWRpdG9yXCIpLkVkaXRvcjsoZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVNlbGVjdGlvbk1hcmtlcnM9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpLHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKX0sdGhpcy5hZGRTZWxlY3Rpb25NYXJrZXI9ZnVuY3Rpb24oZSl7ZS5jdXJzb3J8fChlLmN1cnNvcj1lLmVuZCk7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb25TdHlsZSgpO3JldHVybiBlLm1hcmtlcj10aGlzLnNlc3Npb24uYWRkTWFya2VyKGUsXCJhY2Vfc2VsZWN0aW9uXCIsdCksdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLnB1c2goZSksdGhpcy5zZXNzaW9uLnNlbGVjdGlvbk1hcmtlckNvdW50PXRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2Vycy5sZW5ndGgsZX0sdGhpcy5yZW1vdmVTZWxlY3Rpb25NYXJrZXI9ZnVuY3Rpb24oZSl7aWYoIWUubWFya2VyKXJldHVybjt0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKGUubWFya2VyKTt2YXIgdD10aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMuaW5kZXhPZihlKTt0IT0tMSYmdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLnNwbGljZSh0LDEpLHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb25NYXJrZXJDb3VudD10aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMubGVuZ3RofSx0aGlzLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzO2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KXt2YXIgcj1lW25dO2lmKCFyLm1hcmtlciljb250aW51ZTt0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKHIubWFya2VyKTt2YXIgaT10LmluZGV4T2Yocik7aSE9LTEmJnQuc3BsaWNlKGksMSl9dGhpcy5zZXNzaW9uLnNlbGVjdGlvbk1hcmtlckNvdW50PXQubGVuZ3RofSx0aGlzLiRvbkFkZFJhbmdlPWZ1bmN0aW9uKGUpe3RoaXMuYWRkU2VsZWN0aW9uTWFya2VyKGUucmFuZ2UpLHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCksdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpfSx0aGlzLiRvblJlbW92ZVJhbmdlPWZ1bmN0aW9uKGUpe3RoaXMucmVtb3ZlU2VsZWN0aW9uTWFya2VycyhlLnJhbmdlcyksdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCl9LHRoaXMuJG9uTXVsdGlTZWxlY3Q9ZnVuY3Rpb24oZSl7aWYodGhpcy5pbk11bHRpU2VsZWN0TW9kZSlyZXR1cm47dGhpcy5pbk11bHRpU2VsZWN0TW9kZT0hMCx0aGlzLnNldFN0eWxlKFwiYWNlX211bHRpc2VsZWN0XCIpLHRoaXMua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIoZi5rZXlib2FyZEhhbmRsZXIpLHRoaXMuY29tbWFuZHMuc2V0RGVmYXVsdEhhbmRsZXIoXCJleGVjXCIsdGhpcy4kb25NdWx0aVNlbGVjdEV4ZWMpLHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCksdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpfSx0aGlzLiRvblNpbmdsZVNlbGVjdD1mdW5jdGlvbihlKXtpZih0aGlzLnNlc3Npb24ubXVsdGlTZWxlY3QuaW5WaXJ0dWFsTW9kZSlyZXR1cm47dGhpcy5pbk11bHRpU2VsZWN0TW9kZT0hMSx0aGlzLnVuc2V0U3R5bGUoXCJhY2VfbXVsdGlzZWxlY3RcIiksdGhpcy5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcihmLmtleWJvYXJkSGFuZGxlciksdGhpcy5jb21tYW5kcy5yZW1vdmVEZWZhdWx0SGFuZGxlcihcImV4ZWNcIix0aGlzLiRvbk11bHRpU2VsZWN0RXhlYyksdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCksdGhpcy5fZW1pdChcImNoYW5nZVNlbGVjdGlvblwiKX0sdGhpcy4kb25NdWx0aVNlbGVjdEV4ZWM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21tYW5kLG49ZS5lZGl0b3I7aWYoIW4ubXVsdGlTZWxlY3QpcmV0dXJuO2lmKCF0Lm11bHRpU2VsZWN0QWN0aW9uKXt2YXIgcj10LmV4ZWMobixlLmFyZ3N8fHt9KTtuLm11bHRpU2VsZWN0LmFkZFJhbmdlKG4ubXVsdGlTZWxlY3QudG9PcmllbnRlZFJhbmdlKCkpLG4ubXVsdGlTZWxlY3QubWVyZ2VPdmVybGFwcGluZ1JhbmdlcygpfWVsc2UgdC5tdWx0aVNlbGVjdEFjdGlvbj09XCJmb3JFYWNoXCI/cj1uLmZvckVhY2hTZWxlY3Rpb24odCxlLmFyZ3MpOnQubXVsdGlTZWxlY3RBY3Rpb249PVwiZm9yRWFjaExpbmVcIj9yPW4uZm9yRWFjaFNlbGVjdGlvbih0LGUuYXJncywhMCk6dC5tdWx0aVNlbGVjdEFjdGlvbj09XCJzaW5nbGVcIj8obi5leGl0TXVsdGlTZWxlY3RNb2RlKCkscj10LmV4ZWMobixlLmFyZ3N8fHt9KSk6cj10Lm11bHRpU2VsZWN0QWN0aW9uKG4sZS5hcmdzfHx7fSk7cmV0dXJuIHJ9LHRoaXMuZm9yRWFjaFNlbGVjdGlvbj1mdW5jdGlvbihlLHQsbil7aWYodGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlKXJldHVybjt2YXIgcj1uJiZuLmtlZXBPcmRlcixpPW49PTF8fG4mJm4uJGJ5TGluZXMsbz10aGlzLnNlc3Npb24sdT10aGlzLnNlbGVjdGlvbixhPXUucmFuZ2VMaXN0LGY9KHI/dTphKS5yYW5nZXMsbDtpZighZi5sZW5ndGgpcmV0dXJuIGUuZXhlYz9lLmV4ZWModGhpcyx0fHx7fSk6ZSh0aGlzLHR8fHt9KTt2YXIgYz11Ll9ldmVudFJlZ2lzdHJ5O3UuX2V2ZW50UmVnaXN0cnk9e307dmFyIGg9bmV3IHMobyk7dGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlPSEwO2Zvcih2YXIgcD1mLmxlbmd0aDtwLS07KXtpZihpKXdoaWxlKHA+MCYmZltwXS5zdGFydC5yb3c9PWZbcC0xXS5lbmQucm93KXAtLTtoLmZyb21PcmllbnRlZFJhbmdlKGZbcF0pLGguaW5kZXg9cCx0aGlzLnNlbGVjdGlvbj1vLnNlbGVjdGlvbj1oO3ZhciBkPWUuZXhlYz9lLmV4ZWModGhpcyx0fHx7fSk6ZSh0aGlzLHR8fHt9KTshbCYmZCE9PXVuZGVmaW5lZCYmKGw9ZCksaC50b09yaWVudGVkUmFuZ2UoZltwXSl9aC5kZXRhY2goKSx0aGlzLnNlbGVjdGlvbj1vLnNlbGVjdGlvbj11LHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZT0hMSx1Ll9ldmVudFJlZ2lzdHJ5PWMsdS5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzKCksdS5yYW5nZXNbMF0mJnUuZnJvbU9yaWVudGVkUmFuZ2UodS5yYW5nZXNbMF0pO3ZhciB2PXRoaXMucmVuZGVyZXIuJHNjcm9sbEFuaW1hdGlvbjtyZXR1cm4gdGhpcy5vbkN1cnNvckNoYW5nZSgpLHRoaXMub25TZWxlY3Rpb25DaGFuZ2UoKSx2JiZ2LmZyb209PXYudG8mJnRoaXMucmVuZGVyZXIuYW5pbWF0ZVNjcm9sbGluZyh2LmZyb20pLGx9LHRoaXMuZXhpdE11bHRpU2VsZWN0TW9kZT1mdW5jdGlvbigpe2lmKCF0aGlzLmluTXVsdGlTZWxlY3RNb2RlfHx0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpcmV0dXJuO3RoaXMubXVsdGlTZWxlY3QudG9TaW5nbGVSYW5nZSgpfSx0aGlzLmdldFNlbGVjdGVkVGV4dD1mdW5jdGlvbigpe3ZhciBlPVwiXCI7aWYodGhpcy5pbk11bHRpU2VsZWN0TW9kZSYmIXRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSl7dmFyIHQ9dGhpcy5tdWx0aVNlbGVjdC5yYW5nZUxpc3QucmFuZ2VzLG49W107Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspbi5wdXNoKHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UodFtyXSkpO3ZhciBpPXRoaXMuc2Vzc2lvbi5nZXREb2N1bWVudCgpLmdldE5ld0xpbmVDaGFyYWN0ZXIoKTtlPW4uam9pbihpKSxlLmxlbmd0aD09KG4ubGVuZ3RoLTEpKmkubGVuZ3RoJiYoZT1cIlwiKX1lbHNlIHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KGU9dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZSh0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpKTtyZXR1cm4gZX0sdGhpcy4kY2hlY2tNdWx0aXNlbGVjdENoYW5nZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUmJiF0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpe3ZhciBuPXRoaXMubXVsdGlTZWxlY3QucmFuZ2VzWzBdO2lmKHRoaXMubXVsdGlTZWxlY3QuaXNFbXB0eSgpJiZ0PT10aGlzLm11bHRpU2VsZWN0LmFuY2hvcilyZXR1cm47dmFyIHI9dD09dGhpcy5tdWx0aVNlbGVjdC5hbmNob3I/bi5jdXJzb3I9PW4uc3RhcnQ/bi5lbmQ6bi5zdGFydDpuLmN1cnNvcjtyLnJvdyE9dC5yb3d8fHRoaXMuc2Vzc2lvbi4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyLnJvdyxyLmNvbHVtbikuY29sdW1uIT10LmNvbHVtbj90aGlzLm11bHRpU2VsZWN0LnRvU2luZ2xlUmFuZ2UodGhpcy5tdWx0aVNlbGVjdC50b09yaWVudGVkUmFuZ2UoKSk6dGhpcy5tdWx0aVNlbGVjdC5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzKCl9fSx0aGlzLmZpbmRBbGw9ZnVuY3Rpb24oZSx0LG4pe3Q9dHx8e30sdC5uZWVkbGU9ZXx8dC5uZWVkbGU7aWYodC5uZWVkbGU9PXVuZGVmaW5lZCl7dmFyIHI9dGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpP3RoaXMuc2VsZWN0aW9uLmdldFdvcmRSYW5nZSgpOnRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7dC5uZWVkbGU9dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShyKX10aGlzLiRzZWFyY2guc2V0KHQpO3ZhciBpPXRoaXMuJHNlYXJjaC5maW5kQWxsKHRoaXMuc2Vzc2lvbik7aWYoIWkubGVuZ3RoKXJldHVybiAwO3ZhciBzPXRoaXMubXVsdGlTZWxlY3Q7bnx8cy50b1NpbmdsZVJhbmdlKGlbMF0pO2Zvcih2YXIgbz1pLmxlbmd0aDtvLS07KXMuYWRkUmFuZ2UoaVtvXSwhMCk7cmV0dXJuIHImJnMucmFuZ2VMaXN0LnJhbmdlQXRQb2ludChyLnN0YXJ0KSYmcy5hZGRSYW5nZShyLCEwKSxpLmxlbmd0aH0sdGhpcy5zZWxlY3RNb3JlTGluZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNlbGVjdGlvbi50b09yaWVudGVkUmFuZ2UoKSxyPW4uY3Vyc29yPT1uLmVuZCxzPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24obi5jdXJzb3IpO3RoaXMuc2VsZWN0aW9uLiRkZXNpcmVkQ29sdW1uJiYocy5jb2x1bW49dGhpcy5zZWxlY3Rpb24uJGRlc2lyZWRDb2x1bW4pO3ZhciBvPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24ocy5yb3crZSxzLmNvbHVtbik7aWYoIW4uaXNFbXB0eSgpKXZhciB1PXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24ocj9uLmVuZDpuLnN0YXJ0KSxhPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24odS5yb3crZSx1LmNvbHVtbik7ZWxzZSB2YXIgYT1vO2lmKHIpe3ZhciBmPWkuZnJvbVBvaW50cyhvLGEpO2YuY3Vyc29yPWYuc3RhcnR9ZWxzZXt2YXIgZj1pLmZyb21Qb2ludHMoYSxvKTtmLmN1cnNvcj1mLmVuZH1mLmRlc2lyZWRDb2x1bW49cy5jb2x1bW47aWYoIXRoaXMuc2VsZWN0aW9uLmluTXVsdGlTZWxlY3RNb2RlKXRoaXMuc2VsZWN0aW9uLmFkZFJhbmdlKG4pO2Vsc2UgaWYodCl2YXIgbD1uLmN1cnNvcjt0aGlzLnNlbGVjdGlvbi5hZGRSYW5nZShmKSxsJiZ0aGlzLnNlbGVjdGlvbi5zdWJzdHJhY3RQb2ludChsKX0sdGhpcy50cmFuc3Bvc2VTZWxlY3Rpb25zPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2Vzc2lvbixuPXQubXVsdGlTZWxlY3Qscj1uLnJhbmdlcztmb3IodmFyIGk9ci5sZW5ndGg7aS0tOyl7dmFyIHM9cltpXTtpZihzLmlzRW1wdHkoKSl7dmFyIG89dC5nZXRXb3JkUmFuZ2Uocy5zdGFydC5yb3cscy5zdGFydC5jb2x1bW4pO3Muc3RhcnQucm93PW8uc3RhcnQucm93LHMuc3RhcnQuY29sdW1uPW8uc3RhcnQuY29sdW1uLHMuZW5kLnJvdz1vLmVuZC5yb3cscy5lbmQuY29sdW1uPW8uZW5kLmNvbHVtbn19bi5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzKCk7dmFyIHU9W107Zm9yKHZhciBpPXIubGVuZ3RoO2ktLTspe3ZhciBzPXJbaV07dS51bnNoaWZ0KHQuZ2V0VGV4dFJhbmdlKHMpKX1lPDA/dS51bnNoaWZ0KHUucG9wKCkpOnUucHVzaCh1LnNoaWZ0KCkpO2Zvcih2YXIgaT1yLmxlbmd0aDtpLS07KXt2YXIgcz1yW2ldLGE9cy5jbG9uZSgpO3QucmVwbGFjZShzLHVbaV0pLHMuc3RhcnQucm93PWEuc3RhcnQucm93LHMuc3RhcnQuY29sdW1uPWEuc3RhcnQuY29sdW1ufW4uZnJvbU9yaWVudGVkUmFuZ2Uobi5yYW5nZXNbMF0pfSx0aGlzLnNlbGVjdE1vcmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuc2Vzc2lvbixpPXIubXVsdGlTZWxlY3Qscz1pLnRvT3JpZW50ZWRSYW5nZSgpO2lmKHMuaXNFbXB0eSgpKXtzPXIuZ2V0V29yZFJhbmdlKHMuc3RhcnQucm93LHMuc3RhcnQuY29sdW1uKSxzLmN1cnNvcj1lPT0tMT9zLnN0YXJ0OnMuZW5kLHRoaXMubXVsdGlTZWxlY3QuYWRkUmFuZ2Uocyk7aWYobilyZXR1cm59dmFyIG89ci5nZXRUZXh0UmFuZ2UocyksdT1oKHIsbyxlKTt1JiYodS5jdXJzb3I9ZT09LTE/dS5zdGFydDp1LmVuZCx0aGlzLnNlc3Npb24udW5mb2xkKHUpLHRoaXMubXVsdGlTZWxlY3QuYWRkUmFuZ2UodSksdGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41KSksdCYmdGhpcy5tdWx0aVNlbGVjdC5zdWJzdHJhY3RQb2ludChzLmN1cnNvcil9LHRoaXMuYWxpZ25DdXJzb3JzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLHQ9ZS5tdWx0aVNlbGVjdCxuPXQucmFuZ2VzLHI9LTEscz1uLmZpbHRlcihmdW5jdGlvbihlKXtpZihlLmN1cnNvci5yb3c9PXIpcmV0dXJuITA7cj1lLmN1cnNvci5yb3d9KTtpZighbi5sZW5ndGh8fHMubGVuZ3RoPT1uLmxlbmd0aC0xKXt2YXIgbz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHU9by5zdGFydC5yb3csZj1vLmVuZC5yb3csbD11PT1mO2lmKGwpe3ZhciBjPXRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKSxoO2RvIGg9dGhpcy5zZXNzaW9uLmdldExpbmUoZik7d2hpbGUoL1s9Ol0vLnRlc3QoaCkmJisrZjxjKTtkbyBoPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKHUpO3doaWxlKC9bPTpdLy50ZXN0KGgpJiYtLXU+MCk7dTwwJiYodT0wKSxmPj1jJiYoZj1jLTEpfXZhciBwPXRoaXMuc2Vzc2lvbi5yZW1vdmVGdWxsTGluZXModSxmKTtwPXRoaXMuJHJlQWxpZ25UZXh0KHAsbCksdGhpcy5zZXNzaW9uLmluc2VydCh7cm93OnUsY29sdW1uOjB9LHAuam9pbihcIlxcblwiKStcIlxcblwiKSxsfHwoby5zdGFydC5jb2x1bW49MCxvLmVuZC5jb2x1bW49cFtwLmxlbmd0aC0xXS5sZW5ndGgpLHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKG8pfWVsc2V7cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Quc3Vic3RyYWN0UG9pbnQoZS5jdXJzb3IpfSk7dmFyIGQ9MCx2PUluZmluaXR5LG09bi5tYXAoZnVuY3Rpb24odCl7dmFyIG49dC5jdXJzb3Iscj1lLmdldExpbmUobi5yb3cpLGk9ci5zdWJzdHIobi5jb2x1bW4pLnNlYXJjaCgvXFxTL2cpO3JldHVybiBpPT0tMSYmKGk9MCksbi5jb2x1bW4+ZCYmKGQ9bi5jb2x1bW4pLGk8diYmKHY9aSksaX0pO24uZm9yRWFjaChmdW5jdGlvbih0LG4pe3ZhciByPXQuY3Vyc29yLHM9ZC1yLmNvbHVtbixvPW1bbl0tdjtzPm8/ZS5pbnNlcnQocixhLnN0cmluZ1JlcGVhdChcIiBcIixzLW8pKTplLnJlbW92ZShuZXcgaShyLnJvdyxyLmNvbHVtbixyLnJvdyxyLmNvbHVtbi1zK28pKSx0LnN0YXJ0LmNvbHVtbj10LmVuZC5jb2x1bW49ZCx0LnN0YXJ0LnJvdz10LmVuZC5yb3c9ci5yb3csdC5jdXJzb3I9dC5lbmR9KSx0LmZyb21PcmllbnRlZFJhbmdlKG5bMF0pLHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCksdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpfX0sdGhpcy4kcmVBbGlnblRleHQ9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiB1KGUpe3JldHVybiBhLnN0cmluZ1JlcGVhdChcIiBcIixlKX1mdW5jdGlvbiBmKGUpe3JldHVybiBlWzJdP3UoaSkrZVsyXSt1KHMtZVsyXS5sZW5ndGgrbykrZVs0XS5yZXBsYWNlKC9eKFs9Ol0pXFxzKy8sXCIkMSBcIik6ZVswXX1mdW5jdGlvbiBsKGUpe3JldHVybiBlWzJdP3UoaStzLWVbMl0ubGVuZ3RoKStlWzJdK3UobykrZVs0XS5yZXBsYWNlKC9eKFs9Ol0pXFxzKy8sXCIkMSBcIik6ZVswXX1mdW5jdGlvbiBjKGUpe3JldHVybiBlWzJdP3UoaSkrZVsyXSt1KG8pK2VbNF0ucmVwbGFjZSgvXihbPTpdKVxccysvLFwiJDEgXCIpOmVbMF19dmFyIG49ITAscj0hMCxpLHMsbztyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaCgvKFxccyopKC4qPykoXFxzKikoWz06XS4qKS8pO3JldHVybiB0P2k9PW51bGw/KGk9dFsxXS5sZW5ndGgscz10WzJdLmxlbmd0aCxvPXRbM10ubGVuZ3RoLHQpOihpK3MrbyE9dFsxXS5sZW5ndGgrdFsyXS5sZW5ndGgrdFszXS5sZW5ndGgmJihyPSExKSxpIT10WzFdLmxlbmd0aCYmKG49ITEpLGk+dFsxXS5sZW5ndGgmJihpPXRbMV0ubGVuZ3RoKSxzPHRbMl0ubGVuZ3RoJiYocz10WzJdLmxlbmd0aCksbz50WzNdLmxlbmd0aCYmKG89dFszXS5sZW5ndGgpLHQpOltlXX0pLm1hcCh0P2Y6bj9yP2w6ZjpjKX19KS5jYWxsKGQucHJvdG90eXBlKSx0Lm9uU2Vzc2lvbkNoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1lLnNlc3Npb247dCYmIXQubXVsdGlTZWxlY3QmJih0LiRzZWxlY3Rpb25NYXJrZXJzPVtdLHQuc2VsZWN0aW9uLiRpbml0UmFuZ2VMaXN0KCksdC5tdWx0aVNlbGVjdD10LnNlbGVjdGlvbiksdGhpcy5tdWx0aVNlbGVjdD10JiZ0Lm11bHRpU2VsZWN0O3ZhciBuPWUub2xkU2Vzc2lvbjtuJiYobi5tdWx0aVNlbGVjdC5vZmYoXCJhZGRSYW5nZVwiLHRoaXMuJG9uQWRkUmFuZ2UpLG4ubXVsdGlTZWxlY3Qub2ZmKFwicmVtb3ZlUmFuZ2VcIix0aGlzLiRvblJlbW92ZVJhbmdlKSxuLm11bHRpU2VsZWN0Lm9mZihcIm11bHRpU2VsZWN0XCIsdGhpcy4kb25NdWx0aVNlbGVjdCksbi5tdWx0aVNlbGVjdC5vZmYoXCJzaW5nbGVTZWxlY3RcIix0aGlzLiRvblNpbmdsZVNlbGVjdCksbi5tdWx0aVNlbGVjdC5sZWFkLm9mZihcImNoYW5nZVwiLHRoaXMuJGNoZWNrTXVsdGlzZWxlY3RDaGFuZ2UpLG4ubXVsdGlTZWxlY3QuYW5jaG9yLm9mZihcImNoYW5nZVwiLHRoaXMuJGNoZWNrTXVsdGlzZWxlY3RDaGFuZ2UpKSx0JiYodC5tdWx0aVNlbGVjdC5vbihcImFkZFJhbmdlXCIsdGhpcy4kb25BZGRSYW5nZSksdC5tdWx0aVNlbGVjdC5vbihcInJlbW92ZVJhbmdlXCIsdGhpcy4kb25SZW1vdmVSYW5nZSksdC5tdWx0aVNlbGVjdC5vbihcIm11bHRpU2VsZWN0XCIsdGhpcy4kb25NdWx0aVNlbGVjdCksdC5tdWx0aVNlbGVjdC5vbihcInNpbmdsZVNlbGVjdFwiLHRoaXMuJG9uU2luZ2xlU2VsZWN0KSx0Lm11bHRpU2VsZWN0LmxlYWQub24oXCJjaGFuZ2VcIix0aGlzLiRjaGVja011bHRpc2VsZWN0Q2hhbmdlKSx0Lm11bHRpU2VsZWN0LmFuY2hvci5vbihcImNoYW5nZVwiLHRoaXMuJGNoZWNrTXVsdGlzZWxlY3RDaGFuZ2UpKSx0JiZ0aGlzLmluTXVsdGlTZWxlY3RNb2RlIT10LnNlbGVjdGlvbi5pbk11bHRpU2VsZWN0TW9kZSYmKHQuc2VsZWN0aW9uLmluTXVsdGlTZWxlY3RNb2RlP3RoaXMuJG9uTXVsdGlTZWxlY3QoKTp0aGlzLiRvblNpbmdsZVNlbGVjdCgpKX0sdC5NdWx0aVNlbGVjdD1tLGUoXCIuL2NvbmZpZ1wiKS5kZWZpbmVPcHRpb25zKGQucHJvdG90eXBlLFwiZWRpdG9yXCIse2VuYWJsZU11bHRpc2VsZWN0OntzZXQ6ZnVuY3Rpb24oZSl7bSh0aGlzKSxlP3RoaXMub24oXCJtb3VzZWRvd25cIixvKTp0aGlzLm9mZihcIm1vdXNlZG93blwiLG8pfSx2YWx1ZTohMH0sZW5hYmxlQmxvY2tTZWxlY3Q6e3NldDpmdW5jdGlvbihlKXt0aGlzLiRibG9ja1NlbGVjdEVuYWJsZWQ9ZX0sdmFsdWU6ITB9fSl9KSxhY2UuZGVmaW5lKFwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uLy4uL3JhbmdlXCIpLlJhbmdlLGk9dC5Gb2xkTW9kZT1mdW5jdGlvbigpe307KGZ1bmN0aW9uKCl7dGhpcy5mb2xkaW5nU3RhcnRNYXJrZXI9bnVsbCx0aGlzLmZvbGRpbmdTdG9wTWFya2VyPW51bGwsdGhpcy5nZXRGb2xkV2lkZ2V0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmdldExpbmUobik7cmV0dXJuIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyLnRlc3Qocik/XCJzdGFydFwiOnQ9PVwibWFya2JlZ2luZW5kXCImJnRoaXMuZm9sZGluZ1N0b3BNYXJrZXImJnRoaXMuZm9sZGluZ1N0b3BNYXJrZXIudGVzdChyKT9cImVuZFwiOlwiXCJ9LHRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbH0sdGhpcy5pbmRlbnRhdGlvbkJsb2NrPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT0vXFxTLyxzPWUuZ2V0TGluZSh0KSxvPXMuc2VhcmNoKGkpO2lmKG89PS0xKXJldHVybjt2YXIgdT1ufHxzLmxlbmd0aCxhPWUuZ2V0TGVuZ3RoKCksZj10LGw9dDt3aGlsZSgrK3Q8YSl7dmFyIGM9ZS5nZXRMaW5lKHQpLnNlYXJjaChpKTtpZihjPT0tMSljb250aW51ZTtpZihjPD1vKXt2YXIgaD1lLmdldFRva2VuQXQodCwwKTtpZighaHx8aC50eXBlIT09XCJzdHJpbmdcIilicmVha31sPXR9aWYobD5mKXt2YXIgcD1lLmdldExpbmUobCkubGVuZ3RoO3JldHVybiBuZXcgcihmLHUsbCxwKX19LHRoaXMub3BlbmluZ0JyYWNrZXRCbG9jaz1mdW5jdGlvbihlLHQsbixpLHMpe3ZhciBvPXtyb3c6bixjb2x1bW46aSsxfSx1PWUuJGZpbmRDbG9zaW5nQnJhY2tldCh0LG8scyk7aWYoIXUpcmV0dXJuO3ZhciBhPWUuZm9sZFdpZGdldHNbdS5yb3ddO3JldHVybiBhPT1udWxsJiYoYT1lLmdldEZvbGRXaWRnZXQodS5yb3cpKSxhPT1cInN0YXJ0XCImJnUucm93Pm8ucm93JiYodS5yb3ctLSx1LmNvbHVtbj1lLmdldExpbmUodS5yb3cpLmxlbmd0aCksci5mcm9tUG9pbnRzKG8sdSl9LHRoaXMuY2xvc2luZ0JyYWNrZXRCbG9jaz1mdW5jdGlvbihlLHQsbixpLHMpe3ZhciBvPXtyb3c6bixjb2x1bW46aX0sdT1lLiRmaW5kT3BlbmluZ0JyYWNrZXQodCxvKTtpZighdSlyZXR1cm47cmV0dXJuIHUuY29sdW1uKyssby5jb2x1bW4tLSxyLmZyb21Qb2ludHModSxvKX19KS5jYWxsKGkucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXCJhY2UvZXh0L2Vycm9yX21hcmtlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9yYW5nZVwiLFwiYWNlL2NvbmZpZ1wiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQsbil7dmFyIHI9MCxpPWUubGVuZ3RoLTE7d2hpbGUocjw9aSl7dmFyIHM9citpPj4xLG89bih0LGVbc10pO2lmKG8+MClyPXMrMTtlbHNle2lmKCEobzwwKSlyZXR1cm4gcztpPXMtMX19cmV0dXJuLShyKzEpfWZ1bmN0aW9uIHUoZSx0LG4pe3ZhciByPWUuZ2V0QW5ub3RhdGlvbnMoKS5zb3J0KGkuY29tcGFyZVBvaW50cyk7aWYoIXIubGVuZ3RoKXJldHVybjt2YXIgcz1vKHIse3Jvdzp0LGNvbHVtbjotMX0saS5jb21wYXJlUG9pbnRzKTtzPDAmJihzPS1zLTEpLHM+PXIubGVuZ3RoP3M9bj4wPzA6ci5sZW5ndGgtMTpzPT09MCYmbjwwJiYocz1yLmxlbmd0aC0xKTt2YXIgdT1yW3NdO2lmKCF1fHwhbilyZXR1cm47aWYodS5yb3c9PT10KXtkbyB1PXJbcys9bl07d2hpbGUodSYmdS5yb3c9PT10KTtpZighdSlyZXR1cm4gci5zbGljZSgpfXZhciBhPVtdO3Q9dS5yb3c7ZG8gYVtuPDA/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKHUpLHU9cltzKz1uXTt3aGlsZSh1JiZ1LnJvdz09dCk7cmV0dXJuIGEubGVuZ3RoJiZhfXZhciByPWUoXCIuLi9saWIvZG9tXCIpLGk9ZShcIi4uL3JhbmdlXCIpLlJhbmdlLHM9ZShcIi4uL2NvbmZpZ1wiKS5ubHM7dC5zaG93RXJyb3JNYXJrZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNlc3Npb24saT1lLmdldEN1cnNvclBvc2l0aW9uKCksbz1pLnJvdyxhPW4ud2lkZ2V0TWFuYWdlci5nZXRXaWRnZXRzQXRSb3cobykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PVwiZXJyb3JNYXJrZXJcIn0pWzBdO2E/YS5kZXN0cm95KCk6by09dDt2YXIgZj11KG4sbyx0KSxsO2lmKGYpe3ZhciBjPWZbMF07aS5jb2x1bW49KGMucG9zJiZ0eXBlb2YgYy5jb2x1bW4hPVwibnVtYmVyXCI/Yy5wb3Muc2M6Yy5jb2x1bW4pfHwwLGkucm93PWMucm93LGw9ZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuJGFubm90YXRpb25zW2kucm93XX1lbHNle2lmKGEpcmV0dXJuO2w9e2Rpc3BsYXlUZXh0OltzKFwiZXJyb3ItbWFya2VyLmdvb2Qtc3RhdGVcIixcIkxvb2tzIGdvb2QhXCIpXSxjbGFzc05hbWU6XCJhY2Vfb2tcIn19ZS5zZXNzaW9uLnVuZm9sZChpLnJvdyksZS5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24oaSk7dmFyIGg9e3JvdzppLnJvdyxmaXhlZFdpZHRoOiEwLGNvdmVyR3V0dGVyOiEwLGVsOnIuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0eXBlOlwiZXJyb3JNYXJrZXJcIn0scD1oLmVsLmFwcGVuZENoaWxkKHIuY3JlYXRlRWxlbWVudChcImRpdlwiKSksZD1oLmVsLmFwcGVuZENoaWxkKHIuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7ZC5jbGFzc05hbWU9XCJlcnJvcl93aWRnZXRfYXJyb3cgXCIrbC5jbGFzc05hbWU7dmFyIHY9ZS5yZW5kZXJlci4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbihpKS5sZWZ0O2Quc3R5bGUubGVmdD12K2UucmVuZGVyZXIuZ3V0dGVyV2lkdGgtNStcInB4XCIsaC5lbC5jbGFzc05hbWU9XCJlcnJvcl93aWRnZXRfd3JhcHBlclwiLHAuY2xhc3NOYW1lPVwiZXJyb3Jfd2lkZ2V0IFwiK2wuY2xhc3NOYW1lLGwuZGlzcGxheVRleHQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3AuYXBwZW5kQ2hpbGQoci5jcmVhdGVUZXh0Tm9kZShlKSksdDxsLmRpc3BsYXlUZXh0Lmxlbmd0aC0xJiZwLmFwcGVuZENoaWxkKHIuY3JlYXRlRWxlbWVudChcImJyXCIpKX0pLHAuYXBwZW5kQ2hpbGQoci5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTt2YXIgbT1mdW5jdGlvbihlLHQsbil7aWYodD09PTAmJihuPT09XCJlc2NcInx8bj09PVwicmV0dXJuXCIpKXJldHVybiBoLmRlc3Ryb3koKSx7Y29tbWFuZDpcIm51bGxcIn19O2guZGVzdHJveT1mdW5jdGlvbigpe2lmKGUuJG1vdXNlSGFuZGxlci5pc01vdXNlUHJlc3NlZClyZXR1cm47ZS5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcihtKSxuLndpZGdldE1hbmFnZXIucmVtb3ZlTGluZVdpZGdldChoKSxlLm9mZihcImNoYW5nZVNlbGVjdGlvblwiLGguZGVzdHJveSksZS5vZmYoXCJjaGFuZ2VTZXNzaW9uXCIsaC5kZXN0cm95KSxlLm9mZihcIm1vdXNldXBcIixoLmRlc3Ryb3kpLGUub2ZmKFwiY2hhbmdlXCIsaC5kZXN0cm95KX0sZS5rZXlCaW5kaW5nLmFkZEtleWJvYXJkSGFuZGxlcihtKSxlLm9uKFwiY2hhbmdlU2VsZWN0aW9uXCIsaC5kZXN0cm95KSxlLm9uKFwiY2hhbmdlU2Vzc2lvblwiLGguZGVzdHJveSksZS5vbihcIm1vdXNldXBcIixoLmRlc3Ryb3kpLGUub24oXCJjaGFuZ2VcIixoLmRlc3Ryb3kpLGUuc2Vzc2lvbi53aWRnZXRNYW5hZ2VyLmFkZExpbmVXaWRnZXQoaCksaC5lbC5vbm1vdXNlZG93bj1lLmZvY3VzLmJpbmQoZSksZS5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41LHtib3R0b206aC5lbC5vZmZzZXRIZWlnaHR9KX0sci5pbXBvcnRDc3NTdHJpbmcoXCJcXG4gICAgLmVycm9yX3dpZGdldF93cmFwcGVyIHtcXG4gICAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XFxuICAgICAgICBjb2xvcjogaW5oZXJpdDtcXG4gICAgICAgIGJvcmRlcjpub25lXFxuICAgIH1cXG4gICAgLmVycm9yX3dpZGdldCB7XFxuICAgICAgICBib3JkZXItdG9wOiBzb2xpZCAycHg7XFxuICAgICAgICBib3JkZXItYm90dG9tOiBzb2xpZCAycHg7XFxuICAgICAgICBtYXJnaW46IDVweCAwO1xcbiAgICAgICAgcGFkZGluZzogMTBweCA0MHB4O1xcbiAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbiAgICB9XFxuICAgIC5lcnJvcl93aWRnZXQuYWNlX2Vycm9yLCAuZXJyb3Jfd2lkZ2V0X2Fycm93LmFjZV9lcnJvcntcXG4gICAgICAgIGJvcmRlci1jb2xvcjogI2ZmNWE1YVxcbiAgICB9XFxuICAgIC5lcnJvcl93aWRnZXQuYWNlX3dhcm5pbmcsIC5lcnJvcl93aWRnZXRfYXJyb3cuYWNlX3dhcm5pbmd7XFxuICAgICAgICBib3JkZXItY29sb3I6ICNGMUQ4MTdcXG4gICAgfVxcbiAgICAuZXJyb3Jfd2lkZ2V0LmFjZV9pbmZvLCAuZXJyb3Jfd2lkZ2V0X2Fycm93LmFjZV9pbmZve1xcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjNWE1YTVhXFxuICAgIH1cXG4gICAgLmVycm9yX3dpZGdldC5hY2Vfb2ssIC5lcnJvcl93aWRnZXRfYXJyb3cuYWNlX29re1xcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjNWFhYTVhXFxuICAgIH1cXG4gICAgLmVycm9yX3dpZGdldF9hcnJvdyB7XFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICBib3JkZXI6IHNvbGlkIDVweDtcXG4gICAgICAgIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50IWltcG9ydGFudDtcXG4gICAgICAgIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQhaW1wb3J0YW50O1xcbiAgICAgICAgYm9yZGVyLWxlZnQtY29sb3I6IHRyYW5zcGFyZW50IWltcG9ydGFudDtcXG4gICAgICAgIHRvcDogLTVweDtcXG4gICAgfVxcblwiLFwiZXJyb3JfbWFya2VyLmNzc1wiLCExKX0pLGFjZS5kZWZpbmUoXCJhY2UvYWNlXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvZWRpdG9yXCIsXCJhY2UvZWRpdF9zZXNzaW9uXCIsXCJhY2UvdW5kb21hbmFnZXJcIixcImFjZS92aXJ0dWFsX3JlbmRlcmVyXCIsXCJhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnRcIixcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixcImFjZS9wbGFjZWhvbGRlclwiLFwiYWNlL211bHRpX3NlbGVjdFwiLFwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGVcIixcImFjZS90aGVtZS90ZXh0bWF0ZVwiLFwiYWNlL2V4dC9lcnJvcl9tYXJrZXJcIixcImFjZS9jb25maWdcIixcImFjZS9sb2FkZXJfYnVpbGRcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UoXCIuL2xvYWRlcl9idWlsZFwiKSh0KTt2YXIgcj1lKFwiLi9saWIvZG9tXCIpLGk9ZShcIi4vcmFuZ2VcIikuUmFuZ2Uscz1lKFwiLi9lZGl0b3JcIikuRWRpdG9yLG89ZShcIi4vZWRpdF9zZXNzaW9uXCIpLkVkaXRTZXNzaW9uLHU9ZShcIi4vdW5kb21hbmFnZXJcIikuVW5kb01hbmFnZXIsYT1lKFwiLi92aXJ0dWFsX3JlbmRlcmVyXCIpLlZpcnR1YWxSZW5kZXJlcjtlKFwiLi93b3JrZXIvd29ya2VyX2NsaWVudFwiKSxlKFwiLi9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIiksZShcIi4vcGxhY2Vob2xkZXJcIiksZShcIi4vbXVsdGlfc2VsZWN0XCIpLGUoXCIuL21vZGUvZm9sZGluZy9mb2xkX21vZGVcIiksZShcIi4vdGhlbWUvdGV4dG1hdGVcIiksZShcIi4vZXh0L2Vycm9yX21hcmtlclwiKSx0LmNvbmZpZz1lKFwiLi9jb25maWdcIiksdC5lZGl0PWZ1bmN0aW9uKGUsbil7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe3ZhciBpPWU7ZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJhY2UuZWRpdCBjYW4ndCBmaW5kIGRpdiAjXCIraSl9aWYoZSYmZS5lbnYmJmUuZW52LmVkaXRvciBpbnN0YW5jZW9mIHMpcmV0dXJuIGUuZW52LmVkaXRvcjt2YXIgbz1cIlwiO2lmKGUmJi9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YWdOYW1lKSl7dmFyIHU9ZTtvPXUudmFsdWUsZT1yLmNyZWF0ZUVsZW1lbnQoXCJwcmVcIiksdS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlLHUpfWVsc2UgZSYmKG89ZS50ZXh0Q29udGVudCxlLmlubmVySFRNTD1cIlwiKTt2YXIgZj10LmNyZWF0ZUVkaXRTZXNzaW9uKG8pLGw9bmV3IHMobmV3IGEoZSksZixuKSxjPXtkb2N1bWVudDpmLGVkaXRvcjpsLG9uUmVzaXplOmwucmVzaXplLmJpbmQobCxudWxsKX07cmV0dXJuIHUmJihjLnRleHRhcmVhPXUpLGwub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtjLmVkaXRvci5jb250YWluZXIuZW52PW51bGx9KSxsLmNvbnRhaW5lci5lbnY9bC5lbnY9YyxsfSx0LmNyZWF0ZUVkaXRTZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IG8oZSx0KTtyZXR1cm4gbi5zZXRVbmRvTWFuYWdlcihuZXcgdSksbn0sdC5SYW5nZT1pLHQuRWRpdG9yPXMsdC5FZGl0U2Vzc2lvbj1vLHQuVW5kb01hbmFnZXI9dSx0LlZpcnR1YWxSZW5kZXJlcj1hO3ZhciBmPXQuY29uZmlnLnZlcnNpb247dC52ZXJzaW9uPWZ9KTsgICAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWNlLnJlcXVpcmUoW1wiYWNlL2FjZVwiXSwgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5jb25maWcuaW5pdCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuZGVmaW5lID0gYWNlLmRlZmluZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2xvYmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdsb2JhbCAmJiB0eXBlb2Ygd2luZG93ICE9IFwidW5kZWZpbmVkXCIpIGdsb2JhbCA9IHdpbmRvdzsgLy8gY2FuIGhhcHBlbiBpbiBzdHJpY3QgbW9kZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWdsb2JhbCAmJiB0eXBlb2Ygc2VsZiAhPSBcInVuZGVmaW5lZFwiKSBnbG9iYWwgPSBzZWxmOyAvLyBjYW4gaGFwcGVuIGluIHdlYndvcmtlclxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnbG9iYWwuYWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLmFjZSA9IGE7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhKSBpZiAoYS5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLmFjZVtrZXldID0gYVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWwuYWNlW1wiZGVmYXVsdFwiXSA9IGdsb2JhbC5hY2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiBtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmFjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/superset-ui-core/node_modules/ace-builds/src-min-noconflict/ace.js\n\n}");

/***/ })

}]);