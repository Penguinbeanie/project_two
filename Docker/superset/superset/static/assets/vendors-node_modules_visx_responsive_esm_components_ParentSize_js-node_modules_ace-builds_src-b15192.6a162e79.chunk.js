/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["vendors-node_modules_visx_responsive_esm_components_ParentSize_js-node_modules_ace-builds_src-b15192"],{

/***/ "./node_modules/@react-dnd/shallowequal/dist/shallowequal.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@react-dnd/shallowequal/dist/shallowequal.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shallowEqual: () => (/* binding */ shallowEqual)\n/* harmony export */ });\nfunction shallowEqual(objA, objB, compare, compareContext) {\n  var compareResult = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    compareResult = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (compareResult === false || compareResult === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n\n//# sourceMappingURL=shallowequal.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LWRuZC9zaGFsbG93ZXF1YWwvZGlzdC9zaGFsbG93ZXF1YWwuZXNtLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL0ByZWFjdC1kbmQvc2hhbGxvd2VxdWFsL2Rpc3Qvc2hhbGxvd2VxdWFsLmVzbS5qcz85MjFjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCLCBjb21wYXJlLCBjb21wYXJlQ29udGV4dCkge1xuICB2YXIgY29tcGFyZVJlc3VsdCA9IGNvbXBhcmUgPyBjb21wYXJlLmNhbGwoY29tcGFyZUNvbnRleHQsIG9iakEsIG9iakIpIDogdm9pZCAwO1xuXG4gIGlmIChjb21wYXJlUmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gISFjb21wYXJlUmVzdWx0O1xuICB9XG5cbiAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqQSAhPT0gJ29iamVjdCcgfHwgIW9iakEgfHwgdHlwZW9mIG9iakIgIT09ICdvYmplY3QnIHx8ICFvYmpCKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBiSGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmJpbmQob2JqQik7IC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG5cbiAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwga2V5c0EubGVuZ3RoOyBpZHgrKykge1xuICAgIHZhciBrZXkgPSBrZXlzQVtpZHhdO1xuXG4gICAgaWYgKCFiSGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZUEgPSBvYmpBW2tleV07XG4gICAgdmFyIHZhbHVlQiA9IG9iakJba2V5XTtcbiAgICBjb21wYXJlUmVzdWx0ID0gY29tcGFyZSA/IGNvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCwgdmFsdWVBLCB2YWx1ZUIsIGtleSkgOiB2b2lkIDA7XG5cbiAgICBpZiAoY29tcGFyZVJlc3VsdCA9PT0gZmFsc2UgfHwgY29tcGFyZVJlc3VsdCA9PT0gdm9pZCAwICYmIHZhbHVlQSAhPT0gdmFsdWVCKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCB7IHNoYWxsb3dFcXVhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhbGxvd2VxdWFsLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-dnd/shallowequal/dist/shallowequal.esm.js\n\n}");

/***/ }),

/***/ "./node_modules/@visx/responsive/esm/components/ParentSize.js":
/*!********************************************************************!*\
  !*** ./node_modules/@visx/responsive/esm/components/ParentSize.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ParentSize)\n/* harmony export */ });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useParentSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useParentSize */ \"./node_modules/@visx/responsive/esm/hooks/useParentSize.js\");\n\nvar _excluded = [\"className\", \"children\", \"debounceTime\", \"ignoreDimensions\", \"initialSize\", \"parentSizeStyles\", \"enableDebounceLeadingCall\", \"resizeObserverPolyfill\"],\n  _excluded2 = [\"parentRef\", \"resize\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\nvar defaultParentSizeStyles = {\n  width: '100%',\n  height: '100%'\n};\nfunction ParentSize(_ref) {\n  var className = _ref.className,\n    children = _ref.children,\n    debounceTime = _ref.debounceTime,\n    ignoreDimensions = _ref.ignoreDimensions,\n    initialSize = _ref.initialSize,\n    _ref$parentSizeStyles = _ref.parentSizeStyles,\n    parentSizeStyles = _ref$parentSizeStyles === void 0 ? defaultParentSizeStyles : _ref$parentSizeStyles,\n    _ref$enableDebounceLe = _ref.enableDebounceLeadingCall,\n    enableDebounceLeadingCall = _ref$enableDebounceLe === void 0 ? true : _ref$enableDebounceLe,\n    resizeObserverPolyfill = _ref.resizeObserverPolyfill,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useParentSize = (0,_hooks_useParentSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      initialSize: initialSize,\n      debounceTime: debounceTime,\n      ignoreDimensions: ignoreDimensions,\n      enableDebounceLeadingCall: enableDebounceLeadingCall,\n      resizeObserverPolyfill: resizeObserverPolyfill\n    }),\n    parentRef = _useParentSize.parentRef,\n    resize = _useParentSize.resize,\n    dimensions = _objectWithoutPropertiesLoose(_useParentSize, _excluded2);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", _extends({\n    style: parentSizeStyles,\n    ref: parentRef,\n    className: className\n  }, restProps), children(_extends({}, dimensions, {\n    ref: parentRef.current,\n    resize: resize\n  })));\n}\nParentSize.propTypes = {\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_0___default().string),\n  children: (prop_types__WEBPACK_IMPORTED_MODULE_0___default().func).isRequired\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpc3gvcmVzcG9uc2l2ZS9lc20vY29tcG9uZW50cy9QYXJlbnRTaXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9AdmlzeC9yZXNwb25zaXZlL2VzbS9jb21wb25lbnRzL1BhcmVudFNpemUuanM/ZmFmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX3B0IGZyb20gXCJwcm9wLXR5cGVzXCI7XG52YXIgX2V4Y2x1ZGVkID0gW1wiY2xhc3NOYW1lXCIsIFwiY2hpbGRyZW5cIiwgXCJkZWJvdW5jZVRpbWVcIiwgXCJpZ25vcmVEaW1lbnNpb25zXCIsIFwiaW5pdGlhbFNpemVcIiwgXCJwYXJlbnRTaXplU3R5bGVzXCIsIFwiZW5hYmxlRGVib3VuY2VMZWFkaW5nQ2FsbFwiLCBcInJlc2l6ZU9ic2VydmVyUG9seWZpbGxcIl0sXG4gIF9leGNsdWRlZDIgPSBbXCJwYXJlbnRSZWZcIiwgXCJyZXNpemVcIl07XG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlUGFyZW50U2l6ZSBmcm9tICcuLi9ob29rcy91c2VQYXJlbnRTaXplJztcbnZhciBkZWZhdWx0UGFyZW50U2l6ZVN0eWxlcyA9IHtcbiAgd2lkdGg6ICcxMDAlJyxcbiAgaGVpZ2h0OiAnMTAwJSdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYXJlbnRTaXplKF9yZWYpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICBkZWJvdW5jZVRpbWUgPSBfcmVmLmRlYm91bmNlVGltZSxcbiAgICBpZ25vcmVEaW1lbnNpb25zID0gX3JlZi5pZ25vcmVEaW1lbnNpb25zLFxuICAgIGluaXRpYWxTaXplID0gX3JlZi5pbml0aWFsU2l6ZSxcbiAgICBfcmVmJHBhcmVudFNpemVTdHlsZXMgPSBfcmVmLnBhcmVudFNpemVTdHlsZXMsXG4gICAgcGFyZW50U2l6ZVN0eWxlcyA9IF9yZWYkcGFyZW50U2l6ZVN0eWxlcyA9PT0gdm9pZCAwID8gZGVmYXVsdFBhcmVudFNpemVTdHlsZXMgOiBfcmVmJHBhcmVudFNpemVTdHlsZXMsXG4gICAgX3JlZiRlbmFibGVEZWJvdW5jZUxlID0gX3JlZi5lbmFibGVEZWJvdW5jZUxlYWRpbmdDYWxsLFxuICAgIGVuYWJsZURlYm91bmNlTGVhZGluZ0NhbGwgPSBfcmVmJGVuYWJsZURlYm91bmNlTGUgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGVuYWJsZURlYm91bmNlTGUsXG4gICAgcmVzaXplT2JzZXJ2ZXJQb2x5ZmlsbCA9IF9yZWYucmVzaXplT2JzZXJ2ZXJQb2x5ZmlsbCxcbiAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBfZXhjbHVkZWQpO1xuICB2YXIgX3VzZVBhcmVudFNpemUgPSB1c2VQYXJlbnRTaXplKHtcbiAgICAgIGluaXRpYWxTaXplOiBpbml0aWFsU2l6ZSxcbiAgICAgIGRlYm91bmNlVGltZTogZGVib3VuY2VUaW1lLFxuICAgICAgaWdub3JlRGltZW5zaW9uczogaWdub3JlRGltZW5zaW9ucyxcbiAgICAgIGVuYWJsZURlYm91bmNlTGVhZGluZ0NhbGw6IGVuYWJsZURlYm91bmNlTGVhZGluZ0NhbGwsXG4gICAgICByZXNpemVPYnNlcnZlclBvbHlmaWxsOiByZXNpemVPYnNlcnZlclBvbHlmaWxsXG4gICAgfSksXG4gICAgcGFyZW50UmVmID0gX3VzZVBhcmVudFNpemUucGFyZW50UmVmLFxuICAgIHJlc2l6ZSA9IF91c2VQYXJlbnRTaXplLnJlc2l6ZSxcbiAgICBkaW1lbnNpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3VzZVBhcmVudFNpemUsIF9leGNsdWRlZDIpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIHN0eWxlOiBwYXJlbnRTaXplU3R5bGVzLFxuICAgIHJlZjogcGFyZW50UmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gIH0sIHJlc3RQcm9wcyksIGNoaWxkcmVuKF9leHRlbmRzKHt9LCBkaW1lbnNpb25zLCB7XG4gICAgcmVmOiBwYXJlbnRSZWYuY3VycmVudCxcbiAgICByZXNpemU6IHJlc2l6ZVxuICB9KSkpO1xufVxuUGFyZW50U2l6ZS5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzTmFtZTogX3B0LnN0cmluZyxcbiAgY2hpbGRyZW46IF9wdC5mdW5jLmlzUmVxdWlyZWRcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@visx/responsive/esm/components/ParentSize.js\n\n}");

/***/ }),

/***/ "./node_modules/@visx/responsive/esm/hooks/useParentSize.js":
/*!******************************************************************!*\
  !*** ./node_modules/@visx/responsive/esm/hooks/useParentSize.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useParentSize)\n/* harmony export */ });\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/debounce */ \"./node_modules/lodash/debounce.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\nvar defaultIgnoreDimensions = [];\nvar defaultInitialSize = {\n  width: 0,\n  height: 0,\n  top: 0,\n  left: 0\n};\nfunction useParentSize(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    _ref$initialSize = _ref.initialSize,\n    initialSize = _ref$initialSize === void 0 ? defaultInitialSize : _ref$initialSize,\n    _ref$debounceTime = _ref.debounceTime,\n    debounceTime = _ref$debounceTime === void 0 ? 300 : _ref$debounceTime,\n    _ref$ignoreDimensions = _ref.ignoreDimensions,\n    ignoreDimensions = _ref$ignoreDimensions === void 0 ? defaultIgnoreDimensions : _ref$ignoreDimensions,\n    _ref$enableDebounceLe = _ref.enableDebounceLeadingCall,\n    enableDebounceLeadingCall = _ref$enableDebounceLe === void 0 ? true : _ref$enableDebounceLe,\n    resizeObserverPolyfill = _ref.resizeObserverPolyfill;\n  var parentRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var animationFrameID = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_extends({}, defaultInitialSize, initialSize)),\n    state = _useState[0],\n    setState = _useState[1];\n  var resize = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    var normalized = Array.isArray(ignoreDimensions) ? ignoreDimensions : [ignoreDimensions];\n    return lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()(function (incoming) {\n      setState(function (existing) {\n        var stateKeys = Object.keys(existing);\n        var keysWithChanges = stateKeys.filter(function (key) {\n          return existing[key] !== incoming[key];\n        });\n        var shouldBail = keysWithChanges.every(function (key) {\n          return normalized.includes(key);\n        });\n        return shouldBail ? existing : incoming;\n      });\n    }, debounceTime, {\n      leading: enableDebounceLeadingCall\n    });\n  }, [debounceTime, enableDebounceLeadingCall, ignoreDimensions]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    var LocalResizeObserver = resizeObserverPolyfill || window.ResizeObserver;\n    var observer = new LocalResizeObserver(function (entries) {\n      entries.forEach(function (entry) {\n        var _entry$contentRect;\n        var _ref2 = (_entry$contentRect = entry == null ? void 0 : entry.contentRect) != null ? _entry$contentRect : {},\n          left = _ref2.left,\n          top = _ref2.top,\n          width = _ref2.width,\n          height = _ref2.height;\n        animationFrameID.current = window.requestAnimationFrame(function () {\n          resize({\n            width: width,\n            height: height,\n            top: top,\n            left: left\n          });\n        });\n      });\n    });\n    if (parentRef.current) observer.observe(parentRef.current);\n    return function () {\n      window.cancelAnimationFrame(animationFrameID.current);\n      observer.disconnect();\n      resize.cancel();\n    };\n  }, [resize, resizeObserverPolyfill]);\n  return _extends({\n    parentRef: parentRef,\n    resize: resize\n  }, state);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpc3gvcmVzcG9uc2l2ZS9lc20vaG9va3MvdXNlUGFyZW50U2l6ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvQHZpc3gvcmVzcG9uc2l2ZS9lc20vaG9va3MvdXNlUGFyZW50U2l6ZS5qcz9kNGJjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG52YXIgZGVmYXVsdElnbm9yZURpbWVuc2lvbnMgPSBbXTtcbnZhciBkZWZhdWx0SW5pdGlhbFNpemUgPSB7XG4gIHdpZHRoOiAwLFxuICBoZWlnaHQ6IDAsXG4gIHRvcDogMCxcbiAgbGVmdDogMFxufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVBhcmVudFNpemUoX3RlbXApIHtcbiAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICBfcmVmJGluaXRpYWxTaXplID0gX3JlZi5pbml0aWFsU2l6ZSxcbiAgICBpbml0aWFsU2l6ZSA9IF9yZWYkaW5pdGlhbFNpemUgPT09IHZvaWQgMCA/IGRlZmF1bHRJbml0aWFsU2l6ZSA6IF9yZWYkaW5pdGlhbFNpemUsXG4gICAgX3JlZiRkZWJvdW5jZVRpbWUgPSBfcmVmLmRlYm91bmNlVGltZSxcbiAgICBkZWJvdW5jZVRpbWUgPSBfcmVmJGRlYm91bmNlVGltZSA9PT0gdm9pZCAwID8gMzAwIDogX3JlZiRkZWJvdW5jZVRpbWUsXG4gICAgX3JlZiRpZ25vcmVEaW1lbnNpb25zID0gX3JlZi5pZ25vcmVEaW1lbnNpb25zLFxuICAgIGlnbm9yZURpbWVuc2lvbnMgPSBfcmVmJGlnbm9yZURpbWVuc2lvbnMgPT09IHZvaWQgMCA/IGRlZmF1bHRJZ25vcmVEaW1lbnNpb25zIDogX3JlZiRpZ25vcmVEaW1lbnNpb25zLFxuICAgIF9yZWYkZW5hYmxlRGVib3VuY2VMZSA9IF9yZWYuZW5hYmxlRGVib3VuY2VMZWFkaW5nQ2FsbCxcbiAgICBlbmFibGVEZWJvdW5jZUxlYWRpbmdDYWxsID0gX3JlZiRlbmFibGVEZWJvdW5jZUxlID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRlbmFibGVEZWJvdW5jZUxlLFxuICAgIHJlc2l6ZU9ic2VydmVyUG9seWZpbGwgPSBfcmVmLnJlc2l6ZU9ic2VydmVyUG9seWZpbGw7XG4gIHZhciBwYXJlbnRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBhbmltYXRpb25GcmFtZUlEID0gdXNlUmVmKDApO1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoX2V4dGVuZHMoe30sIGRlZmF1bHRJbml0aWFsU2l6ZSwgaW5pdGlhbFNpemUpKSxcbiAgICBzdGF0ZSA9IF91c2VTdGF0ZVswXSxcbiAgICBzZXRTdGF0ZSA9IF91c2VTdGF0ZVsxXTtcbiAgdmFyIHJlc2l6ZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciBub3JtYWxpemVkID0gQXJyYXkuaXNBcnJheShpZ25vcmVEaW1lbnNpb25zKSA/IGlnbm9yZURpbWVuc2lvbnMgOiBbaWdub3JlRGltZW5zaW9uc107XG4gICAgcmV0dXJuIGRlYm91bmNlKGZ1bmN0aW9uIChpbmNvbWluZykge1xuICAgICAgc2V0U3RhdGUoZnVuY3Rpb24gKGV4aXN0aW5nKSB7XG4gICAgICAgIHZhciBzdGF0ZUtleXMgPSBPYmplY3Qua2V5cyhleGlzdGluZyk7XG4gICAgICAgIHZhciBrZXlzV2l0aENoYW5nZXMgPSBzdGF0ZUtleXMuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmdba2V5XSAhPT0gaW5jb21pbmdba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzaG91bGRCYWlsID0ga2V5c1dpdGhDaGFuZ2VzLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICByZXR1cm4gbm9ybWFsaXplZC5pbmNsdWRlcyhrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNob3VsZEJhaWwgPyBleGlzdGluZyA6IGluY29taW5nO1xuICAgICAgfSk7XG4gICAgfSwgZGVib3VuY2VUaW1lLCB7XG4gICAgICBsZWFkaW5nOiBlbmFibGVEZWJvdW5jZUxlYWRpbmdDYWxsXG4gICAgfSk7XG4gIH0sIFtkZWJvdW5jZVRpbWUsIGVuYWJsZURlYm91bmNlTGVhZGluZ0NhbGwsIGlnbm9yZURpbWVuc2lvbnNdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgTG9jYWxSZXNpemVPYnNlcnZlciA9IHJlc2l6ZU9ic2VydmVyUG9seWZpbGwgfHwgd2luZG93LlJlc2l6ZU9ic2VydmVyO1xuICAgIHZhciBvYnNlcnZlciA9IG5ldyBMb2NhbFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHZhciBfZW50cnkkY29udGVudFJlY3Q7XG4gICAgICAgIHZhciBfcmVmMiA9IChfZW50cnkkY29udGVudFJlY3QgPSBlbnRyeSA9PSBudWxsID8gdm9pZCAwIDogZW50cnkuY29udGVudFJlY3QpICE9IG51bGwgPyBfZW50cnkkY29udGVudFJlY3QgOiB7fSxcbiAgICAgICAgICBsZWZ0ID0gX3JlZjIubGVmdCxcbiAgICAgICAgICB0b3AgPSBfcmVmMi50b3AsXG4gICAgICAgICAgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQ7XG4gICAgICAgIGFuaW1hdGlvbkZyYW1lSUQuY3VycmVudCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlc2l6ZSh7XG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgICAgbGVmdDogbGVmdFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmIChwYXJlbnRSZWYuY3VycmVudCkgb2JzZXJ2ZXIub2JzZXJ2ZShwYXJlbnRSZWYuY3VycmVudCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUlELmN1cnJlbnQpO1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgcmVzaXplLmNhbmNlbCgpO1xuICAgIH07XG4gIH0sIFtyZXNpemUsIHJlc2l6ZU9ic2VydmVyUG9seWZpbGxdKTtcbiAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICBwYXJlbnRSZWY6IHBhcmVudFJlZixcbiAgICByZXNpemU6IHJlc2l6ZVxuICB9LCBzdGF0ZSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@visx/responsive/esm/hooks/useParentSize.js\n\n}");

/***/ }),

/***/ "./node_modules/ace-builds/src-min-noconflict/mode-handlebars.js":
/*!***********************************************************************!*\
  !*** ./node_modules/ace-builds/src-min-noconflict/mode-handlebars.js ***!
  \***********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("{/* module decorator */ module = __webpack_require__.nmd(module);\nace.define(\"ace/mode/jsdoc_comment_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"./text_highlight_rules\").TextHighlightRules,s=function(){this.$rules={start:[{token:[\"comment.doc.tag\",\"comment.doc.text\",\"lparen.doc\"],regex:\"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\\\s*)({)\",push:[{token:\"lparen.doc\",regex:\"{\",push:[{include:\"doc-syntax\"},{token:\"rparen.doc\",regex:\"}|(?=$)\",next:\"pop\"}]},{token:[\"rparen.doc\",\"text.doc\",\"variable.parameter.doc\",\"lparen.doc\",\"variable.parameter.doc\",\"rparen.doc\"],regex:/(})(\\s*)(?:([\\w=:\\/\\.]+)|(?:(\\[)([\\w=:\\/\\.\\-\\'\\\" ]+)(\\])))/,next:\"pop\"},{token:\"rparen.doc\",regex:\"}|(?=$)\",next:\"pop\"},{include:\"doc-syntax\"},{defaultToken:\"text.doc\"}]},{token:[\"comment.doc.tag\",\"text.doc\",\"lparen.doc\"],regex:\"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\\\s*)({)\",push:[{token:\"lparen.doc\",regex:\"{\",push:[{include:\"doc-syntax\"},{token:\"rparen.doc\",regex:\"}|(?=$)\",next:\"pop\"}]},{token:\"rparen.doc\",regex:\"}|(?=$)\",next:\"pop\"},{include:\"doc-syntax\"},{defaultToken:\"text.doc\"}]},{token:[\"comment.doc.tag\",\"text.doc\",\"variable.parameter.doc\"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\\\s+)(\\\\w[\\\\w#.:/~\"\\\\-]*)?'},{token:[\"comment.doc.tag\",\"text.doc\",\"variable.parameter.doc\"],regex:\"(@method)(\\\\s+)(\\\\w[\\\\w.\\\\(\\\\)]*)\"},{token:\"comment.doc.tag\",regex:\"@access\\\\s+(?:private|public|protected)\"},{token:\"comment.doc.tag\",regex:\"@kind\\\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)\"},{token:\"comment.doc.tag\",regex:\"@\\\\w+(?=\\\\s|$)\"},s.getTagRule(),{defaultToken:\"comment.doc.body\",caseInsensitive:!0}],\"doc-syntax\":[{token:\"operator.doc\",regex:/[|:]/},{token:\"paren.doc\",regex:/[\\[\\]]/}]},this.normalizeRules()};r.inherits(s,i),s.getTagRule=function(e){return{token:\"comment.doc.tag.storage.type\",regex:\"\\\\b(?:TODO|FIXME|XXX|HACK)\\\\b\"}},s.getStartRule=function(e){return{token:\"comment.doc\",regex:/\\/\\*\\*(?!\\/)/,next:e}},s.getEndRule=function(e){return{token:\"comment.doc\",regex:\"\\\\*\\\\/\",next:e}},t.JsDocCommentHighlightRules=s}),ace.define(\"ace/mode/javascript_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/jsdoc_comment_highlight_rules\",\"ace/mode/text_highlight_rules\"],function(e,t,n){\"use strict\";function a(){var e=o.replace(\"\\\\d\",\"\\\\d\\\\-\"),t={onMatch:function(e,t,n){var r=e.charAt(1)==\"/\"?2:1;if(r==1)t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++;else if(r==2&&t==this.nextState){n[1]--;if(!n[1]||n[1]<0)n.shift(),n.shift()}return[{type:\"meta.tag.punctuation.\"+(r==1?\"\":\"end-\")+\"tag-open.xml\",value:e.slice(0,r)},{type:\"meta.tag.tag-name.xml\",value:e.substr(r)}]},regex:\"</?(?:\"+e+\"|(?=>))\",next:\"jsxAttributes\",nextState:\"jsx\"};this.$rules.start.unshift(t);var n={regex:\"{\",token:\"paren.quasi.start\",push:\"start\"};this.$rules.jsx=[n,t,{include:\"reference\"},{defaultToken:\"string.xml\"}],this.$rules.jsxAttributes=[{token:\"meta.tag.punctuation.tag-close.xml\",regex:\"/?>\",onMatch:function(e,t,n){return t==n[0]&&n.shift(),e.length==2&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||\"start\",[{type:this.token,value:e}]},nextState:\"jsx\"},n,f(\"jsxAttributes\"),{token:\"entity.other.attribute-name.xml\",regex:e},{token:\"keyword.operator.attribute-equals.xml\",regex:\"=\"},{token:\"text.tag-whitespace.xml\",regex:\"\\\\s+\"},{token:\"string.attribute-value.xml\",regex:\"'\",stateName:\"jsx_attr_q\",push:[{token:\"string.attribute-value.xml\",regex:\"'\",next:\"pop\"},{include:\"reference\"},{defaultToken:\"string.attribute-value.xml\"}]},{token:\"string.attribute-value.xml\",regex:'\"',stateName:\"jsx_attr_qq\",push:[{token:\"string.attribute-value.xml\",regex:'\"',next:\"pop\"},{include:\"reference\"},{defaultToken:\"string.attribute-value.xml\"}]},t],this.$rules.reference=[{token:\"constant.language.escape.reference.xml\",regex:\"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)\"}]}function f(e){return[{token:\"comment\",regex:/\\/\\*/,next:[i.getTagRule(),{token:\"comment\",regex:\"\\\\*\\\\/\",next:e||\"pop\"},{defaultToken:\"comment\",caseInsensitive:!0}]},{token:\"comment\",regex:\"\\\\/\\\\/\",next:[i.getTagRule(),{token:\"comment\",regex:\"$|^\",next:e||\"pop\"},{defaultToken:\"comment\",caseInsensitive:!0}]}]}var r=e(\"../lib/oop\"),i=e(\"./jsdoc_comment_highlight_rules\").JsDocCommentHighlightRules,s=e(\"./text_highlight_rules\").TextHighlightRules,o=\"[a-zA-Z\\\\$_\\u00a1-\\uffff][a-zA-Z\\\\d\\\\$_\\u00a1-\\uffff]*\",u=function(e){var t={\"variable.language\":\"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document\",keyword:\"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor\",\"storage.type\":\"const|let|var|function\",\"constant.language\":\"null|Infinity|NaN|undefined\",\"support.function\":\"alert\",\"constant.language.boolean\":\"true|false\"},n=this.createKeywordMapper(t,\"identifier\"),r=\"case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void\",s=\"\\\\\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)\",u=\"(function)(\\\\s*)(\\\\*?)\",l={token:[\"identifier\",\"text\",\"paren.lparen\"],regex:\"(\\\\b(?!\"+Object.values(t).join(\"|\")+\"\\\\b)\"+o+\")(\\\\s*)(\\\\()\"};this.$rules={no_regex:[i.getStartRule(\"doc-start\"),f(\"no_regex\"),l,{token:\"string\",regex:\"'(?=.)\",next:\"qstring\"},{token:\"string\",regex:'\"(?=.)',next:\"qqstring\"},{token:\"constant.numeric\",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\\b/},{token:\"constant.numeric\",regex:/(?:\\d\\d*(?:\\.\\d*)?|\\.\\d+)(?:[eE][+-]?\\d+\\b)?/},{token:[\"entity.name.function\",\"text\",\"keyword.operator\",\"text\",\"storage.type\",\"text\",\"storage.type\",\"text\",\"paren.lparen\"],regex:\"(\"+o+\")(\\\\s*)(=)(\\\\s*)\"+u+\"(\\\\s*)(\\\\()\",next:\"function_arguments\"},{token:[\"storage.type\",\"text\",\"storage.type\",\"text\",\"text\",\"entity.name.function\",\"text\",\"paren.lparen\"],regex:\"(function)(?:(?:(\\\\s*)(\\\\*)(\\\\s*))|(\\\\s+))(\"+o+\")(\\\\s*)(\\\\()\",next:\"function_arguments\"},{token:[\"entity.name.function\",\"text\",\"punctuation.operator\",\"text\",\"storage.type\",\"text\",\"storage.type\",\"text\",\"paren.lparen\"],regex:\"(\"+o+\")(\\\\s*)(:)(\\\\s*)\"+u+\"(\\\\s*)(\\\\()\",next:\"function_arguments\"},{token:[\"text\",\"text\",\"storage.type\",\"text\",\"storage.type\",\"text\",\"paren.lparen\"],regex:\"(:)(\\\\s*)\"+u+\"(\\\\s*)(\\\\()\",next:\"function_arguments\"},{token:\"keyword\",regex:\"from(?=\\\\s*('|\\\"))\"},{token:\"keyword\",regex:\"(?:\"+r+\")\\\\b\",next:\"start\"},{token:\"support.constant\",regex:/that\\b/},{token:[\"storage.type\",\"punctuation.operator\",\"support.function.firebug\"],regex:/(console)(\\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\\b/},{token:n,regex:o},{token:\"punctuation.operator\",regex:/[.](?![.])/,next:\"property\"},{token:\"storage.type\",regex:/=>/,next:\"start\"},{token:\"keyword.operator\",regex:/--|\\+\\+|\\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\\|\\||\\?:|[!$%&*+\\-~\\/^]=?/,next:\"start\"},{token:\"punctuation.operator\",regex:/[?:,;.]/,next:\"start\"},{token:\"paren.lparen\",regex:/[\\[({]/,next:\"start\"},{token:\"paren.rparen\",regex:/[\\])}]/},{token:\"comment\",regex:/^#!.*$/}],property:[{token:\"text\",regex:\"\\\\s+\"},{token:\"keyword.operator\",regex:/=/},{token:[\"storage.type\",\"text\",\"storage.type\",\"text\",\"paren.lparen\"],regex:u+\"(\\\\s*)(\\\\()\",next:\"function_arguments\"},{token:[\"storage.type\",\"text\",\"storage.type\",\"text\",\"text\",\"entity.name.function\",\"text\",\"paren.lparen\"],regex:\"(function)(?:(?:(\\\\s*)(\\\\*)(\\\\s*))|(\\\\s+))(\\\\w+)(\\\\s*)(\\\\()\",next:\"function_arguments\"},{token:\"punctuation.operator\",regex:/[.](?![.])/},{token:\"support.function\",regex:\"prototype\"},{token:\"support.function\",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\\b(?=\\()/},{token:\"support.function.dom\",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\\b(?=\\()/},{token:\"support.constant\",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\\b/},{token:\"identifier\",regex:o},{regex:\"\",token:\"empty\",next:\"no_regex\"}],start:[i.getStartRule(\"doc-start\"),f(\"start\"),{token:\"string.regexp\",regex:\"\\\\/\",next:\"regex\"},{token:\"text\",regex:\"\\\\s+|^$\",next:\"start\"},{token:\"empty\",regex:\"\",next:\"no_regex\"}],regex:[{token:\"regexp.keyword.operator\",regex:\"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"},{token:\"string.regexp\",regex:\"/[sxngimy]*\",next:\"no_regex\"},{token:\"invalid\",regex:/\\{\\d+\\b,?\\d*\\}[+*]|[+*$^?][+*]|[$^][?]|\\?{3,}/},{token:\"constant.language.escape\",regex:/\\(\\?[:=!]|\\)|\\{\\d+\\b,?\\d*\\}|[+*]\\?|[()$^+*?.]/},{token:\"constant.language.delimiter\",regex:/\\|/},{token:\"constant.language.escape\",regex:/\\[\\^?/,next:\"regex_character_class\"},{token:\"empty\",regex:\"$\",next:\"no_regex\"},{defaultToken:\"string.regexp\"}],regex_character_class:[{token:\"regexp.charclass.keyword.operator\",regex:\"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"},{token:\"constant.language.escape\",regex:\"]\",next:\"regex\"},{token:\"constant.language.escape\",regex:\"-\"},{token:\"empty\",regex:\"$\",next:\"no_regex\"},{defaultToken:\"string.regexp.charachterclass\"}],default_parameter:[{token:\"string\",regex:\"'(?=.)\",push:[{token:\"string\",regex:\"'|$\",next:\"pop\"},{include:\"qstring\"}]},{token:\"string\",regex:'\"(?=.)',push:[{token:\"string\",regex:'\"|$',next:\"pop\"},{include:\"qqstring\"}]},{token:\"constant.language\",regex:\"null|Infinity|NaN|undefined\"},{token:\"constant.numeric\",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\\b/},{token:\"constant.numeric\",regex:/(?:\\d\\d*(?:\\.\\d*)?|\\.\\d+)(?:[eE][+-]?\\d+\\b)?/},{token:\"punctuation.operator\",regex:\",\",next:\"function_arguments\"},{token:\"text\",regex:\"\\\\s+\"},{token:\"punctuation.operator\",regex:\"$\"},{token:\"empty\",regex:\"\",next:\"no_regex\"}],function_arguments:[f(\"function_arguments\"),{token:\"variable.parameter\",regex:o},{token:\"punctuation.operator\",regex:\",\"},{token:\"text\",regex:\"\\\\s+\"},{token:\"punctuation.operator\",regex:\"$\"},{token:\"empty\",regex:\"\",next:\"no_regex\"}],qqstring:[{token:\"constant.language.escape\",regex:s},{token:\"string\",regex:\"\\\\\\\\$\",consumeLineEnd:!0},{token:\"string\",regex:'\"|$',next:\"no_regex\"},{defaultToken:\"string\"}],qstring:[{token:\"constant.language.escape\",regex:s},{token:\"string\",regex:\"\\\\\\\\$\",consumeLineEnd:!0},{token:\"string\",regex:\"'|$\",next:\"no_regex\"},{defaultToken:\"string\"}]};if(!e||!e.noES6)this.$rules.no_regex.unshift({regex:\"[{}]\",onMatch:function(e,t,n){this.next=e==\"{\"?this.nextState:\"\";if(e==\"{\"&&n.length)n.unshift(\"start\",t);else if(e==\"}\"&&n.length){n.shift(),this.next=n.shift();if(this.next.indexOf(\"string\")!=-1||this.next.indexOf(\"jsx\")!=-1)return\"paren.quasi.end\"}return e==\"{\"?\"paren.lparen\":\"paren.rparen\"},nextState:\"start\"},{token:\"string.quasi.start\",regex:/`/,push:[{token:\"constant.language.escape\",regex:s},{token:\"paren.quasi.start\",regex:/\\${/,push:\"start\"},{token:\"string.quasi.end\",regex:/`/,next:\"pop\"},{defaultToken:\"string.quasi\"}]},{token:[\"variable.parameter\",\"text\"],regex:\"(\"+o+\")(\\\\s*)(?=\\\\=>)\"},{token:\"paren.lparen\",regex:\"(\\\\()(?=[^\\\\(]+\\\\s*=>)\",next:\"function_arguments\"},{token:\"variable.language\",regex:\"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\\\b\"}),this.$rules.function_arguments.unshift({token:\"keyword.operator\",regex:\"=\",next:\"default_parameter\"},{token:\"keyword.operator\",regex:\"\\\\.{3}\"}),this.$rules.property.unshift({token:\"support.function\",regex:\"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\\\b(?=\\\\()\"},{token:\"constant.language\",regex:\"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\\\b\"}),(!e||e.jsx!=0)&&a.call(this);this.embedRules(i,\"doc-\",[i.getEndRule(\"no_regex\")]),this.normalizeRules()};r.inherits(u,s),t.JavaScriptHighlightRules=u}),ace.define(\"ace/mode/matching_brace_outdent\",[\"require\",\"exports\",\"module\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"../range\").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return/^\\s+$/.test(e)?/^\\s*\\}/.test(t):!1},this.autoOutdent=function(e,t){var n=e.getLine(t),i=n.match(/^(\\s*\\})/);if(!i)return 0;var s=i[1].length,o=e.findMatchingBracket({row:t,column:s});if(!o||o.row==t)return 0;var u=this.$getIndent(e.getLine(o.row));e.replace(new r(t,0,t,s-1),u)},this.$getIndent=function(e){return e.match(/^\\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),ace.define(\"ace/mode/behaviour/xml\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\"],function(e,t,n){\"use strict\";function o(e,t){return e&&e.type.lastIndexOf(t+\".xml\")>-1}var r=e(\"../../lib/oop\"),i=e(\"../behaviour\").Behaviour,s=e(\"../../token_iterator\").TokenIterator,u=function(){this.add(\"string_dquotes\",\"insertion\",function(e,t,n,r,i){if(i=='\"'||i==\"'\"){var u=i,a=r.doc.getTextRange(n.getSelectionRange());if(a!==\"\"&&a!==\"'\"&&a!='\"'&&n.getWrapBehavioursEnabled())return{text:u+a+u,selection:!1};var f=n.getCursorPosition(),l=r.doc.getLine(f.row),c=l.substring(f.column,f.column+1),h=new s(r,f.row,f.column),p=h.getCurrentToken();if(c==u&&(o(p,\"attribute-value\")||o(p,\"string\")))return{text:\"\",selection:[1,1]};p||(p=h.stepBackward());if(!p)return;while(o(p,\"tag-whitespace\")||o(p,\"whitespace\"))p=h.stepBackward();var d=!c||c.match(/\\s/);if(o(p,\"attribute-equals\")&&(d||c==\">\")||o(p,\"decl-attribute-equals\")&&(d||c==\"?\"))return{text:u+u,selection:[1,1]}}}),this.add(\"string_dquotes\",\"deletion\",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&(s=='\"'||s==\"'\")){var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==s)return i.end.column++,i}}),this.add(\"autoclosing\",\"insertion\",function(e,t,n,r,i){if(i==\">\"){var u=n.getSelectionRange().start,a=new s(r,u.row,u.column),f=a.getCurrentToken()||a.stepBackward();if(!f||!(o(f,\"tag-name\")||o(f,\"tag-whitespace\")||o(f,\"attribute-name\")||o(f,\"attribute-equals\")||o(f,\"attribute-value\")))return;if(o(f,\"reference.attribute-value\"))return;if(o(f,\"attribute-value\")){var l=a.getCurrentTokenColumn()+f.value.length;if(u.column<l)return;if(u.column==l){var c=a.stepForward();if(c&&o(c,\"attribute-value\"))return;a.stepBackward()}}if(/^\\s*>/.test(r.getLine(u.row).slice(u.column)))return;while(!o(f,\"tag-name\")){f=a.stepBackward();if(f.value==\"<\"){f=a.stepForward();break}}var h=a.getCurrentTokenRow(),p=a.getCurrentTokenColumn();if(o(a.stepBackward(),\"end-tag-open\"))return;var d=f.value;h==u.row&&(d=d.substring(0,u.column-p));if(this.voidElements&&this.voidElements.hasOwnProperty(d.toLowerCase()))return;return{text:\"></\"+d+\">\",selection:[1,1]}}}),this.add(\"autoindent\",\"insertion\",function(e,t,n,r,i){if(i==\"\\n\"){var u=n.getCursorPosition(),a=r.getLine(u.row),f=new s(r,u.row,u.column),l=f.getCurrentToken();if(o(l,\"\")&&l.type.indexOf(\"tag-close\")!==-1){if(l.value==\"/>\")return;while(l&&l.type.indexOf(\"tag-name\")===-1)l=f.stepBackward();if(!l)return;var c=l.value,h=f.getCurrentTokenRow();l=f.stepBackward();if(!l||l.type.indexOf(\"end-tag\")!==-1)return;if(this.voidElements&&!this.voidElements[c]||!this.voidElements){var p=r.getTokenAt(u.row,u.column+1),a=r.getLine(h),d=this.$getIndent(a),v=d+r.getTabString();return p&&p.value===\"</\"?{text:\"\\n\"+v+\"\\n\"+d,selection:[1,v.length,1,v.length]}:{text:\"\\n\"+v}}}}})};r.inherits(u,i),t.XmlBehaviour=u}),ace.define(\"ace/mode/behaviour/javascript\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/token_iterator\",\"ace/mode/behaviour/cstyle\",\"ace/mode/behaviour/xml\"],function(e,t,n){\"use strict\";var r=e(\"../../lib/oop\"),i=e(\"../../token_iterator\").TokenIterator,s=e(\"../behaviour/cstyle\").CstyleBehaviour,o=e(\"../behaviour/xml\").XmlBehaviour,u=function(){var e=(new o({closeCurlyBraces:!0})).getBehaviours();this.addBehaviours(e),this.inherit(s),this.add(\"autoclosing-fragment\",\"insertion\",function(e,t,n,r,s){if(s==\">\"){var o=n.getSelectionRange().start,u=new i(r,o.row,o.column),a=u.getCurrentToken()||u.stepBackward();if(!a)return;if(a.value==\"<\")return{text:\"></>\",selection:[1,1]}}})};r.inherits(u,s),t.JavaScriptBehaviour=u}),ace.define(\"ace/mode/folding/xml\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/range\",\"ace/mode/folding/fold_mode\"],function(e,t,n){\"use strict\";function a(e,t){return e&&e.type&&e.type.lastIndexOf(t+\".xml\")>-1}var r=e(\"../../lib/oop\"),i=e(\"../../range\").Range,s=e(\"./fold_mode\").FoldMode,o=t.FoldMode=function(e,t){s.call(this),this.voidElements=e||{},this.optionalEndTags=r.mixin({},this.voidElements),t&&r.mixin(this.optionalEndTags,t)};r.inherits(o,s);var u=function(){this.tagName=\"\",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);return r?r.closing||!r.tagName&&r.selfClosing?t===\"markbeginend\"?\"end\":\"\":!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase())?\"\":this._findEndTagInLine(e,n,r.tagName,r.end.column)?\"\":\"start\":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?\"start\":\"\"},this._getFirstTagInLine=function(e,t){var n=e.getTokens(t),r=new u;for(var i=0;i<n.length;i++){var s=n[i];if(a(s,\"tag-open\")){r.end.column=r.start.column+s.value.length,r.closing=a(s,\"end-tag-open\"),s=n[++i];if(!s)return null;r.tagName=s.value;if(s.value===\"\"){s=n[++i];if(!s)return null;r.tagName=s.value}r.end.column+=s.value.length;for(i++;i<n.length;i++){s=n[i],r.end.column+=s.value.length;if(a(s,\"tag-close\")){r.selfClosing=s.value==\"/>\";break}}return r}if(a(s,\"tag-close\"))return r.selfClosing=s.value==\"/>\",r;r.start.column+=s.value.length}return null},this._findEndTagInLine=function(e,t,n,r){var i=e.getTokens(t),s=0;for(var o=0;o<i.length;o++){var u=i[o];s+=u.value.length;if(s<r-1)continue;if(a(u,\"end-tag-open\")){u=i[o+1],a(u,\"tag-name\")&&u.value===\"\"&&(u=i[o+2]);if(u&&u.value==n)return!0}}return!1},this.getFoldWidgetRange=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r)return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length);var s=e.getMatchingTags({row:n,column:0});if(s)return new i(s.openTag.end.row,s.openTag.end.column,s.closeTag.start.row,s.closeTag.start.column)}}).call(o.prototype)}),ace.define(\"ace/mode/folding/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/range\",\"ace/mode/folding/fold_mode\"],function(e,t,n){\"use strict\";var r=e(\"../../lib/oop\"),i=e(\"../../range\").Range,s=e(\"./fold_mode\").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\\|[^|]*?$/,\"|\"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\\|[^|]*?$/,\"|\"+e.end)))};r.inherits(o,s),function(){this.foldingStartMarker=/([\\{\\[\\(])[^\\}\\]\\)]*$|^\\s*(\\/\\*)/,this.foldingStopMarker=/^[^\\[\\{\\(]*([\\}\\]\\)])|^[\\s\\*]*(\\*\\/)/,this.singleLineBlockCommentRe=/^\\s*(\\/\\*).*\\*\\/\\s*$/,this.tripleStarBlockCommentRe=/^\\s*(\\/\\*\\*\\*).*\\*\\/\\s*$/,this.startRegionRe=/^\\s*(\\/\\*|\\/\\/)#?region\\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return\"\";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?\"start\":i},this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);var s=i.match(this.foldingStartMarker);if(s){var o=s.index;if(s[1])return this.openingBracketBlock(e,s[1],n,o);var u=e.getCommentFoldRange(n,o+s[0].length,1);return u&&!u.isMultiLine()&&(r?u=this.getSectionRange(e,n):t!=\"all\"&&(u=null)),u}if(t===\"markbegin\")return;var s=i.match(this.foldingStopMarker);if(s){var o=s.index+s[0].length;return s[1]?this.closingBracketBlock(e,s[1],n,o):e.getCommentFoldRange(n,o,-1)}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\\S/),s=t,o=n.length;t+=1;var u=t,a=e.getLength();while(++t<a){n=e.getLine(t);var f=n.search(/\\S/);if(f===-1)continue;if(r>f)break;var l=this.getFoldWidgetRange(e,\"all\",t);if(l){if(l.start.row<=s)break;if(l.isMultiLine())t=l.end.row;else if(r==f)break}u=t}return new i(s,o,u,e.getLine(u).length)},this.getCommentRegionBlock=function(e,t,n){var r=t.search(/\\s*$/),s=e.getLength(),o=n,u=/^\\s*(?:\\/\\*|\\/\\/|--)#?(end)?region\\b/,a=1;while(++n<s){t=e.getLine(n);var f=u.exec(t);if(!f)continue;f[1]?a--:a++;if(!a)break}var l=n;if(l>o)return new i(o,r,l,t.length)}}.call(o.prototype)}),ace.define(\"ace/mode/folding/javascript\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/folding/xml\",\"ace/mode/folding/cstyle\"],function(e,t,n){\"use strict\";var r=e(\"../../lib/oop\"),i=e(\"./xml\").FoldMode,s=e(\"./cstyle\").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\\|[^|]*?$/,\"|\"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\\|[^|]*?$/,\"|\"+e.end))),this.xmlFoldMode=new i};r.inherits(o,s),function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=this.getFoldWidgetBase(e,t,n);return r?r:this.xmlFoldMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n,r){var i=this.getFoldWidgetRangeBase(e,t,n,r);return i?i:this.xmlFoldMode.getFoldWidgetRange(e,t,n)}}.call(o.prototype)}),ace.define(\"ace/mode/javascript\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/javascript_highlight_rules\",\"ace/mode/matching_brace_outdent\",\"ace/worker/worker_client\",\"ace/mode/behaviour/javascript\",\"ace/mode/folding/javascript\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"./text\").Mode,s=e(\"./javascript_highlight_rules\").JavaScriptHighlightRules,o=e(\"./matching_brace_outdent\").MatchingBraceOutdent,u=e(\"../worker/worker_client\").WorkerClient,a=e(\"./behaviour/javascript\").JavaScriptBehaviour,f=e(\"./folding/javascript\").FoldMode,l=function(){this.HighlightRules=s,this.$outdent=new o,this.$behaviour=new a,this.foldingRules=new f};r.inherits(l,i),function(){this.lineCommentStart=\"//\",this.blockComment={start:\"/*\",end:\"*/\"},this.$quotes={'\"':'\"',\"'\":\"'\",\"`\":\"`\"},this.$pairQuotesAfter={\"`\":/\\w/},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e),s=i.tokens,o=i.state;if(s.length&&s[s.length-1].type==\"comment\")return r;if(e==\"start\"||e==\"no_regex\"){var u=t.match(/^.*(?:\\bcase\\b.*:|[\\{\\(\\[])\\s*$/);u&&(r+=n)}else if(e==\"doc-start\")if(o==\"start\"||o==\"no_regex\")return\"\";return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new u([\"ace\"],\"ace/mode/javascript_worker\",\"JavaScriptWorker\");return t.attachToDocument(e.getDocument()),t.on(\"annotate\",function(t){e.setAnnotations(t.data)}),t.on(\"terminate\",function(){e.clearAnnotations()}),t},this.$id=\"ace/mode/javascript\",this.snippetFileId=\"ace/snippets/javascript\"}.call(l.prototype),t.Mode=l}),ace.define(\"ace/mode/css_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/mode/text_highlight_rules\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"../lib/lang\"),s=e(\"./text_highlight_rules\").TextHighlightRules,o=t.supportType=\"align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index\",u=t.supportFunction=\"rgb|rgba|url|attr|counter|counters\",a=t.supportConstant=\"absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom\",f=t.supportConstantColor=\"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen\",l=t.supportConstantFonts=\"arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace\",c=t.numRe=\"\\\\-?(?:(?:[0-9]+(?:\\\\.[0-9]+)?)|(?:\\\\.[0-9]+))\",h=t.pseudoElements=\"(\\\\:+)\\\\b(after|before|first-letter|first-line|moz-selection|selection)\\\\b\",p=t.pseudoClasses=\"(:)\\\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\\\b\",d=function(){var e=this.createKeywordMapper({\"support.function\":u,\"support.constant\":a,\"support.type\":o,\"support.constant.color\":f,\"support.constant.fonts\":l},\"text\",!0);this.$rules={start:[{include:[\"strings\",\"url\",\"comments\"]},{token:\"paren.lparen\",regex:\"\\\\{\",next:\"ruleset\"},{token:\"paren.rparen\",regex:\"\\\\}\"},{token:\"string\",regex:\"@(?!viewport)\",next:\"media\"},{token:\"keyword\",regex:\"#[a-z0-9-_]+\"},{token:\"keyword\",regex:\"%\"},{token:\"variable\",regex:\"\\\\.[a-z0-9-_]+\"},{token:\"string\",regex:\":[a-z0-9-_]+\"},{token:\"constant.numeric\",regex:c},{token:\"constant\",regex:\"[a-z0-9-_]+\"},{caseInsensitive:!0}],media:[{include:[\"strings\",\"url\",\"comments\"]},{token:\"paren.lparen\",regex:\"\\\\{\",next:\"start\"},{token:\"paren.rparen\",regex:\"\\\\}\",next:\"start\"},{token:\"string\",regex:\";\",next:\"start\"},{token:\"keyword\",regex:\"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)\"}],comments:[{token:\"comment\",regex:\"\\\\/\\\\*\",push:[{token:\"comment\",regex:\"\\\\*\\\\/\",next:\"pop\"},{defaultToken:\"comment\"}]}],ruleset:[{regex:\"-(webkit|ms|moz|o)-\",token:\"text\"},{token:\"punctuation.operator\",regex:\"[:;]\"},{token:\"paren.rparen\",regex:\"\\\\}\",next:\"start\"},{include:[\"strings\",\"url\",\"comments\"]},{token:[\"constant.numeric\",\"keyword\"],regex:\"(\"+c+\")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)\"},{token:\"constant.numeric\",regex:c},{token:\"constant.numeric\",regex:\"#[a-f0-9]{6}\"},{token:\"constant.numeric\",regex:\"#[a-f0-9]{3}\"},{token:[\"punctuation\",\"entity.other.attribute-name.pseudo-element.css\"],regex:h},{token:[\"punctuation\",\"entity.other.attribute-name.pseudo-class.css\"],regex:p},{include:\"url\"},{token:e,regex:\"\\\\-?[a-zA-Z_][a-zA-Z0-9_\\\\-]*\"},{token:\"paren.lparen\",regex:\"\\\\{\"},{caseInsensitive:!0}],url:[{token:\"support.function\",regex:\"(?:url(:?-prefix)?|domain|regexp)\\\\(\",push:[{token:\"support.function\",regex:\"\\\\)\",next:\"pop\"},{defaultToken:\"string\"}]}],strings:[{token:\"string.start\",regex:\"'\",push:[{token:\"string.end\",regex:\"'|$\",next:\"pop\"},{include:\"escapes\"},{token:\"constant.language.escape\",regex:/\\\\$/,consumeLineEnd:!0},{defaultToken:\"string\"}]},{token:\"string.start\",regex:'\"',push:[{token:\"string.end\",regex:'\"|$',next:\"pop\"},{include:\"escapes\"},{token:\"constant.language.escape\",regex:/\\\\$/,consumeLineEnd:!0},{defaultToken:\"string\"}]}],escapes:[{token:\"constant.language.escape\",regex:/\\\\([a-fA-F\\d]{1,6}|[^a-fA-F\\d])/}]},this.normalizeRules()};r.inherits(d,s),t.CssHighlightRules=d}),ace.define(\"ace/mode/css_completions\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r={background:{\"#$0\":1},\"background-color\":{\"#$0\":1,transparent:1,fixed:1},\"background-image\":{\"url('/$0')\":1},\"background-repeat\":{repeat:1,\"repeat-x\":1,\"repeat-y\":1,\"no-repeat\":1,inherit:1},\"background-position\":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},\"background-attachment\":{scroll:1,fixed:1},\"background-size\":{cover:1,contain:1},\"background-clip\":{\"border-box\":1,\"padding-box\":1,\"content-box\":1},\"background-origin\":{\"border-box\":1,\"padding-box\":1,\"content-box\":1},border:{\"solid $0\":1,\"dashed $0\":1,\"dotted $0\":1,\"#$0\":1},\"border-color\":{\"#$0\":1},\"border-style\":{solid:2,dashed:2,dotted:2,\"double\":2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},\"border-collapse\":{collapse:1,separate:1},bottom:{px:1,em:1,\"%\":1},clear:{left:1,right:1,both:1,none:1},color:{\"#$0\":1,\"rgb(#$00,0,0)\":1},cursor:{\"default\":1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,\"n-resize\":1,\"ne-resize\":1,\"e-resize\":1,\"se-resize\":1,\"s-resize\":1,\"sw-resize\":1,\"w-resize\":1,\"nw-resize\":1},display:{none:1,block:1,inline:1,\"inline-block\":1,\"table-cell\":1},\"empty-cells\":{show:1,hide:1},\"float\":{left:1,right:1,none:1},\"font-family\":{Arial:2,\"Comic Sans MS\":2,Consolas:2,\"Courier New\":2,Courier:2,Georgia:2,Monospace:2,\"Sans-Serif\":2,\"Segoe UI\":2,Tahoma:2,\"Times New Roman\":2,\"Trebuchet MS\":2,Verdana:1},\"font-size\":{px:1,em:1,\"%\":1},\"font-weight\":{bold:1,normal:1},\"font-style\":{italic:1,normal:1},\"font-variant\":{normal:1,\"small-caps\":1},height:{px:1,em:1,\"%\":1},left:{px:1,em:1,\"%\":1},\"letter-spacing\":{normal:1},\"line-height\":{normal:1},\"list-style-type\":{none:1,disc:1,circle:1,square:1,decimal:1,\"decimal-leading-zero\":1,\"lower-roman\":1,\"upper-roman\":1,\"lower-greek\":1,\"lower-latin\":1,\"upper-latin\":1,georgian:1,\"lower-alpha\":1,\"upper-alpha\":1},margin:{px:1,em:1,\"%\":1},\"margin-right\":{px:1,em:1,\"%\":1},\"margin-left\":{px:1,em:1,\"%\":1},\"margin-top\":{px:1,em:1,\"%\":1},\"margin-bottom\":{px:1,em:1,\"%\":1},\"max-height\":{px:1,em:1,\"%\":1},\"max-width\":{px:1,em:1,\"%\":1},\"min-height\":{px:1,em:1,\"%\":1},\"min-width\":{px:1,em:1,\"%\":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},\"overflow-x\":{hidden:1,visible:1,auto:1,scroll:1},\"overflow-y\":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,\"%\":1},\"padding-top\":{px:1,em:1,\"%\":1},\"padding-right\":{px:1,em:1,\"%\":1},\"padding-bottom\":{px:1,em:1,\"%\":1},\"padding-left\":{px:1,em:1,\"%\":1},\"page-break-after\":{auto:1,always:1,avoid:1,left:1,right:1},\"page-break-before\":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,\"static\":1},right:{px:1,em:1,\"%\":1},\"table-layout\":{fixed:1,auto:1},\"text-decoration\":{none:1,underline:1,\"line-through\":1,blink:1},\"text-align\":{left:1,right:1,center:1,justify:1},\"text-transform\":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,\"%\":1},\"vertical-align\":{top:1,bottom:1},visibility:{hidden:1,visible:1},\"white-space\":{nowrap:1,normal:1,pre:1,\"pre-line\":1,\"pre-wrap\":1},width:{px:1,em:1,\"%\":1},\"word-spacing\":{normal:1},filter:{\"alpha(opacity=$0100)\":1},\"text-shadow\":{\"$02px 2px 2px #777\":1},\"text-overflow\":{\"ellipsis-word\":1,clip:1,ellipsis:1},\"-moz-border-radius\":1,\"-moz-border-radius-topright\":1,\"-moz-border-radius-bottomright\":1,\"-moz-border-radius-topleft\":1,\"-moz-border-radius-bottomleft\":1,\"-webkit-border-radius\":1,\"-webkit-border-top-right-radius\":1,\"-webkit-border-top-left-radius\":1,\"-webkit-border-bottom-right-radius\":1,\"-webkit-border-bottom-left-radius\":1,\"-moz-box-shadow\":1,\"-webkit-box-shadow\":1,transform:{\"rotate($00deg)\":1,\"skew($00deg)\":1},\"-moz-transform\":{\"rotate($00deg)\":1,\"skew($00deg)\":1},\"-webkit-transform\":{\"rotate($00deg)\":1,\"skew($00deg)\":1}},i=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement(\"c\").style;for(var t in e){if(typeof e[t]!=\"string\")continue;var n=t.replace(/[A-Z]/g,function(e){return\"-\"+e.toLowerCase()});r.hasOwnProperty(n)||(r[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,r){this.completionsDefined||this.defineCompletions();if(e===\"ruleset\"||t.$mode.$id==\"ace/mode/scss\"){var i=t.getLine(n.row).substr(0,n.column),s=/\\([^)]*$/.test(i);return s&&(i=i.substr(i.lastIndexOf(\"(\")+1)),/:[^;]+$/.test(i)?(/([\\w\\-]+):[^:]*$/.test(i),this.getPropertyValueCompletions(e,t,n,r)):this.getPropertyCompletions(e,t,n,r,s)}return[]},this.getPropertyCompletions=function(e,t,n,i,s){s=s||!1;var o=Object.keys(r);return o.map(function(e){return{caption:e,snippet:e+\": $0\"+(s?\"\":\";\"),meta:\"property\",score:1e6}})},this.getPropertyValueCompletions=function(e,t,n,i){var s=t.getLine(n.row).substr(0,n.column),o=(/([\\w\\-]+):[^:]*$/.exec(s)||{})[1];if(!o)return[];var u=[];return o in r&&typeof r[o]==\"object\"&&(u=Object.keys(r[o])),u.map(function(e){return{caption:e,snippet:e,meta:\"property value\",score:1e6}})}}).call(i.prototype),t.CssCompletions=i}),ace.define(\"ace/mode/behaviour/css\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/mode/behaviour/cstyle\",\"ace/token_iterator\"],function(e,t,n){\"use strict\";var r=e(\"../../lib/oop\"),i=e(\"../behaviour\").Behaviour,s=e(\"./cstyle\").CstyleBehaviour,o=e(\"../../token_iterator\").TokenIterator,u=function(){this.inherit(s),this.add(\"colon\",\"insertion\",function(e,t,n,r,i){if(i===\":\"&&n.selection.isEmpty()){var s=n.getCursorPosition(),u=new o(r,s.row,s.column),a=u.getCurrentToken();a&&a.value.match(/\\s+/)&&(a=u.stepBackward());if(a&&a.type===\"support.type\"){var f=r.doc.getLine(s.row),l=f.substring(s.column,s.column+1);if(l===\":\")return{text:\"\",selection:[1,1]};if(/^(\\s+[^;]|\\s*$)/.test(f.substring(s.column)))return{text:\":;\",selection:[1,1]}}}}),this.add(\"colon\",\"deletion\",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s===\":\"){var u=n.getCursorPosition(),a=new o(r,u.row,u.column),f=a.getCurrentToken();f&&f.value.match(/\\s+/)&&(f=a.stepBackward());if(f&&f.type===\"support.type\"){var l=r.doc.getLine(i.start.row),c=l.substring(i.end.column,i.end.column+1);if(c===\";\")return i.end.column++,i}}}),this.add(\"semicolon\",\"insertion\",function(e,t,n,r,i){if(i===\";\"&&n.selection.isEmpty()){var s=n.getCursorPosition(),o=r.doc.getLine(s.row),u=o.substring(s.column,s.column+1);if(u===\";\")return{text:\"\",selection:[1,1]}}}),this.add(\"!important\",\"insertion\",function(e,t,n,r,i){if(i===\"!\"&&n.selection.isEmpty()){var s=n.getCursorPosition(),o=r.doc.getLine(s.row);if(/^\\s*(;|}|$)/.test(o.substring(s.column)))return{text:\"!important\",selection:[10,10]}}})};r.inherits(u,s),t.CssBehaviour=u}),ace.define(\"ace/mode/css\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/css_highlight_rules\",\"ace/mode/matching_brace_outdent\",\"ace/worker/worker_client\",\"ace/mode/css_completions\",\"ace/mode/behaviour/css\",\"ace/mode/folding/cstyle\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"./text\").Mode,s=e(\"./css_highlight_rules\").CssHighlightRules,o=e(\"./matching_brace_outdent\").MatchingBraceOutdent,u=e(\"../worker/worker_client\").WorkerClient,a=e(\"./css_completions\").CssCompletions,f=e(\"./behaviour/css\").CssBehaviour,l=e(\"./folding/cstyle\").FoldMode,c=function(){this.HighlightRules=s,this.$outdent=new o,this.$behaviour=new f,this.$completer=new a,this.foldingRules=new l};r.inherits(c,i),function(){this.foldingRules=\"cStyle\",this.blockComment={start:\"/*\",end:\"*/\"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e).tokens;if(i.length&&i[i.length-1].type==\"comment\")return r;var s=t.match(/^.*\\{\\s*$/);return s&&(r+=n),r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){var t=new u([\"ace\"],\"ace/mode/css_worker\",\"Worker\");return t.attachToDocument(e.getDocument()),t.on(\"annotate\",function(t){e.setAnnotations(t.data)}),t.on(\"terminate\",function(){e.clearAnnotations()}),t},this.$id=\"ace/mode/css\",this.snippetFileId=\"ace/snippets/css\"}.call(c.prototype),t.Mode=c}),ace.define(\"ace/mode/xml_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"./text_highlight_rules\").TextHighlightRules,s=function(e){var t=\"[_:a-zA-Z\\u00c0-\\uffff][-_:.a-zA-Z0-9\\u00c0-\\uffff]*\";this.$rules={start:[{token:\"string.cdata.xml\",regex:\"<\\\\!\\\\[CDATA\\\\[\",next:\"cdata\"},{token:[\"punctuation.instruction.xml\",\"keyword.instruction.xml\"],regex:\"(<\\\\?)(\"+t+\")\",next:\"processing_instruction\"},{token:\"comment.start.xml\",regex:\"<\\\\!--\",next:\"comment\"},{token:[\"xml-pe.doctype.xml\",\"xml-pe.doctype.xml\"],regex:\"(<\\\\!)(DOCTYPE)(?=[\\\\s])\",next:\"doctype\",caseInsensitive:!0},{include:\"tag\"},{token:\"text.end-tag-open.xml\",regex:\"</\"},{token:\"text.tag-open.xml\",regex:\"<\"},{include:\"reference\"},{defaultToken:\"text.xml\"}],processing_instruction:[{token:\"entity.other.attribute-name.decl-attribute-name.xml\",regex:t},{token:\"keyword.operator.decl-attribute-equals.xml\",regex:\"=\"},{include:\"whitespace\"},{include:\"string\"},{token:\"punctuation.xml-decl.xml\",regex:\"\\\\?>\",next:\"start\"}],doctype:[{include:\"whitespace\"},{include:\"string\"},{token:\"xml-pe.doctype.xml\",regex:\">\",next:\"start\"},{token:\"xml-pe.xml\",regex:\"[-_a-zA-Z0-9:]+\"},{token:\"punctuation.int-subset\",regex:\"\\\\[\",push:\"int_subset\"}],int_subset:[{token:\"text.xml\",regex:\"\\\\s+\"},{token:\"punctuation.int-subset.xml\",regex:\"]\",next:\"pop\"},{token:[\"punctuation.markup-decl.xml\",\"keyword.markup-decl.xml\"],regex:\"(<\\\\!)(\"+t+\")\",push:[{token:\"text\",regex:\"\\\\s+\"},{token:\"punctuation.markup-decl.xml\",regex:\">\",next:\"pop\"},{include:\"string\"}]}],cdata:[{token:\"string.cdata.xml\",regex:\"\\\\]\\\\]>\",next:\"start\"},{token:\"text.xml\",regex:\"\\\\s+\"},{token:\"text.xml\",regex:\"(?:[^\\\\]]|\\\\](?!\\\\]>))+\"}],comment:[{token:\"comment.end.xml\",regex:\"-->\",next:\"start\"},{defaultToken:\"comment.xml\"}],reference:[{token:\"constant.language.escape.reference.xml\",regex:\"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)\"}],attr_reference:[{token:\"constant.language.escape.reference.attribute-value.xml\",regex:\"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)\"}],tag:[{token:[\"meta.tag.punctuation.tag-open.xml\",\"meta.tag.punctuation.end-tag-open.xml\",\"meta.tag.tag-name.xml\"],regex:\"(?:(<)|(</))((?:\"+t+\":)?\"+t+\")\",next:[{include:\"attributes\"},{token:\"meta.tag.punctuation.tag-close.xml\",regex:\"/?>\",next:\"start\"}]}],tag_whitespace:[{token:\"text.tag-whitespace.xml\",regex:\"\\\\s+\"}],whitespace:[{token:\"text.whitespace.xml\",regex:\"\\\\s+\"}],string:[{token:\"string.xml\",regex:\"'\",push:[{token:\"string.xml\",regex:\"'\",next:\"pop\"},{defaultToken:\"string.xml\"}]},{token:\"string.xml\",regex:'\"',push:[{token:\"string.xml\",regex:'\"',next:\"pop\"},{defaultToken:\"string.xml\"}]}],attributes:[{token:\"entity.other.attribute-name.xml\",regex:t},{token:\"keyword.operator.attribute-equals.xml\",regex:\"=\"},{include:\"tag_whitespace\"},{include:\"attribute_value\"}],attribute_value:[{token:\"string.attribute-value.xml\",regex:\"'\",push:[{token:\"string.attribute-value.xml\",regex:\"'\",next:\"pop\"},{include:\"attr_reference\"},{defaultToken:\"string.attribute-value.xml\"}]},{token:\"string.attribute-value.xml\",regex:'\"',push:[{token:\"string.attribute-value.xml\",regex:'\"',next:\"pop\"},{include:\"attr_reference\"},{defaultToken:\"string.attribute-value.xml\"}]}]},this.constructor===s&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:[\"meta.tag.punctuation.tag-open.xml\",\"meta.tag.\"+n+\".tag-name.xml\"],regex:\"(<)(\"+n+\"(?=\\\\s|>|$))\",next:[{include:\"attributes\"},{token:\"meta.tag.punctuation.tag-close.xml\",regex:\"/?>\",next:t+\"start\"}]}),this.$rules[n+\"-end\"]=[{include:\"attributes\"},{token:\"meta.tag.punctuation.tag-close.xml\",regex:\"/?>\",next:\"start\",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:[\"meta.tag.punctuation.end-tag-open.xml\",\"meta.tag.\"+n+\".tag-name.xml\"],regex:\"(</)(\"+n+\"(?=\\\\s|>|$))\",next:n+\"-end\"},{token:\"string.cdata.xml\",regex:\"<\\\\!\\\\[CDATA\\\\[\"},{token:\"string.cdata.xml\",regex:\"\\\\]\\\\]>\"}])}}).call(i.prototype),r.inherits(s,i),t.XmlHighlightRules=s}),ace.define(\"ace/mode/html_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/mode/css_highlight_rules\",\"ace/mode/javascript_highlight_rules\",\"ace/mode/xml_highlight_rules\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"../lib/lang\"),s=e(\"./css_highlight_rules\").CssHighlightRules,o=e(\"./javascript_highlight_rules\").JavaScriptHighlightRules,u=e(\"./xml_highlight_rules\").XmlHighlightRules,a=i.createMap({a:\"anchor\",button:\"form\",form:\"form\",img:\"image\",input:\"form\",label:\"form\",option:\"form\",script:\"script\",select:\"form\",textarea:\"form\",style:\"style\",table:\"table\",tbody:\"table\",td:\"table\",tfoot:\"table\",th:\"table\",tr:\"table\"}),f=function(){u.call(this),this.addRules({attributes:[{include:\"tag_whitespace\"},{token:\"entity.other.attribute-name.xml\",regex:\"[-_a-zA-Z0-9:.]+\"},{token:\"keyword.operator.attribute-equals.xml\",regex:\"=\",push:[{include:\"tag_whitespace\"},{token:\"string.unquoted.attribute-value.html\",regex:\"[^<>='\\\"`\\\\s]+\",next:\"pop\"},{token:\"empty\",regex:\"\",next:\"pop\"}]},{include:\"attribute_value\"}],tag:[{token:function(e,t){var n=a[t];return[\"meta.tag.punctuation.\"+(e==\"<\"?\"\":\"end-\")+\"tag-open.xml\",\"meta.tag\"+(n?\".\"+n:\"\")+\".tag-name.xml\"]},regex:\"(</?)([-_a-zA-Z0-9:.]+)\",next:\"tag_stuff\"}],tag_stuff:[{include:\"attributes\"},{token:\"meta.tag.punctuation.tag-close.xml\",regex:\"/?>\",next:\"start\"}]}),this.embedTagRules(s,\"css-\",\"style\"),this.embedTagRules((new o({jsx:!1})).getRules(),\"js-\",\"script\"),this.constructor===f&&this.normalizeRules()};r.inherits(f,u),t.HtmlHighlightRules=f}),ace.define(\"ace/mode/folding/mixed\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/folding/fold_mode\"],function(e,t,n){\"use strict\";var r=e(\"../../lib/oop\"),i=e(\"./fold_mode\").FoldMode,s=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};r.inherits(s,i),function(){this.$getMode=function(e){typeof e!=\"string\"&&(e=e[0]);for(var t in this.subModes)if(e.indexOf(t)===0)return this.subModes[t];return null},this.$tryMode=function(e,t,n,r){var i=this.$getMode(e);return i?i.getFoldWidget(t,n,r):\"\"},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var r=this.$getMode(e.getState(n-1));if(!r||!r.getFoldWidget(e,t,n))r=this.$getMode(e.getState(n));if(!r||!r.getFoldWidget(e,t,n))r=this.defaultMode;return r.getFoldWidgetRange(e,t,n)}}.call(s.prototype)}),ace.define(\"ace/mode/folding/html\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/folding/mixed\",\"ace/mode/folding/xml\",\"ace/mode/folding/cstyle\"],function(e,t,n){\"use strict\";var r=e(\"../../lib/oop\"),i=e(\"./mixed\").FoldMode,s=e(\"./xml\").FoldMode,o=e(\"./cstyle\").FoldMode,u=t.FoldMode=function(e,t){i.call(this,new s(e,t),{\"js-\":new o,\"css-\":new o})};r.inherits(u,i)}),ace.define(\"ace/mode/html_completions\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\"],function(e,t,n){\"use strict\";function f(e,t){return e.type.lastIndexOf(t+\".xml\")>-1}function l(e,t){var n=new r(e,t.row,t.column),i=n.getCurrentToken();while(i&&!f(i,\"tag-name\"))i=n.stepBackward();if(i)return i.value}function c(e,t){var n=new r(e,t.row,t.column),i=n.getCurrentToken();while(i&&!f(i,\"attribute-name\"))i=n.stepBackward();if(i)return i.value}var r=e(\"../token_iterator\").TokenIterator,i=[\"accesskey\",\"class\",\"contenteditable\",\"contextmenu\",\"dir\",\"draggable\",\"dropzone\",\"hidden\",\"id\",\"inert\",\"itemid\",\"itemprop\",\"itemref\",\"itemscope\",\"itemtype\",\"lang\",\"spellcheck\",\"style\",\"tabindex\",\"title\",\"translate\"],s=[\"onabort\",\"onblur\",\"oncancel\",\"oncanplay\",\"oncanplaythrough\",\"onchange\",\"onclick\",\"onclose\",\"oncontextmenu\",\"oncuechange\",\"ondblclick\",\"ondrag\",\"ondragend\",\"ondragenter\",\"ondragleave\",\"ondragover\",\"ondragstart\",\"ondrop\",\"ondurationchange\",\"onemptied\",\"onended\",\"onerror\",\"onfocus\",\"oninput\",\"oninvalid\",\"onkeydown\",\"onkeypress\",\"onkeyup\",\"onload\",\"onloadeddata\",\"onloadedmetadata\",\"onloadstart\",\"onmousedown\",\"onmousemove\",\"onmouseout\",\"onmouseover\",\"onmouseup\",\"onmousewheel\",\"onpause\",\"onplay\",\"onplaying\",\"onprogress\",\"onratechange\",\"onreset\",\"onscroll\",\"onseeked\",\"onseeking\",\"onselect\",\"onshow\",\"onstalled\",\"onsubmit\",\"onsuspend\",\"ontimeupdate\",\"onvolumechange\",\"onwaiting\"],o=i.concat(s),u={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{\"accept-charset\":1,action:1,autocomplete:1,enctype:{\"multipart/form-data\":1,\"application/x-www-form-urlencoded\":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{\"allow-same-origin\":1,\"allow-top-navigation\":1,\"allow-forms\":1,\"allow-scripts\":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,\"datetime-local\":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{\"application/x-www-form-urlencoded\":1,\"multipart/form-data\":1,\"text/plain\":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,\"for\":1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{\"text/css\":1,\"image/png\":1,\"image/jpeg\":1,\"image/gif\":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{\"http-equiv\":{\"content-type\":1},name:{description:1,keywords:1},content:{\"text/html; charset=UTF-8\":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{\"for\":1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{\"text/javascript\":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,\"default\":1},section:{},summary:{},u:{},ul:{},\"var\":{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},a=Object.keys(u),h=function(){};(function(){this.getCompletions=function(e,t,n,r){var i=t.getTokenAt(n.row,n.column);if(!i)return[];if(f(i,\"tag-name\")||f(i,\"tag-open\")||f(i,\"end-tag-open\"))return this.getTagCompletions(e,t,n,r);if(f(i,\"tag-whitespace\")||f(i,\"attribute-name\"))return this.getAttributeCompletions(e,t,n,r);if(f(i,\"attribute-value\"))return this.getAttributeValueCompletions(e,t,n,r);var s=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(s)?this.getHTMLEntityCompletions(e,t,n,r):[]},this.getTagCompletions=function(e,t,n,r){return a.map(function(e){return{value:e,meta:\"tag\",score:1e6}})},this.getAttributeCompletions=function(e,t,n,r){var i=l(t,n);if(!i)return[];var s=o;return i in u&&(s=s.concat(Object.keys(u[i]))),s.map(function(e){return{caption:e,snippet:e+'=\"$0\"',meta:\"attribute\",score:1e6}})},this.getAttributeValueCompletions=function(e,t,n,r){var i=l(t,n),s=c(t,n);if(!i)return[];var o=[];return i in u&&s in u[i]&&typeof u[i][s]==\"object\"&&(o=Object.keys(u[i][s])),o.map(function(e){return{caption:e,snippet:e,meta:\"attribute value\",score:1e6}})},this.getHTMLEntityCompletions=function(e,t,n,r){var i=[\"Aacute;\",\"aacute;\",\"Acirc;\",\"acirc;\",\"acute;\",\"AElig;\",\"aelig;\",\"Agrave;\",\"agrave;\",\"alefsym;\",\"Alpha;\",\"alpha;\",\"amp;\",\"and;\",\"ang;\",\"Aring;\",\"aring;\",\"asymp;\",\"Atilde;\",\"atilde;\",\"Auml;\",\"auml;\",\"bdquo;\",\"Beta;\",\"beta;\",\"brvbar;\",\"bull;\",\"cap;\",\"Ccedil;\",\"ccedil;\",\"cedil;\",\"cent;\",\"Chi;\",\"chi;\",\"circ;\",\"clubs;\",\"cong;\",\"copy;\",\"crarr;\",\"cup;\",\"curren;\",\"Dagger;\",\"dagger;\",\"dArr;\",\"darr;\",\"deg;\",\"Delta;\",\"delta;\",\"diams;\",\"divide;\",\"Eacute;\",\"eacute;\",\"Ecirc;\",\"ecirc;\",\"Egrave;\",\"egrave;\",\"empty;\",\"emsp;\",\"ensp;\",\"Epsilon;\",\"epsilon;\",\"equiv;\",\"Eta;\",\"eta;\",\"ETH;\",\"eth;\",\"Euml;\",\"euml;\",\"euro;\",\"exist;\",\"fnof;\",\"forall;\",\"frac12;\",\"frac14;\",\"frac34;\",\"frasl;\",\"Gamma;\",\"gamma;\",\"ge;\",\"gt;\",\"hArr;\",\"harr;\",\"hearts;\",\"hellip;\",\"Iacute;\",\"iacute;\",\"Icirc;\",\"icirc;\",\"iexcl;\",\"Igrave;\",\"igrave;\",\"image;\",\"infin;\",\"int;\",\"Iota;\",\"iota;\",\"iquest;\",\"isin;\",\"Iuml;\",\"iuml;\",\"Kappa;\",\"kappa;\",\"Lambda;\",\"lambda;\",\"lang;\",\"laquo;\",\"lArr;\",\"larr;\",\"lceil;\",\"ldquo;\",\"le;\",\"lfloor;\",\"lowast;\",\"loz;\",\"lrm;\",\"lsaquo;\",\"lsquo;\",\"lt;\",\"macr;\",\"mdash;\",\"micro;\",\"middot;\",\"minus;\",\"Mu;\",\"mu;\",\"nabla;\",\"nbsp;\",\"ndash;\",\"ne;\",\"ni;\",\"not;\",\"notin;\",\"nsub;\",\"Ntilde;\",\"ntilde;\",\"Nu;\",\"nu;\",\"Oacute;\",\"oacute;\",\"Ocirc;\",\"ocirc;\",\"OElig;\",\"oelig;\",\"Ograve;\",\"ograve;\",\"oline;\",\"Omega;\",\"omega;\",\"Omicron;\",\"omicron;\",\"oplus;\",\"or;\",\"ordf;\",\"ordm;\",\"Oslash;\",\"oslash;\",\"Otilde;\",\"otilde;\",\"otimes;\",\"Ouml;\",\"ouml;\",\"para;\",\"part;\",\"permil;\",\"perp;\",\"Phi;\",\"phi;\",\"Pi;\",\"pi;\",\"piv;\",\"plusmn;\",\"pound;\",\"Prime;\",\"prime;\",\"prod;\",\"prop;\",\"Psi;\",\"psi;\",\"quot;\",\"radic;\",\"rang;\",\"raquo;\",\"rArr;\",\"rarr;\",\"rceil;\",\"rdquo;\",\"real;\",\"reg;\",\"rfloor;\",\"Rho;\",\"rho;\",\"rlm;\",\"rsaquo;\",\"rsquo;\",\"sbquo;\",\"Scaron;\",\"scaron;\",\"sdot;\",\"sect;\",\"shy;\",\"Sigma;\",\"sigma;\",\"sigmaf;\",\"sim;\",\"spades;\",\"sub;\",\"sube;\",\"sum;\",\"sup;\",\"sup1;\",\"sup2;\",\"sup3;\",\"supe;\",\"szlig;\",\"Tau;\",\"tau;\",\"there4;\",\"Theta;\",\"theta;\",\"thetasym;\",\"thinsp;\",\"THORN;\",\"thorn;\",\"tilde;\",\"times;\",\"trade;\",\"Uacute;\",\"uacute;\",\"uArr;\",\"uarr;\",\"Ucirc;\",\"ucirc;\",\"Ugrave;\",\"ugrave;\",\"uml;\",\"upsih;\",\"Upsilon;\",\"upsilon;\",\"Uuml;\",\"uuml;\",\"weierp;\",\"Xi;\",\"xi;\",\"Yacute;\",\"yacute;\",\"yen;\",\"Yuml;\",\"yuml;\",\"Zeta;\",\"zeta;\",\"zwj;\",\"zwnj;\"];return i.map(function(e){return{caption:e,snippet:e,meta:\"html entity\",score:1e6}})}}).call(h.prototype),t.HtmlCompletions=h}),ace.define(\"ace/mode/html\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/mode/text\",\"ace/mode/javascript\",\"ace/mode/css\",\"ace/mode/html_highlight_rules\",\"ace/mode/behaviour/xml\",\"ace/mode/folding/html\",\"ace/mode/html_completions\",\"ace/worker/worker_client\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"../lib/lang\"),s=e(\"./text\").Mode,o=e(\"./javascript\").Mode,u=e(\"./css\").Mode,a=e(\"./html_highlight_rules\").HtmlHighlightRules,f=e(\"./behaviour/xml\").XmlBehaviour,l=e(\"./folding/html\").FoldMode,c=e(\"./html_completions\").HtmlCompletions,h=e(\"../worker/worker_client\").WorkerClient,p=[\"area\",\"base\",\"br\",\"col\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"meta\",\"menuitem\",\"param\",\"source\",\"track\",\"wbr\"],d=[\"li\",\"dt\",\"dd\",\"p\",\"rt\",\"rp\",\"optgroup\",\"option\",\"colgroup\",\"td\",\"th\"],v=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=a,this.$behaviour=new f,this.$completer=new c,this.createModeDelegates({\"js-\":o,\"css-\":u}),this.foldingRules=new l(this.voidElements,i.arrayToMap(d))};r.inherits(v,s),function(){this.blockComment={start:\"<!--\",end:\"-->\"},this.voidElements=i.arrayToMap(p),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){if(this.constructor!=v)return;var t=new h([\"ace\"],\"ace/mode/html_worker\",\"Worker\");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call(\"setOptions\",[{context:this.fragmentContext}]),t.on(\"error\",function(t){e.setAnnotations(t.data)}),t.on(\"terminate\",function(){e.clearAnnotations()}),t},this.$id=\"ace/mode/html\",this.snippetFileId=\"ace/snippets/html\"}.call(v.prototype),t.Mode=v}),ace.define(\"ace/mode/handlebars_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/html_highlight_rules\"],function(e,t,n){\"use strict\";function s(e,t){return t.splice(0,3),t.shift()||\"start\"}var r=e(\"../lib/oop\"),i=e(\"./html_highlight_rules\").HtmlHighlightRules,o=function(){i.call(this);var e={regex:\"(?={{)\",push:\"handlebars\"};for(var t in this.$rules)this.$rules[t].unshift(e);this.$rules.handlebars=[{token:\"comment.start\",regex:\"{{!--\",push:[{token:\"comment.end\",regex:\"--}}\",next:s},{defaultToken:\"comment\"}]},{token:\"comment.start\",regex:\"{{!\",push:[{token:\"comment.end\",regex:\"}}\",next:s},{defaultToken:\"comment\"}]},{token:\"support.function\",regex:\"{{{\",push:[{token:\"support.function\",regex:\"}}}\",next:s},{token:\"variable.parameter\",regex:\"[a-zA-Z_$][a-zA-Z0-9_$]*\"}]},{token:\"storage.type.start\",regex:\"{{[#\\\\^/&]?\",push:[{token:\"storage.type.end\",regex:\"}}\",next:s},{token:\"variable.parameter\",regex:\"[a-zA-Z_$][a-zA-Z0-9_$]*\"}]}],this.normalizeRules()};r.inherits(o,i),t.HandlebarsHighlightRules=o}),ace.define(\"ace/mode/behaviour/html\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour/xml\"],function(e,t,n){\"use strict\";var r=e(\"../../lib/oop\"),i=e(\"../behaviour/xml\").XmlBehaviour,s=function(){i.call(this)};r.inherits(s,i),t.HtmlBehaviour=s}),ace.define(\"ace/mode/handlebars\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/html\",\"ace/mode/handlebars_highlight_rules\",\"ace/mode/behaviour/html\",\"ace/mode/folding/html\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"./html\").Mode,s=e(\"./handlebars_highlight_rules\").HandlebarsHighlightRules,o=e(\"./behaviour/html\").HtmlBehaviour,u=e(\"./folding/html\").FoldMode,a=function(){i.call(this),this.HighlightRules=s,this.$behaviour=new o};r.inherits(a,i),function(){this.blockComment={start:\"{{!--\",end:\"--}}\"},this.$id=\"ace/mode/handlebars\"}.call(a.prototype),t.Mode=a});                (function() {\n                    ace.require([\"ace/mode/handlebars\"], function(m) {\n                        if ( true && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYWNlLWJ1aWxkcy9zcmMtbWluLW5vY29uZmxpY3QvbW9kZS1oYW5kbGViYXJzLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvYWNlLWJ1aWxkcy9zcmMtbWluLW5vY29uZmxpY3QvbW9kZS1oYW5kbGViYXJzLmpzPzYwZWMiXSwic291cmNlc0NvbnRlbnQiOlsiYWNlLmRlZmluZShcImFjZS9tb2RlL2pzZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXNcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi9saWIvb29wXCIpLGk9ZShcIi4vdGV4dF9oaWdobGlnaHRfcnVsZXNcIikuVGV4dEhpZ2hsaWdodFJ1bGVzLHM9ZnVuY3Rpb24oKXt0aGlzLiRydWxlcz17c3RhcnQ6W3t0b2tlbjpbXCJjb21tZW50LmRvYy50YWdcIixcImNvbW1lbnQuZG9jLnRleHRcIixcImxwYXJlbi5kb2NcIl0scmVnZXg6XCIoQCg/OnBhcmFtfG1lbWJlcnx0eXBlZGVmfHByb3BlcnR5fG5hbWVzcGFjZXx2YXJ8Y29uc3R8Y2FsbGJhY2spKShcXFxccyopKHspXCIscHVzaDpbe3Rva2VuOlwibHBhcmVuLmRvY1wiLHJlZ2V4Olwie1wiLHB1c2g6W3tpbmNsdWRlOlwiZG9jLXN5bnRheFwifSx7dG9rZW46XCJycGFyZW4uZG9jXCIscmVnZXg6XCJ9fCg/PSQpXCIsbmV4dDpcInBvcFwifV19LHt0b2tlbjpbXCJycGFyZW4uZG9jXCIsXCJ0ZXh0LmRvY1wiLFwidmFyaWFibGUucGFyYW1ldGVyLmRvY1wiLFwibHBhcmVuLmRvY1wiLFwidmFyaWFibGUucGFyYW1ldGVyLmRvY1wiLFwicnBhcmVuLmRvY1wiXSxyZWdleDovKH0pKFxccyopKD86KFtcXHc9OlxcL1xcLl0rKXwoPzooXFxbKShbXFx3PTpcXC9cXC5cXC1cXCdcXFwiIF0rKShcXF0pKSkvLG5leHQ6XCJwb3BcIn0se3Rva2VuOlwicnBhcmVuLmRvY1wiLHJlZ2V4OlwifXwoPz0kKVwiLG5leHQ6XCJwb3BcIn0se2luY2x1ZGU6XCJkb2Mtc3ludGF4XCJ9LHtkZWZhdWx0VG9rZW46XCJ0ZXh0LmRvY1wifV19LHt0b2tlbjpbXCJjb21tZW50LmRvYy50YWdcIixcInRleHQuZG9jXCIsXCJscGFyZW4uZG9jXCJdLHJlZ2V4OlwiKEAoPzpyZXR1cm5zP3x5aWVsZHN8dHlwZXx0aGlzfHN1cHByZXNzfHB1YmxpY3xwcm90ZWN0ZWR8cHJpdmF0ZXxwYWNrYWdlfG1vZGlmaWVzfGltcGxlbWVudHN8ZXh0ZXJuYWx8ZXhjZXB0aW9ufHRocm93c3xlbnVtfGRlZmluZXxleHRlbmRzKSkoXFxcXHMqKSh7KVwiLHB1c2g6W3t0b2tlbjpcImxwYXJlbi5kb2NcIixyZWdleDpcIntcIixwdXNoOlt7aW5jbHVkZTpcImRvYy1zeW50YXhcIn0se3Rva2VuOlwicnBhcmVuLmRvY1wiLHJlZ2V4OlwifXwoPz0kKVwiLG5leHQ6XCJwb3BcIn1dfSx7dG9rZW46XCJycGFyZW4uZG9jXCIscmVnZXg6XCJ9fCg/PSQpXCIsbmV4dDpcInBvcFwifSx7aW5jbHVkZTpcImRvYy1zeW50YXhcIn0se2RlZmF1bHRUb2tlbjpcInRleHQuZG9jXCJ9XX0se3Rva2VuOltcImNvbW1lbnQuZG9jLnRhZ1wiLFwidGV4dC5kb2NcIixcInZhcmlhYmxlLnBhcmFtZXRlci5kb2NcIl0scmVnZXg6JyhAKD86YWxpYXN8bWVtYmVyb2Z8aW5zdGFuY2V8bW9kdWxlfG5hbWV8bGVuZHN8bmFtZXNwYWNlfGV4dGVybmFsfHRoaXN8dGVtcGxhdGV8cmVxdWlyZXN8cGFyYW18aW1wbGVtZW50c3xmdW5jdGlvbnxleHRlbmRzfHR5cGVkZWZ8bWl4ZXN8Y29uc3RydWN0b3J8dmFyfG1lbWJlcm9mXFxcXCF8ZXZlbnR8bGlzdGVuc3xleHBvcnRzfGNsYXNzfGNvbnN0cnVjdHN8aW50ZXJmYWNlfGVtaXRzfGZpcmVzfHRocm93c3xjb25zdHxjYWxsYmFja3xib3Jyb3dzfGF1Z21lbnRzKSkoXFxcXHMrKShcXFxcd1tcXFxcdyMuOi9+XCJcXFxcLV0qKT8nfSx7dG9rZW46W1wiY29tbWVudC5kb2MudGFnXCIsXCJ0ZXh0LmRvY1wiLFwidmFyaWFibGUucGFyYW1ldGVyLmRvY1wiXSxyZWdleDpcIihAbWV0aG9kKShcXFxccyspKFxcXFx3W1xcXFx3LlxcXFwoXFxcXCldKilcIn0se3Rva2VuOlwiY29tbWVudC5kb2MudGFnXCIscmVnZXg6XCJAYWNjZXNzXFxcXHMrKD86cHJpdmF0ZXxwdWJsaWN8cHJvdGVjdGVkKVwifSx7dG9rZW46XCJjb21tZW50LmRvYy50YWdcIixyZWdleDpcIkBraW5kXFxcXHMrKD86Y2xhc3N8Y29uc3RhbnR8ZXZlbnR8ZXh0ZXJuYWx8ZmlsZXxmdW5jdGlvbnxtZW1iZXJ8bWl4aW58bW9kdWxlfG5hbWVzcGFjZXx0eXBlZGVmKVwifSx7dG9rZW46XCJjb21tZW50LmRvYy50YWdcIixyZWdleDpcIkBcXFxcdysoPz1cXFxcc3wkKVwifSxzLmdldFRhZ1J1bGUoKSx7ZGVmYXVsdFRva2VuOlwiY29tbWVudC5kb2MuYm9keVwiLGNhc2VJbnNlbnNpdGl2ZTohMH1dLFwiZG9jLXN5bnRheFwiOlt7dG9rZW46XCJvcGVyYXRvci5kb2NcIixyZWdleDovW3w6XS99LHt0b2tlbjpcInBhcmVuLmRvY1wiLHJlZ2V4Oi9bXFxbXFxdXS99XX0sdGhpcy5ub3JtYWxpemVSdWxlcygpfTtyLmluaGVyaXRzKHMsaSkscy5nZXRUYWdSdWxlPWZ1bmN0aW9uKGUpe3JldHVybnt0b2tlbjpcImNvbW1lbnQuZG9jLnRhZy5zdG9yYWdlLnR5cGVcIixyZWdleDpcIlxcXFxiKD86VE9ET3xGSVhNRXxYWFh8SEFDSylcXFxcYlwifX0scy5nZXRTdGFydFJ1bGU9ZnVuY3Rpb24oZSl7cmV0dXJue3Rva2VuOlwiY29tbWVudC5kb2NcIixyZWdleDovXFwvXFwqXFwqKD8hXFwvKS8sbmV4dDplfX0scy5nZXRFbmRSdWxlPWZ1bmN0aW9uKGUpe3JldHVybnt0b2tlbjpcImNvbW1lbnQuZG9jXCIscmVnZXg6XCJcXFxcKlxcXFwvXCIsbmV4dDplfX0sdC5Kc0RvY0NvbW1lbnRIaWdobGlnaHRSdWxlcz1zfSksYWNlLmRlZmluZShcImFjZS9tb2RlL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvanNkb2NfY29tbWVudF9oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKCl7dmFyIGU9by5yZXBsYWNlKFwiXFxcXGRcIixcIlxcXFxkXFxcXC1cIiksdD17b25NYXRjaDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5jaGFyQXQoMSk9PVwiL1wiPzI6MTtpZihyPT0xKXQhPXRoaXMubmV4dFN0YXRlP24udW5zaGlmdCh0aGlzLm5leHQsdGhpcy5uZXh0U3RhdGUsMCk6bi51bnNoaWZ0KHRoaXMubmV4dCksblsyXSsrO2Vsc2UgaWYocj09MiYmdD09dGhpcy5uZXh0U3RhdGUpe25bMV0tLTtpZighblsxXXx8blsxXTwwKW4uc2hpZnQoKSxuLnNoaWZ0KCl9cmV0dXJuW3t0eXBlOlwibWV0YS50YWcucHVuY3R1YXRpb24uXCIrKHI9PTE/XCJcIjpcImVuZC1cIikrXCJ0YWctb3Blbi54bWxcIix2YWx1ZTplLnNsaWNlKDAscil9LHt0eXBlOlwibWV0YS50YWcudGFnLW5hbWUueG1sXCIsdmFsdWU6ZS5zdWJzdHIocil9XX0scmVnZXg6XCI8Lz8oPzpcIitlK1wifCg/PT4pKVwiLG5leHQ6XCJqc3hBdHRyaWJ1dGVzXCIsbmV4dFN0YXRlOlwianN4XCJ9O3RoaXMuJHJ1bGVzLnN0YXJ0LnVuc2hpZnQodCk7dmFyIG49e3JlZ2V4Olwie1wiLHRva2VuOlwicGFyZW4ucXVhc2kuc3RhcnRcIixwdXNoOlwic3RhcnRcIn07dGhpcy4kcnVsZXMuanN4PVtuLHQse2luY2x1ZGU6XCJyZWZlcmVuY2VcIn0se2RlZmF1bHRUb2tlbjpcInN0cmluZy54bWxcIn1dLHRoaXMuJHJ1bGVzLmpzeEF0dHJpYnV0ZXM9W3t0b2tlbjpcIm1ldGEudGFnLnB1bmN0dWF0aW9uLnRhZy1jbG9zZS54bWxcIixyZWdleDpcIi8/PlwiLG9uTWF0Y2g6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PT1uWzBdJiZuLnNoaWZ0KCksZS5sZW5ndGg9PTImJihuWzBdPT10aGlzLm5leHRTdGF0ZSYmblsxXS0tLCghblsxXXx8blsxXTwwKSYmbi5zcGxpY2UoMCwyKSksdGhpcy5uZXh0PW5bMF18fFwic3RhcnRcIixbe3R5cGU6dGhpcy50b2tlbix2YWx1ZTplfV19LG5leHRTdGF0ZTpcImpzeFwifSxuLGYoXCJqc3hBdHRyaWJ1dGVzXCIpLHt0b2tlbjpcImVudGl0eS5vdGhlci5hdHRyaWJ1dGUtbmFtZS54bWxcIixyZWdleDplfSx7dG9rZW46XCJrZXl3b3JkLm9wZXJhdG9yLmF0dHJpYnV0ZS1lcXVhbHMueG1sXCIscmVnZXg6XCI9XCJ9LHt0b2tlbjpcInRleHQudGFnLXdoaXRlc3BhY2UueG1sXCIscmVnZXg6XCJcXFxccytcIn0se3Rva2VuOlwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIixyZWdleDpcIidcIixzdGF0ZU5hbWU6XCJqc3hfYXR0cl9xXCIscHVzaDpbe3Rva2VuOlwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIixyZWdleDpcIidcIixuZXh0OlwicG9wXCJ9LHtpbmNsdWRlOlwicmVmZXJlbmNlXCJ9LHtkZWZhdWx0VG9rZW46XCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwifV19LHt0b2tlbjpcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCIscmVnZXg6J1wiJyxzdGF0ZU5hbWU6XCJqc3hfYXR0cl9xcVwiLHB1c2g6W3t0b2tlbjpcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCIscmVnZXg6J1wiJyxuZXh0OlwicG9wXCJ9LHtpbmNsdWRlOlwicmVmZXJlbmNlXCJ9LHtkZWZhdWx0VG9rZW46XCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwifV19LHRdLHRoaXMuJHJ1bGVzLnJlZmVyZW5jZT1be3Rva2VuOlwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlLnJlZmVyZW5jZS54bWxcIixyZWdleDpcIig/OiYjWzAtOV0rOyl8KD86JiN4WzAtOWEtZkEtRl0rOyl8KD86JlthLXpBLVowLTlfOlxcXFwuLV0rOylcIn1dfWZ1bmN0aW9uIGYoZSl7cmV0dXJuW3t0b2tlbjpcImNvbW1lbnRcIixyZWdleDovXFwvXFwqLyxuZXh0OltpLmdldFRhZ1J1bGUoKSx7dG9rZW46XCJjb21tZW50XCIscmVnZXg6XCJcXFxcKlxcXFwvXCIsbmV4dDplfHxcInBvcFwifSx7ZGVmYXVsdFRva2VuOlwiY29tbWVudFwiLGNhc2VJbnNlbnNpdGl2ZTohMH1dfSx7dG9rZW46XCJjb21tZW50XCIscmVnZXg6XCJcXFxcL1xcXFwvXCIsbmV4dDpbaS5nZXRUYWdSdWxlKCkse3Rva2VuOlwiY29tbWVudFwiLHJlZ2V4OlwiJHxeXCIsbmV4dDplfHxcInBvcFwifSx7ZGVmYXVsdFRva2VuOlwiY29tbWVudFwiLGNhc2VJbnNlbnNpdGl2ZTohMH1dfV19dmFyIHI9ZShcIi4uL2xpYi9vb3BcIiksaT1lKFwiLi9qc2RvY19jb21tZW50X2hpZ2hsaWdodF9ydWxlc1wiKS5Kc0RvY0NvbW1lbnRIaWdobGlnaHRSdWxlcyxzPWUoXCIuL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIpLlRleHRIaWdobGlnaHRSdWxlcyxvPVwiW2EtekEtWlxcXFwkX1xcdTAwYTEtXFx1ZmZmZl1bYS16QS1aXFxcXGRcXFxcJF9cXHUwMGExLVxcdWZmZmZdKlwiLHU9ZnVuY3Rpb24oZSl7dmFyIHQ9e1widmFyaWFibGUubGFuZ3VhZ2VcIjpcIkFycmF5fEJvb2xlYW58RGF0ZXxGdW5jdGlvbnxJdGVyYXRvcnxOdW1iZXJ8T2JqZWN0fFJlZ0V4cHxTdHJpbmd8UHJveHl8U3ltYm9sfE5hbWVzcGFjZXxRTmFtZXxYTUx8WE1MTGlzdHxBcnJheUJ1ZmZlcnxGbG9hdDMyQXJyYXl8RmxvYXQ2NEFycmF5fEludDE2QXJyYXl8SW50MzJBcnJheXxJbnQ4QXJyYXl8VWludDE2QXJyYXl8VWludDMyQXJyYXl8VWludDhBcnJheXxVaW50OENsYW1wZWRBcnJheXxFcnJvcnxFdmFsRXJyb3J8SW50ZXJuYWxFcnJvcnxSYW5nZUVycm9yfFJlZmVyZW5jZUVycm9yfFN0b3BJdGVyYXRpb258U3ludGF4RXJyb3J8VHlwZUVycm9yfFVSSUVycm9yfGRlY29kZVVSSXxkZWNvZGVVUklDb21wb25lbnR8ZW5jb2RlVVJJfGVuY29kZVVSSUNvbXBvbmVudHxldmFsfGlzRmluaXRlfGlzTmFOfHBhcnNlRmxvYXR8cGFyc2VJbnR8SlNPTnxNYXRofHRoaXN8YXJndW1lbnRzfHByb3RvdHlwZXx3aW5kb3d8ZG9jdW1lbnRcIixrZXl3b3JkOlwiY29uc3R8eWllbGR8aW1wb3J0fGdldHxzZXR8YXN5bmN8YXdhaXR8YnJlYWt8Y2FzZXxjYXRjaHxjb250aW51ZXxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGZpbmFsbHl8Zm9yfGlmfGlufG9mfGluc3RhbmNlb2Z8bmV3fHJldHVybnxzd2l0Y2h8dGhyb3d8dHJ5fHR5cGVvZnxsZXR8dmFyfHdoaWxlfHdpdGh8ZGVidWdnZXJ8X19wYXJlbnRfX3xfX2NvdW50X198ZXNjYXBlfHVuZXNjYXBlfHdpdGh8X19wcm90b19ffGNsYXNzfGVudW18ZXh0ZW5kc3xzdXBlcnxleHBvcnR8aW1wbGVtZW50c3xwcml2YXRlfHB1YmxpY3xpbnRlcmZhY2V8cGFja2FnZXxwcm90ZWN0ZWR8c3RhdGljfGNvbnN0cnVjdG9yXCIsXCJzdG9yYWdlLnR5cGVcIjpcImNvbnN0fGxldHx2YXJ8ZnVuY3Rpb25cIixcImNvbnN0YW50Lmxhbmd1YWdlXCI6XCJudWxsfEluZmluaXR5fE5hTnx1bmRlZmluZWRcIixcInN1cHBvcnQuZnVuY3Rpb25cIjpcImFsZXJ0XCIsXCJjb25zdGFudC5sYW5ndWFnZS5ib29sZWFuXCI6XCJ0cnVlfGZhbHNlXCJ9LG49dGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyKHQsXCJpZGVudGlmaWVyXCIpLHI9XCJjYXNlfGRvfGVsc2V8ZmluYWxseXxpbnxpbnN0YW5jZW9mfHJldHVybnx0aHJvd3x0cnl8dHlwZW9mfHlpZWxkfHZvaWRcIixzPVwiXFxcXFxcXFwoPzp4WzAtOWEtZkEtRl17Mn18dVswLTlhLWZBLUZdezR9fHV7WzAtOWEtZkEtRl17MSw2fX18WzAtMl1bMC03XXswLDJ9fDNbMC03XVswLTddP3xbNC03XVswLTddP3wuKVwiLHU9XCIoZnVuY3Rpb24pKFxcXFxzKikoXFxcXCo/KVwiLGw9e3Rva2VuOltcImlkZW50aWZpZXJcIixcInRleHRcIixcInBhcmVuLmxwYXJlblwiXSxyZWdleDpcIihcXFxcYig/IVwiK09iamVjdC52YWx1ZXModCkuam9pbihcInxcIikrXCJcXFxcYilcIitvK1wiKShcXFxccyopKFxcXFwoKVwifTt0aGlzLiRydWxlcz17bm9fcmVnZXg6W2kuZ2V0U3RhcnRSdWxlKFwiZG9jLXN0YXJ0XCIpLGYoXCJub19yZWdleFwiKSxsLHt0b2tlbjpcInN0cmluZ1wiLHJlZ2V4OlwiJyg/PS4pXCIsbmV4dDpcInFzdHJpbmdcIn0se3Rva2VuOlwic3RyaW5nXCIscmVnZXg6J1wiKD89LiknLG5leHQ6XCJxcXN0cmluZ1wifSx7dG9rZW46XCJjb25zdGFudC5udW1lcmljXCIscmVnZXg6LzAoPzpbeFhdWzAtOWEtZkEtRl0rfFtvT11bMC03XSt8W2JCXVswMV0rKVxcYi99LHt0b2tlbjpcImNvbnN0YW50Lm51bWVyaWNcIixyZWdleDovKD86XFxkXFxkKig/OlxcLlxcZCopP3xcXC5cXGQrKSg/OltlRV1bKy1dP1xcZCtcXGIpPy99LHt0b2tlbjpbXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLFwidGV4dFwiLFwia2V5d29yZC5vcGVyYXRvclwiLFwidGV4dFwiLFwic3RvcmFnZS50eXBlXCIsXCJ0ZXh0XCIsXCJzdG9yYWdlLnR5cGVcIixcInRleHRcIixcInBhcmVuLmxwYXJlblwiXSxyZWdleDpcIihcIitvK1wiKShcXFxccyopKD0pKFxcXFxzKilcIit1K1wiKFxcXFxzKikoXFxcXCgpXCIsbmV4dDpcImZ1bmN0aW9uX2FyZ3VtZW50c1wifSx7dG9rZW46W1wic3RvcmFnZS50eXBlXCIsXCJ0ZXh0XCIsXCJzdG9yYWdlLnR5cGVcIixcInRleHRcIixcInRleHRcIixcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsXCJ0ZXh0XCIsXCJwYXJlbi5scGFyZW5cIl0scmVnZXg6XCIoZnVuY3Rpb24pKD86KD86KFxcXFxzKikoXFxcXCopKFxcXFxzKikpfChcXFxccyspKShcIitvK1wiKShcXFxccyopKFxcXFwoKVwiLG5leHQ6XCJmdW5jdGlvbl9hcmd1bWVudHNcIn0se3Rva2VuOltcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsXCJ0ZXh0XCIsXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFwidGV4dFwiLFwic3RvcmFnZS50eXBlXCIsXCJ0ZXh0XCIsXCJzdG9yYWdlLnR5cGVcIixcInRleHRcIixcInBhcmVuLmxwYXJlblwiXSxyZWdleDpcIihcIitvK1wiKShcXFxccyopKDopKFxcXFxzKilcIit1K1wiKFxcXFxzKikoXFxcXCgpXCIsbmV4dDpcImZ1bmN0aW9uX2FyZ3VtZW50c1wifSx7dG9rZW46W1widGV4dFwiLFwidGV4dFwiLFwic3RvcmFnZS50eXBlXCIsXCJ0ZXh0XCIsXCJzdG9yYWdlLnR5cGVcIixcInRleHRcIixcInBhcmVuLmxwYXJlblwiXSxyZWdleDpcIig6KShcXFxccyopXCIrdStcIihcXFxccyopKFxcXFwoKVwiLG5leHQ6XCJmdW5jdGlvbl9hcmd1bWVudHNcIn0se3Rva2VuOlwia2V5d29yZFwiLHJlZ2V4OlwiZnJvbSg/PVxcXFxzKignfFxcXCIpKVwifSx7dG9rZW46XCJrZXl3b3JkXCIscmVnZXg6XCIoPzpcIityK1wiKVxcXFxiXCIsbmV4dDpcInN0YXJ0XCJ9LHt0b2tlbjpcInN1cHBvcnQuY29uc3RhbnRcIixyZWdleDovdGhhdFxcYi99LHt0b2tlbjpbXCJzdG9yYWdlLnR5cGVcIixcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsXCJzdXBwb3J0LmZ1bmN0aW9uLmZpcmVidWdcIl0scmVnZXg6Lyhjb25zb2xlKShcXC4pKHdhcm58aW5mb3xsb2d8ZXJyb3J8ZGVidWd8dGltZXx0cmFjZXx0aW1lRW5kfGFzc2VydClcXGIvfSx7dG9rZW46bixyZWdleDpvfSx7dG9rZW46XCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLHJlZ2V4Oi9bLl0oPyFbLl0pLyxuZXh0OlwicHJvcGVydHlcIn0se3Rva2VuOlwic3RvcmFnZS50eXBlXCIscmVnZXg6Lz0+LyxuZXh0Olwic3RhcnRcIn0se3Rva2VuOlwia2V5d29yZC5vcGVyYXRvclwiLHJlZ2V4Oi8tLXxcXCtcXCt8XFwuezN9fD09PXw9PXw9fCE9fCE9PXw8Kz0/fD4rPT98IXwmJnxcXHxcXHx8XFw/OnxbISQlJiorXFwtflxcL15dPT8vLG5leHQ6XCJzdGFydFwifSx7dG9rZW46XCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLHJlZ2V4Oi9bPzosOy5dLyxuZXh0Olwic3RhcnRcIn0se3Rva2VuOlwicGFyZW4ubHBhcmVuXCIscmVnZXg6L1tcXFsoe10vLG5leHQ6XCJzdGFydFwifSx7dG9rZW46XCJwYXJlbi5ycGFyZW5cIixyZWdleDovW1xcXSl9XS99LHt0b2tlbjpcImNvbW1lbnRcIixyZWdleDovXiMhLiokL31dLHByb3BlcnR5Olt7dG9rZW46XCJ0ZXh0XCIscmVnZXg6XCJcXFxccytcIn0se3Rva2VuOlwia2V5d29yZC5vcGVyYXRvclwiLHJlZ2V4Oi89L30se3Rva2VuOltcInN0b3JhZ2UudHlwZVwiLFwidGV4dFwiLFwic3RvcmFnZS50eXBlXCIsXCJ0ZXh0XCIsXCJwYXJlbi5scGFyZW5cIl0scmVnZXg6dStcIihcXFxccyopKFxcXFwoKVwiLG5leHQ6XCJmdW5jdGlvbl9hcmd1bWVudHNcIn0se3Rva2VuOltcInN0b3JhZ2UudHlwZVwiLFwidGV4dFwiLFwic3RvcmFnZS50eXBlXCIsXCJ0ZXh0XCIsXCJ0ZXh0XCIsXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLFwidGV4dFwiLFwicGFyZW4ubHBhcmVuXCJdLHJlZ2V4OlwiKGZ1bmN0aW9uKSg/Oig/OihcXFxccyopKFxcXFwqKShcXFxccyopKXwoXFxcXHMrKSkoXFxcXHcrKShcXFxccyopKFxcXFwoKVwiLG5leHQ6XCJmdW5jdGlvbl9hcmd1bWVudHNcIn0se3Rva2VuOlwicHVuY3R1YXRpb24ub3BlcmF0b3JcIixyZWdleDovWy5dKD8hWy5dKS99LHt0b2tlbjpcInN1cHBvcnQuZnVuY3Rpb25cIixyZWdleDpcInByb3RvdHlwZVwifSx7dG9rZW46XCJzdXBwb3J0LmZ1bmN0aW9uXCIscmVnZXg6LyhzKD86aCg/OmlmdHxvdyg/Ok1vZCg/OmVsZXNzRGlhbG9nfGFsRGlhbG9nKXxIZWxwKSl8Y3JvbGwoPzpYfEJ5KD86UGFnZXN8TGluZXMpP3xZfFRvKT98dCg/Om9wfHJpa2UpfGkoPzpufHplVG9Db250ZW50fGRlYmFyfGduVGV4dCl8b3J0fHUoPzpwfGIoPzpzdHIoPzppbmcpPyk/KXxwbGkoPzpjZXx0KXxlKD86bmR8dCg/OlJlKD86c2l6YWJsZXxxdWVzdEhlYWRlcil8TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvKD86dEtleXN8dXJzKXxZZWFyfEN1cnNvcnxUaW1lKD86b3V0KT98SW50ZXJ2YWx8Wk9wdGlvbnN8RGF0ZXxVVEMoPzpNKD86aSg/Om51dGVzfGxsaXNlY29uZHMpfG9udGgpfFNlY29uZHN8SG91cnN8RGF0ZXxGdWxsWWVhcil8RnVsbFllYXJ8QWN0aXZlKXxhcmNoKXxxcnR8bGljZXxhdmVQcmVmZXJlbmNlc3xtYWxsKXxoKD86b21lfGFuZGxlRXZlbnQpfG5hdmlnYXRlfGMoPzpoYXIoPzpDb2RlQXR8QXQpfG8oPzpzfG4oPzpjYXR8dGV4dHVhbHxmaXJtKXxtcGlsZSl8ZWlsfGxlYXIoPzpUaW1lb3V0fEludGVydmFsKT98YSg/OnB0dXJlRXZlbnRzfGxsKXxyZWF0ZSg/OlN0eWxlU2hlZXR8UG9wdXB8RXZlbnRPYmplY3QpKXx0KD86byg/OkdNVFN0cmluZ3xTKD86dHJpbmd8b3VyY2UpfFUoPzpUQ1N0cmluZ3xwcGVyQ2FzZSl8TG8oPzpjYWxlU3RyaW5nfHdlckNhc2UpKXxlc3R8YSg/Om58aW50KD86RW5hYmxlZCk/KSl8aSg/OnMoPzpOYU58RmluaXRlKXxuZGV4T2Z8dGFsaWNzKXxkKD86aXNhYmxlRXh0ZXJuYWxDYXB0dXJlfHVtcHxldGFjaEV2ZW50KXx1KD86big/OnNoaWZ0fHRhaW50fGVzY2FwZXx3YXRjaCl8cGRhdGVDb21tYW5kcyl8aig/Om9pbnxhdmFFbmFibGVkKXxwKD86byg/OnB8dyl8dXNofGx1Z2lucy5yZWZyZXNofGEoPzpkZGluZ3N8cnNlKD86SW50fEZsb2F0KT8pfHIoPzppbnR8b21wdHxlZmVyZW5jZSkpfGUoPzpzY2FwZXxuYWJsZUV4dGVybmFsQ2FwdHVyZXx2YWx8bGVtZW50RnJvbVBvaW50fHgoPzpwfGVjKD86U2NyaXB0fENvbW1hbmQpPykpfHZhbHVlT2Z8VVRDfHF1ZXJ5Q29tbWFuZCg/OlN0YXRlfEluZGV0ZXJtfEVuYWJsZWR8VmFsdWUpfGYoPzppKD86bmR8bHRlcnxsZSg/Ok1vZGlmaWVkRGF0ZXxTaXplfENyZWF0ZWREYXRlfFVwZGF0ZWREYXRlKXx4ZWQpfG8oPzpudCg/OnNpemV8Y29sb3IpfHJ3YXJkfHJFYWNoKXxsb29yfHJvbUNoYXJDb2RlKXx3YXRjaHxsKD86aW5rfG8oPzphZHxnKXxhc3RJbmRleE9mKXxhKD86c2lufG5jaG9yfGNvc3x0KD86dGFjaEV2ZW50fG9ifGFuKD86Mik/KXxwcGx5fGxlcnR8Yig/OnN8b3J0KSl8cig/Om91KD86bmR8dGVFdmVudHMpfGUoPzpzaXplKD86Qnl8VG8pfGNhbGN8dHVyblZhbHVlfHBsYWNlfHZlcnNlfGwoPzpvYWR8ZWFzZSg/OkNhcHR1cmV8RXZlbnRzKSkpfGFuZG9tKXxnKD86b3xldCg/OlJlc3BvbnNlSGVhZGVyfE0oPzppKD86bnV0ZXN8bGxpc2Vjb25kcyl8b250aCl8U2UoPzpjb25kc3xsZWN0aW9uKXxIb3Vyc3xZZWFyfFRpbWUoPzp6b25lT2Zmc2V0KT98RGEoPzp5fHRlKXxVVEMoPzpNKD86aSg/Om51dGVzfGxsaXNlY29uZHMpfG9udGgpfFNlY29uZHN8SG91cnN8RGEoPzp5fHRlKXxGdWxsWWVhcil8RnVsbFllYXJ8QSg/OnR0ZW50aW9ufGxsUmVzcG9uc2VIZWFkZXJzKSkpfG0oPzppbnxvdmUoPzpCKD86eXxlbG93KXxUbyg/OkFic29sdXRlKT98QWJvdmUpfGVyZ2VBdHRyaWJ1dGVzfGEoPzp0Y2h8cmdpbnN8eCkpfGIoPzp0b2F8aWd8byg/OmxkfHJkZXJXaWR0aHMpfGxpbmt8YWNrKSlcXGIoPz1cXCgpL30se3Rva2VuOlwic3VwcG9ydC5mdW5jdGlvbi5kb21cIixyZWdleDovKHMoPzp1Yig/OnN0cmluZ0RhdGF8bWl0KXxwbGl0VGV4dHxlKD86dCg/Ok5hbWVkSXRlbXxBdHRyaWJ1dGUoPzpOb2RlKT8pfGxlY3QpKXxoYXMoPzpDaGlsZE5vZGVzfEZlYXR1cmUpfG5hbWVkSXRlbXxjKD86bCg/Omlja3xvKD86c2V8bmVOb2RlKSl8cmVhdGUoPzpDKD86b21tZW50fERBVEFTZWN0aW9ufGFwdGlvbil8VCg/OkhlYWR8ZXh0Tm9kZXxGb290KXxEb2N1bWVudEZyYWdtZW50fFByb2Nlc3NpbmdJbnN0cnVjdGlvbnxFKD86bnRpdHlSZWZlcmVuY2V8bGVtZW50KXxBdHRyaWJ1dGUpKXx0YWJJbmRleHxpKD86bnNlcnQoPzpSb3d8QmVmb3JlfENlbGx8RGF0YSl8dGVtKXxvcGVufGRlbGV0ZSg/OlJvd3xDKD86ZWxsfGFwdGlvbil8VCg/OkhlYWR8Rm9vdCl8RGF0YSl8Zm9jdXN8d3JpdGUoPzpsbik/fGEoPzpkZHxwcGVuZCg/OkNoaWxkfERhdGEpKXxyZSg/OnNldHxwbGFjZSg/OkNoaWxkfERhdGEpfG1vdmUoPzpOYW1lZEl0ZW18Q2hpbGR8QXR0cmlidXRlKD86Tm9kZSk/KT8pfGdldCg/Ok5hbWVkSXRlbXxFbGVtZW50KD86c0J5KD86TmFtZXxUYWdOYW1lfENsYXNzTmFtZSl8QnlJZCl8QXR0cmlidXRlKD86Tm9kZSk/KXxibHVyKVxcYig/PVxcKCkvfSx7dG9rZW46XCJzdXBwb3J0LmNvbnN0YW50XCIscmVnZXg6LyhzKD86eXN0ZW1MYW5ndWFnZXxjcig/OmlwdHN8b2xsYmFyc3xlZW4oPzpYfFl8VG9wfExlZnQpKXx0KD86eWxlKD86U2hlZXRzKT98YXR1cyg/OlRleHR8YmFyKT8pfGlibGluZyg/OkJlbG93fEFib3ZlKXxvdXJjZXx1ZmZpeGVzfGUoPzpjdXJpdHkoPzpQb2xpY3kpP3xsKD86ZWN0aW9ufGYpKSl8aCg/OmlzdG9yeXxvc3QoPzpuYW1lKT98YXMoPzpofEZvY3VzKSl8eXxYKD86TUxEb2N1bWVudHxTTERvY3VtZW50KXxuKD86ZXh0fGFtZSg/OnNwYWNlKD86c3xVUkkpfFByb3ApKXxNKD86SU5fVkFMVUV8QVhfVkFMVUUpfGMoPzpoYXJhY3RlclNldHxvKD86big/OnN0cnVjdG9yfHRyb2xsZXJzKXxva2llRW5hYmxlZHxsb3JEZXB0aHxtcCg/Om9uZW50c3xsZXRlKSl8dXJyZW50fHB1Q2xhc3N8bCg/OmkoPzpwKD86Ym9hcmREYXRhKT98ZW50SW5mb3JtYXRpb24pfG9zZWR8YXNzZXMpfGFsbGUoPzplfHIpfHJ5cHRvKXx0KD86byg/Om9sYmFyfHApfGV4dCg/OlRyYW5zZm9ybXxJbmRlbnR8RGVjb3JhdGlvbnxBbGlnbil8YWdzKXxTUVJUKD86MV8yfDIpfGkoPzpuKD86bmVyKD86SGVpZ2h0fFdpZHRoKXxwdXQpfGRzfGdub3JlQ2FzZSl8ekluZGV4fG8oPzpzY3B1fG4oPzpyZWFkeXN0YXRlY2hhbmdlfExpbmUpfHV0ZXIoPzpIZWlnaHR8V2lkdGgpfHAoPzpzUHJvZmlsZXxlbmVyKXxmZnNjcmVlbkJ1ZmZlcmluZyl8TkVHQVRJVkVfSU5GSU5JVFl8ZCg/OmkoPzpzcGxheXxhbG9nKD86SGVpZ2h0fFRvcHxXaWR0aHxMZWZ0fEFyZ3VtZW50cyl8cmVjdG9yaWVzKXxlKD86c2NyaXB0aW9ufGZhdWx0KD86U3RhdHVzfENoKD86ZWNrZWR8YXJzZXQpfFZpZXcpKSl8dSg/OnNlcig/OlByb2ZpbGV8TGFuZ3VhZ2V8QWdlbnQpfG4oPzppcXVlSUR8ZGVmaW5lZCl8cGRhdGVJbnRlcnZhbCl8X2NvbnRlbnR8cCg/Oml4ZWxEZXB0aHxvcnR8ZXJzb25hbGJhcnxrY3MxMXxsKD86dWdpbnN8YXRmb3JtKXxhKD86dGhuYW1lfGRkaW5nKD86UmlnaHR8Qm90dG9tfFRvcHxMZWZ0KXxyZW50KD86V2luZG93fExheWVyKT98Z2UoPzpYKD86T2Zmc2V0KT98WSg/Ok9mZnNldCk/KSl8cig/Om8oPzp0byg/OmNvbHx0eXBlKXxkdWN0KD86U3ViKT98bXB0ZXIpfGUoPzp2aW91c3xmaXgpKSl8ZSg/Om4oPzpjb2Rpbmd8YWJsZWRQbHVnaW4pfHgoPzp0ZXJuYWx8cGFuZG8pfG1iZWRzKXx2KD86aXNpYmlsaXR5fGVuZG9yKD86U3ViKT98TGlua2NvbG9yKXxVUkxVbmVuY29kZWR8UCg/Okl8T1NJVElWRV9JTkZJTklUWSl8Zig/OmlsZW5hbWV8byg/Om50KD86U2l6ZXxGYW1pbHl8V2VpZ2h0KXxybU5hbWUpfHJhbWUoPzpzfEVsZW1lbnQpfGdDb2xvcil8RXx3aGl0ZVNwYWNlfGwoPzppKD86c3RTdHlsZVR5cGV8big/OmVIZWlnaHR8a0NvbG9yKSl8byg/OmNhKD86dGlvbig/OmJhcik/fGxOYW1lKXx3c3JjKXxlKD86bmd0aHxmdCg/OkNvbnRleHQpPyl8YSg/OnN0KD86TSg/Om9kaWZpZWR8YXRjaCl8SW5kZXh8UGFyZW4pfHllcig/OnN8WCl8bmd1YWdlKSl8YSg/OnBwKD86TWlub3JWZXJzaW9ufE5hbWV8Q28oPzpkZU5hbWV8cmUpfFZlcnNpb24pfHZhaWwoPzpIZWlnaHR8VG9wfFdpZHRofExlZnQpfGxsfHIoPzppdHl8Z3VtZW50cyl8TGlua2NvbG9yfGJvdmUpfHIoPzppZ2h0KD86Q29udGV4dCk/fGUoPzpzcG9uc2UoPzpYTUx8VGV4dCl8YWR5U3RhdGUpKXxnbG9iYWx8eHxtKD86aW1lVHlwZXN8dWx0aWxpbmV8ZW51YmFyfGFyZ2luKD86UmlnaHR8Qm90dG9tfFRvcHxMZWZ0KSl8TCg/Ok4oPzoxMHwyKXxPRyg/OjEwRXwyRSkpfGIoPzpvKD86dHRvbXxyZGVyKD86V2lkdGh8UmlnaHRXaWR0aHxCb3R0b21XaWR0aHxTdHlsZXxDb2xvcnxUb3BXaWR0aHxMZWZ0V2lkdGgpKXx1ZmZlckRlcHRofGVsb3d8YWNrZ3JvdW5kKD86Q29sb3J8SW1hZ2UpKSlcXGIvfSx7dG9rZW46XCJpZGVudGlmaWVyXCIscmVnZXg6b30se3JlZ2V4OlwiXCIsdG9rZW46XCJlbXB0eVwiLG5leHQ6XCJub19yZWdleFwifV0sc3RhcnQ6W2kuZ2V0U3RhcnRSdWxlKFwiZG9jLXN0YXJ0XCIpLGYoXCJzdGFydFwiKSx7dG9rZW46XCJzdHJpbmcucmVnZXhwXCIscmVnZXg6XCJcXFxcL1wiLG5leHQ6XCJyZWdleFwifSx7dG9rZW46XCJ0ZXh0XCIscmVnZXg6XCJcXFxccyt8XiRcIixuZXh0Olwic3RhcnRcIn0se3Rva2VuOlwiZW1wdHlcIixyZWdleDpcIlwiLG5leHQ6XCJub19yZWdleFwifV0scmVnZXg6W3t0b2tlbjpcInJlZ2V4cC5rZXl3b3JkLm9wZXJhdG9yXCIscmVnZXg6XCJcXFxcXFxcXCg/OnVbXFxcXGRhLWZBLUZdezR9fHhbXFxcXGRhLWZBLUZdezJ9fC4pXCJ9LHt0b2tlbjpcInN0cmluZy5yZWdleHBcIixyZWdleDpcIi9bc3huZ2lteV0qXCIsbmV4dDpcIm5vX3JlZ2V4XCJ9LHt0b2tlbjpcImludmFsaWRcIixyZWdleDovXFx7XFxkK1xcYiw/XFxkKlxcfVsrKl18WysqJF4/XVsrKl18WyReXVs/XXxcXD97Myx9L30se3Rva2VuOlwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIscmVnZXg6L1xcKFxcP1s6PSFdfFxcKXxcXHtcXGQrXFxiLD9cXGQqXFx9fFsrKl1cXD98WygpJF4rKj8uXS99LHt0b2tlbjpcImNvbnN0YW50Lmxhbmd1YWdlLmRlbGltaXRlclwiLHJlZ2V4Oi9cXHwvfSx7dG9rZW46XCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixyZWdleDovXFxbXFxePy8sbmV4dDpcInJlZ2V4X2NoYXJhY3Rlcl9jbGFzc1wifSx7dG9rZW46XCJlbXB0eVwiLHJlZ2V4OlwiJFwiLG5leHQ6XCJub19yZWdleFwifSx7ZGVmYXVsdFRva2VuOlwic3RyaW5nLnJlZ2V4cFwifV0scmVnZXhfY2hhcmFjdGVyX2NsYXNzOlt7dG9rZW46XCJyZWdleHAuY2hhcmNsYXNzLmtleXdvcmQub3BlcmF0b3JcIixyZWdleDpcIlxcXFxcXFxcKD86dVtcXFxcZGEtZkEtRl17NH18eFtcXFxcZGEtZkEtRl17Mn18LilcIn0se3Rva2VuOlwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIscmVnZXg6XCJdXCIsbmV4dDpcInJlZ2V4XCJ9LHt0b2tlbjpcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLHJlZ2V4OlwiLVwifSx7dG9rZW46XCJlbXB0eVwiLHJlZ2V4OlwiJFwiLG5leHQ6XCJub19yZWdleFwifSx7ZGVmYXVsdFRva2VuOlwic3RyaW5nLnJlZ2V4cC5jaGFyYWNodGVyY2xhc3NcIn1dLGRlZmF1bHRfcGFyYW1ldGVyOlt7dG9rZW46XCJzdHJpbmdcIixyZWdleDpcIicoPz0uKVwiLHB1c2g6W3t0b2tlbjpcInN0cmluZ1wiLHJlZ2V4OlwiJ3wkXCIsbmV4dDpcInBvcFwifSx7aW5jbHVkZTpcInFzdHJpbmdcIn1dfSx7dG9rZW46XCJzdHJpbmdcIixyZWdleDonXCIoPz0uKScscHVzaDpbe3Rva2VuOlwic3RyaW5nXCIscmVnZXg6J1wifCQnLG5leHQ6XCJwb3BcIn0se2luY2x1ZGU6XCJxcXN0cmluZ1wifV19LHt0b2tlbjpcImNvbnN0YW50Lmxhbmd1YWdlXCIscmVnZXg6XCJudWxsfEluZmluaXR5fE5hTnx1bmRlZmluZWRcIn0se3Rva2VuOlwiY29uc3RhbnQubnVtZXJpY1wiLHJlZ2V4Oi8wKD86W3hYXVswLTlhLWZBLUZdK3xbb09dWzAtN10rfFtiQl1bMDFdKylcXGIvfSx7dG9rZW46XCJjb25zdGFudC5udW1lcmljXCIscmVnZXg6Lyg/OlxcZFxcZCooPzpcXC5cXGQqKT98XFwuXFxkKykoPzpbZUVdWystXT9cXGQrXFxiKT8vfSx7dG9rZW46XCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLHJlZ2V4OlwiLFwiLG5leHQ6XCJmdW5jdGlvbl9hcmd1bWVudHNcIn0se3Rva2VuOlwidGV4dFwiLHJlZ2V4OlwiXFxcXHMrXCJ9LHt0b2tlbjpcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIscmVnZXg6XCIkXCJ9LHt0b2tlbjpcImVtcHR5XCIscmVnZXg6XCJcIixuZXh0Olwibm9fcmVnZXhcIn1dLGZ1bmN0aW9uX2FyZ3VtZW50czpbZihcImZ1bmN0aW9uX2FyZ3VtZW50c1wiKSx7dG9rZW46XCJ2YXJpYWJsZS5wYXJhbWV0ZXJcIixyZWdleDpvfSx7dG9rZW46XCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLHJlZ2V4OlwiLFwifSx7dG9rZW46XCJ0ZXh0XCIscmVnZXg6XCJcXFxccytcIn0se3Rva2VuOlwicHVuY3R1YXRpb24ub3BlcmF0b3JcIixyZWdleDpcIiRcIn0se3Rva2VuOlwiZW1wdHlcIixyZWdleDpcIlwiLG5leHQ6XCJub19yZWdleFwifV0scXFzdHJpbmc6W3t0b2tlbjpcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLHJlZ2V4OnN9LHt0b2tlbjpcInN0cmluZ1wiLHJlZ2V4OlwiXFxcXFxcXFwkXCIsY29uc3VtZUxpbmVFbmQ6ITB9LHt0b2tlbjpcInN0cmluZ1wiLHJlZ2V4OidcInwkJyxuZXh0Olwibm9fcmVnZXhcIn0se2RlZmF1bHRUb2tlbjpcInN0cmluZ1wifV0scXN0cmluZzpbe3Rva2VuOlwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIscmVnZXg6c30se3Rva2VuOlwic3RyaW5nXCIscmVnZXg6XCJcXFxcXFxcXCRcIixjb25zdW1lTGluZUVuZDohMH0se3Rva2VuOlwic3RyaW5nXCIscmVnZXg6XCInfCRcIixuZXh0Olwibm9fcmVnZXhcIn0se2RlZmF1bHRUb2tlbjpcInN0cmluZ1wifV19O2lmKCFlfHwhZS5ub0VTNil0aGlzLiRydWxlcy5ub19yZWdleC51bnNoaWZ0KHtyZWdleDpcIlt7fV1cIixvbk1hdGNoOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLm5leHQ9ZT09XCJ7XCI/dGhpcy5uZXh0U3RhdGU6XCJcIjtpZihlPT1cIntcIiYmbi5sZW5ndGgpbi51bnNoaWZ0KFwic3RhcnRcIix0KTtlbHNlIGlmKGU9PVwifVwiJiZuLmxlbmd0aCl7bi5zaGlmdCgpLHRoaXMubmV4dD1uLnNoaWZ0KCk7aWYodGhpcy5uZXh0LmluZGV4T2YoXCJzdHJpbmdcIikhPS0xfHx0aGlzLm5leHQuaW5kZXhPZihcImpzeFwiKSE9LTEpcmV0dXJuXCJwYXJlbi5xdWFzaS5lbmRcIn1yZXR1cm4gZT09XCJ7XCI/XCJwYXJlbi5scGFyZW5cIjpcInBhcmVuLnJwYXJlblwifSxuZXh0U3RhdGU6XCJzdGFydFwifSx7dG9rZW46XCJzdHJpbmcucXVhc2kuc3RhcnRcIixyZWdleDovYC8scHVzaDpbe3Rva2VuOlwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIscmVnZXg6c30se3Rva2VuOlwicGFyZW4ucXVhc2kuc3RhcnRcIixyZWdleDovXFwkey8scHVzaDpcInN0YXJ0XCJ9LHt0b2tlbjpcInN0cmluZy5xdWFzaS5lbmRcIixyZWdleDovYC8sbmV4dDpcInBvcFwifSx7ZGVmYXVsdFRva2VuOlwic3RyaW5nLnF1YXNpXCJ9XX0se3Rva2VuOltcInZhcmlhYmxlLnBhcmFtZXRlclwiLFwidGV4dFwiXSxyZWdleDpcIihcIitvK1wiKShcXFxccyopKD89XFxcXD0+KVwifSx7dG9rZW46XCJwYXJlbi5scGFyZW5cIixyZWdleDpcIihcXFxcKCkoPz1bXlxcXFwoXStcXFxccyo9PilcIixuZXh0OlwiZnVuY3Rpb25fYXJndW1lbnRzXCJ9LHt0b2tlbjpcInZhcmlhYmxlLmxhbmd1YWdlXCIscmVnZXg6XCIoPzooPzooPzpXZWFrKT8oPzpTZXR8TWFwKSl8UHJvbWlzZSlcXFxcYlwifSksdGhpcy4kcnVsZXMuZnVuY3Rpb25fYXJndW1lbnRzLnVuc2hpZnQoe3Rva2VuOlwia2V5d29yZC5vcGVyYXRvclwiLHJlZ2V4OlwiPVwiLG5leHQ6XCJkZWZhdWx0X3BhcmFtZXRlclwifSx7dG9rZW46XCJrZXl3b3JkLm9wZXJhdG9yXCIscmVnZXg6XCJcXFxcLnszfVwifSksdGhpcy4kcnVsZXMucHJvcGVydHkudW5zaGlmdCh7dG9rZW46XCJzdXBwb3J0LmZ1bmN0aW9uXCIscmVnZXg6XCIoZmluZEluZGV4fHJlcGVhdHxzdGFydHNXaXRofGVuZHNXaXRofGluY2x1ZGVzfGlzU2FmZUludGVnZXJ8dHJ1bmN8Y2JydHxsb2cyfGxvZzEwfHNpZ258dGhlbnxjYXRjaHxmaW5hbGx5fHJlc29sdmV8cmVqZWN0fHJhY2V8YW55fGFsbHxhbGxTZXR0bGVkfGtleXN8ZW50cmllc3xpc0ludGVnZXIpXFxcXGIoPz1cXFxcKClcIn0se3Rva2VuOlwiY29uc3RhbnQubGFuZ3VhZ2VcIixyZWdleDpcIig/Ok1BWF9TQUZFX0lOVEVHRVJ8TUlOX1NBRkVfSU5URUdFUnxFUFNJTE9OKVxcXFxiXCJ9KSwoIWV8fGUuanN4IT0wKSYmYS5jYWxsKHRoaXMpO3RoaXMuZW1iZWRSdWxlcyhpLFwiZG9jLVwiLFtpLmdldEVuZFJ1bGUoXCJub19yZWdleFwiKV0pLHRoaXMubm9ybWFsaXplUnVsZXMoKX07ci5pbmhlcml0cyh1LHMpLHQuSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzPXV9KSxhY2UuZGVmaW5lKFwiYWNlL21vZGUvbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi4vcmFuZ2VcIikuUmFuZ2UsaT1mdW5jdGlvbigpe307KGZ1bmN0aW9uKCl7dGhpcy5jaGVja091dGRlbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4vXlxccyskLy50ZXN0KGUpPy9eXFxzKlxcfS8udGVzdCh0KTohMX0sdGhpcy5hdXRvT3V0ZGVudD1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0TGluZSh0KSxpPW4ubWF0Y2goL14oXFxzKlxcfSkvKTtpZighaSlyZXR1cm4gMDt2YXIgcz1pWzFdLmxlbmd0aCxvPWUuZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OnQsY29sdW1uOnN9KTtpZighb3x8by5yb3c9PXQpcmV0dXJuIDA7dmFyIHU9dGhpcy4kZ2V0SW5kZW50KGUuZ2V0TGluZShvLnJvdykpO2UucmVwbGFjZShuZXcgcih0LDAsdCxzLTEpLHUpfSx0aGlzLiRnZXRJbmRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goL15cXHMqLylbMF19fSkuY2FsbChpLnByb3RvdHlwZSksdC5NYXRjaGluZ0JyYWNlT3V0ZGVudD1pfSksYWNlLmRlZmluZShcImFjZS9tb2RlL2JlaGF2aW91ci94bWxcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXJcIixcImFjZS90b2tlbl9pdGVyYXRvclwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBlJiZlLnR5cGUubGFzdEluZGV4T2YodCtcIi54bWxcIik+LTF9dmFyIHI9ZShcIi4uLy4uL2xpYi9vb3BcIiksaT1lKFwiLi4vYmVoYXZpb3VyXCIpLkJlaGF2aW91cixzPWUoXCIuLi8uLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yLHU9ZnVuY3Rpb24oKXt0aGlzLmFkZChcInN0cmluZ19kcXVvdGVzXCIsXCJpbnNlcnRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe2lmKGk9PSdcIid8fGk9PVwiJ1wiKXt2YXIgdT1pLGE9ci5kb2MuZ2V0VGV4dFJhbmdlKG4uZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7aWYoYSE9PVwiXCImJmEhPT1cIidcIiYmYSE9J1wiJyYmbi5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSlyZXR1cm57dGV4dDp1K2ErdSxzZWxlY3Rpb246ITF9O3ZhciBmPW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxsPXIuZG9jLmdldExpbmUoZi5yb3cpLGM9bC5zdWJzdHJpbmcoZi5jb2x1bW4sZi5jb2x1bW4rMSksaD1uZXcgcyhyLGYucm93LGYuY29sdW1uKSxwPWguZ2V0Q3VycmVudFRva2VuKCk7aWYoYz09dSYmKG8ocCxcImF0dHJpYnV0ZS12YWx1ZVwiKXx8byhwLFwic3RyaW5nXCIpKSlyZXR1cm57dGV4dDpcIlwiLHNlbGVjdGlvbjpbMSwxXX07cHx8KHA9aC5zdGVwQmFja3dhcmQoKSk7aWYoIXApcmV0dXJuO3doaWxlKG8ocCxcInRhZy13aGl0ZXNwYWNlXCIpfHxvKHAsXCJ3aGl0ZXNwYWNlXCIpKXA9aC5zdGVwQmFja3dhcmQoKTt2YXIgZD0hY3x8Yy5tYXRjaCgvXFxzLyk7aWYobyhwLFwiYXR0cmlidXRlLWVxdWFsc1wiKSYmKGR8fGM9PVwiPlwiKXx8byhwLFwiZGVjbC1hdHRyaWJ1dGUtZXF1YWxzXCIpJiYoZHx8Yz09XCI/XCIpKXJldHVybnt0ZXh0OnUrdSxzZWxlY3Rpb246WzEsMV19fX0pLHRoaXMuYWRkKFwic3RyaW5nX2RxdW90ZXNcIixcImRlbGV0aW9uXCIsZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgcz1yLmRvYy5nZXRUZXh0UmFuZ2UoaSk7aWYoIWkuaXNNdWx0aUxpbmUoKSYmKHM9PSdcIid8fHM9PVwiJ1wiKSl7dmFyIG89ci5kb2MuZ2V0TGluZShpLnN0YXJ0LnJvdyksdT1vLnN1YnN0cmluZyhpLnN0YXJ0LmNvbHVtbisxLGkuc3RhcnQuY29sdW1uKzIpO2lmKHU9PXMpcmV0dXJuIGkuZW5kLmNvbHVtbisrLGl9fSksdGhpcy5hZGQoXCJhdXRvY2xvc2luZ1wiLFwiaW5zZXJ0aW9uXCIsZnVuY3Rpb24oZSx0LG4scixpKXtpZihpPT1cIj5cIil7dmFyIHU9bi5nZXRTZWxlY3Rpb25SYW5nZSgpLnN0YXJ0LGE9bmV3IHMocix1LnJvdyx1LmNvbHVtbiksZj1hLmdldEN1cnJlbnRUb2tlbigpfHxhLnN0ZXBCYWNrd2FyZCgpO2lmKCFmfHwhKG8oZixcInRhZy1uYW1lXCIpfHxvKGYsXCJ0YWctd2hpdGVzcGFjZVwiKXx8byhmLFwiYXR0cmlidXRlLW5hbWVcIil8fG8oZixcImF0dHJpYnV0ZS1lcXVhbHNcIil8fG8oZixcImF0dHJpYnV0ZS12YWx1ZVwiKSkpcmV0dXJuO2lmKG8oZixcInJlZmVyZW5jZS5hdHRyaWJ1dGUtdmFsdWVcIikpcmV0dXJuO2lmKG8oZixcImF0dHJpYnV0ZS12YWx1ZVwiKSl7dmFyIGw9YS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKStmLnZhbHVlLmxlbmd0aDtpZih1LmNvbHVtbjxsKXJldHVybjtpZih1LmNvbHVtbj09bCl7dmFyIGM9YS5zdGVwRm9yd2FyZCgpO2lmKGMmJm8oYyxcImF0dHJpYnV0ZS12YWx1ZVwiKSlyZXR1cm47YS5zdGVwQmFja3dhcmQoKX19aWYoL15cXHMqPi8udGVzdChyLmdldExpbmUodS5yb3cpLnNsaWNlKHUuY29sdW1uKSkpcmV0dXJuO3doaWxlKCFvKGYsXCJ0YWctbmFtZVwiKSl7Zj1hLnN0ZXBCYWNrd2FyZCgpO2lmKGYudmFsdWU9PVwiPFwiKXtmPWEuc3RlcEZvcndhcmQoKTticmVha319dmFyIGg9YS5nZXRDdXJyZW50VG9rZW5Sb3coKSxwPWEuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCk7aWYobyhhLnN0ZXBCYWNrd2FyZCgpLFwiZW5kLXRhZy1vcGVuXCIpKXJldHVybjt2YXIgZD1mLnZhbHVlO2g9PXUucm93JiYoZD1kLnN1YnN0cmluZygwLHUuY29sdW1uLXApKTtpZih0aGlzLnZvaWRFbGVtZW50cyYmdGhpcy52b2lkRWxlbWVudHMuaGFzT3duUHJvcGVydHkoZC50b0xvd2VyQ2FzZSgpKSlyZXR1cm47cmV0dXJue3RleHQ6XCI+PC9cIitkK1wiPlwiLHNlbGVjdGlvbjpbMSwxXX19fSksdGhpcy5hZGQoXCJhdXRvaW5kZW50XCIsXCJpbnNlcnRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe2lmKGk9PVwiXFxuXCIpe3ZhciB1PW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxhPXIuZ2V0TGluZSh1LnJvdyksZj1uZXcgcyhyLHUucm93LHUuY29sdW1uKSxsPWYuZ2V0Q3VycmVudFRva2VuKCk7aWYobyhsLFwiXCIpJiZsLnR5cGUuaW5kZXhPZihcInRhZy1jbG9zZVwiKSE9PS0xKXtpZihsLnZhbHVlPT1cIi8+XCIpcmV0dXJuO3doaWxlKGwmJmwudHlwZS5pbmRleE9mKFwidGFnLW5hbWVcIik9PT0tMSlsPWYuc3RlcEJhY2t3YXJkKCk7aWYoIWwpcmV0dXJuO3ZhciBjPWwudmFsdWUsaD1mLmdldEN1cnJlbnRUb2tlblJvdygpO2w9Zi5zdGVwQmFja3dhcmQoKTtpZighbHx8bC50eXBlLmluZGV4T2YoXCJlbmQtdGFnXCIpIT09LTEpcmV0dXJuO2lmKHRoaXMudm9pZEVsZW1lbnRzJiYhdGhpcy52b2lkRWxlbWVudHNbY118fCF0aGlzLnZvaWRFbGVtZW50cyl7dmFyIHA9ci5nZXRUb2tlbkF0KHUucm93LHUuY29sdW1uKzEpLGE9ci5nZXRMaW5lKGgpLGQ9dGhpcy4kZ2V0SW5kZW50KGEpLHY9ZCtyLmdldFRhYlN0cmluZygpO3JldHVybiBwJiZwLnZhbHVlPT09XCI8L1wiP3t0ZXh0OlwiXFxuXCIrditcIlxcblwiK2Qsc2VsZWN0aW9uOlsxLHYubGVuZ3RoLDEsdi5sZW5ndGhdfTp7dGV4dDpcIlxcblwiK3Z9fX19fSl9O3IuaW5oZXJpdHModSxpKSx0LlhtbEJlaGF2aW91cj11fSksYWNlLmRlZmluZShcImFjZS9tb2RlL2JlaGF2aW91ci9qYXZhc2NyaXB0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL3Rva2VuX2l0ZXJhdG9yXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXIvY3N0eWxlXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXIveG1sXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi4vLi4vbGliL29vcFwiKSxpPWUoXCIuLi8uLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yLHM9ZShcIi4uL2JlaGF2aW91ci9jc3R5bGVcIikuQ3N0eWxlQmVoYXZpb3VyLG89ZShcIi4uL2JlaGF2aW91ci94bWxcIikuWG1sQmVoYXZpb3VyLHU9ZnVuY3Rpb24oKXt2YXIgZT0obmV3IG8oe2Nsb3NlQ3VybHlCcmFjZXM6ITB9KSkuZ2V0QmVoYXZpb3VycygpO3RoaXMuYWRkQmVoYXZpb3VycyhlKSx0aGlzLmluaGVyaXQocyksdGhpcy5hZGQoXCJhdXRvY2xvc2luZy1mcmFnbWVudFwiLFwiaW5zZXJ0aW9uXCIsZnVuY3Rpb24oZSx0LG4scixzKXtpZihzPT1cIj5cIil7dmFyIG89bi5nZXRTZWxlY3Rpb25SYW5nZSgpLnN0YXJ0LHU9bmV3IGkocixvLnJvdyxvLmNvbHVtbiksYT11LmdldEN1cnJlbnRUb2tlbigpfHx1LnN0ZXBCYWNrd2FyZCgpO2lmKCFhKXJldHVybjtpZihhLnZhbHVlPT1cIjxcIilyZXR1cm57dGV4dDpcIj48Lz5cIixzZWxlY3Rpb246WzEsMV19fX0pfTtyLmluaGVyaXRzKHUscyksdC5KYXZhU2NyaXB0QmVoYXZpb3VyPXV9KSxhY2UuZGVmaW5lKFwiYWNlL21vZGUvZm9sZGluZy94bWxcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGUmJmUudHlwZSYmZS50eXBlLmxhc3RJbmRleE9mKHQrXCIueG1sXCIpPi0xfXZhciByPWUoXCIuLi8uLi9saWIvb29wXCIpLGk9ZShcIi4uLy4uL3JhbmdlXCIpLlJhbmdlLHM9ZShcIi4vZm9sZF9tb2RlXCIpLkZvbGRNb2RlLG89dC5Gb2xkTW9kZT1mdW5jdGlvbihlLHQpe3MuY2FsbCh0aGlzKSx0aGlzLnZvaWRFbGVtZW50cz1lfHx7fSx0aGlzLm9wdGlvbmFsRW5kVGFncz1yLm1peGluKHt9LHRoaXMudm9pZEVsZW1lbnRzKSx0JiZyLm1peGluKHRoaXMub3B0aW9uYWxFbmRUYWdzLHQpfTtyLmluaGVyaXRzKG8scyk7dmFyIHU9ZnVuY3Rpb24oKXt0aGlzLnRhZ05hbWU9XCJcIix0aGlzLmNsb3Npbmc9ITEsdGhpcy5zZWxmQ2xvc2luZz0hMSx0aGlzLnN0YXJ0PXtyb3c6MCxjb2x1bW46MH0sdGhpcy5lbmQ9e3JvdzowLGNvbHVtbjowfX07KGZ1bmN0aW9uKCl7dGhpcy5nZXRGb2xkV2lkZ2V0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLl9nZXRGaXJzdFRhZ0luTGluZShlLG4pO3JldHVybiByP3IuY2xvc2luZ3x8IXIudGFnTmFtZSYmci5zZWxmQ2xvc2luZz90PT09XCJtYXJrYmVnaW5lbmRcIj9cImVuZFwiOlwiXCI6IXIudGFnTmFtZXx8ci5zZWxmQ2xvc2luZ3x8dGhpcy52b2lkRWxlbWVudHMuaGFzT3duUHJvcGVydHkoci50YWdOYW1lLnRvTG93ZXJDYXNlKCkpP1wiXCI6dGhpcy5fZmluZEVuZFRhZ0luTGluZShlLG4sci50YWdOYW1lLHIuZW5kLmNvbHVtbik/XCJcIjpcInN0YXJ0XCI6dGhpcy5nZXRDb21tZW50Rm9sZFdpZGdldChlLG4pfSx0aGlzLmdldENvbW1lbnRGb2xkV2lkZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuL2NvbW1lbnQvLnRlc3QoZS5nZXRTdGF0ZSh0KSkmJi88IS0vLnRlc3QoZS5nZXRMaW5lKHQpKT9cInN0YXJ0XCI6XCJcIn0sdGhpcy5fZ2V0Rmlyc3RUYWdJbkxpbmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldFRva2Vucyh0KSxyPW5ldyB1O2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcz1uW2ldO2lmKGEocyxcInRhZy1vcGVuXCIpKXtyLmVuZC5jb2x1bW49ci5zdGFydC5jb2x1bW4rcy52YWx1ZS5sZW5ndGgsci5jbG9zaW5nPWEocyxcImVuZC10YWctb3BlblwiKSxzPW5bKytpXTtpZighcylyZXR1cm4gbnVsbDtyLnRhZ05hbWU9cy52YWx1ZTtpZihzLnZhbHVlPT09XCJcIil7cz1uWysraV07aWYoIXMpcmV0dXJuIG51bGw7ci50YWdOYW1lPXMudmFsdWV9ci5lbmQuY29sdW1uKz1zLnZhbHVlLmxlbmd0aDtmb3IoaSsrO2k8bi5sZW5ndGg7aSsrKXtzPW5baV0sci5lbmQuY29sdW1uKz1zLnZhbHVlLmxlbmd0aDtpZihhKHMsXCJ0YWctY2xvc2VcIikpe3Iuc2VsZkNsb3Npbmc9cy52YWx1ZT09XCIvPlwiO2JyZWFrfX1yZXR1cm4gcn1pZihhKHMsXCJ0YWctY2xvc2VcIikpcmV0dXJuIHIuc2VsZkNsb3Npbmc9cy52YWx1ZT09XCIvPlwiLHI7ci5zdGFydC5jb2x1bW4rPXMudmFsdWUubGVuZ3RofXJldHVybiBudWxsfSx0aGlzLl9maW5kRW5kVGFnSW5MaW5lPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPWUuZ2V0VG9rZW5zKHQpLHM9MDtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIHU9aVtvXTtzKz11LnZhbHVlLmxlbmd0aDtpZihzPHItMSljb250aW51ZTtpZihhKHUsXCJlbmQtdGFnLW9wZW5cIikpe3U9aVtvKzFdLGEodSxcInRhZy1uYW1lXCIpJiZ1LnZhbHVlPT09XCJcIiYmKHU9aVtvKzJdKTtpZih1JiZ1LnZhbHVlPT1uKXJldHVybiEwfX1yZXR1cm4hMX0sdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX2dldEZpcnN0VGFnSW5MaW5lKGUsbik7aWYoIXIpcmV0dXJuIHRoaXMuZ2V0Q29tbWVudEZvbGRXaWRnZXQoZSxuKSYmZS5nZXRDb21tZW50Rm9sZFJhbmdlKG4sZS5nZXRMaW5lKG4pLmxlbmd0aCk7dmFyIHM9ZS5nZXRNYXRjaGluZ1RhZ3Moe3JvdzpuLGNvbHVtbjowfSk7aWYocylyZXR1cm4gbmV3IGkocy5vcGVuVGFnLmVuZC5yb3cscy5vcGVuVGFnLmVuZC5jb2x1bW4scy5jbG9zZVRhZy5zdGFydC5yb3cscy5jbG9zZVRhZy5zdGFydC5jb2x1bW4pfX0pLmNhbGwoby5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uLy4uL2xpYi9vb3BcIiksaT1lKFwiLi4vLi4vcmFuZ2VcIikuUmFuZ2Uscz1lKFwiLi9mb2xkX21vZGVcIikuRm9sZE1vZGUsbz10LkZvbGRNb2RlPWZ1bmN0aW9uKGUpe2UmJih0aGlzLmZvbGRpbmdTdGFydE1hcmtlcj1uZXcgUmVnRXhwKHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cXHxbXnxdKj8kLyxcInxcIitlLnN0YXJ0KSksdGhpcy5mb2xkaW5nU3RvcE1hcmtlcj1uZXcgUmVnRXhwKHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIuc291cmNlLnJlcGxhY2UoL1xcfFtefF0qPyQvLFwifFwiK2UuZW5kKSkpfTtyLmluaGVyaXRzKG8scyksZnVuY3Rpb24oKXt0aGlzLmZvbGRpbmdTdGFydE1hcmtlcj0vKFtcXHtcXFtcXChdKVteXFx9XFxdXFwpXSokfF5cXHMqKFxcL1xcKikvLHRoaXMuZm9sZGluZ1N0b3BNYXJrZXI9L15bXlxcW1xce1xcKF0qKFtcXH1cXF1cXCldKXxeW1xcc1xcKl0qKFxcKlxcLykvLHRoaXMuc2luZ2xlTGluZUJsb2NrQ29tbWVudFJlPS9eXFxzKihcXC9cXCopLipcXCpcXC9cXHMqJC8sdGhpcy50cmlwbGVTdGFyQmxvY2tDb21tZW50UmU9L15cXHMqKFxcL1xcKlxcKlxcKikuKlxcKlxcL1xccyokLyx0aGlzLnN0YXJ0UmVnaW9uUmU9L15cXHMqKFxcL1xcKnxcXC9cXC8pIz9yZWdpb25cXGIvLHRoaXMuX2dldEZvbGRXaWRnZXRCYXNlPXRoaXMuZ2V0Rm9sZFdpZGdldCx0aGlzLmdldEZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZ2V0TGluZShuKTtpZih0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZS50ZXN0KHIpJiYhdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QocikmJiF0aGlzLnRyaXBsZVN0YXJCbG9ja0NvbW1lbnRSZS50ZXN0KHIpKXJldHVyblwiXCI7dmFyIGk9dGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2UoZSx0LG4pO3JldHVybiFpJiZ0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChyKT9cInN0YXJ0XCI6aX0sdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2U9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ZS5nZXRMaW5lKG4pO2lmKHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KGkpKXJldHVybiB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayhlLGksbik7dmFyIHM9aS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7aWYocyl7dmFyIG89cy5pbmRleDtpZihzWzFdKXJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soZSxzWzFdLG4sbyk7dmFyIHU9ZS5nZXRDb21tZW50Rm9sZFJhbmdlKG4sbytzWzBdLmxlbmd0aCwxKTtyZXR1cm4gdSYmIXUuaXNNdWx0aUxpbmUoKSYmKHI/dT10aGlzLmdldFNlY3Rpb25SYW5nZShlLG4pOnQhPVwiYWxsXCImJih1PW51bGwpKSx1fWlmKHQ9PT1cIm1hcmtiZWdpblwiKXJldHVybjt2YXIgcz1pLm1hdGNoKHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIpO2lmKHMpe3ZhciBvPXMuaW5kZXgrc1swXS5sZW5ndGg7cmV0dXJuIHNbMV0/dGhpcy5jbG9zaW5nQnJhY2tldEJsb2NrKGUsc1sxXSxuLG8pOmUuZ2V0Q29tbWVudEZvbGRSYW5nZShuLG8sLTEpfX0sdGhpcy5nZXRTZWN0aW9uUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldExpbmUodCkscj1uLnNlYXJjaCgvXFxTLykscz10LG89bi5sZW5ndGg7dCs9MTt2YXIgdT10LGE9ZS5nZXRMZW5ndGgoKTt3aGlsZSgrK3Q8YSl7bj1lLmdldExpbmUodCk7dmFyIGY9bi5zZWFyY2goL1xcUy8pO2lmKGY9PT0tMSljb250aW51ZTtpZihyPmYpYnJlYWs7dmFyIGw9dGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UoZSxcImFsbFwiLHQpO2lmKGwpe2lmKGwuc3RhcnQucm93PD1zKWJyZWFrO2lmKGwuaXNNdWx0aUxpbmUoKSl0PWwuZW5kLnJvdztlbHNlIGlmKHI9PWYpYnJlYWt9dT10fXJldHVybiBuZXcgaShzLG8sdSxlLmdldExpbmUodSkubGVuZ3RoKX0sdGhpcy5nZXRDb21tZW50UmVnaW9uQmxvY2s9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQuc2VhcmNoKC9cXHMqJC8pLHM9ZS5nZXRMZW5ndGgoKSxvPW4sdT0vXlxccyooPzpcXC9cXCp8XFwvXFwvfC0tKSM/KGVuZCk/cmVnaW9uXFxiLyxhPTE7d2hpbGUoKytuPHMpe3Q9ZS5nZXRMaW5lKG4pO3ZhciBmPXUuZXhlYyh0KTtpZighZiljb250aW51ZTtmWzFdP2EtLTphKys7aWYoIWEpYnJlYWt9dmFyIGw9bjtpZihsPm8pcmV0dXJuIG5ldyBpKG8scixsLHQubGVuZ3RoKX19LmNhbGwoby5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcImFjZS9tb2RlL2ZvbGRpbmcvamF2YXNjcmlwdFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL2ZvbGRpbmcveG1sXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uLy4uL2xpYi9vb3BcIiksaT1lKFwiLi94bWxcIikuRm9sZE1vZGUscz1lKFwiLi9jc3R5bGVcIikuRm9sZE1vZGUsbz10LkZvbGRNb2RlPWZ1bmN0aW9uKGUpe2UmJih0aGlzLmZvbGRpbmdTdGFydE1hcmtlcj1uZXcgUmVnRXhwKHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cXHxbXnxdKj8kLyxcInxcIitlLnN0YXJ0KSksdGhpcy5mb2xkaW5nU3RvcE1hcmtlcj1uZXcgUmVnRXhwKHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIuc291cmNlLnJlcGxhY2UoL1xcfFtefF0qPyQvLFwifFwiK2UuZW5kKSkpLHRoaXMueG1sRm9sZE1vZGU9bmV3IGl9O3IuaW5oZXJpdHMobyxzKSxmdW5jdGlvbigpe3RoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlQmFzZT10aGlzLmdldEZvbGRXaWRnZXRSYW5nZSx0aGlzLmdldEZvbGRXaWRnZXRCYXNlPXRoaXMuZ2V0Rm9sZFdpZGdldCx0aGlzLmdldEZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuZ2V0Rm9sZFdpZGdldEJhc2UoZSx0LG4pO3JldHVybiByP3I6dGhpcy54bWxGb2xkTW9kZS5nZXRGb2xkV2lkZ2V0KGUsdCxuKX0sdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2U9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2VCYXNlKGUsdCxuLHIpO3JldHVybiBpP2k6dGhpcy54bWxGb2xkTW9kZS5nZXRGb2xkV2lkZ2V0UmFuZ2UoZSx0LG4pfX0uY2FsbChvLnByb3RvdHlwZSl9KSxhY2UuZGVmaW5lKFwiYWNlL21vZGUvamF2YXNjcmlwdFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL3RleHRcIixcImFjZS9tb2RlL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzXCIsXCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50XCIsXCJhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnRcIixcImFjZS9tb2RlL2JlaGF2aW91ci9qYXZhc2NyaXB0XCIsXCJhY2UvbW9kZS9mb2xkaW5nL2phdmFzY3JpcHRcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi9saWIvb29wXCIpLGk9ZShcIi4vdGV4dFwiKS5Nb2RlLHM9ZShcIi4vamF2YXNjcmlwdF9oaWdobGlnaHRfcnVsZXNcIikuSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzLG89ZShcIi4vbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudFwiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudCx1PWUoXCIuLi93b3JrZXIvd29ya2VyX2NsaWVudFwiKS5Xb3JrZXJDbGllbnQsYT1lKFwiLi9iZWhhdmlvdXIvamF2YXNjcmlwdFwiKS5KYXZhU2NyaXB0QmVoYXZpb3VyLGY9ZShcIi4vZm9sZGluZy9qYXZhc2NyaXB0XCIpLkZvbGRNb2RlLGw9ZnVuY3Rpb24oKXt0aGlzLkhpZ2hsaWdodFJ1bGVzPXMsdGhpcy4kb3V0ZGVudD1uZXcgbyx0aGlzLiRiZWhhdmlvdXI9bmV3IGEsdGhpcy5mb2xkaW5nUnVsZXM9bmV3IGZ9O3IuaW5oZXJpdHMobCxpKSxmdW5jdGlvbigpe3RoaXMubGluZUNvbW1lbnRTdGFydD1cIi8vXCIsdGhpcy5ibG9ja0NvbW1lbnQ9e3N0YXJ0OlwiLypcIixlbmQ6XCIqL1wifSx0aGlzLiRxdW90ZXM9eydcIic6J1wiJyxcIidcIjpcIidcIixcImBcIjpcImBcIn0sdGhpcy4kcGFpclF1b3Rlc0FmdGVyPXtcImBcIjovXFx3L30sdGhpcy5nZXROZXh0TGluZUluZGVudD1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy4kZ2V0SW5kZW50KHQpLGk9dGhpcy5nZXRUb2tlbml6ZXIoKS5nZXRMaW5lVG9rZW5zKHQsZSkscz1pLnRva2VucyxvPWkuc3RhdGU7aWYocy5sZW5ndGgmJnNbcy5sZW5ndGgtMV0udHlwZT09XCJjb21tZW50XCIpcmV0dXJuIHI7aWYoZT09XCJzdGFydFwifHxlPT1cIm5vX3JlZ2V4XCIpe3ZhciB1PXQubWF0Y2goL14uKig/OlxcYmNhc2VcXGIuKjp8W1xce1xcKFxcW10pXFxzKiQvKTt1JiYocis9bil9ZWxzZSBpZihlPT1cImRvYy1zdGFydFwiKWlmKG89PVwic3RhcnRcInx8bz09XCJub19yZWdleFwiKXJldHVyblwiXCI7cmV0dXJuIHJ9LHRoaXMuY2hlY2tPdXRkZW50PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy4kb3V0ZGVudC5jaGVja091dGRlbnQodCxuKX0sdGhpcy5hdXRvT3V0ZGVudD1mdW5jdGlvbihlLHQsbil7dGhpcy4kb3V0ZGVudC5hdXRvT3V0ZGVudCh0LG4pfSx0aGlzLmNyZWF0ZVdvcmtlcj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdShbXCJhY2VcIl0sXCJhY2UvbW9kZS9qYXZhc2NyaXB0X3dvcmtlclwiLFwiSmF2YVNjcmlwdFdvcmtlclwiKTtyZXR1cm4gdC5hdHRhY2hUb0RvY3VtZW50KGUuZ2V0RG9jdW1lbnQoKSksdC5vbihcImFubm90YXRlXCIsZnVuY3Rpb24odCl7ZS5zZXRBbm5vdGF0aW9ucyh0LmRhdGEpfSksdC5vbihcInRlcm1pbmF0ZVwiLGZ1bmN0aW9uKCl7ZS5jbGVhckFubm90YXRpb25zKCl9KSx0fSx0aGlzLiRpZD1cImFjZS9tb2RlL2phdmFzY3JpcHRcIix0aGlzLnNuaXBwZXRGaWxlSWQ9XCJhY2Uvc25pcHBldHMvamF2YXNjcmlwdFwifS5jYWxsKGwucHJvdG90eXBlKSx0Lk1vZGU9bH0pLGFjZS5kZWZpbmUoXCJhY2UvbW9kZS9jc3NfaGlnaGxpZ2h0X3J1bGVzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbW9kZS90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uL2xpYi9vb3BcIiksaT1lKFwiLi4vbGliL2xhbmdcIikscz1lKFwiLi90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiKS5UZXh0SGlnaGxpZ2h0UnVsZXMsbz10LnN1cHBvcnRUeXBlPVwiYWxpZ24tY29udGVudHxhbGlnbi1pdGVtc3xhbGlnbi1zZWxmfGFsbHxhbmltYXRpb258YW5pbWF0aW9uLWRlbGF5fGFuaW1hdGlvbi1kaXJlY3Rpb258YW5pbWF0aW9uLWR1cmF0aW9ufGFuaW1hdGlvbi1maWxsLW1vZGV8YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudHxhbmltYXRpb24tbmFtZXxhbmltYXRpb24tcGxheS1zdGF0ZXxhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9ufGJhY2tmYWNlLXZpc2liaWxpdHl8YmFja2dyb3VuZHxiYWNrZ3JvdW5kLWF0dGFjaG1lbnR8YmFja2dyb3VuZC1ibGVuZC1tb2RlfGJhY2tncm91bmQtY2xpcHxiYWNrZ3JvdW5kLWNvbG9yfGJhY2tncm91bmQtaW1hZ2V8YmFja2dyb3VuZC1vcmlnaW58YmFja2dyb3VuZC1wb3NpdGlvbnxiYWNrZ3JvdW5kLXJlcGVhdHxiYWNrZ3JvdW5kLXNpemV8Ym9yZGVyfGJvcmRlci1ib3R0b218Ym9yZGVyLWJvdHRvbS1jb2xvcnxib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzfGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzfGJvcmRlci1ib3R0b20tc3R5bGV8Ym9yZGVyLWJvdHRvbS13aWR0aHxib3JkZXItY29sbGFwc2V8Ym9yZGVyLWNvbG9yfGJvcmRlci1pbWFnZXxib3JkZXItaW1hZ2Utb3V0c2V0fGJvcmRlci1pbWFnZS1yZXBlYXR8Ym9yZGVyLWltYWdlLXNsaWNlfGJvcmRlci1pbWFnZS1zb3VyY2V8Ym9yZGVyLWltYWdlLXdpZHRofGJvcmRlci1sZWZ0fGJvcmRlci1sZWZ0LWNvbG9yfGJvcmRlci1sZWZ0LXN0eWxlfGJvcmRlci1sZWZ0LXdpZHRofGJvcmRlci1yYWRpdXN8Ym9yZGVyLXJpZ2h0fGJvcmRlci1yaWdodC1jb2xvcnxib3JkZXItcmlnaHQtc3R5bGV8Ym9yZGVyLXJpZ2h0LXdpZHRofGJvcmRlci1zcGFjaW5nfGJvcmRlci1zdHlsZXxib3JkZXItdG9wfGJvcmRlci10b3AtY29sb3J8Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1c3xib3JkZXItdG9wLXJpZ2h0LXJhZGl1c3xib3JkZXItdG9wLXN0eWxlfGJvcmRlci10b3Atd2lkdGh8Ym9yZGVyLXdpZHRofGJvdHRvbXxib3gtc2hhZG93fGJveC1zaXppbmd8Y2FwdGlvbi1zaWRlfGNsZWFyfGNsaXB8Y29sb3J8Y29sdW1uLWNvdW50fGNvbHVtbi1maWxsfGNvbHVtbi1nYXB8Y29sdW1uLXJ1bGV8Y29sdW1uLXJ1bGUtY29sb3J8Y29sdW1uLXJ1bGUtc3R5bGV8Y29sdW1uLXJ1bGUtd2lkdGh8Y29sdW1uLXNwYW58Y29sdW1uLXdpZHRofGNvbHVtbnN8Y29udGVudHxjb3VudGVyLWluY3JlbWVudHxjb3VudGVyLXJlc2V0fGN1cnNvcnxkaXJlY3Rpb258ZGlzcGxheXxlbXB0eS1jZWxsc3xmaWx0ZXJ8ZmxleHxmbGV4LWJhc2lzfGZsZXgtZGlyZWN0aW9ufGZsZXgtZmxvd3xmbGV4LWdyb3d8ZmxleC1zaHJpbmt8ZmxleC13cmFwfGZsb2F0fGZvbnR8Zm9udC1mYW1pbHl8Zm9udC1zaXplfGZvbnQtc2l6ZS1hZGp1c3R8Zm9udC1zdHJldGNofGZvbnQtc3R5bGV8Zm9udC12YXJpYW50fGZvbnQtd2VpZ2h0fGhhbmdpbmctcHVuY3R1YXRpb258aGVpZ2h0fGp1c3RpZnktY29udGVudHxsZWZ0fGxldHRlci1zcGFjaW5nfGxpbmUtaGVpZ2h0fGxpc3Qtc3R5bGV8bGlzdC1zdHlsZS1pbWFnZXxsaXN0LXN0eWxlLXBvc2l0aW9ufGxpc3Qtc3R5bGUtdHlwZXxtYXJnaW58bWFyZ2luLWJvdHRvbXxtYXJnaW4tbGVmdHxtYXJnaW4tcmlnaHR8bWFyZ2luLXRvcHxtYXgtaGVpZ2h0fG1heC13aWR0aHxtYXgtem9vbXxtaW4taGVpZ2h0fG1pbi13aWR0aHxtaW4tem9vbXxuYXYtZG93bnxuYXYtaW5kZXh8bmF2LWxlZnR8bmF2LXJpZ2h0fG5hdi11cHxvcGFjaXR5fG9yZGVyfG91dGxpbmV8b3V0bGluZS1jb2xvcnxvdXRsaW5lLW9mZnNldHxvdXRsaW5lLXN0eWxlfG91dGxpbmUtd2lkdGh8b3ZlcmZsb3d8b3ZlcmZsb3cteHxvdmVyZmxvdy15fHBhZGRpbmd8cGFkZGluZy1ib3R0b218cGFkZGluZy1sZWZ0fHBhZGRpbmctcmlnaHR8cGFkZGluZy10b3B8cGFnZS1icmVhay1hZnRlcnxwYWdlLWJyZWFrLWJlZm9yZXxwYWdlLWJyZWFrLWluc2lkZXxwZXJzcGVjdGl2ZXxwZXJzcGVjdGl2ZS1vcmlnaW58cG9zaXRpb258cXVvdGVzfHJlc2l6ZXxyaWdodHx0YWItc2l6ZXx0YWJsZS1sYXlvdXR8dGV4dC1hbGlnbnx0ZXh0LWFsaWduLWxhc3R8dGV4dC1kZWNvcmF0aW9ufHRleHQtZGVjb3JhdGlvbi1jb2xvcnx0ZXh0LWRlY29yYXRpb24tbGluZXx0ZXh0LWRlY29yYXRpb24tc3R5bGV8dGV4dC1pbmRlbnR8dGV4dC1qdXN0aWZ5fHRleHQtb3ZlcmZsb3d8dGV4dC1zaGFkb3d8dGV4dC10cmFuc2Zvcm18dG9wfHRyYW5zZm9ybXx0cmFuc2Zvcm0tb3JpZ2lufHRyYW5zZm9ybS1zdHlsZXx0cmFuc2l0aW9ufHRyYW5zaXRpb24tZGVsYXl8dHJhbnNpdGlvbi1kdXJhdGlvbnx0cmFuc2l0aW9uLXByb3BlcnR5fHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9ufHVuaWNvZGUtYmlkaXx1c2VyLXNlbGVjdHx1c2VyLXpvb218dmVydGljYWwtYWxpZ258dmlzaWJpbGl0eXx3aGl0ZS1zcGFjZXx3aWR0aHx3b3JkLWJyZWFrfHdvcmQtc3BhY2luZ3x3b3JkLXdyYXB8ei1pbmRleFwiLHU9dC5zdXBwb3J0RnVuY3Rpb249XCJyZ2J8cmdiYXx1cmx8YXR0cnxjb3VudGVyfGNvdW50ZXJzXCIsYT10LnN1cHBvcnRDb25zdGFudD1cImFic29sdXRlfGFmdGVyLWVkZ2V8YWZ0ZXJ8YWxsLXNjcm9sbHxhbGx8YWxwaGFiZXRpY3xhbHdheXN8YW50aWFsaWFzZWR8YXJtZW5pYW58YXV0b3xhdm9pZC1jb2x1bW58YXZvaWQtcGFnZXxhdm9pZHxiYWxhbmNlfGJhc2VsaW5lfGJlZm9yZS1lZGdlfGJlZm9yZXxiZWxvd3xiaWRpLW92ZXJyaWRlfGJsb2NrLWxpbmUtaGVpZ2h0fGJsb2NrfGJvbGR8Ym9sZGVyfGJvcmRlci1ib3h8Ym90aHxib3R0b218Ym94fGJyZWFrLWFsbHxicmVhay13b3JkfGNhcGl0YWxpemV8Y2Fwcy1oZWlnaHR8Y2FwdGlvbnxjZW50ZXJ8Y2VudHJhbHxjaGFyfGNpcmNsZXxjamstaWRlb2dyYXBoaWN8Y2xvbmV8Y2xvc2UtcXVvdGV8Y29sLXJlc2l6ZXxjb2xsYXBzZXxjb2x1bW58Y29uc2lkZXItc2hpZnRzfGNvbnRhaW58Y29udGVudC1ib3h8Y292ZXJ8Y3Jvc3NoYWlyfGN1YmljLWJlemllcnxkYXNoZWR8ZGVjaW1hbC1sZWFkaW5nLXplcm98ZGVjaW1hbHxkZWZhdWx0fGRpc2FibGVkfGRpc2N8ZGlzcmVnYXJkLXNoaWZ0c3xkaXN0cmlidXRlLWFsbC1saW5lc3xkaXN0cmlidXRlLWxldHRlcnxkaXN0cmlidXRlLXNwYWNlfGRpc3RyaWJ1dGV8ZG90dGVkfGRvdWJsZXxlLXJlc2l6ZXxlYXNlLWlufGVhc2UtaW4tb3V0fGVhc2Utb3V0fGVhc2V8ZWxsaXBzaXN8ZW5kfGV4Y2x1ZGUtcnVieXxmbGV4LWVuZHxmbGV4LXN0YXJ0fGZpbGx8Zml4ZWR8Z2VvcmdpYW58Z2x5cGhzfGdyaWQtaGVpZ2h0fGdyb292ZXxoYW5kfGhhbmdpbmd8aGVicmV3fGhlbHB8aGlkZGVufGhpcmFnYW5hLWlyb2hhfGhpcmFnYW5hfGhvcml6b250YWx8aWNvbnxpZGVvZ3JhcGgtYWxwaGF8aWRlb2dyYXBoLW51bWVyaWN8aWRlb2dyYXBoLXBhcmVudGhlc2lzfGlkZW9ncmFwaC1zcGFjZXxpZGVvZ3JhcGhpY3xpbmFjdGl2ZXxpbmNsdWRlLXJ1Ynl8aW5oZXJpdHxpbml0aWFsfGlubGluZS1ibG9ja3xpbmxpbmUtYm94fGlubGluZS1saW5lLWhlaWdodHxpbmxpbmUtdGFibGV8aW5saW5lfGluc2V0fGluc2lkZXxpbnRlci1pZGVvZ3JhcGh8aW50ZXItd29yZHxpbnZlcnR8aXRhbGljfGp1c3RpZnl8a2F0YWthbmEtaXJvaGF8a2F0YWthbmF8a2VlcC1hbGx8bGFzdHxsZWZ0fGxpZ2h0ZXJ8bGluZS1lZGdlfGxpbmUtdGhyb3VnaHxsaW5lfGxpbmVhcnxsaXN0LWl0ZW18bG9jYWx8bG9vc2V8bG93ZXItYWxwaGF8bG93ZXItZ3JlZWt8bG93ZXItbGF0aW58bG93ZXItcm9tYW58bG93ZXJjYXNlfGxyLXRifGx0cnxtYXRoZW1hdGljYWx8bWF4LWhlaWdodHxtYXgtc2l6ZXxtZWRpdW18bWVudXxtZXNzYWdlLWJveHxtaWRkbGV8bW92ZXxuLXJlc2l6ZXxuZS1yZXNpemV8bmV3c3BhcGVyfG5vLWNoYW5nZXxuby1jbG9zZS1xdW90ZXxuby1kcm9wfG5vLW9wZW4tcXVvdGV8bm8tcmVwZWF0fG5vbmV8bm9ybWFsfG5vdC1hbGxvd2VkfG5vd3JhcHxudy1yZXNpemV8b2JsaXF1ZXxvcGVuLXF1b3RlfG91dHNldHxvdXRzaWRlfG92ZXJsaW5lfHBhZGRpbmctYm94fHBhZ2V8cG9pbnRlcnxwcmUtbGluZXxwcmUtd3JhcHxwcmV8cHJlc2VydmUtM2R8cHJvZ3Jlc3N8cmVsYXRpdmV8cmVwZWF0LXh8cmVwZWF0LXl8cmVwZWF0fHJlcGxhY2VkfHJlc2V0LXNpemV8cmlkZ2V8cmlnaHR8cm91bmR8cm93LXJlc2l6ZXxydGx8cy1yZXNpemV8c2Nyb2xsfHNlLXJlc2l6ZXxzZXBhcmF0ZXxzbGljZXxzbWFsbC1jYXBzfHNtYWxsLWNhcHRpb258c29saWR8c3BhY2V8c3F1YXJlfHN0YXJ0fHN0YXRpY3xzdGF0dXMtYmFyfHN0ZXAtZW5kfHN0ZXAtc3RhcnR8c3RlcHN8c3RyZXRjaHxzdHJpY3R8c3VifHN1cGVyfHN3LXJlc2l6ZXx0YWJsZS1jYXB0aW9ufHRhYmxlLWNlbGx8dGFibGUtY29sdW1uLWdyb3VwfHRhYmxlLWNvbHVtbnx0YWJsZS1mb290ZXItZ3JvdXB8dGFibGUtaGVhZGVyLWdyb3VwfHRhYmxlLXJvdy1ncm91cHx0YWJsZS1yb3d8dGFibGV8dGItcmx8dGV4dC1hZnRlci1lZGdlfHRleHQtYmVmb3JlLWVkZ2V8dGV4dC1ib3R0b218dGV4dC1zaXplfHRleHQtdG9wfHRleHR8dGhpY2t8dGhpbnx0cmFuc3BhcmVudHx1bmRlcmxpbmV8dXBwZXItYWxwaGF8dXBwZXItbGF0aW58dXBwZXItcm9tYW58dXBwZXJjYXNlfHVzZS1zY3JpcHR8dmVydGljYWwtaWRlb2dyYXBoaWN8dmVydGljYWwtdGV4dHx2aXNpYmxlfHctcmVzaXplfHdhaXR8d2hpdGVzcGFjZXx6LWluZGV4fHplcm98em9vbVwiLGY9dC5zdXBwb3J0Q29uc3RhbnRDb2xvcj1cImFsaWNlYmx1ZXxhbnRpcXVld2hpdGV8YXF1YXxhcXVhbWFyaW5lfGF6dXJlfGJlaWdlfGJpc3F1ZXxibGFja3xibGFuY2hlZGFsbW9uZHxibHVlfGJsdWV2aW9sZXR8YnJvd258YnVybHl3b29kfGNhZGV0Ymx1ZXxjaGFydHJldXNlfGNob2NvbGF0ZXxjb3JhbHxjb3JuZmxvd2VyYmx1ZXxjb3Juc2lsa3xjcmltc29ufGN5YW58ZGFya2JsdWV8ZGFya2N5YW58ZGFya2dvbGRlbnJvZHxkYXJrZ3JheXxkYXJrZ3JlZW58ZGFya2dyZXl8ZGFya2toYWtpfGRhcmttYWdlbnRhfGRhcmtvbGl2ZWdyZWVufGRhcmtvcmFuZ2V8ZGFya29yY2hpZHxkYXJrcmVkfGRhcmtzYWxtb258ZGFya3NlYWdyZWVufGRhcmtzbGF0ZWJsdWV8ZGFya3NsYXRlZ3JheXxkYXJrc2xhdGVncmV5fGRhcmt0dXJxdW9pc2V8ZGFya3Zpb2xldHxkZWVwcGlua3xkZWVwc2t5Ymx1ZXxkaW1ncmF5fGRpbWdyZXl8ZG9kZ2VyYmx1ZXxmaXJlYnJpY2t8ZmxvcmFsd2hpdGV8Zm9yZXN0Z3JlZW58ZnVjaHNpYXxnYWluc2Jvcm98Z2hvc3R3aGl0ZXxnb2xkfGdvbGRlbnJvZHxncmF5fGdyZWVufGdyZWVueWVsbG93fGdyZXl8aG9uZXlkZXd8aG90cGlua3xpbmRpYW5yZWR8aW5kaWdvfGl2b3J5fGtoYWtpfGxhdmVuZGVyfGxhdmVuZGVyYmx1c2h8bGF3bmdyZWVufGxlbW9uY2hpZmZvbnxsaWdodGJsdWV8bGlnaHRjb3JhbHxsaWdodGN5YW58bGlnaHRnb2xkZW5yb2R5ZWxsb3d8bGlnaHRncmF5fGxpZ2h0Z3JlZW58bGlnaHRncmV5fGxpZ2h0cGlua3xsaWdodHNhbG1vbnxsaWdodHNlYWdyZWVufGxpZ2h0c2t5Ymx1ZXxsaWdodHNsYXRlZ3JheXxsaWdodHNsYXRlZ3JleXxsaWdodHN0ZWVsYmx1ZXxsaWdodHllbGxvd3xsaW1lfGxpbWVncmVlbnxsaW5lbnxtYWdlbnRhfG1hcm9vbnxtZWRpdW1hcXVhbWFyaW5lfG1lZGl1bWJsdWV8bWVkaXVtb3JjaGlkfG1lZGl1bXB1cnBsZXxtZWRpdW1zZWFncmVlbnxtZWRpdW1zbGF0ZWJsdWV8bWVkaXVtc3ByaW5nZ3JlZW58bWVkaXVtdHVycXVvaXNlfG1lZGl1bXZpb2xldHJlZHxtaWRuaWdodGJsdWV8bWludGNyZWFtfG1pc3R5cm9zZXxtb2NjYXNpbnxuYXZham93aGl0ZXxuYXZ5fG9sZGxhY2V8b2xpdmV8b2xpdmVkcmFifG9yYW5nZXxvcmFuZ2VyZWR8b3JjaGlkfHBhbGVnb2xkZW5yb2R8cGFsZWdyZWVufHBhbGV0dXJxdW9pc2V8cGFsZXZpb2xldHJlZHxwYXBheWF3aGlwfHBlYWNocHVmZnxwZXJ1fHBpbmt8cGx1bXxwb3dkZXJibHVlfHB1cnBsZXxyZWJlY2NhcHVycGxlfHJlZHxyb3N5YnJvd258cm95YWxibHVlfHNhZGRsZWJyb3dufHNhbG1vbnxzYW5keWJyb3dufHNlYWdyZWVufHNlYXNoZWxsfHNpZW5uYXxzaWx2ZXJ8c2t5Ymx1ZXxzbGF0ZWJsdWV8c2xhdGVncmF5fHNsYXRlZ3JleXxzbm93fHNwcmluZ2dyZWVufHN0ZWVsYmx1ZXx0YW58dGVhbHx0aGlzdGxlfHRvbWF0b3x0dXJxdW9pc2V8dmlvbGV0fHdoZWF0fHdoaXRlfHdoaXRlc21va2V8eWVsbG93fHllbGxvd2dyZWVuXCIsbD10LnN1cHBvcnRDb25zdGFudEZvbnRzPVwiYXJpYWx8Y2VudHVyeXxjb21pY3xjb3VyaWVyfGN1cnNpdmV8ZmFudGFzeXxnYXJhbW9uZHxnZW9yZ2lhfGhlbHZldGljYXxpbXBhY3R8bHVjaWRhfHN5bWJvbHxzeXN0ZW18dGFob21hfHRpbWVzfHRyZWJ1Y2hldHx1dG9waWF8dmVyZGFuYXx3ZWJkaW5nc3xzYW5zLXNlcmlmfHNlcmlmfG1vbm9zcGFjZVwiLGM9dC5udW1SZT1cIlxcXFwtPyg/Oig/OlswLTldKyg/OlxcXFwuWzAtOV0rKT8pfCg/OlxcXFwuWzAtOV0rKSlcIixoPXQucHNldWRvRWxlbWVudHM9XCIoXFxcXDorKVxcXFxiKGFmdGVyfGJlZm9yZXxmaXJzdC1sZXR0ZXJ8Zmlyc3QtbGluZXxtb3otc2VsZWN0aW9ufHNlbGVjdGlvbilcXFxcYlwiLHA9dC5wc2V1ZG9DbGFzc2VzPVwiKDopXFxcXGIoYWN0aXZlfGNoZWNrZWR8ZGlzYWJsZWR8ZW1wdHl8ZW5hYmxlZHxmaXJzdC1jaGlsZHxmaXJzdC1vZi10eXBlfGZvY3VzfGhvdmVyfGluZGV0ZXJtaW5hdGV8aW52YWxpZHxsYXN0LWNoaWxkfGxhc3Qtb2YtdHlwZXxsaW5rfG5vdHxudGgtY2hpbGR8bnRoLWxhc3QtY2hpbGR8bnRoLWxhc3Qtb2YtdHlwZXxudGgtb2YtdHlwZXxvbmx5LWNoaWxkfG9ubHktb2YtdHlwZXxyZXF1aXJlZHxyb290fHRhcmdldHx2YWxpZHx2aXNpdGVkKVxcXFxiXCIsZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY3JlYXRlS2V5d29yZE1hcHBlcih7XCJzdXBwb3J0LmZ1bmN0aW9uXCI6dSxcInN1cHBvcnQuY29uc3RhbnRcIjphLFwic3VwcG9ydC50eXBlXCI6byxcInN1cHBvcnQuY29uc3RhbnQuY29sb3JcIjpmLFwic3VwcG9ydC5jb25zdGFudC5mb250c1wiOmx9LFwidGV4dFwiLCEwKTt0aGlzLiRydWxlcz17c3RhcnQ6W3tpbmNsdWRlOltcInN0cmluZ3NcIixcInVybFwiLFwiY29tbWVudHNcIl19LHt0b2tlbjpcInBhcmVuLmxwYXJlblwiLHJlZ2V4OlwiXFxcXHtcIixuZXh0OlwicnVsZXNldFwifSx7dG9rZW46XCJwYXJlbi5ycGFyZW5cIixyZWdleDpcIlxcXFx9XCJ9LHt0b2tlbjpcInN0cmluZ1wiLHJlZ2V4OlwiQCg/IXZpZXdwb3J0KVwiLG5leHQ6XCJtZWRpYVwifSx7dG9rZW46XCJrZXl3b3JkXCIscmVnZXg6XCIjW2EtejAtOS1fXStcIn0se3Rva2VuOlwia2V5d29yZFwiLHJlZ2V4OlwiJVwifSx7dG9rZW46XCJ2YXJpYWJsZVwiLHJlZ2V4OlwiXFxcXC5bYS16MC05LV9dK1wifSx7dG9rZW46XCJzdHJpbmdcIixyZWdleDpcIjpbYS16MC05LV9dK1wifSx7dG9rZW46XCJjb25zdGFudC5udW1lcmljXCIscmVnZXg6Y30se3Rva2VuOlwiY29uc3RhbnRcIixyZWdleDpcIlthLXowLTktX10rXCJ9LHtjYXNlSW5zZW5zaXRpdmU6ITB9XSxtZWRpYTpbe2luY2x1ZGU6W1wic3RyaW5nc1wiLFwidXJsXCIsXCJjb21tZW50c1wiXX0se3Rva2VuOlwicGFyZW4ubHBhcmVuXCIscmVnZXg6XCJcXFxce1wiLG5leHQ6XCJzdGFydFwifSx7dG9rZW46XCJwYXJlbi5ycGFyZW5cIixyZWdleDpcIlxcXFx9XCIsbmV4dDpcInN0YXJ0XCJ9LHt0b2tlbjpcInN0cmluZ1wiLHJlZ2V4OlwiO1wiLG5leHQ6XCJzdGFydFwifSx7dG9rZW46XCJrZXl3b3JkXCIscmVnZXg6XCIoPzptZWRpYXxzdXBwb3J0c3xkb2N1bWVudHxjaGFyc2V0fGltcG9ydHxuYW1lc3BhY2V8bWVkaWF8c3VwcG9ydHN8ZG9jdW1lbnR8cGFnZXxmb250fGtleWZyYW1lc3x2aWV3cG9ydHxjb3VudGVyLXN0eWxlfGZvbnQtZmVhdHVyZS12YWx1ZXN8c3dhc2h8b3JuYW1lbnRzfGFubm90YXRpb258c3R5bGlzdGljfHN0eWxlc2V0fGNoYXJhY3Rlci12YXJpYW50KVwifV0sY29tbWVudHM6W3t0b2tlbjpcImNvbW1lbnRcIixyZWdleDpcIlxcXFwvXFxcXCpcIixwdXNoOlt7dG9rZW46XCJjb21tZW50XCIscmVnZXg6XCJcXFxcKlxcXFwvXCIsbmV4dDpcInBvcFwifSx7ZGVmYXVsdFRva2VuOlwiY29tbWVudFwifV19XSxydWxlc2V0Olt7cmVnZXg6XCItKHdlYmtpdHxtc3xtb3p8byktXCIsdG9rZW46XCJ0ZXh0XCJ9LHt0b2tlbjpcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIscmVnZXg6XCJbOjtdXCJ9LHt0b2tlbjpcInBhcmVuLnJwYXJlblwiLHJlZ2V4OlwiXFxcXH1cIixuZXh0Olwic3RhcnRcIn0se2luY2x1ZGU6W1wic3RyaW5nc1wiLFwidXJsXCIsXCJjb21tZW50c1wiXX0se3Rva2VuOltcImNvbnN0YW50Lm51bWVyaWNcIixcImtleXdvcmRcIl0scmVnZXg6XCIoXCIrYytcIikoY2h8Y218ZGVnfGVtfGV4fGZyfGdkfGdyYWR8SHp8aW58a0h6fG1tfG1zfHBjfHB0fHB4fHJhZHxyZW18c3x0dXJufHZofHZtYXh8dm1pbnx2bXx2d3wlKVwifSx7dG9rZW46XCJjb25zdGFudC5udW1lcmljXCIscmVnZXg6Y30se3Rva2VuOlwiY29uc3RhbnQubnVtZXJpY1wiLHJlZ2V4OlwiI1thLWYwLTldezZ9XCJ9LHt0b2tlbjpcImNvbnN0YW50Lm51bWVyaWNcIixyZWdleDpcIiNbYS1mMC05XXszfVwifSx7dG9rZW46W1wicHVuY3R1YXRpb25cIixcImVudGl0eS5vdGhlci5hdHRyaWJ1dGUtbmFtZS5wc2V1ZG8tZWxlbWVudC5jc3NcIl0scmVnZXg6aH0se3Rva2VuOltcInB1bmN0dWF0aW9uXCIsXCJlbnRpdHkub3RoZXIuYXR0cmlidXRlLW5hbWUucHNldWRvLWNsYXNzLmNzc1wiXSxyZWdleDpwfSx7aW5jbHVkZTpcInVybFwifSx7dG9rZW46ZSxyZWdleDpcIlxcXFwtP1thLXpBLVpfXVthLXpBLVowLTlfXFxcXC1dKlwifSx7dG9rZW46XCJwYXJlbi5scGFyZW5cIixyZWdleDpcIlxcXFx7XCJ9LHtjYXNlSW5zZW5zaXRpdmU6ITB9XSx1cmw6W3t0b2tlbjpcInN1cHBvcnQuZnVuY3Rpb25cIixyZWdleDpcIig/OnVybCg6Py1wcmVmaXgpP3xkb21haW58cmVnZXhwKVxcXFwoXCIscHVzaDpbe3Rva2VuOlwic3VwcG9ydC5mdW5jdGlvblwiLHJlZ2V4OlwiXFxcXClcIixuZXh0OlwicG9wXCJ9LHtkZWZhdWx0VG9rZW46XCJzdHJpbmdcIn1dfV0sc3RyaW5nczpbe3Rva2VuOlwic3RyaW5nLnN0YXJ0XCIscmVnZXg6XCInXCIscHVzaDpbe3Rva2VuOlwic3RyaW5nLmVuZFwiLHJlZ2V4OlwiJ3wkXCIsbmV4dDpcInBvcFwifSx7aW5jbHVkZTpcImVzY2FwZXNcIn0se3Rva2VuOlwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIscmVnZXg6L1xcXFwkLyxjb25zdW1lTGluZUVuZDohMH0se2RlZmF1bHRUb2tlbjpcInN0cmluZ1wifV19LHt0b2tlbjpcInN0cmluZy5zdGFydFwiLHJlZ2V4OidcIicscHVzaDpbe3Rva2VuOlwic3RyaW5nLmVuZFwiLHJlZ2V4OidcInwkJyxuZXh0OlwicG9wXCJ9LHtpbmNsdWRlOlwiZXNjYXBlc1wifSx7dG9rZW46XCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixyZWdleDovXFxcXCQvLGNvbnN1bWVMaW5lRW5kOiEwfSx7ZGVmYXVsdFRva2VuOlwic3RyaW5nXCJ9XX1dLGVzY2FwZXM6W3t0b2tlbjpcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLHJlZ2V4Oi9cXFxcKFthLWZBLUZcXGRdezEsNn18W15hLWZBLUZcXGRdKS99XX0sdGhpcy5ub3JtYWxpemVSdWxlcygpfTtyLmluaGVyaXRzKGQscyksdC5Dc3NIaWdobGlnaHRSdWxlcz1kfSksYWNlLmRlZmluZShcImFjZS9tb2RlL2Nzc19jb21wbGV0aW9uc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9e2JhY2tncm91bmQ6e1wiIyQwXCI6MX0sXCJiYWNrZ3JvdW5kLWNvbG9yXCI6e1wiIyQwXCI6MSx0cmFuc3BhcmVudDoxLGZpeGVkOjF9LFwiYmFja2dyb3VuZC1pbWFnZVwiOntcInVybCgnLyQwJylcIjoxfSxcImJhY2tncm91bmQtcmVwZWF0XCI6e3JlcGVhdDoxLFwicmVwZWF0LXhcIjoxLFwicmVwZWF0LXlcIjoxLFwibm8tcmVwZWF0XCI6MSxpbmhlcml0OjF9LFwiYmFja2dyb3VuZC1wb3NpdGlvblwiOntib3R0b206MixjZW50ZXI6MixsZWZ0OjIscmlnaHQ6Mix0b3A6Mixpbmhlcml0OjJ9LFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCI6e3Njcm9sbDoxLGZpeGVkOjF9LFwiYmFja2dyb3VuZC1zaXplXCI6e2NvdmVyOjEsY29udGFpbjoxfSxcImJhY2tncm91bmQtY2xpcFwiOntcImJvcmRlci1ib3hcIjoxLFwicGFkZGluZy1ib3hcIjoxLFwiY29udGVudC1ib3hcIjoxfSxcImJhY2tncm91bmQtb3JpZ2luXCI6e1wiYm9yZGVyLWJveFwiOjEsXCJwYWRkaW5nLWJveFwiOjEsXCJjb250ZW50LWJveFwiOjF9LGJvcmRlcjp7XCJzb2xpZCAkMFwiOjEsXCJkYXNoZWQgJDBcIjoxLFwiZG90dGVkICQwXCI6MSxcIiMkMFwiOjF9LFwiYm9yZGVyLWNvbG9yXCI6e1wiIyQwXCI6MX0sXCJib3JkZXItc3R5bGVcIjp7c29saWQ6MixkYXNoZWQ6Mixkb3R0ZWQ6MixcImRvdWJsZVwiOjIsZ3Jvb3ZlOjIsaGlkZGVuOjIsaW5oZXJpdDoyLGluc2V0OjIsbm9uZToyLG91dHNldDoyLHJpZGdlZDoyfSxcImJvcmRlci1jb2xsYXBzZVwiOntjb2xsYXBzZToxLHNlcGFyYXRlOjF9LGJvdHRvbTp7cHg6MSxlbToxLFwiJVwiOjF9LGNsZWFyOntsZWZ0OjEscmlnaHQ6MSxib3RoOjEsbm9uZToxfSxjb2xvcjp7XCIjJDBcIjoxLFwicmdiKCMkMDAsMCwwKVwiOjF9LGN1cnNvcjp7XCJkZWZhdWx0XCI6MSxwb2ludGVyOjEsbW92ZToxLHRleHQ6MSx3YWl0OjEsaGVscDoxLHByb2dyZXNzOjEsXCJuLXJlc2l6ZVwiOjEsXCJuZS1yZXNpemVcIjoxLFwiZS1yZXNpemVcIjoxLFwic2UtcmVzaXplXCI6MSxcInMtcmVzaXplXCI6MSxcInN3LXJlc2l6ZVwiOjEsXCJ3LXJlc2l6ZVwiOjEsXCJudy1yZXNpemVcIjoxfSxkaXNwbGF5Ontub25lOjEsYmxvY2s6MSxpbmxpbmU6MSxcImlubGluZS1ibG9ja1wiOjEsXCJ0YWJsZS1jZWxsXCI6MX0sXCJlbXB0eS1jZWxsc1wiOntzaG93OjEsaGlkZToxfSxcImZsb2F0XCI6e2xlZnQ6MSxyaWdodDoxLG5vbmU6MX0sXCJmb250LWZhbWlseVwiOntBcmlhbDoyLFwiQ29taWMgU2FucyBNU1wiOjIsQ29uc29sYXM6MixcIkNvdXJpZXIgTmV3XCI6MixDb3VyaWVyOjIsR2VvcmdpYToyLE1vbm9zcGFjZToyLFwiU2Fucy1TZXJpZlwiOjIsXCJTZWdvZSBVSVwiOjIsVGFob21hOjIsXCJUaW1lcyBOZXcgUm9tYW5cIjoyLFwiVHJlYnVjaGV0IE1TXCI6MixWZXJkYW5hOjF9LFwiZm9udC1zaXplXCI6e3B4OjEsZW06MSxcIiVcIjoxfSxcImZvbnQtd2VpZ2h0XCI6e2JvbGQ6MSxub3JtYWw6MX0sXCJmb250LXN0eWxlXCI6e2l0YWxpYzoxLG5vcm1hbDoxfSxcImZvbnQtdmFyaWFudFwiOntub3JtYWw6MSxcInNtYWxsLWNhcHNcIjoxfSxoZWlnaHQ6e3B4OjEsZW06MSxcIiVcIjoxfSxsZWZ0OntweDoxLGVtOjEsXCIlXCI6MX0sXCJsZXR0ZXItc3BhY2luZ1wiOntub3JtYWw6MX0sXCJsaW5lLWhlaWdodFwiOntub3JtYWw6MX0sXCJsaXN0LXN0eWxlLXR5cGVcIjp7bm9uZToxLGRpc2M6MSxjaXJjbGU6MSxzcXVhcmU6MSxkZWNpbWFsOjEsXCJkZWNpbWFsLWxlYWRpbmctemVyb1wiOjEsXCJsb3dlci1yb21hblwiOjEsXCJ1cHBlci1yb21hblwiOjEsXCJsb3dlci1ncmVla1wiOjEsXCJsb3dlci1sYXRpblwiOjEsXCJ1cHBlci1sYXRpblwiOjEsZ2VvcmdpYW46MSxcImxvd2VyLWFscGhhXCI6MSxcInVwcGVyLWFscGhhXCI6MX0sbWFyZ2luOntweDoxLGVtOjEsXCIlXCI6MX0sXCJtYXJnaW4tcmlnaHRcIjp7cHg6MSxlbToxLFwiJVwiOjF9LFwibWFyZ2luLWxlZnRcIjp7cHg6MSxlbToxLFwiJVwiOjF9LFwibWFyZ2luLXRvcFwiOntweDoxLGVtOjEsXCIlXCI6MX0sXCJtYXJnaW4tYm90dG9tXCI6e3B4OjEsZW06MSxcIiVcIjoxfSxcIm1heC1oZWlnaHRcIjp7cHg6MSxlbToxLFwiJVwiOjF9LFwibWF4LXdpZHRoXCI6e3B4OjEsZW06MSxcIiVcIjoxfSxcIm1pbi1oZWlnaHRcIjp7cHg6MSxlbToxLFwiJVwiOjF9LFwibWluLXdpZHRoXCI6e3B4OjEsZW06MSxcIiVcIjoxfSxvdmVyZmxvdzp7aGlkZGVuOjEsdmlzaWJsZToxLGF1dG86MSxzY3JvbGw6MX0sXCJvdmVyZmxvdy14XCI6e2hpZGRlbjoxLHZpc2libGU6MSxhdXRvOjEsc2Nyb2xsOjF9LFwib3ZlcmZsb3cteVwiOntoaWRkZW46MSx2aXNpYmxlOjEsYXV0bzoxLHNjcm9sbDoxfSxwYWRkaW5nOntweDoxLGVtOjEsXCIlXCI6MX0sXCJwYWRkaW5nLXRvcFwiOntweDoxLGVtOjEsXCIlXCI6MX0sXCJwYWRkaW5nLXJpZ2h0XCI6e3B4OjEsZW06MSxcIiVcIjoxfSxcInBhZGRpbmctYm90dG9tXCI6e3B4OjEsZW06MSxcIiVcIjoxfSxcInBhZGRpbmctbGVmdFwiOntweDoxLGVtOjEsXCIlXCI6MX0sXCJwYWdlLWJyZWFrLWFmdGVyXCI6e2F1dG86MSxhbHdheXM6MSxhdm9pZDoxLGxlZnQ6MSxyaWdodDoxfSxcInBhZ2UtYnJlYWstYmVmb3JlXCI6e2F1dG86MSxhbHdheXM6MSxhdm9pZDoxLGxlZnQ6MSxyaWdodDoxfSxwb3NpdGlvbjp7YWJzb2x1dGU6MSxyZWxhdGl2ZToxLGZpeGVkOjEsXCJzdGF0aWNcIjoxfSxyaWdodDp7cHg6MSxlbToxLFwiJVwiOjF9LFwidGFibGUtbGF5b3V0XCI6e2ZpeGVkOjEsYXV0bzoxfSxcInRleHQtZGVjb3JhdGlvblwiOntub25lOjEsdW5kZXJsaW5lOjEsXCJsaW5lLXRocm91Z2hcIjoxLGJsaW5rOjF9LFwidGV4dC1hbGlnblwiOntsZWZ0OjEscmlnaHQ6MSxjZW50ZXI6MSxqdXN0aWZ5OjF9LFwidGV4dC10cmFuc2Zvcm1cIjp7Y2FwaXRhbGl6ZToxLHVwcGVyY2FzZToxLGxvd2VyY2FzZToxLG5vbmU6MX0sdG9wOntweDoxLGVtOjEsXCIlXCI6MX0sXCJ2ZXJ0aWNhbC1hbGlnblwiOnt0b3A6MSxib3R0b206MX0sdmlzaWJpbGl0eTp7aGlkZGVuOjEsdmlzaWJsZToxfSxcIndoaXRlLXNwYWNlXCI6e25vd3JhcDoxLG5vcm1hbDoxLHByZToxLFwicHJlLWxpbmVcIjoxLFwicHJlLXdyYXBcIjoxfSx3aWR0aDp7cHg6MSxlbToxLFwiJVwiOjF9LFwid29yZC1zcGFjaW5nXCI6e25vcm1hbDoxfSxmaWx0ZXI6e1wiYWxwaGEob3BhY2l0eT0kMDEwMClcIjoxfSxcInRleHQtc2hhZG93XCI6e1wiJDAycHggMnB4IDJweCAjNzc3XCI6MX0sXCJ0ZXh0LW92ZXJmbG93XCI6e1wiZWxsaXBzaXMtd29yZFwiOjEsY2xpcDoxLGVsbGlwc2lzOjF9LFwiLW1vei1ib3JkZXItcmFkaXVzXCI6MSxcIi1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodFwiOjEsXCItbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHRcIjoxLFwiLW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnRcIjoxLFwiLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnRcIjoxLFwiLXdlYmtpdC1ib3JkZXItcmFkaXVzXCI6MSxcIi13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXNcIjoxLFwiLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzXCI6MSxcIi13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIjoxLFwiLXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzXCI6MSxcIi1tb3otYm94LXNoYWRvd1wiOjEsXCItd2Via2l0LWJveC1zaGFkb3dcIjoxLHRyYW5zZm9ybTp7XCJyb3RhdGUoJDAwZGVnKVwiOjEsXCJza2V3KCQwMGRlZylcIjoxfSxcIi1tb3otdHJhbnNmb3JtXCI6e1wicm90YXRlKCQwMGRlZylcIjoxLFwic2tldygkMDBkZWcpXCI6MX0sXCItd2Via2l0LXRyYW5zZm9ybVwiOntcInJvdGF0ZSgkMDBkZWcpXCI6MSxcInNrZXcoJDAwZGVnKVwiOjF9fSxpPWZ1bmN0aW9uKCl7fTsoZnVuY3Rpb24oKXt0aGlzLmNvbXBsZXRpb25zRGVmaW5lZD0hMSx0aGlzLmRlZmluZUNvbXBsZXRpb25zPWZ1bmN0aW9uKCl7aWYoZG9jdW1lbnQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjXCIpLnN0eWxlO2Zvcih2YXIgdCBpbiBlKXtpZih0eXBlb2YgZVt0XSE9XCJzdHJpbmdcIiljb250aW51ZTt2YXIgbj10LnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oZSl7cmV0dXJuXCItXCIrZS50b0xvd2VyQ2FzZSgpfSk7ci5oYXNPd25Qcm9wZXJ0eShuKXx8KHJbbl09MSl9fXRoaXMuY29tcGxldGlvbnNEZWZpbmVkPSEwfSx0aGlzLmdldENvbXBsZXRpb25zPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuY29tcGxldGlvbnNEZWZpbmVkfHx0aGlzLmRlZmluZUNvbXBsZXRpb25zKCk7aWYoZT09PVwicnVsZXNldFwifHx0LiRtb2RlLiRpZD09XCJhY2UvbW9kZS9zY3NzXCIpe3ZhciBpPXQuZ2V0TGluZShuLnJvdykuc3Vic3RyKDAsbi5jb2x1bW4pLHM9L1xcKFteKV0qJC8udGVzdChpKTtyZXR1cm4gcyYmKGk9aS5zdWJzdHIoaS5sYXN0SW5kZXhPZihcIihcIikrMSkpLC86W147XSskLy50ZXN0KGkpPygvKFtcXHdcXC1dKyk6W146XSokLy50ZXN0KGkpLHRoaXMuZ2V0UHJvcGVydHlWYWx1ZUNvbXBsZXRpb25zKGUsdCxuLHIpKTp0aGlzLmdldFByb3BlcnR5Q29tcGxldGlvbnMoZSx0LG4scixzKX1yZXR1cm5bXX0sdGhpcy5nZXRQcm9wZXJ0eUNvbXBsZXRpb25zPWZ1bmN0aW9uKGUsdCxuLGkscyl7cz1zfHwhMTt2YXIgbz1PYmplY3Qua2V5cyhyKTtyZXR1cm4gby5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2NhcHRpb246ZSxzbmlwcGV0OmUrXCI6ICQwXCIrKHM/XCJcIjpcIjtcIiksbWV0YTpcInByb3BlcnR5XCIsc2NvcmU6MWU2fX0pfSx0aGlzLmdldFByb3BlcnR5VmFsdWVDb21wbGV0aW9ucz1mdW5jdGlvbihlLHQsbixpKXt2YXIgcz10LmdldExpbmUobi5yb3cpLnN1YnN0cigwLG4uY29sdW1uKSxvPSgvKFtcXHdcXC1dKyk6W146XSokLy5leGVjKHMpfHx7fSlbMV07aWYoIW8pcmV0dXJuW107dmFyIHU9W107cmV0dXJuIG8gaW4gciYmdHlwZW9mIHJbb109PVwib2JqZWN0XCImJih1PU9iamVjdC5rZXlzKHJbb10pKSx1Lm1hcChmdW5jdGlvbihlKXtyZXR1cm57Y2FwdGlvbjplLHNuaXBwZXQ6ZSxtZXRhOlwicHJvcGVydHkgdmFsdWVcIixzY29yZToxZTZ9fSl9fSkuY2FsbChpLnByb3RvdHlwZSksdC5Dc3NDb21wbGV0aW9ucz1pfSksYWNlLmRlZmluZShcImFjZS9tb2RlL2JlaGF2aW91ci9jc3NcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXJcIixcImFjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGVcIixcImFjZS90b2tlbl9pdGVyYXRvclwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uLy4uL2xpYi9vb3BcIiksaT1lKFwiLi4vYmVoYXZpb3VyXCIpLkJlaGF2aW91cixzPWUoXCIuL2NzdHlsZVwiKS5Dc3R5bGVCZWhhdmlvdXIsbz1lKFwiLi4vLi4vdG9rZW5faXRlcmF0b3JcIikuVG9rZW5JdGVyYXRvcix1PWZ1bmN0aW9uKCl7dGhpcy5pbmhlcml0KHMpLHRoaXMuYWRkKFwiY29sb25cIixcImluc2VydGlvblwiLGZ1bmN0aW9uKGUsdCxuLHIsaSl7aWYoaT09PVwiOlwiJiZuLnNlbGVjdGlvbi5pc0VtcHR5KCkpe3ZhciBzPW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSx1PW5ldyBvKHIscy5yb3cscy5jb2x1bW4pLGE9dS5nZXRDdXJyZW50VG9rZW4oKTthJiZhLnZhbHVlLm1hdGNoKC9cXHMrLykmJihhPXUuc3RlcEJhY2t3YXJkKCkpO2lmKGEmJmEudHlwZT09PVwic3VwcG9ydC50eXBlXCIpe3ZhciBmPXIuZG9jLmdldExpbmUocy5yb3cpLGw9Zi5zdWJzdHJpbmcocy5jb2x1bW4scy5jb2x1bW4rMSk7aWYobD09PVwiOlwiKXJldHVybnt0ZXh0OlwiXCIsc2VsZWN0aW9uOlsxLDFdfTtpZigvXihcXHMrW147XXxcXHMqJCkvLnRlc3QoZi5zdWJzdHJpbmcocy5jb2x1bW4pKSlyZXR1cm57dGV4dDpcIjo7XCIsc2VsZWN0aW9uOlsxLDFdfX19fSksdGhpcy5hZGQoXCJjb2xvblwiLFwiZGVsZXRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBzPXIuZG9jLmdldFRleHRSYW5nZShpKTtpZighaS5pc011bHRpTGluZSgpJiZzPT09XCI6XCIpe3ZhciB1PW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxhPW5ldyBvKHIsdS5yb3csdS5jb2x1bW4pLGY9YS5nZXRDdXJyZW50VG9rZW4oKTtmJiZmLnZhbHVlLm1hdGNoKC9cXHMrLykmJihmPWEuc3RlcEJhY2t3YXJkKCkpO2lmKGYmJmYudHlwZT09PVwic3VwcG9ydC50eXBlXCIpe3ZhciBsPXIuZG9jLmdldExpbmUoaS5zdGFydC5yb3cpLGM9bC5zdWJzdHJpbmcoaS5lbmQuY29sdW1uLGkuZW5kLmNvbHVtbisxKTtpZihjPT09XCI7XCIpcmV0dXJuIGkuZW5kLmNvbHVtbisrLGl9fX0pLHRoaXMuYWRkKFwic2VtaWNvbG9uXCIsXCJpbnNlcnRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe2lmKGk9PT1cIjtcIiYmbi5zZWxlY3Rpb24uaXNFbXB0eSgpKXt2YXIgcz1uLmdldEN1cnNvclBvc2l0aW9uKCksbz1yLmRvYy5nZXRMaW5lKHMucm93KSx1PW8uc3Vic3RyaW5nKHMuY29sdW1uLHMuY29sdW1uKzEpO2lmKHU9PT1cIjtcIilyZXR1cm57dGV4dDpcIlwiLHNlbGVjdGlvbjpbMSwxXX19fSksdGhpcy5hZGQoXCIhaW1wb3J0YW50XCIsXCJpbnNlcnRpb25cIixmdW5jdGlvbihlLHQsbixyLGkpe2lmKGk9PT1cIiFcIiYmbi5zZWxlY3Rpb24uaXNFbXB0eSgpKXt2YXIgcz1uLmdldEN1cnNvclBvc2l0aW9uKCksbz1yLmRvYy5nZXRMaW5lKHMucm93KTtpZigvXlxccyooO3x9fCQpLy50ZXN0KG8uc3Vic3RyaW5nKHMuY29sdW1uKSkpcmV0dXJue3RleHQ6XCIhaW1wb3J0YW50XCIsc2VsZWN0aW9uOlsxMCwxMF19fX0pfTtyLmluaGVyaXRzKHUscyksdC5Dc3NCZWhhdmlvdXI9dX0pLGFjZS5kZWZpbmUoXCJhY2UvbW9kZS9jc3NcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS90ZXh0XCIsXCJhY2UvbW9kZS9jc3NfaGlnaGxpZ2h0X3J1bGVzXCIsXCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50XCIsXCJhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnRcIixcImFjZS9tb2RlL2Nzc19jb21wbGV0aW9uc1wiLFwiYWNlL21vZGUvYmVoYXZpb3VyL2Nzc1wiLFwiYWNlL21vZGUvZm9sZGluZy9jc3R5bGVcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi9saWIvb29wXCIpLGk9ZShcIi4vdGV4dFwiKS5Nb2RlLHM9ZShcIi4vY3NzX2hpZ2hsaWdodF9ydWxlc1wiKS5Dc3NIaWdobGlnaHRSdWxlcyxvPWUoXCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnRcIikuTWF0Y2hpbmdCcmFjZU91dGRlbnQsdT1lKFwiLi4vd29ya2VyL3dvcmtlcl9jbGllbnRcIikuV29ya2VyQ2xpZW50LGE9ZShcIi4vY3NzX2NvbXBsZXRpb25zXCIpLkNzc0NvbXBsZXRpb25zLGY9ZShcIi4vYmVoYXZpb3VyL2Nzc1wiKS5Dc3NCZWhhdmlvdXIsbD1lKFwiLi9mb2xkaW5nL2NzdHlsZVwiKS5Gb2xkTW9kZSxjPWZ1bmN0aW9uKCl7dGhpcy5IaWdobGlnaHRSdWxlcz1zLHRoaXMuJG91dGRlbnQ9bmV3IG8sdGhpcy4kYmVoYXZpb3VyPW5ldyBmLHRoaXMuJGNvbXBsZXRlcj1uZXcgYSx0aGlzLmZvbGRpbmdSdWxlcz1uZXcgbH07ci5pbmhlcml0cyhjLGkpLGZ1bmN0aW9uKCl7dGhpcy5mb2xkaW5nUnVsZXM9XCJjU3R5bGVcIix0aGlzLmJsb2NrQ29tbWVudD17c3RhcnQ6XCIvKlwiLGVuZDpcIiovXCJ9LHRoaXMuZ2V0TmV4dExpbmVJbmRlbnQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuJGdldEluZGVudCh0KSxpPXRoaXMuZ2V0VG9rZW5pemVyKCkuZ2V0TGluZVRva2Vucyh0LGUpLnRva2VucztpZihpLmxlbmd0aCYmaVtpLmxlbmd0aC0xXS50eXBlPT1cImNvbW1lbnRcIilyZXR1cm4gcjt2YXIgcz10Lm1hdGNoKC9eLipcXHtcXHMqJC8pO3JldHVybiBzJiYocis9bikscn0sdGhpcy5jaGVja091dGRlbnQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLiRvdXRkZW50LmNoZWNrT3V0ZGVudCh0LG4pfSx0aGlzLmF1dG9PdXRkZW50PWZ1bmN0aW9uKGUsdCxuKXt0aGlzLiRvdXRkZW50LmF1dG9PdXRkZW50KHQsbil9LHRoaXMuZ2V0Q29tcGxldGlvbnM9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuJGNvbXBsZXRlci5nZXRDb21wbGV0aW9ucyhlLHQsbixyKX0sdGhpcy5jcmVhdGVXb3JrZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHUoW1wiYWNlXCJdLFwiYWNlL21vZGUvY3NzX3dvcmtlclwiLFwiV29ya2VyXCIpO3JldHVybiB0LmF0dGFjaFRvRG9jdW1lbnQoZS5nZXREb2N1bWVudCgpKSx0Lm9uKFwiYW5ub3RhdGVcIixmdW5jdGlvbih0KXtlLnNldEFubm90YXRpb25zKHQuZGF0YSl9KSx0Lm9uKFwidGVybWluYXRlXCIsZnVuY3Rpb24oKXtlLmNsZWFyQW5ub3RhdGlvbnMoKX0pLHR9LHRoaXMuJGlkPVwiYWNlL21vZGUvY3NzXCIsdGhpcy5zbmlwcGV0RmlsZUlkPVwiYWNlL3NuaXBwZXRzL2Nzc1wifS5jYWxsKGMucHJvdG90eXBlKSx0Lk1vZGU9Y30pLGFjZS5kZWZpbmUoXCJhY2UvbW9kZS94bWxfaGlnaGxpZ2h0X3J1bGVzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXNcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi9saWIvb29wXCIpLGk9ZShcIi4vdGV4dF9oaWdobGlnaHRfcnVsZXNcIikuVGV4dEhpZ2hsaWdodFJ1bGVzLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJbXzphLXpBLVpcXHUwMGMwLVxcdWZmZmZdWy1fOi5hLXpBLVowLTlcXHUwMGMwLVxcdWZmZmZdKlwiO3RoaXMuJHJ1bGVzPXtzdGFydDpbe3Rva2VuOlwic3RyaW5nLmNkYXRhLnhtbFwiLHJlZ2V4OlwiPFxcXFwhXFxcXFtDREFUQVxcXFxbXCIsbmV4dDpcImNkYXRhXCJ9LHt0b2tlbjpbXCJwdW5jdHVhdGlvbi5pbnN0cnVjdGlvbi54bWxcIixcImtleXdvcmQuaW5zdHJ1Y3Rpb24ueG1sXCJdLHJlZ2V4OlwiKDxcXFxcPykoXCIrdCtcIilcIixuZXh0OlwicHJvY2Vzc2luZ19pbnN0cnVjdGlvblwifSx7dG9rZW46XCJjb21tZW50LnN0YXJ0LnhtbFwiLHJlZ2V4OlwiPFxcXFwhLS1cIixuZXh0OlwiY29tbWVudFwifSx7dG9rZW46W1wieG1sLXBlLmRvY3R5cGUueG1sXCIsXCJ4bWwtcGUuZG9jdHlwZS54bWxcIl0scmVnZXg6XCIoPFxcXFwhKShET0NUWVBFKSg/PVtcXFxcc10pXCIsbmV4dDpcImRvY3R5cGVcIixjYXNlSW5zZW5zaXRpdmU6ITB9LHtpbmNsdWRlOlwidGFnXCJ9LHt0b2tlbjpcInRleHQuZW5kLXRhZy1vcGVuLnhtbFwiLHJlZ2V4OlwiPC9cIn0se3Rva2VuOlwidGV4dC50YWctb3Blbi54bWxcIixyZWdleDpcIjxcIn0se2luY2x1ZGU6XCJyZWZlcmVuY2VcIn0se2RlZmF1bHRUb2tlbjpcInRleHQueG1sXCJ9XSxwcm9jZXNzaW5nX2luc3RydWN0aW9uOlt7dG9rZW46XCJlbnRpdHkub3RoZXIuYXR0cmlidXRlLW5hbWUuZGVjbC1hdHRyaWJ1dGUtbmFtZS54bWxcIixyZWdleDp0fSx7dG9rZW46XCJrZXl3b3JkLm9wZXJhdG9yLmRlY2wtYXR0cmlidXRlLWVxdWFscy54bWxcIixyZWdleDpcIj1cIn0se2luY2x1ZGU6XCJ3aGl0ZXNwYWNlXCJ9LHtpbmNsdWRlOlwic3RyaW5nXCJ9LHt0b2tlbjpcInB1bmN0dWF0aW9uLnhtbC1kZWNsLnhtbFwiLHJlZ2V4OlwiXFxcXD8+XCIsbmV4dDpcInN0YXJ0XCJ9XSxkb2N0eXBlOlt7aW5jbHVkZTpcIndoaXRlc3BhY2VcIn0se2luY2x1ZGU6XCJzdHJpbmdcIn0se3Rva2VuOlwieG1sLXBlLmRvY3R5cGUueG1sXCIscmVnZXg6XCI+XCIsbmV4dDpcInN0YXJ0XCJ9LHt0b2tlbjpcInhtbC1wZS54bWxcIixyZWdleDpcIlstX2EtekEtWjAtOTpdK1wifSx7dG9rZW46XCJwdW5jdHVhdGlvbi5pbnQtc3Vic2V0XCIscmVnZXg6XCJcXFxcW1wiLHB1c2g6XCJpbnRfc3Vic2V0XCJ9XSxpbnRfc3Vic2V0Olt7dG9rZW46XCJ0ZXh0LnhtbFwiLHJlZ2V4OlwiXFxcXHMrXCJ9LHt0b2tlbjpcInB1bmN0dWF0aW9uLmludC1zdWJzZXQueG1sXCIscmVnZXg6XCJdXCIsbmV4dDpcInBvcFwifSx7dG9rZW46W1wicHVuY3R1YXRpb24ubWFya3VwLWRlY2wueG1sXCIsXCJrZXl3b3JkLm1hcmt1cC1kZWNsLnhtbFwiXSxyZWdleDpcIig8XFxcXCEpKFwiK3QrXCIpXCIscHVzaDpbe3Rva2VuOlwidGV4dFwiLHJlZ2V4OlwiXFxcXHMrXCJ9LHt0b2tlbjpcInB1bmN0dWF0aW9uLm1hcmt1cC1kZWNsLnhtbFwiLHJlZ2V4OlwiPlwiLG5leHQ6XCJwb3BcIn0se2luY2x1ZGU6XCJzdHJpbmdcIn1dfV0sY2RhdGE6W3t0b2tlbjpcInN0cmluZy5jZGF0YS54bWxcIixyZWdleDpcIlxcXFxdXFxcXF0+XCIsbmV4dDpcInN0YXJ0XCJ9LHt0b2tlbjpcInRleHQueG1sXCIscmVnZXg6XCJcXFxccytcIn0se3Rva2VuOlwidGV4dC54bWxcIixyZWdleDpcIig/OlteXFxcXF1dfFxcXFxdKD8hXFxcXF0+KSkrXCJ9XSxjb21tZW50Olt7dG9rZW46XCJjb21tZW50LmVuZC54bWxcIixyZWdleDpcIi0tPlwiLG5leHQ6XCJzdGFydFwifSx7ZGVmYXVsdFRva2VuOlwiY29tbWVudC54bWxcIn1dLHJlZmVyZW5jZTpbe3Rva2VuOlwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlLnJlZmVyZW5jZS54bWxcIixyZWdleDpcIig/OiYjWzAtOV0rOyl8KD86JiN4WzAtOWEtZkEtRl0rOyl8KD86JlthLXpBLVowLTlfOlxcXFwuLV0rOylcIn1dLGF0dHJfcmVmZXJlbmNlOlt7dG9rZW46XCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGUucmVmZXJlbmNlLmF0dHJpYnV0ZS12YWx1ZS54bWxcIixyZWdleDpcIig/OiYjWzAtOV0rOyl8KD86JiN4WzAtOWEtZkEtRl0rOyl8KD86JlthLXpBLVowLTlfOlxcXFwuLV0rOylcIn1dLHRhZzpbe3Rva2VuOltcIm1ldGEudGFnLnB1bmN0dWF0aW9uLnRhZy1vcGVuLnhtbFwiLFwibWV0YS50YWcucHVuY3R1YXRpb24uZW5kLXRhZy1vcGVuLnhtbFwiLFwibWV0YS50YWcudGFnLW5hbWUueG1sXCJdLHJlZ2V4OlwiKD86KDwpfCg8LykpKCg/OlwiK3QrXCI6KT9cIit0K1wiKVwiLG5leHQ6W3tpbmNsdWRlOlwiYXR0cmlidXRlc1wifSx7dG9rZW46XCJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctY2xvc2UueG1sXCIscmVnZXg6XCIvPz5cIixuZXh0Olwic3RhcnRcIn1dfV0sdGFnX3doaXRlc3BhY2U6W3t0b2tlbjpcInRleHQudGFnLXdoaXRlc3BhY2UueG1sXCIscmVnZXg6XCJcXFxccytcIn1dLHdoaXRlc3BhY2U6W3t0b2tlbjpcInRleHQud2hpdGVzcGFjZS54bWxcIixyZWdleDpcIlxcXFxzK1wifV0sc3RyaW5nOlt7dG9rZW46XCJzdHJpbmcueG1sXCIscmVnZXg6XCInXCIscHVzaDpbe3Rva2VuOlwic3RyaW5nLnhtbFwiLHJlZ2V4OlwiJ1wiLG5leHQ6XCJwb3BcIn0se2RlZmF1bHRUb2tlbjpcInN0cmluZy54bWxcIn1dfSx7dG9rZW46XCJzdHJpbmcueG1sXCIscmVnZXg6J1wiJyxwdXNoOlt7dG9rZW46XCJzdHJpbmcueG1sXCIscmVnZXg6J1wiJyxuZXh0OlwicG9wXCJ9LHtkZWZhdWx0VG9rZW46XCJzdHJpbmcueG1sXCJ9XX1dLGF0dHJpYnV0ZXM6W3t0b2tlbjpcImVudGl0eS5vdGhlci5hdHRyaWJ1dGUtbmFtZS54bWxcIixyZWdleDp0fSx7dG9rZW46XCJrZXl3b3JkLm9wZXJhdG9yLmF0dHJpYnV0ZS1lcXVhbHMueG1sXCIscmVnZXg6XCI9XCJ9LHtpbmNsdWRlOlwidGFnX3doaXRlc3BhY2VcIn0se2luY2x1ZGU6XCJhdHRyaWJ1dGVfdmFsdWVcIn1dLGF0dHJpYnV0ZV92YWx1ZTpbe3Rva2VuOlwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIixyZWdleDpcIidcIixwdXNoOlt7dG9rZW46XCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwiLHJlZ2V4OlwiJ1wiLG5leHQ6XCJwb3BcIn0se2luY2x1ZGU6XCJhdHRyX3JlZmVyZW5jZVwifSx7ZGVmYXVsdFRva2VuOlwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIn1dfSx7dG9rZW46XCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwiLHJlZ2V4OidcIicscHVzaDpbe3Rva2VuOlwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIixyZWdleDonXCInLG5leHQ6XCJwb3BcIn0se2luY2x1ZGU6XCJhdHRyX3JlZmVyZW5jZVwifSx7ZGVmYXVsdFRva2VuOlwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIn1dfV19LHRoaXMuY29uc3RydWN0b3I9PT1zJiZ0aGlzLm5vcm1hbGl6ZVJ1bGVzKCl9OyhmdW5jdGlvbigpe3RoaXMuZW1iZWRUYWdSdWxlcz1mdW5jdGlvbihlLHQsbil7dGhpcy4kcnVsZXMudGFnLnVuc2hpZnQoe3Rva2VuOltcIm1ldGEudGFnLnB1bmN0dWF0aW9uLnRhZy1vcGVuLnhtbFwiLFwibWV0YS50YWcuXCIrbitcIi50YWctbmFtZS54bWxcIl0scmVnZXg6XCIoPCkoXCIrbitcIig/PVxcXFxzfD58JCkpXCIsbmV4dDpbe2luY2x1ZGU6XCJhdHRyaWJ1dGVzXCJ9LHt0b2tlbjpcIm1ldGEudGFnLnB1bmN0dWF0aW9uLnRhZy1jbG9zZS54bWxcIixyZWdleDpcIi8/PlwiLG5leHQ6dCtcInN0YXJ0XCJ9XX0pLHRoaXMuJHJ1bGVzW24rXCItZW5kXCJdPVt7aW5jbHVkZTpcImF0dHJpYnV0ZXNcIn0se3Rva2VuOlwibWV0YS50YWcucHVuY3R1YXRpb24udGFnLWNsb3NlLnhtbFwiLHJlZ2V4OlwiLz8+XCIsbmV4dDpcInN0YXJ0XCIsb25NYXRjaDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG4uc3BsaWNlKDApLHRoaXMudG9rZW59fV0sdGhpcy5lbWJlZFJ1bGVzKGUsdCxbe3Rva2VuOltcIm1ldGEudGFnLnB1bmN0dWF0aW9uLmVuZC10YWctb3Blbi54bWxcIixcIm1ldGEudGFnLlwiK24rXCIudGFnLW5hbWUueG1sXCJdLHJlZ2V4OlwiKDwvKShcIituK1wiKD89XFxcXHN8PnwkKSlcIixuZXh0Om4rXCItZW5kXCJ9LHt0b2tlbjpcInN0cmluZy5jZGF0YS54bWxcIixyZWdleDpcIjxcXFxcIVxcXFxbQ0RBVEFcXFxcW1wifSx7dG9rZW46XCJzdHJpbmcuY2RhdGEueG1sXCIscmVnZXg6XCJcXFxcXVxcXFxdPlwifV0pfX0pLmNhbGwoaS5wcm90b3R5cGUpLHIuaW5oZXJpdHMocyxpKSx0LlhtbEhpZ2hsaWdodFJ1bGVzPXN9KSxhY2UuZGVmaW5lKFwiYWNlL21vZGUvaHRtbF9oaWdobGlnaHRfcnVsZXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9tb2RlL2Nzc19oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzXCIsXCJhY2UvbW9kZS94bWxfaGlnaGxpZ2h0X3J1bGVzXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi4vbGliL29vcFwiKSxpPWUoXCIuLi9saWIvbGFuZ1wiKSxzPWUoXCIuL2Nzc19oaWdobGlnaHRfcnVsZXNcIikuQ3NzSGlnaGxpZ2h0UnVsZXMsbz1lKFwiLi9qYXZhc2NyaXB0X2hpZ2hsaWdodF9ydWxlc1wiKS5KYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXMsdT1lKFwiLi94bWxfaGlnaGxpZ2h0X3J1bGVzXCIpLlhtbEhpZ2hsaWdodFJ1bGVzLGE9aS5jcmVhdGVNYXAoe2E6XCJhbmNob3JcIixidXR0b246XCJmb3JtXCIsZm9ybTpcImZvcm1cIixpbWc6XCJpbWFnZVwiLGlucHV0OlwiZm9ybVwiLGxhYmVsOlwiZm9ybVwiLG9wdGlvbjpcImZvcm1cIixzY3JpcHQ6XCJzY3JpcHRcIixzZWxlY3Q6XCJmb3JtXCIsdGV4dGFyZWE6XCJmb3JtXCIsc3R5bGU6XCJzdHlsZVwiLHRhYmxlOlwidGFibGVcIix0Ym9keTpcInRhYmxlXCIsdGQ6XCJ0YWJsZVwiLHRmb290OlwidGFibGVcIix0aDpcInRhYmxlXCIsdHI6XCJ0YWJsZVwifSksZj1mdW5jdGlvbigpe3UuY2FsbCh0aGlzKSx0aGlzLmFkZFJ1bGVzKHthdHRyaWJ1dGVzOlt7aW5jbHVkZTpcInRhZ193aGl0ZXNwYWNlXCJ9LHt0b2tlbjpcImVudGl0eS5vdGhlci5hdHRyaWJ1dGUtbmFtZS54bWxcIixyZWdleDpcIlstX2EtekEtWjAtOTouXStcIn0se3Rva2VuOlwia2V5d29yZC5vcGVyYXRvci5hdHRyaWJ1dGUtZXF1YWxzLnhtbFwiLHJlZ2V4OlwiPVwiLHB1c2g6W3tpbmNsdWRlOlwidGFnX3doaXRlc3BhY2VcIn0se3Rva2VuOlwic3RyaW5nLnVucXVvdGVkLmF0dHJpYnV0ZS12YWx1ZS5odG1sXCIscmVnZXg6XCJbXjw+PSdcXFwiYFxcXFxzXStcIixuZXh0OlwicG9wXCJ9LHt0b2tlbjpcImVtcHR5XCIscmVnZXg6XCJcIixuZXh0OlwicG9wXCJ9XX0se2luY2x1ZGU6XCJhdHRyaWJ1dGVfdmFsdWVcIn1dLHRhZzpbe3Rva2VuOmZ1bmN0aW9uKGUsdCl7dmFyIG49YVt0XTtyZXR1cm5bXCJtZXRhLnRhZy5wdW5jdHVhdGlvbi5cIisoZT09XCI8XCI/XCJcIjpcImVuZC1cIikrXCJ0YWctb3Blbi54bWxcIixcIm1ldGEudGFnXCIrKG4/XCIuXCIrbjpcIlwiKStcIi50YWctbmFtZS54bWxcIl19LHJlZ2V4OlwiKDwvPykoWy1fYS16QS1aMC05Oi5dKylcIixuZXh0OlwidGFnX3N0dWZmXCJ9XSx0YWdfc3R1ZmY6W3tpbmNsdWRlOlwiYXR0cmlidXRlc1wifSx7dG9rZW46XCJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctY2xvc2UueG1sXCIscmVnZXg6XCIvPz5cIixuZXh0Olwic3RhcnRcIn1dfSksdGhpcy5lbWJlZFRhZ1J1bGVzKHMsXCJjc3MtXCIsXCJzdHlsZVwiKSx0aGlzLmVtYmVkVGFnUnVsZXMoKG5ldyBvKHtqc3g6ITF9KSkuZ2V0UnVsZXMoKSxcImpzLVwiLFwic2NyaXB0XCIpLHRoaXMuY29uc3RydWN0b3I9PT1mJiZ0aGlzLm5vcm1hbGl6ZVJ1bGVzKCl9O3IuaW5oZXJpdHMoZix1KSx0Lkh0bWxIaWdobGlnaHRSdWxlcz1mfSksYWNlLmRlZmluZShcImFjZS9tb2RlL2ZvbGRpbmcvbWl4ZWRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZVwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uLy4uL2xpYi9vb3BcIiksaT1lKFwiLi9mb2xkX21vZGVcIikuRm9sZE1vZGUscz10LkZvbGRNb2RlPWZ1bmN0aW9uKGUsdCl7dGhpcy5kZWZhdWx0TW9kZT1lLHRoaXMuc3ViTW9kZXM9dH07ci5pbmhlcml0cyhzLGkpLGZ1bmN0aW9uKCl7dGhpcy4kZ2V0TW9kZT1mdW5jdGlvbihlKXt0eXBlb2YgZSE9XCJzdHJpbmdcIiYmKGU9ZVswXSk7Zm9yKHZhciB0IGluIHRoaXMuc3ViTW9kZXMpaWYoZS5pbmRleE9mKHQpPT09MClyZXR1cm4gdGhpcy5zdWJNb2Rlc1t0XTtyZXR1cm4gbnVsbH0sdGhpcy4kdHJ5TW9kZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLiRnZXRNb2RlKGUpO3JldHVybiBpP2kuZ2V0Rm9sZFdpZGdldCh0LG4scik6XCJcIn0sdGhpcy5nZXRGb2xkV2lkZ2V0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy4kdHJ5TW9kZShlLmdldFN0YXRlKG4tMSksZSx0LG4pfHx0aGlzLiR0cnlNb2RlKGUuZ2V0U3RhdGUobiksZSx0LG4pfHx0aGlzLmRlZmF1bHRNb2RlLmdldEZvbGRXaWRnZXQoZSx0LG4pfSx0aGlzLmdldEZvbGRXaWRnZXRSYW5nZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy4kZ2V0TW9kZShlLmdldFN0YXRlKG4tMSkpO2lmKCFyfHwhci5nZXRGb2xkV2lkZ2V0KGUsdCxuKSlyPXRoaXMuJGdldE1vZGUoZS5nZXRTdGF0ZShuKSk7aWYoIXJ8fCFyLmdldEZvbGRXaWRnZXQoZSx0LG4pKXI9dGhpcy5kZWZhdWx0TW9kZTtyZXR1cm4gci5nZXRGb2xkV2lkZ2V0UmFuZ2UoZSx0LG4pfX0uY2FsbChzLnByb3RvdHlwZSl9KSxhY2UuZGVmaW5lKFwiYWNlL21vZGUvZm9sZGluZy9odG1sXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvZm9sZGluZy9taXhlZFwiLFwiYWNlL21vZGUvZm9sZGluZy94bWxcIixcImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlXCJdLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1lKFwiLi4vLi4vbGliL29vcFwiKSxpPWUoXCIuL21peGVkXCIpLkZvbGRNb2RlLHM9ZShcIi4veG1sXCIpLkZvbGRNb2RlLG89ZShcIi4vY3N0eWxlXCIpLkZvbGRNb2RlLHU9dC5Gb2xkTW9kZT1mdW5jdGlvbihlLHQpe2kuY2FsbCh0aGlzLG5ldyBzKGUsdCkse1wianMtXCI6bmV3IG8sXCJjc3MtXCI6bmV3IG99KX07ci5pbmhlcml0cyh1LGkpfSksYWNlLmRlZmluZShcImFjZS9tb2RlL2h0bWxfY29tcGxldGlvbnNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS90b2tlbl9pdGVyYXRvclwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZihlLHQpe3JldHVybiBlLnR5cGUubGFzdEluZGV4T2YodCtcIi54bWxcIik+LTF9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPW5ldyByKGUsdC5yb3csdC5jb2x1bW4pLGk9bi5nZXRDdXJyZW50VG9rZW4oKTt3aGlsZShpJiYhZihpLFwidGFnLW5hbWVcIikpaT1uLnN0ZXBCYWNrd2FyZCgpO2lmKGkpcmV0dXJuIGkudmFsdWV9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPW5ldyByKGUsdC5yb3csdC5jb2x1bW4pLGk9bi5nZXRDdXJyZW50VG9rZW4oKTt3aGlsZShpJiYhZihpLFwiYXR0cmlidXRlLW5hbWVcIikpaT1uLnN0ZXBCYWNrd2FyZCgpO2lmKGkpcmV0dXJuIGkudmFsdWV9dmFyIHI9ZShcIi4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3IsaT1bXCJhY2Nlc3NrZXlcIixcImNsYXNzXCIsXCJjb250ZW50ZWRpdGFibGVcIixcImNvbnRleHRtZW51XCIsXCJkaXJcIixcImRyYWdnYWJsZVwiLFwiZHJvcHpvbmVcIixcImhpZGRlblwiLFwiaWRcIixcImluZXJ0XCIsXCJpdGVtaWRcIixcIml0ZW1wcm9wXCIsXCJpdGVtcmVmXCIsXCJpdGVtc2NvcGVcIixcIml0ZW10eXBlXCIsXCJsYW5nXCIsXCJzcGVsbGNoZWNrXCIsXCJzdHlsZVwiLFwidGFiaW5kZXhcIixcInRpdGxlXCIsXCJ0cmFuc2xhdGVcIl0scz1bXCJvbmFib3J0XCIsXCJvbmJsdXJcIixcIm9uY2FuY2VsXCIsXCJvbmNhbnBsYXlcIixcIm9uY2FucGxheXRocm91Z2hcIixcIm9uY2hhbmdlXCIsXCJvbmNsaWNrXCIsXCJvbmNsb3NlXCIsXCJvbmNvbnRleHRtZW51XCIsXCJvbmN1ZWNoYW5nZVwiLFwib25kYmxjbGlja1wiLFwib25kcmFnXCIsXCJvbmRyYWdlbmRcIixcIm9uZHJhZ2VudGVyXCIsXCJvbmRyYWdsZWF2ZVwiLFwib25kcmFnb3ZlclwiLFwib25kcmFnc3RhcnRcIixcIm9uZHJvcFwiLFwib25kdXJhdGlvbmNoYW5nZVwiLFwib25lbXB0aWVkXCIsXCJvbmVuZGVkXCIsXCJvbmVycm9yXCIsXCJvbmZvY3VzXCIsXCJvbmlucHV0XCIsXCJvbmludmFsaWRcIixcIm9ua2V5ZG93blwiLFwib25rZXlwcmVzc1wiLFwib25rZXl1cFwiLFwib25sb2FkXCIsXCJvbmxvYWRlZGRhdGFcIixcIm9ubG9hZGVkbWV0YWRhdGFcIixcIm9ubG9hZHN0YXJ0XCIsXCJvbm1vdXNlZG93blwiLFwib25tb3VzZW1vdmVcIixcIm9ubW91c2VvdXRcIixcIm9ubW91c2VvdmVyXCIsXCJvbm1vdXNldXBcIixcIm9ubW91c2V3aGVlbFwiLFwib25wYXVzZVwiLFwib25wbGF5XCIsXCJvbnBsYXlpbmdcIixcIm9ucHJvZ3Jlc3NcIixcIm9ucmF0ZWNoYW5nZVwiLFwib25yZXNldFwiLFwib25zY3JvbGxcIixcIm9uc2Vla2VkXCIsXCJvbnNlZWtpbmdcIixcIm9uc2VsZWN0XCIsXCJvbnNob3dcIixcIm9uc3RhbGxlZFwiLFwib25zdWJtaXRcIixcIm9uc3VzcGVuZFwiLFwib250aW1ldXBkYXRlXCIsXCJvbnZvbHVtZWNoYW5nZVwiLFwib253YWl0aW5nXCJdLG89aS5jb25jYXQocyksdT17YTp7aHJlZjoxLHRhcmdldDp7X2JsYW5rOjEsdG9wOjF9LHBpbmc6MSxyZWw6e25vZm9sbG93OjEsYWx0ZXJuYXRlOjEsYXV0aG9yOjEsYm9va21hcms6MSxoZWxwOjEsbGljZW5zZToxLG5leHQ6MSxub3JlZmVycmVyOjEscHJlZmV0Y2g6MSxwcmV2OjEsc2VhcmNoOjEsdGFnOjF9LG1lZGlhOjEsaHJlZmxhbmc6MSx0eXBlOjF9LGFiYnI6e30sYWRkcmVzczp7fSxhcmVhOntzaGFwZToxLGNvb3JkczoxLGhyZWY6MSxocmVmbGFuZzoxLGFsdDoxLHRhcmdldDoxLG1lZGlhOjEscmVsOjEscGluZzoxLHR5cGU6MX0sYXJ0aWNsZTp7cHViZGF0ZToxfSxhc2lkZTp7fSxhdWRpbzp7c3JjOjEsYXV0b2J1ZmZlcjoxLGF1dG9wbGF5OnthdXRvcGxheToxfSxsb29wOntsb29wOjF9LGNvbnRyb2xzOntjb250cm9sczoxfSxtdXRlZDp7bXV0ZWQ6MX0scHJlbG9hZDp7YXV0bzoxLG1ldGFkYXRhOjEsbm9uZToxfX0sYjp7fSxiYXNlOntocmVmOjEsdGFyZ2V0OjF9LGJkaTp7fSxiZG86e30sYmxvY2txdW90ZTp7Y2l0ZToxfSxib2R5OntvbmFmdGVycHJpbnQ6MSxvbmJlZm9yZXByaW50OjEsb25iZWZvcmV1bmxvYWQ6MSxvbmhhc2hjaGFuZ2U6MSxvbm1lc3NhZ2U6MSxvbm9mZmxpbmU6MSxvbnBvcHN0YXRlOjEsb25yZWRvOjEsb25yZXNpemU6MSxvbnN0b3JhZ2U6MSxvbnVuZG86MSxvbnVubG9hZDoxfSxicjp7fSxidXR0b246e2F1dG9mb2N1czoxLGRpc2FibGVkOntkaXNhYmxlZDoxfSxmb3JtOjEsZm9ybWFjdGlvbjoxLGZvcm1lbmN0eXBlOjEsZm9ybW1ldGhvZDoxLGZvcm1ub3ZhbGlkYXRlOjEsZm9ybXRhcmdldDoxLG5hbWU6MSx2YWx1ZToxLHR5cGU6e2J1dHRvbjoxLHN1Ym1pdDoxfX0sY2FudmFzOnt3aWR0aDoxLGhlaWdodDoxfSxjYXB0aW9uOnt9LGNpdGU6e30sY29kZTp7fSxjb2w6e3NwYW46MX0sY29sZ3JvdXA6e3NwYW46MX0sY29tbWFuZDp7dHlwZToxLGxhYmVsOjEsaWNvbjoxLGRpc2FibGVkOjEsY2hlY2tlZDoxLHJhZGlvZ3JvdXA6MSxjb21tYW5kOjF9LGRhdGE6e30sZGF0YWxpc3Q6e30sZGQ6e30sZGVsOntjaXRlOjEsZGF0ZXRpbWU6MX0sZGV0YWlsczp7b3BlbjoxfSxkZm46e30sZGlhbG9nOntvcGVuOjF9LGRpdjp7fSxkbDp7fSxkdDp7fSxlbTp7fSxlbWJlZDp7c3JjOjEsaGVpZ2h0OjEsd2lkdGg6MSx0eXBlOjF9LGZpZWxkc2V0OntkaXNhYmxlZDoxLGZvcm06MSxuYW1lOjF9LGZpZ2NhcHRpb246e30sZmlndXJlOnt9LGZvb3Rlcjp7fSxmb3JtOntcImFjY2VwdC1jaGFyc2V0XCI6MSxhY3Rpb246MSxhdXRvY29tcGxldGU6MSxlbmN0eXBlOntcIm11bHRpcGFydC9mb3JtLWRhdGFcIjoxLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCI6MX0sbWV0aG9kOntnZXQ6MSxwb3N0OjF9LG5hbWU6MSxub3ZhbGlkYXRlOjEsdGFyZ2V0OntfYmxhbms6MSx0b3A6MX19LGgxOnt9LGgyOnt9LGgzOnt9LGg0Ont9LGg1Ont9LGg2Ont9LGhlYWQ6e30saGVhZGVyOnt9LGhyOnt9LGh0bWw6e21hbmlmZXN0OjF9LGk6e30saWZyYW1lOntuYW1lOjEsc3JjOjEsaGVpZ2h0OjEsd2lkdGg6MSxzYW5kYm94OntcImFsbG93LXNhbWUtb3JpZ2luXCI6MSxcImFsbG93LXRvcC1uYXZpZ2F0aW9uXCI6MSxcImFsbG93LWZvcm1zXCI6MSxcImFsbG93LXNjcmlwdHNcIjoxfSxzZWFtbGVzczp7c2VhbWxlc3M6MX19LGltZzp7YWx0OjEsc3JjOjEsaGVpZ2h0OjEsd2lkdGg6MSx1c2VtYXA6MSxpc21hcDoxfSxpbnB1dDp7dHlwZTp7dGV4dDoxLHBhc3N3b3JkOjEsaGlkZGVuOjEsY2hlY2tib3g6MSxzdWJtaXQ6MSxyYWRpbzoxLGZpbGU6MSxidXR0b246MSxyZXNldDoxLGltYWdlOjMxLGNvbG9yOjEsZGF0ZToxLGRhdGV0aW1lOjEsXCJkYXRldGltZS1sb2NhbFwiOjEsZW1haWw6MSxtb250aDoxLG51bWJlcjoxLHJhbmdlOjEsc2VhcmNoOjEsdGVsOjEsdGltZToxLHVybDoxLHdlZWs6MX0sYWNjZXB0OjEsYWx0OjEsYXV0b2NvbXBsZXRlOntvbjoxLG9mZjoxfSxhdXRvZm9jdXM6e2F1dG9mb2N1czoxfSxjaGVja2VkOntjaGVja2VkOjF9LGRpc2FibGVkOntkaXNhYmxlZDoxfSxmb3JtOjEsZm9ybWFjdGlvbjoxLGZvcm1lbmN0eXBlOntcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOjEsXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI6MSxcInRleHQvcGxhaW5cIjoxfSxmb3JtbWV0aG9kOntnZXQ6MSxwb3N0OjF9LGZvcm1ub3ZhbGlkYXRlOntmb3Jtbm92YWxpZGF0ZToxfSxmb3JtdGFyZ2V0OntfYmxhbms6MSxfc2VsZjoxLF9wYXJlbnQ6MSxfdG9wOjF9LGhlaWdodDoxLGxpc3Q6MSxtYXg6MSxtYXhsZW5ndGg6MSxtaW46MSxtdWx0aXBsZTp7bXVsdGlwbGU6MX0sbmFtZToxLHBhdHRlcm46MSxwbGFjZWhvbGRlcjoxLHJlYWRvbmx5OntyZWFkb25seToxfSxyZXF1aXJlZDp7cmVxdWlyZWQ6MX0sc2l6ZToxLHNyYzoxLHN0ZXA6MSx3aWR0aDoxLGZpbGVzOjEsdmFsdWU6MX0saW5zOntjaXRlOjEsZGF0ZXRpbWU6MX0sa2JkOnt9LGtleWdlbjp7YXV0b2ZvY3VzOjEsY2hhbGxlbmdlOntjaGFsbGVuZ2U6MX0sZGlzYWJsZWQ6e2Rpc2FibGVkOjF9LGZvcm06MSxrZXl0eXBlOntyc2E6MSxkc2E6MSxlYzoxfSxuYW1lOjF9LGxhYmVsOntmb3JtOjEsXCJmb3JcIjoxfSxsZWdlbmQ6e30sbGk6e3ZhbHVlOjF9LGxpbms6e2hyZWY6MSxocmVmbGFuZzoxLHJlbDp7c3R5bGVzaGVldDoxLGljb246MX0sbWVkaWE6e2FsbDoxLHNjcmVlbjoxLHByaW50OjF9LHR5cGU6e1widGV4dC9jc3NcIjoxLFwiaW1hZ2UvcG5nXCI6MSxcImltYWdlL2pwZWdcIjoxLFwiaW1hZ2UvZ2lmXCI6MX0sc2l6ZXM6MX0sbWFpbjp7fSxtYXA6e25hbWU6MX0sbWFyazp7fSxtYXRoOnt9LG1lbnU6e3R5cGU6MSxsYWJlbDoxfSxtZXRhOntcImh0dHAtZXF1aXZcIjp7XCJjb250ZW50LXR5cGVcIjoxfSxuYW1lOntkZXNjcmlwdGlvbjoxLGtleXdvcmRzOjF9LGNvbnRlbnQ6e1widGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCI6MX0sY2hhcnNldDoxfSxtZXRlcjp7dmFsdWU6MSxtaW46MSxtYXg6MSxsb3c6MSxoaWdoOjEsb3B0aW11bToxfSxuYXY6e30sbm9zY3JpcHQ6e2hyZWY6MX0sb2JqZWN0OntwYXJhbToxLGRhdGE6MSx0eXBlOjEsaGVpZ2h0OjEsd2lkdGg6MSx1c2VtYXA6MSxuYW1lOjEsZm9ybToxLGNsYXNzaWQ6MX0sb2w6e3N0YXJ0OjEscmV2ZXJzZWQ6MX0sb3B0Z3JvdXA6e2Rpc2FibGVkOjEsbGFiZWw6MX0sb3B0aW9uOntkaXNhYmxlZDoxLHNlbGVjdGVkOjEsbGFiZWw6MSx2YWx1ZToxfSxvdXRwdXQ6e1wiZm9yXCI6MSxmb3JtOjEsbmFtZToxfSxwOnt9LHBhcmFtOntuYW1lOjEsdmFsdWU6MX0scHJlOnt9LHByb2dyZXNzOnt2YWx1ZToxLG1heDoxfSxxOntjaXRlOjF9LHJwOnt9LHJ0Ont9LHJ1Ynk6e30sczp7fSxzYW1wOnt9LHNjcmlwdDp7Y2hhcnNldDoxLHR5cGU6e1widGV4dC9qYXZhc2NyaXB0XCI6MX0sc3JjOjEsZGVmZXI6MSxhc3luYzoxfSxzZWxlY3Q6e2F1dG9mb2N1czoxLGRpc2FibGVkOjEsZm9ybToxLG11bHRpcGxlOnttdWx0aXBsZToxfSxuYW1lOjEsc2l6ZToxLHJlYWRvbmx5OntyZWFkb25seToxfX0sc21hbGw6e30sc291cmNlOntzcmM6MSx0eXBlOjEsbWVkaWE6MX0sc3Bhbjp7fSxzdHJvbmc6e30sc3R5bGU6e3R5cGU6MSxtZWRpYTp7YWxsOjEsc2NyZWVuOjEscHJpbnQ6MX0sc2NvcGVkOjF9LHN1Yjp7fSxzdXA6e30sc3ZnOnt9LHRhYmxlOntzdW1tYXJ5OjF9LHRib2R5Ont9LHRkOntoZWFkZXJzOjEscm93c3BhbjoxLGNvbHNwYW46MX0sdGV4dGFyZWE6e2F1dG9mb2N1czp7YXV0b2ZvY3VzOjF9LGRpc2FibGVkOntkaXNhYmxlZDoxfSxmb3JtOjEsbWF4bGVuZ3RoOjEsbmFtZToxLHBsYWNlaG9sZGVyOjEscmVhZG9ubHk6e3JlYWRvbmx5OjF9LHJlcXVpcmVkOntyZXF1aXJlZDoxfSxyb3dzOjEsY29sczoxLHdyYXA6e29uOjEsb2ZmOjEsaGFyZDoxLHNvZnQ6MX19LHRmb290Ont9LHRoOntoZWFkZXJzOjEscm93c3BhbjoxLGNvbHNwYW46MSxzY29wZToxfSx0aGVhZDp7fSx0aW1lOntkYXRldGltZToxfSx0aXRsZTp7fSx0cjp7fSx0cmFjazp7a2luZDoxLHNyYzoxLHNyY2xhbmc6MSxsYWJlbDoxLFwiZGVmYXVsdFwiOjF9LHNlY3Rpb246e30sc3VtbWFyeTp7fSx1Ont9LHVsOnt9LFwidmFyXCI6e30sdmlkZW86e3NyYzoxLGF1dG9idWZmZXI6MSxhdXRvcGxheTp7YXV0b3BsYXk6MX0sbG9vcDp7bG9vcDoxfSxjb250cm9sczp7Y29udHJvbHM6MX0sd2lkdGg6MSxoZWlnaHQ6MSxwb3N0ZXI6MSxtdXRlZDp7bXV0ZWQ6MX0scHJlbG9hZDp7YXV0bzoxLG1ldGFkYXRhOjEsbm9uZToxfX0sd2JyOnt9fSxhPU9iamVjdC5rZXlzKHUpLGg9ZnVuY3Rpb24oKXt9OyhmdW5jdGlvbigpe3RoaXMuZ2V0Q29tcGxldGlvbnM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dC5nZXRUb2tlbkF0KG4ucm93LG4uY29sdW1uKTtpZighaSlyZXR1cm5bXTtpZihmKGksXCJ0YWctbmFtZVwiKXx8ZihpLFwidGFnLW9wZW5cIil8fGYoaSxcImVuZC10YWctb3BlblwiKSlyZXR1cm4gdGhpcy5nZXRUYWdDb21wbGV0aW9ucyhlLHQsbixyKTtpZihmKGksXCJ0YWctd2hpdGVzcGFjZVwiKXx8ZihpLFwiYXR0cmlidXRlLW5hbWVcIikpcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlQ29tcGxldGlvbnMoZSx0LG4scik7aWYoZihpLFwiYXR0cmlidXRlLXZhbHVlXCIpKXJldHVybiB0aGlzLmdldEF0dHJpYnV0ZVZhbHVlQ29tcGxldGlvbnMoZSx0LG4scik7dmFyIHM9dC5nZXRMaW5lKG4ucm93KS5zdWJzdHIoMCxuLmNvbHVtbik7cmV0dXJuLyZbYS16XSokL2kudGVzdChzKT90aGlzLmdldEhUTUxFbnRpdHlDb21wbGV0aW9ucyhlLHQsbixyKTpbXX0sdGhpcy5nZXRUYWdDb21wbGV0aW9ucz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3ZhbHVlOmUsbWV0YTpcInRhZ1wiLHNjb3JlOjFlNn19KX0sdGhpcy5nZXRBdHRyaWJ1dGVDb21wbGV0aW9ucz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1sKHQsbik7aWYoIWkpcmV0dXJuW107dmFyIHM9bztyZXR1cm4gaSBpbiB1JiYocz1zLmNvbmNhdChPYmplY3Qua2V5cyh1W2ldKSkpLHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybntjYXB0aW9uOmUsc25pcHBldDplKyc9XCIkMFwiJyxtZXRhOlwiYXR0cmlidXRlXCIsc2NvcmU6MWU2fX0pfSx0aGlzLmdldEF0dHJpYnV0ZVZhbHVlQ29tcGxldGlvbnM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9bCh0LG4pLHM9Yyh0LG4pO2lmKCFpKXJldHVybltdO3ZhciBvPVtdO3JldHVybiBpIGluIHUmJnMgaW4gdVtpXSYmdHlwZW9mIHVbaV1bc109PVwib2JqZWN0XCImJihvPU9iamVjdC5rZXlzKHVbaV1bc10pKSxvLm1hcChmdW5jdGlvbihlKXtyZXR1cm57Y2FwdGlvbjplLHNuaXBwZXQ6ZSxtZXRhOlwiYXR0cmlidXRlIHZhbHVlXCIsc2NvcmU6MWU2fX0pfSx0aGlzLmdldEhUTUxFbnRpdHlDb21wbGV0aW9ucz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1bXCJBYWN1dGU7XCIsXCJhYWN1dGU7XCIsXCJBY2lyYztcIixcImFjaXJjO1wiLFwiYWN1dGU7XCIsXCJBRWxpZztcIixcImFlbGlnO1wiLFwiQWdyYXZlO1wiLFwiYWdyYXZlO1wiLFwiYWxlZnN5bTtcIixcIkFscGhhO1wiLFwiYWxwaGE7XCIsXCJhbXA7XCIsXCJhbmQ7XCIsXCJhbmc7XCIsXCJBcmluZztcIixcImFyaW5nO1wiLFwiYXN5bXA7XCIsXCJBdGlsZGU7XCIsXCJhdGlsZGU7XCIsXCJBdW1sO1wiLFwiYXVtbDtcIixcImJkcXVvO1wiLFwiQmV0YTtcIixcImJldGE7XCIsXCJicnZiYXI7XCIsXCJidWxsO1wiLFwiY2FwO1wiLFwiQ2NlZGlsO1wiLFwiY2NlZGlsO1wiLFwiY2VkaWw7XCIsXCJjZW50O1wiLFwiQ2hpO1wiLFwiY2hpO1wiLFwiY2lyYztcIixcImNsdWJzO1wiLFwiY29uZztcIixcImNvcHk7XCIsXCJjcmFycjtcIixcImN1cDtcIixcImN1cnJlbjtcIixcIkRhZ2dlcjtcIixcImRhZ2dlcjtcIixcImRBcnI7XCIsXCJkYXJyO1wiLFwiZGVnO1wiLFwiRGVsdGE7XCIsXCJkZWx0YTtcIixcImRpYW1zO1wiLFwiZGl2aWRlO1wiLFwiRWFjdXRlO1wiLFwiZWFjdXRlO1wiLFwiRWNpcmM7XCIsXCJlY2lyYztcIixcIkVncmF2ZTtcIixcImVncmF2ZTtcIixcImVtcHR5O1wiLFwiZW1zcDtcIixcImVuc3A7XCIsXCJFcHNpbG9uO1wiLFwiZXBzaWxvbjtcIixcImVxdWl2O1wiLFwiRXRhO1wiLFwiZXRhO1wiLFwiRVRIO1wiLFwiZXRoO1wiLFwiRXVtbDtcIixcImV1bWw7XCIsXCJldXJvO1wiLFwiZXhpc3Q7XCIsXCJmbm9mO1wiLFwiZm9yYWxsO1wiLFwiZnJhYzEyO1wiLFwiZnJhYzE0O1wiLFwiZnJhYzM0O1wiLFwiZnJhc2w7XCIsXCJHYW1tYTtcIixcImdhbW1hO1wiLFwiZ2U7XCIsXCJndDtcIixcImhBcnI7XCIsXCJoYXJyO1wiLFwiaGVhcnRzO1wiLFwiaGVsbGlwO1wiLFwiSWFjdXRlO1wiLFwiaWFjdXRlO1wiLFwiSWNpcmM7XCIsXCJpY2lyYztcIixcImlleGNsO1wiLFwiSWdyYXZlO1wiLFwiaWdyYXZlO1wiLFwiaW1hZ2U7XCIsXCJpbmZpbjtcIixcImludDtcIixcIklvdGE7XCIsXCJpb3RhO1wiLFwiaXF1ZXN0O1wiLFwiaXNpbjtcIixcIkl1bWw7XCIsXCJpdW1sO1wiLFwiS2FwcGE7XCIsXCJrYXBwYTtcIixcIkxhbWJkYTtcIixcImxhbWJkYTtcIixcImxhbmc7XCIsXCJsYXF1bztcIixcImxBcnI7XCIsXCJsYXJyO1wiLFwibGNlaWw7XCIsXCJsZHF1bztcIixcImxlO1wiLFwibGZsb29yO1wiLFwibG93YXN0O1wiLFwibG96O1wiLFwibHJtO1wiLFwibHNhcXVvO1wiLFwibHNxdW87XCIsXCJsdDtcIixcIm1hY3I7XCIsXCJtZGFzaDtcIixcIm1pY3JvO1wiLFwibWlkZG90O1wiLFwibWludXM7XCIsXCJNdTtcIixcIm11O1wiLFwibmFibGE7XCIsXCJuYnNwO1wiLFwibmRhc2g7XCIsXCJuZTtcIixcIm5pO1wiLFwibm90O1wiLFwibm90aW47XCIsXCJuc3ViO1wiLFwiTnRpbGRlO1wiLFwibnRpbGRlO1wiLFwiTnU7XCIsXCJudTtcIixcIk9hY3V0ZTtcIixcIm9hY3V0ZTtcIixcIk9jaXJjO1wiLFwib2NpcmM7XCIsXCJPRWxpZztcIixcIm9lbGlnO1wiLFwiT2dyYXZlO1wiLFwib2dyYXZlO1wiLFwib2xpbmU7XCIsXCJPbWVnYTtcIixcIm9tZWdhO1wiLFwiT21pY3JvbjtcIixcIm9taWNyb247XCIsXCJvcGx1cztcIixcIm9yO1wiLFwib3JkZjtcIixcIm9yZG07XCIsXCJPc2xhc2g7XCIsXCJvc2xhc2g7XCIsXCJPdGlsZGU7XCIsXCJvdGlsZGU7XCIsXCJvdGltZXM7XCIsXCJPdW1sO1wiLFwib3VtbDtcIixcInBhcmE7XCIsXCJwYXJ0O1wiLFwicGVybWlsO1wiLFwicGVycDtcIixcIlBoaTtcIixcInBoaTtcIixcIlBpO1wiLFwicGk7XCIsXCJwaXY7XCIsXCJwbHVzbW47XCIsXCJwb3VuZDtcIixcIlByaW1lO1wiLFwicHJpbWU7XCIsXCJwcm9kO1wiLFwicHJvcDtcIixcIlBzaTtcIixcInBzaTtcIixcInF1b3Q7XCIsXCJyYWRpYztcIixcInJhbmc7XCIsXCJyYXF1bztcIixcInJBcnI7XCIsXCJyYXJyO1wiLFwicmNlaWw7XCIsXCJyZHF1bztcIixcInJlYWw7XCIsXCJyZWc7XCIsXCJyZmxvb3I7XCIsXCJSaG87XCIsXCJyaG87XCIsXCJybG07XCIsXCJyc2FxdW87XCIsXCJyc3F1bztcIixcInNicXVvO1wiLFwiU2Nhcm9uO1wiLFwic2Nhcm9uO1wiLFwic2RvdDtcIixcInNlY3Q7XCIsXCJzaHk7XCIsXCJTaWdtYTtcIixcInNpZ21hO1wiLFwic2lnbWFmO1wiLFwic2ltO1wiLFwic3BhZGVzO1wiLFwic3ViO1wiLFwic3ViZTtcIixcInN1bTtcIixcInN1cDtcIixcInN1cDE7XCIsXCJzdXAyO1wiLFwic3VwMztcIixcInN1cGU7XCIsXCJzemxpZztcIixcIlRhdTtcIixcInRhdTtcIixcInRoZXJlNDtcIixcIlRoZXRhO1wiLFwidGhldGE7XCIsXCJ0aGV0YXN5bTtcIixcInRoaW5zcDtcIixcIlRIT1JOO1wiLFwidGhvcm47XCIsXCJ0aWxkZTtcIixcInRpbWVzO1wiLFwidHJhZGU7XCIsXCJVYWN1dGU7XCIsXCJ1YWN1dGU7XCIsXCJ1QXJyO1wiLFwidWFycjtcIixcIlVjaXJjO1wiLFwidWNpcmM7XCIsXCJVZ3JhdmU7XCIsXCJ1Z3JhdmU7XCIsXCJ1bWw7XCIsXCJ1cHNpaDtcIixcIlVwc2lsb247XCIsXCJ1cHNpbG9uO1wiLFwiVXVtbDtcIixcInV1bWw7XCIsXCJ3ZWllcnA7XCIsXCJYaTtcIixcInhpO1wiLFwiWWFjdXRlO1wiLFwieWFjdXRlO1wiLFwieWVuO1wiLFwiWXVtbDtcIixcInl1bWw7XCIsXCJaZXRhO1wiLFwiemV0YTtcIixcInp3ajtcIixcInp3bmo7XCJdO3JldHVybiBpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57Y2FwdGlvbjplLHNuaXBwZXQ6ZSxtZXRhOlwiaHRtbCBlbnRpdHlcIixzY29yZToxZTZ9fSl9fSkuY2FsbChoLnByb3RvdHlwZSksdC5IdG1sQ29tcGxldGlvbnM9aH0pLGFjZS5kZWZpbmUoXCJhY2UvbW9kZS9odG1sXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbW9kZS90ZXh0XCIsXCJhY2UvbW9kZS9qYXZhc2NyaXB0XCIsXCJhY2UvbW9kZS9jc3NcIixcImFjZS9tb2RlL2h0bWxfaGlnaGxpZ2h0X3J1bGVzXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXIveG1sXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2h0bWxcIixcImFjZS9tb2RlL2h0bWxfY29tcGxldGlvbnNcIixcImFjZS93b3JrZXIvd29ya2VyX2NsaWVudFwiXSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZShcIi4uL2xpYi9vb3BcIiksaT1lKFwiLi4vbGliL2xhbmdcIikscz1lKFwiLi90ZXh0XCIpLk1vZGUsbz1lKFwiLi9qYXZhc2NyaXB0XCIpLk1vZGUsdT1lKFwiLi9jc3NcIikuTW9kZSxhPWUoXCIuL2h0bWxfaGlnaGxpZ2h0X3J1bGVzXCIpLkh0bWxIaWdobGlnaHRSdWxlcyxmPWUoXCIuL2JlaGF2aW91ci94bWxcIikuWG1sQmVoYXZpb3VyLGw9ZShcIi4vZm9sZGluZy9odG1sXCIpLkZvbGRNb2RlLGM9ZShcIi4vaHRtbF9jb21wbGV0aW9uc1wiKS5IdG1sQ29tcGxldGlvbnMsaD1lKFwiLi4vd29ya2VyL3dvcmtlcl9jbGllbnRcIikuV29ya2VyQ2xpZW50LHA9W1wiYXJlYVwiLFwiYmFzZVwiLFwiYnJcIixcImNvbFwiLFwiZW1iZWRcIixcImhyXCIsXCJpbWdcIixcImlucHV0XCIsXCJrZXlnZW5cIixcImxpbmtcIixcIm1ldGFcIixcIm1lbnVpdGVtXCIsXCJwYXJhbVwiLFwic291cmNlXCIsXCJ0cmFja1wiLFwid2JyXCJdLGQ9W1wibGlcIixcImR0XCIsXCJkZFwiLFwicFwiLFwicnRcIixcInJwXCIsXCJvcHRncm91cFwiLFwib3B0aW9uXCIsXCJjb2xncm91cFwiLFwidGRcIixcInRoXCJdLHY9ZnVuY3Rpb24oZSl7dGhpcy5mcmFnbWVudENvbnRleHQ9ZSYmZS5mcmFnbWVudENvbnRleHQsdGhpcy5IaWdobGlnaHRSdWxlcz1hLHRoaXMuJGJlaGF2aW91cj1uZXcgZix0aGlzLiRjb21wbGV0ZXI9bmV3IGMsdGhpcy5jcmVhdGVNb2RlRGVsZWdhdGVzKHtcImpzLVwiOm8sXCJjc3MtXCI6dX0pLHRoaXMuZm9sZGluZ1J1bGVzPW5ldyBsKHRoaXMudm9pZEVsZW1lbnRzLGkuYXJyYXlUb01hcChkKSl9O3IuaW5oZXJpdHModixzKSxmdW5jdGlvbigpe3RoaXMuYmxvY2tDb21tZW50PXtzdGFydDpcIjwhLS1cIixlbmQ6XCItLT5cIn0sdGhpcy52b2lkRWxlbWVudHM9aS5hcnJheVRvTWFwKHApLHRoaXMuZ2V0TmV4dExpbmVJbmRlbnQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLiRnZXRJbmRlbnQodCl9LHRoaXMuY2hlY2tPdXRkZW50PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMX0sdGhpcy5nZXRDb21wbGV0aW9ucz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy4kY29tcGxldGVyLmdldENvbXBsZXRpb25zKGUsdCxuLHIpfSx0aGlzLmNyZWF0ZVdvcmtlcj1mdW5jdGlvbihlKXtpZih0aGlzLmNvbnN0cnVjdG9yIT12KXJldHVybjt2YXIgdD1uZXcgaChbXCJhY2VcIl0sXCJhY2UvbW9kZS9odG1sX3dvcmtlclwiLFwiV29ya2VyXCIpO3JldHVybiB0LmF0dGFjaFRvRG9jdW1lbnQoZS5nZXREb2N1bWVudCgpKSx0aGlzLmZyYWdtZW50Q29udGV4dCYmdC5jYWxsKFwic2V0T3B0aW9uc1wiLFt7Y29udGV4dDp0aGlzLmZyYWdtZW50Q29udGV4dH1dKSx0Lm9uKFwiZXJyb3JcIixmdW5jdGlvbih0KXtlLnNldEFubm90YXRpb25zKHQuZGF0YSl9KSx0Lm9uKFwidGVybWluYXRlXCIsZnVuY3Rpb24oKXtlLmNsZWFyQW5ub3RhdGlvbnMoKX0pLHR9LHRoaXMuJGlkPVwiYWNlL21vZGUvaHRtbFwiLHRoaXMuc25pcHBldEZpbGVJZD1cImFjZS9zbmlwcGV0cy9odG1sXCJ9LmNhbGwodi5wcm90b3R5cGUpLHQuTW9kZT12fSksYWNlLmRlZmluZShcImFjZS9tb2RlL2hhbmRsZWJhcnNfaGlnaGxpZ2h0X3J1bGVzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvaHRtbF9oaWdobGlnaHRfcnVsZXNcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHMoZSx0KXtyZXR1cm4gdC5zcGxpY2UoMCwzKSx0LnNoaWZ0KCl8fFwic3RhcnRcIn12YXIgcj1lKFwiLi4vbGliL29vcFwiKSxpPWUoXCIuL2h0bWxfaGlnaGxpZ2h0X3J1bGVzXCIpLkh0bWxIaWdobGlnaHRSdWxlcyxvPWZ1bmN0aW9uKCl7aS5jYWxsKHRoaXMpO3ZhciBlPXtyZWdleDpcIig/PXt7KVwiLHB1c2g6XCJoYW5kbGViYXJzXCJ9O2Zvcih2YXIgdCBpbiB0aGlzLiRydWxlcyl0aGlzLiRydWxlc1t0XS51bnNoaWZ0KGUpO3RoaXMuJHJ1bGVzLmhhbmRsZWJhcnM9W3t0b2tlbjpcImNvbW1lbnQuc3RhcnRcIixyZWdleDpcInt7IS0tXCIscHVzaDpbe3Rva2VuOlwiY29tbWVudC5lbmRcIixyZWdleDpcIi0tfX1cIixuZXh0OnN9LHtkZWZhdWx0VG9rZW46XCJjb21tZW50XCJ9XX0se3Rva2VuOlwiY29tbWVudC5zdGFydFwiLHJlZ2V4Olwie3shXCIscHVzaDpbe3Rva2VuOlwiY29tbWVudC5lbmRcIixyZWdleDpcIn19XCIsbmV4dDpzfSx7ZGVmYXVsdFRva2VuOlwiY29tbWVudFwifV19LHt0b2tlbjpcInN1cHBvcnQuZnVuY3Rpb25cIixyZWdleDpcInt7e1wiLHB1c2g6W3t0b2tlbjpcInN1cHBvcnQuZnVuY3Rpb25cIixyZWdleDpcIn19fVwiLG5leHQ6c30se3Rva2VuOlwidmFyaWFibGUucGFyYW1ldGVyXCIscmVnZXg6XCJbYS16QS1aXyRdW2EtekEtWjAtOV8kXSpcIn1dfSx7dG9rZW46XCJzdG9yYWdlLnR5cGUuc3RhcnRcIixyZWdleDpcInt7WyNcXFxcXi8mXT9cIixwdXNoOlt7dG9rZW46XCJzdG9yYWdlLnR5cGUuZW5kXCIscmVnZXg6XCJ9fVwiLG5leHQ6c30se3Rva2VuOlwidmFyaWFibGUucGFyYW1ldGVyXCIscmVnZXg6XCJbYS16QS1aXyRdW2EtekEtWjAtOV8kXSpcIn1dfV0sdGhpcy5ub3JtYWxpemVSdWxlcygpfTtyLmluaGVyaXRzKG8saSksdC5IYW5kbGViYXJzSGlnaGxpZ2h0UnVsZXM9b30pLGFjZS5kZWZpbmUoXCJhY2UvbW9kZS9iZWhhdmlvdXIvaHRtbFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL2JlaGF2aW91ci94bWxcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi8uLi9saWIvb29wXCIpLGk9ZShcIi4uL2JlaGF2aW91ci94bWxcIikuWG1sQmVoYXZpb3VyLHM9ZnVuY3Rpb24oKXtpLmNhbGwodGhpcyl9O3IuaW5oZXJpdHMocyxpKSx0Lkh0bWxCZWhhdmlvdXI9c30pLGFjZS5kZWZpbmUoXCJhY2UvbW9kZS9oYW5kbGViYXJzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvaHRtbFwiLFwiYWNlL21vZGUvaGFuZGxlYmFyc19oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL2JlaGF2aW91ci9odG1sXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2h0bWxcIl0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPWUoXCIuLi9saWIvb29wXCIpLGk9ZShcIi4vaHRtbFwiKS5Nb2RlLHM9ZShcIi4vaGFuZGxlYmFyc19oaWdobGlnaHRfcnVsZXNcIikuSGFuZGxlYmFyc0hpZ2hsaWdodFJ1bGVzLG89ZShcIi4vYmVoYXZpb3VyL2h0bWxcIikuSHRtbEJlaGF2aW91cix1PWUoXCIuL2ZvbGRpbmcvaHRtbFwiKS5Gb2xkTW9kZSxhPWZ1bmN0aW9uKCl7aS5jYWxsKHRoaXMpLHRoaXMuSGlnaGxpZ2h0UnVsZXM9cyx0aGlzLiRiZWhhdmlvdXI9bmV3IG99O3IuaW5oZXJpdHMoYSxpKSxmdW5jdGlvbigpe3RoaXMuYmxvY2tDb21tZW50PXtzdGFydDpcInt7IS0tXCIsZW5kOlwiLS19fVwifSx0aGlzLiRpZD1cImFjZS9tb2RlL2hhbmRsZWJhcnNcIn0uY2FsbChhLnByb3RvdHlwZSksdC5Nb2RlPWF9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBhY2UucmVxdWlyZShbXCJhY2UvbW9kZS9oYW5kbGViYXJzXCJdLCBmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgbW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBtO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ace-builds/src-min-noconflict/mode-handlebars.js\n\n}");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css ***!
  \************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.react-js-cron {\n  display: flex;\n  align-items: flex-start;\n  flex-wrap: wrap;\n}\n.react-js-cron > div,\n.react-js-cron-field {\n  display: flex;\n  align-items: center;\n}\n.react-js-cron-field {\n  margin-bottom: 10px;\n}\n.react-js-cron-field > span {\n  margin-left: 5px;\n}\ndiv.react-js-cron-select {\n  margin-left: 5px;\n}\n.react-js-cron-select.react-js-cron-select-no-prefix {\n  margin-left: 0;\n}\n.react-js-cron-select .ant-select-selection-wrap {\n  position: relative;\n  align-items: center;\n}\n/* Absolute position only when there are one child, meaning when no items are selected. */\n.react-js-cron-select\n  .ant-select-selection-overflow:has(> :nth-child(-n + 1):last-child) {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n/* Center placeholder vertically. */\n.react-js-cron-select .ant-select-selection-placeholder {\n  margin-top: -2px;\n}\ndiv.react-js-cron-error .react-js-cron-select .ant-select-selector {\n  border-color: #ff4d4f;\n  background: #fff6f6;\n}\ndiv.react-js-cron-custom-select {\n  min-width: 70px;\n  z-index: 1;\n}\ndiv.react-js-cron-error div.react-js-cron-custom-select {\n  background: #fff6f6;\n}\ndiv.react-js-cron-select.react-js-cron-custom-select.ant-select\n  div.ant-select-selector {\n  padding-left: 11px;\n  padding-right: 30px;\n}\n.react-js-cron-read-only\n  div.react-js-cron-select.react-js-cron-custom-select.ant-select\n  div.ant-select-selector {\n  padding-right: 11px;\n}\ndiv.react-js-cron-custom-select .ant-select-selection-search {\n  width: 0 !important;\n  margin: 0 !important;\n}\ndiv.react-js-cron-custom-select .ant-select-selection-placeholder {\n  position: static;\n  top: 50%;\n  right: auto;\n  left: auto;\n  transform: none;\n  transition: none;\n  opacity: 1;\n  color: inherit;\n}\n.react-js-cron-week-days-placeholder\n  .react-js-cron-custom-select\n  .ant-select-selection-placeholder,\n.react-js-cron-month-days-placeholder\n  .react-js-cron-custom-select\n  .ant-select-selection-placeholder {\n  opacity: 0.4;\n}\n.react-js-cron-custom-select-dropdown {\n  min-width: 0 !important;\n  width: 174px !important;\n}\n.react-js-cron-custom-select-dropdown .rc-virtual-list {\n  max-height: none !important;\n}\n.react-js-cron-custom-select-dropdown-grid .rc-virtual-list-holder {\n  max-height: initial !important;\n}\n.react-js-cron-custom-select-dropdown-grid .rc-virtual-list-holder-inner {\n  display: grid !important;\n  grid-template-columns: repeat(4, 1fr);\n}\n.react-js-cron-custom-select-dropdown-grid\n  .rc-virtual-list-holder-inner\n  .ant-select-item-option-content {\n  text-align: center;\n}\n.react-js-cron-custom-select-dropdown-hours-twelve-hour-clock {\n  width: 260px !important;\n}\n.react-js-cron-custom-select-dropdown-minutes-large {\n  width: 300px !important;\n}\n.react-js-cron-custom-select-dropdown-minutes-large\n  .rc-virtual-list-holder-inner {\n  grid-template-columns: repeat(6, 1fr);\n}\n.react-js-cron-custom-select-dropdown-minutes-medium {\n  width: 220px !important;\n}\n.react-js-cron-custom-select-dropdown-minutes-medium\n  .rc-virtual-list-holder-inner {\n  grid-template-columns: repeat(5, 1fr);\n}\n.react-js-cron-period > span:first-child {\n  margin-left: 0 !important;\n}\n.react-js-cron-period\n  .react-js-cron-select.ant-select-single.ant-select-open\n  .ant-select-selection-item {\n  opacity: 1;\n}\n.react-js-cron-select-dropdown-period {\n  min-width: 0 !important;\n  width: auto !important;\n}\n.react-js-cron-clear-button {\n  margin-left: 10px;\n  margin-bottom: 10px;\n}\n.react-js-cron-disabled .react-js-cron-select.ant-select-disabled {\n  background: #f5f5f5;\n}\ndiv.react-js-cron-select.react-js-cron-custom-select.ant-select\n  div.ant-select-selector\n  > .ant-select-selection-overflow {\n  align-items: center;\n  flex: initial;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,eAAe;AACjB;AACA;;EAEE,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,cAAc;AAChB;AACA;EACE,kBAAkB;EAClB,mBAAmB;AACrB;AACA,yFAAyF;AACzF;;EAEE,kBAAkB;EAClB,MAAM;EACN,OAAO;AACT;AACA,mCAAmC;AACnC;EACE,gBAAgB;AAClB;AACA;EACE,qBAAqB;EACrB,mBAAmB;AACrB;AACA;EACE,eAAe;EACf,UAAU;AACZ;AACA;EACE,mBAAmB;AACrB;AACA;;EAEE,kBAAkB;EAClB,mBAAmB;AACrB;AACA;;;EAGE,mBAAmB;AACrB;AACA;EACE,mBAAmB;EACnB,oBAAoB;AACtB;AACA;EACE,gBAAgB;EAChB,QAAQ;EACR,WAAW;EACX,UAAU;EACV,eAAe;EACf,gBAAgB;EAChB,UAAU;EACV,cAAc;AAChB;AACA;;;;;;EAME,YAAY;AACd;AACA;EACE,uBAAuB;EACvB,uBAAuB;AACzB;AACA;EACE,2BAA2B;AAC7B;AACA;EACE,8BAA8B;AAChC;AACA;EACE,wBAAwB;EACxB,qCAAqC;AACvC;AACA;;;EAGE,kBAAkB;AACpB;AACA;EACE,uBAAuB;AACzB;AACA;EACE,uBAAuB;AACzB;AACA;;EAEE,qCAAqC;AACvC;AACA;EACE,uBAAuB;AACzB;AACA;;EAEE,qCAAqC;AACvC;AACA;EACE,yBAAyB;AAC3B;AACA;;;EAGE,UAAU;AACZ;AACA;EACE,uBAAuB;EACvB,sBAAsB;AACxB;AACA;EACE,iBAAiB;EACjB,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AACA;;;EAGE,mBAAmB;EACnB,aAAa;AACf\",\"sourcesContent\":[\".react-js-cron {\\n  display: flex;\\n  align-items: flex-start;\\n  flex-wrap: wrap;\\n}\\n.react-js-cron > div,\\n.react-js-cron-field {\\n  display: flex;\\n  align-items: center;\\n}\\n.react-js-cron-field {\\n  margin-bottom: 10px;\\n}\\n.react-js-cron-field > span {\\n  margin-left: 5px;\\n}\\ndiv.react-js-cron-select {\\n  margin-left: 5px;\\n}\\n.react-js-cron-select.react-js-cron-select-no-prefix {\\n  margin-left: 0;\\n}\\n.react-js-cron-select .ant-select-selection-wrap {\\n  position: relative;\\n  align-items: center;\\n}\\n/* Absolute position only when there are one child, meaning when no items are selected. */\\n.react-js-cron-select\\n  .ant-select-selection-overflow:has(> :nth-child(-n + 1):last-child) {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n/* Center placeholder vertically. */\\n.react-js-cron-select .ant-select-selection-placeholder {\\n  margin-top: -2px;\\n}\\ndiv.react-js-cron-error .react-js-cron-select .ant-select-selector {\\n  border-color: #ff4d4f;\\n  background: #fff6f6;\\n}\\ndiv.react-js-cron-custom-select {\\n  min-width: 70px;\\n  z-index: 1;\\n}\\ndiv.react-js-cron-error div.react-js-cron-custom-select {\\n  background: #fff6f6;\\n}\\ndiv.react-js-cron-select.react-js-cron-custom-select.ant-select\\n  div.ant-select-selector {\\n  padding-left: 11px;\\n  padding-right: 30px;\\n}\\n.react-js-cron-read-only\\n  div.react-js-cron-select.react-js-cron-custom-select.ant-select\\n  div.ant-select-selector {\\n  padding-right: 11px;\\n}\\ndiv.react-js-cron-custom-select .ant-select-selection-search {\\n  width: 0 !important;\\n  margin: 0 !important;\\n}\\ndiv.react-js-cron-custom-select .ant-select-selection-placeholder {\\n  position: static;\\n  top: 50%;\\n  right: auto;\\n  left: auto;\\n  transform: none;\\n  transition: none;\\n  opacity: 1;\\n  color: inherit;\\n}\\n.react-js-cron-week-days-placeholder\\n  .react-js-cron-custom-select\\n  .ant-select-selection-placeholder,\\n.react-js-cron-month-days-placeholder\\n  .react-js-cron-custom-select\\n  .ant-select-selection-placeholder {\\n  opacity: 0.4;\\n}\\n.react-js-cron-custom-select-dropdown {\\n  min-width: 0 !important;\\n  width: 174px !important;\\n}\\n.react-js-cron-custom-select-dropdown .rc-virtual-list {\\n  max-height: none !important;\\n}\\n.react-js-cron-custom-select-dropdown-grid .rc-virtual-list-holder {\\n  max-height: initial !important;\\n}\\n.react-js-cron-custom-select-dropdown-grid .rc-virtual-list-holder-inner {\\n  display: grid !important;\\n  grid-template-columns: repeat(4, 1fr);\\n}\\n.react-js-cron-custom-select-dropdown-grid\\n  .rc-virtual-list-holder-inner\\n  .ant-select-item-option-content {\\n  text-align: center;\\n}\\n.react-js-cron-custom-select-dropdown-hours-twelve-hour-clock {\\n  width: 260px !important;\\n}\\n.react-js-cron-custom-select-dropdown-minutes-large {\\n  width: 300px !important;\\n}\\n.react-js-cron-custom-select-dropdown-minutes-large\\n  .rc-virtual-list-holder-inner {\\n  grid-template-columns: repeat(6, 1fr);\\n}\\n.react-js-cron-custom-select-dropdown-minutes-medium {\\n  width: 220px !important;\\n}\\n.react-js-cron-custom-select-dropdown-minutes-medium\\n  .rc-virtual-list-holder-inner {\\n  grid-template-columns: repeat(5, 1fr);\\n}\\n.react-js-cron-period > span:first-child {\\n  margin-left: 0 !important;\\n}\\n.react-js-cron-period\\n  .react-js-cron-select.ant-select-single.ant-select-open\\n  .ant-select-selection-item {\\n  opacity: 1;\\n}\\n.react-js-cron-select-dropdown-period {\\n  min-width: 0 !important;\\n  width: auto !important;\\n}\\n.react-js-cron-clear-button {\\n  margin-left: 10px;\\n  margin-bottom: 10px;\\n}\\n.react-js-cron-disabled .react-js-cron-select.ant-select-disabled {\\n  background: #f5f5f5;\\n}\\ndiv.react-js-cron-select.react-js-cron-custom-select.ant-select\\n  div.ant-select-selector\\n  > .ant-select-selection-overflow {\\n  align-items: center;\\n  flex: initial;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s1XS51c2VbMV0hLi9wYWNrYWdlcy9zdXBlcnNldC11aS1jb3JlL25vZGVfbW9kdWxlcy9yZWFjdC1qcy1jcm9uL2Rpc3Qvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL3BhY2thZ2VzL3N1cGVyc2V0LXVpLWNvcmUvbm9kZV9tb2R1bGVzL3JlYWN0LWpzLWNyb24vZGlzdC9zdHlsZXMuY3NzP2I0YzMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5yZWFjdC1qcy1jcm9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gIGZsZXgtd3JhcDogd3JhcDtcbn1cbi5yZWFjdC1qcy1jcm9uID4gZGl2LFxuLnJlYWN0LWpzLWNyb24tZmllbGQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLnJlYWN0LWpzLWNyb24tZmllbGQge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuLnJlYWN0LWpzLWNyb24tZmllbGQgPiBzcGFuIHtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cbmRpdi5yZWFjdC1qcy1jcm9uLXNlbGVjdCB7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG59XG4ucmVhY3QtanMtY3Jvbi1zZWxlY3QucmVhY3QtanMtY3Jvbi1zZWxlY3Qtbm8tcHJlZml4IHtcbiAgbWFyZ2luLWxlZnQ6IDA7XG59XG4ucmVhY3QtanMtY3Jvbi1zZWxlY3QgLmFudC1zZWxlY3Qtc2VsZWN0aW9uLXdyYXAge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4vKiBBYnNvbHV0ZSBwb3NpdGlvbiBvbmx5IHdoZW4gdGhlcmUgYXJlIG9uZSBjaGlsZCwgbWVhbmluZyB3aGVuIG5vIGl0ZW1zIGFyZSBzZWxlY3RlZC4gKi9cbi5yZWFjdC1qcy1jcm9uLXNlbGVjdFxuICAuYW50LXNlbGVjdC1zZWxlY3Rpb24tb3ZlcmZsb3c6aGFzKD4gOm50aC1jaGlsZCgtbiArIDEpOmxhc3QtY2hpbGQpIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG59XG4vKiBDZW50ZXIgcGxhY2Vob2xkZXIgdmVydGljYWxseS4gKi9cbi5yZWFjdC1qcy1jcm9uLXNlbGVjdCAuYW50LXNlbGVjdC1zZWxlY3Rpb24tcGxhY2Vob2xkZXIge1xuICBtYXJnaW4tdG9wOiAtMnB4O1xufVxuZGl2LnJlYWN0LWpzLWNyb24tZXJyb3IgLnJlYWN0LWpzLWNyb24tc2VsZWN0IC5hbnQtc2VsZWN0LXNlbGVjdG9yIHtcbiAgYm9yZGVyLWNvbG9yOiAjZmY0ZDRmO1xuICBiYWNrZ3JvdW5kOiAjZmZmNmY2O1xufVxuZGl2LnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdCB7XG4gIG1pbi13aWR0aDogNzBweDtcbiAgei1pbmRleDogMTtcbn1cbmRpdi5yZWFjdC1qcy1jcm9uLWVycm9yIGRpdi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3Qge1xuICBiYWNrZ3JvdW5kOiAjZmZmNmY2O1xufVxuZGl2LnJlYWN0LWpzLWNyb24tc2VsZWN0LnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdC5hbnQtc2VsZWN0XG4gIGRpdi5hbnQtc2VsZWN0LXNlbGVjdG9yIHtcbiAgcGFkZGluZy1sZWZ0OiAxMXB4O1xuICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xufVxuLnJlYWN0LWpzLWNyb24tcmVhZC1vbmx5XG4gIGRpdi5yZWFjdC1qcy1jcm9uLXNlbGVjdC5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QuYW50LXNlbGVjdFxuICBkaXYuYW50LXNlbGVjdC1zZWxlY3RvciB7XG4gIHBhZGRpbmctcmlnaHQ6IDExcHg7XG59XG5kaXYucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0IC5hbnQtc2VsZWN0LXNlbGVjdGlvbi1zZWFyY2gge1xuICB3aWR0aDogMCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cbmRpdi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QgLmFudC1zZWxlY3Qtc2VsZWN0aW9uLXBsYWNlaG9sZGVyIHtcbiAgcG9zaXRpb246IHN0YXRpYztcbiAgdG9wOiA1MCU7XG4gIHJpZ2h0OiBhdXRvO1xuICBsZWZ0OiBhdXRvO1xuICB0cmFuc2Zvcm06IG5vbmU7XG4gIHRyYW5zaXRpb246IG5vbmU7XG4gIG9wYWNpdHk6IDE7XG4gIGNvbG9yOiBpbmhlcml0O1xufVxuLnJlYWN0LWpzLWNyb24td2Vlay1kYXlzLXBsYWNlaG9sZGVyXG4gIC5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3RcbiAgLmFudC1zZWxlY3Qtc2VsZWN0aW9uLXBsYWNlaG9sZGVyLFxuLnJlYWN0LWpzLWNyb24tbW9udGgtZGF5cy1wbGFjZWhvbGRlclxuICAucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0XG4gIC5hbnQtc2VsZWN0LXNlbGVjdGlvbi1wbGFjZWhvbGRlciB7XG4gIG9wYWNpdHk6IDAuNDtcbn1cbi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24ge1xuICBtaW4td2lkdGg6IDAgIWltcG9ydGFudDtcbiAgd2lkdGg6IDE3NHB4ICFpbXBvcnRhbnQ7XG59XG4ucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LWRyb3Bkb3duIC5yYy12aXJ0dWFsLWxpc3Qge1xuICBtYXgtaGVpZ2h0OiBub25lICFpbXBvcnRhbnQ7XG59XG4ucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LWRyb3Bkb3duLWdyaWQgLnJjLXZpcnR1YWwtbGlzdC1ob2xkZXIge1xuICBtYXgtaGVpZ2h0OiBpbml0aWFsICFpbXBvcnRhbnQ7XG59XG4ucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LWRyb3Bkb3duLWdyaWQgLnJjLXZpcnR1YWwtbGlzdC1ob2xkZXItaW5uZXIge1xuICBkaXNwbGF5OiBncmlkICFpbXBvcnRhbnQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDQsIDFmcik7XG59XG4ucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LWRyb3Bkb3duLWdyaWRcbiAgLnJjLXZpcnR1YWwtbGlzdC1ob2xkZXItaW5uZXJcbiAgLmFudC1zZWxlY3QtaXRlbS1vcHRpb24tY29udGVudCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24taG91cnMtdHdlbHZlLWhvdXItY2xvY2sge1xuICB3aWR0aDogMjYwcHggIWltcG9ydGFudDtcbn1cbi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24tbWludXRlcy1sYXJnZSB7XG4gIHdpZHRoOiAzMDBweCAhaW1wb3J0YW50O1xufVxuLnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdC1kcm9wZG93bi1taW51dGVzLWxhcmdlXG4gIC5yYy12aXJ0dWFsLWxpc3QtaG9sZGVyLWlubmVyIHtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNiwgMWZyKTtcbn1cbi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24tbWludXRlcy1tZWRpdW0ge1xuICB3aWR0aDogMjIwcHggIWltcG9ydGFudDtcbn1cbi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24tbWludXRlcy1tZWRpdW1cbiAgLnJjLXZpcnR1YWwtbGlzdC1ob2xkZXItaW5uZXIge1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg1LCAxZnIpO1xufVxuLnJlYWN0LWpzLWNyb24tcGVyaW9kID4gc3BhbjpmaXJzdC1jaGlsZCB7XG4gIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7XG59XG4ucmVhY3QtanMtY3Jvbi1wZXJpb2RcbiAgLnJlYWN0LWpzLWNyb24tc2VsZWN0LmFudC1zZWxlY3Qtc2luZ2xlLmFudC1zZWxlY3Qtb3BlblxuICAuYW50LXNlbGVjdC1zZWxlY3Rpb24taXRlbSB7XG4gIG9wYWNpdHk6IDE7XG59XG4ucmVhY3QtanMtY3Jvbi1zZWxlY3QtZHJvcGRvd24tcGVyaW9kIHtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiBhdXRvICFpbXBvcnRhbnQ7XG59XG4ucmVhY3QtanMtY3Jvbi1jbGVhci1idXR0b24ge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cbi5yZWFjdC1qcy1jcm9uLWRpc2FibGVkIC5yZWFjdC1qcy1jcm9uLXNlbGVjdC5hbnQtc2VsZWN0LWRpc2FibGVkIHtcbiAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbn1cbmRpdi5yZWFjdC1qcy1jcm9uLXNlbGVjdC5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QuYW50LXNlbGVjdFxuICBkaXYuYW50LXNlbGVjdC1zZWxlY3RvclxuICA+IC5hbnQtc2VsZWN0LXNlbGVjdGlvbi1vdmVyZmxvdyB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZsZXg6IGluaXRpYWw7XG59XG5gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3BhY2thZ2VzL3N1cGVyc2V0LXVpLWNvcmUvbm9kZV9tb2R1bGVzL3JlYWN0LWpzLWNyb24vZGlzdC9zdHlsZXMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixlQUFlO0FBQ2pCO0FBQ0E7O0VBRUUsYUFBYTtFQUNiLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UsY0FBYztBQUNoQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLG1CQUFtQjtBQUNyQjtBQUNBLHlGQUF5RjtBQUN6Rjs7RUFFRSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87QUFDVDtBQUNBLG1DQUFtQztBQUNuQztFQUNFLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UscUJBQXFCO0VBQ3JCLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UsZUFBZTtFQUNmLFVBQVU7QUFDWjtBQUNBO0VBQ0UsbUJBQW1CO0FBQ3JCO0FBQ0E7O0VBRUUsa0JBQWtCO0VBQ2xCLG1CQUFtQjtBQUNyQjtBQUNBOzs7RUFHRSxtQkFBbUI7QUFDckI7QUFDQTtFQUNFLG1CQUFtQjtFQUNuQixvQkFBb0I7QUFDdEI7QUFDQTtFQUNFLGdCQUFnQjtFQUNoQixRQUFRO0VBQ1IsV0FBVztFQUNYLFVBQVU7RUFDVixlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLFVBQVU7RUFDVixjQUFjO0FBQ2hCO0FBQ0E7Ozs7OztFQU1FLFlBQVk7QUFDZDtBQUNBO0VBQ0UsdUJBQXVCO0VBQ3ZCLHVCQUF1QjtBQUN6QjtBQUNBO0VBQ0UsMkJBQTJCO0FBQzdCO0FBQ0E7RUFDRSw4QkFBOEI7QUFDaEM7QUFDQTtFQUNFLHdCQUF3QjtFQUN4QixxQ0FBcUM7QUFDdkM7QUFDQTs7O0VBR0Usa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSx1QkFBdUI7QUFDekI7QUFDQTtFQUNFLHVCQUF1QjtBQUN6QjtBQUNBOztFQUVFLHFDQUFxQztBQUN2QztBQUNBO0VBQ0UsdUJBQXVCO0FBQ3pCO0FBQ0E7O0VBRUUscUNBQXFDO0FBQ3ZDO0FBQ0E7RUFDRSx5QkFBeUI7QUFDM0I7QUFDQTs7O0VBR0UsVUFBVTtBQUNaO0FBQ0E7RUFDRSx1QkFBdUI7RUFDdkIsc0JBQXNCO0FBQ3hCO0FBQ0E7RUFDRSxpQkFBaUI7RUFDakIsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7QUFDQTs7O0VBR0UsbUJBQW1CO0VBQ25CLGFBQWE7QUFDZlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIucmVhY3QtanMtY3JvbiB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XFxuICBmbGV4LXdyYXA6IHdyYXA7XFxufVxcbi5yZWFjdC1qcy1jcm9uID4gZGl2LFxcbi5yZWFjdC1qcy1jcm9uLWZpZWxkIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4ucmVhY3QtanMtY3Jvbi1maWVsZCB7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG4ucmVhY3QtanMtY3Jvbi1maWVsZCA+IHNwYW4ge1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG59XFxuZGl2LnJlYWN0LWpzLWNyb24tc2VsZWN0IHtcXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XFxufVxcbi5yZWFjdC1qcy1jcm9uLXNlbGVjdC5yZWFjdC1qcy1jcm9uLXNlbGVjdC1uby1wcmVmaXgge1xcbiAgbWFyZ2luLWxlZnQ6IDA7XFxufVxcbi5yZWFjdC1qcy1jcm9uLXNlbGVjdCAuYW50LXNlbGVjdC1zZWxlY3Rpb24td3JhcCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4vKiBBYnNvbHV0ZSBwb3NpdGlvbiBvbmx5IHdoZW4gdGhlcmUgYXJlIG9uZSBjaGlsZCwgbWVhbmluZyB3aGVuIG5vIGl0ZW1zIGFyZSBzZWxlY3RlZC4gKi9cXG4ucmVhY3QtanMtY3Jvbi1zZWxlY3RcXG4gIC5hbnQtc2VsZWN0LXNlbGVjdGlvbi1vdmVyZmxvdzpoYXMoPiA6bnRoLWNoaWxkKC1uICsgMSk6bGFzdC1jaGlsZCkge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG59XFxuLyogQ2VudGVyIHBsYWNlaG9sZGVyIHZlcnRpY2FsbHkuICovXFxuLnJlYWN0LWpzLWNyb24tc2VsZWN0IC5hbnQtc2VsZWN0LXNlbGVjdGlvbi1wbGFjZWhvbGRlciB7XFxuICBtYXJnaW4tdG9wOiAtMnB4O1xcbn1cXG5kaXYucmVhY3QtanMtY3Jvbi1lcnJvciAucmVhY3QtanMtY3Jvbi1zZWxlY3QgLmFudC1zZWxlY3Qtc2VsZWN0b3Ige1xcbiAgYm9yZGVyLWNvbG9yOiAjZmY0ZDRmO1xcbiAgYmFja2dyb3VuZDogI2ZmZjZmNjtcXG59XFxuZGl2LnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdCB7XFxuICBtaW4td2lkdGg6IDcwcHg7XFxuICB6LWluZGV4OiAxO1xcbn1cXG5kaXYucmVhY3QtanMtY3Jvbi1lcnJvciBkaXYucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0IHtcXG4gIGJhY2tncm91bmQ6ICNmZmY2ZjY7XFxufVxcbmRpdi5yZWFjdC1qcy1jcm9uLXNlbGVjdC5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QuYW50LXNlbGVjdFxcbiAgZGl2LmFudC1zZWxlY3Qtc2VsZWN0b3Ige1xcbiAgcGFkZGluZy1sZWZ0OiAxMXB4O1xcbiAgcGFkZGluZy1yaWdodDogMzBweDtcXG59XFxuLnJlYWN0LWpzLWNyb24tcmVhZC1vbmx5XFxuICBkaXYucmVhY3QtanMtY3Jvbi1zZWxlY3QucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LmFudC1zZWxlY3RcXG4gIGRpdi5hbnQtc2VsZWN0LXNlbGVjdG9yIHtcXG4gIHBhZGRpbmctcmlnaHQ6IDExcHg7XFxufVxcbmRpdi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QgLmFudC1zZWxlY3Qtc2VsZWN0aW9uLXNlYXJjaCB7XFxuICB3aWR0aDogMCAhaW1wb3J0YW50O1xcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XFxufVxcbmRpdi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QgLmFudC1zZWxlY3Qtc2VsZWN0aW9uLXBsYWNlaG9sZGVyIHtcXG4gIHBvc2l0aW9uOiBzdGF0aWM7XFxuICB0b3A6IDUwJTtcXG4gIHJpZ2h0OiBhdXRvO1xcbiAgbGVmdDogYXV0bztcXG4gIHRyYW5zZm9ybTogbm9uZTtcXG4gIHRyYW5zaXRpb246IG5vbmU7XFxuICBvcGFjaXR5OiAxO1xcbiAgY29sb3I6IGluaGVyaXQ7XFxufVxcbi5yZWFjdC1qcy1jcm9uLXdlZWstZGF5cy1wbGFjZWhvbGRlclxcbiAgLnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdFxcbiAgLmFudC1zZWxlY3Qtc2VsZWN0aW9uLXBsYWNlaG9sZGVyLFxcbi5yZWFjdC1qcy1jcm9uLW1vbnRoLWRheXMtcGxhY2Vob2xkZXJcXG4gIC5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3RcXG4gIC5hbnQtc2VsZWN0LXNlbGVjdGlvbi1wbGFjZWhvbGRlciB7XFxuICBvcGFjaXR5OiAwLjQ7XFxufVxcbi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24ge1xcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XFxuICB3aWR0aDogMTc0cHggIWltcG9ydGFudDtcXG59XFxuLnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdC1kcm9wZG93biAucmMtdmlydHVhbC1saXN0IHtcXG4gIG1heC1oZWlnaHQ6IG5vbmUgIWltcG9ydGFudDtcXG59XFxuLnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdC1kcm9wZG93bi1ncmlkIC5yYy12aXJ0dWFsLWxpc3QtaG9sZGVyIHtcXG4gIG1heC1oZWlnaHQ6IGluaXRpYWwgIWltcG9ydGFudDtcXG59XFxuLnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdC1kcm9wZG93bi1ncmlkIC5yYy12aXJ0dWFsLWxpc3QtaG9sZGVyLWlubmVyIHtcXG4gIGRpc3BsYXk6IGdyaWQgIWltcG9ydGFudDtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDQsIDFmcik7XFxufVxcbi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24tZ3JpZFxcbiAgLnJjLXZpcnR1YWwtbGlzdC1ob2xkZXItaW5uZXJcXG4gIC5hbnQtc2VsZWN0LWl0ZW0tb3B0aW9uLWNvbnRlbnQge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4ucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LWRyb3Bkb3duLWhvdXJzLXR3ZWx2ZS1ob3VyLWNsb2NrIHtcXG4gIHdpZHRoOiAyNjBweCAhaW1wb3J0YW50O1xcbn1cXG4ucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LWRyb3Bkb3duLW1pbnV0ZXMtbGFyZ2Uge1xcbiAgd2lkdGg6IDMwMHB4ICFpbXBvcnRhbnQ7XFxufVxcbi5yZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24tbWludXRlcy1sYXJnZVxcbiAgLnJjLXZpcnR1YWwtbGlzdC1ob2xkZXItaW5uZXIge1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNiwgMWZyKTtcXG59XFxuLnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdC1kcm9wZG93bi1taW51dGVzLW1lZGl1bSB7XFxuICB3aWR0aDogMjIwcHggIWltcG9ydGFudDtcXG59XFxuLnJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdC1kcm9wZG93bi1taW51dGVzLW1lZGl1bVxcbiAgLnJjLXZpcnR1YWwtbGlzdC1ob2xkZXItaW5uZXIge1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNSwgMWZyKTtcXG59XFxuLnJlYWN0LWpzLWNyb24tcGVyaW9kID4gc3BhbjpmaXJzdC1jaGlsZCB7XFxuICBtYXJnaW4tbGVmdDogMCAhaW1wb3J0YW50O1xcbn1cXG4ucmVhY3QtanMtY3Jvbi1wZXJpb2RcXG4gIC5yZWFjdC1qcy1jcm9uLXNlbGVjdC5hbnQtc2VsZWN0LXNpbmdsZS5hbnQtc2VsZWN0LW9wZW5cXG4gIC5hbnQtc2VsZWN0LXNlbGVjdGlvbi1pdGVtIHtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbi5yZWFjdC1qcy1jcm9uLXNlbGVjdC1kcm9wZG93bi1wZXJpb2Qge1xcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XFxuICB3aWR0aDogYXV0byAhaW1wb3J0YW50O1xcbn1cXG4ucmVhY3QtanMtY3Jvbi1jbGVhci1idXR0b24ge1xcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG4ucmVhY3QtanMtY3Jvbi1kaXNhYmxlZCAucmVhY3QtanMtY3Jvbi1zZWxlY3QuYW50LXNlbGVjdC1kaXNhYmxlZCB7XFxuICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xcbn1cXG5kaXYucmVhY3QtanMtY3Jvbi1zZWxlY3QucmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LmFudC1zZWxlY3RcXG4gIGRpdi5hbnQtc2VsZWN0LXNlbGVjdG9yXFxuICA+IC5hbnQtc2VsZWN0LXNlbGVjdGlvbi1vdmVyZmxvdyB7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZmxleDogaW5pdGlhbDtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css\n\n}");

/***/ }),

/***/ "./node_modules/dom-to-image-more/dist/dom-to-image-more.min.js":
/*!**********************************************************************!*\
  !*** ./node_modules/dom-to-image-more/dist/dom-to-image-more.min.js ***!
  \**********************************************************************/
/***/ (function(module) {

eval("{/*! dom-to-image-more 08-05-2025 */\n(l=>{let f=(()=>{let e=0;return{escape:function(e){return e.replace(/([.*+?^${}()|[\\]/\\\\])/g,\"\\\\$1\")},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(t){if(t.toBlob)return new Promise(function(e){t.toBlob(e)});return(r=>new Promise(function(e){var t=u(r.toDataURL().split(\",\")[1]),n=t.length,o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=t.charCodeAt(e);e(new Blob([o],{type:\"image/png\"}))}))(t)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),o=n.createElement(\"base\"),r=(n.head.appendChild(o),n.createElement(\"a\"));return n.body.appendChild(r),o.href=t,r.href=e,r.href},getAndEncode:function(s){let e=d.impl.urlCache.find(function(e){return e.url===s});e||(e={url:s,promise:null},d.impl.urlCache.push(e));null===e.promise&&(d.impl.options.cacheBust&&(s+=(/\\?/.test(s)?\"&\":\"?\")+(new Date).getTime()),e.promise=new Promise(function(t){let e=d.impl.options.httpTimeout,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4===r.readyState)if(300<=r.status)n?t(n):l(`cannot fetch resource: ${s}, status: `+r.status);else{let e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(r.response)}},r.ontimeout=function(){n?t(n):l(`timeout of ${e}ms occured while fetching resource: `+s)},r.responseType=\"blob\",r.timeout=e,0<d.impl.options.useCredentialsFilters.length&&(d.impl.options.useCredentials=0<d.impl.options.useCredentialsFilters.filter(e=>0<=s.search(e)).length),d.impl.options.useCredentials&&(r.withCredentials=!0),d.impl.options.corsImg&&0===s.indexOf(\"http\")&&-1===s.indexOf(window.location.origin)){var i=\"POST\"===(d.impl.options.corsImg.method||\"GET\").toUpperCase()?\"POST\":\"GET\";r.open(i,(d.impl.options.corsImg.url||\"\").replace(\"#{cors}\",s),!0);let t=!1,n=d.impl.options.corsImg.headers||{},o=(Object.keys(n).forEach(function(e){-1!==n[e].indexOf(\"application/json\")&&(t=!0),r.setRequestHeader(e,n[e])}),(e=>{try{return JSON.parse(JSON.stringify(e))}catch(e){l(\"corsImg.data is missing or invalid:\"+e.toString())}})(d.impl.options.corsImg.data||\"\"));Object.keys(o).forEach(function(e){\"string\"==typeof o[e]&&(o[e]=o[e].replace(\"#{cors}\",s))}),r.send(t?JSON.stringify(o):o)}else r.open(\"GET\",s,!0),r.send();let n;function l(e){console.error(e),t(\"\")}d.impl.options.imagePlaceholder&&(i=d.impl.options.imagePlaceholder.split(/,/))&&i[1]&&(n=i[1])}));return e.promise},uid:function(){return\"u\"+(\"0000\"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++},delay:function(n){return function(t){return new Promise(function(e){setTimeout(function(){e(t)},n)})}},asArray:function(t){var n=[],o=t.length;for(let e=0;e<o;e++)n.push(t[e]);return n},escapeXhtml:function(e){return e.replace(/%/g,\"%25\").replace(/#/g,\"%23\").replace(/\\n/g,\"%0A\")},makeImage:function(r){return\"data:,\"!==r?new Promise(function(e,t){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\"),o=new Image;d.impl.options.useCredentials&&(o.crossOrigin=\"use-credentials\"),o.onload=function(){document.body.removeChild(n),window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){e(o)}):e(o)},o.onerror=e=>{document.body.removeChild(n),t(e)},n.appendChild(o),o.src=r,document.body.appendChild(n)}):Promise.resolve()},width:function(e){var t=i(e,\"width\");if(!isNaN(t))return t;var t=i(e,\"border-left-width\"),n=i(e,\"border-right-width\");return e.scrollWidth+t+n},height:function(e){var t=i(e,\"height\");if(!isNaN(t))return t;var t=i(e,\"border-top-width\"),n=i(e,\"border-bottom-width\");return e.scrollHeight+t+n},getWindow:t,isElement:r,isElementHostForOpenShadowRoot:function(e){return r(e)&&null!==e.shadowRoot},isShadowRoot:n,isInShadowRoot:o,isHTMLElement:function(e){return e instanceof t(e).HTMLElement},isHTMLCanvasElement:function(e){return e instanceof t(e).HTMLCanvasElement},isHTMLInputElement:function(e){return e instanceof t(e).HTMLInputElement},isHTMLImageElement:function(e){return e instanceof t(e).HTMLImageElement},isHTMLLinkElement:function(e){return e instanceof t(e).HTMLLinkElement},isHTMLScriptElement:function(e){return e instanceof t(e).HTMLScriptElement},isHTMLStyleElement:function(e){return e instanceof t(e).HTMLStyleElement},isHTMLTextAreaElement:function(e){return e instanceof t(e).HTMLTextAreaElement},isShadowSlotElement:function(e){return o(e)&&e instanceof t(e).HTMLSlotElement},isSVGElement:function(e){return e instanceof t(e).SVGElement},isSVGRectElement:function(e){return e instanceof t(e).SVGRectElement},isDimensionMissing:function(e){return isNaN(e)||e<=0}};function t(e){e=e?e.ownerDocument:void 0;return(e?e.defaultView:void 0)||window||l}function n(e){return e instanceof t(e).ShadowRoot}function o(e){return null!=e&&void 0!==e.getRootNode&&n(e.getRootNode())}function r(e){return e instanceof t(e).Element}function i(t,n){if(t.nodeType===m){let e=h(t).getPropertyValue(n);if(\"px\"===e.slice(-2))return e=e.slice(0,-2),parseFloat(e)}return NaN}})(),r=(()=>{let o=/url\\(([\"']?)((?:\\\\?.)*?)\\1\\)/gm;return{inlineAll:function(t,o,r){if(!e(t))return Promise.resolve(t);return Promise.resolve(t).then(n).then(function(e){let n=Promise.resolve(t);return e.forEach(function(t){n=n.then(function(e){return i(e,t,o,r)})}),n})},shouldProcess:e,impl:{readUrls:n,inline:i,urlAsRegex:r}};function e(e){return-1!==e.search(o)}function n(e){for(var t,n=[];null!==(t=o.exec(e));)n.push(t[2]);return n.filter(function(e){return!f.isDataUrl(e)})}function r(e){return new RegExp(`url\\\\(([\"']?)(${f.escape(e)})\\\\1\\\\)`,\"gm\")}function i(n,o,t,e){return Promise.resolve(o).then(function(e){return t?f.resolveUrl(e,t):e}).then(e||f.getAndEncode).then(function(e){var t=r(o);return n.replace(t,`url($1${e}$1)`)})}})(),e={resolveAll:function(){return t().then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join(\"\\n\")})},impl:{readAll:t}};function t(){return Promise.resolve(f.asArray(document.styleSheets)).then(function(e){let n=[];return e.forEach(function(t){var e=Object.getPrototypeOf(t);if(Object.prototype.hasOwnProperty.call(e,\"cssRules\"))try{f.asArray(t.cssRules||[]).forEach(n.push.bind(n))}catch(e){console.error(\"domtoimage: Error while reading CSS rules from \"+t.href,e.toString())}}),n}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return r.shouldProcess(e.style.getPropertyValue(\"src\"))})}).then(function(e){return e.map(t)});function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return r.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue(\"src\")}}}}let n={inlineAll:function t(e){if(!f.isElement(e))return Promise.resolve(e);return n(e).then(function(){return f.isHTMLImageElement(e)?o(e).inline():Promise.all(f.asArray(e.childNodes).map(function(e){return t(e)}))});function n(o){let e=[\"background\",\"background-image\"],t=e.map(function(t){let e=o.style.getPropertyValue(t),n=o.style.getPropertyPriority(t);return e?r.inlineAll(e).then(function(e){o.style.setProperty(t,e,n)}):Promise.resolve()});return Promise.all(t).then(function(){return o})}},impl:{newImage:o}};function o(n){return{inline:function(e){if(f.isDataUrl(n.src))return Promise.resolve();return Promise.resolve(n.src).then(e||f.getAndEncode).then(function(t){return new Promise(function(e){n.onload=e,n.onerror=e,n.src=t})})}}}let s={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:\"strict\",corsImg:void 0,adjustClonedNode:void 0,filterStyles:void 0},d={toSvg:a,toPng:function(e,t){return i(e,t).then(function(e){return e.toDataURL()})},toJpeg:function(e,t){return i(e,t).then(function(e){return e.toDataURL(\"image/jpeg\",(t?t.quality:void 0)||1)})},toBlob:function(e,t){return i(e,t).then(f.canvasToBlob)},toPixelData:function(t,e){return i(t,e).then(function(e){return e.getContext(\"2d\").getImageData(0,0,f.width(t),f.height(t)).data})},toCanvas:i,impl:{fontFaces:e,images:n,util:f,inliner:r,urlCache:[],options:{}}},m=( true?module.exports=d:0,(\"undefined\"!=typeof Node?Node.ELEMENT_NODE:void 0)||1),h=(void 0!==l?l.getComputedStyle:void 0)||(\"undefined\"!=typeof window?window.getComputedStyle:void 0)||globalThis.getComputedStyle,u=(void 0!==l?l.atob:void 0)||(\"undefined\"!=typeof window?window.atob:void 0)||globalThis.atob;function a(e,r){let t=d.impl.util.getWindow(e);var n=r=r||{};void 0===n.copyDefaultStyles?d.impl.options.copyDefaultStyles=s.copyDefaultStyles:d.impl.options.copyDefaultStyles=n.copyDefaultStyles,d.impl.options.imagePlaceholder=(void 0===n.imagePlaceholder?s:n).imagePlaceholder,d.impl.options.cacheBust=(void 0===n.cacheBust?s:n).cacheBust,d.impl.options.corsImg=(void 0===n.corsImg?s:n).corsImg,d.impl.options.useCredentials=(void 0===n.useCredentials?s:n).useCredentials,d.impl.options.useCredentialsFilters=(void 0===n.useCredentialsFilters?s:n).useCredentialsFilters,d.impl.options.httpTimeout=(void 0===n.httpTimeout?s:n).httpTimeout,d.impl.options.styleCaching=(void 0===n.styleCaching?s:n).styleCaching;let i=[];return Promise.resolve(e).then(function(e){if(e.nodeType===m)return e;var t=e,n=e.parentNode,o=document.createElement(\"span\");return n.replaceChild(o,t),o.append(e),i.push({parent:n,child:t,wrapper:o}),o}).then(function(e){return function l(t,s,r,u){let e=s.filter;if(t===p||f.isHTMLScriptElement(t)||f.isHTMLStyleElement(t)||f.isHTMLLinkElement(t)||null!==r&&e&&!e(t))return Promise.resolve();return Promise.resolve(t).then(n).then(o).then(function(e){return c(e,a(t))}).then(i).then(function(e){return d(e,t)});function n(e){return f.isHTMLCanvasElement(e)?f.makeImage(e.toDataURL()):e.cloneNode(!1)}function o(e){return s.adjustClonedNode&&s.adjustClonedNode(t,e,!1),Promise.resolve(e)}function i(e){return s.adjustClonedNode&&s.adjustClonedNode(t,e,!0),Promise.resolve(e)}function a(e){return f.isElementHostForOpenShadowRoot(e)?e.shadowRoot:e}function c(n,e){let o=t(e),r=Promise.resolve();if(0!==o.length){let t=h(i(e));f.asArray(o).forEach(function(e){r=r.then(function(){return l(e,s,t,u).then(function(e){e&&n.appendChild(e)})})})}return r.then(function(){return n});function i(e){return f.isShadowRoot(e)?e.host:e}function t(t){if(f.isShadowSlotElement(t)){let e=t.assignedNodes();if(e&&0<e.length)return e}return t.childNodes}}function d(u,a){return!f.isElement(u)||f.isShadowSlotElement(a)?Promise.resolve(u):Promise.resolve().then(e).then(t).then(n).then(o).then(function(){return u});function e(){function o(e,t){t.font=e.font,t.fontFamily=e.fontFamily,t.fontFeatureSettings=e.fontFeatureSettings,t.fontKerning=e.fontKerning,t.fontSize=e.fontSize,t.fontStretch=e.fontStretch,t.fontStyle=e.fontStyle,t.fontVariant=e.fontVariant,t.fontVariantCaps=e.fontVariantCaps,t.fontVariantEastAsian=e.fontVariantEastAsian,t.fontVariantLigatures=e.fontVariantLigatures,t.fontVariantNumeric=e.fontVariantNumeric,t.fontVariationSettings=e.fontVariationSettings,t.fontWeight=e.fontWeight}function e(e,t){let n=h(e);n.cssText?(t.style.cssText=n.cssText,o(n,t.style)):(y(s,e,n,r,t),null===r&&([\"inset-block\",\"inset-block-start\",\"inset-block-end\"].forEach(e=>t.style.removeProperty(e)),[\"left\",\"right\",\"top\",\"bottom\"].forEach(e=>{t.style.getPropertyValue(e)&&t.style.setProperty(e,\"0px\")})))}e(a,u)}function t(){let s=f.uid();function t(r){let i=h(a,r),l=i.getPropertyValue(\"content\");if(\"\"!==l&&\"none\"!==l){let e=u.getAttribute(\"class\")||\"\",t=(u.setAttribute(\"class\",e+\" \"+s),document.createElement(\"style\"));function n(){let e=`.${s}:`+r,t=(i.cssText?n:o)();return document.createTextNode(e+`{${t}}`);function n(){return`${i.cssText} content: ${l};`}function o(){let e=f.asArray(i).map(t).join(\"; \");return e+\";\";function t(e){let t=i.getPropertyValue(e),n=i.getPropertyPriority(e)?\" !important\":\"\";return e+\": \"+t+n}}}t.appendChild(n()),u.appendChild(t)}}[\":before\",\":after\"].forEach(function(e){t(e)})}function n(){f.isHTMLTextAreaElement(a)&&(u.innerHTML=a.value),f.isHTMLInputElement(a)&&u.setAttribute(\"value\",a.value)}function o(){f.isSVGElement(u)&&(u.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),f.isSVGRectElement(u))&&[\"width\",\"height\"].forEach(function(e){let t=u.getAttribute(e);t&&u.style.setProperty(e,t)})}}}(e,r,null,t)}).then(r.disableEmbedFonts?Promise.resolve(e):c).then(g).then(function(t){r.bgcolor&&(t.style.backgroundColor=r.bgcolor);r.width&&(t.style.width=r.width+\"px\");r.height&&(t.style.height=r.height+\"px\");r.style&&Object.keys(r.style).forEach(function(e){t.style[e]=r.style[e]});let e=null;\"function\"==typeof r.onclone&&(e=r.onclone(t));return Promise.resolve(e).then(function(){return t})}).then(function(e){let n=r.width||f.width(e),o=r.height||f.height(e);return Promise.resolve(e).then(function(e){return e.setAttribute(\"xmlns\",\"http://www.w3.org/1999/xhtml\"),(new XMLSerializer).serializeToString(e)}).then(f.escapeXhtml).then(function(e){var t=(f.isDimensionMissing(n)?' width=\"100%\"':` width=\"${n}\"`)+(f.isDimensionMissing(o)?' height=\"100%\"':` height=\"${o}\"`);return`<svg xmlns=\"http://www.w3.org/2000/svg\"${(f.isDimensionMissing(n)?\"\":` width=\"${n}\"`)+(f.isDimensionMissing(o)?\"\":` height=\"${o}\"`)}><foreignObject${t}>${e}</foreignObject></svg>`}).then(function(e){return\"data:image/svg+xml;charset=utf-8,\"+e})}).then(function(e){for(;0<i.length;){var t=i.pop();t.parent.replaceChild(t.child,t.wrapper)}return e}).then(function(e){return d.impl.urlCache=[],(()=>{p&&(document.body.removeChild(p),p=null),v&&clearTimeout(v),v=setTimeout(()=>{v=null,w={}},2e4)})(),e})}function i(r,i){return a(r,i=i||{}).then(f.makeImage).then(function(e){var t=\"number\"!=typeof i.scale?1:i.scale,n=((e,t)=>{let n=i.width||f.width(e),o=i.height||f.height(e);return f.isDimensionMissing(n)&&(n=f.isDimensionMissing(o)?300:2*o),f.isDimensionMissing(o)&&(o=n/2),(e=document.createElement(\"canvas\")).width=n*t,e.height=o*t,i.bgcolor&&((t=e.getContext(\"2d\")).fillStyle=i.bgcolor,t.fillRect(0,0,e.width,e.height)),e})(r,t),o=n.getContext(\"2d\");return o.msImageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1,e&&(o.scale(t,t),o.drawImage(e,0,0)),n})}let p=null;function c(n){return e.resolveAll().then(function(e){var t;return\"\"!==e&&(t=document.createElement(\"style\"),n.appendChild(t),t.appendChild(document.createTextNode(e))),n})}function g(e){return n.inlineAll(e).then(function(){return e})}function y(i,l,s,u,e){let a=d.impl.options.copyDefaultStyles?((t,e)=>{var n,o=(e=>(\"relaxed\"!==t.styleCaching?e:e.filter((e,t,n)=>0===t||t===n.length-1)).join(\">\"))(e=(e=>{var t=[];do{if(e.nodeType===m){var n=e.tagName;if(t.push(n),E.includes(n))break}}while(e=e.parentNode);return t})(e));{if(w[o])return w[o];e=((e,t)=>{let n=e.body;do{var o=t.pop(),o=e.createElement(o);n.appendChild(o),n=o}while(0<t.length);return n.textContent=\"\",n})((n=(()=>{if(p)return p.contentWindow;t=document.characterSet||\"UTF-8\",e=(e=document.doctype)?(`<!DOCTYPE ${s(e.name)} ${s(e.publicId)} `+s(e.systemId)).trim()+\">\":\"\",(p=document.createElement(\"iframe\")).id=\"domtoimage-sandbox-\"+f.uid(),p.style.visibility=\"hidden\",p.style.position=\"fixed\",document.body.appendChild(p);var e,t,n=p,o=\"domtoimage-sandbox\";try{return n.contentWindow.document.write(e+`<html><head><meta charset='${t}'><title>${o}</title></head><body></body></html>`),n.contentWindow}catch(e){}var r=document.createElement(\"meta\");r.setAttribute(\"charset\",t);try{var i=document.implementation.createHTMLDocument(o),l=(i.head.appendChild(r),e+i.documentElement.outerHTML);return n.setAttribute(\"srcdoc\",l),n.contentWindow}catch(e){}return n.contentDocument.head.appendChild(r),n.contentDocument.title=o,n.contentWindow;function s(e){var t;return e?((t=document.createElement(\"div\")).innerText=e,t.innerHTML):\"\"}})()).document,e),n=((e,t)=>{let n={},o=e.getComputedStyle(t);return f.asArray(o).forEach(function(e){n[e]=\"width\"===e||\"height\"===e?\"auto\":o.getPropertyValue(e)}),n})(n,e);var r=e;do{var i=r.parentElement;null!==i&&i.removeChild(r),r=i}while(r&&\"BODY\"!==r.tagName);return w[o]=n}})(i,l):{},c=e.style;f.asArray(s).forEach(function(e){var t,n,o,r;i.filterStyles&&!i.filterStyles(l,e)||(n=s.getPropertyValue(e),o=a[e],t=u?u.getPropertyValue(e):void 0,c.getPropertyValue(e))||(n!==o||u&&n!==t)&&(o=s.getPropertyPriority(e),t=c,n=n,o=o,r=0<=[\"background-clip\"].indexOf(e=e),o?(t.setProperty(e,n,o),r&&t.setProperty(\"-webkit-\"+e,n,o)):(t.setProperty(e,n),r&&t.setProperty(\"-webkit-\"+e,n)))})}let v=null,w={},E=[\"ADDRESS\",\"ARTICLE\",\"ASIDE\",\"BLOCKQUOTE\",\"DETAILS\",\"DIALOG\",\"DD\",\"DIV\",\"DL\",\"DT\",\"FIELDSET\",\"FIGCAPTION\",\"FIGURE\",\"FOOTER\",\"FORM\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\",\"HEADER\",\"HGROUP\",\"HR\",\"LI\",\"MAIN\",\"NAV\",\"OL\",\"P\",\"PRE\",\"SECTION\",\"SVG\",\"TABLE\",\"UL\",\"math\",\"svg\",\"BODY\",\"HEAD\",\"HTML\"]})(this);\n//# sourceMappingURL=dom-to-image-more.min.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZG9tLXRvLWltYWdlLW1vcmUvZGlzdC9kb20tdG8taW1hZ2UtbW9yZS5taW4uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvZG9tLXRvLWltYWdlLW1vcmUvZGlzdC9kb20tdG8taW1hZ2UtbW9yZS5taW4uanM/ZjE0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgZG9tLXRvLWltYWdlLW1vcmUgMDgtMDUtMjAyNSAqL1xuKGw9PntsZXQgZj0oKCk9PntsZXQgZT0wO3JldHVybntlc2NhcGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvKFsuKis/XiR7fSgpfFtcXF0vXFxcXF0pL2csXCJcXFxcJDFcIil9LGlzRGF0YVVybDpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PWUuc2VhcmNoKC9eKGRhdGE6KS8pfSxjYW52YXNUb0Jsb2I6ZnVuY3Rpb24odCl7aWYodC50b0Jsb2IpcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe3QudG9CbG9iKGUpfSk7cmV0dXJuKHI9Pm5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe3ZhciB0PXUoci50b0RhdGFVUkwoKS5zcGxpdChcIixcIilbMV0pLG49dC5sZW5ndGgsbz1uZXcgVWludDhBcnJheShuKTtmb3IobGV0IGU9MDtlPG47ZSsrKW9bZV09dC5jaGFyQ29kZUF0KGUpO2UobmV3IEJsb2IoW29dLHt0eXBlOlwiaW1hZ2UvcG5nXCJ9KSl9KSkodCl9LHJlc29sdmVVcmw6ZnVuY3Rpb24oZSx0KXt2YXIgbj1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoKSxvPW4uY3JlYXRlRWxlbWVudChcImJhc2VcIikscj0obi5oZWFkLmFwcGVuZENoaWxkKG8pLG4uY3JlYXRlRWxlbWVudChcImFcIikpO3JldHVybiBuLmJvZHkuYXBwZW5kQ2hpbGQociksby5ocmVmPXQsci5ocmVmPWUsci5ocmVmfSxnZXRBbmRFbmNvZGU6ZnVuY3Rpb24ocyl7bGV0IGU9ZC5pbXBsLnVybENhY2hlLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXJsPT09c30pO2V8fChlPXt1cmw6cyxwcm9taXNlOm51bGx9LGQuaW1wbC51cmxDYWNoZS5wdXNoKGUpKTtudWxsPT09ZS5wcm9taXNlJiYoZC5pbXBsLm9wdGlvbnMuY2FjaGVCdXN0JiYocys9KC9cXD8vLnRlc3Qocyk/XCImXCI6XCI/XCIpKyhuZXcgRGF0ZSkuZ2V0VGltZSgpKSxlLnByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24odCl7bGV0IGU9ZC5pbXBsLm9wdGlvbnMuaHR0cFRpbWVvdXQscj1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09ci5yZWFkeVN0YXRlKWlmKDMwMDw9ci5zdGF0dXMpbj90KG4pOmwoYGNhbm5vdCBmZXRjaCByZXNvdXJjZTogJHtzfSwgc3RhdHVzOiBgK3Iuc3RhdHVzKTtlbHNle2xldCBlPW5ldyBGaWxlUmVhZGVyO2Uub25sb2FkZW5kPWZ1bmN0aW9uKCl7dChlLnJlc3VsdCl9LGUucmVhZEFzRGF0YVVSTChyLnJlc3BvbnNlKX19LHIub250aW1lb3V0PWZ1bmN0aW9uKCl7bj90KG4pOmwoYHRpbWVvdXQgb2YgJHtlfW1zIG9jY3VyZWQgd2hpbGUgZmV0Y2hpbmcgcmVzb3VyY2U6IGArcyl9LHIucmVzcG9uc2VUeXBlPVwiYmxvYlwiLHIudGltZW91dD1lLDA8ZC5pbXBsLm9wdGlvbnMudXNlQ3JlZGVudGlhbHNGaWx0ZXJzLmxlbmd0aCYmKGQuaW1wbC5vcHRpb25zLnVzZUNyZWRlbnRpYWxzPTA8ZC5pbXBsLm9wdGlvbnMudXNlQ3JlZGVudGlhbHNGaWx0ZXJzLmZpbHRlcihlPT4wPD1zLnNlYXJjaChlKSkubGVuZ3RoKSxkLmltcGwub3B0aW9ucy51c2VDcmVkZW50aWFscyYmKHIud2l0aENyZWRlbnRpYWxzPSEwKSxkLmltcGwub3B0aW9ucy5jb3JzSW1nJiYwPT09cy5pbmRleE9mKFwiaHR0cFwiKSYmLTE9PT1zLmluZGV4T2Yod2luZG93LmxvY2F0aW9uLm9yaWdpbikpe3ZhciBpPVwiUE9TVFwiPT09KGQuaW1wbC5vcHRpb25zLmNvcnNJbWcubWV0aG9kfHxcIkdFVFwiKS50b1VwcGVyQ2FzZSgpP1wiUE9TVFwiOlwiR0VUXCI7ci5vcGVuKGksKGQuaW1wbC5vcHRpb25zLmNvcnNJbWcudXJsfHxcIlwiKS5yZXBsYWNlKFwiI3tjb3JzfVwiLHMpLCEwKTtsZXQgdD0hMSxuPWQuaW1wbC5vcHRpb25zLmNvcnNJbWcuaGVhZGVyc3x8e30sbz0oT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXstMSE9PW5bZV0uaW5kZXhPZihcImFwcGxpY2F0aW9uL2pzb25cIikmJih0PSEwKSxyLnNldFJlcXVlc3RIZWFkZXIoZSxuW2VdKX0pLChlPT57dHJ5e3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaChlKXtsKFwiY29yc0ltZy5kYXRhIGlzIG1pc3Npbmcgb3IgaW52YWxpZDpcIitlLnRvU3RyaW5nKCkpfX0pKGQuaW1wbC5vcHRpb25zLmNvcnNJbWcuZGF0YXx8XCJcIikpO09iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24oZSl7XCJzdHJpbmdcIj09dHlwZW9mIG9bZV0mJihvW2VdPW9bZV0ucmVwbGFjZShcIiN7Y29yc31cIixzKSl9KSxyLnNlbmQodD9KU09OLnN0cmluZ2lmeShvKTpvKX1lbHNlIHIub3BlbihcIkdFVFwiLHMsITApLHIuc2VuZCgpO2xldCBuO2Z1bmN0aW9uIGwoZSl7Y29uc29sZS5lcnJvcihlKSx0KFwiXCIpfWQuaW1wbC5vcHRpb25zLmltYWdlUGxhY2Vob2xkZXImJihpPWQuaW1wbC5vcHRpb25zLmltYWdlUGxhY2Vob2xkZXIuc3BsaXQoLywvKSkmJmlbMV0mJihuPWlbMV0pfSkpO3JldHVybiBlLnByb21pc2V9LHVpZDpmdW5jdGlvbigpe3JldHVyblwidVwiKyhcIjAwMDBcIisoTWF0aC5yYW5kb20oKSpNYXRoLnBvdygzNiw0KTw8MCkudG9TdHJpbmcoMzYpKS5zbGljZSgtNCkrZSsrfSxkZWxheTpmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlKHQpfSxuKX0pfX0sYXNBcnJheTpmdW5jdGlvbih0KXt2YXIgbj1bXSxvPXQubGVuZ3RoO2ZvcihsZXQgZT0wO2U8bztlKyspbi5wdXNoKHRbZV0pO3JldHVybiBufSxlc2NhcGVYaHRtbDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8lL2csXCIlMjVcIikucmVwbGFjZSgvIy9nLFwiJTIzXCIpLnJlcGxhY2UoL1xcbi9nLFwiJTBBXCIpfSxtYWtlSW1hZ2U6ZnVuY3Rpb24ocil7cmV0dXJuXCJkYXRhOixcIiE9PXI/bmV3IFByb21pc2UoZnVuY3Rpb24oZSx0KXtsZXQgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwic3ZnXCIpLG89bmV3IEltYWdlO2QuaW1wbC5vcHRpb25zLnVzZUNyZWRlbnRpYWxzJiYoby5jcm9zc09yaWdpbj1cInVzZS1jcmVkZW50aWFsc1wiKSxvLm9ubG9hZD1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobiksd2luZG93JiZ3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtlKG8pfSk6ZShvKX0sby5vbmVycm9yPWU9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG4pLHQoZSl9LG4uYXBwZW5kQ2hpbGQobyksby5zcmM9cixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pfSk6UHJvbWlzZS5yZXNvbHZlKCl9LHdpZHRoOmZ1bmN0aW9uKGUpe3ZhciB0PWkoZSxcIndpZHRoXCIpO2lmKCFpc05hTih0KSlyZXR1cm4gdDt2YXIgdD1pKGUsXCJib3JkZXItbGVmdC13aWR0aFwiKSxuPWkoZSxcImJvcmRlci1yaWdodC13aWR0aFwiKTtyZXR1cm4gZS5zY3JvbGxXaWR0aCt0K259LGhlaWdodDpmdW5jdGlvbihlKXt2YXIgdD1pKGUsXCJoZWlnaHRcIik7aWYoIWlzTmFOKHQpKXJldHVybiB0O3ZhciB0PWkoZSxcImJvcmRlci10b3Atd2lkdGhcIiksbj1pKGUsXCJib3JkZXItYm90dG9tLXdpZHRoXCIpO3JldHVybiBlLnNjcm9sbEhlaWdodCt0K259LGdldFdpbmRvdzp0LGlzRWxlbWVudDpyLGlzRWxlbWVudEhvc3RGb3JPcGVuU2hhZG93Um9vdDpmdW5jdGlvbihlKXtyZXR1cm4gcihlKSYmbnVsbCE9PWUuc2hhZG93Um9vdH0saXNTaGFkb3dSb290Om4saXNJblNoYWRvd1Jvb3Q6byxpc0hUTUxFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdChlKS5IVE1MRWxlbWVudH0saXNIVE1MQ2FudmFzRWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQoZSkuSFRNTENhbnZhc0VsZW1lbnR9LGlzSFRNTElucHV0RWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQoZSkuSFRNTElucHV0RWxlbWVudH0saXNIVE1MSW1hZ2VFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdChlKS5IVE1MSW1hZ2VFbGVtZW50fSxpc0hUTUxMaW5rRWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQoZSkuSFRNTExpbmtFbGVtZW50fSxpc0hUTUxTY3JpcHRFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdChlKS5IVE1MU2NyaXB0RWxlbWVudH0saXNIVE1MU3R5bGVFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdChlKS5IVE1MU3R5bGVFbGVtZW50fSxpc0hUTUxUZXh0QXJlYUVsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0KGUpLkhUTUxUZXh0QXJlYUVsZW1lbnR9LGlzU2hhZG93U2xvdEVsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSkmJmUgaW5zdGFuY2VvZiB0KGUpLkhUTUxTbG90RWxlbWVudH0saXNTVkdFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdChlKS5TVkdFbGVtZW50fSxpc1NWR1JlY3RFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdChlKS5TVkdSZWN0RWxlbWVudH0saXNEaW1lbnNpb25NaXNzaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlKXx8ZTw9MH19O2Z1bmN0aW9uIHQoZSl7ZT1lP2Uub3duZXJEb2N1bWVudDp2b2lkIDA7cmV0dXJuKGU/ZS5kZWZhdWx0Vmlldzp2b2lkIDApfHx3aW5kb3d8fGx9ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQoZSkuU2hhZG93Um9vdH1mdW5jdGlvbiBvKGUpe3JldHVybiBudWxsIT1lJiZ2b2lkIDAhPT1lLmdldFJvb3ROb2RlJiZuKGUuZ2V0Um9vdE5vZGUoKSl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQoZSkuRWxlbWVudH1mdW5jdGlvbiBpKHQsbil7aWYodC5ub2RlVHlwZT09PW0pe2xldCBlPWgodCkuZ2V0UHJvcGVydHlWYWx1ZShuKTtpZihcInB4XCI9PT1lLnNsaWNlKC0yKSlyZXR1cm4gZT1lLnNsaWNlKDAsLTIpLHBhcnNlRmxvYXQoZSl9cmV0dXJuIE5hTn19KSgpLHI9KCgpPT57bGV0IG89L3VybFxcKChbXCInXT8pKCg/OlxcXFw/LikqPylcXDFcXCkvZ207cmV0dXJue2lubGluZUFsbDpmdW5jdGlvbih0LG8scil7aWYoIWUodCkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHQpLnRoZW4obikudGhlbihmdW5jdGlvbihlKXtsZXQgbj1Qcm9taXNlLnJlc29sdmUodCk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbih0KXtuPW4udGhlbihmdW5jdGlvbihlKXtyZXR1cm4gaShlLHQsbyxyKX0pfSksbn0pfSxzaG91bGRQcm9jZXNzOmUsaW1wbDp7cmVhZFVybHM6bixpbmxpbmU6aSx1cmxBc1JlZ2V4OnJ9fTtmdW5jdGlvbiBlKGUpe3JldHVybi0xIT09ZS5zZWFyY2gobyl9ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQsbj1bXTtudWxsIT09KHQ9by5leGVjKGUpKTspbi5wdXNoKHRbMl0pO3JldHVybiBuLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZi5pc0RhdGFVcmwoZSl9KX1mdW5jdGlvbiByKGUpe3JldHVybiBuZXcgUmVnRXhwKGB1cmxcXFxcKChbXCInXT8pKCR7Zi5lc2NhcGUoZSl9KVxcXFwxXFxcXClgLFwiZ21cIil9ZnVuY3Rpb24gaShuLG8sdCxlKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG8pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQ/Zi5yZXNvbHZlVXJsKGUsdCk6ZX0pLnRoZW4oZXx8Zi5nZXRBbmRFbmNvZGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9cihvKTtyZXR1cm4gbi5yZXBsYWNlKHQsYHVybCgkMSR7ZX0kMSlgKX0pfX0pKCksZT17cmVzb2x2ZUFsbDpmdW5jdGlvbigpe3JldHVybiB0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5hbGwoZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVzb2x2ZSgpfSkpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKFwiXFxuXCIpfSl9LGltcGw6e3JlYWRBbGw6dH19O2Z1bmN0aW9uIHQoKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYuYXNBcnJheShkb2N1bWVudC5zdHlsZVNoZWV0cykpLnRoZW4oZnVuY3Rpb24oZSl7bGV0IG49W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjc3NSdWxlc1wiKSl0cnl7Zi5hc0FycmF5KHQuY3NzUnVsZXN8fFtdKS5mb3JFYWNoKG4ucHVzaC5iaW5kKG4pKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiZG9tdG9pbWFnZTogRXJyb3Igd2hpbGUgcmVhZGluZyBDU1MgcnVsZXMgZnJvbSBcIit0LmhyZWYsZS50b1N0cmluZygpKX19KSxufSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PUNTU1J1bGUuRk9OVF9GQUNFX1JVTEV9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHIuc2hvdWxkUHJvY2VzcyhlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJzcmNcIikpfSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcCh0KX0pO2Z1bmN0aW9uIHQodCl7cmV0dXJue3Jlc29sdmU6ZnVuY3Rpb24oKXt2YXIgZT0odC5wYXJlbnRTdHlsZVNoZWV0fHx7fSkuaHJlZjtyZXR1cm4gci5pbmxpbmVBbGwodC5jc3NUZXh0LGUpfSxzcmM6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwic3JjXCIpfX19fWxldCBuPXtpbmxpbmVBbGw6ZnVuY3Rpb24gdChlKXtpZighZi5pc0VsZW1lbnQoZSkpcmV0dXJuIFByb21pc2UucmVzb2x2ZShlKTtyZXR1cm4gbihlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGYuaXNIVE1MSW1hZ2VFbGVtZW50KGUpP28oZSkuaW5saW5lKCk6UHJvbWlzZS5hbGwoZi5hc0FycmF5KGUuY2hpbGROb2RlcykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSkpfSk7ZnVuY3Rpb24gbihvKXtsZXQgZT1bXCJiYWNrZ3JvdW5kXCIsXCJiYWNrZ3JvdW5kLWltYWdlXCJdLHQ9ZS5tYXAoZnVuY3Rpb24odCl7bGV0IGU9by5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHQpLG49by5zdHlsZS5nZXRQcm9wZXJ0eVByaW9yaXR5KHQpO3JldHVybiBlP3IuaW5saW5lQWxsKGUpLnRoZW4oZnVuY3Rpb24oZSl7by5zdHlsZS5zZXRQcm9wZXJ0eSh0LGUsbil9KTpQcm9taXNlLnJlc29sdmUoKX0pO3JldHVybiBQcm9taXNlLmFsbCh0KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG99KX19LGltcGw6e25ld0ltYWdlOm99fTtmdW5jdGlvbiBvKG4pe3JldHVybntpbmxpbmU6ZnVuY3Rpb24oZSl7aWYoZi5pc0RhdGFVcmwobi5zcmMpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG4uc3JjKS50aGVuKGV8fGYuZ2V0QW5kRW5jb2RlKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlKXtuLm9ubG9hZD1lLG4ub25lcnJvcj1lLG4uc3JjPXR9KX0pfX19bGV0IHM9e2NvcHlEZWZhdWx0U3R5bGVzOiEwLGltYWdlUGxhY2Vob2xkZXI6dm9pZCAwLGNhY2hlQnVzdDohMSx1c2VDcmVkZW50aWFsczohMSx1c2VDcmVkZW50aWFsc0ZpbHRlcnM6W10saHR0cFRpbWVvdXQ6M2U0LHN0eWxlQ2FjaGluZzpcInN0cmljdFwiLGNvcnNJbWc6dm9pZCAwLGFkanVzdENsb25lZE5vZGU6dm9pZCAwLGZpbHRlclN0eWxlczp2b2lkIDB9LGQ9e3RvU3ZnOmEsdG9Qbmc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLHQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9EYXRhVVJMKCl9KX0sdG9KcGVnOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvRGF0YVVSTChcImltYWdlL2pwZWdcIiwodD90LnF1YWxpdHk6dm9pZCAwKXx8MSl9KX0sdG9CbG9iOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KS50aGVuKGYuY2FudmFzVG9CbG9iKX0sdG9QaXhlbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Q29udGV4dChcIjJkXCIpLmdldEltYWdlRGF0YSgwLDAsZi53aWR0aCh0KSxmLmhlaWdodCh0KSkuZGF0YX0pfSx0b0NhbnZhczppLGltcGw6e2ZvbnRGYWNlczplLGltYWdlczpuLHV0aWw6ZixpbmxpbmVyOnIsdXJsQ2FjaGU6W10sb3B0aW9uczp7fX19LG09KFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWQ6bC5kb210b2ltYWdlPWQsKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBOb2RlP05vZGUuRUxFTUVOVF9OT0RFOnZvaWQgMCl8fDEpLGg9KHZvaWQgMCE9PWw/bC5nZXRDb21wdXRlZFN0eWxlOnZvaWQgMCl8fChcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlOnZvaWQgMCl8fGdsb2JhbFRoaXMuZ2V0Q29tcHV0ZWRTdHlsZSx1PSh2b2lkIDAhPT1sP2wuYXRvYjp2b2lkIDApfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cuYXRvYjp2b2lkIDApfHxnbG9iYWxUaGlzLmF0b2I7ZnVuY3Rpb24gYShlLHIpe2xldCB0PWQuaW1wbC51dGlsLmdldFdpbmRvdyhlKTt2YXIgbj1yPXJ8fHt9O3ZvaWQgMD09PW4uY29weURlZmF1bHRTdHlsZXM/ZC5pbXBsLm9wdGlvbnMuY29weURlZmF1bHRTdHlsZXM9cy5jb3B5RGVmYXVsdFN0eWxlczpkLmltcGwub3B0aW9ucy5jb3B5RGVmYXVsdFN0eWxlcz1uLmNvcHlEZWZhdWx0U3R5bGVzLGQuaW1wbC5vcHRpb25zLmltYWdlUGxhY2Vob2xkZXI9KHZvaWQgMD09PW4uaW1hZ2VQbGFjZWhvbGRlcj9zOm4pLmltYWdlUGxhY2Vob2xkZXIsZC5pbXBsLm9wdGlvbnMuY2FjaGVCdXN0PSh2b2lkIDA9PT1uLmNhY2hlQnVzdD9zOm4pLmNhY2hlQnVzdCxkLmltcGwub3B0aW9ucy5jb3JzSW1nPSh2b2lkIDA9PT1uLmNvcnNJbWc/czpuKS5jb3JzSW1nLGQuaW1wbC5vcHRpb25zLnVzZUNyZWRlbnRpYWxzPSh2b2lkIDA9PT1uLnVzZUNyZWRlbnRpYWxzP3M6bikudXNlQ3JlZGVudGlhbHMsZC5pbXBsLm9wdGlvbnMudXNlQ3JlZGVudGlhbHNGaWx0ZXJzPSh2b2lkIDA9PT1uLnVzZUNyZWRlbnRpYWxzRmlsdGVycz9zOm4pLnVzZUNyZWRlbnRpYWxzRmlsdGVycyxkLmltcGwub3B0aW9ucy5odHRwVGltZW91dD0odm9pZCAwPT09bi5odHRwVGltZW91dD9zOm4pLmh0dHBUaW1lb3V0LGQuaW1wbC5vcHRpb25zLnN0eWxlQ2FjaGluZz0odm9pZCAwPT09bi5zdHlsZUNhY2hpbmc/czpuKS5zdHlsZUNhY2hpbmc7bGV0IGk9W107cmV0dXJuIFByb21pc2UucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGUubm9kZVR5cGU9PT1tKXJldHVybiBlO3ZhciB0PWUsbj1lLnBhcmVudE5vZGUsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtyZXR1cm4gbi5yZXBsYWNlQ2hpbGQobyx0KSxvLmFwcGVuZChlKSxpLnB1c2goe3BhcmVudDpuLGNoaWxkOnQsd3JhcHBlcjpvfSksb30pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uIGwodCxzLHIsdSl7bGV0IGU9cy5maWx0ZXI7aWYodD09PXB8fGYuaXNIVE1MU2NyaXB0RWxlbWVudCh0KXx8Zi5pc0hUTUxTdHlsZUVsZW1lbnQodCl8fGYuaXNIVE1MTGlua0VsZW1lbnQodCl8fG51bGwhPT1yJiZlJiYhZSh0KSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KS50aGVuKG4pLnRoZW4obykudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gYyhlLGEodCkpfSkudGhlbihpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBkKGUsdCl9KTtmdW5jdGlvbiBuKGUpe3JldHVybiBmLmlzSFRNTENhbnZhc0VsZW1lbnQoZSk/Zi5tYWtlSW1hZ2UoZS50b0RhdGFVUkwoKSk6ZS5jbG9uZU5vZGUoITEpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIHMuYWRqdXN0Q2xvbmVkTm9kZSYmcy5hZGp1c3RDbG9uZWROb2RlKHQsZSwhMSksUHJvbWlzZS5yZXNvbHZlKGUpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHMuYWRqdXN0Q2xvbmVkTm9kZSYmcy5hZGp1c3RDbG9uZWROb2RlKHQsZSwhMCksUHJvbWlzZS5yZXNvbHZlKGUpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGYuaXNFbGVtZW50SG9zdEZvck9wZW5TaGFkb3dSb290KGUpP2Uuc2hhZG93Um9vdDplfWZ1bmN0aW9uIGMobixlKXtsZXQgbz10KGUpLHI9UHJvbWlzZS5yZXNvbHZlKCk7aWYoMCE9PW8ubGVuZ3RoKXtsZXQgdD1oKGkoZSkpO2YuYXNBcnJheShvKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3I9ci50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGwoZSxzLHQsdSkudGhlbihmdW5jdGlvbihlKXtlJiZuLmFwcGVuZENoaWxkKGUpfSl9KX0pfXJldHVybiByLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbn0pO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGYuaXNTaGFkb3dSb290KGUpP2UuaG9zdDplfWZ1bmN0aW9uIHQodCl7aWYoZi5pc1NoYWRvd1Nsb3RFbGVtZW50KHQpKXtsZXQgZT10LmFzc2lnbmVkTm9kZXMoKTtpZihlJiYwPGUubGVuZ3RoKXJldHVybiBlfXJldHVybiB0LmNoaWxkTm9kZXN9fWZ1bmN0aW9uIGQodSxhKXtyZXR1cm4hZi5pc0VsZW1lbnQodSl8fGYuaXNTaGFkb3dTbG90RWxlbWVudChhKT9Qcm9taXNlLnJlc29sdmUodSk6UHJvbWlzZS5yZXNvbHZlKCkudGhlbihlKS50aGVuKHQpLnRoZW4obikudGhlbihvKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KTtmdW5jdGlvbiBlKCl7ZnVuY3Rpb24gbyhlLHQpe3QuZm9udD1lLmZvbnQsdC5mb250RmFtaWx5PWUuZm9udEZhbWlseSx0LmZvbnRGZWF0dXJlU2V0dGluZ3M9ZS5mb250RmVhdHVyZVNldHRpbmdzLHQuZm9udEtlcm5pbmc9ZS5mb250S2VybmluZyx0LmZvbnRTaXplPWUuZm9udFNpemUsdC5mb250U3RyZXRjaD1lLmZvbnRTdHJldGNoLHQuZm9udFN0eWxlPWUuZm9udFN0eWxlLHQuZm9udFZhcmlhbnQ9ZS5mb250VmFyaWFudCx0LmZvbnRWYXJpYW50Q2Fwcz1lLmZvbnRWYXJpYW50Q2Fwcyx0LmZvbnRWYXJpYW50RWFzdEFzaWFuPWUuZm9udFZhcmlhbnRFYXN0QXNpYW4sdC5mb250VmFyaWFudExpZ2F0dXJlcz1lLmZvbnRWYXJpYW50TGlnYXR1cmVzLHQuZm9udFZhcmlhbnROdW1lcmljPWUuZm9udFZhcmlhbnROdW1lcmljLHQuZm9udFZhcmlhdGlvblNldHRpbmdzPWUuZm9udFZhcmlhdGlvblNldHRpbmdzLHQuZm9udFdlaWdodD1lLmZvbnRXZWlnaHR9ZnVuY3Rpb24gZShlLHQpe2xldCBuPWgoZSk7bi5jc3NUZXh0Pyh0LnN0eWxlLmNzc1RleHQ9bi5jc3NUZXh0LG8obix0LnN0eWxlKSk6KHkocyxlLG4scix0KSxudWxsPT09ciYmKFtcImluc2V0LWJsb2NrXCIsXCJpbnNldC1ibG9jay1zdGFydFwiLFwiaW5zZXQtYmxvY2stZW5kXCJdLmZvckVhY2goZT0+dC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShlKSksW1wibGVmdFwiLFwicmlnaHRcIixcInRvcFwiLFwiYm90dG9tXCJdLmZvckVhY2goZT0+e3Quc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShlKSYmdC5zdHlsZS5zZXRQcm9wZXJ0eShlLFwiMHB4XCIpfSkpKX1lKGEsdSl9ZnVuY3Rpb24gdCgpe2xldCBzPWYudWlkKCk7ZnVuY3Rpb24gdChyKXtsZXQgaT1oKGEsciksbD1pLmdldFByb3BlcnR5VmFsdWUoXCJjb250ZW50XCIpO2lmKFwiXCIhPT1sJiZcIm5vbmVcIiE9PWwpe2xldCBlPXUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIsdD0odS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGUrXCIgXCIrcyksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpKTtmdW5jdGlvbiBuKCl7bGV0IGU9YC4ke3N9OmArcix0PShpLmNzc1RleHQ/bjpvKSgpO3JldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlK2B7JHt0fX1gKTtmdW5jdGlvbiBuKCl7cmV0dXJuYCR7aS5jc3NUZXh0fSBjb250ZW50OiAke2x9O2B9ZnVuY3Rpb24gbygpe2xldCBlPWYuYXNBcnJheShpKS5tYXAodCkuam9pbihcIjsgXCIpO3JldHVybiBlK1wiO1wiO2Z1bmN0aW9uIHQoZSl7bGV0IHQ9aS5nZXRQcm9wZXJ0eVZhbHVlKGUpLG49aS5nZXRQcm9wZXJ0eVByaW9yaXR5KGUpP1wiICFpbXBvcnRhbnRcIjpcIlwiO3JldHVybiBlK1wiOiBcIit0K259fX10LmFwcGVuZENoaWxkKG4oKSksdS5hcHBlbmRDaGlsZCh0KX19W1wiOmJlZm9yZVwiLFwiOmFmdGVyXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dChlKX0pfWZ1bmN0aW9uIG4oKXtmLmlzSFRNTFRleHRBcmVhRWxlbWVudChhKSYmKHUuaW5uZXJIVE1MPWEudmFsdWUpLGYuaXNIVE1MSW5wdXRFbGVtZW50KGEpJiZ1LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsYS52YWx1ZSl9ZnVuY3Rpb24gbygpe2YuaXNTVkdFbGVtZW50KHUpJiYodS5zZXRBdHRyaWJ1dGUoXCJ4bWxuc1wiLFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiksZi5pc1NWR1JlY3RFbGVtZW50KHUpKSYmW1wid2lkdGhcIixcImhlaWdodFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2xldCB0PXUuZ2V0QXR0cmlidXRlKGUpO3QmJnUuc3R5bGUuc2V0UHJvcGVydHkoZSx0KX0pfX19KGUscixudWxsLHQpfSkudGhlbihyLmRpc2FibGVFbWJlZEZvbnRzP1Byb21pc2UucmVzb2x2ZShlKTpjKS50aGVuKGcpLnRoZW4oZnVuY3Rpb24odCl7ci5iZ2NvbG9yJiYodC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ci5iZ2NvbG9yKTtyLndpZHRoJiYodC5zdHlsZS53aWR0aD1yLndpZHRoK1wicHhcIik7ci5oZWlnaHQmJih0LnN0eWxlLmhlaWdodD1yLmhlaWdodCtcInB4XCIpO3Iuc3R5bGUmJk9iamVjdC5rZXlzKHIuc3R5bGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5zdHlsZVtlXT1yLnN0eWxlW2VdfSk7bGV0IGU9bnVsbDtcImZ1bmN0aW9uXCI9PXR5cGVvZiByLm9uY2xvbmUmJihlPXIub25jbG9uZSh0KSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0pLnRoZW4oZnVuY3Rpb24oZSl7bGV0IG49ci53aWR0aHx8Zi53aWR0aChlKSxvPXIuaGVpZ2h0fHxmLmhlaWdodChlKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwieG1sbnNcIixcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiksKG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhlKX0pLnRoZW4oZi5lc2NhcGVYaHRtbCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD0oZi5pc0RpbWVuc2lvbk1pc3Npbmcobik/JyB3aWR0aD1cIjEwMCVcIic6YCB3aWR0aD1cIiR7bn1cImApKyhmLmlzRGltZW5zaW9uTWlzc2luZyhvKT8nIGhlaWdodD1cIjEwMCVcIic6YCBoZWlnaHQ9XCIke299XCJgKTtyZXR1cm5gPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIkeyhmLmlzRGltZW5zaW9uTWlzc2luZyhuKT9cIlwiOmAgd2lkdGg9XCIke259XCJgKSsoZi5pc0RpbWVuc2lvbk1pc3Npbmcobyk/XCJcIjpgIGhlaWdodD1cIiR7b31cImApfT48Zm9yZWlnbk9iamVjdCR7dH0+JHtlfTwvZm9yZWlnbk9iamVjdD48L3N2Zz5gfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm5cImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LFwiK2V9KX0pLnRoZW4oZnVuY3Rpb24oZSl7Zm9yKDswPGkubGVuZ3RoOyl7dmFyIHQ9aS5wb3AoKTt0LnBhcmVudC5yZXBsYWNlQ2hpbGQodC5jaGlsZCx0LndyYXBwZXIpfXJldHVybiBlfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZC5pbXBsLnVybENhY2hlPVtdLCgoKT0+e3AmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHApLHA9bnVsbCksdiYmY2xlYXJUaW1lb3V0KHYpLHY9c2V0VGltZW91dCgoKT0+e3Y9bnVsbCx3PXt9fSwyZTQpfSkoKSxlfSl9ZnVuY3Rpb24gaShyLGkpe3JldHVybiBhKHIsaT1pfHx7fSkudGhlbihmLm1ha2VJbWFnZSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1cIm51bWJlclwiIT10eXBlb2YgaS5zY2FsZT8xOmkuc2NhbGUsbj0oKGUsdCk9PntsZXQgbj1pLndpZHRofHxmLndpZHRoKGUpLG89aS5oZWlnaHR8fGYuaGVpZ2h0KGUpO3JldHVybiBmLmlzRGltZW5zaW9uTWlzc2luZyhuKSYmKG49Zi5pc0RpbWVuc2lvbk1pc3Npbmcobyk/MzAwOjIqbyksZi5pc0RpbWVuc2lvbk1pc3NpbmcobykmJihvPW4vMiksKGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSkud2lkdGg9bip0LGUuaGVpZ2h0PW8qdCxpLmJnY29sb3ImJigodD1lLmdldENvbnRleHQoXCIyZFwiKSkuZmlsbFN0eWxlPWkuYmdjb2xvcix0LmZpbGxSZWN0KDAsMCxlLndpZHRoLGUuaGVpZ2h0KSksZX0pKHIsdCksbz1uLmdldENvbnRleHQoXCIyZFwiKTtyZXR1cm4gby5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZD0hMSxvLmltYWdlU21vb3RoaW5nRW5hYmxlZD0hMSxlJiYoby5zY2FsZSh0LHQpLG8uZHJhd0ltYWdlKGUsMCwwKSksbn0pfWxldCBwPW51bGw7ZnVuY3Rpb24gYyhuKXtyZXR1cm4gZS5yZXNvbHZlQWxsKCkudGhlbihmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm5cIlwiIT09ZSYmKHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLG4uYXBwZW5kQ2hpbGQodCksdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSkpLG59KX1mdW5jdGlvbiBnKGUpe3JldHVybiBuLmlubGluZUFsbChlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX1mdW5jdGlvbiB5KGksbCxzLHUsZSl7bGV0IGE9ZC5pbXBsLm9wdGlvbnMuY29weURlZmF1bHRTdHlsZXM/KCh0LGUpPT57dmFyIG4sbz0oZT0+KFwicmVsYXhlZFwiIT09dC5zdHlsZUNhY2hpbmc/ZTplLmZpbHRlcigoZSx0LG4pPT4wPT09dHx8dD09PW4ubGVuZ3RoLTEpKS5qb2luKFwiPlwiKSkoZT0oZT0+e3ZhciB0PVtdO2Rve2lmKGUubm9kZVR5cGU9PT1tKXt2YXIgbj1lLnRhZ05hbWU7aWYodC5wdXNoKG4pLEUuaW5jbHVkZXMobikpYnJlYWt9fXdoaWxlKGU9ZS5wYXJlbnROb2RlKTtyZXR1cm4gdH0pKGUpKTt7aWYod1tvXSlyZXR1cm4gd1tvXTtlPSgoZSx0KT0+e2xldCBuPWUuYm9keTtkb3t2YXIgbz10LnBvcCgpLG89ZS5jcmVhdGVFbGVtZW50KG8pO24uYXBwZW5kQ2hpbGQobyksbj1vfXdoaWxlKDA8dC5sZW5ndGgpO3JldHVybiBuLnRleHRDb250ZW50PVwi4oCLXCIsbn0pKChuPSgoKT0+e2lmKHApcmV0dXJuIHAuY29udGVudFdpbmRvdzt0PWRvY3VtZW50LmNoYXJhY3RlclNldHx8XCJVVEYtOFwiLGU9KGU9ZG9jdW1lbnQuZG9jdHlwZSk/KGA8IURPQ1RZUEUgJHtzKGUubmFtZSl9ICR7cyhlLnB1YmxpY0lkKX0gYCtzKGUuc3lzdGVtSWQpKS50cmltKCkrXCI+XCI6XCJcIiwocD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpKS5pZD1cImRvbXRvaW1hZ2Utc2FuZGJveC1cIitmLnVpZCgpLHAuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHAuc3R5bGUucG9zaXRpb249XCJmaXhlZFwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocCk7dmFyIGUsdCxuPXAsbz1cImRvbXRvaW1hZ2Utc2FuZGJveFwiO3RyeXtyZXR1cm4gbi5jb250ZW50V2luZG93LmRvY3VtZW50LndyaXRlKGUrYDxodG1sPjxoZWFkPjxtZXRhIGNoYXJzZXQ9JyR7dH0nPjx0aXRsZT4ke299PC90aXRsZT48L2hlYWQ+PGJvZHk+PC9ib2R5PjwvaHRtbD5gKSxuLmNvbnRlbnRXaW5kb3d9Y2F0Y2goZSl7fXZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIpO3Iuc2V0QXR0cmlidXRlKFwiY2hhcnNldFwiLHQpO3RyeXt2YXIgaT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQobyksbD0oaS5oZWFkLmFwcGVuZENoaWxkKHIpLGUraS5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoXCJzcmNkb2NcIixsKSxuLmNvbnRlbnRXaW5kb3d9Y2F0Y2goZSl7fXJldHVybiBuLmNvbnRlbnREb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHIpLG4uY29udGVudERvY3VtZW50LnRpdGxlPW8sbi5jb250ZW50V2luZG93O2Z1bmN0aW9uIHMoZSl7dmFyIHQ7cmV0dXJuIGU/KCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlubmVyVGV4dD1lLHQuaW5uZXJIVE1MKTpcIlwifX0pKCkpLmRvY3VtZW50LGUpLG49KChlLHQpPT57bGV0IG49e30sbz1lLmdldENvbXB1dGVkU3R5bGUodCk7cmV0dXJuIGYuYXNBcnJheShvKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV09XCJ3aWR0aFwiPT09ZXx8XCJoZWlnaHRcIj09PWU/XCJhdXRvXCI6by5nZXRQcm9wZXJ0eVZhbHVlKGUpfSksbn0pKG4sZSk7dmFyIHI9ZTtkb3t2YXIgaT1yLnBhcmVudEVsZW1lbnQ7bnVsbCE9PWkmJmkucmVtb3ZlQ2hpbGQocikscj1pfXdoaWxlKHImJlwiQk9EWVwiIT09ci50YWdOYW1lKTtyZXR1cm4gd1tvXT1ufX0pKGksbCk6e30sYz1lLnN0eWxlO2YuYXNBcnJheShzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxyO2kuZmlsdGVyU3R5bGVzJiYhaS5maWx0ZXJTdHlsZXMobCxlKXx8KG49cy5nZXRQcm9wZXJ0eVZhbHVlKGUpLG89YVtlXSx0PXU/dS5nZXRQcm9wZXJ0eVZhbHVlKGUpOnZvaWQgMCxjLmdldFByb3BlcnR5VmFsdWUoZSkpfHwobiE9PW98fHUmJm4hPT10KSYmKG89cy5nZXRQcm9wZXJ0eVByaW9yaXR5KGUpLHQ9YyxuPW4sbz1vLHI9MDw9W1wiYmFja2dyb3VuZC1jbGlwXCJdLmluZGV4T2YoZT1lKSxvPyh0LnNldFByb3BlcnR5KGUsbixvKSxyJiZ0LnNldFByb3BlcnR5KFwiLXdlYmtpdC1cIitlLG4sbykpOih0LnNldFByb3BlcnR5KGUsbiksciYmdC5zZXRQcm9wZXJ0eShcIi13ZWJraXQtXCIrZSxuKSkpfSl9bGV0IHY9bnVsbCx3PXt9LEU9W1wiQUREUkVTU1wiLFwiQVJUSUNMRVwiLFwiQVNJREVcIixcIkJMT0NLUVVPVEVcIixcIkRFVEFJTFNcIixcIkRJQUxPR1wiLFwiRERcIixcIkRJVlwiLFwiRExcIixcIkRUXCIsXCJGSUVMRFNFVFwiLFwiRklHQ0FQVElPTlwiLFwiRklHVVJFXCIsXCJGT09URVJcIixcIkZPUk1cIixcIkgxXCIsXCJIMlwiLFwiSDNcIixcIkg0XCIsXCJINVwiLFwiSDZcIixcIkhFQURFUlwiLFwiSEdST1VQXCIsXCJIUlwiLFwiTElcIixcIk1BSU5cIixcIk5BVlwiLFwiT0xcIixcIlBcIixcIlBSRVwiLFwiU0VDVElPTlwiLFwiU1ZHXCIsXCJUQUJMRVwiLFwiVUxcIixcIm1hdGhcIixcInN2Z1wiLFwiQk9EWVwiLFwiSEVBRFwiLFwiSFRNTFwiXX0pKHRoaXMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tLXRvLWltYWdlLW1vcmUubWluLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/dom-to-image-more/dist/dom-to-image-more.min.js\n\n}");

/***/ }),

/***/ "./node_modules/dompurify/dist/purify.es.mjs":
/*!***************************************************!*\
  !*** ./node_modules/dompurify/dist/purify.es.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ purify)\n/* harmony export */ });\n/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.4';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\n\n//# sourceMappingURL=purify.es.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZG9tcHVyaWZ5L2Rpc3QvcHVyaWZ5LmVzLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvZG9tcHVyaWZ5L2Rpc3QvcHVyaWZ5LmVzLm1qcz9kN2NlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAbGljZW5zZSBET01QdXJpZnkgMy4yLjQgfCAoYykgQ3VyZTUzIGFuZCBvdGhlciBjb250cmlidXRvcnMgfCBSZWxlYXNlZCB1bmRlciB0aGUgQXBhY2hlIGxpY2Vuc2UgMi4wIGFuZCBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlIDIuMCB8IGdpdGh1Yi5jb20vY3VyZTUzL0RPTVB1cmlmeS9ibG9iLzMuMi40L0xJQ0VOU0UgKi9cblxuY29uc3Qge1xuICBlbnRyaWVzLFxuICBzZXRQcm90b3R5cGVPZixcbiAgaXNGcm96ZW4sXG4gIGdldFByb3RvdHlwZU9mLFxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jcbn0gPSBPYmplY3Q7XG5sZXQge1xuICBmcmVlemUsXG4gIHNlYWwsXG4gIGNyZWF0ZVxufSA9IE9iamVjdDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvbm8tbXV0YWJsZS1leHBvcnRzXG5sZXQge1xuICBhcHBseSxcbiAgY29uc3RydWN0XG59ID0gdHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIFJlZmxlY3Q7XG5pZiAoIWZyZWV6ZSkge1xuICBmcmVlemUgPSBmdW5jdGlvbiBmcmVlemUoeCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuaWYgKCFzZWFsKSB7XG4gIHNlYWwgPSBmdW5jdGlvbiBzZWFsKHgpIHtcbiAgICByZXR1cm4geDtcbiAgfTtcbn1cbmlmICghYXBwbHkpIHtcbiAgYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmdW4sIHRoaXNWYWx1ZSwgYXJncykge1xuICAgIHJldHVybiBmdW4uYXBwbHkodGhpc1ZhbHVlLCBhcmdzKTtcbiAgfTtcbn1cbmlmICghY29uc3RydWN0KSB7XG4gIGNvbnN0cnVjdCA9IGZ1bmN0aW9uIGNvbnN0cnVjdChGdW5jLCBhcmdzKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jKC4uLmFyZ3MpO1xuICB9O1xufVxuY29uc3QgYXJyYXlGb3JFYWNoID0gdW5hcHBseShBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7XG5jb25zdCBhcnJheUxhc3RJbmRleE9mID0gdW5hcHBseShBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YpO1xuY29uc3QgYXJyYXlQb3AgPSB1bmFwcGx5KEFycmF5LnByb3RvdHlwZS5wb3ApO1xuY29uc3QgYXJyYXlQdXNoID0gdW5hcHBseShBcnJheS5wcm90b3R5cGUucHVzaCk7XG5jb25zdCBhcnJheVNwbGljZSA9IHVuYXBwbHkoQXJyYXkucHJvdG90eXBlLnNwbGljZSk7XG5jb25zdCBzdHJpbmdUb0xvd2VyQ2FzZSA9IHVuYXBwbHkoU3RyaW5nLnByb3RvdHlwZS50b0xvd2VyQ2FzZSk7XG5jb25zdCBzdHJpbmdUb1N0cmluZyA9IHVuYXBwbHkoU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZyk7XG5jb25zdCBzdHJpbmdNYXRjaCA9IHVuYXBwbHkoU3RyaW5nLnByb3RvdHlwZS5tYXRjaCk7XG5jb25zdCBzdHJpbmdSZXBsYWNlID0gdW5hcHBseShTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpO1xuY29uc3Qgc3RyaW5nSW5kZXhPZiA9IHVuYXBwbHkoU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mKTtcbmNvbnN0IHN0cmluZ1RyaW0gPSB1bmFwcGx5KFN0cmluZy5wcm90b3R5cGUudHJpbSk7XG5jb25zdCBvYmplY3RIYXNPd25Qcm9wZXJ0eSA9IHVuYXBwbHkoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5jb25zdCByZWdFeHBUZXN0ID0gdW5hcHBseShSZWdFeHAucHJvdG90eXBlLnRlc3QpO1xuY29uc3QgdHlwZUVycm9yQ3JlYXRlID0gdW5jb25zdHJ1Y3QoVHlwZUVycm9yKTtcbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmdW5jdGlvbiB0aGF0IGNhbGxzIHRoZSBnaXZlbiBmdW5jdGlvbiB3aXRoIGEgc3BlY2lmaWVkIHRoaXNBcmcgYW5kIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gZnVuYyAtIFRoZSBmdW5jdGlvbiB0byBiZSB3cmFwcGVkIGFuZCBjYWxsZWQuXG4gKiBAcmV0dXJucyBBIG5ldyBmdW5jdGlvbiB0aGF0IGNhbGxzIHRoZSBnaXZlbiBmdW5jdGlvbiB3aXRoIGEgc3BlY2lmaWVkIHRoaXNBcmcgYW5kIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gdW5hcHBseShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhpc0FyZykge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncyk7XG4gIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZnVuY3Rpb24gdGhhdCBjb25zdHJ1Y3RzIGFuIGluc3RhbmNlIG9mIHRoZSBnaXZlbiBjb25zdHJ1Y3RvciBmdW5jdGlvbiB3aXRoIHRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIGZ1bmMgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gdG8gYmUgd3JhcHBlZCBhbmQgY2FsbGVkLlxuICogQHJldHVybnMgQSBuZXcgZnVuY3Rpb24gdGhhdCBjb25zdHJ1Y3RzIGFuIGluc3RhbmNlIG9mIHRoZSBnaXZlbiBjb25zdHJ1Y3RvciBmdW5jdGlvbiB3aXRoIHRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gKi9cbmZ1bmN0aW9uIHVuY29uc3RydWN0KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnN0cnVjdChmdW5jLCBhcmdzKTtcbiAgfTtcbn1cbi8qKlxuICogQWRkIHByb3BlcnRpZXMgdG8gYSBsb29rdXAgdGFibGVcbiAqXG4gKiBAcGFyYW0gc2V0IC0gVGhlIHNldCB0byB3aGljaCBlbGVtZW50cyB3aWxsIGJlIGFkZGVkLlxuICogQHBhcmFtIGFycmF5IC0gVGhlIGFycmF5IGNvbnRhaW5pbmcgZWxlbWVudHMgdG8gYmUgYWRkZWQgdG8gdGhlIHNldC5cbiAqIEBwYXJhbSB0cmFuc2Zvcm1DYXNlRnVuYyAtIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHRvIHRyYW5zZm9ybSB0aGUgY2FzZSBvZiBlYWNoIGVsZW1lbnQgYmVmb3JlIGFkZGluZyB0byB0aGUgc2V0LlxuICogQHJldHVybnMgVGhlIG1vZGlmaWVkIHNldCB3aXRoIGFkZGVkIGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiBhZGRUb1NldChzZXQsIGFycmF5KSB7XG4gIGxldCB0cmFuc2Zvcm1DYXNlRnVuYyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogc3RyaW5nVG9Mb3dlckNhc2U7XG4gIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgIC8vIE1ha2UgJ2luJyBhbmQgdHJ1dGh5IGNoZWNrcyBsaWtlIEJvb2xlYW4oc2V0LmNvbnN0cnVjdG9yKVxuICAgIC8vIGluZGVwZW5kZW50IG9mIGFueSBwcm9wZXJ0aWVzIGRlZmluZWQgb24gT2JqZWN0LnByb3RvdHlwZS5cbiAgICAvLyBQcmV2ZW50IHByb3RvdHlwZSBzZXR0ZXJzIGZyb20gaW50ZXJjZXB0aW5nIHNldCBhcyBhIHRoaXMgdmFsdWUuXG4gICAgc2V0UHJvdG90eXBlT2Yoc2V0LCBudWxsKTtcbiAgfVxuICBsZXQgbCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGwtLSkge1xuICAgIGxldCBlbGVtZW50ID0gYXJyYXlbbF07XG4gICAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgbGNFbGVtZW50ID0gdHJhbnNmb3JtQ2FzZUZ1bmMoZWxlbWVudCk7XG4gICAgICBpZiAobGNFbGVtZW50ICE9PSBlbGVtZW50KSB7XG4gICAgICAgIC8vIENvbmZpZyBwcmVzZXRzIChlLmcuIHRhZ3MuanMsIGF0dHJzLmpzKSBhcmUgaW1tdXRhYmxlLlxuICAgICAgICBpZiAoIWlzRnJvemVuKGFycmF5KSkge1xuICAgICAgICAgIGFycmF5W2xdID0gbGNFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBsY0VsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHNldFtlbGVtZW50XSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHNldDtcbn1cbi8qKlxuICogQ2xlYW4gdXAgYW4gYXJyYXkgdG8gaGFyZGVuIGFnYWluc3QgQ1NQUFxuICpcbiAqIEBwYXJhbSBhcnJheSAtIFRoZSBhcnJheSB0byBiZSBjbGVhbmVkLlxuICogQHJldHVybnMgVGhlIGNsZWFuZWQgdmVyc2lvbiBvZiB0aGUgYXJyYXlcbiAqL1xuZnVuY3Rpb24gY2xlYW5BcnJheShhcnJheSkge1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgaXNQcm9wZXJ0eUV4aXN0ID0gb2JqZWN0SGFzT3duUHJvcGVydHkoYXJyYXksIGluZGV4KTtcbiAgICBpZiAoIWlzUHJvcGVydHlFeGlzdCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBTaGFsbG93IGNsb25lIGFuIG9iamVjdFxuICpcbiAqIEBwYXJhbSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIGJlIGNsb25lZC5cbiAqIEByZXR1cm5zIEEgbmV3IG9iamVjdCB0aGF0IGNvcGllcyB0aGUgb3JpZ2luYWwuXG4gKi9cbmZ1bmN0aW9uIGNsb25lKG9iamVjdCkge1xuICBjb25zdCBuZXdPYmplY3QgPSBjcmVhdGUobnVsbCk7XG4gIGZvciAoY29uc3QgW3Byb3BlcnR5LCB2YWx1ZV0gb2YgZW50cmllcyhvYmplY3QpKSB7XG4gICAgY29uc3QgaXNQcm9wZXJ0eUV4aXN0ID0gb2JqZWN0SGFzT3duUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSk7XG4gICAgaWYgKGlzUHJvcGVydHlFeGlzdCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIG5ld09iamVjdFtwcm9wZXJ0eV0gPSBjbGVhbkFycmF5KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgIG5ld09iamVjdFtwcm9wZXJ0eV0gPSBjbG9uZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdPYmplY3RbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdPYmplY3Q7XG59XG4vKipcbiAqIFRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkgY2hlY2tzIGlmIHRoZSBwcm9wIGlzIGZ1bmN0aW9uIG9yIGdldHRlciBhbmQgYmVoYXZlcyBhY2NvcmRpbmdseS5cbiAqXG4gKiBAcGFyYW0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byBsb29rIHVwIHRoZSBnZXR0ZXIgZnVuY3Rpb24gaW4gaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAqIEBwYXJhbSBwcm9wIC0gVGhlIHByb3BlcnR5IG5hbWUgZm9yIHdoaWNoIHRvIGZpbmQgdGhlIGdldHRlciBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIFRoZSBnZXR0ZXIgZnVuY3Rpb24gZm91bmQgaW4gdGhlIHByb3RvdHlwZSBjaGFpbiBvciBhIGZhbGxiYWNrIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBsb29rdXBHZXR0ZXIob2JqZWN0LCBwcm9wKSB7XG4gIHdoaWxlIChvYmplY3QgIT09IG51bGwpIHtcbiAgICBjb25zdCBkZXNjID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcCk7XG4gICAgaWYgKGRlc2MpIHtcbiAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICByZXR1cm4gdW5hcHBseShkZXNjLmdldCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGRlc2MudmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHVuYXBwbHkoZGVzYy52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIG9iamVjdCA9IGdldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gIH1cbiAgZnVuY3Rpb24gZmFsbGJhY2tWYWx1ZSgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZmFsbGJhY2tWYWx1ZTtcbn1cblxuY29uc3QgaHRtbCQxID0gZnJlZXplKFsnYScsICdhYmJyJywgJ2Fjcm9ueW0nLCAnYWRkcmVzcycsICdhcmVhJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnYXVkaW8nLCAnYicsICdiZGknLCAnYmRvJywgJ2JpZycsICdibGluaycsICdibG9ja3F1b3RlJywgJ2JvZHknLCAnYnInLCAnYnV0dG9uJywgJ2NhbnZhcycsICdjYXB0aW9uJywgJ2NlbnRlcicsICdjaXRlJywgJ2NvZGUnLCAnY29sJywgJ2NvbGdyb3VwJywgJ2NvbnRlbnQnLCAnZGF0YScsICdkYXRhbGlzdCcsICdkZCcsICdkZWNvcmF0b3InLCAnZGVsJywgJ2RldGFpbHMnLCAnZGZuJywgJ2RpYWxvZycsICdkaXInLCAnZGl2JywgJ2RsJywgJ2R0JywgJ2VsZW1lbnQnLCAnZW0nLCAnZmllbGRzZXQnLCAnZmlnY2FwdGlvbicsICdmaWd1cmUnLCAnZm9udCcsICdmb290ZXInLCAnZm9ybScsICdoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdoZWFkJywgJ2hlYWRlcicsICdoZ3JvdXAnLCAnaHInLCAnaHRtbCcsICdpJywgJ2ltZycsICdpbnB1dCcsICdpbnMnLCAna2JkJywgJ2xhYmVsJywgJ2xlZ2VuZCcsICdsaScsICdtYWluJywgJ21hcCcsICdtYXJrJywgJ21hcnF1ZWUnLCAnbWVudScsICdtZW51aXRlbScsICdtZXRlcicsICduYXYnLCAnbm9icicsICdvbCcsICdvcHRncm91cCcsICdvcHRpb24nLCAnb3V0cHV0JywgJ3AnLCAncGljdHVyZScsICdwcmUnLCAncHJvZ3Jlc3MnLCAncScsICdycCcsICdydCcsICdydWJ5JywgJ3MnLCAnc2FtcCcsICdzZWN0aW9uJywgJ3NlbGVjdCcsICdzaGFkb3cnLCAnc21hbGwnLCAnc291cmNlJywgJ3NwYWNlcicsICdzcGFuJywgJ3N0cmlrZScsICdzdHJvbmcnLCAnc3R5bGUnLCAnc3ViJywgJ3N1bW1hcnknLCAnc3VwJywgJ3RhYmxlJywgJ3Rib2R5JywgJ3RkJywgJ3RlbXBsYXRlJywgJ3RleHRhcmVhJywgJ3Rmb290JywgJ3RoJywgJ3RoZWFkJywgJ3RpbWUnLCAndHInLCAndHJhY2snLCAndHQnLCAndScsICd1bCcsICd2YXInLCAndmlkZW8nLCAnd2JyJ10pO1xuY29uc3Qgc3ZnJDEgPSBmcmVlemUoWydzdmcnLCAnYScsICdhbHRnbHlwaCcsICdhbHRnbHlwaGRlZicsICdhbHRnbHlwaGl0ZW0nLCAnYW5pbWF0ZWNvbG9yJywgJ2FuaW1hdGVtb3Rpb24nLCAnYW5pbWF0ZXRyYW5zZm9ybScsICdjaXJjbGUnLCAnY2xpcHBhdGgnLCAnZGVmcycsICdkZXNjJywgJ2VsbGlwc2UnLCAnZmlsdGVyJywgJ2ZvbnQnLCAnZycsICdnbHlwaCcsICdnbHlwaHJlZicsICdoa2VybicsICdpbWFnZScsICdsaW5lJywgJ2xpbmVhcmdyYWRpZW50JywgJ21hcmtlcicsICdtYXNrJywgJ21ldGFkYXRhJywgJ21wYXRoJywgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbGdyYWRpZW50JywgJ3JlY3QnLCAnc3RvcCcsICdzdHlsZScsICdzd2l0Y2gnLCAnc3ltYm9sJywgJ3RleHQnLCAndGV4dHBhdGgnLCAndGl0bGUnLCAndHJlZicsICd0c3BhbicsICd2aWV3JywgJ3ZrZXJuJ10pO1xuY29uc3Qgc3ZnRmlsdGVycyA9IGZyZWV6ZShbJ2ZlQmxlbmQnLCAnZmVDb2xvck1hdHJpeCcsICdmZUNvbXBvbmVudFRyYW5zZmVyJywgJ2ZlQ29tcG9zaXRlJywgJ2ZlQ29udm9sdmVNYXRyaXgnLCAnZmVEaWZmdXNlTGlnaHRpbmcnLCAnZmVEaXNwbGFjZW1lbnRNYXAnLCAnZmVEaXN0YW50TGlnaHQnLCAnZmVEcm9wU2hhZG93JywgJ2ZlRmxvb2QnLCAnZmVGdW5jQScsICdmZUZ1bmNCJywgJ2ZlRnVuY0cnLCAnZmVGdW5jUicsICdmZUdhdXNzaWFuQmx1cicsICdmZUltYWdlJywgJ2ZlTWVyZ2UnLCAnZmVNZXJnZU5vZGUnLCAnZmVNb3JwaG9sb2d5JywgJ2ZlT2Zmc2V0JywgJ2ZlUG9pbnRMaWdodCcsICdmZVNwZWN1bGFyTGlnaHRpbmcnLCAnZmVTcG90TGlnaHQnLCAnZmVUaWxlJywgJ2ZlVHVyYnVsZW5jZSddKTtcbi8vIExpc3Qgb2YgU1ZHIGVsZW1lbnRzIHRoYXQgYXJlIGRpc2FsbG93ZWQgYnkgZGVmYXVsdC5cbi8vIFdlIHN0aWxsIG5lZWQgdG8ga25vdyB0aGVtIHNvIHRoYXQgd2UgY2FuIGRvIG5hbWVzcGFjZVxuLy8gY2hlY2tzIHByb3Blcmx5IGluIGNhc2Ugb25lIHdhbnRzIHRvIGFkZCB0aGVtIHRvXG4vLyBhbGxvdy1saXN0LlxuY29uc3Qgc3ZnRGlzYWxsb3dlZCA9IGZyZWV6ZShbJ2FuaW1hdGUnLCAnY29sb3ItcHJvZmlsZScsICdjdXJzb3InLCAnZGlzY2FyZCcsICdmb250LWZhY2UnLCAnZm9udC1mYWNlLWZvcm1hdCcsICdmb250LWZhY2UtbmFtZScsICdmb250LWZhY2Utc3JjJywgJ2ZvbnQtZmFjZS11cmknLCAnZm9yZWlnbm9iamVjdCcsICdoYXRjaCcsICdoYXRjaHBhdGgnLCAnbWVzaCcsICdtZXNoZ3JhZGllbnQnLCAnbWVzaHBhdGNoJywgJ21lc2hyb3cnLCAnbWlzc2luZy1nbHlwaCcsICdzY3JpcHQnLCAnc2V0JywgJ3NvbGlkY29sb3InLCAndW5rbm93bicsICd1c2UnXSk7XG5jb25zdCBtYXRoTWwkMSA9IGZyZWV6ZShbJ21hdGgnLCAnbWVuY2xvc2UnLCAnbWVycm9yJywgJ21mZW5jZWQnLCAnbWZyYWMnLCAnbWdseXBoJywgJ21pJywgJ21sYWJlbGVkdHInLCAnbW11bHRpc2NyaXB0cycsICdtbicsICdtbycsICdtb3ZlcicsICdtcGFkZGVkJywgJ21waGFudG9tJywgJ21yb290JywgJ21yb3cnLCAnbXMnLCAnbXNwYWNlJywgJ21zcXJ0JywgJ21zdHlsZScsICdtc3ViJywgJ21zdXAnLCAnbXN1YnN1cCcsICdtdGFibGUnLCAnbXRkJywgJ210ZXh0JywgJ210cicsICdtdW5kZXInLCAnbXVuZGVyb3ZlcicsICdtcHJlc2NyaXB0cyddKTtcbi8vIFNpbWlsYXJseSB0byBTVkcsIHdlIHdhbnQgdG8ga25vdyBhbGwgTWF0aE1MIGVsZW1lbnRzLFxuLy8gZXZlbiB0aG9zZSB0aGF0IHdlIGRpc2FsbG93IGJ5IGRlZmF1bHQuXG5jb25zdCBtYXRoTWxEaXNhbGxvd2VkID0gZnJlZXplKFsnbWFjdGlvbicsICdtYWxpZ25ncm91cCcsICdtYWxpZ25tYXJrJywgJ21sb25nZGl2JywgJ21zY2FycmllcycsICdtc2NhcnJ5JywgJ21zZ3JvdXAnLCAnbXN0YWNrJywgJ21zbGluZScsICdtc3JvdycsICdzZW1hbnRpY3MnLCAnYW5ub3RhdGlvbicsICdhbm5vdGF0aW9uLXhtbCcsICdtcHJlc2NyaXB0cycsICdub25lJ10pO1xuY29uc3QgdGV4dCA9IGZyZWV6ZShbJyN0ZXh0J10pO1xuXG5jb25zdCBodG1sID0gZnJlZXplKFsnYWNjZXB0JywgJ2FjdGlvbicsICdhbGlnbicsICdhbHQnLCAnYXV0b2NhcGl0YWxpemUnLCAnYXV0b2NvbXBsZXRlJywgJ2F1dG9waWN0dXJlaW5waWN0dXJlJywgJ2F1dG9wbGF5JywgJ2JhY2tncm91bmQnLCAnYmdjb2xvcicsICdib3JkZXInLCAnY2FwdHVyZScsICdjZWxscGFkZGluZycsICdjZWxsc3BhY2luZycsICdjaGVja2VkJywgJ2NpdGUnLCAnY2xhc3MnLCAnY2xlYXInLCAnY29sb3InLCAnY29scycsICdjb2xzcGFuJywgJ2NvbnRyb2xzJywgJ2NvbnRyb2xzbGlzdCcsICdjb29yZHMnLCAnY3Jvc3NvcmlnaW4nLCAnZGF0ZXRpbWUnLCAnZGVjb2RpbmcnLCAnZGVmYXVsdCcsICdkaXInLCAnZGlzYWJsZWQnLCAnZGlzYWJsZXBpY3R1cmVpbnBpY3R1cmUnLCAnZGlzYWJsZXJlbW90ZXBsYXliYWNrJywgJ2Rvd25sb2FkJywgJ2RyYWdnYWJsZScsICdlbmN0eXBlJywgJ2VudGVya2V5aGludCcsICdmYWNlJywgJ2ZvcicsICdoZWFkZXJzJywgJ2hlaWdodCcsICdoaWRkZW4nLCAnaGlnaCcsICdocmVmJywgJ2hyZWZsYW5nJywgJ2lkJywgJ2lucHV0bW9kZScsICdpbnRlZ3JpdHknLCAnaXNtYXAnLCAna2luZCcsICdsYWJlbCcsICdsYW5nJywgJ2xpc3QnLCAnbG9hZGluZycsICdsb29wJywgJ2xvdycsICdtYXgnLCAnbWF4bGVuZ3RoJywgJ21lZGlhJywgJ21ldGhvZCcsICdtaW4nLCAnbWlubGVuZ3RoJywgJ211bHRpcGxlJywgJ211dGVkJywgJ25hbWUnLCAnbm9uY2UnLCAnbm9zaGFkZScsICdub3ZhbGlkYXRlJywgJ25vd3JhcCcsICdvcGVuJywgJ29wdGltdW0nLCAncGF0dGVybicsICdwbGFjZWhvbGRlcicsICdwbGF5c2lubGluZScsICdwb3BvdmVyJywgJ3BvcG92ZXJ0YXJnZXQnLCAncG9wb3ZlcnRhcmdldGFjdGlvbicsICdwb3N0ZXInLCAncHJlbG9hZCcsICdwdWJkYXRlJywgJ3JhZGlvZ3JvdXAnLCAncmVhZG9ubHknLCAncmVsJywgJ3JlcXVpcmVkJywgJ3JldicsICdyZXZlcnNlZCcsICdyb2xlJywgJ3Jvd3MnLCAncm93c3BhbicsICdzcGVsbGNoZWNrJywgJ3Njb3BlJywgJ3NlbGVjdGVkJywgJ3NoYXBlJywgJ3NpemUnLCAnc2l6ZXMnLCAnc3BhbicsICdzcmNsYW5nJywgJ3N0YXJ0JywgJ3NyYycsICdzcmNzZXQnLCAnc3RlcCcsICdzdHlsZScsICdzdW1tYXJ5JywgJ3RhYmluZGV4JywgJ3RpdGxlJywgJ3RyYW5zbGF0ZScsICd0eXBlJywgJ3VzZW1hcCcsICd2YWxpZ24nLCAndmFsdWUnLCAnd2lkdGgnLCAnd3JhcCcsICd4bWxucycsICdzbG90J10pO1xuY29uc3Qgc3ZnID0gZnJlZXplKFsnYWNjZW50LWhlaWdodCcsICdhY2N1bXVsYXRlJywgJ2FkZGl0aXZlJywgJ2FsaWdubWVudC1iYXNlbGluZScsICdhbXBsaXR1ZGUnLCAnYXNjZW50JywgJ2F0dHJpYnV0ZW5hbWUnLCAnYXR0cmlidXRldHlwZScsICdhemltdXRoJywgJ2Jhc2VmcmVxdWVuY3knLCAnYmFzZWxpbmUtc2hpZnQnLCAnYmVnaW4nLCAnYmlhcycsICdieScsICdjbGFzcycsICdjbGlwJywgJ2NsaXBwYXRodW5pdHMnLCAnY2xpcC1wYXRoJywgJ2NsaXAtcnVsZScsICdjb2xvcicsICdjb2xvci1pbnRlcnBvbGF0aW9uJywgJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycycsICdjb2xvci1wcm9maWxlJywgJ2NvbG9yLXJlbmRlcmluZycsICdjeCcsICdjeScsICdkJywgJ2R4JywgJ2R5JywgJ2RpZmZ1c2Vjb25zdGFudCcsICdkaXJlY3Rpb24nLCAnZGlzcGxheScsICdkaXZpc29yJywgJ2R1cicsICdlZGdlbW9kZScsICdlbGV2YXRpb24nLCAnZW5kJywgJ2V4cG9uZW50JywgJ2ZpbGwnLCAnZmlsbC1vcGFjaXR5JywgJ2ZpbGwtcnVsZScsICdmaWx0ZXInLCAnZmlsdGVydW5pdHMnLCAnZmxvb2QtY29sb3InLCAnZmxvb2Qtb3BhY2l0eScsICdmb250LWZhbWlseScsICdmb250LXNpemUnLCAnZm9udC1zaXplLWFkanVzdCcsICdmb250LXN0cmV0Y2gnLCAnZm9udC1zdHlsZScsICdmb250LXZhcmlhbnQnLCAnZm9udC13ZWlnaHQnLCAnZngnLCAnZnknLCAnZzEnLCAnZzInLCAnZ2x5cGgtbmFtZScsICdnbHlwaHJlZicsICdncmFkaWVudHVuaXRzJywgJ2dyYWRpZW50dHJhbnNmb3JtJywgJ2hlaWdodCcsICdocmVmJywgJ2lkJywgJ2ltYWdlLXJlbmRlcmluZycsICdpbicsICdpbjInLCAnaW50ZXJjZXB0JywgJ2snLCAnazEnLCAnazInLCAnazMnLCAnazQnLCAna2VybmluZycsICdrZXlwb2ludHMnLCAna2V5c3BsaW5lcycsICdrZXl0aW1lcycsICdsYW5nJywgJ2xlbmd0aGFkanVzdCcsICdsZXR0ZXItc3BhY2luZycsICdrZXJuZWxtYXRyaXgnLCAna2VybmVsdW5pdGxlbmd0aCcsICdsaWdodGluZy1jb2xvcicsICdsb2NhbCcsICdtYXJrZXItZW5kJywgJ21hcmtlci1taWQnLCAnbWFya2VyLXN0YXJ0JywgJ21hcmtlcmhlaWdodCcsICdtYXJrZXJ1bml0cycsICdtYXJrZXJ3aWR0aCcsICdtYXNrY29udGVudHVuaXRzJywgJ21hc2t1bml0cycsICdtYXgnLCAnbWFzaycsICdtZWRpYScsICdtZXRob2QnLCAnbW9kZScsICdtaW4nLCAnbmFtZScsICdudW1vY3RhdmVzJywgJ29mZnNldCcsICdvcGVyYXRvcicsICdvcGFjaXR5JywgJ29yZGVyJywgJ29yaWVudCcsICdvcmllbnRhdGlvbicsICdvcmlnaW4nLCAnb3ZlcmZsb3cnLCAncGFpbnQtb3JkZXInLCAncGF0aCcsICdwYXRobGVuZ3RoJywgJ3BhdHRlcm5jb250ZW50dW5pdHMnLCAncGF0dGVybnRyYW5zZm9ybScsICdwYXR0ZXJudW5pdHMnLCAncG9pbnRzJywgJ3ByZXNlcnZlYWxwaGEnLCAncHJlc2VydmVhc3BlY3RyYXRpbycsICdwcmltaXRpdmV1bml0cycsICdyJywgJ3J4JywgJ3J5JywgJ3JhZGl1cycsICdyZWZ4JywgJ3JlZnknLCAncmVwZWF0Y291bnQnLCAncmVwZWF0ZHVyJywgJ3Jlc3RhcnQnLCAncmVzdWx0JywgJ3JvdGF0ZScsICdzY2FsZScsICdzZWVkJywgJ3NoYXBlLXJlbmRlcmluZycsICdzbG9wZScsICdzcGVjdWxhcmNvbnN0YW50JywgJ3NwZWN1bGFyZXhwb25lbnQnLCAnc3ByZWFkbWV0aG9kJywgJ3N0YXJ0b2Zmc2V0JywgJ3N0ZGRldmlhdGlvbicsICdzdGl0Y2h0aWxlcycsICdzdG9wLWNvbG9yJywgJ3N0b3Atb3BhY2l0eScsICdzdHJva2UtZGFzaGFycmF5JywgJ3N0cm9rZS1kYXNob2Zmc2V0JywgJ3N0cm9rZS1saW5lY2FwJywgJ3N0cm9rZS1saW5lam9pbicsICdzdHJva2UtbWl0ZXJsaW1pdCcsICdzdHJva2Utb3BhY2l0eScsICdzdHJva2UnLCAnc3Ryb2tlLXdpZHRoJywgJ3N0eWxlJywgJ3N1cmZhY2VzY2FsZScsICdzeXN0ZW1sYW5ndWFnZScsICd0YWJpbmRleCcsICd0YWJsZXZhbHVlcycsICd0YXJnZXR4JywgJ3RhcmdldHknLCAndHJhbnNmb3JtJywgJ3RyYW5zZm9ybS1vcmlnaW4nLCAndGV4dC1hbmNob3InLCAndGV4dC1kZWNvcmF0aW9uJywgJ3RleHQtcmVuZGVyaW5nJywgJ3RleHRsZW5ndGgnLCAndHlwZScsICd1MScsICd1MicsICd1bmljb2RlJywgJ3ZhbHVlcycsICd2aWV3Ym94JywgJ3Zpc2liaWxpdHknLCAndmVyc2lvbicsICd2ZXJ0LWFkdi15JywgJ3ZlcnQtb3JpZ2luLXgnLCAndmVydC1vcmlnaW4teScsICd3aWR0aCcsICd3b3JkLXNwYWNpbmcnLCAnd3JhcCcsICd3cml0aW5nLW1vZGUnLCAneGNoYW5uZWxzZWxlY3RvcicsICd5Y2hhbm5lbHNlbGVjdG9yJywgJ3gnLCAneDEnLCAneDInLCAneG1sbnMnLCAneScsICd5MScsICd5MicsICd6JywgJ3pvb21hbmRwYW4nXSk7XG5jb25zdCBtYXRoTWwgPSBmcmVlemUoWydhY2NlbnQnLCAnYWNjZW50dW5kZXInLCAnYWxpZ24nLCAnYmV2ZWxsZWQnLCAnY2xvc2UnLCAnY29sdW1uc2FsaWduJywgJ2NvbHVtbmxpbmVzJywgJ2NvbHVtbnNwYW4nLCAnZGVub21hbGlnbicsICdkZXB0aCcsICdkaXInLCAnZGlzcGxheScsICdkaXNwbGF5c3R5bGUnLCAnZW5jb2RpbmcnLCAnZmVuY2UnLCAnZnJhbWUnLCAnaGVpZ2h0JywgJ2hyZWYnLCAnaWQnLCAnbGFyZ2VvcCcsICdsZW5ndGgnLCAnbGluZXRoaWNrbmVzcycsICdsc3BhY2UnLCAnbHF1b3RlJywgJ21hdGhiYWNrZ3JvdW5kJywgJ21hdGhjb2xvcicsICdtYXRoc2l6ZScsICdtYXRodmFyaWFudCcsICdtYXhzaXplJywgJ21pbnNpemUnLCAnbW92YWJsZWxpbWl0cycsICdub3RhdGlvbicsICdudW1hbGlnbicsICdvcGVuJywgJ3Jvd2FsaWduJywgJ3Jvd2xpbmVzJywgJ3Jvd3NwYWNpbmcnLCAncm93c3BhbicsICdyc3BhY2UnLCAncnF1b3RlJywgJ3NjcmlwdGxldmVsJywgJ3NjcmlwdG1pbnNpemUnLCAnc2NyaXB0c2l6ZW11bHRpcGxpZXInLCAnc2VsZWN0aW9uJywgJ3NlcGFyYXRvcicsICdzZXBhcmF0b3JzJywgJ3N0cmV0Y2h5JywgJ3N1YnNjcmlwdHNoaWZ0JywgJ3N1cHNjcmlwdHNoaWZ0JywgJ3N5bW1ldHJpYycsICd2b2Zmc2V0JywgJ3dpZHRoJywgJ3htbG5zJ10pO1xuY29uc3QgeG1sID0gZnJlZXplKFsneGxpbms6aHJlZicsICd4bWw6aWQnLCAneGxpbms6dGl0bGUnLCAneG1sOnNwYWNlJywgJ3htbG5zOnhsaW5rJ10pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9iZXR0ZXItcmVnZXhcbmNvbnN0IE1VU1RBQ0hFX0VYUFIgPSBzZWFsKC9cXHtcXHtbXFx3XFxXXSp8W1xcd1xcV10qXFx9XFx9L2dtKTsgLy8gU3BlY2lmeSB0ZW1wbGF0ZSBkZXRlY3Rpb24gcmVnZXggZm9yIFNBRkVfRk9SX1RFTVBMQVRFUyBtb2RlXG5jb25zdCBFUkJfRVhQUiA9IHNlYWwoLzwlW1xcd1xcV10qfFtcXHdcXFddKiU+L2dtKTtcbmNvbnN0IFRNUExJVF9FWFBSID0gc2VhbCgvXFwkXFx7W1xcd1xcV10qL2dtKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSB1bmljb3JuL2JldHRlci1yZWdleFxuY29uc3QgREFUQV9BVFRSID0gc2VhbCgvXmRhdGEtW1xcLVxcdy5cXHUwMEI3LVxcdUZGRkZdKyQvKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuY29uc3QgQVJJQV9BVFRSID0gc2VhbCgvXmFyaWEtW1xcLVxcd10rJC8pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5jb25zdCBJU19BTExPV0VEX1VSSSA9IHNlYWwoL14oPzooPzooPzpmfGh0KXRwcz98bWFpbHRvfHRlbHxjYWxsdG98c21zfGNpZHx4bXBwKTp8W15hLXpdfFthLXorLlxcLV0rKD86W15hLXorLlxcLTpdfCQpKS9pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbik7XG5jb25zdCBJU19TQ1JJUFRfT1JfREFUQSA9IHNlYWwoL14oPzpcXHcrc2NyaXB0fGRhdGEpOi9pKTtcbmNvbnN0IEFUVFJfV0hJVEVTUEFDRSA9IHNlYWwoL1tcXHUwMDAwLVxcdTAwMjBcXHUwMEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwLVxcdTIwMjlcXHUyMDVGXFx1MzAwMF0vZyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbik7XG5jb25zdCBET0NUWVBFX05BTUUgPSBzZWFsKC9eaHRtbCQvaSk7XG5jb25zdCBDVVNUT01fRUxFTUVOVCA9IHNlYWwoL15bYS16XVsuXFx3XSooLVsuXFx3XSspKyQvaSk7XG5cbnZhciBFWFBSRVNTSU9OUyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBBUklBX0FUVFI6IEFSSUFfQVRUUixcbiAgQVRUUl9XSElURVNQQUNFOiBBVFRSX1dISVRFU1BBQ0UsXG4gIENVU1RPTV9FTEVNRU5UOiBDVVNUT01fRUxFTUVOVCxcbiAgREFUQV9BVFRSOiBEQVRBX0FUVFIsXG4gIERPQ1RZUEVfTkFNRTogRE9DVFlQRV9OQU1FLFxuICBFUkJfRVhQUjogRVJCX0VYUFIsXG4gIElTX0FMTE9XRURfVVJJOiBJU19BTExPV0VEX1VSSSxcbiAgSVNfU0NSSVBUX09SX0RBVEE6IElTX1NDUklQVF9PUl9EQVRBLFxuICBNVVNUQUNIRV9FWFBSOiBNVVNUQUNIRV9FWFBSLFxuICBUTVBMSVRfRVhQUjogVE1QTElUX0VYUFJcbn0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvaW5kZW50ICovXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm9kZS9ub2RlVHlwZVxuY29uc3QgTk9ERV9UWVBFID0ge1xuICBlbGVtZW50OiAxLFxuICBhdHRyaWJ1dGU6IDIsXG4gIHRleHQ6IDMsXG4gIGNkYXRhU2VjdGlvbjogNCxcbiAgZW50aXR5UmVmZXJlbmNlOiA1LFxuICAvLyBEZXByZWNhdGVkXG4gIGVudGl0eU5vZGU6IDYsXG4gIC8vIERlcHJlY2F0ZWRcbiAgcHJvZ3Jlc3NpbmdJbnN0cnVjdGlvbjogNyxcbiAgY29tbWVudDogOCxcbiAgZG9jdW1lbnQ6IDksXG4gIGRvY3VtZW50VHlwZTogMTAsXG4gIGRvY3VtZW50RnJhZ21lbnQ6IDExLFxuICBub3RhdGlvbjogMTIgLy8gRGVwcmVjYXRlZFxufTtcbmNvbnN0IGdldEdsb2JhbCA9IGZ1bmN0aW9uIGdldEdsb2JhbCgpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHdpbmRvdztcbn07XG4vKipcbiAqIENyZWF0ZXMgYSBuby1vcCBwb2xpY3kgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuICogRG9uJ3QgZXhwb3J0IHRoaXMgZnVuY3Rpb24gb3V0c2lkZSB0aGlzIG1vZHVsZSFcbiAqIEBwYXJhbSB0cnVzdGVkVHlwZXMgVGhlIHBvbGljeSBmYWN0b3J5LlxuICogQHBhcmFtIHB1cmlmeUhvc3RFbGVtZW50IFRoZSBTY3JpcHQgZWxlbWVudCB1c2VkIHRvIGxvYWQgRE9NUHVyaWZ5ICh0byBkZXRlcm1pbmUgcG9saWN5IG5hbWUgc3VmZml4KS5cbiAqIEByZXR1cm4gVGhlIHBvbGljeSBjcmVhdGVkIChvciBudWxsLCBpZiBUcnVzdGVkIFR5cGVzXG4gKiBhcmUgbm90IHN1cHBvcnRlZCBvciBjcmVhdGluZyB0aGUgcG9saWN5IGZhaWxlZCkuXG4gKi9cbmNvbnN0IF9jcmVhdGVUcnVzdGVkVHlwZXNQb2xpY3kgPSBmdW5jdGlvbiBfY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KHRydXN0ZWRUeXBlcywgcHVyaWZ5SG9zdEVsZW1lbnQpIHtcbiAgaWYgKHR5cGVvZiB0cnVzdGVkVHlwZXMgIT09ICdvYmplY3QnIHx8IHR5cGVvZiB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gQWxsb3cgdGhlIGNhbGxlcnMgdG8gY29udHJvbCB0aGUgdW5pcXVlIHBvbGljeSBuYW1lXG4gIC8vIGJ5IGFkZGluZyBhIGRhdGEtdHQtcG9saWN5LXN1ZmZpeCB0byB0aGUgc2NyaXB0IGVsZW1lbnQgd2l0aCB0aGUgRE9NUHVyaWZ5LlxuICAvLyBQb2xpY3kgY3JlYXRpb24gd2l0aCBkdXBsaWNhdGUgbmFtZXMgdGhyb3dzIGluIFRydXN0ZWQgVHlwZXMuXG4gIGxldCBzdWZmaXggPSBudWxsO1xuICBjb25zdCBBVFRSX05BTUUgPSAnZGF0YS10dC1wb2xpY3ktc3VmZml4JztcbiAgaWYgKHB1cmlmeUhvc3RFbGVtZW50ICYmIHB1cmlmeUhvc3RFbGVtZW50Lmhhc0F0dHJpYnV0ZShBVFRSX05BTUUpKSB7XG4gICAgc3VmZml4ID0gcHVyaWZ5SG9zdEVsZW1lbnQuZ2V0QXR0cmlidXRlKEFUVFJfTkFNRSk7XG4gIH1cbiAgY29uc3QgcG9saWN5TmFtZSA9ICdkb21wdXJpZnknICsgKHN1ZmZpeCA/ICcjJyArIHN1ZmZpeCA6ICcnKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeShwb2xpY3lOYW1lLCB7XG4gICAgICBjcmVhdGVIVE1MKGh0bWwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICB9LFxuICAgICAgY3JlYXRlU2NyaXB0VVJMKHNjcmlwdFVybCkge1xuICAgICAgICByZXR1cm4gc2NyaXB0VXJsO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7XG4gICAgLy8gUG9saWN5IGNyZWF0aW9uIGZhaWxlZCAobW9zdCBsaWtlbHkgYW5vdGhlciBET01QdXJpZnkgc2NyaXB0IGhhc1xuICAgIC8vIGFscmVhZHkgcnVuKS4gU2tpcCBjcmVhdGluZyB0aGUgcG9saWN5LCBhcyB0aGlzIHdpbGwgb25seSBjYXVzZSBlcnJvcnNcbiAgICAvLyBpZiBUVCBhcmUgZW5mb3JjZWQuXG4gICAgY29uc29sZS53YXJuKCdUcnVzdGVkVHlwZXMgcG9saWN5ICcgKyBwb2xpY3lOYW1lICsgJyBjb3VsZCBub3QgYmUgY3JlYXRlZC4nKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbmNvbnN0IF9jcmVhdGVIb29rc01hcCA9IGZ1bmN0aW9uIF9jcmVhdGVIb29rc01hcCgpIHtcbiAgcmV0dXJuIHtcbiAgICBhZnRlclNhbml0aXplQXR0cmlidXRlczogW10sXG4gICAgYWZ0ZXJTYW5pdGl6ZUVsZW1lbnRzOiBbXSxcbiAgICBhZnRlclNhbml0aXplU2hhZG93RE9NOiBbXSxcbiAgICBiZWZvcmVTYW5pdGl6ZUF0dHJpYnV0ZXM6IFtdLFxuICAgIGJlZm9yZVNhbml0aXplRWxlbWVudHM6IFtdLFxuICAgIGJlZm9yZVNhbml0aXplU2hhZG93RE9NOiBbXSxcbiAgICB1cG9uU2FuaXRpemVBdHRyaWJ1dGU6IFtdLFxuICAgIHVwb25TYW5pdGl6ZUVsZW1lbnQ6IFtdLFxuICAgIHVwb25TYW5pdGl6ZVNoYWRvd05vZGU6IFtdXG4gIH07XG59O1xuZnVuY3Rpb24gY3JlYXRlRE9NUHVyaWZ5KCkge1xuICBsZXQgd2luZG93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBnZXRHbG9iYWwoKTtcbiAgY29uc3QgRE9NUHVyaWZ5ID0gcm9vdCA9PiBjcmVhdGVET01QdXJpZnkocm9vdCk7XG4gIERPTVB1cmlmeS52ZXJzaW9uID0gJzMuMi40JztcbiAgRE9NUHVyaWZ5LnJlbW92ZWQgPSBbXTtcbiAgaWYgKCF3aW5kb3cgfHwgIXdpbmRvdy5kb2N1bWVudCB8fCB3aW5kb3cuZG9jdW1lbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRS5kb2N1bWVudCB8fCAhd2luZG93LkVsZW1lbnQpIHtcbiAgICAvLyBOb3QgcnVubmluZyBpbiBhIGJyb3dzZXIsIHByb3ZpZGUgYSBmYWN0b3J5IGZ1bmN0aW9uXG4gICAgLy8gc28gdGhhdCB5b3UgY2FuIHBhc3MgeW91ciBvd24gV2luZG93XG4gICAgRE9NUHVyaWZ5LmlzU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIERPTVB1cmlmeTtcbiAgfVxuICBsZXQge1xuICAgIGRvY3VtZW50XG4gIH0gPSB3aW5kb3c7XG4gIGNvbnN0IG9yaWdpbmFsRG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgY29uc3QgY3VycmVudFNjcmlwdCA9IG9yaWdpbmFsRG9jdW1lbnQuY3VycmVudFNjcmlwdDtcbiAgY29uc3Qge1xuICAgIERvY3VtZW50RnJhZ21lbnQsXG4gICAgSFRNTFRlbXBsYXRlRWxlbWVudCxcbiAgICBOb2RlLFxuICAgIEVsZW1lbnQsXG4gICAgTm9kZUZpbHRlcixcbiAgICBOYW1lZE5vZGVNYXAgPSB3aW5kb3cuTmFtZWROb2RlTWFwIHx8IHdpbmRvdy5Nb3pOYW1lZEF0dHJNYXAsXG4gICAgSFRNTEZvcm1FbGVtZW50LFxuICAgIERPTVBhcnNlcixcbiAgICB0cnVzdGVkVHlwZXNcbiAgfSA9IHdpbmRvdztcbiAgY29uc3QgRWxlbWVudFByb3RvdHlwZSA9IEVsZW1lbnQucHJvdG90eXBlO1xuICBjb25zdCBjbG9uZU5vZGUgPSBsb29rdXBHZXR0ZXIoRWxlbWVudFByb3RvdHlwZSwgJ2Nsb25lTm9kZScpO1xuICBjb25zdCByZW1vdmUgPSBsb29rdXBHZXR0ZXIoRWxlbWVudFByb3RvdHlwZSwgJ3JlbW92ZScpO1xuICBjb25zdCBnZXROZXh0U2libGluZyA9IGxvb2t1cEdldHRlcihFbGVtZW50UHJvdG90eXBlLCAnbmV4dFNpYmxpbmcnKTtcbiAgY29uc3QgZ2V0Q2hpbGROb2RlcyA9IGxvb2t1cEdldHRlcihFbGVtZW50UHJvdG90eXBlLCAnY2hpbGROb2RlcycpO1xuICBjb25zdCBnZXRQYXJlbnROb2RlID0gbG9va3VwR2V0dGVyKEVsZW1lbnRQcm90b3R5cGUsICdwYXJlbnROb2RlJyk7XG4gIC8vIEFzIHBlciBpc3N1ZSAjNDcsIHRoZSB3ZWItY29tcG9uZW50cyByZWdpc3RyeSBpcyBpbmhlcml0ZWQgYnkgYVxuICAvLyBuZXcgZG9jdW1lbnQgY3JlYXRlZCB2aWEgY3JlYXRlSFRNTERvY3VtZW50LiBBcyBwZXIgdGhlIHNwZWNcbiAgLy8gKGh0dHA6Ly93M2MuZ2l0aHViLmlvL3dlYmNvbXBvbmVudHMvc3BlYy9jdXN0b20vI2NyZWF0aW5nLWFuZC1wYXNzaW5nLXJlZ2lzdHJpZXMpXG4gIC8vIGEgbmV3IGVtcHR5IHJlZ2lzdHJ5IGlzIHVzZWQgd2hlbiBjcmVhdGluZyBhIHRlbXBsYXRlIGNvbnRlbnRzIG93bmVyXG4gIC8vIGRvY3VtZW50LCBzbyB3ZSB1c2UgdGhhdCBhcyBvdXIgcGFyZW50IGRvY3VtZW50IHRvIGVuc3VyZSBub3RoaW5nXG4gIC8vIGlzIGluaGVyaXRlZC5cbiAgaWYgKHR5cGVvZiBIVE1MVGVtcGxhdGVFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIGlmICh0ZW1wbGF0ZS5jb250ZW50ICYmIHRlbXBsYXRlLmNvbnRlbnQub3duZXJEb2N1bWVudCkge1xuICAgICAgZG9jdW1lbnQgPSB0ZW1wbGF0ZS5jb250ZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgfVxuICB9XG4gIGxldCB0cnVzdGVkVHlwZXNQb2xpY3k7XG4gIGxldCBlbXB0eUhUTUwgPSAnJztcbiAgY29uc3Qge1xuICAgIGltcGxlbWVudGF0aW9uLFxuICAgIGNyZWF0ZU5vZGVJdGVyYXRvcixcbiAgICBjcmVhdGVEb2N1bWVudEZyYWdtZW50LFxuICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lXG4gIH0gPSBkb2N1bWVudDtcbiAgY29uc3Qge1xuICAgIGltcG9ydE5vZGVcbiAgfSA9IG9yaWdpbmFsRG9jdW1lbnQ7XG4gIGxldCBob29rcyA9IF9jcmVhdGVIb29rc01hcCgpO1xuICAvKipcbiAgICogRXhwb3NlIHdoZXRoZXIgdGhpcyBicm93c2VyIHN1cHBvcnRzIHJ1bm5pbmcgdGhlIGZ1bGwgRE9NUHVyaWZ5LlxuICAgKi9cbiAgRE9NUHVyaWZ5LmlzU3VwcG9ydGVkID0gdHlwZW9mIGVudHJpZXMgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGdldFBhcmVudE5vZGUgPT09ICdmdW5jdGlvbicgJiYgaW1wbGVtZW50YXRpb24gJiYgaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50ICE9PSB1bmRlZmluZWQ7XG4gIGNvbnN0IHtcbiAgICBNVVNUQUNIRV9FWFBSLFxuICAgIEVSQl9FWFBSLFxuICAgIFRNUExJVF9FWFBSLFxuICAgIERBVEFfQVRUUixcbiAgICBBUklBX0FUVFIsXG4gICAgSVNfU0NSSVBUX09SX0RBVEEsXG4gICAgQVRUUl9XSElURVNQQUNFLFxuICAgIENVU1RPTV9FTEVNRU5UXG4gIH0gPSBFWFBSRVNTSU9OUztcbiAgbGV0IHtcbiAgICBJU19BTExPV0VEX1VSSTogSVNfQUxMT1dFRF9VUkkkMVxuICB9ID0gRVhQUkVTU0lPTlM7XG4gIC8qKlxuICAgKiBXZSBjb25zaWRlciB0aGUgZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXMgYmVsb3cgdG8gYmUgc2FmZS4gSWRlYWxseVxuICAgKiBkb24ndCBhZGQgYW55IG5ldyBvbmVzIGJ1dCBmZWVsIGZyZWUgdG8gcmVtb3ZlIHVud2FudGVkIG9uZXMuXG4gICAqL1xuICAvKiBhbGxvd2VkIGVsZW1lbnQgbmFtZXMgKi9cbiAgbGV0IEFMTE9XRURfVEFHUyA9IG51bGw7XG4gIGNvbnN0IERFRkFVTFRfQUxMT1dFRF9UQUdTID0gYWRkVG9TZXQoe30sIFsuLi5odG1sJDEsIC4uLnN2ZyQxLCAuLi5zdmdGaWx0ZXJzLCAuLi5tYXRoTWwkMSwgLi4udGV4dF0pO1xuICAvKiBBbGxvd2VkIGF0dHJpYnV0ZSBuYW1lcyAqL1xuICBsZXQgQUxMT1dFRF9BVFRSID0gbnVsbDtcbiAgY29uc3QgREVGQVVMVF9BTExPV0VEX0FUVFIgPSBhZGRUb1NldCh7fSwgWy4uLmh0bWwsIC4uLnN2ZywgLi4ubWF0aE1sLCAuLi54bWxdKTtcbiAgLypcbiAgICogQ29uZmlndXJlIGhvdyBET01QdXJpZnkgc2hvdWxkIGhhbmRsZSBjdXN0b20gZWxlbWVudHMgYW5kIHRoZWlyIGF0dHJpYnV0ZXMgYXMgd2VsbCBhcyBjdXN0b21pemVkIGJ1aWx0LWluIGVsZW1lbnRzLlxuICAgKiBAcHJvcGVydHkge1JlZ0V4cHxGdW5jdGlvbnxudWxsfSB0YWdOYW1lQ2hlY2sgb25lIG9mIFtudWxsLCByZWdleFBhdHRlcm4sIHByZWRpY2F0ZV0uIERlZmF1bHQ6IGBudWxsYCAoZGlzYWxsb3cgYW55IGN1c3RvbSBlbGVtZW50cylcbiAgICogQHByb3BlcnR5IHtSZWdFeHB8RnVuY3Rpb258bnVsbH0gYXR0cmlidXRlTmFtZUNoZWNrIG9uZSBvZiBbbnVsbCwgcmVnZXhQYXR0ZXJuLCBwcmVkaWNhdGVdLiBEZWZhdWx0OiBgbnVsbGAgKGRpc2FsbG93IGFueSBhdHRyaWJ1dGVzIG5vdCBvbiB0aGUgYWxsb3cgbGlzdClcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBhbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHMgYWxsb3cgY3VzdG9tIGVsZW1lbnRzIGRlcml2ZWQgZnJvbSBidWlsdC1pbnMgaWYgdGhleSBwYXNzIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjay4gRGVmYXVsdDogYGZhbHNlYC5cbiAgICovXG4gIGxldCBDVVNUT01fRUxFTUVOVF9IQU5ETElORyA9IE9iamVjdC5zZWFsKGNyZWF0ZShudWxsLCB7XG4gICAgdGFnTmFtZUNoZWNrOiB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9LFxuICAgIGF0dHJpYnV0ZU5hbWVDaGVjazoge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfSxcbiAgICBhbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHM6IHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZmFsc2VcbiAgICB9XG4gIH0pKTtcbiAgLyogRXhwbGljaXRseSBmb3JiaWRkZW4gdGFncyAob3ZlcnJpZGVzIEFMTE9XRURfVEFHUy9BRERfVEFHUykgKi9cbiAgbGV0IEZPUkJJRF9UQUdTID0gbnVsbDtcbiAgLyogRXhwbGljaXRseSBmb3JiaWRkZW4gYXR0cmlidXRlcyAob3ZlcnJpZGVzIEFMTE9XRURfQVRUUi9BRERfQVRUUikgKi9cbiAgbGV0IEZPUkJJRF9BVFRSID0gbnVsbDtcbiAgLyogRGVjaWRlIGlmIEFSSUEgYXR0cmlidXRlcyBhcmUgb2theSAqL1xuICBsZXQgQUxMT1dfQVJJQV9BVFRSID0gdHJ1ZTtcbiAgLyogRGVjaWRlIGlmIGN1c3RvbSBkYXRhIGF0dHJpYnV0ZXMgYXJlIG9rYXkgKi9cbiAgbGV0IEFMTE9XX0RBVEFfQVRUUiA9IHRydWU7XG4gIC8qIERlY2lkZSBpZiB1bmtub3duIHByb3RvY29scyBhcmUgb2theSAqL1xuICBsZXQgQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMgPSBmYWxzZTtcbiAgLyogRGVjaWRlIGlmIHNlbGYtY2xvc2luZyB0YWdzIGluIGF0dHJpYnV0ZXMgYXJlIGFsbG93ZWQuXG4gICAqIFVzdWFsbHkgcmVtb3ZlZCBkdWUgdG8gYSBtWFNTIGlzc3VlIGluIGpRdWVyeSAzLjAgKi9cbiAgbGV0IEFMTE9XX1NFTEZfQ0xPU0VfSU5fQVRUUiA9IHRydWU7XG4gIC8qIE91dHB1dCBzaG91bGQgYmUgc2FmZSBmb3IgY29tbW9uIHRlbXBsYXRlIGVuZ2luZXMuXG4gICAqIFRoaXMgbWVhbnMsIERPTVB1cmlmeSByZW1vdmVzIGRhdGEgYXR0cmlidXRlcywgbXVzdGFjaGVzIGFuZCBFUkJcbiAgICovXG4gIGxldCBTQUZFX0ZPUl9URU1QTEFURVMgPSBmYWxzZTtcbiAgLyogT3V0cHV0IHNob3VsZCBiZSBzYWZlIGV2ZW4gZm9yIFhNTCB1c2VkIHdpdGhpbiBIVE1MIGFuZCBhbGlrZS5cbiAgICogVGhpcyBtZWFucywgRE9NUHVyaWZ5IHJlbW92ZXMgY29tbWVudHMgd2hlbiBjb250YWluaW5nIHJpc2t5IGNvbnRlbnQuXG4gICAqL1xuICBsZXQgU0FGRV9GT1JfWE1MID0gdHJ1ZTtcbiAgLyogRGVjaWRlIGlmIGRvY3VtZW50IHdpdGggPGh0bWw+Li4uIHNob3VsZCBiZSByZXR1cm5lZCAqL1xuICBsZXQgV0hPTEVfRE9DVU1FTlQgPSBmYWxzZTtcbiAgLyogVHJhY2sgd2hldGhlciBjb25maWcgaXMgYWxyZWFkeSBzZXQgb24gdGhpcyBpbnN0YW5jZSBvZiBET01QdXJpZnkuICovXG4gIGxldCBTRVRfQ09ORklHID0gZmFsc2U7XG4gIC8qIERlY2lkZSBpZiBhbGwgZWxlbWVudHMgKGUuZy4gc3R5bGUsIHNjcmlwdCkgbXVzdCBiZSBjaGlsZHJlbiBvZlxuICAgKiBkb2N1bWVudC5ib2R5LiBCeSBkZWZhdWx0LCBicm93c2VycyBtaWdodCBtb3ZlIHRoZW0gdG8gZG9jdW1lbnQuaGVhZCAqL1xuICBsZXQgRk9SQ0VfQk9EWSA9IGZhbHNlO1xuICAvKiBEZWNpZGUgaWYgYSBET00gYEhUTUxCb2R5RWxlbWVudGAgc2hvdWxkIGJlIHJldHVybmVkLCBpbnN0ZWFkIG9mIGEgaHRtbFxuICAgKiBzdHJpbmcgKG9yIGEgVHJ1c3RlZEhUTUwgb2JqZWN0IGlmIFRydXN0ZWQgVHlwZXMgYXJlIHN1cHBvcnRlZCkuXG4gICAqIElmIGBXSE9MRV9ET0NVTUVOVGAgaXMgZW5hYmxlZCBhIGBIVE1MSHRtbEVsZW1lbnRgIHdpbGwgYmUgcmV0dXJuZWQgaW5zdGVhZFxuICAgKi9cbiAgbGV0IFJFVFVSTl9ET00gPSBmYWxzZTtcbiAgLyogRGVjaWRlIGlmIGEgRE9NIGBEb2N1bWVudEZyYWdtZW50YCBzaG91bGQgYmUgcmV0dXJuZWQsIGluc3RlYWQgb2YgYSBodG1sXG4gICAqIHN0cmluZyAgKG9yIGEgVHJ1c3RlZEhUTUwgb2JqZWN0IGlmIFRydXN0ZWQgVHlwZXMgYXJlIHN1cHBvcnRlZCkgKi9cbiAgbGV0IFJFVFVSTl9ET01fRlJBR01FTlQgPSBmYWxzZTtcbiAgLyogVHJ5IHRvIHJldHVybiBhIFRydXN0ZWQgVHlwZSBvYmplY3QgaW5zdGVhZCBvZiBhIHN0cmluZywgcmV0dXJuIGEgc3RyaW5nIGluXG4gICAqIGNhc2UgVHJ1c3RlZCBUeXBlcyBhcmUgbm90IHN1cHBvcnRlZCAgKi9cbiAgbGV0IFJFVFVSTl9UUlVTVEVEX1RZUEUgPSBmYWxzZTtcbiAgLyogT3V0cHV0IHNob3VsZCBiZSBmcmVlIGZyb20gRE9NIGNsb2JiZXJpbmcgYXR0YWNrcz9cbiAgICogVGhpcyBzYW5pdGl6ZXMgbWFya3VwcyBuYW1lZCB3aXRoIGNvbGxpZGluZywgY2xvYmJlcmFibGUgYnVpbHQtaW4gRE9NIEFQSXMuXG4gICAqL1xuICBsZXQgU0FOSVRJWkVfRE9NID0gdHJ1ZTtcbiAgLyogQWNoaWV2ZSBmdWxsIERPTSBDbG9iYmVyaW5nIHByb3RlY3Rpb24gYnkgaXNvbGF0aW5nIHRoZSBuYW1lc3BhY2Ugb2YgbmFtZWRcbiAgICogcHJvcGVydGllcyBhbmQgSlMgdmFyaWFibGVzLCBtaXRpZ2F0aW5nIGF0dGFja3MgdGhhdCBhYnVzZSB0aGUgSFRNTC9ET00gc3BlYyBydWxlcy5cbiAgICpcbiAgICogSFRNTC9ET00gc3BlYyBydWxlcyB0aGF0IGVuYWJsZSBET00gQ2xvYmJlcmluZzpcbiAgICogICAtIE5hbWVkIEFjY2VzcyBvbiBXaW5kb3cgKMKnNy4zLjMpXG4gICAqICAgLSBET00gVHJlZSBBY2Nlc3NvcnMgKMKnMy4xLjUpXG4gICAqICAgLSBGb3JtIEVsZW1lbnQgUGFyZW50LUNoaWxkIFJlbGF0aW9ucyAowqc0LjEwLjMpXG4gICAqICAgLSBJZnJhbWUgc3JjZG9jIC8gTmVzdGVkIFdpbmRvd1Byb3hpZXMgKMKnNC44LjUpXG4gICAqICAgLSBIVE1MQ29sbGVjdGlvbiAowqc0LjIuMTAuMilcbiAgICpcbiAgICogTmFtZXNwYWNlIGlzb2xhdGlvbiBpcyBpbXBsZW1lbnRlZCBieSBwcmVmaXhpbmcgYGlkYCBhbmQgYG5hbWVgIGF0dHJpYnV0ZXNcbiAgICogd2l0aCBhIGNvbnN0YW50IHN0cmluZywgaS5lLiwgYHVzZXItY29udGVudC1gXG4gICAqL1xuICBsZXQgU0FOSVRJWkVfTkFNRURfUFJPUFMgPSBmYWxzZTtcbiAgY29uc3QgU0FOSVRJWkVfTkFNRURfUFJPUFNfUFJFRklYID0gJ3VzZXItY29udGVudC0nO1xuICAvKiBLZWVwIGVsZW1lbnQgY29udGVudCB3aGVuIHJlbW92aW5nIGVsZW1lbnQ/ICovXG4gIGxldCBLRUVQX0NPTlRFTlQgPSB0cnVlO1xuICAvKiBJZiBhIGBOb2RlYCBpcyBwYXNzZWQgdG8gc2FuaXRpemUoKSwgdGhlbiBwZXJmb3JtcyBzYW5pdGl6YXRpb24gaW4tcGxhY2UgaW5zdGVhZFxuICAgKiBvZiBpbXBvcnRpbmcgaXQgaW50byBhIG5ldyBEb2N1bWVudCBhbmQgcmV0dXJuaW5nIGEgc2FuaXRpemVkIGNvcHkgKi9cbiAgbGV0IElOX1BMQUNFID0gZmFsc2U7XG4gIC8qIEFsbG93IHVzYWdlIG9mIHByb2ZpbGVzIGxpa2UgaHRtbCwgc3ZnIGFuZCBtYXRoTWwgKi9cbiAgbGV0IFVTRV9QUk9GSUxFUyA9IHt9O1xuICAvKiBUYWdzIHRvIGlnbm9yZSBjb250ZW50IG9mIHdoZW4gS0VFUF9DT05URU5UIGlzIHRydWUgKi9cbiAgbGV0IEZPUkJJRF9DT05URU5UUyA9IG51bGw7XG4gIGNvbnN0IERFRkFVTFRfRk9SQklEX0NPTlRFTlRTID0gYWRkVG9TZXQoe30sIFsnYW5ub3RhdGlvbi14bWwnLCAnYXVkaW8nLCAnY29sZ3JvdXAnLCAnZGVzYycsICdmb3JlaWdub2JqZWN0JywgJ2hlYWQnLCAnaWZyYW1lJywgJ21hdGgnLCAnbWknLCAnbW4nLCAnbW8nLCAnbXMnLCAnbXRleHQnLCAnbm9lbWJlZCcsICdub2ZyYW1lcycsICdub3NjcmlwdCcsICdwbGFpbnRleHQnLCAnc2NyaXB0JywgJ3N0eWxlJywgJ3N2ZycsICd0ZW1wbGF0ZScsICd0aGVhZCcsICd0aXRsZScsICd2aWRlbycsICd4bXAnXSk7XG4gIC8qIFRhZ3MgdGhhdCBhcmUgc2FmZSBmb3IgZGF0YTogVVJJcyAqL1xuICBsZXQgREFUQV9VUklfVEFHUyA9IG51bGw7XG4gIGNvbnN0IERFRkFVTFRfREFUQV9VUklfVEFHUyA9IGFkZFRvU2V0KHt9LCBbJ2F1ZGlvJywgJ3ZpZGVvJywgJ2ltZycsICdzb3VyY2UnLCAnaW1hZ2UnLCAndHJhY2snXSk7XG4gIC8qIEF0dHJpYnV0ZXMgc2FmZSBmb3IgdmFsdWVzIGxpa2UgXCJqYXZhc2NyaXB0OlwiICovXG4gIGxldCBVUklfU0FGRV9BVFRSSUJVVEVTID0gbnVsbDtcbiAgY29uc3QgREVGQVVMVF9VUklfU0FGRV9BVFRSSUJVVEVTID0gYWRkVG9TZXQoe30sIFsnYWx0JywgJ2NsYXNzJywgJ2ZvcicsICdpZCcsICdsYWJlbCcsICduYW1lJywgJ3BhdHRlcm4nLCAncGxhY2Vob2xkZXInLCAncm9sZScsICdzdW1tYXJ5JywgJ3RpdGxlJywgJ3ZhbHVlJywgJ3N0eWxlJywgJ3htbG5zJ10pO1xuICBjb25zdCBNQVRITUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xuICBjb25zdCBTVkdfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbiAgY29uc3QgSFRNTF9OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG4gIC8qIERvY3VtZW50IG5hbWVzcGFjZSAqL1xuICBsZXQgTkFNRVNQQUNFID0gSFRNTF9OQU1FU1BBQ0U7XG4gIGxldCBJU19FTVBUWV9JTlBVVCA9IGZhbHNlO1xuICAvKiBBbGxvd2VkIFhIVE1MK1hNTCBuYW1lc3BhY2VzICovXG4gIGxldCBBTExPV0VEX05BTUVTUEFDRVMgPSBudWxsO1xuICBjb25zdCBERUZBVUxUX0FMTE9XRURfTkFNRVNQQUNFUyA9IGFkZFRvU2V0KHt9LCBbTUFUSE1MX05BTUVTUEFDRSwgU1ZHX05BTUVTUEFDRSwgSFRNTF9OQU1FU1BBQ0VdLCBzdHJpbmdUb1N0cmluZyk7XG4gIGxldCBNQVRITUxfVEVYVF9JTlRFR1JBVElPTl9QT0lOVFMgPSBhZGRUb1NldCh7fSwgWydtaScsICdtbycsICdtbicsICdtcycsICdtdGV4dCddKTtcbiAgbGV0IEhUTUxfSU5URUdSQVRJT05fUE9JTlRTID0gYWRkVG9TZXQoe30sIFsnYW5ub3RhdGlvbi14bWwnXSk7XG4gIC8vIENlcnRhaW4gZWxlbWVudHMgYXJlIGFsbG93ZWQgaW4gYm90aCBTVkcgYW5kIEhUTUxcbiAgLy8gbmFtZXNwYWNlLiBXZSBuZWVkIHRvIHNwZWNpZnkgdGhlbSBleHBsaWNpdGx5XG4gIC8vIHNvIHRoYXQgdGhleSBkb24ndCBnZXQgZXJyb25lb3VzbHkgZGVsZXRlZCBmcm9tXG4gIC8vIEhUTUwgbmFtZXNwYWNlLlxuICBjb25zdCBDT01NT05fU1ZHX0FORF9IVE1MX0VMRU1FTlRTID0gYWRkVG9TZXQoe30sIFsndGl0bGUnLCAnc3R5bGUnLCAnZm9udCcsICdhJywgJ3NjcmlwdCddKTtcbiAgLyogUGFyc2luZyBvZiBzdHJpY3QgWEhUTUwgZG9jdW1lbnRzICovXG4gIGxldCBQQVJTRVJfTUVESUFfVFlQRSA9IG51bGw7XG4gIGNvbnN0IFNVUFBPUlRFRF9QQVJTRVJfTUVESUFfVFlQRVMgPSBbJ2FwcGxpY2F0aW9uL3hodG1sK3htbCcsICd0ZXh0L2h0bWwnXTtcbiAgY29uc3QgREVGQVVMVF9QQVJTRVJfTUVESUFfVFlQRSA9ICd0ZXh0L2h0bWwnO1xuICBsZXQgdHJhbnNmb3JtQ2FzZUZ1bmMgPSBudWxsO1xuICAvKiBLZWVwIGEgcmVmZXJlbmNlIHRvIGNvbmZpZyB0byBwYXNzIHRvIGhvb2tzICovXG4gIGxldCBDT05GSUcgPSBudWxsO1xuICAvKiBJZGVhbGx5LCBkbyBub3QgdG91Y2ggYW55dGhpbmcgYmVsb3cgdGhpcyBsaW5lICovXG4gIC8qIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18gKi9cbiAgY29uc3QgZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGNvbnN0IGlzUmVnZXhPckZ1bmN0aW9uID0gZnVuY3Rpb24gaXNSZWdleE9yRnVuY3Rpb24odGVzdFZhbHVlKSB7XG4gICAgcmV0dXJuIHRlc3RWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCB8fCB0ZXN0VmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbjtcbiAgfTtcbiAgLyoqXG4gICAqIF9wYXJzZUNvbmZpZ1xuICAgKlxuICAgKiBAcGFyYW0gY2ZnIG9wdGlvbmFsIGNvbmZpZyBsaXRlcmFsXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICBjb25zdCBfcGFyc2VDb25maWcgPSBmdW5jdGlvbiBfcGFyc2VDb25maWcoKSB7XG4gICAgbGV0IGNmZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKENPTkZJRyAmJiBDT05GSUcgPT09IGNmZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBTaGllbGQgY29uZmlndXJhdGlvbiBvYmplY3QgZnJvbSB0YW1wZXJpbmcgKi9cbiAgICBpZiAoIWNmZyB8fCB0eXBlb2YgY2ZnICE9PSAnb2JqZWN0Jykge1xuICAgICAgY2ZnID0ge307XG4gICAgfVxuICAgIC8qIFNoaWVsZCBjb25maWd1cmF0aW9uIG9iamVjdCBmcm9tIHByb3RvdHlwZSBwb2xsdXRpb24gKi9cbiAgICBjZmcgPSBjbG9uZShjZmcpO1xuICAgIFBBUlNFUl9NRURJQV9UWVBFID1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItaW5jbHVkZXNcbiAgICBTVVBQT1JURURfUEFSU0VSX01FRElBX1RZUEVTLmluZGV4T2YoY2ZnLlBBUlNFUl9NRURJQV9UWVBFKSA9PT0gLTEgPyBERUZBVUxUX1BBUlNFUl9NRURJQV9UWVBFIDogY2ZnLlBBUlNFUl9NRURJQV9UWVBFO1xuICAgIC8vIEhUTUwgdGFncyBhbmQgYXR0cmlidXRlcyBhcmUgbm90IGNhc2Utc2Vuc2l0aXZlLCBjb252ZXJ0aW5nIHRvIGxvd2VyY2FzZS4gS2VlcGluZyBYSFRNTCBhcyBpcy5cbiAgICB0cmFuc2Zvcm1DYXNlRnVuYyA9IFBBUlNFUl9NRURJQV9UWVBFID09PSAnYXBwbGljYXRpb24veGh0bWwreG1sJyA/IHN0cmluZ1RvU3RyaW5nIDogc3RyaW5nVG9Mb3dlckNhc2U7XG4gICAgLyogU2V0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyAqL1xuICAgIEFMTE9XRURfVEFHUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FMTE9XRURfVEFHUycpID8gYWRkVG9TZXQoe30sIGNmZy5BTExPV0VEX1RBR1MsIHRyYW5zZm9ybUNhc2VGdW5jKSA6IERFRkFVTFRfQUxMT1dFRF9UQUdTO1xuICAgIEFMTE9XRURfQVRUUiA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FMTE9XRURfQVRUUicpID8gYWRkVG9TZXQoe30sIGNmZy5BTExPV0VEX0FUVFIsIHRyYW5zZm9ybUNhc2VGdW5jKSA6IERFRkFVTFRfQUxMT1dFRF9BVFRSO1xuICAgIEFMTE9XRURfTkFNRVNQQUNFUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FMTE9XRURfTkFNRVNQQUNFUycpID8gYWRkVG9TZXQoe30sIGNmZy5BTExPV0VEX05BTUVTUEFDRVMsIHN0cmluZ1RvU3RyaW5nKSA6IERFRkFVTFRfQUxMT1dFRF9OQU1FU1BBQ0VTO1xuICAgIFVSSV9TQUZFX0FUVFJJQlVURVMgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShjZmcsICdBRERfVVJJX1NBRkVfQVRUUicpID8gYWRkVG9TZXQoY2xvbmUoREVGQVVMVF9VUklfU0FGRV9BVFRSSUJVVEVTKSwgY2ZnLkFERF9VUklfU0FGRV9BVFRSLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiBERUZBVUxUX1VSSV9TQUZFX0FUVFJJQlVURVM7XG4gICAgREFUQV9VUklfVEFHUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FERF9EQVRBX1VSSV9UQUdTJykgPyBhZGRUb1NldChjbG9uZShERUZBVUxUX0RBVEFfVVJJX1RBR1MpLCBjZmcuQUREX0RBVEFfVVJJX1RBR1MsIHRyYW5zZm9ybUNhc2VGdW5jKSA6IERFRkFVTFRfREFUQV9VUklfVEFHUztcbiAgICBGT1JCSURfQ09OVEVOVFMgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShjZmcsICdGT1JCSURfQ09OVEVOVFMnKSA/IGFkZFRvU2V0KHt9LCBjZmcuRk9SQklEX0NPTlRFTlRTLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiBERUZBVUxUX0ZPUkJJRF9DT05URU5UUztcbiAgICBGT1JCSURfVEFHUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0ZPUkJJRF9UQUdTJykgPyBhZGRUb1NldCh7fSwgY2ZnLkZPUkJJRF9UQUdTLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiB7fTtcbiAgICBGT1JCSURfQVRUUiA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0ZPUkJJRF9BVFRSJykgPyBhZGRUb1NldCh7fSwgY2ZnLkZPUkJJRF9BVFRSLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiB7fTtcbiAgICBVU0VfUFJPRklMRVMgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShjZmcsICdVU0VfUFJPRklMRVMnKSA/IGNmZy5VU0VfUFJPRklMRVMgOiBmYWxzZTtcbiAgICBBTExPV19BUklBX0FUVFIgPSBjZmcuQUxMT1dfQVJJQV9BVFRSICE9PSBmYWxzZTsgLy8gRGVmYXVsdCB0cnVlXG4gICAgQUxMT1dfREFUQV9BVFRSID0gY2ZnLkFMTE9XX0RBVEFfQVRUUiAhPT0gZmFsc2U7IC8vIERlZmF1bHQgdHJ1ZVxuICAgIEFMTE9XX1VOS05PV05fUFJPVE9DT0xTID0gY2ZnLkFMTE9XX1VOS05PV05fUFJPVE9DT0xTIHx8IGZhbHNlOyAvLyBEZWZhdWx0IGZhbHNlXG4gICAgQUxMT1dfU0VMRl9DTE9TRV9JTl9BVFRSID0gY2ZnLkFMTE9XX1NFTEZfQ0xPU0VfSU5fQVRUUiAhPT0gZmFsc2U7IC8vIERlZmF1bHQgdHJ1ZVxuICAgIFNBRkVfRk9SX1RFTVBMQVRFUyA9IGNmZy5TQUZFX0ZPUl9URU1QTEFURVMgfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBTQUZFX0ZPUl9YTUwgPSBjZmcuU0FGRV9GT1JfWE1MICE9PSBmYWxzZTsgLy8gRGVmYXVsdCB0cnVlXG4gICAgV0hPTEVfRE9DVU1FTlQgPSBjZmcuV0hPTEVfRE9DVU1FTlQgfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBSRVRVUk5fRE9NID0gY2ZnLlJFVFVSTl9ET00gfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBSRVRVUk5fRE9NX0ZSQUdNRU5UID0gY2ZnLlJFVFVSTl9ET01fRlJBR01FTlQgfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBSRVRVUk5fVFJVU1RFRF9UWVBFID0gY2ZnLlJFVFVSTl9UUlVTVEVEX1RZUEUgfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBGT1JDRV9CT0RZID0gY2ZnLkZPUkNFX0JPRFkgfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBTQU5JVElaRV9ET00gPSBjZmcuU0FOSVRJWkVfRE9NICE9PSBmYWxzZTsgLy8gRGVmYXVsdCB0cnVlXG4gICAgU0FOSVRJWkVfTkFNRURfUFJPUFMgPSBjZmcuU0FOSVRJWkVfTkFNRURfUFJPUFMgfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBLRUVQX0NPTlRFTlQgPSBjZmcuS0VFUF9DT05URU5UICE9PSBmYWxzZTsgLy8gRGVmYXVsdCB0cnVlXG4gICAgSU5fUExBQ0UgPSBjZmcuSU5fUExBQ0UgfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBJU19BTExPV0VEX1VSSSQxID0gY2ZnLkFMTE9XRURfVVJJX1JFR0VYUCB8fCBJU19BTExPV0VEX1VSSTtcbiAgICBOQU1FU1BBQ0UgPSBjZmcuTkFNRVNQQUNFIHx8IEhUTUxfTkFNRVNQQUNFO1xuICAgIE1BVEhNTF9URVhUX0lOVEVHUkFUSU9OX1BPSU5UUyA9IGNmZy5NQVRITUxfVEVYVF9JTlRFR1JBVElPTl9QT0lOVFMgfHwgTUFUSE1MX1RFWFRfSU5URUdSQVRJT05fUE9JTlRTO1xuICAgIEhUTUxfSU5URUdSQVRJT05fUE9JTlRTID0gY2ZnLkhUTUxfSU5URUdSQVRJT05fUE9JTlRTIHx8IEhUTUxfSU5URUdSQVRJT05fUE9JTlRTO1xuICAgIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HID0gY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HIHx8IHt9O1xuICAgIGlmIChjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcgJiYgaXNSZWdleE9yRnVuY3Rpb24oY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjaykpIHtcbiAgICAgIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjayA9IGNmZy5DVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2s7XG4gICAgfVxuICAgIGlmIChjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcgJiYgaXNSZWdleE9yRnVuY3Rpb24oY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjaykpIHtcbiAgICAgIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjayA9IGNmZy5DVVNUT01fRUxFTUVOVF9IQU5ETElORy5hdHRyaWJ1dGVOYW1lQ2hlY2s7XG4gICAgfVxuICAgIGlmIChjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcgJiYgdHlwZW9mIGNmZy5DVVNUT01fRUxFTUVOVF9IQU5ETElORy5hbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHMgPT09ICdib29sZWFuJykge1xuICAgICAgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYWxsb3dDdXN0b21pemVkQnVpbHRJbkVsZW1lbnRzID0gY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmFsbG93Q3VzdG9taXplZEJ1aWx0SW5FbGVtZW50cztcbiAgICB9XG4gICAgaWYgKFNBRkVfRk9SX1RFTVBMQVRFUykge1xuICAgICAgQUxMT1dfREFUQV9BVFRSID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChSRVRVUk5fRE9NX0ZSQUdNRU5UKSB7XG4gICAgICBSRVRVUk5fRE9NID0gdHJ1ZTtcbiAgICB9XG4gICAgLyogUGFyc2UgcHJvZmlsZSBpbmZvICovXG4gICAgaWYgKFVTRV9QUk9GSUxFUykge1xuICAgICAgQUxMT1dFRF9UQUdTID0gYWRkVG9TZXQoe30sIHRleHQpO1xuICAgICAgQUxMT1dFRF9BVFRSID0gW107XG4gICAgICBpZiAoVVNFX1BST0ZJTEVTLmh0bWwgPT09IHRydWUpIHtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBodG1sJDEpO1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX0FUVFIsIGh0bWwpO1xuICAgICAgfVxuICAgICAgaWYgKFVTRV9QUk9GSUxFUy5zdmcgPT09IHRydWUpIHtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBzdmckMSk7XG4gICAgICAgIGFkZFRvU2V0KEFMTE9XRURfQVRUUiwgc3ZnKTtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9BVFRSLCB4bWwpO1xuICAgICAgfVxuICAgICAgaWYgKFVTRV9QUk9GSUxFUy5zdmdGaWx0ZXJzID09PSB0cnVlKSB7XG4gICAgICAgIGFkZFRvU2V0KEFMTE9XRURfVEFHUywgc3ZnRmlsdGVycyk7XG4gICAgICAgIGFkZFRvU2V0KEFMTE9XRURfQVRUUiwgc3ZnKTtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9BVFRSLCB4bWwpO1xuICAgICAgfVxuICAgICAgaWYgKFVTRV9QUk9GSUxFUy5tYXRoTWwgPT09IHRydWUpIHtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBtYXRoTWwkMSk7XG4gICAgICAgIGFkZFRvU2V0KEFMTE9XRURfQVRUUiwgbWF0aE1sKTtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9BVFRSLCB4bWwpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBNZXJnZSBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgKi9cbiAgICBpZiAoY2ZnLkFERF9UQUdTKSB7XG4gICAgICBpZiAoQUxMT1dFRF9UQUdTID09PSBERUZBVUxUX0FMTE9XRURfVEFHUykge1xuICAgICAgICBBTExPV0VEX1RBR1MgPSBjbG9uZShBTExPV0VEX1RBR1MpO1xuICAgICAgfVxuICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBjZmcuQUREX1RBR1MsIHRyYW5zZm9ybUNhc2VGdW5jKTtcbiAgICB9XG4gICAgaWYgKGNmZy5BRERfQVRUUikge1xuICAgICAgaWYgKEFMTE9XRURfQVRUUiA9PT0gREVGQVVMVF9BTExPV0VEX0FUVFIpIHtcbiAgICAgICAgQUxMT1dFRF9BVFRSID0gY2xvbmUoQUxMT1dFRF9BVFRSKTtcbiAgICAgIH1cbiAgICAgIGFkZFRvU2V0KEFMTE9XRURfQVRUUiwgY2ZnLkFERF9BVFRSLCB0cmFuc2Zvcm1DYXNlRnVuYyk7XG4gICAgfVxuICAgIGlmIChjZmcuQUREX1VSSV9TQUZFX0FUVFIpIHtcbiAgICAgIGFkZFRvU2V0KFVSSV9TQUZFX0FUVFJJQlVURVMsIGNmZy5BRERfVVJJX1NBRkVfQVRUUiwgdHJhbnNmb3JtQ2FzZUZ1bmMpO1xuICAgIH1cbiAgICBpZiAoY2ZnLkZPUkJJRF9DT05URU5UUykge1xuICAgICAgaWYgKEZPUkJJRF9DT05URU5UUyA9PT0gREVGQVVMVF9GT1JCSURfQ09OVEVOVFMpIHtcbiAgICAgICAgRk9SQklEX0NPTlRFTlRTID0gY2xvbmUoRk9SQklEX0NPTlRFTlRTKTtcbiAgICAgIH1cbiAgICAgIGFkZFRvU2V0KEZPUkJJRF9DT05URU5UUywgY2ZnLkZPUkJJRF9DT05URU5UUywgdHJhbnNmb3JtQ2FzZUZ1bmMpO1xuICAgIH1cbiAgICAvKiBBZGQgI3RleHQgaW4gY2FzZSBLRUVQX0NPTlRFTlQgaXMgc2V0IHRvIHRydWUgKi9cbiAgICBpZiAoS0VFUF9DT05URU5UKSB7XG4gICAgICBBTExPV0VEX1RBR1NbJyN0ZXh0J10gPSB0cnVlO1xuICAgIH1cbiAgICAvKiBBZGQgaHRtbCwgaGVhZCBhbmQgYm9keSB0byBBTExPV0VEX1RBR1MgaW4gY2FzZSBXSE9MRV9ET0NVTUVOVCBpcyB0cnVlICovXG4gICAgaWYgKFdIT0xFX0RPQ1VNRU5UKSB7XG4gICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIFsnaHRtbCcsICdoZWFkJywgJ2JvZHknXSk7XG4gICAgfVxuICAgIC8qIEFkZCB0Ym9keSB0byBBTExPV0VEX1RBR1MgaW4gY2FzZSB0YWJsZXMgYXJlIHBlcm1pdHRlZCwgc2VlICMyODYsICMzNjUgKi9cbiAgICBpZiAoQUxMT1dFRF9UQUdTLnRhYmxlKSB7XG4gICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIFsndGJvZHknXSk7XG4gICAgICBkZWxldGUgRk9SQklEX1RBR1MudGJvZHk7XG4gICAgfVxuICAgIGlmIChjZmcuVFJVU1RFRF9UWVBFU19QT0xJQ1kpIHtcbiAgICAgIGlmICh0eXBlb2YgY2ZnLlRSVVNURURfVFlQRVNfUE9MSUNZLmNyZWF0ZUhUTUwgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgdHlwZUVycm9yQ3JlYXRlKCdUUlVTVEVEX1RZUEVTX1BPTElDWSBjb25maWd1cmF0aW9uIG9wdGlvbiBtdXN0IHByb3ZpZGUgYSBcImNyZWF0ZUhUTUxcIiBob29rLicpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjZmcuVFJVU1RFRF9UWVBFU19QT0xJQ1kuY3JlYXRlU2NyaXB0VVJMICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IHR5cGVFcnJvckNyZWF0ZSgnVFJVU1RFRF9UWVBFU19QT0xJQ1kgY29uZmlndXJhdGlvbiBvcHRpb24gbXVzdCBwcm92aWRlIGEgXCJjcmVhdGVTY3JpcHRVUkxcIiBob29rLicpO1xuICAgICAgfVxuICAgICAgLy8gT3ZlcndyaXRlIGV4aXN0aW5nIFRydXN0ZWRUeXBlcyBwb2xpY3kuXG4gICAgICB0cnVzdGVkVHlwZXNQb2xpY3kgPSBjZmcuVFJVU1RFRF9UWVBFU19QT0xJQ1k7XG4gICAgICAvLyBTaWduIGxvY2FsIHZhcmlhYmxlcyByZXF1aXJlZCBieSBgc2FuaXRpemVgLlxuICAgICAgZW1wdHlIVE1MID0gdHJ1c3RlZFR5cGVzUG9saWN5LmNyZWF0ZUhUTUwoJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVbmluaXRpYWxpemVkIHBvbGljeSwgYXR0ZW1wdCB0byBpbml0aWFsaXplIHRoZSBpbnRlcm5hbCBkb21wdXJpZnkgcG9saWN5LlxuICAgICAgaWYgKHRydXN0ZWRUeXBlc1BvbGljeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRydXN0ZWRUeXBlc1BvbGljeSA9IF9jcmVhdGVUcnVzdGVkVHlwZXNQb2xpY3kodHJ1c3RlZFR5cGVzLCBjdXJyZW50U2NyaXB0KTtcbiAgICAgIH1cbiAgICAgIC8vIElmIGNyZWF0aW5nIHRoZSBpbnRlcm5hbCBwb2xpY3kgc3VjY2VlZGVkIHNpZ24gaW50ZXJuYWwgdmFyaWFibGVzLlxuICAgICAgaWYgKHRydXN0ZWRUeXBlc1BvbGljeSAhPT0gbnVsbCAmJiB0eXBlb2YgZW1wdHlIVE1MID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbXB0eUhUTUwgPSB0cnVzdGVkVHlwZXNQb2xpY3kuY3JlYXRlSFRNTCgnJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFByZXZlbnQgZnVydGhlciBtYW5pcHVsYXRpb24gb2YgY29uZmlndXJhdGlvbi5cbiAgICAvLyBOb3QgYXZhaWxhYmxlIGluIElFOCwgU2FmYXJpIDUsIGV0Yy5cbiAgICBpZiAoZnJlZXplKSB7XG4gICAgICBmcmVlemUoY2ZnKTtcbiAgICB9XG4gICAgQ09ORklHID0gY2ZnO1xuICB9O1xuICAvKiBLZWVwIHRyYWNrIG9mIGFsbCBwb3NzaWJsZSBTVkcgYW5kIE1hdGhNTCB0YWdzXG4gICAqIHNvIHRoYXQgd2UgY2FuIHBlcmZvcm0gdGhlIG5hbWVzcGFjZSBjaGVja3NcbiAgICogY29ycmVjdGx5LiAqL1xuICBjb25zdCBBTExfU1ZHX1RBR1MgPSBhZGRUb1NldCh7fSwgWy4uLnN2ZyQxLCAuLi5zdmdGaWx0ZXJzLCAuLi5zdmdEaXNhbGxvd2VkXSk7XG4gIGNvbnN0IEFMTF9NQVRITUxfVEFHUyA9IGFkZFRvU2V0KHt9LCBbLi4ubWF0aE1sJDEsIC4uLm1hdGhNbERpc2FsbG93ZWRdKTtcbiAgLyoqXG4gICAqIEBwYXJhbSBlbGVtZW50IGEgRE9NIGVsZW1lbnQgd2hvc2UgbmFtZXNwYWNlIGlzIGJlaW5nIGNoZWNrZWRcbiAgICogQHJldHVybnMgUmV0dXJuIGZhbHNlIGlmIHRoZSBlbGVtZW50IGhhcyBhXG4gICAqICBuYW1lc3BhY2UgdGhhdCBhIHNwZWMtY29tcGxpYW50IHBhcnNlciB3b3VsZCBuZXZlclxuICAgKiAgcmV0dXJuLiBSZXR1cm4gdHJ1ZSBvdGhlcndpc2UuXG4gICAqL1xuICBjb25zdCBfY2hlY2tWYWxpZE5hbWVzcGFjZSA9IGZ1bmN0aW9uIF9jaGVja1ZhbGlkTmFtZXNwYWNlKGVsZW1lbnQpIHtcbiAgICBsZXQgcGFyZW50ID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgICAvLyBJbiBKU0RPTSwgaWYgd2UncmUgaW5zaWRlIHNoYWRvdyBET00sIHRoZW4gcGFyZW50Tm9kZVxuICAgIC8vIGNhbiBiZSBudWxsLiBXZSBqdXN0IHNpbXVsYXRlIHBhcmVudCBpbiB0aGlzIGNhc2UuXG4gICAgaWYgKCFwYXJlbnQgfHwgIXBhcmVudC50YWdOYW1lKSB7XG4gICAgICBwYXJlbnQgPSB7XG4gICAgICAgIG5hbWVzcGFjZVVSSTogTkFNRVNQQUNFLFxuICAgICAgICB0YWdOYW1lOiAndGVtcGxhdGUnXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB0YWdOYW1lID0gc3RyaW5nVG9Mb3dlckNhc2UoZWxlbWVudC50YWdOYW1lKTtcbiAgICBjb25zdCBwYXJlbnRUYWdOYW1lID0gc3RyaW5nVG9Mb3dlckNhc2UocGFyZW50LnRhZ05hbWUpO1xuICAgIGlmICghQUxMT1dFRF9OQU1FU1BBQ0VTW2VsZW1lbnQubmFtZXNwYWNlVVJJXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09IFNWR19OQU1FU1BBQ0UpIHtcbiAgICAgIC8vIFRoZSBvbmx5IHdheSB0byBzd2l0Y2ggZnJvbSBIVE1MIG5hbWVzcGFjZSB0byBTVkdcbiAgICAgIC8vIGlzIHZpYSA8c3ZnPi4gSWYgaXQgaGFwcGVucyB2aWEgYW55IG90aGVyIHRhZywgdGhlblxuICAgICAgLy8gaXQgc2hvdWxkIGJlIGtpbGxlZC5cbiAgICAgIGlmIChwYXJlbnQubmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgICByZXR1cm4gdGFnTmFtZSA9PT0gJ3N2Zyc7XG4gICAgICB9XG4gICAgICAvLyBUaGUgb25seSB3YXkgdG8gc3dpdGNoIGZyb20gTWF0aE1MIHRvIFNWRyBpcyB2aWFgXG4gICAgICAvLyBzdmcgaWYgcGFyZW50IGlzIGVpdGhlciA8YW5ub3RhdGlvbi14bWw+IG9yIE1hdGhNTFxuICAgICAgLy8gdGV4dCBpbnRlZ3JhdGlvbiBwb2ludHMuXG4gICAgICBpZiAocGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gTUFUSE1MX05BTUVTUEFDRSkge1xuICAgICAgICByZXR1cm4gdGFnTmFtZSA9PT0gJ3N2ZycgJiYgKHBhcmVudFRhZ05hbWUgPT09ICdhbm5vdGF0aW9uLXhtbCcgfHwgTUFUSE1MX1RFWFRfSU5URUdSQVRJT05fUE9JTlRTW3BhcmVudFRhZ05hbWVdKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIG9ubHkgYWxsb3cgZWxlbWVudHMgdGhhdCBhcmUgZGVmaW5lZCBpbiBTVkdcbiAgICAgIC8vIHNwZWMuIEFsbCBvdGhlcnMgYXJlIGRpc2FsbG93ZWQgaW4gU1ZHIG5hbWVzcGFjZS5cbiAgICAgIHJldHVybiBCb29sZWFuKEFMTF9TVkdfVEFHU1t0YWdOYW1lXSk7XG4gICAgfVxuICAgIGlmIChlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0gTUFUSE1MX05BTUVTUEFDRSkge1xuICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHN3aXRjaCBmcm9tIEhUTUwgbmFtZXNwYWNlIHRvIE1hdGhNTFxuICAgICAgLy8gaXMgdmlhIDxtYXRoPi4gSWYgaXQgaGFwcGVucyB2aWEgYW55IG90aGVyIHRhZywgdGhlblxuICAgICAgLy8gaXQgc2hvdWxkIGJlIGtpbGxlZC5cbiAgICAgIGlmIChwYXJlbnQubmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgICByZXR1cm4gdGFnTmFtZSA9PT0gJ21hdGgnO1xuICAgICAgfVxuICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHN3aXRjaCBmcm9tIFNWRyB0byBNYXRoTUwgaXMgdmlhXG4gICAgICAvLyA8bWF0aD4gYW5kIEhUTUwgaW50ZWdyYXRpb24gcG9pbnRzXG4gICAgICBpZiAocGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gU1ZHX05BTUVTUEFDRSkge1xuICAgICAgICByZXR1cm4gdGFnTmFtZSA9PT0gJ21hdGgnICYmIEhUTUxfSU5URUdSQVRJT05fUE9JTlRTW3BhcmVudFRhZ05hbWVdO1xuICAgICAgfVxuICAgICAgLy8gV2Ugb25seSBhbGxvdyBlbGVtZW50cyB0aGF0IGFyZSBkZWZpbmVkIGluIE1hdGhNTFxuICAgICAgLy8gc3BlYy4gQWxsIG90aGVycyBhcmUgZGlzYWxsb3dlZCBpbiBNYXRoTUwgbmFtZXNwYWNlLlxuICAgICAgcmV0dXJuIEJvb2xlYW4oQUxMX01BVEhNTF9UQUdTW3RhZ05hbWVdKTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHN3aXRjaCBmcm9tIFNWRyB0byBIVE1MIGlzIHZpYVxuICAgICAgLy8gSFRNTCBpbnRlZ3JhdGlvbiBwb2ludHMsIGFuZCBmcm9tIE1hdGhNTCB0byBIVE1MXG4gICAgICAvLyBpcyB2aWEgTWF0aE1MIHRleHQgaW50ZWdyYXRpb24gcG9pbnRzXG4gICAgICBpZiAocGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gU1ZHX05BTUVTUEFDRSAmJiAhSFRNTF9JTlRFR1JBVElPTl9QT0lOVFNbcGFyZW50VGFnTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudC5uYW1lc3BhY2VVUkkgPT09IE1BVEhNTF9OQU1FU1BBQ0UgJiYgIU1BVEhNTF9URVhUX0lOVEVHUkFUSU9OX1BPSU5UU1twYXJlbnRUYWdOYW1lXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBXZSBkaXNhbGxvdyB0YWdzIHRoYXQgYXJlIHNwZWNpZmljIGZvciBNYXRoTUxcbiAgICAgIC8vIG9yIFNWRyBhbmQgc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBIVE1MIG5hbWVzcGFjZVxuICAgICAgcmV0dXJuICFBTExfTUFUSE1MX1RBR1NbdGFnTmFtZV0gJiYgKENPTU1PTl9TVkdfQU5EX0hUTUxfRUxFTUVOVFNbdGFnTmFtZV0gfHwgIUFMTF9TVkdfVEFHU1t0YWdOYW1lXSk7XG4gICAgfVxuICAgIC8vIEZvciBYSFRNTCBhbmQgWE1MIGRvY3VtZW50cyB0aGF0IHN1cHBvcnQgY3VzdG9tIG5hbWVzcGFjZXNcbiAgICBpZiAoUEFSU0VSX01FRElBX1RZUEUgPT09ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnICYmIEFMTE9XRURfTkFNRVNQQUNFU1tlbGVtZW50Lm5hbWVzcGFjZVVSSV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBUaGUgY29kZSBzaG91bGQgbmV2ZXIgcmVhY2ggdGhpcyBwbGFjZSAodGhpcyBtZWFuc1xuICAgIC8vIHRoYXQgdGhlIGVsZW1lbnQgc29tZWhvdyBnb3QgbmFtZXNwYWNlIHRoYXQgaXMgbm90XG4gICAgLy8gSFRNTCwgU1ZHLCBNYXRoTUwgb3IgYWxsb3dlZCB2aWEgQUxMT1dFRF9OQU1FU1BBQ0VTKS5cbiAgICAvLyBSZXR1cm4gZmFsc2UganVzdCBpbiBjYXNlLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgLyoqXG4gICAqIF9mb3JjZVJlbW92ZVxuICAgKlxuICAgKiBAcGFyYW0gbm9kZSBhIERPTSBub2RlXG4gICAqL1xuICBjb25zdCBfZm9yY2VSZW1vdmUgPSBmdW5jdGlvbiBfZm9yY2VSZW1vdmUobm9kZSkge1xuICAgIGFycmF5UHVzaChET01QdXJpZnkucmVtb3ZlZCwge1xuICAgICAgZWxlbWVudDogbm9kZVxuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItZG9tLW5vZGUtcmVtb3ZlXG4gICAgICBnZXRQYXJlbnROb2RlKG5vZGUpLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIHJlbW92ZShub2RlKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBfcmVtb3ZlQXR0cmlidXRlXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIGFuIEF0dHJpYnV0ZSBuYW1lXG4gICAqIEBwYXJhbSBlbGVtZW50IGEgRE9NIG5vZGVcbiAgICovXG4gIGNvbnN0IF9yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbiBfcmVtb3ZlQXR0cmlidXRlKG5hbWUsIGVsZW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgYXJyYXlQdXNoKERPTVB1cmlmeS5yZW1vdmVkLCB7XG4gICAgICAgIGF0dHJpYnV0ZTogZWxlbWVudC5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpLFxuICAgICAgICBmcm9tOiBlbGVtZW50XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChfKSB7XG4gICAgICBhcnJheVB1c2goRE9NUHVyaWZ5LnJlbW92ZWQsIHtcbiAgICAgICAgYXR0cmlidXRlOiBudWxsLFxuICAgICAgICBmcm9tOiBlbGVtZW50XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgLy8gV2Ugdm9pZCBhdHRyaWJ1dGUgdmFsdWVzIGZvciB1bnJlbW92YWJsZSBcImlzXCIgYXR0cmlidXRlc1xuICAgIGlmIChuYW1lID09PSAnaXMnKSB7XG4gICAgICBpZiAoUkVUVVJOX0RPTSB8fCBSRVRVUk5fRE9NX0ZSQUdNRU5UKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgX2ZvcmNlUmVtb3ZlKGVsZW1lbnQpO1xuICAgICAgICB9IGNhdGNoIChfKSB7fVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHt9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogX2luaXREb2N1bWVudFxuICAgKlxuICAgKiBAcGFyYW0gZGlydHkgLSBhIHN0cmluZyBvZiBkaXJ0eSBtYXJrdXBcbiAgICogQHJldHVybiBhIERPTSwgZmlsbGVkIHdpdGggdGhlIGRpcnR5IG1hcmt1cFxuICAgKi9cbiAgY29uc3QgX2luaXREb2N1bWVudCA9IGZ1bmN0aW9uIF9pbml0RG9jdW1lbnQoZGlydHkpIHtcbiAgICAvKiBDcmVhdGUgYSBIVE1MIGRvY3VtZW50ICovXG4gICAgbGV0IGRvYyA9IG51bGw7XG4gICAgbGV0IGxlYWRpbmdXaGl0ZXNwYWNlID0gbnVsbDtcbiAgICBpZiAoRk9SQ0VfQk9EWSkge1xuICAgICAgZGlydHkgPSAnPHJlbW92ZT48L3JlbW92ZT4nICsgZGlydHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIElmIEZPUkNFX0JPRFkgaXNuJ3QgdXNlZCwgbGVhZGluZyB3aGl0ZXNwYWNlIG5lZWRzIHRvIGJlIHByZXNlcnZlZCBtYW51YWxseSAqL1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IHN0cmluZ01hdGNoKGRpcnR5LCAvXltcXHJcXG5cXHQgXSsvKTtcbiAgICAgIGxlYWRpbmdXaGl0ZXNwYWNlID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzBdO1xuICAgIH1cbiAgICBpZiAoUEFSU0VSX01FRElBX1RZUEUgPT09ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnICYmIE5BTUVTUEFDRSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgIC8vIFJvb3Qgb2YgWEhUTUwgZG9jIG11c3QgY29udGFpbiB4bWxucyBkZWNsYXJhdGlvbiAoc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi94aHRtbDEvbm9ybWF0aXZlLmh0bWwjc3RyaWN0KVxuICAgICAgZGlydHkgPSAnPGh0bWwgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI+PGhlYWQ+PC9oZWFkPjxib2R5PicgKyBkaXJ0eSArICc8L2JvZHk+PC9odG1sPic7XG4gICAgfVxuICAgIGNvbnN0IGRpcnR5UGF5bG9hZCA9IHRydXN0ZWRUeXBlc1BvbGljeSA/IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVIVE1MKGRpcnR5KSA6IGRpcnR5O1xuICAgIC8qXG4gICAgICogVXNlIHRoZSBET01QYXJzZXIgQVBJIGJ5IGRlZmF1bHQsIGZhbGxiYWNrIGxhdGVyIGlmIG5lZWRzIGJlXG4gICAgICogRE9NUGFyc2VyIG5vdCB3b3JrIGZvciBzdmcgd2hlbiBoYXMgbXVsdGlwbGUgcm9vdCBlbGVtZW50LlxuICAgICAqL1xuICAgIGlmIChOQU1FU1BBQ0UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGRpcnR5UGF5bG9hZCwgUEFSU0VSX01FRElBX1RZUEUpO1xuICAgICAgfSBjYXRjaCAoXykge31cbiAgICB9XG4gICAgLyogVXNlIGNyZWF0ZUhUTUxEb2N1bWVudCBpbiBjYXNlIERPTVBhcnNlciBpcyBub3QgYXZhaWxhYmxlICovXG4gICAgaWYgKCFkb2MgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIGRvYyA9IGltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KE5BTUVTUEFDRSwgJ3RlbXBsYXRlJywgbnVsbCk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTCA9IElTX0VNUFRZX0lOUFVUID8gZW1wdHlIVE1MIDogZGlydHlQYXlsb2FkO1xuICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAvLyBTeW50YXggZXJyb3IgaWYgZGlydHlQYXlsb2FkIGlzIGludmFsaWQgeG1sXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGJvZHkgPSBkb2MuYm9keSB8fCBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgIGlmIChkaXJ0eSAmJiBsZWFkaW5nV2hpdGVzcGFjZSkge1xuICAgICAgYm9keS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGVhZGluZ1doaXRlc3BhY2UpLCBib2R5LmNoaWxkTm9kZXNbMF0gfHwgbnVsbCk7XG4gICAgfVxuICAgIC8qIFdvcmsgb24gd2hvbGUgZG9jdW1lbnQgb3IganVzdCBpdHMgYm9keSAqL1xuICAgIGlmIChOQU1FU1BBQ0UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICByZXR1cm4gZ2V0RWxlbWVudHNCeVRhZ05hbWUuY2FsbChkb2MsIFdIT0xFX0RPQ1VNRU5UID8gJ2h0bWwnIDogJ2JvZHknKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIFdIT0xFX0RPQ1VNRU5UID8gZG9jLmRvY3VtZW50RWxlbWVudCA6IGJvZHk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgTm9kZUl0ZXJhdG9yIG9iamVjdCB0aGF0IHlvdSBjYW4gdXNlIHRvIHRyYXZlcnNlIGZpbHRlcmVkIGxpc3RzIG9mIG5vZGVzIG9yIGVsZW1lbnRzIGluIGEgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSByb290IFRoZSByb290IGVsZW1lbnQgb3Igbm9kZSB0byBzdGFydCB0cmF2ZXJzaW5nIG9uLlxuICAgKiBAcmV0dXJuIFRoZSBjcmVhdGVkIE5vZGVJdGVyYXRvclxuICAgKi9cbiAgY29uc3QgX2NyZWF0ZU5vZGVJdGVyYXRvciA9IGZ1bmN0aW9uIF9jcmVhdGVOb2RlSXRlcmF0b3Iocm9vdCkge1xuICAgIHJldHVybiBjcmVhdGVOb2RlSXRlcmF0b3IuY2FsbChyb290Lm93bmVyRG9jdW1lbnQgfHwgcm9vdCwgcm9vdCxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UIHwgTm9kZUZpbHRlci5TSE9XX0NPTU1FTlQgfCBOb2RlRmlsdGVyLlNIT1dfVEVYVCB8IE5vZGVGaWx0ZXIuU0hPV19QUk9DRVNTSU5HX0lOU1RSVUNUSU9OIHwgTm9kZUZpbHRlci5TSE9XX0NEQVRBX1NFQ1RJT04sIG51bGwpO1xuICB9O1xuICAvKipcbiAgICogX2lzQ2xvYmJlcmVkXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IGVsZW1lbnQgdG8gY2hlY2sgZm9yIGNsb2JiZXJpbmcgYXR0YWNrc1xuICAgKiBAcmV0dXJuIHRydWUgaWYgY2xvYmJlcmVkLCBmYWxzZSBpZiBzYWZlXG4gICAqL1xuICBjb25zdCBfaXNDbG9iYmVyZWQgPSBmdW5jdGlvbiBfaXNDbG9iYmVyZWQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50ICYmICh0eXBlb2YgZWxlbWVudC5ub2RlTmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGVsZW1lbnQudGV4dENvbnRlbnQgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBlbGVtZW50LnJlbW92ZUNoaWxkICE9PSAnZnVuY3Rpb24nIHx8ICEoZWxlbWVudC5hdHRyaWJ1dGVzIGluc3RhbmNlb2YgTmFtZWROb2RlTWFwKSB8fCB0eXBlb2YgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGVsZW1lbnQuc2V0QXR0cmlidXRlICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBlbGVtZW50Lm5hbWVzcGFjZVVSSSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGVsZW1lbnQuaW5zZXJ0QmVmb3JlICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBlbGVtZW50Lmhhc0NoaWxkTm9kZXMgIT09ICdmdW5jdGlvbicpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIG9iamVjdCBpcyBhIERPTSBub2RlLlxuICAgKlxuICAgKiBAcGFyYW0gdmFsdWUgb2JqZWN0IHRvIGNoZWNrIHdoZXRoZXIgaXQncyBhIERPTSBub2RlXG4gICAqIEByZXR1cm4gdHJ1ZSBpcyBvYmplY3QgaXMgYSBET00gbm9kZVxuICAgKi9cbiAgY29uc3QgX2lzTm9kZSA9IGZ1bmN0aW9uIF9pc05vZGUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIE5vZGUgPT09ICdmdW5jdGlvbicgJiYgdmFsdWUgaW5zdGFuY2VvZiBOb2RlO1xuICB9O1xuICBmdW5jdGlvbiBfZXhlY3V0ZUhvb2tzKGhvb2tzLCBjdXJyZW50Tm9kZSwgZGF0YSkge1xuICAgIGFycmF5Rm9yRWFjaChob29rcywgaG9vayA9PiB7XG4gICAgICBob29rLmNhbGwoRE9NUHVyaWZ5LCBjdXJyZW50Tm9kZSwgZGF0YSwgQ09ORklHKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogX3Nhbml0aXplRWxlbWVudHNcbiAgICpcbiAgICogQHByb3RlY3Qgbm9kZU5hbWVcbiAgICogQHByb3RlY3QgdGV4dENvbnRlbnRcbiAgICogQHByb3RlY3QgcmVtb3ZlQ2hpbGRcbiAgICogQHBhcmFtIGN1cnJlbnROb2RlIHRvIGNoZWNrIGZvciBwZXJtaXNzaW9uIHRvIGV4aXN0XG4gICAqIEByZXR1cm4gdHJ1ZSBpZiBub2RlIHdhcyBraWxsZWQsIGZhbHNlIGlmIGxlZnQgYWxpdmVcbiAgICovXG4gIGNvbnN0IF9zYW5pdGl6ZUVsZW1lbnRzID0gZnVuY3Rpb24gX3Nhbml0aXplRWxlbWVudHMoY3VycmVudE5vZGUpIHtcbiAgICBsZXQgY29udGVudCA9IG51bGw7XG4gICAgLyogRXhlY3V0ZSBhIGhvb2sgaWYgcHJlc2VudCAqL1xuICAgIF9leGVjdXRlSG9va3MoaG9va3MuYmVmb3JlU2FuaXRpemVFbGVtZW50cywgY3VycmVudE5vZGUsIG51bGwpO1xuICAgIC8qIENoZWNrIGlmIGVsZW1lbnQgaXMgY2xvYmJlcmVkIG9yIGNhbiBjbG9iYmVyICovXG4gICAgaWYgKF9pc0Nsb2JiZXJlZChjdXJyZW50Tm9kZSkpIHtcbiAgICAgIF9mb3JjZVJlbW92ZShjdXJyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyogTm93IGxldCdzIGNoZWNrIHRoZSBlbGVtZW50J3MgdHlwZSBhbmQgbmFtZSAqL1xuICAgIGNvbnN0IHRhZ05hbWUgPSB0cmFuc2Zvcm1DYXNlRnVuYyhjdXJyZW50Tm9kZS5ub2RlTmFtZSk7XG4gICAgLyogRXhlY3V0ZSBhIGhvb2sgaWYgcHJlc2VudCAqL1xuICAgIF9leGVjdXRlSG9va3MoaG9va3MudXBvblNhbml0aXplRWxlbWVudCwgY3VycmVudE5vZGUsIHtcbiAgICAgIHRhZ05hbWUsXG4gICAgICBhbGxvd2VkVGFnczogQUxMT1dFRF9UQUdTXG4gICAgfSk7XG4gICAgLyogRGV0ZWN0IG1YU1MgYXR0ZW1wdHMgYWJ1c2luZyBuYW1lc3BhY2UgY29uZnVzaW9uICovXG4gICAgaWYgKGN1cnJlbnROb2RlLmhhc0NoaWxkTm9kZXMoKSAmJiAhX2lzTm9kZShjdXJyZW50Tm9kZS5maXJzdEVsZW1lbnRDaGlsZCkgJiYgcmVnRXhwVGVzdCgvPFsvXFx3XS9nLCBjdXJyZW50Tm9kZS5pbm5lckhUTUwpICYmIHJlZ0V4cFRlc3QoLzxbL1xcd10vZywgY3VycmVudE5vZGUudGV4dENvbnRlbnQpKSB7XG4gICAgICBfZm9yY2VSZW1vdmUoY3VycmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIFJlbW92ZSBhbnkgb2NjdXJyZW5jZSBvZiBwcm9jZXNzaW5nIGluc3RydWN0aW9ucyAqL1xuICAgIGlmIChjdXJyZW50Tm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFLnByb2dyZXNzaW5nSW5zdHJ1Y3Rpb24pIHtcbiAgICAgIF9mb3JjZVJlbW92ZShjdXJyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyogUmVtb3ZlIGFueSBraW5kIG9mIHBvc3NpYmx5IGhhcm1mdWwgY29tbWVudHMgKi9cbiAgICBpZiAoU0FGRV9GT1JfWE1MICYmIGN1cnJlbnROb2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEUuY29tbWVudCAmJiByZWdFeHBUZXN0KC88Wy9cXHddL2csIGN1cnJlbnROb2RlLmRhdGEpKSB7XG4gICAgICBfZm9yY2VSZW1vdmUoY3VycmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIFJlbW92ZSBlbGVtZW50IGlmIGFueXRoaW5nIGZvcmJpZHMgaXRzIHByZXNlbmNlICovXG4gICAgaWYgKCFBTExPV0VEX1RBR1NbdGFnTmFtZV0gfHwgRk9SQklEX1RBR1NbdGFnTmFtZV0pIHtcbiAgICAgIC8qIENoZWNrIGlmIHdlIGhhdmUgYSBjdXN0b20gZWxlbWVudCB0byBoYW5kbGUgKi9cbiAgICAgIGlmICghRk9SQklEX1RBR1NbdGFnTmFtZV0gJiYgX2lzQmFzaWNDdXN0b21FbGVtZW50KHRhZ05hbWUpKSB7XG4gICAgICAgIGlmIChDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2sgaW5zdGFuY2VvZiBSZWdFeHAgJiYgcmVnRXhwVGVzdChDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2ssIHRhZ05hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2sodGFnTmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qIEtlZXAgY29udGVudCBleGNlcHQgZm9yIGJhZC1saXN0ZWQgZWxlbWVudHMgKi9cbiAgICAgIGlmIChLRUVQX0NPTlRFTlQgJiYgIUZPUkJJRF9DT05URU5UU1t0YWdOYW1lXSkge1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShjdXJyZW50Tm9kZSkgfHwgY3VycmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY2hpbGROb2RlcyA9IGdldENoaWxkTm9kZXMoY3VycmVudE5vZGUpIHx8IGN1cnJlbnROb2RlLmNoaWxkTm9kZXM7XG4gICAgICAgIGlmIChjaGlsZE5vZGVzICYmIHBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IGNoaWxkQ291bnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRDbG9uZSA9IGNsb25lTm9kZShjaGlsZE5vZGVzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgIGNoaWxkQ2xvbmUuX19yZW1vdmFsQ291bnQgPSAoY3VycmVudE5vZGUuX19yZW1vdmFsQ291bnQgfHwgMCkgKyAxO1xuICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGRDbG9uZSwgZ2V0TmV4dFNpYmxpbmcoY3VycmVudE5vZGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIF9mb3JjZVJlbW92ZShjdXJyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyogQ2hlY2sgd2hldGhlciBlbGVtZW50IGhhcyBhIHZhbGlkIG5hbWVzcGFjZSAqL1xuICAgIGlmIChjdXJyZW50Tm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgIV9jaGVja1ZhbGlkTmFtZXNwYWNlKGN1cnJlbnROb2RlKSkge1xuICAgICAgX2ZvcmNlUmVtb3ZlKGN1cnJlbnROb2RlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKiBNYWtlIHN1cmUgdGhhdCBvbGRlciBicm93c2VycyBkb24ndCBnZXQgZmFsbGJhY2stdGFnIG1YU1MgKi9cbiAgICBpZiAoKHRhZ05hbWUgPT09ICdub3NjcmlwdCcgfHwgdGFnTmFtZSA9PT0gJ25vZW1iZWQnIHx8IHRhZ05hbWUgPT09ICdub2ZyYW1lcycpICYmIHJlZ0V4cFRlc3QoLzxcXC9ubyhzY3JpcHR8ZW1iZWR8ZnJhbWVzKS9pLCBjdXJyZW50Tm9kZS5pbm5lckhUTUwpKSB7XG4gICAgICBfZm9yY2VSZW1vdmUoY3VycmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIFNhbml0aXplIGVsZW1lbnQgY29udGVudCB0byBiZSB0ZW1wbGF0ZS1zYWZlICovXG4gICAgaWYgKFNBRkVfRk9SX1RFTVBMQVRFUyAmJiBjdXJyZW50Tm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFLnRleHQpIHtcbiAgICAgIC8qIEdldCB0aGUgZWxlbWVudCdzIHRleHQgY29udGVudCAqL1xuICAgICAgY29udGVudCA9IGN1cnJlbnROb2RlLnRleHRDb250ZW50O1xuICAgICAgYXJyYXlGb3JFYWNoKFtNVVNUQUNIRV9FWFBSLCBFUkJfRVhQUiwgVE1QTElUX0VYUFJdLCBleHByID0+IHtcbiAgICAgICAgY29udGVudCA9IHN0cmluZ1JlcGxhY2UoY29udGVudCwgZXhwciwgJyAnKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnROb2RlLnRleHRDb250ZW50ICE9PSBjb250ZW50KSB7XG4gICAgICAgIGFycmF5UHVzaChET01QdXJpZnkucmVtb3ZlZCwge1xuICAgICAgICAgIGVsZW1lbnQ6IGN1cnJlbnROb2RlLmNsb25lTm9kZSgpXG4gICAgICAgIH0pO1xuICAgICAgICBjdXJyZW50Tm9kZS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLmFmdGVyU2FuaXRpemVFbGVtZW50cywgY3VycmVudE5vZGUsIG51bGwpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgLyoqXG4gICAqIF9pc1ZhbGlkQXR0cmlidXRlXG4gICAqXG4gICAqIEBwYXJhbSBsY1RhZyBMb3dlcmNhc2UgdGFnIG5hbWUgb2YgY29udGFpbmluZyBlbGVtZW50LlxuICAgKiBAcGFyYW0gbGNOYW1lIExvd2VyY2FzZSBhdHRyaWJ1dGUgbmFtZS5cbiAgICogQHBhcmFtIHZhbHVlIEF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogQHJldHVybiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyB2YWxpZCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbiAgY29uc3QgX2lzVmFsaWRBdHRyaWJ1dGUgPSBmdW5jdGlvbiBfaXNWYWxpZEF0dHJpYnV0ZShsY1RhZywgbGNOYW1lLCB2YWx1ZSkge1xuICAgIC8qIE1ha2Ugc3VyZSBhdHRyaWJ1dGUgY2Fubm90IGNsb2JiZXIgKi9cbiAgICBpZiAoU0FOSVRJWkVfRE9NICYmIChsY05hbWUgPT09ICdpZCcgfHwgbGNOYW1lID09PSAnbmFtZScpICYmICh2YWx1ZSBpbiBkb2N1bWVudCB8fCB2YWx1ZSBpbiBmb3JtRWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyogQWxsb3cgdmFsaWQgZGF0YS0qIGF0dHJpYnV0ZXM6IEF0IGxlYXN0IG9uZSBjaGFyYWN0ZXIgYWZ0ZXIgXCItXCJcbiAgICAgICAgKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2RvbS5odG1sI2VtYmVkZGluZy1jdXN0b20tbm9uLXZpc2libGUtZGF0YS13aXRoLXRoZS1kYXRhLSotYXR0cmlidXRlcylcbiAgICAgICAgWE1MLWNvbXBhdGlibGUgKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZnJhc3RydWN0dXJlLmh0bWwjeG1sLWNvbXBhdGlibGUgYW5kIGh0dHA6Ly93d3cudzMub3JnL1RSL3htbC8jZDBlODA0KVxuICAgICAgICBXZSBkb24ndCBuZWVkIHRvIGNoZWNrIHRoZSB2YWx1ZTsgaXQncyBhbHdheXMgVVJJIHNhZmUuICovXG4gICAgaWYgKEFMTE9XX0RBVEFfQVRUUiAmJiAhRk9SQklEX0FUVFJbbGNOYW1lXSAmJiByZWdFeHBUZXN0KERBVEFfQVRUUiwgbGNOYW1lKSkgOyBlbHNlIGlmIChBTExPV19BUklBX0FUVFIgJiYgcmVnRXhwVGVzdChBUklBX0FUVFIsIGxjTmFtZSkpIDsgZWxzZSBpZiAoIUFMTE9XRURfQVRUUltsY05hbWVdIHx8IEZPUkJJRF9BVFRSW2xjTmFtZV0pIHtcbiAgICAgIGlmIChcbiAgICAgIC8vIEZpcnN0IGNvbmRpdGlvbiBkb2VzIGEgdmVyeSBiYXNpYyBjaGVjayBpZiBhKSBpdCdzIGJhc2ljYWxseSBhIHZhbGlkIGN1c3RvbSBlbGVtZW50IHRhZ25hbWUgQU5EXG4gICAgICAvLyBiKSBpZiB0aGUgdGFnTmFtZSBwYXNzZXMgd2hhdGV2ZXIgdGhlIHVzZXIgaGFzIGNvbmZpZ3VyZWQgZm9yIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVja1xuICAgICAgLy8gYW5kIGMpIGlmIHRoZSBhdHRyaWJ1dGUgbmFtZSBwYXNzZXMgd2hhdGV2ZXIgdGhlIHVzZXIgaGFzIGNvbmZpZ3VyZWQgZm9yIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVja1xuICAgICAgX2lzQmFzaWNDdXN0b21FbGVtZW50KGxjVGFnKSAmJiAoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrIGluc3RhbmNlb2YgUmVnRXhwICYmIHJlZ0V4cFRlc3QoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrLCBsY1RhZykgfHwgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrKGxjVGFnKSkgJiYgKENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjayBpbnN0YW5jZW9mIFJlZ0V4cCAmJiByZWdFeHBUZXN0KENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjaywgbGNOYW1lKSB8fCBDVVNUT01fRUxFTUVOVF9IQU5ETElORy5hdHRyaWJ1dGVOYW1lQ2hlY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBDVVNUT01fRUxFTUVOVF9IQU5ETElORy5hdHRyaWJ1dGVOYW1lQ2hlY2sobGNOYW1lKSkgfHxcbiAgICAgIC8vIEFsdGVybmF0aXZlLCBzZWNvbmQgY29uZGl0aW9uIGNoZWNrcyBpZiBpdCdzIGFuIGBpc2AtYXR0cmlidXRlLCBBTkRcbiAgICAgIC8vIHRoZSB2YWx1ZSBwYXNzZXMgd2hhdGV2ZXIgdGhlIHVzZXIgaGFzIGNvbmZpZ3VyZWQgZm9yIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVja1xuICAgICAgbGNOYW1lID09PSAnaXMnICYmIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmFsbG93Q3VzdG9taXplZEJ1aWx0SW5FbGVtZW50cyAmJiAoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrIGluc3RhbmNlb2YgUmVnRXhwICYmIHJlZ0V4cFRlc3QoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrLCB2YWx1ZSkgfHwgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrKHZhbHVlKSkpIDsgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8qIENoZWNrIHZhbHVlIGlzIHNhZmUuIEZpcnN0LCBpcyBhdHRyIGluZXJ0PyBJZiBzbywgaXMgc2FmZSAqL1xuICAgIH0gZWxzZSBpZiAoVVJJX1NBRkVfQVRUUklCVVRFU1tsY05hbWVdKSA7IGVsc2UgaWYgKHJlZ0V4cFRlc3QoSVNfQUxMT1dFRF9VUkkkMSwgc3RyaW5nUmVwbGFjZSh2YWx1ZSwgQVRUUl9XSElURVNQQUNFLCAnJykpKSA7IGVsc2UgaWYgKChsY05hbWUgPT09ICdzcmMnIHx8IGxjTmFtZSA9PT0gJ3hsaW5rOmhyZWYnIHx8IGxjTmFtZSA9PT0gJ2hyZWYnKSAmJiBsY1RhZyAhPT0gJ3NjcmlwdCcgJiYgc3RyaW5nSW5kZXhPZih2YWx1ZSwgJ2RhdGE6JykgPT09IDAgJiYgREFUQV9VUklfVEFHU1tsY1RhZ10pIDsgZWxzZSBpZiAoQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMgJiYgIXJlZ0V4cFRlc3QoSVNfU0NSSVBUX09SX0RBVEEsIHN0cmluZ1JlcGxhY2UodmFsdWUsIEFUVFJfV0hJVEVTUEFDRSwgJycpKSkgOyBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSA7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBfaXNCYXNpY0N1c3RvbUVsZW1lbnRcbiAgICogY2hlY2tzIGlmIGF0IGxlYXN0IG9uZSBkYXNoIGlzIGluY2x1ZGVkIGluIHRhZ05hbWUsIGFuZCBpdCdzIG5vdCB0aGUgZmlyc3QgY2hhclxuICAgKiBmb3IgbW9yZSBzb3BoaXN0aWNhdGVkIGNoZWNraW5nIHNlZSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3ZhbGlkYXRlLWVsZW1lbnQtbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gdGFnTmFtZSBuYW1lIG9mIHRoZSB0YWcgb2YgdGhlIG5vZGUgdG8gc2FuaXRpemVcbiAgICogQHJldHVybnMgUmV0dXJucyB0cnVlIGlmIHRoZSB0YWcgbmFtZSBtZWV0cyB0aGUgYmFzaWMgY3JpdGVyaWEgZm9yIGEgY3VzdG9tIGVsZW1lbnQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICovXG4gIGNvbnN0IF9pc0Jhc2ljQ3VzdG9tRWxlbWVudCA9IGZ1bmN0aW9uIF9pc0Jhc2ljQ3VzdG9tRWxlbWVudCh0YWdOYW1lKSB7XG4gICAgcmV0dXJuIHRhZ05hbWUgIT09ICdhbm5vdGF0aW9uLXhtbCcgJiYgc3RyaW5nTWF0Y2godGFnTmFtZSwgQ1VTVE9NX0VMRU1FTlQpO1xuICB9O1xuICAvKipcbiAgICogX3Nhbml0aXplQXR0cmlidXRlc1xuICAgKlxuICAgKiBAcHJvdGVjdCBhdHRyaWJ1dGVzXG4gICAqIEBwcm90ZWN0IG5vZGVOYW1lXG4gICAqIEBwcm90ZWN0IHJlbW92ZUF0dHJpYnV0ZVxuICAgKiBAcHJvdGVjdCBzZXRBdHRyaWJ1dGVcbiAgICpcbiAgICogQHBhcmFtIGN1cnJlbnROb2RlIHRvIHNhbml0aXplXG4gICAqL1xuICBjb25zdCBfc2FuaXRpemVBdHRyaWJ1dGVzID0gZnVuY3Rpb24gX3Nhbml0aXplQXR0cmlidXRlcyhjdXJyZW50Tm9kZSkge1xuICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLmJlZm9yZVNhbml0aXplQXR0cmlidXRlcywgY3VycmVudE5vZGUsIG51bGwpO1xuICAgIGNvbnN0IHtcbiAgICAgIGF0dHJpYnV0ZXNcbiAgICB9ID0gY3VycmVudE5vZGU7XG4gICAgLyogQ2hlY2sgaWYgd2UgaGF2ZSBhdHRyaWJ1dGVzOyBpZiBub3Qgd2UgbWlnaHQgaGF2ZSBhIHRleHQgbm9kZSAqL1xuICAgIGlmICghYXR0cmlidXRlcyB8fCBfaXNDbG9iYmVyZWQoY3VycmVudE5vZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhvb2tFdmVudCA9IHtcbiAgICAgIGF0dHJOYW1lOiAnJyxcbiAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgICBrZWVwQXR0cjogdHJ1ZSxcbiAgICAgIGFsbG93ZWRBdHRyaWJ1dGVzOiBBTExPV0VEX0FUVFIsXG4gICAgICBmb3JjZUtlZXBBdHRyOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIGxldCBsID0gYXR0cmlidXRlcy5sZW5ndGg7XG4gICAgLyogR28gYmFja3dhcmRzIG92ZXIgYWxsIGF0dHJpYnV0ZXM7IHNhZmVseSByZW1vdmUgYmFkIG9uZXMgKi9cbiAgICB3aGlsZSAobC0tKSB7XG4gICAgICBjb25zdCBhdHRyID0gYXR0cmlidXRlc1tsXTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbmFtZXNwYWNlVVJJLFxuICAgICAgICB2YWx1ZTogYXR0clZhbHVlXG4gICAgICB9ID0gYXR0cjtcbiAgICAgIGNvbnN0IGxjTmFtZSA9IHRyYW5zZm9ybUNhc2VGdW5jKG5hbWUpO1xuICAgICAgbGV0IHZhbHVlID0gbmFtZSA9PT0gJ3ZhbHVlJyA/IGF0dHJWYWx1ZSA6IHN0cmluZ1RyaW0oYXR0clZhbHVlKTtcbiAgICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICAgIGhvb2tFdmVudC5hdHRyTmFtZSA9IGxjTmFtZTtcbiAgICAgIGhvb2tFdmVudC5hdHRyVmFsdWUgPSB2YWx1ZTtcbiAgICAgIGhvb2tFdmVudC5rZWVwQXR0ciA9IHRydWU7XG4gICAgICBob29rRXZlbnQuZm9yY2VLZWVwQXR0ciA9IHVuZGVmaW5lZDsgLy8gQWxsb3dzIGRldmVsb3BlcnMgdG8gc2VlIHRoaXMgaXMgYSBwcm9wZXJ0eSB0aGV5IGNhbiBzZXRcbiAgICAgIF9leGVjdXRlSG9va3MoaG9va3MudXBvblNhbml0aXplQXR0cmlidXRlLCBjdXJyZW50Tm9kZSwgaG9va0V2ZW50KTtcbiAgICAgIHZhbHVlID0gaG9va0V2ZW50LmF0dHJWYWx1ZTtcbiAgICAgIC8qIEZ1bGwgRE9NIENsb2JiZXJpbmcgcHJvdGVjdGlvbiB2aWEgbmFtZXNwYWNlIGlzb2xhdGlvbixcbiAgICAgICAqIFByZWZpeCBpZCBhbmQgbmFtZSBhdHRyaWJ1dGVzIHdpdGggYHVzZXItY29udGVudC1gXG4gICAgICAgKi9cbiAgICAgIGlmIChTQU5JVElaRV9OQU1FRF9QUk9QUyAmJiAobGNOYW1lID09PSAnaWQnIHx8IGxjTmFtZSA9PT0gJ25hbWUnKSkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGF0dHJpYnV0ZSB3aXRoIHRoaXMgdmFsdWVcbiAgICAgICAgX3JlbW92ZUF0dHJpYnV0ZShuYW1lLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIC8vIFByZWZpeCB0aGUgdmFsdWUgYW5kIGxhdGVyIHJlLWNyZWF0ZSB0aGUgYXR0cmlidXRlIHdpdGggdGhlIHNhbml0aXplZCB2YWx1ZVxuICAgICAgICB2YWx1ZSA9IFNBTklUSVpFX05BTUVEX1BST1BTX1BSRUZJWCArIHZhbHVlO1xuICAgICAgfVxuICAgICAgLyogV29yayBhcm91bmQgYSBzZWN1cml0eSBpc3N1ZSB3aXRoIGNvbW1lbnRzIGluc2lkZSBhdHRyaWJ1dGVzICovXG4gICAgICBpZiAoU0FGRV9GT1JfWE1MICYmIHJlZ0V4cFRlc3QoLygoLS0hP3xdKT4pfDxcXC8oc3R5bGV8dGl0bGUpL2ksIHZhbHVlKSkge1xuICAgICAgICBfcmVtb3ZlQXR0cmlidXRlKG5hbWUsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvKiBEaWQgdGhlIGhvb2tzIGFwcHJvdmUgb2YgdGhlIGF0dHJpYnV0ZT8gKi9cbiAgICAgIGlmIChob29rRXZlbnQuZm9yY2VLZWVwQXR0cikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8qIFJlbW92ZSBhdHRyaWJ1dGUgKi9cbiAgICAgIF9yZW1vdmVBdHRyaWJ1dGUobmFtZSwgY3VycmVudE5vZGUpO1xuICAgICAgLyogRGlkIHRoZSBob29rcyBhcHByb3ZlIG9mIHRoZSBhdHRyaWJ1dGU/ICovXG4gICAgICBpZiAoIWhvb2tFdmVudC5rZWVwQXR0cikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8qIFdvcmsgYXJvdW5kIGEgc2VjdXJpdHkgaXNzdWUgaW4galF1ZXJ5IDMuMCAqL1xuICAgICAgaWYgKCFBTExPV19TRUxGX0NMT1NFX0lOX0FUVFIgJiYgcmVnRXhwVGVzdCgvXFwvPi9pLCB2YWx1ZSkpIHtcbiAgICAgICAgX3JlbW92ZUF0dHJpYnV0ZShuYW1lLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLyogU2FuaXRpemUgYXR0cmlidXRlIGNvbnRlbnQgdG8gYmUgdGVtcGxhdGUtc2FmZSAqL1xuICAgICAgaWYgKFNBRkVfRk9SX1RFTVBMQVRFUykge1xuICAgICAgICBhcnJheUZvckVhY2goW01VU1RBQ0hFX0VYUFIsIEVSQl9FWFBSLCBUTVBMSVRfRVhQUl0sIGV4cHIgPT4ge1xuICAgICAgICAgIHZhbHVlID0gc3RyaW5nUmVwbGFjZSh2YWx1ZSwgZXhwciwgJyAnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvKiBJcyBgdmFsdWVgIHZhbGlkIGZvciB0aGlzIGF0dHJpYnV0ZT8gKi9cbiAgICAgIGNvbnN0IGxjVGFnID0gdHJhbnNmb3JtQ2FzZUZ1bmMoY3VycmVudE5vZGUubm9kZU5hbWUpO1xuICAgICAgaWYgKCFfaXNWYWxpZEF0dHJpYnV0ZShsY1RhZywgbGNOYW1lLCB2YWx1ZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvKiBIYW5kbGUgYXR0cmlidXRlcyB0aGF0IHJlcXVpcmUgVHJ1c3RlZCBUeXBlcyAqL1xuICAgICAgaWYgKHRydXN0ZWRUeXBlc1BvbGljeSAmJiB0eXBlb2YgdHJ1c3RlZFR5cGVzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdHJ1c3RlZFR5cGVzLmdldEF0dHJpYnV0ZVR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKG5hbWVzcGFjZVVSSSkgOyBlbHNlIHtcbiAgICAgICAgICBzd2l0Y2ggKHRydXN0ZWRUeXBlcy5nZXRBdHRyaWJ1dGVUeXBlKGxjVGFnLCBsY05hbWUpKSB7XG4gICAgICAgICAgICBjYXNlICdUcnVzdGVkSFRNTCc6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVIVE1MKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnVHJ1c3RlZFNjcmlwdFVSTCc6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVTY3JpcHRVUkwodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiBIYW5kbGUgaW52YWxpZCBkYXRhLSogYXR0cmlidXRlIHNldCBieSB0cnktY2F0Y2hpbmcgaXQgKi9cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChuYW1lc3BhY2VVUkkpIHtcbiAgICAgICAgICBjdXJyZW50Tm9kZS5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2VVUkksIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKiBGYWxsYmFjayB0byBzZXRBdHRyaWJ1dGUoKSBmb3IgYnJvd3Nlci11bnJlY29nbml6ZWQgbmFtZXNwYWNlcyBlLmcuIFwieC1zY2hlbWFcIi4gKi9cbiAgICAgICAgICBjdXJyZW50Tm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfaXNDbG9iYmVyZWQoY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgX2ZvcmNlUmVtb3ZlKGN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcnJheVBvcChET01QdXJpZnkucmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKF8pIHt9XG4gICAgfVxuICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLmFmdGVyU2FuaXRpemVBdHRyaWJ1dGVzLCBjdXJyZW50Tm9kZSwgbnVsbCk7XG4gIH07XG4gIC8qKlxuICAgKiBfc2FuaXRpemVTaGFkb3dET01cbiAgICpcbiAgICogQHBhcmFtIGZyYWdtZW50IHRvIGl0ZXJhdGUgb3ZlciByZWN1cnNpdmVseVxuICAgKi9cbiAgY29uc3QgX3Nhbml0aXplU2hhZG93RE9NID0gZnVuY3Rpb24gX3Nhbml0aXplU2hhZG93RE9NKGZyYWdtZW50KSB7XG4gICAgbGV0IHNoYWRvd05vZGUgPSBudWxsO1xuICAgIGNvbnN0IHNoYWRvd0l0ZXJhdG9yID0gX2NyZWF0ZU5vZGVJdGVyYXRvcihmcmFnbWVudCk7XG4gICAgLyogRXhlY3V0ZSBhIGhvb2sgaWYgcHJlc2VudCAqL1xuICAgIF9leGVjdXRlSG9va3MoaG9va3MuYmVmb3JlU2FuaXRpemVTaGFkb3dET00sIGZyYWdtZW50LCBudWxsKTtcbiAgICB3aGlsZSAoc2hhZG93Tm9kZSA9IHNoYWRvd0l0ZXJhdG9yLm5leHROb2RlKCkpIHtcbiAgICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICAgIF9leGVjdXRlSG9va3MoaG9va3MudXBvblNhbml0aXplU2hhZG93Tm9kZSwgc2hhZG93Tm9kZSwgbnVsbCk7XG4gICAgICAvKiBTYW5pdGl6ZSB0YWdzIGFuZCBlbGVtZW50cyAqL1xuICAgICAgX3Nhbml0aXplRWxlbWVudHMoc2hhZG93Tm9kZSk7XG4gICAgICAvKiBDaGVjayBhdHRyaWJ1dGVzIG5leHQgKi9cbiAgICAgIF9zYW5pdGl6ZUF0dHJpYnV0ZXMoc2hhZG93Tm9kZSk7XG4gICAgICAvKiBEZWVwIHNoYWRvdyBET00gZGV0ZWN0ZWQgKi9cbiAgICAgIGlmIChzaGFkb3dOb2RlLmNvbnRlbnQgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSB7XG4gICAgICAgIF9zYW5pdGl6ZVNoYWRvd0RPTShzaGFkb3dOb2RlLmNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBFeGVjdXRlIGEgaG9vayBpZiBwcmVzZW50ICovXG4gICAgX2V4ZWN1dGVIb29rcyhob29rcy5hZnRlclNhbml0aXplU2hhZG93RE9NLCBmcmFnbWVudCwgbnVsbCk7XG4gIH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG4gIERPTVB1cmlmeS5zYW5pdGl6ZSA9IGZ1bmN0aW9uIChkaXJ0eSkge1xuICAgIGxldCBjZmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGxldCBib2R5ID0gbnVsbDtcbiAgICBsZXQgaW1wb3J0ZWROb2RlID0gbnVsbDtcbiAgICBsZXQgY3VycmVudE5vZGUgPSBudWxsO1xuICAgIGxldCByZXR1cm5Ob2RlID0gbnVsbDtcbiAgICAvKiBNYWtlIHN1cmUgd2UgaGF2ZSBhIHN0cmluZyB0byBzYW5pdGl6ZS5cbiAgICAgIERPIE5PVCByZXR1cm4gZWFybHksIGFzIHRoaXMgd2lsbCByZXR1cm4gdGhlIHdyb25nIHR5cGUgaWZcbiAgICAgIHRoZSB1c2VyIGhhcyByZXF1ZXN0ZWQgYSBET00gb2JqZWN0IHJhdGhlciB0aGFuIGEgc3RyaW5nICovXG4gICAgSVNfRU1QVFlfSU5QVVQgPSAhZGlydHk7XG4gICAgaWYgKElTX0VNUFRZX0lOUFVUKSB7XG4gICAgICBkaXJ0eSA9ICc8IS0tPic7XG4gICAgfVxuICAgIC8qIFN0cmluZ2lmeSwgaW4gY2FzZSBkaXJ0eSBpcyBhbiBvYmplY3QgKi9cbiAgICBpZiAodHlwZW9mIGRpcnR5ICE9PSAnc3RyaW5nJyAmJiAhX2lzTm9kZShkaXJ0eSkpIHtcbiAgICAgIGlmICh0eXBlb2YgZGlydHkudG9TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGlydHkgPSBkaXJ0eS50b1N0cmluZygpO1xuICAgICAgICBpZiAodHlwZW9mIGRpcnR5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRocm93IHR5cGVFcnJvckNyZWF0ZSgnZGlydHkgaXMgbm90IGEgc3RyaW5nLCBhYm9ydGluZycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyB0eXBlRXJyb3JDcmVhdGUoJ3RvU3RyaW5nIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIFJldHVybiBkaXJ0eSBIVE1MIGlmIERPTVB1cmlmeSBjYW5ub3QgcnVuICovXG4gICAgaWYgKCFET01QdXJpZnkuaXNTdXBwb3J0ZWQpIHtcbiAgICAgIHJldHVybiBkaXJ0eTtcbiAgICB9XG4gICAgLyogQXNzaWduIGNvbmZpZyB2YXJzICovXG4gICAgaWYgKCFTRVRfQ09ORklHKSB7XG4gICAgICBfcGFyc2VDb25maWcoY2ZnKTtcbiAgICB9XG4gICAgLyogQ2xlYW4gdXAgcmVtb3ZlZCBlbGVtZW50cyAqL1xuICAgIERPTVB1cmlmeS5yZW1vdmVkID0gW107XG4gICAgLyogQ2hlY2sgaWYgZGlydHkgaXMgY29ycmVjdGx5IHR5cGVkIGZvciBJTl9QTEFDRSAqL1xuICAgIGlmICh0eXBlb2YgZGlydHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBJTl9QTEFDRSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSU5fUExBQ0UpIHtcbiAgICAgIC8qIERvIHNvbWUgZWFybHkgcHJlLXNhbml0aXphdGlvbiB0byBhdm9pZCB1bnNhZmUgcm9vdCBub2RlcyAqL1xuICAgICAgaWYgKGRpcnR5Lm5vZGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSB0cmFuc2Zvcm1DYXNlRnVuYyhkaXJ0eS5ub2RlTmFtZSk7XG4gICAgICAgIGlmICghQUxMT1dFRF9UQUdTW3RhZ05hbWVdIHx8IEZPUkJJRF9UQUdTW3RhZ05hbWVdKSB7XG4gICAgICAgICAgdGhyb3cgdHlwZUVycm9yQ3JlYXRlKCdyb290IG5vZGUgaXMgZm9yYmlkZGVuIGFuZCBjYW5ub3QgYmUgc2FuaXRpemVkIGluLXBsYWNlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpcnR5IGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgLyogSWYgZGlydHkgaXMgYSBET00gZWxlbWVudCwgYXBwZW5kIHRvIGFuIGVtcHR5IGRvY3VtZW50IHRvIGF2b2lkXG4gICAgICAgICBlbGVtZW50cyBiZWluZyBzdHJpcHBlZCBieSB0aGUgcGFyc2VyICovXG4gICAgICBib2R5ID0gX2luaXREb2N1bWVudCgnPCEtLS0tPicpO1xuICAgICAgaW1wb3J0ZWROb2RlID0gYm9keS5vd25lckRvY3VtZW50LmltcG9ydE5vZGUoZGlydHksIHRydWUpO1xuICAgICAgaWYgKGltcG9ydGVkTm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFLmVsZW1lbnQgJiYgaW1wb3J0ZWROb2RlLm5vZGVOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgLyogTm9kZSBpcyBhbHJlYWR5IGEgYm9keSwgdXNlIGFzIGlzICovXG4gICAgICAgIGJvZHkgPSBpbXBvcnRlZE5vZGU7XG4gICAgICB9IGVsc2UgaWYgKGltcG9ydGVkTm9kZS5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICAgIGJvZHkgPSBpbXBvcnRlZE5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItZG9tLW5vZGUtYXBwZW5kXG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoaW1wb3J0ZWROb2RlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyogRXhpdCBkaXJlY3RseSBpZiB3ZSBoYXZlIG5vdGhpbmcgdG8gZG8gKi9cbiAgICAgIGlmICghUkVUVVJOX0RPTSAmJiAhU0FGRV9GT1JfVEVNUExBVEVTICYmICFXSE9MRV9ET0NVTUVOVCAmJlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vcHJlZmVyLWluY2x1ZGVzXG4gICAgICBkaXJ0eS5pbmRleE9mKCc8JykgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkVHlwZXNQb2xpY3kgJiYgUkVUVVJOX1RSVVNURURfVFlQRSA/IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVIVE1MKGRpcnR5KSA6IGRpcnR5O1xuICAgICAgfVxuICAgICAgLyogSW5pdGlhbGl6ZSB0aGUgZG9jdW1lbnQgdG8gd29yayBvbiAqL1xuICAgICAgYm9keSA9IF9pbml0RG9jdW1lbnQoZGlydHkpO1xuICAgICAgLyogQ2hlY2sgd2UgaGF2ZSBhIERPTSBub2RlIGZyb20gdGhlIGRhdGEgKi9cbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICByZXR1cm4gUkVUVVJOX0RPTSA/IG51bGwgOiBSRVRVUk5fVFJVU1RFRF9UWVBFID8gZW1wdHlIVE1MIDogJyc7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIFJlbW92ZSBmaXJzdCBlbGVtZW50IG5vZGUgKG91cnMpIGlmIEZPUkNFX0JPRFkgaXMgc2V0ICovXG4gICAgaWYgKGJvZHkgJiYgRk9SQ0VfQk9EWSkge1xuICAgICAgX2ZvcmNlUmVtb3ZlKGJvZHkuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIC8qIEdldCBub2RlIGl0ZXJhdG9yICovXG4gICAgY29uc3Qgbm9kZUl0ZXJhdG9yID0gX2NyZWF0ZU5vZGVJdGVyYXRvcihJTl9QTEFDRSA/IGRpcnR5IDogYm9keSk7XG4gICAgLyogTm93IHN0YXJ0IGl0ZXJhdGluZyBvdmVyIHRoZSBjcmVhdGVkIGRvY3VtZW50ICovXG4gICAgd2hpbGUgKGN1cnJlbnROb2RlID0gbm9kZUl0ZXJhdG9yLm5leHROb2RlKCkpIHtcbiAgICAgIC8qIFNhbml0aXplIHRhZ3MgYW5kIGVsZW1lbnRzICovXG4gICAgICBfc2FuaXRpemVFbGVtZW50cyhjdXJyZW50Tm9kZSk7XG4gICAgICAvKiBDaGVjayBhdHRyaWJ1dGVzIG5leHQgKi9cbiAgICAgIF9zYW5pdGl6ZUF0dHJpYnV0ZXMoY3VycmVudE5vZGUpO1xuICAgICAgLyogU2hhZG93IERPTSBkZXRlY3RlZCwgc2FuaXRpemUgaXQgKi9cbiAgICAgIGlmIChjdXJyZW50Tm9kZS5jb250ZW50IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgICBfc2FuaXRpemVTaGFkb3dET00oY3VycmVudE5vZGUuY29udGVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIElmIHdlIHNhbml0aXplZCBgZGlydHlgIGluLXBsYWNlLCByZXR1cm4gaXQuICovXG4gICAgaWYgKElOX1BMQUNFKSB7XG4gICAgICByZXR1cm4gZGlydHk7XG4gICAgfVxuICAgIC8qIFJldHVybiBzYW5pdGl6ZWQgc3RyaW5nIG9yIERPTSAqL1xuICAgIGlmIChSRVRVUk5fRE9NKSB7XG4gICAgICBpZiAoUkVUVVJOX0RPTV9GUkFHTUVOVCkge1xuICAgICAgICByZXR1cm5Ob2RlID0gY3JlYXRlRG9jdW1lbnRGcmFnbWVudC5jYWxsKGJvZHkub3duZXJEb2N1bWVudCk7XG4gICAgICAgIHdoaWxlIChib2R5LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItZG9tLW5vZGUtYXBwZW5kXG4gICAgICAgICAgcmV0dXJuTm9kZS5hcHBlbmRDaGlsZChib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5Ob2RlID0gYm9keTtcbiAgICAgIH1cbiAgICAgIGlmIChBTExPV0VEX0FUVFIuc2hhZG93cm9vdCB8fCBBTExPV0VEX0FUVFIuc2hhZG93cm9vdG1vZGUpIHtcbiAgICAgICAgLypcbiAgICAgICAgICBBZG9wdE5vZGUoKSBpcyBub3QgdXNlZCBiZWNhdXNlIGludGVybmFsIHN0YXRlIGlzIG5vdCByZXNldFxuICAgICAgICAgIChlLmcuIHRoZSBwYXN0IG5hbWVzIG1hcCBvZiBhIEhUTUxGb3JtRWxlbWVudCksIHRoaXMgaXMgc2FmZVxuICAgICAgICAgIGluIHRoZW9yeSBidXQgd2Ugd291bGQgcmF0aGVyIG5vdCByaXNrIGFub3RoZXIgYXR0YWNrIHZlY3Rvci5cbiAgICAgICAgICBUaGUgc3RhdGUgdGhhdCBpcyBjbG9uZWQgYnkgaW1wb3J0Tm9kZSgpIGlzIGV4cGxpY2l0bHkgZGVmaW5lZFxuICAgICAgICAgIGJ5IHRoZSBzcGVjcy5cbiAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuTm9kZSA9IGltcG9ydE5vZGUuY2FsbChvcmlnaW5hbERvY3VtZW50LCByZXR1cm5Ob2RlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXR1cm5Ob2RlO1xuICAgIH1cbiAgICBsZXQgc2VyaWFsaXplZEhUTUwgPSBXSE9MRV9ET0NVTUVOVCA/IGJvZHkub3V0ZXJIVE1MIDogYm9keS5pbm5lckhUTUw7XG4gICAgLyogU2VyaWFsaXplIGRvY3R5cGUgaWYgYWxsb3dlZCAqL1xuICAgIGlmIChXSE9MRV9ET0NVTUVOVCAmJiBBTExPV0VEX1RBR1NbJyFkb2N0eXBlJ10gJiYgYm9keS5vd25lckRvY3VtZW50ICYmIGJvZHkub3duZXJEb2N1bWVudC5kb2N0eXBlICYmIGJvZHkub3duZXJEb2N1bWVudC5kb2N0eXBlLm5hbWUgJiYgcmVnRXhwVGVzdChET0NUWVBFX05BTUUsIGJvZHkub3duZXJEb2N1bWVudC5kb2N0eXBlLm5hbWUpKSB7XG4gICAgICBzZXJpYWxpemVkSFRNTCA9ICc8IURPQ1RZUEUgJyArIGJvZHkub3duZXJEb2N1bWVudC5kb2N0eXBlLm5hbWUgKyAnPlxcbicgKyBzZXJpYWxpemVkSFRNTDtcbiAgICB9XG4gICAgLyogU2FuaXRpemUgZmluYWwgc3RyaW5nIHRlbXBsYXRlLXNhZmUgKi9cbiAgICBpZiAoU0FGRV9GT1JfVEVNUExBVEVTKSB7XG4gICAgICBhcnJheUZvckVhY2goW01VU1RBQ0hFX0VYUFIsIEVSQl9FWFBSLCBUTVBMSVRfRVhQUl0sIGV4cHIgPT4ge1xuICAgICAgICBzZXJpYWxpemVkSFRNTCA9IHN0cmluZ1JlcGxhY2Uoc2VyaWFsaXplZEhUTUwsIGV4cHIsICcgJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydXN0ZWRUeXBlc1BvbGljeSAmJiBSRVRVUk5fVFJVU1RFRF9UWVBFID8gdHJ1c3RlZFR5cGVzUG9saWN5LmNyZWF0ZUhUTUwoc2VyaWFsaXplZEhUTUwpIDogc2VyaWFsaXplZEhUTUw7XG4gIH07XG4gIERPTVB1cmlmeS5zZXRDb25maWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGNmZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgX3BhcnNlQ29uZmlnKGNmZyk7XG4gICAgU0VUX0NPTkZJRyA9IHRydWU7XG4gIH07XG4gIERPTVB1cmlmeS5jbGVhckNvbmZpZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBDT05GSUcgPSBudWxsO1xuICAgIFNFVF9DT05GSUcgPSBmYWxzZTtcbiAgfTtcbiAgRE9NUHVyaWZ5LmlzVmFsaWRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAodGFnLCBhdHRyLCB2YWx1ZSkge1xuICAgIC8qIEluaXRpYWxpemUgc2hhcmVkIGNvbmZpZyB2YXJzIGlmIG5lY2Vzc2FyeS4gKi9cbiAgICBpZiAoIUNPTkZJRykge1xuICAgICAgX3BhcnNlQ29uZmlnKHt9KTtcbiAgICB9XG4gICAgY29uc3QgbGNUYWcgPSB0cmFuc2Zvcm1DYXNlRnVuYyh0YWcpO1xuICAgIGNvbnN0IGxjTmFtZSA9IHRyYW5zZm9ybUNhc2VGdW5jKGF0dHIpO1xuICAgIHJldHVybiBfaXNWYWxpZEF0dHJpYnV0ZShsY1RhZywgbGNOYW1lLCB2YWx1ZSk7XG4gIH07XG4gIERPTVB1cmlmeS5hZGRIb29rID0gZnVuY3Rpb24gKGVudHJ5UG9pbnQsIGhvb2tGdW5jdGlvbikge1xuICAgIGlmICh0eXBlb2YgaG9va0Z1bmN0aW9uICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFycmF5UHVzaChob29rc1tlbnRyeVBvaW50XSwgaG9va0Z1bmN0aW9uKTtcbiAgfTtcbiAgRE9NUHVyaWZ5LnJlbW92ZUhvb2sgPSBmdW5jdGlvbiAoZW50cnlQb2ludCwgaG9va0Z1bmN0aW9uKSB7XG4gICAgaWYgKGhvb2tGdW5jdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGFycmF5TGFzdEluZGV4T2YoaG9va3NbZW50cnlQb2ludF0sIGhvb2tGdW5jdGlvbik7XG4gICAgICByZXR1cm4gaW5kZXggPT09IC0xID8gdW5kZWZpbmVkIDogYXJyYXlTcGxpY2UoaG9va3NbZW50cnlQb2ludF0sIGluZGV4LCAxKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5UG9wKGhvb2tzW2VudHJ5UG9pbnRdKTtcbiAgfTtcbiAgRE9NUHVyaWZ5LnJlbW92ZUhvb2tzID0gZnVuY3Rpb24gKGVudHJ5UG9pbnQpIHtcbiAgICBob29rc1tlbnRyeVBvaW50XSA9IFtdO1xuICB9O1xuICBET01QdXJpZnkucmVtb3ZlQWxsSG9va3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgaG9va3MgPSBfY3JlYXRlSG9va3NNYXAoKTtcbiAgfTtcbiAgcmV0dXJuIERPTVB1cmlmeTtcbn1cbnZhciBwdXJpZnkgPSBjcmVhdGVET01QdXJpZnkoKTtcblxuZXhwb3J0IHsgcHVyaWZ5IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1cmlmeS5lcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/dompurify/dist/purify.es.mjs\n\n}");

/***/ }),

/***/ "./node_modules/handlebars/dist/handlebars.js":
/*!****************************************************!*\
  !*** ./node_modules/handlebars/dist/handlebars.js ***!
  \****************************************************/
/***/ (function(module) {

eval("{/**!\n\n @license\n handlebars v4.7.8\n\nCopyright (C) 2011-2019 by Yehuda Katz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse // removed by dead control flow\n{}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_1638__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_1638__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__nested_webpack_require_1638__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__nested_webpack_require_1638__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__nested_webpack_require_1638__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nested_webpack_require_1638__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __nested_webpack_require_2839__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_2839__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _handlebarsRuntime = __nested_webpack_require_2839__(2);\n\n\tvar _handlebarsRuntime2 = _interopRequireDefault(_handlebarsRuntime);\n\n\t// Compiler imports\n\n\tvar _handlebarsCompilerAst = __nested_webpack_require_2839__(84);\n\n\tvar _handlebarsCompilerAst2 = _interopRequireDefault(_handlebarsCompilerAst);\n\n\tvar _handlebarsCompilerBase = __nested_webpack_require_2839__(85);\n\n\tvar _handlebarsCompilerCompiler = __nested_webpack_require_2839__(90);\n\n\tvar _handlebarsCompilerJavascriptCompiler = __nested_webpack_require_2839__(91);\n\n\tvar _handlebarsCompilerJavascriptCompiler2 = _interopRequireDefault(_handlebarsCompilerJavascriptCompiler);\n\n\tvar _handlebarsCompilerVisitor = __nested_webpack_require_2839__(88);\n\n\tvar _handlebarsCompilerVisitor2 = _interopRequireDefault(_handlebarsCompilerVisitor);\n\n\tvar _handlebarsNoConflict = __nested_webpack_require_2839__(83);\n\n\tvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n\tvar _create = _handlebarsRuntime2['default'].create;\n\tfunction create() {\n\t  var hb = _create();\n\n\t  hb.compile = function (input, options) {\n\t    return _handlebarsCompilerCompiler.compile(input, options, hb);\n\t  };\n\t  hb.precompile = function (input, options) {\n\t    return _handlebarsCompilerCompiler.precompile(input, options, hb);\n\t  };\n\n\t  hb.AST = _handlebarsCompilerAst2['default'];\n\t  hb.Compiler = _handlebarsCompilerCompiler.Compiler;\n\t  hb.JavaScriptCompiler = _handlebarsCompilerJavascriptCompiler2['default'];\n\t  hb.Parser = _handlebarsCompilerBase.parser;\n\t  hb.parse = _handlebarsCompilerBase.parse;\n\t  hb.parseWithoutProcessing = _handlebarsCompilerBase.parseWithoutProcessing;\n\n\t  return hb;\n\t}\n\n\tvar inst = create();\n\tinst.create = create;\n\n\t_handlebarsNoConflict2['default'](inst);\n\n\tinst.Visitor = _handlebarsCompilerVisitor2['default'];\n\n\tinst['default'] = inst;\n\n\texports['default'] = inst;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports[\"default\"] = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    \"default\": obj\n\t  };\n\t};\n\n\texports.__esModule = true;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __nested_webpack_require_5051__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __nested_webpack_require_5051__(3)['default'];\n\n\tvar _interopRequireDefault = __nested_webpack_require_5051__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _handlebarsBase = __nested_webpack_require_5051__(4);\n\n\tvar base = _interopRequireWildcard(_handlebarsBase);\n\n\t// Each of these augment the Handlebars object. No need to setup here.\n\t// (This is done to easily share code between commonjs and browse envs)\n\n\tvar _handlebarsSafeString = __nested_webpack_require_5051__(77);\n\n\tvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\n\tvar _handlebarsException = __nested_webpack_require_5051__(6);\n\n\tvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\n\tvar _handlebarsUtils = __nested_webpack_require_5051__(5);\n\n\tvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\n\tvar _handlebarsRuntime = __nested_webpack_require_5051__(78);\n\n\tvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\n\tvar _handlebarsNoConflict = __nested_webpack_require_5051__(83);\n\n\tvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n\t// For compatibility and usage outside of module systems, make the Handlebars object a namespace\n\tfunction create() {\n\t  var hb = new base.HandlebarsEnvironment();\n\n\t  Utils.extend(hb, base);\n\t  hb.SafeString = _handlebarsSafeString2['default'];\n\t  hb.Exception = _handlebarsException2['default'];\n\t  hb.Utils = Utils;\n\t  hb.escapeExpression = Utils.escapeExpression;\n\n\t  hb.VM = runtime;\n\t  hb.template = function (spec) {\n\t    return runtime.template(spec, hb);\n\t  };\n\n\t  return hb;\n\t}\n\n\tvar inst = create();\n\tinst.create = create;\n\n\t_handlebarsNoConflict2['default'](inst);\n\n\tinst['default'] = inst;\n\n\texports['default'] = inst;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports[\"default\"] = function (obj) {\n\t  if (obj && obj.__esModule) {\n\t    return obj;\n\t  } else {\n\t    var newObj = {};\n\n\t    if (obj != null) {\n\t      for (var key in obj) {\n\t        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n\t      }\n\t    }\n\n\t    newObj[\"default\"] = obj;\n\t    return newObj;\n\t  }\n\t};\n\n\texports.__esModule = true;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __nested_webpack_require_7277__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_7277__(1)['default'];\n\n\texports.__esModule = true;\n\texports.HandlebarsEnvironment = HandlebarsEnvironment;\n\n\tvar _utils = __nested_webpack_require_7277__(5);\n\n\tvar _exception = __nested_webpack_require_7277__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _helpers = __nested_webpack_require_7277__(10);\n\n\tvar _decorators = __nested_webpack_require_7277__(70);\n\n\tvar _logger = __nested_webpack_require_7277__(72);\n\n\tvar _logger2 = _interopRequireDefault(_logger);\n\n\tvar _internalProtoAccess = __nested_webpack_require_7277__(73);\n\n\tvar VERSION = '4.7.8';\n\texports.VERSION = VERSION;\n\tvar COMPILER_REVISION = 8;\n\texports.COMPILER_REVISION = COMPILER_REVISION;\n\tvar LAST_COMPATIBLE_COMPILER_REVISION = 7;\n\n\texports.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;\n\tvar REVISION_CHANGES = {\n\t  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n\t  2: '== 1.0.0-rc.3',\n\t  3: '== 1.0.0-rc.4',\n\t  4: '== 1.x.x',\n\t  5: '== 2.0.0-alpha.x',\n\t  6: '>= 2.0.0-beta.1',\n\t  7: '>= 4.0.0 <4.3.0',\n\t  8: '>= 4.3.0'\n\t};\n\n\texports.REVISION_CHANGES = REVISION_CHANGES;\n\tvar objectType = '[object Object]';\n\n\tfunction HandlebarsEnvironment(helpers, partials, decorators) {\n\t  this.helpers = helpers || {};\n\t  this.partials = partials || {};\n\t  this.decorators = decorators || {};\n\n\t  _helpers.registerDefaultHelpers(this);\n\t  _decorators.registerDefaultDecorators(this);\n\t}\n\n\tHandlebarsEnvironment.prototype = {\n\t  constructor: HandlebarsEnvironment,\n\n\t  logger: _logger2['default'],\n\t  log: _logger2['default'].log,\n\n\t  registerHelper: function registerHelper(name, fn) {\n\t    if (_utils.toString.call(name) === objectType) {\n\t      if (fn) {\n\t        throw new _exception2['default']('Arg not supported with multiple helpers');\n\t      }\n\t      _utils.extend(this.helpers, name);\n\t    } else {\n\t      this.helpers[name] = fn;\n\t    }\n\t  },\n\t  unregisterHelper: function unregisterHelper(name) {\n\t    delete this.helpers[name];\n\t  },\n\n\t  registerPartial: function registerPartial(name, partial) {\n\t    if (_utils.toString.call(name) === objectType) {\n\t      _utils.extend(this.partials, name);\n\t    } else {\n\t      if (typeof partial === 'undefined') {\n\t        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n\t      }\n\t      this.partials[name] = partial;\n\t    }\n\t  },\n\t  unregisterPartial: function unregisterPartial(name) {\n\t    delete this.partials[name];\n\t  },\n\n\t  registerDecorator: function registerDecorator(name, fn) {\n\t    if (_utils.toString.call(name) === objectType) {\n\t      if (fn) {\n\t        throw new _exception2['default']('Arg not supported with multiple decorators');\n\t      }\n\t      _utils.extend(this.decorators, name);\n\t    } else {\n\t      this.decorators[name] = fn;\n\t    }\n\t  },\n\t  unregisterDecorator: function unregisterDecorator(name) {\n\t    delete this.decorators[name];\n\t  },\n\t  /**\n\t   * Reset the memory of illegal property accesses that have already been logged.\n\t   * @deprecated should only be used in handlebars test-cases\n\t   */\n\t  resetLoggedPropertyAccesses: function resetLoggedPropertyAccesses() {\n\t    _internalProtoAccess.resetLoggedProperties();\n\t  }\n\t};\n\n\tvar log = _logger2['default'].log;\n\n\texports.log = log;\n\texports.createFrame = _utils.createFrame;\n\texports.logger = _logger2['default'];\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\texports.extend = extend;\n\texports.indexOf = indexOf;\n\texports.escapeExpression = escapeExpression;\n\texports.isEmpty = isEmpty;\n\texports.createFrame = createFrame;\n\texports.blockParams = blockParams;\n\texports.appendContextPath = appendContextPath;\n\tvar escape = {\n\t  '&': '&amp;',\n\t  '<': '&lt;',\n\t  '>': '&gt;',\n\t  '\"': '&quot;',\n\t  \"'\": '&#x27;',\n\t  '`': '&#x60;',\n\t  '=': '&#x3D;'\n\t};\n\n\tvar badChars = /[&<>\"'`=]/g,\n\t    possible = /[&<>\"'`=]/;\n\n\tfunction escapeChar(chr) {\n\t  return escape[chr];\n\t}\n\n\tfunction extend(obj /* , ...source */) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    for (var key in arguments[i]) {\n\t      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n\t        obj[key] = arguments[i][key];\n\t      }\n\t    }\n\t  }\n\n\t  return obj;\n\t}\n\n\tvar toString = Object.prototype.toString;\n\n\texports.toString = toString;\n\t// Sourced from lodash\n\t// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n\t/* eslint-disable func-style */\n\tvar isFunction = function isFunction(value) {\n\t  return typeof value === 'function';\n\t};\n\t// fallback for older versions of Chrome and Safari\n\t/* istanbul ignore next */\n\tif (isFunction(/x/)) {\n\t  exports.isFunction = isFunction = function (value) {\n\t    return typeof value === 'function' && toString.call(value) === '[object Function]';\n\t  };\n\t}\n\texports.isFunction = isFunction;\n\n\t/* eslint-enable func-style */\n\n\t/* istanbul ignore next */\n\tvar isArray = Array.isArray || function (value) {\n\t  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n\t};\n\n\texports.isArray = isArray;\n\t// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\n\tfunction indexOf(array, value) {\n\t  for (var i = 0, len = array.length; i < len; i++) {\n\t    if (array[i] === value) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\tfunction escapeExpression(string) {\n\t  if (typeof string !== 'string') {\n\t    // don't escape SafeStrings, since they're already safe\n\t    if (string && string.toHTML) {\n\t      return string.toHTML();\n\t    } else if (string == null) {\n\t      return '';\n\t    } else if (!string) {\n\t      return string + '';\n\t    }\n\n\t    // Force a string conversion as this will be done by the append regardless and\n\t    // the regex test will do this transparently behind the scenes, causing issues if\n\t    // an object's to string has escaped characters in it.\n\t    string = '' + string;\n\t  }\n\n\t  if (!possible.test(string)) {\n\t    return string;\n\t  }\n\t  return string.replace(badChars, escapeChar);\n\t}\n\n\tfunction isEmpty(value) {\n\t  if (!value && value !== 0) {\n\t    return true;\n\t  } else if (isArray(value) && value.length === 0) {\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t}\n\n\tfunction createFrame(object) {\n\t  var frame = extend({}, object);\n\t  frame._parent = object;\n\t  return frame;\n\t}\n\n\tfunction blockParams(params, ids) {\n\t  params.path = ids;\n\t  return params;\n\t}\n\n\tfunction appendContextPath(contextPath, id) {\n\t  return (contextPath ? contextPath + '.' : '') + id;\n\t}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __nested_webpack_require_13814__) {\n\n\t'use strict';\n\n\tvar _Object$defineProperty = __nested_webpack_require_13814__(7)['default'];\n\n\texports.__esModule = true;\n\tvar errorProps = ['description', 'fileName', 'lineNumber', 'endLineNumber', 'message', 'name', 'number', 'stack'];\n\n\tfunction Exception(message, node) {\n\t  var loc = node && node.loc,\n\t      line = undefined,\n\t      endLineNumber = undefined,\n\t      column = undefined,\n\t      endColumn = undefined;\n\n\t  if (loc) {\n\t    line = loc.start.line;\n\t    endLineNumber = loc.end.line;\n\t    column = loc.start.column;\n\t    endColumn = loc.end.column;\n\n\t    message += ' - ' + line + ':' + column;\n\t  }\n\n\t  var tmp = Error.prototype.constructor.call(this, message);\n\n\t  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n\t  for (var idx = 0; idx < errorProps.length; idx++) {\n\t    this[errorProps[idx]] = tmp[errorProps[idx]];\n\t  }\n\n\t  /* istanbul ignore else */\n\t  if (Error.captureStackTrace) {\n\t    Error.captureStackTrace(this, Exception);\n\t  }\n\n\t  try {\n\t    if (loc) {\n\t      this.lineNumber = line;\n\t      this.endLineNumber = endLineNumber;\n\n\t      // Work around issue under safari where we can't directly set the column value\n\t      /* istanbul ignore next */\n\t      if (_Object$defineProperty) {\n\t        Object.defineProperty(this, 'column', {\n\t          value: column,\n\t          enumerable: true\n\t        });\n\t        Object.defineProperty(this, 'endColumn', {\n\t          value: endColumn,\n\t          enumerable: true\n\t        });\n\t      } else {\n\t        this.column = column;\n\t        this.endColumn = endColumn;\n\t      }\n\t    }\n\t  } catch (nop) {\n\t    /* Ignore if the browser is very particular */\n\t  }\n\t}\n\n\tException.prototype = new Error();\n\n\texports['default'] = Exception;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __nested_webpack_require_15674__) {\n\n\tmodule.exports = { \"default\": __nested_webpack_require_15674__(8), __esModule: true };\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __nested_webpack_require_15825__) {\n\n\tvar $ = __nested_webpack_require_15825__(9);\n\tmodule.exports = function defineProperty(it, key, desc){\n\t  return $.setDesc(it, key, desc);\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create:     $Object.create,\n\t  getProto:   $Object.getPrototypeOf,\n\t  isEnum:     {}.propertyIsEnumerable,\n\t  getDesc:    $Object.getOwnPropertyDescriptor,\n\t  setDesc:    $Object.defineProperty,\n\t  setDescs:   $Object.defineProperties,\n\t  getKeys:    $Object.keys,\n\t  getNames:   $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each:       [].forEach\n\t};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __nested_webpack_require_16519__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_16519__(1)['default'];\n\n\texports.__esModule = true;\n\texports.registerDefaultHelpers = registerDefaultHelpers;\n\texports.moveHelperToHooks = moveHelperToHooks;\n\n\tvar _helpersBlockHelperMissing = __nested_webpack_require_16519__(11);\n\n\tvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\n\tvar _helpersEach = __nested_webpack_require_16519__(12);\n\n\tvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\n\tvar _helpersHelperMissing = __nested_webpack_require_16519__(65);\n\n\tvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\n\tvar _helpersIf = __nested_webpack_require_16519__(66);\n\n\tvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\n\tvar _helpersLog = __nested_webpack_require_16519__(67);\n\n\tvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\n\tvar _helpersLookup = __nested_webpack_require_16519__(68);\n\n\tvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\n\tvar _helpersWith = __nested_webpack_require_16519__(69);\n\n\tvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\n\tfunction registerDefaultHelpers(instance) {\n\t  _helpersBlockHelperMissing2['default'](instance);\n\t  _helpersEach2['default'](instance);\n\t  _helpersHelperMissing2['default'](instance);\n\t  _helpersIf2['default'](instance);\n\t  _helpersLog2['default'](instance);\n\t  _helpersLookup2['default'](instance);\n\t  _helpersWith2['default'](instance);\n\t}\n\n\tfunction moveHelperToHooks(instance, helperName, keepHelper) {\n\t  if (instance.helpers[helperName]) {\n\t    instance.hooks[helperName] = instance.helpers[helperName];\n\t    if (!keepHelper) {\n\t      delete instance.helpers[helperName];\n\t    }\n\t  }\n\t}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __nested_webpack_require_18215__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __nested_webpack_require_18215__(5);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('blockHelperMissing', function (context, options) {\n\t    var inverse = options.inverse,\n\t        fn = options.fn;\n\n\t    if (context === true) {\n\t      return fn(this);\n\t    } else if (context === false || context == null) {\n\t      return inverse(this);\n\t    } else if (_utils.isArray(context)) {\n\t      if (context.length > 0) {\n\t        if (options.ids) {\n\t          options.ids = [options.name];\n\t        }\n\n\t        return instance.helpers.each(context, options);\n\t      } else {\n\t        return inverse(this);\n\t      }\n\t    } else {\n\t      if (options.data && options.ids) {\n\t        var data = _utils.createFrame(options.data);\n\t        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n\t        options = { data: data };\n\t      }\n\n\t      return fn(context, options);\n\t    }\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __nested_webpack_require_19312__) {\n\n\t'use strict';\n\n\tvar _Symbol = __nested_webpack_require_19312__(13)['default'];\n\n\tvar _Symbol$iterator = __nested_webpack_require_19312__(43)['default'];\n\n\tvar _getIterator = __nested_webpack_require_19312__(55)['default'];\n\n\tvar _Object$keys = __nested_webpack_require_19312__(60)['default'];\n\n\tvar _interopRequireDefault = __nested_webpack_require_19312__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _utils = __nested_webpack_require_19312__(5);\n\n\tvar _exception = __nested_webpack_require_19312__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('each', function (context, options) {\n\t    if (!options) {\n\t      throw new _exception2['default']('Must pass iterator to #each');\n\t    }\n\n\t    var fn = options.fn,\n\t        inverse = options.inverse,\n\t        i = 0,\n\t        ret = '',\n\t        data = undefined,\n\t        contextPath = undefined;\n\n\t    if (options.data && options.ids) {\n\t      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n\t    }\n\n\t    if (_utils.isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    if (options.data) {\n\t      data = _utils.createFrame(options.data);\n\t    }\n\n\t    function execIteration(field, index, last) {\n\t      if (data) {\n\t        data.key = field;\n\t        data.index = index;\n\t        data.first = index === 0;\n\t        data.last = !!last;\n\n\t        if (contextPath) {\n\t          data.contextPath = contextPath + field;\n\t        }\n\t      }\n\n\t      ret = ret + fn(context[field], {\n\t        data: data,\n\t        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n\t      });\n\t    }\n\n\t    if (context && typeof context === 'object') {\n\t      if (_utils.isArray(context)) {\n\t        for (var j = context.length; i < j; i++) {\n\t          if (i in context) {\n\t            execIteration(i, i, i === context.length - 1);\n\t          }\n\t        }\n\t      } else if (typeof _Symbol === 'function' && context[_Symbol$iterator]) {\n\t        var newContext = [];\n\t        var iterator = _getIterator(context);\n\t        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n\t          newContext.push(it.value);\n\t        }\n\t        context = newContext;\n\t        for (var j = context.length; i < j; i++) {\n\t          execIteration(i, i, i === context.length - 1);\n\t        }\n\t      } else {\n\t        (function () {\n\t          var priorKey = undefined;\n\n\t          _Object$keys(context).forEach(function (key) {\n\t            // We're running the iterations one step out of sync so we can detect\n\t            // the last iteration without have to scan the object twice and create\n\t            // an itermediate keys array.\n\t            if (priorKey !== undefined) {\n\t              execIteration(priorKey, i - 1);\n\t            }\n\t            priorKey = key;\n\t            i++;\n\t          });\n\t          if (priorKey !== undefined) {\n\t            execIteration(priorKey, i - 1, true);\n\t          }\n\t        })();\n\t      }\n\t    }\n\n\t    if (i === 0) {\n\t      ret = inverse(this);\n\t    }\n\n\t    return ret;\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __nested_webpack_require_22468__) {\n\n\tmodule.exports = { \"default\": __nested_webpack_require_22468__(14), __esModule: true };\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __nested_webpack_require_22621__) {\n\n\t__nested_webpack_require_22621__(15);\n\t__nested_webpack_require_22621__(42);\n\tmodule.exports = __nested_webpack_require_22621__(21).Symbol;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __nested_webpack_require_22800__) {\n\n\t'use strict';\n\t// ECMAScript 6 symbols shim\n\tvar $              = __nested_webpack_require_22800__(9)\n\t  , global         = __nested_webpack_require_22800__(16)\n\t  , has            = __nested_webpack_require_22800__(17)\n\t  , DESCRIPTORS    = __nested_webpack_require_22800__(18)\n\t  , $export        = __nested_webpack_require_22800__(20)\n\t  , redefine       = __nested_webpack_require_22800__(24)\n\t  , $fails         = __nested_webpack_require_22800__(19)\n\t  , shared         = __nested_webpack_require_22800__(27)\n\t  , setToStringTag = __nested_webpack_require_22800__(28)\n\t  , uid            = __nested_webpack_require_22800__(30)\n\t  , wks            = __nested_webpack_require_22800__(29)\n\t  , keyOf          = __nested_webpack_require_22800__(31)\n\t  , $names         = __nested_webpack_require_22800__(36)\n\t  , enumKeys       = __nested_webpack_require_22800__(37)\n\t  , isArray        = __nested_webpack_require_22800__(38)\n\t  , anObject       = __nested_webpack_require_22800__(39)\n\t  , toIObject      = __nested_webpack_require_22800__(32)\n\t  , createDesc     = __nested_webpack_require_22800__(26)\n\t  , getDesc        = $.getDesc\n\t  , setDesc        = $.setDesc\n\t  , _create        = $.create\n\t  , getNames       = $names.get\n\t  , $Symbol        = global.Symbol\n\t  , $JSON          = global.JSON\n\t  , _stringify     = $JSON && $JSON.stringify\n\t  , setter         = false\n\t  , HIDDEN         = wks('_hidden')\n\t  , isEnum         = $.isEnum\n\t  , SymbolRegistry = shared('symbol-registry')\n\t  , AllSymbols     = shared('symbols')\n\t  , useNative      = typeof $Symbol == 'function'\n\t  , ObjectProto    = Object.prototype;\n\n\t// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n\tvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n\t  return _create(setDesc({}, 'a', {\n\t    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n\t  })).a != 7;\n\t}) ? function(it, key, D){\n\t  var protoDesc = getDesc(ObjectProto, key);\n\t  if(protoDesc)delete ObjectProto[key];\n\t  setDesc(it, key, D);\n\t  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n\t} : setDesc;\n\n\tvar wrap = function(tag){\n\t  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n\t  sym._k = tag;\n\t  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n\t    configurable: true,\n\t    set: function(value){\n\t      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n\t      setSymbolDesc(this, tag, createDesc(1, value));\n\t    }\n\t  });\n\t  return sym;\n\t};\n\n\tvar isSymbol = function(it){\n\t  return typeof it == 'symbol';\n\t};\n\n\tvar $defineProperty = function defineProperty(it, key, D){\n\t  if(D && has(AllSymbols, key)){\n\t    if(!D.enumerable){\n\t      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n\t      it[HIDDEN][key] = true;\n\t    } else {\n\t      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n\t      D = _create(D, {enumerable: createDesc(0, false)});\n\t    } return setSymbolDesc(it, key, D);\n\t  } return setDesc(it, key, D);\n\t};\n\tvar $defineProperties = function defineProperties(it, P){\n\t  anObject(it);\n\t  var keys = enumKeys(P = toIObject(P))\n\t    , i    = 0\n\t    , l = keys.length\n\t    , key;\n\t  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n\t  return it;\n\t};\n\tvar $create = function create(it, P){\n\t  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n\t};\n\tvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n\t  var E = isEnum.call(this, key);\n\t  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n\t    ? E : true;\n\t};\n\tvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n\t  var D = getDesc(it = toIObject(it), key);\n\t  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n\t  return D;\n\t};\n\tvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n\t  var names  = getNames(toIObject(it))\n\t    , result = []\n\t    , i      = 0\n\t    , key;\n\t  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n\t  return result;\n\t};\n\tvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n\t  var names  = getNames(toIObject(it))\n\t    , result = []\n\t    , i      = 0\n\t    , key;\n\t  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n\t  return result;\n\t};\n\tvar $stringify = function stringify(it){\n\t  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n\t  var args = [it]\n\t    , i    = 1\n\t    , $$   = arguments\n\t    , replacer, $replacer;\n\t  while($$.length > i)args.push($$[i++]);\n\t  replacer = args[1];\n\t  if(typeof replacer == 'function')$replacer = replacer;\n\t  if($replacer || !isArray(replacer))replacer = function(key, value){\n\t    if($replacer)value = $replacer.call(this, key, value);\n\t    if(!isSymbol(value))return value;\n\t  };\n\t  args[1] = replacer;\n\t  return _stringify.apply($JSON, args);\n\t};\n\tvar buggyJSON = $fails(function(){\n\t  var S = $Symbol();\n\t  // MS Edge converts symbol values to JSON as {}\n\t  // WebKit converts symbol values to JSON as null\n\t  // V8 throws on boxed symbols\n\t  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n\t});\n\n\t// 19.4.1.1 Symbol([description])\n\tif(!useNative){\n\t  $Symbol = function Symbol(){\n\t    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n\t    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n\t  };\n\t  redefine($Symbol.prototype, 'toString', function toString(){\n\t    return this._k;\n\t  });\n\n\t  isSymbol = function(it){\n\t    return it instanceof $Symbol;\n\t  };\n\n\t  $.create     = $create;\n\t  $.isEnum     = $propertyIsEnumerable;\n\t  $.getDesc    = $getOwnPropertyDescriptor;\n\t  $.setDesc    = $defineProperty;\n\t  $.setDescs   = $defineProperties;\n\t  $.getNames   = $names.get = $getOwnPropertyNames;\n\t  $.getSymbols = $getOwnPropertySymbols;\n\n\t  if(DESCRIPTORS && !__nested_webpack_require_22800__(41)){\n\t    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n\t  }\n\t}\n\n\tvar symbolStatics = {\n\t  // 19.4.2.1 Symbol.for(key)\n\t  'for': function(key){\n\t    return has(SymbolRegistry, key += '')\n\t      ? SymbolRegistry[key]\n\t      : SymbolRegistry[key] = $Symbol(key);\n\t  },\n\t  // 19.4.2.5 Symbol.keyFor(sym)\n\t  keyFor: function keyFor(key){\n\t    return keyOf(SymbolRegistry, key);\n\t  },\n\t  useSetter: function(){ setter = true; },\n\t  useSimple: function(){ setter = false; }\n\t};\n\t// 19.4.2.2 Symbol.hasInstance\n\t// 19.4.2.3 Symbol.isConcatSpreadable\n\t// 19.4.2.4 Symbol.iterator\n\t// 19.4.2.6 Symbol.match\n\t// 19.4.2.8 Symbol.replace\n\t// 19.4.2.9 Symbol.search\n\t// 19.4.2.10 Symbol.species\n\t// 19.4.2.11 Symbol.split\n\t// 19.4.2.12 Symbol.toPrimitive\n\t// 19.4.2.13 Symbol.toStringTag\n\t// 19.4.2.14 Symbol.unscopables\n\t$.each.call((\n\t  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n\t  'species,split,toPrimitive,toStringTag,unscopables'\n\t).split(','), function(it){\n\t  var sym = wks(it);\n\t  symbolStatics[it] = useNative ? sym : wrap(sym);\n\t});\n\n\tsetter = true;\n\n\t$export($export.G + $export.W, {Symbol: $Symbol});\n\n\t$export($export.S, 'Symbol', symbolStatics);\n\n\t$export($export.S + $export.F * !useNative, 'Object', {\n\t  // 19.1.2.2 Object.create(O [, Properties])\n\t  create: $create,\n\t  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n\t  defineProperty: $defineProperty,\n\t  // 19.1.2.3 Object.defineProperties(O, Properties)\n\t  defineProperties: $defineProperties,\n\t  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n\t  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n\t  // 19.1.2.7 Object.getOwnPropertyNames(O)\n\t  getOwnPropertyNames: $getOwnPropertyNames,\n\t  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n\t  getOwnPropertySymbols: $getOwnPropertySymbols\n\t});\n\n\t// 24.3.2 JSON.stringify(value [, replacer [, space]])\n\t$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n\t// 19.4.3.5 Symbol.prototype[@@toStringTag]\n\tsetToStringTag($Symbol, 'Symbol');\n\t// 20.2.1.9 Math[@@toStringTag]\n\tsetToStringTag(Math, 'Math', true);\n\t// 24.3.3 JSON[@@toStringTag]\n\tsetToStringTag(global.JSON, 'JSON', true);\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\tif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tmodule.exports = function(it, key){\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __nested_webpack_require_31367__) {\n\n\t// Thank's IE8 for his funny defineProperty\n\tmodule.exports = !__nested_webpack_require_31367__(19)(function(){\n\t  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n\t});\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(exec){\n\t  try {\n\t    return !!exec();\n\t  } catch(e){\n\t    return true;\n\t  }\n\t};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __nested_webpack_require_31793__) {\n\n\tvar global    = __nested_webpack_require_31793__(16)\n\t  , core      = __nested_webpack_require_31793__(21)\n\t  , ctx       = __nested_webpack_require_31793__(22)\n\t  , PROTOTYPE = 'prototype';\n\n\tvar $export = function(type, name, source){\n\t  var IS_FORCED = type & $export.F\n\t    , IS_GLOBAL = type & $export.G\n\t    , IS_STATIC = type & $export.S\n\t    , IS_PROTO  = type & $export.P\n\t    , IS_BIND   = type & $export.B\n\t    , IS_WRAP   = type & $export.W\n\t    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n\t    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n\t    , key, own, out;\n\t  if(IS_GLOBAL)source = name;\n\t  for(key in source){\n\t    // contains in native\n\t    own = !IS_FORCED && target && key in target;\n\t    if(own && key in exports)continue;\n\t    // export native or passed\n\t    out = own ? target[key] : source[key];\n\t    // prevent global pollution for namespaces\n\t    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n\t    // bind timers to global for call from export context\n\t    : IS_BIND && own ? ctx(out, global)\n\t    // wrap global constructors for prevent change them in library\n\t    : IS_WRAP && target[key] == out ? (function(C){\n\t      var F = function(param){\n\t        return this instanceof C ? new C(param) : C(param);\n\t      };\n\t      F[PROTOTYPE] = C[PROTOTYPE];\n\t      return F;\n\t    // make static versions for prototype methods\n\t    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t  }\n\t};\n\t// type bitmap\n\t$export.F = 1;  // forced\n\t$export.G = 2;  // global\n\t$export.S = 4;  // static\n\t$export.P = 8;  // proto\n\t$export.B = 16; // bind\n\t$export.W = 32; // wrap\n\tmodule.exports = $export;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n\tvar core = module.exports = {version: '1.2.6'};\n\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __nested_webpack_require_33828__) {\n\n\t// optional / simple context binding\n\tvar aFunction = __nested_webpack_require_33828__(23);\n\tmodule.exports = function(fn, that, length){\n\t  aFunction(fn);\n\t  if(that === undefined)return fn;\n\t  switch(length){\n\t    case 1: return function(a){\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function(a, b){\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function(a, b, c){\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function(/* ...args */){\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n\t  return it;\n\t};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __nested_webpack_require_34611__) {\n\n\tmodule.exports = __nested_webpack_require_34611__(25);\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __nested_webpack_require_34731__) {\n\n\tvar $          = __nested_webpack_require_34731__(9)\n\t  , createDesc = __nested_webpack_require_34731__(26);\n\tmodule.exports = __nested_webpack_require_34731__(18) ? function(object, key, value){\n\t  return $.setDesc(object, key, createDesc(1, value));\n\t} : function(object, key, value){\n\t  object[key] = value;\n\t  return object;\n\t};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(bitmap, value){\n\t  return {\n\t    enumerable  : !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable    : !(bitmap & 4),\n\t    value       : value\n\t  };\n\t};\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __nested_webpack_require_35351__) {\n\n\tvar global = __nested_webpack_require_35351__(16)\n\t  , SHARED = '__core-js_shared__'\n\t  , store  = global[SHARED] || (global[SHARED] = {});\n\tmodule.exports = function(key){\n\t  return store[key] || (store[key] = {});\n\t};\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __nested_webpack_require_35636__) {\n\n\tvar def = __nested_webpack_require_35636__(9).setDesc\n\t  , has = __nested_webpack_require_35636__(17)\n\t  , TAG = __nested_webpack_require_35636__(29)('toStringTag');\n\n\tmodule.exports = function(it, tag, stat){\n\t  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n\t};\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __nested_webpack_require_35990__) {\n\n\tvar store  = __nested_webpack_require_35990__(27)('wks')\n\t  , uid    = __nested_webpack_require_35990__(30)\n\t  , Symbol = __nested_webpack_require_35990__(16).Symbol;\n\tmodule.exports = function(name){\n\t  return store[name] || (store[name] =\n\t    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n\t};\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\n\tvar id = 0\n\t  , px = Math.random();\n\tmodule.exports = function(key){\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __nested_webpack_require_36561__) {\n\n\tvar $         = __nested_webpack_require_36561__(9)\n\t  , toIObject = __nested_webpack_require_36561__(32);\n\tmodule.exports = function(object, el){\n\t  var O      = toIObject(object)\n\t    , keys   = $.getKeys(O)\n\t    , length = keys.length\n\t    , index  = 0\n\t    , key;\n\t  while(length > index)if(O[key = keys[index++]] === el)return key;\n\t};\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __nested_webpack_require_36954__) {\n\n\t// to indexed object, toObject with fallback for non-array-like ES3 strings\n\tvar IObject = __nested_webpack_require_36954__(33)\n\t  , defined = __nested_webpack_require_36954__(35);\n\tmodule.exports = function(it){\n\t  return IObject(defined(it));\n\t};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __nested_webpack_require_37255__) {\n\n\t// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\tvar cof = __nested_webpack_require_37255__(34);\n\tmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t};\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\n\tvar toString = {}.toString;\n\n\tmodule.exports = function(it){\n\t  return toString.call(it).slice(8, -1);\n\t};\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports) {\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tmodule.exports = function(it){\n\t  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n\t  return it;\n\t};\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __nested_webpack_require_37963__) {\n\n\t// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n\tvar toIObject = __nested_webpack_require_37963__(32)\n\t  , getNames  = __nested_webpack_require_37963__(9).getNames\n\t  , toString  = {}.toString;\n\n\tvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n\t  ? Object.getOwnPropertyNames(window) : [];\n\n\tvar getWindowNames = function(it){\n\t  try {\n\t    return getNames(it);\n\t  } catch(e){\n\t    return windowNames.slice();\n\t  }\n\t};\n\n\tmodule.exports.get = function getOwnPropertyNames(it){\n\t  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n\t  return getNames(toIObject(it));\n\t};\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __nested_webpack_require_38672__) {\n\n\t// all enumerable object keys, includes symbols\n\tvar $ = __nested_webpack_require_38672__(9);\n\tmodule.exports = function(it){\n\t  var keys       = $.getKeys(it)\n\t    , getSymbols = $.getSymbols;\n\t  if(getSymbols){\n\t    var symbols = getSymbols(it)\n\t      , isEnum  = $.isEnum\n\t      , i       = 0\n\t      , key;\n\t    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n\t  }\n\t  return keys;\n\t};\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __nested_webpack_require_39157__) {\n\n\t// 7.2.2 IsArray(argument)\n\tvar cof = __nested_webpack_require_39157__(34);\n\tmodule.exports = Array.isArray || function(arg){\n\t  return cof(arg) == 'Array';\n\t};\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __nested_webpack_require_39383__) {\n\n\tvar isObject = __nested_webpack_require_39383__(40);\n\tmodule.exports = function(it){\n\t  if(!isObject(it))throw TypeError(it + ' is not an object!');\n\t  return it;\n\t};\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = true;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports) {\n\n\t\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __nested_webpack_require_39920__) {\n\n\tmodule.exports = { \"default\": __nested_webpack_require_39920__(44), __esModule: true };\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __nested_webpack_require_40073__) {\n\n\t__nested_webpack_require_40073__(45);\n\t__nested_webpack_require_40073__(51);\n\tmodule.exports = __nested_webpack_require_40073__(29)('iterator');\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __nested_webpack_require_40257__) {\n\n\t'use strict';\n\tvar $at  = __nested_webpack_require_40257__(46)(true);\n\n\t// 21.1.3.27 String.prototype[@@iterator]()\n\t__nested_webpack_require_40257__(48)(String, 'String', function(iterated){\n\t  this._t = String(iterated); // target\n\t  this._i = 0;                // next index\n\t// 21.1.5.2.1 %StringIteratorPrototype%.next()\n\t}, function(){\n\t  var O     = this._t\n\t    , index = this._i\n\t    , point;\n\t  if(index >= O.length)return {value: undefined, done: true};\n\t  point = $at(O, index);\n\t  this._i += point.length;\n\t  return {value: point, done: false};\n\t});\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __nested_webpack_require_40872__) {\n\n\tvar toInteger = __nested_webpack_require_40872__(47)\n\t  , defined   = __nested_webpack_require_40872__(35);\n\t// true  -> String#at\n\t// false -> String#codePointAt\n\tmodule.exports = function(TO_STRING){\n\t  return function(that, pos){\n\t    var s = String(defined(that))\n\t      , i = toInteger(pos)\n\t      , l = s.length\n\t      , a, b;\n\t    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n\t    a = s.charCodeAt(i);\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t      ? TO_STRING ? s.charAt(i) : a\n\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t  };\n\t};\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports) {\n\n\t// 7.1.4 ToInteger\n\tvar ceil  = Math.ceil\n\t  , floor = Math.floor;\n\tmodule.exports = function(it){\n\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t};\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __nested_webpack_require_41800__) {\n\n\t'use strict';\n\tvar LIBRARY        = __nested_webpack_require_41800__(41)\n\t  , $export        = __nested_webpack_require_41800__(20)\n\t  , redefine       = __nested_webpack_require_41800__(24)\n\t  , hide           = __nested_webpack_require_41800__(25)\n\t  , has            = __nested_webpack_require_41800__(17)\n\t  , Iterators      = __nested_webpack_require_41800__(49)\n\t  , $iterCreate    = __nested_webpack_require_41800__(50)\n\t  , setToStringTag = __nested_webpack_require_41800__(28)\n\t  , getProto       = __nested_webpack_require_41800__(9).getProto\n\t  , ITERATOR       = __nested_webpack_require_41800__(29)('iterator')\n\t  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n\t  , FF_ITERATOR    = '@@iterator'\n\t  , KEYS           = 'keys'\n\t  , VALUES         = 'values';\n\n\tvar returnThis = function(){ return this; };\n\n\tmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n\t  $iterCreate(Constructor, NAME, next);\n\t  var getMethod = function(kind){\n\t    if(!BUGGY && kind in proto)return proto[kind];\n\t    switch(kind){\n\t      case KEYS: return function keys(){ return new Constructor(this, kind); };\n\t      case VALUES: return function values(){ return new Constructor(this, kind); };\n\t    } return function entries(){ return new Constructor(this, kind); };\n\t  };\n\t  var TAG        = NAME + ' Iterator'\n\t    , DEF_VALUES = DEFAULT == VALUES\n\t    , VALUES_BUG = false\n\t    , proto      = Base.prototype\n\t    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n\t    , $default   = $native || getMethod(DEFAULT)\n\t    , methods, key;\n\t  // Fix native\n\t  if($native){\n\t    var IteratorPrototype = getProto($default.call(new Base));\n\t    // Set @@toStringTag to native iterators\n\t    setToStringTag(IteratorPrototype, TAG, true);\n\t    // FF fix\n\t    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n\t    // fix Array#{values, @@iterator}.name in V8 / FF\n\t    if(DEF_VALUES && $native.name !== VALUES){\n\t      VALUES_BUG = true;\n\t      $default = function values(){ return $native.call(this); };\n\t    }\n\t  }\n\t  // Define iterator\n\t  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n\t    hide(proto, ITERATOR, $default);\n\t  }\n\t  // Plug for library\n\t  Iterators[NAME] = $default;\n\t  Iterators[TAG]  = returnThis;\n\t  if(DEFAULT){\n\t    methods = {\n\t      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n\t      keys:    IS_SET      ? $default : getMethod(KEYS),\n\t      entries: !DEF_VALUES ? $default : getMethod('entries')\n\t    };\n\t    if(FORCED)for(key in methods){\n\t      if(!(key in proto))redefine(proto, key, methods[key]);\n\t    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n\t  }\n\t  return methods;\n\t};\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {};\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __nested_webpack_require_44627__) {\n\n\t'use strict';\n\tvar $              = __nested_webpack_require_44627__(9)\n\t  , descriptor     = __nested_webpack_require_44627__(26)\n\t  , setToStringTag = __nested_webpack_require_44627__(28)\n\t  , IteratorPrototype = {};\n\n\t// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\t__nested_webpack_require_44627__(25)(IteratorPrototype, __nested_webpack_require_44627__(29)('iterator'), function(){ return this; });\n\n\tmodule.exports = function(Constructor, NAME, next){\n\t  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n\t  setToStringTag(Constructor, NAME + ' Iterator');\n\t};\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __nested_webpack_require_45240__) {\n\n\t__nested_webpack_require_45240__(52);\n\tvar Iterators = __nested_webpack_require_45240__(49);\n\tIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __nested_webpack_require_45451__) {\n\n\t'use strict';\n\tvar addToUnscopables = __nested_webpack_require_45451__(53)\n\t  , step             = __nested_webpack_require_45451__(54)\n\t  , Iterators        = __nested_webpack_require_45451__(49)\n\t  , toIObject        = __nested_webpack_require_45451__(32);\n\n\t// 22.1.3.4 Array.prototype.entries()\n\t// 22.1.3.13 Array.prototype.keys()\n\t// 22.1.3.29 Array.prototype.values()\n\t// 22.1.3.30 Array.prototype[@@iterator]()\n\tmodule.exports = __nested_webpack_require_45451__(48)(Array, 'Array', function(iterated, kind){\n\t  this._t = toIObject(iterated); // target\n\t  this._i = 0;                   // next index\n\t  this._k = kind;                // kind\n\t// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n\t}, function(){\n\t  var O     = this._t\n\t    , kind  = this._k\n\t    , index = this._i++;\n\t  if(!O || index >= O.length){\n\t    this._t = undefined;\n\t    return step(1);\n\t  }\n\t  if(kind == 'keys'  )return step(0, index);\n\t  if(kind == 'values')return step(0, O[index]);\n\t  return step(0, [index, O[index]]);\n\t}, 'values');\n\n\t// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n\tIterators.Arguments = Iterators.Array;\n\n\taddToUnscopables('keys');\n\taddToUnscopables('values');\n\taddToUnscopables('entries');\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(){ /* empty */ };\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(done, value){\n\t  return {value: value, done: !!done};\n\t};\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __nested_webpack_require_46923__) {\n\n\tmodule.exports = { \"default\": __nested_webpack_require_46923__(56), __esModule: true };\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __nested_webpack_require_47076__) {\n\n\t__nested_webpack_require_47076__(51);\n\t__nested_webpack_require_47076__(45);\n\tmodule.exports = __nested_webpack_require_47076__(57);\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __nested_webpack_require_47248__) {\n\n\tvar anObject = __nested_webpack_require_47248__(39)\n\t  , get      = __nested_webpack_require_47248__(58);\n\tmodule.exports = __nested_webpack_require_47248__(21).getIterator = function(it){\n\t  var iterFn = get(it);\n\t  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n\t  return anObject(iterFn.call(it));\n\t};\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __nested_webpack_require_47619__) {\n\n\tvar classof   = __nested_webpack_require_47619__(59)\n\t  , ITERATOR  = __nested_webpack_require_47619__(29)('iterator')\n\t  , Iterators = __nested_webpack_require_47619__(49);\n\tmodule.exports = __nested_webpack_require_47619__(21).getIteratorMethod = function(it){\n\t  if(it != undefined)return it[ITERATOR]\n\t    || it['@@iterator']\n\t    || Iterators[classof(it)];\n\t};\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __nested_webpack_require_48011__) {\n\n\t// getting tag from 19.1.3.6 Object.prototype.toString()\n\tvar cof = __nested_webpack_require_48011__(34)\n\t  , TAG = __nested_webpack_require_48011__(29)('toStringTag')\n\t  // ES3 wrong here\n\t  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n\tmodule.exports = function(it){\n\t  var O, T, B;\n\t  return it === undefined ? 'Undefined' : it === null ? 'Null'\n\t    // @@toStringTag case\n\t    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n\t    // builtinTag case\n\t    : ARG ? cof(O)\n\t    // ES3 arguments fallback\n\t    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n\t};\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __nested_webpack_require_48679__) {\n\n\tmodule.exports = { \"default\": __nested_webpack_require_48679__(61), __esModule: true };\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __nested_webpack_require_48832__) {\n\n\t__nested_webpack_require_48832__(62);\n\tmodule.exports = __nested_webpack_require_48832__(21).Object.keys;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __nested_webpack_require_48990__) {\n\n\t// 19.1.2.14 Object.keys(O)\n\tvar toObject = __nested_webpack_require_48990__(63);\n\n\t__nested_webpack_require_48990__(64)('keys', function($keys){\n\t  return function keys(it){\n\t    return $keys(toObject(it));\n\t  };\n\t});\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __nested_webpack_require_49261__) {\n\n\t// 7.1.13 ToObject(argument)\n\tvar defined = __nested_webpack_require_49261__(35);\n\tmodule.exports = function(it){\n\t  return Object(defined(it));\n\t};\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __nested_webpack_require_49475__) {\n\n\t// most Object methods by ES6 should accept primitives\n\tvar $export = __nested_webpack_require_49475__(20)\n\t  , core    = __nested_webpack_require_49475__(21)\n\t  , fails   = __nested_webpack_require_49475__(19);\n\tmodule.exports = function(KEY, exec){\n\t  var fn  = (core.Object || {})[KEY] || Object[KEY]\n\t    , exp = {};\n\t  exp[KEY] = exec(fn);\n\t  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n\t};\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __nested_webpack_require_49943__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_49943__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _exception = __nested_webpack_require_49943__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n\t    if (arguments.length === 1) {\n\t      // A missing field in a {{foo}} construct.\n\t      return undefined;\n\t    } else {\n\t      // Someone is actually trying to call something, blow up.\n\t      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n\t    }\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __nested_webpack_require_50706__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_50706__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _utils = __nested_webpack_require_50706__(5);\n\n\tvar _exception = __nested_webpack_require_50706__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('if', function (conditional, options) {\n\t    if (arguments.length != 2) {\n\t      throw new _exception2['default']('#if requires exactly one argument');\n\t    }\n\t    if (_utils.isFunction(conditional)) {\n\t      conditional = conditional.call(this);\n\t    }\n\n\t    // Default behavior is to render the positive path if the value is truthy and not empty.\n\t    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n\t    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n\t    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n\t      return options.inverse(this);\n\t    } else {\n\t      return options.fn(this);\n\t    }\n\t  });\n\n\t  instance.registerHelper('unless', function (conditional, options) {\n\t    if (arguments.length != 2) {\n\t      throw new _exception2['default']('#unless requires exactly one argument');\n\t    }\n\t    return instance.helpers['if'].call(this, conditional, {\n\t      fn: options.inverse,\n\t      inverse: options.fn,\n\t      hash: options.hash\n\t    });\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('log', function () /* message, options */{\n\t    var args = [undefined],\n\t        options = arguments[arguments.length - 1];\n\t    for (var i = 0; i < arguments.length - 1; i++) {\n\t      args.push(arguments[i]);\n\t    }\n\n\t    var level = 1;\n\t    if (options.hash.level != null) {\n\t      level = options.hash.level;\n\t    } else if (options.data && options.data.level != null) {\n\t      level = options.data.level;\n\t    }\n\t    args[0] = level;\n\n\t    instance.log.apply(instance, args);\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('lookup', function (obj, field, options) {\n\t    if (!obj) {\n\t      // Note for 5.0: Change to \"obj == null\" in 5.0\n\t      return obj;\n\t    }\n\t    return options.lookupProperty(obj, field);\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __nested_webpack_require_53352__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_53352__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _utils = __nested_webpack_require_53352__(5);\n\n\tvar _exception = __nested_webpack_require_53352__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('with', function (context, options) {\n\t    if (arguments.length != 2) {\n\t      throw new _exception2['default']('#with requires exactly one argument');\n\t    }\n\t    if (_utils.isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    var fn = options.fn;\n\n\t    if (!_utils.isEmpty(context)) {\n\t      var data = options.data;\n\t      if (options.data && options.ids) {\n\t        data = _utils.createFrame(options.data);\n\t        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n\t      }\n\n\t      return fn(context, {\n\t        data: data,\n\t        blockParams: _utils.blockParams([context], [data && data.contextPath])\n\t      });\n\t    } else {\n\t      return options.inverse(this);\n\t    }\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __nested_webpack_require_54534__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_54534__(1)['default'];\n\n\texports.__esModule = true;\n\texports.registerDefaultDecorators = registerDefaultDecorators;\n\n\tvar _decoratorsInline = __nested_webpack_require_54534__(71);\n\n\tvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\n\tfunction registerDefaultDecorators(instance) {\n\t  _decoratorsInline2['default'](instance);\n\t}\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __nested_webpack_require_55002__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __nested_webpack_require_55002__(5);\n\n\texports['default'] = function (instance) {\n\t  instance.registerDecorator('inline', function (fn, props, container, options) {\n\t    var ret = fn;\n\t    if (!props.partials) {\n\t      props.partials = {};\n\t      ret = function (context, options) {\n\t        // Create a new partials stack frame prior to exec.\n\t        var original = container.partials;\n\t        container.partials = _utils.extend({}, original, props.partials);\n\t        var ret = fn(context, options);\n\t        container.partials = original;\n\t        return ret;\n\t      };\n\t    }\n\n\t    props.partials[options.args[0]] = options.fn;\n\n\t    return ret;\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __nested_webpack_require_55827__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __nested_webpack_require_55827__(5);\n\n\tvar logger = {\n\t  methodMap: ['debug', 'info', 'warn', 'error'],\n\t  level: 'info',\n\n\t  // Maps a given level value to the `methodMap` indexes above.\n\t  lookupLevel: function lookupLevel(level) {\n\t    if (typeof level === 'string') {\n\t      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n\t      if (levelMap >= 0) {\n\t        level = levelMap;\n\t      } else {\n\t        level = parseInt(level, 10);\n\t      }\n\t    }\n\n\t    return level;\n\t  },\n\n\t  // Can be overridden in the host environment\n\t  log: function log(level) {\n\t    level = logger.lookupLevel(level);\n\n\t    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n\t      var method = logger.methodMap[level];\n\t      // eslint-disable-next-line no-console\n\t      if (!console[method]) {\n\t        method = 'log';\n\t      }\n\n\t      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        message[_key - 1] = arguments[_key];\n\t      }\n\n\t      console[method].apply(console, message); // eslint-disable-line no-console\n\t    }\n\t  }\n\t};\n\n\texports['default'] = logger;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __nested_webpack_require_57154__) {\n\n\t'use strict';\n\n\tvar _Object$create = __nested_webpack_require_57154__(74)['default'];\n\n\tvar _Object$keys = __nested_webpack_require_57154__(60)['default'];\n\n\tvar _interopRequireDefault = __nested_webpack_require_57154__(1)['default'];\n\n\texports.__esModule = true;\n\texports.createProtoAccessControl = createProtoAccessControl;\n\texports.resultIsAllowed = resultIsAllowed;\n\texports.resetLoggedProperties = resetLoggedProperties;\n\n\tvar _createNewLookupObject = __nested_webpack_require_57154__(76);\n\n\tvar _logger = __nested_webpack_require_57154__(72);\n\n\tvar _logger2 = _interopRequireDefault(_logger);\n\n\tvar loggedProperties = _Object$create(null);\n\n\tfunction createProtoAccessControl(runtimeOptions) {\n\t  var defaultMethodWhiteList = _Object$create(null);\n\t  defaultMethodWhiteList['constructor'] = false;\n\t  defaultMethodWhiteList['__defineGetter__'] = false;\n\t  defaultMethodWhiteList['__defineSetter__'] = false;\n\t  defaultMethodWhiteList['__lookupGetter__'] = false;\n\n\t  var defaultPropertyWhiteList = _Object$create(null);\n\t  // eslint-disable-next-line no-proto\n\t  defaultPropertyWhiteList['__proto__'] = false;\n\n\t  return {\n\t    properties: {\n\t      whitelist: _createNewLookupObject.createNewLookupObject(defaultPropertyWhiteList, runtimeOptions.allowedProtoProperties),\n\t      defaultValue: runtimeOptions.allowProtoPropertiesByDefault\n\t    },\n\t    methods: {\n\t      whitelist: _createNewLookupObject.createNewLookupObject(defaultMethodWhiteList, runtimeOptions.allowedProtoMethods),\n\t      defaultValue: runtimeOptions.allowProtoMethodsByDefault\n\t    }\n\t  };\n\t}\n\n\tfunction resultIsAllowed(result, protoAccessControl, propertyName) {\n\t  if (typeof result === 'function') {\n\t    return checkWhiteList(protoAccessControl.methods, propertyName);\n\t  } else {\n\t    return checkWhiteList(protoAccessControl.properties, propertyName);\n\t  }\n\t}\n\n\tfunction checkWhiteList(protoAccessControlForType, propertyName) {\n\t  if (protoAccessControlForType.whitelist[propertyName] !== undefined) {\n\t    return protoAccessControlForType.whitelist[propertyName] === true;\n\t  }\n\t  if (protoAccessControlForType.defaultValue !== undefined) {\n\t    return protoAccessControlForType.defaultValue;\n\t  }\n\t  logUnexpecedPropertyAccessOnce(propertyName);\n\t  return false;\n\t}\n\n\tfunction logUnexpecedPropertyAccessOnce(propertyName) {\n\t  if (loggedProperties[propertyName] !== true) {\n\t    loggedProperties[propertyName] = true;\n\t    _logger2['default'].log('error', 'Handlebars: Access has been denied to resolve the property \"' + propertyName + '\" because it is not an \"own property\" of its parent.\\n' + 'You can add a runtime option to disable the check or this warning:\\n' + 'See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details');\n\t  }\n\t}\n\n\tfunction resetLoggedProperties() {\n\t  _Object$keys(loggedProperties).forEach(function (propertyName) {\n\t    delete loggedProperties[propertyName];\n\t  });\n\t}\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __nested_webpack_require_60104__) {\n\n\tmodule.exports = { \"default\": __nested_webpack_require_60104__(75), __esModule: true };\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __nested_webpack_require_60257__) {\n\n\tvar $ = __nested_webpack_require_60257__(9);\n\tmodule.exports = function create(P, D){\n\t  return $.create(P, D);\n\t};\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __nested_webpack_require_60438__) {\n\n\t'use strict';\n\n\tvar _Object$create = __nested_webpack_require_60438__(74)['default'];\n\n\texports.__esModule = true;\n\texports.createNewLookupObject = createNewLookupObject;\n\n\tvar _utils = __nested_webpack_require_60438__(5);\n\n\t/**\n\t * Create a new object with \"null\"-prototype to avoid truthy results on prototype properties.\n\t * The resulting object can be used with \"object[property]\" to check if a property exists\n\t * @param {...object} sources a varargs parameter of source objects that will be merged\n\t * @returns {object}\n\t */\n\n\tfunction createNewLookupObject() {\n\t  for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n\t    sources[_key] = arguments[_key];\n\t  }\n\n\t  return _utils.extend.apply(undefined, [_Object$create(null)].concat(sources));\n\t}\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\n\t// Build out our basic SafeString type\n\t'use strict';\n\n\texports.__esModule = true;\n\tfunction SafeString(string) {\n\t  this.string = string;\n\t}\n\n\tSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n\t  return '' + this.string;\n\t};\n\n\texports['default'] = SafeString;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __nested_webpack_require_61662__) {\n\n\t'use strict';\n\n\tvar _Object$seal = __nested_webpack_require_61662__(79)['default'];\n\n\tvar _Object$keys = __nested_webpack_require_61662__(60)['default'];\n\n\tvar _interopRequireWildcard = __nested_webpack_require_61662__(3)['default'];\n\n\tvar _interopRequireDefault = __nested_webpack_require_61662__(1)['default'];\n\n\texports.__esModule = true;\n\texports.checkRevision = checkRevision;\n\texports.template = template;\n\texports.wrapProgram = wrapProgram;\n\texports.resolvePartial = resolvePartial;\n\texports.invokePartial = invokePartial;\n\texports.noop = noop;\n\n\tvar _utils = __nested_webpack_require_61662__(5);\n\n\tvar Utils = _interopRequireWildcard(_utils);\n\n\tvar _exception = __nested_webpack_require_61662__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _base = __nested_webpack_require_61662__(4);\n\n\tvar _helpers = __nested_webpack_require_61662__(10);\n\n\tvar _internalWrapHelper = __nested_webpack_require_61662__(82);\n\n\tvar _internalProtoAccess = __nested_webpack_require_61662__(73);\n\n\tfunction checkRevision(compilerInfo) {\n\t  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n\t      currentRevision = _base.COMPILER_REVISION;\n\n\t  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {\n\t    return;\n\t  }\n\n\t  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {\n\t    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n\t        compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n\t    throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n\t  } else {\n\t    // Use the embedded version info since the runtime doesn't know about this revision yet\n\t    throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n\t  }\n\t}\n\n\tfunction template(templateSpec, env) {\n\t  /* istanbul ignore next */\n\t  if (!env) {\n\t    throw new _exception2['default']('No environment passed to template');\n\t  }\n\t  if (!templateSpec || !templateSpec.main) {\n\t    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n\t  }\n\n\t  templateSpec.main.decorator = templateSpec.main_d;\n\n\t  // Note: Using env.VM references rather than local var references throughout this section to allow\n\t  // for external users to override these as pseudo-supported APIs.\n\t  env.VM.checkRevision(templateSpec.compiler);\n\n\t  // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n\t  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n\t  function invokePartialWrapper(partial, context, options) {\n\t    if (options.hash) {\n\t      context = Utils.extend({}, context, options.hash);\n\t      if (options.ids) {\n\t        options.ids[0] = true;\n\t      }\n\t    }\n\t    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\n\t    var extendedOptions = Utils.extend({}, options, {\n\t      hooks: this.hooks,\n\t      protoAccessControl: this.protoAccessControl\n\t    });\n\n\t    var result = env.VM.invokePartial.call(this, partial, context, extendedOptions);\n\n\t    if (result == null && env.compile) {\n\t      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n\t      result = options.partials[options.name](context, extendedOptions);\n\t    }\n\t    if (result != null) {\n\t      if (options.indent) {\n\t        var lines = result.split('\\n');\n\t        for (var i = 0, l = lines.length; i < l; i++) {\n\t          if (!lines[i] && i + 1 === l) {\n\t            break;\n\t          }\n\n\t          lines[i] = options.indent + lines[i];\n\t        }\n\t        result = lines.join('\\n');\n\t      }\n\t      return result;\n\t    } else {\n\t      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n\t    }\n\t  }\n\n\t  // Just add water\n\t  var container = {\n\t    strict: function strict(obj, name, loc) {\n\t      if (!obj || !(name in obj)) {\n\t        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj, {\n\t          loc: loc\n\t        });\n\t      }\n\t      return container.lookupProperty(obj, name);\n\t    },\n\t    lookupProperty: function lookupProperty(parent, propertyName) {\n\t      var result = parent[propertyName];\n\t      if (result == null) {\n\t        return result;\n\t      }\n\t      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n\t        return result;\n\t      }\n\n\t      if (_internalProtoAccess.resultIsAllowed(result, container.protoAccessControl, propertyName)) {\n\t        return result;\n\t      }\n\t      return undefined;\n\t    },\n\t    lookup: function lookup(depths, name) {\n\t      var len = depths.length;\n\t      for (var i = 0; i < len; i++) {\n\t        var result = depths[i] && container.lookupProperty(depths[i], name);\n\t        if (result != null) {\n\t          return depths[i][name];\n\t        }\n\t      }\n\t    },\n\t    lambda: function lambda(current, context) {\n\t      return typeof current === 'function' ? current.call(context) : current;\n\t    },\n\n\t    escapeExpression: Utils.escapeExpression,\n\t    invokePartial: invokePartialWrapper,\n\n\t    fn: function fn(i) {\n\t      var ret = templateSpec[i];\n\t      ret.decorator = templateSpec[i + '_d'];\n\t      return ret;\n\t    },\n\n\t    programs: [],\n\t    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n\t      var programWrapper = this.programs[i],\n\t          fn = this.fn(i);\n\t      if (data || depths || blockParams || declaredBlockParams) {\n\t        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n\t      } else if (!programWrapper) {\n\t        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n\t      }\n\t      return programWrapper;\n\t    },\n\n\t    data: function data(value, depth) {\n\t      while (value && depth--) {\n\t        value = value._parent;\n\t      }\n\t      return value;\n\t    },\n\t    mergeIfNeeded: function mergeIfNeeded(param, common) {\n\t      var obj = param || common;\n\n\t      if (param && common && param !== common) {\n\t        obj = Utils.extend({}, common, param);\n\t      }\n\n\t      return obj;\n\t    },\n\t    // An empty object to use as replacement for null-contexts\n\t    nullContext: _Object$seal({}),\n\n\t    noop: env.VM.noop,\n\t    compilerInfo: templateSpec.compiler\n\t  };\n\n\t  function ret(context) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t    var data = options.data;\n\n\t    ret._setup(options);\n\t    if (!options.partial && templateSpec.useData) {\n\t      data = initData(context, data);\n\t    }\n\t    var depths = undefined,\n\t        blockParams = templateSpec.useBlockParams ? [] : undefined;\n\t    if (templateSpec.useDepths) {\n\t      if (options.depths) {\n\t        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n\t      } else {\n\t        depths = [context];\n\t      }\n\t    }\n\n\t    function main(context /*, options*/) {\n\t      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n\t    }\n\n\t    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n\t    return main(context, options);\n\t  }\n\n\t  ret.isTop = true;\n\n\t  ret._setup = function (options) {\n\t    if (!options.partial) {\n\t      var mergedHelpers = Utils.extend({}, env.helpers, options.helpers);\n\t      wrapHelpersToPassLookupProperty(mergedHelpers, container);\n\t      container.helpers = mergedHelpers;\n\n\t      if (templateSpec.usePartial) {\n\t        // Use mergeIfNeeded here to prevent compiling global partials multiple times\n\t        container.partials = container.mergeIfNeeded(options.partials, env.partials);\n\t      }\n\t      if (templateSpec.usePartial || templateSpec.useDecorators) {\n\t        container.decorators = Utils.extend({}, env.decorators, options.decorators);\n\t      }\n\n\t      container.hooks = {};\n\t      container.protoAccessControl = _internalProtoAccess.createProtoAccessControl(options);\n\n\t      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;\n\t      _helpers.moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);\n\t      _helpers.moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);\n\t    } else {\n\t      container.protoAccessControl = options.protoAccessControl; // internal option\n\t      container.helpers = options.helpers;\n\t      container.partials = options.partials;\n\t      container.decorators = options.decorators;\n\t      container.hooks = options.hooks;\n\t    }\n\t  };\n\n\t  ret._child = function (i, data, blockParams, depths) {\n\t    if (templateSpec.useBlockParams && !blockParams) {\n\t      throw new _exception2['default']('must pass block params');\n\t    }\n\t    if (templateSpec.useDepths && !depths) {\n\t      throw new _exception2['default']('must pass parent depths');\n\t    }\n\n\t    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n\t  };\n\t  return ret;\n\t}\n\n\tfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n\t  function prog(context) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t    var currentDepths = depths;\n\t    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n\t      currentDepths = [context].concat(depths);\n\t    }\n\n\t    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n\t  }\n\n\t  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n\t  prog.program = i;\n\t  prog.depth = depths ? depths.length : 0;\n\t  prog.blockParams = declaredBlockParams || 0;\n\t  return prog;\n\t}\n\n\t/**\n\t * This is currently part of the official API, therefore implementation details should not be changed.\n\t */\n\n\tfunction resolvePartial(partial, context, options) {\n\t  if (!partial) {\n\t    if (options.name === '@partial-block') {\n\t      partial = options.data['partial-block'];\n\t    } else {\n\t      partial = options.partials[options.name];\n\t    }\n\t  } else if (!partial.call && !options.name) {\n\t    // This is a dynamic partial that returned a string\n\t    options.name = partial;\n\t    partial = options.partials[partial];\n\t  }\n\t  return partial;\n\t}\n\n\tfunction invokePartial(partial, context, options) {\n\t  // Use the current closure context to save the partial-block if this partial\n\t  var currentPartialBlock = options.data && options.data['partial-block'];\n\t  options.partial = true;\n\t  if (options.ids) {\n\t    options.data.contextPath = options.ids[0] || options.data.contextPath;\n\t  }\n\n\t  var partialBlock = undefined;\n\t  if (options.fn && options.fn !== noop) {\n\t    (function () {\n\t      options.data = _base.createFrame(options.data);\n\t      // Wrapper function to get access to currentPartialBlock from the closure\n\t      var fn = options.fn;\n\t      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n\t        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t        // Restore the partial-block from the closure for the execution of the block\n\t        // i.e. the part inside the block of the partial call.\n\t        options.data = _base.createFrame(options.data);\n\t        options.data['partial-block'] = currentPartialBlock;\n\t        return fn(context, options);\n\t      };\n\t      if (fn.partials) {\n\t        options.partials = Utils.extend({}, options.partials, fn.partials);\n\t      }\n\t    })();\n\t  }\n\n\t  if (partial === undefined && partialBlock) {\n\t    partial = partialBlock;\n\t  }\n\n\t  if (partial === undefined) {\n\t    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n\t  } else if (partial instanceof Function) {\n\t    return partial(context, options);\n\t  }\n\t}\n\n\tfunction noop() {\n\t  return '';\n\t}\n\n\tfunction initData(context, data) {\n\t  if (!data || !('root' in data)) {\n\t    data = data ? _base.createFrame(data) : {};\n\t    data.root = context;\n\t  }\n\t  return data;\n\t}\n\n\tfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n\t  if (fn.decorator) {\n\t    var props = {};\n\t    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n\t    Utils.extend(prog, props);\n\t  }\n\t  return prog;\n\t}\n\n\tfunction wrapHelpersToPassLookupProperty(mergedHelpers, container) {\n\t  _Object$keys(mergedHelpers).forEach(function (helperName) {\n\t    var helper = mergedHelpers[helperName];\n\t    mergedHelpers[helperName] = passLookupPropertyOption(helper, container);\n\t  });\n\t}\n\n\tfunction passLookupPropertyOption(helper, container) {\n\t  var lookupProperty = container.lookupProperty;\n\t  return _internalWrapHelper.wrapHelper(helper, function (options) {\n\t    return Utils.extend({ lookupProperty: lookupProperty }, options);\n\t  });\n\t}\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __nested_webpack_require_74814__) {\n\n\tmodule.exports = { \"default\": __nested_webpack_require_74814__(80), __esModule: true };\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __nested_webpack_require_74967__) {\n\n\t__nested_webpack_require_74967__(81);\n\tmodule.exports = __nested_webpack_require_74967__(21).Object.seal;\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __nested_webpack_require_75125__) {\n\n\t// 19.1.2.17 Object.seal(O)\n\tvar isObject = __nested_webpack_require_75125__(40);\n\n\t__nested_webpack_require_75125__(64)('seal', function($seal){\n\t  return function seal(it){\n\t    return $seal && isObject(it) ? $seal(it) : it;\n\t  };\n\t});\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\texports.wrapHelper = wrapHelper;\n\n\tfunction wrapHelper(helper, transformOptionsFn) {\n\t  if (typeof helper !== 'function') {\n\t    // This should not happen, but apparently it does in https://github.com/wycats/handlebars.js/issues/1639\n\t    // We try to make the wrapper least-invasive by not wrapping it, if the helper is not a function.\n\t    return helper;\n\t  }\n\t  var wrapper = function wrapper() /* dynamic arguments */{\n\t    var options = arguments[arguments.length - 1];\n\t    arguments[arguments.length - 1] = transformOptionsFn(options);\n\t    return helper.apply(this, arguments);\n\t  };\n\t  return wrapper;\n\t}\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\n\t/* global globalThis */\n\t'use strict';\n\n\texports.__esModule = true;\n\n\texports['default'] = function (Handlebars) {\n\t  /* istanbul ignore next */\n\t  // https://mathiasbynens.be/notes/globalthis\n\t  (function () {\n\t    if (typeof globalThis === 'object') return;\n\t    Object.prototype.__defineGetter__('__magic__', function () {\n\t      return this;\n\t    });\n\t    __magic__.globalThis = __magic__; // eslint-disable-line no-undef\n\t    delete Object.prototype.__magic__;\n\t  })();\n\n\t  var $Handlebars = globalThis.Handlebars;\n\n\t  /* istanbul ignore next */\n\t  Handlebars.noConflict = function () {\n\t    if (globalThis.Handlebars === Handlebars) {\n\t      globalThis.Handlebars = $Handlebars;\n\t    }\n\t    return Handlebars;\n\t  };\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\tvar AST = {\n\t  // Public API used to evaluate derived attributes regarding AST nodes\n\t  helpers: {\n\t    // a mustache is definitely a helper if:\n\t    // * it is an eligible helper, and\n\t    // * it has at least one parameter or hash segment\n\t    helperExpression: function helperExpression(node) {\n\t      return node.type === 'SubExpression' || (node.type === 'MustacheStatement' || node.type === 'BlockStatement') && !!(node.params && node.params.length || node.hash);\n\t    },\n\n\t    scopedId: function scopedId(path) {\n\t      return (/^\\.|this\\b/.test(path.original)\n\t      );\n\t    },\n\n\t    // an ID is simple if it only has one part, and that part is not\n\t    // `..` or `this`.\n\t    simpleId: function simpleId(path) {\n\t      return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth;\n\t    }\n\t  }\n\t};\n\n\t// Must be exported as an object rather than the root of the module as the jison lexer\n\t// must modify the object to operate properly.\n\texports['default'] = AST;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __nested_webpack_require_78078__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_78078__(1)['default'];\n\n\tvar _interopRequireWildcard = __nested_webpack_require_78078__(3)['default'];\n\n\texports.__esModule = true;\n\texports.parseWithoutProcessing = parseWithoutProcessing;\n\texports.parse = parse;\n\n\tvar _parser = __nested_webpack_require_78078__(86);\n\n\tvar _parser2 = _interopRequireDefault(_parser);\n\n\tvar _whitespaceControl = __nested_webpack_require_78078__(87);\n\n\tvar _whitespaceControl2 = _interopRequireDefault(_whitespaceControl);\n\n\tvar _helpers = __nested_webpack_require_78078__(89);\n\n\tvar Helpers = _interopRequireWildcard(_helpers);\n\n\tvar _utils = __nested_webpack_require_78078__(5);\n\n\texports.parser = _parser2['default'];\n\n\tvar yy = {};\n\t_utils.extend(yy, Helpers);\n\n\tfunction parseWithoutProcessing(input, options) {\n\t  // Just return if an already-compiled AST was passed in.\n\t  if (input.type === 'Program') {\n\t    return input;\n\t  }\n\n\t  _parser2['default'].yy = yy;\n\n\t  // Altering the shared object here, but this is ok as parser is a sync operation\n\t  yy.locInfo = function (locInfo) {\n\t    return new yy.SourceLocation(options && options.srcName, locInfo);\n\t  };\n\n\t  var ast = _parser2['default'].parse(input);\n\n\t  return ast;\n\t}\n\n\tfunction parse(input, options) {\n\t  var ast = parseWithoutProcessing(input, options);\n\t  var strip = new _whitespaceControl2['default'](options);\n\n\t  return strip.accept(ast);\n\t}\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\n\t// File ignored in coverage tests via setting in .istanbul.yml\n\t/* Jison generated parser */\n\t\"use strict\";\n\n\texports.__esModule = true;\n\tvar handlebars = (function () {\n\t    var parser = { trace: function trace() {},\n\t        yy: {},\n\t        symbols_: { \"error\": 2, \"root\": 3, \"program\": 4, \"EOF\": 5, \"program_repetition0\": 6, \"statement\": 7, \"mustache\": 8, \"block\": 9, \"rawBlock\": 10, \"partial\": 11, \"partialBlock\": 12, \"content\": 13, \"COMMENT\": 14, \"CONTENT\": 15, \"openRawBlock\": 16, \"rawBlock_repetition0\": 17, \"END_RAW_BLOCK\": 18, \"OPEN_RAW_BLOCK\": 19, \"helperName\": 20, \"openRawBlock_repetition0\": 21, \"openRawBlock_option0\": 22, \"CLOSE_RAW_BLOCK\": 23, \"openBlock\": 24, \"block_option0\": 25, \"closeBlock\": 26, \"openInverse\": 27, \"block_option1\": 28, \"OPEN_BLOCK\": 29, \"openBlock_repetition0\": 30, \"openBlock_option0\": 31, \"openBlock_option1\": 32, \"CLOSE\": 33, \"OPEN_INVERSE\": 34, \"openInverse_repetition0\": 35, \"openInverse_option0\": 36, \"openInverse_option1\": 37, \"openInverseChain\": 38, \"OPEN_INVERSE_CHAIN\": 39, \"openInverseChain_repetition0\": 40, \"openInverseChain_option0\": 41, \"openInverseChain_option1\": 42, \"inverseAndProgram\": 43, \"INVERSE\": 44, \"inverseChain\": 45, \"inverseChain_option0\": 46, \"OPEN_ENDBLOCK\": 47, \"OPEN\": 48, \"mustache_repetition0\": 49, \"mustache_option0\": 50, \"OPEN_UNESCAPED\": 51, \"mustache_repetition1\": 52, \"mustache_option1\": 53, \"CLOSE_UNESCAPED\": 54, \"OPEN_PARTIAL\": 55, \"partialName\": 56, \"partial_repetition0\": 57, \"partial_option0\": 58, \"openPartialBlock\": 59, \"OPEN_PARTIAL_BLOCK\": 60, \"openPartialBlock_repetition0\": 61, \"openPartialBlock_option0\": 62, \"param\": 63, \"sexpr\": 64, \"OPEN_SEXPR\": 65, \"sexpr_repetition0\": 66, \"sexpr_option0\": 67, \"CLOSE_SEXPR\": 68, \"hash\": 69, \"hash_repetition_plus0\": 70, \"hashSegment\": 71, \"ID\": 72, \"EQUALS\": 73, \"blockParams\": 74, \"OPEN_BLOCK_PARAMS\": 75, \"blockParams_repetition_plus0\": 76, \"CLOSE_BLOCK_PARAMS\": 77, \"path\": 78, \"dataName\": 79, \"STRING\": 80, \"NUMBER\": 81, \"BOOLEAN\": 82, \"UNDEFINED\": 83, \"NULL\": 84, \"DATA\": 85, \"pathSegments\": 86, \"SEP\": 87, \"$accept\": 0, \"$end\": 1 },\n\t        terminals_: { 2: \"error\", 5: \"EOF\", 14: \"COMMENT\", 15: \"CONTENT\", 18: \"END_RAW_BLOCK\", 19: \"OPEN_RAW_BLOCK\", 23: \"CLOSE_RAW_BLOCK\", 29: \"OPEN_BLOCK\", 33: \"CLOSE\", 34: \"OPEN_INVERSE\", 39: \"OPEN_INVERSE_CHAIN\", 44: \"INVERSE\", 47: \"OPEN_ENDBLOCK\", 48: \"OPEN\", 51: \"OPEN_UNESCAPED\", 54: \"CLOSE_UNESCAPED\", 55: \"OPEN_PARTIAL\", 60: \"OPEN_PARTIAL_BLOCK\", 65: \"OPEN_SEXPR\", 68: \"CLOSE_SEXPR\", 72: \"ID\", 73: \"EQUALS\", 75: \"OPEN_BLOCK_PARAMS\", 77: \"CLOSE_BLOCK_PARAMS\", 80: \"STRING\", 81: \"NUMBER\", 82: \"BOOLEAN\", 83: \"UNDEFINED\", 84: \"NULL\", 85: \"DATA\", 87: \"SEP\" },\n\t        productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 0], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]],\n\t        performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n\n\t            var $0 = $$.length - 1;\n\t            switch (yystate) {\n\t                case 1:\n\t                    return $$[$0 - 1];\n\t                    // removed by dead control flow\n\n\t                case 2:\n\t                    this.$ = yy.prepareProgram($$[$0]);\n\t                    break;\n\t                case 3:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 4:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 5:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 6:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 7:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 8:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 9:\n\t                    this.$ = {\n\t                        type: 'CommentStatement',\n\t                        value: yy.stripComment($$[$0]),\n\t                        strip: yy.stripFlags($$[$0], $$[$0]),\n\t                        loc: yy.locInfo(this._$)\n\t                    };\n\n\t                    break;\n\t                case 10:\n\t                    this.$ = {\n\t                        type: 'ContentStatement',\n\t                        original: $$[$0],\n\t                        value: $$[$0],\n\t                        loc: yy.locInfo(this._$)\n\t                    };\n\n\t                    break;\n\t                case 11:\n\t                    this.$ = yy.prepareRawBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);\n\t                    break;\n\t                case 12:\n\t                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1] };\n\t                    break;\n\t                case 13:\n\t                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], false, this._$);\n\t                    break;\n\t                case 14:\n\t                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], true, this._$);\n\t                    break;\n\t                case 15:\n\t                    this.$ = { open: $$[$0 - 5], path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };\n\t                    break;\n\t                case 16:\n\t                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };\n\t                    break;\n\t                case 17:\n\t                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };\n\t                    break;\n\t                case 18:\n\t                    this.$ = { strip: yy.stripFlags($$[$0 - 1], $$[$0 - 1]), program: $$[$0] };\n\t                    break;\n\t                case 19:\n\t                    var inverse = yy.prepareBlock($$[$0 - 2], $$[$0 - 1], $$[$0], $$[$0], false, this._$),\n\t                        program = yy.prepareProgram([inverse], $$[$0 - 1].loc);\n\t                    program.chained = true;\n\n\t                    this.$ = { strip: $$[$0 - 2].strip, program: program, chain: true };\n\n\t                    break;\n\t                case 20:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 21:\n\t                    this.$ = { path: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 2], $$[$0]) };\n\t                    break;\n\t                case 22:\n\t                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);\n\t                    break;\n\t                case 23:\n\t                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);\n\t                    break;\n\t                case 24:\n\t                    this.$ = {\n\t                        type: 'PartialStatement',\n\t                        name: $$[$0 - 3],\n\t                        params: $$[$0 - 2],\n\t                        hash: $$[$0 - 1],\n\t                        indent: '',\n\t                        strip: yy.stripFlags($$[$0 - 4], $$[$0]),\n\t                        loc: yy.locInfo(this._$)\n\t                    };\n\n\t                    break;\n\t                case 25:\n\t                    this.$ = yy.preparePartialBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);\n\t                    break;\n\t                case 26:\n\t                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 4], $$[$0]) };\n\t                    break;\n\t                case 27:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 28:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 29:\n\t                    this.$ = {\n\t                        type: 'SubExpression',\n\t                        path: $$[$0 - 3],\n\t                        params: $$[$0 - 2],\n\t                        hash: $$[$0 - 1],\n\t                        loc: yy.locInfo(this._$)\n\t                    };\n\n\t                    break;\n\t                case 30:\n\t                    this.$ = { type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 31:\n\t                    this.$ = { type: 'HashPair', key: yy.id($$[$0 - 2]), value: $$[$0], loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 32:\n\t                    this.$ = yy.id($$[$0 - 1]);\n\t                    break;\n\t                case 33:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 34:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 35:\n\t                    this.$ = { type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 36:\n\t                    this.$ = { type: 'NumberLiteral', value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 37:\n\t                    this.$ = { type: 'BooleanLiteral', value: $$[$0] === 'true', original: $$[$0] === 'true', loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 38:\n\t                    this.$ = { type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 39:\n\t                    this.$ = { type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 40:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 41:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 42:\n\t                    this.$ = yy.preparePath(true, $$[$0], this._$);\n\t                    break;\n\t                case 43:\n\t                    this.$ = yy.preparePath(false, $$[$0], this._$);\n\t                    break;\n\t                case 44:\n\t                    $$[$0 - 2].push({ part: yy.id($$[$0]), original: $$[$0], separator: $$[$0 - 1] });this.$ = $$[$0 - 2];\n\t                    break;\n\t                case 45:\n\t                    this.$ = [{ part: yy.id($$[$0]), original: $$[$0] }];\n\t                    break;\n\t                case 46:\n\t                    this.$ = [];\n\t                    break;\n\t                case 47:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 48:\n\t                    this.$ = [];\n\t                    break;\n\t                case 49:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 50:\n\t                    this.$ = [];\n\t                    break;\n\t                case 51:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 58:\n\t                    this.$ = [];\n\t                    break;\n\t                case 59:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 64:\n\t                    this.$ = [];\n\t                    break;\n\t                case 65:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 70:\n\t                    this.$ = [];\n\t                    break;\n\t                case 71:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 78:\n\t                    this.$ = [];\n\t                    break;\n\t                case 79:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 82:\n\t                    this.$ = [];\n\t                    break;\n\t                case 83:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 86:\n\t                    this.$ = [];\n\t                    break;\n\t                case 87:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 90:\n\t                    this.$ = [];\n\t                    break;\n\t                case 91:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 94:\n\t                    this.$ = [];\n\t                    break;\n\t                case 95:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 98:\n\t                    this.$ = [$$[$0]];\n\t                    break;\n\t                case 99:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 100:\n\t                    this.$ = [$$[$0]];\n\t                    break;\n\t                case 101:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t            }\n\t        },\n\t        table: [{ 3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24] }, { 1: [2, 1] }, { 5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47] }, { 5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3] }, { 5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4] }, { 5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5] }, { 5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6] }, { 5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7] }, { 5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8] }, { 5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9] }, { 20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 15: [2, 48], 17: 39, 18: [2, 48] }, { 20: 41, 56: 40, 64: 42, 65: [1, 43], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 44, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10] }, { 20: 45, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 41, 56: 48, 64: 42, 65: [1, 43], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [2, 78], 49: 49, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78] }, { 23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33] }, { 23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34] }, { 23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35] }, { 23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36] }, { 23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37] }, { 23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38] }, { 23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39] }, { 23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 50] }, { 72: [1, 35], 86: 51 }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 52: 52, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82] }, { 25: 53, 38: 55, 39: [1, 57], 43: 56, 44: [1, 58], 45: 54, 47: [2, 54] }, { 28: 59, 43: 60, 44: [1, 58], 47: [2, 56] }, { 13: 62, 15: [1, 20], 18: [1, 61] }, { 33: [2, 86], 57: 63, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86] }, { 33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40] }, { 33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41] }, { 20: 64, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 65, 47: [1, 66] }, { 30: 67, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58] }, { 33: [2, 64], 35: 68, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64] }, { 21: 69, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50] }, { 33: [2, 90], 61: 70, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90] }, { 20: 74, 33: [2, 80], 50: 71, 63: 72, 64: 75, 65: [1, 43], 69: 73, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 72: [1, 79] }, { 23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 50] }, { 20: 74, 53: 80, 54: [2, 84], 63: 81, 64: 75, 65: [1, 43], 69: 82, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 83, 47: [1, 66] }, { 47: [2, 55] }, { 4: 84, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 47: [2, 20] }, { 20: 85, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 86, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 26: 87, 47: [1, 66] }, { 47: [2, 57] }, { 5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11] }, { 15: [2, 49], 18: [2, 49] }, { 20: 74, 33: [2, 88], 58: 88, 63: 89, 64: 75, 65: [1, 43], 69: 90, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 65: [2, 94], 66: 91, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94] }, { 5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25] }, { 20: 92, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 74, 31: 93, 33: [2, 60], 63: 94, 64: 75, 65: [1, 43], 69: 95, 70: 76, 71: 77, 72: [1, 78], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 74, 33: [2, 66], 36: 96, 63: 97, 64: 75, 65: [1, 43], 69: 98, 70: 76, 71: 77, 72: [1, 78], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 74, 22: 99, 23: [2, 52], 63: 100, 64: 75, 65: [1, 43], 69: 101, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 74, 33: [2, 92], 62: 102, 63: 103, 64: 75, 65: [1, 43], 69: 104, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 105] }, { 33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79] }, { 33: [2, 81] }, { 23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27] }, { 23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28] }, { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 106, 72: [1, 107], 75: [2, 30] }, { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 108], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44] }, { 54: [1, 109] }, { 54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83] }, { 54: [2, 85] }, { 5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13] }, { 38: 55, 39: [1, 57], 43: 56, 44: [1, 58], 45: 111, 46: 110, 47: [2, 76] }, { 33: [2, 70], 40: 112, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70] }, { 47: [2, 18] }, { 5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14] }, { 33: [1, 113] }, { 33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87] }, { 33: [2, 89] }, { 20: 74, 63: 115, 64: 75, 65: [1, 43], 67: 114, 68: [2, 96], 69: 116, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 117] }, { 32: 118, 33: [2, 62], 74: 119, 75: [1, 120] }, { 33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59] }, { 33: [2, 61], 75: [2, 61] }, { 33: [2, 68], 37: 121, 74: 122, 75: [1, 120] }, { 33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65] }, { 33: [2, 67], 75: [2, 67] }, { 23: [1, 123] }, { 23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51] }, { 23: [2, 53] }, { 33: [1, 124] }, { 33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91] }, { 33: [2, 93] }, { 5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22] }, { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] }, { 73: [1, 108] }, { 20: 74, 63: 125, 64: 75, 65: [1, 43], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23] }, { 47: [2, 19] }, { 47: [2, 77] }, { 20: 74, 33: [2, 72], 41: 126, 63: 127, 64: 75, 65: [1, 43], 69: 128, 70: 76, 71: 77, 72: [1, 78], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24] }, { 68: [1, 129] }, { 65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95] }, { 68: [2, 97] }, { 5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21] }, { 33: [1, 130] }, { 33: [2, 63] }, { 72: [1, 132], 76: 131 }, { 33: [1, 133] }, { 33: [2, 69] }, { 15: [2, 12], 18: [2, 12] }, { 14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26] }, { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] }, { 33: [2, 74], 42: 134, 74: 135, 75: [1, 120] }, { 33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71] }, { 33: [2, 73], 75: [2, 73] }, { 23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29] }, { 14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15] }, { 72: [1, 137], 77: [1, 136] }, { 72: [2, 100], 77: [2, 100] }, { 14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16] }, { 33: [1, 138] }, { 33: [2, 75] }, { 33: [2, 32] }, { 72: [2, 101], 77: [2, 101] }, { 14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17] }],\n\t        defaultActions: { 4: [2, 1], 54: [2, 55], 56: [2, 20], 60: [2, 57], 73: [2, 81], 82: [2, 85], 86: [2, 18], 90: [2, 89], 101: [2, 53], 104: [2, 93], 110: [2, 19], 111: [2, 77], 116: [2, 97], 119: [2, 63], 122: [2, 69], 135: [2, 75], 136: [2, 32] },\n\t        parseError: function parseError(str, hash) {\n\t            throw new Error(str);\n\t        },\n\t        parse: function parse(input) {\n\t            var self = this,\n\t                stack = [0],\n\t                vstack = [null],\n\t                lstack = [],\n\t                table = this.table,\n\t                yytext = \"\",\n\t                yylineno = 0,\n\t                yyleng = 0,\n\t                recovering = 0,\n\t                TERROR = 2,\n\t                EOF = 1;\n\t            this.lexer.setInput(input);\n\t            this.lexer.yy = this.yy;\n\t            this.yy.lexer = this.lexer;\n\t            this.yy.parser = this;\n\t            if (typeof this.lexer.yylloc == \"undefined\") this.lexer.yylloc = {};\n\t            var yyloc = this.lexer.yylloc;\n\t            lstack.push(yyloc);\n\t            var ranges = this.lexer.options && this.lexer.options.ranges;\n\t            if (typeof this.yy.parseError === \"function\") this.parseError = this.yy.parseError;\n\t            function popStack(n) {\n\t                stack.length = stack.length - 2 * n;\n\t                vstack.length = vstack.length - n;\n\t                lstack.length = lstack.length - n;\n\t            }\n\t            function lex() {\n\t                var token;\n\t                token = self.lexer.lex() || 1;\n\t                if (typeof token !== \"number\") {\n\t                    token = self.symbols_[token] || token;\n\t                }\n\t                return token;\n\t            }\n\t            var symbol,\n\t                preErrorSymbol,\n\t                state,\n\t                action,\n\t                a,\n\t                r,\n\t                yyval = {},\n\t                p,\n\t                len,\n\t                newState,\n\t                expected;\n\t            while (true) {\n\t                state = stack[stack.length - 1];\n\t                if (this.defaultActions[state]) {\n\t                    action = this.defaultActions[state];\n\t                } else {\n\t                    if (symbol === null || typeof symbol == \"undefined\") {\n\t                        symbol = lex();\n\t                    }\n\t                    action = table[state] && table[state][symbol];\n\t                }\n\t                if (typeof action === \"undefined\" || !action.length || !action[0]) {\n\t                    var errStr = \"\";\n\t                    if (!recovering) {\n\t                        expected = [];\n\t                        for (p in table[state]) if (this.terminals_[p] && p > 2) {\n\t                            expected.push(\"'\" + this.terminals_[p] + \"'\");\n\t                        }\n\t                        if (this.lexer.showPosition) {\n\t                            errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + this.lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n\t                        } else {\n\t                            errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == 1 ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n\t                        }\n\t                        this.parseError(errStr, { text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected });\n\t                    }\n\t                }\n\t                if (action[0] instanceof Array && action.length > 1) {\n\t                    throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n\t                }\n\t                switch (action[0]) {\n\t                    case 1:\n\t                        stack.push(symbol);\n\t                        vstack.push(this.lexer.yytext);\n\t                        lstack.push(this.lexer.yylloc);\n\t                        stack.push(action[1]);\n\t                        symbol = null;\n\t                        if (!preErrorSymbol) {\n\t                            yyleng = this.lexer.yyleng;\n\t                            yytext = this.lexer.yytext;\n\t                            yylineno = this.lexer.yylineno;\n\t                            yyloc = this.lexer.yylloc;\n\t                            if (recovering > 0) recovering--;\n\t                        } else {\n\t                            symbol = preErrorSymbol;\n\t                            preErrorSymbol = null;\n\t                        }\n\t                        break;\n\t                    case 2:\n\t                        len = this.productions_[action[1]][1];\n\t                        yyval.$ = vstack[vstack.length - len];\n\t                        yyval._$ = { first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column };\n\t                        if (ranges) {\n\t                            yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n\t                        }\n\t                        r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\n\t                        if (typeof r !== \"undefined\") {\n\t                            return r;\n\t                        }\n\t                        if (len) {\n\t                            stack = stack.slice(0, -1 * len * 2);\n\t                            vstack = vstack.slice(0, -1 * len);\n\t                            lstack = lstack.slice(0, -1 * len);\n\t                        }\n\t                        stack.push(this.productions_[action[1]][0]);\n\t                        vstack.push(yyval.$);\n\t                        lstack.push(yyval._$);\n\t                        newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n\t                        stack.push(newState);\n\t                        break;\n\t                    case 3:\n\t                        return true;\n\t                }\n\t            }\n\t            return true;\n\t        }\n\t    };\n\t    /* Jison generated lexer */\n\t    var lexer = (function () {\n\t        var lexer = { EOF: 1,\n\t            parseError: function parseError(str, hash) {\n\t                if (this.yy.parser) {\n\t                    this.yy.parser.parseError(str, hash);\n\t                } else {\n\t                    throw new Error(str);\n\t                }\n\t            },\n\t            setInput: function setInput(input) {\n\t                this._input = input;\n\t                this._more = this._less = this.done = false;\n\t                this.yylineno = this.yyleng = 0;\n\t                this.yytext = this.matched = this.match = '';\n\t                this.conditionStack = ['INITIAL'];\n\t                this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 };\n\t                if (this.options.ranges) this.yylloc.range = [0, 0];\n\t                this.offset = 0;\n\t                return this;\n\t            },\n\t            input: function input() {\n\t                var ch = this._input[0];\n\t                this.yytext += ch;\n\t                this.yyleng++;\n\t                this.offset++;\n\t                this.match += ch;\n\t                this.matched += ch;\n\t                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n\t                if (lines) {\n\t                    this.yylineno++;\n\t                    this.yylloc.last_line++;\n\t                } else {\n\t                    this.yylloc.last_column++;\n\t                }\n\t                if (this.options.ranges) this.yylloc.range[1]++;\n\n\t                this._input = this._input.slice(1);\n\t                return ch;\n\t            },\n\t            unput: function unput(ch) {\n\t                var len = ch.length;\n\t                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n\t                this._input = ch + this._input;\n\t                this.yytext = this.yytext.substr(0, this.yytext.length - len - 1);\n\t                //this.yyleng -= len;\n\t                this.offset -= len;\n\t                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n\t                this.match = this.match.substr(0, this.match.length - 1);\n\t                this.matched = this.matched.substr(0, this.matched.length - 1);\n\n\t                if (lines.length - 1) this.yylineno -= lines.length - 1;\n\t                var r = this.yylloc.range;\n\n\t                this.yylloc = { first_line: this.yylloc.first_line,\n\t                    last_line: this.yylineno + 1,\n\t                    first_column: this.yylloc.first_column,\n\t                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n\t                };\n\n\t                if (this.options.ranges) {\n\t                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n\t                }\n\t                return this;\n\t            },\n\t            more: function more() {\n\t                this._more = true;\n\t                return this;\n\t            },\n\t            less: function less(n) {\n\t                this.unput(this.match.slice(n));\n\t            },\n\t            pastInput: function pastInput() {\n\t                var past = this.matched.substr(0, this.matched.length - this.match.length);\n\t                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n\t            },\n\t            upcomingInput: function upcomingInput() {\n\t                var next = this.match;\n\t                if (next.length < 20) {\n\t                    next += this._input.substr(0, 20 - next.length);\n\t                }\n\t                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n\t            },\n\t            showPosition: function showPosition() {\n\t                var pre = this.pastInput();\n\t                var c = new Array(pre.length + 1).join(\"-\");\n\t                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n\t            },\n\t            next: function next() {\n\t                if (this.done) {\n\t                    return this.EOF;\n\t                }\n\t                if (!this._input) this.done = true;\n\n\t                var token, match, tempMatch, index, col, lines;\n\t                if (!this._more) {\n\t                    this.yytext = '';\n\t                    this.match = '';\n\t                }\n\t                var rules = this._currentRules();\n\t                for (var i = 0; i < rules.length; i++) {\n\t                    tempMatch = this._input.match(this.rules[rules[i]]);\n\t                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n\t                        match = tempMatch;\n\t                        index = i;\n\t                        if (!this.options.flex) break;\n\t                    }\n\t                }\n\t                if (match) {\n\t                    lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n\t                    if (lines) this.yylineno += lines.length;\n\t                    this.yylloc = { first_line: this.yylloc.last_line,\n\t                        last_line: this.yylineno + 1,\n\t                        first_column: this.yylloc.last_column,\n\t                        last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length };\n\t                    this.yytext += match[0];\n\t                    this.match += match[0];\n\t                    this.matches = match;\n\t                    this.yyleng = this.yytext.length;\n\t                    if (this.options.ranges) {\n\t                        this.yylloc.range = [this.offset, this.offset += this.yyleng];\n\t                    }\n\t                    this._more = false;\n\t                    this._input = this._input.slice(match[0].length);\n\t                    this.matched += match[0];\n\t                    token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);\n\t                    if (this.done && this._input) this.done = false;\n\t                    if (token) return token;else return;\n\t                }\n\t                if (this._input === \"\") {\n\t                    return this.EOF;\n\t                } else {\n\t                    return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), { text: \"\", token: null, line: this.yylineno });\n\t                }\n\t            },\n\t            lex: function lex() {\n\t                var r = this.next();\n\t                if (typeof r !== 'undefined') {\n\t                    return r;\n\t                } else {\n\t                    return this.lex();\n\t                }\n\t            },\n\t            begin: function begin(condition) {\n\t                this.conditionStack.push(condition);\n\t            },\n\t            popState: function popState() {\n\t                return this.conditionStack.pop();\n\t            },\n\t            _currentRules: function _currentRules() {\n\t                return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n\t            },\n\t            topState: function topState() {\n\t                return this.conditionStack[this.conditionStack.length - 2];\n\t            },\n\t            pushState: function begin(condition) {\n\t                this.begin(condition);\n\t            } };\n\t        lexer.options = {};\n\t        lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n\n\t            function strip(start, end) {\n\t                return yy_.yytext = yy_.yytext.substring(start, yy_.yyleng - end + start);\n\t            }\n\n\t            var YYSTATE = YY_START;\n\t            switch ($avoiding_name_collisions) {\n\t                case 0:\n\t                    if (yy_.yytext.slice(-2) === \"\\\\\\\\\") {\n\t                        strip(0, 1);\n\t                        this.begin(\"mu\");\n\t                    } else if (yy_.yytext.slice(-1) === \"\\\\\") {\n\t                        strip(0, 1);\n\t                        this.begin(\"emu\");\n\t                    } else {\n\t                        this.begin(\"mu\");\n\t                    }\n\t                    if (yy_.yytext) return 15;\n\n\t                    break;\n\t                case 1:\n\t                    return 15;\n\t                    // removed by dead control flow\n\n\t                case 2:\n\t                    this.popState();\n\t                    return 15;\n\n\t                    // removed by dead control flow\n\n\t                case 3:\n\t                    this.begin('raw');return 15;\n\t                    // removed by dead control flow\n\n\t                case 4:\n\t                    this.popState();\n\t                    // Should be using `this.topState()` below, but it currently\n\t                    // returns the second top instead of the first top. Opened an\n\t                    // issue about it at https://github.com/zaach/jison/issues/291\n\t                    if (this.conditionStack[this.conditionStack.length - 1] === 'raw') {\n\t                        return 15;\n\t                    } else {\n\t                        strip(5, 9);\n\t                        return 'END_RAW_BLOCK';\n\t                    }\n\n\t                    // removed by dead control flow\n\n\t                case 5:\n\t                    return 15;\n\t                    // removed by dead control flow\n\n\t                case 6:\n\t                    this.popState();\n\t                    return 14;\n\n\t                    // removed by dead control flow\n\n\t                case 7:\n\t                    return 65;\n\t                    // removed by dead control flow\n\n\t                case 8:\n\t                    return 68;\n\t                    // removed by dead control flow\n\n\t                case 9:\n\t                    return 19;\n\t                    // removed by dead control flow\n\n\t                case 10:\n\t                    this.popState();\n\t                    this.begin('raw');\n\t                    return 23;\n\n\t                    // removed by dead control flow\n\n\t                case 11:\n\t                    return 55;\n\t                    // removed by dead control flow\n\n\t                case 12:\n\t                    return 60;\n\t                    // removed by dead control flow\n\n\t                case 13:\n\t                    return 29;\n\t                    // removed by dead control flow\n\n\t                case 14:\n\t                    return 47;\n\t                    // removed by dead control flow\n\n\t                case 15:\n\t                    this.popState();return 44;\n\t                    // removed by dead control flow\n\n\t                case 16:\n\t                    this.popState();return 44;\n\t                    // removed by dead control flow\n\n\t                case 17:\n\t                    return 34;\n\t                    // removed by dead control flow\n\n\t                case 18:\n\t                    return 39;\n\t                    // removed by dead control flow\n\n\t                case 19:\n\t                    return 51;\n\t                    // removed by dead control flow\n\n\t                case 20:\n\t                    return 48;\n\t                    // removed by dead control flow\n\n\t                case 21:\n\t                    this.unput(yy_.yytext);\n\t                    this.popState();\n\t                    this.begin('com');\n\n\t                    break;\n\t                case 22:\n\t                    this.popState();\n\t                    return 14;\n\n\t                    // removed by dead control flow\n\n\t                case 23:\n\t                    return 48;\n\t                    // removed by dead control flow\n\n\t                case 24:\n\t                    return 73;\n\t                    // removed by dead control flow\n\n\t                case 25:\n\t                    return 72;\n\t                    // removed by dead control flow\n\n\t                case 26:\n\t                    return 72;\n\t                    // removed by dead control flow\n\n\t                case 27:\n\t                    return 87;\n\t                    // removed by dead control flow\n\n\t                case 28:\n\t                    // ignore whitespace\n\t                    break;\n\t                case 29:\n\t                    this.popState();return 54;\n\t                    // removed by dead control flow\n\n\t                case 30:\n\t                    this.popState();return 33;\n\t                    // removed by dead control flow\n\n\t                case 31:\n\t                    yy_.yytext = strip(1, 2).replace(/\\\\\"/g, '\"');return 80;\n\t                    // removed by dead control flow\n\n\t                case 32:\n\t                    yy_.yytext = strip(1, 2).replace(/\\\\'/g, \"'\");return 80;\n\t                    // removed by dead control flow\n\n\t                case 33:\n\t                    return 85;\n\t                    // removed by dead control flow\n\n\t                case 34:\n\t                    return 82;\n\t                    // removed by dead control flow\n\n\t                case 35:\n\t                    return 82;\n\t                    // removed by dead control flow\n\n\t                case 36:\n\t                    return 83;\n\t                    // removed by dead control flow\n\n\t                case 37:\n\t                    return 84;\n\t                    // removed by dead control flow\n\n\t                case 38:\n\t                    return 81;\n\t                    // removed by dead control flow\n\n\t                case 39:\n\t                    return 75;\n\t                    // removed by dead control flow\n\n\t                case 40:\n\t                    return 77;\n\t                    // removed by dead control flow\n\n\t                case 41:\n\t                    return 72;\n\t                    // removed by dead control flow\n\n\t                case 42:\n\t                    yy_.yytext = yy_.yytext.replace(/\\\\([\\\\\\]])/g, '$1');return 72;\n\t                    // removed by dead control flow\n\n\t                case 43:\n\t                    return 'INVALID';\n\t                    // removed by dead control flow\n\n\t                case 44:\n\t                    return 5;\n\t                    // removed by dead control flow\n\n\t            }\n\t        };\n\t        lexer.rules = [/^(?:[^\\x00]*?(?=(\\{\\{)))/, /^(?:[^\\x00]+)/, /^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/, /^(?:\\{\\{\\{\\{(?=[^/]))/, /^(?:\\{\\{\\{\\{\\/[^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=[=}\\s\\/.])\\}\\}\\}\\})/, /^(?:[^\\x00]+?(?=(\\{\\{\\{\\{)))/, /^(?:[\\s\\S]*?--(~)?\\}\\})/, /^(?:\\()/, /^(?:\\))/, /^(?:\\{\\{\\{\\{)/, /^(?:\\}\\}\\}\\})/, /^(?:\\{\\{(~)?>)/, /^(?:\\{\\{(~)?#>)/, /^(?:\\{\\{(~)?#\\*?)/, /^(?:\\{\\{(~)?\\/)/, /^(?:\\{\\{(~)?\\^\\s*(~)?\\}\\})/, /^(?:\\{\\{(~)?\\s*else\\s*(~)?\\}\\})/, /^(?:\\{\\{(~)?\\^)/, /^(?:\\{\\{(~)?\\s*else\\b)/, /^(?:\\{\\{(~)?\\{)/, /^(?:\\{\\{(~)?&)/, /^(?:\\{\\{(~)?!--)/, /^(?:\\{\\{(~)?![\\s\\S]*?\\}\\})/, /^(?:\\{\\{(~)?\\*?)/, /^(?:=)/, /^(?:\\.\\.)/, /^(?:\\.(?=([=~}\\s\\/.)|])))/, /^(?:[\\/.])/, /^(?:\\s+)/, /^(?:\\}(~)?\\}\\})/, /^(?:(~)?\\}\\})/, /^(?:\"(\\\\[\"]|[^\"])*\")/, /^(?:'(\\\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\\s)])))/, /^(?:false(?=([~}\\s)])))/, /^(?:undefined(?=([~}\\s)])))/, /^(?:null(?=([~}\\s)])))/, /^(?:-?[0-9]+(?:\\.[0-9]+)?(?=([~}\\s)])))/, /^(?:as\\s+\\|)/, /^(?:\\|)/, /^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)|]))))/, /^(?:\\[(\\\\\\]|[^\\]])*\\])/, /^(?:.)/, /^(?:$)/];\n\t        lexer.conditions = { \"mu\": { \"rules\": [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], \"inclusive\": false }, \"emu\": { \"rules\": [2], \"inclusive\": false }, \"com\": { \"rules\": [6], \"inclusive\": false }, \"raw\": { \"rules\": [3, 4, 5], \"inclusive\": false }, \"INITIAL\": { \"rules\": [0, 1, 44], \"inclusive\": true } };\n\t        return lexer;\n\t    })();\n\t    parser.lexer = lexer;\n\t    function Parser() {\n\t        this.yy = {};\n\t    }Parser.prototype = parser;parser.Parser = Parser;\n\t    return new Parser();\n\t})();exports[\"default\"] = handlebars;\n\tmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __nested_webpack_require_129022__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_129022__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _visitor = __nested_webpack_require_129022__(88);\n\n\tvar _visitor2 = _interopRequireDefault(_visitor);\n\n\tfunction WhitespaceControl() {\n\t  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n\t  this.options = options;\n\t}\n\tWhitespaceControl.prototype = new _visitor2['default']();\n\n\tWhitespaceControl.prototype.Program = function (program) {\n\t  var doStandalone = !this.options.ignoreStandalone;\n\n\t  var isRoot = !this.isRootSeen;\n\t  this.isRootSeen = true;\n\n\t  var body = program.body;\n\t  for (var i = 0, l = body.length; i < l; i++) {\n\t    var current = body[i],\n\t        strip = this.accept(current);\n\n\t    if (!strip) {\n\t      continue;\n\t    }\n\n\t    var _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),\n\t        _isNextWhitespace = isNextWhitespace(body, i, isRoot),\n\t        openStandalone = strip.openStandalone && _isPrevWhitespace,\n\t        closeStandalone = strip.closeStandalone && _isNextWhitespace,\n\t        inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;\n\n\t    if (strip.close) {\n\t      omitRight(body, i, true);\n\t    }\n\t    if (strip.open) {\n\t      omitLeft(body, i, true);\n\t    }\n\n\t    if (doStandalone && inlineStandalone) {\n\t      omitRight(body, i);\n\n\t      if (omitLeft(body, i)) {\n\t        // If we are on a standalone node, save the indent info for partials\n\t        if (current.type === 'PartialStatement') {\n\t          // Pull out the whitespace from the final line\n\t          current.indent = /([ \\t]+$)/.exec(body[i - 1].original)[1];\n\t        }\n\t      }\n\t    }\n\t    if (doStandalone && openStandalone) {\n\t      omitRight((current.program || current.inverse).body);\n\n\t      // Strip out the previous content node if it's whitespace only\n\t      omitLeft(body, i);\n\t    }\n\t    if (doStandalone && closeStandalone) {\n\t      // Always strip the next node\n\t      omitRight(body, i);\n\n\t      omitLeft((current.inverse || current.program).body);\n\t    }\n\t  }\n\n\t  return program;\n\t};\n\n\tWhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function (block) {\n\t  this.accept(block.program);\n\t  this.accept(block.inverse);\n\n\t  // Find the inverse program that is involed with whitespace stripping.\n\t  var program = block.program || block.inverse,\n\t      inverse = block.program && block.inverse,\n\t      firstInverse = inverse,\n\t      lastInverse = inverse;\n\n\t  if (inverse && inverse.chained) {\n\t    firstInverse = inverse.body[0].program;\n\n\t    // Walk the inverse chain to find the last inverse that is actually in the chain.\n\t    while (lastInverse.chained) {\n\t      lastInverse = lastInverse.body[lastInverse.body.length - 1].program;\n\t    }\n\t  }\n\n\t  var strip = {\n\t    open: block.openStrip.open,\n\t    close: block.closeStrip.close,\n\n\t    // Determine the standalone candiacy. Basically flag our content as being possibly standalone\n\t    // so our parent can determine if we actually are standalone\n\t    openStandalone: isNextWhitespace(program.body),\n\t    closeStandalone: isPrevWhitespace((firstInverse || program).body)\n\t  };\n\n\t  if (block.openStrip.close) {\n\t    omitRight(program.body, null, true);\n\t  }\n\n\t  if (inverse) {\n\t    var inverseStrip = block.inverseStrip;\n\n\t    if (inverseStrip.open) {\n\t      omitLeft(program.body, null, true);\n\t    }\n\n\t    if (inverseStrip.close) {\n\t      omitRight(firstInverse.body, null, true);\n\t    }\n\t    if (block.closeStrip.open) {\n\t      omitLeft(lastInverse.body, null, true);\n\t    }\n\n\t    // Find standalone else statments\n\t    if (!this.options.ignoreStandalone && isPrevWhitespace(program.body) && isNextWhitespace(firstInverse.body)) {\n\t      omitLeft(program.body);\n\t      omitRight(firstInverse.body);\n\t    }\n\t  } else if (block.closeStrip.open) {\n\t    omitLeft(program.body, null, true);\n\t  }\n\n\t  return strip;\n\t};\n\n\tWhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function (mustache) {\n\t  return mustache.strip;\n\t};\n\n\tWhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function (node) {\n\t  /* istanbul ignore next */\n\t  var strip = node.strip || {};\n\t  return {\n\t    inlineStandalone: true,\n\t    open: strip.open,\n\t    close: strip.close\n\t  };\n\t};\n\n\tfunction isPrevWhitespace(body, i, isRoot) {\n\t  if (i === undefined) {\n\t    i = body.length;\n\t  }\n\n\t  // Nodes that end with newlines are considered whitespace (but are special\n\t  // cased for strip operations)\n\t  var prev = body[i - 1],\n\t      sibling = body[i - 2];\n\t  if (!prev) {\n\t    return isRoot;\n\t  }\n\n\t  if (prev.type === 'ContentStatement') {\n\t    return (sibling || !isRoot ? /\\r?\\n\\s*?$/ : /(^|\\r?\\n)\\s*?$/).test(prev.original);\n\t  }\n\t}\n\tfunction isNextWhitespace(body, i, isRoot) {\n\t  if (i === undefined) {\n\t    i = -1;\n\t  }\n\n\t  var next = body[i + 1],\n\t      sibling = body[i + 2];\n\t  if (!next) {\n\t    return isRoot;\n\t  }\n\n\t  if (next.type === 'ContentStatement') {\n\t    return (sibling || !isRoot ? /^\\s*?\\r?\\n/ : /^\\s*?(\\r?\\n|$)/).test(next.original);\n\t  }\n\t}\n\n\t// Marks the node to the right of the position as omitted.\n\t// I.e. {{foo}}' ' will mark the ' ' node as omitted.\n\t//\n\t// If i is undefined, then the first child will be marked as such.\n\t//\n\t// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\n\t// content is met.\n\tfunction omitRight(body, i, multiple) {\n\t  var current = body[i == null ? 0 : i + 1];\n\t  if (!current || current.type !== 'ContentStatement' || !multiple && current.rightStripped) {\n\t    return;\n\t  }\n\n\t  var original = current.value;\n\t  current.value = current.value.replace(multiple ? /^\\s+/ : /^[ \\t]*\\r?\\n?/, '');\n\t  current.rightStripped = current.value !== original;\n\t}\n\n\t// Marks the node to the left of the position as omitted.\n\t// I.e. ' '{{foo}} will mark the ' ' node as omitted.\n\t//\n\t// If i is undefined then the last child will be marked as such.\n\t//\n\t// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\n\t// content is met.\n\tfunction omitLeft(body, i, multiple) {\n\t  var current = body[i == null ? body.length - 1 : i - 1];\n\t  if (!current || current.type !== 'ContentStatement' || !multiple && current.leftStripped) {\n\t    return;\n\t  }\n\n\t  // We omit the last node if it's whitespace only and not preceded by a non-content node.\n\t  var original = current.value;\n\t  current.value = current.value.replace(multiple ? /\\s+$/ : /[ \\t]+$/, '');\n\t  current.leftStripped = current.value !== original;\n\t  return current.leftStripped;\n\t}\n\n\texports['default'] = WhitespaceControl;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __nested_webpack_require_135807__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_135807__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _exception = __nested_webpack_require_135807__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tfunction Visitor() {\n\t  this.parents = [];\n\t}\n\n\tVisitor.prototype = {\n\t  constructor: Visitor,\n\t  mutating: false,\n\n\t  // Visits a given value. If mutating, will replace the value if necessary.\n\t  acceptKey: function acceptKey(node, name) {\n\t    var value = this.accept(node[name]);\n\t    if (this.mutating) {\n\t      // Hacky sanity check: This may have a few false positives for type for the helper\n\t      // methods but will generally do the right thing without a lot of overhead.\n\t      if (value && !Visitor.prototype[value.type]) {\n\t        throw new _exception2['default']('Unexpected node type \"' + value.type + '\" found when accepting ' + name + ' on ' + node.type);\n\t      }\n\t      node[name] = value;\n\t    }\n\t  },\n\n\t  // Performs an accept operation with added sanity check to ensure\n\t  // required keys are not removed.\n\t  acceptRequired: function acceptRequired(node, name) {\n\t    this.acceptKey(node, name);\n\n\t    if (!node[name]) {\n\t      throw new _exception2['default'](node.type + ' requires ' + name);\n\t    }\n\t  },\n\n\t  // Traverses a given array. If mutating, empty respnses will be removed\n\t  // for child elements.\n\t  acceptArray: function acceptArray(array) {\n\t    for (var i = 0, l = array.length; i < l; i++) {\n\t      this.acceptKey(array, i);\n\n\t      if (!array[i]) {\n\t        array.splice(i, 1);\n\t        i--;\n\t        l--;\n\t      }\n\t    }\n\t  },\n\n\t  accept: function accept(object) {\n\t    if (!object) {\n\t      return;\n\t    }\n\n\t    /* istanbul ignore next: Sanity code */\n\t    if (!this[object.type]) {\n\t      throw new _exception2['default']('Unknown type: ' + object.type, object);\n\t    }\n\n\t    if (this.current) {\n\t      this.parents.unshift(this.current);\n\t    }\n\t    this.current = object;\n\n\t    var ret = this[object.type](object);\n\n\t    this.current = this.parents.shift();\n\n\t    if (!this.mutating || ret) {\n\t      return ret;\n\t    } else if (ret !== false) {\n\t      return object;\n\t    }\n\t  },\n\n\t  Program: function Program(program) {\n\t    this.acceptArray(program.body);\n\t  },\n\n\t  MustacheStatement: visitSubExpression,\n\t  Decorator: visitSubExpression,\n\n\t  BlockStatement: visitBlock,\n\t  DecoratorBlock: visitBlock,\n\n\t  PartialStatement: visitPartial,\n\t  PartialBlockStatement: function PartialBlockStatement(partial) {\n\t    visitPartial.call(this, partial);\n\n\t    this.acceptKey(partial, 'program');\n\t  },\n\n\t  ContentStatement: function ContentStatement() /* content */{},\n\t  CommentStatement: function CommentStatement() /* comment */{},\n\n\t  SubExpression: visitSubExpression,\n\n\t  PathExpression: function PathExpression() /* path */{},\n\n\t  StringLiteral: function StringLiteral() /* string */{},\n\t  NumberLiteral: function NumberLiteral() /* number */{},\n\t  BooleanLiteral: function BooleanLiteral() /* bool */{},\n\t  UndefinedLiteral: function UndefinedLiteral() /* literal */{},\n\t  NullLiteral: function NullLiteral() /* literal */{},\n\n\t  Hash: function Hash(hash) {\n\t    this.acceptArray(hash.pairs);\n\t  },\n\t  HashPair: function HashPair(pair) {\n\t    this.acceptRequired(pair, 'value');\n\t  }\n\t};\n\n\tfunction visitSubExpression(mustache) {\n\t  this.acceptRequired(mustache, 'path');\n\t  this.acceptArray(mustache.params);\n\t  this.acceptKey(mustache, 'hash');\n\t}\n\tfunction visitBlock(block) {\n\t  visitSubExpression.call(this, block);\n\n\t  this.acceptKey(block, 'program');\n\t  this.acceptKey(block, 'inverse');\n\t}\n\tfunction visitPartial(partial) {\n\t  this.acceptRequired(partial, 'name');\n\t  this.acceptArray(partial.params);\n\t  this.acceptKey(partial, 'hash');\n\t}\n\n\texports['default'] = Visitor;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __nested_webpack_require_139663__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __nested_webpack_require_139663__(1)['default'];\n\n\texports.__esModule = true;\n\texports.SourceLocation = SourceLocation;\n\texports.id = id;\n\texports.stripFlags = stripFlags;\n\texports.stripComment = stripComment;\n\texports.preparePath = preparePath;\n\texports.prepareMustache = prepareMustache;\n\texports.prepareRawBlock = prepareRawBlock;\n\texports.prepareBlock = prepareBlock;\n\texports.prepareProgram = prepareProgram;\n\texports.preparePartialBlock = preparePartialBlock;\n\n\tvar _exception = __nested_webpack_require_139663__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tfunction validateClose(open, close) {\n\t  close = close.path ? close.path.original : close;\n\n\t  if (open.path.original !== close) {\n\t    var errorNode = { loc: open.path.loc };\n\n\t    throw new _exception2['default'](open.path.original + \" doesn't match \" + close, errorNode);\n\t  }\n\t}\n\n\tfunction SourceLocation(source, locInfo) {\n\t  this.source = source;\n\t  this.start = {\n\t    line: locInfo.first_line,\n\t    column: locInfo.first_column\n\t  };\n\t  this.end = {\n\t    line: locInfo.last_line,\n\t    column: locInfo.last_column\n\t  };\n\t}\n\n\tfunction id(token) {\n\t  if (/^\\[.*\\]$/.test(token)) {\n\t    return token.substring(1, token.length - 1);\n\t  } else {\n\t    return token;\n\t  }\n\t}\n\n\tfunction stripFlags(open, close) {\n\t  return {\n\t    open: open.charAt(2) === '~',\n\t    close: close.charAt(close.length - 3) === '~'\n\t  };\n\t}\n\n\tfunction stripComment(comment) {\n\t  return comment.replace(/^\\{\\{~?!-?-?/, '').replace(/-?-?~?\\}\\}$/, '');\n\t}\n\n\tfunction preparePath(data, parts, loc) {\n\t  loc = this.locInfo(loc);\n\n\t  var original = data ? '@' : '',\n\t      dig = [],\n\t      depth = 0;\n\n\t  for (var i = 0, l = parts.length; i < l; i++) {\n\t    var part = parts[i].part,\n\n\t    // If we have [] syntax then we do not treat path references as operators,\n\t    // i.e. foo.[this] resolves to approximately context.foo['this']\n\t    isLiteral = parts[i].original !== part;\n\t    original += (parts[i].separator || '') + part;\n\n\t    if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {\n\t      if (dig.length > 0) {\n\t        throw new _exception2['default']('Invalid path: ' + original, { loc: loc });\n\t      } else if (part === '..') {\n\t        depth++;\n\t      }\n\t    } else {\n\t      dig.push(part);\n\t    }\n\t  }\n\n\t  return {\n\t    type: 'PathExpression',\n\t    data: data,\n\t    depth: depth,\n\t    parts: dig,\n\t    original: original,\n\t    loc: loc\n\t  };\n\t}\n\n\tfunction prepareMustache(path, params, hash, open, strip, locInfo) {\n\t  // Must use charAt to support IE pre-10\n\t  var escapeFlag = open.charAt(3) || open.charAt(2),\n\t      escaped = escapeFlag !== '{' && escapeFlag !== '&';\n\n\t  var decorator = /\\*/.test(open);\n\t  return {\n\t    type: decorator ? 'Decorator' : 'MustacheStatement',\n\t    path: path,\n\t    params: params,\n\t    hash: hash,\n\t    escaped: escaped,\n\t    strip: strip,\n\t    loc: this.locInfo(locInfo)\n\t  };\n\t}\n\n\tfunction prepareRawBlock(openRawBlock, contents, close, locInfo) {\n\t  validateClose(openRawBlock, close);\n\n\t  locInfo = this.locInfo(locInfo);\n\t  var program = {\n\t    type: 'Program',\n\t    body: contents,\n\t    strip: {},\n\t    loc: locInfo\n\t  };\n\n\t  return {\n\t    type: 'BlockStatement',\n\t    path: openRawBlock.path,\n\t    params: openRawBlock.params,\n\t    hash: openRawBlock.hash,\n\t    program: program,\n\t    openStrip: {},\n\t    inverseStrip: {},\n\t    closeStrip: {},\n\t    loc: locInfo\n\t  };\n\t}\n\n\tfunction prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {\n\t  if (close && close.path) {\n\t    validateClose(openBlock, close);\n\t  }\n\n\t  var decorator = /\\*/.test(openBlock.open);\n\n\t  program.blockParams = openBlock.blockParams;\n\n\t  var inverse = undefined,\n\t      inverseStrip = undefined;\n\n\t  if (inverseAndProgram) {\n\t    if (decorator) {\n\t      throw new _exception2['default']('Unexpected inverse block on decorator', inverseAndProgram);\n\t    }\n\n\t    if (inverseAndProgram.chain) {\n\t      inverseAndProgram.program.body[0].closeStrip = close.strip;\n\t    }\n\n\t    inverseStrip = inverseAndProgram.strip;\n\t    inverse = inverseAndProgram.program;\n\t  }\n\n\t  if (inverted) {\n\t    inverted = inverse;\n\t    inverse = program;\n\t    program = inverted;\n\t  }\n\n\t  return {\n\t    type: decorator ? 'DecoratorBlock' : 'BlockStatement',\n\t    path: openBlock.path,\n\t    params: openBlock.params,\n\t    hash: openBlock.hash,\n\t    program: program,\n\t    inverse: inverse,\n\t    openStrip: openBlock.strip,\n\t    inverseStrip: inverseStrip,\n\t    closeStrip: close && close.strip,\n\t    loc: this.locInfo(locInfo)\n\t  };\n\t}\n\n\tfunction prepareProgram(statements, loc) {\n\t  if (!loc && statements.length) {\n\t    var firstLoc = statements[0].loc,\n\t        lastLoc = statements[statements.length - 1].loc;\n\n\t    /* istanbul ignore else */\n\t    if (firstLoc && lastLoc) {\n\t      loc = {\n\t        source: firstLoc.source,\n\t        start: {\n\t          line: firstLoc.start.line,\n\t          column: firstLoc.start.column\n\t        },\n\t        end: {\n\t          line: lastLoc.end.line,\n\t          column: lastLoc.end.column\n\t        }\n\t      };\n\t    }\n\t  }\n\n\t  return {\n\t    type: 'Program',\n\t    body: statements,\n\t    strip: {},\n\t    loc: loc\n\t  };\n\t}\n\n\tfunction preparePartialBlock(open, program, close, locInfo) {\n\t  validateClose(open, close);\n\n\t  return {\n\t    type: 'PartialBlockStatement',\n\t    name: open.path,\n\t    params: open.params,\n\t    hash: open.hash,\n\t    program: program,\n\t    openStrip: open.strip,\n\t    closeStrip: close && close.strip,\n\t    loc: this.locInfo(locInfo)\n\t  };\n\t}\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __nested_webpack_require_145258__) {\n\n\t/* eslint-disable new-cap */\n\n\t'use strict';\n\n\tvar _Object$create = __nested_webpack_require_145258__(74)['default'];\n\n\tvar _interopRequireDefault = __nested_webpack_require_145258__(1)['default'];\n\n\texports.__esModule = true;\n\texports.Compiler = Compiler;\n\texports.precompile = precompile;\n\texports.compile = compile;\n\n\tvar _exception = __nested_webpack_require_145258__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _utils = __nested_webpack_require_145258__(5);\n\n\tvar _ast = __nested_webpack_require_145258__(84);\n\n\tvar _ast2 = _interopRequireDefault(_ast);\n\n\tvar slice = [].slice;\n\n\tfunction Compiler() {}\n\n\t// the foundHelper register will disambiguate helper lookup from finding a\n\t// function in a context. This is necessary for mustache compatibility, which\n\t// requires that context functions in blocks are evaluated by blockHelperMissing,\n\t// and then proceed as if the resulting value was provided to blockHelperMissing.\n\n\tCompiler.prototype = {\n\t  compiler: Compiler,\n\n\t  equals: function equals(other) {\n\t    var len = this.opcodes.length;\n\t    if (other.opcodes.length !== len) {\n\t      return false;\n\t    }\n\n\t    for (var i = 0; i < len; i++) {\n\t      var opcode = this.opcodes[i],\n\t          otherOpcode = other.opcodes[i];\n\t      if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {\n\t        return false;\n\t      }\n\t    }\n\n\t    // We know that length is the same between the two arrays because they are directly tied\n\t    // to the opcode behavior above.\n\t    len = this.children.length;\n\t    for (var i = 0; i < len; i++) {\n\t      if (!this.children[i].equals(other.children[i])) {\n\t        return false;\n\t      }\n\t    }\n\n\t    return true;\n\t  },\n\n\t  guid: 0,\n\n\t  compile: function compile(program, options) {\n\t    this.sourceNode = [];\n\t    this.opcodes = [];\n\t    this.children = [];\n\t    this.options = options;\n\t    this.stringParams = options.stringParams;\n\t    this.trackIds = options.trackIds;\n\n\t    options.blockParams = options.blockParams || [];\n\n\t    options.knownHelpers = _utils.extend(_Object$create(null), {\n\t      helperMissing: true,\n\t      blockHelperMissing: true,\n\t      each: true,\n\t      'if': true,\n\t      unless: true,\n\t      'with': true,\n\t      log: true,\n\t      lookup: true\n\t    }, options.knownHelpers);\n\n\t    return this.accept(program);\n\t  },\n\n\t  compileProgram: function compileProgram(program) {\n\t    var childCompiler = new this.compiler(),\n\t        // eslint-disable-line new-cap\n\t    result = childCompiler.compile(program, this.options),\n\t        guid = this.guid++;\n\n\t    this.usePartial = this.usePartial || result.usePartial;\n\n\t    this.children[guid] = result;\n\t    this.useDepths = this.useDepths || result.useDepths;\n\n\t    return guid;\n\t  },\n\n\t  accept: function accept(node) {\n\t    /* istanbul ignore next: Sanity code */\n\t    if (!this[node.type]) {\n\t      throw new _exception2['default']('Unknown type: ' + node.type, node);\n\t    }\n\n\t    this.sourceNode.unshift(node);\n\t    var ret = this[node.type](node);\n\t    this.sourceNode.shift();\n\t    return ret;\n\t  },\n\n\t  Program: function Program(program) {\n\t    this.options.blockParams.unshift(program.blockParams);\n\n\t    var body = program.body,\n\t        bodyLength = body.length;\n\t    for (var i = 0; i < bodyLength; i++) {\n\t      this.accept(body[i]);\n\t    }\n\n\t    this.options.blockParams.shift();\n\n\t    this.isSimple = bodyLength === 1;\n\t    this.blockParams = program.blockParams ? program.blockParams.length : 0;\n\n\t    return this;\n\t  },\n\n\t  BlockStatement: function BlockStatement(block) {\n\t    transformLiteralToPath(block);\n\n\t    var program = block.program,\n\t        inverse = block.inverse;\n\n\t    program = program && this.compileProgram(program);\n\t    inverse = inverse && this.compileProgram(inverse);\n\n\t    var type = this.classifySexpr(block);\n\n\t    if (type === 'helper') {\n\t      this.helperSexpr(block, program, inverse);\n\t    } else if (type === 'simple') {\n\t      this.simpleSexpr(block);\n\n\t      // now that the simple mustache is resolved, we need to\n\t      // evaluate it by executing `blockHelperMissing`\n\t      this.opcode('pushProgram', program);\n\t      this.opcode('pushProgram', inverse);\n\t      this.opcode('emptyHash');\n\t      this.opcode('blockValue', block.path.original);\n\t    } else {\n\t      this.ambiguousSexpr(block, program, inverse);\n\n\t      // now that the simple mustache is resolved, we need to\n\t      // evaluate it by executing `blockHelperMissing`\n\t      this.opcode('pushProgram', program);\n\t      this.opcode('pushProgram', inverse);\n\t      this.opcode('emptyHash');\n\t      this.opcode('ambiguousBlockValue');\n\t    }\n\n\t    this.opcode('append');\n\t  },\n\n\t  DecoratorBlock: function DecoratorBlock(decorator) {\n\t    var program = decorator.program && this.compileProgram(decorator.program);\n\t    var params = this.setupFullMustacheParams(decorator, program, undefined),\n\t        path = decorator.path;\n\n\t    this.useDecorators = true;\n\t    this.opcode('registerDecorator', params.length, path.original);\n\t  },\n\n\t  PartialStatement: function PartialStatement(partial) {\n\t    this.usePartial = true;\n\n\t    var program = partial.program;\n\t    if (program) {\n\t      program = this.compileProgram(partial.program);\n\t    }\n\n\t    var params = partial.params;\n\t    if (params.length > 1) {\n\t      throw new _exception2['default']('Unsupported number of partial arguments: ' + params.length, partial);\n\t    } else if (!params.length) {\n\t      if (this.options.explicitPartialContext) {\n\t        this.opcode('pushLiteral', 'undefined');\n\t      } else {\n\t        params.push({ type: 'PathExpression', parts: [], depth: 0 });\n\t      }\n\t    }\n\n\t    var partialName = partial.name.original,\n\t        isDynamic = partial.name.type === 'SubExpression';\n\t    if (isDynamic) {\n\t      this.accept(partial.name);\n\t    }\n\n\t    this.setupFullMustacheParams(partial, program, undefined, true);\n\n\t    var indent = partial.indent || '';\n\t    if (this.options.preventIndent && indent) {\n\t      this.opcode('appendContent', indent);\n\t      indent = '';\n\t    }\n\n\t    this.opcode('invokePartial', isDynamic, partialName, indent);\n\t    this.opcode('append');\n\t  },\n\t  PartialBlockStatement: function PartialBlockStatement(partialBlock) {\n\t    this.PartialStatement(partialBlock);\n\t  },\n\n\t  MustacheStatement: function MustacheStatement(mustache) {\n\t    this.SubExpression(mustache);\n\n\t    if (mustache.escaped && !this.options.noEscape) {\n\t      this.opcode('appendEscaped');\n\t    } else {\n\t      this.opcode('append');\n\t    }\n\t  },\n\t  Decorator: function Decorator(decorator) {\n\t    this.DecoratorBlock(decorator);\n\t  },\n\n\t  ContentStatement: function ContentStatement(content) {\n\t    if (content.value) {\n\t      this.opcode('appendContent', content.value);\n\t    }\n\t  },\n\n\t  CommentStatement: function CommentStatement() {},\n\n\t  SubExpression: function SubExpression(sexpr) {\n\t    transformLiteralToPath(sexpr);\n\t    var type = this.classifySexpr(sexpr);\n\n\t    if (type === 'simple') {\n\t      this.simpleSexpr(sexpr);\n\t    } else if (type === 'helper') {\n\t      this.helperSexpr(sexpr);\n\t    } else {\n\t      this.ambiguousSexpr(sexpr);\n\t    }\n\t  },\n\t  ambiguousSexpr: function ambiguousSexpr(sexpr, program, inverse) {\n\t    var path = sexpr.path,\n\t        name = path.parts[0],\n\t        isBlock = program != null || inverse != null;\n\n\t    this.opcode('getContext', path.depth);\n\n\t    this.opcode('pushProgram', program);\n\t    this.opcode('pushProgram', inverse);\n\n\t    path.strict = true;\n\t    this.accept(path);\n\n\t    this.opcode('invokeAmbiguous', name, isBlock);\n\t  },\n\n\t  simpleSexpr: function simpleSexpr(sexpr) {\n\t    var path = sexpr.path;\n\t    path.strict = true;\n\t    this.accept(path);\n\t    this.opcode('resolvePossibleLambda');\n\t  },\n\n\t  helperSexpr: function helperSexpr(sexpr, program, inverse) {\n\t    var params = this.setupFullMustacheParams(sexpr, program, inverse),\n\t        path = sexpr.path,\n\t        name = path.parts[0];\n\n\t    if (this.options.knownHelpers[name]) {\n\t      this.opcode('invokeKnownHelper', params.length, name);\n\t    } else if (this.options.knownHelpersOnly) {\n\t      throw new _exception2['default']('You specified knownHelpersOnly, but used the unknown helper ' + name, sexpr);\n\t    } else {\n\t      path.strict = true;\n\t      path.falsy = true;\n\n\t      this.accept(path);\n\t      this.opcode('invokeHelper', params.length, path.original, _ast2['default'].helpers.simpleId(path));\n\t    }\n\t  },\n\n\t  PathExpression: function PathExpression(path) {\n\t    this.addDepth(path.depth);\n\t    this.opcode('getContext', path.depth);\n\n\t    var name = path.parts[0],\n\t        scoped = _ast2['default'].helpers.scopedId(path),\n\t        blockParamId = !path.depth && !scoped && this.blockParamIndex(name);\n\n\t    if (blockParamId) {\n\t      this.opcode('lookupBlockParam', blockParamId, path.parts);\n\t    } else if (!name) {\n\t      // Context reference, i.e. `{{foo .}}` or `{{foo ..}}`\n\t      this.opcode('pushContext');\n\t    } else if (path.data) {\n\t      this.options.data = true;\n\t      this.opcode('lookupData', path.depth, path.parts, path.strict);\n\t    } else {\n\t      this.opcode('lookupOnContext', path.parts, path.falsy, path.strict, scoped);\n\t    }\n\t  },\n\n\t  StringLiteral: function StringLiteral(string) {\n\t    this.opcode('pushString', string.value);\n\t  },\n\n\t  NumberLiteral: function NumberLiteral(number) {\n\t    this.opcode('pushLiteral', number.value);\n\t  },\n\n\t  BooleanLiteral: function BooleanLiteral(bool) {\n\t    this.opcode('pushLiteral', bool.value);\n\t  },\n\n\t  UndefinedLiteral: function UndefinedLiteral() {\n\t    this.opcode('pushLiteral', 'undefined');\n\t  },\n\n\t  NullLiteral: function NullLiteral() {\n\t    this.opcode('pushLiteral', 'null');\n\t  },\n\n\t  Hash: function Hash(hash) {\n\t    var pairs = hash.pairs,\n\t        i = 0,\n\t        l = pairs.length;\n\n\t    this.opcode('pushHash');\n\n\t    for (; i < l; i++) {\n\t      this.pushParam(pairs[i].value);\n\t    }\n\t    while (i--) {\n\t      this.opcode('assignToHash', pairs[i].key);\n\t    }\n\t    this.opcode('popHash');\n\t  },\n\n\t  // HELPERS\n\t  opcode: function opcode(name) {\n\t    this.opcodes.push({\n\t      opcode: name,\n\t      args: slice.call(arguments, 1),\n\t      loc: this.sourceNode[0].loc\n\t    });\n\t  },\n\n\t  addDepth: function addDepth(depth) {\n\t    if (!depth) {\n\t      return;\n\t    }\n\n\t    this.useDepths = true;\n\t  },\n\n\t  classifySexpr: function classifySexpr(sexpr) {\n\t    var isSimple = _ast2['default'].helpers.simpleId(sexpr.path);\n\n\t    var isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);\n\n\t    // a mustache is an eligible helper if:\n\t    // * its id is simple (a single part, not `this` or `..`)\n\t    var isHelper = !isBlockParam && _ast2['default'].helpers.helperExpression(sexpr);\n\n\t    // if a mustache is an eligible helper but not a definite\n\t    // helper, it is ambiguous, and will be resolved in a later\n\t    // pass or at runtime.\n\t    var isEligible = !isBlockParam && (isHelper || isSimple);\n\n\t    // if ambiguous, we can possibly resolve the ambiguity now\n\t    // An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.\n\t    if (isEligible && !isHelper) {\n\t      var _name = sexpr.path.parts[0],\n\t          options = this.options;\n\t      if (options.knownHelpers[_name]) {\n\t        isHelper = true;\n\t      } else if (options.knownHelpersOnly) {\n\t        isEligible = false;\n\t      }\n\t    }\n\n\t    if (isHelper) {\n\t      return 'helper';\n\t    } else if (isEligible) {\n\t      return 'ambiguous';\n\t    } else {\n\t      return 'simple';\n\t    }\n\t  },\n\n\t  pushParams: function pushParams(params) {\n\t    for (var i = 0, l = params.length; i < l; i++) {\n\t      this.pushParam(params[i]);\n\t    }\n\t  },\n\n\t  pushParam: function pushParam(val) {\n\t    var value = val.value != null ? val.value : val.original || '';\n\n\t    if (this.stringParams) {\n\t      if (value.replace) {\n\t        value = value.replace(/^(\\.?\\.\\/)*/g, '').replace(/\\//g, '.');\n\t      }\n\n\t      if (val.depth) {\n\t        this.addDepth(val.depth);\n\t      }\n\t      this.opcode('getContext', val.depth || 0);\n\t      this.opcode('pushStringParam', value, val.type);\n\n\t      if (val.type === 'SubExpression') {\n\t        // SubExpressions get evaluated and passed in\n\t        // in string params mode.\n\t        this.accept(val);\n\t      }\n\t    } else {\n\t      if (this.trackIds) {\n\t        var blockParamIndex = undefined;\n\t        if (val.parts && !_ast2['default'].helpers.scopedId(val) && !val.depth) {\n\t          blockParamIndex = this.blockParamIndex(val.parts[0]);\n\t        }\n\t        if (blockParamIndex) {\n\t          var blockParamChild = val.parts.slice(1).join('.');\n\t          this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild);\n\t        } else {\n\t          value = val.original || value;\n\t          if (value.replace) {\n\t            value = value.replace(/^this(?:\\.|$)/, '').replace(/^\\.\\//, '').replace(/^\\.$/, '');\n\t          }\n\n\t          this.opcode('pushId', val.type, value);\n\t        }\n\t      }\n\t      this.accept(val);\n\t    }\n\t  },\n\n\t  setupFullMustacheParams: function setupFullMustacheParams(sexpr, program, inverse, omitEmpty) {\n\t    var params = sexpr.params;\n\t    this.pushParams(params);\n\n\t    this.opcode('pushProgram', program);\n\t    this.opcode('pushProgram', inverse);\n\n\t    if (sexpr.hash) {\n\t      this.accept(sexpr.hash);\n\t    } else {\n\t      this.opcode('emptyHash', omitEmpty);\n\t    }\n\n\t    return params;\n\t  },\n\n\t  blockParamIndex: function blockParamIndex(name) {\n\t    for (var depth = 0, len = this.options.blockParams.length; depth < len; depth++) {\n\t      var blockParams = this.options.blockParams[depth],\n\t          param = blockParams && _utils.indexOf(blockParams, name);\n\t      if (blockParams && param >= 0) {\n\t        return [depth, param];\n\t      }\n\t    }\n\t  }\n\t};\n\n\tfunction precompile(input, options, env) {\n\t  if (input == null || typeof input !== 'string' && input.type !== 'Program') {\n\t    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' + input);\n\t  }\n\n\t  options = options || {};\n\t  if (!('data' in options)) {\n\t    options.data = true;\n\t  }\n\t  if (options.compat) {\n\t    options.useDepths = true;\n\t  }\n\n\t  var ast = env.parse(input, options),\n\t      environment = new env.Compiler().compile(ast, options);\n\t  return new env.JavaScriptCompiler().compile(environment, options);\n\t}\n\n\tfunction compile(input, options, env) {\n\t  if (options === undefined) options = {};\n\n\t  if (input == null || typeof input !== 'string' && input.type !== 'Program') {\n\t    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.compile. You passed ' + input);\n\t  }\n\n\t  options = _utils.extend({}, options);\n\t  if (!('data' in options)) {\n\t    options.data = true;\n\t  }\n\t  if (options.compat) {\n\t    options.useDepths = true;\n\t  }\n\n\t  var compiled = undefined;\n\n\t  function compileInput() {\n\t    var ast = env.parse(input, options),\n\t        environment = new env.Compiler().compile(ast, options),\n\t        templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);\n\t    return env.template(templateSpec);\n\t  }\n\n\t  // Template is only compiled on first use and cached after that point.\n\t  function ret(context, execOptions) {\n\t    if (!compiled) {\n\t      compiled = compileInput();\n\t    }\n\t    return compiled.call(this, context, execOptions);\n\t  }\n\t  ret._setup = function (setupOptions) {\n\t    if (!compiled) {\n\t      compiled = compileInput();\n\t    }\n\t    return compiled._setup(setupOptions);\n\t  };\n\t  ret._child = function (i, data, blockParams, depths) {\n\t    if (!compiled) {\n\t      compiled = compileInput();\n\t    }\n\t    return compiled._child(i, data, blockParams, depths);\n\t  };\n\t  return ret;\n\t}\n\n\tfunction argEquals(a, b) {\n\t  if (a === b) {\n\t    return true;\n\t  }\n\n\t  if (_utils.isArray(a) && _utils.isArray(b) && a.length === b.length) {\n\t    for (var i = 0; i < a.length; i++) {\n\t      if (!argEquals(a[i], b[i])) {\n\t        return false;\n\t      }\n\t    }\n\t    return true;\n\t  }\n\t}\n\n\tfunction transformLiteralToPath(sexpr) {\n\t  if (!sexpr.path.parts) {\n\t    var literal = sexpr.path;\n\t    // Casting to string here to make false and 0 literal values play nicely with the rest\n\t    // of the system.\n\t    sexpr.path = {\n\t      type: 'PathExpression',\n\t      data: false,\n\t      depth: 0,\n\t      parts: [literal.original + ''],\n\t      original: literal.original + '',\n\t      loc: literal.loc\n\t    };\n\t  }\n\t}\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __nested_webpack_require_161675__) {\n\n\t'use strict';\n\n\tvar _Object$keys = __nested_webpack_require_161675__(60)['default'];\n\n\tvar _interopRequireDefault = __nested_webpack_require_161675__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _base = __nested_webpack_require_161675__(4);\n\n\tvar _exception = __nested_webpack_require_161675__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _utils = __nested_webpack_require_161675__(5);\n\n\tvar _codeGen = __nested_webpack_require_161675__(92);\n\n\tvar _codeGen2 = _interopRequireDefault(_codeGen);\n\n\tfunction Literal(value) {\n\t  this.value = value;\n\t}\n\n\tfunction JavaScriptCompiler() {}\n\n\tJavaScriptCompiler.prototype = {\n\t  // PUBLIC API: You can override these methods in a subclass to provide\n\t  // alternative compiled forms for name lookup and buffering semantics\n\t  nameLookup: function nameLookup(parent, name /*,  type */) {\n\t    return this.internalNameLookup(parent, name);\n\t  },\n\t  depthedLookup: function depthedLookup(name) {\n\t    return [this.aliasable('container.lookup'), '(depths, ', JSON.stringify(name), ')'];\n\t  },\n\n\t  compilerInfo: function compilerInfo() {\n\t    var revision = _base.COMPILER_REVISION,\n\t        versions = _base.REVISION_CHANGES[revision];\n\t    return [revision, versions];\n\t  },\n\n\t  appendToBuffer: function appendToBuffer(source, location, explicit) {\n\t    // Force a source as this simplifies the merge logic.\n\t    if (!_utils.isArray(source)) {\n\t      source = [source];\n\t    }\n\t    source = this.source.wrap(source, location);\n\n\t    if (this.environment.isSimple) {\n\t      return ['return ', source, ';'];\n\t    } else if (explicit) {\n\t      // This is a case where the buffer operation occurs as a child of another\n\t      // construct, generally braces. We have to explicitly output these buffer\n\t      // operations to ensure that the emitted code goes in the correct location.\n\t      return ['buffer += ', source, ';'];\n\t    } else {\n\t      source.appendToBuffer = true;\n\t      return source;\n\t    }\n\t  },\n\n\t  initializeBuffer: function initializeBuffer() {\n\t    return this.quotedString('');\n\t  },\n\t  // END PUBLIC API\n\t  internalNameLookup: function internalNameLookup(parent, name) {\n\t    this.lookupPropertyFunctionIsUsed = true;\n\t    return ['lookupProperty(', parent, ',', JSON.stringify(name), ')'];\n\t  },\n\n\t  lookupPropertyFunctionIsUsed: false,\n\n\t  compile: function compile(environment, options, context, asObject) {\n\t    this.environment = environment;\n\t    this.options = options;\n\t    this.stringParams = this.options.stringParams;\n\t    this.trackIds = this.options.trackIds;\n\t    this.precompile = !asObject;\n\n\t    this.name = this.environment.name;\n\t    this.isChild = !!context;\n\t    this.context = context || {\n\t      decorators: [],\n\t      programs: [],\n\t      environments: []\n\t    };\n\n\t    this.preamble();\n\n\t    this.stackSlot = 0;\n\t    this.stackVars = [];\n\t    this.aliases = {};\n\t    this.registers = { list: [] };\n\t    this.hashes = [];\n\t    this.compileStack = [];\n\t    this.inlineStack = [];\n\t    this.blockParams = [];\n\n\t    this.compileChildren(environment, options);\n\n\t    this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat;\n\t    this.useBlockParams = this.useBlockParams || environment.useBlockParams;\n\n\t    var opcodes = environment.opcodes,\n\t        opcode = undefined,\n\t        firstLoc = undefined,\n\t        i = undefined,\n\t        l = undefined;\n\n\t    for (i = 0, l = opcodes.length; i < l; i++) {\n\t      opcode = opcodes[i];\n\n\t      this.source.currentLocation = opcode.loc;\n\t      firstLoc = firstLoc || opcode.loc;\n\t      this[opcode.opcode].apply(this, opcode.args);\n\t    }\n\n\t    // Flush any trailing content that might be pending.\n\t    this.source.currentLocation = firstLoc;\n\t    this.pushSource('');\n\n\t    /* istanbul ignore next */\n\t    if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {\n\t      throw new _exception2['default']('Compile completed with content left on stack');\n\t    }\n\n\t    if (!this.decorators.isEmpty()) {\n\t      this.useDecorators = true;\n\n\t      this.decorators.prepend(['var decorators = container.decorators, ', this.lookupPropertyFunctionVarDeclaration(), ';\\n']);\n\t      this.decorators.push('return fn;');\n\n\t      if (asObject) {\n\t        this.decorators = Function.apply(this, ['fn', 'props', 'container', 'depth0', 'data', 'blockParams', 'depths', this.decorators.merge()]);\n\t      } else {\n\t        this.decorators.prepend('function(fn, props, container, depth0, data, blockParams, depths) {\\n');\n\t        this.decorators.push('}\\n');\n\t        this.decorators = this.decorators.merge();\n\t      }\n\t    } else {\n\t      this.decorators = undefined;\n\t    }\n\n\t    var fn = this.createFunctionContext(asObject);\n\t    if (!this.isChild) {\n\t      var ret = {\n\t        compiler: this.compilerInfo(),\n\t        main: fn\n\t      };\n\n\t      if (this.decorators) {\n\t        ret.main_d = this.decorators; // eslint-disable-line camelcase\n\t        ret.useDecorators = true;\n\t      }\n\n\t      var _context = this.context;\n\t      var programs = _context.programs;\n\t      var decorators = _context.decorators;\n\n\t      for (i = 0, l = programs.length; i < l; i++) {\n\t        if (programs[i]) {\n\t          ret[i] = programs[i];\n\t          if (decorators[i]) {\n\t            ret[i + '_d'] = decorators[i];\n\t            ret.useDecorators = true;\n\t          }\n\t        }\n\t      }\n\n\t      if (this.environment.usePartial) {\n\t        ret.usePartial = true;\n\t      }\n\t      if (this.options.data) {\n\t        ret.useData = true;\n\t      }\n\t      if (this.useDepths) {\n\t        ret.useDepths = true;\n\t      }\n\t      if (this.useBlockParams) {\n\t        ret.useBlockParams = true;\n\t      }\n\t      if (this.options.compat) {\n\t        ret.compat = true;\n\t      }\n\n\t      if (!asObject) {\n\t        ret.compiler = JSON.stringify(ret.compiler);\n\n\t        this.source.currentLocation = { start: { line: 1, column: 0 } };\n\t        ret = this.objectLiteral(ret);\n\n\t        if (options.srcName) {\n\t          ret = ret.toStringWithSourceMap({ file: options.destName });\n\t          ret.map = ret.map && ret.map.toString();\n\t        } else {\n\t          ret = ret.toString();\n\t        }\n\t      } else {\n\t        ret.compilerOptions = this.options;\n\t      }\n\n\t      return ret;\n\t    } else {\n\t      return fn;\n\t    }\n\t  },\n\n\t  preamble: function preamble() {\n\t    // track the last context pushed into place to allow skipping the\n\t    // getContext opcode when it would be a noop\n\t    this.lastContext = 0;\n\t    this.source = new _codeGen2['default'](this.options.srcName);\n\t    this.decorators = new _codeGen2['default'](this.options.srcName);\n\t  },\n\n\t  createFunctionContext: function createFunctionContext(asObject) {\n\t    // istanbul ignore next\n\n\t    var _this = this;\n\n\t    var varDeclarations = '';\n\n\t    var locals = this.stackVars.concat(this.registers.list);\n\t    if (locals.length > 0) {\n\t      varDeclarations += ', ' + locals.join(', ');\n\t    }\n\n\t    // Generate minimizer alias mappings\n\t    //\n\t    // When using true SourceNodes, this will update all references to the given alias\n\t    // as the source nodes are reused in situ. For the non-source node compilation mode,\n\t    // aliases will not be used, but this case is already being run on the client and\n\t    // we aren't concern about minimizing the template size.\n\t    var aliasCount = 0;\n\t    _Object$keys(this.aliases).forEach(function (alias) {\n\t      var node = _this.aliases[alias];\n\t      if (node.children && node.referenceCount > 1) {\n\t        varDeclarations += ', alias' + ++aliasCount + '=' + alias;\n\t        node.children[0] = 'alias' + aliasCount;\n\t      }\n\t    });\n\n\t    if (this.lookupPropertyFunctionIsUsed) {\n\t      varDeclarations += ', ' + this.lookupPropertyFunctionVarDeclaration();\n\t    }\n\n\t    var params = ['container', 'depth0', 'helpers', 'partials', 'data'];\n\n\t    if (this.useBlockParams || this.useDepths) {\n\t      params.push('blockParams');\n\t    }\n\t    if (this.useDepths) {\n\t      params.push('depths');\n\t    }\n\n\t    // Perform a second pass over the output to merge content when possible\n\t    var source = this.mergeSource(varDeclarations);\n\n\t    if (asObject) {\n\t      params.push(source);\n\n\t      return Function.apply(this, params);\n\t    } else {\n\t      return this.source.wrap(['function(', params.join(','), ') {\\n  ', source, '}']);\n\t    }\n\t  },\n\t  mergeSource: function mergeSource(varDeclarations) {\n\t    var isSimple = this.environment.isSimple,\n\t        appendOnly = !this.forceBuffer,\n\t        appendFirst = undefined,\n\t        sourceSeen = undefined,\n\t        bufferStart = undefined,\n\t        bufferEnd = undefined;\n\t    this.source.each(function (line) {\n\t      if (line.appendToBuffer) {\n\t        if (bufferStart) {\n\t          line.prepend('  + ');\n\t        } else {\n\t          bufferStart = line;\n\t        }\n\t        bufferEnd = line;\n\t      } else {\n\t        if (bufferStart) {\n\t          if (!sourceSeen) {\n\t            appendFirst = true;\n\t          } else {\n\t            bufferStart.prepend('buffer += ');\n\t          }\n\t          bufferEnd.add(';');\n\t          bufferStart = bufferEnd = undefined;\n\t        }\n\n\t        sourceSeen = true;\n\t        if (!isSimple) {\n\t          appendOnly = false;\n\t        }\n\t      }\n\t    });\n\n\t    if (appendOnly) {\n\t      if (bufferStart) {\n\t        bufferStart.prepend('return ');\n\t        bufferEnd.add(';');\n\t      } else if (!sourceSeen) {\n\t        this.source.push('return \"\";');\n\t      }\n\t    } else {\n\t      varDeclarations += ', buffer = ' + (appendFirst ? '' : this.initializeBuffer());\n\n\t      if (bufferStart) {\n\t        bufferStart.prepend('return buffer + ');\n\t        bufferEnd.add(';');\n\t      } else {\n\t        this.source.push('return buffer;');\n\t      }\n\t    }\n\n\t    if (varDeclarations) {\n\t      this.source.prepend('var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\\n'));\n\t    }\n\n\t    return this.source.merge();\n\t  },\n\n\t  lookupPropertyFunctionVarDeclaration: function lookupPropertyFunctionVarDeclaration() {\n\t    return '\\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\\n          return parent[propertyName];\\n        }\\n        return undefined\\n    }\\n    '.trim();\n\t  },\n\n\t  // [blockValue]\n\t  //\n\t  // On stack, before: hash, inverse, program, value\n\t  // On stack, after: return value of blockHelperMissing\n\t  //\n\t  // The purpose of this opcode is to take a block of the form\n\t  // `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and\n\t  // replace it on the stack with the result of properly\n\t  // invoking blockHelperMissing.\n\t  blockValue: function blockValue(name) {\n\t    var blockHelperMissing = this.aliasable('container.hooks.blockHelperMissing'),\n\t        params = [this.contextName(0)];\n\t    this.setupHelperArgs(name, 0, params);\n\n\t    var blockName = this.popStack();\n\t    params.splice(1, 0, blockName);\n\n\t    this.push(this.source.functionCall(blockHelperMissing, 'call', params));\n\t  },\n\n\t  // [ambiguousBlockValue]\n\t  //\n\t  // On stack, before: hash, inverse, program, value\n\t  // Compiler value, before: lastHelper=value of last found helper, if any\n\t  // On stack, after, if no lastHelper: same as [blockValue]\n\t  // On stack, after, if lastHelper: value\n\t  ambiguousBlockValue: function ambiguousBlockValue() {\n\t    // We're being a bit cheeky and reusing the options value from the prior exec\n\t    var blockHelperMissing = this.aliasable('container.hooks.blockHelperMissing'),\n\t        params = [this.contextName(0)];\n\t    this.setupHelperArgs('', 0, params, true);\n\n\t    this.flushInline();\n\n\t    var current = this.topStack();\n\t    params.splice(1, 0, current);\n\n\t    this.pushSource(['if (!', this.lastHelper, ') { ', current, ' = ', this.source.functionCall(blockHelperMissing, 'call', params), '}']);\n\t  },\n\n\t  // [appendContent]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: ...\n\t  //\n\t  // Appends the string value of `content` to the current buffer\n\t  appendContent: function appendContent(content) {\n\t    if (this.pendingContent) {\n\t      content = this.pendingContent + content;\n\t    } else {\n\t      this.pendingLocation = this.source.currentLocation;\n\t    }\n\n\t    this.pendingContent = content;\n\t  },\n\n\t  // [append]\n\t  //\n\t  // On stack, before: value, ...\n\t  // On stack, after: ...\n\t  //\n\t  // Coerces `value` to a String and appends it to the current buffer.\n\t  //\n\t  // If `value` is truthy, or 0, it is coerced into a string and appended\n\t  // Otherwise, the empty string is appended\n\t  append: function append() {\n\t    if (this.isInline()) {\n\t      this.replaceStack(function (current) {\n\t        return [' != null ? ', current, ' : \"\"'];\n\t      });\n\n\t      this.pushSource(this.appendToBuffer(this.popStack()));\n\t    } else {\n\t      var local = this.popStack();\n\t      this.pushSource(['if (', local, ' != null) { ', this.appendToBuffer(local, undefined, true), ' }']);\n\t      if (this.environment.isSimple) {\n\t        this.pushSource(['else { ', this.appendToBuffer(\"''\", undefined, true), ' }']);\n\t      }\n\t    }\n\t  },\n\n\t  // [appendEscaped]\n\t  //\n\t  // On stack, before: value, ...\n\t  // On stack, after: ...\n\t  //\n\t  // Escape `value` and append it to the buffer\n\t  appendEscaped: function appendEscaped() {\n\t    this.pushSource(this.appendToBuffer([this.aliasable('container.escapeExpression'), '(', this.popStack(), ')']));\n\t  },\n\n\t  // [getContext]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: ...\n\t  // Compiler value, after: lastContext=depth\n\t  //\n\t  // Set the value of the `lastContext` compiler value to the depth\n\t  getContext: function getContext(depth) {\n\t    this.lastContext = depth;\n\t  },\n\n\t  // [pushContext]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: currentContext, ...\n\t  //\n\t  // Pushes the value of the current context onto the stack.\n\t  pushContext: function pushContext() {\n\t    this.pushStackLiteral(this.contextName(this.lastContext));\n\t  },\n\n\t  // [lookupOnContext]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: currentContext[name], ...\n\t  //\n\t  // Looks up the value of `name` on the current context and pushes\n\t  // it onto the stack.\n\t  lookupOnContext: function lookupOnContext(parts, falsy, strict, scoped) {\n\t    var i = 0;\n\n\t    if (!scoped && this.options.compat && !this.lastContext) {\n\t      // The depthed query is expected to handle the undefined logic for the root level that\n\t      // is implemented below, so we evaluate that directly in compat mode\n\t      this.push(this.depthedLookup(parts[i++]));\n\t    } else {\n\t      this.pushContext();\n\t    }\n\n\t    this.resolvePath('context', parts, i, falsy, strict);\n\t  },\n\n\t  // [lookupBlockParam]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: blockParam[name], ...\n\t  //\n\t  // Looks up the value of `parts` on the given block param and pushes\n\t  // it onto the stack.\n\t  lookupBlockParam: function lookupBlockParam(blockParamId, parts) {\n\t    this.useBlockParams = true;\n\n\t    this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']']);\n\t    this.resolvePath('context', parts, 1);\n\t  },\n\n\t  // [lookupData]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: data, ...\n\t  //\n\t  // Push the data lookup operator\n\t  lookupData: function lookupData(depth, parts, strict) {\n\t    if (!depth) {\n\t      this.pushStackLiteral('data');\n\t    } else {\n\t      this.pushStackLiteral('container.data(data, ' + depth + ')');\n\t    }\n\n\t    this.resolvePath('data', parts, 0, true, strict);\n\t  },\n\n\t  resolvePath: function resolvePath(type, parts, i, falsy, strict) {\n\t    // istanbul ignore next\n\n\t    var _this2 = this;\n\n\t    if (this.options.strict || this.options.assumeObjects) {\n\t      this.push(strictLookup(this.options.strict && strict, this, parts, i, type));\n\t      return;\n\t    }\n\n\t    var len = parts.length;\n\t    for (; i < len; i++) {\n\t      /* eslint-disable no-loop-func */\n\t      this.replaceStack(function (current) {\n\t        var lookup = _this2.nameLookup(current, parts[i], type);\n\t        // We want to ensure that zero and false are handled properly if the context (falsy flag)\n\t        // needs to have the special handling for these values.\n\t        if (!falsy) {\n\t          return [' != null ? ', lookup, ' : ', current];\n\t        } else {\n\t          // Otherwise we can use generic falsy handling\n\t          return [' && ', lookup];\n\t        }\n\t      });\n\t      /* eslint-enable no-loop-func */\n\t    }\n\t  },\n\n\t  // [resolvePossibleLambda]\n\t  //\n\t  // On stack, before: value, ...\n\t  // On stack, after: resolved value, ...\n\t  //\n\t  // If the `value` is a lambda, replace it on the stack by\n\t  // the return value of the lambda\n\t  resolvePossibleLambda: function resolvePossibleLambda() {\n\t    this.push([this.aliasable('container.lambda'), '(', this.popStack(), ', ', this.contextName(0), ')']);\n\t  },\n\n\t  // [pushStringParam]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: string, currentContext, ...\n\t  //\n\t  // This opcode is designed for use in string mode, which\n\t  // provides the string value of a parameter along with its\n\t  // depth rather than resolving it immediately.\n\t  pushStringParam: function pushStringParam(string, type) {\n\t    this.pushContext();\n\t    this.pushString(type);\n\n\t    // If it's a subexpression, the string result\n\t    // will be pushed after this opcode.\n\t    if (type !== 'SubExpression') {\n\t      if (typeof string === 'string') {\n\t        this.pushString(string);\n\t      } else {\n\t        this.pushStackLiteral(string);\n\t      }\n\t    }\n\t  },\n\n\t  emptyHash: function emptyHash(omitEmpty) {\n\t    if (this.trackIds) {\n\t      this.push('{}'); // hashIds\n\t    }\n\t    if (this.stringParams) {\n\t      this.push('{}'); // hashContexts\n\t      this.push('{}'); // hashTypes\n\t    }\n\t    this.pushStackLiteral(omitEmpty ? 'undefined' : '{}');\n\t  },\n\t  pushHash: function pushHash() {\n\t    if (this.hash) {\n\t      this.hashes.push(this.hash);\n\t    }\n\t    this.hash = { values: {}, types: [], contexts: [], ids: [] };\n\t  },\n\t  popHash: function popHash() {\n\t    var hash = this.hash;\n\t    this.hash = this.hashes.pop();\n\n\t    if (this.trackIds) {\n\t      this.push(this.objectLiteral(hash.ids));\n\t    }\n\t    if (this.stringParams) {\n\t      this.push(this.objectLiteral(hash.contexts));\n\t      this.push(this.objectLiteral(hash.types));\n\t    }\n\n\t    this.push(this.objectLiteral(hash.values));\n\t  },\n\n\t  // [pushString]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: quotedString(string), ...\n\t  //\n\t  // Push a quoted version of `string` onto the stack\n\t  pushString: function pushString(string) {\n\t    this.pushStackLiteral(this.quotedString(string));\n\t  },\n\n\t  // [pushLiteral]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: value, ...\n\t  //\n\t  // Pushes a value onto the stack. This operation prevents\n\t  // the compiler from creating a temporary variable to hold\n\t  // it.\n\t  pushLiteral: function pushLiteral(value) {\n\t    this.pushStackLiteral(value);\n\t  },\n\n\t  // [pushProgram]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: program(guid), ...\n\t  //\n\t  // Push a program expression onto the stack. This takes\n\t  // a compile-time guid and converts it into a runtime-accessible\n\t  // expression.\n\t  pushProgram: function pushProgram(guid) {\n\t    if (guid != null) {\n\t      this.pushStackLiteral(this.programExpression(guid));\n\t    } else {\n\t      this.pushStackLiteral(null);\n\t    }\n\t  },\n\n\t  // [registerDecorator]\n\t  //\n\t  // On stack, before: hash, program, params..., ...\n\t  // On stack, after: ...\n\t  //\n\t  // Pops off the decorator's parameters, invokes the decorator,\n\t  // and inserts the decorator into the decorators list.\n\t  registerDecorator: function registerDecorator(paramSize, name) {\n\t    var foundDecorator = this.nameLookup('decorators', name, 'decorator'),\n\t        options = this.setupHelperArgs(name, paramSize);\n\n\t    this.decorators.push(['fn = ', this.decorators.functionCall(foundDecorator, '', ['fn', 'props', 'container', options]), ' || fn;']);\n\t  },\n\n\t  // [invokeHelper]\n\t  //\n\t  // On stack, before: hash, inverse, program, params..., ...\n\t  // On stack, after: result of helper invocation\n\t  //\n\t  // Pops off the helper's parameters, invokes the helper,\n\t  // and pushes the helper's return value onto the stack.\n\t  //\n\t  // If the helper is not found, `helperMissing` is called.\n\t  invokeHelper: function invokeHelper(paramSize, name, isSimple) {\n\t    var nonHelper = this.popStack(),\n\t        helper = this.setupHelper(paramSize, name);\n\n\t    var possibleFunctionCalls = [];\n\n\t    if (isSimple) {\n\t      // direct call to helper\n\t      possibleFunctionCalls.push(helper.name);\n\t    }\n\t    // call a function from the input object\n\t    possibleFunctionCalls.push(nonHelper);\n\t    if (!this.options.strict) {\n\t      possibleFunctionCalls.push(this.aliasable('container.hooks.helperMissing'));\n\t    }\n\n\t    var functionLookupCode = ['(', this.itemsSeparatedBy(possibleFunctionCalls, '||'), ')'];\n\t    var functionCall = this.source.functionCall(functionLookupCode, 'call', helper.callParams);\n\t    this.push(functionCall);\n\t  },\n\n\t  itemsSeparatedBy: function itemsSeparatedBy(items, separator) {\n\t    var result = [];\n\t    result.push(items[0]);\n\t    for (var i = 1; i < items.length; i++) {\n\t      result.push(separator, items[i]);\n\t    }\n\t    return result;\n\t  },\n\t  // [invokeKnownHelper]\n\t  //\n\t  // On stack, before: hash, inverse, program, params..., ...\n\t  // On stack, after: result of helper invocation\n\t  //\n\t  // This operation is used when the helper is known to exist,\n\t  // so a `helperMissing` fallback is not required.\n\t  invokeKnownHelper: function invokeKnownHelper(paramSize, name) {\n\t    var helper = this.setupHelper(paramSize, name);\n\t    this.push(this.source.functionCall(helper.name, 'call', helper.callParams));\n\t  },\n\n\t  // [invokeAmbiguous]\n\t  //\n\t  // On stack, before: hash, inverse, program, params..., ...\n\t  // On stack, after: result of disambiguation\n\t  //\n\t  // This operation is used when an expression like `{{foo}}`\n\t  // is provided, but we don't know at compile-time whether it\n\t  // is a helper or a path.\n\t  //\n\t  // This operation emits more code than the other options,\n\t  // and can be avoided by passing the `knownHelpers` and\n\t  // `knownHelpersOnly` flags at compile-time.\n\t  invokeAmbiguous: function invokeAmbiguous(name, helperCall) {\n\t    this.useRegister('helper');\n\n\t    var nonHelper = this.popStack();\n\n\t    this.emptyHash();\n\t    var helper = this.setupHelper(0, name, helperCall);\n\n\t    var helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');\n\n\t    var lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')'];\n\t    if (!this.options.strict) {\n\t      lookup[0] = '(helper = ';\n\t      lookup.push(' != null ? helper : ', this.aliasable('container.hooks.helperMissing'));\n\t    }\n\n\t    this.push(['(', lookup, helper.paramsInit ? ['),(', helper.paramsInit] : [], '),', '(typeof helper === ', this.aliasable('\"function\"'), ' ? ', this.source.functionCall('helper', 'call', helper.callParams), ' : helper))']);\n\t  },\n\n\t  // [invokePartial]\n\t  //\n\t  // On stack, before: context, ...\n\t  // On stack after: result of partial invocation\n\t  //\n\t  // This operation pops off a context, invokes a partial with that context,\n\t  // and pushes the result of the invocation back.\n\t  invokePartial: function invokePartial(isDynamic, name, indent) {\n\t    var params = [],\n\t        options = this.setupParams(name, 1, params);\n\n\t    if (isDynamic) {\n\t      name = this.popStack();\n\t      delete options.name;\n\t    }\n\n\t    if (indent) {\n\t      options.indent = JSON.stringify(indent);\n\t    }\n\t    options.helpers = 'helpers';\n\t    options.partials = 'partials';\n\t    options.decorators = 'container.decorators';\n\n\t    if (!isDynamic) {\n\t      params.unshift(this.nameLookup('partials', name, 'partial'));\n\t    } else {\n\t      params.unshift(name);\n\t    }\n\n\t    if (this.options.compat) {\n\t      options.depths = 'depths';\n\t    }\n\t    options = this.objectLiteral(options);\n\t    params.push(options);\n\n\t    this.push(this.source.functionCall('container.invokePartial', '', params));\n\t  },\n\n\t  // [assignToHash]\n\t  //\n\t  // On stack, before: value, ..., hash, ...\n\t  // On stack, after: ..., hash, ...\n\t  //\n\t  // Pops a value off the stack and assigns it to the current hash\n\t  assignToHash: function assignToHash(key) {\n\t    var value = this.popStack(),\n\t        context = undefined,\n\t        type = undefined,\n\t        id = undefined;\n\n\t    if (this.trackIds) {\n\t      id = this.popStack();\n\t    }\n\t    if (this.stringParams) {\n\t      type = this.popStack();\n\t      context = this.popStack();\n\t    }\n\n\t    var hash = this.hash;\n\t    if (context) {\n\t      hash.contexts[key] = context;\n\t    }\n\t    if (type) {\n\t      hash.types[key] = type;\n\t    }\n\t    if (id) {\n\t      hash.ids[key] = id;\n\t    }\n\t    hash.values[key] = value;\n\t  },\n\n\t  pushId: function pushId(type, name, child) {\n\t    if (type === 'BlockParam') {\n\t      this.pushStackLiteral('blockParams[' + name[0] + '].path[' + name[1] + ']' + (child ? ' + ' + JSON.stringify('.' + child) : ''));\n\t    } else if (type === 'PathExpression') {\n\t      this.pushString(name);\n\t    } else if (type === 'SubExpression') {\n\t      this.pushStackLiteral('true');\n\t    } else {\n\t      this.pushStackLiteral('null');\n\t    }\n\t  },\n\n\t  // HELPERS\n\n\t  compiler: JavaScriptCompiler,\n\n\t  compileChildren: function compileChildren(environment, options) {\n\t    var children = environment.children,\n\t        child = undefined,\n\t        compiler = undefined;\n\n\t    for (var i = 0, l = children.length; i < l; i++) {\n\t      child = children[i];\n\t      compiler = new this.compiler(); // eslint-disable-line new-cap\n\n\t      var existing = this.matchExistingProgram(child);\n\n\t      if (existing == null) {\n\t        this.context.programs.push(''); // Placeholder to prevent name conflicts for nested children\n\t        var index = this.context.programs.length;\n\t        child.index = index;\n\t        child.name = 'program' + index;\n\t        this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile);\n\t        this.context.decorators[index] = compiler.decorators;\n\t        this.context.environments[index] = child;\n\n\t        this.useDepths = this.useDepths || compiler.useDepths;\n\t        this.useBlockParams = this.useBlockParams || compiler.useBlockParams;\n\t        child.useDepths = this.useDepths;\n\t        child.useBlockParams = this.useBlockParams;\n\t      } else {\n\t        child.index = existing.index;\n\t        child.name = 'program' + existing.index;\n\n\t        this.useDepths = this.useDepths || existing.useDepths;\n\t        this.useBlockParams = this.useBlockParams || existing.useBlockParams;\n\t      }\n\t    }\n\t  },\n\t  matchExistingProgram: function matchExistingProgram(child) {\n\t    for (var i = 0, len = this.context.environments.length; i < len; i++) {\n\t      var environment = this.context.environments[i];\n\t      if (environment && environment.equals(child)) {\n\t        return environment;\n\t      }\n\t    }\n\t  },\n\n\t  programExpression: function programExpression(guid) {\n\t    var child = this.environment.children[guid],\n\t        programParams = [child.index, 'data', child.blockParams];\n\n\t    if (this.useBlockParams || this.useDepths) {\n\t      programParams.push('blockParams');\n\t    }\n\t    if (this.useDepths) {\n\t      programParams.push('depths');\n\t    }\n\n\t    return 'container.program(' + programParams.join(', ') + ')';\n\t  },\n\n\t  useRegister: function useRegister(name) {\n\t    if (!this.registers[name]) {\n\t      this.registers[name] = true;\n\t      this.registers.list.push(name);\n\t    }\n\t  },\n\n\t  push: function push(expr) {\n\t    if (!(expr instanceof Literal)) {\n\t      expr = this.source.wrap(expr);\n\t    }\n\n\t    this.inlineStack.push(expr);\n\t    return expr;\n\t  },\n\n\t  pushStackLiteral: function pushStackLiteral(item) {\n\t    this.push(new Literal(item));\n\t  },\n\n\t  pushSource: function pushSource(source) {\n\t    if (this.pendingContent) {\n\t      this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation));\n\t      this.pendingContent = undefined;\n\t    }\n\n\t    if (source) {\n\t      this.source.push(source);\n\t    }\n\t  },\n\n\t  replaceStack: function replaceStack(callback) {\n\t    var prefix = ['('],\n\t        stack = undefined,\n\t        createdStack = undefined,\n\t        usedLiteral = undefined;\n\n\t    /* istanbul ignore next */\n\t    if (!this.isInline()) {\n\t      throw new _exception2['default']('replaceStack on non-inline');\n\t    }\n\n\t    // We want to merge the inline statement into the replacement statement via ','\n\t    var top = this.popStack(true);\n\n\t    if (top instanceof Literal) {\n\t      // Literals do not need to be inlined\n\t      stack = [top.value];\n\t      prefix = ['(', stack];\n\t      usedLiteral = true;\n\t    } else {\n\t      // Get or create the current stack name for use by the inline\n\t      createdStack = true;\n\t      var _name = this.incrStack();\n\n\t      prefix = ['((', this.push(_name), ' = ', top, ')'];\n\t      stack = this.topStack();\n\t    }\n\n\t    var item = callback.call(this, stack);\n\n\t    if (!usedLiteral) {\n\t      this.popStack();\n\t    }\n\t    if (createdStack) {\n\t      this.stackSlot--;\n\t    }\n\t    this.push(prefix.concat(item, ')'));\n\t  },\n\n\t  incrStack: function incrStack() {\n\t    this.stackSlot++;\n\t    if (this.stackSlot > this.stackVars.length) {\n\t      this.stackVars.push('stack' + this.stackSlot);\n\t    }\n\t    return this.topStackName();\n\t  },\n\t  topStackName: function topStackName() {\n\t    return 'stack' + this.stackSlot;\n\t  },\n\t  flushInline: function flushInline() {\n\t    var inlineStack = this.inlineStack;\n\t    this.inlineStack = [];\n\t    for (var i = 0, len = inlineStack.length; i < len; i++) {\n\t      var entry = inlineStack[i];\n\t      /* istanbul ignore if */\n\t      if (entry instanceof Literal) {\n\t        this.compileStack.push(entry);\n\t      } else {\n\t        var stack = this.incrStack();\n\t        this.pushSource([stack, ' = ', entry, ';']);\n\t        this.compileStack.push(stack);\n\t      }\n\t    }\n\t  },\n\t  isInline: function isInline() {\n\t    return this.inlineStack.length;\n\t  },\n\n\t  popStack: function popStack(wrapped) {\n\t    var inline = this.isInline(),\n\t        item = (inline ? this.inlineStack : this.compileStack).pop();\n\n\t    if (!wrapped && item instanceof Literal) {\n\t      return item.value;\n\t    } else {\n\t      if (!inline) {\n\t        /* istanbul ignore next */\n\t        if (!this.stackSlot) {\n\t          throw new _exception2['default']('Invalid stack pop');\n\t        }\n\t        this.stackSlot--;\n\t      }\n\t      return item;\n\t    }\n\t  },\n\n\t  topStack: function topStack() {\n\t    var stack = this.isInline() ? this.inlineStack : this.compileStack,\n\t        item = stack[stack.length - 1];\n\n\t    /* istanbul ignore if */\n\t    if (item instanceof Literal) {\n\t      return item.value;\n\t    } else {\n\t      return item;\n\t    }\n\t  },\n\n\t  contextName: function contextName(context) {\n\t    if (this.useDepths && context) {\n\t      return 'depths[' + context + ']';\n\t    } else {\n\t      return 'depth' + context;\n\t    }\n\t  },\n\n\t  quotedString: function quotedString(str) {\n\t    return this.source.quotedString(str);\n\t  },\n\n\t  objectLiteral: function objectLiteral(obj) {\n\t    return this.source.objectLiteral(obj);\n\t  },\n\n\t  aliasable: function aliasable(name) {\n\t    var ret = this.aliases[name];\n\t    if (ret) {\n\t      ret.referenceCount++;\n\t      return ret;\n\t    }\n\n\t    ret = this.aliases[name] = this.source.wrap(name);\n\t    ret.aliasable = true;\n\t    ret.referenceCount = 1;\n\n\t    return ret;\n\t  },\n\n\t  setupHelper: function setupHelper(paramSize, name, blockHelper) {\n\t    var params = [],\n\t        paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);\n\t    var foundHelper = this.nameLookup('helpers', name, 'helper'),\n\t        callContext = this.aliasable(this.contextName(0) + ' != null ? ' + this.contextName(0) + ' : (container.nullContext || {})');\n\n\t    return {\n\t      params: params,\n\t      paramsInit: paramsInit,\n\t      name: foundHelper,\n\t      callParams: [callContext].concat(params)\n\t    };\n\t  },\n\n\t  setupParams: function setupParams(helper, paramSize, params) {\n\t    var options = {},\n\t        contexts = [],\n\t        types = [],\n\t        ids = [],\n\t        objectArgs = !params,\n\t        param = undefined;\n\n\t    if (objectArgs) {\n\t      params = [];\n\t    }\n\n\t    options.name = this.quotedString(helper);\n\t    options.hash = this.popStack();\n\n\t    if (this.trackIds) {\n\t      options.hashIds = this.popStack();\n\t    }\n\t    if (this.stringParams) {\n\t      options.hashTypes = this.popStack();\n\t      options.hashContexts = this.popStack();\n\t    }\n\n\t    var inverse = this.popStack(),\n\t        program = this.popStack();\n\n\t    // Avoid setting fn and inverse if neither are set. This allows\n\t    // helpers to do a check for `if (options.fn)`\n\t    if (program || inverse) {\n\t      options.fn = program || 'container.noop';\n\t      options.inverse = inverse || 'container.noop';\n\t    }\n\n\t    // The parameters go on to the stack in order (making sure that they are evaluated in order)\n\t    // so we need to pop them off the stack in reverse order\n\t    var i = paramSize;\n\t    while (i--) {\n\t      param = this.popStack();\n\t      params[i] = param;\n\n\t      if (this.trackIds) {\n\t        ids[i] = this.popStack();\n\t      }\n\t      if (this.stringParams) {\n\t        types[i] = this.popStack();\n\t        contexts[i] = this.popStack();\n\t      }\n\t    }\n\n\t    if (objectArgs) {\n\t      options.args = this.source.generateArray(params);\n\t    }\n\n\t    if (this.trackIds) {\n\t      options.ids = this.source.generateArray(ids);\n\t    }\n\t    if (this.stringParams) {\n\t      options.types = this.source.generateArray(types);\n\t      options.contexts = this.source.generateArray(contexts);\n\t    }\n\n\t    if (this.options.data) {\n\t      options.data = 'data';\n\t    }\n\t    if (this.useBlockParams) {\n\t      options.blockParams = 'blockParams';\n\t    }\n\t    return options;\n\t  },\n\n\t  setupHelperArgs: function setupHelperArgs(helper, paramSize, params, useRegister) {\n\t    var options = this.setupParams(helper, paramSize, params);\n\t    options.loc = JSON.stringify(this.source.currentLocation);\n\t    options = this.objectLiteral(options);\n\t    if (useRegister) {\n\t      this.useRegister('options');\n\t      params.push('options');\n\t      return ['options=', options];\n\t    } else if (params) {\n\t      params.push(options);\n\t      return '';\n\t    } else {\n\t      return options;\n\t    }\n\t  }\n\t};\n\n\t(function () {\n\t  var reservedWords = ('break else new var' + ' case finally return void' + ' catch for switch while' + ' continue function this with' + ' default if throw' + ' delete in try' + ' do instanceof typeof' + ' abstract enum int short' + ' boolean export interface static' + ' byte extends long super' + ' char final native synchronized' + ' class float package throws' + ' const goto private transient' + ' debugger implements protected volatile' + ' double import public let yield await' + ' null true false').split(' ');\n\n\t  var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};\n\n\t  for (var i = 0, l = reservedWords.length; i < l; i++) {\n\t    compilerWords[reservedWords[i]] = true;\n\t  }\n\t})();\n\n\t/**\n\t * @deprecated May be removed in the next major version\n\t */\n\tJavaScriptCompiler.isValidJavaScriptVariableName = function (name) {\n\t  return !JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name);\n\t};\n\n\tfunction strictLookup(requireTerminal, compiler, parts, i, type) {\n\t  var stack = compiler.popStack(),\n\t      len = parts.length;\n\t  if (requireTerminal) {\n\t    len--;\n\t  }\n\n\t  for (; i < len; i++) {\n\t    stack = compiler.nameLookup(stack, parts[i], type);\n\t  }\n\n\t  if (requireTerminal) {\n\t    return [compiler.aliasable('container.strict'), '(', stack, ', ', compiler.quotedString(parts[i]), ', ', JSON.stringify(compiler.source.currentLocation), ' )'];\n\t  } else {\n\t    return stack;\n\t  }\n\t}\n\n\texports['default'] = JavaScriptCompiler;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __nested_webpack_require_197611__) {\n\n\t/* global define, require */\n\t'use strict';\n\n\tvar _Object$keys = __nested_webpack_require_197611__(60)['default'];\n\n\texports.__esModule = true;\n\n\tvar _utils = __nested_webpack_require_197611__(5);\n\n\tvar SourceNode = undefined;\n\n\ttry {\n\t  /* istanbul ignore next */\n\t  if (false) // removed by dead control flow\n{ var SourceMap; }\n\t} catch (err) {}\n\t/* NOP */\n\n\t/* istanbul ignore if: tested but not covered in istanbul due to dist build  */\n\tif (!SourceNode) {\n\t  SourceNode = function (line, column, srcFile, chunks) {\n\t    this.src = '';\n\t    if (chunks) {\n\t      this.add(chunks);\n\t    }\n\t  };\n\t  /* istanbul ignore next */\n\t  SourceNode.prototype = {\n\t    add: function add(chunks) {\n\t      if (_utils.isArray(chunks)) {\n\t        chunks = chunks.join('');\n\t      }\n\t      this.src += chunks;\n\t    },\n\t    prepend: function prepend(chunks) {\n\t      if (_utils.isArray(chunks)) {\n\t        chunks = chunks.join('');\n\t      }\n\t      this.src = chunks + this.src;\n\t    },\n\t    toStringWithSourceMap: function toStringWithSourceMap() {\n\t      return { code: this.toString() };\n\t    },\n\t    toString: function toString() {\n\t      return this.src;\n\t    }\n\t  };\n\t}\n\n\tfunction castChunk(chunk, codeGen, loc) {\n\t  if (_utils.isArray(chunk)) {\n\t    var ret = [];\n\n\t    for (var i = 0, len = chunk.length; i < len; i++) {\n\t      ret.push(codeGen.wrap(chunk[i], loc));\n\t    }\n\t    return ret;\n\t  } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {\n\t    // Handle primitives that the SourceNode will throw up on\n\t    return chunk + '';\n\t  }\n\t  return chunk;\n\t}\n\n\tfunction CodeGen(srcFile) {\n\t  this.srcFile = srcFile;\n\t  this.source = [];\n\t}\n\n\tCodeGen.prototype = {\n\t  isEmpty: function isEmpty() {\n\t    return !this.source.length;\n\t  },\n\t  prepend: function prepend(source, loc) {\n\t    this.source.unshift(this.wrap(source, loc));\n\t  },\n\t  push: function push(source, loc) {\n\t    this.source.push(this.wrap(source, loc));\n\t  },\n\n\t  merge: function merge() {\n\t    var source = this.empty();\n\t    this.each(function (line) {\n\t      source.add(['  ', line, '\\n']);\n\t    });\n\t    return source;\n\t  },\n\n\t  each: function each(iter) {\n\t    for (var i = 0, len = this.source.length; i < len; i++) {\n\t      iter(this.source[i]);\n\t    }\n\t  },\n\n\t  empty: function empty() {\n\t    var loc = this.currentLocation || { start: {} };\n\t    return new SourceNode(loc.start.line, loc.start.column, this.srcFile);\n\t  },\n\t  wrap: function wrap(chunk) {\n\t    var loc = arguments.length <= 1 || arguments[1] === undefined ? this.currentLocation || { start: {} } : arguments[1];\n\n\t    if (chunk instanceof SourceNode) {\n\t      return chunk;\n\t    }\n\n\t    chunk = castChunk(chunk, this, loc);\n\n\t    return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);\n\t  },\n\n\t  functionCall: function functionCall(fn, type, params) {\n\t    params = this.generateList(params);\n\t    return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);\n\t  },\n\n\t  quotedString: function quotedString(str) {\n\t    return '\"' + (str + '').replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\u2028/g, '\\\\u2028') // Per Ecma-262 7.3 + 7.8.4\n\t    .replace(/\\u2029/g, '\\\\u2029') + '\"';\n\t  },\n\n\t  objectLiteral: function objectLiteral(obj) {\n\t    // istanbul ignore next\n\n\t    var _this = this;\n\n\t    var pairs = [];\n\n\t    _Object$keys(obj).forEach(function (key) {\n\t      var value = castChunk(obj[key], _this);\n\t      if (value !== 'undefined') {\n\t        pairs.push([_this.quotedString(key), ':', value]);\n\t      }\n\t    });\n\n\t    var ret = this.generateList(pairs);\n\t    ret.prepend('{');\n\t    ret.add('}');\n\t    return ret;\n\t  },\n\n\t  generateList: function generateList(entries) {\n\t    var ret = this.empty();\n\n\t    for (var i = 0, len = entries.length; i < len; i++) {\n\t      if (i) {\n\t        ret.add(',');\n\t      }\n\n\t      ret.add(castChunk(entries[i], this));\n\t    }\n\n\t    return ret;\n\t  },\n\n\t  generateArray: function generateArray(entries) {\n\t    var ret = this.generateList(entries);\n\t    ret.prepend('[');\n\t    ret.add(']');\n\n\t    return ret;\n\t  }\n\t};\n\n\texports['default'] = CodeGen;\n\tmodule.exports = exports['default'];\n\n/***/ })\n/******/ ])\n});\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2hhbmRsZWJhcnMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvaGFuZGxlYmFycy5qcz9jMjQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiFcblxuIEBsaWNlbnNlXG4gaGFuZGxlYmFycyB2NC43LjhcblxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTkgYnkgWWVodWRhIEthdHpcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiSGFuZGxlYmFyc1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJIYW5kbGViYXJzXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcblxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cblxuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpWydkZWZhdWx0J107XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHR2YXIgX2hhbmRsZWJhcnNSdW50aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNSdW50aW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbmRsZWJhcnNSdW50aW1lKTtcblxuXHQvLyBDb21waWxlciBpbXBvcnRzXG5cblx0dmFyIF9oYW5kbGViYXJzQ29tcGlsZXJBc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcblxuXHR2YXIgX2hhbmRsZWJhcnNDb21waWxlckFzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW5kbGViYXJzQ29tcGlsZXJBc3QpO1xuXG5cdHZhciBfaGFuZGxlYmFyc0NvbXBpbGVyQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXG5cdHZhciBfaGFuZGxlYmFyc0NvbXBpbGVyQ29tcGlsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNDb21waWxlckphdmFzY3JpcHRDb21waWxlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXG5cdHZhciBfaGFuZGxlYmFyc0NvbXBpbGVySmF2YXNjcmlwdENvbXBpbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbmRsZWJhcnNDb21waWxlckphdmFzY3JpcHRDb21waWxlcik7XG5cblx0dmFyIF9oYW5kbGViYXJzQ29tcGlsZXJWaXNpdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cblx0dmFyIF9oYW5kbGViYXJzQ29tcGlsZXJWaXNpdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbmRsZWJhcnNDb21waWxlclZpc2l0b3IpO1xuXG5cdHZhciBfaGFuZGxlYmFyc05vQ29uZmxpY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNOb0NvbmZsaWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbmRsZWJhcnNOb0NvbmZsaWN0KTtcblxuXHR2YXIgX2NyZWF0ZSA9IF9oYW5kbGViYXJzUnVudGltZTJbJ2RlZmF1bHQnXS5jcmVhdGU7XG5cdGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0ICB2YXIgaGIgPSBfY3JlYXRlKCk7XG5cblx0ICBoYi5jb21waWxlID0gZnVuY3Rpb24gKGlucHV0LCBvcHRpb25zKSB7XG5cdCAgICByZXR1cm4gX2hhbmRsZWJhcnNDb21waWxlckNvbXBpbGVyLmNvbXBpbGUoaW5wdXQsIG9wdGlvbnMsIGhiKTtcblx0ICB9O1xuXHQgIGhiLnByZWNvbXBpbGUgPSBmdW5jdGlvbiAoaW5wdXQsIG9wdGlvbnMpIHtcblx0ICAgIHJldHVybiBfaGFuZGxlYmFyc0NvbXBpbGVyQ29tcGlsZXIucHJlY29tcGlsZShpbnB1dCwgb3B0aW9ucywgaGIpO1xuXHQgIH07XG5cblx0ICBoYi5BU1QgPSBfaGFuZGxlYmFyc0NvbXBpbGVyQXN0MlsnZGVmYXVsdCddO1xuXHQgIGhiLkNvbXBpbGVyID0gX2hhbmRsZWJhcnNDb21waWxlckNvbXBpbGVyLkNvbXBpbGVyO1xuXHQgIGhiLkphdmFTY3JpcHRDb21waWxlciA9IF9oYW5kbGViYXJzQ29tcGlsZXJKYXZhc2NyaXB0Q29tcGlsZXIyWydkZWZhdWx0J107XG5cdCAgaGIuUGFyc2VyID0gX2hhbmRsZWJhcnNDb21waWxlckJhc2UucGFyc2VyO1xuXHQgIGhiLnBhcnNlID0gX2hhbmRsZWJhcnNDb21waWxlckJhc2UucGFyc2U7XG5cdCAgaGIucGFyc2VXaXRob3V0UHJvY2Vzc2luZyA9IF9oYW5kbGViYXJzQ29tcGlsZXJCYXNlLnBhcnNlV2l0aG91dFByb2Nlc3Npbmc7XG5cblx0ICByZXR1cm4gaGI7XG5cdH1cblxuXHR2YXIgaW5zdCA9IGNyZWF0ZSgpO1xuXHRpbnN0LmNyZWF0ZSA9IGNyZWF0ZTtcblxuXHRfaGFuZGxlYmFyc05vQ29uZmxpY3QyWydkZWZhdWx0J10oaW5zdCk7XG5cblx0aW5zdC5WaXNpdG9yID0gX2hhbmRsZWJhcnNDb21waWxlclZpc2l0b3IyWydkZWZhdWx0J107XG5cblx0aW5zdFsnZGVmYXVsdCddID0gaW5zdDtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBpbnN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcblx0ICAgIFwiZGVmYXVsdFwiOiBvYmpcblx0ICB9O1xuXHR9O1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpWydkZWZhdWx0J107XG5cblx0dmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpWydkZWZhdWx0J107XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHR2YXIgX2hhbmRsZWJhcnNCYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHR2YXIgYmFzZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9oYW5kbGViYXJzQmFzZSk7XG5cblx0Ly8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuXHQvLyAoVGhpcyBpcyBkb25lIHRvIGVhc2lseSBzaGFyZSBjb2RlIGJldHdlZW4gY29tbW9uanMgYW5kIGJyb3dzZSBlbnZzKVxuXG5cdHZhciBfaGFuZGxlYmFyc1NhZmVTdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblxuXHR2YXIgX2hhbmRsZWJhcnNTYWZlU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbmRsZWJhcnNTYWZlU3RyaW5nKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNFeGNlcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBfaGFuZGxlYmFyc0V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW5kbGViYXJzRXhjZXB0aW9uKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0dmFyIFV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2hhbmRsZWJhcnNVdGlscyk7XG5cblx0dmFyIF9oYW5kbGViYXJzUnVudGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpO1xuXG5cdHZhciBydW50aW1lID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2hhbmRsZWJhcnNSdW50aW1lKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNOb0NvbmZsaWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cblx0dmFyIF9oYW5kbGViYXJzTm9Db25mbGljdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW5kbGViYXJzTm9Db25mbGljdCk7XG5cblx0Ly8gRm9yIGNvbXBhdGliaWxpdHkgYW5kIHVzYWdlIG91dHNpZGUgb2YgbW9kdWxlIHN5c3RlbXMsIG1ha2UgdGhlIEhhbmRsZWJhcnMgb2JqZWN0IGEgbmFtZXNwYWNlXG5cdGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0ICB2YXIgaGIgPSBuZXcgYmFzZS5IYW5kbGViYXJzRW52aXJvbm1lbnQoKTtcblxuXHQgIFV0aWxzLmV4dGVuZChoYiwgYmFzZSk7XG5cdCAgaGIuU2FmZVN0cmluZyA9IF9oYW5kbGViYXJzU2FmZVN0cmluZzJbJ2RlZmF1bHQnXTtcblx0ICBoYi5FeGNlcHRpb24gPSBfaGFuZGxlYmFyc0V4Y2VwdGlvbjJbJ2RlZmF1bHQnXTtcblx0ICBoYi5VdGlscyA9IFV0aWxzO1xuXHQgIGhiLmVzY2FwZUV4cHJlc3Npb24gPSBVdGlscy5lc2NhcGVFeHByZXNzaW9uO1xuXG5cdCAgaGIuVk0gPSBydW50aW1lO1xuXHQgIGhiLnRlbXBsYXRlID0gZnVuY3Rpb24gKHNwZWMpIHtcblx0ICAgIHJldHVybiBydW50aW1lLnRlbXBsYXRlKHNwZWMsIGhiKTtcblx0ICB9O1xuXG5cdCAgcmV0dXJuIGhiO1xuXHR9XG5cblx0dmFyIGluc3QgPSBjcmVhdGUoKTtcblx0aW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cblx0X2hhbmRsZWJhcnNOb0NvbmZsaWN0MlsnZGVmYXVsdCddKGluc3QpO1xuXG5cdGluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gaW5zdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKG9iaikge1xuXHQgIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHtcblx0ICAgIHJldHVybiBvYmo7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBuZXdPYmogPSB7fTtcblxuXHQgICAgaWYgKG9iaiAhPSBudWxsKSB7XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcblx0ICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBuZXdPYmpbXCJkZWZhdWx0XCJdID0gb2JqO1xuXHQgICAgcmV0dXJuIG5ld09iajtcblx0ICB9XG5cdH07XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVsnZGVmYXVsdCddO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuSGFuZGxlYmFyc0Vudmlyb25tZW50ID0gSGFuZGxlYmFyc0Vudmlyb25tZW50O1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHR2YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5cdHZhciBfaGVscGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG5cdHZhciBfZGVjb3JhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXG5cdHZhciBfbG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cblx0dmFyIF9sb2dnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9nZ2VyKTtcblxuXHR2YXIgX2ludGVybmFsUHJvdG9BY2Nlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczKTtcblxuXHR2YXIgVkVSU0lPTiA9ICc0LjcuOCc7XG5cdGV4cG9ydHMuVkVSU0lPTiA9IFZFUlNJT047XG5cdHZhciBDT01QSUxFUl9SRVZJU0lPTiA9IDg7XG5cdGV4cG9ydHMuQ09NUElMRVJfUkVWSVNJT04gPSBDT01QSUxFUl9SRVZJU0lPTjtcblx0dmFyIExBU1RfQ09NUEFUSUJMRV9DT01QSUxFUl9SRVZJU0lPTiA9IDc7XG5cblx0ZXhwb3J0cy5MQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gPSBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT047XG5cdHZhciBSRVZJU0lPTl9DSEFOR0VTID0ge1xuXHQgIDE6ICc8PSAxLjAucmMuMicsIC8vIDEuMC5yYy4yIGlzIGFjdHVhbGx5IHJldjIgYnV0IGRvZXNuJ3QgcmVwb3J0IGl0XG5cdCAgMjogJz09IDEuMC4wLXJjLjMnLFxuXHQgIDM6ICc9PSAxLjAuMC1yYy40Jyxcblx0ICA0OiAnPT0gMS54LngnLFxuXHQgIDU6ICc9PSAyLjAuMC1hbHBoYS54Jyxcblx0ICA2OiAnPj0gMi4wLjAtYmV0YS4xJyxcblx0ICA3OiAnPj0gNC4wLjAgPDQuMy4wJyxcblx0ICA4OiAnPj0gNC4zLjAnXG5cdH07XG5cblx0ZXhwb3J0cy5SRVZJU0lPTl9DSEFOR0VTID0gUkVWSVNJT05fQ0hBTkdFUztcblx0dmFyIG9iamVjdFR5cGUgPSAnW29iamVjdCBPYmplY3RdJztcblxuXHRmdW5jdGlvbiBIYW5kbGViYXJzRW52aXJvbm1lbnQoaGVscGVycywgcGFydGlhbHMsIGRlY29yYXRvcnMpIHtcblx0ICB0aGlzLmhlbHBlcnMgPSBoZWxwZXJzIHx8IHt9O1xuXHQgIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcblx0ICB0aGlzLmRlY29yYXRvcnMgPSBkZWNvcmF0b3JzIHx8IHt9O1xuXG5cdCAgX2hlbHBlcnMucmVnaXN0ZXJEZWZhdWx0SGVscGVycyh0aGlzKTtcblx0ICBfZGVjb3JhdG9ycy5yZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKHRoaXMpO1xuXHR9XG5cblx0SGFuZGxlYmFyc0Vudmlyb25tZW50LnByb3RvdHlwZSA9IHtcblx0ICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG5cdCAgbG9nZ2VyOiBfbG9nZ2VyMlsnZGVmYXVsdCddLFxuXHQgIGxvZzogX2xvZ2dlcjJbJ2RlZmF1bHQnXS5sb2csXG5cblx0ICByZWdpc3RlckhlbHBlcjogZnVuY3Rpb24gcmVnaXN0ZXJIZWxwZXIobmFtZSwgZm4pIHtcblx0ICAgIGlmIChfdXRpbHMudG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuXHQgICAgICBpZiAoZm4pIHtcblx0ICAgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBoZWxwZXJzJyk7XG5cdCAgICAgIH1cblx0ICAgICAgX3V0aWxzLmV4dGVuZCh0aGlzLmhlbHBlcnMsIG5hbWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5oZWxwZXJzW25hbWVdID0gZm47XG5cdCAgICB9XG5cdCAgfSxcblx0ICB1bnJlZ2lzdGVySGVscGVyOiBmdW5jdGlvbiB1bnJlZ2lzdGVySGVscGVyKG5hbWUpIHtcblx0ICAgIGRlbGV0ZSB0aGlzLmhlbHBlcnNbbmFtZV07XG5cdCAgfSxcblxuXHQgIHJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24gcmVnaXN0ZXJQYXJ0aWFsKG5hbWUsIHBhcnRpYWwpIHtcblx0ICAgIGlmIChfdXRpbHMudG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuXHQgICAgICBfdXRpbHMuZXh0ZW5kKHRoaXMucGFydGlhbHMsIG5hbWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdBdHRlbXB0aW5nIHRvIHJlZ2lzdGVyIGEgcGFydGlhbCBjYWxsZWQgXCInICsgbmFtZSArICdcIiBhcyB1bmRlZmluZWQnKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnBhcnRpYWxzW25hbWVdID0gcGFydGlhbDtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHVucmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbiB1bnJlZ2lzdGVyUGFydGlhbChuYW1lKSB7XG5cdCAgICBkZWxldGUgdGhpcy5wYXJ0aWFsc1tuYW1lXTtcblx0ICB9LFxuXG5cdCAgcmVnaXN0ZXJEZWNvcmF0b3I6IGZ1bmN0aW9uIHJlZ2lzdGVyRGVjb3JhdG9yKG5hbWUsIGZuKSB7XG5cdCAgICBpZiAoX3V0aWxzLnRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcblx0ICAgICAgaWYgKGZuKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgZGVjb3JhdG9ycycpO1xuXHQgICAgICB9XG5cdCAgICAgIF91dGlscy5leHRlbmQodGhpcy5kZWNvcmF0b3JzLCBuYW1lKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuZGVjb3JhdG9yc1tuYW1lXSA9IGZuO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgdW5yZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24gdW5yZWdpc3RlckRlY29yYXRvcihuYW1lKSB7XG5cdCAgICBkZWxldGUgdGhpcy5kZWNvcmF0b3JzW25hbWVdO1xuXHQgIH0sXG5cdCAgLyoqXG5cdCAgICogUmVzZXQgdGhlIG1lbW9yeSBvZiBpbGxlZ2FsIHByb3BlcnR5IGFjY2Vzc2VzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gbG9nZ2VkLlxuXHQgICAqIEBkZXByZWNhdGVkIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gaGFuZGxlYmFycyB0ZXN0LWNhc2VzXG5cdCAgICovXG5cdCAgcmVzZXRMb2dnZWRQcm9wZXJ0eUFjY2Vzc2VzOiBmdW5jdGlvbiByZXNldExvZ2dlZFByb3BlcnR5QWNjZXNzZXMoKSB7XG5cdCAgICBfaW50ZXJuYWxQcm90b0FjY2Vzcy5yZXNldExvZ2dlZFByb3BlcnRpZXMoKTtcblx0ICB9XG5cdH07XG5cblx0dmFyIGxvZyA9IF9sb2dnZXIyWydkZWZhdWx0J10ubG9nO1xuXG5cdGV4cG9ydHMubG9nID0gbG9nO1xuXHRleHBvcnRzLmNyZWF0ZUZyYW1lID0gX3V0aWxzLmNyZWF0ZUZyYW1lO1xuXHRleHBvcnRzLmxvZ2dlciA9IF9sb2dnZXIyWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmV4dGVuZCA9IGV4dGVuZDtcblx0ZXhwb3J0cy5pbmRleE9mID0gaW5kZXhPZjtcblx0ZXhwb3J0cy5lc2NhcGVFeHByZXNzaW9uID0gZXNjYXBlRXhwcmVzc2lvbjtcblx0ZXhwb3J0cy5pc0VtcHR5ID0gaXNFbXB0eTtcblx0ZXhwb3J0cy5jcmVhdGVGcmFtZSA9IGNyZWF0ZUZyYW1lO1xuXHRleHBvcnRzLmJsb2NrUGFyYW1zID0gYmxvY2tQYXJhbXM7XG5cdGV4cG9ydHMuYXBwZW5kQ29udGV4dFBhdGggPSBhcHBlbmRDb250ZXh0UGF0aDtcblx0dmFyIGVzY2FwZSA9IHtcblx0ICAnJic6ICcmYW1wOycsXG5cdCAgJzwnOiAnJmx0OycsXG5cdCAgJz4nOiAnJmd0OycsXG5cdCAgJ1wiJzogJyZxdW90OycsXG5cdCAgXCInXCI6ICcmI3gyNzsnLFxuXHQgICdgJzogJyYjeDYwOycsXG5cdCAgJz0nOiAnJiN4M0Q7J1xuXHR9O1xuXG5cdHZhciBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG5cdCAgICBwb3NzaWJsZSA9IC9bJjw+XCInYD1dLztcblxuXHRmdW5jdGlvbiBlc2NhcGVDaGFyKGNocikge1xuXHQgIHJldHVybiBlc2NhcGVbY2hyXTtcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChvYmogLyogLCAuLi5zb3VyY2UgKi8pIHtcblx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuXHQgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFyZ3VtZW50c1tpXSwga2V5KSkge1xuXHQgICAgICAgIG9ialtrZXldID0gYXJndW1lbnRzW2ldW2tleV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gb2JqO1xuXHR9XG5cblx0dmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuXHRleHBvcnRzLnRvU3RyaW5nID0gdG9TdHJpbmc7XG5cdC8vIFNvdXJjZWQgZnJvbSBsb2Rhc2hcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuXHQvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLXN0eWxlICovXG5cdHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuXHQgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG5cdH07XG5cdC8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuXHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHRpZiAoaXNGdW5jdGlvbigveC8pKSB7XG5cdCAgZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0ICB9O1xuXHR9XG5cdGV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cblx0LyogZXNsaW50LWVuYWJsZSBmdW5jLXN0eWxlICovXG5cblx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0dmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScgOiBmYWxzZTtcblx0fTtcblxuXHRleHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXHQvLyBPbGRlciBJRSB2ZXJzaW9ucyBkbyBub3QgZGlyZWN0bHkgc3VwcG9ydCBpbmRleE9mIHNvIHdlIG11c3QgaW1wbGVtZW50IG91ciBvd24sIHNhZGx5LlxuXG5cdGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG5cdCAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICBpZiAoYXJyYXlbaV0gPT09IHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gLTE7XG5cdH1cblxuXHRmdW5jdGlvbiBlc2NhcGVFeHByZXNzaW9uKHN0cmluZykge1xuXHQgIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuXHQgICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuXHQgICAgaWYgKHN0cmluZyAmJiBzdHJpbmcudG9IVE1MKSB7XG5cdCAgICAgIHJldHVybiBzdHJpbmcudG9IVE1MKCk7XG5cdCAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG5cdCAgICAgIHJldHVybiAnJztcblx0ICAgIH0gZWxzZSBpZiAoIXN0cmluZykge1xuXHQgICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG5cdCAgICB9XG5cblx0ICAgIC8vIEZvcmNlIGEgc3RyaW5nIGNvbnZlcnNpb24gYXMgdGhpcyB3aWxsIGJlIGRvbmUgYnkgdGhlIGFwcGVuZCByZWdhcmRsZXNzIGFuZFxuXHQgICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG5cdCAgICAvLyBhbiBvYmplY3QncyB0byBzdHJpbmcgaGFzIGVzY2FwZWQgY2hhcmFjdGVycyBpbiBpdC5cblx0ICAgIHN0cmluZyA9ICcnICsgc3RyaW5nO1xuXHQgIH1cblxuXHQgIGlmICghcG9zc2libGUudGVzdChzdHJpbmcpKSB7XG5cdCAgICByZXR1cm4gc3RyaW5nO1xuXHQgIH1cblx0ICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoYmFkQ2hhcnMsIGVzY2FwZUNoYXIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuXHQgIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuXHQgIHZhciBmcmFtZSA9IGV4dGVuZCh7fSwgb2JqZWN0KTtcblx0ICBmcmFtZS5fcGFyZW50ID0gb2JqZWN0O1xuXHQgIHJldHVybiBmcmFtZTtcblx0fVxuXG5cdGZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG5cdCAgcGFyYW1zLnBhdGggPSBpZHM7XG5cdCAgcmV0dXJuIHBhcmFtcztcblx0fVxuXG5cdGZ1bmN0aW9uIGFwcGVuZENvbnRleHRQYXRoKGNvbnRleHRQYXRoLCBpZCkge1xuXHQgIHJldHVybiAoY29udGV4dFBhdGggPyBjb250ZXh0UGF0aCArICcuJyA6ICcnKSArIGlkO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNylbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHR2YXIgZXJyb3JQcm9wcyA9IFsnZGVzY3JpcHRpb24nLCAnZmlsZU5hbWUnLCAnbGluZU51bWJlcicsICdlbmRMaW5lTnVtYmVyJywgJ21lc3NhZ2UnLCAnbmFtZScsICdudW1iZXInLCAnc3RhY2snXTtcblxuXHRmdW5jdGlvbiBFeGNlcHRpb24obWVzc2FnZSwgbm9kZSkge1xuXHQgIHZhciBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuXHQgICAgICBsaW5lID0gdW5kZWZpbmVkLFxuXHQgICAgICBlbmRMaW5lTnVtYmVyID0gdW5kZWZpbmVkLFxuXHQgICAgICBjb2x1bW4gPSB1bmRlZmluZWQsXG5cdCAgICAgIGVuZENvbHVtbiA9IHVuZGVmaW5lZDtcblxuXHQgIGlmIChsb2MpIHtcblx0ICAgIGxpbmUgPSBsb2Muc3RhcnQubGluZTtcblx0ICAgIGVuZExpbmVOdW1iZXIgPSBsb2MuZW5kLmxpbmU7XG5cdCAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuXHQgICAgZW5kQ29sdW1uID0gbG9jLmVuZC5jb2x1bW47XG5cblx0ICAgIG1lc3NhZ2UgKz0gJyAtICcgKyBsaW5lICsgJzonICsgY29sdW1uO1xuXHQgIH1cblxuXHQgIHZhciB0bXAgPSBFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcblxuXHQgIC8vIFVuZm9ydHVuYXRlbHkgZXJyb3JzIGFyZSBub3QgZW51bWVyYWJsZSBpbiBDaHJvbWUgKGF0IGxlYXN0KSwgc28gYGZvciBwcm9wIGluIHRtcGAgZG9lc24ndCB3b3JrLlxuXHQgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuXHQgICAgdGhpc1tlcnJvclByb3BzW2lkeF1dID0gdG1wW2Vycm9yUHJvcHNbaWR4XV07XG5cdCAgfVxuXG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcblx0ICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEV4Y2VwdGlvbik7XG5cdCAgfVxuXG5cdCAgdHJ5IHtcblx0ICAgIGlmIChsb2MpIHtcblx0ICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcblx0ICAgICAgdGhpcy5lbmRMaW5lTnVtYmVyID0gZW5kTGluZU51bWJlcjtcblxuXHQgICAgICAvLyBXb3JrIGFyb3VuZCBpc3N1ZSB1bmRlciBzYWZhcmkgd2hlcmUgd2UgY2FuJ3QgZGlyZWN0bHkgc2V0IHRoZSBjb2x1bW4gdmFsdWVcblx0ICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICAgICAgaWYgKF9PYmplY3QkZGVmaW5lUHJvcGVydHkpIHtcblx0ICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvbHVtbicsIHtcblx0ICAgICAgICAgIHZhbHVlOiBjb2x1bW4sXG5cdCAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdlbmRDb2x1bW4nLCB7XG5cdCAgICAgICAgICB2YWx1ZTogZW5kQ29sdW1uLFxuXHQgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuXHQgICAgICAgIHRoaXMuZW5kQ29sdW1uID0gZW5kQ29sdW1uO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSBjYXRjaCAobm9wKSB7XG5cdCAgICAvKiBJZ25vcmUgaWYgdGhlIGJyb3dzZXIgaXMgdmVyeSBwYXJ0aWN1bGFyICovXG5cdCAgfVxuXHR9XG5cblx0RXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEV4Y2VwdGlvbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg4KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG5cdCAgcmV0dXJuICQuc2V0RGVzYyhpdCwga2V5LCBkZXNjKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyICRPYmplY3QgPSBPYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGNyZWF0ZTogICAgICRPYmplY3QuY3JlYXRlLFxuXHQgIGdldFByb3RvOiAgICRPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG5cdCAgaXNFbnVtOiAgICAge30ucHJvcGVydHlJc0VudW1lcmFibGUsXG5cdCAgZ2V0RGVzYzogICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG5cdCAgc2V0RGVzYzogICAgJE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxcblx0ICBzZXREZXNjczogICAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsXG5cdCAgZ2V0S2V5czogICAgJE9iamVjdC5rZXlzLFxuXHQgIGdldE5hbWVzOiAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcblx0ICBnZXRTeW1ib2xzOiAkT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcblx0ICBlYWNoOiAgICAgICBbXS5mb3JFYWNoXG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpWydkZWZhdWx0J107XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5yZWdpc3RlckRlZmF1bHRIZWxwZXJzID0gcmVnaXN0ZXJEZWZhdWx0SGVscGVycztcblx0ZXhwb3J0cy5tb3ZlSGVscGVyVG9Ib29rcyA9IG1vdmVIZWxwZXJUb0hvb2tzO1xuXG5cdHZhciBfaGVscGVyc0Jsb2NrSGVscGVyTWlzc2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5cdHZhciBfaGVscGVyc0Jsb2NrSGVscGVyTWlzc2luZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwZXJzQmxvY2tIZWxwZXJNaXNzaW5nKTtcblxuXHR2YXIgX2hlbHBlcnNFYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cblx0dmFyIF9oZWxwZXJzRWFjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwZXJzRWFjaCk7XG5cblx0dmFyIF9oZWxwZXJzSGVscGVyTWlzc2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXG5cdHZhciBfaGVscGVyc0hlbHBlck1pc3NpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGVscGVyc0hlbHBlck1pc3NpbmcpO1xuXG5cdHZhciBfaGVscGVyc0lmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cblx0dmFyIF9oZWxwZXJzSWYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGVscGVyc0lmKTtcblxuXHR2YXIgX2hlbHBlcnNMb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxuXHR2YXIgX2hlbHBlcnNMb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGVscGVyc0xvZyk7XG5cblx0dmFyIF9oZWxwZXJzTG9va3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cblx0dmFyIF9oZWxwZXJzTG9va3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNMb29rdXApO1xuXG5cdHZhciBfaGVscGVyc1dpdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblxuXHR2YXIgX2hlbHBlcnNXaXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNXaXRoKTtcblxuXHRmdW5jdGlvbiByZWdpc3RlckRlZmF1bHRIZWxwZXJzKGluc3RhbmNlKSB7XG5cdCAgX2hlbHBlcnNCbG9ja0hlbHBlck1pc3NpbmcyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xuXHQgIF9oZWxwZXJzRWFjaDJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG5cdCAgX2hlbHBlcnNIZWxwZXJNaXNzaW5nMlsnZGVmYXVsdCddKGluc3RhbmNlKTtcblx0ICBfaGVscGVyc0lmMlsnZGVmYXVsdCddKGluc3RhbmNlKTtcblx0ICBfaGVscGVyc0xvZzJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG5cdCAgX2hlbHBlcnNMb29rdXAyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xuXHQgIF9oZWxwZXJzV2l0aDJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBtb3ZlSGVscGVyVG9Ib29rcyhpbnN0YW5jZSwgaGVscGVyTmFtZSwga2VlcEhlbHBlcikge1xuXHQgIGlmIChpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdKSB7XG5cdCAgICBpbnN0YW5jZS5ob29rc1toZWxwZXJOYW1lXSA9IGluc3RhbmNlLmhlbHBlcnNbaGVscGVyTmFtZV07XG5cdCAgICBpZiAoIWtlZXBIZWxwZXIpIHtcblx0ICAgICAgZGVsZXRlIGluc3RhbmNlLmhlbHBlcnNbaGVscGVyTmFtZV07XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcblx0ICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignYmxvY2tIZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24gKGNvbnRleHQsIG9wdGlvbnMpIHtcblx0ICAgIHZhciBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuXHQgICAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuXHQgICAgaWYgKGNvbnRleHQgPT09IHRydWUpIHtcblx0ICAgICAgcmV0dXJuIGZuKHRoaXMpO1xuXHQgICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcblx0ICAgICAgcmV0dXJuIGludmVyc2UodGhpcyk7XG5cdCAgICB9IGVsc2UgaWYgKF91dGlscy5pc0FycmF5KGNvbnRleHQpKSB7XG5cdCAgICAgIGlmIChjb250ZXh0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcblx0ICAgICAgICAgIG9wdGlvbnMuaWRzID0gW29wdGlvbnMubmFtZV07XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gaW52ZXJzZSh0aGlzKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuXHQgICAgICAgIHZhciBkYXRhID0gX3V0aWxzLmNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG5cdCAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IF91dGlscy5hcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMubmFtZSk7XG5cdCAgICAgICAgb3B0aW9ucyA9IHsgZGF0YTogZGF0YSB9O1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMylbJ2RlZmF1bHQnXTtcblxuXHR2YXIgX1N5bWJvbCRpdGVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpWydkZWZhdWx0J107XG5cblx0dmFyIF9nZXRJdGVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpWydkZWZhdWx0J107XG5cblx0dmFyIF9PYmplY3Qka2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNjApWydkZWZhdWx0J107XG5cblx0dmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpWydkZWZhdWx0J107XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgX2V4Y2VwdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblx0dmFyIF9leGNlcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhjZXB0aW9uKTtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcblx0ICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uIChjb250ZXh0LCBvcHRpb25zKSB7XG5cdCAgICBpZiAoIW9wdGlvbnMpIHtcblx0ICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgZm4gPSBvcHRpb25zLmZuLFxuXHQgICAgICAgIGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG5cdCAgICAgICAgaSA9IDAsXG5cdCAgICAgICAgcmV0ID0gJycsXG5cdCAgICAgICAgZGF0YSA9IHVuZGVmaW5lZCxcblx0ICAgICAgICBjb250ZXh0UGF0aCA9IHVuZGVmaW5lZDtcblxuXHQgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuXHQgICAgICBjb250ZXh0UGF0aCA9IF91dGlscy5hcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMuaWRzWzBdKSArICcuJztcblx0ICAgIH1cblxuXHQgICAgaWYgKF91dGlscy5pc0Z1bmN0aW9uKGNvbnRleHQpKSB7XG5cdCAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChvcHRpb25zLmRhdGEpIHtcblx0ICAgICAgZGF0YSA9IF91dGlscy5jcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBleGVjSXRlcmF0aW9uKGZpZWxkLCBpbmRleCwgbGFzdCkge1xuXHQgICAgICBpZiAoZGF0YSkge1xuXHQgICAgICAgIGRhdGEua2V5ID0gZmllbGQ7XG5cdCAgICAgICAgZGF0YS5pbmRleCA9IGluZGV4O1xuXHQgICAgICAgIGRhdGEuZmlyc3QgPSBpbmRleCA9PT0gMDtcblx0ICAgICAgICBkYXRhLmxhc3QgPSAhIWxhc3Q7XG5cblx0ICAgICAgICBpZiAoY29udGV4dFBhdGgpIHtcblx0ICAgICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBjb250ZXh0UGF0aCArIGZpZWxkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXG5cdCAgICAgIHJldCA9IHJldCArIGZuKGNvbnRleHRbZmllbGRdLCB7XG5cdCAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICBibG9ja1BhcmFtczogX3V0aWxzLmJsb2NrUGFyYW1zKFtjb250ZXh0W2ZpZWxkXSwgZmllbGRdLCBbY29udGV4dFBhdGggKyBmaWVsZCwgbnVsbF0pXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgaWYgKF91dGlscy5pc0FycmF5KGNvbnRleHQpKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaiA9IGNvbnRleHQubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG5cdCAgICAgICAgICBpZiAoaSBpbiBjb250ZXh0KSB7XG5cdCAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24oaSwgaSwgaSA9PT0gY29udGV4dC5sZW5ndGggLSAxKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF9TeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgY29udGV4dFtfU3ltYm9sJGl0ZXJhdG9yXSkge1xuXHQgICAgICAgIHZhciBuZXdDb250ZXh0ID0gW107XG5cdCAgICAgICAgdmFyIGl0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKGNvbnRleHQpO1xuXHQgICAgICAgIGZvciAodmFyIGl0ID0gaXRlcmF0b3IubmV4dCgpOyAhaXQuZG9uZTsgaXQgPSBpdGVyYXRvci5uZXh0KCkpIHtcblx0ICAgICAgICAgIG5ld0NvbnRleHQucHVzaChpdC52YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbnRleHQgPSBuZXdDb250ZXh0O1xuXHQgICAgICAgIGZvciAodmFyIGogPSBjb250ZXh0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuXHQgICAgICAgICAgZXhlY0l0ZXJhdGlvbihpLCBpLCBpID09PSBjb250ZXh0Lmxlbmd0aCAtIDEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgdmFyIHByaW9yS2V5ID0gdW5kZWZpbmVkO1xuXG5cdCAgICAgICAgICBfT2JqZWN0JGtleXMoY29udGV4dCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgIC8vIFdlJ3JlIHJ1bm5pbmcgdGhlIGl0ZXJhdGlvbnMgb25lIHN0ZXAgb3V0IG9mIHN5bmMgc28gd2UgY2FuIGRldGVjdFxuXHQgICAgICAgICAgICAvLyB0aGUgbGFzdCBpdGVyYXRpb24gd2l0aG91dCBoYXZlIHRvIHNjYW4gdGhlIG9iamVjdCB0d2ljZSBhbmQgY3JlYXRlXG5cdCAgICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG5cdCAgICAgICAgICAgIGlmIChwcmlvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgZXhlY0l0ZXJhdGlvbihwcmlvcktleSwgaSAtIDEpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHByaW9yS2V5ID0ga2V5O1xuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGlmIChwcmlvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxLCB0cnVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KSgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmIChpID09PSAwKSB7XG5cdCAgICAgIHJldCA9IGludmVyc2UodGhpcyk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiByZXQ7XG5cdCAgfSk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oMTQpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSkuU3ltYm9sO1xuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHQvLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG5cdHZhciAkICAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsIGdsb2JhbCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNilcblx0ICAsIGhhcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNylcblx0ICAsIERFU0NSSVBUT1JTICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOClcblx0ICAsICRleHBvcnQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMClcblx0ICAsIHJlZGVmaW5lICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsICRmYWlscyAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSlcblx0ICAsIHNoYXJlZCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0ICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOClcblx0ICAsIHVpZCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIHdrcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0ICAsIGtleU9mICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0ICAsICRuYW1lcyAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNilcblx0ICAsIGVudW1LZXlzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNylcblx0ICAsIGlzQXJyYXkgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOClcblx0ICAsIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSlcblx0ICAsIHRvSU9iamVjdCAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMilcblx0ICAsIGNyZWF0ZURlc2MgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIGdldERlc2MgICAgICAgID0gJC5nZXREZXNjXG5cdCAgLCBzZXREZXNjICAgICAgICA9ICQuc2V0RGVzY1xuXHQgICwgX2NyZWF0ZSAgICAgICAgPSAkLmNyZWF0ZVxuXHQgICwgZ2V0TmFtZXMgICAgICAgPSAkbmFtZXMuZ2V0XG5cdCAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcblx0ICAsICRKU09OICAgICAgICAgID0gZ2xvYmFsLkpTT05cblx0ICAsIF9zdHJpbmdpZnkgICAgID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5XG5cdCAgLCBzZXR0ZXIgICAgICAgICA9IGZhbHNlXG5cdCAgLCBISURERU4gICAgICAgICA9IHdrcygnX2hpZGRlbicpXG5cdCAgLCBpc0VudW0gICAgICAgICA9ICQuaXNFbnVtXG5cdCAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jylcblx0ICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcblx0ICAsIHVzZU5hdGl2ZSAgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuXHQgICwgT2JqZWN0UHJvdG8gICAgPSBPYmplY3QucHJvdG90eXBlO1xuXG5cdC8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xuXHR2YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbigpe1xuXHQgIHJldHVybiBfY3JlYXRlKHNldERlc2Moe30sICdhJywge1xuXHQgICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gc2V0RGVzYyh0aGlzLCAnYScsIHt2YWx1ZTogN30pLmE7IH1cblx0ICB9KSkuYSAhPSA3O1xuXHR9KSA/IGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuXHQgIHZhciBwcm90b0Rlc2MgPSBnZXREZXNjKE9iamVjdFByb3RvLCBrZXkpO1xuXHQgIGlmKHByb3RvRGVzYylkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcblx0ICBzZXREZXNjKGl0LCBrZXksIEQpO1xuXHQgIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pc2V0RGVzYyhPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xuXHR9IDogc2V0RGVzYztcblxuXHR2YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG5cdCAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbC5wcm90b3R5cGUpO1xuXHQgIHN5bS5fayA9IHRhZztcblx0ICBERVNDUklQVE9SUyAmJiBzZXR0ZXIgJiYgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7XG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKXtcblx0ICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuXHQgICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBzeW07XG5cdH07XG5cblx0dmFyIGlzU3ltYm9sID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG5cdH07XG5cblx0dmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuXHQgIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuXHQgICAgaWYoIUQuZW51bWVyYWJsZSl7XG5cdCAgICAgIGlmKCFoYXMoaXQsIEhJRERFTikpc2V0RGVzYyhpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG5cdCAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuXHQgICAgICBEID0gX2NyZWF0ZShELCB7ZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSl9KTtcblx0ICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG5cdCAgfSByZXR1cm4gc2V0RGVzYyhpdCwga2V5LCBEKTtcblx0fTtcblx0dmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG5cdCAgYW5PYmplY3QoaXQpO1xuXHQgIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcblx0ICAgICwgaSAgICA9IDBcblx0ICAgICwgbCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cdHZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcblx0ICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG5cdH07XG5cdHZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuXHQgIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5KTtcblx0ICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldXG5cdCAgICA/IEUgOiB0cnVlO1xuXHR9O1xuXHR2YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcblx0ICB2YXIgRCA9IGdldERlc2MoaXQgPSB0b0lPYmplY3QoaXQpLCBrZXkpO1xuXHQgIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuXHQgIHJldHVybiBEO1xuXHR9O1xuXHR2YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcblx0ICB2YXIgbmFtZXMgID0gZ2V0TmFtZXModG9JT2JqZWN0KGl0KSlcblx0ICAgICwgcmVzdWx0ID0gW11cblx0ICAgICwgaSAgICAgID0gMFxuXHQgICAgLCBrZXk7XG5cdCAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4pcmVzdWx0LnB1c2goa2V5KTtcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHR2YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCl7XG5cdCAgdmFyIG5hbWVzICA9IGdldE5hbWVzKHRvSU9iamVjdChpdCkpXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGkgICAgICA9IDBcblx0ICAgICwga2V5O1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0dmFyICRzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpe1xuXHQgIGlmKGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKXJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuXHQgIHZhciBhcmdzID0gW2l0XVxuXHQgICAgLCBpICAgID0gMVxuXHQgICAgLCAkJCAgID0gYXJndW1lbnRzXG5cdCAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG5cdCAgd2hpbGUoJCQubGVuZ3RoID4gaSlhcmdzLnB1c2goJCRbaSsrXSk7XG5cdCAgcmVwbGFjZXIgPSBhcmdzWzFdO1xuXHQgIGlmKHR5cGVvZiByZXBsYWNlciA9PSAnZnVuY3Rpb24nKSRyZXBsYWNlciA9IHJlcGxhY2VyO1xuXHQgIGlmKCRyZXBsYWNlciB8fCAhaXNBcnJheShyZXBsYWNlcikpcmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKXtcblx0ICAgIGlmKCRyZXBsYWNlcil2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuXHQgICAgaWYoIWlzU3ltYm9sKHZhbHVlKSlyZXR1cm4gdmFsdWU7XG5cdCAgfTtcblx0ICBhcmdzWzFdID0gcmVwbGFjZXI7XG5cdCAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuXHR9O1xuXHR2YXIgYnVnZ3lKU09OID0gJGZhaWxzKGZ1bmN0aW9uKCl7XG5cdCAgdmFyIFMgPSAkU3ltYm9sKCk7XG5cdCAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cblx0ICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcblx0ICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuXHQgIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7YTogU30pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG5cdH0pO1xuXG5cdC8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuXHRpZighdXNlTmF0aXZlKXtcblx0ICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG5cdCAgICBpZihpc1N5bWJvbCh0aGlzKSl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuXHQgICAgcmV0dXJuIHdyYXAodWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKSk7XG5cdCAgfTtcblx0ICByZWRlZmluZSgkU3ltYm9sLnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcblx0ICAgIHJldHVybiB0aGlzLl9rO1xuXHQgIH0pO1xuXG5cdCAgaXNTeW1ib2wgPSBmdW5jdGlvbihpdCl7XG5cdCAgICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xuXHQgIH07XG5cblx0ICAkLmNyZWF0ZSAgICAgPSAkY3JlYXRlO1xuXHQgICQuaXNFbnVtICAgICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0ICAkLmdldERlc2MgICAgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXHQgICQuc2V0RGVzYyAgICA9ICRkZWZpbmVQcm9wZXJ0eTtcblx0ICAkLnNldERlc2NzICAgPSAkZGVmaW5lUHJvcGVydGllcztcblx0ICAkLmdldE5hbWVzICAgPSAkbmFtZXMuZ2V0ID0gJGdldE93blByb3BlcnR5TmFtZXM7XG5cdCAgJC5nZXRTeW1ib2xzID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuXHQgIGlmKERFU0NSSVBUT1JTICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKSl7XG5cdCAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcblx0ICB9XG5cdH1cblxuXHR2YXIgc3ltYm9sU3RhdGljcyA9IHtcblx0ICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcblx0ICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcblx0ICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcblx0ICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG5cdCAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcblx0ICB9LFxuXHQgIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuXHQgIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG5cdCAgICByZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG5cdCAgfSxcblx0ICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG5cdCAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxuXHR9O1xuXHQvLyAxOS40LjIuMiBTeW1ib2wuaGFzSW5zdGFuY2Vcblx0Ly8gMTkuNC4yLjMgU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZVxuXHQvLyAxOS40LjIuNCBTeW1ib2wuaXRlcmF0b3Jcblx0Ly8gMTkuNC4yLjYgU3ltYm9sLm1hdGNoXG5cdC8vIDE5LjQuMi44IFN5bWJvbC5yZXBsYWNlXG5cdC8vIDE5LjQuMi45IFN5bWJvbC5zZWFyY2hcblx0Ly8gMTkuNC4yLjEwIFN5bWJvbC5zcGVjaWVzXG5cdC8vIDE5LjQuMi4xMSBTeW1ib2wuc3BsaXRcblx0Ly8gMTkuNC4yLjEyIFN5bWJvbC50b1ByaW1pdGl2ZVxuXHQvLyAxOS40LjIuMTMgU3ltYm9sLnRvU3RyaW5nVGFnXG5cdC8vIDE5LjQuMi4xNCBTeW1ib2wudW5zY29wYWJsZXNcblx0JC5lYWNoLmNhbGwoKFxuXHQgICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsJyArXG5cdCAgJ3NwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG5cdCkuc3BsaXQoJywnKSwgZnVuY3Rpb24oaXQpe1xuXHQgIHZhciBzeW0gPSB3a3MoaXQpO1xuXHQgIHN5bWJvbFN0YXRpY3NbaXRdID0gdXNlTmF0aXZlID8gc3ltIDogd3JhcChzeW0pO1xuXHR9KTtcblxuXHRzZXR0ZXIgPSB0cnVlO1xuXG5cdCRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cblx0JGV4cG9ydCgkZXhwb3J0LlMsICdTeW1ib2wnLCBzeW1ib2xTdGF0aWNzKTtcblxuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICF1c2VOYXRpdmUsICdPYmplY3QnLCB7XG5cdCAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXHQgIGNyZWF0ZTogJGNyZWF0ZSxcblx0ICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0ICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuXHQgIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG5cdCAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG5cdCAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuXHQgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcblx0ICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuXHQgIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuXHQgIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcblx0ICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcblx0fSk7XG5cblx0Ly8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG5cdCRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCF1c2VOYXRpdmUgfHwgYnVnZ3lKU09OKSwgJ0pTT04nLCB7c3RyaW5naWZ5OiAkc3RyaW5naWZ5fSk7XG5cblx0Ly8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG5cdC8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cblx0c2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcblx0Ly8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cblx0c2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxuXHR2YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcblx0ICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdGlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcblx0ICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcblx0bW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxOSkoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xuXHR9KTtcblxuLyoqKi8gfSksXG4vKiAxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiAhIWV4ZWMoKTtcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdCAgLCBjb3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuXHQgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0ICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG5cdHZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcblx0ICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuXHQgICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG5cdCAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcblx0ICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuXHQgICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG5cdCAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0Lldcblx0ICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcblx0ICAgICwgdGFyZ2V0ICAgID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuXHQgICAgLCBrZXksIG93biwgb3V0O1xuXHQgIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lO1xuXHQgIGZvcihrZXkgaW4gc291cmNlKXtcblx0ICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuXHQgICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYga2V5IGluIHRhcmdldDtcblx0ICAgIGlmKG93biAmJiBrZXkgaW4gZXhwb3J0cyljb250aW51ZTtcblx0ICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG5cdCAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuXHQgICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG5cdCAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuXHQgICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcblx0ICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG5cdCAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuXHQgICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbihDKXtcblx0ICAgICAgdmFyIEYgPSBmdW5jdGlvbihwYXJhbSl7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBDID8gbmV3IEMocGFyYW0pIDogQyhwYXJhbSk7XG5cdCAgICAgIH07XG5cdCAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcblx0ICAgICAgcmV0dXJuIEY7XG5cdCAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcblx0ICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcblx0ICAgIGlmKElTX1BST1RPKShleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KSlba2V5XSA9IG91dDtcblx0ICB9XG5cdH07XG5cdC8vIHR5cGUgYml0bWFwXG5cdCRleHBvcnQuRiA9IDE7ICAvLyBmb3JjZWRcblx0JGV4cG9ydC5HID0gMjsgIC8vIGdsb2JhbFxuXHQkZXhwb3J0LlMgPSA0OyAgLy8gc3RhdGljXG5cdCRleHBvcnQuUCA9IDg7ICAvLyBwcm90b1xuXHQkZXhwb3J0LkIgPSAxNjsgLy8gYmluZFxuXHQkZXhwb3J0LlcgPSAzMjsgLy8gd3JhcFxuXHRtb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcxLjIuNid9O1xuXHRpZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuLyoqKi8gfSksXG4vKiAyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xuXHR2YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG5cdCAgYUZ1bmN0aW9uKGZuKTtcblx0ICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuXHQgIHN3aXRjaChsZW5ndGgpe1xuXHQgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuXHQgICAgfTtcblx0ICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcblx0ICAgIH07XG5cdCAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG5cdCAgICB9O1xuXHQgIH1cblx0ICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG5cdCAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICQgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdCAgLCBjcmVhdGVEZXNjID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCkgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuXHQgIHJldHVybiAkLnNldERlc2Mob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcblx0fSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG5cdCAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcblx0ICByZXR1cm4gb2JqZWN0O1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDI2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcblx0ICByZXR1cm4ge1xuXHQgICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuXHQgICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuXHQgICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuXHQgICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuXHQgIH07XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNilcblx0ICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG5cdCAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpLnNldERlc2Ncblx0ICAsIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpXG5cdCAgLCBUQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSgndG9TdHJpbmdUYWcnKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuXHQgIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBzdG9yZSAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSgnd2tzJylcblx0ICAsIHVpZCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzApXG5cdCAgLCBTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KS5TeW1ib2w7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG5cdCAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG5cdCAgICBTeW1ib2wgJiYgU3ltYm9sW25hbWVdIHx8IChTeW1ib2wgfHwgdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaWQgPSAwXG5cdCAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICQgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuXHQgIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuXHQgICAgLCBrZXlzICAgPSAkLmdldEtleXMoTylcblx0ICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcblx0ICAgICwgaW5kZXggID0gMFxuXHQgICAgLCBrZXk7XG5cdCAgd2hpbGUobGVuZ3RoID4gaW5kZXgpaWYoT1trZXkgPSBrZXlzW2luZGV4KytdXSA9PT0gZWwpcmV0dXJuIGtleTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAzMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xuXHR2YXIgSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdCAgLCBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDM1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG5cdHZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKVxuXHQgICwgZ2V0TmFtZXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KS5nZXROYW1lc1xuXHQgICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cblx0dmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuXHQgID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG5cdHZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIGdldE5hbWVzKGl0KTtcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG5cdCAgfVxuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLmdldCA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuXHQgIGlmKHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nKXJldHVybiBnZXRXaW5kb3dOYW1lcyhpdCk7XG5cdCAgcmV0dXJuIGdldE5hbWVzKHRvSU9iamVjdChpdCkpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDM3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcblx0dmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB2YXIga2V5cyAgICAgICA9ICQuZ2V0S2V5cyhpdClcblx0ICAgICwgZ2V0U3ltYm9scyA9ICQuZ2V0U3ltYm9scztcblx0ICBpZihnZXRTeW1ib2xzKXtcblx0ICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcblx0ICAgICAgLCBpc0VudW0gID0gJC5pc0VudW1cblx0ICAgICAgLCBpICAgICAgID0gMFxuXHQgICAgICAsIGtleTtcblx0ICAgIHdoaWxlKHN5bWJvbHMubGVuZ3RoID4gaSlpZihpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSlrZXlzLnB1c2goa2V5KTtcblx0ICB9XG5cdCAgcmV0dXJuIGtleXM7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdG1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihhcmcpe1xuXHQgIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDM5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA0MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHRydWU7XG5cbi8qKiovIH0pLFxuLyogNDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcblxuLyoqKi8gfSksXG4vKiA0MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg0NCksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSksXG4vKiA0NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSgnaXRlcmF0b3InKTtcblxuLyoqKi8gfSksXG4vKiA0NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyICRhdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSh0cnVlKTtcblxuXHQvLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5cdF9fd2VicGFja19yZXF1aXJlX18oNDgpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcblx0ICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG5cdCAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcblx0Ly8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxuXHR9LCBmdW5jdGlvbigpe1xuXHQgIHZhciBPICAgICA9IHRoaXMuX3Rcblx0ICAgICwgaW5kZXggPSB0aGlzLl9pXG5cdCAgICAsIHBvaW50O1xuXHQgIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG5cdCAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuXHQgIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuXHQgIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG5cdH0pO1xuXG4vKioqLyB9KSxcbi8qIDQ2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdCAgLCBkZWZpbmVkICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0Ly8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG5cdC8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG5cdCAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuXHQgICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuXHQgICAgICAsIGwgPSBzLmxlbmd0aFxuXHQgICAgICAsIGEsIGI7XG5cdCAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuXHQgICAgYSA9IHMuY2hhckNvZGVBdChpKTtcblx0ICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG5cdCAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG5cdCAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyA3LjEuNCBUb0ludGVnZXJcblx0dmFyIGNlaWwgID0gTWF0aC5jZWlsXG5cdCAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKVxuXHQgICwgcmVkZWZpbmUgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KVxuXHQgICwgaGlkZSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KVxuXHQgICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KVxuXHQgICwgSXRlcmF0b3JzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KVxuXHQgICwgJGl0ZXJDcmVhdGUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKVxuXHQgICwgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KVxuXHQgICwgZ2V0UHJvdG8gICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpLmdldFByb3RvXG5cdCAgLCBJVEVSQVRPUiAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpKCdpdGVyYXRvcicpXG5cdCAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG5cdCAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuXHQgICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcblx0ICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cblx0dmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCl7XG5cdCAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuXHQgIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcblx0ICAgIGlmKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKXJldHVybiBwcm90b1traW5kXTtcblx0ICAgIHN3aXRjaChraW5kKXtcblx0ICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuXHQgICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuXHQgICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuXHQgIH07XG5cdCAgdmFyIFRBRyAgICAgICAgPSBOQU1FICsgJyBJdGVyYXRvcidcblx0ICAgICwgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTXG5cdCAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuXHQgICAgLCBwcm90byAgICAgID0gQmFzZS5wcm90b3R5cGVcblx0ICAgICwgJG5hdGl2ZSAgICA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXVxuXHQgICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcblx0ICAgICwgbWV0aG9kcywga2V5O1xuXHQgIC8vIEZpeCBuYXRpdmVcblx0ICBpZigkbmF0aXZlKXtcblx0ICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvKCRkZWZhdWx0LmNhbGwobmV3IEJhc2UpKTtcblx0ICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcblx0ICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuXHQgICAgLy8gRkYgZml4XG5cdCAgICBpZighTElCUkFSWSAmJiBoYXMocHJvdG8sIEZGX0lURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG5cdCAgICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG5cdCAgICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKXtcblx0ICAgICAgVkFMVUVTX0JVRyA9IHRydWU7XG5cdCAgICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIERlZmluZSBpdGVyYXRvclxuXHQgIGlmKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKXtcblx0ICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG5cdCAgfVxuXHQgIC8vIFBsdWcgZm9yIGxpYnJhcnlcblx0ICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcblx0ICBJdGVyYXRvcnNbVEFHXSAgPSByZXR1cm5UaGlzO1xuXHQgIGlmKERFRkFVTFQpe1xuXHQgICAgbWV0aG9kcyA9IHtcblx0ICAgICAgdmFsdWVzOiAgREVGX1ZBTFVFUyAgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuXHQgICAgICBrZXlzOiAgICBJU19TRVQgICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuXHQgICAgICBlbnRyaWVzOiAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJylcblx0ICAgIH07XG5cdCAgICBpZihGT1JDRUQpZm9yKGtleSBpbiBtZXRob2RzKXtcblx0ICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG5cdCAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuXHQgIH1cblx0ICByZXR1cm4gbWV0aG9kcztcblx0fTtcblxuLyoqKi8gfSksXG4vKiA0OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8qKiovIH0pLFxuLyogNTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciAkICAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsIGRlc2NyaXB0b3IgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOClcblx0ICAsIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cblx0Ly8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNSkoSXRlcmF0b3JQcm90b3R5cGUsIF9fd2VicGFja19yZXF1aXJlX18oMjkpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG5cdCAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gJC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG5cdCAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0dmFyIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHRJdGVyYXRvcnMuTm9kZUxpc3QgPSBJdGVyYXRvcnMuSFRNTENvbGxlY3Rpb24gPSBJdGVyYXRvcnMuQXJyYXk7XG5cbi8qKiovIH0pLFxuLyogNTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBhZGRUb1Vuc2NvcGFibGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0ICAsIHN0ZXAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KVxuXHQgICwgSXRlcmF0b3JzICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpXG5cdCAgLCB0b0lPYmplY3QgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cblx0Ly8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuXHQvLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuXHQvLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG5cdC8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG5cdCAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuXHQgIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG5cdCAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcblx0Ly8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uKCl7XG5cdCAgdmFyIE8gICAgID0gdGhpcy5fdFxuXHQgICAgLCBraW5kICA9IHRoaXMuX2tcblx0ICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG5cdCAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuXHQgICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcblx0ICAgIHJldHVybiBzdGVwKDEpO1xuXHQgIH1cblx0ICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcblx0ICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcblx0ICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG5cdH0sICd2YWx1ZXMnKTtcblxuXHQvLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5cdEl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cblx0YWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuXHRhZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcblx0YWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG4vKioqLyB9KSxcbi8qIDUzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9O1xuXG4vKioqLyB9KSxcbi8qIDU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG5cdCAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oNTYpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0pLFxuLyogNTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cbi8qKiovIH0pLFxuLyogNTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KVxuXHQgICwgZ2V0ICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKS5nZXRJdGVyYXRvciA9IGZ1bmN0aW9uKGl0KXtcblx0ICB2YXIgaXRlckZuID0gZ2V0KGl0KTtcblx0ICBpZih0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG5cdCAgcmV0dXJuIGFuT2JqZWN0KGl0ZXJGbi5jYWxsKGl0KSk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY2xhc3NvZiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSlcblx0ICAsIElURVJBVE9SICA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpKCdpdGVyYXRvcicpXG5cdCAgLCBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXVxuXHQgICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuXHQgICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA1OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSkoJ3RvU3RyaW5nVGFnJylcblx0ICAvLyBFUzMgd3JvbmcgaGVyZVxuXHQgICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgdmFyIE8sIFQsIEI7XG5cdCAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG5cdCAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2Vcblx0ICAgIDogdHlwZW9mIChUID0gKE8gPSBPYmplY3QoaXQpKVtUQUddKSA9PSAnc3RyaW5nJyA/IFRcblx0ICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuXHQgICAgOiBBUkcgPyBjb2YoTylcblx0ICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcblx0ICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDYwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9KSxcbi8qIDYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSkuT2JqZWN0LmtleXM7XG5cbi8qKiovIH0pLFxuLyogNjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuMTQgT2JqZWN0LmtleXMoTylcblx0dmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2NCkoJ2tleXMnLCBmdW5jdGlvbigka2V5cyl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIGtleXMoaXQpe1xuXHQgICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG5cdCAgfTtcblx0fSk7XG5cbi8qKiovIH0pLFxuLyogNjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG5cdHZhciBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDY0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMClcblx0ICAsIGNvcmUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuXHQgICwgZmFpbHMgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSwgZXhlYyl7XG5cdCAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuXHQgICAgLCBleHAgPSB7fTtcblx0ICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuXHQgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA2NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSlbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHR2YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdoZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24gKCkgLyogW2FyZ3MsIF1vcHRpb25zICove1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG5cdCAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cblx0ICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ01pc3NpbmcgaGVscGVyOiBcIicgKyBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdLm5hbWUgKyAnXCInKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiA2NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSlbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHR2YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdpZicsIGZ1bmN0aW9uIChjb25kaXRpb25hbCwgb3B0aW9ucykge1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT0gMikge1xuXHQgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnI2lmIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG5cdCAgICB9XG5cdCAgICBpZiAoX3V0aWxzLmlzRnVuY3Rpb24oY29uZGl0aW9uYWwpKSB7XG5cdCAgICAgIGNvbmRpdGlvbmFsID0gY29uZGl0aW9uYWwuY2FsbCh0aGlzKTtcblx0ICAgIH1cblxuXHQgICAgLy8gRGVmYXVsdCBiZWhhdmlvciBpcyB0byByZW5kZXIgdGhlIHBvc2l0aXZlIHBhdGggaWYgdGhlIHZhbHVlIGlzIHRydXRoeSBhbmQgbm90IGVtcHR5LlxuXHQgICAgLy8gVGhlIGBpbmNsdWRlWmVyb2Agb3B0aW9uIG1heSBiZSBzZXQgdG8gdHJlYXQgdGhlIGNvbmR0aW9uYWwgYXMgcHVyZWx5IG5vdCBlbXB0eSBiYXNlZCBvbiB0aGVcblx0ICAgIC8vIGJlaGF2aW9yIG9mIGlzRW1wdHkuIEVmZmVjdGl2ZWx5IHRoaXMgZGV0ZXJtaW5lcyBpZiAwIGlzIGhhbmRsZWQgYnkgdGhlIHBvc2l0aXZlIHBhdGggb3IgbmVnYXRpdmUuXG5cdCAgICBpZiAoIW9wdGlvbnMuaGFzaC5pbmNsdWRlWmVybyAmJiAhY29uZGl0aW9uYWwgfHwgX3V0aWxzLmlzRW1wdHkoY29uZGl0aW9uYWwpKSB7XG5cdCAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcblx0ICAgIH1cblx0ICB9KTtcblxuXHQgIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd1bmxlc3MnLCBmdW5jdGlvbiAoY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcblx0ICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJyN1bmxlc3MgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzWydpZiddLmNhbGwodGhpcywgY29uZGl0aW9uYWwsIHtcblx0ICAgICAgZm46IG9wdGlvbnMuaW52ZXJzZSxcblx0ICAgICAgaW52ZXJzZTogb3B0aW9ucy5mbixcblx0ICAgICAgaGFzaDogb3B0aW9ucy5oYXNoXG5cdCAgICB9KTtcblx0ICB9KTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiA2NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb2cnLCBmdW5jdGlvbiAoKSAvKiBtZXNzYWdlLCBvcHRpb25zICove1xuXHQgICAgdmFyIGFyZ3MgPSBbdW5kZWZpbmVkXSxcblx0ICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuXHQgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIGxldmVsID0gMTtcblx0ICAgIGlmIChvcHRpb25zLmhhc2gubGV2ZWwgIT0gbnVsbCkge1xuXHQgICAgICBsZXZlbCA9IG9wdGlvbnMuaGFzaC5sZXZlbDtcblx0ICAgIH0gZWxzZSBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuZGF0YS5sZXZlbCAhPSBudWxsKSB7XG5cdCAgICAgIGxldmVsID0gb3B0aW9ucy5kYXRhLmxldmVsO1xuXHQgICAgfVxuXHQgICAgYXJnc1swXSA9IGxldmVsO1xuXG5cdCAgICBpbnN0YW5jZS5sb2cuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xuXHQgIH0pO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDY4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG5cdCAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvb2t1cCcsIGZ1bmN0aW9uIChvYmosIGZpZWxkLCBvcHRpb25zKSB7XG5cdCAgICBpZiAoIW9iaikge1xuXHQgICAgICAvLyBOb3RlIGZvciA1LjA6IENoYW5nZSB0byBcIm9iaiA9PSBudWxsXCIgaW4gNS4wXG5cdCAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gb3B0aW9ucy5sb29rdXBQcm9wZXJ0eShvYmosIGZpZWxkKTtcblx0ICB9KTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiA2OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSlbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHR2YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd3aXRoJywgZnVuY3Rpb24gKGNvbnRleHQsIG9wdGlvbnMpIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcblx0ICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJyN3aXRoIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG5cdCAgICB9XG5cdCAgICBpZiAoX3V0aWxzLmlzRnVuY3Rpb24oY29udGV4dCkpIHtcblx0ICAgICAgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIGZuID0gb3B0aW9ucy5mbjtcblxuXHQgICAgaWYgKCFfdXRpbHMuaXNFbXB0eShjb250ZXh0KSkge1xuXHQgICAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YTtcblx0ICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuXHQgICAgICAgIGRhdGEgPSBfdXRpbHMuY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcblx0ICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gX3V0aWxzLmFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5pZHNbMF0pO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIHtcblx0ICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgIGJsb2NrUGFyYW1zOiBfdXRpbHMuYmxvY2tQYXJhbXMoW2NvbnRleHRdLCBbZGF0YSAmJiBkYXRhLmNvbnRleHRQYXRoXSlcblx0ICAgICAgfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDcwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVsnZGVmYXVsdCddO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMucmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyA9IHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnM7XG5cblx0dmFyIF9kZWNvcmF0b3JzSW5saW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cblx0dmFyIF9kZWNvcmF0b3JzSW5saW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlY29yYXRvcnNJbmxpbmUpO1xuXG5cdGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMoaW5zdGFuY2UpIHtcblx0ICBfZGVjb3JhdG9yc0lubGluZTJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG5cdH1cblxuLyoqKi8gfSksXG4vKiA3MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgIGluc3RhbmNlLnJlZ2lzdGVyRGVjb3JhdG9yKCdpbmxpbmUnLCBmdW5jdGlvbiAoZm4sIHByb3BzLCBjb250YWluZXIsIG9wdGlvbnMpIHtcblx0ICAgIHZhciByZXQgPSBmbjtcblx0ICAgIGlmICghcHJvcHMucGFydGlhbHMpIHtcblx0ICAgICAgcHJvcHMucGFydGlhbHMgPSB7fTtcblx0ICAgICAgcmV0ID0gZnVuY3Rpb24gKGNvbnRleHQsIG9wdGlvbnMpIHtcblx0ICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFydGlhbHMgc3RhY2sgZnJhbWUgcHJpb3IgdG8gZXhlYy5cblx0ICAgICAgICB2YXIgb3JpZ2luYWwgPSBjb250YWluZXIucGFydGlhbHM7XG5cdCAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gX3V0aWxzLmV4dGVuZCh7fSwgb3JpZ2luYWwsIHByb3BzLnBhcnRpYWxzKTtcblx0ICAgICAgICB2YXIgcmV0ID0gZm4oY29udGV4dCwgb3B0aW9ucyk7XG5cdCAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3JpZ2luYWw7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgICAgfTtcblx0ICAgIH1cblxuXHQgICAgcHJvcHMucGFydGlhbHNbb3B0aW9ucy5hcmdzWzBdXSA9IG9wdGlvbnMuZm47XG5cblx0ICAgIHJldHVybiByZXQ7XG5cdCAgfSk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogNzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgbG9nZ2VyID0ge1xuXHQgIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcblx0ICBsZXZlbDogJ2luZm8nLFxuXG5cdCAgLy8gTWFwcyBhIGdpdmVuIGxldmVsIHZhbHVlIHRvIHRoZSBgbWV0aG9kTWFwYCBpbmRleGVzIGFib3ZlLlxuXHQgIGxvb2t1cExldmVsOiBmdW5jdGlvbiBsb29rdXBMZXZlbChsZXZlbCkge1xuXHQgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgdmFyIGxldmVsTWFwID0gX3V0aWxzLmluZGV4T2YobG9nZ2VyLm1ldGhvZE1hcCwgbGV2ZWwudG9Mb3dlckNhc2UoKSk7XG5cdCAgICAgIGlmIChsZXZlbE1hcCA+PSAwKSB7XG5cdCAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBsZXZlbCA9IHBhcnNlSW50KGxldmVsLCAxMCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGxldmVsO1xuXHQgIH0sXG5cblx0ICAvLyBDYW4gYmUgb3ZlcnJpZGRlbiBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudFxuXHQgIGxvZzogZnVuY3Rpb24gbG9nKGxldmVsKSB7XG5cdCAgICBsZXZlbCA9IGxvZ2dlci5sb29rdXBMZXZlbChsZXZlbCk7XG5cblx0ICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWwpIHtcblx0ICAgICAgdmFyIG1ldGhvZCA9IGxvZ2dlci5tZXRob2RNYXBbbGV2ZWxdO1xuXHQgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXHQgICAgICBpZiAoIWNvbnNvbGVbbWV0aG9kXSkge1xuXHQgICAgICAgIG1ldGhvZCA9ICdsb2cnO1xuXHQgICAgICB9XG5cblx0ICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1lc3NhZ2UgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgbWVzc2FnZVtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgIH1cblxuXHQgICAgICBjb25zb2xlW21ldGhvZF0uYXBwbHkoY29uc29sZSwgbWVzc2FnZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBsb2dnZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDczICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfT2JqZWN0JGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpWydkZWZhdWx0J107XG5cblx0dmFyIF9PYmplY3Qka2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNjApWydkZWZhdWx0J107XG5cblx0dmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpWydkZWZhdWx0J107XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5jcmVhdGVQcm90b0FjY2Vzc0NvbnRyb2wgPSBjcmVhdGVQcm90b0FjY2Vzc0NvbnRyb2w7XG5cdGV4cG9ydHMucmVzdWx0SXNBbGxvd2VkID0gcmVzdWx0SXNBbGxvd2VkO1xuXHRleHBvcnRzLnJlc2V0TG9nZ2VkUHJvcGVydGllcyA9IHJlc2V0TG9nZ2VkUHJvcGVydGllcztcblxuXHR2YXIgX2NyZWF0ZU5ld0xvb2t1cE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpO1xuXG5cdHZhciBfbG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cblx0dmFyIF9sb2dnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9nZ2VyKTtcblxuXHR2YXIgbG9nZ2VkUHJvcGVydGllcyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXG5cdGZ1bmN0aW9uIGNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbChydW50aW1lT3B0aW9ucykge1xuXHQgIHZhciBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0ID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdCAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnY29uc3RydWN0b3InXSA9IGZhbHNlO1xuXHQgIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fZGVmaW5lR2V0dGVyX18nXSA9IGZhbHNlO1xuXHQgIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fZGVmaW5lU2V0dGVyX18nXSA9IGZhbHNlO1xuXHQgIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fbG9va3VwR2V0dGVyX18nXSA9IGZhbHNlO1xuXG5cdCAgdmFyIGRlZmF1bHRQcm9wZXJ0eVdoaXRlTGlzdCA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXHQgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b1xuXHQgIGRlZmF1bHRQcm9wZXJ0eVdoaXRlTGlzdFsnX19wcm90b19fJ10gPSBmYWxzZTtcblxuXHQgIHJldHVybiB7XG5cdCAgICBwcm9wZXJ0aWVzOiB7XG5cdCAgICAgIHdoaXRlbGlzdDogX2NyZWF0ZU5ld0xvb2t1cE9iamVjdC5jcmVhdGVOZXdMb29rdXBPYmplY3QoZGVmYXVsdFByb3BlcnR5V2hpdGVMaXN0LCBydW50aW1lT3B0aW9ucy5hbGxvd2VkUHJvdG9Qcm9wZXJ0aWVzKSxcblx0ICAgICAgZGVmYXVsdFZhbHVlOiBydW50aW1lT3B0aW9ucy5hbGxvd1Byb3RvUHJvcGVydGllc0J5RGVmYXVsdFxuXHQgICAgfSxcblx0ICAgIG1ldGhvZHM6IHtcblx0ICAgICAgd2hpdGVsaXN0OiBfY3JlYXRlTmV3TG9va3VwT2JqZWN0LmNyZWF0ZU5ld0xvb2t1cE9iamVjdChkZWZhdWx0TWV0aG9kV2hpdGVMaXN0LCBydW50aW1lT3B0aW9ucy5hbGxvd2VkUHJvdG9NZXRob2RzKSxcblx0ICAgICAgZGVmYXVsdFZhbHVlOiBydW50aW1lT3B0aW9ucy5hbGxvd1Byb3RvTWV0aG9kc0J5RGVmYXVsdFxuXHQgICAgfVxuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiByZXN1bHRJc0FsbG93ZWQocmVzdWx0LCBwcm90b0FjY2Vzc0NvbnRyb2wsIHByb3BlcnR5TmFtZSkge1xuXHQgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICByZXR1cm4gY2hlY2tXaGl0ZUxpc3QocHJvdG9BY2Nlc3NDb250cm9sLm1ldGhvZHMsIHByb3BlcnR5TmFtZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBjaGVja1doaXRlTGlzdChwcm90b0FjY2Vzc0NvbnRyb2wucHJvcGVydGllcywgcHJvcGVydHlOYW1lKTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBjaGVja1doaXRlTGlzdChwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLCBwcm9wZXJ0eU5hbWUpIHtcblx0ICBpZiAocHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS53aGl0ZWxpc3RbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gcHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS53aGl0ZWxpc3RbcHJvcGVydHlOYW1lXSA9PT0gdHJ1ZTtcblx0ICB9XG5cdCAgaWYgKHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiBwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLmRlZmF1bHRWYWx1ZTtcblx0ICB9XG5cdCAgbG9nVW5leHBlY2VkUHJvcGVydHlBY2Nlc3NPbmNlKHByb3BlcnR5TmFtZSk7XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gbG9nVW5leHBlY2VkUHJvcGVydHlBY2Nlc3NPbmNlKHByb3BlcnR5TmFtZSkge1xuXHQgIGlmIChsb2dnZWRQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gIT09IHRydWUpIHtcblx0ICAgIGxvZ2dlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IHRydWU7XG5cdCAgICBfbG9nZ2VyMlsnZGVmYXVsdCddLmxvZygnZXJyb3InLCAnSGFuZGxlYmFyczogQWNjZXNzIGhhcyBiZWVuIGRlbmllZCB0byByZXNvbHZlIHRoZSBwcm9wZXJ0eSBcIicgKyBwcm9wZXJ0eU5hbWUgKyAnXCIgYmVjYXVzZSBpdCBpcyBub3QgYW4gXCJvd24gcHJvcGVydHlcIiBvZiBpdHMgcGFyZW50LlxcbicgKyAnWW91IGNhbiBhZGQgYSBydW50aW1lIG9wdGlvbiB0byBkaXNhYmxlIHRoZSBjaGVjayBvciB0aGlzIHdhcm5pbmc6XFxuJyArICdTZWUgaHR0cHM6Ly9oYW5kbGViYXJzanMuY29tL2FwaS1yZWZlcmVuY2UvcnVudGltZS1vcHRpb25zLmh0bWwjb3B0aW9ucy10by1jb250cm9sLXByb3RvdHlwZS1hY2Nlc3MgZm9yIGRldGFpbHMnKTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiByZXNldExvZ2dlZFByb3BlcnRpZXMoKSB7XG5cdCAgX09iamVjdCRrZXlzKGxvZ2dlZFByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5TmFtZSkge1xuXHQgICAgZGVsZXRlIGxvZ2dlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcblx0ICB9KTtcblx0fVxuXG4vKioqLyB9KSxcbi8qIDc0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9KSxcbi8qIDc1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcblx0ICByZXR1cm4gJC5jcmVhdGUoUCwgRCk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9PYmplY3QkY3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NClbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmNyZWF0ZU5ld0xvb2t1cE9iamVjdCA9IGNyZWF0ZU5ld0xvb2t1cE9iamVjdDtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHQvKipcblx0ICogQ3JlYXRlIGEgbmV3IG9iamVjdCB3aXRoIFwibnVsbFwiLXByb3RvdHlwZSB0byBhdm9pZCB0cnV0aHkgcmVzdWx0cyBvbiBwcm90b3R5cGUgcHJvcGVydGllcy5cblx0ICogVGhlIHJlc3VsdGluZyBvYmplY3QgY2FuIGJlIHVzZWQgd2l0aCBcIm9iamVjdFtwcm9wZXJ0eV1cIiB0byBjaGVjayBpZiBhIHByb3BlcnR5IGV4aXN0c1xuXHQgKiBAcGFyYW0gey4uLm9iamVjdH0gc291cmNlcyBhIHZhcmFyZ3MgcGFyYW1ldGVyIG9mIHNvdXJjZSBvYmplY3RzIHRoYXQgd2lsbCBiZSBtZXJnZWRcblx0ICogQHJldHVybnMge29iamVjdH1cblx0ICovXG5cblx0ZnVuY3Rpb24gY3JlYXRlTmV3TG9va3VwT2JqZWN0KCkge1xuXHQgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBzb3VyY2VzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblxuXHQgIHJldHVybiBfdXRpbHMuZXh0ZW5kLmFwcGx5KHVuZGVmaW5lZCwgW19PYmplY3QkY3JlYXRlKG51bGwpXS5jb25jYXQoc291cmNlcykpO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogNzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcblx0ICB0aGlzLnN0cmluZyA9IHN0cmluZztcblx0fVxuXG5cdFNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xuXHR9O1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNhZmVTdHJpbmc7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDc4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfT2JqZWN0JHNlYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KVsnZGVmYXVsdCddO1xuXG5cdHZhciBfT2JqZWN0JGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKVsnZGVmYXVsdCddO1xuXG5cdHZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oMylbJ2RlZmF1bHQnXTtcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSlbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmNoZWNrUmV2aXNpb24gPSBjaGVja1JldmlzaW9uO1xuXHRleHBvcnRzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG5cdGV4cG9ydHMud3JhcFByb2dyYW0gPSB3cmFwUHJvZ3JhbTtcblx0ZXhwb3J0cy5yZXNvbHZlUGFydGlhbCA9IHJlc29sdmVQYXJ0aWFsO1xuXHRleHBvcnRzLmludm9rZVBhcnRpYWwgPSBpbnZva2VQYXJ0aWFsO1xuXHRleHBvcnRzLm5vb3AgPSBub29wO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBVdGlscyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cblx0dmFyIF9leGNlcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBfZXhjZXB0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4Y2VwdGlvbik7XG5cblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHR2YXIgX2hlbHBlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuXHR2YXIgX2ludGVybmFsV3JhcEhlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXG5cdHZhciBfaW50ZXJuYWxQcm90b0FjY2VzcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpO1xuXG5cdGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG5cdCAgdmFyIGNvbXBpbGVyUmV2aXNpb24gPSBjb21waWxlckluZm8gJiYgY29tcGlsZXJJbmZvWzBdIHx8IDEsXG5cdCAgICAgIGN1cnJlbnRSZXZpc2lvbiA9IF9iYXNlLkNPTVBJTEVSX1JFVklTSU9OO1xuXG5cdCAgaWYgKGNvbXBpbGVyUmV2aXNpb24gPj0gX2Jhc2UuTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OICYmIGNvbXBpbGVyUmV2aXNpb24gPD0gX2Jhc2UuQ09NUElMRVJfUkVWSVNJT04pIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cblx0ICBpZiAoY29tcGlsZXJSZXZpc2lvbiA8IF9iYXNlLkxBU1RfQ09NUEFUSUJMRV9DT01QSUxFUl9SRVZJU0lPTikge1xuXHQgICAgdmFyIHJ1bnRpbWVWZXJzaW9ucyA9IF9iYXNlLlJFVklTSU9OX0NIQU5HRVNbY3VycmVudFJldmlzaW9uXSxcblx0ICAgICAgICBjb21waWxlclZlcnNpb25zID0gX2Jhc2UuUkVWSVNJT05fQ0hBTkdFU1tjb21waWxlclJldmlzaW9uXTtcblx0ICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICsgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgKyBydW50aW1lVmVyc2lvbnMgKyAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgKyBjb21waWxlclZlcnNpb25zICsgJykuJyk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIC8vIFVzZSB0aGUgZW1iZWRkZWQgdmVyc2lvbiBpbmZvIHNpbmNlIHRoZSBydW50aW1lIGRvZXNuJ3Qga25vdyBhYm91dCB0aGlzIHJldmlzaW9uIHlldFxuXHQgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ1RlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGEgbmV3ZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArICdQbGVhc2UgdXBkYXRlIHlvdXIgcnVudGltZSB0byBhIG5ld2VyIHZlcnNpb24gKCcgKyBjb21waWxlckluZm9bMV0gKyAnKS4nKTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMsIGVudikge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgaWYgKCFlbnYpIHtcblx0ICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdObyBlbnZpcm9ubWVudCBwYXNzZWQgdG8gdGVtcGxhdGUnKTtcblx0ICB9XG5cdCAgaWYgKCF0ZW1wbGF0ZVNwZWMgfHwgIXRlbXBsYXRlU3BlYy5tYWluKSB7XG5cdCAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICcgKyB0eXBlb2YgdGVtcGxhdGVTcGVjKTtcblx0ICB9XG5cblx0ICB0ZW1wbGF0ZVNwZWMubWFpbi5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWMubWFpbl9kO1xuXG5cdCAgLy8gTm90ZTogVXNpbmcgZW52LlZNIHJlZmVyZW5jZXMgcmF0aGVyIHRoYW4gbG9jYWwgdmFyIHJlZmVyZW5jZXMgdGhyb3VnaG91dCB0aGlzIHNlY3Rpb24gdG8gYWxsb3dcblx0ICAvLyBmb3IgZXh0ZXJuYWwgdXNlcnMgdG8gb3ZlcnJpZGUgdGhlc2UgYXMgcHNldWRvLXN1cHBvcnRlZCBBUElzLlxuXHQgIGVudi5WTS5jaGVja1JldmlzaW9uKHRlbXBsYXRlU3BlYy5jb21waWxlcik7XG5cblx0ICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcHJlY29tcGlsZWQgdGVtcGxhdGVzIHdpdGggY29tcGlsZXItdmVyc2lvbiA3ICg8NC4zLjApXG5cdCAgdmFyIHRlbXBsYXRlV2FzUHJlY29tcGlsZWRXaXRoQ29tcGlsZXJWNyA9IHRlbXBsYXRlU3BlYy5jb21waWxlciAmJiB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJbMF0gPT09IDc7XG5cblx0ICBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsV3JhcHBlcihwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG5cdCAgICBpZiAob3B0aW9ucy5oYXNoKSB7XG5cdCAgICAgIGNvbnRleHQgPSBVdGlscy5leHRlbmQoe30sIGNvbnRleHQsIG9wdGlvbnMuaGFzaCk7XG5cdCAgICAgIGlmIChvcHRpb25zLmlkcykge1xuXHQgICAgICAgIG9wdGlvbnMuaWRzWzBdID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcGFydGlhbCA9IGVudi5WTS5yZXNvbHZlUGFydGlhbC5jYWxsKHRoaXMsIHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpO1xuXG5cdCAgICB2YXIgZXh0ZW5kZWRPcHRpb25zID0gVXRpbHMuZXh0ZW5kKHt9LCBvcHRpb25zLCB7XG5cdCAgICAgIGhvb2tzOiB0aGlzLmhvb2tzLFxuXHQgICAgICBwcm90b0FjY2Vzc0NvbnRyb2w6IHRoaXMucHJvdG9BY2Nlc3NDb250cm9sXG5cdCAgICB9KTtcblxuXHQgICAgdmFyIHJlc3VsdCA9IGVudi5WTS5pbnZva2VQYXJ0aWFsLmNhbGwodGhpcywgcGFydGlhbCwgY29udGV4dCwgZXh0ZW5kZWRPcHRpb25zKTtcblxuXHQgICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG5cdCAgICAgIG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXSA9IGVudi5jb21waWxlKHBhcnRpYWwsIHRlbXBsYXRlU3BlYy5jb21waWxlck9wdGlvbnMsIGVudik7XG5cdCAgICAgIHJlc3VsdCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXShjb250ZXh0LCBleHRlbmRlZE9wdGlvbnMpO1xuXHQgICAgfVxuXHQgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG5cdCAgICAgIGlmIChvcHRpb25zLmluZGVudCkge1xuXHQgICAgICAgIHZhciBsaW5lcyA9IHJlc3VsdC5zcGxpdCgnXFxuJyk7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICAgIGlmICghbGluZXNbaV0gJiYgaSArIDEgPT09IGwpIHtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cblx0ICAgICAgICAgIGxpbmVzW2ldID0gb3B0aW9ucy5pbmRlbnQgKyBsaW5lc1tpXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmVzdWx0ID0gbGluZXMuam9pbignXFxuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdUaGUgcGFydGlhbCAnICsgb3B0aW9ucy5uYW1lICsgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJyk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgLy8gSnVzdCBhZGQgd2F0ZXJcblx0ICB2YXIgY29udGFpbmVyID0ge1xuXHQgICAgc3RyaWN0OiBmdW5jdGlvbiBzdHJpY3Qob2JqLCBuYW1lLCBsb2MpIHtcblx0ICAgICAgaWYgKCFvYmogfHwgIShuYW1lIGluIG9iaikpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnXCInICsgbmFtZSArICdcIiBub3QgZGVmaW5lZCBpbiAnICsgb2JqLCB7XG5cdCAgICAgICAgICBsb2M6IGxvY1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBjb250YWluZXIubG9va3VwUHJvcGVydHkob2JqLCBuYW1lKTtcblx0ICAgIH0sXG5cdCAgICBsb29rdXBQcm9wZXJ0eTogZnVuY3Rpb24gbG9va3VwUHJvcGVydHkocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuXHQgICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmIChfaW50ZXJuYWxQcm90b0FjY2Vzcy5yZXN1bHRJc0FsbG93ZWQocmVzdWx0LCBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sLCBwcm9wZXJ0eU5hbWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgfSxcblx0ICAgIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKGRlcHRocywgbmFtZSkge1xuXHQgICAgICB2YXIgbGVuID0gZGVwdGhzLmxlbmd0aDtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSBkZXB0aHNbaV0gJiYgY29udGFpbmVyLmxvb2t1cFByb3BlcnR5KGRlcHRoc1tpXSwgbmFtZSk7XG5cdCAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gZGVwdGhzW2ldW25hbWVdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGxhbWJkYTogZnVuY3Rpb24gbGFtYmRhKGN1cnJlbnQsIGNvbnRleHQpIHtcblx0ICAgICAgcmV0dXJuIHR5cGVvZiBjdXJyZW50ID09PSAnZnVuY3Rpb24nID8gY3VycmVudC5jYWxsKGNvbnRleHQpIDogY3VycmVudDtcblx0ICAgIH0sXG5cblx0ICAgIGVzY2FwZUV4cHJlc3Npb246IFV0aWxzLmVzY2FwZUV4cHJlc3Npb24sXG5cdCAgICBpbnZva2VQYXJ0aWFsOiBpbnZva2VQYXJ0aWFsV3JhcHBlcixcblxuXHQgICAgZm46IGZ1bmN0aW9uIGZuKGkpIHtcblx0ICAgICAgdmFyIHJldCA9IHRlbXBsYXRlU3BlY1tpXTtcblx0ICAgICAgcmV0LmRlY29yYXRvciA9IHRlbXBsYXRlU3BlY1tpICsgJ19kJ107XG5cdCAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9LFxuXG5cdCAgICBwcm9ncmFtczogW10sXG5cdCAgICBwcm9ncmFtOiBmdW5jdGlvbiBwcm9ncmFtKGksIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcblx0ICAgICAgdmFyIHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSxcblx0ICAgICAgICAgIGZuID0gdGhpcy5mbihpKTtcblx0ICAgICAgaWYgKGRhdGEgfHwgZGVwdGhzIHx8IGJsb2NrUGFyYW1zIHx8IGRlY2xhcmVkQmxvY2tQYXJhbXMpIHtcblx0ICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHdyYXBQcm9ncmFtKHRoaXMsIGksIGZuLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcblx0ICAgICAgfSBlbHNlIGlmICghcHJvZ3JhbVdyYXBwZXIpIHtcblx0ICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0gPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbik7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb2dyYW1XcmFwcGVyO1xuXHQgICAgfSxcblxuXHQgICAgZGF0YTogZnVuY3Rpb24gZGF0YSh2YWx1ZSwgZGVwdGgpIHtcblx0ICAgICAgd2hpbGUgKHZhbHVlICYmIGRlcHRoLS0pIHtcblx0ICAgICAgICB2YWx1ZSA9IHZhbHVlLl9wYXJlbnQ7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgfSxcblx0ICAgIG1lcmdlSWZOZWVkZWQ6IGZ1bmN0aW9uIG1lcmdlSWZOZWVkZWQocGFyYW0sIGNvbW1vbikge1xuXHQgICAgICB2YXIgb2JqID0gcGFyYW0gfHwgY29tbW9uO1xuXG5cdCAgICAgIGlmIChwYXJhbSAmJiBjb21tb24gJiYgcGFyYW0gIT09IGNvbW1vbikge1xuXHQgICAgICAgIG9iaiA9IFV0aWxzLmV4dGVuZCh7fSwgY29tbW9uLCBwYXJhbSk7XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gb2JqO1xuXHQgICAgfSxcblx0ICAgIC8vIEFuIGVtcHR5IG9iamVjdCB0byB1c2UgYXMgcmVwbGFjZW1lbnQgZm9yIG51bGwtY29udGV4dHNcblx0ICAgIG51bGxDb250ZXh0OiBfT2JqZWN0JHNlYWwoe30pLFxuXG5cdCAgICBub29wOiBlbnYuVk0ubm9vcCxcblx0ICAgIGNvbXBpbGVySW5mbzogdGVtcGxhdGVTcGVjLmNvbXBpbGVyXG5cdCAgfTtcblxuXHQgIGZ1bmN0aW9uIHJldChjb250ZXh0KSB7XG5cdCAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG5cdCAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YTtcblxuXHQgICAgcmV0Ll9zZXR1cChvcHRpb25zKTtcblx0ICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsICYmIHRlbXBsYXRlU3BlYy51c2VEYXRhKSB7XG5cdCAgICAgIGRhdGEgPSBpbml0RGF0YShjb250ZXh0LCBkYXRhKTtcblx0ICAgIH1cblx0ICAgIHZhciBkZXB0aHMgPSB1bmRlZmluZWQsXG5cdCAgICAgICAgYmxvY2tQYXJhbXMgPSB0ZW1wbGF0ZVNwZWMudXNlQmxvY2tQYXJhbXMgPyBbXSA6IHVuZGVmaW5lZDtcblx0ICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG5cdCAgICAgIGlmIChvcHRpb25zLmRlcHRocykge1xuXHQgICAgICAgIGRlcHRocyA9IGNvbnRleHQgIT0gb3B0aW9ucy5kZXB0aHNbMF0gPyBbY29udGV4dF0uY29uY2F0KG9wdGlvbnMuZGVwdGhzKSA6IG9wdGlvbnMuZGVwdGhzO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlcHRocyA9IFtjb250ZXh0XTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBtYWluKGNvbnRleHQgLyosIG9wdGlvbnMqLykge1xuXHQgICAgICByZXR1cm4gJycgKyB0ZW1wbGF0ZVNwZWMubWFpbihjb250YWluZXIsIGNvbnRleHQsIGNvbnRhaW5lci5oZWxwZXJzLCBjb250YWluZXIucGFydGlhbHMsIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuXHQgICAgfVxuXG5cdCAgICBtYWluID0gZXhlY3V0ZURlY29yYXRvcnModGVtcGxhdGVTcGVjLm1haW4sIG1haW4sIGNvbnRhaW5lciwgb3B0aW9ucy5kZXB0aHMgfHwgW10sIGRhdGEsIGJsb2NrUGFyYW1zKTtcblx0ICAgIHJldHVybiBtYWluKGNvbnRleHQsIG9wdGlvbnMpO1xuXHQgIH1cblxuXHQgIHJldC5pc1RvcCA9IHRydWU7XG5cblx0ICByZXQuX3NldHVwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0ICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG5cdCAgICAgIHZhciBtZXJnZWRIZWxwZXJzID0gVXRpbHMuZXh0ZW5kKHt9LCBlbnYuaGVscGVycywgb3B0aW9ucy5oZWxwZXJzKTtcblx0ICAgICAgd3JhcEhlbHBlcnNUb1Bhc3NMb29rdXBQcm9wZXJ0eShtZXJnZWRIZWxwZXJzLCBjb250YWluZXIpO1xuXHQgICAgICBjb250YWluZXIuaGVscGVycyA9IG1lcmdlZEhlbHBlcnM7XG5cblx0ICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsKSB7XG5cdCAgICAgICAgLy8gVXNlIG1lcmdlSWZOZWVkZWQgaGVyZSB0byBwcmV2ZW50IGNvbXBpbGluZyBnbG9iYWwgcGFydGlhbHMgbXVsdGlwbGUgdGltZXNcblx0ICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBjb250YWluZXIubWVyZ2VJZk5lZWRlZChvcHRpb25zLnBhcnRpYWxzLCBlbnYucGFydGlhbHMpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCB8fCB0ZW1wbGF0ZVNwZWMudXNlRGVjb3JhdG9ycykge1xuXHQgICAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gVXRpbHMuZXh0ZW5kKHt9LCBlbnYuZGVjb3JhdG9ycywgb3B0aW9ucy5kZWNvcmF0b3JzKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGNvbnRhaW5lci5ob29rcyA9IHt9O1xuXHQgICAgICBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sID0gX2ludGVybmFsUHJvdG9BY2Nlc3MuY3JlYXRlUHJvdG9BY2Nlc3NDb250cm9sKG9wdGlvbnMpO1xuXG5cdCAgICAgIHZhciBrZWVwSGVscGVySW5IZWxwZXJzID0gb3B0aW9ucy5hbGxvd0NhbGxzVG9IZWxwZXJNaXNzaW5nIHx8IHRlbXBsYXRlV2FzUHJlY29tcGlsZWRXaXRoQ29tcGlsZXJWNztcblx0ICAgICAgX2hlbHBlcnMubW92ZUhlbHBlclRvSG9va3MoY29udGFpbmVyLCAnaGVscGVyTWlzc2luZycsIGtlZXBIZWxwZXJJbkhlbHBlcnMpO1xuXHQgICAgICBfaGVscGVycy5tb3ZlSGVscGVyVG9Ib29rcyhjb250YWluZXIsICdibG9ja0hlbHBlck1pc3NpbmcnLCBrZWVwSGVscGVySW5IZWxwZXJzKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNvbnRhaW5lci5wcm90b0FjY2Vzc0NvbnRyb2wgPSBvcHRpb25zLnByb3RvQWNjZXNzQ29udHJvbDsgLy8gaW50ZXJuYWwgb3B0aW9uXG5cdCAgICAgIGNvbnRhaW5lci5oZWxwZXJzID0gb3B0aW9ucy5oZWxwZXJzO1xuXHQgICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcHRpb25zLnBhcnRpYWxzO1xuXHQgICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IG9wdGlvbnMuZGVjb3JhdG9ycztcblx0ICAgICAgY29udGFpbmVyLmhvb2tzID0gb3B0aW9ucy5ob29rcztcblx0ICAgIH1cblx0ICB9O1xuXG5cdCAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uIChpLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG5cdCAgICBpZiAodGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zICYmICFibG9ja1BhcmFtcykge1xuXHQgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnbXVzdCBwYXNzIGJsb2NrIHBhcmFtcycpO1xuXHQgICAgfVxuXHQgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMgJiYgIWRlcHRocykge1xuXHQgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnbXVzdCBwYXNzIHBhcmVudCBkZXB0aHMnKTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHdyYXBQcm9ncmFtKGNvbnRhaW5lciwgaSwgdGVtcGxhdGVTcGVjW2ldLCBkYXRhLCAwLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcblx0ICB9O1xuXHQgIHJldHVybiByZXQ7XG5cdH1cblxuXHRmdW5jdGlvbiB3cmFwUHJvZ3JhbShjb250YWluZXIsIGksIGZuLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG5cdCAgZnVuY3Rpb24gcHJvZyhjb250ZXh0KSB7XG5cdCAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG5cdCAgICB2YXIgY3VycmVudERlcHRocyA9IGRlcHRocztcblx0ICAgIGlmIChkZXB0aHMgJiYgY29udGV4dCAhPSBkZXB0aHNbMF0gJiYgIShjb250ZXh0ID09PSBjb250YWluZXIubnVsbENvbnRleHQgJiYgZGVwdGhzWzBdID09PSBudWxsKSkge1xuXHQgICAgICBjdXJyZW50RGVwdGhzID0gW2NvbnRleHRdLmNvbmNhdChkZXB0aHMpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gZm4oY29udGFpbmVyLCBjb250ZXh0LCBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLCBvcHRpb25zLmRhdGEgfHwgZGF0YSwgYmxvY2tQYXJhbXMgJiYgW29wdGlvbnMuYmxvY2tQYXJhbXNdLmNvbmNhdChibG9ja1BhcmFtcyksIGN1cnJlbnREZXB0aHMpO1xuXHQgIH1cblxuXHQgIHByb2cgPSBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKTtcblxuXHQgIHByb2cucHJvZ3JhbSA9IGk7XG5cdCAgcHJvZy5kZXB0aCA9IGRlcHRocyA/IGRlcHRocy5sZW5ndGggOiAwO1xuXHQgIHByb2cuYmxvY2tQYXJhbXMgPSBkZWNsYXJlZEJsb2NrUGFyYW1zIHx8IDA7XG5cdCAgcmV0dXJuIHByb2c7XG5cdH1cblxuXHQvKipcblx0ICogVGhpcyBpcyBjdXJyZW50bHkgcGFydCBvZiB0aGUgb2ZmaWNpYWwgQVBJLCB0aGVyZWZvcmUgaW1wbGVtZW50YXRpb24gZGV0YWlscyBzaG91bGQgbm90IGJlIGNoYW5nZWQuXG5cdCAqL1xuXG5cdGZ1bmN0aW9uIHJlc29sdmVQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcblx0ICBpZiAoIXBhcnRpYWwpIHtcblx0ICAgIGlmIChvcHRpb25zLm5hbWUgPT09ICdAcGFydGlhbC1ibG9jaycpIHtcblx0ICAgICAgcGFydGlhbCA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXTtcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKCFwYXJ0aWFsLmNhbGwgJiYgIW9wdGlvbnMubmFtZSkge1xuXHQgICAgLy8gVGhpcyBpcyBhIGR5bmFtaWMgcGFydGlhbCB0aGF0IHJldHVybmVkIGEgc3RyaW5nXG5cdCAgICBvcHRpb25zLm5hbWUgPSBwYXJ0aWFsO1xuXHQgICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbcGFydGlhbF07XG5cdCAgfVxuXHQgIHJldHVybiBwYXJ0aWFsO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW52b2tlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG5cdCAgLy8gVXNlIHRoZSBjdXJyZW50IGNsb3N1cmUgY29udGV4dCB0byBzYXZlIHRoZSBwYXJ0aWFsLWJsb2NrIGlmIHRoaXMgcGFydGlhbFxuXHQgIHZhciBjdXJyZW50UGFydGlhbEJsb2NrID0gb3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuXHQgIG9wdGlvbnMucGFydGlhbCA9IHRydWU7XG5cdCAgaWYgKG9wdGlvbnMuaWRzKSB7XG5cdCAgICBvcHRpb25zLmRhdGEuY29udGV4dFBhdGggPSBvcHRpb25zLmlkc1swXSB8fCBvcHRpb25zLmRhdGEuY29udGV4dFBhdGg7XG5cdCAgfVxuXG5cdCAgdmFyIHBhcnRpYWxCbG9jayA9IHVuZGVmaW5lZDtcblx0ICBpZiAob3B0aW9ucy5mbiAmJiBvcHRpb25zLmZuICE9PSBub29wKSB7XG5cdCAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICBvcHRpb25zLmRhdGEgPSBfYmFzZS5jcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuXHQgICAgICAvLyBXcmFwcGVyIGZ1bmN0aW9uIHRvIGdldCBhY2Nlc3MgdG8gY3VycmVudFBhcnRpYWxCbG9jayBmcm9tIHRoZSBjbG9zdXJlXG5cdCAgICAgIHZhciBmbiA9IG9wdGlvbnMuZm47XG5cdCAgICAgIHBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gZnVuY3Rpb24gcGFydGlhbEJsb2NrV3JhcHBlcihjb250ZXh0KSB7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblxuXHQgICAgICAgIC8vIFJlc3RvcmUgdGhlIHBhcnRpYWwtYmxvY2sgZnJvbSB0aGUgY2xvc3VyZSBmb3IgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgYmxvY2tcblx0ICAgICAgICAvLyBpLmUuIHRoZSBwYXJ0IGluc2lkZSB0aGUgYmxvY2sgb2YgdGhlIHBhcnRpYWwgY2FsbC5cblx0ICAgICAgICBvcHRpb25zLmRhdGEgPSBfYmFzZS5jcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuXHQgICAgICAgIG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gY3VycmVudFBhcnRpYWxCbG9jaztcblx0ICAgICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG5cdCAgICAgIH07XG5cdCAgICAgIGlmIChmbi5wYXJ0aWFscykge1xuXHQgICAgICAgIG9wdGlvbnMucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMucGFydGlhbHMsIGZuLnBhcnRpYWxzKTtcblx0ICAgICAgfVxuXHQgICAgfSkoKTtcblx0ICB9XG5cblx0ICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkICYmIHBhcnRpYWxCbG9jaykge1xuXHQgICAgcGFydGlhbCA9IHBhcnRpYWxCbG9jaztcblx0ICB9XG5cblx0ICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kJyk7XG5cdCAgfSBlbHNlIGlmIChwYXJ0aWFsIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcblx0ICAgIHJldHVybiBwYXJ0aWFsKGNvbnRleHQsIG9wdGlvbnMpO1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIG5vb3AoKSB7XG5cdCAgcmV0dXJuICcnO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdERhdGEoY29udGV4dCwgZGF0YSkge1xuXHQgIGlmICghZGF0YSB8fCAhKCdyb290JyBpbiBkYXRhKSkge1xuXHQgICAgZGF0YSA9IGRhdGEgPyBfYmFzZS5jcmVhdGVGcmFtZShkYXRhKSA6IHt9O1xuXHQgICAgZGF0YS5yb290ID0gY29udGV4dDtcblx0ICB9XG5cdCAgcmV0dXJuIGRhdGE7XG5cdH1cblxuXHRmdW5jdGlvbiBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKSB7XG5cdCAgaWYgKGZuLmRlY29yYXRvcikge1xuXHQgICAgdmFyIHByb3BzID0ge307XG5cdCAgICBwcm9nID0gZm4uZGVjb3JhdG9yKHByb2csIHByb3BzLCBjb250YWluZXIsIGRlcHRocyAmJiBkZXB0aHNbMF0sIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuXHQgICAgVXRpbHMuZXh0ZW5kKHByb2csIHByb3BzKTtcblx0ICB9XG5cdCAgcmV0dXJuIHByb2c7XG5cdH1cblxuXHRmdW5jdGlvbiB3cmFwSGVscGVyc1RvUGFzc0xvb2t1cFByb3BlcnR5KG1lcmdlZEhlbHBlcnMsIGNvbnRhaW5lcikge1xuXHQgIF9PYmplY3Qka2V5cyhtZXJnZWRIZWxwZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChoZWxwZXJOYW1lKSB7XG5cdCAgICB2YXIgaGVscGVyID0gbWVyZ2VkSGVscGVyc1toZWxwZXJOYW1lXTtcblx0ICAgIG1lcmdlZEhlbHBlcnNbaGVscGVyTmFtZV0gPSBwYXNzTG9va3VwUHJvcGVydHlPcHRpb24oaGVscGVyLCBjb250YWluZXIpO1xuXHQgIH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gcGFzc0xvb2t1cFByb3BlcnR5T3B0aW9uKGhlbHBlciwgY29udGFpbmVyKSB7XG5cdCAgdmFyIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5O1xuXHQgIHJldHVybiBfaW50ZXJuYWxXcmFwSGVscGVyLndyYXBIZWxwZXIoaGVscGVyLCBmdW5jdGlvbiAob3B0aW9ucykge1xuXHQgICAgcmV0dXJuIFV0aWxzLmV4dGVuZCh7IGxvb2t1cFByb3BlcnR5OiBsb29rdXBQcm9wZXJ0eSB9LCBvcHRpb25zKTtcblx0ICB9KTtcblx0fVxuXG4vKioqLyB9KSxcbi8qIDc5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9KSxcbi8qIDgwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSkuT2JqZWN0LnNlYWw7XG5cbi8qKiovIH0pLFxuLyogODEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuMTcgT2JqZWN0LnNlYWwoTylcblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2NCkoJ3NlYWwnLCBmdW5jdGlvbigkc2VhbCl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHNlYWwoaXQpe1xuXHQgICAgcmV0dXJuICRzZWFsICYmIGlzT2JqZWN0KGl0KSA/ICRzZWFsKGl0KSA6IGl0O1xuXHQgIH07XG5cdH0pO1xuXG4vKioqLyB9KSxcbi8qIDgyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMud3JhcEhlbHBlciA9IHdyYXBIZWxwZXI7XG5cblx0ZnVuY3Rpb24gd3JhcEhlbHBlcihoZWxwZXIsIHRyYW5zZm9ybU9wdGlvbnNGbikge1xuXHQgIGlmICh0eXBlb2YgaGVscGVyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgYXBwYXJlbnRseSBpdCBkb2VzIGluIGh0dHBzOi8vZ2l0aHViLmNvbS93eWNhdHMvaGFuZGxlYmFycy5qcy9pc3N1ZXMvMTYzOVxuXHQgICAgLy8gV2UgdHJ5IHRvIG1ha2UgdGhlIHdyYXBwZXIgbGVhc3QtaW52YXNpdmUgYnkgbm90IHdyYXBwaW5nIGl0LCBpZiB0aGUgaGVscGVyIGlzIG5vdCBhIGZ1bmN0aW9uLlxuXHQgICAgcmV0dXJuIGhlbHBlcjtcblx0ICB9XG5cdCAgdmFyIHdyYXBwZXIgPSBmdW5jdGlvbiB3cmFwcGVyKCkgLyogZHluYW1pYyBhcmd1bWVudHMgKi97XG5cdCAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG5cdCAgICBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdID0gdHJhbnNmb3JtT3B0aW9uc0ZuKG9wdGlvbnMpO1xuXHQgICAgcmV0dXJuIGhlbHBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdCAgcmV0dXJuIHdyYXBwZXI7XG5cdH1cblxuLyoqKi8gfSksXG4vKiA4MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIGdsb2JhbCBnbG9iYWxUaGlzICovXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChIYW5kbGViYXJzKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICAvLyBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvZ2xvYmFsdGhpc1xuXHQgIChmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm47XG5cdCAgICBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oJ19fbWFnaWNfXycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9KTtcblx0ICAgIF9fbWFnaWNfXy5nbG9iYWxUaGlzID0gX19tYWdpY19fOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cdCAgICBkZWxldGUgT2JqZWN0LnByb3RvdHlwZS5fX21hZ2ljX187XG5cdCAgfSkoKTtcblxuXHQgIHZhciAkSGFuZGxlYmFycyA9IGdsb2JhbFRoaXMuSGFuZGxlYmFycztcblxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgSGFuZGxlYmFycy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKGdsb2JhbFRoaXMuSGFuZGxlYmFycyA9PT0gSGFuZGxlYmFycykge1xuXHQgICAgICBnbG9iYWxUaGlzLkhhbmRsZWJhcnMgPSAkSGFuZGxlYmFycztcblx0ICAgIH1cblx0ICAgIHJldHVybiBIYW5kbGViYXJzO1xuXHQgIH07XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogODQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0dmFyIEFTVCA9IHtcblx0ICAvLyBQdWJsaWMgQVBJIHVzZWQgdG8gZXZhbHVhdGUgZGVyaXZlZCBhdHRyaWJ1dGVzIHJlZ2FyZGluZyBBU1Qgbm9kZXNcblx0ICBoZWxwZXJzOiB7XG5cdCAgICAvLyBhIG11c3RhY2hlIGlzIGRlZmluaXRlbHkgYSBoZWxwZXIgaWY6XG5cdCAgICAvLyAqIGl0IGlzIGFuIGVsaWdpYmxlIGhlbHBlciwgYW5kXG5cdCAgICAvLyAqIGl0IGhhcyBhdCBsZWFzdCBvbmUgcGFyYW1ldGVyIG9yIGhhc2ggc2VnbWVudFxuXHQgICAgaGVscGVyRXhwcmVzc2lvbjogZnVuY3Rpb24gaGVscGVyRXhwcmVzc2lvbihub2RlKSB7XG5cdCAgICAgIHJldHVybiBub2RlLnR5cGUgPT09ICdTdWJFeHByZXNzaW9uJyB8fCAobm9kZS50eXBlID09PSAnTXVzdGFjaGVTdGF0ZW1lbnQnIHx8IG5vZGUudHlwZSA9PT0gJ0Jsb2NrU3RhdGVtZW50JykgJiYgISEobm9kZS5wYXJhbXMgJiYgbm9kZS5wYXJhbXMubGVuZ3RoIHx8IG5vZGUuaGFzaCk7XG5cdCAgICB9LFxuXG5cdCAgICBzY29wZWRJZDogZnVuY3Rpb24gc2NvcGVkSWQocGF0aCkge1xuXHQgICAgICByZXR1cm4gKC9eXFwufHRoaXNcXGIvLnRlc3QocGF0aC5vcmlnaW5hbClcblx0ICAgICAgKTtcblx0ICAgIH0sXG5cblx0ICAgIC8vIGFuIElEIGlzIHNpbXBsZSBpZiBpdCBvbmx5IGhhcyBvbmUgcGFydCwgYW5kIHRoYXQgcGFydCBpcyBub3Rcblx0ICAgIC8vIGAuLmAgb3IgYHRoaXNgLlxuXHQgICAgc2ltcGxlSWQ6IGZ1bmN0aW9uIHNpbXBsZUlkKHBhdGgpIHtcblx0ICAgICAgcmV0dXJuIHBhdGgucGFydHMubGVuZ3RoID09PSAxICYmICFBU1QuaGVscGVycy5zY29wZWRJZChwYXRoKSAmJiAhcGF0aC5kZXB0aDtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cblx0Ly8gTXVzdCBiZSBleHBvcnRlZCBhcyBhbiBvYmplY3QgcmF0aGVyIHRoYW4gdGhlIHJvb3Qgb2YgdGhlIG1vZHVsZSBhcyB0aGUgamlzb24gbGV4ZXJcblx0Ly8gbXVzdCBtb2RpZnkgdGhlIG9iamVjdCB0byBvcGVyYXRlIHByb3Blcmx5LlxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBBU1Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDg1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVsnZGVmYXVsdCddO1xuXG5cdHZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oMylbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLnBhcnNlV2l0aG91dFByb2Nlc3NpbmcgPSBwYXJzZVdpdGhvdXRQcm9jZXNzaW5nO1xuXHRleHBvcnRzLnBhcnNlID0gcGFyc2U7XG5cblx0dmFyIF9wYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxuXHR2YXIgX3BhcnNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJzZXIpO1xuXG5cdHZhciBfd2hpdGVzcGFjZUNvbnRyb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcblxuXHR2YXIgX3doaXRlc3BhY2VDb250cm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3doaXRlc3BhY2VDb250cm9sKTtcblxuXHR2YXIgX2hlbHBlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcblxuXHR2YXIgSGVscGVycyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9oZWxwZXJzKTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHRleHBvcnRzLnBhcnNlciA9IF9wYXJzZXIyWydkZWZhdWx0J107XG5cblx0dmFyIHl5ID0ge307XG5cdF91dGlscy5leHRlbmQoeXksIEhlbHBlcnMpO1xuXG5cdGZ1bmN0aW9uIHBhcnNlV2l0aG91dFByb2Nlc3NpbmcoaW5wdXQsIG9wdGlvbnMpIHtcblx0ICAvLyBKdXN0IHJldHVybiBpZiBhbiBhbHJlYWR5LWNvbXBpbGVkIEFTVCB3YXMgcGFzc2VkIGluLlxuXHQgIGlmIChpbnB1dC50eXBlID09PSAnUHJvZ3JhbScpIHtcblx0ICAgIHJldHVybiBpbnB1dDtcblx0ICB9XG5cblx0ICBfcGFyc2VyMlsnZGVmYXVsdCddLnl5ID0geXk7XG5cblx0ICAvLyBBbHRlcmluZyB0aGUgc2hhcmVkIG9iamVjdCBoZXJlLCBidXQgdGhpcyBpcyBvayBhcyBwYXJzZXIgaXMgYSBzeW5jIG9wZXJhdGlvblxuXHQgIHl5LmxvY0luZm8gPSBmdW5jdGlvbiAobG9jSW5mbykge1xuXHQgICAgcmV0dXJuIG5ldyB5eS5Tb3VyY2VMb2NhdGlvbihvcHRpb25zICYmIG9wdGlvbnMuc3JjTmFtZSwgbG9jSW5mbyk7XG5cdCAgfTtcblxuXHQgIHZhciBhc3QgPSBfcGFyc2VyMlsnZGVmYXVsdCddLnBhcnNlKGlucHV0KTtcblxuXHQgIHJldHVybiBhc3Q7XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZShpbnB1dCwgb3B0aW9ucykge1xuXHQgIHZhciBhc3QgPSBwYXJzZVdpdGhvdXRQcm9jZXNzaW5nKGlucHV0LCBvcHRpb25zKTtcblx0ICB2YXIgc3RyaXAgPSBuZXcgX3doaXRlc3BhY2VDb250cm9sMlsnZGVmYXVsdCddKG9wdGlvbnMpO1xuXG5cdCAgcmV0dXJuIHN0cmlwLmFjY2VwdChhc3QpO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogODYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBGaWxlIGlnbm9yZWQgaW4gY292ZXJhZ2UgdGVzdHMgdmlhIHNldHRpbmcgaW4gLmlzdGFuYnVsLnltbFxuXHQvKiBKaXNvbiBnZW5lcmF0ZWQgcGFyc2VyICovXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdHZhciBoYW5kbGViYXJzID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBwYXJzZXIgPSB7IHRyYWNlOiBmdW5jdGlvbiB0cmFjZSgpIHt9LFxuXHQgICAgICAgIHl5OiB7fSxcblx0ICAgICAgICBzeW1ib2xzXzogeyBcImVycm9yXCI6IDIsIFwicm9vdFwiOiAzLCBcInByb2dyYW1cIjogNCwgXCJFT0ZcIjogNSwgXCJwcm9ncmFtX3JlcGV0aXRpb24wXCI6IDYsIFwic3RhdGVtZW50XCI6IDcsIFwibXVzdGFjaGVcIjogOCwgXCJibG9ja1wiOiA5LCBcInJhd0Jsb2NrXCI6IDEwLCBcInBhcnRpYWxcIjogMTEsIFwicGFydGlhbEJsb2NrXCI6IDEyLCBcImNvbnRlbnRcIjogMTMsIFwiQ09NTUVOVFwiOiAxNCwgXCJDT05URU5UXCI6IDE1LCBcIm9wZW5SYXdCbG9ja1wiOiAxNiwgXCJyYXdCbG9ja19yZXBldGl0aW9uMFwiOiAxNywgXCJFTkRfUkFXX0JMT0NLXCI6IDE4LCBcIk9QRU5fUkFXX0JMT0NLXCI6IDE5LCBcImhlbHBlck5hbWVcIjogMjAsIFwib3BlblJhd0Jsb2NrX3JlcGV0aXRpb24wXCI6IDIxLCBcIm9wZW5SYXdCbG9ja19vcHRpb24wXCI6IDIyLCBcIkNMT1NFX1JBV19CTE9DS1wiOiAyMywgXCJvcGVuQmxvY2tcIjogMjQsIFwiYmxvY2tfb3B0aW9uMFwiOiAyNSwgXCJjbG9zZUJsb2NrXCI6IDI2LCBcIm9wZW5JbnZlcnNlXCI6IDI3LCBcImJsb2NrX29wdGlvbjFcIjogMjgsIFwiT1BFTl9CTE9DS1wiOiAyOSwgXCJvcGVuQmxvY2tfcmVwZXRpdGlvbjBcIjogMzAsIFwib3BlbkJsb2NrX29wdGlvbjBcIjogMzEsIFwib3BlbkJsb2NrX29wdGlvbjFcIjogMzIsIFwiQ0xPU0VcIjogMzMsIFwiT1BFTl9JTlZFUlNFXCI6IDM0LCBcIm9wZW5JbnZlcnNlX3JlcGV0aXRpb24wXCI6IDM1LCBcIm9wZW5JbnZlcnNlX29wdGlvbjBcIjogMzYsIFwib3BlbkludmVyc2Vfb3B0aW9uMVwiOiAzNywgXCJvcGVuSW52ZXJzZUNoYWluXCI6IDM4LCBcIk9QRU5fSU5WRVJTRV9DSEFJTlwiOiAzOSwgXCJvcGVuSW52ZXJzZUNoYWluX3JlcGV0aXRpb24wXCI6IDQwLCBcIm9wZW5JbnZlcnNlQ2hhaW5fb3B0aW9uMFwiOiA0MSwgXCJvcGVuSW52ZXJzZUNoYWluX29wdGlvbjFcIjogNDIsIFwiaW52ZXJzZUFuZFByb2dyYW1cIjogNDMsIFwiSU5WRVJTRVwiOiA0NCwgXCJpbnZlcnNlQ2hhaW5cIjogNDUsIFwiaW52ZXJzZUNoYWluX29wdGlvbjBcIjogNDYsIFwiT1BFTl9FTkRCTE9DS1wiOiA0NywgXCJPUEVOXCI6IDQ4LCBcIm11c3RhY2hlX3JlcGV0aXRpb24wXCI6IDQ5LCBcIm11c3RhY2hlX29wdGlvbjBcIjogNTAsIFwiT1BFTl9VTkVTQ0FQRURcIjogNTEsIFwibXVzdGFjaGVfcmVwZXRpdGlvbjFcIjogNTIsIFwibXVzdGFjaGVfb3B0aW9uMVwiOiA1MywgXCJDTE9TRV9VTkVTQ0FQRURcIjogNTQsIFwiT1BFTl9QQVJUSUFMXCI6IDU1LCBcInBhcnRpYWxOYW1lXCI6IDU2LCBcInBhcnRpYWxfcmVwZXRpdGlvbjBcIjogNTcsIFwicGFydGlhbF9vcHRpb24wXCI6IDU4LCBcIm9wZW5QYXJ0aWFsQmxvY2tcIjogNTksIFwiT1BFTl9QQVJUSUFMX0JMT0NLXCI6IDYwLCBcIm9wZW5QYXJ0aWFsQmxvY2tfcmVwZXRpdGlvbjBcIjogNjEsIFwib3BlblBhcnRpYWxCbG9ja19vcHRpb24wXCI6IDYyLCBcInBhcmFtXCI6IDYzLCBcInNleHByXCI6IDY0LCBcIk9QRU5fU0VYUFJcIjogNjUsIFwic2V4cHJfcmVwZXRpdGlvbjBcIjogNjYsIFwic2V4cHJfb3B0aW9uMFwiOiA2NywgXCJDTE9TRV9TRVhQUlwiOiA2OCwgXCJoYXNoXCI6IDY5LCBcImhhc2hfcmVwZXRpdGlvbl9wbHVzMFwiOiA3MCwgXCJoYXNoU2VnbWVudFwiOiA3MSwgXCJJRFwiOiA3MiwgXCJFUVVBTFNcIjogNzMsIFwiYmxvY2tQYXJhbXNcIjogNzQsIFwiT1BFTl9CTE9DS19QQVJBTVNcIjogNzUsIFwiYmxvY2tQYXJhbXNfcmVwZXRpdGlvbl9wbHVzMFwiOiA3NiwgXCJDTE9TRV9CTE9DS19QQVJBTVNcIjogNzcsIFwicGF0aFwiOiA3OCwgXCJkYXRhTmFtZVwiOiA3OSwgXCJTVFJJTkdcIjogODAsIFwiTlVNQkVSXCI6IDgxLCBcIkJPT0xFQU5cIjogODIsIFwiVU5ERUZJTkVEXCI6IDgzLCBcIk5VTExcIjogODQsIFwiREFUQVwiOiA4NSwgXCJwYXRoU2VnbWVudHNcIjogODYsIFwiU0VQXCI6IDg3LCBcIiRhY2NlcHRcIjogMCwgXCIkZW5kXCI6IDEgfSxcblx0ICAgICAgICB0ZXJtaW5hbHNfOiB7IDI6IFwiZXJyb3JcIiwgNTogXCJFT0ZcIiwgMTQ6IFwiQ09NTUVOVFwiLCAxNTogXCJDT05URU5UXCIsIDE4OiBcIkVORF9SQVdfQkxPQ0tcIiwgMTk6IFwiT1BFTl9SQVdfQkxPQ0tcIiwgMjM6IFwiQ0xPU0VfUkFXX0JMT0NLXCIsIDI5OiBcIk9QRU5fQkxPQ0tcIiwgMzM6IFwiQ0xPU0VcIiwgMzQ6IFwiT1BFTl9JTlZFUlNFXCIsIDM5OiBcIk9QRU5fSU5WRVJTRV9DSEFJTlwiLCA0NDogXCJJTlZFUlNFXCIsIDQ3OiBcIk9QRU5fRU5EQkxPQ0tcIiwgNDg6IFwiT1BFTlwiLCA1MTogXCJPUEVOX1VORVNDQVBFRFwiLCA1NDogXCJDTE9TRV9VTkVTQ0FQRURcIiwgNTU6IFwiT1BFTl9QQVJUSUFMXCIsIDYwOiBcIk9QRU5fUEFSVElBTF9CTE9DS1wiLCA2NTogXCJPUEVOX1NFWFBSXCIsIDY4OiBcIkNMT1NFX1NFWFBSXCIsIDcyOiBcIklEXCIsIDczOiBcIkVRVUFMU1wiLCA3NTogXCJPUEVOX0JMT0NLX1BBUkFNU1wiLCA3NzogXCJDTE9TRV9CTE9DS19QQVJBTVNcIiwgODA6IFwiU1RSSU5HXCIsIDgxOiBcIk5VTUJFUlwiLCA4MjogXCJCT09MRUFOXCIsIDgzOiBcIlVOREVGSU5FRFwiLCA4NDogXCJOVUxMXCIsIDg1OiBcIkRBVEFcIiwgODc6IFwiU0VQXCIgfSxcblx0ICAgICAgICBwcm9kdWN0aW9uc186IFswLCBbMywgMl0sIFs0LCAxXSwgWzcsIDFdLCBbNywgMV0sIFs3LCAxXSwgWzcsIDFdLCBbNywgMV0sIFs3LCAxXSwgWzcsIDFdLCBbMTMsIDFdLCBbMTAsIDNdLCBbMTYsIDVdLCBbOSwgNF0sIFs5LCA0XSwgWzI0LCA2XSwgWzI3LCA2XSwgWzM4LCA2XSwgWzQzLCAyXSwgWzQ1LCAzXSwgWzQ1LCAxXSwgWzI2LCAzXSwgWzgsIDVdLCBbOCwgNV0sIFsxMSwgNV0sIFsxMiwgM10sIFs1OSwgNV0sIFs2MywgMV0sIFs2MywgMV0sIFs2NCwgNV0sIFs2OSwgMV0sIFs3MSwgM10sIFs3NCwgM10sIFsyMCwgMV0sIFsyMCwgMV0sIFsyMCwgMV0sIFsyMCwgMV0sIFsyMCwgMV0sIFsyMCwgMV0sIFsyMCwgMV0sIFs1NiwgMV0sIFs1NiwgMV0sIFs3OSwgMl0sIFs3OCwgMV0sIFs4NiwgM10sIFs4NiwgMV0sIFs2LCAwXSwgWzYsIDJdLCBbMTcsIDBdLCBbMTcsIDJdLCBbMjEsIDBdLCBbMjEsIDJdLCBbMjIsIDBdLCBbMjIsIDFdLCBbMjUsIDBdLCBbMjUsIDFdLCBbMjgsIDBdLCBbMjgsIDFdLCBbMzAsIDBdLCBbMzAsIDJdLCBbMzEsIDBdLCBbMzEsIDFdLCBbMzIsIDBdLCBbMzIsIDFdLCBbMzUsIDBdLCBbMzUsIDJdLCBbMzYsIDBdLCBbMzYsIDFdLCBbMzcsIDBdLCBbMzcsIDFdLCBbNDAsIDBdLCBbNDAsIDJdLCBbNDEsIDBdLCBbNDEsIDFdLCBbNDIsIDBdLCBbNDIsIDFdLCBbNDYsIDBdLCBbNDYsIDFdLCBbNDksIDBdLCBbNDksIDJdLCBbNTAsIDBdLCBbNTAsIDFdLCBbNTIsIDBdLCBbNTIsIDJdLCBbNTMsIDBdLCBbNTMsIDFdLCBbNTcsIDBdLCBbNTcsIDJdLCBbNTgsIDBdLCBbNTgsIDFdLCBbNjEsIDBdLCBbNjEsIDJdLCBbNjIsIDBdLCBbNjIsIDFdLCBbNjYsIDBdLCBbNjYsIDJdLCBbNjcsIDBdLCBbNjcsIDFdLCBbNzAsIDFdLCBbNzAsIDJdLCBbNzYsIDFdLCBbNzYsIDJdXSxcblx0ICAgICAgICBwZXJmb3JtQWN0aW9uOiBmdW5jdGlvbiBhbm9ueW1vdXMoeXl0ZXh0LCB5eWxlbmcsIHl5bGluZW5vLCB5eSwgeXlzdGF0ZSwgJCQsIF8kKSB7XG5cblx0ICAgICAgICAgICAgdmFyICQwID0gJCQubGVuZ3RoIC0gMTtcblx0ICAgICAgICAgICAgc3dpdGNoICh5eXN0YXRlKSB7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQkWyQwIC0gMV07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geXkucHJlcGFyZVByb2dyYW0oJCRbJDBdKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSAkJFskMF07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gJCRbJDBdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9ICQkWyQwXTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSAkJFskMF07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDc6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gJCRbJDBdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA4OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9ICQkWyQwXTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgOTpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdDb21tZW50U3RhdGVtZW50Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHl5LnN0cmlwQ29tbWVudCgkJFskMF0pLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcDogeXkuc3RyaXBGbGFncygkJFskMF0sICQkWyQwXSksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKVxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTA6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnQ29udGVudFN0YXRlbWVudCcsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsOiAkJFskMF0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAkJFskMF0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKVxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTE6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geXkucHJlcGFyZVJhd0Jsb2NrKCQkWyQwIC0gMl0sICQkWyQwIC0gMV0sICQkWyQwXSwgdGhpcy5fJCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDEyOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHsgcGF0aDogJCRbJDAgLSAzXSwgcGFyYW1zOiAkJFskMCAtIDJdLCBoYXNoOiAkJFskMCAtIDFdIH07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDEzOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHl5LnByZXBhcmVCbG9jaygkJFskMCAtIDNdLCAkJFskMCAtIDJdLCAkJFskMCAtIDFdLCAkJFskMF0sIGZhbHNlLCB0aGlzLl8kKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geXkucHJlcGFyZUJsb2NrKCQkWyQwIC0gM10sICQkWyQwIC0gMl0sICQkWyQwIC0gMV0sICQkWyQwXSwgdHJ1ZSwgdGhpcy5fJCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDE1OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHsgb3BlbjogJCRbJDAgLSA1XSwgcGF0aDogJCRbJDAgLSA0XSwgcGFyYW1zOiAkJFskMCAtIDNdLCBoYXNoOiAkJFskMCAtIDJdLCBibG9ja1BhcmFtczogJCRbJDAgLSAxXSwgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDAgLSA1XSwgJCRbJDBdKSB9O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAxNjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSB7IHBhdGg6ICQkWyQwIC0gNF0sIHBhcmFtczogJCRbJDAgLSAzXSwgaGFzaDogJCRbJDAgLSAyXSwgYmxvY2tQYXJhbXM6ICQkWyQwIC0gMV0sIHN0cmlwOiB5eS5zdHJpcEZsYWdzKCQkWyQwIC0gNV0sICQkWyQwXSkgfTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTc6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geyBwYXRoOiAkJFskMCAtIDRdLCBwYXJhbXM6ICQkWyQwIC0gM10sIGhhc2g6ICQkWyQwIC0gMl0sIGJsb2NrUGFyYW1zOiAkJFskMCAtIDFdLCBzdHJpcDogeXkuc3RyaXBGbGFncygkJFskMCAtIDVdLCAkJFskMF0pIH07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDE4OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHsgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDAgLSAxXSwgJCRbJDAgLSAxXSksIHByb2dyYW06ICQkWyQwXSB9O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAxOTpcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgaW52ZXJzZSA9IHl5LnByZXBhcmVCbG9jaygkJFskMCAtIDJdLCAkJFskMCAtIDFdLCAkJFskMF0sICQkWyQwXSwgZmFsc2UsIHRoaXMuXyQpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtID0geXkucHJlcGFyZVByb2dyYW0oW2ludmVyc2VdLCAkJFskMCAtIDFdLmxvYyk7XG5cdCAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbS5jaGFpbmVkID0gdHJ1ZTtcblxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHsgc3RyaXA6ICQkWyQwIC0gMl0uc3RyaXAsIHByb2dyYW06IHByb2dyYW0sIGNoYWluOiB0cnVlIH07XG5cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMjA6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gJCRbJDBdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAyMTpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSB7IHBhdGg6ICQkWyQwIC0gMV0sIHN0cmlwOiB5eS5zdHJpcEZsYWdzKCQkWyQwIC0gMl0sICQkWyQwXSkgfTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMjI6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geXkucHJlcGFyZU11c3RhY2hlKCQkWyQwIC0gM10sICQkWyQwIC0gMl0sICQkWyQwIC0gMV0sICQkWyQwIC0gNF0sIHl5LnN0cmlwRmxhZ3MoJCRbJDAgLSA0XSwgJCRbJDBdKSwgdGhpcy5fJCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDIzOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHl5LnByZXBhcmVNdXN0YWNoZSgkJFskMCAtIDNdLCAkJFskMCAtIDJdLCAkJFskMCAtIDFdLCAkJFskMCAtIDRdLCB5eS5zdHJpcEZsYWdzKCQkWyQwIC0gNF0sICQkWyQwXSksIHRoaXMuXyQpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAyNDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQYXJ0aWFsU3RhdGVtZW50Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJCRbJDAgLSAzXSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiAkJFskMCAtIDJdLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBoYXNoOiAkJFskMCAtIDFdLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnQ6ICcnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcDogeXkuc3RyaXBGbGFncygkJFskMCAtIDRdLCAkJFskMF0pLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBsb2M6IHl5LmxvY0luZm8odGhpcy5fJClcblx0ICAgICAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDI1OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHl5LnByZXBhcmVQYXJ0aWFsQmxvY2soJCRbJDAgLSAyXSwgJCRbJDAgLSAxXSwgJCRbJDBdLCB0aGlzLl8kKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMjY6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geyBwYXRoOiAkJFskMCAtIDNdLCBwYXJhbXM6ICQkWyQwIC0gMl0sIGhhc2g6ICQkWyQwIC0gMV0sIHN0cmlwOiB5eS5zdHJpcEZsYWdzKCQkWyQwIC0gNF0sICQkWyQwXSkgfTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMjc6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gJCRbJDBdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAyODpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSAkJFskMF07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDI5OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1N1YkV4cHJlc3Npb24nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAkJFskMCAtIDNdLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6ICQkWyQwIC0gMl0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGhhc2g6ICQkWyQwIC0gMV0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKVxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzA6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geyB0eXBlOiAnSGFzaCcsIHBhaXJzOiAkJFskMF0sIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKSB9O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAzMTpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSB7IHR5cGU6ICdIYXNoUGFpcicsIGtleTogeXkuaWQoJCRbJDAgLSAyXSksIHZhbHVlOiAkJFskMF0sIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKSB9O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAzMjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSB5eS5pZCgkJFskMCAtIDFdKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzM6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gJCRbJDBdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAzNDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSAkJFskMF07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDM1OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHsgdHlwZTogJ1N0cmluZ0xpdGVyYWwnLCB2YWx1ZTogJCRbJDBdLCBvcmlnaW5hbDogJCRbJDBdLCBsb2M6IHl5LmxvY0luZm8odGhpcy5fJCkgfTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzY6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geyB0eXBlOiAnTnVtYmVyTGl0ZXJhbCcsIHZhbHVlOiBOdW1iZXIoJCRbJDBdKSwgb3JpZ2luYWw6IE51bWJlcigkJFskMF0pLCBsb2M6IHl5LmxvY0luZm8odGhpcy5fJCkgfTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzc6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geyB0eXBlOiAnQm9vbGVhbkxpdGVyYWwnLCB2YWx1ZTogJCRbJDBdID09PSAndHJ1ZScsIG9yaWdpbmFsOiAkJFskMF0gPT09ICd0cnVlJywgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpIH07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDM4OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IHsgdHlwZTogJ1VuZGVmaW5lZExpdGVyYWwnLCBvcmlnaW5hbDogdW5kZWZpbmVkLCB2YWx1ZTogdW5kZWZpbmVkLCBsb2M6IHl5LmxvY0luZm8odGhpcy5fJCkgfTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzk6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geyB0eXBlOiAnTnVsbExpdGVyYWwnLCBvcmlnaW5hbDogbnVsbCwgdmFsdWU6IG51bGwsIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKSB9O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA0MDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSAkJFskMF07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDQxOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9ICQkWyQwXTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNDI6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geXkucHJlcGFyZVBhdGgodHJ1ZSwgJCRbJDBdLCB0aGlzLl8kKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNDM6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0geXkucHJlcGFyZVBhdGgoZmFsc2UsICQkWyQwXSwgdGhpcy5fJCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDQ0OlxuXHQgICAgICAgICAgICAgICAgICAgICQkWyQwIC0gMl0ucHVzaCh7IHBhcnQ6IHl5LmlkKCQkWyQwXSksIG9yaWdpbmFsOiAkJFskMF0sIHNlcGFyYXRvcjogJCRbJDAgLSAxXSB9KTt0aGlzLiQgPSAkJFskMCAtIDJdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA0NTpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSBbeyBwYXJ0OiB5eS5pZCgkJFskMF0pLCBvcmlnaW5hbDogJCRbJDBdIH1dO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA0Njpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSBbXTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNDc6XG5cdCAgICAgICAgICAgICAgICAgICAgJCRbJDAgLSAxXS5wdXNoKCQkWyQwXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDQ4OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IFtdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA0OTpcblx0ICAgICAgICAgICAgICAgICAgICAkJFskMCAtIDFdLnB1c2goJCRbJDBdKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNTA6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gW107XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDUxOlxuXHQgICAgICAgICAgICAgICAgICAgICQkWyQwIC0gMV0ucHVzaCgkJFskMF0pO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA1ODpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSBbXTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNTk6XG5cdCAgICAgICAgICAgICAgICAgICAgJCRbJDAgLSAxXS5wdXNoKCQkWyQwXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDY0OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IFtdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA2NTpcblx0ICAgICAgICAgICAgICAgICAgICAkJFskMCAtIDFdLnB1c2goJCRbJDBdKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNzA6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gW107XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDcxOlxuXHQgICAgICAgICAgICAgICAgICAgICQkWyQwIC0gMV0ucHVzaCgkJFskMF0pO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA3ODpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSBbXTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNzk6XG5cdCAgICAgICAgICAgICAgICAgICAgJCRbJDAgLSAxXS5wdXNoKCQkWyQwXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDgyOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IFtdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA4Mzpcblx0ICAgICAgICAgICAgICAgICAgICAkJFskMCAtIDFdLnB1c2goJCRbJDBdKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgODY6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gW107XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDg3OlxuXHQgICAgICAgICAgICAgICAgICAgICQkWyQwIC0gMV0ucHVzaCgkJFskMF0pO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA5MDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLiQgPSBbXTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgOTE6XG5cdCAgICAgICAgICAgICAgICAgICAgJCRbJDAgLSAxXS5wdXNoKCQkWyQwXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDk0OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuJCA9IFtdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA5NTpcblx0ICAgICAgICAgICAgICAgICAgICAkJFskMCAtIDFdLnB1c2goJCRbJDBdKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgOTg6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gWyQkWyQwXV07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDk5OlxuXHQgICAgICAgICAgICAgICAgICAgICQkWyQwIC0gMV0ucHVzaCgkJFskMF0pO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAxMDA6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy4kID0gWyQkWyQwXV07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDEwMTpcblx0ICAgICAgICAgICAgICAgICAgICAkJFskMCAtIDFdLnB1c2goJCRbJDBdKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdGFibGU6IFt7IDM6IDEsIDQ6IDIsIDU6IFsyLCA0Nl0sIDY6IDMsIDE0OiBbMiwgNDZdLCAxNTogWzIsIDQ2XSwgMTk6IFsyLCA0Nl0sIDI5OiBbMiwgNDZdLCAzNDogWzIsIDQ2XSwgNDg6IFsyLCA0Nl0sIDUxOiBbMiwgNDZdLCA1NTogWzIsIDQ2XSwgNjA6IFsyLCA0Nl0gfSwgeyAxOiBbM10gfSwgeyA1OiBbMSwgNF0gfSwgeyA1OiBbMiwgMl0sIDc6IDUsIDg6IDYsIDk6IDcsIDEwOiA4LCAxMTogOSwgMTI6IDEwLCAxMzogMTEsIDE0OiBbMSwgMTJdLCAxNTogWzEsIDIwXSwgMTY6IDE3LCAxOTogWzEsIDIzXSwgMjQ6IDE1LCAyNzogMTYsIDI5OiBbMSwgMjFdLCAzNDogWzEsIDIyXSwgMzk6IFsyLCAyXSwgNDQ6IFsyLCAyXSwgNDc6IFsyLCAyXSwgNDg6IFsxLCAxM10sIDUxOiBbMSwgMTRdLCA1NTogWzEsIDE4XSwgNTk6IDE5LCA2MDogWzEsIDI0XSB9LCB7IDE6IFsyLCAxXSB9LCB7IDU6IFsyLCA0N10sIDE0OiBbMiwgNDddLCAxNTogWzIsIDQ3XSwgMTk6IFsyLCA0N10sIDI5OiBbMiwgNDddLCAzNDogWzIsIDQ3XSwgMzk6IFsyLCA0N10sIDQ0OiBbMiwgNDddLCA0NzogWzIsIDQ3XSwgNDg6IFsyLCA0N10sIDUxOiBbMiwgNDddLCA1NTogWzIsIDQ3XSwgNjA6IFsyLCA0N10gfSwgeyA1OiBbMiwgM10sIDE0OiBbMiwgM10sIDE1OiBbMiwgM10sIDE5OiBbMiwgM10sIDI5OiBbMiwgM10sIDM0OiBbMiwgM10sIDM5OiBbMiwgM10sIDQ0OiBbMiwgM10sIDQ3OiBbMiwgM10sIDQ4OiBbMiwgM10sIDUxOiBbMiwgM10sIDU1OiBbMiwgM10sIDYwOiBbMiwgM10gfSwgeyA1OiBbMiwgNF0sIDE0OiBbMiwgNF0sIDE1OiBbMiwgNF0sIDE5OiBbMiwgNF0sIDI5OiBbMiwgNF0sIDM0OiBbMiwgNF0sIDM5OiBbMiwgNF0sIDQ0OiBbMiwgNF0sIDQ3OiBbMiwgNF0sIDQ4OiBbMiwgNF0sIDUxOiBbMiwgNF0sIDU1OiBbMiwgNF0sIDYwOiBbMiwgNF0gfSwgeyA1OiBbMiwgNV0sIDE0OiBbMiwgNV0sIDE1OiBbMiwgNV0sIDE5OiBbMiwgNV0sIDI5OiBbMiwgNV0sIDM0OiBbMiwgNV0sIDM5OiBbMiwgNV0sIDQ0OiBbMiwgNV0sIDQ3OiBbMiwgNV0sIDQ4OiBbMiwgNV0sIDUxOiBbMiwgNV0sIDU1OiBbMiwgNV0sIDYwOiBbMiwgNV0gfSwgeyA1OiBbMiwgNl0sIDE0OiBbMiwgNl0sIDE1OiBbMiwgNl0sIDE5OiBbMiwgNl0sIDI5OiBbMiwgNl0sIDM0OiBbMiwgNl0sIDM5OiBbMiwgNl0sIDQ0OiBbMiwgNl0sIDQ3OiBbMiwgNl0sIDQ4OiBbMiwgNl0sIDUxOiBbMiwgNl0sIDU1OiBbMiwgNl0sIDYwOiBbMiwgNl0gfSwgeyA1OiBbMiwgN10sIDE0OiBbMiwgN10sIDE1OiBbMiwgN10sIDE5OiBbMiwgN10sIDI5OiBbMiwgN10sIDM0OiBbMiwgN10sIDM5OiBbMiwgN10sIDQ0OiBbMiwgN10sIDQ3OiBbMiwgN10sIDQ4OiBbMiwgN10sIDUxOiBbMiwgN10sIDU1OiBbMiwgN10sIDYwOiBbMiwgN10gfSwgeyA1OiBbMiwgOF0sIDE0OiBbMiwgOF0sIDE1OiBbMiwgOF0sIDE5OiBbMiwgOF0sIDI5OiBbMiwgOF0sIDM0OiBbMiwgOF0sIDM5OiBbMiwgOF0sIDQ0OiBbMiwgOF0sIDQ3OiBbMiwgOF0sIDQ4OiBbMiwgOF0sIDUxOiBbMiwgOF0sIDU1OiBbMiwgOF0sIDYwOiBbMiwgOF0gfSwgeyA1OiBbMiwgOV0sIDE0OiBbMiwgOV0sIDE1OiBbMiwgOV0sIDE5OiBbMiwgOV0sIDI5OiBbMiwgOV0sIDM0OiBbMiwgOV0sIDM5OiBbMiwgOV0sIDQ0OiBbMiwgOV0sIDQ3OiBbMiwgOV0sIDQ4OiBbMiwgOV0sIDUxOiBbMiwgOV0sIDU1OiBbMiwgOV0sIDYwOiBbMiwgOV0gfSwgeyAyMDogMjUsIDcyOiBbMSwgMzVdLCA3ODogMjYsIDc5OiAyNywgODA6IFsxLCAyOF0sIDgxOiBbMSwgMjldLCA4MjogWzEsIDMwXSwgODM6IFsxLCAzMV0sIDg0OiBbMSwgMzJdLCA4NTogWzEsIDM0XSwgODY6IDMzIH0sIHsgMjA6IDM2LCA3MjogWzEsIDM1XSwgNzg6IDI2LCA3OTogMjcsIDgwOiBbMSwgMjhdLCA4MTogWzEsIDI5XSwgODI6IFsxLCAzMF0sIDgzOiBbMSwgMzFdLCA4NDogWzEsIDMyXSwgODU6IFsxLCAzNF0sIDg2OiAzMyB9LCB7IDQ6IDM3LCA2OiAzLCAxNDogWzIsIDQ2XSwgMTU6IFsyLCA0Nl0sIDE5OiBbMiwgNDZdLCAyOTogWzIsIDQ2XSwgMzQ6IFsyLCA0Nl0sIDM5OiBbMiwgNDZdLCA0NDogWzIsIDQ2XSwgNDc6IFsyLCA0Nl0sIDQ4OiBbMiwgNDZdLCA1MTogWzIsIDQ2XSwgNTU6IFsyLCA0Nl0sIDYwOiBbMiwgNDZdIH0sIHsgNDogMzgsIDY6IDMsIDE0OiBbMiwgNDZdLCAxNTogWzIsIDQ2XSwgMTk6IFsyLCA0Nl0sIDI5OiBbMiwgNDZdLCAzNDogWzIsIDQ2XSwgNDQ6IFsyLCA0Nl0sIDQ3OiBbMiwgNDZdLCA0ODogWzIsIDQ2XSwgNTE6IFsyLCA0Nl0sIDU1OiBbMiwgNDZdLCA2MDogWzIsIDQ2XSB9LCB7IDE1OiBbMiwgNDhdLCAxNzogMzksIDE4OiBbMiwgNDhdIH0sIHsgMjA6IDQxLCA1NjogNDAsIDY0OiA0MiwgNjU6IFsxLCA0M10sIDcyOiBbMSwgMzVdLCA3ODogMjYsIDc5OiAyNywgODA6IFsxLCAyOF0sIDgxOiBbMSwgMjldLCA4MjogWzEsIDMwXSwgODM6IFsxLCAzMV0sIDg0OiBbMSwgMzJdLCA4NTogWzEsIDM0XSwgODY6IDMzIH0sIHsgNDogNDQsIDY6IDMsIDE0OiBbMiwgNDZdLCAxNTogWzIsIDQ2XSwgMTk6IFsyLCA0Nl0sIDI5OiBbMiwgNDZdLCAzNDogWzIsIDQ2XSwgNDc6IFsyLCA0Nl0sIDQ4OiBbMiwgNDZdLCA1MTogWzIsIDQ2XSwgNTU6IFsyLCA0Nl0sIDYwOiBbMiwgNDZdIH0sIHsgNTogWzIsIDEwXSwgMTQ6IFsyLCAxMF0sIDE1OiBbMiwgMTBdLCAxODogWzIsIDEwXSwgMTk6IFsyLCAxMF0sIDI5OiBbMiwgMTBdLCAzNDogWzIsIDEwXSwgMzk6IFsyLCAxMF0sIDQ0OiBbMiwgMTBdLCA0NzogWzIsIDEwXSwgNDg6IFsyLCAxMF0sIDUxOiBbMiwgMTBdLCA1NTogWzIsIDEwXSwgNjA6IFsyLCAxMF0gfSwgeyAyMDogNDUsIDcyOiBbMSwgMzVdLCA3ODogMjYsIDc5OiAyNywgODA6IFsxLCAyOF0sIDgxOiBbMSwgMjldLCA4MjogWzEsIDMwXSwgODM6IFsxLCAzMV0sIDg0OiBbMSwgMzJdLCA4NTogWzEsIDM0XSwgODY6IDMzIH0sIHsgMjA6IDQ2LCA3MjogWzEsIDM1XSwgNzg6IDI2LCA3OTogMjcsIDgwOiBbMSwgMjhdLCA4MTogWzEsIDI5XSwgODI6IFsxLCAzMF0sIDgzOiBbMSwgMzFdLCA4NDogWzEsIDMyXSwgODU6IFsxLCAzNF0sIDg2OiAzMyB9LCB7IDIwOiA0NywgNzI6IFsxLCAzNV0sIDc4OiAyNiwgNzk6IDI3LCA4MDogWzEsIDI4XSwgODE6IFsxLCAyOV0sIDgyOiBbMSwgMzBdLCA4MzogWzEsIDMxXSwgODQ6IFsxLCAzMl0sIDg1OiBbMSwgMzRdLCA4NjogMzMgfSwgeyAyMDogNDEsIDU2OiA0OCwgNjQ6IDQyLCA2NTogWzEsIDQzXSwgNzI6IFsxLCAzNV0sIDc4OiAyNiwgNzk6IDI3LCA4MDogWzEsIDI4XSwgODE6IFsxLCAyOV0sIDgyOiBbMSwgMzBdLCA4MzogWzEsIDMxXSwgODQ6IFsxLCAzMl0sIDg1OiBbMSwgMzRdLCA4NjogMzMgfSwgeyAzMzogWzIsIDc4XSwgNDk6IDQ5LCA2NTogWzIsIDc4XSwgNzI6IFsyLCA3OF0sIDgwOiBbMiwgNzhdLCA4MTogWzIsIDc4XSwgODI6IFsyLCA3OF0sIDgzOiBbMiwgNzhdLCA4NDogWzIsIDc4XSwgODU6IFsyLCA3OF0gfSwgeyAyMzogWzIsIDMzXSwgMzM6IFsyLCAzM10sIDU0OiBbMiwgMzNdLCA2NTogWzIsIDMzXSwgNjg6IFsyLCAzM10sIDcyOiBbMiwgMzNdLCA3NTogWzIsIDMzXSwgODA6IFsyLCAzM10sIDgxOiBbMiwgMzNdLCA4MjogWzIsIDMzXSwgODM6IFsyLCAzM10sIDg0OiBbMiwgMzNdLCA4NTogWzIsIDMzXSB9LCB7IDIzOiBbMiwgMzRdLCAzMzogWzIsIDM0XSwgNTQ6IFsyLCAzNF0sIDY1OiBbMiwgMzRdLCA2ODogWzIsIDM0XSwgNzI6IFsyLCAzNF0sIDc1OiBbMiwgMzRdLCA4MDogWzIsIDM0XSwgODE6IFsyLCAzNF0sIDgyOiBbMiwgMzRdLCA4MzogWzIsIDM0XSwgODQ6IFsyLCAzNF0sIDg1OiBbMiwgMzRdIH0sIHsgMjM6IFsyLCAzNV0sIDMzOiBbMiwgMzVdLCA1NDogWzIsIDM1XSwgNjU6IFsyLCAzNV0sIDY4OiBbMiwgMzVdLCA3MjogWzIsIDM1XSwgNzU6IFsyLCAzNV0sIDgwOiBbMiwgMzVdLCA4MTogWzIsIDM1XSwgODI6IFsyLCAzNV0sIDgzOiBbMiwgMzVdLCA4NDogWzIsIDM1XSwgODU6IFsyLCAzNV0gfSwgeyAyMzogWzIsIDM2XSwgMzM6IFsyLCAzNl0sIDU0OiBbMiwgMzZdLCA2NTogWzIsIDM2XSwgNjg6IFsyLCAzNl0sIDcyOiBbMiwgMzZdLCA3NTogWzIsIDM2XSwgODA6IFsyLCAzNl0sIDgxOiBbMiwgMzZdLCA4MjogWzIsIDM2XSwgODM6IFsyLCAzNl0sIDg0OiBbMiwgMzZdLCA4NTogWzIsIDM2XSB9LCB7IDIzOiBbMiwgMzddLCAzMzogWzIsIDM3XSwgNTQ6IFsyLCAzN10sIDY1OiBbMiwgMzddLCA2ODogWzIsIDM3XSwgNzI6IFsyLCAzN10sIDc1OiBbMiwgMzddLCA4MDogWzIsIDM3XSwgODE6IFsyLCAzN10sIDgyOiBbMiwgMzddLCA4MzogWzIsIDM3XSwgODQ6IFsyLCAzN10sIDg1OiBbMiwgMzddIH0sIHsgMjM6IFsyLCAzOF0sIDMzOiBbMiwgMzhdLCA1NDogWzIsIDM4XSwgNjU6IFsyLCAzOF0sIDY4OiBbMiwgMzhdLCA3MjogWzIsIDM4XSwgNzU6IFsyLCAzOF0sIDgwOiBbMiwgMzhdLCA4MTogWzIsIDM4XSwgODI6IFsyLCAzOF0sIDgzOiBbMiwgMzhdLCA4NDogWzIsIDM4XSwgODU6IFsyLCAzOF0gfSwgeyAyMzogWzIsIDM5XSwgMzM6IFsyLCAzOV0sIDU0OiBbMiwgMzldLCA2NTogWzIsIDM5XSwgNjg6IFsyLCAzOV0sIDcyOiBbMiwgMzldLCA3NTogWzIsIDM5XSwgODA6IFsyLCAzOV0sIDgxOiBbMiwgMzldLCA4MjogWzIsIDM5XSwgODM6IFsyLCAzOV0sIDg0OiBbMiwgMzldLCA4NTogWzIsIDM5XSB9LCB7IDIzOiBbMiwgNDNdLCAzMzogWzIsIDQzXSwgNTQ6IFsyLCA0M10sIDY1OiBbMiwgNDNdLCA2ODogWzIsIDQzXSwgNzI6IFsyLCA0M10sIDc1OiBbMiwgNDNdLCA4MDogWzIsIDQzXSwgODE6IFsyLCA0M10sIDgyOiBbMiwgNDNdLCA4MzogWzIsIDQzXSwgODQ6IFsyLCA0M10sIDg1OiBbMiwgNDNdLCA4NzogWzEsIDUwXSB9LCB7IDcyOiBbMSwgMzVdLCA4NjogNTEgfSwgeyAyMzogWzIsIDQ1XSwgMzM6IFsyLCA0NV0sIDU0OiBbMiwgNDVdLCA2NTogWzIsIDQ1XSwgNjg6IFsyLCA0NV0sIDcyOiBbMiwgNDVdLCA3NTogWzIsIDQ1XSwgODA6IFsyLCA0NV0sIDgxOiBbMiwgNDVdLCA4MjogWzIsIDQ1XSwgODM6IFsyLCA0NV0sIDg0OiBbMiwgNDVdLCA4NTogWzIsIDQ1XSwgODc6IFsyLCA0NV0gfSwgeyA1MjogNTIsIDU0OiBbMiwgODJdLCA2NTogWzIsIDgyXSwgNzI6IFsyLCA4Ml0sIDgwOiBbMiwgODJdLCA4MTogWzIsIDgyXSwgODI6IFsyLCA4Ml0sIDgzOiBbMiwgODJdLCA4NDogWzIsIDgyXSwgODU6IFsyLCA4Ml0gfSwgeyAyNTogNTMsIDM4OiA1NSwgMzk6IFsxLCA1N10sIDQzOiA1NiwgNDQ6IFsxLCA1OF0sIDQ1OiA1NCwgNDc6IFsyLCA1NF0gfSwgeyAyODogNTksIDQzOiA2MCwgNDQ6IFsxLCA1OF0sIDQ3OiBbMiwgNTZdIH0sIHsgMTM6IDYyLCAxNTogWzEsIDIwXSwgMTg6IFsxLCA2MV0gfSwgeyAzMzogWzIsIDg2XSwgNTc6IDYzLCA2NTogWzIsIDg2XSwgNzI6IFsyLCA4Nl0sIDgwOiBbMiwgODZdLCA4MTogWzIsIDg2XSwgODI6IFsyLCA4Nl0sIDgzOiBbMiwgODZdLCA4NDogWzIsIDg2XSwgODU6IFsyLCA4Nl0gfSwgeyAzMzogWzIsIDQwXSwgNjU6IFsyLCA0MF0sIDcyOiBbMiwgNDBdLCA4MDogWzIsIDQwXSwgODE6IFsyLCA0MF0sIDgyOiBbMiwgNDBdLCA4MzogWzIsIDQwXSwgODQ6IFsyLCA0MF0sIDg1OiBbMiwgNDBdIH0sIHsgMzM6IFsyLCA0MV0sIDY1OiBbMiwgNDFdLCA3MjogWzIsIDQxXSwgODA6IFsyLCA0MV0sIDgxOiBbMiwgNDFdLCA4MjogWzIsIDQxXSwgODM6IFsyLCA0MV0sIDg0OiBbMiwgNDFdLCA4NTogWzIsIDQxXSB9LCB7IDIwOiA2NCwgNzI6IFsxLCAzNV0sIDc4OiAyNiwgNzk6IDI3LCA4MDogWzEsIDI4XSwgODE6IFsxLCAyOV0sIDgyOiBbMSwgMzBdLCA4MzogWzEsIDMxXSwgODQ6IFsxLCAzMl0sIDg1OiBbMSwgMzRdLCA4NjogMzMgfSwgeyAyNjogNjUsIDQ3OiBbMSwgNjZdIH0sIHsgMzA6IDY3LCAzMzogWzIsIDU4XSwgNjU6IFsyLCA1OF0sIDcyOiBbMiwgNThdLCA3NTogWzIsIDU4XSwgODA6IFsyLCA1OF0sIDgxOiBbMiwgNThdLCA4MjogWzIsIDU4XSwgODM6IFsyLCA1OF0sIDg0OiBbMiwgNThdLCA4NTogWzIsIDU4XSB9LCB7IDMzOiBbMiwgNjRdLCAzNTogNjgsIDY1OiBbMiwgNjRdLCA3MjogWzIsIDY0XSwgNzU6IFsyLCA2NF0sIDgwOiBbMiwgNjRdLCA4MTogWzIsIDY0XSwgODI6IFsyLCA2NF0sIDgzOiBbMiwgNjRdLCA4NDogWzIsIDY0XSwgODU6IFsyLCA2NF0gfSwgeyAyMTogNjksIDIzOiBbMiwgNTBdLCA2NTogWzIsIDUwXSwgNzI6IFsyLCA1MF0sIDgwOiBbMiwgNTBdLCA4MTogWzIsIDUwXSwgODI6IFsyLCA1MF0sIDgzOiBbMiwgNTBdLCA4NDogWzIsIDUwXSwgODU6IFsyLCA1MF0gfSwgeyAzMzogWzIsIDkwXSwgNjE6IDcwLCA2NTogWzIsIDkwXSwgNzI6IFsyLCA5MF0sIDgwOiBbMiwgOTBdLCA4MTogWzIsIDkwXSwgODI6IFsyLCA5MF0sIDgzOiBbMiwgOTBdLCA4NDogWzIsIDkwXSwgODU6IFsyLCA5MF0gfSwgeyAyMDogNzQsIDMzOiBbMiwgODBdLCA1MDogNzEsIDYzOiA3MiwgNjQ6IDc1LCA2NTogWzEsIDQzXSwgNjk6IDczLCA3MDogNzYsIDcxOiA3NywgNzI6IFsxLCA3OF0sIDc4OiAyNiwgNzk6IDI3LCA4MDogWzEsIDI4XSwgODE6IFsxLCAyOV0sIDgyOiBbMSwgMzBdLCA4MzogWzEsIDMxXSwgODQ6IFsxLCAzMl0sIDg1OiBbMSwgMzRdLCA4NjogMzMgfSwgeyA3MjogWzEsIDc5XSB9LCB7IDIzOiBbMiwgNDJdLCAzMzogWzIsIDQyXSwgNTQ6IFsyLCA0Ml0sIDY1OiBbMiwgNDJdLCA2ODogWzIsIDQyXSwgNzI6IFsyLCA0Ml0sIDc1OiBbMiwgNDJdLCA4MDogWzIsIDQyXSwgODE6IFsyLCA0Ml0sIDgyOiBbMiwgNDJdLCA4MzogWzIsIDQyXSwgODQ6IFsyLCA0Ml0sIDg1OiBbMiwgNDJdLCA4NzogWzEsIDUwXSB9LCB7IDIwOiA3NCwgNTM6IDgwLCA1NDogWzIsIDg0XSwgNjM6IDgxLCA2NDogNzUsIDY1OiBbMSwgNDNdLCA2OTogODIsIDcwOiA3NiwgNzE6IDc3LCA3MjogWzEsIDc4XSwgNzg6IDI2LCA3OTogMjcsIDgwOiBbMSwgMjhdLCA4MTogWzEsIDI5XSwgODI6IFsxLCAzMF0sIDgzOiBbMSwgMzFdLCA4NDogWzEsIDMyXSwgODU6IFsxLCAzNF0sIDg2OiAzMyB9LCB7IDI2OiA4MywgNDc6IFsxLCA2Nl0gfSwgeyA0NzogWzIsIDU1XSB9LCB7IDQ6IDg0LCA2OiAzLCAxNDogWzIsIDQ2XSwgMTU6IFsyLCA0Nl0sIDE5OiBbMiwgNDZdLCAyOTogWzIsIDQ2XSwgMzQ6IFsyLCA0Nl0sIDM5OiBbMiwgNDZdLCA0NDogWzIsIDQ2XSwgNDc6IFsyLCA0Nl0sIDQ4OiBbMiwgNDZdLCA1MTogWzIsIDQ2XSwgNTU6IFsyLCA0Nl0sIDYwOiBbMiwgNDZdIH0sIHsgNDc6IFsyLCAyMF0gfSwgeyAyMDogODUsIDcyOiBbMSwgMzVdLCA3ODogMjYsIDc5OiAyNywgODA6IFsxLCAyOF0sIDgxOiBbMSwgMjldLCA4MjogWzEsIDMwXSwgODM6IFsxLCAzMV0sIDg0OiBbMSwgMzJdLCA4NTogWzEsIDM0XSwgODY6IDMzIH0sIHsgNDogODYsIDY6IDMsIDE0OiBbMiwgNDZdLCAxNTogWzIsIDQ2XSwgMTk6IFsyLCA0Nl0sIDI5OiBbMiwgNDZdLCAzNDogWzIsIDQ2XSwgNDc6IFsyLCA0Nl0sIDQ4OiBbMiwgNDZdLCA1MTogWzIsIDQ2XSwgNTU6IFsyLCA0Nl0sIDYwOiBbMiwgNDZdIH0sIHsgMjY6IDg3LCA0NzogWzEsIDY2XSB9LCB7IDQ3OiBbMiwgNTddIH0sIHsgNTogWzIsIDExXSwgMTQ6IFsyLCAxMV0sIDE1OiBbMiwgMTFdLCAxOTogWzIsIDExXSwgMjk6IFsyLCAxMV0sIDM0OiBbMiwgMTFdLCAzOTogWzIsIDExXSwgNDQ6IFsyLCAxMV0sIDQ3OiBbMiwgMTFdLCA0ODogWzIsIDExXSwgNTE6IFsyLCAxMV0sIDU1OiBbMiwgMTFdLCA2MDogWzIsIDExXSB9LCB7IDE1OiBbMiwgNDldLCAxODogWzIsIDQ5XSB9LCB7IDIwOiA3NCwgMzM6IFsyLCA4OF0sIDU4OiA4OCwgNjM6IDg5LCA2NDogNzUsIDY1OiBbMSwgNDNdLCA2OTogOTAsIDcwOiA3NiwgNzE6IDc3LCA3MjogWzEsIDc4XSwgNzg6IDI2LCA3OTogMjcsIDgwOiBbMSwgMjhdLCA4MTogWzEsIDI5XSwgODI6IFsxLCAzMF0sIDgzOiBbMSwgMzFdLCA4NDogWzEsIDMyXSwgODU6IFsxLCAzNF0sIDg2OiAzMyB9LCB7IDY1OiBbMiwgOTRdLCA2NjogOTEsIDY4OiBbMiwgOTRdLCA3MjogWzIsIDk0XSwgODA6IFsyLCA5NF0sIDgxOiBbMiwgOTRdLCA4MjogWzIsIDk0XSwgODM6IFsyLCA5NF0sIDg0OiBbMiwgOTRdLCA4NTogWzIsIDk0XSB9LCB7IDU6IFsyLCAyNV0sIDE0OiBbMiwgMjVdLCAxNTogWzIsIDI1XSwgMTk6IFsyLCAyNV0sIDI5OiBbMiwgMjVdLCAzNDogWzIsIDI1XSwgMzk6IFsyLCAyNV0sIDQ0OiBbMiwgMjVdLCA0NzogWzIsIDI1XSwgNDg6IFsyLCAyNV0sIDUxOiBbMiwgMjVdLCA1NTogWzIsIDI1XSwgNjA6IFsyLCAyNV0gfSwgeyAyMDogOTIsIDcyOiBbMSwgMzVdLCA3ODogMjYsIDc5OiAyNywgODA6IFsxLCAyOF0sIDgxOiBbMSwgMjldLCA4MjogWzEsIDMwXSwgODM6IFsxLCAzMV0sIDg0OiBbMSwgMzJdLCA4NTogWzEsIDM0XSwgODY6IDMzIH0sIHsgMjA6IDc0LCAzMTogOTMsIDMzOiBbMiwgNjBdLCA2MzogOTQsIDY0OiA3NSwgNjU6IFsxLCA0M10sIDY5OiA5NSwgNzA6IDc2LCA3MTogNzcsIDcyOiBbMSwgNzhdLCA3NTogWzIsIDYwXSwgNzg6IDI2LCA3OTogMjcsIDgwOiBbMSwgMjhdLCA4MTogWzEsIDI5XSwgODI6IFsxLCAzMF0sIDgzOiBbMSwgMzFdLCA4NDogWzEsIDMyXSwgODU6IFsxLCAzNF0sIDg2OiAzMyB9LCB7IDIwOiA3NCwgMzM6IFsyLCA2Nl0sIDM2OiA5NiwgNjM6IDk3LCA2NDogNzUsIDY1OiBbMSwgNDNdLCA2OTogOTgsIDcwOiA3NiwgNzE6IDc3LCA3MjogWzEsIDc4XSwgNzU6IFsyLCA2Nl0sIDc4OiAyNiwgNzk6IDI3LCA4MDogWzEsIDI4XSwgODE6IFsxLCAyOV0sIDgyOiBbMSwgMzBdLCA4MzogWzEsIDMxXSwgODQ6IFsxLCAzMl0sIDg1OiBbMSwgMzRdLCA4NjogMzMgfSwgeyAyMDogNzQsIDIyOiA5OSwgMjM6IFsyLCA1Ml0sIDYzOiAxMDAsIDY0OiA3NSwgNjU6IFsxLCA0M10sIDY5OiAxMDEsIDcwOiA3NiwgNzE6IDc3LCA3MjogWzEsIDc4XSwgNzg6IDI2LCA3OTogMjcsIDgwOiBbMSwgMjhdLCA4MTogWzEsIDI5XSwgODI6IFsxLCAzMF0sIDgzOiBbMSwgMzFdLCA4NDogWzEsIDMyXSwgODU6IFsxLCAzNF0sIDg2OiAzMyB9LCB7IDIwOiA3NCwgMzM6IFsyLCA5Ml0sIDYyOiAxMDIsIDYzOiAxMDMsIDY0OiA3NSwgNjU6IFsxLCA0M10sIDY5OiAxMDQsIDcwOiA3NiwgNzE6IDc3LCA3MjogWzEsIDc4XSwgNzg6IDI2LCA3OTogMjcsIDgwOiBbMSwgMjhdLCA4MTogWzEsIDI5XSwgODI6IFsxLCAzMF0sIDgzOiBbMSwgMzFdLCA4NDogWzEsIDMyXSwgODU6IFsxLCAzNF0sIDg2OiAzMyB9LCB7IDMzOiBbMSwgMTA1XSB9LCB7IDMzOiBbMiwgNzldLCA2NTogWzIsIDc5XSwgNzI6IFsyLCA3OV0sIDgwOiBbMiwgNzldLCA4MTogWzIsIDc5XSwgODI6IFsyLCA3OV0sIDgzOiBbMiwgNzldLCA4NDogWzIsIDc5XSwgODU6IFsyLCA3OV0gfSwgeyAzMzogWzIsIDgxXSB9LCB7IDIzOiBbMiwgMjddLCAzMzogWzIsIDI3XSwgNTQ6IFsyLCAyN10sIDY1OiBbMiwgMjddLCA2ODogWzIsIDI3XSwgNzI6IFsyLCAyN10sIDc1OiBbMiwgMjddLCA4MDogWzIsIDI3XSwgODE6IFsyLCAyN10sIDgyOiBbMiwgMjddLCA4MzogWzIsIDI3XSwgODQ6IFsyLCAyN10sIDg1OiBbMiwgMjddIH0sIHsgMjM6IFsyLCAyOF0sIDMzOiBbMiwgMjhdLCA1NDogWzIsIDI4XSwgNjU6IFsyLCAyOF0sIDY4OiBbMiwgMjhdLCA3MjogWzIsIDI4XSwgNzU6IFsyLCAyOF0sIDgwOiBbMiwgMjhdLCA4MTogWzIsIDI4XSwgODI6IFsyLCAyOF0sIDgzOiBbMiwgMjhdLCA4NDogWzIsIDI4XSwgODU6IFsyLCAyOF0gfSwgeyAyMzogWzIsIDMwXSwgMzM6IFsyLCAzMF0sIDU0OiBbMiwgMzBdLCA2ODogWzIsIDMwXSwgNzE6IDEwNiwgNzI6IFsxLCAxMDddLCA3NTogWzIsIDMwXSB9LCB7IDIzOiBbMiwgOThdLCAzMzogWzIsIDk4XSwgNTQ6IFsyLCA5OF0sIDY4OiBbMiwgOThdLCA3MjogWzIsIDk4XSwgNzU6IFsyLCA5OF0gfSwgeyAyMzogWzIsIDQ1XSwgMzM6IFsyLCA0NV0sIDU0OiBbMiwgNDVdLCA2NTogWzIsIDQ1XSwgNjg6IFsyLCA0NV0sIDcyOiBbMiwgNDVdLCA3MzogWzEsIDEwOF0sIDc1OiBbMiwgNDVdLCA4MDogWzIsIDQ1XSwgODE6IFsyLCA0NV0sIDgyOiBbMiwgNDVdLCA4MzogWzIsIDQ1XSwgODQ6IFsyLCA0NV0sIDg1OiBbMiwgNDVdLCA4NzogWzIsIDQ1XSB9LCB7IDIzOiBbMiwgNDRdLCAzMzogWzIsIDQ0XSwgNTQ6IFsyLCA0NF0sIDY1OiBbMiwgNDRdLCA2ODogWzIsIDQ0XSwgNzI6IFsyLCA0NF0sIDc1OiBbMiwgNDRdLCA4MDogWzIsIDQ0XSwgODE6IFsyLCA0NF0sIDgyOiBbMiwgNDRdLCA4MzogWzIsIDQ0XSwgODQ6IFsyLCA0NF0sIDg1OiBbMiwgNDRdLCA4NzogWzIsIDQ0XSB9LCB7IDU0OiBbMSwgMTA5XSB9LCB7IDU0OiBbMiwgODNdLCA2NTogWzIsIDgzXSwgNzI6IFsyLCA4M10sIDgwOiBbMiwgODNdLCA4MTogWzIsIDgzXSwgODI6IFsyLCA4M10sIDgzOiBbMiwgODNdLCA4NDogWzIsIDgzXSwgODU6IFsyLCA4M10gfSwgeyA1NDogWzIsIDg1XSB9LCB7IDU6IFsyLCAxM10sIDE0OiBbMiwgMTNdLCAxNTogWzIsIDEzXSwgMTk6IFsyLCAxM10sIDI5OiBbMiwgMTNdLCAzNDogWzIsIDEzXSwgMzk6IFsyLCAxM10sIDQ0OiBbMiwgMTNdLCA0NzogWzIsIDEzXSwgNDg6IFsyLCAxM10sIDUxOiBbMiwgMTNdLCA1NTogWzIsIDEzXSwgNjA6IFsyLCAxM10gfSwgeyAzODogNTUsIDM5OiBbMSwgNTddLCA0MzogNTYsIDQ0OiBbMSwgNThdLCA0NTogMTExLCA0NjogMTEwLCA0NzogWzIsIDc2XSB9LCB7IDMzOiBbMiwgNzBdLCA0MDogMTEyLCA2NTogWzIsIDcwXSwgNzI6IFsyLCA3MF0sIDc1OiBbMiwgNzBdLCA4MDogWzIsIDcwXSwgODE6IFsyLCA3MF0sIDgyOiBbMiwgNzBdLCA4MzogWzIsIDcwXSwgODQ6IFsyLCA3MF0sIDg1OiBbMiwgNzBdIH0sIHsgNDc6IFsyLCAxOF0gfSwgeyA1OiBbMiwgMTRdLCAxNDogWzIsIDE0XSwgMTU6IFsyLCAxNF0sIDE5OiBbMiwgMTRdLCAyOTogWzIsIDE0XSwgMzQ6IFsyLCAxNF0sIDM5OiBbMiwgMTRdLCA0NDogWzIsIDE0XSwgNDc6IFsyLCAxNF0sIDQ4OiBbMiwgMTRdLCA1MTogWzIsIDE0XSwgNTU6IFsyLCAxNF0sIDYwOiBbMiwgMTRdIH0sIHsgMzM6IFsxLCAxMTNdIH0sIHsgMzM6IFsyLCA4N10sIDY1OiBbMiwgODddLCA3MjogWzIsIDg3XSwgODA6IFsyLCA4N10sIDgxOiBbMiwgODddLCA4MjogWzIsIDg3XSwgODM6IFsyLCA4N10sIDg0OiBbMiwgODddLCA4NTogWzIsIDg3XSB9LCB7IDMzOiBbMiwgODldIH0sIHsgMjA6IDc0LCA2MzogMTE1LCA2NDogNzUsIDY1OiBbMSwgNDNdLCA2NzogMTE0LCA2ODogWzIsIDk2XSwgNjk6IDExNiwgNzA6IDc2LCA3MTogNzcsIDcyOiBbMSwgNzhdLCA3ODogMjYsIDc5OiAyNywgODA6IFsxLCAyOF0sIDgxOiBbMSwgMjldLCA4MjogWzEsIDMwXSwgODM6IFsxLCAzMV0sIDg0OiBbMSwgMzJdLCA4NTogWzEsIDM0XSwgODY6IDMzIH0sIHsgMzM6IFsxLCAxMTddIH0sIHsgMzI6IDExOCwgMzM6IFsyLCA2Ml0sIDc0OiAxMTksIDc1OiBbMSwgMTIwXSB9LCB7IDMzOiBbMiwgNTldLCA2NTogWzIsIDU5XSwgNzI6IFsyLCA1OV0sIDc1OiBbMiwgNTldLCA4MDogWzIsIDU5XSwgODE6IFsyLCA1OV0sIDgyOiBbMiwgNTldLCA4MzogWzIsIDU5XSwgODQ6IFsyLCA1OV0sIDg1OiBbMiwgNTldIH0sIHsgMzM6IFsyLCA2MV0sIDc1OiBbMiwgNjFdIH0sIHsgMzM6IFsyLCA2OF0sIDM3OiAxMjEsIDc0OiAxMjIsIDc1OiBbMSwgMTIwXSB9LCB7IDMzOiBbMiwgNjVdLCA2NTogWzIsIDY1XSwgNzI6IFsyLCA2NV0sIDc1OiBbMiwgNjVdLCA4MDogWzIsIDY1XSwgODE6IFsyLCA2NV0sIDgyOiBbMiwgNjVdLCA4MzogWzIsIDY1XSwgODQ6IFsyLCA2NV0sIDg1OiBbMiwgNjVdIH0sIHsgMzM6IFsyLCA2N10sIDc1OiBbMiwgNjddIH0sIHsgMjM6IFsxLCAxMjNdIH0sIHsgMjM6IFsyLCA1MV0sIDY1OiBbMiwgNTFdLCA3MjogWzIsIDUxXSwgODA6IFsyLCA1MV0sIDgxOiBbMiwgNTFdLCA4MjogWzIsIDUxXSwgODM6IFsyLCA1MV0sIDg0OiBbMiwgNTFdLCA4NTogWzIsIDUxXSB9LCB7IDIzOiBbMiwgNTNdIH0sIHsgMzM6IFsxLCAxMjRdIH0sIHsgMzM6IFsyLCA5MV0sIDY1OiBbMiwgOTFdLCA3MjogWzIsIDkxXSwgODA6IFsyLCA5MV0sIDgxOiBbMiwgOTFdLCA4MjogWzIsIDkxXSwgODM6IFsyLCA5MV0sIDg0OiBbMiwgOTFdLCA4NTogWzIsIDkxXSB9LCB7IDMzOiBbMiwgOTNdIH0sIHsgNTogWzIsIDIyXSwgMTQ6IFsyLCAyMl0sIDE1OiBbMiwgMjJdLCAxOTogWzIsIDIyXSwgMjk6IFsyLCAyMl0sIDM0OiBbMiwgMjJdLCAzOTogWzIsIDIyXSwgNDQ6IFsyLCAyMl0sIDQ3OiBbMiwgMjJdLCA0ODogWzIsIDIyXSwgNTE6IFsyLCAyMl0sIDU1OiBbMiwgMjJdLCA2MDogWzIsIDIyXSB9LCB7IDIzOiBbMiwgOTldLCAzMzogWzIsIDk5XSwgNTQ6IFsyLCA5OV0sIDY4OiBbMiwgOTldLCA3MjogWzIsIDk5XSwgNzU6IFsyLCA5OV0gfSwgeyA3MzogWzEsIDEwOF0gfSwgeyAyMDogNzQsIDYzOiAxMjUsIDY0OiA3NSwgNjU6IFsxLCA0M10sIDcyOiBbMSwgMzVdLCA3ODogMjYsIDc5OiAyNywgODA6IFsxLCAyOF0sIDgxOiBbMSwgMjldLCA4MjogWzEsIDMwXSwgODM6IFsxLCAzMV0sIDg0OiBbMSwgMzJdLCA4NTogWzEsIDM0XSwgODY6IDMzIH0sIHsgNTogWzIsIDIzXSwgMTQ6IFsyLCAyM10sIDE1OiBbMiwgMjNdLCAxOTogWzIsIDIzXSwgMjk6IFsyLCAyM10sIDM0OiBbMiwgMjNdLCAzOTogWzIsIDIzXSwgNDQ6IFsyLCAyM10sIDQ3OiBbMiwgMjNdLCA0ODogWzIsIDIzXSwgNTE6IFsyLCAyM10sIDU1OiBbMiwgMjNdLCA2MDogWzIsIDIzXSB9LCB7IDQ3OiBbMiwgMTldIH0sIHsgNDc6IFsyLCA3N10gfSwgeyAyMDogNzQsIDMzOiBbMiwgNzJdLCA0MTogMTI2LCA2MzogMTI3LCA2NDogNzUsIDY1OiBbMSwgNDNdLCA2OTogMTI4LCA3MDogNzYsIDcxOiA3NywgNzI6IFsxLCA3OF0sIDc1OiBbMiwgNzJdLCA3ODogMjYsIDc5OiAyNywgODA6IFsxLCAyOF0sIDgxOiBbMSwgMjldLCA4MjogWzEsIDMwXSwgODM6IFsxLCAzMV0sIDg0OiBbMSwgMzJdLCA4NTogWzEsIDM0XSwgODY6IDMzIH0sIHsgNTogWzIsIDI0XSwgMTQ6IFsyLCAyNF0sIDE1OiBbMiwgMjRdLCAxOTogWzIsIDI0XSwgMjk6IFsyLCAyNF0sIDM0OiBbMiwgMjRdLCAzOTogWzIsIDI0XSwgNDQ6IFsyLCAyNF0sIDQ3OiBbMiwgMjRdLCA0ODogWzIsIDI0XSwgNTE6IFsyLCAyNF0sIDU1OiBbMiwgMjRdLCA2MDogWzIsIDI0XSB9LCB7IDY4OiBbMSwgMTI5XSB9LCB7IDY1OiBbMiwgOTVdLCA2ODogWzIsIDk1XSwgNzI6IFsyLCA5NV0sIDgwOiBbMiwgOTVdLCA4MTogWzIsIDk1XSwgODI6IFsyLCA5NV0sIDgzOiBbMiwgOTVdLCA4NDogWzIsIDk1XSwgODU6IFsyLCA5NV0gfSwgeyA2ODogWzIsIDk3XSB9LCB7IDU6IFsyLCAyMV0sIDE0OiBbMiwgMjFdLCAxNTogWzIsIDIxXSwgMTk6IFsyLCAyMV0sIDI5OiBbMiwgMjFdLCAzNDogWzIsIDIxXSwgMzk6IFsyLCAyMV0sIDQ0OiBbMiwgMjFdLCA0NzogWzIsIDIxXSwgNDg6IFsyLCAyMV0sIDUxOiBbMiwgMjFdLCA1NTogWzIsIDIxXSwgNjA6IFsyLCAyMV0gfSwgeyAzMzogWzEsIDEzMF0gfSwgeyAzMzogWzIsIDYzXSB9LCB7IDcyOiBbMSwgMTMyXSwgNzY6IDEzMSB9LCB7IDMzOiBbMSwgMTMzXSB9LCB7IDMzOiBbMiwgNjldIH0sIHsgMTU6IFsyLCAxMl0sIDE4OiBbMiwgMTJdIH0sIHsgMTQ6IFsyLCAyNl0sIDE1OiBbMiwgMjZdLCAxOTogWzIsIDI2XSwgMjk6IFsyLCAyNl0sIDM0OiBbMiwgMjZdLCA0NzogWzIsIDI2XSwgNDg6IFsyLCAyNl0sIDUxOiBbMiwgMjZdLCA1NTogWzIsIDI2XSwgNjA6IFsyLCAyNl0gfSwgeyAyMzogWzIsIDMxXSwgMzM6IFsyLCAzMV0sIDU0OiBbMiwgMzFdLCA2ODogWzIsIDMxXSwgNzI6IFsyLCAzMV0sIDc1OiBbMiwgMzFdIH0sIHsgMzM6IFsyLCA3NF0sIDQyOiAxMzQsIDc0OiAxMzUsIDc1OiBbMSwgMTIwXSB9LCB7IDMzOiBbMiwgNzFdLCA2NTogWzIsIDcxXSwgNzI6IFsyLCA3MV0sIDc1OiBbMiwgNzFdLCA4MDogWzIsIDcxXSwgODE6IFsyLCA3MV0sIDgyOiBbMiwgNzFdLCA4MzogWzIsIDcxXSwgODQ6IFsyLCA3MV0sIDg1OiBbMiwgNzFdIH0sIHsgMzM6IFsyLCA3M10sIDc1OiBbMiwgNzNdIH0sIHsgMjM6IFsyLCAyOV0sIDMzOiBbMiwgMjldLCA1NDogWzIsIDI5XSwgNjU6IFsyLCAyOV0sIDY4OiBbMiwgMjldLCA3MjogWzIsIDI5XSwgNzU6IFsyLCAyOV0sIDgwOiBbMiwgMjldLCA4MTogWzIsIDI5XSwgODI6IFsyLCAyOV0sIDgzOiBbMiwgMjldLCA4NDogWzIsIDI5XSwgODU6IFsyLCAyOV0gfSwgeyAxNDogWzIsIDE1XSwgMTU6IFsyLCAxNV0sIDE5OiBbMiwgMTVdLCAyOTogWzIsIDE1XSwgMzQ6IFsyLCAxNV0sIDM5OiBbMiwgMTVdLCA0NDogWzIsIDE1XSwgNDc6IFsyLCAxNV0sIDQ4OiBbMiwgMTVdLCA1MTogWzIsIDE1XSwgNTU6IFsyLCAxNV0sIDYwOiBbMiwgMTVdIH0sIHsgNzI6IFsxLCAxMzddLCA3NzogWzEsIDEzNl0gfSwgeyA3MjogWzIsIDEwMF0sIDc3OiBbMiwgMTAwXSB9LCB7IDE0OiBbMiwgMTZdLCAxNTogWzIsIDE2XSwgMTk6IFsyLCAxNl0sIDI5OiBbMiwgMTZdLCAzNDogWzIsIDE2XSwgNDQ6IFsyLCAxNl0sIDQ3OiBbMiwgMTZdLCA0ODogWzIsIDE2XSwgNTE6IFsyLCAxNl0sIDU1OiBbMiwgMTZdLCA2MDogWzIsIDE2XSB9LCB7IDMzOiBbMSwgMTM4XSB9LCB7IDMzOiBbMiwgNzVdIH0sIHsgMzM6IFsyLCAzMl0gfSwgeyA3MjogWzIsIDEwMV0sIDc3OiBbMiwgMTAxXSB9LCB7IDE0OiBbMiwgMTddLCAxNTogWzIsIDE3XSwgMTk6IFsyLCAxN10sIDI5OiBbMiwgMTddLCAzNDogWzIsIDE3XSwgMzk6IFsyLCAxN10sIDQ0OiBbMiwgMTddLCA0NzogWzIsIDE3XSwgNDg6IFsyLCAxN10sIDUxOiBbMiwgMTddLCA1NTogWzIsIDE3XSwgNjA6IFsyLCAxN10gfV0sXG5cdCAgICAgICAgZGVmYXVsdEFjdGlvbnM6IHsgNDogWzIsIDFdLCA1NDogWzIsIDU1XSwgNTY6IFsyLCAyMF0sIDYwOiBbMiwgNTddLCA3MzogWzIsIDgxXSwgODI6IFsyLCA4NV0sIDg2OiBbMiwgMThdLCA5MDogWzIsIDg5XSwgMTAxOiBbMiwgNTNdLCAxMDQ6IFsyLCA5M10sIDExMDogWzIsIDE5XSwgMTExOiBbMiwgNzddLCAxMTY6IFsyLCA5N10sIDExOTogWzIsIDYzXSwgMTIyOiBbMiwgNjldLCAxMzU6IFsyLCA3NV0sIDEzNjogWzIsIDMyXSB9LFxuXHQgICAgICAgIHBhcnNlRXJyb3I6IGZ1bmN0aW9uIHBhcnNlRXJyb3Ioc3RyLCBoYXNoKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihzdHIpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7XG5cdCAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgIHN0YWNrID0gWzBdLFxuXHQgICAgICAgICAgICAgICAgdnN0YWNrID0gW251bGxdLFxuXHQgICAgICAgICAgICAgICAgbHN0YWNrID0gW10sXG5cdCAgICAgICAgICAgICAgICB0YWJsZSA9IHRoaXMudGFibGUsXG5cdCAgICAgICAgICAgICAgICB5eXRleHQgPSBcIlwiLFxuXHQgICAgICAgICAgICAgICAgeXlsaW5lbm8gPSAwLFxuXHQgICAgICAgICAgICAgICAgeXlsZW5nID0gMCxcblx0ICAgICAgICAgICAgICAgIHJlY292ZXJpbmcgPSAwLFxuXHQgICAgICAgICAgICAgICAgVEVSUk9SID0gMixcblx0ICAgICAgICAgICAgICAgIEVPRiA9IDE7XG5cdCAgICAgICAgICAgIHRoaXMubGV4ZXIuc2V0SW5wdXQoaW5wdXQpO1xuXHQgICAgICAgICAgICB0aGlzLmxleGVyLnl5ID0gdGhpcy55eTtcblx0ICAgICAgICAgICAgdGhpcy55eS5sZXhlciA9IHRoaXMubGV4ZXI7XG5cdCAgICAgICAgICAgIHRoaXMueXkucGFyc2VyID0gdGhpcztcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmxleGVyLnl5bGxvYyA9PSBcInVuZGVmaW5lZFwiKSB0aGlzLmxleGVyLnl5bGxvYyA9IHt9O1xuXHQgICAgICAgICAgICB2YXIgeXlsb2MgPSB0aGlzLmxleGVyLnl5bGxvYztcblx0ICAgICAgICAgICAgbHN0YWNrLnB1c2goeXlsb2MpO1xuXHQgICAgICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5sZXhlci5vcHRpb25zICYmIHRoaXMubGV4ZXIub3B0aW9ucy5yYW5nZXM7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy55eS5wYXJzZUVycm9yID09PSBcImZ1bmN0aW9uXCIpIHRoaXMucGFyc2VFcnJvciA9IHRoaXMueXkucGFyc2VFcnJvcjtcblx0ICAgICAgICAgICAgZnVuY3Rpb24gcG9wU3RhY2sobikge1xuXHQgICAgICAgICAgICAgICAgc3RhY2subGVuZ3RoID0gc3RhY2subGVuZ3RoIC0gMiAqIG47XG5cdCAgICAgICAgICAgICAgICB2c3RhY2subGVuZ3RoID0gdnN0YWNrLmxlbmd0aCAtIG47XG5cdCAgICAgICAgICAgICAgICBsc3RhY2subGVuZ3RoID0gbHN0YWNrLmxlbmd0aCAtIG47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZnVuY3Rpb24gbGV4KCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHRva2VuO1xuXHQgICAgICAgICAgICAgICAgdG9rZW4gPSBzZWxmLmxleGVyLmxleCgpIHx8IDE7XG5cdCAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRva2VuICE9PSBcIm51bWJlclwiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBzZWxmLnN5bWJvbHNfW3Rva2VuXSB8fCB0b2tlbjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgc3ltYm9sLFxuXHQgICAgICAgICAgICAgICAgcHJlRXJyb3JTeW1ib2wsXG5cdCAgICAgICAgICAgICAgICBzdGF0ZSxcblx0ICAgICAgICAgICAgICAgIGFjdGlvbixcblx0ICAgICAgICAgICAgICAgIGEsXG5cdCAgICAgICAgICAgICAgICByLFxuXHQgICAgICAgICAgICAgICAgeXl2YWwgPSB7fSxcblx0ICAgICAgICAgICAgICAgIHAsXG5cdCAgICAgICAgICAgICAgICBsZW4sXG5cdCAgICAgICAgICAgICAgICBuZXdTdGF0ZSxcblx0ICAgICAgICAgICAgICAgIGV4cGVjdGVkO1xuXHQgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuXHQgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRBY3Rpb25zW3N0YXRlXSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA9IHRoaXMuZGVmYXVsdEFjdGlvbnNbc3RhdGVdO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc3ltYm9sID09PSBudWxsIHx8IHR5cGVvZiBzeW1ib2wgPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wgPSBsZXgoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gdGFibGVbc3RhdGVdICYmIHRhYmxlW3N0YXRlXVtzeW1ib2xdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09IFwidW5kZWZpbmVkXCIgfHwgIWFjdGlvbi5sZW5ndGggfHwgIWFjdGlvblswXSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBlcnJTdHIgPSBcIlwiO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghcmVjb3ZlcmluZykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZCA9IFtdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHAgaW4gdGFibGVbc3RhdGVdKSBpZiAodGhpcy50ZXJtaW5hbHNfW3BdICYmIHAgPiAyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZC5wdXNoKFwiJ1wiICsgdGhpcy50ZXJtaW5hbHNfW3BdICsgXCInXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxleGVyLnNob3dQb3NpdGlvbikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyU3RyID0gXCJQYXJzZSBlcnJvciBvbiBsaW5lIFwiICsgKHl5bGluZW5vICsgMSkgKyBcIjpcXG5cIiArIHRoaXMubGV4ZXIuc2hvd1Bvc2l0aW9uKCkgKyBcIlxcbkV4cGVjdGluZyBcIiArIGV4cGVjdGVkLmpvaW4oXCIsIFwiKSArIFwiLCBnb3QgJ1wiICsgKHRoaXMudGVybWluYWxzX1tzeW1ib2xdIHx8IHN5bWJvbCkgKyBcIidcIjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyclN0ciA9IFwiUGFyc2UgZXJyb3Igb24gbGluZSBcIiArICh5eWxpbmVubyArIDEpICsgXCI6IFVuZXhwZWN0ZWQgXCIgKyAoc3ltYm9sID09IDEgPyBcImVuZCBvZiBpbnB1dFwiIDogXCInXCIgKyAodGhpcy50ZXJtaW5hbHNfW3N5bWJvbF0gfHwgc3ltYm9sKSArIFwiJ1wiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlRXJyb3IoZXJyU3RyLCB7IHRleHQ6IHRoaXMubGV4ZXIubWF0Y2gsIHRva2VuOiB0aGlzLnRlcm1pbmFsc19bc3ltYm9sXSB8fCBzeW1ib2wsIGxpbmU6IHRoaXMubGV4ZXIueXlsaW5lbm8sIGxvYzogeXlsb2MsIGV4cGVjdGVkOiBleHBlY3RlZCB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAoYWN0aW9uWzBdIGluc3RhbmNlb2YgQXJyYXkgJiYgYWN0aW9uLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXJzZSBFcnJvcjogbXVsdGlwbGUgYWN0aW9ucyBwb3NzaWJsZSBhdCBzdGF0ZTogXCIgKyBzdGF0ZSArIFwiLCB0b2tlbjogXCIgKyBzeW1ib2wpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgc3dpdGNoIChhY3Rpb25bMF0pIHtcblx0ICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goc3ltYm9sKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdnN0YWNrLnB1c2godGhpcy5sZXhlci55eXRleHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBsc3RhY2sucHVzaCh0aGlzLmxleGVyLnl5bGxvYyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYWN0aW9uWzFdKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmVFcnJvclN5bWJvbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeXlsZW5nID0gdGhpcy5sZXhlci55eWxlbmc7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB5eXRleHQgPSB0aGlzLmxleGVyLnl5dGV4dDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl5bGluZW5vID0gdGhpcy5sZXhlci55eWxpbmVubztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl5bG9jID0gdGhpcy5sZXhlci55eWxsb2M7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3ZlcmluZyA+IDApIHJlY292ZXJpbmctLTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbCA9IHByZUVycm9yU3ltYm9sO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlRXJyb3JTeW1ib2wgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gdGhpcy5wcm9kdWN0aW9uc19bYWN0aW9uWzFdXVsxXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeXl2YWwuJCA9IHZzdGFja1t2c3RhY2subGVuZ3RoIC0gbGVuXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeXl2YWwuXyQgPSB7IGZpcnN0X2xpbmU6IGxzdGFja1tsc3RhY2subGVuZ3RoIC0gKGxlbiB8fCAxKV0uZmlyc3RfbGluZSwgbGFzdF9saW5lOiBsc3RhY2tbbHN0YWNrLmxlbmd0aCAtIDFdLmxhc3RfbGluZSwgZmlyc3RfY29sdW1uOiBsc3RhY2tbbHN0YWNrLmxlbmd0aCAtIChsZW4gfHwgMSldLmZpcnN0X2NvbHVtbiwgbGFzdF9jb2x1bW46IGxzdGFja1tsc3RhY2subGVuZ3RoIC0gMV0ubGFzdF9jb2x1bW4gfTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeXl2YWwuXyQucmFuZ2UgPSBbbHN0YWNrW2xzdGFjay5sZW5ndGggLSAobGVuIHx8IDEpXS5yYW5nZVswXSwgbHN0YWNrW2xzdGFjay5sZW5ndGggLSAxXS5yYW5nZVsxXV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgciA9IHRoaXMucGVyZm9ybUFjdGlvbi5jYWxsKHl5dmFsLCB5eXRleHQsIHl5bGVuZywgeXlsaW5lbm8sIHRoaXMueXksIGFjdGlvblsxXSwgdnN0YWNrLCBsc3RhY2spO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHIgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrID0gc3RhY2suc2xpY2UoMCwgLTEgKiBsZW4gKiAyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZzdGFjayA9IHZzdGFjay5zbGljZSgwLCAtMSAqIGxlbik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsc3RhY2sgPSBsc3RhY2suc2xpY2UoMCwgLTEgKiBsZW4pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godGhpcy5wcm9kdWN0aW9uc19bYWN0aW9uWzFdXVswXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZzdGFjay5wdXNoKHl5dmFsLiQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBsc3RhY2sucHVzaCh5eXZhbC5fJCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gdGFibGVbc3RhY2tbc3RhY2subGVuZ3RoIC0gMl1dW3N0YWNrW3N0YWNrLmxlbmd0aCAtIDFdXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChuZXdTdGF0ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0ICAgIC8qIEppc29uIGdlbmVyYXRlZCBsZXhlciAqL1xuXHQgICAgdmFyIGxleGVyID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgbGV4ZXIgPSB7IEVPRjogMSxcblx0ICAgICAgICAgICAgcGFyc2VFcnJvcjogZnVuY3Rpb24gcGFyc2VFcnJvcihzdHIsIGhhc2gpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnl5LnBhcnNlcikge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMueXkucGFyc2VyLnBhcnNlRXJyb3Ioc3RyLCBoYXNoKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHNldElucHV0OiBmdW5jdGlvbiBzZXRJbnB1dChpbnB1dCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX21vcmUgPSB0aGlzLl9sZXNzID0gdGhpcy5kb25lID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnl5bGluZW5vID0gdGhpcy55eWxlbmcgPSAwO1xuXHQgICAgICAgICAgICAgICAgdGhpcy55eXRleHQgPSB0aGlzLm1hdGNoZWQgPSB0aGlzLm1hdGNoID0gJyc7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvbmRpdGlvblN0YWNrID0gWydJTklUSUFMJ107XG5cdCAgICAgICAgICAgICAgICB0aGlzLnl5bGxvYyA9IHsgZmlyc3RfbGluZTogMSwgZmlyc3RfY29sdW1uOiAwLCBsYXN0X2xpbmU6IDEsIGxhc3RfY29sdW1uOiAwIH07XG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJhbmdlcykgdGhpcy55eWxsb2MucmFuZ2UgPSBbMCwgMF07XG5cdCAgICAgICAgICAgICAgICB0aGlzLm9mZnNldCA9IDA7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uIGlucHV0KCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGNoID0gdGhpcy5faW5wdXRbMF07XG5cdCAgICAgICAgICAgICAgICB0aGlzLnl5dGV4dCArPSBjaDtcblx0ICAgICAgICAgICAgICAgIHRoaXMueXlsZW5nKys7XG5cdCAgICAgICAgICAgICAgICB0aGlzLm9mZnNldCsrO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5tYXRjaCArPSBjaDtcblx0ICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hlZCArPSBjaDtcblx0ICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IGNoLm1hdGNoKC8oPzpcXHJcXG4/fFxcbikuKi9nKTtcblx0ICAgICAgICAgICAgICAgIGlmIChsaW5lcykge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMueXlsaW5lbm8rKztcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnl5bGxvYy5sYXN0X2xpbmUrKztcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy55eWxsb2MubGFzdF9jb2x1bW4rKztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmFuZ2VzKSB0aGlzLnl5bGxvYy5yYW5nZVsxXSsrO1xuXG5cdCAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IHRoaXMuX2lucHV0LnNsaWNlKDEpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGNoO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB1bnB1dDogZnVuY3Rpb24gdW5wdXQoY2gpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBsZW4gPSBjaC5sZW5ndGg7XG5cdCAgICAgICAgICAgICAgICB2YXIgbGluZXMgPSBjaC5zcGxpdCgvKD86XFxyXFxuP3xcXG4pL2cpO1xuXG5cdCAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGNoICsgdGhpcy5faW5wdXQ7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnl5dGV4dCA9IHRoaXMueXl0ZXh0LnN1YnN0cigwLCB0aGlzLnl5dGV4dC5sZW5ndGggLSBsZW4gLSAxKTtcblx0ICAgICAgICAgICAgICAgIC8vdGhpcy55eWxlbmcgLT0gbGVuO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXQgLT0gbGVuO1xuXHQgICAgICAgICAgICAgICAgdmFyIG9sZExpbmVzID0gdGhpcy5tYXRjaC5zcGxpdCgvKD86XFxyXFxuP3xcXG4pL2cpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5tYXRjaCA9IHRoaXMubWF0Y2guc3Vic3RyKDAsIHRoaXMubWF0Y2gubGVuZ3RoIC0gMSk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZWQgPSB0aGlzLm1hdGNoZWQuc3Vic3RyKDAsIHRoaXMubWF0Y2hlZC5sZW5ndGggLSAxKTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCAtIDEpIHRoaXMueXlsaW5lbm8gLT0gbGluZXMubGVuZ3RoIC0gMTtcblx0ICAgICAgICAgICAgICAgIHZhciByID0gdGhpcy55eWxsb2MucmFuZ2U7XG5cblx0ICAgICAgICAgICAgICAgIHRoaXMueXlsbG9jID0geyBmaXJzdF9saW5lOiB0aGlzLnl5bGxvYy5maXJzdF9saW5lLFxuXHQgICAgICAgICAgICAgICAgICAgIGxhc3RfbGluZTogdGhpcy55eWxpbmVubyArIDEsXG5cdCAgICAgICAgICAgICAgICAgICAgZmlyc3RfY29sdW1uOiB0aGlzLnl5bGxvYy5maXJzdF9jb2x1bW4sXG5cdCAgICAgICAgICAgICAgICAgICAgbGFzdF9jb2x1bW46IGxpbmVzID8gKGxpbmVzLmxlbmd0aCA9PT0gb2xkTGluZXMubGVuZ3RoID8gdGhpcy55eWxsb2MuZmlyc3RfY29sdW1uIDogMCkgKyBvbGRMaW5lc1tvbGRMaW5lcy5sZW5ndGggLSBsaW5lcy5sZW5ndGhdLmxlbmd0aCAtIGxpbmVzWzBdLmxlbmd0aCA6IHRoaXMueXlsbG9jLmZpcnN0X2NvbHVtbiAtIGxlblxuXHQgICAgICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yYW5nZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnl5bGxvYy5yYW5nZSA9IFtyWzBdLCByWzBdICsgdGhpcy55eWxlbmcgLSBsZW5dO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIG1vcmU6IGZ1bmN0aW9uIG1vcmUoKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9tb3JlID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBsZXNzOiBmdW5jdGlvbiBsZXNzKG4pIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMudW5wdXQodGhpcy5tYXRjaC5zbGljZShuKSk7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBhc3RJbnB1dDogZnVuY3Rpb24gcGFzdElucHV0KCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHBhc3QgPSB0aGlzLm1hdGNoZWQuc3Vic3RyKDAsIHRoaXMubWF0Y2hlZC5sZW5ndGggLSB0aGlzLm1hdGNoLmxlbmd0aCk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gKHBhc3QubGVuZ3RoID4gMjAgPyAnLi4uJyA6ICcnKSArIHBhc3Quc3Vic3RyKC0yMCkucmVwbGFjZSgvXFxuL2csIFwiXCIpO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB1cGNvbWluZ0lucHV0OiBmdW5jdGlvbiB1cGNvbWluZ0lucHV0KCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIG5leHQgPSB0aGlzLm1hdGNoO1xuXHQgICAgICAgICAgICAgICAgaWYgKG5leHQubGVuZ3RoIDwgMjApIHtcblx0ICAgICAgICAgICAgICAgICAgICBuZXh0ICs9IHRoaXMuX2lucHV0LnN1YnN0cigwLCAyMCAtIG5leHQubGVuZ3RoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiAobmV4dC5zdWJzdHIoMCwgMjApICsgKG5leHQubGVuZ3RoID4gMjAgPyAnLi4uJyA6ICcnKSkucmVwbGFjZSgvXFxuL2csIFwiXCIpO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBzaG93UG9zaXRpb246IGZ1bmN0aW9uIHNob3dQb3NpdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBwcmUgPSB0aGlzLnBhc3RJbnB1dCgpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGMgPSBuZXcgQXJyYXkocHJlLmxlbmd0aCArIDEpLmpvaW4oXCItXCIpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHByZSArIHRoaXMudXBjb21pbmdJbnB1dCgpICsgXCJcXG5cIiArIGMgKyBcIl5cIjtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvbmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5FT0Y7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lucHV0KSB0aGlzLmRvbmUgPSB0cnVlO1xuXG5cdCAgICAgICAgICAgICAgICB2YXIgdG9rZW4sIG1hdGNoLCB0ZW1wTWF0Y2gsIGluZGV4LCBjb2wsIGxpbmVzO1xuXHQgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9tb3JlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy55eXRleHQgPSAnJztcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoID0gJyc7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB2YXIgcnVsZXMgPSB0aGlzLl9jdXJyZW50UnVsZXMoKTtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICB0ZW1wTWF0Y2ggPSB0aGlzLl9pbnB1dC5tYXRjaCh0aGlzLnJ1bGVzW3J1bGVzW2ldXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBNYXRjaCAmJiAoIW1hdGNoIHx8IHRlbXBNYXRjaFswXS5sZW5ndGggPiBtYXRjaFswXS5sZW5ndGgpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gdGVtcE1hdGNoO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmZsZXgpIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGxpbmVzID0gbWF0Y2hbMF0ubWF0Y2goLyg/Olxcclxcbj98XFxuKS4qL2cpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lcykgdGhpcy55eWxpbmVubyArPSBsaW5lcy5sZW5ndGg7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy55eWxsb2MgPSB7IGZpcnN0X2xpbmU6IHRoaXMueXlsbG9jLmxhc3RfbGluZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9saW5lOiB0aGlzLnl5bGluZW5vICsgMSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RfY29sdW1uOiB0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9jb2x1bW46IGxpbmVzID8gbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoIC0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubWF0Y2goL1xccj9cXG4/LylbMF0ubGVuZ3RoIDogdGhpcy55eWxsb2MubGFzdF9jb2x1bW4gKyBtYXRjaFswXS5sZW5ndGggfTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnl5dGV4dCArPSBtYXRjaFswXTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoICs9IG1hdGNoWzBdO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IG1hdGNoO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMueXlsZW5nID0gdGhpcy55eXRleHQubGVuZ3RoO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmFuZ2VzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueXlsbG9jLnJhbmdlID0gW3RoaXMub2Zmc2V0LCB0aGlzLm9mZnNldCArPSB0aGlzLnl5bGVuZ107XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX21vcmUgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IHRoaXMuX2lucHV0LnNsaWNlKG1hdGNoWzBdLmxlbmd0aCk7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVkICs9IG1hdGNoWzBdO1xuXHQgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5wZXJmb3JtQWN0aW9uLmNhbGwodGhpcywgdGhpcy55eSwgdGhpcywgcnVsZXNbaW5kZXhdLCB0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoIC0gMV0pO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvbmUgJiYgdGhpcy5faW5wdXQpIHRoaXMuZG9uZSA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbikgcmV0dXJuIHRva2VuO2Vsc2UgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0ID09PSBcIlwiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuRU9GO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVycm9yKCdMZXhpY2FsIGVycm9yIG9uIGxpbmUgJyArICh0aGlzLnl5bGluZW5vICsgMSkgKyAnLiBVbnJlY29nbml6ZWQgdGV4dC5cXG4nICsgdGhpcy5zaG93UG9zaXRpb24oKSwgeyB0ZXh0OiBcIlwiLCB0b2tlbjogbnVsbCwgbGluZTogdGhpcy55eWxpbmVubyB9KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgbGV4OiBmdW5jdGlvbiBsZXgoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgciA9IHRoaXMubmV4dCgpO1xuXHQgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZXgoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgYmVnaW46IGZ1bmN0aW9uIGJlZ2luKGNvbmRpdGlvbikge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jb25kaXRpb25TdGFjay5wdXNoKGNvbmRpdGlvbik7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBvcFN0YXRlOiBmdW5jdGlvbiBwb3BTdGF0ZSgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvblN0YWNrLnBvcCgpO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBfY3VycmVudFJ1bGVzOiBmdW5jdGlvbiBfY3VycmVudFJ1bGVzKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uc1t0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoIC0gMV1dLnJ1bGVzO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB0b3BTdGF0ZTogZnVuY3Rpb24gdG9wU3RhdGUoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aCAtIDJdO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwdXNoU3RhdGU6IGZ1bmN0aW9uIGJlZ2luKGNvbmRpdGlvbikge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5iZWdpbihjb25kaXRpb24pO1xuXHQgICAgICAgICAgICB9IH07XG5cdCAgICAgICAgbGV4ZXIub3B0aW9ucyA9IHt9O1xuXHQgICAgICAgIGxleGVyLnBlcmZvcm1BY3Rpb24gPSBmdW5jdGlvbiBhbm9ueW1vdXMoeXksIHl5XywgJGF2b2lkaW5nX25hbWVfY29sbGlzaW9ucywgWVlfU1RBUlQpIHtcblxuXHQgICAgICAgICAgICBmdW5jdGlvbiBzdHJpcChzdGFydCwgZW5kKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4geXlfLnl5dGV4dCA9IHl5Xy55eXRleHQuc3Vic3RyaW5nKHN0YXJ0LCB5eV8ueXlsZW5nIC0gZW5kICsgc3RhcnQpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgdmFyIFlZU1RBVEUgPSBZWV9TVEFSVDtcblx0ICAgICAgICAgICAgc3dpdGNoICgkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zKSB7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHl5Xy55eXRleHQuc2xpY2UoLTIpID09PSBcIlxcXFxcXFxcXCIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXAoMCwgMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmVnaW4oXCJtdVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHl5Xy55eXRleHQuc2xpY2UoLTEpID09PSBcIlxcXFxcIikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcCgwLCAxKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpbihcImVtdVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlZ2luKFwibXVcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGlmICh5eV8ueXl0ZXh0KSByZXR1cm4gMTU7XG5cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTU7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAxNTtcblxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuYmVnaW4oJ3JhdycpO3JldHVybiAxNTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gU2hvdWxkIGJlIHVzaW5nIGB0aGlzLnRvcFN0YXRlKClgIGJlbG93LCBidXQgaXQgY3VycmVudGx5XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0aGUgc2Vjb25kIHRvcCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCB0b3AuIE9wZW5lZCBhblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIGlzc3VlIGFib3V0IGl0IGF0IGh0dHBzOi8vZ2l0aHViLmNvbS96YWFjaC9qaXNvbi9pc3N1ZXMvMjkxXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGggLSAxXSA9PT0gJ3JhdycpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE1O1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwKDUsIDkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0VORF9SQVdfQkxPQ0snO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAxNTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE0O1xuXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDc6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDY1O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA4OlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiA2ODtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgOTpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDEwOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmJlZ2luKCdyYXcnKTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjM7XG5cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTE6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDU1O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAxMjpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gNjA7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDEzOlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAyOTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQ3O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAxNTpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7cmV0dXJuIDQ0O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAxNjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7cmV0dXJuIDQ0O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAxNzpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gMzQ7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDE4OlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAzOTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTk6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDUxO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAyMDpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gNDg7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDIxOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMudW5wdXQoeXlfLnl5dGV4dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuYmVnaW4oJ2NvbScpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDIyOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTQ7XG5cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMjM6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQ4O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAyNDpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gNzM7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDI1OlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiA3Mjtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMjY6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcyO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAyNzpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gODc7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDI4OlxuXHQgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB3aGl0ZXNwYWNlXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDI5OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtyZXR1cm4gNTQ7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDMwOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtyZXR1cm4gMzM7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDMxOlxuXHQgICAgICAgICAgICAgICAgICAgIHl5Xy55eXRleHQgPSBzdHJpcCgxLCAyKS5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJyk7cmV0dXJuIDgwO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAzMjpcblx0ICAgICAgICAgICAgICAgICAgICB5eV8ueXl0ZXh0ID0gc3RyaXAoMSwgMikucmVwbGFjZSgvXFxcXCcvZywgXCInXCIpO3JldHVybiA4MDtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzM6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDg1O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAzNDpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gODI7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDM1OlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiA4Mjtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzY6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDgzO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSAzNzpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gODQ7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDM4OlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiA4MTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzk6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDc1O1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSA0MDpcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gNzc7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDQxOlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiA3Mjtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNDI6XG5cdCAgICAgICAgICAgICAgICAgICAgeXlfLnl5dGV4dCA9IHl5Xy55eXRleHQucmVwbGFjZSgvXFxcXChbXFxcXFxcXV0pL2csICckMScpO3JldHVybiA3Mjtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNDM6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdJTlZBTElEJztcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgNDQ6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDU7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIGxleGVyLnJ1bGVzID0gWy9eKD86W15cXHgwMF0qPyg/PShcXHtcXHspKSkvLCAvXig/OlteXFx4MDBdKykvLCAvXig/OlteXFx4MDBdezIsfT8oPz0oXFx7XFx7fFxcXFxcXHtcXHt8XFxcXFxcXFxcXHtcXHt8JCkpKS8sIC9eKD86XFx7XFx7XFx7XFx7KD89W14vXSkpLywgL14oPzpcXHtcXHtcXHtcXHtcXC9bXlxccyFcIiMlLSxcXC5cXC87LT5AXFxbLVxcXmBcXHstfl0rKD89Wz19XFxzXFwvLl0pXFx9XFx9XFx9XFx9KS8sIC9eKD86W15cXHgwMF0rPyg/PShcXHtcXHtcXHtcXHspKSkvLCAvXig/OltcXHNcXFNdKj8tLSh+KT9cXH1cXH0pLywgL14oPzpcXCgpLywgL14oPzpcXCkpLywgL14oPzpcXHtcXHtcXHtcXHspLywgL14oPzpcXH1cXH1cXH1cXH0pLywgL14oPzpcXHtcXHsofik/PikvLCAvXig/Olxce1xceyh+KT8jPikvLCAvXig/Olxce1xceyh+KT8jXFwqPykvLCAvXig/Olxce1xceyh+KT9cXC8pLywgL14oPzpcXHtcXHsofik/XFxeXFxzKih+KT9cXH1cXH0pLywgL14oPzpcXHtcXHsofik/XFxzKmVsc2VcXHMqKH4pP1xcfVxcfSkvLCAvXig/Olxce1xceyh+KT9cXF4pLywgL14oPzpcXHtcXHsofik/XFxzKmVsc2VcXGIpLywgL14oPzpcXHtcXHsofik/XFx7KS8sIC9eKD86XFx7XFx7KH4pPyYpLywgL14oPzpcXHtcXHsofik/IS0tKS8sIC9eKD86XFx7XFx7KH4pPyFbXFxzXFxTXSo/XFx9XFx9KS8sIC9eKD86XFx7XFx7KH4pP1xcKj8pLywgL14oPzo9KS8sIC9eKD86XFwuXFwuKS8sIC9eKD86XFwuKD89KFs9fn1cXHNcXC8uKXxdKSkpLywgL14oPzpbXFwvLl0pLywgL14oPzpcXHMrKS8sIC9eKD86XFx9KH4pP1xcfVxcfSkvLCAvXig/Oih+KT9cXH1cXH0pLywgL14oPzpcIihcXFxcW1wiXXxbXlwiXSkqXCIpLywgL14oPzonKFxcXFxbJ118W14nXSkqJykvLCAvXig/OkApLywgL14oPzp0cnVlKD89KFt+fVxccyldKSkpLywgL14oPzpmYWxzZSg/PShbfn1cXHMpXSkpKS8sIC9eKD86dW5kZWZpbmVkKD89KFt+fVxccyldKSkpLywgL14oPzpudWxsKD89KFt+fVxccyldKSkpLywgL14oPzotP1swLTldKyg/OlxcLlswLTldKyk/KD89KFt+fVxccyldKSkpLywgL14oPzphc1xccytcXHwpLywgL14oPzpcXHwpLywgL14oPzooW15cXHMhXCIjJS0sXFwuXFwvOy0+QFxcWy1cXF5gXFx7LX5dKyg/PShbPX59XFxzXFwvLil8XSkpKSkvLCAvXig/OlxcWyhcXFxcXFxdfFteXFxdXSkqXFxdKS8sIC9eKD86LikvLCAvXig/OiQpL107XG5cdCAgICAgICAgbGV4ZXIuY29uZGl0aW9ucyA9IHsgXCJtdVwiOiB7IFwicnVsZXNcIjogWzcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDE2LCAxNywgMTgsIDE5LCAyMCwgMjEsIDIyLCAyMywgMjQsIDI1LCAyNiwgMjcsIDI4LCAyOSwgMzAsIDMxLCAzMiwgMzMsIDM0LCAzNSwgMzYsIDM3LCAzOCwgMzksIDQwLCA0MSwgNDIsIDQzLCA0NF0sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiZW11XCI6IHsgXCJydWxlc1wiOiBbMl0sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiY29tXCI6IHsgXCJydWxlc1wiOiBbNl0sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwicmF3XCI6IHsgXCJydWxlc1wiOiBbMywgNCwgNV0sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiSU5JVElBTFwiOiB7IFwicnVsZXNcIjogWzAsIDEsIDQ0XSwgXCJpbmNsdXNpdmVcIjogdHJ1ZSB9IH07XG5cdCAgICAgICAgcmV0dXJuIGxleGVyO1xuXHQgICAgfSkoKTtcblx0ICAgIHBhcnNlci5sZXhlciA9IGxleGVyO1xuXHQgICAgZnVuY3Rpb24gUGFyc2VyKCkge1xuXHQgICAgICAgIHRoaXMueXkgPSB7fTtcblx0ICAgIH1QYXJzZXIucHJvdG90eXBlID0gcGFyc2VyO3BhcnNlci5QYXJzZXIgPSBQYXJzZXI7XG5cdCAgICByZXR1cm4gbmV3IFBhcnNlcigpO1xuXHR9KSgpO2V4cG9ydHNbXCJkZWZhdWx0XCJdID0gaGFuZGxlYmFycztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSksXG4vKiA4NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSlbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfdmlzaXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXG5cdHZhciBfdmlzaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aXNpdG9yKTtcblxuXHRmdW5jdGlvbiBXaGl0ZXNwYWNlQ29udHJvbCgpIHtcblx0ICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG5cdCAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0fVxuXHRXaGl0ZXNwYWNlQ29udHJvbC5wcm90b3R5cGUgPSBuZXcgX3Zpc2l0b3IyWydkZWZhdWx0J10oKTtcblxuXHRXaGl0ZXNwYWNlQ29udHJvbC5wcm90b3R5cGUuUHJvZ3JhbSA9IGZ1bmN0aW9uIChwcm9ncmFtKSB7XG5cdCAgdmFyIGRvU3RhbmRhbG9uZSA9ICF0aGlzLm9wdGlvbnMuaWdub3JlU3RhbmRhbG9uZTtcblxuXHQgIHZhciBpc1Jvb3QgPSAhdGhpcy5pc1Jvb3RTZWVuO1xuXHQgIHRoaXMuaXNSb290U2VlbiA9IHRydWU7XG5cblx0ICB2YXIgYm9keSA9IHByb2dyYW0uYm9keTtcblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IGJvZHkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICB2YXIgY3VycmVudCA9IGJvZHlbaV0sXG5cdCAgICAgICAgc3RyaXAgPSB0aGlzLmFjY2VwdChjdXJyZW50KTtcblxuXHQgICAgaWYgKCFzdHJpcCkge1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblxuXHQgICAgdmFyIF9pc1ByZXZXaGl0ZXNwYWNlID0gaXNQcmV2V2hpdGVzcGFjZShib2R5LCBpLCBpc1Jvb3QpLFxuXHQgICAgICAgIF9pc05leHRXaGl0ZXNwYWNlID0gaXNOZXh0V2hpdGVzcGFjZShib2R5LCBpLCBpc1Jvb3QpLFxuXHQgICAgICAgIG9wZW5TdGFuZGFsb25lID0gc3RyaXAub3BlblN0YW5kYWxvbmUgJiYgX2lzUHJldldoaXRlc3BhY2UsXG5cdCAgICAgICAgY2xvc2VTdGFuZGFsb25lID0gc3RyaXAuY2xvc2VTdGFuZGFsb25lICYmIF9pc05leHRXaGl0ZXNwYWNlLFxuXHQgICAgICAgIGlubGluZVN0YW5kYWxvbmUgPSBzdHJpcC5pbmxpbmVTdGFuZGFsb25lICYmIF9pc1ByZXZXaGl0ZXNwYWNlICYmIF9pc05leHRXaGl0ZXNwYWNlO1xuXG5cdCAgICBpZiAoc3RyaXAuY2xvc2UpIHtcblx0ICAgICAgb21pdFJpZ2h0KGJvZHksIGksIHRydWUpO1xuXHQgICAgfVxuXHQgICAgaWYgKHN0cmlwLm9wZW4pIHtcblx0ICAgICAgb21pdExlZnQoYm9keSwgaSwgdHJ1ZSk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChkb1N0YW5kYWxvbmUgJiYgaW5saW5lU3RhbmRhbG9uZSkge1xuXHQgICAgICBvbWl0UmlnaHQoYm9keSwgaSk7XG5cblx0ICAgICAgaWYgKG9taXRMZWZ0KGJvZHksIGkpKSB7XG5cdCAgICAgICAgLy8gSWYgd2UgYXJlIG9uIGEgc3RhbmRhbG9uZSBub2RlLCBzYXZlIHRoZSBpbmRlbnQgaW5mbyBmb3IgcGFydGlhbHNcblx0ICAgICAgICBpZiAoY3VycmVudC50eXBlID09PSAnUGFydGlhbFN0YXRlbWVudCcpIHtcblx0ICAgICAgICAgIC8vIFB1bGwgb3V0IHRoZSB3aGl0ZXNwYWNlIGZyb20gdGhlIGZpbmFsIGxpbmVcblx0ICAgICAgICAgIGN1cnJlbnQuaW5kZW50ID0gLyhbIFxcdF0rJCkvLmV4ZWMoYm9keVtpIC0gMV0ub3JpZ2luYWwpWzFdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKGRvU3RhbmRhbG9uZSAmJiBvcGVuU3RhbmRhbG9uZSkge1xuXHQgICAgICBvbWl0UmlnaHQoKGN1cnJlbnQucHJvZ3JhbSB8fCBjdXJyZW50LmludmVyc2UpLmJvZHkpO1xuXG5cdCAgICAgIC8vIFN0cmlwIG91dCB0aGUgcHJldmlvdXMgY29udGVudCBub2RlIGlmIGl0J3Mgd2hpdGVzcGFjZSBvbmx5XG5cdCAgICAgIG9taXRMZWZ0KGJvZHksIGkpO1xuXHQgICAgfVxuXHQgICAgaWYgKGRvU3RhbmRhbG9uZSAmJiBjbG9zZVN0YW5kYWxvbmUpIHtcblx0ICAgICAgLy8gQWx3YXlzIHN0cmlwIHRoZSBuZXh0IG5vZGVcblx0ICAgICAgb21pdFJpZ2h0KGJvZHksIGkpO1xuXG5cdCAgICAgIG9taXRMZWZ0KChjdXJyZW50LmludmVyc2UgfHwgY3VycmVudC5wcm9ncmFtKS5ib2R5KTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gcHJvZ3JhbTtcblx0fTtcblxuXHRXaGl0ZXNwYWNlQ29udHJvbC5wcm90b3R5cGUuQmxvY2tTdGF0ZW1lbnQgPSBXaGl0ZXNwYWNlQ29udHJvbC5wcm90b3R5cGUuRGVjb3JhdG9yQmxvY2sgPSBXaGl0ZXNwYWNlQ29udHJvbC5wcm90b3R5cGUuUGFydGlhbEJsb2NrU3RhdGVtZW50ID0gZnVuY3Rpb24gKGJsb2NrKSB7XG5cdCAgdGhpcy5hY2NlcHQoYmxvY2sucHJvZ3JhbSk7XG5cdCAgdGhpcy5hY2NlcHQoYmxvY2suaW52ZXJzZSk7XG5cblx0ICAvLyBGaW5kIHRoZSBpbnZlcnNlIHByb2dyYW0gdGhhdCBpcyBpbnZvbGVkIHdpdGggd2hpdGVzcGFjZSBzdHJpcHBpbmcuXG5cdCAgdmFyIHByb2dyYW0gPSBibG9jay5wcm9ncmFtIHx8IGJsb2NrLmludmVyc2UsXG5cdCAgICAgIGludmVyc2UgPSBibG9jay5wcm9ncmFtICYmIGJsb2NrLmludmVyc2UsXG5cdCAgICAgIGZpcnN0SW52ZXJzZSA9IGludmVyc2UsXG5cdCAgICAgIGxhc3RJbnZlcnNlID0gaW52ZXJzZTtcblxuXHQgIGlmIChpbnZlcnNlICYmIGludmVyc2UuY2hhaW5lZCkge1xuXHQgICAgZmlyc3RJbnZlcnNlID0gaW52ZXJzZS5ib2R5WzBdLnByb2dyYW07XG5cblx0ICAgIC8vIFdhbGsgdGhlIGludmVyc2UgY2hhaW4gdG8gZmluZCB0aGUgbGFzdCBpbnZlcnNlIHRoYXQgaXMgYWN0dWFsbHkgaW4gdGhlIGNoYWluLlxuXHQgICAgd2hpbGUgKGxhc3RJbnZlcnNlLmNoYWluZWQpIHtcblx0ICAgICAgbGFzdEludmVyc2UgPSBsYXN0SW52ZXJzZS5ib2R5W2xhc3RJbnZlcnNlLmJvZHkubGVuZ3RoIC0gMV0ucHJvZ3JhbTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICB2YXIgc3RyaXAgPSB7XG5cdCAgICBvcGVuOiBibG9jay5vcGVuU3RyaXAub3Blbixcblx0ICAgIGNsb3NlOiBibG9jay5jbG9zZVN0cmlwLmNsb3NlLFxuXG5cdCAgICAvLyBEZXRlcm1pbmUgdGhlIHN0YW5kYWxvbmUgY2FuZGlhY3kuIEJhc2ljYWxseSBmbGFnIG91ciBjb250ZW50IGFzIGJlaW5nIHBvc3NpYmx5IHN0YW5kYWxvbmVcblx0ICAgIC8vIHNvIG91ciBwYXJlbnQgY2FuIGRldGVybWluZSBpZiB3ZSBhY3R1YWxseSBhcmUgc3RhbmRhbG9uZVxuXHQgICAgb3BlblN0YW5kYWxvbmU6IGlzTmV4dFdoaXRlc3BhY2UocHJvZ3JhbS5ib2R5KSxcblx0ICAgIGNsb3NlU3RhbmRhbG9uZTogaXNQcmV2V2hpdGVzcGFjZSgoZmlyc3RJbnZlcnNlIHx8IHByb2dyYW0pLmJvZHkpXG5cdCAgfTtcblxuXHQgIGlmIChibG9jay5vcGVuU3RyaXAuY2xvc2UpIHtcblx0ICAgIG9taXRSaWdodChwcm9ncmFtLmJvZHksIG51bGwsIHRydWUpO1xuXHQgIH1cblxuXHQgIGlmIChpbnZlcnNlKSB7XG5cdCAgICB2YXIgaW52ZXJzZVN0cmlwID0gYmxvY2suaW52ZXJzZVN0cmlwO1xuXG5cdCAgICBpZiAoaW52ZXJzZVN0cmlwLm9wZW4pIHtcblx0ICAgICAgb21pdExlZnQocHJvZ3JhbS5ib2R5LCBudWxsLCB0cnVlKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGludmVyc2VTdHJpcC5jbG9zZSkge1xuXHQgICAgICBvbWl0UmlnaHQoZmlyc3RJbnZlcnNlLmJvZHksIG51bGwsIHRydWUpO1xuXHQgICAgfVxuXHQgICAgaWYgKGJsb2NrLmNsb3NlU3RyaXAub3Blbikge1xuXHQgICAgICBvbWl0TGVmdChsYXN0SW52ZXJzZS5ib2R5LCBudWxsLCB0cnVlKTtcblx0ICAgIH1cblxuXHQgICAgLy8gRmluZCBzdGFuZGFsb25lIGVsc2Ugc3RhdG1lbnRzXG5cdCAgICBpZiAoIXRoaXMub3B0aW9ucy5pZ25vcmVTdGFuZGFsb25lICYmIGlzUHJldldoaXRlc3BhY2UocHJvZ3JhbS5ib2R5KSAmJiBpc05leHRXaGl0ZXNwYWNlKGZpcnN0SW52ZXJzZS5ib2R5KSkge1xuXHQgICAgICBvbWl0TGVmdChwcm9ncmFtLmJvZHkpO1xuXHQgICAgICBvbWl0UmlnaHQoZmlyc3RJbnZlcnNlLmJvZHkpO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoYmxvY2suY2xvc2VTdHJpcC5vcGVuKSB7XG5cdCAgICBvbWl0TGVmdChwcm9ncmFtLmJvZHksIG51bGwsIHRydWUpO1xuXHQgIH1cblxuXHQgIHJldHVybiBzdHJpcDtcblx0fTtcblxuXHRXaGl0ZXNwYWNlQ29udHJvbC5wcm90b3R5cGUuRGVjb3JhdG9yID0gV2hpdGVzcGFjZUNvbnRyb2wucHJvdG90eXBlLk11c3RhY2hlU3RhdGVtZW50ID0gZnVuY3Rpb24gKG11c3RhY2hlKSB7XG5cdCAgcmV0dXJuIG11c3RhY2hlLnN0cmlwO1xuXHR9O1xuXG5cdFdoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5QYXJ0aWFsU3RhdGVtZW50ID0gV2hpdGVzcGFjZUNvbnRyb2wucHJvdG90eXBlLkNvbW1lbnRTdGF0ZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgdmFyIHN0cmlwID0gbm9kZS5zdHJpcCB8fCB7fTtcblx0ICByZXR1cm4ge1xuXHQgICAgaW5saW5lU3RhbmRhbG9uZTogdHJ1ZSxcblx0ICAgIG9wZW46IHN0cmlwLm9wZW4sXG5cdCAgICBjbG9zZTogc3RyaXAuY2xvc2Vcblx0ICB9O1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGlzUHJldldoaXRlc3BhY2UoYm9keSwgaSwgaXNSb290KSB7XG5cdCAgaWYgKGkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgaSA9IGJvZHkubGVuZ3RoO1xuXHQgIH1cblxuXHQgIC8vIE5vZGVzIHRoYXQgZW5kIHdpdGggbmV3bGluZXMgYXJlIGNvbnNpZGVyZWQgd2hpdGVzcGFjZSAoYnV0IGFyZSBzcGVjaWFsXG5cdCAgLy8gY2FzZWQgZm9yIHN0cmlwIG9wZXJhdGlvbnMpXG5cdCAgdmFyIHByZXYgPSBib2R5W2kgLSAxXSxcblx0ICAgICAgc2libGluZyA9IGJvZHlbaSAtIDJdO1xuXHQgIGlmICghcHJldikge1xuXHQgICAgcmV0dXJuIGlzUm9vdDtcblx0ICB9XG5cblx0ICBpZiAocHJldi50eXBlID09PSAnQ29udGVudFN0YXRlbWVudCcpIHtcblx0ICAgIHJldHVybiAoc2libGluZyB8fCAhaXNSb290ID8gL1xccj9cXG5cXHMqPyQvIDogLyhefFxccj9cXG4pXFxzKj8kLykudGVzdChwcmV2Lm9yaWdpbmFsKTtcblx0ICB9XG5cdH1cblx0ZnVuY3Rpb24gaXNOZXh0V2hpdGVzcGFjZShib2R5LCBpLCBpc1Jvb3QpIHtcblx0ICBpZiAoaSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBpID0gLTE7XG5cdCAgfVxuXG5cdCAgdmFyIG5leHQgPSBib2R5W2kgKyAxXSxcblx0ICAgICAgc2libGluZyA9IGJvZHlbaSArIDJdO1xuXHQgIGlmICghbmV4dCkge1xuXHQgICAgcmV0dXJuIGlzUm9vdDtcblx0ICB9XG5cblx0ICBpZiAobmV4dC50eXBlID09PSAnQ29udGVudFN0YXRlbWVudCcpIHtcblx0ICAgIHJldHVybiAoc2libGluZyB8fCAhaXNSb290ID8gL15cXHMqP1xccj9cXG4vIDogL15cXHMqPyhcXHI/XFxufCQpLykudGVzdChuZXh0Lm9yaWdpbmFsKTtcblx0ICB9XG5cdH1cblxuXHQvLyBNYXJrcyB0aGUgbm9kZSB0byB0aGUgcmlnaHQgb2YgdGhlIHBvc2l0aW9uIGFzIG9taXR0ZWQuXG5cdC8vIEkuZS4ge3tmb299fScgJyB3aWxsIG1hcmsgdGhlICcgJyBub2RlIGFzIG9taXR0ZWQuXG5cdC8vXG5cdC8vIElmIGkgaXMgdW5kZWZpbmVkLCB0aGVuIHRoZSBmaXJzdCBjaGlsZCB3aWxsIGJlIG1hcmtlZCBhcyBzdWNoLlxuXHQvL1xuXHQvLyBJZiBtdWxpdHBsZSBpcyB0cnV0aHkgdGhlbiBhbGwgd2hpdGVzcGFjZSB3aWxsIGJlIHN0cmlwcGVkIG91dCB1bnRpbCBub24td2hpdGVzcGFjZVxuXHQvLyBjb250ZW50IGlzIG1ldC5cblx0ZnVuY3Rpb24gb21pdFJpZ2h0KGJvZHksIGksIG11bHRpcGxlKSB7XG5cdCAgdmFyIGN1cnJlbnQgPSBib2R5W2kgPT0gbnVsbCA/IDAgOiBpICsgMV07XG5cdCAgaWYgKCFjdXJyZW50IHx8IGN1cnJlbnQudHlwZSAhPT0gJ0NvbnRlbnRTdGF0ZW1lbnQnIHx8ICFtdWx0aXBsZSAmJiBjdXJyZW50LnJpZ2h0U3RyaXBwZWQpIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cblx0ICB2YXIgb3JpZ2luYWwgPSBjdXJyZW50LnZhbHVlO1xuXHQgIGN1cnJlbnQudmFsdWUgPSBjdXJyZW50LnZhbHVlLnJlcGxhY2UobXVsdGlwbGUgPyAvXlxccysvIDogL15bIFxcdF0qXFxyP1xcbj8vLCAnJyk7XG5cdCAgY3VycmVudC5yaWdodFN0cmlwcGVkID0gY3VycmVudC52YWx1ZSAhPT0gb3JpZ2luYWw7XG5cdH1cblxuXHQvLyBNYXJrcyB0aGUgbm9kZSB0byB0aGUgbGVmdCBvZiB0aGUgcG9zaXRpb24gYXMgb21pdHRlZC5cblx0Ly8gSS5lLiAnICd7e2Zvb319IHdpbGwgbWFyayB0aGUgJyAnIG5vZGUgYXMgb21pdHRlZC5cblx0Ly9cblx0Ly8gSWYgaSBpcyB1bmRlZmluZWQgdGhlbiB0aGUgbGFzdCBjaGlsZCB3aWxsIGJlIG1hcmtlZCBhcyBzdWNoLlxuXHQvL1xuXHQvLyBJZiBtdWxpdHBsZSBpcyB0cnV0aHkgdGhlbiBhbGwgd2hpdGVzcGFjZSB3aWxsIGJlIHN0cmlwcGVkIG91dCB1bnRpbCBub24td2hpdGVzcGFjZVxuXHQvLyBjb250ZW50IGlzIG1ldC5cblx0ZnVuY3Rpb24gb21pdExlZnQoYm9keSwgaSwgbXVsdGlwbGUpIHtcblx0ICB2YXIgY3VycmVudCA9IGJvZHlbaSA9PSBudWxsID8gYm9keS5sZW5ndGggLSAxIDogaSAtIDFdO1xuXHQgIGlmICghY3VycmVudCB8fCBjdXJyZW50LnR5cGUgIT09ICdDb250ZW50U3RhdGVtZW50JyB8fCAhbXVsdGlwbGUgJiYgY3VycmVudC5sZWZ0U3RyaXBwZWQpIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cblx0ICAvLyBXZSBvbWl0IHRoZSBsYXN0IG5vZGUgaWYgaXQncyB3aGl0ZXNwYWNlIG9ubHkgYW5kIG5vdCBwcmVjZWRlZCBieSBhIG5vbi1jb250ZW50IG5vZGUuXG5cdCAgdmFyIG9yaWdpbmFsID0gY3VycmVudC52YWx1ZTtcblx0ICBjdXJyZW50LnZhbHVlID0gY3VycmVudC52YWx1ZS5yZXBsYWNlKG11bHRpcGxlID8gL1xccyskLyA6IC9bIFxcdF0rJC8sICcnKTtcblx0ICBjdXJyZW50LmxlZnRTdHJpcHBlZCA9IGN1cnJlbnQudmFsdWUgIT09IG9yaWdpbmFsO1xuXHQgIHJldHVybiBjdXJyZW50LmxlZnRTdHJpcHBlZDtcblx0fVxuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFdoaXRlc3BhY2VDb250cm9sO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiA4OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSlbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHR2YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5cdGZ1bmN0aW9uIFZpc2l0b3IoKSB7XG5cdCAgdGhpcy5wYXJlbnRzID0gW107XG5cdH1cblxuXHRWaXNpdG9yLnByb3RvdHlwZSA9IHtcblx0ICBjb25zdHJ1Y3RvcjogVmlzaXRvcixcblx0ICBtdXRhdGluZzogZmFsc2UsXG5cblx0ICAvLyBWaXNpdHMgYSBnaXZlbiB2YWx1ZS4gSWYgbXV0YXRpbmcsIHdpbGwgcmVwbGFjZSB0aGUgdmFsdWUgaWYgbmVjZXNzYXJ5LlxuXHQgIGFjY2VwdEtleTogZnVuY3Rpb24gYWNjZXB0S2V5KG5vZGUsIG5hbWUpIHtcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuYWNjZXB0KG5vZGVbbmFtZV0pO1xuXHQgICAgaWYgKHRoaXMubXV0YXRpbmcpIHtcblx0ICAgICAgLy8gSGFja3kgc2FuaXR5IGNoZWNrOiBUaGlzIG1heSBoYXZlIGEgZmV3IGZhbHNlIHBvc2l0aXZlcyBmb3IgdHlwZSBmb3IgdGhlIGhlbHBlclxuXHQgICAgICAvLyBtZXRob2RzIGJ1dCB3aWxsIGdlbmVyYWxseSBkbyB0aGUgcmlnaHQgdGhpbmcgd2l0aG91dCBhIGxvdCBvZiBvdmVyaGVhZC5cblx0ICAgICAgaWYgKHZhbHVlICYmICFWaXNpdG9yLnByb3RvdHlwZVt2YWx1ZS50eXBlXSkge1xuXHQgICAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdVbmV4cGVjdGVkIG5vZGUgdHlwZSBcIicgKyB2YWx1ZS50eXBlICsgJ1wiIGZvdW5kIHdoZW4gYWNjZXB0aW5nICcgKyBuYW1lICsgJyBvbiAnICsgbm9kZS50eXBlKTtcblx0ICAgICAgfVxuXHQgICAgICBub2RlW25hbWVdID0gdmFsdWU7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIC8vIFBlcmZvcm1zIGFuIGFjY2VwdCBvcGVyYXRpb24gd2l0aCBhZGRlZCBzYW5pdHkgY2hlY2sgdG8gZW5zdXJlXG5cdCAgLy8gcmVxdWlyZWQga2V5cyBhcmUgbm90IHJlbW92ZWQuXG5cdCAgYWNjZXB0UmVxdWlyZWQ6IGZ1bmN0aW9uIGFjY2VwdFJlcXVpcmVkKG5vZGUsIG5hbWUpIHtcblx0ICAgIHRoaXMuYWNjZXB0S2V5KG5vZGUsIG5hbWUpO1xuXG5cdCAgICBpZiAoIW5vZGVbbmFtZV0pIHtcblx0ICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10obm9kZS50eXBlICsgJyByZXF1aXJlcyAnICsgbmFtZSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIC8vIFRyYXZlcnNlcyBhIGdpdmVuIGFycmF5LiBJZiBtdXRhdGluZywgZW1wdHkgcmVzcG5zZXMgd2lsbCBiZSByZW1vdmVkXG5cdCAgLy8gZm9yIGNoaWxkIGVsZW1lbnRzLlxuXHQgIGFjY2VwdEFycmF5OiBmdW5jdGlvbiBhY2NlcHRBcnJheShhcnJheSkge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgdGhpcy5hY2NlcHRLZXkoYXJyYXksIGkpO1xuXG5cdCAgICAgIGlmICghYXJyYXlbaV0pIHtcblx0ICAgICAgICBhcnJheS5zcGxpY2UoaSwgMSk7XG5cdCAgICAgICAgaS0tO1xuXHQgICAgICAgIGwtLTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBhY2NlcHQ6IGZ1bmN0aW9uIGFjY2VwdChvYmplY3QpIHtcblx0ICAgIGlmICghb2JqZWN0KSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IFNhbml0eSBjb2RlICovXG5cdCAgICBpZiAoIXRoaXNbb2JqZWN0LnR5cGVdKSB7XG5cdCAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdVbmtub3duIHR5cGU6ICcgKyBvYmplY3QudHlwZSwgb2JqZWN0KTtcblx0ICAgIH1cblxuXHQgICAgaWYgKHRoaXMuY3VycmVudCkge1xuXHQgICAgICB0aGlzLnBhcmVudHMudW5zaGlmdCh0aGlzLmN1cnJlbnQpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5jdXJyZW50ID0gb2JqZWN0O1xuXG5cdCAgICB2YXIgcmV0ID0gdGhpc1tvYmplY3QudHlwZV0ob2JqZWN0KTtcblxuXHQgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wYXJlbnRzLnNoaWZ0KCk7XG5cblx0ICAgIGlmICghdGhpcy5tdXRhdGluZyB8fCByZXQpIHtcblx0ICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH0gZWxzZSBpZiAocmV0ICE9PSBmYWxzZSkge1xuXHQgICAgICByZXR1cm4gb2JqZWN0O1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBQcm9ncmFtOiBmdW5jdGlvbiBQcm9ncmFtKHByb2dyYW0pIHtcblx0ICAgIHRoaXMuYWNjZXB0QXJyYXkocHJvZ3JhbS5ib2R5KTtcblx0ICB9LFxuXG5cdCAgTXVzdGFjaGVTdGF0ZW1lbnQ6IHZpc2l0U3ViRXhwcmVzc2lvbixcblx0ICBEZWNvcmF0b3I6IHZpc2l0U3ViRXhwcmVzc2lvbixcblxuXHQgIEJsb2NrU3RhdGVtZW50OiB2aXNpdEJsb2NrLFxuXHQgIERlY29yYXRvckJsb2NrOiB2aXNpdEJsb2NrLFxuXG5cdCAgUGFydGlhbFN0YXRlbWVudDogdmlzaXRQYXJ0aWFsLFxuXHQgIFBhcnRpYWxCbG9ja1N0YXRlbWVudDogZnVuY3Rpb24gUGFydGlhbEJsb2NrU3RhdGVtZW50KHBhcnRpYWwpIHtcblx0ICAgIHZpc2l0UGFydGlhbC5jYWxsKHRoaXMsIHBhcnRpYWwpO1xuXG5cdCAgICB0aGlzLmFjY2VwdEtleShwYXJ0aWFsLCAncHJvZ3JhbScpO1xuXHQgIH0sXG5cblx0ICBDb250ZW50U3RhdGVtZW50OiBmdW5jdGlvbiBDb250ZW50U3RhdGVtZW50KCkgLyogY29udGVudCAqL3t9LFxuXHQgIENvbW1lbnRTdGF0ZW1lbnQ6IGZ1bmN0aW9uIENvbW1lbnRTdGF0ZW1lbnQoKSAvKiBjb21tZW50ICove30sXG5cblx0ICBTdWJFeHByZXNzaW9uOiB2aXNpdFN1YkV4cHJlc3Npb24sXG5cblx0ICBQYXRoRXhwcmVzc2lvbjogZnVuY3Rpb24gUGF0aEV4cHJlc3Npb24oKSAvKiBwYXRoICove30sXG5cblx0ICBTdHJpbmdMaXRlcmFsOiBmdW5jdGlvbiBTdHJpbmdMaXRlcmFsKCkgLyogc3RyaW5nICove30sXG5cdCAgTnVtYmVyTGl0ZXJhbDogZnVuY3Rpb24gTnVtYmVyTGl0ZXJhbCgpIC8qIG51bWJlciAqL3t9LFxuXHQgIEJvb2xlYW5MaXRlcmFsOiBmdW5jdGlvbiBCb29sZWFuTGl0ZXJhbCgpIC8qIGJvb2wgKi97fSxcblx0ICBVbmRlZmluZWRMaXRlcmFsOiBmdW5jdGlvbiBVbmRlZmluZWRMaXRlcmFsKCkgLyogbGl0ZXJhbCAqL3t9LFxuXHQgIE51bGxMaXRlcmFsOiBmdW5jdGlvbiBOdWxsTGl0ZXJhbCgpIC8qIGxpdGVyYWwgKi97fSxcblxuXHQgIEhhc2g6IGZ1bmN0aW9uIEhhc2goaGFzaCkge1xuXHQgICAgdGhpcy5hY2NlcHRBcnJheShoYXNoLnBhaXJzKTtcblx0ICB9LFxuXHQgIEhhc2hQYWlyOiBmdW5jdGlvbiBIYXNoUGFpcihwYWlyKSB7XG5cdCAgICB0aGlzLmFjY2VwdFJlcXVpcmVkKHBhaXIsICd2YWx1ZScpO1xuXHQgIH1cblx0fTtcblxuXHRmdW5jdGlvbiB2aXNpdFN1YkV4cHJlc3Npb24obXVzdGFjaGUpIHtcblx0ICB0aGlzLmFjY2VwdFJlcXVpcmVkKG11c3RhY2hlLCAncGF0aCcpO1xuXHQgIHRoaXMuYWNjZXB0QXJyYXkobXVzdGFjaGUucGFyYW1zKTtcblx0ICB0aGlzLmFjY2VwdEtleShtdXN0YWNoZSwgJ2hhc2gnKTtcblx0fVxuXHRmdW5jdGlvbiB2aXNpdEJsb2NrKGJsb2NrKSB7XG5cdCAgdmlzaXRTdWJFeHByZXNzaW9uLmNhbGwodGhpcywgYmxvY2spO1xuXG5cdCAgdGhpcy5hY2NlcHRLZXkoYmxvY2ssICdwcm9ncmFtJyk7XG5cdCAgdGhpcy5hY2NlcHRLZXkoYmxvY2ssICdpbnZlcnNlJyk7XG5cdH1cblx0ZnVuY3Rpb24gdmlzaXRQYXJ0aWFsKHBhcnRpYWwpIHtcblx0ICB0aGlzLmFjY2VwdFJlcXVpcmVkKHBhcnRpYWwsICduYW1lJyk7XG5cdCAgdGhpcy5hY2NlcHRBcnJheShwYXJ0aWFsLnBhcmFtcyk7XG5cdCAgdGhpcy5hY2NlcHRLZXkocGFydGlhbCwgJ2hhc2gnKTtcblx0fVxuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFZpc2l0b3I7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDg5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVsnZGVmYXVsdCddO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuU291cmNlTG9jYXRpb24gPSBTb3VyY2VMb2NhdGlvbjtcblx0ZXhwb3J0cy5pZCA9IGlkO1xuXHRleHBvcnRzLnN0cmlwRmxhZ3MgPSBzdHJpcEZsYWdzO1xuXHRleHBvcnRzLnN0cmlwQ29tbWVudCA9IHN0cmlwQ29tbWVudDtcblx0ZXhwb3J0cy5wcmVwYXJlUGF0aCA9IHByZXBhcmVQYXRoO1xuXHRleHBvcnRzLnByZXBhcmVNdXN0YWNoZSA9IHByZXBhcmVNdXN0YWNoZTtcblx0ZXhwb3J0cy5wcmVwYXJlUmF3QmxvY2sgPSBwcmVwYXJlUmF3QmxvY2s7XG5cdGV4cG9ydHMucHJlcGFyZUJsb2NrID0gcHJlcGFyZUJsb2NrO1xuXHRleHBvcnRzLnByZXBhcmVQcm9ncmFtID0gcHJlcGFyZVByb2dyYW07XG5cdGV4cG9ydHMucHJlcGFyZVBhcnRpYWxCbG9jayA9IHByZXBhcmVQYXJ0aWFsQmxvY2s7XG5cblx0dmFyIF9leGNlcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBfZXhjZXB0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4Y2VwdGlvbik7XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVDbG9zZShvcGVuLCBjbG9zZSkge1xuXHQgIGNsb3NlID0gY2xvc2UucGF0aCA/IGNsb3NlLnBhdGgub3JpZ2luYWwgOiBjbG9zZTtcblxuXHQgIGlmIChvcGVuLnBhdGgub3JpZ2luYWwgIT09IGNsb3NlKSB7XG5cdCAgICB2YXIgZXJyb3JOb2RlID0geyBsb2M6IG9wZW4ucGF0aC5sb2MgfTtcblxuXHQgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10ob3Blbi5wYXRoLm9yaWdpbmFsICsgXCIgZG9lc24ndCBtYXRjaCBcIiArIGNsb3NlLCBlcnJvck5vZGUpO1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIFNvdXJjZUxvY2F0aW9uKHNvdXJjZSwgbG9jSW5mbykge1xuXHQgIHRoaXMuc291cmNlID0gc291cmNlO1xuXHQgIHRoaXMuc3RhcnQgPSB7XG5cdCAgICBsaW5lOiBsb2NJbmZvLmZpcnN0X2xpbmUsXG5cdCAgICBjb2x1bW46IGxvY0luZm8uZmlyc3RfY29sdW1uXG5cdCAgfTtcblx0ICB0aGlzLmVuZCA9IHtcblx0ICAgIGxpbmU6IGxvY0luZm8ubGFzdF9saW5lLFxuXHQgICAgY29sdW1uOiBsb2NJbmZvLmxhc3RfY29sdW1uXG5cdCAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlkKHRva2VuKSB7XG5cdCAgaWYgKC9eXFxbLipcXF0kLy50ZXN0KHRva2VuKSkge1xuXHQgICAgcmV0dXJuIHRva2VuLnN1YnN0cmluZygxLCB0b2tlbi5sZW5ndGggLSAxKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIHRva2VuO1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIHN0cmlwRmxhZ3Mob3BlbiwgY2xvc2UpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgb3Blbjogb3Blbi5jaGFyQXQoMikgPT09ICd+Jyxcblx0ICAgIGNsb3NlOiBjbG9zZS5jaGFyQXQoY2xvc2UubGVuZ3RoIC0gMykgPT09ICd+J1xuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBzdHJpcENvbW1lbnQoY29tbWVudCkge1xuXHQgIHJldHVybiBjb21tZW50LnJlcGxhY2UoL15cXHtcXHt+PyEtPy0/LywgJycpLnJlcGxhY2UoLy0/LT9+P1xcfVxcfSQvLCAnJyk7XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlUGF0aChkYXRhLCBwYXJ0cywgbG9jKSB7XG5cdCAgbG9jID0gdGhpcy5sb2NJbmZvKGxvYyk7XG5cblx0ICB2YXIgb3JpZ2luYWwgPSBkYXRhID8gJ0AnIDogJycsXG5cdCAgICAgIGRpZyA9IFtdLFxuXHQgICAgICBkZXB0aCA9IDA7XG5cblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXS5wYXJ0LFxuXG5cdCAgICAvLyBJZiB3ZSBoYXZlIFtdIHN5bnRheCB0aGVuIHdlIGRvIG5vdCB0cmVhdCBwYXRoIHJlZmVyZW5jZXMgYXMgb3BlcmF0b3JzLFxuXHQgICAgLy8gaS5lLiBmb28uW3RoaXNdIHJlc29sdmVzIHRvIGFwcHJveGltYXRlbHkgY29udGV4dC5mb29bJ3RoaXMnXVxuXHQgICAgaXNMaXRlcmFsID0gcGFydHNbaV0ub3JpZ2luYWwgIT09IHBhcnQ7XG5cdCAgICBvcmlnaW5hbCArPSAocGFydHNbaV0uc2VwYXJhdG9yIHx8ICcnKSArIHBhcnQ7XG5cblx0ICAgIGlmICghaXNMaXRlcmFsICYmIChwYXJ0ID09PSAnLi4nIHx8IHBhcnQgPT09ICcuJyB8fCBwYXJ0ID09PSAndGhpcycpKSB7XG5cdCAgICAgIGlmIChkaWcubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdJbnZhbGlkIHBhdGg6ICcgKyBvcmlnaW5hbCwgeyBsb2M6IGxvYyB9KTtcblx0ICAgICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG5cdCAgICAgICAgZGVwdGgrKztcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZGlnLnB1c2gocGFydCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHtcblx0ICAgIHR5cGU6ICdQYXRoRXhwcmVzc2lvbicsXG5cdCAgICBkYXRhOiBkYXRhLFxuXHQgICAgZGVwdGg6IGRlcHRoLFxuXHQgICAgcGFydHM6IGRpZyxcblx0ICAgIG9yaWdpbmFsOiBvcmlnaW5hbCxcblx0ICAgIGxvYzogbG9jXG5cdCAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVNdXN0YWNoZShwYXRoLCBwYXJhbXMsIGhhc2gsIG9wZW4sIHN0cmlwLCBsb2NJbmZvKSB7XG5cdCAgLy8gTXVzdCB1c2UgY2hhckF0IHRvIHN1cHBvcnQgSUUgcHJlLTEwXG5cdCAgdmFyIGVzY2FwZUZsYWcgPSBvcGVuLmNoYXJBdCgzKSB8fCBvcGVuLmNoYXJBdCgyKSxcblx0ICAgICAgZXNjYXBlZCA9IGVzY2FwZUZsYWcgIT09ICd7JyAmJiBlc2NhcGVGbGFnICE9PSAnJic7XG5cblx0ICB2YXIgZGVjb3JhdG9yID0gL1xcKi8udGVzdChvcGVuKTtcblx0ICByZXR1cm4ge1xuXHQgICAgdHlwZTogZGVjb3JhdG9yID8gJ0RlY29yYXRvcicgOiAnTXVzdGFjaGVTdGF0ZW1lbnQnLFxuXHQgICAgcGF0aDogcGF0aCxcblx0ICAgIHBhcmFtczogcGFyYW1zLFxuXHQgICAgaGFzaDogaGFzaCxcblx0ICAgIGVzY2FwZWQ6IGVzY2FwZWQsXG5cdCAgICBzdHJpcDogc3RyaXAsXG5cdCAgICBsb2M6IHRoaXMubG9jSW5mbyhsb2NJbmZvKVxuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlUmF3QmxvY2sob3BlblJhd0Jsb2NrLCBjb250ZW50cywgY2xvc2UsIGxvY0luZm8pIHtcblx0ICB2YWxpZGF0ZUNsb3NlKG9wZW5SYXdCbG9jaywgY2xvc2UpO1xuXG5cdCAgbG9jSW5mbyA9IHRoaXMubG9jSW5mbyhsb2NJbmZvKTtcblx0ICB2YXIgcHJvZ3JhbSA9IHtcblx0ICAgIHR5cGU6ICdQcm9ncmFtJyxcblx0ICAgIGJvZHk6IGNvbnRlbnRzLFxuXHQgICAgc3RyaXA6IHt9LFxuXHQgICAgbG9jOiBsb2NJbmZvXG5cdCAgfTtcblxuXHQgIHJldHVybiB7XG5cdCAgICB0eXBlOiAnQmxvY2tTdGF0ZW1lbnQnLFxuXHQgICAgcGF0aDogb3BlblJhd0Jsb2NrLnBhdGgsXG5cdCAgICBwYXJhbXM6IG9wZW5SYXdCbG9jay5wYXJhbXMsXG5cdCAgICBoYXNoOiBvcGVuUmF3QmxvY2suaGFzaCxcblx0ICAgIHByb2dyYW06IHByb2dyYW0sXG5cdCAgICBvcGVuU3RyaXA6IHt9LFxuXHQgICAgaW52ZXJzZVN0cmlwOiB7fSxcblx0ICAgIGNsb3NlU3RyaXA6IHt9LFxuXHQgICAgbG9jOiBsb2NJbmZvXG5cdCAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVCbG9jayhvcGVuQmxvY2ssIHByb2dyYW0sIGludmVyc2VBbmRQcm9ncmFtLCBjbG9zZSwgaW52ZXJ0ZWQsIGxvY0luZm8pIHtcblx0ICBpZiAoY2xvc2UgJiYgY2xvc2UucGF0aCkge1xuXHQgICAgdmFsaWRhdGVDbG9zZShvcGVuQmxvY2ssIGNsb3NlKTtcblx0ICB9XG5cblx0ICB2YXIgZGVjb3JhdG9yID0gL1xcKi8udGVzdChvcGVuQmxvY2sub3Blbik7XG5cblx0ICBwcm9ncmFtLmJsb2NrUGFyYW1zID0gb3BlbkJsb2NrLmJsb2NrUGFyYW1zO1xuXG5cdCAgdmFyIGludmVyc2UgPSB1bmRlZmluZWQsXG5cdCAgICAgIGludmVyc2VTdHJpcCA9IHVuZGVmaW5lZDtcblxuXHQgIGlmIChpbnZlcnNlQW5kUHJvZ3JhbSkge1xuXHQgICAgaWYgKGRlY29yYXRvcikge1xuXHQgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVW5leHBlY3RlZCBpbnZlcnNlIGJsb2NrIG9uIGRlY29yYXRvcicsIGludmVyc2VBbmRQcm9ncmFtKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGludmVyc2VBbmRQcm9ncmFtLmNoYWluKSB7XG5cdCAgICAgIGludmVyc2VBbmRQcm9ncmFtLnByb2dyYW0uYm9keVswXS5jbG9zZVN0cmlwID0gY2xvc2Uuc3RyaXA7XG5cdCAgICB9XG5cblx0ICAgIGludmVyc2VTdHJpcCA9IGludmVyc2VBbmRQcm9ncmFtLnN0cmlwO1xuXHQgICAgaW52ZXJzZSA9IGludmVyc2VBbmRQcm9ncmFtLnByb2dyYW07XG5cdCAgfVxuXG5cdCAgaWYgKGludmVydGVkKSB7XG5cdCAgICBpbnZlcnRlZCA9IGludmVyc2U7XG5cdCAgICBpbnZlcnNlID0gcHJvZ3JhbTtcblx0ICAgIHByb2dyYW0gPSBpbnZlcnRlZDtcblx0ICB9XG5cblx0ICByZXR1cm4ge1xuXHQgICAgdHlwZTogZGVjb3JhdG9yID8gJ0RlY29yYXRvckJsb2NrJyA6ICdCbG9ja1N0YXRlbWVudCcsXG5cdCAgICBwYXRoOiBvcGVuQmxvY2sucGF0aCxcblx0ICAgIHBhcmFtczogb3BlbkJsb2NrLnBhcmFtcyxcblx0ICAgIGhhc2g6IG9wZW5CbG9jay5oYXNoLFxuXHQgICAgcHJvZ3JhbTogcHJvZ3JhbSxcblx0ICAgIGludmVyc2U6IGludmVyc2UsXG5cdCAgICBvcGVuU3RyaXA6IG9wZW5CbG9jay5zdHJpcCxcblx0ICAgIGludmVyc2VTdHJpcDogaW52ZXJzZVN0cmlwLFxuXHQgICAgY2xvc2VTdHJpcDogY2xvc2UgJiYgY2xvc2Uuc3RyaXAsXG5cdCAgICBsb2M6IHRoaXMubG9jSW5mbyhsb2NJbmZvKVxuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlUHJvZ3JhbShzdGF0ZW1lbnRzLCBsb2MpIHtcblx0ICBpZiAoIWxvYyAmJiBzdGF0ZW1lbnRzLmxlbmd0aCkge1xuXHQgICAgdmFyIGZpcnN0TG9jID0gc3RhdGVtZW50c1swXS5sb2MsXG5cdCAgICAgICAgbGFzdExvYyA9IHN0YXRlbWVudHNbc3RhdGVtZW50cy5sZW5ndGggLSAxXS5sb2M7XG5cblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgICBpZiAoZmlyc3RMb2MgJiYgbGFzdExvYykge1xuXHQgICAgICBsb2MgPSB7XG5cdCAgICAgICAgc291cmNlOiBmaXJzdExvYy5zb3VyY2UsXG5cdCAgICAgICAgc3RhcnQ6IHtcblx0ICAgICAgICAgIGxpbmU6IGZpcnN0TG9jLnN0YXJ0LmxpbmUsXG5cdCAgICAgICAgICBjb2x1bW46IGZpcnN0TG9jLnN0YXJ0LmNvbHVtblxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZW5kOiB7XG5cdCAgICAgICAgICBsaW5lOiBsYXN0TG9jLmVuZC5saW5lLFxuXHQgICAgICAgICAgY29sdW1uOiBsYXN0TG9jLmVuZC5jb2x1bW5cblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHtcblx0ICAgIHR5cGU6ICdQcm9ncmFtJyxcblx0ICAgIGJvZHk6IHN0YXRlbWVudHMsXG5cdCAgICBzdHJpcDoge30sXG5cdCAgICBsb2M6IGxvY1xuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlUGFydGlhbEJsb2NrKG9wZW4sIHByb2dyYW0sIGNsb3NlLCBsb2NJbmZvKSB7XG5cdCAgdmFsaWRhdGVDbG9zZShvcGVuLCBjbG9zZSk7XG5cblx0ICByZXR1cm4ge1xuXHQgICAgdHlwZTogJ1BhcnRpYWxCbG9ja1N0YXRlbWVudCcsXG5cdCAgICBuYW1lOiBvcGVuLnBhdGgsXG5cdCAgICBwYXJhbXM6IG9wZW4ucGFyYW1zLFxuXHQgICAgaGFzaDogb3Blbi5oYXNoLFxuXHQgICAgcHJvZ3JhbTogcHJvZ3JhbSxcblx0ICAgIG9wZW5TdHJpcDogb3Blbi5zdHJpcCxcblx0ICAgIGNsb3NlU3RyaXA6IGNsb3NlICYmIGNsb3NlLnN0cmlwLFxuXHQgICAgbG9jOiB0aGlzLmxvY0luZm8obG9jSW5mbylcblx0ICB9O1xuXHR9XG5cbi8qKiovIH0pLFxuLyogOTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBlc2xpbnQtZGlzYWJsZSBuZXctY2FwICovXG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfT2JqZWN0JGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpWydkZWZhdWx0J107XG5cblx0dmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpWydkZWZhdWx0J107XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5Db21waWxlciA9IENvbXBpbGVyO1xuXHRleHBvcnRzLnByZWNvbXBpbGUgPSBwcmVjb21waWxlO1xuXHRleHBvcnRzLmNvbXBpbGUgPSBjb21waWxlO1xuXG5cdHZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHR2YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBfYXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cblx0dmFyIF9hc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXN0KTtcblxuXHR2YXIgc2xpY2UgPSBbXS5zbGljZTtcblxuXHRmdW5jdGlvbiBDb21waWxlcigpIHt9XG5cblx0Ly8gdGhlIGZvdW5kSGVscGVyIHJlZ2lzdGVyIHdpbGwgZGlzYW1iaWd1YXRlIGhlbHBlciBsb29rdXAgZnJvbSBmaW5kaW5nIGFcblx0Ly8gZnVuY3Rpb24gaW4gYSBjb250ZXh0LiBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgbXVzdGFjaGUgY29tcGF0aWJpbGl0eSwgd2hpY2hcblx0Ly8gcmVxdWlyZXMgdGhhdCBjb250ZXh0IGZ1bmN0aW9ucyBpbiBibG9ja3MgYXJlIGV2YWx1YXRlZCBieSBibG9ja0hlbHBlck1pc3NpbmcsXG5cdC8vIGFuZCB0aGVuIHByb2NlZWQgYXMgaWYgdGhlIHJlc3VsdGluZyB2YWx1ZSB3YXMgcHJvdmlkZWQgdG8gYmxvY2tIZWxwZXJNaXNzaW5nLlxuXG5cdENvbXBpbGVyLnByb3RvdHlwZSA9IHtcblx0ICBjb21waWxlcjogQ29tcGlsZXIsXG5cblx0ICBlcXVhbHM6IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuXHQgICAgdmFyIGxlbiA9IHRoaXMub3Bjb2Rlcy5sZW5ndGg7XG5cdCAgICBpZiAob3RoZXIub3Bjb2Rlcy5sZW5ndGggIT09IGxlbikge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgdmFyIG9wY29kZSA9IHRoaXMub3Bjb2Rlc1tpXSxcblx0ICAgICAgICAgIG90aGVyT3Bjb2RlID0gb3RoZXIub3Bjb2Rlc1tpXTtcblx0ICAgICAgaWYgKG9wY29kZS5vcGNvZGUgIT09IG90aGVyT3Bjb2RlLm9wY29kZSB8fCAhYXJnRXF1YWxzKG9wY29kZS5hcmdzLCBvdGhlck9wY29kZS5hcmdzKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICAvLyBXZSBrbm93IHRoYXQgbGVuZ3RoIGlzIHRoZSBzYW1lIGJldHdlZW4gdGhlIHR3byBhcnJheXMgYmVjYXVzZSB0aGV5IGFyZSBkaXJlY3RseSB0aWVkXG5cdCAgICAvLyB0byB0aGUgb3Bjb2RlIGJlaGF2aW9yIGFib3ZlLlxuXHQgICAgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgIGlmICghdGhpcy5jaGlsZHJlbltpXS5lcXVhbHMob3RoZXIuY2hpbGRyZW5baV0pKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH0sXG5cblx0ICBndWlkOiAwLFxuXG5cdCAgY29tcGlsZTogZnVuY3Rpb24gY29tcGlsZShwcm9ncmFtLCBvcHRpb25zKSB7XG5cdCAgICB0aGlzLnNvdXJjZU5vZGUgPSBbXTtcblx0ICAgIHRoaXMub3Bjb2RlcyA9IFtdO1xuXHQgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXHQgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0ICAgIHRoaXMuc3RyaW5nUGFyYW1zID0gb3B0aW9ucy5zdHJpbmdQYXJhbXM7XG5cdCAgICB0aGlzLnRyYWNrSWRzID0gb3B0aW9ucy50cmFja0lkcztcblxuXHQgICAgb3B0aW9ucy5ibG9ja1BhcmFtcyA9IG9wdGlvbnMuYmxvY2tQYXJhbXMgfHwgW107XG5cblx0ICAgIG9wdGlvbnMua25vd25IZWxwZXJzID0gX3V0aWxzLmV4dGVuZChfT2JqZWN0JGNyZWF0ZShudWxsKSwge1xuXHQgICAgICBoZWxwZXJNaXNzaW5nOiB0cnVlLFxuXHQgICAgICBibG9ja0hlbHBlck1pc3Npbmc6IHRydWUsXG5cdCAgICAgIGVhY2g6IHRydWUsXG5cdCAgICAgICdpZic6IHRydWUsXG5cdCAgICAgIHVubGVzczogdHJ1ZSxcblx0ICAgICAgJ3dpdGgnOiB0cnVlLFxuXHQgICAgICBsb2c6IHRydWUsXG5cdCAgICAgIGxvb2t1cDogdHJ1ZVxuXHQgICAgfSwgb3B0aW9ucy5rbm93bkhlbHBlcnMpO1xuXG5cdCAgICByZXR1cm4gdGhpcy5hY2NlcHQocHJvZ3JhbSk7XG5cdCAgfSxcblxuXHQgIGNvbXBpbGVQcm9ncmFtOiBmdW5jdGlvbiBjb21waWxlUHJvZ3JhbShwcm9ncmFtKSB7XG5cdCAgICB2YXIgY2hpbGRDb21waWxlciA9IG5ldyB0aGlzLmNvbXBpbGVyKCksXG5cdCAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuZXctY2FwXG5cdCAgICByZXN1bHQgPSBjaGlsZENvbXBpbGVyLmNvbXBpbGUocHJvZ3JhbSwgdGhpcy5vcHRpb25zKSxcblx0ICAgICAgICBndWlkID0gdGhpcy5ndWlkKys7XG5cblx0ICAgIHRoaXMudXNlUGFydGlhbCA9IHRoaXMudXNlUGFydGlhbCB8fCByZXN1bHQudXNlUGFydGlhbDtcblxuXHQgICAgdGhpcy5jaGlsZHJlbltndWlkXSA9IHJlc3VsdDtcblx0ICAgIHRoaXMudXNlRGVwdGhzID0gdGhpcy51c2VEZXB0aHMgfHwgcmVzdWx0LnVzZURlcHRocztcblxuXHQgICAgcmV0dXJuIGd1aWQ7XG5cdCAgfSxcblxuXHQgIGFjY2VwdDogZnVuY3Rpb24gYWNjZXB0KG5vZGUpIHtcblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBTYW5pdHkgY29kZSAqL1xuXHQgICAgaWYgKCF0aGlzW25vZGUudHlwZV0pIHtcblx0ICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ1Vua25vd24gdHlwZTogJyArIG5vZGUudHlwZSwgbm9kZSk7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMuc291cmNlTm9kZS51bnNoaWZ0KG5vZGUpO1xuXHQgICAgdmFyIHJldCA9IHRoaXNbbm9kZS50eXBlXShub2RlKTtcblx0ICAgIHRoaXMuc291cmNlTm9kZS5zaGlmdCgpO1xuXHQgICAgcmV0dXJuIHJldDtcblx0ICB9LFxuXG5cdCAgUHJvZ3JhbTogZnVuY3Rpb24gUHJvZ3JhbShwcm9ncmFtKSB7XG5cdCAgICB0aGlzLm9wdGlvbnMuYmxvY2tQYXJhbXMudW5zaGlmdChwcm9ncmFtLmJsb2NrUGFyYW1zKTtcblxuXHQgICAgdmFyIGJvZHkgPSBwcm9ncmFtLmJvZHksXG5cdCAgICAgICAgYm9keUxlbmd0aCA9IGJvZHkubGVuZ3RoO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5TGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdGhpcy5hY2NlcHQoYm9keVtpXSk7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMub3B0aW9ucy5ibG9ja1BhcmFtcy5zaGlmdCgpO1xuXG5cdCAgICB0aGlzLmlzU2ltcGxlID0gYm9keUxlbmd0aCA9PT0gMTtcblx0ICAgIHRoaXMuYmxvY2tQYXJhbXMgPSBwcm9ncmFtLmJsb2NrUGFyYW1zID8gcHJvZ3JhbS5ibG9ja1BhcmFtcy5sZW5ndGggOiAwO1xuXG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXG5cdCAgQmxvY2tTdGF0ZW1lbnQ6IGZ1bmN0aW9uIEJsb2NrU3RhdGVtZW50KGJsb2NrKSB7XG5cdCAgICB0cmFuc2Zvcm1MaXRlcmFsVG9QYXRoKGJsb2NrKTtcblxuXHQgICAgdmFyIHByb2dyYW0gPSBibG9jay5wcm9ncmFtLFxuXHQgICAgICAgIGludmVyc2UgPSBibG9jay5pbnZlcnNlO1xuXG5cdCAgICBwcm9ncmFtID0gcHJvZ3JhbSAmJiB0aGlzLmNvbXBpbGVQcm9ncmFtKHByb2dyYW0pO1xuXHQgICAgaW52ZXJzZSA9IGludmVyc2UgJiYgdGhpcy5jb21waWxlUHJvZ3JhbShpbnZlcnNlKTtcblxuXHQgICAgdmFyIHR5cGUgPSB0aGlzLmNsYXNzaWZ5U2V4cHIoYmxvY2spO1xuXG5cdCAgICBpZiAodHlwZSA9PT0gJ2hlbHBlcicpIHtcblx0ICAgICAgdGhpcy5oZWxwZXJTZXhwcihibG9jaywgcHJvZ3JhbSwgaW52ZXJzZSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzaW1wbGUnKSB7XG5cdCAgICAgIHRoaXMuc2ltcGxlU2V4cHIoYmxvY2spO1xuXG5cdCAgICAgIC8vIG5vdyB0aGF0IHRoZSBzaW1wbGUgbXVzdGFjaGUgaXMgcmVzb2x2ZWQsIHdlIG5lZWQgdG9cblx0ICAgICAgLy8gZXZhbHVhdGUgaXQgYnkgZXhlY3V0aW5nIGBibG9ja0hlbHBlck1pc3NpbmdgXG5cdCAgICAgIHRoaXMub3Bjb2RlKCdwdXNoUHJvZ3JhbScsIHByb2dyYW0pO1xuXHQgICAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBpbnZlcnNlKTtcblx0ICAgICAgdGhpcy5vcGNvZGUoJ2VtcHR5SGFzaCcpO1xuXHQgICAgICB0aGlzLm9wY29kZSgnYmxvY2tWYWx1ZScsIGJsb2NrLnBhdGgub3JpZ2luYWwpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5hbWJpZ3VvdXNTZXhwcihibG9jaywgcHJvZ3JhbSwgaW52ZXJzZSk7XG5cblx0ICAgICAgLy8gbm93IHRoYXQgdGhlIHNpbXBsZSBtdXN0YWNoZSBpcyByZXNvbHZlZCwgd2UgbmVlZCB0b1xuXHQgICAgICAvLyBldmFsdWF0ZSBpdCBieSBleGVjdXRpbmcgYGJsb2NrSGVscGVyTWlzc2luZ2Bcblx0ICAgICAgdGhpcy5vcGNvZGUoJ3B1c2hQcm9ncmFtJywgcHJvZ3JhbSk7XG5cdCAgICAgIHRoaXMub3Bjb2RlKCdwdXNoUHJvZ3JhbScsIGludmVyc2UpO1xuXHQgICAgICB0aGlzLm9wY29kZSgnZW1wdHlIYXNoJyk7XG5cdCAgICAgIHRoaXMub3Bjb2RlKCdhbWJpZ3VvdXNCbG9ja1ZhbHVlJyk7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMub3Bjb2RlKCdhcHBlbmQnKTtcblx0ICB9LFxuXG5cdCAgRGVjb3JhdG9yQmxvY2s6IGZ1bmN0aW9uIERlY29yYXRvckJsb2NrKGRlY29yYXRvcikge1xuXHQgICAgdmFyIHByb2dyYW0gPSBkZWNvcmF0b3IucHJvZ3JhbSAmJiB0aGlzLmNvbXBpbGVQcm9ncmFtKGRlY29yYXRvci5wcm9ncmFtKTtcblx0ICAgIHZhciBwYXJhbXMgPSB0aGlzLnNldHVwRnVsbE11c3RhY2hlUGFyYW1zKGRlY29yYXRvciwgcHJvZ3JhbSwgdW5kZWZpbmVkKSxcblx0ICAgICAgICBwYXRoID0gZGVjb3JhdG9yLnBhdGg7XG5cblx0ICAgIHRoaXMudXNlRGVjb3JhdG9ycyA9IHRydWU7XG5cdCAgICB0aGlzLm9wY29kZSgncmVnaXN0ZXJEZWNvcmF0b3InLCBwYXJhbXMubGVuZ3RoLCBwYXRoLm9yaWdpbmFsKTtcblx0ICB9LFxuXG5cdCAgUGFydGlhbFN0YXRlbWVudDogZnVuY3Rpb24gUGFydGlhbFN0YXRlbWVudChwYXJ0aWFsKSB7XG5cdCAgICB0aGlzLnVzZVBhcnRpYWwgPSB0cnVlO1xuXG5cdCAgICB2YXIgcHJvZ3JhbSA9IHBhcnRpYWwucHJvZ3JhbTtcblx0ICAgIGlmIChwcm9ncmFtKSB7XG5cdCAgICAgIHByb2dyYW0gPSB0aGlzLmNvbXBpbGVQcm9ncmFtKHBhcnRpYWwucHJvZ3JhbSk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBwYXJhbXMgPSBwYXJ0aWFsLnBhcmFtcztcblx0ICAgIGlmIChwYXJhbXMubGVuZ3RoID4gMSkge1xuXHQgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVW5zdXBwb3J0ZWQgbnVtYmVyIG9mIHBhcnRpYWwgYXJndW1lbnRzOiAnICsgcGFyYW1zLmxlbmd0aCwgcGFydGlhbCk7XG5cdCAgICB9IGVsc2UgaWYgKCFwYXJhbXMubGVuZ3RoKSB7XG5cdCAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXhwbGljaXRQYXJ0aWFsQ29udGV4dCkge1xuXHQgICAgICAgIHRoaXMub3Bjb2RlKCdwdXNoTGl0ZXJhbCcsICd1bmRlZmluZWQnKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwYXJhbXMucHVzaCh7IHR5cGU6ICdQYXRoRXhwcmVzc2lvbicsIHBhcnRzOiBbXSwgZGVwdGg6IDAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgdmFyIHBhcnRpYWxOYW1lID0gcGFydGlhbC5uYW1lLm9yaWdpbmFsLFxuXHQgICAgICAgIGlzRHluYW1pYyA9IHBhcnRpYWwubmFtZS50eXBlID09PSAnU3ViRXhwcmVzc2lvbic7XG5cdCAgICBpZiAoaXNEeW5hbWljKSB7XG5cdCAgICAgIHRoaXMuYWNjZXB0KHBhcnRpYWwubmFtZSk7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMuc2V0dXBGdWxsTXVzdGFjaGVQYXJhbXMocGFydGlhbCwgcHJvZ3JhbSwgdW5kZWZpbmVkLCB0cnVlKTtcblxuXHQgICAgdmFyIGluZGVudCA9IHBhcnRpYWwuaW5kZW50IHx8ICcnO1xuXHQgICAgaWYgKHRoaXMub3B0aW9ucy5wcmV2ZW50SW5kZW50ICYmIGluZGVudCkge1xuXHQgICAgICB0aGlzLm9wY29kZSgnYXBwZW5kQ29udGVudCcsIGluZGVudCk7XG5cdCAgICAgIGluZGVudCA9ICcnO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLm9wY29kZSgnaW52b2tlUGFydGlhbCcsIGlzRHluYW1pYywgcGFydGlhbE5hbWUsIGluZGVudCk7XG5cdCAgICB0aGlzLm9wY29kZSgnYXBwZW5kJyk7XG5cdCAgfSxcblx0ICBQYXJ0aWFsQmxvY2tTdGF0ZW1lbnQ6IGZ1bmN0aW9uIFBhcnRpYWxCbG9ja1N0YXRlbWVudChwYXJ0aWFsQmxvY2spIHtcblx0ICAgIHRoaXMuUGFydGlhbFN0YXRlbWVudChwYXJ0aWFsQmxvY2spO1xuXHQgIH0sXG5cblx0ICBNdXN0YWNoZVN0YXRlbWVudDogZnVuY3Rpb24gTXVzdGFjaGVTdGF0ZW1lbnQobXVzdGFjaGUpIHtcblx0ICAgIHRoaXMuU3ViRXhwcmVzc2lvbihtdXN0YWNoZSk7XG5cblx0ICAgIGlmIChtdXN0YWNoZS5lc2NhcGVkICYmICF0aGlzLm9wdGlvbnMubm9Fc2NhcGUpIHtcblx0ICAgICAgdGhpcy5vcGNvZGUoJ2FwcGVuZEVzY2FwZWQnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMub3Bjb2RlKCdhcHBlbmQnKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIERlY29yYXRvcjogZnVuY3Rpb24gRGVjb3JhdG9yKGRlY29yYXRvcikge1xuXHQgICAgdGhpcy5EZWNvcmF0b3JCbG9jayhkZWNvcmF0b3IpO1xuXHQgIH0sXG5cblx0ICBDb250ZW50U3RhdGVtZW50OiBmdW5jdGlvbiBDb250ZW50U3RhdGVtZW50KGNvbnRlbnQpIHtcblx0ICAgIGlmIChjb250ZW50LnZhbHVlKSB7XG5cdCAgICAgIHRoaXMub3Bjb2RlKCdhcHBlbmRDb250ZW50JywgY29udGVudC52YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIENvbW1lbnRTdGF0ZW1lbnQ6IGZ1bmN0aW9uIENvbW1lbnRTdGF0ZW1lbnQoKSB7fSxcblxuXHQgIFN1YkV4cHJlc3Npb246IGZ1bmN0aW9uIFN1YkV4cHJlc3Npb24oc2V4cHIpIHtcblx0ICAgIHRyYW5zZm9ybUxpdGVyYWxUb1BhdGgoc2V4cHIpO1xuXHQgICAgdmFyIHR5cGUgPSB0aGlzLmNsYXNzaWZ5U2V4cHIoc2V4cHIpO1xuXG5cdCAgICBpZiAodHlwZSA9PT0gJ3NpbXBsZScpIHtcblx0ICAgICAgdGhpcy5zaW1wbGVTZXhwcihzZXhwcik7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdoZWxwZXInKSB7XG5cdCAgICAgIHRoaXMuaGVscGVyU2V4cHIoc2V4cHIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5hbWJpZ3VvdXNTZXhwcihzZXhwcik7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBhbWJpZ3VvdXNTZXhwcjogZnVuY3Rpb24gYW1iaWd1b3VzU2V4cHIoc2V4cHIsIHByb2dyYW0sIGludmVyc2UpIHtcblx0ICAgIHZhciBwYXRoID0gc2V4cHIucGF0aCxcblx0ICAgICAgICBuYW1lID0gcGF0aC5wYXJ0c1swXSxcblx0ICAgICAgICBpc0Jsb2NrID0gcHJvZ3JhbSAhPSBudWxsIHx8IGludmVyc2UgIT0gbnVsbDtcblxuXHQgICAgdGhpcy5vcGNvZGUoJ2dldENvbnRleHQnLCBwYXRoLmRlcHRoKTtcblxuXHQgICAgdGhpcy5vcGNvZGUoJ3B1c2hQcm9ncmFtJywgcHJvZ3JhbSk7XG5cdCAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBpbnZlcnNlKTtcblxuXHQgICAgcGF0aC5zdHJpY3QgPSB0cnVlO1xuXHQgICAgdGhpcy5hY2NlcHQocGF0aCk7XG5cblx0ICAgIHRoaXMub3Bjb2RlKCdpbnZva2VBbWJpZ3VvdXMnLCBuYW1lLCBpc0Jsb2NrKTtcblx0ICB9LFxuXG5cdCAgc2ltcGxlU2V4cHI6IGZ1bmN0aW9uIHNpbXBsZVNleHByKHNleHByKSB7XG5cdCAgICB2YXIgcGF0aCA9IHNleHByLnBhdGg7XG5cdCAgICBwYXRoLnN0cmljdCA9IHRydWU7XG5cdCAgICB0aGlzLmFjY2VwdChwYXRoKTtcblx0ICAgIHRoaXMub3Bjb2RlKCdyZXNvbHZlUG9zc2libGVMYW1iZGEnKTtcblx0ICB9LFxuXG5cdCAgaGVscGVyU2V4cHI6IGZ1bmN0aW9uIGhlbHBlclNleHByKHNleHByLCBwcm9ncmFtLCBpbnZlcnNlKSB7XG5cdCAgICB2YXIgcGFyYW1zID0gdGhpcy5zZXR1cEZ1bGxNdXN0YWNoZVBhcmFtcyhzZXhwciwgcHJvZ3JhbSwgaW52ZXJzZSksXG5cdCAgICAgICAgcGF0aCA9IHNleHByLnBhdGgsXG5cdCAgICAgICAgbmFtZSA9IHBhdGgucGFydHNbMF07XG5cblx0ICAgIGlmICh0aGlzLm9wdGlvbnMua25vd25IZWxwZXJzW25hbWVdKSB7XG5cdCAgICAgIHRoaXMub3Bjb2RlKCdpbnZva2VLbm93bkhlbHBlcicsIHBhcmFtcy5sZW5ndGgsIG5hbWUpO1xuXHQgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMua25vd25IZWxwZXJzT25seSkge1xuXHQgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnWW91IHNwZWNpZmllZCBrbm93bkhlbHBlcnNPbmx5LCBidXQgdXNlZCB0aGUgdW5rbm93biBoZWxwZXIgJyArIG5hbWUsIHNleHByKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHBhdGguc3RyaWN0ID0gdHJ1ZTtcblx0ICAgICAgcGF0aC5mYWxzeSA9IHRydWU7XG5cblx0ICAgICAgdGhpcy5hY2NlcHQocGF0aCk7XG5cdCAgICAgIHRoaXMub3Bjb2RlKCdpbnZva2VIZWxwZXInLCBwYXJhbXMubGVuZ3RoLCBwYXRoLm9yaWdpbmFsLCBfYXN0MlsnZGVmYXVsdCddLmhlbHBlcnMuc2ltcGxlSWQocGF0aCkpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBQYXRoRXhwcmVzc2lvbjogZnVuY3Rpb24gUGF0aEV4cHJlc3Npb24ocGF0aCkge1xuXHQgICAgdGhpcy5hZGREZXB0aChwYXRoLmRlcHRoKTtcblx0ICAgIHRoaXMub3Bjb2RlKCdnZXRDb250ZXh0JywgcGF0aC5kZXB0aCk7XG5cblx0ICAgIHZhciBuYW1lID0gcGF0aC5wYXJ0c1swXSxcblx0ICAgICAgICBzY29wZWQgPSBfYXN0MlsnZGVmYXVsdCddLmhlbHBlcnMuc2NvcGVkSWQocGF0aCksXG5cdCAgICAgICAgYmxvY2tQYXJhbUlkID0gIXBhdGguZGVwdGggJiYgIXNjb3BlZCAmJiB0aGlzLmJsb2NrUGFyYW1JbmRleChuYW1lKTtcblxuXHQgICAgaWYgKGJsb2NrUGFyYW1JZCkge1xuXHQgICAgICB0aGlzLm9wY29kZSgnbG9va3VwQmxvY2tQYXJhbScsIGJsb2NrUGFyYW1JZCwgcGF0aC5wYXJ0cyk7XG5cdCAgICB9IGVsc2UgaWYgKCFuYW1lKSB7XG5cdCAgICAgIC8vIENvbnRleHQgcmVmZXJlbmNlLCBpLmUuIGB7e2ZvbyAufX1gIG9yIGB7e2ZvbyAuLn19YFxuXHQgICAgICB0aGlzLm9wY29kZSgncHVzaENvbnRleHQnKTtcblx0ICAgIH0gZWxzZSBpZiAocGF0aC5kYXRhKSB7XG5cdCAgICAgIHRoaXMub3B0aW9ucy5kYXRhID0gdHJ1ZTtcblx0ICAgICAgdGhpcy5vcGNvZGUoJ2xvb2t1cERhdGEnLCBwYXRoLmRlcHRoLCBwYXRoLnBhcnRzLCBwYXRoLnN0cmljdCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLm9wY29kZSgnbG9va3VwT25Db250ZXh0JywgcGF0aC5wYXJ0cywgcGF0aC5mYWxzeSwgcGF0aC5zdHJpY3QsIHNjb3BlZCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIFN0cmluZ0xpdGVyYWw6IGZ1bmN0aW9uIFN0cmluZ0xpdGVyYWwoc3RyaW5nKSB7XG5cdCAgICB0aGlzLm9wY29kZSgncHVzaFN0cmluZycsIHN0cmluZy52YWx1ZSk7XG5cdCAgfSxcblxuXHQgIE51bWJlckxpdGVyYWw6IGZ1bmN0aW9uIE51bWJlckxpdGVyYWwobnVtYmVyKSB7XG5cdCAgICB0aGlzLm9wY29kZSgncHVzaExpdGVyYWwnLCBudW1iZXIudmFsdWUpO1xuXHQgIH0sXG5cblx0ICBCb29sZWFuTGl0ZXJhbDogZnVuY3Rpb24gQm9vbGVhbkxpdGVyYWwoYm9vbCkge1xuXHQgICAgdGhpcy5vcGNvZGUoJ3B1c2hMaXRlcmFsJywgYm9vbC52YWx1ZSk7XG5cdCAgfSxcblxuXHQgIFVuZGVmaW5lZExpdGVyYWw6IGZ1bmN0aW9uIFVuZGVmaW5lZExpdGVyYWwoKSB7XG5cdCAgICB0aGlzLm9wY29kZSgncHVzaExpdGVyYWwnLCAndW5kZWZpbmVkJyk7XG5cdCAgfSxcblxuXHQgIE51bGxMaXRlcmFsOiBmdW5jdGlvbiBOdWxsTGl0ZXJhbCgpIHtcblx0ICAgIHRoaXMub3Bjb2RlKCdwdXNoTGl0ZXJhbCcsICdudWxsJyk7XG5cdCAgfSxcblxuXHQgIEhhc2g6IGZ1bmN0aW9uIEhhc2goaGFzaCkge1xuXHQgICAgdmFyIHBhaXJzID0gaGFzaC5wYWlycyxcblx0ICAgICAgICBpID0gMCxcblx0ICAgICAgICBsID0gcGFpcnMubGVuZ3RoO1xuXG5cdCAgICB0aGlzLm9wY29kZSgncHVzaEhhc2gnKTtcblxuXHQgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgdGhpcy5wdXNoUGFyYW0ocGFpcnNbaV0udmFsdWUpO1xuXHQgICAgfVxuXHQgICAgd2hpbGUgKGktLSkge1xuXHQgICAgICB0aGlzLm9wY29kZSgnYXNzaWduVG9IYXNoJywgcGFpcnNbaV0ua2V5KTtcblx0ICAgIH1cblx0ICAgIHRoaXMub3Bjb2RlKCdwb3BIYXNoJyk7XG5cdCAgfSxcblxuXHQgIC8vIEhFTFBFUlNcblx0ICBvcGNvZGU6IGZ1bmN0aW9uIG9wY29kZShuYW1lKSB7XG5cdCAgICB0aGlzLm9wY29kZXMucHVzaCh7XG5cdCAgICAgIG9wY29kZTogbmFtZSxcblx0ICAgICAgYXJnczogc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuXHQgICAgICBsb2M6IHRoaXMuc291cmNlTm9kZVswXS5sb2Ncblx0ICAgIH0pO1xuXHQgIH0sXG5cblx0ICBhZGREZXB0aDogZnVuY3Rpb24gYWRkRGVwdGgoZGVwdGgpIHtcblx0ICAgIGlmICghZGVwdGgpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLnVzZURlcHRocyA9IHRydWU7XG5cdCAgfSxcblxuXHQgIGNsYXNzaWZ5U2V4cHI6IGZ1bmN0aW9uIGNsYXNzaWZ5U2V4cHIoc2V4cHIpIHtcblx0ICAgIHZhciBpc1NpbXBsZSA9IF9hc3QyWydkZWZhdWx0J10uaGVscGVycy5zaW1wbGVJZChzZXhwci5wYXRoKTtcblxuXHQgICAgdmFyIGlzQmxvY2tQYXJhbSA9IGlzU2ltcGxlICYmICEhdGhpcy5ibG9ja1BhcmFtSW5kZXgoc2V4cHIucGF0aC5wYXJ0c1swXSk7XG5cblx0ICAgIC8vIGEgbXVzdGFjaGUgaXMgYW4gZWxpZ2libGUgaGVscGVyIGlmOlxuXHQgICAgLy8gKiBpdHMgaWQgaXMgc2ltcGxlIChhIHNpbmdsZSBwYXJ0LCBub3QgYHRoaXNgIG9yIGAuLmApXG5cdCAgICB2YXIgaXNIZWxwZXIgPSAhaXNCbG9ja1BhcmFtICYmIF9hc3QyWydkZWZhdWx0J10uaGVscGVycy5oZWxwZXJFeHByZXNzaW9uKHNleHByKTtcblxuXHQgICAgLy8gaWYgYSBtdXN0YWNoZSBpcyBhbiBlbGlnaWJsZSBoZWxwZXIgYnV0IG5vdCBhIGRlZmluaXRlXG5cdCAgICAvLyBoZWxwZXIsIGl0IGlzIGFtYmlndW91cywgYW5kIHdpbGwgYmUgcmVzb2x2ZWQgaW4gYSBsYXRlclxuXHQgICAgLy8gcGFzcyBvciBhdCBydW50aW1lLlxuXHQgICAgdmFyIGlzRWxpZ2libGUgPSAhaXNCbG9ja1BhcmFtICYmIChpc0hlbHBlciB8fCBpc1NpbXBsZSk7XG5cblx0ICAgIC8vIGlmIGFtYmlndW91cywgd2UgY2FuIHBvc3NpYmx5IHJlc29sdmUgdGhlIGFtYmlndWl0eSBub3dcblx0ICAgIC8vIEFuIGVsaWdpYmxlIGhlbHBlciBpcyBvbmUgdGhhdCBkb2VzIG5vdCBoYXZlIGEgY29tcGxleCBwYXRoLCBpLmUuIGB0aGlzLmZvb2AsIGAuLi9mb29gIGV0Yy5cblx0ICAgIGlmIChpc0VsaWdpYmxlICYmICFpc0hlbHBlcikge1xuXHQgICAgICB2YXIgX25hbWUgPSBzZXhwci5wYXRoLnBhcnRzWzBdLFxuXHQgICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0ICAgICAgaWYgKG9wdGlvbnMua25vd25IZWxwZXJzW19uYW1lXSkge1xuXHQgICAgICAgIGlzSGVscGVyID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmtub3duSGVscGVyc09ubHkpIHtcblx0ICAgICAgICBpc0VsaWdpYmxlID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKGlzSGVscGVyKSB7XG5cdCAgICAgIHJldHVybiAnaGVscGVyJztcblx0ICAgIH0gZWxzZSBpZiAoaXNFbGlnaWJsZSkge1xuXHQgICAgICByZXR1cm4gJ2FtYmlndW91cyc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ3NpbXBsZSc7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIHB1c2hQYXJhbXM6IGZ1bmN0aW9uIHB1c2hQYXJhbXMocGFyYW1zKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcmFtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgdGhpcy5wdXNoUGFyYW0ocGFyYW1zW2ldKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgcHVzaFBhcmFtOiBmdW5jdGlvbiBwdXNoUGFyYW0odmFsKSB7XG5cdCAgICB2YXIgdmFsdWUgPSB2YWwudmFsdWUgIT0gbnVsbCA/IHZhbC52YWx1ZSA6IHZhbC5vcmlnaW5hbCB8fCAnJztcblxuXHQgICAgaWYgKHRoaXMuc3RyaW5nUGFyYW1zKSB7XG5cdCAgICAgIGlmICh2YWx1ZS5yZXBsYWNlKSB7XG5cdCAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9eKFxcLj9cXC5cXC8pKi9nLCAnJykucmVwbGFjZSgvXFwvL2csICcuJyk7XG5cdCAgICAgIH1cblxuXHQgICAgICBpZiAodmFsLmRlcHRoKSB7XG5cdCAgICAgICAgdGhpcy5hZGREZXB0aCh2YWwuZGVwdGgpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMub3Bjb2RlKCdnZXRDb250ZXh0JywgdmFsLmRlcHRoIHx8IDApO1xuXHQgICAgICB0aGlzLm9wY29kZSgncHVzaFN0cmluZ1BhcmFtJywgdmFsdWUsIHZhbC50eXBlKTtcblxuXHQgICAgICBpZiAodmFsLnR5cGUgPT09ICdTdWJFeHByZXNzaW9uJykge1xuXHQgICAgICAgIC8vIFN1YkV4cHJlc3Npb25zIGdldCBldmFsdWF0ZWQgYW5kIHBhc3NlZCBpblxuXHQgICAgICAgIC8vIGluIHN0cmluZyBwYXJhbXMgbW9kZS5cblx0ICAgICAgICB0aGlzLmFjY2VwdCh2YWwpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodGhpcy50cmFja0lkcykge1xuXHQgICAgICAgIHZhciBibG9ja1BhcmFtSW5kZXggPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgaWYgKHZhbC5wYXJ0cyAmJiAhX2FzdDJbJ2RlZmF1bHQnXS5oZWxwZXJzLnNjb3BlZElkKHZhbCkgJiYgIXZhbC5kZXB0aCkge1xuXHQgICAgICAgICAgYmxvY2tQYXJhbUluZGV4ID0gdGhpcy5ibG9ja1BhcmFtSW5kZXgodmFsLnBhcnRzWzBdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGJsb2NrUGFyYW1JbmRleCkge1xuXHQgICAgICAgICAgdmFyIGJsb2NrUGFyYW1DaGlsZCA9IHZhbC5wYXJ0cy5zbGljZSgxKS5qb2luKCcuJyk7XG5cdCAgICAgICAgICB0aGlzLm9wY29kZSgncHVzaElkJywgJ0Jsb2NrUGFyYW0nLCBibG9ja1BhcmFtSW5kZXgsIGJsb2NrUGFyYW1DaGlsZCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhbHVlID0gdmFsLm9yaWdpbmFsIHx8IHZhbHVlO1xuXHQgICAgICAgICAgaWYgKHZhbHVlLnJlcGxhY2UpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9edGhpcyg/OlxcLnwkKS8sICcnKS5yZXBsYWNlKC9eXFwuXFwvLywgJycpLnJlcGxhY2UoL15cXC4kLywgJycpO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICB0aGlzLm9wY29kZSgncHVzaElkJywgdmFsLnR5cGUsIHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5hY2NlcHQodmFsKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgc2V0dXBGdWxsTXVzdGFjaGVQYXJhbXM6IGZ1bmN0aW9uIHNldHVwRnVsbE11c3RhY2hlUGFyYW1zKHNleHByLCBwcm9ncmFtLCBpbnZlcnNlLCBvbWl0RW1wdHkpIHtcblx0ICAgIHZhciBwYXJhbXMgPSBzZXhwci5wYXJhbXM7XG5cdCAgICB0aGlzLnB1c2hQYXJhbXMocGFyYW1zKTtcblxuXHQgICAgdGhpcy5vcGNvZGUoJ3B1c2hQcm9ncmFtJywgcHJvZ3JhbSk7XG5cdCAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBpbnZlcnNlKTtcblxuXHQgICAgaWYgKHNleHByLmhhc2gpIHtcblx0ICAgICAgdGhpcy5hY2NlcHQoc2V4cHIuaGFzaCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLm9wY29kZSgnZW1wdHlIYXNoJywgb21pdEVtcHR5KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHBhcmFtcztcblx0ICB9LFxuXG5cdCAgYmxvY2tQYXJhbUluZGV4OiBmdW5jdGlvbiBibG9ja1BhcmFtSW5kZXgobmFtZSkge1xuXHQgICAgZm9yICh2YXIgZGVwdGggPSAwLCBsZW4gPSB0aGlzLm9wdGlvbnMuYmxvY2tQYXJhbXMubGVuZ3RoOyBkZXB0aCA8IGxlbjsgZGVwdGgrKykge1xuXHQgICAgICB2YXIgYmxvY2tQYXJhbXMgPSB0aGlzLm9wdGlvbnMuYmxvY2tQYXJhbXNbZGVwdGhdLFxuXHQgICAgICAgICAgcGFyYW0gPSBibG9ja1BhcmFtcyAmJiBfdXRpbHMuaW5kZXhPZihibG9ja1BhcmFtcywgbmFtZSk7XG5cdCAgICAgIGlmIChibG9ja1BhcmFtcyAmJiBwYXJhbSA+PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIFtkZXB0aCwgcGFyYW1dO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXG5cdGZ1bmN0aW9uIHByZWNvbXBpbGUoaW5wdXQsIG9wdGlvbnMsIGVudikge1xuXHQgIGlmIChpbnB1dCA9PSBudWxsIHx8IHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycgJiYgaW5wdXQudHlwZSAhPT0gJ1Byb2dyYW0nKSB7XG5cdCAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnWW91IG11c3QgcGFzcyBhIHN0cmluZyBvciBIYW5kbGViYXJzIEFTVCB0byBIYW5kbGViYXJzLnByZWNvbXBpbGUuIFlvdSBwYXNzZWQgJyArIGlucHV0KTtcblx0ICB9XG5cblx0ICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0ICBpZiAoISgnZGF0YScgaW4gb3B0aW9ucykpIHtcblx0ICAgIG9wdGlvbnMuZGF0YSA9IHRydWU7XG5cdCAgfVxuXHQgIGlmIChvcHRpb25zLmNvbXBhdCkge1xuXHQgICAgb3B0aW9ucy51c2VEZXB0aHMgPSB0cnVlO1xuXHQgIH1cblxuXHQgIHZhciBhc3QgPSBlbnYucGFyc2UoaW5wdXQsIG9wdGlvbnMpLFxuXHQgICAgICBlbnZpcm9ubWVudCA9IG5ldyBlbnYuQ29tcGlsZXIoKS5jb21waWxlKGFzdCwgb3B0aW9ucyk7XG5cdCAgcmV0dXJuIG5ldyBlbnYuSmF2YVNjcmlwdENvbXBpbGVyKCkuY29tcGlsZShlbnZpcm9ubWVudCwgb3B0aW9ucyk7XG5cdH1cblxuXHRmdW5jdGlvbiBjb21waWxlKGlucHV0LCBvcHRpb25zLCBlbnYpIHtcblx0ICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSBvcHRpb25zID0ge307XG5cblx0ICBpZiAoaW5wdXQgPT0gbnVsbCB8fCB0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnICYmIGlucHV0LnR5cGUgIT09ICdQcm9ncmFtJykge1xuXHQgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ1lvdSBtdXN0IHBhc3MgYSBzdHJpbmcgb3IgSGFuZGxlYmFycyBBU1QgdG8gSGFuZGxlYmFycy5jb21waWxlLiBZb3UgcGFzc2VkICcgKyBpbnB1dCk7XG5cdCAgfVxuXG5cdCAgb3B0aW9ucyA9IF91dGlscy5leHRlbmQoe30sIG9wdGlvbnMpO1xuXHQgIGlmICghKCdkYXRhJyBpbiBvcHRpb25zKSkge1xuXHQgICAgb3B0aW9ucy5kYXRhID0gdHJ1ZTtcblx0ICB9XG5cdCAgaWYgKG9wdGlvbnMuY29tcGF0KSB7XG5cdCAgICBvcHRpb25zLnVzZURlcHRocyA9IHRydWU7XG5cdCAgfVxuXG5cdCAgdmFyIGNvbXBpbGVkID0gdW5kZWZpbmVkO1xuXG5cdCAgZnVuY3Rpb24gY29tcGlsZUlucHV0KCkge1xuXHQgICAgdmFyIGFzdCA9IGVudi5wYXJzZShpbnB1dCwgb3B0aW9ucyksXG5cdCAgICAgICAgZW52aXJvbm1lbnQgPSBuZXcgZW52LkNvbXBpbGVyKCkuY29tcGlsZShhc3QsIG9wdGlvbnMpLFxuXHQgICAgICAgIHRlbXBsYXRlU3BlYyA9IG5ldyBlbnYuSmF2YVNjcmlwdENvbXBpbGVyKCkuY29tcGlsZShlbnZpcm9ubWVudCwgb3B0aW9ucywgdW5kZWZpbmVkLCB0cnVlKTtcblx0ICAgIHJldHVybiBlbnYudGVtcGxhdGUodGVtcGxhdGVTcGVjKTtcblx0ICB9XG5cblx0ICAvLyBUZW1wbGF0ZSBpcyBvbmx5IGNvbXBpbGVkIG9uIGZpcnN0IHVzZSBhbmQgY2FjaGVkIGFmdGVyIHRoYXQgcG9pbnQuXG5cdCAgZnVuY3Rpb24gcmV0KGNvbnRleHQsIGV4ZWNPcHRpb25zKSB7XG5cdCAgICBpZiAoIWNvbXBpbGVkKSB7XG5cdCAgICAgIGNvbXBpbGVkID0gY29tcGlsZUlucHV0KCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY29tcGlsZWQuY2FsbCh0aGlzLCBjb250ZXh0LCBleGVjT3B0aW9ucyk7XG5cdCAgfVxuXHQgIHJldC5fc2V0dXAgPSBmdW5jdGlvbiAoc2V0dXBPcHRpb25zKSB7XG5cdCAgICBpZiAoIWNvbXBpbGVkKSB7XG5cdCAgICAgIGNvbXBpbGVkID0gY29tcGlsZUlucHV0KCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY29tcGlsZWQuX3NldHVwKHNldHVwT3B0aW9ucyk7XG5cdCAgfTtcblx0ICByZXQuX2NoaWxkID0gZnVuY3Rpb24gKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcblx0ICAgIGlmICghY29tcGlsZWQpIHtcblx0ICAgICAgY29tcGlsZWQgPSBjb21waWxlSW5wdXQoKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjb21waWxlZC5fY2hpbGQoaSwgZGF0YSwgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG5cdCAgfTtcblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cblx0ZnVuY3Rpb24gYXJnRXF1YWxzKGEsIGIpIHtcblx0ICBpZiAoYSA9PT0gYikge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXG5cdCAgaWYgKF91dGlscy5pc0FycmF5KGEpICYmIF91dGlscy5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCkge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmICghYXJnRXF1YWxzKGFbaV0sIGJbaV0pKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiB0cmFuc2Zvcm1MaXRlcmFsVG9QYXRoKHNleHByKSB7XG5cdCAgaWYgKCFzZXhwci5wYXRoLnBhcnRzKSB7XG5cdCAgICB2YXIgbGl0ZXJhbCA9IHNleHByLnBhdGg7XG5cdCAgICAvLyBDYXN0aW5nIHRvIHN0cmluZyBoZXJlIHRvIG1ha2UgZmFsc2UgYW5kIDAgbGl0ZXJhbCB2YWx1ZXMgcGxheSBuaWNlbHkgd2l0aCB0aGUgcmVzdFxuXHQgICAgLy8gb2YgdGhlIHN5c3RlbS5cblx0ICAgIHNleHByLnBhdGggPSB7XG5cdCAgICAgIHR5cGU6ICdQYXRoRXhwcmVzc2lvbicsXG5cdCAgICAgIGRhdGE6IGZhbHNlLFxuXHQgICAgICBkZXB0aDogMCxcblx0ICAgICAgcGFydHM6IFtsaXRlcmFsLm9yaWdpbmFsICsgJyddLFxuXHQgICAgICBvcmlnaW5hbDogbGl0ZXJhbC5vcmlnaW5hbCArICcnLFxuXHQgICAgICBsb2M6IGxpdGVyYWwubG9jXG5cdCAgICB9O1xuXHQgIH1cblx0fVxuXG4vKioqLyB9KSxcbi8qIDkxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfT2JqZWN0JGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKVsnZGVmYXVsdCddO1xuXG5cdHZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVsnZGVmYXVsdCddO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHR2YXIgX2V4Y2VwdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblx0dmFyIF9leGNlcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhjZXB0aW9uKTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgX2NvZGVHZW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblxuXHR2YXIgX2NvZGVHZW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29kZUdlbik7XG5cblx0ZnVuY3Rpb24gTGl0ZXJhbCh2YWx1ZSkge1xuXHQgIHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIEphdmFTY3JpcHRDb21waWxlcigpIHt9XG5cblx0SmF2YVNjcmlwdENvbXBpbGVyLnByb3RvdHlwZSA9IHtcblx0ICAvLyBQVUJMSUMgQVBJOiBZb3UgY2FuIG92ZXJyaWRlIHRoZXNlIG1ldGhvZHMgaW4gYSBzdWJjbGFzcyB0byBwcm92aWRlXG5cdCAgLy8gYWx0ZXJuYXRpdmUgY29tcGlsZWQgZm9ybXMgZm9yIG5hbWUgbG9va3VwIGFuZCBidWZmZXJpbmcgc2VtYW50aWNzXG5cdCAgbmFtZUxvb2t1cDogZnVuY3Rpb24gbmFtZUxvb2t1cChwYXJlbnQsIG5hbWUgLyosICB0eXBlICovKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE5hbWVMb29rdXAocGFyZW50LCBuYW1lKTtcblx0ICB9LFxuXHQgIGRlcHRoZWRMb29rdXA6IGZ1bmN0aW9uIGRlcHRoZWRMb29rdXAobmFtZSkge1xuXHQgICAgcmV0dXJuIFt0aGlzLmFsaWFzYWJsZSgnY29udGFpbmVyLmxvb2t1cCcpLCAnKGRlcHRocywgJywgSlNPTi5zdHJpbmdpZnkobmFtZSksICcpJ107XG5cdCAgfSxcblxuXHQgIGNvbXBpbGVySW5mbzogZnVuY3Rpb24gY29tcGlsZXJJbmZvKCkge1xuXHQgICAgdmFyIHJldmlzaW9uID0gX2Jhc2UuQ09NUElMRVJfUkVWSVNJT04sXG5cdCAgICAgICAgdmVyc2lvbnMgPSBfYmFzZS5SRVZJU0lPTl9DSEFOR0VTW3JldmlzaW9uXTtcblx0ICAgIHJldHVybiBbcmV2aXNpb24sIHZlcnNpb25zXTtcblx0ICB9LFxuXG5cdCAgYXBwZW5kVG9CdWZmZXI6IGZ1bmN0aW9uIGFwcGVuZFRvQnVmZmVyKHNvdXJjZSwgbG9jYXRpb24sIGV4cGxpY2l0KSB7XG5cdCAgICAvLyBGb3JjZSBhIHNvdXJjZSBhcyB0aGlzIHNpbXBsaWZpZXMgdGhlIG1lcmdlIGxvZ2ljLlxuXHQgICAgaWYgKCFfdXRpbHMuaXNBcnJheShzb3VyY2UpKSB7XG5cdCAgICAgIHNvdXJjZSA9IFtzb3VyY2VdO1xuXHQgICAgfVxuXHQgICAgc291cmNlID0gdGhpcy5zb3VyY2Uud3JhcChzb3VyY2UsIGxvY2F0aW9uKTtcblxuXHQgICAgaWYgKHRoaXMuZW52aXJvbm1lbnQuaXNTaW1wbGUpIHtcblx0ICAgICAgcmV0dXJuIFsncmV0dXJuICcsIHNvdXJjZSwgJzsnXTtcblx0ICAgIH0gZWxzZSBpZiAoZXhwbGljaXQpIHtcblx0ICAgICAgLy8gVGhpcyBpcyBhIGNhc2Ugd2hlcmUgdGhlIGJ1ZmZlciBvcGVyYXRpb24gb2NjdXJzIGFzIGEgY2hpbGQgb2YgYW5vdGhlclxuXHQgICAgICAvLyBjb25zdHJ1Y3QsIGdlbmVyYWxseSBicmFjZXMuIFdlIGhhdmUgdG8gZXhwbGljaXRseSBvdXRwdXQgdGhlc2UgYnVmZmVyXG5cdCAgICAgIC8vIG9wZXJhdGlvbnMgdG8gZW5zdXJlIHRoYXQgdGhlIGVtaXR0ZWQgY29kZSBnb2VzIGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uLlxuXHQgICAgICByZXR1cm4gWydidWZmZXIgKz0gJywgc291cmNlLCAnOyddO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgc291cmNlLmFwcGVuZFRvQnVmZmVyID0gdHJ1ZTtcblx0ICAgICAgcmV0dXJuIHNvdXJjZTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgaW5pdGlhbGl6ZUJ1ZmZlcjogZnVuY3Rpb24gaW5pdGlhbGl6ZUJ1ZmZlcigpIHtcblx0ICAgIHJldHVybiB0aGlzLnF1b3RlZFN0cmluZygnJyk7XG5cdCAgfSxcblx0ICAvLyBFTkQgUFVCTElDIEFQSVxuXHQgIGludGVybmFsTmFtZUxvb2t1cDogZnVuY3Rpb24gaW50ZXJuYWxOYW1lTG9va3VwKHBhcmVudCwgbmFtZSkge1xuXHQgICAgdGhpcy5sb29rdXBQcm9wZXJ0eUZ1bmN0aW9uSXNVc2VkID0gdHJ1ZTtcblx0ICAgIHJldHVybiBbJ2xvb2t1cFByb3BlcnR5KCcsIHBhcmVudCwgJywnLCBKU09OLnN0cmluZ2lmeShuYW1lKSwgJyknXTtcblx0ICB9LFxuXG5cdCAgbG9va3VwUHJvcGVydHlGdW5jdGlvbklzVXNlZDogZmFsc2UsXG5cblx0ICBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKGVudmlyb25tZW50LCBvcHRpb25zLCBjb250ZXh0LCBhc09iamVjdCkge1xuXHQgICAgdGhpcy5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50O1xuXHQgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0ICAgIHRoaXMuc3RyaW5nUGFyYW1zID0gdGhpcy5vcHRpb25zLnN0cmluZ1BhcmFtcztcblx0ICAgIHRoaXMudHJhY2tJZHMgPSB0aGlzLm9wdGlvbnMudHJhY2tJZHM7XG5cdCAgICB0aGlzLnByZWNvbXBpbGUgPSAhYXNPYmplY3Q7XG5cblx0ICAgIHRoaXMubmFtZSA9IHRoaXMuZW52aXJvbm1lbnQubmFtZTtcblx0ICAgIHRoaXMuaXNDaGlsZCA9ICEhY29udGV4dDtcblx0ICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQgfHwge1xuXHQgICAgICBkZWNvcmF0b3JzOiBbXSxcblx0ICAgICAgcHJvZ3JhbXM6IFtdLFxuXHQgICAgICBlbnZpcm9ubWVudHM6IFtdXG5cdCAgICB9O1xuXG5cdCAgICB0aGlzLnByZWFtYmxlKCk7XG5cblx0ICAgIHRoaXMuc3RhY2tTbG90ID0gMDtcblx0ICAgIHRoaXMuc3RhY2tWYXJzID0gW107XG5cdCAgICB0aGlzLmFsaWFzZXMgPSB7fTtcblx0ICAgIHRoaXMucmVnaXN0ZXJzID0geyBsaXN0OiBbXSB9O1xuXHQgICAgdGhpcy5oYXNoZXMgPSBbXTtcblx0ICAgIHRoaXMuY29tcGlsZVN0YWNrID0gW107XG5cdCAgICB0aGlzLmlubGluZVN0YWNrID0gW107XG5cdCAgICB0aGlzLmJsb2NrUGFyYW1zID0gW107XG5cblx0ICAgIHRoaXMuY29tcGlsZUNoaWxkcmVuKGVudmlyb25tZW50LCBvcHRpb25zKTtcblxuXHQgICAgdGhpcy51c2VEZXB0aHMgPSB0aGlzLnVzZURlcHRocyB8fCBlbnZpcm9ubWVudC51c2VEZXB0aHMgfHwgZW52aXJvbm1lbnQudXNlRGVjb3JhdG9ycyB8fCB0aGlzLm9wdGlvbnMuY29tcGF0O1xuXHQgICAgdGhpcy51c2VCbG9ja1BhcmFtcyA9IHRoaXMudXNlQmxvY2tQYXJhbXMgfHwgZW52aXJvbm1lbnQudXNlQmxvY2tQYXJhbXM7XG5cblx0ICAgIHZhciBvcGNvZGVzID0gZW52aXJvbm1lbnQub3Bjb2Rlcyxcblx0ICAgICAgICBvcGNvZGUgPSB1bmRlZmluZWQsXG5cdCAgICAgICAgZmlyc3RMb2MgPSB1bmRlZmluZWQsXG5cdCAgICAgICAgaSA9IHVuZGVmaW5lZCxcblx0ICAgICAgICBsID0gdW5kZWZpbmVkO1xuXG5cdCAgICBmb3IgKGkgPSAwLCBsID0gb3Bjb2Rlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgb3Bjb2RlID0gb3Bjb2Rlc1tpXTtcblxuXHQgICAgICB0aGlzLnNvdXJjZS5jdXJyZW50TG9jYXRpb24gPSBvcGNvZGUubG9jO1xuXHQgICAgICBmaXJzdExvYyA9IGZpcnN0TG9jIHx8IG9wY29kZS5sb2M7XG5cdCAgICAgIHRoaXNbb3Bjb2RlLm9wY29kZV0uYXBwbHkodGhpcywgb3Bjb2RlLmFyZ3MpO1xuXHQgICAgfVxuXG5cdCAgICAvLyBGbHVzaCBhbnkgdHJhaWxpbmcgY29udGVudCB0aGF0IG1pZ2h0IGJlIHBlbmRpbmcuXG5cdCAgICB0aGlzLnNvdXJjZS5jdXJyZW50TG9jYXRpb24gPSBmaXJzdExvYztcblx0ICAgIHRoaXMucHVzaFNvdXJjZSgnJyk7XG5cblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgICBpZiAodGhpcy5zdGFja1Nsb3QgfHwgdGhpcy5pbmxpbmVTdGFjay5sZW5ndGggfHwgdGhpcy5jb21waWxlU3RhY2subGVuZ3RoKSB7XG5cdCAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdDb21waWxlIGNvbXBsZXRlZCB3aXRoIGNvbnRlbnQgbGVmdCBvbiBzdGFjaycpO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoIXRoaXMuZGVjb3JhdG9ycy5pc0VtcHR5KCkpIHtcblx0ICAgICAgdGhpcy51c2VEZWNvcmF0b3JzID0gdHJ1ZTtcblxuXHQgICAgICB0aGlzLmRlY29yYXRvcnMucHJlcGVuZChbJ3ZhciBkZWNvcmF0b3JzID0gY29udGFpbmVyLmRlY29yYXRvcnMsICcsIHRoaXMubG9va3VwUHJvcGVydHlGdW5jdGlvblZhckRlY2xhcmF0aW9uKCksICc7XFxuJ10pO1xuXHQgICAgICB0aGlzLmRlY29yYXRvcnMucHVzaCgncmV0dXJuIGZuOycpO1xuXG5cdCAgICAgIGlmIChhc09iamVjdCkge1xuXHQgICAgICAgIHRoaXMuZGVjb3JhdG9ycyA9IEZ1bmN0aW9uLmFwcGx5KHRoaXMsIFsnZm4nLCAncHJvcHMnLCAnY29udGFpbmVyJywgJ2RlcHRoMCcsICdkYXRhJywgJ2Jsb2NrUGFyYW1zJywgJ2RlcHRocycsIHRoaXMuZGVjb3JhdG9ycy5tZXJnZSgpXSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5kZWNvcmF0b3JzLnByZXBlbmQoJ2Z1bmN0aW9uKGZuLCBwcm9wcywgY29udGFpbmVyLCBkZXB0aDAsIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcXG4nKTtcblx0ICAgICAgICB0aGlzLmRlY29yYXRvcnMucHVzaCgnfVxcbicpO1xuXHQgICAgICAgIHRoaXMuZGVjb3JhdG9ycyA9IHRoaXMuZGVjb3JhdG9ycy5tZXJnZSgpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLmRlY29yYXRvcnMgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cblx0ICAgIHZhciBmbiA9IHRoaXMuY3JlYXRlRnVuY3Rpb25Db250ZXh0KGFzT2JqZWN0KTtcblx0ICAgIGlmICghdGhpcy5pc0NoaWxkKSB7XG5cdCAgICAgIHZhciByZXQgPSB7XG5cdCAgICAgICAgY29tcGlsZXI6IHRoaXMuY29tcGlsZXJJbmZvKCksXG5cdCAgICAgICAgbWFpbjogZm5cblx0ICAgICAgfTtcblxuXHQgICAgICBpZiAodGhpcy5kZWNvcmF0b3JzKSB7XG5cdCAgICAgICAgcmV0Lm1haW5fZCA9IHRoaXMuZGVjb3JhdG9yczsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2Vcblx0ICAgICAgICByZXQudXNlRGVjb3JhdG9ycyA9IHRydWU7XG5cdCAgICAgIH1cblxuXHQgICAgICB2YXIgX2NvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cdCAgICAgIHZhciBwcm9ncmFtcyA9IF9jb250ZXh0LnByb2dyYW1zO1xuXHQgICAgICB2YXIgZGVjb3JhdG9ycyA9IF9jb250ZXh0LmRlY29yYXRvcnM7XG5cblx0ICAgICAgZm9yIChpID0gMCwgbCA9IHByb2dyYW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgIGlmIChwcm9ncmFtc1tpXSkge1xuXHQgICAgICAgICAgcmV0W2ldID0gcHJvZ3JhbXNbaV07XG5cdCAgICAgICAgICBpZiAoZGVjb3JhdG9yc1tpXSkge1xuXHQgICAgICAgICAgICByZXRbaSArICdfZCddID0gZGVjb3JhdG9yc1tpXTtcblx0ICAgICAgICAgICAgcmV0LnVzZURlY29yYXRvcnMgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXG5cdCAgICAgIGlmICh0aGlzLmVudmlyb25tZW50LnVzZVBhcnRpYWwpIHtcblx0ICAgICAgICByZXQudXNlUGFydGlhbCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMub3B0aW9ucy5kYXRhKSB7XG5cdCAgICAgICAgcmV0LnVzZURhdGEgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0aGlzLnVzZURlcHRocykge1xuXHQgICAgICAgIHJldC51c2VEZXB0aHMgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0aGlzLnVzZUJsb2NrUGFyYW1zKSB7XG5cdCAgICAgICAgcmV0LnVzZUJsb2NrUGFyYW1zID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbXBhdCkge1xuXHQgICAgICAgIHJldC5jb21wYXQgPSB0cnVlO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKCFhc09iamVjdCkge1xuXHQgICAgICAgIHJldC5jb21waWxlciA9IEpTT04uc3RyaW5naWZ5KHJldC5jb21waWxlcik7XG5cblx0ICAgICAgICB0aGlzLnNvdXJjZS5jdXJyZW50TG9jYXRpb24gPSB7IHN0YXJ0OiB7IGxpbmU6IDEsIGNvbHVtbjogMCB9IH07XG5cdCAgICAgICAgcmV0ID0gdGhpcy5vYmplY3RMaXRlcmFsKHJldCk7XG5cblx0ICAgICAgICBpZiAob3B0aW9ucy5zcmNOYW1lKSB7XG5cdCAgICAgICAgICByZXQgPSByZXQudG9TdHJpbmdXaXRoU291cmNlTWFwKHsgZmlsZTogb3B0aW9ucy5kZXN0TmFtZSB9KTtcblx0ICAgICAgICAgIHJldC5tYXAgPSByZXQubWFwICYmIHJldC5tYXAudG9TdHJpbmcoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0ID0gcmV0LnRvU3RyaW5nKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldC5jb21waWxlck9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGZuO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBwcmVhbWJsZTogZnVuY3Rpb24gcHJlYW1ibGUoKSB7XG5cdCAgICAvLyB0cmFjayB0aGUgbGFzdCBjb250ZXh0IHB1c2hlZCBpbnRvIHBsYWNlIHRvIGFsbG93IHNraXBwaW5nIHRoZVxuXHQgICAgLy8gZ2V0Q29udGV4dCBvcGNvZGUgd2hlbiBpdCB3b3VsZCBiZSBhIG5vb3Bcblx0ICAgIHRoaXMubGFzdENvbnRleHQgPSAwO1xuXHQgICAgdGhpcy5zb3VyY2UgPSBuZXcgX2NvZGVHZW4yWydkZWZhdWx0J10odGhpcy5vcHRpb25zLnNyY05hbWUpO1xuXHQgICAgdGhpcy5kZWNvcmF0b3JzID0gbmV3IF9jb2RlR2VuMlsnZGVmYXVsdCddKHRoaXMub3B0aW9ucy5zcmNOYW1lKTtcblx0ICB9LFxuXG5cdCAgY3JlYXRlRnVuY3Rpb25Db250ZXh0OiBmdW5jdGlvbiBjcmVhdGVGdW5jdGlvbkNvbnRleHQoYXNPYmplY3QpIHtcblx0ICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG5cblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgIHZhciB2YXJEZWNsYXJhdGlvbnMgPSAnJztcblxuXHQgICAgdmFyIGxvY2FscyA9IHRoaXMuc3RhY2tWYXJzLmNvbmNhdCh0aGlzLnJlZ2lzdGVycy5saXN0KTtcblx0ICAgIGlmIChsb2NhbHMubGVuZ3RoID4gMCkge1xuXHQgICAgICB2YXJEZWNsYXJhdGlvbnMgKz0gJywgJyArIGxvY2Fscy5qb2luKCcsICcpO1xuXHQgICAgfVxuXG5cdCAgICAvLyBHZW5lcmF0ZSBtaW5pbWl6ZXIgYWxpYXMgbWFwcGluZ3Ncblx0ICAgIC8vXG5cdCAgICAvLyBXaGVuIHVzaW5nIHRydWUgU291cmNlTm9kZXMsIHRoaXMgd2lsbCB1cGRhdGUgYWxsIHJlZmVyZW5jZXMgdG8gdGhlIGdpdmVuIGFsaWFzXG5cdCAgICAvLyBhcyB0aGUgc291cmNlIG5vZGVzIGFyZSByZXVzZWQgaW4gc2l0dS4gRm9yIHRoZSBub24tc291cmNlIG5vZGUgY29tcGlsYXRpb24gbW9kZSxcblx0ICAgIC8vIGFsaWFzZXMgd2lsbCBub3QgYmUgdXNlZCwgYnV0IHRoaXMgY2FzZSBpcyBhbHJlYWR5IGJlaW5nIHJ1biBvbiB0aGUgY2xpZW50IGFuZFxuXHQgICAgLy8gd2UgYXJlbid0IGNvbmNlcm4gYWJvdXQgbWluaW1pemluZyB0aGUgdGVtcGxhdGUgc2l6ZS5cblx0ICAgIHZhciBhbGlhc0NvdW50ID0gMDtcblx0ICAgIF9PYmplY3Qka2V5cyh0aGlzLmFsaWFzZXMpLmZvckVhY2goZnVuY3Rpb24gKGFsaWFzKSB7XG5cdCAgICAgIHZhciBub2RlID0gX3RoaXMuYWxpYXNlc1thbGlhc107XG5cdCAgICAgIGlmIChub2RlLmNoaWxkcmVuICYmIG5vZGUucmVmZXJlbmNlQ291bnQgPiAxKSB7XG5cdCAgICAgICAgdmFyRGVjbGFyYXRpb25zICs9ICcsIGFsaWFzJyArICsrYWxpYXNDb3VudCArICc9JyArIGFsaWFzO1xuXHQgICAgICAgIG5vZGUuY2hpbGRyZW5bMF0gPSAnYWxpYXMnICsgYWxpYXNDb3VudDtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIGlmICh0aGlzLmxvb2t1cFByb3BlcnR5RnVuY3Rpb25Jc1VzZWQpIHtcblx0ICAgICAgdmFyRGVjbGFyYXRpb25zICs9ICcsICcgKyB0aGlzLmxvb2t1cFByb3BlcnR5RnVuY3Rpb25WYXJEZWNsYXJhdGlvbigpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgcGFyYW1zID0gWydjb250YWluZXInLCAnZGVwdGgwJywgJ2hlbHBlcnMnLCAncGFydGlhbHMnLCAnZGF0YSddO1xuXG5cdCAgICBpZiAodGhpcy51c2VCbG9ja1BhcmFtcyB8fCB0aGlzLnVzZURlcHRocykge1xuXHQgICAgICBwYXJhbXMucHVzaCgnYmxvY2tQYXJhbXMnKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLnVzZURlcHRocykge1xuXHQgICAgICBwYXJhbXMucHVzaCgnZGVwdGhzJyk7XG5cdCAgICB9XG5cblx0ICAgIC8vIFBlcmZvcm0gYSBzZWNvbmQgcGFzcyBvdmVyIHRoZSBvdXRwdXQgdG8gbWVyZ2UgY29udGVudCB3aGVuIHBvc3NpYmxlXG5cdCAgICB2YXIgc291cmNlID0gdGhpcy5tZXJnZVNvdXJjZSh2YXJEZWNsYXJhdGlvbnMpO1xuXG5cdCAgICBpZiAoYXNPYmplY3QpIHtcblx0ICAgICAgcGFyYW1zLnB1c2goc291cmNlKTtcblxuXHQgICAgICByZXR1cm4gRnVuY3Rpb24uYXBwbHkodGhpcywgcGFyYW1zKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnNvdXJjZS53cmFwKFsnZnVuY3Rpb24oJywgcGFyYW1zLmpvaW4oJywnKSwgJykge1xcbiAgJywgc291cmNlLCAnfSddKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG1lcmdlU291cmNlOiBmdW5jdGlvbiBtZXJnZVNvdXJjZSh2YXJEZWNsYXJhdGlvbnMpIHtcblx0ICAgIHZhciBpc1NpbXBsZSA9IHRoaXMuZW52aXJvbm1lbnQuaXNTaW1wbGUsXG5cdCAgICAgICAgYXBwZW5kT25seSA9ICF0aGlzLmZvcmNlQnVmZmVyLFxuXHQgICAgICAgIGFwcGVuZEZpcnN0ID0gdW5kZWZpbmVkLFxuXHQgICAgICAgIHNvdXJjZVNlZW4gPSB1bmRlZmluZWQsXG5cdCAgICAgICAgYnVmZmVyU3RhcnQgPSB1bmRlZmluZWQsXG5cdCAgICAgICAgYnVmZmVyRW5kID0gdW5kZWZpbmVkO1xuXHQgICAgdGhpcy5zb3VyY2UuZWFjaChmdW5jdGlvbiAobGluZSkge1xuXHQgICAgICBpZiAobGluZS5hcHBlbmRUb0J1ZmZlcikge1xuXHQgICAgICAgIGlmIChidWZmZXJTdGFydCkge1xuXHQgICAgICAgICAgbGluZS5wcmVwZW5kKCcgICsgJyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGJ1ZmZlclN0YXJ0ID0gbGluZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgYnVmZmVyRW5kID0gbGluZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoYnVmZmVyU3RhcnQpIHtcblx0ICAgICAgICAgIGlmICghc291cmNlU2Vlbikge1xuXHQgICAgICAgICAgICBhcHBlbmRGaXJzdCA9IHRydWU7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBidWZmZXJTdGFydC5wcmVwZW5kKCdidWZmZXIgKz0gJyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBidWZmZXJFbmQuYWRkKCc7Jyk7XG5cdCAgICAgICAgICBidWZmZXJTdGFydCA9IGJ1ZmZlckVuZCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBzb3VyY2VTZWVuID0gdHJ1ZTtcblx0ICAgICAgICBpZiAoIWlzU2ltcGxlKSB7XG5cdCAgICAgICAgICBhcHBlbmRPbmx5ID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYgKGFwcGVuZE9ubHkpIHtcblx0ICAgICAgaWYgKGJ1ZmZlclN0YXJ0KSB7XG5cdCAgICAgICAgYnVmZmVyU3RhcnQucHJlcGVuZCgncmV0dXJuICcpO1xuXHQgICAgICAgIGJ1ZmZlckVuZC5hZGQoJzsnKTtcblx0ICAgICAgfSBlbHNlIGlmICghc291cmNlU2Vlbikge1xuXHQgICAgICAgIHRoaXMuc291cmNlLnB1c2goJ3JldHVybiBcIlwiOycpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXJEZWNsYXJhdGlvbnMgKz0gJywgYnVmZmVyID0gJyArIChhcHBlbmRGaXJzdCA/ICcnIDogdGhpcy5pbml0aWFsaXplQnVmZmVyKCkpO1xuXG5cdCAgICAgIGlmIChidWZmZXJTdGFydCkge1xuXHQgICAgICAgIGJ1ZmZlclN0YXJ0LnByZXBlbmQoJ3JldHVybiBidWZmZXIgKyAnKTtcblx0ICAgICAgICBidWZmZXJFbmQuYWRkKCc7Jyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5zb3VyY2UucHVzaCgncmV0dXJuIGJ1ZmZlcjsnKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBpZiAodmFyRGVjbGFyYXRpb25zKSB7XG5cdCAgICAgIHRoaXMuc291cmNlLnByZXBlbmQoJ3ZhciAnICsgdmFyRGVjbGFyYXRpb25zLnN1YnN0cmluZygyKSArIChhcHBlbmRGaXJzdCA/ICcnIDogJztcXG4nKSk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB0aGlzLnNvdXJjZS5tZXJnZSgpO1xuXHQgIH0sXG5cblx0ICBsb29rdXBQcm9wZXJ0eUZ1bmN0aW9uVmFyRGVjbGFyYXRpb246IGZ1bmN0aW9uIGxvb2t1cFByb3BlcnR5RnVuY3Rpb25WYXJEZWNsYXJhdGlvbigpIHtcblx0ICAgIHJldHVybiAnXFxuICAgICAgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XFxuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcXG4gICAgfVxcbiAgICAnLnRyaW0oKTtcblx0ICB9LFxuXG5cdCAgLy8gW2Jsb2NrVmFsdWVdXG5cdCAgLy9cblx0ICAvLyBPbiBzdGFjaywgYmVmb3JlOiBoYXNoLCBpbnZlcnNlLCBwcm9ncmFtLCB2YWx1ZVxuXHQgIC8vIE9uIHN0YWNrLCBhZnRlcjogcmV0dXJuIHZhbHVlIG9mIGJsb2NrSGVscGVyTWlzc2luZ1xuXHQgIC8vXG5cdCAgLy8gVGhlIHB1cnBvc2Ugb2YgdGhpcyBvcGNvZGUgaXMgdG8gdGFrZSBhIGJsb2NrIG9mIHRoZSBmb3JtXG5cdCAgLy8gYHt7I3RoaXMuZm9vfX0uLi57ey90aGlzLmZvb319YCwgcmVzb2x2ZSB0aGUgdmFsdWUgb2YgYGZvb2AsIGFuZFxuXHQgIC8vIHJlcGxhY2UgaXQgb24gdGhlIHN0YWNrIHdpdGggdGhlIHJlc3VsdCBvZiBwcm9wZXJseVxuXHQgIC8vIGludm9raW5nIGJsb2NrSGVscGVyTWlzc2luZy5cblx0ICBibG9ja1ZhbHVlOiBmdW5jdGlvbiBibG9ja1ZhbHVlKG5hbWUpIHtcblx0ICAgIHZhciBibG9ja0hlbHBlck1pc3NpbmcgPSB0aGlzLmFsaWFzYWJsZSgnY29udGFpbmVyLmhvb2tzLmJsb2NrSGVscGVyTWlzc2luZycpLFxuXHQgICAgICAgIHBhcmFtcyA9IFt0aGlzLmNvbnRleHROYW1lKDApXTtcblx0ICAgIHRoaXMuc2V0dXBIZWxwZXJBcmdzKG5hbWUsIDAsIHBhcmFtcyk7XG5cblx0ICAgIHZhciBibG9ja05hbWUgPSB0aGlzLnBvcFN0YWNrKCk7XG5cdCAgICBwYXJhbXMuc3BsaWNlKDEsIDAsIGJsb2NrTmFtZSk7XG5cblx0ICAgIHRoaXMucHVzaCh0aGlzLnNvdXJjZS5mdW5jdGlvbkNhbGwoYmxvY2tIZWxwZXJNaXNzaW5nLCAnY2FsbCcsIHBhcmFtcykpO1xuXHQgIH0sXG5cblx0ICAvLyBbYW1iaWd1b3VzQmxvY2tWYWx1ZV1cblx0ICAvL1xuXHQgIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGhhc2gsIGludmVyc2UsIHByb2dyYW0sIHZhbHVlXG5cdCAgLy8gQ29tcGlsZXIgdmFsdWUsIGJlZm9yZTogbGFzdEhlbHBlcj12YWx1ZSBvZiBsYXN0IGZvdW5kIGhlbHBlciwgaWYgYW55XG5cdCAgLy8gT24gc3RhY2ssIGFmdGVyLCBpZiBubyBsYXN0SGVscGVyOiBzYW1lIGFzIFtibG9ja1ZhbHVlXVxuXHQgIC8vIE9uIHN0YWNrLCBhZnRlciwgaWYgbGFzdEhlbHBlcjogdmFsdWVcblx0ICBhbWJpZ3VvdXNCbG9ja1ZhbHVlOiBmdW5jdGlvbiBhbWJpZ3VvdXNCbG9ja1ZhbHVlKCkge1xuXHQgICAgLy8gV2UncmUgYmVpbmcgYSBiaXQgY2hlZWt5IGFuZCByZXVzaW5nIHRoZSBvcHRpb25zIHZhbHVlIGZyb20gdGhlIHByaW9yIGV4ZWNcblx0ICAgIHZhciBibG9ja0hlbHBlck1pc3NpbmcgPSB0aGlzLmFsaWFzYWJsZSgnY29udGFpbmVyLmhvb2tzLmJsb2NrSGVscGVyTWlzc2luZycpLFxuXHQgICAgICAgIHBhcmFtcyA9IFt0aGlzLmNvbnRleHROYW1lKDApXTtcblx0ICAgIHRoaXMuc2V0dXBIZWxwZXJBcmdzKCcnLCAwLCBwYXJhbXMsIHRydWUpO1xuXG5cdCAgICB0aGlzLmZsdXNoSW5saW5lKCk7XG5cblx0ICAgIHZhciBjdXJyZW50ID0gdGhpcy50b3BTdGFjaygpO1xuXHQgICAgcGFyYW1zLnNwbGljZSgxLCAwLCBjdXJyZW50KTtcblxuXHQgICAgdGhpcy5wdXNoU291cmNlKFsnaWYgKCEnLCB0aGlzLmxhc3RIZWxwZXIsICcpIHsgJywgY3VycmVudCwgJyA9ICcsIHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbChibG9ja0hlbHBlck1pc3NpbmcsICdjYWxsJywgcGFyYW1zKSwgJ30nXSk7XG5cdCAgfSxcblxuXHQgIC8vIFthcHBlbmRDb250ZW50XVxuXHQgIC8vXG5cdCAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG5cdCAgLy8gT24gc3RhY2ssIGFmdGVyOiAuLi5cblx0ICAvL1xuXHQgIC8vIEFwcGVuZHMgdGhlIHN0cmluZyB2YWx1ZSBvZiBgY29udGVudGAgdG8gdGhlIGN1cnJlbnQgYnVmZmVyXG5cdCAgYXBwZW5kQ29udGVudDogZnVuY3Rpb24gYXBwZW5kQ29udGVudChjb250ZW50KSB7XG5cdCAgICBpZiAodGhpcy5wZW5kaW5nQ29udGVudCkge1xuXHQgICAgICBjb250ZW50ID0gdGhpcy5wZW5kaW5nQ29udGVudCArIGNvbnRlbnQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLnBlbmRpbmdMb2NhdGlvbiA9IHRoaXMuc291cmNlLmN1cnJlbnRMb2NhdGlvbjtcblx0ICAgIH1cblxuXHQgICAgdGhpcy5wZW5kaW5nQ29udGVudCA9IGNvbnRlbnQ7XG5cdCAgfSxcblxuXHQgIC8vIFthcHBlbmRdXG5cdCAgLy9cblx0ICAvLyBPbiBzdGFjaywgYmVmb3JlOiB2YWx1ZSwgLi4uXG5cdCAgLy8gT24gc3RhY2ssIGFmdGVyOiAuLi5cblx0ICAvL1xuXHQgIC8vIENvZXJjZXMgYHZhbHVlYCB0byBhIFN0cmluZyBhbmQgYXBwZW5kcyBpdCB0byB0aGUgY3VycmVudCBidWZmZXIuXG5cdCAgLy9cblx0ICAvLyBJZiBgdmFsdWVgIGlzIHRydXRoeSwgb3IgMCwgaXQgaXMgY29lcmNlZCBpbnRvIGEgc3RyaW5nIGFuZCBhcHBlbmRlZFxuXHQgIC8vIE90aGVyd2lzZSwgdGhlIGVtcHR5IHN0cmluZyBpcyBhcHBlbmRlZFxuXHQgIGFwcGVuZDogZnVuY3Rpb24gYXBwZW5kKCkge1xuXHQgICAgaWYgKHRoaXMuaXNJbmxpbmUoKSkge1xuXHQgICAgICB0aGlzLnJlcGxhY2VTdGFjayhmdW5jdGlvbiAoY3VycmVudCkge1xuXHQgICAgICAgIHJldHVybiBbJyAhPSBudWxsID8gJywgY3VycmVudCwgJyA6IFwiXCInXTtcblx0ICAgICAgfSk7XG5cblx0ICAgICAgdGhpcy5wdXNoU291cmNlKHRoaXMuYXBwZW5kVG9CdWZmZXIodGhpcy5wb3BTdGFjaygpKSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgbG9jYWwgPSB0aGlzLnBvcFN0YWNrKCk7XG5cdCAgICAgIHRoaXMucHVzaFNvdXJjZShbJ2lmICgnLCBsb2NhbCwgJyAhPSBudWxsKSB7ICcsIHRoaXMuYXBwZW5kVG9CdWZmZXIobG9jYWwsIHVuZGVmaW5lZCwgdHJ1ZSksICcgfSddKTtcblx0ICAgICAgaWYgKHRoaXMuZW52aXJvbm1lbnQuaXNTaW1wbGUpIHtcblx0ICAgICAgICB0aGlzLnB1c2hTb3VyY2UoWydlbHNlIHsgJywgdGhpcy5hcHBlbmRUb0J1ZmZlcihcIicnXCIsIHVuZGVmaW5lZCwgdHJ1ZSksICcgfSddKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cblx0ICAvLyBbYXBwZW5kRXNjYXBlZF1cblx0ICAvL1xuXHQgIC8vIE9uIHN0YWNrLCBiZWZvcmU6IHZhbHVlLCAuLi5cblx0ICAvLyBPbiBzdGFjaywgYWZ0ZXI6IC4uLlxuXHQgIC8vXG5cdCAgLy8gRXNjYXBlIGB2YWx1ZWAgYW5kIGFwcGVuZCBpdCB0byB0aGUgYnVmZmVyXG5cdCAgYXBwZW5kRXNjYXBlZDogZnVuY3Rpb24gYXBwZW5kRXNjYXBlZCgpIHtcblx0ICAgIHRoaXMucHVzaFNvdXJjZSh0aGlzLmFwcGVuZFRvQnVmZmVyKFt0aGlzLmFsaWFzYWJsZSgnY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24nKSwgJygnLCB0aGlzLnBvcFN0YWNrKCksICcpJ10pKTtcblx0ICB9LFxuXG5cdCAgLy8gW2dldENvbnRleHRdXG5cdCAgLy9cblx0ICAvLyBPbiBzdGFjaywgYmVmb3JlOiAuLi5cblx0ICAvLyBPbiBzdGFjaywgYWZ0ZXI6IC4uLlxuXHQgIC8vIENvbXBpbGVyIHZhbHVlLCBhZnRlcjogbGFzdENvbnRleHQ9ZGVwdGhcblx0ICAvL1xuXHQgIC8vIFNldCB0aGUgdmFsdWUgb2YgdGhlIGBsYXN0Q29udGV4dGAgY29tcGlsZXIgdmFsdWUgdG8gdGhlIGRlcHRoXG5cdCAgZ2V0Q29udGV4dDogZnVuY3Rpb24gZ2V0Q29udGV4dChkZXB0aCkge1xuXHQgICAgdGhpcy5sYXN0Q29udGV4dCA9IGRlcHRoO1xuXHQgIH0sXG5cblx0ICAvLyBbcHVzaENvbnRleHRdXG5cdCAgLy9cblx0ICAvLyBPbiBzdGFjaywgYmVmb3JlOiAuLi5cblx0ICAvLyBPbiBzdGFjaywgYWZ0ZXI6IGN1cnJlbnRDb250ZXh0LCAuLi5cblx0ICAvL1xuXHQgIC8vIFB1c2hlcyB0aGUgdmFsdWUgb2YgdGhlIGN1cnJlbnQgY29udGV4dCBvbnRvIHRoZSBzdGFjay5cblx0ICBwdXNoQ29udGV4dDogZnVuY3Rpb24gcHVzaENvbnRleHQoKSB7XG5cdCAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwodGhpcy5jb250ZXh0TmFtZSh0aGlzLmxhc3RDb250ZXh0KSk7XG5cdCAgfSxcblxuXHQgIC8vIFtsb29rdXBPbkNvbnRleHRdXG5cdCAgLy9cblx0ICAvLyBPbiBzdGFjaywgYmVmb3JlOiAuLi5cblx0ICAvLyBPbiBzdGFjaywgYWZ0ZXI6IGN1cnJlbnRDb250ZXh0W25hbWVdLCAuLi5cblx0ICAvL1xuXHQgIC8vIExvb2tzIHVwIHRoZSB2YWx1ZSBvZiBgbmFtZWAgb24gdGhlIGN1cnJlbnQgY29udGV4dCBhbmQgcHVzaGVzXG5cdCAgLy8gaXQgb250byB0aGUgc3RhY2suXG5cdCAgbG9va3VwT25Db250ZXh0OiBmdW5jdGlvbiBsb29rdXBPbkNvbnRleHQocGFydHMsIGZhbHN5LCBzdHJpY3QsIHNjb3BlZCkge1xuXHQgICAgdmFyIGkgPSAwO1xuXG5cdCAgICBpZiAoIXNjb3BlZCAmJiB0aGlzLm9wdGlvbnMuY29tcGF0ICYmICF0aGlzLmxhc3RDb250ZXh0KSB7XG5cdCAgICAgIC8vIFRoZSBkZXB0aGVkIHF1ZXJ5IGlzIGV4cGVjdGVkIHRvIGhhbmRsZSB0aGUgdW5kZWZpbmVkIGxvZ2ljIGZvciB0aGUgcm9vdCBsZXZlbCB0aGF0XG5cdCAgICAgIC8vIGlzIGltcGxlbWVudGVkIGJlbG93LCBzbyB3ZSBldmFsdWF0ZSB0aGF0IGRpcmVjdGx5IGluIGNvbXBhdCBtb2RlXG5cdCAgICAgIHRoaXMucHVzaCh0aGlzLmRlcHRoZWRMb29rdXAocGFydHNbaSsrXSkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5wdXNoQ29udGV4dCgpO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLnJlc29sdmVQYXRoKCdjb250ZXh0JywgcGFydHMsIGksIGZhbHN5LCBzdHJpY3QpO1xuXHQgIH0sXG5cblx0ICAvLyBbbG9va3VwQmxvY2tQYXJhbV1cblx0ICAvL1xuXHQgIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuXHQgIC8vIE9uIHN0YWNrLCBhZnRlcjogYmxvY2tQYXJhbVtuYW1lXSwgLi4uXG5cdCAgLy9cblx0ICAvLyBMb29rcyB1cCB0aGUgdmFsdWUgb2YgYHBhcnRzYCBvbiB0aGUgZ2l2ZW4gYmxvY2sgcGFyYW0gYW5kIHB1c2hlc1xuXHQgIC8vIGl0IG9udG8gdGhlIHN0YWNrLlxuXHQgIGxvb2t1cEJsb2NrUGFyYW06IGZ1bmN0aW9uIGxvb2t1cEJsb2NrUGFyYW0oYmxvY2tQYXJhbUlkLCBwYXJ0cykge1xuXHQgICAgdGhpcy51c2VCbG9ja1BhcmFtcyA9IHRydWU7XG5cblx0ICAgIHRoaXMucHVzaChbJ2Jsb2NrUGFyYW1zWycsIGJsb2NrUGFyYW1JZFswXSwgJ11bJywgYmxvY2tQYXJhbUlkWzFdLCAnXSddKTtcblx0ICAgIHRoaXMucmVzb2x2ZVBhdGgoJ2NvbnRleHQnLCBwYXJ0cywgMSk7XG5cdCAgfSxcblxuXHQgIC8vIFtsb29rdXBEYXRhXVxuXHQgIC8vXG5cdCAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG5cdCAgLy8gT24gc3RhY2ssIGFmdGVyOiBkYXRhLCAuLi5cblx0ICAvL1xuXHQgIC8vIFB1c2ggdGhlIGRhdGEgbG9va3VwIG9wZXJhdG9yXG5cdCAgbG9va3VwRGF0YTogZnVuY3Rpb24gbG9va3VwRGF0YShkZXB0aCwgcGFydHMsIHN0cmljdCkge1xuXHQgICAgaWYgKCFkZXB0aCkge1xuXHQgICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoJ2RhdGEnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMucHVzaFN0YWNrTGl0ZXJhbCgnY29udGFpbmVyLmRhdGEoZGF0YSwgJyArIGRlcHRoICsgJyknKTtcblx0ICAgIH1cblxuXHQgICAgdGhpcy5yZXNvbHZlUGF0aCgnZGF0YScsIHBhcnRzLCAwLCB0cnVlLCBzdHJpY3QpO1xuXHQgIH0sXG5cblx0ICByZXNvbHZlUGF0aDogZnVuY3Rpb24gcmVzb2x2ZVBhdGgodHlwZSwgcGFydHMsIGksIGZhbHN5LCBzdHJpY3QpIHtcblx0ICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG5cblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdCAgICBpZiAodGhpcy5vcHRpb25zLnN0cmljdCB8fCB0aGlzLm9wdGlvbnMuYXNzdW1lT2JqZWN0cykge1xuXHQgICAgICB0aGlzLnB1c2goc3RyaWN0TG9va3VwKHRoaXMub3B0aW9ucy5zdHJpY3QgJiYgc3RyaWN0LCB0aGlzLCBwYXJ0cywgaSwgdHlwZSkpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIHZhciBsZW4gPSBwYXJ0cy5sZW5ndGg7XG5cdCAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXHQgICAgICB0aGlzLnJlcGxhY2VTdGFjayhmdW5jdGlvbiAoY3VycmVudCkge1xuXHQgICAgICAgIHZhciBsb29rdXAgPSBfdGhpczIubmFtZUxvb2t1cChjdXJyZW50LCBwYXJ0c1tpXSwgdHlwZSk7XG5cdCAgICAgICAgLy8gV2Ugd2FudCB0byBlbnN1cmUgdGhhdCB6ZXJvIGFuZCBmYWxzZSBhcmUgaGFuZGxlZCBwcm9wZXJseSBpZiB0aGUgY29udGV4dCAoZmFsc3kgZmxhZylcblx0ICAgICAgICAvLyBuZWVkcyB0byBoYXZlIHRoZSBzcGVjaWFsIGhhbmRsaW5nIGZvciB0aGVzZSB2YWx1ZXMuXG5cdCAgICAgICAgaWYgKCFmYWxzeSkge1xuXHQgICAgICAgICAgcmV0dXJuIFsnICE9IG51bGwgPyAnLCBsb29rdXAsICcgOiAnLCBjdXJyZW50XTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIGNhbiB1c2UgZ2VuZXJpYyBmYWxzeSBoYW5kbGluZ1xuXHQgICAgICAgICAgcmV0dXJuIFsnICYmICcsIGxvb2t1cF07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1sb29wLWZ1bmMgKi9cblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgLy8gW3Jlc29sdmVQb3NzaWJsZUxhbWJkYV1cblx0ICAvL1xuXHQgIC8vIE9uIHN0YWNrLCBiZWZvcmU6IHZhbHVlLCAuLi5cblx0ICAvLyBPbiBzdGFjaywgYWZ0ZXI6IHJlc29sdmVkIHZhbHVlLCAuLi5cblx0ICAvL1xuXHQgIC8vIElmIHRoZSBgdmFsdWVgIGlzIGEgbGFtYmRhLCByZXBsYWNlIGl0IG9uIHRoZSBzdGFjayBieVxuXHQgIC8vIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGxhbWJkYVxuXHQgIHJlc29sdmVQb3NzaWJsZUxhbWJkYTogZnVuY3Rpb24gcmVzb2x2ZVBvc3NpYmxlTGFtYmRhKCkge1xuXHQgICAgdGhpcy5wdXNoKFt0aGlzLmFsaWFzYWJsZSgnY29udGFpbmVyLmxhbWJkYScpLCAnKCcsIHRoaXMucG9wU3RhY2soKSwgJywgJywgdGhpcy5jb250ZXh0TmFtZSgwKSwgJyknXSk7XG5cdCAgfSxcblxuXHQgIC8vIFtwdXNoU3RyaW5nUGFyYW1dXG5cdCAgLy9cblx0ICAvLyBPbiBzdGFjaywgYmVmb3JlOiAuLi5cblx0ICAvLyBPbiBzdGFjaywgYWZ0ZXI6IHN0cmluZywgY3VycmVudENvbnRleHQsIC4uLlxuXHQgIC8vXG5cdCAgLy8gVGhpcyBvcGNvZGUgaXMgZGVzaWduZWQgZm9yIHVzZSBpbiBzdHJpbmcgbW9kZSwgd2hpY2hcblx0ICAvLyBwcm92aWRlcyB0aGUgc3RyaW5nIHZhbHVlIG9mIGEgcGFyYW1ldGVyIGFsb25nIHdpdGggaXRzXG5cdCAgLy8gZGVwdGggcmF0aGVyIHRoYW4gcmVzb2x2aW5nIGl0IGltbWVkaWF0ZWx5LlxuXHQgIHB1c2hTdHJpbmdQYXJhbTogZnVuY3Rpb24gcHVzaFN0cmluZ1BhcmFtKHN0cmluZywgdHlwZSkge1xuXHQgICAgdGhpcy5wdXNoQ29udGV4dCgpO1xuXHQgICAgdGhpcy5wdXNoU3RyaW5nKHR5cGUpO1xuXG5cdCAgICAvLyBJZiBpdCdzIGEgc3ViZXhwcmVzc2lvbiwgdGhlIHN0cmluZyByZXN1bHRcblx0ICAgIC8vIHdpbGwgYmUgcHVzaGVkIGFmdGVyIHRoaXMgb3Bjb2RlLlxuXHQgICAgaWYgKHR5cGUgIT09ICdTdWJFeHByZXNzaW9uJykge1xuXHQgICAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0aGlzLnB1c2hTdHJpbmcoc3RyaW5nKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoc3RyaW5nKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBlbXB0eUhhc2g6IGZ1bmN0aW9uIGVtcHR5SGFzaChvbWl0RW1wdHkpIHtcblx0ICAgIGlmICh0aGlzLnRyYWNrSWRzKSB7XG5cdCAgICAgIHRoaXMucHVzaCgne30nKTsgLy8gaGFzaElkc1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMuc3RyaW5nUGFyYW1zKSB7XG5cdCAgICAgIHRoaXMucHVzaCgne30nKTsgLy8gaGFzaENvbnRleHRzXG5cdCAgICAgIHRoaXMucHVzaCgne30nKTsgLy8gaGFzaFR5cGVzXG5cdCAgICB9XG5cdCAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwob21pdEVtcHR5ID8gJ3VuZGVmaW5lZCcgOiAne30nKTtcblx0ICB9LFxuXHQgIHB1c2hIYXNoOiBmdW5jdGlvbiBwdXNoSGFzaCgpIHtcblx0ICAgIGlmICh0aGlzLmhhc2gpIHtcblx0ICAgICAgdGhpcy5oYXNoZXMucHVzaCh0aGlzLmhhc2gpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5oYXNoID0geyB2YWx1ZXM6IHt9LCB0eXBlczogW10sIGNvbnRleHRzOiBbXSwgaWRzOiBbXSB9O1xuXHQgIH0sXG5cdCAgcG9wSGFzaDogZnVuY3Rpb24gcG9wSGFzaCgpIHtcblx0ICAgIHZhciBoYXNoID0gdGhpcy5oYXNoO1xuXHQgICAgdGhpcy5oYXNoID0gdGhpcy5oYXNoZXMucG9wKCk7XG5cblx0ICAgIGlmICh0aGlzLnRyYWNrSWRzKSB7XG5cdCAgICAgIHRoaXMucHVzaCh0aGlzLm9iamVjdExpdGVyYWwoaGFzaC5pZHMpKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuXHQgICAgICB0aGlzLnB1c2godGhpcy5vYmplY3RMaXRlcmFsKGhhc2guY29udGV4dHMpKTtcblx0ICAgICAgdGhpcy5wdXNoKHRoaXMub2JqZWN0TGl0ZXJhbChoYXNoLnR5cGVzKSk7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMucHVzaCh0aGlzLm9iamVjdExpdGVyYWwoaGFzaC52YWx1ZXMpKTtcblx0ICB9LFxuXG5cdCAgLy8gW3B1c2hTdHJpbmddXG5cdCAgLy9cblx0ICAvLyBPbiBzdGFjaywgYmVmb3JlOiAuLi5cblx0ICAvLyBPbiBzdGFjaywgYWZ0ZXI6IHF1b3RlZFN0cmluZyhzdHJpbmcpLCAuLi5cblx0ICAvL1xuXHQgIC8vIFB1c2ggYSBxdW90ZWQgdmVyc2lvbiBvZiBgc3RyaW5nYCBvbnRvIHRoZSBzdGFja1xuXHQgIHB1c2hTdHJpbmc6IGZ1bmN0aW9uIHB1c2hTdHJpbmcoc3RyaW5nKSB7XG5cdCAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwodGhpcy5xdW90ZWRTdHJpbmcoc3RyaW5nKSk7XG5cdCAgfSxcblxuXHQgIC8vIFtwdXNoTGl0ZXJhbF1cblx0ICAvL1xuXHQgIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuXHQgIC8vIE9uIHN0YWNrLCBhZnRlcjogdmFsdWUsIC4uLlxuXHQgIC8vXG5cdCAgLy8gUHVzaGVzIGEgdmFsdWUgb250byB0aGUgc3RhY2suIFRoaXMgb3BlcmF0aW9uIHByZXZlbnRzXG5cdCAgLy8gdGhlIGNvbXBpbGVyIGZyb20gY3JlYXRpbmcgYSB0ZW1wb3JhcnkgdmFyaWFibGUgdG8gaG9sZFxuXHQgIC8vIGl0LlxuXHQgIHB1c2hMaXRlcmFsOiBmdW5jdGlvbiBwdXNoTGl0ZXJhbCh2YWx1ZSkge1xuXHQgICAgdGhpcy5wdXNoU3RhY2tMaXRlcmFsKHZhbHVlKTtcblx0ICB9LFxuXG5cdCAgLy8gW3B1c2hQcm9ncmFtXVxuXHQgIC8vXG5cdCAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG5cdCAgLy8gT24gc3RhY2ssIGFmdGVyOiBwcm9ncmFtKGd1aWQpLCAuLi5cblx0ICAvL1xuXHQgIC8vIFB1c2ggYSBwcm9ncmFtIGV4cHJlc3Npb24gb250byB0aGUgc3RhY2suIFRoaXMgdGFrZXNcblx0ICAvLyBhIGNvbXBpbGUtdGltZSBndWlkIGFuZCBjb252ZXJ0cyBpdCBpbnRvIGEgcnVudGltZS1hY2Nlc3NpYmxlXG5cdCAgLy8gZXhwcmVzc2lvbi5cblx0ICBwdXNoUHJvZ3JhbTogZnVuY3Rpb24gcHVzaFByb2dyYW0oZ3VpZCkge1xuXHQgICAgaWYgKGd1aWQgIT0gbnVsbCkge1xuXHQgICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwodGhpcy5wcm9ncmFtRXhwcmVzc2lvbihndWlkKSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwobnVsbCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIC8vIFtyZWdpc3RlckRlY29yYXRvcl1cblx0ICAvL1xuXHQgIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGhhc2gsIHByb2dyYW0sIHBhcmFtcy4uLiwgLi4uXG5cdCAgLy8gT24gc3RhY2ssIGFmdGVyOiAuLi5cblx0ICAvL1xuXHQgIC8vIFBvcHMgb2ZmIHRoZSBkZWNvcmF0b3IncyBwYXJhbWV0ZXJzLCBpbnZva2VzIHRoZSBkZWNvcmF0b3IsXG5cdCAgLy8gYW5kIGluc2VydHMgdGhlIGRlY29yYXRvciBpbnRvIHRoZSBkZWNvcmF0b3JzIGxpc3QuXG5cdCAgcmVnaXN0ZXJEZWNvcmF0b3I6IGZ1bmN0aW9uIHJlZ2lzdGVyRGVjb3JhdG9yKHBhcmFtU2l6ZSwgbmFtZSkge1xuXHQgICAgdmFyIGZvdW5kRGVjb3JhdG9yID0gdGhpcy5uYW1lTG9va3VwKCdkZWNvcmF0b3JzJywgbmFtZSwgJ2RlY29yYXRvcicpLFxuXHQgICAgICAgIG9wdGlvbnMgPSB0aGlzLnNldHVwSGVscGVyQXJncyhuYW1lLCBwYXJhbVNpemUpO1xuXG5cdCAgICB0aGlzLmRlY29yYXRvcnMucHVzaChbJ2ZuID0gJywgdGhpcy5kZWNvcmF0b3JzLmZ1bmN0aW9uQ2FsbChmb3VuZERlY29yYXRvciwgJycsIFsnZm4nLCAncHJvcHMnLCAnY29udGFpbmVyJywgb3B0aW9uc10pLCAnIHx8IGZuOyddKTtcblx0ICB9LFxuXG5cdCAgLy8gW2ludm9rZUhlbHBlcl1cblx0ICAvL1xuXHQgIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGhhc2gsIGludmVyc2UsIHByb2dyYW0sIHBhcmFtcy4uLiwgLi4uXG5cdCAgLy8gT24gc3RhY2ssIGFmdGVyOiByZXN1bHQgb2YgaGVscGVyIGludm9jYXRpb25cblx0ICAvL1xuXHQgIC8vIFBvcHMgb2ZmIHRoZSBoZWxwZXIncyBwYXJhbWV0ZXJzLCBpbnZva2VzIHRoZSBoZWxwZXIsXG5cdCAgLy8gYW5kIHB1c2hlcyB0aGUgaGVscGVyJ3MgcmV0dXJuIHZhbHVlIG9udG8gdGhlIHN0YWNrLlxuXHQgIC8vXG5cdCAgLy8gSWYgdGhlIGhlbHBlciBpcyBub3QgZm91bmQsIGBoZWxwZXJNaXNzaW5nYCBpcyBjYWxsZWQuXG5cdCAgaW52b2tlSGVscGVyOiBmdW5jdGlvbiBpbnZva2VIZWxwZXIocGFyYW1TaXplLCBuYW1lLCBpc1NpbXBsZSkge1xuXHQgICAgdmFyIG5vbkhlbHBlciA9IHRoaXMucG9wU3RhY2soKSxcblx0ICAgICAgICBoZWxwZXIgPSB0aGlzLnNldHVwSGVscGVyKHBhcmFtU2l6ZSwgbmFtZSk7XG5cblx0ICAgIHZhciBwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMgPSBbXTtcblxuXHQgICAgaWYgKGlzU2ltcGxlKSB7XG5cdCAgICAgIC8vIGRpcmVjdCBjYWxsIHRvIGhlbHBlclxuXHQgICAgICBwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMucHVzaChoZWxwZXIubmFtZSk7XG5cdCAgICB9XG5cdCAgICAvLyBjYWxsIGEgZnVuY3Rpb24gZnJvbSB0aGUgaW5wdXQgb2JqZWN0XG5cdCAgICBwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMucHVzaChub25IZWxwZXIpO1xuXHQgICAgaWYgKCF0aGlzLm9wdGlvbnMuc3RyaWN0KSB7XG5cdCAgICAgIHBvc3NpYmxlRnVuY3Rpb25DYWxscy5wdXNoKHRoaXMuYWxpYXNhYmxlKCdjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZycpKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIGZ1bmN0aW9uTG9va3VwQ29kZSA9IFsnKCcsIHRoaXMuaXRlbXNTZXBhcmF0ZWRCeShwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMsICd8fCcpLCAnKSddO1xuXHQgICAgdmFyIGZ1bmN0aW9uQ2FsbCA9IHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbChmdW5jdGlvbkxvb2t1cENvZGUsICdjYWxsJywgaGVscGVyLmNhbGxQYXJhbXMpO1xuXHQgICAgdGhpcy5wdXNoKGZ1bmN0aW9uQ2FsbCk7XG5cdCAgfSxcblxuXHQgIGl0ZW1zU2VwYXJhdGVkQnk6IGZ1bmN0aW9uIGl0ZW1zU2VwYXJhdGVkQnkoaXRlbXMsIHNlcGFyYXRvcikge1xuXHQgICAgdmFyIHJlc3VsdCA9IFtdO1xuXHQgICAgcmVzdWx0LnB1c2goaXRlbXNbMF0pO1xuXHQgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICByZXN1bHQucHVzaChzZXBhcmF0b3IsIGl0ZW1zW2ldKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfSxcblx0ICAvLyBbaW52b2tlS25vd25IZWxwZXJdXG5cdCAgLy9cblx0ICAvLyBPbiBzdGFjaywgYmVmb3JlOiBoYXNoLCBpbnZlcnNlLCBwcm9ncmFtLCBwYXJhbXMuLi4sIC4uLlxuXHQgIC8vIE9uIHN0YWNrLCBhZnRlcjogcmVzdWx0IG9mIGhlbHBlciBpbnZvY2F0aW9uXG5cdCAgLy9cblx0ICAvLyBUaGlzIG9wZXJhdGlvbiBpcyB1c2VkIHdoZW4gdGhlIGhlbHBlciBpcyBrbm93biB0byBleGlzdCxcblx0ICAvLyBzbyBhIGBoZWxwZXJNaXNzaW5nYCBmYWxsYmFjayBpcyBub3QgcmVxdWlyZWQuXG5cdCAgaW52b2tlS25vd25IZWxwZXI6IGZ1bmN0aW9uIGludm9rZUtub3duSGVscGVyKHBhcmFtU2l6ZSwgbmFtZSkge1xuXHQgICAgdmFyIGhlbHBlciA9IHRoaXMuc2V0dXBIZWxwZXIocGFyYW1TaXplLCBuYW1lKTtcblx0ICAgIHRoaXMucHVzaCh0aGlzLnNvdXJjZS5mdW5jdGlvbkNhbGwoaGVscGVyLm5hbWUsICdjYWxsJywgaGVscGVyLmNhbGxQYXJhbXMpKTtcblx0ICB9LFxuXG5cdCAgLy8gW2ludm9rZUFtYmlndW91c11cblx0ICAvL1xuXHQgIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGhhc2gsIGludmVyc2UsIHByb2dyYW0sIHBhcmFtcy4uLiwgLi4uXG5cdCAgLy8gT24gc3RhY2ssIGFmdGVyOiByZXN1bHQgb2YgZGlzYW1iaWd1YXRpb25cblx0ICAvL1xuXHQgIC8vIFRoaXMgb3BlcmF0aW9uIGlzIHVzZWQgd2hlbiBhbiBleHByZXNzaW9uIGxpa2UgYHt7Zm9vfX1gXG5cdCAgLy8gaXMgcHJvdmlkZWQsIGJ1dCB3ZSBkb24ndCBrbm93IGF0IGNvbXBpbGUtdGltZSB3aGV0aGVyIGl0XG5cdCAgLy8gaXMgYSBoZWxwZXIgb3IgYSBwYXRoLlxuXHQgIC8vXG5cdCAgLy8gVGhpcyBvcGVyYXRpb24gZW1pdHMgbW9yZSBjb2RlIHRoYW4gdGhlIG90aGVyIG9wdGlvbnMsXG5cdCAgLy8gYW5kIGNhbiBiZSBhdm9pZGVkIGJ5IHBhc3NpbmcgdGhlIGBrbm93bkhlbHBlcnNgIGFuZFxuXHQgIC8vIGBrbm93bkhlbHBlcnNPbmx5YCBmbGFncyBhdCBjb21waWxlLXRpbWUuXG5cdCAgaW52b2tlQW1iaWd1b3VzOiBmdW5jdGlvbiBpbnZva2VBbWJpZ3VvdXMobmFtZSwgaGVscGVyQ2FsbCkge1xuXHQgICAgdGhpcy51c2VSZWdpc3RlcignaGVscGVyJyk7XG5cblx0ICAgIHZhciBub25IZWxwZXIgPSB0aGlzLnBvcFN0YWNrKCk7XG5cblx0ICAgIHRoaXMuZW1wdHlIYXNoKCk7XG5cdCAgICB2YXIgaGVscGVyID0gdGhpcy5zZXR1cEhlbHBlcigwLCBuYW1lLCBoZWxwZXJDYWxsKTtcblxuXHQgICAgdmFyIGhlbHBlck5hbWUgPSB0aGlzLmxhc3RIZWxwZXIgPSB0aGlzLm5hbWVMb29rdXAoJ2hlbHBlcnMnLCBuYW1lLCAnaGVscGVyJyk7XG5cblx0ICAgIHZhciBsb29rdXAgPSBbJygnLCAnKGhlbHBlciA9ICcsIGhlbHBlck5hbWUsICcgfHwgJywgbm9uSGVscGVyLCAnKSddO1xuXHQgICAgaWYgKCF0aGlzLm9wdGlvbnMuc3RyaWN0KSB7XG5cdCAgICAgIGxvb2t1cFswXSA9ICcoaGVscGVyID0gJztcblx0ICAgICAgbG9va3VwLnB1c2goJyAhPSBudWxsID8gaGVscGVyIDogJywgdGhpcy5hbGlhc2FibGUoJ2NvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nJykpO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLnB1c2goWycoJywgbG9va3VwLCBoZWxwZXIucGFyYW1zSW5pdCA/IFsnKSwoJywgaGVscGVyLnBhcmFtc0luaXRdIDogW10sICcpLCcsICcodHlwZW9mIGhlbHBlciA9PT0gJywgdGhpcy5hbGlhc2FibGUoJ1wiZnVuY3Rpb25cIicpLCAnID8gJywgdGhpcy5zb3VyY2UuZnVuY3Rpb25DYWxsKCdoZWxwZXInLCAnY2FsbCcsIGhlbHBlci5jYWxsUGFyYW1zKSwgJyA6IGhlbHBlcikpJ10pO1xuXHQgIH0sXG5cblx0ICAvLyBbaW52b2tlUGFydGlhbF1cblx0ICAvL1xuXHQgIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGNvbnRleHQsIC4uLlxuXHQgIC8vIE9uIHN0YWNrIGFmdGVyOiByZXN1bHQgb2YgcGFydGlhbCBpbnZvY2F0aW9uXG5cdCAgLy9cblx0ICAvLyBUaGlzIG9wZXJhdGlvbiBwb3BzIG9mZiBhIGNvbnRleHQsIGludm9rZXMgYSBwYXJ0aWFsIHdpdGggdGhhdCBjb250ZXh0LFxuXHQgIC8vIGFuZCBwdXNoZXMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2NhdGlvbiBiYWNrLlxuXHQgIGludm9rZVBhcnRpYWw6IGZ1bmN0aW9uIGludm9rZVBhcnRpYWwoaXNEeW5hbWljLCBuYW1lLCBpbmRlbnQpIHtcblx0ICAgIHZhciBwYXJhbXMgPSBbXSxcblx0ICAgICAgICBvcHRpb25zID0gdGhpcy5zZXR1cFBhcmFtcyhuYW1lLCAxLCBwYXJhbXMpO1xuXG5cdCAgICBpZiAoaXNEeW5hbWljKSB7XG5cdCAgICAgIG5hbWUgPSB0aGlzLnBvcFN0YWNrKCk7XG5cdCAgICAgIGRlbGV0ZSBvcHRpb25zLm5hbWU7XG5cdCAgICB9XG5cblx0ICAgIGlmIChpbmRlbnQpIHtcblx0ICAgICAgb3B0aW9ucy5pbmRlbnQgPSBKU09OLnN0cmluZ2lmeShpbmRlbnQpO1xuXHQgICAgfVxuXHQgICAgb3B0aW9ucy5oZWxwZXJzID0gJ2hlbHBlcnMnO1xuXHQgICAgb3B0aW9ucy5wYXJ0aWFscyA9ICdwYXJ0aWFscyc7XG5cdCAgICBvcHRpb25zLmRlY29yYXRvcnMgPSAnY29udGFpbmVyLmRlY29yYXRvcnMnO1xuXG5cdCAgICBpZiAoIWlzRHluYW1pYykge1xuXHQgICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLm5hbWVMb29rdXAoJ3BhcnRpYWxzJywgbmFtZSwgJ3BhcnRpYWwnKSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBwYXJhbXMudW5zaGlmdChuYW1lKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXQpIHtcblx0ICAgICAgb3B0aW9ucy5kZXB0aHMgPSAnZGVwdGhzJztcblx0ICAgIH1cblx0ICAgIG9wdGlvbnMgPSB0aGlzLm9iamVjdExpdGVyYWwob3B0aW9ucyk7XG5cdCAgICBwYXJhbXMucHVzaChvcHRpb25zKTtcblxuXHQgICAgdGhpcy5wdXNoKHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbCgnY29udGFpbmVyLmludm9rZVBhcnRpYWwnLCAnJywgcGFyYW1zKSk7XG5cdCAgfSxcblxuXHQgIC8vIFthc3NpZ25Ub0hhc2hdXG5cdCAgLy9cblx0ICAvLyBPbiBzdGFjaywgYmVmb3JlOiB2YWx1ZSwgLi4uLCBoYXNoLCAuLi5cblx0ICAvLyBPbiBzdGFjaywgYWZ0ZXI6IC4uLiwgaGFzaCwgLi4uXG5cdCAgLy9cblx0ICAvLyBQb3BzIGEgdmFsdWUgb2ZmIHRoZSBzdGFjayBhbmQgYXNzaWducyBpdCB0byB0aGUgY3VycmVudCBoYXNoXG5cdCAgYXNzaWduVG9IYXNoOiBmdW5jdGlvbiBhc3NpZ25Ub0hhc2goa2V5KSB7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnBvcFN0YWNrKCksXG5cdCAgICAgICAgY29udGV4dCA9IHVuZGVmaW5lZCxcblx0ICAgICAgICB0eXBlID0gdW5kZWZpbmVkLFxuXHQgICAgICAgIGlkID0gdW5kZWZpbmVkO1xuXG5cdCAgICBpZiAodGhpcy50cmFja0lkcykge1xuXHQgICAgICBpZCA9IHRoaXMucG9wU3RhY2soKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuXHQgICAgICB0eXBlID0gdGhpcy5wb3BTdGFjaygpO1xuXHQgICAgICBjb250ZXh0ID0gdGhpcy5wb3BTdGFjaygpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgaGFzaCA9IHRoaXMuaGFzaDtcblx0ICAgIGlmIChjb250ZXh0KSB7XG5cdCAgICAgIGhhc2guY29udGV4dHNba2V5XSA9IGNvbnRleHQ7XG5cdCAgICB9XG5cdCAgICBpZiAodHlwZSkge1xuXHQgICAgICBoYXNoLnR5cGVzW2tleV0gPSB0eXBlO1xuXHQgICAgfVxuXHQgICAgaWYgKGlkKSB7XG5cdCAgICAgIGhhc2guaWRzW2tleV0gPSBpZDtcblx0ICAgIH1cblx0ICAgIGhhc2gudmFsdWVzW2tleV0gPSB2YWx1ZTtcblx0ICB9LFxuXG5cdCAgcHVzaElkOiBmdW5jdGlvbiBwdXNoSWQodHlwZSwgbmFtZSwgY2hpbGQpIHtcblx0ICAgIGlmICh0eXBlID09PSAnQmxvY2tQYXJhbScpIHtcblx0ICAgICAgdGhpcy5wdXNoU3RhY2tMaXRlcmFsKCdibG9ja1BhcmFtc1snICsgbmFtZVswXSArICddLnBhdGhbJyArIG5hbWVbMV0gKyAnXScgKyAoY2hpbGQgPyAnICsgJyArIEpTT04uc3RyaW5naWZ5KCcuJyArIGNoaWxkKSA6ICcnKSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdQYXRoRXhwcmVzc2lvbicpIHtcblx0ICAgICAgdGhpcy5wdXNoU3RyaW5nKG5hbWUpO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlID09PSAnU3ViRXhwcmVzc2lvbicpIHtcblx0ICAgICAgdGhpcy5wdXNoU3RhY2tMaXRlcmFsKCd0cnVlJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoJ251bGwnKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgLy8gSEVMUEVSU1xuXG5cdCAgY29tcGlsZXI6IEphdmFTY3JpcHRDb21waWxlcixcblxuXHQgIGNvbXBpbGVDaGlsZHJlbjogZnVuY3Rpb24gY29tcGlsZUNoaWxkcmVuKGVudmlyb25tZW50LCBvcHRpb25zKSB7XG5cdCAgICB2YXIgY2hpbGRyZW4gPSBlbnZpcm9ubWVudC5jaGlsZHJlbixcblx0ICAgICAgICBjaGlsZCA9IHVuZGVmaW5lZCxcblx0ICAgICAgICBjb21waWxlciA9IHVuZGVmaW5lZDtcblxuXHQgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcblx0ICAgICAgY29tcGlsZXIgPSBuZXcgdGhpcy5jb21waWxlcigpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcblxuXHQgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLm1hdGNoRXhpc3RpbmdQcm9ncmFtKGNoaWxkKTtcblxuXHQgICAgICBpZiAoZXhpc3RpbmcgPT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMuY29udGV4dC5wcm9ncmFtcy5wdXNoKCcnKTsgLy8gUGxhY2Vob2xkZXIgdG8gcHJldmVudCBuYW1lIGNvbmZsaWN0cyBmb3IgbmVzdGVkIGNoaWxkcmVuXG5cdCAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jb250ZXh0LnByb2dyYW1zLmxlbmd0aDtcblx0ICAgICAgICBjaGlsZC5pbmRleCA9IGluZGV4O1xuXHQgICAgICAgIGNoaWxkLm5hbWUgPSAncHJvZ3JhbScgKyBpbmRleDtcblx0ICAgICAgICB0aGlzLmNvbnRleHQucHJvZ3JhbXNbaW5kZXhdID0gY29tcGlsZXIuY29tcGlsZShjaGlsZCwgb3B0aW9ucywgdGhpcy5jb250ZXh0LCAhdGhpcy5wcmVjb21waWxlKTtcblx0ICAgICAgICB0aGlzLmNvbnRleHQuZGVjb3JhdG9yc1tpbmRleF0gPSBjb21waWxlci5kZWNvcmF0b3JzO1xuXHQgICAgICAgIHRoaXMuY29udGV4dC5lbnZpcm9ubWVudHNbaW5kZXhdID0gY2hpbGQ7XG5cblx0ICAgICAgICB0aGlzLnVzZURlcHRocyA9IHRoaXMudXNlRGVwdGhzIHx8IGNvbXBpbGVyLnVzZURlcHRocztcblx0ICAgICAgICB0aGlzLnVzZUJsb2NrUGFyYW1zID0gdGhpcy51c2VCbG9ja1BhcmFtcyB8fCBjb21waWxlci51c2VCbG9ja1BhcmFtcztcblx0ICAgICAgICBjaGlsZC51c2VEZXB0aHMgPSB0aGlzLnVzZURlcHRocztcblx0ICAgICAgICBjaGlsZC51c2VCbG9ja1BhcmFtcyA9IHRoaXMudXNlQmxvY2tQYXJhbXM7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY2hpbGQuaW5kZXggPSBleGlzdGluZy5pbmRleDtcblx0ICAgICAgICBjaGlsZC5uYW1lID0gJ3Byb2dyYW0nICsgZXhpc3RpbmcuaW5kZXg7XG5cblx0ICAgICAgICB0aGlzLnVzZURlcHRocyA9IHRoaXMudXNlRGVwdGhzIHx8IGV4aXN0aW5nLnVzZURlcHRocztcblx0ICAgICAgICB0aGlzLnVzZUJsb2NrUGFyYW1zID0gdGhpcy51c2VCbG9ja1BhcmFtcyB8fCBleGlzdGluZy51c2VCbG9ja1BhcmFtcztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgbWF0Y2hFeGlzdGluZ1Byb2dyYW06IGZ1bmN0aW9uIG1hdGNoRXhpc3RpbmdQcm9ncmFtKGNoaWxkKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5jb250ZXh0LmVudmlyb25tZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICB2YXIgZW52aXJvbm1lbnQgPSB0aGlzLmNvbnRleHQuZW52aXJvbm1lbnRzW2ldO1xuXHQgICAgICBpZiAoZW52aXJvbm1lbnQgJiYgZW52aXJvbm1lbnQuZXF1YWxzKGNoaWxkKSkge1xuXHQgICAgICAgIHJldHVybiBlbnZpcm9ubWVudDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBwcm9ncmFtRXhwcmVzc2lvbjogZnVuY3Rpb24gcHJvZ3JhbUV4cHJlc3Npb24oZ3VpZCkge1xuXHQgICAgdmFyIGNoaWxkID0gdGhpcy5lbnZpcm9ubWVudC5jaGlsZHJlbltndWlkXSxcblx0ICAgICAgICBwcm9ncmFtUGFyYW1zID0gW2NoaWxkLmluZGV4LCAnZGF0YScsIGNoaWxkLmJsb2NrUGFyYW1zXTtcblxuXHQgICAgaWYgKHRoaXMudXNlQmxvY2tQYXJhbXMgfHwgdGhpcy51c2VEZXB0aHMpIHtcblx0ICAgICAgcHJvZ3JhbVBhcmFtcy5wdXNoKCdibG9ja1BhcmFtcycpO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMudXNlRGVwdGhzKSB7XG5cdCAgICAgIHByb2dyYW1QYXJhbXMucHVzaCgnZGVwdGhzJyk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiAnY29udGFpbmVyLnByb2dyYW0oJyArIHByb2dyYW1QYXJhbXMuam9pbignLCAnKSArICcpJztcblx0ICB9LFxuXG5cdCAgdXNlUmVnaXN0ZXI6IGZ1bmN0aW9uIHVzZVJlZ2lzdGVyKG5hbWUpIHtcblx0ICAgIGlmICghdGhpcy5yZWdpc3RlcnNbbmFtZV0pIHtcblx0ICAgICAgdGhpcy5yZWdpc3RlcnNbbmFtZV0gPSB0cnVlO1xuXHQgICAgICB0aGlzLnJlZ2lzdGVycy5saXN0LnB1c2gobmFtZSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZXhwcikge1xuXHQgICAgaWYgKCEoZXhwciBpbnN0YW5jZW9mIExpdGVyYWwpKSB7XG5cdCAgICAgIGV4cHIgPSB0aGlzLnNvdXJjZS53cmFwKGV4cHIpO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLmlubGluZVN0YWNrLnB1c2goZXhwcik7XG5cdCAgICByZXR1cm4gZXhwcjtcblx0ICB9LFxuXG5cdCAgcHVzaFN0YWNrTGl0ZXJhbDogZnVuY3Rpb24gcHVzaFN0YWNrTGl0ZXJhbChpdGVtKSB7XG5cdCAgICB0aGlzLnB1c2gobmV3IExpdGVyYWwoaXRlbSkpO1xuXHQgIH0sXG5cblx0ICBwdXNoU291cmNlOiBmdW5jdGlvbiBwdXNoU291cmNlKHNvdXJjZSkge1xuXHQgICAgaWYgKHRoaXMucGVuZGluZ0NvbnRlbnQpIHtcblx0ICAgICAgdGhpcy5zb3VyY2UucHVzaCh0aGlzLmFwcGVuZFRvQnVmZmVyKHRoaXMuc291cmNlLnF1b3RlZFN0cmluZyh0aGlzLnBlbmRpbmdDb250ZW50KSwgdGhpcy5wZW5kaW5nTG9jYXRpb24pKTtcblx0ICAgICAgdGhpcy5wZW5kaW5nQ29udGVudCA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblxuXHQgICAgaWYgKHNvdXJjZSkge1xuXHQgICAgICB0aGlzLnNvdXJjZS5wdXNoKHNvdXJjZSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIHJlcGxhY2VTdGFjazogZnVuY3Rpb24gcmVwbGFjZVN0YWNrKGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgcHJlZml4ID0gWycoJ10sXG5cdCAgICAgICAgc3RhY2sgPSB1bmRlZmluZWQsXG5cdCAgICAgICAgY3JlYXRlZFN0YWNrID0gdW5kZWZpbmVkLFxuXHQgICAgICAgIHVzZWRMaXRlcmFsID0gdW5kZWZpbmVkO1xuXG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgICAgaWYgKCF0aGlzLmlzSW5saW5lKCkpIHtcblx0ICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ3JlcGxhY2VTdGFjayBvbiBub24taW5saW5lJyk7XG5cdCAgICB9XG5cblx0ICAgIC8vIFdlIHdhbnQgdG8gbWVyZ2UgdGhlIGlubGluZSBzdGF0ZW1lbnQgaW50byB0aGUgcmVwbGFjZW1lbnQgc3RhdGVtZW50IHZpYSAnLCdcblx0ICAgIHZhciB0b3AgPSB0aGlzLnBvcFN0YWNrKHRydWUpO1xuXG5cdCAgICBpZiAodG9wIGluc3RhbmNlb2YgTGl0ZXJhbCkge1xuXHQgICAgICAvLyBMaXRlcmFscyBkbyBub3QgbmVlZCB0byBiZSBpbmxpbmVkXG5cdCAgICAgIHN0YWNrID0gW3RvcC52YWx1ZV07XG5cdCAgICAgIHByZWZpeCA9IFsnKCcsIHN0YWNrXTtcblx0ICAgICAgdXNlZExpdGVyYWwgPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gR2V0IG9yIGNyZWF0ZSB0aGUgY3VycmVudCBzdGFjayBuYW1lIGZvciB1c2UgYnkgdGhlIGlubGluZVxuXHQgICAgICBjcmVhdGVkU3RhY2sgPSB0cnVlO1xuXHQgICAgICB2YXIgX25hbWUgPSB0aGlzLmluY3JTdGFjaygpO1xuXG5cdCAgICAgIHByZWZpeCA9IFsnKCgnLCB0aGlzLnB1c2goX25hbWUpLCAnID0gJywgdG9wLCAnKSddO1xuXHQgICAgICBzdGFjayA9IHRoaXMudG9wU3RhY2soKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIGl0ZW0gPSBjYWxsYmFjay5jYWxsKHRoaXMsIHN0YWNrKTtcblxuXHQgICAgaWYgKCF1c2VkTGl0ZXJhbCkge1xuXHQgICAgICB0aGlzLnBvcFN0YWNrKCk7XG5cdCAgICB9XG5cdCAgICBpZiAoY3JlYXRlZFN0YWNrKSB7XG5cdCAgICAgIHRoaXMuc3RhY2tTbG90LS07XG5cdCAgICB9XG5cdCAgICB0aGlzLnB1c2gocHJlZml4LmNvbmNhdChpdGVtLCAnKScpKTtcblx0ICB9LFxuXG5cdCAgaW5jclN0YWNrOiBmdW5jdGlvbiBpbmNyU3RhY2soKSB7XG5cdCAgICB0aGlzLnN0YWNrU2xvdCsrO1xuXHQgICAgaWYgKHRoaXMuc3RhY2tTbG90ID4gdGhpcy5zdGFja1ZhcnMubGVuZ3RoKSB7XG5cdCAgICAgIHRoaXMuc3RhY2tWYXJzLnB1c2goJ3N0YWNrJyArIHRoaXMuc3RhY2tTbG90KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLnRvcFN0YWNrTmFtZSgpO1xuXHQgIH0sXG5cdCAgdG9wU3RhY2tOYW1lOiBmdW5jdGlvbiB0b3BTdGFja05hbWUoKSB7XG5cdCAgICByZXR1cm4gJ3N0YWNrJyArIHRoaXMuc3RhY2tTbG90O1xuXHQgIH0sXG5cdCAgZmx1c2hJbmxpbmU6IGZ1bmN0aW9uIGZsdXNoSW5saW5lKCkge1xuXHQgICAgdmFyIGlubGluZVN0YWNrID0gdGhpcy5pbmxpbmVTdGFjaztcblx0ICAgIHRoaXMuaW5saW5lU3RhY2sgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpbmxpbmVTdGFjay5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICB2YXIgZW50cnkgPSBpbmxpbmVTdGFja1tpXTtcblx0ICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIExpdGVyYWwpIHtcblx0ICAgICAgICB0aGlzLmNvbXBpbGVTdGFjay5wdXNoKGVudHJ5KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgc3RhY2sgPSB0aGlzLmluY3JTdGFjaygpO1xuXHQgICAgICAgIHRoaXMucHVzaFNvdXJjZShbc3RhY2ssICcgPSAnLCBlbnRyeSwgJzsnXSk7XG5cdCAgICAgICAgdGhpcy5jb21waWxlU3RhY2sucHVzaChzdGFjayk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGlzSW5saW5lOiBmdW5jdGlvbiBpc0lubGluZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlubGluZVN0YWNrLmxlbmd0aDtcblx0ICB9LFxuXG5cdCAgcG9wU3RhY2s6IGZ1bmN0aW9uIHBvcFN0YWNrKHdyYXBwZWQpIHtcblx0ICAgIHZhciBpbmxpbmUgPSB0aGlzLmlzSW5saW5lKCksXG5cdCAgICAgICAgaXRlbSA9IChpbmxpbmUgPyB0aGlzLmlubGluZVN0YWNrIDogdGhpcy5jb21waWxlU3RhY2spLnBvcCgpO1xuXG5cdCAgICBpZiAoIXdyYXBwZWQgJiYgaXRlbSBpbnN0YW5jZW9mIExpdGVyYWwpIHtcblx0ICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAoIWlubGluZSkge1xuXHQgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgICAgICAgaWYgKCF0aGlzLnN0YWNrU2xvdCkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ0ludmFsaWQgc3RhY2sgcG9wJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuc3RhY2tTbG90LS07XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGl0ZW07XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIHRvcFN0YWNrOiBmdW5jdGlvbiB0b3BTdGFjaygpIHtcblx0ICAgIHZhciBzdGFjayA9IHRoaXMuaXNJbmxpbmUoKSA/IHRoaXMuaW5saW5lU3RhY2sgOiB0aGlzLmNvbXBpbGVTdGFjayxcblx0ICAgICAgICBpdGVtID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG5cblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBMaXRlcmFsKSB7XG5cdCAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGl0ZW07XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIGNvbnRleHROYW1lOiBmdW5jdGlvbiBjb250ZXh0TmFtZShjb250ZXh0KSB7XG5cdCAgICBpZiAodGhpcy51c2VEZXB0aHMgJiYgY29udGV4dCkge1xuXHQgICAgICByZXR1cm4gJ2RlcHRoc1snICsgY29udGV4dCArICddJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAnZGVwdGgnICsgY29udGV4dDtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgcXVvdGVkU3RyaW5nOiBmdW5jdGlvbiBxdW90ZWRTdHJpbmcoc3RyKSB7XG5cdCAgICByZXR1cm4gdGhpcy5zb3VyY2UucXVvdGVkU3RyaW5nKHN0cik7XG5cdCAgfSxcblxuXHQgIG9iamVjdExpdGVyYWw6IGZ1bmN0aW9uIG9iamVjdExpdGVyYWwob2JqKSB7XG5cdCAgICByZXR1cm4gdGhpcy5zb3VyY2Uub2JqZWN0TGl0ZXJhbChvYmopO1xuXHQgIH0sXG5cblx0ICBhbGlhc2FibGU6IGZ1bmN0aW9uIGFsaWFzYWJsZShuYW1lKSB7XG5cdCAgICB2YXIgcmV0ID0gdGhpcy5hbGlhc2VzW25hbWVdO1xuXHQgICAgaWYgKHJldCkge1xuXHQgICAgICByZXQucmVmZXJlbmNlQ291bnQrKztcblx0ICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH1cblxuXHQgICAgcmV0ID0gdGhpcy5hbGlhc2VzW25hbWVdID0gdGhpcy5zb3VyY2Uud3JhcChuYW1lKTtcblx0ICAgIHJldC5hbGlhc2FibGUgPSB0cnVlO1xuXHQgICAgcmV0LnJlZmVyZW5jZUNvdW50ID0gMTtcblxuXHQgICAgcmV0dXJuIHJldDtcblx0ICB9LFxuXG5cdCAgc2V0dXBIZWxwZXI6IGZ1bmN0aW9uIHNldHVwSGVscGVyKHBhcmFtU2l6ZSwgbmFtZSwgYmxvY2tIZWxwZXIpIHtcblx0ICAgIHZhciBwYXJhbXMgPSBbXSxcblx0ICAgICAgICBwYXJhbXNJbml0ID0gdGhpcy5zZXR1cEhlbHBlckFyZ3MobmFtZSwgcGFyYW1TaXplLCBwYXJhbXMsIGJsb2NrSGVscGVyKTtcblx0ICAgIHZhciBmb3VuZEhlbHBlciA9IHRoaXMubmFtZUxvb2t1cCgnaGVscGVycycsIG5hbWUsICdoZWxwZXInKSxcblx0ICAgICAgICBjYWxsQ29udGV4dCA9IHRoaXMuYWxpYXNhYmxlKHRoaXMuY29udGV4dE5hbWUoMCkgKyAnICE9IG51bGwgPyAnICsgdGhpcy5jb250ZXh0TmFtZSgwKSArICcgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KScpO1xuXG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwYXJhbXM6IHBhcmFtcyxcblx0ICAgICAgcGFyYW1zSW5pdDogcGFyYW1zSW5pdCxcblx0ICAgICAgbmFtZTogZm91bmRIZWxwZXIsXG5cdCAgICAgIGNhbGxQYXJhbXM6IFtjYWxsQ29udGV4dF0uY29uY2F0KHBhcmFtcylcblx0ICAgIH07XG5cdCAgfSxcblxuXHQgIHNldHVwUGFyYW1zOiBmdW5jdGlvbiBzZXR1cFBhcmFtcyhoZWxwZXIsIHBhcmFtU2l6ZSwgcGFyYW1zKSB7XG5cdCAgICB2YXIgb3B0aW9ucyA9IHt9LFxuXHQgICAgICAgIGNvbnRleHRzID0gW10sXG5cdCAgICAgICAgdHlwZXMgPSBbXSxcblx0ICAgICAgICBpZHMgPSBbXSxcblx0ICAgICAgICBvYmplY3RBcmdzID0gIXBhcmFtcyxcblx0ICAgICAgICBwYXJhbSA9IHVuZGVmaW5lZDtcblxuXHQgICAgaWYgKG9iamVjdEFyZ3MpIHtcblx0ICAgICAgcGFyYW1zID0gW107XG5cdCAgICB9XG5cblx0ICAgIG9wdGlvbnMubmFtZSA9IHRoaXMucXVvdGVkU3RyaW5nKGhlbHBlcik7XG5cdCAgICBvcHRpb25zLmhhc2ggPSB0aGlzLnBvcFN0YWNrKCk7XG5cblx0ICAgIGlmICh0aGlzLnRyYWNrSWRzKSB7XG5cdCAgICAgIG9wdGlvbnMuaGFzaElkcyA9IHRoaXMucG9wU3RhY2soKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuXHQgICAgICBvcHRpb25zLmhhc2hUeXBlcyA9IHRoaXMucG9wU3RhY2soKTtcblx0ICAgICAgb3B0aW9ucy5oYXNoQ29udGV4dHMgPSB0aGlzLnBvcFN0YWNrKCk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBpbnZlcnNlID0gdGhpcy5wb3BTdGFjaygpLFxuXHQgICAgICAgIHByb2dyYW0gPSB0aGlzLnBvcFN0YWNrKCk7XG5cblx0ICAgIC8vIEF2b2lkIHNldHRpbmcgZm4gYW5kIGludmVyc2UgaWYgbmVpdGhlciBhcmUgc2V0LiBUaGlzIGFsbG93c1xuXHQgICAgLy8gaGVscGVycyB0byBkbyBhIGNoZWNrIGZvciBgaWYgKG9wdGlvbnMuZm4pYFxuXHQgICAgaWYgKHByb2dyYW0gfHwgaW52ZXJzZSkge1xuXHQgICAgICBvcHRpb25zLmZuID0gcHJvZ3JhbSB8fCAnY29udGFpbmVyLm5vb3AnO1xuXHQgICAgICBvcHRpb25zLmludmVyc2UgPSBpbnZlcnNlIHx8ICdjb250YWluZXIubm9vcCc7XG5cdCAgICB9XG5cblx0ICAgIC8vIFRoZSBwYXJhbWV0ZXJzIGdvIG9uIHRvIHRoZSBzdGFjayBpbiBvcmRlciAobWFraW5nIHN1cmUgdGhhdCB0aGV5IGFyZSBldmFsdWF0ZWQgaW4gb3JkZXIpXG5cdCAgICAvLyBzbyB3ZSBuZWVkIHRvIHBvcCB0aGVtIG9mZiB0aGUgc3RhY2sgaW4gcmV2ZXJzZSBvcmRlclxuXHQgICAgdmFyIGkgPSBwYXJhbVNpemU7XG5cdCAgICB3aGlsZSAoaS0tKSB7XG5cdCAgICAgIHBhcmFtID0gdGhpcy5wb3BTdGFjaygpO1xuXHQgICAgICBwYXJhbXNbaV0gPSBwYXJhbTtcblxuXHQgICAgICBpZiAodGhpcy50cmFja0lkcykge1xuXHQgICAgICAgIGlkc1tpXSA9IHRoaXMucG9wU3RhY2soKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodGhpcy5zdHJpbmdQYXJhbXMpIHtcblx0ICAgICAgICB0eXBlc1tpXSA9IHRoaXMucG9wU3RhY2soKTtcblx0ICAgICAgICBjb250ZXh0c1tpXSA9IHRoaXMucG9wU3RhY2soKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBpZiAob2JqZWN0QXJncykge1xuXHQgICAgICBvcHRpb25zLmFyZ3MgPSB0aGlzLnNvdXJjZS5nZW5lcmF0ZUFycmF5KHBhcmFtcyk7XG5cdCAgICB9XG5cblx0ICAgIGlmICh0aGlzLnRyYWNrSWRzKSB7XG5cdCAgICAgIG9wdGlvbnMuaWRzID0gdGhpcy5zb3VyY2UuZ2VuZXJhdGVBcnJheShpZHMpO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMuc3RyaW5nUGFyYW1zKSB7XG5cdCAgICAgIG9wdGlvbnMudHlwZXMgPSB0aGlzLnNvdXJjZS5nZW5lcmF0ZUFycmF5KHR5cGVzKTtcblx0ICAgICAgb3B0aW9ucy5jb250ZXh0cyA9IHRoaXMuc291cmNlLmdlbmVyYXRlQXJyYXkoY29udGV4dHMpO1xuXHQgICAgfVxuXG5cdCAgICBpZiAodGhpcy5vcHRpb25zLmRhdGEpIHtcblx0ICAgICAgb3B0aW9ucy5kYXRhID0gJ2RhdGEnO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMudXNlQmxvY2tQYXJhbXMpIHtcblx0ICAgICAgb3B0aW9ucy5ibG9ja1BhcmFtcyA9ICdibG9ja1BhcmFtcyc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gb3B0aW9ucztcblx0ICB9LFxuXG5cdCAgc2V0dXBIZWxwZXJBcmdzOiBmdW5jdGlvbiBzZXR1cEhlbHBlckFyZ3MoaGVscGVyLCBwYXJhbVNpemUsIHBhcmFtcywgdXNlUmVnaXN0ZXIpIHtcblx0ICAgIHZhciBvcHRpb25zID0gdGhpcy5zZXR1cFBhcmFtcyhoZWxwZXIsIHBhcmFtU2l6ZSwgcGFyYW1zKTtcblx0ICAgIG9wdGlvbnMubG9jID0gSlNPTi5zdHJpbmdpZnkodGhpcy5zb3VyY2UuY3VycmVudExvY2F0aW9uKTtcblx0ICAgIG9wdGlvbnMgPSB0aGlzLm9iamVjdExpdGVyYWwob3B0aW9ucyk7XG5cdCAgICBpZiAodXNlUmVnaXN0ZXIpIHtcblx0ICAgICAgdGhpcy51c2VSZWdpc3Rlcignb3B0aW9ucycpO1xuXHQgICAgICBwYXJhbXMucHVzaCgnb3B0aW9ucycpO1xuXHQgICAgICByZXR1cm4gWydvcHRpb25zPScsIG9wdGlvbnNdO1xuXHQgICAgfSBlbHNlIGlmIChwYXJhbXMpIHtcblx0ICAgICAgcGFyYW1zLnB1c2gob3B0aW9ucyk7XG5cdCAgICAgIHJldHVybiAnJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBvcHRpb25zO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgIHZhciByZXNlcnZlZFdvcmRzID0gKCdicmVhayBlbHNlIG5ldyB2YXInICsgJyBjYXNlIGZpbmFsbHkgcmV0dXJuIHZvaWQnICsgJyBjYXRjaCBmb3Igc3dpdGNoIHdoaWxlJyArICcgY29udGludWUgZnVuY3Rpb24gdGhpcyB3aXRoJyArICcgZGVmYXVsdCBpZiB0aHJvdycgKyAnIGRlbGV0ZSBpbiB0cnknICsgJyBkbyBpbnN0YW5jZW9mIHR5cGVvZicgKyAnIGFic3RyYWN0IGVudW0gaW50IHNob3J0JyArICcgYm9vbGVhbiBleHBvcnQgaW50ZXJmYWNlIHN0YXRpYycgKyAnIGJ5dGUgZXh0ZW5kcyBsb25nIHN1cGVyJyArICcgY2hhciBmaW5hbCBuYXRpdmUgc3luY2hyb25pemVkJyArICcgY2xhc3MgZmxvYXQgcGFja2FnZSB0aHJvd3MnICsgJyBjb25zdCBnb3RvIHByaXZhdGUgdHJhbnNpZW50JyArICcgZGVidWdnZXIgaW1wbGVtZW50cyBwcm90ZWN0ZWQgdm9sYXRpbGUnICsgJyBkb3VibGUgaW1wb3J0IHB1YmxpYyBsZXQgeWllbGQgYXdhaXQnICsgJyBudWxsIHRydWUgZmFsc2UnKS5zcGxpdCgnICcpO1xuXG5cdCAgdmFyIGNvbXBpbGVyV29yZHMgPSBKYXZhU2NyaXB0Q29tcGlsZXIuUkVTRVJWRURfV09SRFMgPSB7fTtcblxuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzZXJ2ZWRXb3Jkcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIGNvbXBpbGVyV29yZHNbcmVzZXJ2ZWRXb3Jkc1tpXV0gPSB0cnVlO1xuXHQgIH1cblx0fSkoKTtcblxuXHQvKipcblx0ICogQGRlcHJlY2F0ZWQgTWF5IGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvblxuXHQgKi9cblx0SmF2YVNjcmlwdENvbXBpbGVyLmlzVmFsaWRKYXZhU2NyaXB0VmFyaWFibGVOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICByZXR1cm4gIUphdmFTY3JpcHRDb21waWxlci5SRVNFUlZFRF9XT1JEU1tuYW1lXSAmJiAvXlthLXpBLVpfJF1bMC05YS16QS1aXyRdKiQvLnRlc3QobmFtZSk7XG5cdH07XG5cblx0ZnVuY3Rpb24gc3RyaWN0TG9va3VwKHJlcXVpcmVUZXJtaW5hbCwgY29tcGlsZXIsIHBhcnRzLCBpLCB0eXBlKSB7XG5cdCAgdmFyIHN0YWNrID0gY29tcGlsZXIucG9wU3RhY2soKSxcblx0ICAgICAgbGVuID0gcGFydHMubGVuZ3RoO1xuXHQgIGlmIChyZXF1aXJlVGVybWluYWwpIHtcblx0ICAgIGxlbi0tO1xuXHQgIH1cblxuXHQgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgIHN0YWNrID0gY29tcGlsZXIubmFtZUxvb2t1cChzdGFjaywgcGFydHNbaV0sIHR5cGUpO1xuXHQgIH1cblxuXHQgIGlmIChyZXF1aXJlVGVybWluYWwpIHtcblx0ICAgIHJldHVybiBbY29tcGlsZXIuYWxpYXNhYmxlKCdjb250YWluZXIuc3RyaWN0JyksICcoJywgc3RhY2ssICcsICcsIGNvbXBpbGVyLnF1b3RlZFN0cmluZyhwYXJ0c1tpXSksICcsICcsIEpTT04uc3RyaW5naWZ5KGNvbXBpbGVyLnNvdXJjZS5jdXJyZW50TG9jYXRpb24pLCAnICknXTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIHN0YWNrO1xuXHQgIH1cblx0fVxuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEphdmFTY3JpcHRDb21waWxlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogOTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBnbG9iYWwgZGVmaW5lLCByZXF1aXJlICovXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX09iamVjdCRrZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MClbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBTb3VyY2VOb2RlID0gdW5kZWZpbmVkO1xuXG5cdHRyeSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICBpZiAoZmFsc2UpIHtcblx0ICAgIC8vIFdlIGRvbid0IHN1cHBvcnQgdGhpcyBpbiBBTUQgZW52aXJvbm1lbnRzLiBGb3IgdGhlc2UgZW52aXJvbm1lbnRzLCB3ZSBhc3N1bWUgdGhhdFxuXHQgICAgLy8gdGhleSBhcmUgcnVubmluZyBvbiB0aGUgYnJvd3NlciBhbmQgdGh1cyBoYXZlIG5vIG5lZWQgZm9yIHRoZSBzb3VyY2UtbWFwIGxpYnJhcnkuXG5cdCAgICB2YXIgU291cmNlTWFwID0gcmVxdWlyZSgnc291cmNlLW1hcCcpO1xuXHQgICAgU291cmNlTm9kZSA9IFNvdXJjZU1hcC5Tb3VyY2VOb2RlO1xuXHQgIH1cblx0fSBjYXRjaCAoZXJyKSB7fVxuXHQvKiBOT1AgKi9cblxuXHQvKiBpc3RhbmJ1bCBpZ25vcmUgaWY6IHRlc3RlZCBidXQgbm90IGNvdmVyZWQgaW4gaXN0YW5idWwgZHVlIHRvIGRpc3QgYnVpbGQgICovXG5cdGlmICghU291cmNlTm9kZSkge1xuXHQgIFNvdXJjZU5vZGUgPSBmdW5jdGlvbiAobGluZSwgY29sdW1uLCBzcmNGaWxlLCBjaHVua3MpIHtcblx0ICAgIHRoaXMuc3JjID0gJyc7XG5cdCAgICBpZiAoY2h1bmtzKSB7XG5cdCAgICAgIHRoaXMuYWRkKGNodW5rcyk7XG5cdCAgICB9XG5cdCAgfTtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgIFNvdXJjZU5vZGUucHJvdG90eXBlID0ge1xuXHQgICAgYWRkOiBmdW5jdGlvbiBhZGQoY2h1bmtzKSB7XG5cdCAgICAgIGlmIChfdXRpbHMuaXNBcnJheShjaHVua3MpKSB7XG5cdCAgICAgICAgY2h1bmtzID0gY2h1bmtzLmpvaW4oJycpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuc3JjICs9IGNodW5rcztcblx0ICAgIH0sXG5cdCAgICBwcmVwZW5kOiBmdW5jdGlvbiBwcmVwZW5kKGNodW5rcykge1xuXHQgICAgICBpZiAoX3V0aWxzLmlzQXJyYXkoY2h1bmtzKSkge1xuXHQgICAgICAgIGNodW5rcyA9IGNodW5rcy5qb2luKCcnKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnNyYyA9IGNodW5rcyArIHRoaXMuc3JjO1xuXHQgICAgfSxcblx0ICAgIHRvU3RyaW5nV2l0aFNvdXJjZU1hcDogZnVuY3Rpb24gdG9TdHJpbmdXaXRoU291cmNlTWFwKCkge1xuXHQgICAgICByZXR1cm4geyBjb2RlOiB0aGlzLnRvU3RyaW5nKCkgfTtcblx0ICAgIH0sXG5cdCAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnNyYztcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FzdENodW5rKGNodW5rLCBjb2RlR2VuLCBsb2MpIHtcblx0ICBpZiAoX3V0aWxzLmlzQXJyYXkoY2h1bmspKSB7XG5cdCAgICB2YXIgcmV0ID0gW107XG5cblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaHVuay5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICByZXQucHVzaChjb2RlR2VuLndyYXAoY2h1bmtbaV0sIGxvYykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBjaHVuayA9PT0gJ251bWJlcicpIHtcblx0ICAgIC8vIEhhbmRsZSBwcmltaXRpdmVzIHRoYXQgdGhlIFNvdXJjZU5vZGUgd2lsbCB0aHJvdyB1cCBvblxuXHQgICAgcmV0dXJuIGNodW5rICsgJyc7XG5cdCAgfVxuXHQgIHJldHVybiBjaHVuaztcblx0fVxuXG5cdGZ1bmN0aW9uIENvZGVHZW4oc3JjRmlsZSkge1xuXHQgIHRoaXMuc3JjRmlsZSA9IHNyY0ZpbGU7XG5cdCAgdGhpcy5zb3VyY2UgPSBbXTtcblx0fVxuXG5cdENvZGVHZW4ucHJvdG90eXBlID0ge1xuXHQgIGlzRW1wdHk6IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG5cdCAgICByZXR1cm4gIXRoaXMuc291cmNlLmxlbmd0aDtcblx0ICB9LFxuXHQgIHByZXBlbmQ6IGZ1bmN0aW9uIHByZXBlbmQoc291cmNlLCBsb2MpIHtcblx0ICAgIHRoaXMuc291cmNlLnVuc2hpZnQodGhpcy53cmFwKHNvdXJjZSwgbG9jKSk7XG5cdCAgfSxcblx0ICBwdXNoOiBmdW5jdGlvbiBwdXNoKHNvdXJjZSwgbG9jKSB7XG5cdCAgICB0aGlzLnNvdXJjZS5wdXNoKHRoaXMud3JhcChzb3VyY2UsIGxvYykpO1xuXHQgIH0sXG5cblx0ICBtZXJnZTogZnVuY3Rpb24gbWVyZ2UoKSB7XG5cdCAgICB2YXIgc291cmNlID0gdGhpcy5lbXB0eSgpO1xuXHQgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChsaW5lKSB7XG5cdCAgICAgIHNvdXJjZS5hZGQoWycgICcsIGxpbmUsICdcXG4nXSk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBzb3VyY2U7XG5cdCAgfSxcblxuXHQgIGVhY2g6IGZ1bmN0aW9uIGVhY2goaXRlcikge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuc291cmNlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgIGl0ZXIodGhpcy5zb3VyY2VbaV0pO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBlbXB0eTogZnVuY3Rpb24gZW1wdHkoKSB7XG5cdCAgICB2YXIgbG9jID0gdGhpcy5jdXJyZW50TG9jYXRpb24gfHwgeyBzdGFydDoge30gfTtcblx0ICAgIHJldHVybiBuZXcgU291cmNlTm9kZShsb2Muc3RhcnQubGluZSwgbG9jLnN0YXJ0LmNvbHVtbiwgdGhpcy5zcmNGaWxlKTtcblx0ICB9LFxuXHQgIHdyYXA6IGZ1bmN0aW9uIHdyYXAoY2h1bmspIHtcblx0ICAgIHZhciBsb2MgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0aGlzLmN1cnJlbnRMb2NhdGlvbiB8fCB7IHN0YXJ0OiB7fSB9IDogYXJndW1lbnRzWzFdO1xuXG5cdCAgICBpZiAoY2h1bmsgaW5zdGFuY2VvZiBTb3VyY2VOb2RlKSB7XG5cdCAgICAgIHJldHVybiBjaHVuaztcblx0ICAgIH1cblxuXHQgICAgY2h1bmsgPSBjYXN0Q2h1bmsoY2h1bmssIHRoaXMsIGxvYyk7XG5cblx0ICAgIHJldHVybiBuZXcgU291cmNlTm9kZShsb2Muc3RhcnQubGluZSwgbG9jLnN0YXJ0LmNvbHVtbiwgdGhpcy5zcmNGaWxlLCBjaHVuayk7XG5cdCAgfSxcblxuXHQgIGZ1bmN0aW9uQ2FsbDogZnVuY3Rpb24gZnVuY3Rpb25DYWxsKGZuLCB0eXBlLCBwYXJhbXMpIHtcblx0ICAgIHBhcmFtcyA9IHRoaXMuZ2VuZXJhdGVMaXN0KHBhcmFtcyk7XG5cdCAgICByZXR1cm4gdGhpcy53cmFwKFtmbiwgdHlwZSA/ICcuJyArIHR5cGUgKyAnKCcgOiAnKCcsIHBhcmFtcywgJyknXSk7XG5cdCAgfSxcblxuXHQgIHF1b3RlZFN0cmluZzogZnVuY3Rpb24gcXVvdGVkU3RyaW5nKHN0cikge1xuXHQgICAgcmV0dXJuICdcIicgKyAoc3RyICsgJycpLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJykucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKS5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJykucmVwbGFjZSgvXFx1MjAyOC9nLCAnXFxcXHUyMDI4JykgLy8gUGVyIEVjbWEtMjYyIDcuMyArIDcuOC40XG5cdCAgICAucmVwbGFjZSgvXFx1MjAyOS9nLCAnXFxcXHUyMDI5JykgKyAnXCInO1xuXHQgIH0sXG5cblx0ICBvYmplY3RMaXRlcmFsOiBmdW5jdGlvbiBvYmplY3RMaXRlcmFsKG9iaikge1xuXHQgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgdmFyIHBhaXJzID0gW107XG5cblx0ICAgIF9PYmplY3Qka2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICB2YXIgdmFsdWUgPSBjYXN0Q2h1bmsob2JqW2tleV0sIF90aGlzKTtcblx0ICAgICAgaWYgKHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHBhaXJzLnB1c2goW190aGlzLnF1b3RlZFN0cmluZyhrZXkpLCAnOicsIHZhbHVlXSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICB2YXIgcmV0ID0gdGhpcy5nZW5lcmF0ZUxpc3QocGFpcnMpO1xuXHQgICAgcmV0LnByZXBlbmQoJ3snKTtcblx0ICAgIHJldC5hZGQoJ30nKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdCAgfSxcblxuXHQgIGdlbmVyYXRlTGlzdDogZnVuY3Rpb24gZ2VuZXJhdGVMaXN0KGVudHJpZXMpIHtcblx0ICAgIHZhciByZXQgPSB0aGlzLmVtcHR5KCk7XG5cblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgIGlmIChpKSB7XG5cdCAgICAgICAgcmV0LmFkZCgnLCcpO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0LmFkZChjYXN0Q2h1bmsoZW50cmllc1tpXSwgdGhpcykpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gcmV0O1xuXHQgIH0sXG5cblx0ICBnZW5lcmF0ZUFycmF5OiBmdW5jdGlvbiBnZW5lcmF0ZUFycmF5KGVudHJpZXMpIHtcblx0ICAgIHZhciByZXQgPSB0aGlzLmdlbmVyYXRlTGlzdChlbnRyaWVzKTtcblx0ICAgIHJldC5wcmVwZW5kKCdbJyk7XG5cdCAgICByZXQuYWRkKCddJyk7XG5cblx0ICAgIHJldHVybiByZXQ7XG5cdCAgfVxuXHR9O1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IENvZGVHZW47XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSlcbn0pO1xuOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/handlebars/dist/handlebars.js\n\n}");

/***/ }),

/***/ "./node_modules/re-resizable/lib/index.js":
/*!************************************************!*\
  !*** ./node_modules/re-resizable/lib/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Resizable: () => (/* binding */ Resizable)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _resizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resizer */ \"./node_modules/re-resizable/lib/resizer.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\nvar DEFAULT_SIZE = {\n    width: 'auto',\n    height: 'auto',\n};\nvar clamp = function (n, min, max) { return Math.max(Math.min(n, max), min); };\nvar snap = function (n, size, gridGap) {\n    var v = Math.round(n / size);\n    return v * size + gridGap * (v - 1);\n};\nvar hasDirection = function (dir, target) {\n    return new RegExp(dir, 'i').test(target);\n};\n// INFO: In case of window is a Proxy and does not porxy Events correctly, use isTouchEvent & isMouseEvent to distinguish event type instead of `instanceof`.\nvar isTouchEvent = function (event) {\n    return Boolean(event.touches && event.touches.length);\n};\nvar isMouseEvent = function (event) {\n    return Boolean((event.clientX || event.clientX === 0) &&\n        (event.clientY || event.clientY === 0));\n};\nvar findClosestSnap = function (n, snapArray, snapGap) {\n    if (snapGap === void 0) { snapGap = 0; }\n    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);\n    var gap = Math.abs(snapArray[closestGapIndex] - n);\n    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;\n};\nvar getStringSize = function (n) {\n    n = n.toString();\n    if (n === 'auto') {\n        return n;\n    }\n    if (n.endsWith('px')) {\n        return n;\n    }\n    if (n.endsWith('%')) {\n        return n;\n    }\n    if (n.endsWith('vh')) {\n        return n;\n    }\n    if (n.endsWith('vw')) {\n        return n;\n    }\n    if (n.endsWith('vmax')) {\n        return n;\n    }\n    if (n.endsWith('vmin')) {\n        return n;\n    }\n    return n + \"px\";\n};\nvar getPixelSize = function (size, parentSize, innerWidth, innerHeight) {\n    if (size && typeof size === 'string') {\n        if (size.endsWith('px')) {\n            return Number(size.replace('px', ''));\n        }\n        if (size.endsWith('%')) {\n            var ratio = Number(size.replace('%', '')) / 100;\n            return parentSize * ratio;\n        }\n        if (size.endsWith('vw')) {\n            var ratio = Number(size.replace('vw', '')) / 100;\n            return innerWidth * ratio;\n        }\n        if (size.endsWith('vh')) {\n            var ratio = Number(size.replace('vh', '')) / 100;\n            return innerHeight * ratio;\n        }\n    }\n    return size;\n};\nvar calculateNewMax = function (parentSize, innerWidth, innerHeight, maxWidth, maxHeight, minWidth, minHeight) {\n    maxWidth = getPixelSize(maxWidth, parentSize.width, innerWidth, innerHeight);\n    maxHeight = getPixelSize(maxHeight, parentSize.height, innerWidth, innerHeight);\n    minWidth = getPixelSize(minWidth, parentSize.width, innerWidth, innerHeight);\n    minHeight = getPixelSize(minHeight, parentSize.height, innerWidth, innerHeight);\n    return {\n        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),\n        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),\n        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),\n        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),\n    };\n};\n/**\n * transform T | [T, T] to [T, T]\n * @param val\n * @returns\n */\n// tslint:disable-next-line\nvar normalizeToPair = function (val) { return (Array.isArray(val) ? val : [val, val]); };\nvar definedProps = [\n    'as',\n    'ref',\n    'style',\n    'className',\n    'grid',\n    'gridGap',\n    'snap',\n    'bounds',\n    'boundsByDirection',\n    'size',\n    'defaultSize',\n    'minWidth',\n    'minHeight',\n    'maxWidth',\n    'maxHeight',\n    'lockAspectRatio',\n    'lockAspectRatioExtraWidth',\n    'lockAspectRatioExtraHeight',\n    'enable',\n    'handleStyles',\n    'handleClasses',\n    'handleWrapperStyle',\n    'handleWrapperClass',\n    'children',\n    'onResizeStart',\n    'onResize',\n    'onResizeStop',\n    'handleComponent',\n    'scale',\n    'resizeRatio',\n    'snapGap',\n];\n// HACK: This class is used to calculate % size.\nvar baseClassName = '__resizable_base__';\nvar Resizable = /** @class */ (function (_super) {\n    __extends(Resizable, _super);\n    function Resizable(props) {\n        var _a, _b, _c, _d;\n        var _this = _super.call(this, props) || this;\n        _this.ratio = 1;\n        _this.resizable = null;\n        // For parent boundary\n        _this.parentLeft = 0;\n        _this.parentTop = 0;\n        // For boundary\n        _this.resizableLeft = 0;\n        _this.resizableRight = 0;\n        _this.resizableTop = 0;\n        _this.resizableBottom = 0;\n        // For target boundary\n        _this.targetLeft = 0;\n        _this.targetTop = 0;\n        _this.appendBase = function () {\n            if (!_this.resizable || !_this.window) {\n                return null;\n            }\n            var parent = _this.parentNode;\n            if (!parent) {\n                return null;\n            }\n            var element = _this.window.document.createElement('div');\n            element.style.width = '100%';\n            element.style.height = '100%';\n            element.style.position = 'absolute';\n            element.style.transform = 'scale(0, 0)';\n            element.style.left = '0';\n            element.style.flex = '0 0 100%';\n            if (element.classList) {\n                element.classList.add(baseClassName);\n            }\n            else {\n                element.className += baseClassName;\n            }\n            parent.appendChild(element);\n            return element;\n        };\n        _this.removeBase = function (base) {\n            var parent = _this.parentNode;\n            if (!parent) {\n                return;\n            }\n            parent.removeChild(base);\n        };\n        _this.state = {\n            isResizing: false,\n            width: (_b = (_a = _this.propsSize) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 'auto',\n            height: (_d = (_c = _this.propsSize) === null || _c === void 0 ? void 0 : _c.height) !== null && _d !== void 0 ? _d : 'auto',\n            direction: 'right',\n            original: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            },\n            backgroundStyle: {\n                height: '100%',\n                width: '100%',\n                backgroundColor: 'rgba(0,0,0,0)',\n                cursor: 'auto',\n                opacity: 0,\n                position: 'fixed',\n                zIndex: 9999,\n                top: '0',\n                left: '0',\n                bottom: '0',\n                right: '0',\n            },\n            flexBasis: undefined,\n        };\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(Resizable.prototype, \"parentNode\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            return this.resizable.parentNode;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"window\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            if (!this.resizable.ownerDocument) {\n                return null;\n            }\n            return this.resizable.ownerDocument.defaultView;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"propsSize\", {\n        get: function () {\n            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"size\", {\n        get: function () {\n            var width = 0;\n            var height = 0;\n            if (this.resizable && this.window) {\n                var orgWidth = this.resizable.offsetWidth;\n                var orgHeight = this.resizable.offsetHeight;\n                // HACK: Set position `relative` to get parent size.\n                //       This is because when re-resizable set `absolute`, I can not get base width correctly.\n                var orgPosition = this.resizable.style.position;\n                if (orgPosition !== 'relative') {\n                    this.resizable.style.position = 'relative';\n                }\n                // INFO: Use original width or height if set auto.\n                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;\n                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;\n                // Restore original position\n                this.resizable.style.position = orgPosition;\n            }\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"sizeStyle\", {\n        get: function () {\n            var _this = this;\n            var size = this.props.size;\n            var getSize = function (key) {\n                var _a;\n                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {\n                    return 'auto';\n                }\n                if (_this.propsSize && _this.propsSize[key] && ((_a = _this.propsSize[key]) === null || _a === void 0 ? void 0 : _a.toString().endsWith('%'))) {\n                    if (_this.state[key].toString().endsWith('%')) {\n                        return _this.state[key].toString();\n                    }\n                    var parentSize = _this.getParentSize();\n                    var value = Number(_this.state[key].toString().replace('px', ''));\n                    var percent = (value / parentSize[key]) * 100;\n                    return percent + \"%\";\n                }\n                return getStringSize(_this.state[key]);\n            };\n            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.width)\n                : getSize('width');\n            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.height)\n                : getSize('height');\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Resizable.prototype.getParentSize = function () {\n        if (!this.parentNode) {\n            if (!this.window) {\n                return { width: 0, height: 0 };\n            }\n            return { width: this.window.innerWidth, height: this.window.innerHeight };\n        }\n        var base = this.appendBase();\n        if (!base) {\n            return { width: 0, height: 0 };\n        }\n        // INFO: To calculate parent width with flex layout\n        var wrapChanged = false;\n        var wrap = this.parentNode.style.flexWrap;\n        if (wrap !== 'wrap') {\n            wrapChanged = true;\n            this.parentNode.style.flexWrap = 'wrap';\n            // HACK: Use relative to get parent padding size\n        }\n        base.style.position = 'relative';\n        base.style.minWidth = '100%';\n        base.style.minHeight = '100%';\n        var size = {\n            width: base.offsetWidth,\n            height: base.offsetHeight,\n        };\n        if (wrapChanged) {\n            this.parentNode.style.flexWrap = wrap;\n        }\n        this.removeBase(base);\n        return size;\n    };\n    Resizable.prototype.bindEvents = function () {\n        if (this.window) {\n            this.window.addEventListener('mouseup', this.onMouseUp);\n            this.window.addEventListener('mousemove', this.onMouseMove);\n            this.window.addEventListener('mouseleave', this.onMouseUp);\n            this.window.addEventListener('touchmove', this.onMouseMove, {\n                capture: true,\n                passive: false,\n            });\n            this.window.addEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.unbindEvents = function () {\n        if (this.window) {\n            this.window.removeEventListener('mouseup', this.onMouseUp);\n            this.window.removeEventListener('mousemove', this.onMouseMove);\n            this.window.removeEventListener('mouseleave', this.onMouseUp);\n            this.window.removeEventListener('touchmove', this.onMouseMove, true);\n            this.window.removeEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.componentDidMount = function () {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        this.setState({\n            width: this.state.width || this.size.width,\n            height: this.state.height || this.size.height,\n            flexBasis: computedStyle.flexBasis !== 'auto' ? computedStyle.flexBasis : undefined,\n        });\n    };\n    Resizable.prototype.componentWillUnmount = function () {\n        if (this.window) {\n            this.unbindEvents();\n        }\n    };\n    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {\n        var propsSize = this.propsSize && this.propsSize[kind];\n        return this.state[kind] === 'auto' &&\n            this.state.original[kind] === newSize &&\n            (typeof propsSize === 'undefined' || propsSize === 'auto')\n            ? 'auto'\n            : newSize;\n    };\n    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {\n        var boundsByDirection = this.props.boundsByDirection;\n        var direction = this.state.direction;\n        var widthByDirection = boundsByDirection && hasDirection('left', direction);\n        var heightByDirection = boundsByDirection && hasDirection('top', direction);\n        var boundWidth;\n        var boundHeight;\n        if (this.props.bounds === 'parent') {\n            var parent_1 = this.parentNode;\n            if (parent_1) {\n                boundWidth = widthByDirection\n                    ? this.resizableRight - this.parentLeft\n                    : parent_1.offsetWidth + (this.parentLeft - this.resizableLeft);\n                boundHeight = heightByDirection\n                    ? this.resizableBottom - this.parentTop\n                    : parent_1.offsetHeight + (this.parentTop - this.resizableTop);\n            }\n        }\n        else if (this.props.bounds === 'window') {\n            if (this.window) {\n                boundWidth = widthByDirection ? this.resizableRight : this.window.innerWidth - this.resizableLeft;\n                boundHeight = heightByDirection ? this.resizableBottom : this.window.innerHeight - this.resizableTop;\n            }\n        }\n        else if (this.props.bounds) {\n            boundWidth = widthByDirection\n                ? this.resizableRight - this.targetLeft\n                : this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);\n            boundHeight = heightByDirection\n                ? this.resizableBottom - this.targetTop\n                : this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);\n        }\n        if (boundWidth && Number.isFinite(boundWidth)) {\n            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n        }\n        if (boundHeight && Number.isFinite(boundHeight)) {\n            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n        }\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {\n        var scale = this.props.scale || 1;\n        var _a = normalizeToPair(this.props.resizeRatio || 1), resizeRatioX = _a[0], resizeRatioY = _a[1];\n        var _b = this.state, direction = _b.direction, original = _b.original;\n        var _c = this.props, lockAspectRatio = _c.lockAspectRatio, lockAspectRatioExtraHeight = _c.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _c.lockAspectRatioExtraWidth;\n        var newWidth = original.width;\n        var newHeight = original.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (hasDirection('right', direction)) {\n            newWidth = original.width + ((clientX - original.x) * resizeRatioX) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('left', direction)) {\n            newWidth = original.width - ((clientX - original.x) * resizeRatioX) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('bottom', direction)) {\n            newHeight = original.height + ((clientY - original.y) * resizeRatioY) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        if (hasDirection('top', direction)) {\n            newHeight = original.height - ((clientY - original.y) * resizeRatioY) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {\n        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;\n        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;\n        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;\n        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;\n        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (lockAspectRatio) {\n            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;\n            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;\n            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);\n            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);\n            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);\n            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);\n            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);\n            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);\n        }\n        else {\n            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);\n            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.setBoundingClientRect = function () {\n        var adjustedScale = 1 / (this.props.scale || 1);\n        // For parent boundary\n        if (this.props.bounds === 'parent') {\n            var parent_2 = this.parentNode;\n            if (parent_2) {\n                var parentRect = parent_2.getBoundingClientRect();\n                this.parentLeft = parentRect.left * adjustedScale;\n                this.parentTop = parentRect.top * adjustedScale;\n            }\n        }\n        // For target(html element) boundary\n        if (this.props.bounds && typeof this.props.bounds !== 'string') {\n            var targetRect = this.props.bounds.getBoundingClientRect();\n            this.targetLeft = targetRect.left * adjustedScale;\n            this.targetTop = targetRect.top * adjustedScale;\n        }\n        // For boundary\n        if (this.resizable) {\n            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top, right = _a.right, bottom = _a.bottom;\n            this.resizableLeft = left * adjustedScale;\n            this.resizableRight = right * adjustedScale;\n            this.resizableTop = top_1 * adjustedScale;\n            this.resizableBottom = bottom * adjustedScale;\n        }\n    };\n    Resizable.prototype.onResizeStart = function (event, direction) {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var clientX = 0;\n        var clientY = 0;\n        if (event.nativeEvent && isMouseEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.clientX;\n            clientY = event.nativeEvent.clientY;\n        }\n        else if (event.nativeEvent && isTouchEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.touches[0].clientX;\n            clientY = event.nativeEvent.touches[0].clientY;\n        }\n        if (this.props.onResizeStart) {\n            if (this.resizable) {\n                var startResize = this.props.onResizeStart(event, direction, this.resizable);\n                if (startResize === false) {\n                    return;\n                }\n            }\n        }\n        // Fix #168\n        if (this.props.size) {\n            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {\n                this.setState({ height: this.props.size.height });\n            }\n            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {\n                this.setState({ width: this.props.size.width });\n            }\n        }\n        // For lockAspectRatio case\n        this.ratio =\n            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;\n        var flexBasis;\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        if (computedStyle.flexBasis !== 'auto') {\n            var parent_3 = this.parentNode;\n            if (parent_3) {\n                var dir = this.window.getComputedStyle(parent_3).flexDirection;\n                this.flexDir = dir.startsWith('row') ? 'row' : 'column';\n                flexBasis = computedStyle.flexBasis;\n            }\n        }\n        // For boundary\n        this.setBoundingClientRect();\n        this.bindEvents();\n        var state = {\n            original: {\n                x: clientX,\n                y: clientY,\n                width: this.size.width,\n                height: this.size.height,\n            },\n            isResizing: true,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: this.window.getComputedStyle(event.target).cursor || 'auto' }),\n            direction: direction,\n            flexBasis: flexBasis,\n        };\n        this.setState(state);\n    };\n    Resizable.prototype.onMouseMove = function (event) {\n        var _this = this;\n        if (!this.state.isResizing || !this.resizable || !this.window) {\n            return;\n        }\n        if (this.window.TouchEvent && isTouchEvent(event)) {\n            try {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            catch (e) {\n                // Ignore on fail\n            }\n        }\n        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;\n        var clientX = isTouchEvent(event) ? event.touches[0].clientX : event.clientX;\n        var clientY = isTouchEvent(event) ? event.touches[0].clientY : event.clientY;\n        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;\n        var parentSize = this.getParentSize();\n        var max = calculateNewMax(parentSize, this.window.innerWidth, this.window.innerHeight, maxWidth, maxHeight, minWidth, minHeight);\n        maxWidth = max.maxWidth;\n        maxHeight = max.maxHeight;\n        minWidth = max.minWidth;\n        minHeight = max.minHeight;\n        // Calculate new size\n        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;\n        // Calculate max size from boundary settings\n        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);\n        if (this.props.snap && this.props.snap.x) {\n            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);\n        }\n        if (this.props.snap && this.props.snap.y) {\n            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);\n        }\n        // Calculate new size from aspect ratio\n        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });\n        newWidth = newSize.newWidth;\n        newHeight = newSize.newHeight;\n        if (this.props.grid) {\n            var newGridWidth = snap(newWidth, this.props.grid[0], this.props.gridGap ? this.props.gridGap[0] : 0);\n            var newGridHeight = snap(newHeight, this.props.grid[1], this.props.gridGap ? this.props.gridGap[1] : 0);\n            var gap = this.props.snapGap || 0;\n            var w = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;\n            var h = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;\n            newWidth = w;\n            newHeight = h;\n        }\n        var delta = {\n            width: newWidth - original.width,\n            height: newHeight - original.height,\n        };\n        if (width && typeof width === 'string') {\n            if (width.endsWith('%')) {\n                var percent = (newWidth / parentSize.width) * 100;\n                newWidth = percent + \"%\";\n            }\n            else if (width.endsWith('vw')) {\n                var vw = (newWidth / this.window.innerWidth) * 100;\n                newWidth = vw + \"vw\";\n            }\n            else if (width.endsWith('vh')) {\n                var vh = (newWidth / this.window.innerHeight) * 100;\n                newWidth = vh + \"vh\";\n            }\n        }\n        if (height && typeof height === 'string') {\n            if (height.endsWith('%')) {\n                var percent = (newHeight / parentSize.height) * 100;\n                newHeight = percent + \"%\";\n            }\n            else if (height.endsWith('vw')) {\n                var vw = (newHeight / this.window.innerWidth) * 100;\n                newHeight = vw + \"vw\";\n            }\n            else if (height.endsWith('vh')) {\n                var vh = (newHeight / this.window.innerHeight) * 100;\n                newHeight = vh + \"vh\";\n            }\n        }\n        var newState = {\n            width: this.createSizeForCssProperty(newWidth, 'width'),\n            height: this.createSizeForCssProperty(newHeight, 'height'),\n        };\n        if (this.flexDir === 'row') {\n            newState.flexBasis = newState.width;\n        }\n        else if (this.flexDir === 'column') {\n            newState.flexBasis = newState.height;\n        }\n        var widthChanged = this.state.width !== newState.width;\n        var heightChanged = this.state.height !== newState.height;\n        var flexBaseChanged = this.state.flexBasis !== newState.flexBasis;\n        var changed = widthChanged || heightChanged || flexBaseChanged;\n        if (changed) {\n            // For v18, update state sync\n            (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(function () {\n                _this.setState(newState);\n            });\n        }\n        if (this.props.onResize) {\n            if (changed) {\n                this.props.onResize(event, direction, this.resizable, delta);\n            }\n        }\n    };\n    Resizable.prototype.onMouseUp = function (event) {\n        var _a, _b;\n        var _c = this.state, isResizing = _c.isResizing, direction = _c.direction, original = _c.original;\n        if (!isResizing || !this.resizable) {\n            return;\n        }\n        var delta = {\n            width: this.size.width - original.width,\n            height: this.size.height - original.height,\n        };\n        if (this.props.onResizeStop) {\n            this.props.onResizeStop(event, direction, this.resizable, delta);\n        }\n        if (this.props.size) {\n            this.setState({ width: (_a = this.props.size.width) !== null && _a !== void 0 ? _a : 'auto', height: (_b = this.props.size.height) !== null && _b !== void 0 ? _b : 'auto' });\n        }\n        this.unbindEvents();\n        this.setState({\n            isResizing: false,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: 'auto' }),\n        });\n    };\n    Resizable.prototype.updateSize = function (size) {\n        var _a, _b;\n        this.setState({ width: (_a = size.width) !== null && _a !== void 0 ? _a : 'auto', height: (_b = size.height) !== null && _b !== void 0 ? _b : 'auto' });\n    };\n    Resizable.prototype.renderResizer = function () {\n        var _this = this;\n        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;\n        if (!enable) {\n            return null;\n        }\n        var resizers = Object.keys(enable).map(function (dir) {\n            if (enable[dir] !== false) {\n                return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_resizer__WEBPACK_IMPORTED_MODULE_2__.Resizer, { key: dir, direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir] }, handleComponent && handleComponent[dir] ? handleComponent[dir] : null));\n            }\n            return null;\n        });\n        // #93 Wrap the resize box in span (will not break 100% width/height)\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: handleWrapperClass, style: handleWrapperStyle }, resizers));\n    };\n    Resizable.prototype.render = function () {\n        var _this = this;\n        var extendsProps = Object.keys(this.props).reduce(function (acc, key) {\n            if (definedProps.indexOf(key) !== -1) {\n                return acc;\n            }\n            acc[key] = _this.props[key];\n            return acc;\n        }, {});\n        var style = __assign(__assign(__assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box', flexShrink: 0 });\n        if (this.state.flexBasis) {\n            style.flexBasis = this.state.flexBasis;\n        }\n        var Wrapper = this.props.as || 'div';\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, __assign({ style: style, className: this.props.className }, extendsProps, { \n            // `ref` is after `extendsProps` to ensure this one wins over a version\n            // passed in\n            ref: function (c) {\n                if (c) {\n                    _this.resizable = c;\n                }\n            } }),\n            this.state.isResizing && react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: this.state.backgroundStyle }),\n            this.props.children,\n            this.renderResizer()));\n    };\n    Resizable.defaultProps = {\n        as: 'div',\n        onResizeStart: function () { },\n        onResize: function () { },\n        onResizeStop: function () { },\n        enable: {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            topRight: true,\n            bottomRight: true,\n            bottomLeft: true,\n            topLeft: true,\n        },\n        style: {},\n        grid: [1, 1],\n        gridGap: [0, 0],\n        lockAspectRatio: false,\n        lockAspectRatioExtraWidth: 0,\n        lockAspectRatioExtraHeight: 0,\n        scale: 1,\n        resizeRatio: 1,\n        snapGap: 0,\n    };\n    return Resizable;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmUtcmVzaXphYmxlL2xpYi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZS1yZXNpemFibGUvbGliL2luZGV4LmpzPzU4NjgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmbHVzaFN5bmMgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUmVzaXplciB9IGZyb20gJy4vcmVzaXplcic7XG52YXIgREVGQVVMVF9TSVpFID0ge1xuICAgIHdpZHRoOiAnYXV0bycsXG4gICAgaGVpZ2h0OiAnYXV0bycsXG59O1xudmFyIGNsYW1wID0gZnVuY3Rpb24gKG4sIG1pbiwgbWF4KSB7IHJldHVybiBNYXRoLm1heChNYXRoLm1pbihuLCBtYXgpLCBtaW4pOyB9O1xudmFyIHNuYXAgPSBmdW5jdGlvbiAobiwgc2l6ZSwgZ3JpZEdhcCkge1xuICAgIHZhciB2ID0gTWF0aC5yb3VuZChuIC8gc2l6ZSk7XG4gICAgcmV0dXJuIHYgKiBzaXplICsgZ3JpZEdhcCAqICh2IC0gMSk7XG59O1xudmFyIGhhc0RpcmVjdGlvbiA9IGZ1bmN0aW9uIChkaXIsIHRhcmdldCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGRpciwgJ2knKS50ZXN0KHRhcmdldCk7XG59O1xuLy8gSU5GTzogSW4gY2FzZSBvZiB3aW5kb3cgaXMgYSBQcm94eSBhbmQgZG9lcyBub3QgcG9yeHkgRXZlbnRzIGNvcnJlY3RseSwgdXNlIGlzVG91Y2hFdmVudCAmIGlzTW91c2VFdmVudCB0byBkaXN0aW5ndWlzaCBldmVudCB0eXBlIGluc3RlYWQgb2YgYGluc3RhbmNlb2ZgLlxudmFyIGlzVG91Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiBCb29sZWFuKGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGgpO1xufTtcbnZhciBpc01vdXNlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gQm9vbGVhbigoZXZlbnQuY2xpZW50WCB8fCBldmVudC5jbGllbnRYID09PSAwKSAmJlxuICAgICAgICAoZXZlbnQuY2xpZW50WSB8fCBldmVudC5jbGllbnRZID09PSAwKSk7XG59O1xudmFyIGZpbmRDbG9zZXN0U25hcCA9IGZ1bmN0aW9uIChuLCBzbmFwQXJyYXksIHNuYXBHYXApIHtcbiAgICBpZiAoc25hcEdhcCA9PT0gdm9pZCAwKSB7IHNuYXBHYXAgPSAwOyB9XG4gICAgdmFyIGNsb3Nlc3RHYXBJbmRleCA9IHNuYXBBcnJheS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cnIsIGluZGV4KSB7IHJldHVybiAoTWF0aC5hYnMoY3VyciAtIG4pIDwgTWF0aC5hYnMoc25hcEFycmF5W3ByZXZdIC0gbikgPyBpbmRleCA6IHByZXYpOyB9LCAwKTtcbiAgICB2YXIgZ2FwID0gTWF0aC5hYnMoc25hcEFycmF5W2Nsb3Nlc3RHYXBJbmRleF0gLSBuKTtcbiAgICByZXR1cm4gc25hcEdhcCA9PT0gMCB8fCBnYXAgPCBzbmFwR2FwID8gc25hcEFycmF5W2Nsb3Nlc3RHYXBJbmRleF0gOiBuO1xufTtcbnZhciBnZXRTdHJpbmdTaXplID0gZnVuY3Rpb24gKG4pIHtcbiAgICBuID0gbi50b1N0cmluZygpO1xuICAgIGlmIChuID09PSAnYXV0bycpIHtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIGlmIChuLmVuZHNXaXRoKCdweCcpKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICBpZiAobi5lbmRzV2l0aCgnJScpKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICBpZiAobi5lbmRzV2l0aCgndmgnKSkge1xuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgaWYgKG4uZW5kc1dpdGgoJ3Z3JykpIHtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIGlmIChuLmVuZHNXaXRoKCd2bWF4JykpIHtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIGlmIChuLmVuZHNXaXRoKCd2bWluJykpIHtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIHJldHVybiBuICsgXCJweFwiO1xufTtcbnZhciBnZXRQaXhlbFNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgcGFyZW50U2l6ZSwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpIHtcbiAgICBpZiAoc2l6ZSAmJiB0eXBlb2Ygc2l6ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHNpemUuZW5kc1dpdGgoJ3B4JykpIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoc2l6ZS5yZXBsYWNlKCdweCcsICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNpemUuZW5kc1dpdGgoJyUnKSkge1xuICAgICAgICAgICAgdmFyIHJhdGlvID0gTnVtYmVyKHNpemUucmVwbGFjZSgnJScsICcnKSkgLyAxMDA7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50U2l6ZSAqIHJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaXplLmVuZHNXaXRoKCd2dycpKSB7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBOdW1iZXIoc2l6ZS5yZXBsYWNlKCd2dycsICcnKSkgLyAxMDA7XG4gICAgICAgICAgICByZXR1cm4gaW5uZXJXaWR0aCAqIHJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaXplLmVuZHNXaXRoKCd2aCcpKSB7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBOdW1iZXIoc2l6ZS5yZXBsYWNlKCd2aCcsICcnKSkgLyAxMDA7XG4gICAgICAgICAgICByZXR1cm4gaW5uZXJIZWlnaHQgKiByYXRpbztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbn07XG52YXIgY2FsY3VsYXRlTmV3TWF4ID0gZnVuY3Rpb24gKHBhcmVudFNpemUsIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0LCBtYXhXaWR0aCwgbWF4SGVpZ2h0LCBtaW5XaWR0aCwgbWluSGVpZ2h0KSB7XG4gICAgbWF4V2lkdGggPSBnZXRQaXhlbFNpemUobWF4V2lkdGgsIHBhcmVudFNpemUud2lkdGgsIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KTtcbiAgICBtYXhIZWlnaHQgPSBnZXRQaXhlbFNpemUobWF4SGVpZ2h0LCBwYXJlbnRTaXplLmhlaWdodCwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpO1xuICAgIG1pbldpZHRoID0gZ2V0UGl4ZWxTaXplKG1pbldpZHRoLCBwYXJlbnRTaXplLndpZHRoLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7XG4gICAgbWluSGVpZ2h0ID0gZ2V0UGl4ZWxTaXplKG1pbkhlaWdodCwgcGFyZW50U2l6ZS5oZWlnaHQsIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBtYXhXaWR0aDogdHlwZW9mIG1heFdpZHRoID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IE51bWJlcihtYXhXaWR0aCksXG4gICAgICAgIG1heEhlaWdodDogdHlwZW9mIG1heEhlaWdodCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBOdW1iZXIobWF4SGVpZ2h0KSxcbiAgICAgICAgbWluV2lkdGg6IHR5cGVvZiBtaW5XaWR0aCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBOdW1iZXIobWluV2lkdGgpLFxuICAgICAgICBtaW5IZWlnaHQ6IHR5cGVvZiBtaW5IZWlnaHQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogTnVtYmVyKG1pbkhlaWdodCksXG4gICAgfTtcbn07XG4vKipcbiAqIHRyYW5zZm9ybSBUIHwgW1QsIFRdIHRvIFtULCBUXVxuICogQHBhcmFtIHZhbFxuICogQHJldHVybnNcbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG52YXIgbm9ybWFsaXplVG9QYWlyID0gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gKEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbCA6IFt2YWwsIHZhbF0pOyB9O1xudmFyIGRlZmluZWRQcm9wcyA9IFtcbiAgICAnYXMnLFxuICAgICdyZWYnLFxuICAgICdzdHlsZScsXG4gICAgJ2NsYXNzTmFtZScsXG4gICAgJ2dyaWQnLFxuICAgICdncmlkR2FwJyxcbiAgICAnc25hcCcsXG4gICAgJ2JvdW5kcycsXG4gICAgJ2JvdW5kc0J5RGlyZWN0aW9uJyxcbiAgICAnc2l6ZScsXG4gICAgJ2RlZmF1bHRTaXplJyxcbiAgICAnbWluV2lkdGgnLFxuICAgICdtaW5IZWlnaHQnLFxuICAgICdtYXhXaWR0aCcsXG4gICAgJ21heEhlaWdodCcsXG4gICAgJ2xvY2tBc3BlY3RSYXRpbycsXG4gICAgJ2xvY2tBc3BlY3RSYXRpb0V4dHJhV2lkdGgnLFxuICAgICdsb2NrQXNwZWN0UmF0aW9FeHRyYUhlaWdodCcsXG4gICAgJ2VuYWJsZScsXG4gICAgJ2hhbmRsZVN0eWxlcycsXG4gICAgJ2hhbmRsZUNsYXNzZXMnLFxuICAgICdoYW5kbGVXcmFwcGVyU3R5bGUnLFxuICAgICdoYW5kbGVXcmFwcGVyQ2xhc3MnLFxuICAgICdjaGlsZHJlbicsXG4gICAgJ29uUmVzaXplU3RhcnQnLFxuICAgICdvblJlc2l6ZScsXG4gICAgJ29uUmVzaXplU3RvcCcsXG4gICAgJ2hhbmRsZUNvbXBvbmVudCcsXG4gICAgJ3NjYWxlJyxcbiAgICAncmVzaXplUmF0aW8nLFxuICAgICdzbmFwR2FwJyxcbl07XG4vLyBIQUNLOiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gY2FsY3VsYXRlICUgc2l6ZS5cbnZhciBiYXNlQ2xhc3NOYW1lID0gJ19fcmVzaXphYmxlX2Jhc2VfXyc7XG52YXIgUmVzaXphYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXNpemFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVzaXphYmxlKHByb3BzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnJhdGlvID0gMTtcbiAgICAgICAgX3RoaXMucmVzaXphYmxlID0gbnVsbDtcbiAgICAgICAgLy8gRm9yIHBhcmVudCBib3VuZGFyeVxuICAgICAgICBfdGhpcy5wYXJlbnRMZWZ0ID0gMDtcbiAgICAgICAgX3RoaXMucGFyZW50VG9wID0gMDtcbiAgICAgICAgLy8gRm9yIGJvdW5kYXJ5XG4gICAgICAgIF90aGlzLnJlc2l6YWJsZUxlZnQgPSAwO1xuICAgICAgICBfdGhpcy5yZXNpemFibGVSaWdodCA9IDA7XG4gICAgICAgIF90aGlzLnJlc2l6YWJsZVRvcCA9IDA7XG4gICAgICAgIF90aGlzLnJlc2l6YWJsZUJvdHRvbSA9IDA7XG4gICAgICAgIC8vIEZvciB0YXJnZXQgYm91bmRhcnlcbiAgICAgICAgX3RoaXMudGFyZ2V0TGVmdCA9IDA7XG4gICAgICAgIF90aGlzLnRhcmdldFRvcCA9IDA7XG4gICAgICAgIF90aGlzLmFwcGVuZEJhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnJlc2l6YWJsZSB8fCAhX3RoaXMud2luZG93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gX3RoaXMucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMCwgMCknO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5mbGV4ID0gJzAgMCAxMDAlJztcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChiYXNlQ2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9IGJhc2VDbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucmVtb3ZlQmFzZSA9IGZ1bmN0aW9uIChiYXNlKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gX3RoaXMucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGJhc2UpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzUmVzaXppbmc6IGZhbHNlLFxuICAgICAgICAgICAgd2lkdGg6IChfYiA9IChfYSA9IF90aGlzLnByb3BzU2l6ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLndpZHRoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnYXV0bycsXG4gICAgICAgICAgICBoZWlnaHQ6IChfZCA9IChfYyA9IF90aGlzLnByb3BzU2l6ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmhlaWdodCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJ2F1dG8nLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiAncmlnaHQnLFxuICAgICAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJhY2tncm91bmRTdHlsZToge1xuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwKScsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDk5OTksXG4gICAgICAgICAgICAgICAgdG9wOiAnMCcsXG4gICAgICAgICAgICAgICAgbGVmdDogJzAnLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogJzAnLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAnMCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmxleEJhc2lzOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uUmVzaXplU3RhcnQgPSBfdGhpcy5vblJlc2l6ZVN0YXJ0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5vbk1vdXNlTW92ZSA9IF90aGlzLm9uTW91c2VNb3ZlLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5vbk1vdXNlVXAgPSBfdGhpcy5vbk1vdXNlVXAuYmluZChfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc2l6YWJsZS5wcm90b3R5cGUsIFwicGFyZW50Tm9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlc2l6YWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzaXphYmxlLnBhcmVudE5vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzaXphYmxlLnByb3RvdHlwZSwgXCJ3aW5kb3dcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZXNpemFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5yZXNpemFibGUub3duZXJEb2N1bWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzaXphYmxlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzaXphYmxlLnByb3RvdHlwZSwgXCJwcm9wc1NpemVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnNpemUgfHwgdGhpcy5wcm9wcy5kZWZhdWx0U2l6ZSB8fCBERUZBVUxUX1NJWkU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzaXphYmxlLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNpemFibGUgJiYgdGhpcy53aW5kb3cpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JnV2lkdGggPSB0aGlzLnJlc2l6YWJsZS5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgb3JnSGVpZ2h0ID0gdGhpcy5yZXNpemFibGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIC8vIEhBQ0s6IFNldCBwb3NpdGlvbiBgcmVsYXRpdmVgIHRvIGdldCBwYXJlbnQgc2l6ZS5cbiAgICAgICAgICAgICAgICAvLyAgICAgICBUaGlzIGlzIGJlY2F1c2Ugd2hlbiByZS1yZXNpemFibGUgc2V0IGBhYnNvbHV0ZWAsIEkgY2FuIG5vdCBnZXQgYmFzZSB3aWR0aCBjb3JyZWN0bHkuXG4gICAgICAgICAgICAgICAgdmFyIG9yZ1Bvc2l0aW9uID0gdGhpcy5yZXNpemFibGUuc3R5bGUucG9zaXRpb247XG4gICAgICAgICAgICAgICAgaWYgKG9yZ1Bvc2l0aW9uICE9PSAncmVsYXRpdmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXphYmxlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSU5GTzogVXNlIG9yaWdpbmFsIHdpZHRoIG9yIGhlaWdodCBpZiBzZXQgYXV0by5cbiAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMucmVzaXphYmxlLnN0eWxlLndpZHRoICE9PSAnYXV0bycgPyB0aGlzLnJlc2l6YWJsZS5vZmZzZXRXaWR0aCA6IG9yZ1dpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMucmVzaXphYmxlLnN0eWxlLmhlaWdodCAhPT0gJ2F1dG8nID8gdGhpcy5yZXNpemFibGUub2Zmc2V0SGVpZ2h0IDogb3JnSGVpZ2h0O1xuICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgcG9zaXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6YWJsZS5zdHlsZS5wb3NpdGlvbiA9IG9yZ1Bvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc2l6YWJsZS5wcm90b3R5cGUsIFwic2l6ZVN0eWxlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLnByb3BzLnNpemU7XG4gICAgICAgICAgICB2YXIgZ2V0U2l6ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zdGF0ZVtrZXldID09PSAndW5kZWZpbmVkJyB8fCBfdGhpcy5zdGF0ZVtrZXldID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhdXRvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzU2l6ZSAmJiBfdGhpcy5wcm9wc1NpemVba2V5XSAmJiAoKF9hID0gX3RoaXMucHJvcHNTaXplW2tleV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpLmVuZHNXaXRoKCclJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZVtrZXldLnRvU3RyaW5nKCkuZW5kc1dpdGgoJyUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnN0YXRlW2tleV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50U2l6ZSA9IF90aGlzLmdldFBhcmVudFNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKF90aGlzLnN0YXRlW2tleV0udG9TdHJpbmcoKS5yZXBsYWNlKCdweCcsICcnKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwZXJjZW50ID0gKHZhbHVlIC8gcGFyZW50U2l6ZVtrZXldKSAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnQgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFN0cmluZ1NpemUoX3RoaXMuc3RhdGVba2V5XSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gc2l6ZSAmJiB0eXBlb2Ygc2l6ZS53aWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuc3RhdGUuaXNSZXNpemluZ1xuICAgICAgICAgICAgICAgID8gZ2V0U3RyaW5nU2l6ZShzaXplLndpZHRoKVxuICAgICAgICAgICAgICAgIDogZ2V0U2l6ZSgnd2lkdGgnKTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzaXplICYmIHR5cGVvZiBzaXplLmhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuc3RhdGUuaXNSZXNpemluZ1xuICAgICAgICAgICAgICAgID8gZ2V0U3RyaW5nU2l6ZShzaXplLmhlaWdodClcbiAgICAgICAgICAgICAgICA6IGdldFNpemUoJ2hlaWdodCcpO1xuICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS5nZXRQYXJlbnRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLndpbmRvdykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiB0aGlzLndpbmRvdy5pbm5lcldpZHRoLCBoZWlnaHQ6IHRoaXMud2luZG93LmlubmVySGVpZ2h0IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLmFwcGVuZEJhc2UoKTtcbiAgICAgICAgaWYgKCFiYXNlKSB7XG4gICAgICAgICAgICByZXR1cm4geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gSU5GTzogVG8gY2FsY3VsYXRlIHBhcmVudCB3aWR0aCB3aXRoIGZsZXggbGF5b3V0XG4gICAgICAgIHZhciB3cmFwQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgd3JhcCA9IHRoaXMucGFyZW50Tm9kZS5zdHlsZS5mbGV4V3JhcDtcbiAgICAgICAgaWYgKHdyYXAgIT09ICd3cmFwJykge1xuICAgICAgICAgICAgd3JhcENoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnN0eWxlLmZsZXhXcmFwID0gJ3dyYXAnO1xuICAgICAgICAgICAgLy8gSEFDSzogVXNlIHJlbGF0aXZlIHRvIGdldCBwYXJlbnQgcGFkZGluZyBzaXplXG4gICAgICAgIH1cbiAgICAgICAgYmFzZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIGJhc2Uuc3R5bGUubWluV2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGJhc2Uuc3R5bGUubWluSGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICB2YXIgc2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBiYXNlLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBiYXNlLm9mZnNldEhlaWdodCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHdyYXBDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuc3R5bGUuZmxleFdyYXAgPSB3cmFwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQmFzZShiYXNlKTtcbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLmJpbmRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLndpbmRvdykge1xuICAgICAgICAgICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwKTtcbiAgICAgICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgICAgICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZVVwKTtcbiAgICAgICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Nb3VzZU1vdmUsIHtcbiAgICAgICAgICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Nb3VzZVVwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS51bmJpbmRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLndpbmRvdykge1xuICAgICAgICAgICAgdGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwKTtcbiAgICAgICAgICAgIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgICAgICAgdGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZVVwKTtcbiAgICAgICAgICAgIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uTW91c2VVcCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6YWJsZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZXNpemFibGUgfHwgIXRoaXMud2luZG93KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSB0aGlzLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMucmVzaXphYmxlKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5zdGF0ZS53aWR0aCB8fCB0aGlzLnNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuc3RhdGUuaGVpZ2h0IHx8IHRoaXMuc2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICBmbGV4QmFzaXM6IGNvbXB1dGVkU3R5bGUuZmxleEJhc2lzICE9PSAnYXV0bycgPyBjb21wdXRlZFN0eWxlLmZsZXhCYXNpcyA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy53aW5kb3cpIHtcbiAgICAgICAgICAgIHRoaXMudW5iaW5kRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6YWJsZS5wcm90b3R5cGUuY3JlYXRlU2l6ZUZvckNzc1Byb3BlcnR5ID0gZnVuY3Rpb24gKG5ld1NpemUsIGtpbmQpIHtcbiAgICAgICAgdmFyIHByb3BzU2l6ZSA9IHRoaXMucHJvcHNTaXplICYmIHRoaXMucHJvcHNTaXplW2tpbmRdO1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVtraW5kXSA9PT0gJ2F1dG8nICYmXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm9yaWdpbmFsW2tpbmRdID09PSBuZXdTaXplICYmXG4gICAgICAgICAgICAodHlwZW9mIHByb3BzU2l6ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvcHNTaXplID09PSAnYXV0bycpXG4gICAgICAgICAgICA/ICdhdXRvJ1xuICAgICAgICAgICAgOiBuZXdTaXplO1xuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS5jYWxjdWxhdGVOZXdNYXhGcm9tQm91bmRhcnkgPSBmdW5jdGlvbiAobWF4V2lkdGgsIG1heEhlaWdodCkge1xuICAgICAgICB2YXIgYm91bmRzQnlEaXJlY3Rpb24gPSB0aGlzLnByb3BzLmJvdW5kc0J5RGlyZWN0aW9uO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5zdGF0ZS5kaXJlY3Rpb247XG4gICAgICAgIHZhciB3aWR0aEJ5RGlyZWN0aW9uID0gYm91bmRzQnlEaXJlY3Rpb24gJiYgaGFzRGlyZWN0aW9uKCdsZWZ0JywgZGlyZWN0aW9uKTtcbiAgICAgICAgdmFyIGhlaWdodEJ5RGlyZWN0aW9uID0gYm91bmRzQnlEaXJlY3Rpb24gJiYgaGFzRGlyZWN0aW9uKCd0b3AnLCBkaXJlY3Rpb24pO1xuICAgICAgICB2YXIgYm91bmRXaWR0aDtcbiAgICAgICAgdmFyIGJvdW5kSGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5ib3VuZHMgPT09ICdwYXJlbnQnKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50XzEgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICAgICAgICBpZiAocGFyZW50XzEpIHtcbiAgICAgICAgICAgICAgICBib3VuZFdpZHRoID0gd2lkdGhCeURpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMucmVzaXphYmxlUmlnaHQgLSB0aGlzLnBhcmVudExlZnRcbiAgICAgICAgICAgICAgICAgICAgOiBwYXJlbnRfMS5vZmZzZXRXaWR0aCArICh0aGlzLnBhcmVudExlZnQgLSB0aGlzLnJlc2l6YWJsZUxlZnQpO1xuICAgICAgICAgICAgICAgIGJvdW5kSGVpZ2h0ID0gaGVpZ2h0QnlEaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnJlc2l6YWJsZUJvdHRvbSAtIHRoaXMucGFyZW50VG9wXG4gICAgICAgICAgICAgICAgICAgIDogcGFyZW50XzEub2Zmc2V0SGVpZ2h0ICsgKHRoaXMucGFyZW50VG9wIC0gdGhpcy5yZXNpemFibGVUb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucHJvcHMuYm91bmRzID09PSAnd2luZG93Jykge1xuICAgICAgICAgICAgaWYgKHRoaXMud2luZG93KSB7XG4gICAgICAgICAgICAgICAgYm91bmRXaWR0aCA9IHdpZHRoQnlEaXJlY3Rpb24gPyB0aGlzLnJlc2l6YWJsZVJpZ2h0IDogdGhpcy53aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMucmVzaXphYmxlTGVmdDtcbiAgICAgICAgICAgICAgICBib3VuZEhlaWdodCA9IGhlaWdodEJ5RGlyZWN0aW9uID8gdGhpcy5yZXNpemFibGVCb3R0b20gOiB0aGlzLndpbmRvdy5pbm5lckhlaWdodCAtIHRoaXMucmVzaXphYmxlVG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucHJvcHMuYm91bmRzKSB7XG4gICAgICAgICAgICBib3VuZFdpZHRoID0gd2lkdGhCeURpcmVjdGlvblxuICAgICAgICAgICAgICAgID8gdGhpcy5yZXNpemFibGVSaWdodCAtIHRoaXMudGFyZ2V0TGVmdFxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm9wcy5ib3VuZHMub2Zmc2V0V2lkdGggKyAodGhpcy50YXJnZXRMZWZ0IC0gdGhpcy5yZXNpemFibGVMZWZ0KTtcbiAgICAgICAgICAgIGJvdW5kSGVpZ2h0ID0gaGVpZ2h0QnlEaXJlY3Rpb25cbiAgICAgICAgICAgICAgICA/IHRoaXMucmVzaXphYmxlQm90dG9tIC0gdGhpcy50YXJnZXRUb3BcbiAgICAgICAgICAgICAgICA6IHRoaXMucHJvcHMuYm91bmRzLm9mZnNldEhlaWdodCArICh0aGlzLnRhcmdldFRvcCAtIHRoaXMucmVzaXphYmxlVG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm91bmRXaWR0aCAmJiBOdW1iZXIuaXNGaW5pdGUoYm91bmRXaWR0aCkpIHtcbiAgICAgICAgICAgIG1heFdpZHRoID0gbWF4V2lkdGggJiYgbWF4V2lkdGggPCBib3VuZFdpZHRoID8gbWF4V2lkdGggOiBib3VuZFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib3VuZEhlaWdodCAmJiBOdW1iZXIuaXNGaW5pdGUoYm91bmRIZWlnaHQpKSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBtYXhIZWlnaHQgJiYgbWF4SGVpZ2h0IDwgYm91bmRIZWlnaHQgPyBtYXhIZWlnaHQgOiBib3VuZEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBtYXhXaWR0aDogbWF4V2lkdGgsIG1heEhlaWdodDogbWF4SGVpZ2h0IH07XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLmNhbGN1bGF0ZU5ld1NpemVGcm9tRGlyZWN0aW9uID0gZnVuY3Rpb24gKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5wcm9wcy5zY2FsZSB8fCAxO1xuICAgICAgICB2YXIgX2EgPSBub3JtYWxpemVUb1BhaXIodGhpcy5wcm9wcy5yZXNpemVSYXRpbyB8fCAxKSwgcmVzaXplUmF0aW9YID0gX2FbMF0sIHJlc2l6ZVJhdGlvWSA9IF9hWzFdO1xuICAgICAgICB2YXIgX2IgPSB0aGlzLnN0YXRlLCBkaXJlY3Rpb24gPSBfYi5kaXJlY3Rpb24sIG9yaWdpbmFsID0gX2Iub3JpZ2luYWw7XG4gICAgICAgIHZhciBfYyA9IHRoaXMucHJvcHMsIGxvY2tBc3BlY3RSYXRpbyA9IF9jLmxvY2tBc3BlY3RSYXRpbywgbG9ja0FzcGVjdFJhdGlvRXh0cmFIZWlnaHQgPSBfYy5sb2NrQXNwZWN0UmF0aW9FeHRyYUhlaWdodCwgbG9ja0FzcGVjdFJhdGlvRXh0cmFXaWR0aCA9IF9jLmxvY2tBc3BlY3RSYXRpb0V4dHJhV2lkdGg7XG4gICAgICAgIHZhciBuZXdXaWR0aCA9IG9yaWdpbmFsLndpZHRoO1xuICAgICAgICB2YXIgbmV3SGVpZ2h0ID0gb3JpZ2luYWwuaGVpZ2h0O1xuICAgICAgICB2YXIgZXh0cmFIZWlnaHQgPSBsb2NrQXNwZWN0UmF0aW9FeHRyYUhlaWdodCB8fCAwO1xuICAgICAgICB2YXIgZXh0cmFXaWR0aCA9IGxvY2tBc3BlY3RSYXRpb0V4dHJhV2lkdGggfHwgMDtcbiAgICAgICAgaWYgKGhhc0RpcmVjdGlvbigncmlnaHQnLCBkaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICBuZXdXaWR0aCA9IG9yaWdpbmFsLndpZHRoICsgKChjbGllbnRYIC0gb3JpZ2luYWwueCkgKiByZXNpemVSYXRpb1gpIC8gc2NhbGU7XG4gICAgICAgICAgICBpZiAobG9ja0FzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgbmV3SGVpZ2h0ID0gKG5ld1dpZHRoIC0gZXh0cmFXaWR0aCkgLyB0aGlzLnJhdGlvICsgZXh0cmFIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0RpcmVjdGlvbignbGVmdCcsIGRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIG5ld1dpZHRoID0gb3JpZ2luYWwud2lkdGggLSAoKGNsaWVudFggLSBvcmlnaW5hbC54KSAqIHJlc2l6ZVJhdGlvWCkgLyBzY2FsZTtcbiAgICAgICAgICAgIGlmIChsb2NrQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSAobmV3V2lkdGggLSBleHRyYVdpZHRoKSAvIHRoaXMucmF0aW8gKyBleHRyYUhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzRGlyZWN0aW9uKCdib3R0b20nLCBkaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBvcmlnaW5hbC5oZWlnaHQgKyAoKGNsaWVudFkgLSBvcmlnaW5hbC55KSAqIHJlc2l6ZVJhdGlvWSkgLyBzY2FsZTtcbiAgICAgICAgICAgIGlmIChsb2NrQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgICAgICBuZXdXaWR0aCA9IChuZXdIZWlnaHQgLSBleHRyYUhlaWdodCkgKiB0aGlzLnJhdGlvICsgZXh0cmFXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzRGlyZWN0aW9uKCd0b3AnLCBkaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBvcmlnaW5hbC5oZWlnaHQgLSAoKGNsaWVudFkgLSBvcmlnaW5hbC55KSAqIHJlc2l6ZVJhdGlvWSkgLyBzY2FsZTtcbiAgICAgICAgICAgIGlmIChsb2NrQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgICAgICBuZXdXaWR0aCA9IChuZXdIZWlnaHQgLSBleHRyYUhlaWdodCkgKiB0aGlzLnJhdGlvICsgZXh0cmFXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBuZXdXaWR0aDogbmV3V2lkdGgsIG5ld0hlaWdodDogbmV3SGVpZ2h0IH07XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLmNhbGN1bGF0ZU5ld1NpemVGcm9tQXNwZWN0UmF0aW8gPSBmdW5jdGlvbiAobmV3V2lkdGgsIG5ld0hlaWdodCwgbWF4LCBtaW4pIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgbG9ja0FzcGVjdFJhdGlvID0gX2EubG9ja0FzcGVjdFJhdGlvLCBsb2NrQXNwZWN0UmF0aW9FeHRyYUhlaWdodCA9IF9hLmxvY2tBc3BlY3RSYXRpb0V4dHJhSGVpZ2h0LCBsb2NrQXNwZWN0UmF0aW9FeHRyYVdpZHRoID0gX2EubG9ja0FzcGVjdFJhdGlvRXh0cmFXaWR0aDtcbiAgICAgICAgdmFyIGNvbXB1dGVkTWluV2lkdGggPSB0eXBlb2YgbWluLndpZHRoID09PSAndW5kZWZpbmVkJyA/IDEwIDogbWluLndpZHRoO1xuICAgICAgICB2YXIgY29tcHV0ZWRNYXhXaWR0aCA9IHR5cGVvZiBtYXgud2lkdGggPT09ICd1bmRlZmluZWQnIHx8IG1heC53aWR0aCA8IDAgPyBuZXdXaWR0aCA6IG1heC53aWR0aDtcbiAgICAgICAgdmFyIGNvbXB1dGVkTWluSGVpZ2h0ID0gdHlwZW9mIG1pbi5oZWlnaHQgPT09ICd1bmRlZmluZWQnID8gMTAgOiBtaW4uaGVpZ2h0O1xuICAgICAgICB2YXIgY29tcHV0ZWRNYXhIZWlnaHQgPSB0eXBlb2YgbWF4LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcgfHwgbWF4LmhlaWdodCA8IDAgPyBuZXdIZWlnaHQgOiBtYXguaGVpZ2h0O1xuICAgICAgICB2YXIgZXh0cmFIZWlnaHQgPSBsb2NrQXNwZWN0UmF0aW9FeHRyYUhlaWdodCB8fCAwO1xuICAgICAgICB2YXIgZXh0cmFXaWR0aCA9IGxvY2tBc3BlY3RSYXRpb0V4dHJhV2lkdGggfHwgMDtcbiAgICAgICAgaWYgKGxvY2tBc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgdmFyIGV4dHJhTWluV2lkdGggPSAoY29tcHV0ZWRNaW5IZWlnaHQgLSBleHRyYUhlaWdodCkgKiB0aGlzLnJhdGlvICsgZXh0cmFXaWR0aDtcbiAgICAgICAgICAgIHZhciBleHRyYU1heFdpZHRoID0gKGNvbXB1dGVkTWF4SGVpZ2h0IC0gZXh0cmFIZWlnaHQpICogdGhpcy5yYXRpbyArIGV4dHJhV2lkdGg7XG4gICAgICAgICAgICB2YXIgZXh0cmFNaW5IZWlnaHQgPSAoY29tcHV0ZWRNaW5XaWR0aCAtIGV4dHJhV2lkdGgpIC8gdGhpcy5yYXRpbyArIGV4dHJhSGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGV4dHJhTWF4SGVpZ2h0ID0gKGNvbXB1dGVkTWF4V2lkdGggLSBleHRyYVdpZHRoKSAvIHRoaXMucmF0aW8gKyBleHRyYUhlaWdodDtcbiAgICAgICAgICAgIHZhciBsb2NrZWRNaW5XaWR0aCA9IE1hdGgubWF4KGNvbXB1dGVkTWluV2lkdGgsIGV4dHJhTWluV2lkdGgpO1xuICAgICAgICAgICAgdmFyIGxvY2tlZE1heFdpZHRoID0gTWF0aC5taW4oY29tcHV0ZWRNYXhXaWR0aCwgZXh0cmFNYXhXaWR0aCk7XG4gICAgICAgICAgICB2YXIgbG9ja2VkTWluSGVpZ2h0ID0gTWF0aC5tYXgoY29tcHV0ZWRNaW5IZWlnaHQsIGV4dHJhTWluSGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciBsb2NrZWRNYXhIZWlnaHQgPSBNYXRoLm1pbihjb21wdXRlZE1heEhlaWdodCwgZXh0cmFNYXhIZWlnaHQpO1xuICAgICAgICAgICAgbmV3V2lkdGggPSBjbGFtcChuZXdXaWR0aCwgbG9ja2VkTWluV2lkdGgsIGxvY2tlZE1heFdpZHRoKTtcbiAgICAgICAgICAgIG5ld0hlaWdodCA9IGNsYW1wKG5ld0hlaWdodCwgbG9ja2VkTWluSGVpZ2h0LCBsb2NrZWRNYXhIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3V2lkdGggPSBjbGFtcChuZXdXaWR0aCwgY29tcHV0ZWRNaW5XaWR0aCwgY29tcHV0ZWRNYXhXaWR0aCk7XG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBjbGFtcChuZXdIZWlnaHQsIGNvbXB1dGVkTWluSGVpZ2h0LCBjb21wdXRlZE1heEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbmV3V2lkdGg6IG5ld1dpZHRoLCBuZXdIZWlnaHQ6IG5ld0hlaWdodCB9O1xuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS5zZXRCb3VuZGluZ0NsaWVudFJlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhZGp1c3RlZFNjYWxlID0gMSAvICh0aGlzLnByb3BzLnNjYWxlIHx8IDEpO1xuICAgICAgICAvLyBGb3IgcGFyZW50IGJvdW5kYXJ5XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmJvdW5kcyA9PT0gJ3BhcmVudCcpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRfMiA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRfMikge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRSZWN0ID0gcGFyZW50XzIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRMZWZ0ID0gcGFyZW50UmVjdC5sZWZ0ICogYWRqdXN0ZWRTY2FsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudFRvcCA9IHBhcmVudFJlY3QudG9wICogYWRqdXN0ZWRTY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGb3IgdGFyZ2V0KGh0bWwgZWxlbWVudCkgYm91bmRhcnlcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYm91bmRzICYmIHR5cGVvZiB0aGlzLnByb3BzLmJvdW5kcyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRSZWN0ID0gdGhpcy5wcm9wcy5ib3VuZHMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldExlZnQgPSB0YXJnZXRSZWN0LmxlZnQgKiBhZGp1c3RlZFNjYWxlO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRUb3AgPSB0YXJnZXRSZWN0LnRvcCAqIGFkanVzdGVkU2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGJvdW5kYXJ5XG4gICAgICAgIGlmICh0aGlzLnJlc2l6YWJsZSkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5yZXNpemFibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGxlZnQgPSBfYS5sZWZ0LCB0b3BfMSA9IF9hLnRvcCwgcmlnaHQgPSBfYS5yaWdodCwgYm90dG9tID0gX2EuYm90dG9tO1xuICAgICAgICAgICAgdGhpcy5yZXNpemFibGVMZWZ0ID0gbGVmdCAqIGFkanVzdGVkU2NhbGU7XG4gICAgICAgICAgICB0aGlzLnJlc2l6YWJsZVJpZ2h0ID0gcmlnaHQgKiBhZGp1c3RlZFNjYWxlO1xuICAgICAgICAgICAgdGhpcy5yZXNpemFibGVUb3AgPSB0b3BfMSAqIGFkanVzdGVkU2NhbGU7XG4gICAgICAgICAgICB0aGlzLnJlc2l6YWJsZUJvdHRvbSA9IGJvdHRvbSAqIGFkanVzdGVkU2NhbGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6YWJsZS5wcm90b3R5cGUub25SZXNpemVTdGFydCA9IGZ1bmN0aW9uIChldmVudCwgZGlyZWN0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy5yZXNpemFibGUgfHwgIXRoaXMud2luZG93KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNsaWVudFggPSAwO1xuICAgICAgICB2YXIgY2xpZW50WSA9IDA7XG4gICAgICAgIGlmIChldmVudC5uYXRpdmVFdmVudCAmJiBpc01vdXNlRXZlbnQoZXZlbnQubmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICBjbGllbnRYID0gZXZlbnQubmF0aXZlRXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgIGNsaWVudFkgPSBldmVudC5uYXRpdmVFdmVudC5jbGllbnRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50Lm5hdGl2ZUV2ZW50ICYmIGlzVG91Y2hFdmVudChldmVudC5uYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgIGNsaWVudFggPSBldmVudC5uYXRpdmVFdmVudC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICBjbGllbnRZID0gZXZlbnQubmF0aXZlRXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uUmVzaXplU3RhcnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6YWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydFJlc2l6ZSA9IHRoaXMucHJvcHMub25SZXNpemVTdGFydChldmVudCwgZGlyZWN0aW9uLCB0aGlzLnJlc2l6YWJsZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0UmVzaXplID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZpeCAjMTY4XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNpemUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5zaXplLmhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5wcm9wcy5zaXplLmhlaWdodCAhPT0gdGhpcy5zdGF0ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaGVpZ2h0OiB0aGlzLnByb3BzLnNpemUuaGVpZ2h0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLnNpemUud2lkdGggIT09ICd1bmRlZmluZWQnICYmIHRoaXMucHJvcHMuc2l6ZS53aWR0aCAhPT0gdGhpcy5zdGF0ZS53aWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB3aWR0aDogdGhpcy5wcm9wcy5zaXplLndpZHRoIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBsb2NrQXNwZWN0UmF0aW8gY2FzZVxuICAgICAgICB0aGlzLnJhdGlvID1cbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLnByb3BzLmxvY2tBc3BlY3RSYXRpbyA9PT0gJ251bWJlcicgPyB0aGlzLnByb3BzLmxvY2tBc3BlY3RSYXRpbyA6IHRoaXMuc2l6ZS53aWR0aCAvIHRoaXMuc2l6ZS5oZWlnaHQ7XG4gICAgICAgIHZhciBmbGV4QmFzaXM7XG4gICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gdGhpcy53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnJlc2l6YWJsZSk7XG4gICAgICAgIGlmIChjb21wdXRlZFN0eWxlLmZsZXhCYXNpcyAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50XzMgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICAgICAgICBpZiAocGFyZW50XzMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyID0gdGhpcy53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnRfMykuZmxleERpcmVjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmZsZXhEaXIgPSBkaXIuc3RhcnRzV2l0aCgncm93JykgPyAncm93JyA6ICdjb2x1bW4nO1xuICAgICAgICAgICAgICAgIGZsZXhCYXNpcyA9IGNvbXB1dGVkU3R5bGUuZmxleEJhc2lzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBib3VuZGFyeVxuICAgICAgICB0aGlzLnNldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICAgICAgICB4OiBjbGllbnRYLFxuICAgICAgICAgICAgICAgIHk6IGNsaWVudFksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuc2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuc2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNSZXNpemluZzogdHJ1ZSxcbiAgICAgICAgICAgIGJhY2tncm91bmRTdHlsZTogX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuc3RhdGUuYmFja2dyb3VuZFN0eWxlKSwgeyBjdXJzb3I6IHRoaXMud2luZG93LmdldENvbXB1dGVkU3R5bGUoZXZlbnQudGFyZ2V0KS5jdXJzb3IgfHwgJ2F1dG8nIH0pLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICAgICAgICBmbGV4QmFzaXM6IGZsZXhCYXNpcyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5pc1Jlc2l6aW5nIHx8ICF0aGlzLnJlc2l6YWJsZSB8fCAhdGhpcy53aW5kb3cpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53aW5kb3cuVG91Y2hFdmVudCAmJiBpc1RvdWNoRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIElnbm9yZSBvbiBmYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgbWF4V2lkdGggPSBfYS5tYXhXaWR0aCwgbWF4SGVpZ2h0ID0gX2EubWF4SGVpZ2h0LCBtaW5XaWR0aCA9IF9hLm1pbldpZHRoLCBtaW5IZWlnaHQgPSBfYS5taW5IZWlnaHQ7XG4gICAgICAgIHZhciBjbGllbnRYID0gaXNUb3VjaEV2ZW50KGV2ZW50KSA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LmNsaWVudFg7XG4gICAgICAgIHZhciBjbGllbnRZID0gaXNUb3VjaEV2ZW50KGV2ZW50KSA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFk7XG4gICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIGRpcmVjdGlvbiA9IF9iLmRpcmVjdGlvbiwgb3JpZ2luYWwgPSBfYi5vcmlnaW5hbCwgd2lkdGggPSBfYi53aWR0aCwgaGVpZ2h0ID0gX2IuaGVpZ2h0O1xuICAgICAgICB2YXIgcGFyZW50U2l6ZSA9IHRoaXMuZ2V0UGFyZW50U2l6ZSgpO1xuICAgICAgICB2YXIgbWF4ID0gY2FsY3VsYXRlTmV3TWF4KHBhcmVudFNpemUsIHRoaXMud2luZG93LmlubmVyV2lkdGgsIHRoaXMud2luZG93LmlubmVySGVpZ2h0LCBtYXhXaWR0aCwgbWF4SGVpZ2h0LCBtaW5XaWR0aCwgbWluSGVpZ2h0KTtcbiAgICAgICAgbWF4V2lkdGggPSBtYXgubWF4V2lkdGg7XG4gICAgICAgIG1heEhlaWdodCA9IG1heC5tYXhIZWlnaHQ7XG4gICAgICAgIG1pbldpZHRoID0gbWF4Lm1pbldpZHRoO1xuICAgICAgICBtaW5IZWlnaHQgPSBtYXgubWluSGVpZ2h0O1xuICAgICAgICAvLyBDYWxjdWxhdGUgbmV3IHNpemVcbiAgICAgICAgdmFyIF9jID0gdGhpcy5jYWxjdWxhdGVOZXdTaXplRnJvbURpcmVjdGlvbihjbGllbnRYLCBjbGllbnRZKSwgbmV3SGVpZ2h0ID0gX2MubmV3SGVpZ2h0LCBuZXdXaWR0aCA9IF9jLm5ld1dpZHRoO1xuICAgICAgICAvLyBDYWxjdWxhdGUgbWF4IHNpemUgZnJvbSBib3VuZGFyeSBzZXR0aW5nc1xuICAgICAgICB2YXIgYm91bmRhcnlNYXggPSB0aGlzLmNhbGN1bGF0ZU5ld01heEZyb21Cb3VuZGFyeShtYXhXaWR0aCwgbWF4SGVpZ2h0KTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc25hcCAmJiB0aGlzLnByb3BzLnNuYXAueCkge1xuICAgICAgICAgICAgbmV3V2lkdGggPSBmaW5kQ2xvc2VzdFNuYXAobmV3V2lkdGgsIHRoaXMucHJvcHMuc25hcC54LCB0aGlzLnByb3BzLnNuYXBHYXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNuYXAgJiYgdGhpcy5wcm9wcy5zbmFwLnkpIHtcbiAgICAgICAgICAgIG5ld0hlaWdodCA9IGZpbmRDbG9zZXN0U25hcChuZXdIZWlnaHQsIHRoaXMucHJvcHMuc25hcC55LCB0aGlzLnByb3BzLnNuYXBHYXApO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgc2l6ZSBmcm9tIGFzcGVjdCByYXRpb1xuICAgICAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuY2FsY3VsYXRlTmV3U2l6ZUZyb21Bc3BlY3RSYXRpbyhuZXdXaWR0aCwgbmV3SGVpZ2h0LCB7IHdpZHRoOiBib3VuZGFyeU1heC5tYXhXaWR0aCwgaGVpZ2h0OiBib3VuZGFyeU1heC5tYXhIZWlnaHQgfSwgeyB3aWR0aDogbWluV2lkdGgsIGhlaWdodDogbWluSGVpZ2h0IH0pO1xuICAgICAgICBuZXdXaWR0aCA9IG5ld1NpemUubmV3V2lkdGg7XG4gICAgICAgIG5ld0hlaWdodCA9IG5ld1NpemUubmV3SGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5ncmlkKSB7XG4gICAgICAgICAgICB2YXIgbmV3R3JpZFdpZHRoID0gc25hcChuZXdXaWR0aCwgdGhpcy5wcm9wcy5ncmlkWzBdLCB0aGlzLnByb3BzLmdyaWRHYXAgPyB0aGlzLnByb3BzLmdyaWRHYXBbMF0gOiAwKTtcbiAgICAgICAgICAgIHZhciBuZXdHcmlkSGVpZ2h0ID0gc25hcChuZXdIZWlnaHQsIHRoaXMucHJvcHMuZ3JpZFsxXSwgdGhpcy5wcm9wcy5ncmlkR2FwID8gdGhpcy5wcm9wcy5ncmlkR2FwWzFdIDogMCk7XG4gICAgICAgICAgICB2YXIgZ2FwID0gdGhpcy5wcm9wcy5zbmFwR2FwIHx8IDA7XG4gICAgICAgICAgICB2YXIgdyA9IGdhcCA9PT0gMCB8fCBNYXRoLmFicyhuZXdHcmlkV2lkdGggLSBuZXdXaWR0aCkgPD0gZ2FwID8gbmV3R3JpZFdpZHRoIDogbmV3V2lkdGg7XG4gICAgICAgICAgICB2YXIgaCA9IGdhcCA9PT0gMCB8fCBNYXRoLmFicyhuZXdHcmlkSGVpZ2h0IC0gbmV3SGVpZ2h0KSA8PSBnYXAgPyBuZXdHcmlkSGVpZ2h0IDogbmV3SGVpZ2h0O1xuICAgICAgICAgICAgbmV3V2lkdGggPSB3O1xuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gaDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsdGEgPSB7XG4gICAgICAgICAgICB3aWR0aDogbmV3V2lkdGggLSBvcmlnaW5hbC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogbmV3SGVpZ2h0IC0gb3JpZ2luYWwuaGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICBpZiAod2lkdGggJiYgdHlwZW9mIHdpZHRoID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHdpZHRoLmVuZHNXaXRoKCclJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IChuZXdXaWR0aCAvIHBhcmVudFNpemUud2lkdGgpICogMTAwO1xuICAgICAgICAgICAgICAgIG5ld1dpZHRoID0gcGVyY2VudCArIFwiJVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAod2lkdGguZW5kc1dpdGgoJ3Z3JykpIHtcbiAgICAgICAgICAgICAgICB2YXIgdncgPSAobmV3V2lkdGggLyB0aGlzLndpbmRvdy5pbm5lcldpZHRoKSAqIDEwMDtcbiAgICAgICAgICAgICAgICBuZXdXaWR0aCA9IHZ3ICsgXCJ2d1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAod2lkdGguZW5kc1dpdGgoJ3ZoJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmggPSAobmV3V2lkdGggLyB0aGlzLndpbmRvdy5pbm5lckhlaWdodCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgbmV3V2lkdGggPSB2aCArIFwidmhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVpZ2h0ICYmIHR5cGVvZiBoZWlnaHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoaGVpZ2h0LmVuZHNXaXRoKCclJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IChuZXdIZWlnaHQgLyBwYXJlbnRTaXplLmhlaWdodCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgbmV3SGVpZ2h0ID0gcGVyY2VudCArIFwiJVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVpZ2h0LmVuZHNXaXRoKCd2dycpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZ3ID0gKG5ld0hlaWdodCAvIHRoaXMud2luZG93LmlubmVyV2lkdGgpICogMTAwO1xuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IHZ3ICsgXCJ2d1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVpZ2h0LmVuZHNXaXRoKCd2aCcpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZoID0gKG5ld0hlaWdodCAvIHRoaXMud2luZG93LmlubmVySGVpZ2h0KSAqIDEwMDtcbiAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSB2aCArIFwidmhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5jcmVhdGVTaXplRm9yQ3NzUHJvcGVydHkobmV3V2lkdGgsICd3aWR0aCcpLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmNyZWF0ZVNpemVGb3JDc3NQcm9wZXJ0eShuZXdIZWlnaHQsICdoZWlnaHQnKSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuZmxleERpciA9PT0gJ3JvdycpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlLmZsZXhCYXNpcyA9IG5ld1N0YXRlLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmxleERpciA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlLmZsZXhCYXNpcyA9IG5ld1N0YXRlLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGhDaGFuZ2VkID0gdGhpcy5zdGF0ZS53aWR0aCAhPT0gbmV3U3RhdGUud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHRDaGFuZ2VkID0gdGhpcy5zdGF0ZS5oZWlnaHQgIT09IG5ld1N0YXRlLmhlaWdodDtcbiAgICAgICAgdmFyIGZsZXhCYXNlQ2hhbmdlZCA9IHRoaXMuc3RhdGUuZmxleEJhc2lzICE9PSBuZXdTdGF0ZS5mbGV4QmFzaXM7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gd2lkdGhDaGFuZ2VkIHx8IGhlaWdodENoYW5nZWQgfHwgZmxleEJhc2VDaGFuZ2VkO1xuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgICAgLy8gRm9yIHYxOCwgdXBkYXRlIHN0YXRlIHN5bmNcbiAgICAgICAgICAgIGZsdXNoU3luYyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25SZXNpemUpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblJlc2l6ZShldmVudCwgZGlyZWN0aW9uLCB0aGlzLnJlc2l6YWJsZSwgZGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLm9uTW91c2VVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgX2MgPSB0aGlzLnN0YXRlLCBpc1Jlc2l6aW5nID0gX2MuaXNSZXNpemluZywgZGlyZWN0aW9uID0gX2MuZGlyZWN0aW9uLCBvcmlnaW5hbCA9IF9jLm9yaWdpbmFsO1xuICAgICAgICBpZiAoIWlzUmVzaXppbmcgfHwgIXRoaXMucmVzaXphYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbHRhID0ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuc2l6ZS53aWR0aCAtIG9yaWdpbmFsLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnNpemUuaGVpZ2h0IC0gb3JpZ2luYWwuaGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vblJlc2l6ZVN0b3ApIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25SZXNpemVTdG9wKGV2ZW50LCBkaXJlY3Rpb24sIHRoaXMucmVzaXphYmxlLCBkZWx0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHdpZHRoOiAoX2EgPSB0aGlzLnByb3BzLnNpemUud2lkdGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdhdXRvJywgaGVpZ2h0OiAoX2IgPSB0aGlzLnByb3BzLnNpemUuaGVpZ2h0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnYXV0bycgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bmJpbmRFdmVudHMoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc1Jlc2l6aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGJhY2tncm91bmRTdHlsZTogX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuc3RhdGUuYmFja2dyb3VuZFN0eWxlKSwgeyBjdXJzb3I6ICdhdXRvJyB9KSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLnVwZGF0ZVNpemUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgd2lkdGg6IChfYSA9IHNpemUud2lkdGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdhdXRvJywgaGVpZ2h0OiAoX2IgPSBzaXplLmhlaWdodCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ2F1dG8nIH0pO1xuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS5yZW5kZXJSZXNpemVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBlbmFibGUgPSBfYS5lbmFibGUsIGhhbmRsZVN0eWxlcyA9IF9hLmhhbmRsZVN0eWxlcywgaGFuZGxlQ2xhc3NlcyA9IF9hLmhhbmRsZUNsYXNzZXMsIGhhbmRsZVdyYXBwZXJTdHlsZSA9IF9hLmhhbmRsZVdyYXBwZXJTdHlsZSwgaGFuZGxlV3JhcHBlckNsYXNzID0gX2EuaGFuZGxlV3JhcHBlckNsYXNzLCBoYW5kbGVDb21wb25lbnQgPSBfYS5oYW5kbGVDb21wb25lbnQ7XG4gICAgICAgIGlmICghZW5hYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzaXplcnMgPSBPYmplY3Qua2V5cyhlbmFibGUpLm1hcChmdW5jdGlvbiAoZGlyKSB7XG4gICAgICAgICAgICBpZiAoZW5hYmxlW2Rpcl0gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlc2l6ZXIsIHsga2V5OiBkaXIsIGRpcmVjdGlvbjogZGlyLCBvblJlc2l6ZVN0YXJ0OiBfdGhpcy5vblJlc2l6ZVN0YXJ0LCByZXBsYWNlU3R5bGVzOiBoYW5kbGVTdHlsZXMgJiYgaGFuZGxlU3R5bGVzW2Rpcl0sIGNsYXNzTmFtZTogaGFuZGxlQ2xhc3NlcyAmJiBoYW5kbGVDbGFzc2VzW2Rpcl0gfSwgaGFuZGxlQ29tcG9uZW50ICYmIGhhbmRsZUNvbXBvbmVudFtkaXJdID8gaGFuZGxlQ29tcG9uZW50W2Rpcl0gOiBudWxsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vICM5MyBXcmFwIHRoZSByZXNpemUgYm94IGluIHNwYW4gKHdpbGwgbm90IGJyZWFrIDEwMCUgd2lkdGgvaGVpZ2h0KVxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGhhbmRsZVdyYXBwZXJDbGFzcywgc3R5bGU6IGhhbmRsZVdyYXBwZXJTdHlsZSB9LCByZXNpemVycykpO1xuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBleHRlbmRzUHJvcHMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgICAgICBpZiAoZGVmaW5lZFByb3BzLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjW2tleV0gPSBfdGhpcy5wcm9wc1trZXldO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICB2YXIgc3R5bGUgPSBfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCB1c2VyU2VsZWN0OiB0aGlzLnN0YXRlLmlzUmVzaXppbmcgPyAnbm9uZScgOiAnYXV0bycgfSwgdGhpcy5wcm9wcy5zdHlsZSksIHRoaXMuc2l6ZVN0eWxlKSwgeyBtYXhXaWR0aDogdGhpcy5wcm9wcy5tYXhXaWR0aCwgbWF4SGVpZ2h0OiB0aGlzLnByb3BzLm1heEhlaWdodCwgbWluV2lkdGg6IHRoaXMucHJvcHMubWluV2lkdGgsIG1pbkhlaWdodDogdGhpcy5wcm9wcy5taW5IZWlnaHQsIGJveFNpemluZzogJ2JvcmRlci1ib3gnLCBmbGV4U2hyaW5rOiAwIH0pO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5mbGV4QmFzaXMpIHtcbiAgICAgICAgICAgIHN0eWxlLmZsZXhCYXNpcyA9IHRoaXMuc3RhdGUuZmxleEJhc2lzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBXcmFwcGVyID0gdGhpcy5wcm9wcy5hcyB8fCAnZGl2JztcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIF9fYXNzaWduKHsgc3R5bGU6IHN0eWxlLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lIH0sIGV4dGVuZHNQcm9wcywgeyBcbiAgICAgICAgICAgIC8vIGByZWZgIGlzIGFmdGVyIGBleHRlbmRzUHJvcHNgIHRvIGVuc3VyZSB0aGlzIG9uZSB3aW5zIG92ZXIgYSB2ZXJzaW9uXG4gICAgICAgICAgICAvLyBwYXNzZWQgaW5cbiAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNpemFibGUgPSBjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmlzUmVzaXppbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB0aGlzLnN0YXRlLmJhY2tncm91bmRTdHlsZSB9KSxcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICB0aGlzLnJlbmRlclJlc2l6ZXIoKSkpO1xuICAgIH07XG4gICAgUmVzaXphYmxlLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgYXM6ICdkaXYnLFxuICAgICAgICBvblJlc2l6ZVN0YXJ0OiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIG9uUmVzaXplOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIG9uUmVzaXplU3RvcDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBlbmFibGU6IHtcbiAgICAgICAgICAgIHRvcDogdHJ1ZSxcbiAgICAgICAgICAgIHJpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgYm90dG9tOiB0cnVlLFxuICAgICAgICAgICAgbGVmdDogdHJ1ZSxcbiAgICAgICAgICAgIHRvcFJpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgYm90dG9tUmlnaHQ6IHRydWUsXG4gICAgICAgICAgICBib3R0b21MZWZ0OiB0cnVlLFxuICAgICAgICAgICAgdG9wTGVmdDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHt9LFxuICAgICAgICBncmlkOiBbMSwgMV0sXG4gICAgICAgIGdyaWRHYXA6IFswLCAwXSxcbiAgICAgICAgbG9ja0FzcGVjdFJhdGlvOiBmYWxzZSxcbiAgICAgICAgbG9ja0FzcGVjdFJhdGlvRXh0cmFXaWR0aDogMCxcbiAgICAgICAgbG9ja0FzcGVjdFJhdGlvRXh0cmFIZWlnaHQ6IDAsXG4gICAgICAgIHNjYWxlOiAxLFxuICAgICAgICByZXNpemVSYXRpbzogMSxcbiAgICAgICAgc25hcEdhcDogMCxcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemFibGU7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpKTtcbmV4cG9ydCB7IFJlc2l6YWJsZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/re-resizable/lib/index.js\n\n}");

/***/ }),

/***/ "./node_modules/re-resizable/lib/resizer.js":
/*!**************************************************!*\
  !*** ./node_modules/re-resizable/lib/resizer.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Resizer: () => (/* binding */ Resizer)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\nvar rowSizeBase = {\n    width: '100%',\n    height: '10px',\n    top: '0px',\n    left: '0px',\n    cursor: 'row-resize',\n};\nvar colSizeBase = {\n    width: '10px',\n    height: '100%',\n    top: '0px',\n    left: '0px',\n    cursor: 'col-resize',\n};\nvar edgeBase = {\n    width: '20px',\n    height: '20px',\n    position: 'absolute',\n};\nvar styles = {\n    top: __assign(__assign({}, rowSizeBase), { top: '-5px' }),\n    right: __assign(__assign({}, colSizeBase), { left: undefined, right: '-5px' }),\n    bottom: __assign(__assign({}, rowSizeBase), { top: undefined, bottom: '-5px' }),\n    left: __assign(__assign({}, colSizeBase), { left: '-5px' }),\n    topRight: __assign(__assign({}, edgeBase), { right: '-10px', top: '-10px', cursor: 'ne-resize' }),\n    bottomRight: __assign(__assign({}, edgeBase), { right: '-10px', bottom: '-10px', cursor: 'se-resize' }),\n    bottomLeft: __assign(__assign({}, edgeBase), { left: '-10px', bottom: '-10px', cursor: 'sw-resize' }),\n    topLeft: __assign(__assign({}, edgeBase), { left: '-10px', top: '-10px', cursor: 'nw-resize' }),\n};\nvar Resizer = /** @class */ (function (_super) {\n    __extends(Resizer, _super);\n    function Resizer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        _this.onTouchStart = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        return _this;\n    }\n    Resizer.prototype.render = function () {\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: this.props.className || '', style: __assign(__assign({ position: 'absolute', userSelect: 'none' }, styles[this.props.direction]), (this.props.replaceStyles || {})), onMouseDown: this.onMouseDown, onTouchStart: this.onTouchStart }, this.props.children));\n    };\n    return Resizer;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmUtcmVzaXphYmxlL2xpYi9yZXNpemVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmUtcmVzaXphYmxlL2xpYi9yZXNpemVyLmpzPzM3MTkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG52YXIgcm93U2l6ZUJhc2UgPSB7XG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBoZWlnaHQ6ICcxMHB4JyxcbiAgICB0b3A6ICcwcHgnLFxuICAgIGxlZnQ6ICcwcHgnLFxuICAgIGN1cnNvcjogJ3Jvdy1yZXNpemUnLFxufTtcbnZhciBjb2xTaXplQmFzZSA9IHtcbiAgICB3aWR0aDogJzEwcHgnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIHRvcDogJzBweCcsXG4gICAgbGVmdDogJzBweCcsXG4gICAgY3Vyc29yOiAnY29sLXJlc2l6ZScsXG59O1xudmFyIGVkZ2VCYXNlID0ge1xuICAgIHdpZHRoOiAnMjBweCcsXG4gICAgaGVpZ2h0OiAnMjBweCcsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG59O1xudmFyIHN0eWxlcyA9IHtcbiAgICB0b3A6IF9fYXNzaWduKF9fYXNzaWduKHt9LCByb3dTaXplQmFzZSksIHsgdG9wOiAnLTVweCcgfSksXG4gICAgcmlnaHQ6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBjb2xTaXplQmFzZSksIHsgbGVmdDogdW5kZWZpbmVkLCByaWdodDogJy01cHgnIH0pLFxuICAgIGJvdHRvbTogX19hc3NpZ24oX19hc3NpZ24oe30sIHJvd1NpemVCYXNlKSwgeyB0b3A6IHVuZGVmaW5lZCwgYm90dG9tOiAnLTVweCcgfSksXG4gICAgbGVmdDogX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbFNpemVCYXNlKSwgeyBsZWZ0OiAnLTVweCcgfSksXG4gICAgdG9wUmlnaHQ6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBlZGdlQmFzZSksIHsgcmlnaHQ6ICctMTBweCcsIHRvcDogJy0xMHB4JywgY3Vyc29yOiAnbmUtcmVzaXplJyB9KSxcbiAgICBib3R0b21SaWdodDogX19hc3NpZ24oX19hc3NpZ24oe30sIGVkZ2VCYXNlKSwgeyByaWdodDogJy0xMHB4JywgYm90dG9tOiAnLTEwcHgnLCBjdXJzb3I6ICdzZS1yZXNpemUnIH0pLFxuICAgIGJvdHRvbUxlZnQ6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBlZGdlQmFzZSksIHsgbGVmdDogJy0xMHB4JywgYm90dG9tOiAnLTEwcHgnLCBjdXJzb3I6ICdzdy1yZXNpemUnIH0pLFxuICAgIHRvcExlZnQ6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBlZGdlQmFzZSksIHsgbGVmdDogJy0xMHB4JywgdG9wOiAnLTEwcHgnLCBjdXJzb3I6ICdudy1yZXNpemUnIH0pLFxufTtcbnZhciBSZXNpemVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXNpemVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlc2l6ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vblJlc2l6ZVN0YXJ0KGUsIF90aGlzLnByb3BzLmRpcmVjdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vblJlc2l6ZVN0YXJ0KGUsIF90aGlzLnByb3BzLmRpcmVjdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVzaXplci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnLCBzdHlsZTogX19hc3NpZ24oX19hc3NpZ24oeyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdXNlclNlbGVjdDogJ25vbmUnIH0sIHN0eWxlc1t0aGlzLnByb3BzLmRpcmVjdGlvbl0pLCAodGhpcy5wcm9wcy5yZXBsYWNlU3R5bGVzIHx8IHt9KSksIG9uTW91c2VEb3duOiB0aGlzLm9uTW91c2VEb3duLCBvblRvdWNoU3RhcnQ6IHRoaXMub25Ub3VjaFN0YXJ0IH0sIHRoaXMucHJvcHMuY2hpbGRyZW4pKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVyO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KSk7XG5leHBvcnQgeyBSZXNpemVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/re-resizable/lib/resizer.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DragSourceMonitorImpl: () => (/* binding */ DragSourceMonitorImpl)\n/* harmony export */ });\n/* harmony import */ var _react_dnd_invariant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-dnd/invariant */ \"./node_modules/@react-dnd/invariant/dist/invariant.esm.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nvar DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      (0,_react_dnd_invariant__WEBPACK_IMPORTED_MODULE_0__.invariant)(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      (0,_react_dnd_invariant__WEBPACK_IMPORTED_MODULE_0__.invariant)(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2NvbW1vbi9EcmFnU291cmNlTW9uaXRvckltcGwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvZGlzdC9lc20vY29tbW9uL0RyYWdTb3VyY2VNb25pdG9ySW1wbC5qcz82Y2VkIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnQHJlYWN0LWRuZC9pbnZhcmlhbnQnO1xudmFyIGlzQ2FsbGluZ0NhbkRyYWcgPSBmYWxzZTtcbnZhciBpc0NhbGxpbmdJc0RyYWdnaW5nID0gZmFsc2U7XG5leHBvcnQgdmFyIERyYWdTb3VyY2VNb25pdG9ySW1wbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERyYWdTb3VyY2VNb25pdG9ySW1wbChtYW5hZ2VyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyYWdTb3VyY2VNb25pdG9ySW1wbCk7XG5cbiAgICB0aGlzLnNvdXJjZUlkID0gbnVsbDtcbiAgICB0aGlzLmludGVybmFsTW9uaXRvciA9IG1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERyYWdTb3VyY2VNb25pdG9ySW1wbCwgW3tcbiAgICBrZXk6IFwicmVjZWl2ZUhhbmRsZXJJZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNlaXZlSGFuZGxlcklkKHNvdXJjZUlkKSB7XG4gICAgICB0aGlzLnNvdXJjZUlkID0gc291cmNlSWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEhhbmRsZXJJZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIYW5kbGVySWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zb3VyY2VJZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuRHJhZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5EcmFnKCkge1xuICAgICAgaW52YXJpYW50KCFpc0NhbGxpbmdDYW5EcmFnLCAnWW91IG1heSBub3QgY2FsbCBtb25pdG9yLmNhbkRyYWcoKSBpbnNpZGUgeW91ciBjYW5EcmFnKCkgaW1wbGVtZW50YXRpb24uICcgKyAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UtbW9uaXRvcicpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBpc0NhbGxpbmdDYW5EcmFnID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmNhbkRyYWdTb3VyY2UodGhpcy5zb3VyY2VJZCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpc0NhbGxpbmdDYW5EcmFnID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzRHJhZ2dpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNEcmFnZ2luZygpIHtcbiAgICAgIGlmICghdGhpcy5zb3VyY2VJZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGludmFyaWFudCghaXNDYWxsaW5nSXNEcmFnZ2luZywgJ1lvdSBtYXkgbm90IGNhbGwgbW9uaXRvci5pc0RyYWdnaW5nKCkgaW5zaWRlIHlvdXIgaXNEcmFnZ2luZygpIGltcGxlbWVudGF0aW9uLiAnICsgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2RyYWctc291cmNlLW1vbml0b3InKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgaXNDYWxsaW5nSXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5pc0RyYWdnaW5nU291cmNlKHRoaXMuc291cmNlSWQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNDYWxsaW5nSXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdWJzY3JpYmVUb1N0YXRlQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZVRvU3RhdGVDaGFuZ2UobGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5zdWJzY3JpYmVUb1N0YXRlQ2hhbmdlKGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNEcmFnZ2luZ1NvdXJjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0RyYWdnaW5nU291cmNlKHNvdXJjZUlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuaXNEcmFnZ2luZ1NvdXJjZShzb3VyY2VJZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzT3ZlclRhcmdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc092ZXJUYXJnZXQodGFyZ2V0SWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5pc092ZXJUYXJnZXQodGFyZ2V0SWQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRUYXJnZXRJZHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGFyZ2V0SWRzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldFRhcmdldElkcygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1NvdXJjZVB1YmxpY1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1NvdXJjZVB1YmxpYygpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5pc1NvdXJjZVB1YmxpYygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRTb3VyY2VJZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTb3VyY2VJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRTb3VyY2VJZCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdWJzY3JpYmVUb09mZnNldENoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmVUb09mZnNldENoYW5nZShsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLnN1YnNjcmliZVRvT2Zmc2V0Q2hhbmdlKGxpc3RlbmVyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuRHJhZ1NvdXJjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5EcmFnU291cmNlKHNvdXJjZUlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuY2FuRHJhZ1NvdXJjZShzb3VyY2VJZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhbkRyb3BPblRhcmdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5Ecm9wT25UYXJnZXQodGFyZ2V0SWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5jYW5Ecm9wT25UYXJnZXQodGFyZ2V0SWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRJdGVtVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJdGVtVHlwZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJdGVtVHlwZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEl0ZW0oKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0SXRlbSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXREcm9wUmVzdWx0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERyb3BSZXN1bHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0RHJvcFJlc3VsdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkaWREcm9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpZERyb3AoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZGlkRHJvcCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRJbml0aWFsQ2xpZW50T2Zmc2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluaXRpYWxDbGllbnRPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0SW5pdGlhbENsaWVudE9mZnNldCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRJbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0SW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRTb3VyY2VDbGllbnRPZmZzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U291cmNlQ2xpZW50T2Zmc2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldFNvdXJjZUNsaWVudE9mZnNldCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDbGllbnRPZmZzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2xpZW50T2Zmc2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldENsaWVudE9mZnNldCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXREaWZmZXJlbmNlRnJvbUluaXRpYWxPZmZzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGlmZmVyZW5jZUZyb21Jbml0aWFsT2Zmc2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldCgpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEcmFnU291cmNlTW9uaXRvckltcGw7XG59KCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DropTargetMonitorImpl: () => (/* binding */ DropTargetMonitorImpl)\n/* harmony export */ });\n/* harmony import */ var _react_dnd_invariant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-dnd/invariant */ \"./node_modules/@react-dnd/invariant/dist/invariant.esm.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar isCallingCanDrop = false;\nvar DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      (0,_react_dnd_invariant__WEBPACK_IMPORTED_MODULE_0__.invariant)(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2NvbW1vbi9Ecm9wVGFyZ2V0TW9uaXRvckltcGwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9kaXN0L2VzbS9jb21tb24vRHJvcFRhcmdldE1vbml0b3JJbXBsLmpzP2E1ZGEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICdAcmVhY3QtZG5kL2ludmFyaWFudCc7XG52YXIgaXNDYWxsaW5nQ2FuRHJvcCA9IGZhbHNlO1xuZXhwb3J0IHZhciBEcm9wVGFyZ2V0TW9uaXRvckltcGwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEcm9wVGFyZ2V0TW9uaXRvckltcGwobWFuYWdlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcm9wVGFyZ2V0TW9uaXRvckltcGwpO1xuXG4gICAgdGhpcy50YXJnZXRJZCA9IG51bGw7XG4gICAgdGhpcy5pbnRlcm5hbE1vbml0b3IgPSBtYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEcm9wVGFyZ2V0TW9uaXRvckltcGwsIFt7XG4gICAga2V5OiBcInJlY2VpdmVIYW5kbGVySWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjZWl2ZUhhbmRsZXJJZCh0YXJnZXRJZCkge1xuICAgICAgdGhpcy50YXJnZXRJZCA9IHRhcmdldElkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRIYW5kbGVySWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SGFuZGxlcklkKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0SWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN1YnNjcmliZVRvU3RhdGVDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3Vic2NyaWJlVG9TdGF0ZUNoYW5nZShsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLnN1YnNjcmliZVRvU3RhdGVDaGFuZ2UobGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYW5Ecm9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkRyb3AoKSB7XG4gICAgICAvLyBDdXQgb3V0IGVhcmx5IGlmIHRoZSB0YXJnZXQgaWQgaGFzIG5vdCBiZWVuIHNldC4gVGhpcyBzaG91bGQgcHJldmVudCBlcnJvcnNcbiAgICAgIC8vIHdoZXJlIHRoZSB1c2VyIGhhcyBhbiBvbGRlciB2ZXJzaW9uIG9mIGRuZC1jb3JlIGxpa2UgaW5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1kbmQvcmVhY3QtZG5kL2lzc3Vlcy8xMzEwXG4gICAgICBpZiAoIXRoaXMudGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpbnZhcmlhbnQoIWlzQ2FsbGluZ0NhbkRyb3AsICdZb3UgbWF5IG5vdCBjYWxsIG1vbml0b3IuY2FuRHJvcCgpIGluc2lkZSB5b3VyIGNhbkRyb3AoKSBpbXBsZW1lbnRhdGlvbi4gJyArICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcm9wLXRhcmdldC1tb25pdG9yJyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlzQ2FsbGluZ0NhbkRyb3AgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuY2FuRHJvcE9uVGFyZ2V0KHRoaXMudGFyZ2V0SWQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNDYWxsaW5nQ2FuRHJvcCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc092ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNPdmVyKG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy50YXJnZXRJZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5pc092ZXJUYXJnZXQodGhpcy50YXJnZXRJZCwgb3B0aW9ucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEl0ZW1UeXBlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEl0ZW1UeXBlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldEl0ZW1UeXBlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXRlbSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJdGVtKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldERyb3BSZXN1bHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RHJvcFJlc3VsdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXREcm9wUmVzdWx0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpZERyb3BcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlkRHJvcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5kaWREcm9wKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEluaXRpYWxDbGllbnRPZmZzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbENsaWVudE9mZnNldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJbml0aWFsQ2xpZW50T2Zmc2V0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFNvdXJjZUNsaWVudE9mZnNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTb3VyY2VDbGllbnRPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0U291cmNlQ2xpZW50T2Zmc2V0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENsaWVudE9mZnNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDbGllbnRPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0Q2xpZW50T2Zmc2V0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREaWZmZXJlbmNlRnJvbUluaXRpYWxPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0RGlmZmVyZW5jZUZyb21Jbml0aWFsT2Zmc2V0KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERyb3BUYXJnZXRNb25pdG9ySW1wbDtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/common/SourceConnector.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/common/SourceConnector.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SourceConnector: () => (/* binding */ SourceConnector)\n/* harmony export */ });\n/* harmony import */ var _wrapConnectorHooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wrapConnectorHooks */ \"./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js\");\n/* harmony import */ var _utils_isRef__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/isRef */ \"./node_modules/react-dnd/dist/esm/utils/isRef.js\");\n/* harmony import */ var _react_dnd_shallowequal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-dnd/shallowequal */ \"./node_modules/@react-dnd/shallowequal/dist/shallowequal.esm.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar SourceConnector = /*#__PURE__*/function () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = (0,_wrapConnectorHooks__WEBPACK_IMPORTED_MODULE_0__.wrapConnectorHooks)({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if ((0,_utils_isRef__WEBPACK_IMPORTED_MODULE_1__.isRef)(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if ((0,_utils_isRef__WEBPACK_IMPORTED_MODULE_1__.isRef)(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !(0,_react_dnd_shallowequal__WEBPACK_IMPORTED_MODULE_2__.shallowEqual)(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !(0,_react_dnd_shallowequal__WEBPACK_IMPORTED_MODULE_2__.shallowEqual)(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2NvbW1vbi9Tb3VyY2VDb25uZWN0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9kaXN0L2VzbS9jb21tb24vU291cmNlQ29ubmVjdG9yLmpzPzZjMDkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyB3cmFwQ29ubmVjdG9ySG9va3MgfSBmcm9tICcuL3dyYXBDb25uZWN0b3JIb29rcyc7XG5pbXBvcnQgeyBpc1JlZiB9IGZyb20gJy4uL3V0aWxzL2lzUmVmJztcbmltcG9ydCB7IHNoYWxsb3dFcXVhbCB9IGZyb20gJ0ByZWFjdC1kbmQvc2hhbGxvd2VxdWFsJztcbmV4cG9ydCB2YXIgU291cmNlQ29ubmVjdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU291cmNlQ29ubmVjdG9yKGJhY2tlbmQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvdXJjZUNvbm5lY3Rvcik7XG5cbiAgICB0aGlzLmhvb2tzID0gd3JhcENvbm5lY3Rvckhvb2tzKHtcbiAgICAgIGRyYWdTb3VyY2U6IGZ1bmN0aW9uIGRyYWdTb3VyY2Uobm9kZSwgb3B0aW9ucykge1xuICAgICAgICBfdGhpcy5jbGVhckRyYWdTb3VyY2UoKTtcblxuICAgICAgICBfdGhpcy5kcmFnU291cmNlT3B0aW9ucyA9IG9wdGlvbnMgfHwgbnVsbDtcblxuICAgICAgICBpZiAoaXNSZWYobm9kZSkpIHtcbiAgICAgICAgICBfdGhpcy5kcmFnU291cmNlUmVmID0gbm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5kcmFnU291cmNlTm9kZSA9IG5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5yZWNvbm5lY3REcmFnU291cmNlKCk7XG4gICAgICB9LFxuICAgICAgZHJhZ1ByZXZpZXc6IGZ1bmN0aW9uIGRyYWdQcmV2aWV3KG5vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgX3RoaXMuY2xlYXJEcmFnUHJldmlldygpO1xuXG4gICAgICAgIF90aGlzLmRyYWdQcmV2aWV3T3B0aW9ucyA9IG9wdGlvbnMgfHwgbnVsbDtcblxuICAgICAgICBpZiAoaXNSZWYobm9kZSkpIHtcbiAgICAgICAgICBfdGhpcy5kcmFnUHJldmlld1JlZiA9IG5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuZHJhZ1ByZXZpZXdOb2RlID0gbm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnJlY29ubmVjdERyYWdQcmV2aWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5oYW5kbGVySWQgPSBudWxsOyAvLyBUaGUgZHJvcCB0YXJnZXQgbWF5IGVpdGhlciBiZSBhdHRhY2hlZCB2aWEgcmVmIG9yIGNvbm5lY3QgZnVuY3Rpb25cblxuICAgIHRoaXMuZHJhZ1NvdXJjZVJlZiA9IG51bGw7XG4gICAgdGhpcy5kcmFnU291cmNlT3B0aW9uc0ludGVybmFsID0gbnVsbDsgLy8gVGhlIGRyYWcgcHJldmlldyBtYXkgZWl0aGVyIGJlIGF0dGFjaGVkIHZpYSByZWYgb3IgY29ubmVjdCBmdW5jdGlvblxuXG4gICAgdGhpcy5kcmFnUHJldmlld1JlZiA9IG51bGw7XG4gICAgdGhpcy5kcmFnUHJldmlld09wdGlvbnNJbnRlcm5hbCA9IG51bGw7XG4gICAgdGhpcy5sYXN0Q29ubmVjdGVkSGFuZGxlcklkID0gbnVsbDtcbiAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnU291cmNlID0gbnVsbDtcbiAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnU291cmNlT3B0aW9ucyA9IG51bGw7XG4gICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1ByZXZpZXcgPSBudWxsO1xuICAgIHRoaXMubGFzdENvbm5lY3RlZERyYWdQcmV2aWV3T3B0aW9ucyA9IG51bGw7XG4gICAgdGhpcy5iYWNrZW5kID0gYmFja2VuZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTb3VyY2VDb25uZWN0b3IsIFt7XG4gICAga2V5OiBcInJlY2VpdmVIYW5kbGVySWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjZWl2ZUhhbmRsZXJJZChuZXdIYW5kbGVySWQpIHtcbiAgICAgIGlmICh0aGlzLmhhbmRsZXJJZCA9PT0gbmV3SGFuZGxlcklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5oYW5kbGVySWQgPSBuZXdIYW5kbGVySWQ7XG4gICAgICB0aGlzLnJlY29ubmVjdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWNvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb25uZWN0KCkge1xuICAgICAgdGhpcy5yZWNvbm5lY3REcmFnU291cmNlKCk7XG4gICAgICB0aGlzLnJlY29ubmVjdERyYWdQcmV2aWV3KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlY29ubmVjdERyYWdTb3VyY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb25uZWN0RHJhZ1NvdXJjZSgpIHtcbiAgICAgIHZhciBkcmFnU291cmNlID0gdGhpcy5kcmFnU291cmNlOyAvLyBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkIHRoZW4gZG9uJ3QgcmVzdWJzY3JpYmVcblxuICAgICAgdmFyIGRpZENoYW5nZSA9IHRoaXMuZGlkSGFuZGxlcklkQ2hhbmdlKCkgfHwgdGhpcy5kaWRDb25uZWN0ZWREcmFnU291cmNlQ2hhbmdlKCkgfHwgdGhpcy5kaWREcmFnU291cmNlT3B0aW9uc0NoYW5nZSgpO1xuXG4gICAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdERyYWdTb3VyY2UoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhhbmRsZXJJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghZHJhZ1NvdXJjZSkge1xuICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnU291cmNlID0gZHJhZ1NvdXJjZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMubGFzdENvbm5lY3RlZEhhbmRsZXJJZCA9IHRoaXMuaGFuZGxlcklkO1xuICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnU291cmNlID0gZHJhZ1NvdXJjZTtcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1NvdXJjZU9wdGlvbnMgPSB0aGlzLmRyYWdTb3VyY2VPcHRpb25zO1xuICAgICAgICB0aGlzLmRyYWdTb3VyY2VVbnN1YnNjcmliZSA9IHRoaXMuYmFja2VuZC5jb25uZWN0RHJhZ1NvdXJjZSh0aGlzLmhhbmRsZXJJZCwgZHJhZ1NvdXJjZSwgdGhpcy5kcmFnU291cmNlT3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlY29ubmVjdERyYWdQcmV2aWV3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY29ubmVjdERyYWdQcmV2aWV3KCkge1xuICAgICAgdmFyIGRyYWdQcmV2aWV3ID0gdGhpcy5kcmFnUHJldmlldzsgLy8gaWYgbm90aGluZyBoYXMgY2hhbmdlZCB0aGVuIGRvbid0IHJlc3Vic2NyaWJlXG5cbiAgICAgIHZhciBkaWRDaGFuZ2UgPSB0aGlzLmRpZEhhbmRsZXJJZENoYW5nZSgpIHx8IHRoaXMuZGlkQ29ubmVjdGVkRHJhZ1ByZXZpZXdDaGFuZ2UoKSB8fCB0aGlzLmRpZERyYWdQcmV2aWV3T3B0aW9uc0NoYW5nZSgpO1xuXG4gICAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdERyYWdQcmV2aWV3KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oYW5kbGVySWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRyYWdQcmV2aWV3KSB7XG4gICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyYWdQcmV2aWV3ID0gZHJhZ1ByZXZpZXc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWRIYW5kbGVySWQgPSB0aGlzLmhhbmRsZXJJZDtcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1ByZXZpZXcgPSBkcmFnUHJldmlldztcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1ByZXZpZXdPcHRpb25zID0gdGhpcy5kcmFnUHJldmlld09wdGlvbnM7XG4gICAgICAgIHRoaXMuZHJhZ1ByZXZpZXdVbnN1YnNjcmliZSA9IHRoaXMuYmFja2VuZC5jb25uZWN0RHJhZ1ByZXZpZXcodGhpcy5oYW5kbGVySWQsIGRyYWdQcmV2aWV3LCB0aGlzLmRyYWdQcmV2aWV3T3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpZEhhbmRsZXJJZENoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaWRIYW5kbGVySWRDaGFuZ2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXN0Q29ubmVjdGVkSGFuZGxlcklkICE9PSB0aGlzLmhhbmRsZXJJZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGlkQ29ubmVjdGVkRHJhZ1NvdXJjZUNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaWRDb25uZWN0ZWREcmFnU291cmNlQ2hhbmdlKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFzdENvbm5lY3RlZERyYWdTb3VyY2UgIT09IHRoaXMuZHJhZ1NvdXJjZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGlkQ29ubmVjdGVkRHJhZ1ByZXZpZXdDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlkQ29ubmVjdGVkRHJhZ1ByZXZpZXdDaGFuZ2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1ByZXZpZXcgIT09IHRoaXMuZHJhZ1ByZXZpZXc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpZERyYWdTb3VyY2VPcHRpb25zQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpZERyYWdTb3VyY2VPcHRpb25zQ2hhbmdlKCkge1xuICAgICAgcmV0dXJuICFzaGFsbG93RXF1YWwodGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1NvdXJjZU9wdGlvbnMsIHRoaXMuZHJhZ1NvdXJjZU9wdGlvbnMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkaWREcmFnUHJldmlld09wdGlvbnNDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlkRHJhZ1ByZXZpZXdPcHRpb25zQ2hhbmdlKCkge1xuICAgICAgcmV0dXJuICFzaGFsbG93RXF1YWwodGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1ByZXZpZXdPcHRpb25zLCB0aGlzLmRyYWdQcmV2aWV3T3B0aW9ucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpc2Nvbm5lY3REcmFnU291cmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3REcmFnU291cmNlKCkge1xuICAgICAgaWYgKHRoaXMuZHJhZ1NvdXJjZVVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuZHJhZ1NvdXJjZVVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMuZHJhZ1NvdXJjZVVuc3Vic2NyaWJlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0RHJhZ1ByZXZpZXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdERyYWdQcmV2aWV3KCkge1xuICAgICAgaWYgKHRoaXMuZHJhZ1ByZXZpZXdVbnN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLmRyYWdQcmV2aWV3VW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5kcmFnUHJldmlld1Vuc3Vic2NyaWJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRyYWdQcmV2aWV3Tm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhZ1ByZXZpZXdSZWYgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhckRyYWdTb3VyY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJEcmFnU291cmNlKCkge1xuICAgICAgdGhpcy5kcmFnU291cmNlTm9kZSA9IG51bGw7XG4gICAgICB0aGlzLmRyYWdTb3VyY2VSZWYgPSBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhckRyYWdQcmV2aWV3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyRHJhZ1ByZXZpZXcoKSB7XG4gICAgICB0aGlzLmRyYWdQcmV2aWV3Tm9kZSA9IG51bGw7XG4gICAgICB0aGlzLmRyYWdQcmV2aWV3UmVmID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29ubmVjdFRhcmdldFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZHJhZ1NvdXJjZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhZ1NvdXJjZU9wdGlvbnNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRyYWdTb3VyY2VPcHRpb25zSW50ZXJuYWw7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChvcHRpb25zKSB7XG4gICAgICB0aGlzLmRyYWdTb3VyY2VPcHRpb25zSW50ZXJuYWwgPSBvcHRpb25zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcmFnUHJldmlld09wdGlvbnNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRyYWdQcmV2aWV3T3B0aW9uc0ludGVybmFsO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQob3B0aW9ucykge1xuICAgICAgdGhpcy5kcmFnUHJldmlld09wdGlvbnNJbnRlcm5hbCA9IG9wdGlvbnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYWdTb3VyY2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRyYWdTb3VyY2VOb2RlIHx8IHRoaXMuZHJhZ1NvdXJjZVJlZiAmJiB0aGlzLmRyYWdTb3VyY2VSZWYuY3VycmVudDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhZ1ByZXZpZXdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRyYWdQcmV2aWV3Tm9kZSB8fCB0aGlzLmRyYWdQcmV2aWV3UmVmICYmIHRoaXMuZHJhZ1ByZXZpZXdSZWYuY3VycmVudDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU291cmNlQ29ubmVjdG9yO1xufSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/common/SourceConnector.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/common/TargetConnector.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/common/TargetConnector.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TargetConnector: () => (/* binding */ TargetConnector)\n/* harmony export */ });\n/* harmony import */ var _react_dnd_shallowequal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-dnd/shallowequal */ \"./node_modules/@react-dnd/shallowequal/dist/shallowequal.esm.js\");\n/* harmony import */ var _wrapConnectorHooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wrapConnectorHooks */ \"./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js\");\n/* harmony import */ var _utils_isRef__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/isRef */ \"./node_modules/react-dnd/dist/esm/utils/isRef.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar TargetConnector = /*#__PURE__*/function () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = (0,_wrapConnectorHooks__WEBPACK_IMPORTED_MODULE_1__.wrapConnectorHooks)({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if ((0,_utils_isRef__WEBPACK_IMPORTED_MODULE_2__.isRef)(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !(0,_react_dnd_shallowequal__WEBPACK_IMPORTED_MODULE_0__.shallowEqual)(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2NvbW1vbi9UYXJnZXRDb25uZWN0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2NvbW1vbi9UYXJnZXRDb25uZWN0b3IuanM/YTEwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IHNoYWxsb3dFcXVhbCB9IGZyb20gJ0ByZWFjdC1kbmQvc2hhbGxvd2VxdWFsJztcbmltcG9ydCB7IHdyYXBDb25uZWN0b3JIb29rcyB9IGZyb20gJy4vd3JhcENvbm5lY3Rvckhvb2tzJztcbmltcG9ydCB7IGlzUmVmIH0gZnJvbSAnLi4vdXRpbHMvaXNSZWYnO1xuZXhwb3J0IHZhciBUYXJnZXRDb25uZWN0b3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUYXJnZXRDb25uZWN0b3IoYmFja2VuZCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFyZ2V0Q29ubmVjdG9yKTtcblxuICAgIHRoaXMuaG9va3MgPSB3cmFwQ29ubmVjdG9ySG9va3Moe1xuICAgICAgZHJvcFRhcmdldDogZnVuY3Rpb24gZHJvcFRhcmdldChub2RlLCBvcHRpb25zKSB7XG4gICAgICAgIF90aGlzLmNsZWFyRHJvcFRhcmdldCgpO1xuXG4gICAgICAgIF90aGlzLmRyb3BUYXJnZXRPcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoaXNSZWYobm9kZSkpIHtcbiAgICAgICAgICBfdGhpcy5kcm9wVGFyZ2V0UmVmID0gbm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5kcm9wVGFyZ2V0Tm9kZSA9IG5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmhhbmRsZXJJZCA9IG51bGw7IC8vIFRoZSBkcm9wIHRhcmdldCBtYXkgZWl0aGVyIGJlIGF0dGFjaGVkIHZpYSByZWYgb3IgY29ubmVjdCBmdW5jdGlvblxuXG4gICAgdGhpcy5kcm9wVGFyZ2V0UmVmID0gbnVsbDtcbiAgICB0aGlzLmRyb3BUYXJnZXRPcHRpb25zSW50ZXJuYWwgPSBudWxsO1xuICAgIHRoaXMubGFzdENvbm5lY3RlZEhhbmRsZXJJZCA9IG51bGw7XG4gICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJvcFRhcmdldCA9IG51bGw7XG4gICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJvcFRhcmdldE9wdGlvbnMgPSBudWxsO1xuICAgIHRoaXMuYmFja2VuZCA9IGJhY2tlbmQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGFyZ2V0Q29ubmVjdG9yLCBbe1xuICAgIGtleTogXCJyZWNvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb25uZWN0KCkge1xuICAgICAgLy8gaWYgbm90aGluZyBoYXMgY2hhbmdlZCB0aGVuIGRvbid0IHJlc3Vic2NyaWJlXG4gICAgICB2YXIgZGlkQ2hhbmdlID0gdGhpcy5kaWRIYW5kbGVySWRDaGFuZ2UoKSB8fCB0aGlzLmRpZERyb3BUYXJnZXRDaGFuZ2UoKSB8fCB0aGlzLmRpZE9wdGlvbnNDaGFuZ2UoKTtcblxuICAgICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3REcm9wVGFyZ2V0KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkcm9wVGFyZ2V0ID0gdGhpcy5kcm9wVGFyZ2V0O1xuXG4gICAgICBpZiAoIXRoaXMuaGFuZGxlcklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkcm9wVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyb3BUYXJnZXQgPSBkcm9wVGFyZ2V0O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkSGFuZGxlcklkID0gdGhpcy5oYW5kbGVySWQ7XG4gICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyb3BUYXJnZXQgPSBkcm9wVGFyZ2V0O1xuICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcm9wVGFyZ2V0T3B0aW9ucyA9IHRoaXMuZHJvcFRhcmdldE9wdGlvbnM7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVEcm9wVGFyZ2V0ID0gdGhpcy5iYWNrZW5kLmNvbm5lY3REcm9wVGFyZ2V0KHRoaXMuaGFuZGxlcklkLCBkcm9wVGFyZ2V0LCB0aGlzLmRyb3BUYXJnZXRPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVjZWl2ZUhhbmRsZXJJZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNlaXZlSGFuZGxlcklkKG5ld0hhbmRsZXJJZCkge1xuICAgICAgaWYgKG5ld0hhbmRsZXJJZCA9PT0gdGhpcy5oYW5kbGVySWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhhbmRsZXJJZCA9IG5ld0hhbmRsZXJJZDtcbiAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpZEhhbmRsZXJJZENoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaWRIYW5kbGVySWRDaGFuZ2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXN0Q29ubmVjdGVkSGFuZGxlcklkICE9PSB0aGlzLmhhbmRsZXJJZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGlkRHJvcFRhcmdldENoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaWREcm9wVGFyZ2V0Q2hhbmdlKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFzdENvbm5lY3RlZERyb3BUYXJnZXQgIT09IHRoaXMuZHJvcFRhcmdldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGlkT3B0aW9uc0NoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaWRPcHRpb25zQ2hhbmdlKCkge1xuICAgICAgcmV0dXJuICFzaGFsbG93RXF1YWwodGhpcy5sYXN0Q29ubmVjdGVkRHJvcFRhcmdldE9wdGlvbnMsIHRoaXMuZHJvcFRhcmdldE9wdGlvbnMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0RHJvcFRhcmdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0RHJvcFRhcmdldCgpIHtcbiAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlRHJvcFRhcmdldCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRHJvcFRhcmdldCgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRHJvcFRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJEcm9wVGFyZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyRHJvcFRhcmdldCgpIHtcbiAgICAgIHRoaXMuZHJvcFRhcmdldFJlZiA9IG51bGw7XG4gICAgICB0aGlzLmRyb3BUYXJnZXROb2RlID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29ubmVjdFRhcmdldFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZHJvcFRhcmdldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJvcFRhcmdldE9wdGlvbnNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRyb3BUYXJnZXRPcHRpb25zSW50ZXJuYWw7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChvcHRpb25zKSB7XG4gICAgICB0aGlzLmRyb3BUYXJnZXRPcHRpb25zSW50ZXJuYWwgPSBvcHRpb25zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcm9wVGFyZ2V0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kcm9wVGFyZ2V0Tm9kZSB8fCB0aGlzLmRyb3BUYXJnZXRSZWYgJiYgdGhpcy5kcm9wVGFyZ2V0UmVmLmN1cnJlbnQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRhcmdldENvbm5lY3Rvcjtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/common/TargetConnector.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/common/registration.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/common/registration.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerSource: () => (/* binding */ registerSource),\n/* harmony export */   registerTarget: () => (/* binding */ registerTarget)\n/* harmony export */ });\nfunction registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nfunction registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2NvbW1vbi9yZWdpc3RyYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvZGlzdC9lc20vY29tbW9uL3JlZ2lzdHJhdGlvbi5qcz9jMTI5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclRhcmdldCh0eXBlLCB0YXJnZXQsIG1hbmFnZXIpIHtcbiAgdmFyIHJlZ2lzdHJ5ID0gbWFuYWdlci5nZXRSZWdpc3RyeSgpO1xuICB2YXIgdGFyZ2V0SWQgPSByZWdpc3RyeS5hZGRUYXJnZXQodHlwZSwgdGFyZ2V0KTtcbiAgcmV0dXJuIFt0YXJnZXRJZCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZWdpc3RyeS5yZW1vdmVUYXJnZXQodGFyZ2V0SWQpO1xuICB9XTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNvdXJjZSh0eXBlLCBzb3VyY2UsIG1hbmFnZXIpIHtcbiAgdmFyIHJlZ2lzdHJ5ID0gbWFuYWdlci5nZXRSZWdpc3RyeSgpO1xuICB2YXIgc291cmNlSWQgPSByZWdpc3RyeS5hZGRTb3VyY2UodHlwZSwgc291cmNlKTtcbiAgcmV0dXJuIFtzb3VyY2VJZCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZWdpc3RyeS5yZW1vdmVTb3VyY2Uoc291cmNlSWQpO1xuICB9XTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/common/registration.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   wrapConnectorHooks: () => (/* binding */ wrapConnectorHooks)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_cloneWithRef__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/cloneWithRef */ \"./node_modules/react-dnd/dist/esm/utils/cloneWithRef.js\");\n\n\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return (0,_utils_cloneWithRef__WEBPACK_IMPORTED_MODULE_1__.cloneWithRef)(element, ref);\n  };\n}\n\nfunction wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2NvbW1vbi93cmFwQ29ubmVjdG9ySG9va3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvZGlzdC9lc20vY29tbW9uL3dyYXBDb25uZWN0b3JIb29rcy5qcz85ODM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVmFsaWRFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xvbmVXaXRoUmVmIH0gZnJvbSAnLi4vdXRpbHMvY2xvbmVXaXRoUmVmJztcblxuZnVuY3Rpb24gdGhyb3dJZkNvbXBvc2l0ZUNvbXBvbmVudEVsZW1lbnQoZWxlbWVudCkge1xuICAvLyBDdXN0b20gY29tcG9uZW50cyBjYW4gbm8gbG9uZ2VyIGJlIHdyYXBwZWQgZGlyZWN0bHkgaW4gUmVhY3QgRG5EIDIuMFxuICAvLyBzbyB0aGF0IHdlIGRvbid0IG5lZWQgdG8gZGVwZW5kIG9uIGZpbmRET01Ob2RlKCkgZnJvbSByZWFjdC1kb20uXG4gIGlmICh0eXBlb2YgZWxlbWVudC50eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkaXNwbGF5TmFtZSA9IGVsZW1lbnQudHlwZS5kaXNwbGF5TmFtZSB8fCBlbGVtZW50LnR5cGUubmFtZSB8fCAndGhlIGNvbXBvbmVudCc7XG4gIHRocm93IG5ldyBFcnJvcignT25seSBuYXRpdmUgZWxlbWVudCBub2RlcyBjYW4gbm93IGJlIHBhc3NlZCB0byBSZWFjdCBEbkQgY29ubmVjdG9ycy4nICsgXCJZb3UgY2FuIGVpdGhlciB3cmFwIFwiLmNvbmNhdChkaXNwbGF5TmFtZSwgXCIgaW50byBhIDxkaXY+LCBvciB0dXJuIGl0IGludG8gYSBcIikgKyAnZHJhZyBzb3VyY2Ugb3IgYSBkcm9wIHRhcmdldCBpdHNlbGYuJyk7XG59XG5cbmZ1bmN0aW9uIHdyYXBIb29rVG9SZWNvZ25pemVFbGVtZW50KGhvb2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWxlbWVudE9yTm9kZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDtcblxuICAgIC8vIFdoZW4gcGFzc2VkIGEgbm9kZSwgY2FsbCB0aGUgaG9vayBzdHJhaWdodCBhd2F5LlxuICAgIGlmICghaXNWYWxpZEVsZW1lbnQoZWxlbWVudE9yTm9kZSkpIHtcbiAgICAgIHZhciBub2RlID0gZWxlbWVudE9yTm9kZTtcbiAgICAgIGhvb2sobm9kZSwgb3B0aW9ucyk7IC8vIHJldHVybiB0aGUgbm9kZSBzbyBpdCBjYW4gYmUgY2hhaW5lZCAoZS5nLiB3aGVuIHdpdGhpbiBjYWxsYmFjayByZWZzXG4gICAgICAvLyA8ZGl2IHJlZj17bm9kZSA9PiBjb25uZWN0RHJhZ1NvdXJjZShjb25uZWN0RHJvcFRhcmdldChub2RlKSl9Lz5cblxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSAvLyBJZiBwYXNzZWQgYSBSZWFjdEVsZW1lbnQsIGNsb25lIGl0IGFuZCBhdHRhY2ggdGhpcyBmdW5jdGlvbiBhcyBhIHJlZi5cbiAgICAvLyBUaGlzIGhlbHBzIHVzIGFjaGlldmUgYSBuZWF0IEFQSSB3aGVyZSB1c2VyIGRvZXNuJ3QgZXZlbiBrbm93IHRoYXQgcmVmc1xuICAgIC8vIGFyZSBiZWluZyB1c2VkIHVuZGVyIHRoZSBob29kLlxuXG5cbiAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRPck5vZGU7XG4gICAgdGhyb3dJZkNvbXBvc2l0ZUNvbXBvbmVudEVsZW1lbnQoZWxlbWVudCk7IC8vIFdoZW4gbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCB1c2UgdGhlIGhvb2sgZGlyZWN0bHlcblxuICAgIHZhciByZWYgPSBvcHRpb25zID8gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBob29rKG5vZGUsIG9wdGlvbnMpO1xuICAgIH0gOiBob29rO1xuICAgIHJldHVybiBjbG9uZVdpdGhSZWYoZWxlbWVudCwgcmVmKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBDb25uZWN0b3JIb29rcyhob29rcykge1xuICB2YXIgd3JhcHBlZEhvb2tzID0ge307XG4gIE9iamVjdC5rZXlzKGhvb2tzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgaG9vayA9IGhvb2tzW2tleV07IC8vIHJlZiBvYmplY3RzIHNob3VsZCBiZSBwYXNzZWQgc3RyYWlnaHQgdGhyb3VnaCB3aXRob3V0IHdyYXBwaW5nXG5cbiAgICBpZiAoa2V5LmVuZHNXaXRoKCdSZWYnKSkge1xuICAgICAgd3JhcHBlZEhvb2tzW2tleV0gPSBob29rc1trZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgd3JhcHBlZEhvb2sgPSB3cmFwSG9va1RvUmVjb2duaXplRWxlbWVudChob29rKTtcblxuICAgICAgd3JhcHBlZEhvb2tzW2tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVkSG9vaztcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHdyYXBwZWRIb29rcztcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/hooks/internal/drag.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/hooks/internal/drag.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDragHandler: () => (/* binding */ useDragHandler),\n/* harmony export */   useDragSourceMonitor: () => (/* binding */ useDragSourceMonitor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-dnd/invariant */ \"./node_modules/@react-dnd/invariant/dist/invariant.esm.js\");\n/* harmony import */ var _common_registration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/registration */ \"./node_modules/react-dnd/dist/esm/common/registration.js\");\n/* harmony import */ var _useDragDropManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../useDragDropManager */ \"./node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js\");\n/* harmony import */ var _common_DragSourceMonitorImpl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/DragSourceMonitorImpl */ \"./node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js\");\n/* harmony import */ var _common_SourceConnector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/SourceConnector */ \"./node_modules/react-dnd/dist/esm/common/SourceConnector.js\");\n/* harmony import */ var _useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useIsomorphicLayoutEffect */ \"./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\n\n\n\nfunction useDragSourceMonitor() {\n  var manager = (0,_useDragDropManager__WEBPACK_IMPORTED_MODULE_3__.useDragDropManager)();\n  var monitor = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return new _common_DragSourceMonitorImpl__WEBPACK_IMPORTED_MODULE_4__.DragSourceMonitorImpl(manager);\n  }, [manager]);\n  var connector = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return new _common_SourceConnector__WEBPACK_IMPORTED_MODULE_5__.SourceConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nfunction useDragHandler(spec, monitor, connector) {\n  var manager = (0,_useDragDropManager__WEBPACK_IMPORTED_MODULE_3__.useDragDropManager)();\n  var handler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return {\n      beginDrag: function beginDrag() {\n        var _spec$current = spec.current,\n            begin = _spec$current.begin,\n            item = _spec$current.item;\n\n        if (begin) {\n          var beginResult = begin(monitor);\n          (0,_react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__.invariant)(beginResult == null || _typeof(beginResult) === 'object', 'dragSpec.begin() must either return an object, undefined, or null');\n          return beginResult || item || {};\n        }\n\n        return item || {};\n      },\n      canDrag: function canDrag() {\n        if (typeof spec.current.canDrag === 'boolean') {\n          return spec.current.canDrag;\n        } else if (typeof spec.current.canDrag === 'function') {\n          return spec.current.canDrag(monitor);\n        } else {\n          return true;\n        }\n      },\n      isDragging: function isDragging(globalMonitor, target) {\n        var isDragging = spec.current.isDragging;\n        return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n      },\n      endDrag: function endDrag() {\n        var end = spec.current.end;\n\n        if (end) {\n          end(monitor.getItem(), monitor);\n        }\n\n        connector.reconnect();\n      }\n    };\n  }, []);\n  (0,_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_6__.useIsomorphicLayoutEffect)(function registerHandler() {\n    var _registerSource = (0,_common_registration__WEBPACK_IMPORTED_MODULE_2__.registerSource)(spec.current.item.type, handler, manager),\n        _registerSource2 = _slicedToArray(_registerSource, 2),\n        handlerId = _registerSource2[0],\n        unregister = _registerSource2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, []);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2hvb2tzL2ludGVybmFsL2RyYWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9kaXN0L2VzbS9ob29rcy9pbnRlcm5hbC9kcmFnLmpzPzYwMjYiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnQHJlYWN0LWRuZC9pbnZhcmlhbnQnO1xuaW1wb3J0IHsgcmVnaXN0ZXJTb3VyY2UgfSBmcm9tICcuLi8uLi9jb21tb24vcmVnaXN0cmF0aW9uJztcbmltcG9ydCB7IHVzZURyYWdEcm9wTWFuYWdlciB9IGZyb20gJy4uL3VzZURyYWdEcm9wTWFuYWdlcic7XG5pbXBvcnQgeyBEcmFnU291cmNlTW9uaXRvckltcGwgfSBmcm9tICcuLi8uLi9jb21tb24vRHJhZ1NvdXJjZU1vbml0b3JJbXBsJztcbmltcG9ydCB7IFNvdXJjZUNvbm5lY3RvciB9IGZyb20gJy4uLy4uL2NvbW1vbi9Tb3VyY2VDb25uZWN0b3InO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4vdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCc7XG5leHBvcnQgZnVuY3Rpb24gdXNlRHJhZ1NvdXJjZU1vbml0b3IoKSB7XG4gIHZhciBtYW5hZ2VyID0gdXNlRHJhZ0Ryb3BNYW5hZ2VyKCk7XG4gIHZhciBtb25pdG9yID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBEcmFnU291cmNlTW9uaXRvckltcGwobWFuYWdlcik7XG4gIH0sIFttYW5hZ2VyXSk7XG4gIHZhciBjb25uZWN0b3IgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFNvdXJjZUNvbm5lY3RvcihtYW5hZ2VyLmdldEJhY2tlbmQoKSk7XG4gIH0sIFttYW5hZ2VyXSk7XG4gIHJldHVybiBbbW9uaXRvciwgY29ubmVjdG9yXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VEcmFnSGFuZGxlcihzcGVjLCBtb25pdG9yLCBjb25uZWN0b3IpIHtcbiAgdmFyIG1hbmFnZXIgPSB1c2VEcmFnRHJvcE1hbmFnZXIoKTtcbiAgdmFyIGhhbmRsZXIgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmVnaW5EcmFnOiBmdW5jdGlvbiBiZWdpbkRyYWcoKSB7XG4gICAgICAgIHZhciBfc3BlYyRjdXJyZW50ID0gc3BlYy5jdXJyZW50LFxuICAgICAgICAgICAgYmVnaW4gPSBfc3BlYyRjdXJyZW50LmJlZ2luLFxuICAgICAgICAgICAgaXRlbSA9IF9zcGVjJGN1cnJlbnQuaXRlbTtcblxuICAgICAgICBpZiAoYmVnaW4pIHtcbiAgICAgICAgICB2YXIgYmVnaW5SZXN1bHQgPSBiZWdpbihtb25pdG9yKTtcbiAgICAgICAgICBpbnZhcmlhbnQoYmVnaW5SZXN1bHQgPT0gbnVsbCB8fCBfdHlwZW9mKGJlZ2luUmVzdWx0KSA9PT0gJ29iamVjdCcsICdkcmFnU3BlYy5iZWdpbigpIG11c3QgZWl0aGVyIHJldHVybiBhbiBvYmplY3QsIHVuZGVmaW5lZCwgb3IgbnVsbCcpO1xuICAgICAgICAgIHJldHVybiBiZWdpblJlc3VsdCB8fCBpdGVtIHx8IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW0gfHwge307XG4gICAgICB9LFxuICAgICAgY2FuRHJhZzogZnVuY3Rpb24gY2FuRHJhZygpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzcGVjLmN1cnJlbnQuY2FuRHJhZyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcmV0dXJuIHNwZWMuY3VycmVudC5jYW5EcmFnO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcGVjLmN1cnJlbnQuY2FuRHJhZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBzcGVjLmN1cnJlbnQuY2FuRHJhZyhtb25pdG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGlzRHJhZ2dpbmc6IGZ1bmN0aW9uIGlzRHJhZ2dpbmcoZ2xvYmFsTW9uaXRvciwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBpc0RyYWdnaW5nID0gc3BlYy5jdXJyZW50LmlzRHJhZ2dpbmc7XG4gICAgICAgIHJldHVybiBpc0RyYWdnaW5nID8gaXNEcmFnZ2luZyhtb25pdG9yKSA6IHRhcmdldCA9PT0gZ2xvYmFsTW9uaXRvci5nZXRTb3VyY2VJZCgpO1xuICAgICAgfSxcbiAgICAgIGVuZERyYWc6IGZ1bmN0aW9uIGVuZERyYWcoKSB7XG4gICAgICAgIHZhciBlbmQgPSBzcGVjLmN1cnJlbnQuZW5kO1xuXG4gICAgICAgIGlmIChlbmQpIHtcbiAgICAgICAgICBlbmQobW9uaXRvci5nZXRJdGVtKCksIG1vbml0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29ubmVjdG9yLnJlY29ubmVjdCgpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiByZWdpc3RlckhhbmRsZXIoKSB7XG4gICAgdmFyIF9yZWdpc3RlclNvdXJjZSA9IHJlZ2lzdGVyU291cmNlKHNwZWMuY3VycmVudC5pdGVtLnR5cGUsIGhhbmRsZXIsIG1hbmFnZXIpLFxuICAgICAgICBfcmVnaXN0ZXJTb3VyY2UyID0gX3NsaWNlZFRvQXJyYXkoX3JlZ2lzdGVyU291cmNlLCAyKSxcbiAgICAgICAgaGFuZGxlcklkID0gX3JlZ2lzdGVyU291cmNlMlswXSxcbiAgICAgICAgdW5yZWdpc3RlciA9IF9yZWdpc3RlclNvdXJjZTJbMV07XG5cbiAgICBtb25pdG9yLnJlY2VpdmVIYW5kbGVySWQoaGFuZGxlcklkKTtcbiAgICBjb25uZWN0b3IucmVjZWl2ZUhhbmRsZXJJZChoYW5kbGVySWQpO1xuICAgIHJldHVybiB1bnJlZ2lzdGVyO1xuICB9LCBbXSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/hooks/internal/drag.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/hooks/internal/drop.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/hooks/internal/drop.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDropHandler: () => (/* binding */ useDropHandler),\n/* harmony export */   useDropTargetMonitor: () => (/* binding */ useDropTargetMonitor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_registration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/registration */ \"./node_modules/react-dnd/dist/esm/common/registration.js\");\n/* harmony import */ var _useDragDropManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../useDragDropManager */ \"./node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js\");\n/* harmony import */ var _common_TargetConnector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/TargetConnector */ \"./node_modules/react-dnd/dist/esm/common/TargetConnector.js\");\n/* harmony import */ var _common_DropTargetMonitorImpl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/DropTargetMonitorImpl */ \"./node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js\");\n/* harmony import */ var _useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useIsomorphicLayoutEffect */ \"./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\nfunction useDropTargetMonitor() {\n  var manager = (0,_useDragDropManager__WEBPACK_IMPORTED_MODULE_2__.useDragDropManager)();\n  var monitor = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return new _common_DropTargetMonitorImpl__WEBPACK_IMPORTED_MODULE_4__.DropTargetMonitorImpl(manager);\n  }, [manager]);\n  var connector = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return new _common_TargetConnector__WEBPACK_IMPORTED_MODULE_3__.TargetConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nfunction useDropHandler(spec, monitor, connector) {\n  var manager = (0,_useDragDropManager__WEBPACK_IMPORTED_MODULE_2__.useDragDropManager)();\n  var handler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return {\n      canDrop: function canDrop() {\n        var canDrop = spec.current.canDrop;\n        return canDrop ? canDrop(monitor.getItem(), monitor) : true;\n      },\n      hover: function hover() {\n        var hover = spec.current.hover;\n\n        if (hover) {\n          hover(monitor.getItem(), monitor);\n        }\n      },\n      drop: function drop() {\n        var drop = spec.current.drop;\n\n        if (drop) {\n          return drop(monitor.getItem(), monitor);\n        }\n      }\n    };\n  }, [monitor]);\n  (0,_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_5__.useIsomorphicLayoutEffect)(function registerHandler() {\n    var _registerTarget = (0,_common_registration__WEBPACK_IMPORTED_MODULE_1__.registerTarget)(spec.current.accept, handler, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [monitor, connector]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2hvb2tzL2ludGVybmFsL2Ryb3AuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvZGlzdC9lc20vaG9va3MvaW50ZXJuYWwvZHJvcC5qcz8xNjljIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZWdpc3RlclRhcmdldCB9IGZyb20gJy4uLy4uL2NvbW1vbi9yZWdpc3RyYXRpb24nO1xuaW1wb3J0IHsgdXNlRHJhZ0Ryb3BNYW5hZ2VyIH0gZnJvbSAnLi4vdXNlRHJhZ0Ryb3BNYW5hZ2VyJztcbmltcG9ydCB7IFRhcmdldENvbm5lY3RvciB9IGZyb20gJy4uLy4uL2NvbW1vbi9UYXJnZXRDb25uZWN0b3InO1xuaW1wb3J0IHsgRHJvcFRhcmdldE1vbml0b3JJbXBsIH0gZnJvbSAnLi4vLi4vY29tbW9uL0Ryb3BUYXJnZXRNb25pdG9ySW1wbCc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0JztcbmV4cG9ydCBmdW5jdGlvbiB1c2VEcm9wVGFyZ2V0TW9uaXRvcigpIHtcbiAgdmFyIG1hbmFnZXIgPSB1c2VEcmFnRHJvcE1hbmFnZXIoKTtcbiAgdmFyIG1vbml0b3IgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IERyb3BUYXJnZXRNb25pdG9ySW1wbChtYW5hZ2VyKTtcbiAgfSwgW21hbmFnZXJdKTtcbiAgdmFyIGNvbm5lY3RvciA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgVGFyZ2V0Q29ubmVjdG9yKG1hbmFnZXIuZ2V0QmFja2VuZCgpKTtcbiAgfSwgW21hbmFnZXJdKTtcbiAgcmV0dXJuIFttb25pdG9yLCBjb25uZWN0b3JdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZURyb3BIYW5kbGVyKHNwZWMsIG1vbml0b3IsIGNvbm5lY3Rvcikge1xuICB2YXIgbWFuYWdlciA9IHVzZURyYWdEcm9wTWFuYWdlcigpO1xuICB2YXIgaGFuZGxlciA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjYW5Ecm9wOiBmdW5jdGlvbiBjYW5Ecm9wKCkge1xuICAgICAgICB2YXIgY2FuRHJvcCA9IHNwZWMuY3VycmVudC5jYW5Ecm9wO1xuICAgICAgICByZXR1cm4gY2FuRHJvcCA/IGNhbkRyb3AobW9uaXRvci5nZXRJdGVtKCksIG1vbml0b3IpIDogdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBob3ZlcjogZnVuY3Rpb24gaG92ZXIoKSB7XG4gICAgICAgIHZhciBob3ZlciA9IHNwZWMuY3VycmVudC5ob3ZlcjtcblxuICAgICAgICBpZiAoaG92ZXIpIHtcbiAgICAgICAgICBob3Zlcihtb25pdG9yLmdldEl0ZW0oKSwgbW9uaXRvcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkcm9wOiBmdW5jdGlvbiBkcm9wKCkge1xuICAgICAgICB2YXIgZHJvcCA9IHNwZWMuY3VycmVudC5kcm9wO1xuXG4gICAgICAgIGlmIChkcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIGRyb3AobW9uaXRvci5nZXRJdGVtKCksIG1vbml0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW21vbml0b3JdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiByZWdpc3RlckhhbmRsZXIoKSB7XG4gICAgdmFyIF9yZWdpc3RlclRhcmdldCA9IHJlZ2lzdGVyVGFyZ2V0KHNwZWMuY3VycmVudC5hY2NlcHQsIGhhbmRsZXIsIG1hbmFnZXIpLFxuICAgICAgICBfcmVnaXN0ZXJUYXJnZXQyID0gX3NsaWNlZFRvQXJyYXkoX3JlZ2lzdGVyVGFyZ2V0LCAyKSxcbiAgICAgICAgaGFuZGxlcklkID0gX3JlZ2lzdGVyVGFyZ2V0MlswXSxcbiAgICAgICAgdW5yZWdpc3RlciA9IF9yZWdpc3RlclRhcmdldDJbMV07XG5cbiAgICBtb25pdG9yLnJlY2VpdmVIYW5kbGVySWQoaGFuZGxlcklkKTtcbiAgICBjb25uZWN0b3IucmVjZWl2ZUhhbmRsZXJJZChoYW5kbGVySWQpO1xuICAgIHJldHVybiB1bnJlZ2lzdGVyO1xuICB9LCBbbW9uaXRvciwgY29ubmVjdG9yXSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/hooks/internal/drop.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/hooks/internal/useCollector.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/hooks/internal/useCollector.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCollector: () => (/* binding */ useCollector)\n/* harmony export */ });\n/* harmony import */ var _react_dnd_shallowequal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-dnd/shallowequal */ \"./node_modules/@react-dnd/shallowequal/dist/shallowequal.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useIsomorphicLayoutEffect */ \"./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nfunction useCollector(monitor, collect, onUpdate) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    var nextValue = collect(monitor);\n\n    if (!(0,_react_dnd_shallowequal__WEBPACK_IMPORTED_MODULE_0__.shallowEqual)(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after the first render\n  // and the components are attached to dnd-core\n\n  (0,_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(updateCollected, []);\n  return [collected, updateCollected];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2hvb2tzL2ludGVybmFsL3VzZUNvbGxlY3Rvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvZGlzdC9lc20vaG9va3MvaW50ZXJuYWwvdXNlQ29sbGVjdG9yLmpzPzJjMDAiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuaW1wb3J0IHsgc2hhbGxvd0VxdWFsIH0gZnJvbSAnQHJlYWN0LWRuZC9zaGFsbG93ZXF1YWwnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4vdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCc7XG4vKipcbiAqXG4gKiBAcGFyYW0gbW9uaXRvciBUaGUgbW9uaXRvciB0byBjb2xsZWN0IHN0YXRlIGZyb21cbiAqIEBwYXJhbSBjb2xsZWN0IFRoZSBjb2xsZWN0aW5nIGZ1bmN0aW9uXG4gKiBAcGFyYW0gb25VcGRhdGUgQSBtZXRob2QgdG8gaW52b2tlIHdoZW4gdXBkYXRlcyBvY2N1clxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb2xsZWN0b3IobW9uaXRvciwgY29sbGVjdCwgb25VcGRhdGUpIHtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY29sbGVjdChtb25pdG9yKTtcbiAgfSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIGNvbGxlY3RlZCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRDb2xsZWN0ZWQgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciB1cGRhdGVDb2xsZWN0ZWQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5leHRWYWx1ZSA9IGNvbGxlY3QobW9uaXRvcik7XG5cbiAgICBpZiAoIXNoYWxsb3dFcXVhbChjb2xsZWN0ZWQsIG5leHRWYWx1ZSkpIHtcbiAgICAgIHNldENvbGxlY3RlZChuZXh0VmFsdWUpO1xuXG4gICAgICBpZiAob25VcGRhdGUpIHtcbiAgICAgICAgb25VcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb2xsZWN0ZWQsIG1vbml0b3IsIG9uVXBkYXRlXSk7IC8vIHVwZGF0ZSB0aGUgY29sbGVjdGVkIHByb3BlcnRpZXMgYWZ0ZXIgdGhlIGZpcnN0IHJlbmRlclxuICAvLyBhbmQgdGhlIGNvbXBvbmVudHMgYXJlIGF0dGFjaGVkIHRvIGRuZC1jb3JlXG5cbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCh1cGRhdGVDb2xsZWN0ZWQsIFtdKTtcbiAgcmV0dXJuIFtjb2xsZWN0ZWQsIHVwZGF0ZUNvbGxlY3RlZF07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/hooks/internal/useCollector.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useIsomorphicLayoutEffect: () => (/* binding */ useIsomorphicLayoutEffect)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n // suppress the useLayoutEffect warning on server side.\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2hvb2tzL2ludGVybmFsL3VzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvZGlzdC9lc20vaG9va3MvaW50ZXJuYWwvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC5qcz9kYTZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOyAvLyBzdXBwcmVzcyB0aGUgdXNlTGF5b3V0RWZmZWN0IHdhcm5pbmcgb24gc2VydmVyIHNpZGUuXG5cbmV4cG9ydCB2YXIgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMonitorOutput: () => (/* binding */ useMonitorOutput)\n/* harmony export */ });\n/* harmony import */ var _useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useIsomorphicLayoutEffect */ \"./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js\");\n/* harmony import */ var _useCollector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useCollector */ \"./node_modules/react-dnd/dist/esm/hooks/internal/useCollector.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nfunction useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = (0,_useCollector__WEBPACK_IMPORTED_MODULE_1__.useCollector)(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  (0,_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_0__.useIsomorphicLayoutEffect)(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return undefined;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2hvb2tzL2ludGVybmFsL3VzZU1vbml0b3JPdXRwdXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvZGlzdC9lc20vaG9va3MvaW50ZXJuYWwvdXNlTW9uaXRvck91dHB1dC5qcz80NTAwIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuL3VzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QnO1xuaW1wb3J0IHsgdXNlQ29sbGVjdG9yIH0gZnJvbSAnLi91c2VDb2xsZWN0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1vbml0b3JPdXRwdXQobW9uaXRvciwgY29sbGVjdCwgb25Db2xsZWN0KSB7XG4gIHZhciBfdXNlQ29sbGVjdG9yID0gdXNlQ29sbGVjdG9yKG1vbml0b3IsIGNvbGxlY3QsIG9uQ29sbGVjdCksXG4gICAgICBfdXNlQ29sbGVjdG9yMiA9IF9zbGljZWRUb0FycmF5KF91c2VDb2xsZWN0b3IsIDIpLFxuICAgICAgY29sbGVjdGVkID0gX3VzZUNvbGxlY3RvcjJbMF0sXG4gICAgICB1cGRhdGVDb2xsZWN0ZWQgPSBfdXNlQ29sbGVjdG9yMlsxXTtcblxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uIHN1YnNjcmliZVRvTW9uaXRvclN0YXRlQ2hhbmdlKCkge1xuICAgIHZhciBoYW5kbGVySWQgPSBtb25pdG9yLmdldEhhbmRsZXJJZCgpO1xuXG4gICAgaWYgKGhhbmRsZXJJZCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBtb25pdG9yLnN1YnNjcmliZVRvU3RhdGVDaGFuZ2UodXBkYXRlQ29sbGVjdGVkLCB7XG4gICAgICBoYW5kbGVySWRzOiBbaGFuZGxlcklkXVxuICAgIH0pO1xuICB9LCBbbW9uaXRvciwgdXBkYXRlQ29sbGVjdGVkXSk7XG4gIHJldHVybiBjb2xsZWN0ZWQ7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/hooks/useDrag.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/hooks/useDrag.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDrag: () => (/* binding */ useDrag)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-dnd/invariant */ \"./node_modules/@react-dnd/invariant/dist/invariant.esm.js\");\n/* harmony import */ var _internal_useMonitorOutput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/useMonitorOutput */ \"./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js\");\n/* harmony import */ var _internal_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/useIsomorphicLayoutEffect */ \"./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js\");\n/* harmony import */ var _internal_drag__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/drag */ \"./node_modules/react-dnd/dist/esm/hooks/internal/drag.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification *\n */\n\nfunction useDrag(spec) {\n  var specRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(spec);\n  specRef.current = spec; // TODO: wire options into createSourceConnector\n\n  (0,_react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__.invariant)(spec.item != null, 'item must be defined');\n  (0,_react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__.invariant)(spec.item.type != null, 'item type must be defined');\n\n  var _useDragSourceMonitor = (0,_internal_drag__WEBPACK_IMPORTED_MODULE_4__.useDragSourceMonitor)(),\n      _useDragSourceMonitor2 = _slicedToArray(_useDragSourceMonitor, 2),\n      monitor = _useDragSourceMonitor2[0],\n      connector = _useDragSourceMonitor2[1];\n\n  (0,_internal_drag__WEBPACK_IMPORTED_MODULE_4__.useDragHandler)(specRef, monitor, connector);\n  var result = (0,_internal_useMonitorOutput__WEBPACK_IMPORTED_MODULE_2__.useMonitorOutput)(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDragSource = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n  var connectDragPreview = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n  (0,_internal_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_3__.useIsomorphicLayoutEffect)(function () {\n    connector.dragSourceOptions = specRef.current.options || null;\n    connector.reconnect();\n  }, [connector]);\n  (0,_internal_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_3__.useIsomorphicLayoutEffect)(function () {\n    connector.dragPreviewOptions = specRef.current.previewOptions || null;\n    connector.reconnect();\n  }, [connector]);\n  return [result, connectDragSource, connectDragPreview];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2hvb2tzL3VzZURyYWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9kaXN0L2VzbS9ob29rcy91c2VEcmFnLmpzPzA4YjgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuaW1wb3J0IHsgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnQHJlYWN0LWRuZC9pbnZhcmlhbnQnO1xuaW1wb3J0IHsgdXNlTW9uaXRvck91dHB1dCB9IGZyb20gJy4vaW50ZXJuYWwvdXNlTW9uaXRvck91dHB1dCc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0JztcbmltcG9ydCB7IHVzZURyYWdTb3VyY2VNb25pdG9yLCB1c2VEcmFnSGFuZGxlciB9IGZyb20gJy4vaW50ZXJuYWwvZHJhZyc7XG4vKipcbiAqIHVzZURyYWdTb3VyY2UgaG9va1xuICogQHBhcmFtIHNvdXJjZVNwZWMgVGhlIGRyYWcgc291cmNlIHNwZWNpZmljYXRpb24gKlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VEcmFnKHNwZWMpIHtcbiAgdmFyIHNwZWNSZWYgPSB1c2VSZWYoc3BlYyk7XG4gIHNwZWNSZWYuY3VycmVudCA9IHNwZWM7IC8vIFRPRE86IHdpcmUgb3B0aW9ucyBpbnRvIGNyZWF0ZVNvdXJjZUNvbm5lY3RvclxuXG4gIGludmFyaWFudChzcGVjLml0ZW0gIT0gbnVsbCwgJ2l0ZW0gbXVzdCBiZSBkZWZpbmVkJyk7XG4gIGludmFyaWFudChzcGVjLml0ZW0udHlwZSAhPSBudWxsLCAnaXRlbSB0eXBlIG11c3QgYmUgZGVmaW5lZCcpO1xuXG4gIHZhciBfdXNlRHJhZ1NvdXJjZU1vbml0b3IgPSB1c2VEcmFnU291cmNlTW9uaXRvcigpLFxuICAgICAgX3VzZURyYWdTb3VyY2VNb25pdG9yMiA9IF9zbGljZWRUb0FycmF5KF91c2VEcmFnU291cmNlTW9uaXRvciwgMiksXG4gICAgICBtb25pdG9yID0gX3VzZURyYWdTb3VyY2VNb25pdG9yMlswXSxcbiAgICAgIGNvbm5lY3RvciA9IF91c2VEcmFnU291cmNlTW9uaXRvcjJbMV07XG5cbiAgdXNlRHJhZ0hhbmRsZXIoc3BlY1JlZiwgbW9uaXRvciwgY29ubmVjdG9yKTtcbiAgdmFyIHJlc3VsdCA9IHVzZU1vbml0b3JPdXRwdXQobW9uaXRvciwgc3BlY1JlZi5jdXJyZW50LmNvbGxlY3QgfHwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7fTtcbiAgfSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjb25uZWN0b3IucmVjb25uZWN0KCk7XG4gIH0pO1xuICB2YXIgY29ubmVjdERyYWdTb3VyY2UgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY29ubmVjdG9yLmhvb2tzLmRyYWdTb3VyY2UoKTtcbiAgfSwgW2Nvbm5lY3Rvcl0pO1xuICB2YXIgY29ubmVjdERyYWdQcmV2aWV3ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbm5lY3Rvci5ob29rcy5kcmFnUHJldmlldygpO1xuICB9LCBbY29ubmVjdG9yXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGNvbm5lY3Rvci5kcmFnU291cmNlT3B0aW9ucyA9IHNwZWNSZWYuY3VycmVudC5vcHRpb25zIHx8IG51bGw7XG4gICAgY29ubmVjdG9yLnJlY29ubmVjdCgpO1xuICB9LCBbY29ubmVjdG9yXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGNvbm5lY3Rvci5kcmFnUHJldmlld09wdGlvbnMgPSBzcGVjUmVmLmN1cnJlbnQucHJldmlld09wdGlvbnMgfHwgbnVsbDtcbiAgICBjb25uZWN0b3IucmVjb25uZWN0KCk7XG4gIH0sIFtjb25uZWN0b3JdKTtcbiAgcmV0dXJuIFtyZXN1bHQsIGNvbm5lY3REcmFnU291cmNlLCBjb25uZWN0RHJhZ1ByZXZpZXddO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/hooks/useDrag.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDragDropManager: () => (/* binding */ useDragDropManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-dnd/invariant */ \"./node_modules/@react-dnd/invariant/dist/invariant.esm.js\");\n/* harmony import */ var _common_DndContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/DndContext */ \"./node_modules/react-dnd/dist/esm/common/DndContext.js\");\n\n\n\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nfunction useDragDropManager() {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_common_DndContext__WEBPACK_IMPORTED_MODULE_2__.DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  (0,_react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__.invariant)(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2hvb2tzL3VzZURyYWdEcm9wTWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9kaXN0L2VzbS9ob29rcy91c2VEcmFnRHJvcE1hbmFnZXIuanM/MmJmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnQHJlYWN0LWRuZC9pbnZhcmlhbnQnO1xuaW1wb3J0IHsgRG5kQ29udGV4dCB9IGZyb20gJy4uL2NvbW1vbi9EbmRDb250ZXh0Jztcbi8qKlxuICogQSBob29rIHRvIHJldHJpZXZlIHRoZSBEcmFnRHJvcE1hbmFnZXIgZnJvbSBDb250ZXh0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURyYWdEcm9wTWFuYWdlcigpIHtcbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChEbmRDb250ZXh0KSxcbiAgICAgIGRyYWdEcm9wTWFuYWdlciA9IF91c2VDb250ZXh0LmRyYWdEcm9wTWFuYWdlcjtcblxuICBpbnZhcmlhbnQoZHJhZ0Ryb3BNYW5hZ2VyICE9IG51bGwsICdFeHBlY3RlZCBkcmFnIGRyb3AgY29udGV4dCcpO1xuICByZXR1cm4gZHJhZ0Ryb3BNYW5hZ2VyO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/hooks/useDrop.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/hooks/useDrop.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDrop: () => (/* binding */ useDrop)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-dnd/invariant */ \"./node_modules/@react-dnd/invariant/dist/invariant.esm.js\");\n/* harmony import */ var _internal_useMonitorOutput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/useMonitorOutput */ \"./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js\");\n/* harmony import */ var _internal_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/useIsomorphicLayoutEffect */ \"./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js\");\n/* harmony import */ var _internal_drop__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/drop */ \"./node_modules/react-dnd/dist/esm/hooks/internal/drop.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n/**\n * useDropTarget Hook\n * @param spec The drop target specification\n */\n\nfunction useDrop(spec) {\n  var specRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(spec);\n  specRef.current = spec;\n  (0,_react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__.invariant)(spec.accept != null, 'accept must be defined');\n\n  var _useDropTargetMonitor = (0,_internal_drop__WEBPACK_IMPORTED_MODULE_4__.useDropTargetMonitor)(),\n      _useDropTargetMonitor2 = _slicedToArray(_useDropTargetMonitor, 2),\n      monitor = _useDropTargetMonitor2[0],\n      connector = _useDropTargetMonitor2[1];\n\n  (0,_internal_drop__WEBPACK_IMPORTED_MODULE_4__.useDropHandler)(specRef, monitor, connector);\n  var result = (0,_internal_useMonitorOutput__WEBPACK_IMPORTED_MODULE_2__.useMonitorOutput)(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDropTarget = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n  (0,_internal_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_3__.useIsomorphicLayoutEffect)(function () {\n    connector.dropTargetOptions = spec.options || null;\n    connector.reconnect();\n  }, [spec.options]);\n  return [result, connectDropTarget];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL2hvb2tzL3VzZURyb3AuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9kaXN0L2VzbS9ob29rcy91c2VEcm9wLmpzPzY4YzYiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuaW1wb3J0IHsgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnQHJlYWN0LWRuZC9pbnZhcmlhbnQnO1xuaW1wb3J0IHsgdXNlTW9uaXRvck91dHB1dCB9IGZyb20gJy4vaW50ZXJuYWwvdXNlTW9uaXRvck91dHB1dCc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0JztcbmltcG9ydCB7IHVzZURyb3BIYW5kbGVyLCB1c2VEcm9wVGFyZ2V0TW9uaXRvciB9IGZyb20gJy4vaW50ZXJuYWwvZHJvcCc7XG4vKipcbiAqIHVzZURyb3BUYXJnZXQgSG9va1xuICogQHBhcmFtIHNwZWMgVGhlIGRyb3AgdGFyZ2V0IHNwZWNpZmljYXRpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlRHJvcChzcGVjKSB7XG4gIHZhciBzcGVjUmVmID0gdXNlUmVmKHNwZWMpO1xuICBzcGVjUmVmLmN1cnJlbnQgPSBzcGVjO1xuICBpbnZhcmlhbnQoc3BlYy5hY2NlcHQgIT0gbnVsbCwgJ2FjY2VwdCBtdXN0IGJlIGRlZmluZWQnKTtcblxuICB2YXIgX3VzZURyb3BUYXJnZXRNb25pdG9yID0gdXNlRHJvcFRhcmdldE1vbml0b3IoKSxcbiAgICAgIF91c2VEcm9wVGFyZ2V0TW9uaXRvcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlRHJvcFRhcmdldE1vbml0b3IsIDIpLFxuICAgICAgbW9uaXRvciA9IF91c2VEcm9wVGFyZ2V0TW9uaXRvcjJbMF0sXG4gICAgICBjb25uZWN0b3IgPSBfdXNlRHJvcFRhcmdldE1vbml0b3IyWzFdO1xuXG4gIHVzZURyb3BIYW5kbGVyKHNwZWNSZWYsIG1vbml0b3IsIGNvbm5lY3Rvcik7XG4gIHZhciByZXN1bHQgPSB1c2VNb25pdG9yT3V0cHV0KG1vbml0b3IsIHNwZWNSZWYuY3VycmVudC5jb2xsZWN0IHx8IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge307XG4gIH0sIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY29ubmVjdG9yLnJlY29ubmVjdCgpO1xuICB9KTtcbiAgdmFyIGNvbm5lY3REcm9wVGFyZ2V0ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbm5lY3Rvci5ob29rcy5kcm9wVGFyZ2V0KCk7XG4gIH0sIFtjb25uZWN0b3JdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgY29ubmVjdG9yLmRyb3BUYXJnZXRPcHRpb25zID0gc3BlYy5vcHRpb25zIHx8IG51bGw7XG4gICAgY29ubmVjdG9yLnJlY29ubmVjdCgpO1xuICB9LCBbc3BlYy5vcHRpb25zXSk7XG4gIHJldHVybiBbcmVzdWx0LCBjb25uZWN0RHJvcFRhcmdldF07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/hooks/useDrop.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/utils/cloneWithRef.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/utils/cloneWithRef.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloneWithRef: () => (/* binding */ cloneWithRef)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-dnd/invariant */ \"./node_modules/@react-dnd/invariant/dist/invariant.esm.js\");\n\n\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  (0,_react_dnd_invariant__WEBPACK_IMPORTED_MODULE_1__.invariant)(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(element, {\n      ref: newRef\n    });\n  } else {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL3V0aWxzL2Nsb25lV2l0aFJlZi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL3V0aWxzL2Nsb25lV2l0aFJlZi5qcz9hZTgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb25lRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ0ByZWFjdC1kbmQvaW52YXJpYW50JztcblxuZnVuY3Rpb24gc2V0UmVmKHJlZiwgbm9kZSkge1xuICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJlZihub2RlKTtcbiAgfSBlbHNlIHtcbiAgICByZWYuY3VycmVudCA9IG5vZGU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lV2l0aFJlZihlbGVtZW50LCBuZXdSZWYpIHtcbiAgdmFyIHByZXZpb3VzUmVmID0gZWxlbWVudC5yZWY7XG4gIGludmFyaWFudCh0eXBlb2YgcHJldmlvdXNSZWYgIT09ICdzdHJpbmcnLCAnQ2Fubm90IGNvbm5lY3QgUmVhY3QgRG5EIHRvIGFuIGVsZW1lbnQgd2l0aCBhbiBleGlzdGluZyBzdHJpbmcgcmVmLiAnICsgJ1BsZWFzZSBjb252ZXJ0IGl0IHRvIHVzZSBhIGNhbGxiYWNrIHJlZiBpbnN0ZWFkLCBvciB3cmFwIGl0IGludG8gYSA8c3Bhbj4gb3IgPGRpdj4uICcgKyAnUmVhZCBtb3JlOiBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL21vcmUtYWJvdXQtcmVmcy5odG1sI3RoZS1yZWYtY2FsbGJhY2stYXR0cmlidXRlJyk7XG5cbiAgaWYgKCFwcmV2aW91c1JlZikge1xuICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gcmVmIG9uIHRoZSBlbGVtZW50LCB1c2UgdGhlIG5ldyByZWYgZGlyZWN0bHlcbiAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgIHJlZjogbmV3UmVmXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNsb25lRWxlbWVudChlbGVtZW50LCB7XG4gICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgIHNldFJlZihwcmV2aW91c1JlZiwgbm9kZSk7XG4gICAgICAgIHNldFJlZihuZXdSZWYsIG5vZGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/utils/cloneWithRef.js\n\n}");

/***/ }),

/***/ "./node_modules/react-dnd/dist/esm/utils/isRef.js":
/*!********************************************************!*\
  !*** ./node_modules/react-dnd/dist/esm/utils/isRef.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isRef: () => (/* binding */ isRef)\n/* harmony export */ });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL3V0aWxzL2lzUmVmLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2Rpc3QvZXNtL3V0aWxzL2lzUmVmLmpzPzU3OTgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZWYob2JqKSB7XG4gIHJldHVybiAoLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgIG9iaiAhPT0gbnVsbCAmJiBfdHlwZW9mKG9iaikgPT09ICdvYmplY3QnICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosICdjdXJyZW50JylcbiAgKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-dnd/dist/esm/utils/isRef.js\n\n}");

/***/ }),

/***/ "./node_modules/react-error-boundary/dist/react-error-boundary.development.js":
/*!************************************************************************************!*\
  !*** ./node_modules/react-error-boundary/dist/react-error-boundary.development.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorBoundary: () => (/* binding */ ErrorBoundary)\n/* harmony export */ });\n/* unused harmony exports ErrorBoundaryContext, useErrorBoundary, withErrorBoundary */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n'use client';\n\n\nconst ErrorBoundaryContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(FallbackComponent, props);\n      } else if (fallback !== undefined) {\n        childToRender = fallback;\n      } else {\n        {\n          console.error(\"react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop\");\n        }\n        throw error;\n      }\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    error: null,\n    hasError: false\n  });\n  const memoized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundary, errorBoundaryProps, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZXJyb3ItYm91bmRhcnkvZGlzdC9yZWFjdC1lcnJvci1ib3VuZGFyeS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtZXJyb3ItYm91bmRhcnkvZGlzdC9yZWFjdC1lcnJvci1ib3VuZGFyeS5kZXZlbG9wbWVudC5qcz80NmYxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZU1lbW8sIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IEVycm9yQm91bmRhcnlDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcblxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBkaWRDYXRjaDogZmFsc2UsXG4gIGVycm9yOiBudWxsXG59O1xuY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMucmVzZXRFcnJvckJvdW5kYXJ5ID0gdGhpcy5yZXNldEVycm9yQm91bmRhcnkuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGlkQ2F0Y2g6IHRydWUsXG4gICAgICBlcnJvclxuICAgIH07XG4gIH1cbiAgcmVzZXRFcnJvckJvdW5kYXJ5KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVycm9yXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKGVycm9yICE9PSBudWxsKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMkb25SZXNldCwgX3RoaXMkcHJvcHM7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIChfdGhpcyRwcm9wcyRvblJlc2V0ID0gKF90aGlzJHByb3BzID0gdGhpcy5wcm9wcykub25SZXNldCkgPT09IG51bGwgfHwgX3RoaXMkcHJvcHMkb25SZXNldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcHJvcHMkb25SZXNldC5jYWxsKF90aGlzJHByb3BzLCB7XG4gICAgICAgIGFyZ3MsXG4gICAgICAgIHJlYXNvbjogXCJpbXBlcmF0aXZlLWFwaVwiXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICB9XG4gIH1cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGluZm8pIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMkb25FcnJvciwgX3RoaXMkcHJvcHMyO1xuICAgIChfdGhpcyRwcm9wcyRvbkVycm9yID0gKF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMpLm9uRXJyb3IpID09PSBudWxsIHx8IF90aGlzJHByb3BzJG9uRXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHByb3BzJG9uRXJyb3IuY2FsbChfdGhpcyRwcm9wczIsIGVycm9yLCBpbmZvKTtcbiAgfVxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBkaWRDYXRjaFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlc2V0S2V5c1xuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgLy8gVGhlcmUncyBhbiBlZGdlIGNhc2Ugd2hlcmUgaWYgdGhlIHRoaW5nIHRoYXQgdHJpZ2dlcmVkIHRoZSBlcnJvciBoYXBwZW5zIHRvICphbHNvKiBiZSBpbiB0aGUgcmVzZXRLZXlzIGFycmF5LFxuICAgIC8vIHdlJ2QgZW5kIHVwIHJlc2V0dGluZyB0aGUgZXJyb3IgYm91bmRhcnkgaW1tZWRpYXRlbHkuXG4gICAgLy8gVGhpcyB3b3VsZCBsaWtlbHkgdHJpZ2dlciBhIHNlY29uZCBlcnJvciB0byBiZSB0aHJvd24uXG4gICAgLy8gU28gd2UgbWFrZSBzdXJlIHRoYXQgd2UgZG9uJ3QgY2hlY2sgdGhlIHJlc2V0S2V5cyBvbiB0aGUgZmlyc3QgY2FsbCBvZiBjRFUgYWZ0ZXIgdGhlIGVycm9yIGlzIHNldC5cblxuICAgIGlmIChkaWRDYXRjaCAmJiBwcmV2U3RhdGUuZXJyb3IgIT09IG51bGwgJiYgaGFzQXJyYXlDaGFuZ2VkKHByZXZQcm9wcy5yZXNldEtleXMsIHJlc2V0S2V5cykpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyRvblJlc2V0MiwgX3RoaXMkcHJvcHMzO1xuICAgICAgKF90aGlzJHByb3BzJG9uUmVzZXQyID0gKF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMpLm9uUmVzZXQpID09PSBudWxsIHx8IF90aGlzJHByb3BzJG9uUmVzZXQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRwcm9wcyRvblJlc2V0Mi5jYWxsKF90aGlzJHByb3BzMywge1xuICAgICAgICBuZXh0OiByZXNldEtleXMsXG4gICAgICAgIHByZXY6IHByZXZQcm9wcy5yZXNldEtleXMsXG4gICAgICAgIHJlYXNvbjogXCJrZXlzXCJcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBmYWxsYmFja1JlbmRlcixcbiAgICAgIEZhbGxiYWNrQ29tcG9uZW50LFxuICAgICAgZmFsbGJhY2tcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7XG4gICAgICBkaWRDYXRjaCxcbiAgICAgIGVycm9yXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IGNoaWxkVG9SZW5kZXIgPSBjaGlsZHJlbjtcbiAgICBpZiAoZGlkQ2F0Y2gpIHtcbiAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICBlcnJvcixcbiAgICAgICAgcmVzZXRFcnJvckJvdW5kYXJ5OiB0aGlzLnJlc2V0RXJyb3JCb3VuZGFyeVxuICAgICAgfTtcbiAgICAgIGlmICh0eXBlb2YgZmFsbGJhY2tSZW5kZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjaGlsZFRvUmVuZGVyID0gZmFsbGJhY2tSZW5kZXIocHJvcHMpO1xuICAgICAgfSBlbHNlIGlmIChGYWxsYmFja0NvbXBvbmVudCkge1xuICAgICAgICBjaGlsZFRvUmVuZGVyID0gY3JlYXRlRWxlbWVudChGYWxsYmFja0NvbXBvbmVudCwgcHJvcHMpO1xuICAgICAgfSBlbHNlIGlmIChmYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNoaWxkVG9SZW5kZXIgPSBmYWxsYmFjaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwicmVhY3QtZXJyb3ItYm91bmRhcnkgcmVxdWlyZXMgZWl0aGVyIGEgZmFsbGJhY2ssIGZhbGxiYWNrUmVuZGVyLCBvciBGYWxsYmFja0NvbXBvbmVudCBwcm9wXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChFcnJvckJvdW5kYXJ5Q29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgZGlkQ2F0Y2gsXG4gICAgICAgIGVycm9yLFxuICAgICAgICByZXNldEVycm9yQm91bmRhcnk6IHRoaXMucmVzZXRFcnJvckJvdW5kYXJ5XG4gICAgICB9XG4gICAgfSwgY2hpbGRUb1JlbmRlcik7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc0FycmF5Q2hhbmdlZCgpIHtcbiAgbGV0IGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICBsZXQgYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG4gIHJldHVybiBhLmxlbmd0aCAhPT0gYi5sZW5ndGggfHwgYS5zb21lKChpdGVtLCBpbmRleCkgPT4gIU9iamVjdC5pcyhpdGVtLCBiW2luZGV4XSkpO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRFcnJvckJvdW5kYXJ5Q29udGV4dCh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUuZGlkQ2F0Y2ggIT09IFwiYm9vbGVhblwiIHx8IHR5cGVvZiB2YWx1ZS5yZXNldEVycm9yQm91bmRhcnkgIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yQm91bmRhcnlDb250ZXh0IG5vdCBmb3VuZFwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VFcnJvckJvdW5kYXJ5KCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChFcnJvckJvdW5kYXJ5Q29udGV4dCk7XG4gIGFzc2VydEVycm9yQm91bmRhcnlDb250ZXh0KGNvbnRleHQpO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBlcnJvcjogbnVsbCxcbiAgICBoYXNFcnJvcjogZmFsc2VcbiAgfSk7XG4gIGNvbnN0IG1lbW9pemVkID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIHJlc2V0Qm91bmRhcnk6ICgpID0+IHtcbiAgICAgIGNvbnRleHQucmVzZXRFcnJvckJvdW5kYXJ5KCk7XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBoYXNFcnJvcjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2hvd0JvdW5kYXJ5OiBlcnJvciA9PiBzZXRTdGF0ZSh7XG4gICAgICBlcnJvcixcbiAgICAgIGhhc0Vycm9yOiB0cnVlXG4gICAgfSlcbiAgfSksIFtjb250ZXh0LnJlc2V0RXJyb3JCb3VuZGFyeV0pO1xuICBpZiAoc3RhdGUuaGFzRXJyb3IpIHtcbiAgICB0aHJvdyBzdGF0ZS5lcnJvcjtcbiAgfVxuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbmZ1bmN0aW9uIHdpdGhFcnJvckJvdW5kYXJ5KGNvbXBvbmVudCwgZXJyb3JCb3VuZGFyeVByb3BzKSB7XG4gIGNvbnN0IFdyYXBwZWQgPSBmb3J3YXJkUmVmKChwcm9wcywgcmVmKSA9PiBjcmVhdGVFbGVtZW50KEVycm9yQm91bmRhcnksIGVycm9yQm91bmRhcnlQcm9wcywgY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHtcbiAgICAuLi5wcm9wcyxcbiAgICByZWZcbiAgfSkpKTtcblxuICAvLyBGb3JtYXQgZm9yIGRpc3BsYXkgaW4gRGV2VG9vbHNcbiAgY29uc3QgbmFtZSA9IGNvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBjb21wb25lbnQubmFtZSB8fCBcIlVua25vd25cIjtcbiAgV3JhcHBlZC5kaXNwbGF5TmFtZSA9IFwid2l0aEVycm9yQm91bmRhcnkoXCIuY29uY2F0KG5hbWUsIFwiKVwiKTtcbiAgcmV0dXJuIFdyYXBwZWQ7XG59XG5cbmV4cG9ydCB7IEVycm9yQm91bmRhcnksIEVycm9yQm91bmRhcnlDb250ZXh0LCB1c2VFcnJvckJvdW5kYXJ5LCB3aXRoRXJyb3JCb3VuZGFyeSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-error-boundary/dist/react-error-boundary.development.js\n\n}");

/***/ }),

/***/ "./node_modules/react-loadable/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/react-loadable/lib/index.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("{\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\nvar PropTypes = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n\nvar ALL_INITIALIZERS = [];\nvar READY_INITIALIZERS = [];\n\nfunction isWebpackReady(getModuleIds) {\n  if (( false ? 0 : _typeof(__webpack_require__.m)) !== \"object\") {\n    return false;\n  }\n\n  return getModuleIds().every(function (moduleId) {\n    return typeof moduleId !== \"undefined\" && typeof __webpack_require__.m[moduleId] !== \"undefined\";\n  });\n}\n\nfunction load(loader) {\n  var promise = loader();\n\n  var state = {\n    loading: true,\n    loaded: null,\n    error: null\n  };\n\n  state.promise = promise.then(function (loaded) {\n    state.loading = false;\n    state.loaded = loaded;\n    return loaded;\n  }).catch(function (err) {\n    state.loading = false;\n    state.error = err;\n    throw err;\n  });\n\n  return state;\n}\n\nfunction loadMap(obj) {\n  var state = {\n    loading: false,\n    loaded: {},\n    error: null\n  };\n\n  var promises = [];\n\n  try {\n    Object.keys(obj).forEach(function (key) {\n      var result = load(obj[key]);\n\n      if (!result.loading) {\n        state.loaded[key] = result.loaded;\n        state.error = result.error;\n      } else {\n        state.loading = true;\n      }\n\n      promises.push(result.promise);\n\n      result.promise.then(function (res) {\n        state.loaded[key] = res;\n      }).catch(function (err) {\n        state.error = err;\n      });\n    });\n  } catch (err) {\n    state.error = err;\n  }\n\n  state.promise = Promise.all(promises).then(function (res) {\n    state.loading = false;\n    return res;\n  }).catch(function (err) {\n    state.loading = false;\n    throw err;\n  });\n\n  return state;\n}\n\nfunction resolve(obj) {\n  return obj && obj.__esModule ? obj.default : obj;\n}\n\nfunction render(loaded, props) {\n  return React.createElement(resolve(loaded), props);\n}\n\nfunction createLoadableComponent(loadFn, options) {\n  var _class, _temp;\n\n  if (!options.loading) {\n    throw new Error(\"react-loadable requires a `loading` component\");\n  }\n\n  var opts = Object.assign({\n    loader: null,\n    loading: null,\n    delay: 200,\n    timeout: null,\n    render: render,\n    webpack: null,\n    modules: null\n  }, options);\n\n  var res = null;\n\n  function init() {\n    if (!res) {\n      res = loadFn(opts.loader);\n    }\n    return res.promise;\n  }\n\n  ALL_INITIALIZERS.push(init);\n\n  if (typeof opts.webpack === \"function\") {\n    READY_INITIALIZERS.push(function () {\n      if (isWebpackReady(opts.webpack)) {\n        return init();\n      }\n    });\n  }\n\n  return _temp = _class = function (_React$Component) {\n    _inherits(LoadableComponent, _React$Component);\n\n    function LoadableComponent(props) {\n      _classCallCheck(this, LoadableComponent);\n\n      var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n      _this.retry = function () {\n        _this.setState({ error: null, loading: true, timedOut: false });\n        res = loadFn(opts.loader);\n        _this._loadModule();\n      };\n\n      init();\n\n      _this.state = {\n        error: res.error,\n        pastDelay: false,\n        timedOut: false,\n        loading: res.loading,\n        loaded: res.loaded\n      };\n      return _this;\n    }\n\n    LoadableComponent.preload = function preload() {\n      return init();\n    };\n\n    LoadableComponent.prototype.componentWillMount = function componentWillMount() {\n      this._mounted = true;\n      this._loadModule();\n    };\n\n    LoadableComponent.prototype._loadModule = function _loadModule() {\n      var _this2 = this;\n\n      if (this.context.loadable && Array.isArray(opts.modules)) {\n        opts.modules.forEach(function (moduleName) {\n          _this2.context.loadable.report(moduleName);\n        });\n      }\n\n      if (!res.loading) {\n        return;\n      }\n\n      if (typeof opts.delay === \"number\") {\n        if (opts.delay === 0) {\n          this.setState({ pastDelay: true });\n        } else {\n          this._delay = setTimeout(function () {\n            _this2.setState({ pastDelay: true });\n          }, opts.delay);\n        }\n      }\n\n      if (typeof opts.timeout === \"number\") {\n        this._timeout = setTimeout(function () {\n          _this2.setState({ timedOut: true });\n        }, opts.timeout);\n      }\n\n      var update = function update() {\n        if (!_this2._mounted) {\n          return;\n        }\n\n        _this2.setState({\n          error: res.error,\n          loaded: res.loaded,\n          loading: res.loading\n        });\n\n        _this2._clearTimeouts();\n      };\n\n      res.promise.then(function () {\n        update();\n      }).catch(function (err) {\n        update();\n      });\n    };\n\n    LoadableComponent.prototype.componentWillUnmount = function componentWillUnmount() {\n      this._mounted = false;\n      this._clearTimeouts();\n    };\n\n    LoadableComponent.prototype._clearTimeouts = function _clearTimeouts() {\n      clearTimeout(this._delay);\n      clearTimeout(this._timeout);\n    };\n\n    LoadableComponent.prototype.render = function render() {\n      if (this.state.loading || this.state.error) {\n        return React.createElement(opts.loading, {\n          isLoading: this.state.loading,\n          pastDelay: this.state.pastDelay,\n          timedOut: this.state.timedOut,\n          error: this.state.error,\n          retry: this.retry\n        });\n      } else if (this.state.loaded) {\n        return opts.render(this.state.loaded, this.props);\n      } else {\n        return null;\n      }\n    };\n\n    return LoadableComponent;\n  }(React.Component), _class.contextTypes = {\n    loadable: PropTypes.shape({\n      report: PropTypes.func.isRequired\n    })\n  }, _temp;\n}\n\nfunction Loadable(opts) {\n  return createLoadableComponent(load, opts);\n}\n\nfunction LoadableMap(opts) {\n  if (typeof opts.render !== \"function\") {\n    throw new Error(\"LoadableMap requires a `render(loaded, props)` function\");\n  }\n\n  return createLoadableComponent(loadMap, opts);\n}\n\nLoadable.Map = LoadableMap;\n\nvar Capture = function (_React$Component2) {\n  _inherits(Capture, _React$Component2);\n\n  function Capture() {\n    _classCallCheck(this, Capture);\n\n    return _possibleConstructorReturn(this, _React$Component2.apply(this, arguments));\n  }\n\n  Capture.prototype.getChildContext = function getChildContext() {\n    return {\n      loadable: {\n        report: this.props.report\n      }\n    };\n  };\n\n  Capture.prototype.render = function render() {\n    return React.Children.only(this.props.children);\n  };\n\n  return Capture;\n}(React.Component);\n\nCapture.propTypes = {\n  report: PropTypes.func.isRequired\n};\nCapture.childContextTypes = {\n  loadable: PropTypes.shape({\n    report: PropTypes.func.isRequired\n  }).isRequired\n};\n\n\nLoadable.Capture = Capture;\n\nfunction flushInitializers(initializers) {\n  var promises = [];\n\n  while (initializers.length) {\n    var init = initializers.pop();\n    promises.push(init());\n  }\n\n  return Promise.all(promises).then(function () {\n    if (initializers.length) {\n      return flushInitializers(initializers);\n    }\n  });\n}\n\nLoadable.preloadAll = function () {\n  return new Promise(function (resolve, reject) {\n    flushInitializers(ALL_INITIALIZERS).then(resolve, reject);\n  });\n};\n\nLoadable.preloadReady = function () {\n  return new Promise(function (resolve, reject) {\n    // We always will resolve, errors should be handled within loading UIs.\n    flushInitializers(READY_INITIALIZERS).then(resolve, resolve);\n  });\n};\n\nmodule.exports = Loadable;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbG9hZGFibGUvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWxvYWRhYmxlL2xpYi9pbmRleC5qcz8wYTcwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIFByb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xuXG52YXIgQUxMX0lOSVRJQUxJWkVSUyA9IFtdO1xudmFyIFJFQURZX0lOSVRJQUxJWkVSUyA9IFtdO1xuXG5mdW5jdGlvbiBpc1dlYnBhY2tSZWFkeShnZXRNb2R1bGVJZHMpIHtcbiAgaWYgKCh0eXBlb2YgX193ZWJwYWNrX21vZHVsZXNfXyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKF9fd2VicGFja19tb2R1bGVzX18pKSAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBnZXRNb2R1bGVJZHMoKS5ldmVyeShmdW5jdGlvbiAobW9kdWxlSWQpIHtcbiAgICByZXR1cm4gdHlwZW9mIG1vZHVsZUlkICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWQobG9hZGVyKSB7XG4gIHZhciBwcm9taXNlID0gbG9hZGVyKCk7XG5cbiAgdmFyIHN0YXRlID0ge1xuICAgIGxvYWRpbmc6IHRydWUsXG4gICAgbG9hZGVkOiBudWxsLFxuICAgIGVycm9yOiBudWxsXG4gIH07XG5cbiAgc3RhdGUucHJvbWlzZSA9IHByb21pc2UudGhlbihmdW5jdGlvbiAobG9hZGVkKSB7XG4gICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgIHN0YXRlLmxvYWRlZCA9IGxvYWRlZDtcbiAgICByZXR1cm4gbG9hZGVkO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgIHN0YXRlLmVycm9yID0gZXJyO1xuICAgIHRocm93IGVycjtcbiAgfSk7XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiBsb2FkTWFwKG9iaikge1xuICB2YXIgc3RhdGUgPSB7XG4gICAgbG9hZGluZzogZmFsc2UsXG4gICAgbG9hZGVkOiB7fSxcbiAgICBlcnJvcjogbnVsbFxuICB9O1xuXG4gIHZhciBwcm9taXNlcyA9IFtdO1xuXG4gIHRyeSB7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2FkKG9ialtrZXldKTtcblxuICAgICAgaWYgKCFyZXN1bHQubG9hZGluZykge1xuICAgICAgICBzdGF0ZS5sb2FkZWRba2V5XSA9IHJlc3VsdC5sb2FkZWQ7XG4gICAgICAgIHN0YXRlLmVycm9yID0gcmVzdWx0LmVycm9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUubG9hZGluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHByb21pc2VzLnB1c2gocmVzdWx0LnByb21pc2UpO1xuXG4gICAgICByZXN1bHQucHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgc3RhdGUubG9hZGVkW2tleV0gPSByZXM7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHN0YXRlLmVycm9yID0gZXJyO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHN0YXRlLmVycm9yID0gZXJyO1xuICB9XG5cbiAgc3RhdGUucHJvbWlzZSA9IFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgcmV0dXJuIHJlcztcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB0aHJvdyBlcnI7XG4gIH0pO1xuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iai5kZWZhdWx0IDogb2JqO1xufVxuXG5mdW5jdGlvbiByZW5kZXIobG9hZGVkLCBwcm9wcykge1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChyZXNvbHZlKGxvYWRlZCksIHByb3BzKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9hZGFibGVDb21wb25lbnQobG9hZEZuLCBvcHRpb25zKSB7XG4gIHZhciBfY2xhc3MsIF90ZW1wO1xuXG4gIGlmICghb3B0aW9ucy5sb2FkaW5nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwicmVhY3QtbG9hZGFibGUgcmVxdWlyZXMgYSBgbG9hZGluZ2AgY29tcG9uZW50XCIpO1xuICB9XG5cbiAgdmFyIG9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICBsb2FkZXI6IG51bGwsXG4gICAgbG9hZGluZzogbnVsbCxcbiAgICBkZWxheTogMjAwLFxuICAgIHRpbWVvdXQ6IG51bGwsXG4gICAgcmVuZGVyOiByZW5kZXIsXG4gICAgd2VicGFjazogbnVsbCxcbiAgICBtb2R1bGVzOiBudWxsXG4gIH0sIG9wdGlvbnMpO1xuXG4gIHZhciByZXMgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKCFyZXMpIHtcbiAgICAgIHJlcyA9IGxvYWRGbihvcHRzLmxvYWRlcik7XG4gICAgfVxuICAgIHJldHVybiByZXMucHJvbWlzZTtcbiAgfVxuXG4gIEFMTF9JTklUSUFMSVpFUlMucHVzaChpbml0KTtcblxuICBpZiAodHlwZW9mIG9wdHMud2VicGFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgUkVBRFlfSU5JVElBTElaRVJTLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzV2VicGFja1JlYWR5KG9wdHMud2VicGFjaykpIHtcbiAgICAgICAgcmV0dXJuIGluaXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBfdGVtcCA9IF9jbGFzcyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKExvYWRhYmxlQ29tcG9uZW50LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIExvYWRhYmxlQ29tcG9uZW50KHByb3BzKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9hZGFibGVDb21wb25lbnQpO1xuXG4gICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgX3RoaXMucmV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgZXJyb3I6IG51bGwsIGxvYWRpbmc6IHRydWUsIHRpbWVkT3V0OiBmYWxzZSB9KTtcbiAgICAgICAgcmVzID0gbG9hZEZuKG9wdHMubG9hZGVyKTtcbiAgICAgICAgX3RoaXMuX2xvYWRNb2R1bGUoKTtcbiAgICAgIH07XG5cbiAgICAgIGluaXQoKTtcblxuICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgIGVycm9yOiByZXMuZXJyb3IsXG4gICAgICAgIHBhc3REZWxheTogZmFsc2UsXG4gICAgICAgIHRpbWVkT3V0OiBmYWxzZSxcbiAgICAgICAgbG9hZGluZzogcmVzLmxvYWRpbmcsXG4gICAgICAgIGxvYWRlZDogcmVzLmxvYWRlZFxuICAgICAgfTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBMb2FkYWJsZUNvbXBvbmVudC5wcmVsb2FkID0gZnVuY3Rpb24gcHJlbG9hZCgpIHtcbiAgICAgIHJldHVybiBpbml0KCk7XG4gICAgfTtcblxuICAgIExvYWRhYmxlQ29tcG9uZW50LnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLl9tb3VudGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2xvYWRNb2R1bGUoKTtcbiAgICB9O1xuXG4gICAgTG9hZGFibGVDb21wb25lbnQucHJvdG90eXBlLl9sb2FkTW9kdWxlID0gZnVuY3Rpb24gX2xvYWRNb2R1bGUoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuY29udGV4dC5sb2FkYWJsZSAmJiBBcnJheS5pc0FycmF5KG9wdHMubW9kdWxlcykpIHtcbiAgICAgICAgb3B0cy5tb2R1bGVzLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHtcbiAgICAgICAgICBfdGhpczIuY29udGV4dC5sb2FkYWJsZS5yZXBvcnQobW9kdWxlTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJlcy5sb2FkaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvcHRzLmRlbGF5ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGlmIChvcHRzLmRlbGF5ID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBhc3REZWxheTogdHJ1ZSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9kZWxheSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgcGFzdERlbGF5OiB0cnVlIH0pO1xuICAgICAgICAgIH0sIG9wdHMuZGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0cy50aW1lb3V0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyB0aW1lZE91dDogdHJ1ZSB9KTtcbiAgICAgICAgfSwgb3B0cy50aW1lb3V0KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCFfdGhpczIuX21vdW50ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgIGVycm9yOiByZXMuZXJyb3IsXG4gICAgICAgICAgbG9hZGVkOiByZXMubG9hZGVkLFxuICAgICAgICAgIGxvYWRpbmc6IHJlcy5sb2FkaW5nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzMi5fY2xlYXJUaW1lb3V0cygpO1xuICAgICAgfTtcblxuICAgICAgcmVzLnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICB1cGRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBMb2FkYWJsZUNvbXBvbmVudC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuX21vdW50ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2NsZWFyVGltZW91dHMoKTtcbiAgICB9O1xuXG4gICAgTG9hZGFibGVDb21wb25lbnQucHJvdG90eXBlLl9jbGVhclRpbWVvdXRzID0gZnVuY3Rpb24gX2NsZWFyVGltZW91dHMoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fZGVsYXkpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgIH07XG5cbiAgICBMb2FkYWJsZUNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUubG9hZGluZyB8fCB0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KG9wdHMubG9hZGluZywge1xuICAgICAgICAgIGlzTG9hZGluZzogdGhpcy5zdGF0ZS5sb2FkaW5nLFxuICAgICAgICAgIHBhc3REZWxheTogdGhpcy5zdGF0ZS5wYXN0RGVsYXksXG4gICAgICAgICAgdGltZWRPdXQ6IHRoaXMuc3RhdGUudGltZWRPdXQsXG4gICAgICAgICAgZXJyb3I6IHRoaXMuc3RhdGUuZXJyb3IsXG4gICAgICAgICAgcmV0cnk6IHRoaXMucmV0cnlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUubG9hZGVkKSB7XG4gICAgICAgIHJldHVybiBvcHRzLnJlbmRlcih0aGlzLnN0YXRlLmxvYWRlZCwgdGhpcy5wcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIExvYWRhYmxlQ29tcG9uZW50O1xuICB9KFJlYWN0LkNvbXBvbmVudCksIF9jbGFzcy5jb250ZXh0VHlwZXMgPSB7XG4gICAgbG9hZGFibGU6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICByZXBvcnQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbiAgICB9KVxuICB9LCBfdGVtcDtcbn1cblxuZnVuY3Rpb24gTG9hZGFibGUob3B0cykge1xuICByZXR1cm4gY3JlYXRlTG9hZGFibGVDb21wb25lbnQobG9hZCwgb3B0cyk7XG59XG5cbmZ1bmN0aW9uIExvYWRhYmxlTWFwKG9wdHMpIHtcbiAgaWYgKHR5cGVvZiBvcHRzLnJlbmRlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTG9hZGFibGVNYXAgcmVxdWlyZXMgYSBgcmVuZGVyKGxvYWRlZCwgcHJvcHMpYCBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVMb2FkYWJsZUNvbXBvbmVudChsb2FkTWFwLCBvcHRzKTtcbn1cblxuTG9hZGFibGUuTWFwID0gTG9hZGFibGVNYXA7XG5cbnZhciBDYXB0dXJlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQyKSB7XG4gIF9pbmhlcml0cyhDYXB0dXJlLCBfUmVhY3QkQ29tcG9uZW50Mik7XG5cbiAgZnVuY3Rpb24gQ2FwdHVyZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FwdHVyZSk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudDIuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBDYXB0dXJlLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvYWRhYmxlOiB7XG4gICAgICAgIHJlcG9ydDogdGhpcy5wcm9wcy5yZXBvcnRcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIENhcHR1cmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuQ2hpbGRyZW4ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgfTtcblxuICByZXR1cm4gQ2FwdHVyZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuQ2FwdHVyZS5wcm9wVHlwZXMgPSB7XG4gIHJlcG9ydDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufTtcbkNhcHR1cmUuY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gIGxvYWRhYmxlOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIHJlcG9ydDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuICB9KS5pc1JlcXVpcmVkXG59O1xuXG5cbkxvYWRhYmxlLkNhcHR1cmUgPSBDYXB0dXJlO1xuXG5mdW5jdGlvbiBmbHVzaEluaXRpYWxpemVycyhpbml0aWFsaXplcnMpIHtcbiAgdmFyIHByb21pc2VzID0gW107XG5cbiAgd2hpbGUgKGluaXRpYWxpemVycy5sZW5ndGgpIHtcbiAgICB2YXIgaW5pdCA9IGluaXRpYWxpemVycy5wb3AoKTtcbiAgICBwcm9taXNlcy5wdXNoKGluaXQoKSk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGlmIChpbml0aWFsaXplcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmx1c2hJbml0aWFsaXplcnMoaW5pdGlhbGl6ZXJzKTtcbiAgICB9XG4gIH0pO1xufVxuXG5Mb2FkYWJsZS5wcmVsb2FkQWxsID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZsdXNoSW5pdGlhbGl6ZXJzKEFMTF9JTklUSUFMSVpFUlMpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgfSk7XG59O1xuXG5Mb2FkYWJsZS5wcmVsb2FkUmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gV2UgYWx3YXlzIHdpbGwgcmVzb2x2ZSwgZXJyb3JzIHNob3VsZCBiZSBoYW5kbGVkIHdpdGhpbiBsb2FkaW5nIFVJcy5cbiAgICBmbHVzaEluaXRpYWxpemVycyhSRUFEWV9JTklUSUFMSVpFUlMpLnRoZW4ocmVzb2x2ZSwgcmVzb2x2ZSk7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBMb2FkYWJsZTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-loadable/lib/index.js\n\n}");

/***/ }),

/***/ "./node_modules/react-virtualized-auto-sizer/dist/react-virtualized-auto-sizer.esm.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/react-virtualized-auto-sizer/dist/react-virtualized-auto-sizer.esm.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AutoSizer)\n/* harmony export */ });\n/* unused harmony exports isHeightAndWidthProps, isHeightOnlyProps, isWidthOnlyProps */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n * 5) Use 'export' statement over 'module.exports' assignment\n **/\n\n// Check `document` and `window` in case of server-side rendering\nlet windowObject;\nif (typeof window !== \"undefined\") {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== \"undefined\") {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = __webpack_require__.g;\n}\nlet cancelFrame = null;\nlet requestFrame = null;\nconst TIMEOUT_DURATION = 20;\nconst clearTimeoutFn = windowObject.clearTimeout;\nconst setTimeoutFn = windowObject.setTimeout;\nconst cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\nconst requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame([animationFrameID, timeoutID]) {\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    const animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n    const timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n    return [animationFrameID, timeoutID];\n  };\n}\nfunction createDetectElementResize(nonce) {\n  let animationKeyframes;\n  let animationName;\n  let animationStartEvent;\n  let animationStyle;\n  let checkTriggers;\n  let resetTriggers;\n  let scrollListener;\n  const attachEvent = typeof document !== \"undefined\" && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function (element) {\n      const triggers = element.__resizeTriggers__,\n        expand = triggers.firstElementChild,\n        contract = triggers.lastElementChild,\n        expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + \"px\";\n      expandChild.style.height = expand.offsetHeight + 1 + \"px\";\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n    checkTriggers = function (element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n    scrollListener = function (e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === \"function\" && e.target.className.indexOf(\"contract-trigger\") < 0 && e.target.className.indexOf(\"expand-trigger\") < 0) {\n        return;\n      }\n      const element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    let animation = false;\n    let keyframeprefix = \"\";\n    animationStartEvent = \"animationstart\";\n    const domPrefixes = \"Webkit Moz O ms\".split(\" \");\n    let startEvents = \"webkitAnimationStart animationstart oAnimationStart MSAnimationStart\".split(\" \");\n    let pfx = \"\";\n    {\n      const elm = document.createElement(\"fakeelement\");\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n      if (animation === false) {\n        for (let i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + \"AnimationName\"] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = \"-\" + pfx.toLowerCase() + \"-\";\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    animationName = \"resizeanim\";\n    animationKeyframes = \"@\" + keyframeprefix + \"keyframes \" + animationName + \" { from { opacity: 0; } to { opacity: 0; } } \";\n    animationStyle = keyframeprefix + \"animation: 1ms \" + animationName + \"; \";\n  }\n  const createStyles = function (doc) {\n    if (!doc.getElementById(\"detectElementResize\")) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      const css = (animationKeyframes ? animationKeyframes : \"\") + \".resize-triggers { \" + (animationStyle ? animationStyle : \"\") + \"visibility: hidden; opacity: 0; } \" + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n        head = doc.head || doc.getElementsByTagName(\"head\")[0],\n        style = doc.createElement(\"style\");\n      style.id = \"detectElementResize\";\n      style.type = \"text/css\";\n      if (nonce != null) {\n        style.setAttribute(\"nonce\", nonce);\n      }\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n      head.appendChild(style);\n    }\n  };\n  const addResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.attachEvent(\"onresize\", fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        const doc = element.ownerDocument;\n        const elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === \"static\") {\n          element.style.position = \"relative\";\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement(\"div\")).className = \"resize-triggers\";\n        const expandTrigger = doc.createElement(\"div\");\n        expandTrigger.className = \"expand-trigger\";\n        expandTrigger.appendChild(doc.createElement(\"div\"));\n        const contractTrigger = doc.createElement(\"div\");\n        contractTrigger.className = \"contract-trigger\";\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener(\"scroll\", scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n  const removeResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.detachEvent(\"onresize\", fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener(\"scroll\", scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n  return {\n    addResizeListener,\n    removeResizeListener\n  };\n}\n\nclass AutoSizer extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      height: this.props.defaultHeight || 0,\n      width: this.props.defaultWidth || 0\n    };\n    this._autoSizer = null;\n    this._detectElementResize = null;\n    this._didLogDeprecationWarning = false;\n    this._parentNode = null;\n    this._resizeObserver = null;\n    this._timeoutId = null;\n    this._onResize = () => {\n      this._timeoutId = null;\n      const {\n        disableHeight,\n        disableWidth,\n        onResize\n      } = this.props;\n      if (this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        const style = window.getComputedStyle(this._parentNode) || {};\n        const paddingLeft = parseFloat(style.paddingLeft || \"0\");\n        const paddingRight = parseFloat(style.paddingRight || \"0\");\n        const paddingTop = parseFloat(style.paddingTop || \"0\");\n        const paddingBottom = parseFloat(style.paddingBottom || \"0\");\n        const rect = this._parentNode.getBoundingClientRect();\n        const height = rect.height - paddingTop - paddingBottom;\n        const width = rect.width - paddingLeft - paddingRight;\n        if (!disableHeight && this.state.height !== height || !disableWidth && this.state.width !== width) {\n          this.setState({\n            height,\n            width\n          });\n          const maybeLogDeprecationWarning = () => {\n            if (!this._didLogDeprecationWarning) {\n              this._didLogDeprecationWarning = true;\n              console.warn(\"scaledWidth and scaledHeight parameters have been deprecated; use width and height instead\");\n            }\n          };\n          if (typeof onResize === \"function\") {\n            onResize({\n              height,\n              width,\n              // TODO Remove these params in the next major release\n              get scaledHeight() {\n                maybeLogDeprecationWarning();\n                return height;\n              },\n              get scaledWidth() {\n                maybeLogDeprecationWarning();\n                return width;\n              }\n            });\n          }\n        }\n      }\n    };\n    this._setRef = autoSizer => {\n      this._autoSizer = autoSizer;\n    };\n  }\n  componentDidMount() {\n    const {\n      nonce\n    } = this.props;\n    const parentNode = this._autoSizer ? this._autoSizer.parentNode : null;\n    if (parentNode != null && parentNode.ownerDocument && parentNode.ownerDocument.defaultView && parentNode instanceof parentNode.ownerDocument.defaultView.HTMLElement) {\n      // Delay access of parentNode until mount.\n      // This handles edge-cases where the component has already been unmounted before its ref has been set,\n      // As well as libraries like react-lite which have a slightly different lifecycle.\n      this._parentNode = parentNode;\n\n      // Use ResizeObserver from the same context where parentNode (which we will observe) was defined\n      // Using just global can result into onResize events not being emitted in cases with multiple realms\n      const ResizeObserverInstance = parentNode.ownerDocument.defaultView.ResizeObserver;\n      if (ResizeObserverInstance != null) {\n        this._resizeObserver = new ResizeObserverInstance(() => {\n          // Guard against \"ResizeObserver loop limit exceeded\" error;\n          // could be triggered if the state update causes the ResizeObserver handler to run long.\n          // See https://github.com/bvaughn/react-virtualized-auto-sizer/issues/55\n          this._timeoutId = setTimeout(this._onResize, 0);\n        });\n        this._resizeObserver.observe(parentNode);\n      } else {\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(parentNode, this._onResize);\n      }\n      this._onResize();\n    }\n  }\n  componentWillUnmount() {\n    if (this._parentNode) {\n      if (this._detectElementResize) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n      if (this._timeoutId !== null) {\n        clearTimeout(this._timeoutId);\n      }\n      if (this._resizeObserver) {\n        this._resizeObserver.disconnect();\n      }\n    }\n  }\n  render() {\n    const {\n      children,\n      defaultHeight,\n      defaultWidth,\n      disableHeight = false,\n      disableWidth = false,\n      doNotBailOutOnEmptyChildren = false,\n      nonce,\n      onResize,\n      style = {},\n      tagName = \"div\",\n      ...rest\n    } = this.props;\n    const {\n      height,\n      width\n    } = this.state;\n\n    // Outer div should not force width/height since that may prevent containers from shrinking.\n    // Inner component should overflow and use calculated width/height.\n    // See issue #68 for more information.\n    const outerStyle = {\n      overflow: \"visible\"\n    };\n    const childParams = {};\n\n    // Avoid rendering children before the initial measurements have been collected.\n    // At best this would just be wasting cycles.\n    let bailoutOnChildren = false;\n    if (!disableHeight) {\n      if (height === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.height = 0;\n      childParams.height = height;\n\n      // TODO Remove this in the next major release\n      childParams.scaledHeight = height;\n    }\n    if (!disableWidth) {\n      if (width === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.width = 0;\n      childParams.width = width;\n\n      // TODO Remove this in the next major release\n      childParams.scaledWidth = width;\n    }\n    if (doNotBailOutOnEmptyChildren) {\n      bailoutOnChildren = false;\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tagName, {\n      ref: this._setRef,\n      style: {\n        ...outerStyle,\n        ...style\n      },\n      ...rest\n    }, !bailoutOnChildren && children(childParams));\n  }\n}\n\nfunction isHeightAndWidthProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth !== true;\n}\nfunction isHeightOnlyProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth === true;\n}\nfunction isWidthOnlyProps(props) {\n  return props && props.disableHeight === true && props.disableWidth !== true;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQtYXV0by1zaXplci9kaXN0L3JlYWN0LXZpcnR1YWxpemVkLWF1dG8tc2l6ZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkLWF1dG8tc2l6ZXIvZGlzdC9yZWFjdC12aXJ0dWFsaXplZC1hdXRvLXNpemVyLmVzbS5qcz9hZTVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBEZXRlY3QgRWxlbWVudCBSZXNpemUuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc2RlY2ltYS9qYXZhc2NyaXB0LWRldGVjdC1lbGVtZW50LXJlc2l6ZVxuICogU2ViYXN0aWFuIERlY2ltYVxuICpcbiAqIEZvcmtlZCBmcm9tIHZlcnNpb24gMC41LjM7IGluY2x1ZGVzIHRoZSBmb2xsb3dpbmcgbW9kaWZpY2F0aW9uczpcbiAqIDEpIEd1YXJkIGFnYWluc3QgdW5zYWZlICd3aW5kb3cnIGFuZCAnZG9jdW1lbnQnIHJlZmVyZW5jZXMgKHRvIHN1cHBvcnQgU1NSKS5cbiAqIDIpIERlZmVyIGluaXRpYWxpemF0aW9uIGNvZGUgdmlhIGEgdG9wLWxldmVsIGZ1bmN0aW9uIHdyYXBwZXIgKHRvIHN1cHBvcnQgU1NSKS5cbiAqIDMpIEF2b2lkIHVubmVjZXNzYXJ5IHJlZmxvd3MgYnkgbm90IG1lYXN1cmluZyBzaXplIGZvciBzY3JvbGwgZXZlbnRzIGJ1YmJsaW5nIGZyb20gY2hpbGRyZW4uXG4gKiA0KSBBZGQgbm9uY2UgZm9yIHN0eWxlIGVsZW1lbnQuXG4gKiA1KSBVc2UgJ2V4cG9ydCcgc3RhdGVtZW50IG92ZXIgJ21vZHVsZS5leHBvcnRzJyBhc3NpZ25tZW50XG4gKiovXG5cbi8vIENoZWNrIGBkb2N1bWVudGAgYW5kIGB3aW5kb3dgIGluIGNhc2Ugb2Ygc2VydmVyLXNpZGUgcmVuZGVyaW5nXG5sZXQgd2luZG93T2JqZWN0O1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgd2luZG93T2JqZWN0ID0gd2luZG93O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICB3aW5kb3dPYmplY3QgPSBzZWxmO1xufSBlbHNlIHtcbiAgd2luZG93T2JqZWN0ID0gZ2xvYmFsO1xufVxubGV0IGNhbmNlbEZyYW1lID0gbnVsbDtcbmxldCByZXF1ZXN0RnJhbWUgPSBudWxsO1xuY29uc3QgVElNRU9VVF9EVVJBVElPTiA9IDIwO1xuY29uc3QgY2xlYXJUaW1lb3V0Rm4gPSB3aW5kb3dPYmplY3QuY2xlYXJUaW1lb3V0O1xuY29uc3Qgc2V0VGltZW91dEZuID0gd2luZG93T2JqZWN0LnNldFRpbWVvdXQ7XG5jb25zdCBjYW5jZWxBbmltYXRpb25GcmFtZUZuID0gd2luZG93T2JqZWN0LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvd09iamVjdC5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3dPYmplY3Qud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWU7XG5jb25zdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVGbiA9IHdpbmRvd09iamVjdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93T2JqZWN0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3dPYmplY3Qud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuaWYgKGNhbmNlbEFuaW1hdGlvbkZyYW1lRm4gPT0gbnVsbCB8fCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVGbiA9PSBudWxsKSB7XG4gIC8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBzdXBwb3J0IGFuaW1hdGlvbiBmcmFtZSxcbiAgLy8gZmFsbGJhY2sgdG8gYSBzZXRUaW1lb3V0IGJhc2VkIGFwcHJvYWNoLlxuICBjYW5jZWxGcmFtZSA9IGNsZWFyVGltZW91dEZuO1xuICByZXF1ZXN0RnJhbWUgPSBmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVWaWFTZXRUaW1lb3V0KGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXRGbihjYWxsYmFjaywgVElNRU9VVF9EVVJBVElPTik7XG4gIH07XG59IGVsc2Uge1xuICAvLyBDb3VudGVyIGludHVpdGl2ZWx5LCBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IGFuaW1hdGlvbiBmcmFtZXMgY2FuIGJlIHRyaWNraWVyLlxuICAvLyBDaHJvbWUncyBcIlRocm90dGxlIG5vbi12aXNpYmxlIGNyb3NzLW9yaWdpbiBpZnJhbWVzXCIgZmxhZyBjYW4gcHJldmVudCByQUZzIGZyb20gYmVpbmcgY2FsbGVkLlxuICAvLyBJbiB0aGlzIGNhc2UsIHdlIHNob3VsZCBmYWxsYmFjayB0byBhIHNldFRpbWVvdXQoKSBpbXBsZW1lbnRhdGlvbi5cbiAgY2FuY2VsRnJhbWUgPSBmdW5jdGlvbiBjYW5jZWxGcmFtZShbYW5pbWF0aW9uRnJhbWVJRCwgdGltZW91dElEXSkge1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lRm4oYW5pbWF0aW9uRnJhbWVJRCk7XG4gICAgY2xlYXJUaW1lb3V0Rm4odGltZW91dElEKTtcbiAgfTtcbiAgcmVxdWVzdEZyYW1lID0gZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lV2l0aFNldFRpbWVvdXRGYWxsYmFjayhjYWxsYmFjaykge1xuICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWVGbihmdW5jdGlvbiBhbmltYXRpb25GcmFtZUNhbGxiYWNrKCkge1xuICAgICAgY2xlYXJUaW1lb3V0Rm4odGltZW91dElEKTtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gICAgY29uc3QgdGltZW91dElEID0gc2V0VGltZW91dEZuKGZ1bmN0aW9uIHRpbWVvdXRDYWxsYmFjaygpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lRm4oYW5pbWF0aW9uRnJhbWVJRCk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0sIFRJTUVPVVRfRFVSQVRJT04pO1xuICAgIHJldHVybiBbYW5pbWF0aW9uRnJhbWVJRCwgdGltZW91dElEXTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURldGVjdEVsZW1lbnRSZXNpemUobm9uY2UpIHtcbiAgbGV0IGFuaW1hdGlvbktleWZyYW1lcztcbiAgbGV0IGFuaW1hdGlvbk5hbWU7XG4gIGxldCBhbmltYXRpb25TdGFydEV2ZW50O1xuICBsZXQgYW5pbWF0aW9uU3R5bGU7XG4gIGxldCBjaGVja1RyaWdnZXJzO1xuICBsZXQgcmVzZXRUcmlnZ2VycztcbiAgbGV0IHNjcm9sbExpc3RlbmVyO1xuICBjb25zdCBhdHRhY2hFdmVudCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudC5hdHRhY2hFdmVudDtcbiAgaWYgKCFhdHRhY2hFdmVudCkge1xuICAgIHJlc2V0VHJpZ2dlcnMgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgY29uc3QgdHJpZ2dlcnMgPSBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXyxcbiAgICAgICAgZXhwYW5kID0gdHJpZ2dlcnMuZmlyc3RFbGVtZW50Q2hpbGQsXG4gICAgICAgIGNvbnRyYWN0ID0gdHJpZ2dlcnMubGFzdEVsZW1lbnRDaGlsZCxcbiAgICAgICAgZXhwYW5kQ2hpbGQgPSBleHBhbmQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICBjb250cmFjdC5zY3JvbGxMZWZ0ID0gY29udHJhY3Quc2Nyb2xsV2lkdGg7XG4gICAgICBjb250cmFjdC5zY3JvbGxUb3AgPSBjb250cmFjdC5zY3JvbGxIZWlnaHQ7XG4gICAgICBleHBhbmRDaGlsZC5zdHlsZS53aWR0aCA9IGV4cGFuZC5vZmZzZXRXaWR0aCArIDEgKyBcInB4XCI7XG4gICAgICBleHBhbmRDaGlsZC5zdHlsZS5oZWlnaHQgPSBleHBhbmQub2Zmc2V0SGVpZ2h0ICsgMSArIFwicHhcIjtcbiAgICAgIGV4cGFuZC5zY3JvbGxMZWZ0ID0gZXhwYW5kLnNjcm9sbFdpZHRoO1xuICAgICAgZXhwYW5kLnNjcm9sbFRvcCA9IGV4cGFuZC5zY3JvbGxIZWlnaHQ7XG4gICAgfTtcbiAgICBjaGVja1RyaWdnZXJzID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoICE9PSBlbGVtZW50Ll9fcmVzaXplTGFzdF9fLndpZHRoIHx8IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICE9PSBlbGVtZW50Ll9fcmVzaXplTGFzdF9fLmhlaWdodDtcbiAgICB9O1xuICAgIHNjcm9sbExpc3RlbmVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIERvbid0IG1lYXN1cmUgKHdoaWNoIGZvcmNlcykgcmVmbG93IGZvciBzY3JvbGxzIHRoYXQgaGFwcGVuIGluc2lkZSBvZiBjaGlsZHJlbiFcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgJiYgdHlwZW9mIGUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mID09PSBcImZ1bmN0aW9uXCIgJiYgZS50YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoXCJjb250cmFjdC10cmlnZ2VyXCIpIDwgMCAmJiBlLnRhcmdldC5jbGFzc05hbWUuaW5kZXhPZihcImV4cGFuZC10cmlnZ2VyXCIpIDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcztcbiAgICAgIHJlc2V0VHJpZ2dlcnModGhpcyk7XG4gICAgICBpZiAodGhpcy5fX3Jlc2l6ZVJBRl9fKSB7XG4gICAgICAgIGNhbmNlbEZyYW1lKHRoaXMuX19yZXNpemVSQUZfXyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fcmVzaXplUkFGX18gPSByZXF1ZXN0RnJhbWUoZnVuY3Rpb24gYW5pbWF0aW9uRnJhbWUoKSB7XG4gICAgICAgIGlmIChjaGVja1RyaWdnZXJzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZUxhc3RfXy53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZUxhc3RfXy5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplTGlzdGVuZXJzX18uZm9yRWFjaChmdW5jdGlvbiBmb3JFYWNoUmVzaXplTGlzdGVuZXIoZm4pIHtcbiAgICAgICAgICAgIGZuLmNhbGwoZWxlbWVudCwgZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKiBEZXRlY3QgQ1NTIEFuaW1hdGlvbnMgc3VwcG9ydCB0byBkZXRlY3QgZWxlbWVudCBkaXNwbGF5L3JlLWF0dGFjaCAqL1xuICAgIGxldCBhbmltYXRpb24gPSBmYWxzZTtcbiAgICBsZXQga2V5ZnJhbWVwcmVmaXggPSBcIlwiO1xuICAgIGFuaW1hdGlvblN0YXJ0RXZlbnQgPSBcImFuaW1hdGlvbnN0YXJ0XCI7XG4gICAgY29uc3QgZG9tUHJlZml4ZXMgPSBcIldlYmtpdCBNb3ogTyBtc1wiLnNwbGl0KFwiIFwiKTtcbiAgICBsZXQgc3RhcnRFdmVudHMgPSBcIndlYmtpdEFuaW1hdGlvblN0YXJ0IGFuaW1hdGlvbnN0YXJ0IG9BbmltYXRpb25TdGFydCBNU0FuaW1hdGlvblN0YXJ0XCIuc3BsaXQoXCIgXCIpO1xuICAgIGxldCBwZnggPSBcIlwiO1xuICAgIHtcbiAgICAgIGNvbnN0IGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmYWtlZWxlbWVudFwiKTtcbiAgICAgIGlmIChlbG0uc3R5bGUuYW5pbWF0aW9uTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFuaW1hdGlvbiA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoYW5pbWF0aW9uID09PSBmYWxzZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvbVByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGVsbS5zdHlsZVtkb21QcmVmaXhlc1tpXSArIFwiQW5pbWF0aW9uTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwZnggPSBkb21QcmVmaXhlc1tpXTtcbiAgICAgICAgICAgIGtleWZyYW1lcHJlZml4ID0gXCItXCIgKyBwZngudG9Mb3dlckNhc2UoKSArIFwiLVwiO1xuICAgICAgICAgICAgYW5pbWF0aW9uU3RhcnRFdmVudCA9IHN0YXJ0RXZlbnRzW2ldO1xuICAgICAgICAgICAgYW5pbWF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBhbmltYXRpb25OYW1lID0gXCJyZXNpemVhbmltXCI7XG4gICAgYW5pbWF0aW9uS2V5ZnJhbWVzID0gXCJAXCIgKyBrZXlmcmFtZXByZWZpeCArIFwia2V5ZnJhbWVzIFwiICsgYW5pbWF0aW9uTmFtZSArIFwiIHsgZnJvbSB7IG9wYWNpdHk6IDA7IH0gdG8geyBvcGFjaXR5OiAwOyB9IH0gXCI7XG4gICAgYW5pbWF0aW9uU3R5bGUgPSBrZXlmcmFtZXByZWZpeCArIFwiYW5pbWF0aW9uOiAxbXMgXCIgKyBhbmltYXRpb25OYW1lICsgXCI7IFwiO1xuICB9XG4gIGNvbnN0IGNyZWF0ZVN0eWxlcyA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoIWRvYy5nZXRFbGVtZW50QnlJZChcImRldGVjdEVsZW1lbnRSZXNpemVcIikpIHtcbiAgICAgIC8vb3BhY2l0eTowIHdvcmtzIGFyb3VuZCBhIGNocm9tZSBidWcgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI4NjM2MFxuICAgICAgY29uc3QgY3NzID0gKGFuaW1hdGlvbktleWZyYW1lcyA/IGFuaW1hdGlvbktleWZyYW1lcyA6IFwiXCIpICsgXCIucmVzaXplLXRyaWdnZXJzIHsgXCIgKyAoYW5pbWF0aW9uU3R5bGUgPyBhbmltYXRpb25TdHlsZSA6IFwiXCIpICsgXCJ2aXNpYmlsaXR5OiBoaWRkZW47IG9wYWNpdHk6IDA7IH0gXCIgKyAnLnJlc2l6ZS10cmlnZ2VycywgLnJlc2l6ZS10cmlnZ2VycyA+IGRpdiwgLmNvbnRyYWN0LXRyaWdnZXI6YmVmb3JlIHsgY29udGVudDogXCIgXCI7IGRpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgaGVpZ2h0OiAxMDAlOyB3aWR0aDogMTAwJTsgb3ZlcmZsb3c6IGhpZGRlbjsgei1pbmRleDogLTE7IH0gLnJlc2l6ZS10cmlnZ2VycyA+IGRpdiB7IGJhY2tncm91bmQ6ICNlZWU7IG92ZXJmbG93OiBhdXRvOyB9IC5jb250cmFjdC10cmlnZ2VyOmJlZm9yZSB7IHdpZHRoOiAyMDAlOyBoZWlnaHQ6IDIwMCU7IH0nLFxuICAgICAgICBoZWFkID0gZG9jLmhlYWQgfHwgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXSxcbiAgICAgICAgc3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgc3R5bGUuaWQgPSBcImRldGVjdEVsZW1lbnRSZXNpemVcIjtcbiAgICAgIHN0eWxlLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgICBpZiAobm9uY2UgIT0gbnVsbCkge1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gICAgICB9XG4gICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGFkZFJlc2l6ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGZuKSB7XG4gICAgaWYgKGF0dGFjaEV2ZW50KSB7XG4gICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KFwib25yZXNpemVcIiwgZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fKSB7XG4gICAgICAgIGNvbnN0IGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgY29uc3QgZWxlbWVudFN0eWxlID0gd2luZG93T2JqZWN0LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICAgIGlmIChlbGVtZW50U3R5bGUgJiYgZWxlbWVudFN0eWxlLnBvc2l0aW9uID09PSBcInN0YXRpY1wiKSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVTdHlsZXMoZG9jKTtcbiAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZUxhc3RfXyA9IHt9O1xuICAgICAgICBlbGVtZW50Ll9fcmVzaXplTGlzdGVuZXJzX18gPSBbXTtcbiAgICAgICAgKGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmNsYXNzTmFtZSA9IFwicmVzaXplLXRyaWdnZXJzXCI7XG4gICAgICAgIGNvbnN0IGV4cGFuZFRyaWdnZXIgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZXhwYW5kVHJpZ2dlci5jbGFzc05hbWUgPSBcImV4cGFuZC10cmlnZ2VyXCI7XG4gICAgICAgIGV4cGFuZFRyaWdnZXIuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICBjb25zdCBjb250cmFjdFRyaWdnZXIgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udHJhY3RUcmlnZ2VyLmNsYXNzTmFtZSA9IFwiY29udHJhY3QtdHJpZ2dlclwiO1xuICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5hcHBlbmRDaGlsZChleHBhbmRUcmlnZ2VyKTtcbiAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18uYXBwZW5kQ2hpbGQoY29udHJhY3RUcmlnZ2VyKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXyk7XG4gICAgICAgIHJlc2V0VHJpZ2dlcnMoZWxlbWVudCk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY3JvbGxMaXN0ZW5lciwgdHJ1ZSk7XG5cbiAgICAgICAgLyogTGlzdGVuIGZvciBhIGNzcyBhbmltYXRpb24gdG8gZGV0ZWN0IGVsZW1lbnQgZGlzcGxheS9yZS1hdHRhY2ggKi9cbiAgICAgICAgaWYgKGFuaW1hdGlvblN0YXJ0RXZlbnQpIHtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5fX2FuaW1hdGlvbkxpc3RlbmVyX18gPSBmdW5jdGlvbiBhbmltYXRpb25MaXN0ZW5lcihlKSB7XG4gICAgICAgICAgICBpZiAoZS5hbmltYXRpb25OYW1lID09PSBhbmltYXRpb25OYW1lKSB7XG4gICAgICAgICAgICAgIHJlc2V0VHJpZ2dlcnMoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5hZGRFdmVudExpc3RlbmVyKGFuaW1hdGlvblN0YXJ0RXZlbnQsIGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fLl9fYW5pbWF0aW9uTGlzdGVuZXJfXyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5wdXNoKGZuKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZVJlc2l6ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGZuKSB7XG4gICAgaWYgKGF0dGFjaEV2ZW50KSB7XG4gICAgICBlbGVtZW50LmRldGFjaEV2ZW50KFwib25yZXNpemVcIiwgZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50Ll9fcmVzaXplTGlzdGVuZXJzX18uc3BsaWNlKGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5pbmRleE9mKGZuKSwgMSk7XG4gICAgICBpZiAoIWVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5sZW5ndGgpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNjcm9sbExpc3RlbmVyLCB0cnVlKTtcbiAgICAgICAgaWYgKGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fLl9fYW5pbWF0aW9uTGlzdGVuZXJfXykge1xuICAgICAgICAgIGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fLnJlbW92ZUV2ZW50TGlzdGVuZXIoYW5pbWF0aW9uU3RhcnRFdmVudCwgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18uX19hbmltYXRpb25MaXN0ZW5lcl9fKTtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5fX2FuaW1hdGlvbkxpc3RlbmVyX18gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18gPSAhZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBQcmVhY3QgY29tcGF0OyBzZWUgZGV2ZWxvcGl0L3ByZWFjdC1jb21wYXQvaXNzdWVzLzIyOFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4ge1xuICAgIGFkZFJlc2l6ZUxpc3RlbmVyLFxuICAgIHJlbW92ZVJlc2l6ZUxpc3RlbmVyXG4gIH07XG59XG5cbmNsYXNzIEF1dG9TaXplciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmRlZmF1bHRIZWlnaHQgfHwgMCxcbiAgICAgIHdpZHRoOiB0aGlzLnByb3BzLmRlZmF1bHRXaWR0aCB8fCAwXG4gICAgfTtcbiAgICB0aGlzLl9hdXRvU2l6ZXIgPSBudWxsO1xuICAgIHRoaXMuX2RldGVjdEVsZW1lbnRSZXNpemUgPSBudWxsO1xuICAgIHRoaXMuX2RpZExvZ0RlcHJlY2F0aW9uV2FybmluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3BhcmVudE5vZGUgPSBudWxsO1xuICAgIHRoaXMuX3Jlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICB0aGlzLl90aW1lb3V0SWQgPSBudWxsO1xuICAgIHRoaXMuX29uUmVzaXplID0gKCkgPT4ge1xuICAgICAgdGhpcy5fdGltZW91dElkID0gbnVsbDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZGlzYWJsZUhlaWdodCxcbiAgICAgICAgZGlzYWJsZVdpZHRoLFxuICAgICAgICBvblJlc2l6ZVxuICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZSkge1xuICAgICAgICAvLyBHdWFyZCBhZ2FpbnN0IEF1dG9TaXplciBjb21wb25lbnQgYmVpbmcgcmVtb3ZlZCBmcm9tIHRoZSBET00gaW1tZWRpYXRlbHkgYWZ0ZXIgYmVpbmcgYWRkZWQuXG4gICAgICAgIC8vIFRoaXMgY2FuIHJlc3VsdCBpbiBpbnZhbGlkIHN0eWxlIHZhbHVlcyB3aGljaCBjYW4gcmVzdWx0IGluIE5hTiB2YWx1ZXMgaWYgd2UgZG9uJ3QgaGFuZGxlIHRoZW0uXG4gICAgICAgIC8vIFNlZSBpc3N1ZSAjMTUwIGZvciBtb3JlIGNvbnRleHQuXG5cbiAgICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9wYXJlbnROb2RlKSB8fCB7fTtcbiAgICAgICAgY29uc3QgcGFkZGluZ0xlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdMZWZ0IHx8IFwiMFwiKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nUmlnaHQgfHwgXCIwXCIpO1xuICAgICAgICBjb25zdCBwYWRkaW5nVG9wID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wIHx8IFwiMFwiKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ0JvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSB8fCBcIjBcIik7XG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLl9wYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSByZWN0LmhlaWdodCAtIHBhZGRpbmdUb3AgLSBwYWRkaW5nQm90dG9tO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHJlY3Qud2lkdGggLSBwYWRkaW5nTGVmdCAtIHBhZGRpbmdSaWdodDtcbiAgICAgICAgaWYgKCFkaXNhYmxlSGVpZ2h0ICYmIHRoaXMuc3RhdGUuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgIWRpc2FibGVXaWR0aCAmJiB0aGlzLnN0YXRlLndpZHRoICE9PSB3aWR0aCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBtYXliZUxvZ0RlcHJlY2F0aW9uV2FybmluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGlkTG9nRGVwcmVjYXRpb25XYXJuaW5nKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2RpZExvZ0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcInNjYWxlZFdpZHRoIGFuZCBzY2FsZWRIZWlnaHQgcGFyYW1ldGVycyBoYXZlIGJlZW4gZGVwcmVjYXRlZDsgdXNlIHdpZHRoIGFuZCBoZWlnaHQgaW5zdGVhZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmICh0eXBlb2Ygb25SZXNpemUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgb25SZXNpemUoe1xuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAvLyBUT0RPIFJlbW92ZSB0aGVzZSBwYXJhbXMgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgICAgICAgICAgICBnZXQgc2NhbGVkSGVpZ2h0KCkge1xuICAgICAgICAgICAgICAgIG1heWJlTG9nRGVwcmVjYXRpb25XYXJuaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZ2V0IHNjYWxlZFdpZHRoKCkge1xuICAgICAgICAgICAgICAgIG1heWJlTG9nRGVwcmVjYXRpb25XYXJuaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX3NldFJlZiA9IGF1dG9TaXplciA9PiB7XG4gICAgICB0aGlzLl9hdXRvU2l6ZXIgPSBhdXRvU2l6ZXI7XG4gICAgfTtcbiAgfVxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBub25jZVxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHBhcmVudE5vZGUgPSB0aGlzLl9hdXRvU2l6ZXIgPyB0aGlzLl9hdXRvU2l6ZXIucGFyZW50Tm9kZSA6IG51bGw7XG4gICAgaWYgKHBhcmVudE5vZGUgIT0gbnVsbCAmJiBwYXJlbnROb2RlLm93bmVyRG9jdW1lbnQgJiYgcGFyZW50Tm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIHBhcmVudE5vZGUgaW5zdGFuY2VvZiBwYXJlbnROb2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuSFRNTEVsZW1lbnQpIHtcbiAgICAgIC8vIERlbGF5IGFjY2VzcyBvZiBwYXJlbnROb2RlIHVudGlsIG1vdW50LlxuICAgICAgLy8gVGhpcyBoYW5kbGVzIGVkZ2UtY2FzZXMgd2hlcmUgdGhlIGNvbXBvbmVudCBoYXMgYWxyZWFkeSBiZWVuIHVubW91bnRlZCBiZWZvcmUgaXRzIHJlZiBoYXMgYmVlbiBzZXQsXG4gICAgICAvLyBBcyB3ZWxsIGFzIGxpYnJhcmllcyBsaWtlIHJlYWN0LWxpdGUgd2hpY2ggaGF2ZSBhIHNsaWdodGx5IGRpZmZlcmVudCBsaWZlY3ljbGUuXG4gICAgICB0aGlzLl9wYXJlbnROb2RlID0gcGFyZW50Tm9kZTtcblxuICAgICAgLy8gVXNlIFJlc2l6ZU9ic2VydmVyIGZyb20gdGhlIHNhbWUgY29udGV4dCB3aGVyZSBwYXJlbnROb2RlICh3aGljaCB3ZSB3aWxsIG9ic2VydmUpIHdhcyBkZWZpbmVkXG4gICAgICAvLyBVc2luZyBqdXN0IGdsb2JhbCBjYW4gcmVzdWx0IGludG8gb25SZXNpemUgZXZlbnRzIG5vdCBiZWluZyBlbWl0dGVkIGluIGNhc2VzIHdpdGggbXVsdGlwbGUgcmVhbG1zXG4gICAgICBjb25zdCBSZXNpemVPYnNlcnZlckluc3RhbmNlID0gcGFyZW50Tm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LlJlc2l6ZU9ic2VydmVyO1xuICAgICAgaWYgKFJlc2l6ZU9ic2VydmVySW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlckluc3RhbmNlKCgpID0+IHtcbiAgICAgICAgICAvLyBHdWFyZCBhZ2FpbnN0IFwiUmVzaXplT2JzZXJ2ZXIgbG9vcCBsaW1pdCBleGNlZWRlZFwiIGVycm9yO1xuICAgICAgICAgIC8vIGNvdWxkIGJlIHRyaWdnZXJlZCBpZiB0aGUgc3RhdGUgdXBkYXRlIGNhdXNlcyB0aGUgUmVzaXplT2JzZXJ2ZXIgaGFuZGxlciB0byBydW4gbG9uZy5cbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2J2YXVnaG4vcmVhY3QtdmlydHVhbGl6ZWQtYXV0by1zaXplci9pc3N1ZXMvNTVcbiAgICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KHRoaXMuX29uUmVzaXplLCAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZU9ic2VydmVyLm9ic2VydmUocGFyZW50Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEZWZlciByZXF1aXJpbmcgcmVzaXplIGhhbmRsZXIgaW4gb3JkZXIgdG8gc3VwcG9ydCBzZXJ2ZXItc2lkZSByZW5kZXJpbmcuXG4gICAgICAgIC8vIFNlZSBpc3N1ZSAjNDFcbiAgICAgICAgdGhpcy5fZGV0ZWN0RWxlbWVudFJlc2l6ZSA9IGNyZWF0ZURldGVjdEVsZW1lbnRSZXNpemUobm9uY2UpO1xuICAgICAgICB0aGlzLl9kZXRlY3RFbGVtZW50UmVzaXplLmFkZFJlc2l6ZUxpc3RlbmVyKHBhcmVudE5vZGUsIHRoaXMuX29uUmVzaXplKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX29uUmVzaXplKCk7XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9wYXJlbnROb2RlKSB7XG4gICAgICBpZiAodGhpcy5fZGV0ZWN0RWxlbWVudFJlc2l6ZSkge1xuICAgICAgICB0aGlzLl9kZXRlY3RFbGVtZW50UmVzaXplLnJlbW92ZVJlc2l6ZUxpc3RlbmVyKHRoaXMuX3BhcmVudE5vZGUsIHRoaXMuX29uUmVzaXplKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl90aW1lb3V0SWQgIT09IG51bGwpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fcmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5fcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBkZWZhdWx0SGVpZ2h0LFxuICAgICAgZGVmYXVsdFdpZHRoLFxuICAgICAgZGlzYWJsZUhlaWdodCA9IGZhbHNlLFxuICAgICAgZGlzYWJsZVdpZHRoID0gZmFsc2UsXG4gICAgICBkb05vdEJhaWxPdXRPbkVtcHR5Q2hpbGRyZW4gPSBmYWxzZSxcbiAgICAgIG5vbmNlLFxuICAgICAgb25SZXNpemUsXG4gICAgICBzdHlsZSA9IHt9LFxuICAgICAgdGFnTmFtZSA9IFwiZGl2XCIsXG4gICAgICAuLi5yZXN0XG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgaGVpZ2h0LFxuICAgICAgd2lkdGhcbiAgICB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIC8vIE91dGVyIGRpdiBzaG91bGQgbm90IGZvcmNlIHdpZHRoL2hlaWdodCBzaW5jZSB0aGF0IG1heSBwcmV2ZW50IGNvbnRhaW5lcnMgZnJvbSBzaHJpbmtpbmcuXG4gICAgLy8gSW5uZXIgY29tcG9uZW50IHNob3VsZCBvdmVyZmxvdyBhbmQgdXNlIGNhbGN1bGF0ZWQgd2lkdGgvaGVpZ2h0LlxuICAgIC8vIFNlZSBpc3N1ZSAjNjggZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgY29uc3Qgb3V0ZXJTdHlsZSA9IHtcbiAgICAgIG92ZXJmbG93OiBcInZpc2libGVcIlxuICAgIH07XG4gICAgY29uc3QgY2hpbGRQYXJhbXMgPSB7fTtcblxuICAgIC8vIEF2b2lkIHJlbmRlcmluZyBjaGlsZHJlbiBiZWZvcmUgdGhlIGluaXRpYWwgbWVhc3VyZW1lbnRzIGhhdmUgYmVlbiBjb2xsZWN0ZWQuXG4gICAgLy8gQXQgYmVzdCB0aGlzIHdvdWxkIGp1c3QgYmUgd2FzdGluZyBjeWNsZXMuXG4gICAgbGV0IGJhaWxvdXRPbkNoaWxkcmVuID0gZmFsc2U7XG4gICAgaWYgKCFkaXNhYmxlSGVpZ2h0KSB7XG4gICAgICBpZiAoaGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIGJhaWxvdXRPbkNoaWxkcmVuID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIG91dGVyU3R5bGUuaGVpZ2h0ID0gMDtcbiAgICAgIGNoaWxkUGFyYW1zLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgLy8gVE9ETyBSZW1vdmUgdGhpcyBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gICAgICBjaGlsZFBhcmFtcy5zY2FsZWRIZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIGlmICghZGlzYWJsZVdpZHRoKSB7XG4gICAgICBpZiAod2lkdGggPT09IDApIHtcbiAgICAgICAgYmFpbG91dE9uQ2hpbGRyZW4gPSB0cnVlO1xuICAgICAgfVxuICAgICAgb3V0ZXJTdHlsZS53aWR0aCA9IDA7XG4gICAgICBjaGlsZFBhcmFtcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgICAvLyBUT0RPIFJlbW92ZSB0aGlzIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICAgIGNoaWxkUGFyYW1zLnNjYWxlZFdpZHRoID0gd2lkdGg7XG4gICAgfVxuICAgIGlmIChkb05vdEJhaWxPdXRPbkVtcHR5Q2hpbGRyZW4pIHtcbiAgICAgIGJhaWxvdXRPbkNoaWxkcmVuID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIHtcbiAgICAgIHJlZjogdGhpcy5fc2V0UmVmLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgLi4ub3V0ZXJTdHlsZSxcbiAgICAgICAgLi4uc3R5bGVcbiAgICAgIH0sXG4gICAgICAuLi5yZXN0XG4gICAgfSwgIWJhaWxvdXRPbkNoaWxkcmVuICYmIGNoaWxkcmVuKGNoaWxkUGFyYW1zKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNIZWlnaHRBbmRXaWR0aFByb3BzKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcyAmJiBwcm9wcy5kaXNhYmxlSGVpZ2h0ICE9PSB0cnVlICYmIHByb3BzLmRpc2FibGVXaWR0aCAhPT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlzSGVpZ2h0T25seVByb3BzKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcyAmJiBwcm9wcy5kaXNhYmxlSGVpZ2h0ICE9PSB0cnVlICYmIHByb3BzLmRpc2FibGVXaWR0aCA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlzV2lkdGhPbmx5UHJvcHMocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzICYmIHByb3BzLmRpc2FibGVIZWlnaHQgPT09IHRydWUgJiYgcHJvcHMuZGlzYWJsZVdpZHRoICE9PSB0cnVlO1xufVxuXG5leHBvcnQgeyBBdXRvU2l6ZXIgYXMgZGVmYXVsdCwgaXNIZWlnaHRBbmRXaWR0aFByb3BzLCBpc0hlaWdodE9ubHlQcm9wcywgaXNXaWR0aE9ubHlQcm9wcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-virtualized-auto-sizer/dist/react-virtualized-auto-sizer.esm.js\n\n}");

/***/ }),

/***/ "./node_modules/reselect/dist/reselect.mjs":
/*!*************************************************!*\
  !*** ./node_modules/reselect/dist/reselect.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSelector: () => (/* binding */ createSelector),\n/* harmony export */   lruMemoize: () => (/* binding */ lruMemoize)\n/* harmony export */ });\n/* unused harmony exports createSelectorCreator, createStructuredSelector, referenceEqualityCheck, setGlobalDevModeChecks, unstable_autotrackMemoize, weakMapMemoize */\n// src/devModeChecks/identityFunctionCheck.ts\nvar runIdentityFunctionCheck = (resultFunc, inputSelectorsResults, outputSelectorResult) => {\n  if (inputSelectorsResults.length === 1 && inputSelectorsResults[0] === outputSelectorResult) {\n    let isInputSameAsOutput = false;\n    try {\n      const emptyObject = {};\n      if (resultFunc(emptyObject) === emptyObject)\n        isInputSameAsOutput = true;\n    } catch {\n    }\n    if (isInputSameAsOutput) {\n      let stack = void 0;\n      try {\n        throw new Error();\n      } catch (e) {\n        ;\n        ({ stack } = e);\n      }\n      console.warn(\n        \"The result function returned its own inputs without modification. e.g\\n`createSelector([state => state.todos], todos => todos)`\\nThis could lead to inefficient memoization and unnecessary re-renders.\\nEnsure transformation logic is in the result function, and extraction logic is in the input selectors.\",\n        { stack }\n      );\n    }\n  }\n};\n\n// src/devModeChecks/inputStabilityCheck.ts\nvar runInputStabilityCheck = (inputSelectorResultsObject, options, inputSelectorArgs) => {\n  const { memoize, memoizeOptions } = options;\n  const { inputSelectorResults, inputSelectorResultsCopy } = inputSelectorResultsObject;\n  const createAnEmptyObject = memoize(() => ({}), ...memoizeOptions);\n  const areInputSelectorResultsEqual = createAnEmptyObject.apply(null, inputSelectorResults) === createAnEmptyObject.apply(null, inputSelectorResultsCopy);\n  if (!areInputSelectorResultsEqual) {\n    let stack = void 0;\n    try {\n      throw new Error();\n    } catch (e) {\n      ;\n      ({ stack } = e);\n    }\n    console.warn(\n      \"An input selector returned a different result when passed same arguments.\\nThis means your output selector will likely run more frequently than intended.\\nAvoid returning a new reference inside your input selector, e.g.\\n`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)`\",\n      {\n        arguments: inputSelectorArgs,\n        firstInputs: inputSelectorResults,\n        secondInputs: inputSelectorResultsCopy,\n        stack\n      }\n    );\n  }\n};\n\n// src/devModeChecks/setGlobalDevModeChecks.ts\nvar globalDevModeChecks = {\n  inputStabilityCheck: \"once\",\n  identityFunctionCheck: \"once\"\n};\nvar setGlobalDevModeChecks = (devModeChecks) => {\n  Object.assign(globalDevModeChecks, devModeChecks);\n};\n\n// src/utils.ts\nvar NOT_FOUND = /* @__PURE__ */ Symbol(\"NOT_FOUND\");\nfunction assertIsFunction(func, errorMessage = `expected a function, instead received ${typeof func}`) {\n  if (typeof func !== \"function\") {\n    throw new TypeError(errorMessage);\n  }\n}\nfunction assertIsObject(object, errorMessage = `expected an object, instead received ${typeof object}`) {\n  if (typeof object !== \"object\") {\n    throw new TypeError(errorMessage);\n  }\n}\nfunction assertIsArrayOfFunctions(array, errorMessage = `expected all items to be functions, instead received the following types: `) {\n  if (!array.every((item) => typeof item === \"function\")) {\n    const itemTypes = array.map(\n      (item) => typeof item === \"function\" ? `function ${item.name || \"unnamed\"}()` : typeof item\n    ).join(\", \");\n    throw new TypeError(`${errorMessage}[${itemTypes}]`);\n  }\n}\nvar ensureIsArray = (item) => {\n  return Array.isArray(item) ? item : [item];\n};\nfunction getDependencies(createSelectorArgs) {\n  const dependencies = Array.isArray(createSelectorArgs[0]) ? createSelectorArgs[0] : createSelectorArgs;\n  assertIsArrayOfFunctions(\n    dependencies,\n    `createSelector expects all input-selectors to be functions, but received the following types: `\n  );\n  return dependencies;\n}\nfunction collectInputSelectorResults(dependencies, inputSelectorArgs) {\n  const inputSelectorResults = [];\n  const { length } = dependencies;\n  for (let i = 0; i < length; i++) {\n    inputSelectorResults.push(dependencies[i].apply(null, inputSelectorArgs));\n  }\n  return inputSelectorResults;\n}\nvar getDevModeChecksExecutionInfo = (firstRun, devModeChecks) => {\n  const { identityFunctionCheck, inputStabilityCheck } = {\n    ...globalDevModeChecks,\n    ...devModeChecks\n  };\n  return {\n    identityFunctionCheck: {\n      shouldRun: identityFunctionCheck === \"always\" || identityFunctionCheck === \"once\" && firstRun,\n      run: runIdentityFunctionCheck\n    },\n    inputStabilityCheck: {\n      shouldRun: inputStabilityCheck === \"always\" || inputStabilityCheck === \"once\" && firstRun,\n      run: runInputStabilityCheck\n    }\n  };\n};\n\n// src/autotrackMemoize/autotracking.ts\nvar $REVISION = 0;\nvar CURRENT_TRACKER = null;\nvar Cell = class {\n  revision = $REVISION;\n  _value;\n  _lastValue;\n  _isEqual = tripleEq;\n  constructor(initialValue, isEqual = tripleEq) {\n    this._value = this._lastValue = initialValue;\n    this._isEqual = isEqual;\n  }\n  // Whenever a storage value is read, it'll add itself to the current tracker if\n  // one exists, entangling its state with that cache.\n  get value() {\n    CURRENT_TRACKER?.add(this);\n    return this._value;\n  }\n  // Whenever a storage value is updated, we bump the global revision clock,\n  // assign the revision for this storage to the new value, _and_ we schedule a\n  // rerender. This is important, and it's what makes autotracking  _pull_\n  // based. We don't actively tell the caches which depend on the storage that\n  // anything has happened. Instead, we recompute the caches when needed.\n  set value(newValue) {\n    if (this.value === newValue)\n      return;\n    this._value = newValue;\n    this.revision = ++$REVISION;\n  }\n};\nfunction tripleEq(a, b) {\n  return a === b;\n}\nvar TrackingCache = class {\n  _cachedValue;\n  _cachedRevision = -1;\n  _deps = [];\n  hits = 0;\n  fn;\n  constructor(fn) {\n    this.fn = fn;\n  }\n  clear() {\n    this._cachedValue = void 0;\n    this._cachedRevision = -1;\n    this._deps = [];\n    this.hits = 0;\n  }\n  get value() {\n    if (this.revision > this._cachedRevision) {\n      const { fn } = this;\n      const currentTracker = /* @__PURE__ */ new Set();\n      const prevTracker = CURRENT_TRACKER;\n      CURRENT_TRACKER = currentTracker;\n      this._cachedValue = fn();\n      CURRENT_TRACKER = prevTracker;\n      this.hits++;\n      this._deps = Array.from(currentTracker);\n      this._cachedRevision = this.revision;\n    }\n    CURRENT_TRACKER?.add(this);\n    return this._cachedValue;\n  }\n  get revision() {\n    return Math.max(...this._deps.map((d) => d.revision), 0);\n  }\n};\nfunction getValue(cell) {\n  if (!(cell instanceof Cell)) {\n    console.warn(\"Not a valid cell! \", cell);\n  }\n  return cell.value;\n}\nfunction setValue(storage, value) {\n  if (!(storage instanceof Cell)) {\n    throw new TypeError(\n      \"setValue must be passed a tracked store created with `createStorage`.\"\n    );\n  }\n  storage.value = storage._lastValue = value;\n}\nfunction createCell(initialValue, isEqual = tripleEq) {\n  return new Cell(initialValue, isEqual);\n}\nfunction createCache(fn) {\n  assertIsFunction(\n    fn,\n    \"the first parameter to `createCache` must be a function\"\n  );\n  return new TrackingCache(fn);\n}\n\n// src/autotrackMemoize/tracking.ts\nvar neverEq = (a, b) => false;\nfunction createTag() {\n  return createCell(null, neverEq);\n}\nfunction dirtyTag(tag, value) {\n  setValue(tag, value);\n}\nvar consumeCollection = (node) => {\n  let tag = node.collectionTag;\n  if (tag === null) {\n    tag = node.collectionTag = createTag();\n  }\n  getValue(tag);\n};\nvar dirtyCollection = (node) => {\n  const tag = node.collectionTag;\n  if (tag !== null) {\n    dirtyTag(tag, null);\n  }\n};\n\n// src/autotrackMemoize/proxy.ts\nvar REDUX_PROXY_LABEL = Symbol();\nvar nextId = 0;\nvar proto = Object.getPrototypeOf({});\nvar ObjectTreeNode = class {\n  constructor(value) {\n    this.value = value;\n    this.value = value;\n    this.tag.value = value;\n  }\n  proxy = new Proxy(this, objectProxyHandler);\n  tag = createTag();\n  tags = {};\n  children = {};\n  collectionTag = null;\n  id = nextId++;\n};\nvar objectProxyHandler = {\n  get(node, key) {\n    function calculateResult() {\n      const { value } = node;\n      const childValue = Reflect.get(value, key);\n      if (typeof key === \"symbol\") {\n        return childValue;\n      }\n      if (key in proto) {\n        return childValue;\n      }\n      if (typeof childValue === \"object\" && childValue !== null) {\n        let childNode = node.children[key];\n        if (childNode === void 0) {\n          childNode = node.children[key] = createNode(childValue);\n        }\n        if (childNode.tag) {\n          getValue(childNode.tag);\n        }\n        return childNode.proxy;\n      } else {\n        let tag = node.tags[key];\n        if (tag === void 0) {\n          tag = node.tags[key] = createTag();\n          tag.value = childValue;\n        }\n        getValue(tag);\n        return childValue;\n      }\n    }\n    const res = calculateResult();\n    return res;\n  },\n  ownKeys(node) {\n    consumeCollection(node);\n    return Reflect.ownKeys(node.value);\n  },\n  getOwnPropertyDescriptor(node, prop) {\n    return Reflect.getOwnPropertyDescriptor(node.value, prop);\n  },\n  has(node, prop) {\n    return Reflect.has(node.value, prop);\n  }\n};\nvar ArrayTreeNode = class {\n  constructor(value) {\n    this.value = value;\n    this.value = value;\n    this.tag.value = value;\n  }\n  proxy = new Proxy([this], arrayProxyHandler);\n  tag = createTag();\n  tags = {};\n  children = {};\n  collectionTag = null;\n  id = nextId++;\n};\nvar arrayProxyHandler = {\n  get([node], key) {\n    if (key === \"length\") {\n      consumeCollection(node);\n    }\n    return objectProxyHandler.get(node, key);\n  },\n  ownKeys([node]) {\n    return objectProxyHandler.ownKeys(node);\n  },\n  getOwnPropertyDescriptor([node], prop) {\n    return objectProxyHandler.getOwnPropertyDescriptor(node, prop);\n  },\n  has([node], prop) {\n    return objectProxyHandler.has(node, prop);\n  }\n};\nfunction createNode(value) {\n  if (Array.isArray(value)) {\n    return new ArrayTreeNode(value);\n  }\n  return new ObjectTreeNode(value);\n}\nfunction updateNode(node, newValue) {\n  const { value, tags, children } = node;\n  node.value = newValue;\n  if (Array.isArray(value) && Array.isArray(newValue) && value.length !== newValue.length) {\n    dirtyCollection(node);\n  } else {\n    if (value !== newValue) {\n      let oldKeysSize = 0;\n      let newKeysSize = 0;\n      let anyKeysAdded = false;\n      for (const _key in value) {\n        oldKeysSize++;\n      }\n      for (const key in newValue) {\n        newKeysSize++;\n        if (!(key in value)) {\n          anyKeysAdded = true;\n          break;\n        }\n      }\n      const isDifferent = anyKeysAdded || oldKeysSize !== newKeysSize;\n      if (isDifferent) {\n        dirtyCollection(node);\n      }\n    }\n  }\n  for (const key in tags) {\n    const childValue = value[key];\n    const newChildValue = newValue[key];\n    if (childValue !== newChildValue) {\n      dirtyCollection(node);\n      dirtyTag(tags[key], newChildValue);\n    }\n    if (typeof newChildValue === \"object\" && newChildValue !== null) {\n      delete tags[key];\n    }\n  }\n  for (const key in children) {\n    const childNode = children[key];\n    const newChildValue = newValue[key];\n    const childValue = childNode.value;\n    if (childValue === newChildValue) {\n      continue;\n    } else if (typeof newChildValue === \"object\" && newChildValue !== null) {\n      updateNode(childNode, newChildValue);\n    } else {\n      deleteNode(childNode);\n      delete children[key];\n    }\n  }\n}\nfunction deleteNode(node) {\n  if (node.tag) {\n    dirtyTag(node.tag, null);\n  }\n  dirtyCollection(node);\n  for (const key in node.tags) {\n    dirtyTag(node.tags[key], null);\n  }\n  for (const key in node.children) {\n    deleteNode(node.children[key]);\n  }\n}\n\n// src/lruMemoize.ts\nfunction createSingletonCache(equals) {\n  let entry;\n  return {\n    get(key) {\n      if (entry && equals(entry.key, key)) {\n        return entry.value;\n      }\n      return NOT_FOUND;\n    },\n    put(key, value) {\n      entry = { key, value };\n    },\n    getEntries() {\n      return entry ? [entry] : [];\n    },\n    clear() {\n      entry = void 0;\n    }\n  };\n}\nfunction createLruCache(maxSize, equals) {\n  let entries = [];\n  function get(key) {\n    const cacheIndex = entries.findIndex((entry) => equals(key, entry.key));\n    if (cacheIndex > -1) {\n      const entry = entries[cacheIndex];\n      if (cacheIndex > 0) {\n        entries.splice(cacheIndex, 1);\n        entries.unshift(entry);\n      }\n      return entry.value;\n    }\n    return NOT_FOUND;\n  }\n  function put(key, value) {\n    if (get(key) === NOT_FOUND) {\n      entries.unshift({ key, value });\n      if (entries.length > maxSize) {\n        entries.pop();\n      }\n    }\n  }\n  function getEntries() {\n    return entries;\n  }\n  function clear() {\n    entries = [];\n  }\n  return { get, put, getEntries, clear };\n}\nvar referenceEqualityCheck = (a, b) => a === b;\nfunction createCacheKeyComparator(equalityCheck) {\n  return function areArgumentsShallowlyEqual(prev, next) {\n    if (prev === null || next === null || prev.length !== next.length) {\n      return false;\n    }\n    const { length } = prev;\n    for (let i = 0; i < length; i++) {\n      if (!equalityCheck(prev[i], next[i])) {\n        return false;\n      }\n    }\n    return true;\n  };\n}\nfunction lruMemoize(func, equalityCheckOrOptions) {\n  const providedOptions = typeof equalityCheckOrOptions === \"object\" ? equalityCheckOrOptions : { equalityCheck: equalityCheckOrOptions };\n  const {\n    equalityCheck = referenceEqualityCheck,\n    maxSize = 1,\n    resultEqualityCheck\n  } = providedOptions;\n  const comparator = createCacheKeyComparator(equalityCheck);\n  let resultsCount = 0;\n  const cache = maxSize <= 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator);\n  function memoized() {\n    let value = cache.get(arguments);\n    if (value === NOT_FOUND) {\n      value = func.apply(null, arguments);\n      resultsCount++;\n      if (resultEqualityCheck) {\n        const entries = cache.getEntries();\n        const matchingEntry = entries.find(\n          (entry) => resultEqualityCheck(entry.value, value)\n        );\n        if (matchingEntry) {\n          value = matchingEntry.value;\n          resultsCount !== 0 && resultsCount--;\n        }\n      }\n      cache.put(arguments, value);\n    }\n    return value;\n  }\n  memoized.clearCache = () => {\n    cache.clear();\n    memoized.resetResultsCount();\n  };\n  memoized.resultsCount = () => resultsCount;\n  memoized.resetResultsCount = () => {\n    resultsCount = 0;\n  };\n  return memoized;\n}\n\n// src/autotrackMemoize/autotrackMemoize.ts\nfunction autotrackMemoize(func) {\n  const node = createNode(\n    []\n  );\n  let lastArgs = null;\n  const shallowEqual = createCacheKeyComparator(referenceEqualityCheck);\n  const cache = createCache(() => {\n    const res = func.apply(null, node.proxy);\n    return res;\n  });\n  function memoized() {\n    if (!shallowEqual(lastArgs, arguments)) {\n      updateNode(node, arguments);\n      lastArgs = arguments;\n    }\n    return cache.value;\n  }\n  memoized.clearCache = () => {\n    return cache.clear();\n  };\n  return memoized;\n}\n\n// src/weakMapMemoize.ts\nvar StrongRef = class {\n  constructor(value) {\n    this.value = value;\n  }\n  deref() {\n    return this.value;\n  }\n};\nvar Ref = typeof WeakRef !== \"undefined\" ? WeakRef : StrongRef;\nvar UNTERMINATED = 0;\nvar TERMINATED = 1;\nfunction createCacheNode() {\n  return {\n    s: UNTERMINATED,\n    v: void 0,\n    o: null,\n    p: null\n  };\n}\nfunction weakMapMemoize(func, options = {}) {\n  let fnNode = createCacheNode();\n  const { resultEqualityCheck } = options;\n  let lastResult;\n  let resultsCount = 0;\n  function memoized() {\n    let cacheNode = fnNode;\n    const { length } = arguments;\n    for (let i = 0, l = length; i < l; i++) {\n      const arg = arguments[i];\n      if (typeof arg === \"function\" || typeof arg === \"object\" && arg !== null) {\n        let objectCache = cacheNode.o;\n        if (objectCache === null) {\n          cacheNode.o = objectCache = /* @__PURE__ */ new WeakMap();\n        }\n        const objectNode = objectCache.get(arg);\n        if (objectNode === void 0) {\n          cacheNode = createCacheNode();\n          objectCache.set(arg, cacheNode);\n        } else {\n          cacheNode = objectNode;\n        }\n      } else {\n        let primitiveCache = cacheNode.p;\n        if (primitiveCache === null) {\n          cacheNode.p = primitiveCache = /* @__PURE__ */ new Map();\n        }\n        const primitiveNode = primitiveCache.get(arg);\n        if (primitiveNode === void 0) {\n          cacheNode = createCacheNode();\n          primitiveCache.set(arg, cacheNode);\n        } else {\n          cacheNode = primitiveNode;\n        }\n      }\n    }\n    const terminatedNode = cacheNode;\n    let result;\n    if (cacheNode.s === TERMINATED) {\n      result = cacheNode.v;\n    } else {\n      result = func.apply(null, arguments);\n      resultsCount++;\n      if (resultEqualityCheck) {\n        const lastResultValue = lastResult?.deref?.() ?? lastResult;\n        if (lastResultValue != null && resultEqualityCheck(lastResultValue, result)) {\n          result = lastResultValue;\n          resultsCount !== 0 && resultsCount--;\n        }\n        const needsWeakRef = typeof result === \"object\" && result !== null || typeof result === \"function\";\n        lastResult = needsWeakRef ? new Ref(result) : result;\n      }\n    }\n    terminatedNode.s = TERMINATED;\n    terminatedNode.v = result;\n    return result;\n  }\n  memoized.clearCache = () => {\n    fnNode = createCacheNode();\n    memoized.resetResultsCount();\n  };\n  memoized.resultsCount = () => resultsCount;\n  memoized.resetResultsCount = () => {\n    resultsCount = 0;\n  };\n  return memoized;\n}\n\n// src/createSelectorCreator.ts\nfunction createSelectorCreator(memoizeOrOptions, ...memoizeOptionsFromArgs) {\n  const createSelectorCreatorOptions = typeof memoizeOrOptions === \"function\" ? {\n    memoize: memoizeOrOptions,\n    memoizeOptions: memoizeOptionsFromArgs\n  } : memoizeOrOptions;\n  const createSelector2 = (...createSelectorArgs) => {\n    let recomputations = 0;\n    let dependencyRecomputations = 0;\n    let lastResult;\n    let directlyPassedOptions = {};\n    let resultFunc = createSelectorArgs.pop();\n    if (typeof resultFunc === \"object\") {\n      directlyPassedOptions = resultFunc;\n      resultFunc = createSelectorArgs.pop();\n    }\n    assertIsFunction(\n      resultFunc,\n      `createSelector expects an output function after the inputs, but received: [${typeof resultFunc}]`\n    );\n    const combinedOptions = {\n      ...createSelectorCreatorOptions,\n      ...directlyPassedOptions\n    };\n    const {\n      memoize,\n      memoizeOptions = [],\n      argsMemoize = weakMapMemoize,\n      argsMemoizeOptions = [],\n      devModeChecks = {}\n    } = combinedOptions;\n    const finalMemoizeOptions = ensureIsArray(memoizeOptions);\n    const finalArgsMemoizeOptions = ensureIsArray(argsMemoizeOptions);\n    const dependencies = getDependencies(createSelectorArgs);\n    const memoizedResultFunc = memoize(function recomputationWrapper() {\n      recomputations++;\n      return resultFunc.apply(\n        null,\n        arguments\n      );\n    }, ...finalMemoizeOptions);\n    let firstRun = true;\n    const selector = argsMemoize(function dependenciesChecker() {\n      dependencyRecomputations++;\n      const inputSelectorResults = collectInputSelectorResults(\n        dependencies,\n        arguments\n      );\n      lastResult = memoizedResultFunc.apply(null, inputSelectorResults);\n      if (true) {\n        const { identityFunctionCheck, inputStabilityCheck } = getDevModeChecksExecutionInfo(firstRun, devModeChecks);\n        if (identityFunctionCheck.shouldRun) {\n          identityFunctionCheck.run(\n            resultFunc,\n            inputSelectorResults,\n            lastResult\n          );\n        }\n        if (inputStabilityCheck.shouldRun) {\n          const inputSelectorResultsCopy = collectInputSelectorResults(\n            dependencies,\n            arguments\n          );\n          inputStabilityCheck.run(\n            { inputSelectorResults, inputSelectorResultsCopy },\n            { memoize, memoizeOptions: finalMemoizeOptions },\n            arguments\n          );\n        }\n        if (firstRun)\n          firstRun = false;\n      }\n      return lastResult;\n    }, ...finalArgsMemoizeOptions);\n    return Object.assign(selector, {\n      resultFunc,\n      memoizedResultFunc,\n      dependencies,\n      dependencyRecomputations: () => dependencyRecomputations,\n      resetDependencyRecomputations: () => {\n        dependencyRecomputations = 0;\n      },\n      lastResult: () => lastResult,\n      recomputations: () => recomputations,\n      resetRecomputations: () => {\n        recomputations = 0;\n      },\n      memoize,\n      argsMemoize\n    });\n  };\n  Object.assign(createSelector2, {\n    withTypes: () => createSelector2\n  });\n  return createSelector2;\n}\nvar createSelector = /* @__PURE__ */ createSelectorCreator(weakMapMemoize);\n\n// src/createStructuredSelector.ts\nvar createStructuredSelector = Object.assign(\n  (inputSelectorsObject, selectorCreator = createSelector) => {\n    assertIsObject(\n      inputSelectorsObject,\n      `createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof inputSelectorsObject}`\n    );\n    const inputSelectorKeys = Object.keys(inputSelectorsObject);\n    const dependencies = inputSelectorKeys.map(\n      (key) => inputSelectorsObject[key]\n    );\n    const structuredSelector = selectorCreator(\n      dependencies,\n      (...inputSelectorResults) => {\n        return inputSelectorResults.reduce((composition, value, index) => {\n          composition[inputSelectorKeys[index]] = value;\n          return composition;\n        }, {});\n      }\n    );\n    return structuredSelector;\n  },\n  { withTypes: () => createStructuredSelector }\n);\n\n//# sourceMappingURL=reselect.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVzZWxlY3QvZGlzdC9yZXNlbGVjdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVzZWxlY3QvZGlzdC9yZXNlbGVjdC5tanM/ZmMwMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZGV2TW9kZUNoZWNrcy9pZGVudGl0eUZ1bmN0aW9uQ2hlY2sudHNcbnZhciBydW5JZGVudGl0eUZ1bmN0aW9uQ2hlY2sgPSAocmVzdWx0RnVuYywgaW5wdXRTZWxlY3RvcnNSZXN1bHRzLCBvdXRwdXRTZWxlY3RvclJlc3VsdCkgPT4ge1xuICBpZiAoaW5wdXRTZWxlY3RvcnNSZXN1bHRzLmxlbmd0aCA9PT0gMSAmJiBpbnB1dFNlbGVjdG9yc1Jlc3VsdHNbMF0gPT09IG91dHB1dFNlbGVjdG9yUmVzdWx0KSB7XG4gICAgbGV0IGlzSW5wdXRTYW1lQXNPdXRwdXQgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZW1wdHlPYmplY3QgPSB7fTtcbiAgICAgIGlmIChyZXN1bHRGdW5jKGVtcHR5T2JqZWN0KSA9PT0gZW1wdHlPYmplY3QpXG4gICAgICAgIGlzSW5wdXRTYW1lQXNPdXRwdXQgPSB0cnVlO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgICBpZiAoaXNJbnB1dFNhbWVBc091dHB1dCkge1xuICAgICAgbGV0IHN0YWNrID0gdm9pZCAwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIDtcbiAgICAgICAgKHsgc3RhY2sgfSA9IGUpO1xuICAgICAgfVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIlRoZSByZXN1bHQgZnVuY3Rpb24gcmV0dXJuZWQgaXRzIG93biBpbnB1dHMgd2l0aG91dCBtb2RpZmljYXRpb24uIGUuZ1xcbmBjcmVhdGVTZWxlY3Rvcihbc3RhdGUgPT4gc3RhdGUudG9kb3NdLCB0b2RvcyA9PiB0b2RvcylgXFxuVGhpcyBjb3VsZCBsZWFkIHRvIGluZWZmaWNpZW50IG1lbW9pemF0aW9uIGFuZCB1bm5lY2Vzc2FyeSByZS1yZW5kZXJzLlxcbkVuc3VyZSB0cmFuc2Zvcm1hdGlvbiBsb2dpYyBpcyBpbiB0aGUgcmVzdWx0IGZ1bmN0aW9uLCBhbmQgZXh0cmFjdGlvbiBsb2dpYyBpcyBpbiB0aGUgaW5wdXQgc2VsZWN0b3JzLlwiLFxuICAgICAgICB7IHN0YWNrIH1cbiAgICAgICk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvZGV2TW9kZUNoZWNrcy9pbnB1dFN0YWJpbGl0eUNoZWNrLnRzXG52YXIgcnVuSW5wdXRTdGFiaWxpdHlDaGVjayA9IChpbnB1dFNlbGVjdG9yUmVzdWx0c09iamVjdCwgb3B0aW9ucywgaW5wdXRTZWxlY3RvckFyZ3MpID0+IHtcbiAgY29uc3QgeyBtZW1vaXplLCBtZW1vaXplT3B0aW9ucyB9ID0gb3B0aW9ucztcbiAgY29uc3QgeyBpbnB1dFNlbGVjdG9yUmVzdWx0cywgaW5wdXRTZWxlY3RvclJlc3VsdHNDb3B5IH0gPSBpbnB1dFNlbGVjdG9yUmVzdWx0c09iamVjdDtcbiAgY29uc3QgY3JlYXRlQW5FbXB0eU9iamVjdCA9IG1lbW9pemUoKCkgPT4gKHt9KSwgLi4ubWVtb2l6ZU9wdGlvbnMpO1xuICBjb25zdCBhcmVJbnB1dFNlbGVjdG9yUmVzdWx0c0VxdWFsID0gY3JlYXRlQW5FbXB0eU9iamVjdC5hcHBseShudWxsLCBpbnB1dFNlbGVjdG9yUmVzdWx0cykgPT09IGNyZWF0ZUFuRW1wdHlPYmplY3QuYXBwbHkobnVsbCwgaW5wdXRTZWxlY3RvclJlc3VsdHNDb3B5KTtcbiAgaWYgKCFhcmVJbnB1dFNlbGVjdG9yUmVzdWx0c0VxdWFsKSB7XG4gICAgbGV0IHN0YWNrID0gdm9pZCAwO1xuICAgIHRyeSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICA7XG4gICAgICAoeyBzdGFjayB9ID0gZSk7XG4gICAgfVxuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiQW4gaW5wdXQgc2VsZWN0b3IgcmV0dXJuZWQgYSBkaWZmZXJlbnQgcmVzdWx0IHdoZW4gcGFzc2VkIHNhbWUgYXJndW1lbnRzLlxcblRoaXMgbWVhbnMgeW91ciBvdXRwdXQgc2VsZWN0b3Igd2lsbCBsaWtlbHkgcnVuIG1vcmUgZnJlcXVlbnRseSB0aGFuIGludGVuZGVkLlxcbkF2b2lkIHJldHVybmluZyBhIG5ldyByZWZlcmVuY2UgaW5zaWRlIHlvdXIgaW5wdXQgc2VsZWN0b3IsIGUuZy5cXG5gY3JlYXRlU2VsZWN0b3IoW3N0YXRlID0+IHN0YXRlLnRvZG9zLm1hcCh0b2RvID0+IHRvZG8uaWQpXSwgdG9kb0lkcyA9PiB0b2RvSWRzLmxlbmd0aClgXCIsXG4gICAgICB7XG4gICAgICAgIGFyZ3VtZW50czogaW5wdXRTZWxlY3RvckFyZ3MsXG4gICAgICAgIGZpcnN0SW5wdXRzOiBpbnB1dFNlbGVjdG9yUmVzdWx0cyxcbiAgICAgICAgc2Vjb25kSW5wdXRzOiBpbnB1dFNlbGVjdG9yUmVzdWx0c0NvcHksXG4gICAgICAgIHN0YWNrXG4gICAgICB9XG4gICAgKTtcbiAgfVxufTtcblxuLy8gc3JjL2Rldk1vZGVDaGVja3Mvc2V0R2xvYmFsRGV2TW9kZUNoZWNrcy50c1xudmFyIGdsb2JhbERldk1vZGVDaGVja3MgPSB7XG4gIGlucHV0U3RhYmlsaXR5Q2hlY2s6IFwib25jZVwiLFxuICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2s6IFwib25jZVwiXG59O1xudmFyIHNldEdsb2JhbERldk1vZGVDaGVja3MgPSAoZGV2TW9kZUNoZWNrcykgPT4ge1xuICBPYmplY3QuYXNzaWduKGdsb2JhbERldk1vZGVDaGVja3MsIGRldk1vZGVDaGVja3MpO1xufTtcblxuLy8gc3JjL3V0aWxzLnRzXG52YXIgTk9UX0ZPVU5EID0gLyogQF9fUFVSRV9fICovIFN5bWJvbChcIk5PVF9GT1VORFwiKTtcbmZ1bmN0aW9uIGFzc2VydElzRnVuY3Rpb24oZnVuYywgZXJyb3JNZXNzYWdlID0gYGV4cGVjdGVkIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgJHt0eXBlb2YgZnVuY31gKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihlcnJvck1lc3NhZ2UpO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnRJc09iamVjdChvYmplY3QsIGVycm9yTWVzc2FnZSA9IGBleHBlY3RlZCBhbiBvYmplY3QsIGluc3RlYWQgcmVjZWl2ZWQgJHt0eXBlb2Ygb2JqZWN0fWApIHtcbiAgaWYgKHR5cGVvZiBvYmplY3QgIT09IFwib2JqZWN0XCIpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGVycm9yTWVzc2FnZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydElzQXJyYXlPZkZ1bmN0aW9ucyhhcnJheSwgZXJyb3JNZXNzYWdlID0gYGV4cGVjdGVkIGFsbCBpdGVtcyB0byBiZSBmdW5jdGlvbnMsIGluc3RlYWQgcmVjZWl2ZWQgdGhlIGZvbGxvd2luZyB0eXBlczogYCkge1xuICBpZiAoIWFycmF5LmV2ZXJ5KChpdGVtKSA9PiB0eXBlb2YgaXRlbSA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIGNvbnN0IGl0ZW1UeXBlcyA9IGFycmF5Lm1hcChcbiAgICAgIChpdGVtKSA9PiB0eXBlb2YgaXRlbSA9PT0gXCJmdW5jdGlvblwiID8gYGZ1bmN0aW9uICR7aXRlbS5uYW1lIHx8IFwidW5uYW1lZFwifSgpYCA6IHR5cGVvZiBpdGVtXG4gICAgKS5qb2luKFwiLCBcIik7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtlcnJvck1lc3NhZ2V9WyR7aXRlbVR5cGVzfV1gKTtcbiAgfVxufVxudmFyIGVuc3VyZUlzQXJyYXkgPSAoaXRlbSkgPT4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShpdGVtKSA/IGl0ZW0gOiBbaXRlbV07XG59O1xuZnVuY3Rpb24gZ2V0RGVwZW5kZW5jaWVzKGNyZWF0ZVNlbGVjdG9yQXJncykge1xuICBjb25zdCBkZXBlbmRlbmNpZXMgPSBBcnJheS5pc0FycmF5KGNyZWF0ZVNlbGVjdG9yQXJnc1swXSkgPyBjcmVhdGVTZWxlY3RvckFyZ3NbMF0gOiBjcmVhdGVTZWxlY3RvckFyZ3M7XG4gIGFzc2VydElzQXJyYXlPZkZ1bmN0aW9ucyhcbiAgICBkZXBlbmRlbmNpZXMsXG4gICAgYGNyZWF0ZVNlbGVjdG9yIGV4cGVjdHMgYWxsIGlucHV0LXNlbGVjdG9ycyB0byBiZSBmdW5jdGlvbnMsIGJ1dCByZWNlaXZlZCB0aGUgZm9sbG93aW5nIHR5cGVzOiBgXG4gICk7XG4gIHJldHVybiBkZXBlbmRlbmNpZXM7XG59XG5mdW5jdGlvbiBjb2xsZWN0SW5wdXRTZWxlY3RvclJlc3VsdHMoZGVwZW5kZW5jaWVzLCBpbnB1dFNlbGVjdG9yQXJncykge1xuICBjb25zdCBpbnB1dFNlbGVjdG9yUmVzdWx0cyA9IFtdO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gZGVwZW5kZW5jaWVzO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaW5wdXRTZWxlY3RvclJlc3VsdHMucHVzaChkZXBlbmRlbmNpZXNbaV0uYXBwbHkobnVsbCwgaW5wdXRTZWxlY3RvckFyZ3MpKTtcbiAgfVxuICByZXR1cm4gaW5wdXRTZWxlY3RvclJlc3VsdHM7XG59XG52YXIgZ2V0RGV2TW9kZUNoZWNrc0V4ZWN1dGlvbkluZm8gPSAoZmlyc3RSdW4sIGRldk1vZGVDaGVja3MpID0+IHtcbiAgY29uc3QgeyBpZGVudGl0eUZ1bmN0aW9uQ2hlY2ssIGlucHV0U3RhYmlsaXR5Q2hlY2sgfSA9IHtcbiAgICAuLi5nbG9iYWxEZXZNb2RlQ2hlY2tzLFxuICAgIC4uLmRldk1vZGVDaGVja3NcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2s6IHtcbiAgICAgIHNob3VsZFJ1bjogaWRlbnRpdHlGdW5jdGlvbkNoZWNrID09PSBcImFsd2F5c1wiIHx8IGlkZW50aXR5RnVuY3Rpb25DaGVjayA9PT0gXCJvbmNlXCIgJiYgZmlyc3RSdW4sXG4gICAgICBydW46IHJ1bklkZW50aXR5RnVuY3Rpb25DaGVja1xuICAgIH0sXG4gICAgaW5wdXRTdGFiaWxpdHlDaGVjazoge1xuICAgICAgc2hvdWxkUnVuOiBpbnB1dFN0YWJpbGl0eUNoZWNrID09PSBcImFsd2F5c1wiIHx8IGlucHV0U3RhYmlsaXR5Q2hlY2sgPT09IFwib25jZVwiICYmIGZpcnN0UnVuLFxuICAgICAgcnVuOiBydW5JbnB1dFN0YWJpbGl0eUNoZWNrXG4gICAgfVxuICB9O1xufTtcblxuLy8gc3JjL2F1dG90cmFja01lbW9pemUvYXV0b3RyYWNraW5nLnRzXG52YXIgJFJFVklTSU9OID0gMDtcbnZhciBDVVJSRU5UX1RSQUNLRVIgPSBudWxsO1xudmFyIENlbGwgPSBjbGFzcyB7XG4gIHJldmlzaW9uID0gJFJFVklTSU9OO1xuICBfdmFsdWU7XG4gIF9sYXN0VmFsdWU7XG4gIF9pc0VxdWFsID0gdHJpcGxlRXE7XG4gIGNvbnN0cnVjdG9yKGluaXRpYWxWYWx1ZSwgaXNFcXVhbCA9IHRyaXBsZUVxKSB7XG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9sYXN0VmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgdGhpcy5faXNFcXVhbCA9IGlzRXF1YWw7XG4gIH1cbiAgLy8gV2hlbmV2ZXIgYSBzdG9yYWdlIHZhbHVlIGlzIHJlYWQsIGl0J2xsIGFkZCBpdHNlbGYgdG8gdGhlIGN1cnJlbnQgdHJhY2tlciBpZlxuICAvLyBvbmUgZXhpc3RzLCBlbnRhbmdsaW5nIGl0cyBzdGF0ZSB3aXRoIHRoYXQgY2FjaGUuXG4gIGdldCB2YWx1ZSgpIHtcbiAgICBDVVJSRU5UX1RSQUNLRVI/LmFkZCh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgLy8gV2hlbmV2ZXIgYSBzdG9yYWdlIHZhbHVlIGlzIHVwZGF0ZWQsIHdlIGJ1bXAgdGhlIGdsb2JhbCByZXZpc2lvbiBjbG9jayxcbiAgLy8gYXNzaWduIHRoZSByZXZpc2lvbiBmb3IgdGhpcyBzdG9yYWdlIHRvIHRoZSBuZXcgdmFsdWUsIF9hbmRfIHdlIHNjaGVkdWxlIGFcbiAgLy8gcmVyZW5kZXIuIFRoaXMgaXMgaW1wb3J0YW50LCBhbmQgaXQncyB3aGF0IG1ha2VzIGF1dG90cmFja2luZyAgX3B1bGxfXG4gIC8vIGJhc2VkLiBXZSBkb24ndCBhY3RpdmVseSB0ZWxsIHRoZSBjYWNoZXMgd2hpY2ggZGVwZW5kIG9uIHRoZSBzdG9yYWdlIHRoYXRcbiAgLy8gYW55dGhpbmcgaGFzIGhhcHBlbmVkLiBJbnN0ZWFkLCB3ZSByZWNvbXB1dGUgdGhlIGNhY2hlcyB3aGVuIG5lZWRlZC5cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgaWYgKHRoaXMudmFsdWUgPT09IG5ld1ZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgdGhpcy5yZXZpc2lvbiA9ICsrJFJFVklTSU9OO1xuICB9XG59O1xuZnVuY3Rpb24gdHJpcGxlRXEoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cbnZhciBUcmFja2luZ0NhY2hlID0gY2xhc3Mge1xuICBfY2FjaGVkVmFsdWU7XG4gIF9jYWNoZWRSZXZpc2lvbiA9IC0xO1xuICBfZGVwcyA9IFtdO1xuICBoaXRzID0gMDtcbiAgZm47XG4gIGNvbnN0cnVjdG9yKGZuKSB7XG4gICAgdGhpcy5mbiA9IGZuO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2NhY2hlZFZhbHVlID0gdm9pZCAwO1xuICAgIHRoaXMuX2NhY2hlZFJldmlzaW9uID0gLTE7XG4gICAgdGhpcy5fZGVwcyA9IFtdO1xuICAgIHRoaXMuaGl0cyA9IDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGlmICh0aGlzLnJldmlzaW9uID4gdGhpcy5fY2FjaGVkUmV2aXNpb24pIHtcbiAgICAgIGNvbnN0IHsgZm4gfSA9IHRoaXM7XG4gICAgICBjb25zdCBjdXJyZW50VHJhY2tlciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICBjb25zdCBwcmV2VHJhY2tlciA9IENVUlJFTlRfVFJBQ0tFUjtcbiAgICAgIENVUlJFTlRfVFJBQ0tFUiA9IGN1cnJlbnRUcmFja2VyO1xuICAgICAgdGhpcy5fY2FjaGVkVmFsdWUgPSBmbigpO1xuICAgICAgQ1VSUkVOVF9UUkFDS0VSID0gcHJldlRyYWNrZXI7XG4gICAgICB0aGlzLmhpdHMrKztcbiAgICAgIHRoaXMuX2RlcHMgPSBBcnJheS5mcm9tKGN1cnJlbnRUcmFja2VyKTtcbiAgICAgIHRoaXMuX2NhY2hlZFJldmlzaW9uID0gdGhpcy5yZXZpc2lvbjtcbiAgICB9XG4gICAgQ1VSUkVOVF9UUkFDS0VSPy5hZGQodGhpcyk7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlZFZhbHVlO1xuICB9XG4gIGdldCByZXZpc2lvbigpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoLi4udGhpcy5fZGVwcy5tYXAoKGQpID0+IGQucmV2aXNpb24pLCAwKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGdldFZhbHVlKGNlbGwpIHtcbiAgaWYgKCEoY2VsbCBpbnN0YW5jZW9mIENlbGwpKSB7XG4gICAgY29uc29sZS53YXJuKFwiTm90IGEgdmFsaWQgY2VsbCEgXCIsIGNlbGwpO1xuICB9XG4gIHJldHVybiBjZWxsLnZhbHVlO1xufVxuZnVuY3Rpb24gc2V0VmFsdWUoc3RvcmFnZSwgdmFsdWUpIHtcbiAgaWYgKCEoc3RvcmFnZSBpbnN0YW5jZW9mIENlbGwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIFwic2V0VmFsdWUgbXVzdCBiZSBwYXNzZWQgYSB0cmFja2VkIHN0b3JlIGNyZWF0ZWQgd2l0aCBgY3JlYXRlU3RvcmFnZWAuXCJcbiAgICApO1xuICB9XG4gIHN0b3JhZ2UudmFsdWUgPSBzdG9yYWdlLl9sYXN0VmFsdWUgPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNlbGwoaW5pdGlhbFZhbHVlLCBpc0VxdWFsID0gdHJpcGxlRXEpIHtcbiAgcmV0dXJuIG5ldyBDZWxsKGluaXRpYWxWYWx1ZSwgaXNFcXVhbCk7XG59XG5mdW5jdGlvbiBjcmVhdGVDYWNoZShmbikge1xuICBhc3NlcnRJc0Z1bmN0aW9uKFxuICAgIGZuLFxuICAgIFwidGhlIGZpcnN0IHBhcmFtZXRlciB0byBgY3JlYXRlQ2FjaGVgIG11c3QgYmUgYSBmdW5jdGlvblwiXG4gICk7XG4gIHJldHVybiBuZXcgVHJhY2tpbmdDYWNoZShmbik7XG59XG5cbi8vIHNyYy9hdXRvdHJhY2tNZW1vaXplL3RyYWNraW5nLnRzXG52YXIgbmV2ZXJFcSA9IChhLCBiKSA9PiBmYWxzZTtcbmZ1bmN0aW9uIGNyZWF0ZVRhZygpIHtcbiAgcmV0dXJuIGNyZWF0ZUNlbGwobnVsbCwgbmV2ZXJFcSk7XG59XG5mdW5jdGlvbiBkaXJ0eVRhZyh0YWcsIHZhbHVlKSB7XG4gIHNldFZhbHVlKHRhZywgdmFsdWUpO1xufVxudmFyIGNvbnN1bWVDb2xsZWN0aW9uID0gKG5vZGUpID0+IHtcbiAgbGV0IHRhZyA9IG5vZGUuY29sbGVjdGlvblRhZztcbiAgaWYgKHRhZyA9PT0gbnVsbCkge1xuICAgIHRhZyA9IG5vZGUuY29sbGVjdGlvblRhZyA9IGNyZWF0ZVRhZygpO1xuICB9XG4gIGdldFZhbHVlKHRhZyk7XG59O1xudmFyIGRpcnR5Q29sbGVjdGlvbiA9IChub2RlKSA9PiB7XG4gIGNvbnN0IHRhZyA9IG5vZGUuY29sbGVjdGlvblRhZztcbiAgaWYgKHRhZyAhPT0gbnVsbCkge1xuICAgIGRpcnR5VGFnKHRhZywgbnVsbCk7XG4gIH1cbn07XG5cbi8vIHNyYy9hdXRvdHJhY2tNZW1vaXplL3Byb3h5LnRzXG52YXIgUkVEVVhfUFJPWFlfTEFCRUwgPSBTeW1ib2woKTtcbnZhciBuZXh0SWQgPSAwO1xudmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHt9KTtcbnZhciBPYmplY3RUcmVlTm9kZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMudGFnLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgcHJveHkgPSBuZXcgUHJveHkodGhpcywgb2JqZWN0UHJveHlIYW5kbGVyKTtcbiAgdGFnID0gY3JlYXRlVGFnKCk7XG4gIHRhZ3MgPSB7fTtcbiAgY2hpbGRyZW4gPSB7fTtcbiAgY29sbGVjdGlvblRhZyA9IG51bGw7XG4gIGlkID0gbmV4dElkKys7XG59O1xudmFyIG9iamVjdFByb3h5SGFuZGxlciA9IHtcbiAgZ2V0KG5vZGUsIGtleSkge1xuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVJlc3VsdCgpIHtcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IG5vZGU7XG4gICAgICBjb25zdCBjaGlsZFZhbHVlID0gUmVmbGVjdC5nZXQodmFsdWUsIGtleSk7XG4gICAgICBpZiAodHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIikge1xuICAgICAgICByZXR1cm4gY2hpbGRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgaW4gcHJvdG8pIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkVmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNoaWxkVmFsdWUgPT09IFwib2JqZWN0XCIgJiYgY2hpbGRWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgY2hpbGROb2RlID0gbm9kZS5jaGlsZHJlbltrZXldO1xuICAgICAgICBpZiAoY2hpbGROb2RlID09PSB2b2lkIDApIHtcbiAgICAgICAgICBjaGlsZE5vZGUgPSBub2RlLmNoaWxkcmVuW2tleV0gPSBjcmVhdGVOb2RlKGNoaWxkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZE5vZGUudGFnKSB7XG4gICAgICAgICAgZ2V0VmFsdWUoY2hpbGROb2RlLnRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkTm9kZS5wcm94eTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCB0YWcgPSBub2RlLnRhZ3Nba2V5XTtcbiAgICAgICAgaWYgKHRhZyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGFnID0gbm9kZS50YWdzW2tleV0gPSBjcmVhdGVUYWcoKTtcbiAgICAgICAgICB0YWcudmFsdWUgPSBjaGlsZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldFZhbHVlKHRhZyk7XG4gICAgICAgIHJldHVybiBjaGlsZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXMgPSBjYWxjdWxhdGVSZXN1bHQoKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LFxuICBvd25LZXlzKG5vZGUpIHtcbiAgICBjb25zdW1lQ29sbGVjdGlvbihub2RlKTtcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKG5vZGUudmFsdWUpO1xuICB9LFxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobm9kZSwgcHJvcCkge1xuICAgIHJldHVybiBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihub2RlLnZhbHVlLCBwcm9wKTtcbiAgfSxcbiAgaGFzKG5vZGUsIHByb3ApIHtcbiAgICByZXR1cm4gUmVmbGVjdC5oYXMobm9kZS52YWx1ZSwgcHJvcCk7XG4gIH1cbn07XG52YXIgQXJyYXlUcmVlTm9kZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMudGFnLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgcHJveHkgPSBuZXcgUHJveHkoW3RoaXNdLCBhcnJheVByb3h5SGFuZGxlcik7XG4gIHRhZyA9IGNyZWF0ZVRhZygpO1xuICB0YWdzID0ge307XG4gIGNoaWxkcmVuID0ge307XG4gIGNvbGxlY3Rpb25UYWcgPSBudWxsO1xuICBpZCA9IG5leHRJZCsrO1xufTtcbnZhciBhcnJheVByb3h5SGFuZGxlciA9IHtcbiAgZ2V0KFtub2RlXSwga2V5KSB7XG4gICAgaWYgKGtleSA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgY29uc3VtZUNvbGxlY3Rpb24obm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RQcm94eUhhbmRsZXIuZ2V0KG5vZGUsIGtleSk7XG4gIH0sXG4gIG93bktleXMoW25vZGVdKSB7XG4gICAgcmV0dXJuIG9iamVjdFByb3h5SGFuZGxlci5vd25LZXlzKG5vZGUpO1xuICB9LFxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoW25vZGVdLCBwcm9wKSB7XG4gICAgcmV0dXJuIG9iamVjdFByb3h5SGFuZGxlci5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobm9kZSwgcHJvcCk7XG4gIH0sXG4gIGhhcyhbbm9kZV0sIHByb3ApIHtcbiAgICByZXR1cm4gb2JqZWN0UHJveHlIYW5kbGVyLmhhcyhub2RlLCBwcm9wKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZU5vZGUodmFsdWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIG5ldyBBcnJheVRyZWVOb2RlKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gbmV3IE9iamVjdFRyZWVOb2RlKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZU5vZGUobm9kZSwgbmV3VmFsdWUpIHtcbiAgY29uc3QgeyB2YWx1ZSwgdGFncywgY2hpbGRyZW4gfSA9IG5vZGU7XG4gIG5vZGUudmFsdWUgPSBuZXdWYWx1ZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIEFycmF5LmlzQXJyYXkobmV3VmFsdWUpICYmIHZhbHVlLmxlbmd0aCAhPT0gbmV3VmFsdWUubGVuZ3RoKSB7XG4gICAgZGlydHlDb2xsZWN0aW9uKG5vZGUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgIGxldCBvbGRLZXlzU2l6ZSA9IDA7XG4gICAgICBsZXQgbmV3S2V5c1NpemUgPSAwO1xuICAgICAgbGV0IGFueUtleXNBZGRlZCA9IGZhbHNlO1xuICAgICAgZm9yIChjb25zdCBfa2V5IGluIHZhbHVlKSB7XG4gICAgICAgIG9sZEtleXNTaXplKys7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdWYWx1ZSkge1xuICAgICAgICBuZXdLZXlzU2l6ZSsrO1xuICAgICAgICBpZiAoIShrZXkgaW4gdmFsdWUpKSB7XG4gICAgICAgICAgYW55S2V5c0FkZGVkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgaXNEaWZmZXJlbnQgPSBhbnlLZXlzQWRkZWQgfHwgb2xkS2V5c1NpemUgIT09IG5ld0tleXNTaXplO1xuICAgICAgaWYgKGlzRGlmZmVyZW50KSB7XG4gICAgICAgIGRpcnR5Q29sbGVjdGlvbihub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gdGFncykge1xuICAgIGNvbnN0IGNoaWxkVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgIGNvbnN0IG5ld0NoaWxkVmFsdWUgPSBuZXdWYWx1ZVtrZXldO1xuICAgIGlmIChjaGlsZFZhbHVlICE9PSBuZXdDaGlsZFZhbHVlKSB7XG4gICAgICBkaXJ0eUNvbGxlY3Rpb24obm9kZSk7XG4gICAgICBkaXJ0eVRhZyh0YWdzW2tleV0sIG5ld0NoaWxkVmFsdWUpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkVmFsdWUgPT09IFwib2JqZWN0XCIgJiYgbmV3Q2hpbGRWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgZGVsZXRlIHRhZ3Nba2V5XTtcbiAgICB9XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gY2hpbGRyZW4pIHtcbiAgICBjb25zdCBjaGlsZE5vZGUgPSBjaGlsZHJlbltrZXldO1xuICAgIGNvbnN0IG5ld0NoaWxkVmFsdWUgPSBuZXdWYWx1ZVtrZXldO1xuICAgIGNvbnN0IGNoaWxkVmFsdWUgPSBjaGlsZE5vZGUudmFsdWU7XG4gICAgaWYgKGNoaWxkVmFsdWUgPT09IG5ld0NoaWxkVmFsdWUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG5ld0NoaWxkVmFsdWUgPT09IFwib2JqZWN0XCIgJiYgbmV3Q2hpbGRWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgdXBkYXRlTm9kZShjaGlsZE5vZGUsIG5ld0NoaWxkVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVOb2RlKGNoaWxkTm9kZSk7XG4gICAgICBkZWxldGUgY2hpbGRyZW5ba2V5XTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGRlbGV0ZU5vZGUobm9kZSkge1xuICBpZiAobm9kZS50YWcpIHtcbiAgICBkaXJ0eVRhZyhub2RlLnRhZywgbnVsbCk7XG4gIH1cbiAgZGlydHlDb2xsZWN0aW9uKG5vZGUpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBub2RlLnRhZ3MpIHtcbiAgICBkaXJ0eVRhZyhub2RlLnRhZ3Nba2V5XSwgbnVsbCk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gbm9kZS5jaGlsZHJlbikge1xuICAgIGRlbGV0ZU5vZGUobm9kZS5jaGlsZHJlbltrZXldKTtcbiAgfVxufVxuXG4vLyBzcmMvbHJ1TWVtb2l6ZS50c1xuZnVuY3Rpb24gY3JlYXRlU2luZ2xldG9uQ2FjaGUoZXF1YWxzKSB7XG4gIGxldCBlbnRyeTtcbiAgcmV0dXJuIHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICBpZiAoZW50cnkgJiYgZXF1YWxzKGVudHJ5LmtleSwga2V5KSkge1xuICAgICAgICByZXR1cm4gZW50cnkudmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gTk9UX0ZPVU5EO1xuICAgIH0sXG4gICAgcHV0KGtleSwgdmFsdWUpIHtcbiAgICAgIGVudHJ5ID0geyBrZXksIHZhbHVlIH07XG4gICAgfSxcbiAgICBnZXRFbnRyaWVzKCkge1xuICAgICAgcmV0dXJuIGVudHJ5ID8gW2VudHJ5XSA6IFtdO1xuICAgIH0sXG4gICAgY2xlYXIoKSB7XG4gICAgICBlbnRyeSA9IHZvaWQgMDtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVMcnVDYWNoZShtYXhTaXplLCBlcXVhbHMpIHtcbiAgbGV0IGVudHJpZXMgPSBbXTtcbiAgZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgIGNvbnN0IGNhY2hlSW5kZXggPSBlbnRyaWVzLmZpbmRJbmRleCgoZW50cnkpID0+IGVxdWFscyhrZXksIGVudHJ5LmtleSkpO1xuICAgIGlmIChjYWNoZUluZGV4ID4gLTEpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1tjYWNoZUluZGV4XTtcbiAgICAgIGlmIChjYWNoZUluZGV4ID4gMCkge1xuICAgICAgICBlbnRyaWVzLnNwbGljZShjYWNoZUluZGV4LCAxKTtcbiAgICAgICAgZW50cmllcy51bnNoaWZ0KGVudHJ5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIE5PVF9GT1VORDtcbiAgfVxuICBmdW5jdGlvbiBwdXQoa2V5LCB2YWx1ZSkge1xuICAgIGlmIChnZXQoa2V5KSA9PT0gTk9UX0ZPVU5EKSB7XG4gICAgICBlbnRyaWVzLnVuc2hpZnQoeyBrZXksIHZhbHVlIH0pO1xuICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID4gbWF4U2l6ZSkge1xuICAgICAgICBlbnRyaWVzLnBvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRFbnRyaWVzKCkge1xuICAgIHJldHVybiBlbnRyaWVzO1xuICB9XG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGVudHJpZXMgPSBbXTtcbiAgfVxuICByZXR1cm4geyBnZXQsIHB1dCwgZ2V0RW50cmllcywgY2xlYXIgfTtcbn1cbnZhciByZWZlcmVuY2VFcXVhbGl0eUNoZWNrID0gKGEsIGIpID0+IGEgPT09IGI7XG5mdW5jdGlvbiBjcmVhdGVDYWNoZUtleUNvbXBhcmF0b3IoZXF1YWxpdHlDaGVjaykge1xuICByZXR1cm4gZnVuY3Rpb24gYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwocHJldiwgbmV4dCkge1xuICAgIGlmIChwcmV2ID09PSBudWxsIHx8IG5leHQgPT09IG51bGwgfHwgcHJldi5sZW5ndGggIT09IG5leHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBwcmV2O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghZXF1YWxpdHlDaGVjayhwcmV2W2ldLCBuZXh0W2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xufVxuZnVuY3Rpb24gbHJ1TWVtb2l6ZShmdW5jLCBlcXVhbGl0eUNoZWNrT3JPcHRpb25zKSB7XG4gIGNvbnN0IHByb3ZpZGVkT3B0aW9ucyA9IHR5cGVvZiBlcXVhbGl0eUNoZWNrT3JPcHRpb25zID09PSBcIm9iamVjdFwiID8gZXF1YWxpdHlDaGVja09yT3B0aW9ucyA6IHsgZXF1YWxpdHlDaGVjazogZXF1YWxpdHlDaGVja09yT3B0aW9ucyB9O1xuICBjb25zdCB7XG4gICAgZXF1YWxpdHlDaGVjayA9IHJlZmVyZW5jZUVxdWFsaXR5Q2hlY2ssXG4gICAgbWF4U2l6ZSA9IDEsXG4gICAgcmVzdWx0RXF1YWxpdHlDaGVja1xuICB9ID0gcHJvdmlkZWRPcHRpb25zO1xuICBjb25zdCBjb21wYXJhdG9yID0gY3JlYXRlQ2FjaGVLZXlDb21wYXJhdG9yKGVxdWFsaXR5Q2hlY2spO1xuICBsZXQgcmVzdWx0c0NvdW50ID0gMDtcbiAgY29uc3QgY2FjaGUgPSBtYXhTaXplIDw9IDEgPyBjcmVhdGVTaW5nbGV0b25DYWNoZShjb21wYXJhdG9yKSA6IGNyZWF0ZUxydUNhY2hlKG1heFNpemUsIGNvbXBhcmF0b3IpO1xuICBmdW5jdGlvbiBtZW1vaXplZCgpIHtcbiAgICBsZXQgdmFsdWUgPSBjYWNoZS5nZXQoYXJndW1lbnRzKTtcbiAgICBpZiAodmFsdWUgPT09IE5PVF9GT1VORCkge1xuICAgICAgdmFsdWUgPSBmdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICByZXN1bHRzQ291bnQrKztcbiAgICAgIGlmIChyZXN1bHRFcXVhbGl0eUNoZWNrKSB7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBjYWNoZS5nZXRFbnRyaWVzKCk7XG4gICAgICAgIGNvbnN0IG1hdGNoaW5nRW50cnkgPSBlbnRyaWVzLmZpbmQoXG4gICAgICAgICAgKGVudHJ5KSA9PiByZXN1bHRFcXVhbGl0eUNoZWNrKGVudHJ5LnZhbHVlLCB2YWx1ZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKG1hdGNoaW5nRW50cnkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG1hdGNoaW5nRW50cnkudmFsdWU7XG4gICAgICAgICAgcmVzdWx0c0NvdW50ICE9PSAwICYmIHJlc3VsdHNDb3VudC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYWNoZS5wdXQoYXJndW1lbnRzLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBtZW1vaXplZC5jbGVhckNhY2hlID0gKCkgPT4ge1xuICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgbWVtb2l6ZWQucmVzZXRSZXN1bHRzQ291bnQoKTtcbiAgfTtcbiAgbWVtb2l6ZWQucmVzdWx0c0NvdW50ID0gKCkgPT4gcmVzdWx0c0NvdW50O1xuICBtZW1vaXplZC5yZXNldFJlc3VsdHNDb3VudCA9ICgpID0+IHtcbiAgICByZXN1bHRzQ291bnQgPSAwO1xuICB9O1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbi8vIHNyYy9hdXRvdHJhY2tNZW1vaXplL2F1dG90cmFja01lbW9pemUudHNcbmZ1bmN0aW9uIGF1dG90cmFja01lbW9pemUoZnVuYykge1xuICBjb25zdCBub2RlID0gY3JlYXRlTm9kZShcbiAgICBbXVxuICApO1xuICBsZXQgbGFzdEFyZ3MgPSBudWxsO1xuICBjb25zdCBzaGFsbG93RXF1YWwgPSBjcmVhdGVDYWNoZUtleUNvbXBhcmF0b3IocmVmZXJlbmNlRXF1YWxpdHlDaGVjayk7XG4gIGNvbnN0IGNhY2hlID0gY3JlYXRlQ2FjaGUoKCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGZ1bmMuYXBwbHkobnVsbCwgbm9kZS5wcm94eSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSk7XG4gIGZ1bmN0aW9uIG1lbW9pemVkKCkge1xuICAgIGlmICghc2hhbGxvd0VxdWFsKGxhc3RBcmdzLCBhcmd1bWVudHMpKSB7XG4gICAgICB1cGRhdGVOb2RlKG5vZGUsIGFyZ3VtZW50cyk7XG4gICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlLnZhbHVlO1xuICB9XG4gIG1lbW9pemVkLmNsZWFyQ2FjaGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGNhY2hlLmNsZWFyKCk7XG4gIH07XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuLy8gc3JjL3dlYWtNYXBNZW1vaXplLnRzXG52YXIgU3Ryb25nUmVmID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICBkZXJlZigpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxufTtcbnZhciBSZWYgPSB0eXBlb2YgV2Vha1JlZiAhPT0gXCJ1bmRlZmluZWRcIiA/IFdlYWtSZWYgOiBTdHJvbmdSZWY7XG52YXIgVU5URVJNSU5BVEVEID0gMDtcbnZhciBURVJNSU5BVEVEID0gMTtcbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlTm9kZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBzOiBVTlRFUk1JTkFURUQsXG4gICAgdjogdm9pZCAwLFxuICAgIG86IG51bGwsXG4gICAgcDogbnVsbFxuICB9O1xufVxuZnVuY3Rpb24gd2Vha01hcE1lbW9pemUoZnVuYywgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCBmbk5vZGUgPSBjcmVhdGVDYWNoZU5vZGUoKTtcbiAgY29uc3QgeyByZXN1bHRFcXVhbGl0eUNoZWNrIH0gPSBvcHRpb25zO1xuICBsZXQgbGFzdFJlc3VsdDtcbiAgbGV0IHJlc3VsdHNDb3VudCA9IDA7XG4gIGZ1bmN0aW9uIG1lbW9pemVkKCkge1xuICAgIGxldCBjYWNoZU5vZGUgPSBmbk5vZGU7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IGFyZ3VtZW50cztcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgaWYgKHR5cGVvZiBhcmcgPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmIGFyZyAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgb2JqZWN0Q2FjaGUgPSBjYWNoZU5vZGUubztcbiAgICAgICAgaWYgKG9iamVjdENhY2hlID09PSBudWxsKSB7XG4gICAgICAgICAgY2FjaGVOb2RlLm8gPSBvYmplY3RDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9iamVjdE5vZGUgPSBvYmplY3RDYWNoZS5nZXQoYXJnKTtcbiAgICAgICAgaWYgKG9iamVjdE5vZGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgIGNhY2hlTm9kZSA9IGNyZWF0ZUNhY2hlTm9kZSgpO1xuICAgICAgICAgIG9iamVjdENhY2hlLnNldChhcmcsIGNhY2hlTm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FjaGVOb2RlID0gb2JqZWN0Tm9kZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHByaW1pdGl2ZUNhY2hlID0gY2FjaGVOb2RlLnA7XG4gICAgICAgIGlmIChwcmltaXRpdmVDYWNoZSA9PT0gbnVsbCkge1xuICAgICAgICAgIGNhY2hlTm9kZS5wID0gcHJpbWl0aXZlQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByaW1pdGl2ZU5vZGUgPSBwcmltaXRpdmVDYWNoZS5nZXQoYXJnKTtcbiAgICAgICAgaWYgKHByaW1pdGl2ZU5vZGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgIGNhY2hlTm9kZSA9IGNyZWF0ZUNhY2hlTm9kZSgpO1xuICAgICAgICAgIHByaW1pdGl2ZUNhY2hlLnNldChhcmcsIGNhY2hlTm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FjaGVOb2RlID0gcHJpbWl0aXZlTm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0ZXJtaW5hdGVkTm9kZSA9IGNhY2hlTm9kZTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmIChjYWNoZU5vZGUucyA9PT0gVEVSTUlOQVRFRCkge1xuICAgICAgcmVzdWx0ID0gY2FjaGVOb2RlLnY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIHJlc3VsdHNDb3VudCsrO1xuICAgICAgaWYgKHJlc3VsdEVxdWFsaXR5Q2hlY2spIHtcbiAgICAgICAgY29uc3QgbGFzdFJlc3VsdFZhbHVlID0gbGFzdFJlc3VsdD8uZGVyZWY/LigpID8/IGxhc3RSZXN1bHQ7XG4gICAgICAgIGlmIChsYXN0UmVzdWx0VmFsdWUgIT0gbnVsbCAmJiByZXN1bHRFcXVhbGl0eUNoZWNrKGxhc3RSZXN1bHRWYWx1ZSwgcmVzdWx0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGxhc3RSZXN1bHRWYWx1ZTtcbiAgICAgICAgICByZXN1bHRzQ291bnQgIT09IDAgJiYgcmVzdWx0c0NvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmVlZHNXZWFrUmVmID0gdHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJiByZXN1bHQgIT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICBsYXN0UmVzdWx0ID0gbmVlZHNXZWFrUmVmID8gbmV3IFJlZihyZXN1bHQpIDogcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICB0ZXJtaW5hdGVkTm9kZS5zID0gVEVSTUlOQVRFRDtcbiAgICB0ZXJtaW5hdGVkTm9kZS52ID0gcmVzdWx0O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgbWVtb2l6ZWQuY2xlYXJDYWNoZSA9ICgpID0+IHtcbiAgICBmbk5vZGUgPSBjcmVhdGVDYWNoZU5vZGUoKTtcbiAgICBtZW1vaXplZC5yZXNldFJlc3VsdHNDb3VudCgpO1xuICB9O1xuICBtZW1vaXplZC5yZXN1bHRzQ291bnQgPSAoKSA9PiByZXN1bHRzQ291bnQ7XG4gIG1lbW9pemVkLnJlc2V0UmVzdWx0c0NvdW50ID0gKCkgPT4ge1xuICAgIHJlc3VsdHNDb3VudCA9IDA7XG4gIH07XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuLy8gc3JjL2NyZWF0ZVNlbGVjdG9yQ3JlYXRvci50c1xuZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKG1lbW9pemVPck9wdGlvbnMsIC4uLm1lbW9pemVPcHRpb25zRnJvbUFyZ3MpIHtcbiAgY29uc3QgY3JlYXRlU2VsZWN0b3JDcmVhdG9yT3B0aW9ucyA9IHR5cGVvZiBtZW1vaXplT3JPcHRpb25zID09PSBcImZ1bmN0aW9uXCIgPyB7XG4gICAgbWVtb2l6ZTogbWVtb2l6ZU9yT3B0aW9ucyxcbiAgICBtZW1vaXplT3B0aW9uczogbWVtb2l6ZU9wdGlvbnNGcm9tQXJnc1xuICB9IDogbWVtb2l6ZU9yT3B0aW9ucztcbiAgY29uc3QgY3JlYXRlU2VsZWN0b3IyID0gKC4uLmNyZWF0ZVNlbGVjdG9yQXJncykgPT4ge1xuICAgIGxldCByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgbGV0IGRlcGVuZGVuY3lSZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgbGV0IGxhc3RSZXN1bHQ7XG4gICAgbGV0IGRpcmVjdGx5UGFzc2VkT3B0aW9ucyA9IHt9O1xuICAgIGxldCByZXN1bHRGdW5jID0gY3JlYXRlU2VsZWN0b3JBcmdzLnBvcCgpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0RnVuYyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgZGlyZWN0bHlQYXNzZWRPcHRpb25zID0gcmVzdWx0RnVuYztcbiAgICAgIHJlc3VsdEZ1bmMgPSBjcmVhdGVTZWxlY3RvckFyZ3MucG9wKCk7XG4gICAgfVxuICAgIGFzc2VydElzRnVuY3Rpb24oXG4gICAgICByZXN1bHRGdW5jLFxuICAgICAgYGNyZWF0ZVNlbGVjdG9yIGV4cGVjdHMgYW4gb3V0cHV0IGZ1bmN0aW9uIGFmdGVyIHRoZSBpbnB1dHMsIGJ1dCByZWNlaXZlZDogWyR7dHlwZW9mIHJlc3VsdEZ1bmN9XWBcbiAgICApO1xuICAgIGNvbnN0IGNvbWJpbmVkT3B0aW9ucyA9IHtcbiAgICAgIC4uLmNyZWF0ZVNlbGVjdG9yQ3JlYXRvck9wdGlvbnMsXG4gICAgICAuLi5kaXJlY3RseVBhc3NlZE9wdGlvbnNcbiAgICB9O1xuICAgIGNvbnN0IHtcbiAgICAgIG1lbW9pemUsXG4gICAgICBtZW1vaXplT3B0aW9ucyA9IFtdLFxuICAgICAgYXJnc01lbW9pemUgPSB3ZWFrTWFwTWVtb2l6ZSxcbiAgICAgIGFyZ3NNZW1vaXplT3B0aW9ucyA9IFtdLFxuICAgICAgZGV2TW9kZUNoZWNrcyA9IHt9XG4gICAgfSA9IGNvbWJpbmVkT3B0aW9ucztcbiAgICBjb25zdCBmaW5hbE1lbW9pemVPcHRpb25zID0gZW5zdXJlSXNBcnJheShtZW1vaXplT3B0aW9ucyk7XG4gICAgY29uc3QgZmluYWxBcmdzTWVtb2l6ZU9wdGlvbnMgPSBlbnN1cmVJc0FycmF5KGFyZ3NNZW1vaXplT3B0aW9ucyk7XG4gICAgY29uc3QgZGVwZW5kZW5jaWVzID0gZ2V0RGVwZW5kZW5jaWVzKGNyZWF0ZVNlbGVjdG9yQXJncyk7XG4gICAgY29uc3QgbWVtb2l6ZWRSZXN1bHRGdW5jID0gbWVtb2l6ZShmdW5jdGlvbiByZWNvbXB1dGF0aW9uV3JhcHBlcigpIHtcbiAgICAgIHJlY29tcHV0YXRpb25zKys7XG4gICAgICByZXR1cm4gcmVzdWx0RnVuYy5hcHBseShcbiAgICAgICAgbnVsbCxcbiAgICAgICAgYXJndW1lbnRzXG4gICAgICApO1xuICAgIH0sIC4uLmZpbmFsTWVtb2l6ZU9wdGlvbnMpO1xuICAgIGxldCBmaXJzdFJ1biA9IHRydWU7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSBhcmdzTWVtb2l6ZShmdW5jdGlvbiBkZXBlbmRlbmNpZXNDaGVja2VyKCkge1xuICAgICAgZGVwZW5kZW5jeVJlY29tcHV0YXRpb25zKys7XG4gICAgICBjb25zdCBpbnB1dFNlbGVjdG9yUmVzdWx0cyA9IGNvbGxlY3RJbnB1dFNlbGVjdG9yUmVzdWx0cyhcbiAgICAgICAgZGVwZW5kZW5jaWVzLFxuICAgICAgICBhcmd1bWVudHNcbiAgICAgICk7XG4gICAgICBsYXN0UmVzdWx0ID0gbWVtb2l6ZWRSZXN1bHRGdW5jLmFwcGx5KG51bGwsIGlucHV0U2VsZWN0b3JSZXN1bHRzKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgY29uc3QgeyBpZGVudGl0eUZ1bmN0aW9uQ2hlY2ssIGlucHV0U3RhYmlsaXR5Q2hlY2sgfSA9IGdldERldk1vZGVDaGVja3NFeGVjdXRpb25JbmZvKGZpcnN0UnVuLCBkZXZNb2RlQ2hlY2tzKTtcbiAgICAgICAgaWYgKGlkZW50aXR5RnVuY3Rpb25DaGVjay5zaG91bGRSdW4pIHtcbiAgICAgICAgICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2sucnVuKFxuICAgICAgICAgICAgcmVzdWx0RnVuYyxcbiAgICAgICAgICAgIGlucHV0U2VsZWN0b3JSZXN1bHRzLFxuICAgICAgICAgICAgbGFzdFJlc3VsdFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0U3RhYmlsaXR5Q2hlY2suc2hvdWxkUnVuKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRTZWxlY3RvclJlc3VsdHNDb3B5ID0gY29sbGVjdElucHV0U2VsZWN0b3JSZXN1bHRzKFxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzLFxuICAgICAgICAgICAgYXJndW1lbnRzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpbnB1dFN0YWJpbGl0eUNoZWNrLnJ1bihcbiAgICAgICAgICAgIHsgaW5wdXRTZWxlY3RvclJlc3VsdHMsIGlucHV0U2VsZWN0b3JSZXN1bHRzQ29weSB9LFxuICAgICAgICAgICAgeyBtZW1vaXplLCBtZW1vaXplT3B0aW9uczogZmluYWxNZW1vaXplT3B0aW9ucyB9LFxuICAgICAgICAgICAgYXJndW1lbnRzXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RSdW4pXG4gICAgICAgICAgZmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgIH0sIC4uLmZpbmFsQXJnc01lbW9pemVPcHRpb25zKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihzZWxlY3Rvciwge1xuICAgICAgcmVzdWx0RnVuYyxcbiAgICAgIG1lbW9pemVkUmVzdWx0RnVuYyxcbiAgICAgIGRlcGVuZGVuY2llcyxcbiAgICAgIGRlcGVuZGVuY3lSZWNvbXB1dGF0aW9uczogKCkgPT4gZGVwZW5kZW5jeVJlY29tcHV0YXRpb25zLFxuICAgICAgcmVzZXREZXBlbmRlbmN5UmVjb21wdXRhdGlvbnM6ICgpID0+IHtcbiAgICAgICAgZGVwZW5kZW5jeVJlY29tcHV0YXRpb25zID0gMDtcbiAgICAgIH0sXG4gICAgICBsYXN0UmVzdWx0OiAoKSA9PiBsYXN0UmVzdWx0LFxuICAgICAgcmVjb21wdXRhdGlvbnM6ICgpID0+IHJlY29tcHV0YXRpb25zLFxuICAgICAgcmVzZXRSZWNvbXB1dGF0aW9uczogKCkgPT4ge1xuICAgICAgICByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgICB9LFxuICAgICAgbWVtb2l6ZSxcbiAgICAgIGFyZ3NNZW1vaXplXG4gICAgfSk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oY3JlYXRlU2VsZWN0b3IyLCB7XG4gICAgd2l0aFR5cGVzOiAoKSA9PiBjcmVhdGVTZWxlY3RvcjJcbiAgfSk7XG4gIHJldHVybiBjcmVhdGVTZWxlY3RvcjI7XG59XG52YXIgY3JlYXRlU2VsZWN0b3IgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKHdlYWtNYXBNZW1vaXplKTtcblxuLy8gc3JjL2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3Rvci50c1xudmFyIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciA9IE9iamVjdC5hc3NpZ24oXG4gIChpbnB1dFNlbGVjdG9yc09iamVjdCwgc2VsZWN0b3JDcmVhdG9yID0gY3JlYXRlU2VsZWN0b3IpID0+IHtcbiAgICBhc3NlcnRJc09iamVjdChcbiAgICAgIGlucHV0U2VsZWN0b3JzT2JqZWN0LFxuICAgICAgYGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBleHBlY3RzIGZpcnN0IGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIGEgc2VsZWN0b3IsIGluc3RlYWQgcmVjZWl2ZWQgYSAke3R5cGVvZiBpbnB1dFNlbGVjdG9yc09iamVjdH1gXG4gICAgKTtcbiAgICBjb25zdCBpbnB1dFNlbGVjdG9yS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U2VsZWN0b3JzT2JqZWN0KTtcbiAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSBpbnB1dFNlbGVjdG9yS2V5cy5tYXAoXG4gICAgICAoa2V5KSA9PiBpbnB1dFNlbGVjdG9yc09iamVjdFtrZXldXG4gICAgKTtcbiAgICBjb25zdCBzdHJ1Y3R1cmVkU2VsZWN0b3IgPSBzZWxlY3RvckNyZWF0b3IoXG4gICAgICBkZXBlbmRlbmNpZXMsXG4gICAgICAoLi4uaW5wdXRTZWxlY3RvclJlc3VsdHMpID0+IHtcbiAgICAgICAgcmV0dXJuIGlucHV0U2VsZWN0b3JSZXN1bHRzLnJlZHVjZSgoY29tcG9zaXRpb24sIHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbXBvc2l0aW9uW2lucHV0U2VsZWN0b3JLZXlzW2luZGV4XV0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gY29tcG9zaXRpb247XG4gICAgICAgIH0sIHt9KTtcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiBzdHJ1Y3R1cmVkU2VsZWN0b3I7XG4gIH0sXG4gIHsgd2l0aFR5cGVzOiAoKSA9PiBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgfVxuKTtcbmV4cG9ydCB7XG4gIGNyZWF0ZVNlbGVjdG9yLFxuICBjcmVhdGVTZWxlY3RvckNyZWF0b3IsXG4gIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcixcbiAgbHJ1TWVtb2l6ZSxcbiAgcmVmZXJlbmNlRXF1YWxpdHlDaGVjayxcbiAgc2V0R2xvYmFsRGV2TW9kZUNoZWNrcyxcbiAgYXV0b3RyYWNrTWVtb2l6ZSBhcyB1bnN0YWJsZV9hdXRvdHJhY2tNZW1vaXplLFxuICB3ZWFrTWFwTWVtb2l6ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc2VsZWN0Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/reselect/dist/reselect.mjs\n\n}");

/***/ }),

/***/ "./node_modules/xlsx/xlsx.mjs":
/*!************************************!*\
  !*** ./node_modules/xlsx/xlsx.mjs ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   utils: () => (/* binding */ utils),\n/* harmony export */   writeFile: () => (/* binding */ writeFileSync)\n/* harmony export */ });\n/* unused harmony exports version, parse_xlscfb, parse_zip, read, readFile, readFileSync, write, writeFileSync, writeFileAsync, writeXLSX, writeFileXLSX, set_fs, set_cptable, stream, SSF, CFB */\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"?7276\")[\"Buffer\"];\n/* provided dependency */ var process = __webpack_require__(/*! process/browser.js */ \"./node_modules/process/browser.js\");\n/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported XLSX */\n/*global process:false, Buffer:false, ArrayBuffer:false, DataView:false, Deno:false */\nvar XLSX = {};\nXLSX.version = '0.20.3';\nvar current_codepage = 1200, current_ansi = 1252;\n/*:: declare var cptable:any; */\n/*global cptable:true, window */\nvar $cptable;\n\nvar VALID_ANSI = [ 874, 932, 936, 949, 950, 1250, 1251, 1252, 1253, 1254, 1255, 1256, 1257, 1258, 10000 ];\n/* ECMA-376 Part I 18.4.1 charset to codepage mapping */\nvar CS2CP = ({\n\t0:    1252, /* ANSI */\n\t1:   65001, /* DEFAULT */\n\t2:   65001, /* SYMBOL */\n\t77:  10000, /* MAC */\n\t128:   932, /* SHIFTJIS */\n\t129:   949, /* HANGUL */\n\t130:  1361, /* JOHAB */\n\t134:   936, /* GB2312 */\n\t136:   950, /* CHINESEBIG5 */\n\t161:  1253, /* GREEK */\n\t162:  1254, /* TURKISH */\n\t163:  1258, /* VIETNAMESE */\n\t177:  1255, /* HEBREW */\n\t178:  1256, /* ARABIC */\n\t186:  1257, /* BALTIC */\n\t204:  1251, /* RUSSIAN */\n\t222:   874, /* THAI */\n\t238:  1250, /* EASTEUROPE */\n\t255:  1252, /* OEM */\n\t69:   6969  /* MISC */\n}/*:any*/);\n\nvar set_ansi = function(cp/*:number*/) { if(VALID_ANSI.indexOf(cp) == -1) return; current_ansi = CS2CP[0] = cp; };\nfunction reset_ansi() { set_ansi(1252); }\n\nvar set_cp = function(cp/*:number*/) { current_codepage = cp; set_ansi(cp); };\nfunction reset_cp() { set_cp(1200); reset_ansi(); }\n\nfunction char_codes(data/*:string*/)/*:Array<number>*/ { var o/*:Array<number>*/ = []; for(var i = 0, len = data.length; i < len; ++i) o[i] = data.charCodeAt(i); return o; }\n\nfunction utf16leread(data/*:string*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < (data.length>>1); ++i) o[i] = String.fromCharCode(data.charCodeAt(2*i) + (data.charCodeAt(2*i+1)<<8));\n\treturn o.join(\"\");\n}\nfunction utf16lereadu(data/*:Uint8Array*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < (data.length>>1); ++i) o[i] = String.fromCharCode(data[2*i] + (data[2*i+1]<<8));\n\treturn o.join(\"\");\n}\nfunction utf16beread(data/*:string*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < (data.length>>1); ++i) o[i] = String.fromCharCode(data.charCodeAt(2*i+1) + (data.charCodeAt(2*i)<<8));\n\treturn o.join(\"\");\n}\n\nvar debom = function(data/*:string*/)/*:string*/ {\n\tvar c1 = data.charCodeAt(0), c2 = data.charCodeAt(1);\n\tif(c1 == 0xFF && c2 == 0xFE) return utf16leread(data.slice(2));\n\tif(c1 == 0xFE && c2 == 0xFF) return utf16beread(data.slice(2));\n\tif(c1 == 0xFEFF) return data.slice(1);\n\treturn data;\n};\n\nvar _getchar = function _gc1(x/*:number*/)/*:string*/ { return String.fromCharCode(x); };\nvar _getansi = function _ga1(x/*:number*/)/*:string*/ { return String.fromCharCode(x); };\n\nfunction set_cptable(cptable) {\n\t$cptable = cptable;\n\tset_cp = function(cp/*:number*/) { current_codepage = cp; set_ansi(cp); };\n\tdebom = function(data/*:string*/) {\n\t\tif(data.charCodeAt(0) === 0xFF && data.charCodeAt(1) === 0xFE) { return $cptable.utils.decode(1200, char_codes(data.slice(2))); }\n\t\treturn data;\n\t};\n\t_getchar = function _gc2(x/*:number*/)/*:string*/ {\n\t\tif(current_codepage === 1200) return String.fromCharCode(x);\n\t\treturn $cptable.utils.decode(current_codepage, [x&255,x>>8])[0];\n\t};\n\t_getansi = function _ga2(x/*:number*/)/*:string*/ {\n\t\treturn $cptable.utils.decode(current_ansi, [x])[0];\n\t};\n\tcpdoit();\n}\nvar DENSE = null;\nvar DIF_XL = true;\nvar Base64_map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nfunction Base64_encode(input) {\n  var o = \"\";\n  var c1 = 0, c2 = 0, c3 = 0, e1 = 0, e2 = 0, e3 = 0, e4 = 0;\n  for (var i = 0; i < input.length; ) {\n    c1 = input.charCodeAt(i++);\n    e1 = c1 >> 2;\n    c2 = input.charCodeAt(i++);\n    e2 = (c1 & 3) << 4 | c2 >> 4;\n    c3 = input.charCodeAt(i++);\n    e3 = (c2 & 15) << 2 | c3 >> 6;\n    e4 = c3 & 63;\n    if (isNaN(c2)) {\n      e3 = e4 = 64;\n    } else if (isNaN(c3)) {\n      e4 = 64;\n    }\n    o += Base64_map.charAt(e1) + Base64_map.charAt(e2) + Base64_map.charAt(e3) + Base64_map.charAt(e4);\n  }\n  return o;\n}\nfunction Base64_encode_pass(input) {\n  var o = \"\";\n  var c1 = 0, c2 = 0, c3 = 0, e1 = 0, e2 = 0, e3 = 0, e4 = 0;\n  for (var i = 0; i < input.length; ) {\n    c1 = input.charCodeAt(i++);\n    if (c1 > 255)\n      c1 = 95;\n    e1 = c1 >> 2;\n    c2 = input.charCodeAt(i++);\n    if (c2 > 255)\n      c2 = 95;\n    e2 = (c1 & 3) << 4 | c2 >> 4;\n    c3 = input.charCodeAt(i++);\n    if (c3 > 255)\n      c3 = 95;\n    e3 = (c2 & 15) << 2 | c3 >> 6;\n    e4 = c3 & 63;\n    if (isNaN(c2)) {\n      e3 = e4 = 64;\n    } else if (isNaN(c3)) {\n      e4 = 64;\n    }\n    o += Base64_map.charAt(e1) + Base64_map.charAt(e2) + Base64_map.charAt(e3) + Base64_map.charAt(e4);\n  }\n  return o;\n}\nfunction Base64_encode_arr(input) {\n  var o = \"\";\n  var c1 = 0, c2 = 0, c3 = 0, e1 = 0, e2 = 0, e3 = 0, e4 = 0;\n  for (var i = 0; i < input.length; ) {\n    c1 = input[i++];\n    e1 = c1 >> 2;\n    c2 = input[i++];\n    e2 = (c1 & 3) << 4 | c2 >> 4;\n    c3 = input[i++];\n    e3 = (c2 & 15) << 2 | c3 >> 6;\n    e4 = c3 & 63;\n    if (isNaN(c2)) {\n      e3 = e4 = 64;\n    } else if (isNaN(c3)) {\n      e4 = 64;\n    }\n    o += Base64_map.charAt(e1) + Base64_map.charAt(e2) + Base64_map.charAt(e3) + Base64_map.charAt(e4);\n  }\n  return o;\n}\nfunction Base64_decode(input) {\n  var o = \"\";\n  var c1 = 0, c2 = 0, c3 = 0, e1 = 0, e2 = 0, e3 = 0, e4 = 0;\n  if (input.slice(0, 5) == \"data:\") {\n    var i = input.slice(0, 1024).indexOf(\";base64,\");\n    if (i > -1)\n      input = input.slice(i + 8);\n  }\n  input = input.replace(/[^\\w\\+\\/\\=]/g, \"\");\n  for (var i = 0; i < input.length; ) {\n    e1 = Base64_map.indexOf(input.charAt(i++));\n    e2 = Base64_map.indexOf(input.charAt(i++));\n    c1 = e1 << 2 | e2 >> 4;\n    o += String.fromCharCode(c1);\n    e3 = Base64_map.indexOf(input.charAt(i++));\n    c2 = (e2 & 15) << 4 | e3 >> 2;\n    if (e3 !== 64) {\n      o += String.fromCharCode(c2);\n    }\n    e4 = Base64_map.indexOf(input.charAt(i++));\n    c3 = (e3 & 3) << 6 | e4;\n    if (e4 !== 64) {\n      o += String.fromCharCode(c3);\n    }\n  }\n  return o;\n}\nvar has_buf = /*#__PURE__*/(function() { return typeof Buffer !== 'undefined' && typeof process !== 'undefined' && typeof process.versions !== 'undefined' && !!process.versions.node; })();\n\nvar Buffer_from = /*#__PURE__*/(function() {\n\tif(typeof Buffer !== 'undefined') {\n\t\tvar nbfs = !Buffer.from;\n\t\tif(!nbfs) try { Buffer.from(\"foo\", \"utf8\"); } catch(e) { nbfs = true; }\n\t\treturn nbfs ? function(buf, enc) { return (enc) ? new Buffer(buf, enc) : new Buffer(buf); } : Buffer.from.bind(Buffer);\n\t}\n\treturn function() {};\n})();\nvar buf_utf16le = /*#__PURE__*/(function() {\n\tif(typeof Buffer === 'undefined') return false;\n\tvar x = Buffer_from([65,0]);\n\tif(!x) return false;\n\tvar o = x.toString(\"utf16le\");\n\treturn o.length == 1;\n})();\n\n\nfunction new_raw_buf(len/*:number*/) {\n\t/* jshint -W056 */\n\tif(has_buf) return Buffer.alloc ? Buffer.alloc(len) : new Buffer(len);\n\treturn typeof Uint8Array != \"undefined\" ? new Uint8Array(len) : new Array(len);\n\t/* jshint +W056 */\n}\n\nfunction new_unsafe_buf(len/*:number*/) {\n\t/* jshint -W056 */\n\tif(has_buf) return Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : new Buffer(len);\n\treturn typeof Uint8Array != \"undefined\" ? new Uint8Array(len) : new Array(len);\n\t/* jshint +W056 */\n}\n\nvar s2a = function s2a(s/*:string*/)/*:any*/ {\n\tif(has_buf) return Buffer_from(s, \"binary\");\n\treturn s.split(\"\").map(function(x/*:string*/)/*:number*/{ return x.charCodeAt(0) & 0xff; });\n};\n\nfunction s2ab(s/*:string*/)/*:any*/ {\n\tif(typeof ArrayBuffer === 'undefined') return s2a(s);\n\tvar buf = new ArrayBuffer(s.length), view = new Uint8Array(buf);\n\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\treturn buf;\n}\n\nfunction a2s(data/*:any*/)/*:string*/ {\n\tif(Array.isArray(data)) return data.map(function(c) { return String.fromCharCode(c); }).join(\"\");\n\tvar o/*:Array<string>*/ = []; for(var i = 0; i < data.length; ++i) o[i] = String.fromCharCode(data[i]); return o.join(\"\");\n}\n\nfunction a2u(data/*:Array<number>*/)/*:Uint8Array*/ {\n\tif(typeof Uint8Array === 'undefined') throw new Error(\"Unsupported\");\n\treturn new Uint8Array(data);\n}\n\nfunction ab2a(data/*:ArrayBuffer|Uint8Array*/)/*:Array<number>*/ {\n\tif(typeof ArrayBuffer == 'undefined') throw new Error(\"Unsupported\");\n\tif(data instanceof ArrayBuffer) return ab2a(new Uint8Array(data));\n\t/*:: if(data instanceof ArrayBuffer) throw new Error(\"unreachable\"); */\n\tvar o = new Array(data.length);\n\tfor(var i = 0; i < data.length; ++i) o[i] = data[i];\n\treturn o;\n}\n\nvar bconcat = has_buf ? function(bufs) { return Buffer.concat(bufs.map(function(buf) { return Buffer.isBuffer(buf) ? buf : Buffer_from(buf); })); } : function(bufs) {\n\tif(typeof Uint8Array !== \"undefined\") {\n\t\tvar i = 0, maxlen = 0;\n\t\tfor(i = 0; i < bufs.length; ++i) maxlen += bufs[i].length;\n\t\tvar o = new Uint8Array(maxlen);\n\t\tvar len = 0;\n\t\tfor(i = 0, maxlen = 0; i < bufs.length; maxlen += len, ++i) {\n\t\t\tlen = bufs[i].length;\n\t\t\tif(bufs[i] instanceof Uint8Array) o.set(bufs[i], maxlen);\n\t\t\telse if(typeof bufs[i] == \"string\") o.set(new Uint8Array(s2a(bufs[i])), maxlen);\n\t\t\telse o.set(new Uint8Array(bufs[i]), maxlen);\n\t\t}\n\t\treturn o;\n\t}\n\treturn [].concat.apply([], bufs.map(function(buf) { return Array.isArray(buf) ? buf : [].slice.call(buf); }));\n};\n\nfunction utf8decode(content/*:string*/) {\n\tvar out = [], widx = 0, L = content.length + 250;\n\tvar o = new_raw_buf(content.length + 255);\n\tfor(var ridx = 0; ridx < content.length; ++ridx) {\n\t\tvar c = content.charCodeAt(ridx);\n\t\tif(c < 0x80) o[widx++] = c;\n\t\telse if(c < 0x800) {\n\t\t\to[widx++] = (192|((c>>6)&31));\n\t\t\to[widx++] = (128|(c&63));\n\t\t} else if(c >= 0xD800 && c < 0xE000) {\n\t\t\tc = (c&1023)+64;\n\t\t\tvar d = content.charCodeAt(++ridx)&1023;\n\t\t\to[widx++] = (240|((c>>8)&7));\n\t\t\to[widx++] = (128|((c>>2)&63));\n\t\t\to[widx++] = (128|((d>>6)&15)|((c&3)<<4));\n\t\t\to[widx++] = (128|(d&63));\n\t\t} else {\n\t\t\to[widx++] = (224|((c>>12)&15));\n\t\t\to[widx++] = (128|((c>>6)&63));\n\t\t\to[widx++] = (128|(c&63));\n\t\t}\n\t\tif(widx > L) {\n\t\t\tout.push(o.slice(0, widx));\n\t\t\twidx = 0;\n\t\t\to = new_raw_buf(65535);\n\t\t\tL = 65530;\n\t\t}\n\t}\n\tout.push(o.slice(0, widx));\n\treturn bconcat(out);\n}\n\nvar chr0 = /\\u0000/g, chr1 = /[\\u0001-\\u0006]/g;\n/*::\ndeclare type Block = any;\ndeclare type BufArray = {\n\tnewblk(sz:number):Block;\n\tnext(sz:number):Block;\n\tend():any;\n\tpush(buf:Block):void;\n};\n\ntype RecordHopperCB = {(d:any, Rn:string, RT:number):?boolean;};\n\ntype EvertType = {[string]:string};\ntype EvertNumType = {[string]:number};\ntype EvertArrType = {[string]:Array<string>};\n\ntype StringConv = {(string):string};\n\n*/\n/* ssf.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/*jshint -W041 */\nfunction _strrev(x/*:string*/)/*:string*/ { var o = \"\", i = x.length-1; while(i>=0) o += x.charAt(i--); return o; }\nfunction pad0(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v; return t.length>=d?t:fill('0',d-t.length)+t;}\nfunction pad_(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v;return t.length>=d?t:fill(' ',d-t.length)+t;}\nfunction rpad_(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v; return t.length>=d?t:t+fill(' ',d-t.length);}\nfunction pad0r1(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+Math.round(v); return t.length>=d?t:fill('0',d-t.length)+t;}\nfunction pad0r2(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v; return t.length>=d?t:fill('0',d-t.length)+t;}\nvar p2_32 = /*#__PURE__*/Math.pow(2,32);\nfunction pad0r(v/*:any*/,d/*:number*/)/*:string*/{if(v>p2_32||v<-p2_32) return pad0r1(v,d); var i = Math.round(v); return pad0r2(i,d); }\n/* yes, in 2022 this is still faster than string compare */\nfunction SSF_isgeneral(s/*:string*/, i/*:?number*/)/*:boolean*/ { i = i || 0; return s.length >= 7 + i && (s.charCodeAt(i)|32) === 103 && (s.charCodeAt(i+1)|32) === 101 && (s.charCodeAt(i+2)|32) === 110 && (s.charCodeAt(i+3)|32) === 101 && (s.charCodeAt(i+4)|32) === 114 && (s.charCodeAt(i+5)|32) === 97 && (s.charCodeAt(i+6)|32) === 108; }\nvar days/*:Array<Array<string> >*/ = [\n\t['Sun', 'Sunday'],\n\t['Mon', 'Monday'],\n\t['Tue', 'Tuesday'],\n\t['Wed', 'Wednesday'],\n\t['Thu', 'Thursday'],\n\t['Fri', 'Friday'],\n\t['Sat', 'Saturday']\n];\nvar months/*:Array<Array<string> >*/ = [\n\t['J', 'Jan', 'January'],\n\t['F', 'Feb', 'February'],\n\t['M', 'Mar', 'March'],\n\t['A', 'Apr', 'April'],\n\t['M', 'May', 'May'],\n\t['J', 'Jun', 'June'],\n\t['J', 'Jul', 'July'],\n\t['A', 'Aug', 'August'],\n\t['S', 'Sep', 'September'],\n\t['O', 'Oct', 'October'],\n\t['N', 'Nov', 'November'],\n\t['D', 'Dec', 'December']\n];\nfunction SSF_init_table(t/*:any*/) {\n\tif(!t) t = {};\n\tt[0]=  'General';\n\tt[1]=  '0';\n\tt[2]=  '0.00';\n\tt[3]=  '#,##0';\n\tt[4]=  '#,##0.00';\n\tt[9]=  '0%';\n\tt[10]= '0.00%';\n\tt[11]= '0.00E+00';\n\tt[12]= '# ?/?';\n\tt[13]= '# ??/??';\n\tt[14]= 'm/d/yy';\n\tt[15]= 'd-mmm-yy';\n\tt[16]= 'd-mmm';\n\tt[17]= 'mmm-yy';\n\tt[18]= 'h:mm AM/PM';\n\tt[19]= 'h:mm:ss AM/PM';\n\tt[20]= 'h:mm';\n\tt[21]= 'h:mm:ss';\n\tt[22]= 'm/d/yy h:mm';\n\tt[37]= '#,##0 ;(#,##0)';\n\tt[38]= '#,##0 ;[Red](#,##0)';\n\tt[39]= '#,##0.00;(#,##0.00)';\n\tt[40]= '#,##0.00;[Red](#,##0.00)';\n\tt[45]= 'mm:ss';\n\tt[46]= '[h]:mm:ss';\n\tt[47]= 'mmss.0';\n\tt[48]= '##0.0E+0';\n\tt[49]= '@';\n\tt[56]= '\"/ \"hh\"\"mm\"\"ss\" \"';\n\treturn t;\n}\n/* repeated to satiate webpack */\nvar table_fmt = {\n\t0:  'General',\n\t1:  '0',\n\t2:  '0.00',\n\t3:  '#,##0',\n\t4:  '#,##0.00',\n\t9:  '0%',\n\t10: '0.00%',\n\t11: '0.00E+00',\n\t12: '# ?/?',\n\t13: '# ??/??',\n\t14: 'm/d/yy',\n\t15: 'd-mmm-yy',\n\t16: 'd-mmm',\n\t17: 'mmm-yy',\n\t18: 'h:mm AM/PM',\n\t19: 'h:mm:ss AM/PM',\n\t20: 'h:mm',\n\t21: 'h:mm:ss',\n\t22: 'm/d/yy h:mm',\n\t37: '#,##0 ;(#,##0)',\n\t38: '#,##0 ;[Red](#,##0)',\n\t39: '#,##0.00;(#,##0.00)',\n\t40: '#,##0.00;[Red](#,##0.00)',\n\t45: 'mm:ss',\n\t46: '[h]:mm:ss',\n\t47: 'mmss.0',\n\t48: '##0.0E+0',\n\t49: '@',\n\t56: '\"/ \"hh\"\"mm\"\"ss\" \"'\n};\n\n/* Defaults determined by systematically testing in Excel 2019 */\n\n/* These formats appear to default to other formats in the table */\nvar SSF_default_map = {\n\t5:  37, 6:  38, 7:  39, 8:  40,         //  5 -> 37 ...  8 -> 40\n\n\t23:  0, 24:  0, 25:  0, 26:  0,         // 23 ->  0 ... 26 ->  0\n\n\t27: 14, 28: 14, 29: 14, 30: 14, 31: 14, // 27 -> 14 ... 31 -> 14\n\n\t50: 14, 51: 14, 52: 14, 53: 14, 54: 14, // 50 -> 14 ... 58 -> 14\n\t55: 14, 56: 14, 57: 14, 58: 14,\n\t59:  1, 60:  2, 61:  3, 62:  4,         // 59 ->  1 ... 62 ->  4\n\n\t67:  9, 68: 10,                         // 67 ->  9 ... 68 -> 10\n\t69: 12, 70: 13, 71: 14,                 // 69 -> 12 ... 71 -> 14\n\t72: 14, 73: 15, 74: 16, 75: 17,         // 72 -> 14 ... 75 -> 17\n\t76: 20, 77: 21, 78: 22,                 // 76 -> 20 ... 78 -> 22\n\t79: 45, 80: 46, 81: 47,                 // 79 -> 45 ... 81 -> 47\n\t82: 0                                   // 82 ->  0 ... 65536 -> 0 (omitted)\n};\n\n\n/* These formats technically refer to Accounting formats with no equivalent */\nvar SSF_default_str = {\n\t//  5 -- Currency,   0 decimal, black negative\n\t5:  '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\t63: '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\n\t//  6 -- Currency,   0 decimal, red   negative\n\t6:  '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\t64: '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\n\t//  7 -- Currency,   2 decimal, black negative\n\t7:  '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\t65: '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\n\t//  8 -- Currency,   2 decimal, red   negative\n\t8:  '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t66: '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\n\t// 41 -- Accounting, 0 decimal, No Symbol\n\t41: '_(* #,##0_);_(* \\\\(#,##0\\\\);_(* \"-\"_);_(@_)',\n\n\t// 42 -- Accounting, 0 decimal, $  Symbol\n\t42: '_(\"$\"* #,##0_);_(\"$\"* \\\\(#,##0\\\\);_(\"$\"* \"-\"_);_(@_)',\n\n\t// 43 -- Accounting, 2 decimal, No Symbol\n\t43: '_(* #,##0.00_);_(* \\\\(#,##0.00\\\\);_(* \"-\"??_);_(@_)',\n\n\t// 44 -- Accounting, 2 decimal, $  Symbol\n\t44: '_(\"$\"* #,##0.00_);_(\"$\"* \\\\(#,##0.00\\\\);_(\"$\"* \"-\"??_);_(@_)'\n};\n\nfunction SSF_frac(x/*:number*/, D/*:number*/, mixed/*:?boolean*/)/*:Array<number>*/ {\n\tvar sgn = x < 0 ? -1 : 1;\n\tvar B = x * sgn;\n\tvar P_2 = 0, P_1 = 1, P = 0;\n\tvar Q_2 = 1, Q_1 = 0, Q = 0;\n\tvar A = Math.floor(B);\n\twhile(Q_1 < D) {\n\t\tA = Math.floor(B);\n\t\tP = A * P_1 + P_2;\n\t\tQ = A * Q_1 + Q_2;\n\t\tif((B - A) < 0.00000005) break;\n\t\tB = 1 / (B - A);\n\t\tP_2 = P_1; P_1 = P;\n\t\tQ_2 = Q_1; Q_1 = Q;\n\t}\n\tif(Q > D) { if(Q_1 > D) { Q = Q_2; P = P_2; } else { Q = Q_1; P = P_1; } }\n\tif(!mixed) return [0, sgn * P, Q];\n\tvar q = Math.floor(sgn * P/Q);\n\treturn [q, sgn*P - q*Q, Q];\n}\nfunction SSF_normalize_xl_unsafe(v/*:number*/)/*:number*/ {\n\tvar s = v.toPrecision(16);\n\tif(s.indexOf(\"e\") > -1) {\n\t\tvar m = s.slice(0, s.indexOf(\"e\"));\n\t\tm = m.indexOf(\".\") > -1 ? m.slice(0, (m.slice(0,2) == \"0.\" ? 17 : 16)) : (m.slice(0,15) + fill(\"0\", m.length - 15));\n\t\treturn m + s.slice(s.indexOf(\"e\"));\n\t}\n\tvar n = s.indexOf(\".\") > -1 ? s.slice(0, (s.slice(0,2) == \"0.\" ? 17 : 16)) : (s.slice(0,15) + fill(\"0\", s.length - 15));\n\treturn Number(n);\n}\n\nfunction SSF_parse_date_code(v/*:number*/,opts/*:?any*/,b2/*:?boolean*/) {\n\tif(v > 2958465 || v < 0) return null;\n\tv = SSF_normalize_xl_unsafe(v);\n\tvar date = (v|0), time = Math.floor(86400 * (v - date)), dow=0;\n\tvar dout=[];\n\tvar out={D:date, T:time, u:86400*(v-date)-time,y:0,m:0,d:0,H:0,M:0,S:0,q:0};\n\tif(Math.abs(out.u) < 1e-6) out.u = 0;\n\tif(opts && opts.date1904) date += 1462;\n\tif(out.u > 0.9999) {\n\t\tout.u = 0;\n\t\tif(++time == 86400) { out.T = time = 0; ++date; ++out.D; }\n\t}\n\tif(date === 60) {dout = b2 ? [1317,10,29] : [1900,2,29]; dow=3;}\n\telse if(date === 0) {dout = b2 ? [1317,8,29] : [1900,1,0]; dow=6;}\n\telse {\n\t\tif(date > 60) --date;\n\t\t/* 1 = Jan 1 1900 in Gregorian */\n\t\tvar d = new Date(1900, 0, 1);\n\t\td.setDate(d.getDate() + date - 1);\n\t\tdout = [d.getFullYear(), d.getMonth()+1,d.getDate()];\n\t\tdow = d.getDay();\n\t\tif(date < 60) dow = (dow + 6) % 7;\n\t\tif(b2) dow = SSF_fix_hijri(d, dout);\n\t}\n\tout.y = dout[0]; out.m = dout[1]; out.d = dout[2];\n\tout.S = time % 60; time = Math.floor(time / 60);\n\tout.M = time % 60; time = Math.floor(time / 60);\n\tout.H = time;\n\tout.q = dow;\n\treturn out;\n}\n/* ECMA-376 18.8.30 numFmt*/\n/* Note: `toPrecision` uses standard form when prec > E and E >= -6 */\n/* exponent >= -9 and <= 9 */\nfunction SSF_strip_decimal(o/*:string*/)/*:string*/ {\n\treturn (o.indexOf(\".\") == -1) ? o : o.replace(/(?:\\.0*|(\\.\\d*[1-9])0+)$/, \"$1\");\n}\n\n/* General Exponential always shows 2 digits exp and trims the mantissa */\nfunction SSF_normalize_exp(o/*:string*/)/*:string*/ {\n\tif(o.indexOf(\"E\") == -1) return o;\n\treturn o.replace(/(?:\\.0*|(\\.\\d*[1-9])0+)[Ee]/,\"$1E\").replace(/(E[+-])(\\d)$/,\"$10$2\");\n}\n\n/* exponent >= -9 and <= 9 */\nfunction SSF_small_exp(v/*:number*/)/*:string*/ {\n\tvar w = (v<0?12:11);\n\tvar o = SSF_strip_decimal(v.toFixed(12)); if(o.length <= w) return o;\n\to = v.toPrecision(10); if(o.length <= w) return o;\n\treturn v.toExponential(5);\n}\n\n/* exponent >= 11 or <= -10 likely exponential */\nfunction SSF_large_exp(v/*:number*/)/*:string*/ {\n\tvar o = SSF_strip_decimal(v.toFixed(11));\n\treturn (o.length > (v<0?12:11) || o === \"0\" || o === \"-0\") ? v.toPrecision(6) : o;\n}\n\nfunction SSF_general_num(v/*:number*/)/*:string*/ {\n\tif(!isFinite(v)) return isNaN(v) ? \"#NUM!\" : \"#DIV/0!\";\n\tvar V = Math.floor(Math.log(Math.abs(v))*Math.LOG10E), o;\n\n\tif(V >= -4 && V <= -1) o = v.toPrecision(10+V);\n\telse if(Math.abs(V) <= 9) o = SSF_small_exp(v);\n\telse if(V === 10) o = v.toFixed(10).substr(0,12);\n\telse o = SSF_large_exp(v);\n\n\treturn SSF_strip_decimal(SSF_normalize_exp(o.toUpperCase()));\n}\n\n\n/*\n\t\"General\" rules:\n\t- text is passed through (\"@\")\n\t- booleans are rendered as TRUE/FALSE\n\t- \"up to 11 characters\" displayed for numbers\n\t- Default date format (code 14) used for Dates\n\n\tThe longest 32-bit integer text is \"-2147483648\", exactly 11 chars\n\tTODO: technically the display depends on the width of the cell\n*/\nfunction SSF_general(v/*:any*/, opts/*:any*/) {\n\tswitch(typeof v) {\n\t\tcase 'string': return v;\n\t\tcase 'boolean': return v ? \"TRUE\" : \"FALSE\";\n\t\tcase 'number': return (v|0) === v ? v.toString(10) : SSF_general_num(v);\n\t\tcase 'undefined': return \"\";\n\t\tcase 'object':\n\t\t\tif(v == null) return \"\";\n\t\t\tif(v instanceof Date) return SSF_format(14, datenum(v, opts && opts.date1904), opts);\n\t}\n\tthrow new Error(\"unsupported value in General format: \" + v);\n}\n\nfunction SSF_fix_hijri(date/*:Date*/, o/*:[number, number, number]*/) {\n  /* TODO: properly adjust y/m/d and  */\n  o[0] -= 581;\n  var dow = date.getDay();\n  if(date < 60) dow = (dow + 6) % 7;\n  return dow;\n}\n//var THAI_DIGITS = \"\\u0E50\\u0E51\\u0E52\\u0E53\\u0E54\\u0E55\\u0E56\\u0E57\\u0E58\\u0E59\".split(\"\");\nfunction SSF_write_date(type/*:number*/, fmt/*:string*/, val, ss0/*:?number*/)/*:string*/ {\n\tvar o=\"\", ss=0, tt=0, y = val.y, out, outl = 0;\n\tswitch(type) {\n\t\tcase 98: /* 'b' buddhist year */\n\t\t\ty = val.y + 543;\n\t\t\t/* falls through */\n\t\tcase 121: /* 'y' year */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = y % 100; outl = 2; break;\n\t\t\tdefault: out = y % 10000; outl = 4; break;\n\t\t} break;\n\t\tcase 109: /* 'm' month */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.m; outl = fmt.length; break;\n\t\t\tcase 3: return months[val.m-1][1];\n\t\t\tcase 5: return months[val.m-1][0];\n\t\t\tdefault: return months[val.m-1][2];\n\t\t} break;\n\t\tcase 100: /* 'd' day */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.d; outl = fmt.length; break;\n\t\t\tcase 3: return days[val.q][0];\n\t\t\tdefault: return days[val.q][1];\n\t\t} break;\n\t\tcase 104: /* 'h' 12-hour */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = 1+(val.H+11)%12; outl = fmt.length; break;\n\t\t\tdefault: throw 'bad hour format: ' + fmt;\n\t\t} break;\n\t\tcase 72: /* 'H' 24-hour */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.H; outl = fmt.length; break;\n\t\t\tdefault: throw 'bad hour format: ' + fmt;\n\t\t} break;\n\t\tcase 77: /* 'M' minutes */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.M; outl = fmt.length; break;\n\t\t\tdefault: throw 'bad minute format: ' + fmt;\n\t\t} break;\n\t\tcase 115: /* 's' seconds */\n\t\t\tif(fmt != 's' && fmt != 'ss' && fmt != '.0' && fmt != '.00' && fmt != '.000') throw 'bad second format: ' + fmt;\n\t\t\tif(val.u === 0 && (fmt == \"s\" || fmt == \"ss\")) return pad0(val.S, fmt.length);\n\t\t\t/*::if(!ss0) ss0 = 0; */\n\t\t\tif(ss0 >= 2) tt = ss0 === 3 ? 1000 : 100;\n\t\t\telse tt = ss0 === 1 ? 10 : 1;\n\t\t\tss = Math.round((tt)*(val.S + val.u));\n\t\t\tif(ss >= 60*tt) ss = 0;\n\t\t\tif(fmt === 's') return ss === 0 ? \"0\" : \"\"+ss/tt;\n\t\t\to = pad0(ss,2 + ss0);\n\t\t\tif(fmt === 'ss') return o.substr(0,2);\n\t\t\treturn \".\" + o.substr(2,fmt.length-1);\n\t\tcase 90: /* 'Z' absolute time */\n\t\tswitch(fmt) {\n\t\t\tcase '[h]': case '[hh]': out = val.D*24+val.H; break;\n\t\t\tcase '[m]': case '[mm]': out = (val.D*24+val.H)*60+val.M; break;\n\t\t\tcase '[s]': case '[ss]': out = ((val.D*24+val.H)*60+val.M)*60+(ss0 == 0 ? Math.round(val.S+val.u) : val.S); break;\n\t\t\tdefault: throw 'bad abstime format: ' + fmt;\n\t\t} outl = fmt.length === 3 ? 1 : 2; break;\n\t\tcase 101: /* 'e' era */\n\t\t\tout = y; outl = 1; break;\n\t}\n\tvar outstr = outl > 0 ? pad0(out, outl) : \"\";\n\treturn outstr;\n}\n\n\n/*jshint -W086 */\n/*jshint +W086 */\nfunction commaify(s/*:string*/)/*:string*/ {\n\tvar w = 3;\n\tif(s.length <= w) return s;\n\tvar j = (s.length % w), o = s.substr(0,j);\n\tfor(; j!=s.length; j+=w) o+=(o.length > 0 ? \",\" : \"\") + s.substr(j,w);\n\treturn o;\n}\nvar pct1 = /%/g;\nfunction write_num_pct(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar sfmt = fmt.replace(pct1,\"\"), mul = fmt.length - sfmt.length;\n\treturn write_num(type, sfmt, val * Math.pow(10,2*mul)) + fill(\"%\",mul);\n}\n\nfunction write_num_cm(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar idx = fmt.length - 1;\n\twhile(fmt.charCodeAt(idx-1) === 44) --idx;\n\treturn write_num(type, fmt.substr(0,idx), val / Math.pow(10,3*(fmt.length-idx)));\n}\n\nfunction write_num_exp(fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar o/*:string*/;\n\tvar idx = fmt.indexOf(\"E\") - fmt.indexOf(\".\") - 1;\n\tif(fmt.match(/^#+0.0E\\+0$/)) {\n\t\tif(val == 0) return \"0.0E+0\";\n\t\telse if(val < 0) return \"-\" + write_num_exp(fmt, -val);\n\t\tvar period = fmt.indexOf(\".\"); if(period === -1) period=fmt.indexOf('E');\n\t\tvar ee = Math.floor(Math.log(val)*Math.LOG10E)%period;\n\t\tif(ee < 0) ee += period;\n\t\to = (val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);\n\t\tif(o.indexOf(\"e\") === -1) {\n\t\t\tvar fakee = Math.floor(Math.log(val)*Math.LOG10E);\n\t\t\tif(o.indexOf(\".\") === -1) o = o.charAt(0) + \".\" + o.substr(1) + \"E+\" + (fakee - o.length+ee);\n\t\t\telse o += \"E+\" + (fakee - ee);\n\t\t\twhile(o.substr(0,2) === \"0.\") {\n\t\t\t\to = o.charAt(0) + o.substr(2,period) + \".\" + o.substr(2+period);\n\t\t\t\to = o.replace(/^0+([1-9])/,\"$1\").replace(/^0+\\./,\"0.\");\n\t\t\t}\n\t\t\to = o.replace(/\\+-/,\"-\");\n\t\t}\n\t\to = o.replace(/^([+-]?)(\\d*)\\.(\\d*)[Ee]/,function($$,$1,$2,$3) { return $1 + $2 + $3.substr(0,(period+ee)%period) + \".\" + $3.substr(ee) + \"E\"; });\n\t} else o = val.toExponential(idx);\n\tif(fmt.match(/E\\+00$/) && o.match(/e[+-]\\d$/)) o = o.substr(0,o.length-1) + \"0\" + o.charAt(o.length-1);\n\tif(fmt.match(/E\\-/) && o.match(/e\\+/)) o = o.replace(/e\\+/,\"e\");\n\treturn o.replace(\"e\",\"E\");\n}\nvar frac1 = /# (\\?+)( ?)\\/( ?)(\\d+)/;\nfunction write_num_f1(r/*:Array<string>*/, aval/*:number*/, sign/*:string*/)/*:string*/ {\n\tvar den = parseInt(r[4],10), rr = Math.round(aval * den), base = Math.floor(rr/den);\n\tvar myn = (rr - base*den), myd = den;\n\treturn sign + (base === 0 ? \"\" : \"\"+base) + \" \" + (myn === 0 ? fill(\" \", r[1].length + 1 + r[4].length) : pad_(myn,r[1].length) + r[2] + \"/\" + r[3] + pad0(myd,r[4].length));\n}\nfunction write_num_f2(r/*:Array<string>*/, aval/*:number*/, sign/*:string*/)/*:string*/ {\n\treturn sign + (aval === 0 ? \"\" : \"\"+aval) + fill(\" \", r[1].length + 2 + r[4].length);\n}\nvar dec1 = /^#*0*\\.([0#]+)/;\nvar closeparen = /\\)[^)]*[0#]/;\nvar phone = /\\(###\\) ###\\\\?-####/;\nfunction hashq(str/*:string*/)/*:string*/ {\n\tvar o = \"\", cc;\n\tfor(var i = 0; i != str.length; ++i) switch((cc=str.charCodeAt(i))) {\n\t\tcase 35: break;\n\t\tcase 63: o+= \" \"; break;\n\t\tcase 48: o+= \"0\"; break;\n\t\tdefault: o+= String.fromCharCode(cc);\n\t}\n\treturn o;\n}\nfunction rnd(val/*:number*/, d/*:number*/)/*:string*/ { var dd = Math.pow(10,d); return \"\"+(Math.round(val * dd)/dd); }\nfunction dec(val/*:number*/, d/*:number*/)/*:number*/ {\n\tvar _frac = val - Math.floor(val), dd = Math.pow(10,d);\n\tif (d < ('' + Math.round(_frac * dd)).length) return 0;\n\treturn Math.round(_frac * dd);\n}\nfunction carry(val/*:number*/, d/*:number*/)/*:number*/ {\n\tif (d < ('' + Math.round((val-Math.floor(val))*Math.pow(10,d))).length) {\n\t\treturn 1;\n\t}\n\treturn 0;\n}\nfunction flr(val/*:number*/)/*:string*/ {\n\tif(val < 2147483647 && val > -2147483648) return \"\"+(val >= 0 ? (val|0) : (val-1|0));\n\treturn \"\"+Math.floor(val);\n}\nfunction write_num_flt(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/ {\n\tif(type.charCodeAt(0) === 40 && !fmt.match(closeparen)) {\n\t\tvar ffmt = fmt.replace(/\\( */,\"\").replace(/ \\)/,\"\").replace(/\\)/,\"\");\n\t\tif(val >= 0) return write_num_flt('n', ffmt, val);\n\t\treturn '(' + write_num_flt('n', ffmt, -val) + ')';\n\t}\n\tif(fmt.charCodeAt(fmt.length - 1) === 44) return write_num_cm(type, fmt, val);\n\tif(fmt.indexOf('%') !== -1) return write_num_pct(type, fmt, val);\n\tif(fmt.indexOf('E') !== -1) return write_num_exp(fmt, val);\n\tif(fmt.charCodeAt(0) === 36) return \"$\"+write_num_flt(type,fmt.substr(fmt.charAt(1)==' '?2:1),val);\n\tvar o;\n\tvar r/*:?Array<string>*/, ri, ff, aval = Math.abs(val), sign = val < 0 ? \"-\" : \"\";\n\tif(fmt.match(/^00+$/)) return sign + pad0r(aval,fmt.length);\n\tif(fmt.match(/^[#?]+$/)) {\n\t\to = pad0r(val,0); if(o === \"0\") o = \"\";\n\t\treturn o.length > fmt.length ? o : hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(frac1))) return write_num_f1(r, aval, sign);\n\tif(fmt.match(/^#+0+$/)) return sign + pad0r(aval,fmt.length - fmt.indexOf(\"0\"));\n\tif((r = fmt.match(dec1))) {\n\t\to = rnd(val, r[1].length).replace(/^([^\\.]+)$/,\"$1.\"+hashq(r[1])).replace(/\\.$/,\".\"+hashq(r[1])).replace(/\\.(\\d*)$/,function($$, $1) { return \".\" + $1 + fill(\"0\", hashq(/*::(*/r/*::||[\"\"])*/[1]).length-$1.length); });\n\t\treturn fmt.indexOf(\"0.\") !== -1 ? o : o.replace(/^0\\./,\".\");\n\t}\n\tfmt = fmt.replace(/^#+([0.])/, \"$1\");\n\tif((r = fmt.match(/^(0*)\\.(#*)$/))) {\n\t\treturn sign + rnd(aval, r[2].length).replace(/\\.(\\d*[1-9])0*$/,\".$1\").replace(/^(-?\\d*)$/,\"$1.\").replace(/^0\\./,r[1].length?\"0.\":\".\");\n\t}\n\tif((r = fmt.match(/^#{1,3},##0(\\.?)$/))) return sign + commaify(pad0r(aval,0));\n\tif((r = fmt.match(/^#,##0\\.([#0]*0)$/))) {\n\t\treturn val < 0 ? \"-\" + write_num_flt(type, fmt, -val) : commaify(\"\"+(Math.floor(val) + carry(val, r[1].length))) + \".\" + pad0(dec(val, r[1].length),r[1].length);\n\t}\n\tif((r = fmt.match(/^#,#*,#0/))) return write_num_flt(type,fmt.replace(/^#,#*,/,\"\"),val);\n\tif((r = fmt.match(/^([0#]+)(\\\\?-([0#]+))+$/))) {\n\t\to = _strrev(write_num_flt(type, fmt.replace(/[\\\\-]/g,\"\"), val));\n\t\tri = 0;\n\t\treturn _strrev(_strrev(fmt.replace(/\\\\/g,\"\")).replace(/[0#]/g,function(x){return ri<o.length?o.charAt(ri++):x==='0'?'0':\"\";}));\n\t}\n\tif(fmt.match(phone)) {\n\t\to = write_num_flt(type, \"##########\", val);\n\t\treturn \"(\" + o.substr(0,3) + \") \" + o.substr(3, 3) + \"-\" + o.substr(6);\n\t}\n\tvar oa = \"\";\n\tif((r = fmt.match(/^([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(/*::String(*/r[4]/*::)*/.length,7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, false);\n\t\to = \"\" + sign;\n\t\toa = write_num(\"n\", /*::String(*/r[1]/*::)*/, ff[1]);\n\t\tif(oa.charAt(oa.length-1) == \" \") oa = oa.substr(0,oa.length-1) + \"0\";\n\t\to += oa + /*::String(*/r[2]/*::)*/ + \"/\" + /*::String(*/r[3]/*::)*/;\n\t\toa = rpad_(ff[2],ri);\n\t\tif(oa.length < r[4].length) oa = hashq(r[4].substr(r[4].length-oa.length)) + oa;\n\t\to += oa;\n\t\treturn o;\n\t}\n\tif((r = fmt.match(/^# ([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(Math.max(r[1].length, r[4].length),7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, true);\n\t\treturn sign + (ff[0]||(ff[1] ? \"\" : \"0\")) + \" \" + (ff[1] ? pad_(ff[1],ri) + r[2] + \"/\" + r[3] + rpad_(ff[2],ri): fill(\" \", 2*ri+1 + r[2].length + r[3].length));\n\t}\n\tif((r = fmt.match(/^[#0?]+$/))) {\n\t\to = pad0r(val, 0);\n\t\tif(fmt.length <= o.length) return o;\n\t\treturn hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(/^([#0?]+)\\.([#0]+)$/))) {\n\t\to = \"\" + val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,\"$1\");\n\t\tri = o.indexOf(\".\");\n\t\tvar lres = fmt.indexOf(\".\") - ri, rres = fmt.length - o.length - lres;\n\t\treturn hashq(fmt.substr(0,lres) + o + fmt.substr(fmt.length-rres));\n\t}\n\tif((r = fmt.match(/^00,000\\.([#0]*0)$/))) {\n\t\tri = dec(val, r[1].length);\n\t\treturn val < 0 ? \"-\" + write_num_flt(type, fmt, -val) : commaify(flr(val)).replace(/^\\d,\\d{3}$/,\"0$&\").replace(/^\\d*$/,function($$) { return \"00,\" + ($$.length < 3 ? pad0(0,3-$$.length) : \"\") + $$; }) + \".\" + pad0(ri,r[1].length);\n\t}\n\tswitch(fmt) {\n\t\tcase \"###,##0.00\": return write_num_flt(type, \"#,##0.00\", val);\n\t\tcase \"###,###\":\n\t\tcase \"##,###\":\n\t\tcase \"#,###\": var x = commaify(pad0r(aval,0)); return x !== \"0\" ? sign + x : \"\";\n\t\tcase \"###,###.00\": return write_num_flt(type, \"###,##0.00\",val).replace(/^0\\./,\".\");\n\t\tcase \"#,###.00\": return write_num_flt(type, \"#,##0.00\",val).replace(/^0\\./,\".\");\n\t\tdefault:\n\t}\n\tthrow new Error(\"unsupported format |\" + fmt + \"|\");\n}\nfunction write_num_cm2(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar idx = fmt.length - 1;\n\twhile(fmt.charCodeAt(idx-1) === 44) --idx;\n\treturn write_num(type, fmt.substr(0,idx), val / Math.pow(10,3*(fmt.length-idx)));\n}\nfunction write_num_pct2(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar sfmt = fmt.replace(pct1,\"\"), mul = fmt.length - sfmt.length;\n\treturn write_num(type, sfmt, val * Math.pow(10,2*mul)) + fill(\"%\",mul);\n}\nfunction write_num_exp2(fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar o/*:string*/;\n\tvar idx = fmt.indexOf(\"E\") - fmt.indexOf(\".\") - 1;\n\tif(fmt.match(/^#+0.0E\\+0$/)) {\n\t\tif(val == 0) return \"0.0E+0\";\n\t\telse if(val < 0) return \"-\" + write_num_exp2(fmt, -val);\n\t\tvar period = fmt.indexOf(\".\"); if(period === -1) period=fmt.indexOf('E');\n\t\tvar ee = Math.floor(Math.log(val)*Math.LOG10E)%period;\n\t\tif(ee < 0) ee += period;\n\t\to = (val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);\n\t\tif(!o.match(/[Ee]/)) {\n\t\t\tvar fakee = Math.floor(Math.log(val)*Math.LOG10E);\n\t\t\tif(o.indexOf(\".\") === -1) o = o.charAt(0) + \".\" + o.substr(1) + \"E+\" + (fakee - o.length+ee);\n\t\t\telse o += \"E+\" + (fakee - ee);\n\t\t\to = o.replace(/\\+-/,\"-\");\n\t\t}\n\t\to = o.replace(/^([+-]?)(\\d*)\\.(\\d*)[Ee]/,function($$,$1,$2,$3) { return $1 + $2 + $3.substr(0,(period+ee)%period) + \".\" + $3.substr(ee) + \"E\"; });\n\t} else o = val.toExponential(idx);\n\tif(fmt.match(/E\\+00$/) && o.match(/e[+-]\\d$/)) o = o.substr(0,o.length-1) + \"0\" + o.charAt(o.length-1);\n\tif(fmt.match(/E\\-/) && o.match(/e\\+/)) o = o.replace(/e\\+/,\"e\");\n\treturn o.replace(\"e\",\"E\");\n}\nfunction write_num_int(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/ {\n\tif(type.charCodeAt(0) === 40 && !fmt.match(closeparen)) {\n\t\tvar ffmt = fmt.replace(/\\( */,\"\").replace(/ \\)/,\"\").replace(/\\)/,\"\");\n\t\tif(val >= 0) return write_num_int('n', ffmt, val);\n\t\treturn '(' + write_num_int('n', ffmt, -val) + ')';\n\t}\n\tif(fmt.charCodeAt(fmt.length - 1) === 44) return write_num_cm2(type, fmt, val);\n\tif(fmt.indexOf('%') !== -1) return write_num_pct2(type, fmt, val);\n\tif(fmt.indexOf('E') !== -1) return write_num_exp2(fmt, val);\n\tif(fmt.charCodeAt(0) === 36) return \"$\"+write_num_int(type,fmt.substr(fmt.charAt(1)==' '?2:1),val);\n\tvar o;\n\tvar r/*:?Array<string>*/, ri, ff, aval = Math.abs(val), sign = val < 0 ? \"-\" : \"\";\n\tif(fmt.match(/^00+$/)) return sign + pad0(aval,fmt.length);\n\tif(fmt.match(/^[#?]+$/)) {\n\t\to = (\"\"+val); if(val === 0) o = \"\";\n\t\treturn o.length > fmt.length ? o : hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(frac1))) return write_num_f2(r, aval, sign);\n\tif(fmt.match(/^#+0+$/)) return sign + pad0(aval,fmt.length - fmt.indexOf(\"0\"));\n\tif((r = fmt.match(dec1))) {\n\t\t/*:: if(!Array.isArray(r)) throw new Error(\"unreachable\"); */\n\t\to = (\"\"+val).replace(/^([^\\.]+)$/,\"$1.\"+hashq(r[1])).replace(/\\.$/,\".\"+hashq(r[1]));\n\t\to = o.replace(/\\.(\\d*)$/,function($$, $1) {\n\t\t/*:: if(!Array.isArray(r)) throw new Error(\"unreachable\"); */\n\t\t\treturn \".\" + $1 + fill(\"0\", hashq(r[1]).length-$1.length); });\n\t\treturn fmt.indexOf(\"0.\") !== -1 ? o : o.replace(/^0\\./,\".\");\n\t}\n\tfmt = fmt.replace(/^#+([0.])/, \"$1\");\n\tif((r = fmt.match(/^(0*)\\.(#*)$/))) {\n\t\treturn sign + (\"\"+aval).replace(/\\.(\\d*[1-9])0*$/,\".$1\").replace(/^(-?\\d*)$/,\"$1.\").replace(/^0\\./,r[1].length?\"0.\":\".\");\n\t}\n\tif((r = fmt.match(/^#{1,3},##0(\\.?)$/))) return sign + commaify((\"\"+aval));\n\tif((r = fmt.match(/^#,##0\\.([#0]*0)$/))) {\n\t\treturn val < 0 ? \"-\" + write_num_int(type, fmt, -val) : commaify((\"\"+val)) + \".\" + fill('0',r[1].length);\n\t}\n\tif((r = fmt.match(/^#,#*,#0/))) return write_num_int(type,fmt.replace(/^#,#*,/,\"\"),val);\n\tif((r = fmt.match(/^([0#]+)(\\\\?-([0#]+))+$/))) {\n\t\to = _strrev(write_num_int(type, fmt.replace(/[\\\\-]/g,\"\"), val));\n\t\tri = 0;\n\t\treturn _strrev(_strrev(fmt.replace(/\\\\/g,\"\")).replace(/[0#]/g,function(x){return ri<o.length?o.charAt(ri++):x==='0'?'0':\"\";}));\n\t}\n\tif(fmt.match(phone)) {\n\t\to = write_num_int(type, \"##########\", val);\n\t\treturn \"(\" + o.substr(0,3) + \") \" + o.substr(3, 3) + \"-\" + o.substr(6);\n\t}\n\tvar oa = \"\";\n\tif((r = fmt.match(/^([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(/*::String(*/r[4]/*::)*/.length,7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, false);\n\t\to = \"\" + sign;\n\t\toa = write_num(\"n\", /*::String(*/r[1]/*::)*/, ff[1]);\n\t\tif(oa.charAt(oa.length-1) == \" \") oa = oa.substr(0,oa.length-1) + \"0\";\n\t\to += oa + /*::String(*/r[2]/*::)*/ + \"/\" + /*::String(*/r[3]/*::)*/;\n\t\toa = rpad_(ff[2],ri);\n\t\tif(oa.length < r[4].length) oa = hashq(r[4].substr(r[4].length-oa.length)) + oa;\n\t\to += oa;\n\t\treturn o;\n\t}\n\tif((r = fmt.match(/^# ([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(Math.max(r[1].length, r[4].length),7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, true);\n\t\treturn sign + (ff[0]||(ff[1] ? \"\" : \"0\")) + \" \" + (ff[1] ? pad_(ff[1],ri) + r[2] + \"/\" + r[3] + rpad_(ff[2],ri): fill(\" \", 2*ri+1 + r[2].length + r[3].length));\n\t}\n\tif((r = fmt.match(/^[#0?]+$/))) {\n\t\to = \"\" + val;\n\t\tif(fmt.length <= o.length) return o;\n\t\treturn hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(/^([#0]+)\\.([#0]+)$/))) {\n\t\to = \"\" + val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,\"$1\");\n\t\tri = o.indexOf(\".\");\n\t\tvar lres = fmt.indexOf(\".\") - ri, rres = fmt.length - o.length - lres;\n\t\treturn hashq(fmt.substr(0,lres) + o + fmt.substr(fmt.length-rres));\n\t}\n\tif((r = fmt.match(/^00,000\\.([#0]*0)$/))) {\n\t\treturn val < 0 ? \"-\" + write_num_int(type, fmt, -val) : commaify(\"\"+val).replace(/^\\d,\\d{3}$/,\"0$&\").replace(/^\\d*$/,function($$) { return \"00,\" + ($$.length < 3 ? pad0(0,3-$$.length) : \"\") + $$; }) + \".\" + pad0(0,r[1].length);\n\t}\n\tswitch(fmt) {\n\t\tcase \"###,###\":\n\t\tcase \"##,###\":\n\t\tcase \"#,###\": var x = commaify(\"\"+aval); return x !== \"0\" ? sign + x : \"\";\n\t\tdefault:\n\t\t\tif(fmt.match(/\\.[0#?]*$/)) return write_num_int(type, fmt.slice(0,fmt.lastIndexOf(\".\")), val) + hashq(fmt.slice(fmt.lastIndexOf(\".\")));\n\t}\n\tthrow new Error(\"unsupported format |\" + fmt + \"|\");\n}\nfunction write_num(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/ {\n\treturn (val|0) === val ? write_num_int(type, fmt, val) : write_num_flt(type, fmt, val);\n}\nfunction SSF_split_fmt(fmt/*:string*/)/*:Array<string>*/ {\n\tvar out/*:Array<string>*/ = [];\n\tvar in_str = false/*, cc*/;\n\tfor(var i = 0, j = 0; i < fmt.length; ++i) switch((/*cc=*/fmt.charCodeAt(i))) {\n\t\tcase 34: /* '\"' */\n\t\t\tin_str = !in_str; break;\n\t\tcase 95: case 42: case 92: /* '_' '*' '\\\\' */\n\t\t\t++i; break;\n\t\tcase 59: /* ';' */\n\t\t\tout[out.length] = fmt.substr(j,i-j);\n\t\t\tj = i+1;\n\t}\n\tout[out.length] = fmt.substr(j);\n\tif(in_str === true) throw new Error(\"Format |\" + fmt + \"| unterminated string \");\n\treturn out;\n}\n\nvar SSF_abstime = /\\[[HhMmSs\\u0E0A\\u0E19\\u0E17]*\\]/;\nfunction fmt_is_date(fmt/*:string*/)/*:boolean*/ {\n\tvar i = 0, /*cc = 0,*/ c = \"\", o = \"\";\n\twhile(i < fmt.length) {\n\t\tswitch((c = fmt.charAt(i))) {\n\t\t\tcase 'G': if(SSF_isgeneral(fmt, i)) i+= 6; i++; break;\n\t\t\tcase '\"': for(;(/*cc=*/fmt.charCodeAt(++i)) !== 34 && i < fmt.length;){/*empty*/} ++i; break;\n\t\t\tcase '\\\\': i+=2; break;\n\t\t\tcase '_': i+=2; break;\n\t\t\tcase '@': ++i; break;\n\t\t\tcase 'B': case 'b':\n\t\t\t\tif(fmt.charAt(i+1) === \"1\" || fmt.charAt(i+1) === \"2\") return true;\n\t\t\t\t/* falls through */\n\t\t\tcase 'M': case 'D': case 'Y': case 'H': case 'S': case 'E':\n\t\t\t\t/* falls through */\n\t\t\tcase 'm': case 'd': case 'y': case 'h': case 's': case 'e': case 'g': return true;\n\t\t\tcase 'A': case 'a': case '':\n\t\t\t\tif(fmt.substr(i, 3).toUpperCase() === \"A/P\") return true;\n\t\t\t\tif(fmt.substr(i, 5).toUpperCase() === \"AM/PM\") return true;\n\t\t\t\tif(fmt.substr(i, 5).toUpperCase() === \"/\") return true;\n\t\t\t\t++i; break;\n\t\t\tcase '[':\n\t\t\t\to = c;\n\t\t\t\twhile(fmt.charAt(i++) !== ']' && i < fmt.length) o += fmt.charAt(i);\n\t\t\t\tif(o.match(SSF_abstime)) return true;\n\t\t\t\tbreak;\n\t\t\tcase '.':\n\t\t\t\t/* falls through */\n\t\t\tcase '0': case '#':\n\t\t\t\twhile(i < fmt.length && (\"0#?.,E+-%\".indexOf(c=fmt.charAt(++i)) > -1 || (c=='\\\\' && fmt.charAt(i+1) == \"-\" && \"0#\".indexOf(fmt.charAt(i+2))>-1))){/* empty */}\n\t\t\t\tbreak;\n\t\t\tcase '?': while(fmt.charAt(++i) === c){/* empty */} break;\n\t\t\tcase '*': ++i; if(fmt.charAt(i) == ' ' || fmt.charAt(i) == '*') ++i; break;\n\t\t\tcase '(': case ')': ++i; break;\n\t\t\tcase '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9':\n\t\t\t\twhile(i < fmt.length && \"0123456789\".indexOf(fmt.charAt(++i)) > -1){/* empty */} break;\n\t\t\tcase ' ': ++i; break;\n\t\t\tdefault: ++i; break;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction eval_fmt(fmt/*:string*/, v/*:any*/, opts/*:any*/, flen/*:number*/) {\n\tvar out = [], o = \"\", i = 0, c = \"\", lst='t', dt, j, cc;\n\tvar hr='H';\n\t/* Tokenize */\n\twhile(i < fmt.length) {\n\t\tswitch((c = fmt.charAt(i))) {\n\t\t\tcase 'G': /* General */\n\t\t\t\tif(!SSF_isgeneral(fmt, i)) throw new Error('unrecognized character ' + c + ' in ' +fmt);\n\t\t\t\tout[out.length] = {t:'G', v:'General'}; i+=7; break;\n\t\t\tcase '\"': /* Literal text */\n\t\t\t\tfor(o=\"\";(cc=fmt.charCodeAt(++i)) !== 34 && i < fmt.length;) o += String.fromCharCode(cc);\n\t\t\t\tout[out.length] = {t:'t', v:o}; ++i; break;\n\t\t\tcase '\\\\': var w = fmt.charAt(++i), t = (w === \"(\" || w === \")\") ? w : 't';\n\t\t\t\tout[out.length] = {t:t, v:w}; ++i; break;\n\t\t\tcase '_': out[out.length] = {t:'t', v:\" \"}; i+=2; break;\n\t\t\tcase '@': /* Text Placeholder */\n\t\t\t\tout[out.length] = {t:'T', v:v}; ++i; break;\n\t\t\tcase 'B': case 'b':\n\t\t\t\tif(fmt.charAt(i+1) === \"1\" || fmt.charAt(i+1) === \"2\") {\n\t\t\t\t\tif(dt==null) { dt=SSF_parse_date_code(v, opts, fmt.charAt(i+1) === \"2\"); if(dt==null) return \"\"; }\n\t\t\t\t\tout[out.length] = {t:'X', v:fmt.substr(i,2)}; lst = c; i+=2; break;\n\t\t\t\t}\n\t\t\t\t/* falls through */\n\t\t\tcase 'M': case 'D': case 'Y': case 'H': case 'S': case 'E':\n\t\t\t\tc = c.toLowerCase();\n\t\t\t\t/* falls through */\n\t\t\tcase 'm': case 'd': case 'y': case 'h': case 's': case 'e': case 'g':\n\t\t\t\tif(v < 0) return \"\";\n\t\t\t\tif(dt==null) { dt=SSF_parse_date_code(v, opts); if(dt==null) return \"\"; }\n\t\t\t\to = c; while(++i < fmt.length && fmt.charAt(i).toLowerCase() === c) o+=c;\n\t\t\t\tif(c === 'm' && lst.toLowerCase() === 'h') c = 'M';\n\t\t\t\tif(c === 'h') c = hr;\n\t\t\t\tout[out.length] = {t:c, v:o}; lst = c; break;\n\t\t\tcase 'A': case 'a': case '':\n\t\t\t\tvar q={t:c, v:c};\n\t\t\t\tif(dt==null) dt=SSF_parse_date_code(v, opts);\n\t\t\t\tif(fmt.substr(i, 3).toUpperCase() === \"A/P\") { if(dt!=null) q.v = dt.H >= 12 ? fmt.charAt(i+2) : c; q.t = 'T'; hr='h';i+=3;}\n\t\t\t\telse if(fmt.substr(i,5).toUpperCase() === \"AM/PM\") { if(dt!=null) q.v = dt.H >= 12 ? \"PM\" : \"AM\"; q.t = 'T'; i+=5; hr='h'; }\n\t\t\t\telse if(fmt.substr(i,5).toUpperCase() === \"/\") { if(dt!=null) q.v = dt.H >= 12 ? \"\" : \"\"; q.t = 'T'; i+=5; hr='h'; }\n\t\t\t\telse { q.t = \"t\"; ++i; }\n\t\t\t\tif(dt==null && q.t === 'T') return \"\";\n\t\t\t\tout[out.length] = q; lst = c; break;\n\t\t\tcase '[':\n\t\t\t\to = c;\n\t\t\t\twhile(fmt.charAt(i++) !== ']' && i < fmt.length) o += fmt.charAt(i);\n\t\t\t\tif(o.slice(-1) !== ']') throw 'unterminated \"[\" block: |' + o + '|';\n\t\t\t\tif(o.match(SSF_abstime)) {\n\t\t\t\t\tif(dt==null) { dt=SSF_parse_date_code(v, opts); if(dt==null) return \"\"; }\n\t\t\t\t\tout[out.length] = {t:'Z', v:o.toLowerCase()};\n\t\t\t\t\tlst = o.charAt(1);\n\t\t\t\t} else if(o.indexOf(\"$\") > -1) {\n\t\t\t\t\to = (o.match(/\\$([^-\\[\\]]*)/)||[])[1]||\"$\";\n\t\t\t\t\tif(!fmt_is_date(fmt)) out[out.length] = {t:'t',v:o};\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t/* Numbers */\n\t\t\tcase '.':\n\t\t\t\tif(dt != null) {\n\t\t\t\t\to = c; while(++i < fmt.length && (c=fmt.charAt(i)) === \"0\") o += c;\n\t\t\t\t\tout[out.length] = {t:'s', v:o}; break;\n\t\t\t\t}\n\t\t\t\t/* falls through */\n\t\t\tcase '0': case '#':\n\t\t\t\to = c; while(++i < fmt.length && \"0#?.,E+-%\".indexOf(c=fmt.charAt(i)) > -1) o += c;\n\t\t\t\tout[out.length] = {t:'n', v:o}; break;\n\t\t\tcase '?':\n\t\t\t\to = c; while(fmt.charAt(++i) === c) o+=c;\n\t\t\t\tout[out.length] = {t:c, v:o}; lst = c; break;\n\t\t\tcase '*': ++i; if(fmt.charAt(i) == ' ' || fmt.charAt(i) == '*') ++i; break; // **\n\t\t\tcase '(': case ')': out[out.length] = {t:(flen===1?'t':c), v:c}; ++i; break;\n\t\t\tcase '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9':\n\t\t\t\to = c; while(i < fmt.length && \"0123456789\".indexOf(fmt.charAt(++i)) > -1) o+=fmt.charAt(i);\n\t\t\t\tout[out.length] = {t:'D', v:o}; break;\n\t\t\tcase ' ': out[out.length] = {t:c, v:c}; ++i; break;\n\t\t\tcase '$': out[out.length] = {t:'t', v:'$'}; ++i; break;\n\t\t\tdefault:\n\t\t\t\tif(\",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP\".indexOf(c) === -1) throw new Error('unrecognized character ' + c + ' in ' + fmt);\n\t\t\t\tout[out.length] = {t:'t', v:c}; ++i; break;\n\t\t}\n\t}\n\n\t/* Scan for date/time parts */\n\tvar bt = 0, ss0 = 0, ssm;\n\tfor(i=out.length-1, lst='t'; i >= 0; --i) {\n\t\tswitch(out[i].t) {\n\t\t\tcase 'h': case 'H': out[i].t = hr; lst='h'; if(bt < 1) bt = 1; break;\n\t\t\tcase 's':\n\t\t\t\tif((ssm=out[i].v.match(/\\.0+$/))) { ss0=Math.max(ss0,ssm[0].length-1); bt = 4;}\n\t\t\t\tif(bt < 3) bt = 3;\n\t\t\t/* falls through */\n\t\t\tcase 'd': case 'y': case 'e': lst=out[i].t; break;\n\t\t\tcase 'M': lst=out[i].t; if(bt < 2) bt = 2; break;\n\t\t\tcase 'm': if(lst === 's') { out[i].t = 'M'; if(bt < 2) bt = 2; } break;\n\t\t\tcase 'X': /*if(out[i].v === \"B2\");*/\n\t\t\t\tbreak;\n\t\t\tcase 'Z':\n\t\t\t\tif(bt < 1 && out[i].v.match(/[Hh]/)) bt = 1;\n\t\t\t\tif(bt < 2 && out[i].v.match(/[Mm]/)) bt = 2;\n\t\t\t\tif(bt < 3 && out[i].v.match(/[Ss]/)) bt = 3;\n\t\t}\n\t}\n\n\t/* time rounding depends on presence of minute / second / usec fields */\n\tvar _dt;\n\tswitch(bt) {\n\t\tcase 0: break;\n\t\tcase 1:\n\t\tcase 2:\n\t\tcase 3:\n\t\t\tif(dt.u >= 0.5) { dt.u = 0; ++dt.S; }\n\t\t\tif(dt.S >=  60) { dt.S = 0; ++dt.M; }\n\t\t\tif(dt.M >=  60) { dt.M = 0; ++dt.H; }\n\t\t\tif(dt.H >=  24) { dt.H = 0; ++dt.D; _dt = SSF_parse_date_code(dt.D); _dt.u = dt.u; _dt.S = dt.S; _dt.M = dt.M; _dt.H = dt.H; dt = _dt; }\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tswitch(ss0) {\n\t\t\t\tcase 1: dt.u = Math.round(dt.u * 10)/10; break;\n\t\t\t\tcase 2: dt.u = Math.round(dt.u * 100)/100; break;\n\t\t\t\tcase 3: dt.u = Math.round(dt.u * 1000)/1000; break;\n\t\t\t}\n\t\t\tif(dt.u >=   1) { dt.u = 0; ++dt.S; }\n\t\t\tif(dt.S >=  60) { dt.S = 0; ++dt.M; }\n\t\t\tif(dt.M >=  60) { dt.M = 0; ++dt.H; }\n\t\t\tif(dt.H >=  24) { dt.H = 0; ++dt.D; _dt = SSF_parse_date_code(dt.D); _dt.u = dt.u; _dt.S = dt.S; _dt.M = dt.M; _dt.H = dt.H; dt = _dt; }\n\t\t\tbreak;\n\t}\n\n\t/* replace fields */\n\tvar nstr = \"\", jj;\n\tfor(i=0; i < out.length; ++i) {\n\t\tswitch(out[i].t) {\n\t\t\tcase 't': case 'T': case ' ': case 'D': break;\n\t\t\tcase 'X': out[i].v = \"\"; out[i].t = \";\"; break;\n\t\t\tcase 'd': case 'm': case 'y': case 'h': case 'H': case 'M': case 's': case 'e': case 'b': case 'Z':\n\t\t\t\t/*::if(!dt) throw \"unreachable\"; */\n\t\t\t\tout[i].v = SSF_write_date(out[i].t.charCodeAt(0), out[i].v, dt, ss0);\n\t\t\t\tout[i].t = 't'; break;\n\t\t\tcase 'n': case '?':\n\t\t\t\tjj = i+1;\n\t\t\t\twhile(out[jj] != null && (\n\t\t\t\t\t(c=out[jj].t) === \"?\" || c === \"D\" ||\n\t\t\t\t\t((c === \" \" || c === \"t\") && out[jj+1] != null && (out[jj+1].t === '?' || out[jj+1].t === \"t\" && out[jj+1].v === '/')) ||\n\t\t\t\t\t(out[i].t === '(' && (c === ' ' || c === 'n' || c === ')')) ||\n\t\t\t\t\t(c === 't' && (out[jj].v === '/' || out[jj].v === ' ' && out[jj+1] != null && out[jj+1].t == '?'))\n\t\t\t\t)) {\n\t\t\t\t\tout[i].v += out[jj].v;\n\t\t\t\t\tout[jj] = {v:\"\", t:\";\"}; ++jj;\n\t\t\t\t}\n\t\t\t\tnstr += out[i].v;\n\t\t\t\ti = jj-1; break;\n\t\t\tcase 'G': out[i].t = 't'; out[i].v = SSF_general(v,opts); break;\n\t\t}\n\t}\n\tvar vv = \"\", myv, ostr;\n\tif(nstr.length > 0) {\n\t\tif(nstr.charCodeAt(0) == 40) /* '(' */ {\n\t\t\tmyv = (v<0&&nstr.charCodeAt(0) === 45 ? -v : v);\n\t\t\tostr = write_num('n', nstr, myv);\n\t\t} else {\n\t\t\tmyv = (v<0 && flen > 1 ? -v : v);\n\t\t\tostr = write_num('n', nstr, myv);\n\t\t\tif(myv < 0 && out[0] && out[0].t == 't') {\n\t\t\t\tostr = ostr.substr(1);\n\t\t\t\tout[0].v = \"-\" + out[0].v;\n\t\t\t}\n\t\t}\n\t\tjj=ostr.length-1;\n\t\tvar decpt = out.length;\n\t\tfor(i=0; i < out.length; ++i) if(out[i] != null && out[i].t != 't' && out[i].v.indexOf(\".\") > -1) { decpt = i; break; }\n\t\tvar lasti=out.length;\n\t\tif(decpt === out.length && ostr.indexOf(\"E\") === -1) {\n\t\t\tfor(i=out.length-1; i>= 0;--i) {\n\t\t\t\tif(out[i] == null || 'n?'.indexOf(out[i].t) === -1) continue;\n\t\t\t\tif(jj>=out[i].v.length-1) { jj -= out[i].v.length; out[i].v = ostr.substr(jj+1, out[i].v.length); }\n\t\t\t\telse if(jj < 0) out[i].v = \"\";\n\t\t\t\telse { out[i].v = ostr.substr(0, jj+1); jj = -1; }\n\t\t\t\tout[i].t = 't';\n\t\t\t\tlasti = i;\n\t\t\t}\n\t\t\tif(jj>=0 && lasti<out.length) out[lasti].v = ostr.substr(0,jj+1) + out[lasti].v;\n\t\t}\n\t\telse if(decpt !== out.length && ostr.indexOf(\"E\") === -1) {\n\t\t\tjj = ostr.indexOf(\".\")-1;\n\t\t\tfor(i=decpt; i>= 0; --i) {\n\t\t\t\tif(out[i] == null || 'n?'.indexOf(out[i].t) === -1) continue;\n\t\t\t\tj=out[i].v.indexOf(\".\")>-1&&i===decpt?out[i].v.indexOf(\".\")-1:out[i].v.length-1;\n\t\t\t\tvv = out[i].v.substr(j+1);\n\t\t\t\tfor(; j>=0; --j) {\n\t\t\t\t\tif(jj>=0 && (out[i].v.charAt(j) === \"0\" || out[i].v.charAt(j) === \"#\")) vv = ostr.charAt(jj--) + vv;\n\t\t\t\t}\n\t\t\t\tout[i].v = vv;\n\t\t\t\tout[i].t = 't';\n\t\t\t\tlasti = i;\n\t\t\t}\n\t\t\tif(jj>=0 && lasti<out.length) out[lasti].v = ostr.substr(0,jj+1) + out[lasti].v;\n\t\t\tjj = ostr.indexOf(\".\")+1;\n\t\t\tfor(i=decpt; i<out.length; ++i) {\n\t\t\t\tif(out[i] == null || ('n?('.indexOf(out[i].t) === -1 && i !== decpt)) continue;\n\t\t\t\tj=out[i].v.indexOf(\".\")>-1&&i===decpt?out[i].v.indexOf(\".\")+1:0;\n\t\t\t\tvv = out[i].v.substr(0,j);\n\t\t\t\tfor(; j<out[i].v.length; ++j) {\n\t\t\t\t\tif(jj<ostr.length) vv += ostr.charAt(jj++);\n\t\t\t\t}\n\t\t\t\tout[i].v = vv;\n\t\t\t\tout[i].t = 't';\n\t\t\t\tlasti = i;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=0; i<out.length; ++i) if(out[i] != null && 'n?'.indexOf(out[i].t)>-1) {\n\t\tmyv = (flen >1 && v < 0 && i>0 && out[i-1].v === \"-\" ? -v:v);\n\t\tout[i].v = write_num(out[i].t, out[i].v, myv);\n\t\tout[i].t = 't';\n\t}\n\tvar retval = \"\";\n\tfor(i=0; i !== out.length; ++i) if(out[i] != null) retval += out[i].v;\n\treturn retval;\n}\n\nvar cfregex2 = /\\[(=|>[=]?|<[>=]?)(-?\\d+(?:\\.\\d*)?)\\]/;\nfunction chkcond(v, rr) {\n\tif(rr == null) return false;\n\tvar thresh = parseFloat(rr[2]);\n\tswitch(rr[1]) {\n\t\tcase \"=\":  if(v == thresh) return true; break;\n\t\tcase \">\":  if(v >  thresh) return true; break;\n\t\tcase \"<\":  if(v <  thresh) return true; break;\n\t\tcase \"<>\": if(v != thresh) return true; break;\n\t\tcase \">=\": if(v >= thresh) return true; break;\n\t\tcase \"<=\": if(v <= thresh) return true; break;\n\t}\n\treturn false;\n}\nfunction choose_fmt(f/*:string*/, v/*:any*/) {\n\tvar fmt = SSF_split_fmt(f);\n\tvar l = fmt.length, lat = fmt[l-1].indexOf(\"@\");\n\tif(l<4 && lat>-1) --l;\n\tif(fmt.length > 4) throw new Error(\"cannot find right format for |\" + fmt.join(\"|\") + \"|\");\n\tif(typeof v !== \"number\") return [4, fmt.length === 4 || lat>-1?fmt[fmt.length-1]:\"@\"];\n\t/* NOTE: most spreadsheet software do not support NaN or infinities */\n\tif(typeof v === \"number\" && !isFinite(v)) v = 0;\n\tswitch(fmt.length) {\n\t\tcase 1: fmt = lat>-1 ? [\"General\", \"General\", \"General\", fmt[0]] : [fmt[0], fmt[0], fmt[0], \"@\"]; break;\n\t\tcase 2: fmt = lat>-1 ? [fmt[0], fmt[0], fmt[0], fmt[1]] : [fmt[0], fmt[1], fmt[0], \"@\"]; break;\n\t\tcase 3: fmt = lat>-1 ? [fmt[0], fmt[1], fmt[0], fmt[2]] : [fmt[0], fmt[1], fmt[2], \"@\"]; break;\n\t\tcase 4: break;\n\t}\n\tvar ff = v > 0 ? fmt[0] : v < 0 ? fmt[1] : fmt[2];\n\tif(fmt[0].indexOf(\"[\") === -1 && fmt[1].indexOf(\"[\") === -1) return [l, ff];\n\tif(fmt[0].match(/\\[[=<>]/) != null || fmt[1].match(/\\[[=<>]/) != null) {\n\t\tvar m1 = fmt[0].match(cfregex2);\n\t\tvar m2 = fmt[1].match(cfregex2);\n\t\treturn chkcond(v, m1) ? [l, fmt[0]] : chkcond(v, m2) ? [l, fmt[1]] : [l, fmt[m1 != null && m2 != null ? 2 : 1]];\n\t}\n\treturn [l, ff];\n}\nfunction SSF_format(fmt/*:string|number*/,v/*:any*/,o/*:?any*/) {\n\tif(o == null) o = {};\n\tvar sfmt = \"\";\n\tswitch(typeof fmt) {\n\t\tcase \"string\":\n\t\t\tif(fmt == \"m/d/yy\" && o.dateNF) sfmt = o.dateNF;\n\t\t\telse sfmt = fmt;\n\t\t\tbreak;\n\t\tcase \"number\":\n\t\t\tif(fmt == 14 && o.dateNF) sfmt = o.dateNF;\n\t\t\telse sfmt = (o.table != null ? (o.table/*:any*/) : table_fmt)[fmt];\n\t\t\tif(sfmt == null) sfmt = (o.table && o.table[SSF_default_map[fmt]]) || table_fmt[SSF_default_map[fmt]];\n\t\t\tif(sfmt == null) sfmt = SSF_default_str[fmt] || \"General\";\n\t\t\tbreak;\n\t}\n\tif(SSF_isgeneral(sfmt,0)) return SSF_general(v, o);\n\tif(v instanceof Date) v = datenum(v, o.date1904);\n\tvar f = choose_fmt(sfmt, v);\n\tif(SSF_isgeneral(f[1])) return SSF_general(v, o);\n\tif(v === true) v = \"TRUE\"; else if(v === false) v = \"FALSE\";\n\telse if(v === \"\" || v == null) return \"\";\n\telse if(isNaN(v) && f[1].indexOf(\"0\") > -1) return \"#NUM!\";\n\telse if(!isFinite(v) && f[1].indexOf(\"0\") > -1) return \"#DIV/0!\";\n\treturn eval_fmt(f[1], v, o, f[0]);\n}\nfunction SSF_load(fmt/*:string*/, idx/*:?number*/)/*:number*/ {\n\tif(typeof idx != 'number') {\n\t\tidx = +idx || -1;\n/*::if(typeof idx != 'number') return 0x188; */\n\t\tfor(var i = 0; i < 0x0188; ++i) {\n/*::if(typeof idx != 'number') return 0x188; */\n\t\t\tif(table_fmt[i] == undefined) { if(idx < 0) idx = i; continue; }\n\t\t\tif(table_fmt[i] == fmt) { idx = i; break; }\n\t\t}\n/*::if(typeof idx != 'number') return 0x188; */\n\t\tif(idx < 0) idx = 0x187;\n\t}\n/*::if(typeof idx != 'number') return 0x188; */\n\ttable_fmt[idx] = fmt;\n\treturn idx;\n}\nfunction SSF_load_table(tbl/*:SSFTable*/)/*:void*/ {\n\tfor(var i=0; i!=0x0188; ++i)\n\t\tif(tbl[i] !== undefined) SSF_load(tbl[i], i);\n}\n\nfunction make_ssf() {\n\ttable_fmt = SSF_init_table();\n}\n\nvar SSF = {\n\tformat: SSF_format,\n\tload: SSF_load,\n\t_table: table_fmt,\n\tload_table: SSF_load_table,\n\tparse_date_code: SSF_parse_date_code,\n\tis_date: fmt_is_date,\n\tget_table: function get_table() { return SSF._table = table_fmt; }\n};\n\nvar SSFImplicit/*{[number]:string}*/ = ({\n\t\"5\": '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\t\"6\": '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\t\"7\": '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\t\"8\": '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t\"23\": 'General', \"24\": 'General', \"25\": 'General', \"26\": 'General',\n\t\"27\": 'm/d/yy', \"28\": 'm/d/yy', \"29\": 'm/d/yy', \"30\": 'm/d/yy', \"31\": 'm/d/yy',\n\t\"32\": 'h:mm:ss', \"33\": 'h:mm:ss', \"34\": 'h:mm:ss', \"35\": 'h:mm:ss',\n\t\"36\": 'm/d/yy',\n\t\"41\": '_(* #,##0_);_(* \\(#,##0\\);_(* \"-\"_);_(@_)',\n\t\"42\": '_(\"$\"* #,##0_);_(\"$\"* \\(#,##0\\);_(\"$\"* \"-\"_);_(@_)',\n\t\"43\": '_(* #,##0.00_);_(* \\(#,##0.00\\);_(* \"-\"??_);_(@_)',\n\t\"44\": '_(\"$\"* #,##0.00_);_(\"$\"* \\(#,##0.00\\);_(\"$\"* \"-\"??_);_(@_)',\n\t\"50\": 'm/d/yy', \"51\": 'm/d/yy', \"52\": 'm/d/yy', \"53\": 'm/d/yy', \"54\": 'm/d/yy',\n\t\"55\": 'm/d/yy', \"56\": 'm/d/yy', \"57\": 'm/d/yy', \"58\": 'm/d/yy',\n\t\"59\": '0',\n\t\"60\": '0.00',\n\t\"61\": '#,##0',\n\t\"62\": '#,##0.00',\n\t\"63\": '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\t\"64\": '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\t\"65\": '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\t\"66\": '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t\"67\": '0%',\n\t\"68\": '0.00%',\n\t\"69\": '# ?/?',\n\t\"70\": '# ??/??',\n\t\"71\": 'm/d/yy',\n\t\"72\": 'm/d/yy',\n\t\"73\": 'd-mmm-yy',\n\t\"74\": 'd-mmm',\n\t\"75\": 'mmm-yy',\n\t\"76\": 'h:mm',\n\t\"77\": 'h:mm:ss',\n\t\"78\": 'm/d/yy h:mm',\n\t\"79\": 'mm:ss',\n\t\"80\": '[h]:mm:ss',\n\t\"81\": 'mmss.0'\n}/*:any*/);\n\n/* dateNF parse TODO: move to SSF */\nvar dateNFregex = /[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;\nfunction dateNF_regex(dateNF/*:string|number*/)/*:RegExp*/ {\n\tvar fmt = typeof dateNF == \"number\" ? table_fmt[dateNF] : dateNF;\n\tfmt = fmt.replace(dateNFregex, \"(\\\\d+)\");\n\tdateNFregex.lastIndex = 0;\n\treturn new RegExp(\"^\" + fmt + \"$\");\n}\nfunction dateNF_fix(str/*:string*/, dateNF/*:string*/, match/*:Array<string>*/)/*:string*/ {\n\tvar Y = -1, m = -1, d = -1, H = -1, M = -1, S = -1;\n\t(dateNF.match(dateNFregex)||[]).forEach(function(n, i) {\n\t\tvar v = parseInt(match[i+1], 10);\n\t\tswitch(n.toLowerCase().charAt(0)) {\n\t\t\tcase 'y': Y = v; break; case 'd': d = v; break;\n\t\t\tcase 'h': H = v; break; case 's': S = v; break;\n\t\t\tcase 'm': if(H >= 0) M = v; else m = v; break;\n\t\t}\n\t});\n\tdateNFregex.lastIndex = 0;\n\tif(S >= 0 && M == -1 && m >= 0) { M = m; m = -1; }\n\tvar datestr = ((\"\" + (Y>=0?Y: new Date().getFullYear())).slice(-4) + \"-\" + (\"00\" + (m>=1?m:1)).slice(-2) + \"-\" + (\"00\" + (d>=1?d:1)).slice(-2));\n\tif(datestr.length == 7) datestr = \"0\" + datestr;\n\tif(datestr.length == 8) datestr = \"20\" + datestr;\n\tvar timestr = ((\"00\" + (H>=0?H:0)).slice(-2) + \":\" + (\"00\" + (M>=0?M:0)).slice(-2) + \":\" + (\"00\" + (S>=0?S:0)).slice(-2));\n\tif(H == -1 && M == -1 && S == -1) return datestr;\n\tif(Y == -1 && m == -1 && d == -1) return timestr;\n\treturn datestr + \"T\" + timestr;\n}\n\n/* table of bad formats written by third-party tools */\nvar bad_formats = {\n\t\"d.m\": \"d\\\\.m\" // Issue #2571 Google Sheets writes invalid format 'd.m', correct format is 'd\".\"m' or 'd\\\\.m'\n};\n\nfunction SSF__load(fmt, idx) {\n\treturn SSF_load(bad_formats[fmt] || fmt, idx);\n}\n\n/*::\ndeclare var ReadShift:any;\ndeclare var CheckField:any;\ndeclare var prep_blob:any;\ndeclare var __readUInt32LE:any;\ndeclare var __readInt32LE:any;\ndeclare var __toBuffer:any;\ndeclare var __utf16le:any;\ndeclare var bconcat:any;\ndeclare var s2a:any;\ndeclare var chr0:any;\ndeclare var chr1:any;\ndeclare var has_buf:boolean;\ndeclare var new_buf:any;\ndeclare var new_raw_buf:any;\ndeclare var new_unsafe_buf:any;\ndeclare var Buffer_from:any;\n*/\n/* cfb.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*jshint eqnull:true */\n/*exported CFB */\n/*global Uint8Array:false, Uint16Array:false */\n\n/*::\ntype SectorEntry = {\n\tname?:string;\n\tnodes?:Array<number>;\n\tdata:RawBytes;\n};\ntype SectorList = {\n\t[k:string|number]:SectorEntry;\n\tname:?string;\n\tfat_addrs:Array<number>;\n\tssz:number;\n}\ntype CFBFiles = {[n:string]:CFBEntry};\n*/\n/* crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported CRC32 */\nvar CRC32 = /*#__PURE__*/(function() {\nvar CRC32 = {};\nCRC32.version = '1.2.0';\n/*::\ntype CRC32TableType = Array<number> | Int32Array;\n*/\n/*global Int32Array */\nfunction signed_crc_table()/*:any*/ {\n\tvar c = 0, table/*:Array<number>*/ = new Array(256);\n\n\tfor(var n =0; n != 256; ++n){\n\t\tc = n;\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\ttable[n] = c;\n\t}\n\n\treturn typeof Int32Array !== 'undefined' ? new Int32Array(table) : table;\n}\n\nvar T0 = signed_crc_table();\nfunction slice_by_16_tables(T) {\n\tvar c = 0, v = 0, n = 0, table/*:Array<number>*/ = typeof Int32Array !== 'undefined' ? new Int32Array(4096) : new Array(4096) ;\n\n\tfor(n = 0; n != 256; ++n) table[n] = T[n];\n\tfor(n = 0; n != 256; ++n) {\n\t\tv = T[n];\n\t\tfor(c = 256 + n; c < 4096; c += 256) v = table[c] = (v >>> 8) ^ T[v & 0xFF];\n\t}\n\tvar out = [];\n\tfor(n = 1; n != 16; ++n) out[n - 1] = typeof Int32Array !== 'undefined' && typeof table.subarray == \"function\" ? table.subarray(n * 256, n * 256 + 256) : table.slice(n * 256, n * 256 + 256);\n\treturn out;\n}\nvar TT = slice_by_16_tables(T0);\nvar T1 = TT[0],  T2 = TT[1],  T3 = TT[2],  T4 = TT[3],  T5 = TT[4];\nvar T6 = TT[5],  T7 = TT[6],  T8 = TT[7],  T9 = TT[8],  Ta = TT[9];\nvar Tb = TT[10], Tc = TT[11], Td = TT[12], Te = TT[13], Tf = TT[14];\nfunction crc32_bstr(bstr/*:string*/, seed/*:?number*/)/*:number*/ {\n\tvar C = seed/*:: ? 0 : 0 */ ^ -1;\n\tfor(var i = 0, L = bstr.length; i < L;) C = (C>>>8) ^ T0[(C^bstr.charCodeAt(i++))&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_buf(B/*:Uint8Array|Array<number>*/, seed/*:number*/)/*:number*/ {\n\tvar C = seed/*:: ? 0 : 0 */ ^ -1, L = B.length - 15, i = 0;\n\tfor(; i < L;) C =\n\t\tTf[B[i++] ^ (C & 255)] ^\n\t\tTe[B[i++] ^ ((C >> 8) & 255)] ^\n\t\tTd[B[i++] ^ ((C >> 16) & 255)] ^\n\t\tTc[B[i++] ^ (C >>> 24)] ^\n\t\tTb[B[i++]] ^ Ta[B[i++]] ^ T9[B[i++]] ^ T8[B[i++]] ^\n\t\tT7[B[i++]] ^ T6[B[i++]] ^ T5[B[i++]] ^ T4[B[i++]] ^\n\t\tT3[B[i++]] ^ T2[B[i++]] ^ T1[B[i++]] ^ T0[B[i++]];\n\tL += 15;\n\twhile(i < L) C = (C>>>8) ^ T0[(C^B[i++])&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_str(str/*:string*/, seed/*:number*/)/*:number*/ {\n\tvar C = seed ^ -1;\n\tfor(var i = 0, L = str.length, c = 0, d = 0; i < L;) {\n\t\tc = str.charCodeAt(i++);\n\t\tif(c < 0x80) {\n\t\t\tC = (C>>>8) ^ T0[(C^c)&0xFF];\n\t\t} else if(c < 0x800) {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (192|((c>>6)&31)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t} else if(c >= 0xD800 && c < 0xE000) {\n\t\t\tc = (c&1023)+64; d = str.charCodeAt(i++)&1023;\n\t\t\tC = (C>>>8) ^ T0[(C ^ (240|((c>>8)&7)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>2)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((d>>6)&15)|((c&3)<<4)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(d&63)))&0xFF];\n\t\t} else {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (224|((c>>12)&15)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>6)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t}\n\t}\n\treturn ~C;\n}\nCRC32.table = T0;\nCRC32.bstr = crc32_bstr;\nCRC32.buf = crc32_buf;\nCRC32.str = crc32_str;\nreturn CRC32;\n})();\n/* [MS-CFB] v20171201 */\nvar CFB = /*#__PURE__*/(function _CFB(){\nvar exports/*:CFBModule*/ = /*::(*/{}/*:: :any)*/;\nexports.version = '1.2.2';\n/* [MS-CFB] 2.6.4 */\nfunction namecmp(l/*:string*/, r/*:string*/)/*:number*/ {\n\tvar L = l.split(\"/\"), R = r.split(\"/\");\n\tfor(var i = 0, c = 0, Z = Math.min(L.length, R.length); i < Z; ++i) {\n\t\tif((c = L[i].length - R[i].length)) return c;\n\t\tif(L[i] != R[i]) return L[i] < R[i] ? -1 : 1;\n\t}\n\treturn L.length - R.length;\n}\nfunction dirname(p/*:string*/)/*:string*/ {\n\tif(p.charAt(p.length - 1) == \"/\") return (p.slice(0,-1).indexOf(\"/\") === -1) ? p : dirname(p.slice(0, -1));\n\tvar c = p.lastIndexOf(\"/\");\n\treturn (c === -1) ? p : p.slice(0, c+1);\n}\n\nfunction filename(p/*:string*/)/*:string*/ {\n\tif(p.charAt(p.length - 1) == \"/\") return filename(p.slice(0, -1));\n\tvar c = p.lastIndexOf(\"/\");\n\treturn (c === -1) ? p : p.slice(c+1);\n}\n/* -------------------------------------------------------------------------- */\n/* DOS Date format:\n   high|YYYYYYYm.mmmddddd.HHHHHMMM.MMMSSSSS|low\n   add 1980 to stored year\n   stored second should be doubled\n*/\n\n/* write JS date to buf as a DOS date */\nfunction write_dos_date(buf/*:CFBlob*/, date/*:Date|string*/) {\n\tif(typeof date === \"string\") date = new Date(date);\n\tvar hms/*:number*/ = date.getHours();\n\thms = hms << 6 | date.getMinutes();\n\thms = hms << 5 | (date.getSeconds()>>>1);\n\tbuf.write_shift(2, hms);\n\tvar ymd/*:number*/ = (date.getFullYear() - 1980);\n\tymd = ymd << 4 | (date.getMonth()+1);\n\tymd = ymd << 5 | date.getDate();\n\tbuf.write_shift(2, ymd);\n}\n\n/* read four bytes from buf and interpret as a DOS date */\nfunction parse_dos_date(buf/*:CFBlob*/)/*:Date*/ {\n\tvar hms = buf.read_shift(2) & 0xFFFF;\n\tvar ymd = buf.read_shift(2) & 0xFFFF;\n\tvar val = new Date();\n\tvar d = ymd & 0x1F; ymd >>>= 5;\n\tvar m = ymd & 0x0F; ymd >>>= 4;\n\tval.setMilliseconds(0);\n\tval.setFullYear(ymd + 1980);\n\tval.setMonth(m-1);\n\tval.setDate(d);\n\tvar S = hms & 0x1F; hms >>>= 5;\n\tvar M = hms & 0x3F; hms >>>= 6;\n\tval.setHours(hms);\n\tval.setMinutes(M);\n\tval.setSeconds(S<<1);\n\treturn val;\n}\nfunction parse_extra_field(blob/*:CFBlob*/)/*:any*/ {\n\tprep_blob(blob, 0);\n\tvar o = /*::(*/{}/*:: :any)*/;\n\tvar flags = 0;\n\twhile(blob.l <= blob.length - 4) {\n\t\tvar type = blob.read_shift(2);\n\t\tvar sz = blob.read_shift(2), tgt = blob.l + sz;\n\t\tvar p = {};\n\t\tswitch(type) {\n\t\t\t/* UNIX-style Timestamps */\n\t\t\tcase 0x5455: {\n\t\t\t\tflags = blob.read_shift(1);\n\t\t\t\tif(flags & 1) p.mtime = blob.read_shift(4);\n\t\t\t\t/* for some reason, CD flag corresponds to LFH */\n\t\t\t\tif(sz > 5) {\n\t\t\t\t\tif(flags & 2) p.atime = blob.read_shift(4);\n\t\t\t\t\tif(flags & 4) p.ctime = blob.read_shift(4);\n\t\t\t\t}\n\t\t\t\tif(p.mtime) p.mt = new Date(p.mtime*1000);\n\t\t\t} break;\n\t\t\t/* ZIP64 Extended Information Field */\n\t\t\tcase 0x0001: {\n\t\t\t\tvar sz1 = blob.read_shift(4), sz2 = blob.read_shift(4);\n\t\t\t\tp.usz = (sz2 * Math.pow(2,32) + sz1);\n\t\t\t\tsz1 = blob.read_shift(4); sz2 = blob.read_shift(4);\n\t\t\t\tp.csz = (sz2 * Math.pow(2,32) + sz1);\n\t\t\t\t// NOTE: volume fields are skipped\n\t\t\t} break;\n\t\t}\n\t\tblob.l = tgt;\n\t\to[type] = p;\n\t}\n\treturn o;\n}\nvar fs/*:: = require('fs'); */;\nfunction get_fs() { return fs || (fs = _fs); }\nfunction parse(file/*:RawBytes*/, options/*:CFBReadOpts*/)/*:CFBContainer*/ {\nif(file[0] == 0x50 && file[1] == 0x4b) return parse_zip(file, options);\nif((file[0] | 0x20) == 0x6d && (file[1]|0x20) == 0x69) return parse_mad(file, options);\nif(file.length < 512) throw new Error(\"CFB file size \" + file.length + \" < 512\");\nvar mver = 3;\nvar ssz = 512;\nvar nmfs = 0; // number of mini FAT sectors\nvar difat_sec_cnt = 0;\nvar dir_start = 0;\nvar minifat_start = 0;\nvar difat_start = 0;\n\nvar fat_addrs/*:Array<number>*/ = []; // locations of FAT sectors\n\n/* [MS-CFB] 2.2 Compound File Header */\nvar blob/*:CFBlob*/ = /*::(*/file.slice(0,512)/*:: :any)*/;\nprep_blob(blob, 0);\n\n/* major version */\nvar mv = check_get_mver(blob);\nmver = mv[0];\nswitch(mver) {\n\tcase 3: ssz = 512; break; case 4: ssz = 4096; break;\n\tcase 0: if(mv[1] == 0) return parse_zip(file, options);\n\t/* falls through */\n\tdefault: throw new Error(\"Major Version: Expected 3 or 4 saw \" + mver);\n}\n\n/* reprocess header */\nif(ssz !== 512) { blob = /*::(*/file.slice(0,ssz)/*:: :any)*/; prep_blob(blob, 28 /* blob.l */); }\n/* Save header for final object */\nvar header/*:RawBytes*/ = file.slice(0,ssz);\n\ncheck_shifts(blob, mver);\n\n// Number of Directory Sectors\nvar dir_cnt/*:number*/ = blob.read_shift(4, 'i');\nif(mver === 3 && dir_cnt !== 0) throw new Error('# Directory Sectors: Expected 0 saw ' + dir_cnt);\n\n// Number of FAT Sectors\nblob.l += 4;\n\n// First Directory Sector Location\ndir_start = blob.read_shift(4, 'i');\n\n// Transaction Signature\nblob.l += 4;\n\n// Mini Stream Cutoff Size\nblob.chk('00100000', 'Mini Stream Cutoff Size: ');\n\n// First Mini FAT Sector Location\nminifat_start = blob.read_shift(4, 'i');\n\n// Number of Mini FAT Sectors\nnmfs = blob.read_shift(4, 'i');\n\n// First DIFAT sector location\ndifat_start = blob.read_shift(4, 'i');\n\n// Number of DIFAT Sectors\ndifat_sec_cnt = blob.read_shift(4, 'i');\n\n// Grab FAT Sector Locations\nfor(var q = -1, j = 0; j < 109; ++j) { /* 109 = (512 - blob.l)>>>2; */\n\tq = blob.read_shift(4, 'i');\n\tif(q<0) break;\n\tfat_addrs[j] = q;\n}\n\n/** Break the file up into sectors */\nvar sectors/*:Array<RawBytes>*/ = sectorify(file, ssz);\n\nsleuth_fat(difat_start, difat_sec_cnt, sectors, ssz, fat_addrs);\n\n/** Chains */\nvar sector_list/*:SectorList*/ = make_sector_list(sectors, dir_start, fat_addrs, ssz);\n\nif(dir_start < sector_list.length) sector_list[dir_start].name = \"!Directory\";\nif(nmfs > 0 && minifat_start !== ENDOFCHAIN) sector_list[minifat_start].name = \"!MiniFAT\";\nsector_list[fat_addrs[0]].name = \"!FAT\";\nsector_list.fat_addrs = fat_addrs;\nsector_list.ssz = ssz;\n\n/* [MS-CFB] 2.6.1 Compound File Directory Entry */\nvar files/*:CFBFiles*/ = {}, Paths/*:Array<string>*/ = [], FileIndex/*:CFBFileIndex*/ = [], FullPaths/*:Array<string>*/ = [];\nread_directory(dir_start, sector_list, sectors, Paths, nmfs, files, FileIndex, minifat_start);\n\nbuild_full_paths(FileIndex, FullPaths, Paths);\nPaths.shift();\n\nvar o = {\n\tFileIndex: FileIndex,\n\tFullPaths: FullPaths\n};\n\n// $FlowIgnore\nif(options && options.raw) o.raw = {header: header, sectors: sectors};\nreturn o;\n} // parse\n\n/* [MS-CFB] 2.2 Compound File Header -- read up to major version */\nfunction check_get_mver(blob/*:CFBlob*/)/*:[number, number]*/ {\n\tif(blob[blob.l] == 0x50 && blob[blob.l + 1] == 0x4b) return [0, 0];\n\t// header signature 8\n\tblob.chk(HEADER_SIGNATURE, 'Header Signature: ');\n\n\t// clsid 16\n\t//blob.chk(HEADER_CLSID, 'CLSID: ');\n\tblob.l += 16;\n\n\t// minor version 2\n\tvar mver/*:number*/ = blob.read_shift(2, 'u');\n\n\treturn [blob.read_shift(2,'u'), mver];\n}\nfunction check_shifts(blob/*:CFBlob*/, mver/*:number*/)/*:void*/ {\n\tvar shift = 0x09;\n\n\t// Byte Order\n\t//blob.chk('feff', 'Byte Order: '); // note: some writers put 0xffff\n\tblob.l += 2;\n\n\t// Sector Shift\n\tswitch((shift = blob.read_shift(2))) {\n\t\tcase 0x09: if(mver != 3) throw new Error('Sector Shift: Expected 9 saw ' + shift); break;\n\t\tcase 0x0c: if(mver != 4) throw new Error('Sector Shift: Expected 12 saw ' + shift); break;\n\t\tdefault: throw new Error('Sector Shift: Expected 9 or 12 saw ' + shift);\n\t}\n\n\t// Mini Sector Shift\n\tblob.chk('0600', 'Mini Sector Shift: ');\n\n\t// Reserved\n\tblob.chk('000000000000', 'Reserved: ');\n}\n\n/** Break the file up into sectors */\nfunction sectorify(file/*:RawBytes*/, ssz/*:number*/)/*:Array<RawBytes>*/ {\n\tvar nsectors = Math.ceil(file.length/ssz)-1;\n\tvar sectors/*:Array<RawBytes>*/ = [];\n\tfor(var i=1; i < nsectors; ++i) sectors[i-1] = file.slice(i*ssz,(i+1)*ssz);\n\tsectors[nsectors-1] = file.slice(nsectors*ssz);\n\treturn sectors;\n}\n\n/* [MS-CFB] 2.6.4 Red-Black Tree */\nfunction build_full_paths(FI/*:CFBFileIndex*/, FP/*:Array<string>*/, Paths/*:Array<string>*/)/*:void*/ {\n\tvar i = 0, L = 0, R = 0, C = 0, j = 0, pl = Paths.length;\n\tvar dad/*:Array<number>*/ = [], q/*:Array<number>*/ = [];\n\n\tfor(; i < pl; ++i) { dad[i]=q[i]=i; FP[i]=Paths[i]; }\n\n\tfor(; j < q.length; ++j) {\n\t\ti = q[j];\n\t\tL = FI[i].L; R = FI[i].R; C = FI[i].C;\n\t\tif(dad[i] === i) {\n\t\t\tif(L !== -1 /*NOSTREAM*/ && dad[L] !== L) dad[i] = dad[L];\n\t\t\tif(R !== -1 && dad[R] !== R) dad[i] = dad[R];\n\t\t}\n\t\tif(C !== -1 /*NOSTREAM*/) dad[C] = i;\n\t\tif(L !== -1 && i != dad[i]) { dad[L] = dad[i]; if(q.lastIndexOf(L) < j) q.push(L); }\n\t\tif(R !== -1 && i != dad[i]) { dad[R] = dad[i]; if(q.lastIndexOf(R) < j) q.push(R); }\n\t}\n\tfor(i=1; i < pl; ++i) if(dad[i] === i) {\n\t\tif(R !== -1 /*NOSTREAM*/ && dad[R] !== R) dad[i] = dad[R];\n\t\telse if(L !== -1 && dad[L] !== L) dad[i] = dad[L];\n\t}\n\n\tfor(i=1; i < pl; ++i) {\n\t\tif(FI[i].type === 0 /* unknown */) continue;\n\t\tj = i;\n\t\tif(j != dad[j]) do {\n\t\t\tj = dad[j];\n\t\t\tFP[i] = FP[j] + \"/\" + FP[i];\n\t\t} while (j !== 0 && -1 !== dad[j] && j != dad[j]);\n\t\tdad[i] = -1;\n\t}\n\n\tFP[0] += \"/\";\n\tfor(i=1; i < pl; ++i) {\n\t\tif(FI[i].type !== 2 /* stream */) FP[i] += \"/\";\n\t}\n}\n\nfunction get_mfat_entry(entry/*:CFBEntry*/, payload/*:RawBytes*/, mini/*:?RawBytes*/)/*:CFBlob*/ {\n\tvar start = entry.start, size = entry.size;\n\t//return (payload.slice(start*MSSZ, start*MSSZ + size)/*:any*/);\n\tvar o = [];\n\tvar idx = start;\n\twhile(mini && size > 0 && idx >= 0) {\n\t\to.push(payload.slice(idx * MSSZ, idx * MSSZ + MSSZ));\n\t\tsize -= MSSZ;\n\t\tidx = __readInt32LE(mini, idx * 4);\n\t}\n\tif(o.length === 0) return (new_buf(0)/*:any*/);\n\treturn (bconcat(o).slice(0, entry.size)/*:any*/);\n}\n\n/** Chase down the rest of the DIFAT chain to build a comprehensive list\n    DIFAT chains by storing the next sector number as the last 32 bits */\nfunction sleuth_fat(idx/*:number*/, cnt/*:number*/, sectors/*:Array<RawBytes>*/, ssz/*:number*/, fat_addrs)/*:void*/ {\n\tvar q/*:number*/ = ENDOFCHAIN;\n\tif(idx === ENDOFCHAIN) {\n\t\tif(cnt !== 0) throw new Error(\"DIFAT chain shorter than expected\");\n\t} else if(idx !== -1 /*FREESECT*/) {\n\t\tvar sector = sectors[idx], m = (ssz>>>2)-1;\n\t\tif(!sector) return;\n\t\tfor(var i = 0; i < m; ++i) {\n\t\t\tif((q = __readInt32LE(sector,i*4)) === ENDOFCHAIN) break;\n\t\t\tfat_addrs.push(q);\n\t\t}\n\t\tif(cnt >= 1) sleuth_fat(__readInt32LE(sector,ssz-4),cnt - 1, sectors, ssz, fat_addrs);\n\t}\n}\n\n/** Follow the linked list of sectors for a given starting point */\nfunction get_sector_list(sectors/*:Array<RawBytes>*/, start/*:number*/, fat_addrs/*:Array<number>*/, ssz/*:number*/, chkd/*:?Array<boolean>*/)/*:SectorEntry*/ {\n\tvar buf/*:Array<number>*/ = [], buf_chain/*:Array<any>*/ = [];\n\tif(!chkd) chkd = [];\n\tvar modulus = ssz - 1, j = 0, jj = 0;\n\tfor(j=start; j>=0;) {\n\t\tchkd[j] = true;\n\t\tbuf[buf.length] = j;\n\t\tbuf_chain.push(sectors[j]);\n\t\tvar addr = fat_addrs[Math.floor(j*4/ssz)];\n\t\tjj = ((j*4) & modulus);\n\t\tif(ssz < 4 + jj) throw new Error(\"FAT boundary crossed: \" + j + \" 4 \"+ssz);\n\t\tif(!sectors[addr]) break;\n\t\tj = __readInt32LE(sectors[addr], jj);\n\t}\n\treturn {nodes: buf, data:__toBuffer([buf_chain])};\n}\n\n/** Chase down the sector linked lists */\nfunction make_sector_list(sectors/*:Array<RawBytes>*/, dir_start/*:number*/, fat_addrs/*:Array<number>*/, ssz/*:number*/)/*:SectorList*/ {\n\tvar sl = sectors.length, sector_list/*:SectorList*/ = ([]/*:any*/);\n\tvar chkd/*:Array<boolean>*/ = [], buf/*:Array<number>*/ = [], buf_chain/*:Array<RawBytes>*/ = [];\n\tvar modulus = ssz - 1, i=0, j=0, k=0, jj=0;\n\tfor(i=0; i < sl; ++i) {\n\t\tbuf = ([]/*:Array<number>*/);\n\t\tk = (i + dir_start); if(k >= sl) k-=sl;\n\t\tif(chkd[k]) continue;\n\t\tbuf_chain = [];\n\t\tvar seen = [];\n\t\tfor(j=k; j>=0;) {\n\t\t\tseen[j] = true;\n\t\t\tchkd[j] = true;\n\t\t\tbuf[buf.length] = j;\n\t\t\tbuf_chain.push(sectors[j]);\n\t\t\tvar addr/*:number*/ = fat_addrs[Math.floor(j*4/ssz)];\n\t\t\tjj = ((j*4) & modulus);\n\t\t\tif(ssz < 4 + jj) throw new Error(\"FAT boundary crossed: \" + j + \" 4 \"+ssz);\n\t\t\tif(!sectors[addr]) break;\n\t\t\tj = __readInt32LE(sectors[addr], jj);\n\t\t\tif(seen[j]) break;\n\t\t}\n\t\tsector_list[k] = ({nodes: buf, data:__toBuffer([buf_chain])}/*:SectorEntry*/);\n\t}\n\treturn sector_list;\n}\n\n/* [MS-CFB] 2.6.1 Compound File Directory Entry */\nfunction read_directory(dir_start/*:number*/, sector_list/*:SectorList*/, sectors/*:Array<RawBytes>*/, Paths/*:Array<string>*/, nmfs, files, FileIndex, mini) {\n\tvar minifat_store = 0, pl = (Paths.length?2:0);\n\tvar sector = sector_list[dir_start].data;\n\tvar i = 0, namelen = 0, name;\n\tfor(; i < sector.length; i+= 128) {\n\t\tvar blob/*:CFBlob*/ = /*::(*/sector.slice(i, i+128)/*:: :any)*/;\n\t\tprep_blob(blob, 64);\n\t\tnamelen = blob.read_shift(2);\n\t\tname = __utf16le(blob,0,namelen-pl);\n\t\tPaths.push(name);\n\t\tvar o/*:CFBEntry*/ = ({\n\t\t\tname:  name,\n\t\t\ttype:  blob.read_shift(1),\n\t\t\tcolor: blob.read_shift(1),\n\t\t\tL:     blob.read_shift(4, 'i'),\n\t\t\tR:     blob.read_shift(4, 'i'),\n\t\t\tC:     blob.read_shift(4, 'i'),\n\t\t\tclsid: blob.read_shift(16),\n\t\t\tstate: blob.read_shift(4, 'i'),\n\t\t\tstart: 0,\n\t\t\tsize: 0\n\t\t});\n\t\tvar ctime/*:number*/ = blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2);\n\t\tif(ctime !== 0) o.ct = read_date(blob, blob.l-8);\n\t\tvar mtime/*:number*/ = blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2);\n\t\tif(mtime !== 0) o.mt = read_date(blob, blob.l-8);\n\t\to.start = blob.read_shift(4, 'i');\n\t\to.size = blob.read_shift(4, 'i');\n\t\tif(o.size < 0 && o.start < 0) { o.size = o.type = 0; o.start = ENDOFCHAIN; o.name = \"\"; }\n\t\tif(o.type === 5) { /* root */\n\t\t\tminifat_store = o.start;\n\t\t\tif(nmfs > 0 && minifat_store !== ENDOFCHAIN) sector_list[minifat_store].name = \"!StreamData\";\n\t\t\t/*minifat_size = o.size;*/\n\t\t} else if(o.size >= 4096 /* MSCSZ */) {\n\t\t\to.storage = 'fat';\n\t\t\tif(sector_list[o.start] === undefined) sector_list[o.start] = get_sector_list(sectors, o.start, sector_list.fat_addrs, sector_list.ssz);\n\t\t\tsector_list[o.start].name = o.name;\n\t\t\to.content = (sector_list[o.start].data.slice(0,o.size)/*:any*/);\n\t\t} else {\n\t\t\to.storage = 'minifat';\n\t\t\tif(o.size < 0) o.size = 0;\n\t\t\telse if(minifat_store !== ENDOFCHAIN && o.start !== ENDOFCHAIN && sector_list[minifat_store]) {\n\t\t\t\to.content = get_mfat_entry(o, sector_list[minifat_store].data, (sector_list[mini]||{}).data);\n\t\t\t}\n\t\t}\n\t\tif(o.content) prep_blob(o.content, 0);\n\t\tfiles[name] = o;\n\t\tFileIndex.push(o);\n\t}\n}\n\nfunction read_date(blob/*:RawBytes|CFBlob*/, offset/*:number*/)/*:Date*/ {\n\treturn new Date(( ( (__readUInt32LE(blob,offset+4)/1e7)*Math.pow(2,32)+__readUInt32LE(blob,offset)/1e7 ) - 11644473600)*1000);\n}\n\nfunction read_file(filename/*:string*/, options/*:CFBReadOpts*/) {\n\tget_fs();\n\treturn parse(fs.readFileSync(filename), options);\n}\n\nfunction read(blob/*:RawBytes|string*/, options/*:CFBReadOpts*/) {\n\tvar type = options && options.type;\n\tif(!type) {\n\t\tif(has_buf && Buffer.isBuffer(blob)) type = \"buffer\";\n\t}\n\tswitch(type || \"base64\") {\n\t\tcase \"file\": /*:: if(typeof blob !== 'string') throw \"Must pass a filename when type='file'\"; */return read_file(blob, options);\n\t\tcase \"base64\": /*:: if(typeof blob !== 'string') throw \"Must pass a base64-encoded binary string when type='file'\"; */return parse(s2a(Base64_decode(blob)), options);\n\t\tcase \"binary\": /*:: if(typeof blob !== 'string') throw \"Must pass a binary string when type='file'\"; */return parse(s2a(blob), options);\n\t}\n\treturn parse(/*::typeof blob == 'string' ? new Buffer(blob, 'utf-8') : */blob, options);\n}\n\nfunction init_cfb(cfb/*:CFBContainer*/, opts/*:?any*/)/*:void*/ {\n\tvar o = opts || {}, root = o.root || \"Root Entry\";\n\tif(!cfb.FullPaths) cfb.FullPaths = [];\n\tif(!cfb.FileIndex) cfb.FileIndex = [];\n\tif(cfb.FullPaths.length !== cfb.FileIndex.length) throw new Error(\"inconsistent CFB structure\");\n\tif(cfb.FullPaths.length === 0) {\n\t\tcfb.FullPaths[0] = root + \"/\";\n\t\tcfb.FileIndex[0] = ({ name: root, type: 5 }/*:any*/);\n\t}\n\tif(o.CLSID) cfb.FileIndex[0].clsid = o.CLSID;\n\tseed_cfb(cfb);\n}\nfunction seed_cfb(cfb/*:CFBContainer*/)/*:void*/ {\n\tvar nm = \"\\u0001Sh33tJ5\";\n\tif(CFB.find(cfb, \"/\" + nm)) return;\n\tvar p = new_buf(4); p[0] = 55; p[1] = p[3] = 50; p[2] = 54;\n\tcfb.FileIndex.push(({ name: nm, type: 2, content:p, size:4, L:69, R:69, C:69 }/*:any*/));\n\tcfb.FullPaths.push(cfb.FullPaths[0] + nm);\n\trebuild_cfb(cfb);\n}\nfunction rebuild_cfb(cfb/*:CFBContainer*/, f/*:?boolean*/)/*:void*/ {\n\tinit_cfb(cfb);\n\tvar gc = false, s = false;\n\tfor(var i = cfb.FullPaths.length - 1; i >= 0; --i) {\n\t\tvar _file = cfb.FileIndex[i];\n\t\tswitch(_file.type) {\n\t\t\tcase 0:\n\t\t\t\tif(s) gc = true;\n\t\t\t\telse { cfb.FileIndex.pop(); cfb.FullPaths.pop(); }\n\t\t\t\tbreak;\n\t\t\tcase 1: case 2: case 5:\n\t\t\t\ts = true;\n\t\t\t\tif(isNaN(_file.R * _file.L * _file.C)) gc = true;\n\t\t\t\tif(_file.R > -1 && _file.L > -1 && _file.R == _file.L) gc = true;\n\t\t\t\tbreak;\n\t\t\tdefault: gc = true; break;\n\t\t}\n\t}\n\tif(!gc && !f) return;\n\n\tvar now = new Date(1987, 1, 19), j = 0;\n\t// Track which names exist\n\tvar fullPaths = Object.create ? Object.create(null) : {};\n\tvar data/*:Array<[string, CFBEntry]>*/ = [];\n\tfor(i = 0; i < cfb.FullPaths.length; ++i) {\n\t\tfullPaths[cfb.FullPaths[i]] = true;\n\t\tif(cfb.FileIndex[i].type === 0) continue;\n\t\tdata.push([cfb.FullPaths[i], cfb.FileIndex[i]]);\n\t}\n\tfor(i = 0; i < data.length; ++i) {\n\t\tvar dad = dirname(data[i][0]);\n\t\ts = fullPaths[dad];\n\t\twhile(!s) {\n\t\t\twhile(dirname(dad) && !fullPaths[dirname(dad)]) dad = dirname(dad);\n\n\t\t\tdata.push([dad, ({\n\t\t\t\tname: filename(dad).replace(\"/\",\"\"),\n\t\t\t\ttype: 1,\n\t\t\t\tclsid: HEADER_CLSID,\n\t\t\t\tct: now, mt: now,\n\t\t\t\tcontent: null\n\t\t\t}/*:any*/)]);\n\n\t\t\t// Add name to set\n\t\t\tfullPaths[dad] = true;\n\n\t\t\tdad = dirname(data[i][0]);\n\t\t\ts = fullPaths[dad];\n\t\t}\n\t}\n\n\tdata.sort(function(x,y) { return namecmp(x[0], y[0]); });\n\tcfb.FullPaths = []; cfb.FileIndex = [];\n\tfor(i = 0; i < data.length; ++i) { cfb.FullPaths[i] = data[i][0]; cfb.FileIndex[i] = data[i][1]; }\n\tfor(i = 0; i < data.length; ++i) {\n\t\tvar elt = cfb.FileIndex[i];\n\t\tvar nm = cfb.FullPaths[i];\n\n\t\telt.name =  filename(nm).replace(\"/\",\"\");\n\t\telt.L = elt.R = elt.C = -(elt.color = 1);\n\t\telt.size = elt.content ? elt.content.length : 0;\n\t\telt.start = 0;\n\t\telt.clsid = (elt.clsid || HEADER_CLSID);\n\t\tif(i === 0) {\n\t\t\telt.C = data.length > 1 ? 1 : -1;\n\t\t\telt.size = 0;\n\t\t\telt.type = 5;\n\t\t} else if(nm.slice(-1) == \"/\") {\n\t\t\tfor(j=i+1;j < data.length; ++j) if(dirname(cfb.FullPaths[j])==nm) break;\n\t\t\telt.C = j >= data.length ? -1 : j;\n\t\t\tfor(j=i+1;j < data.length; ++j) if(dirname(cfb.FullPaths[j])==dirname(nm)) break;\n\t\t\telt.R = j >= data.length ? -1 : j;\n\t\t\telt.type = 1;\n\t\t} else {\n\t\t\tif(dirname(cfb.FullPaths[i+1]||\"\") == dirname(nm)) elt.R = i + 1;\n\t\t\telt.type = 2;\n\t\t}\n\t}\n\n}\n\nfunction _write(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:RawBytes|string*/ {\n\tvar _opts = options || {};\n\t/* MAD is order-sensitive, skip rebuild and sort */\n\tif(_opts.fileType == 'mad') return write_mad(cfb, _opts);\n\trebuild_cfb(cfb);\n\tswitch(_opts.fileType) {\n\t\tcase 'zip': return write_zip(cfb, _opts);\n\t\t//case 'mad': return write_mad(cfb, _opts);\n\t}\n\tvar L = (function(cfb/*:CFBContainer*/)/*:Array<number>*/{\n\t\tvar mini_size = 0, fat_size = 0;\n\t\tfor(var i = 0; i < cfb.FileIndex.length; ++i) {\n\t\t\tvar file = cfb.FileIndex[i];\n\t\t\tif(!file.content) continue;\n\t\t\tvar flen = file.content.length;\n\t\t\tif(flen > 0){\n\t\t\t\tif(flen < 0x1000) mini_size += (flen + 0x3F) >> 6;\n\t\t\t\telse fat_size += (flen + 0x01FF) >> 9;\n\t\t\t}\n\t\t}\n\t\tvar dir_cnt = (cfb.FullPaths.length +3) >> 2;\n\t\tvar mini_cnt = (mini_size + 7) >> 3;\n\t\tvar mfat_cnt = (mini_size + 0x7F) >> 7;\n\t\tvar fat_base = mini_cnt + fat_size + dir_cnt + mfat_cnt;\n\t\tvar fat_cnt = (fat_base + 0x7F) >> 7;\n\t\tvar difat_cnt = fat_cnt <= 109 ? 0 : Math.ceil((fat_cnt-109)/0x7F);\n\t\twhile(((fat_base + fat_cnt + difat_cnt + 0x7F) >> 7) > fat_cnt) difat_cnt = ++fat_cnt <= 109 ? 0 : Math.ceil((fat_cnt-109)/0x7F);\n\t\tvar L =  [1, difat_cnt, fat_cnt, mfat_cnt, dir_cnt, fat_size, mini_size, 0];\n\t\tcfb.FileIndex[0].size = mini_size << 6;\n\t\tL[7] = (cfb.FileIndex[0].start=L[0]+L[1]+L[2]+L[3]+L[4]+L[5])+((L[6]+7) >> 3);\n\t\treturn L;\n\t})(cfb);\n\tvar o = new_buf(L[7] << 9);\n\tvar i = 0, T = 0;\n\t{\n\t\tfor(i = 0; i < 8; ++i) o.write_shift(1, HEADER_SIG[i]);\n\t\tfor(i = 0; i < 8; ++i) o.write_shift(2, 0);\n\t\to.write_shift(2, 0x003E);\n\t\to.write_shift(2, 0x0003);\n\t\to.write_shift(2, 0xFFFE);\n\t\to.write_shift(2, 0x0009);\n\t\to.write_shift(2, 0x0006);\n\t\tfor(i = 0; i < 3; ++i) o.write_shift(2, 0);\n\t\to.write_shift(4, 0);\n\t\to.write_shift(4, L[2]);\n\t\to.write_shift(4, L[0] + L[1] + L[2] + L[3] - 1);\n\t\to.write_shift(4, 0);\n\t\to.write_shift(4, 1<<12);\n\t\to.write_shift(4, L[3] ? L[0] + L[1] + L[2] - 1: ENDOFCHAIN);\n\t\to.write_shift(4, L[3]);\n\t\to.write_shift(-4, L[1] ? L[0] - 1: ENDOFCHAIN);\n\t\to.write_shift(4, L[1]);\n\t\tfor(i = 0; i < 109; ++i) o.write_shift(-4, i < L[2] ? L[1] + i : -1);\n\t}\n\tif(L[1]) {\n\t\tfor(T = 0; T < L[1]; ++T) {\n\t\t\tfor(; i < 236 + T * 127; ++i) o.write_shift(-4, i < L[2] ? L[1] + i : -1);\n\t\t\to.write_shift(-4, T === L[1] - 1 ? ENDOFCHAIN : T + 1);\n\t\t}\n\t}\n\tvar chainit = function(w/*:number*/)/*:void*/ {\n\t\tfor(T += w; i<T-1; ++i) o.write_shift(-4, i+1);\n\t\tif(w) { ++i; o.write_shift(-4, ENDOFCHAIN); }\n\t};\n\tT = i = 0;\n\tfor(T+=L[1]; i<T; ++i) o.write_shift(-4, consts.DIFSECT);\n\tfor(T+=L[2]; i<T; ++i) o.write_shift(-4, consts.FATSECT);\n\tchainit(L[3]);\n\tchainit(L[4]);\n\tvar j/*:number*/ = 0, flen/*:number*/ = 0;\n\tvar file/*:CFBEntry*/ = cfb.FileIndex[0];\n\tfor(; j < cfb.FileIndex.length; ++j) {\n\t\tfile = cfb.FileIndex[j];\n\t\tif(!file.content) continue;\n\t\t/*:: if(file.content == null) throw new Error(\"unreachable\"); */\n\t\tflen = file.content.length;\n\t\tif(flen < 0x1000) continue;\n\t\tfile.start = T;\n\t\tchainit((flen + 0x01FF) >> 9);\n\t}\n\tchainit((L[6] + 7) >> 3);\n\twhile(o.l & 0x1FF) o.write_shift(-4, consts.ENDOFCHAIN);\n\tT = i = 0;\n\tfor(j = 0; j < cfb.FileIndex.length; ++j) {\n\t\tfile = cfb.FileIndex[j];\n\t\tif(!file.content) continue;\n\t\t/*:: if(file.content == null) throw new Error(\"unreachable\"); */\n\t\tflen = file.content.length;\n\t\tif(!flen || flen >= 0x1000) continue;\n\t\tfile.start = T;\n\t\tchainit((flen + 0x3F) >> 6);\n\t}\n\twhile(o.l & 0x1FF) o.write_shift(-4, consts.ENDOFCHAIN);\n\tfor(i = 0; i < L[4]<<2; ++i) {\n\t\tvar nm = cfb.FullPaths[i];\n\t\tif(!nm || nm.length === 0) {\n\t\t\tfor(j = 0; j < 17; ++j) o.write_shift(4, 0);\n\t\t\tfor(j = 0; j < 3; ++j) o.write_shift(4, -1);\n\t\t\tfor(j = 0; j < 12; ++j) o.write_shift(4, 0);\n\t\t\tcontinue;\n\t\t}\n\t\tfile = cfb.FileIndex[i];\n\t\tif(i === 0) file.start = file.size ? file.start - 1 : ENDOFCHAIN;\n\t\tvar _nm/*:string*/ = (i === 0 && _opts.root) || file.name;\n\t\tif(_nm.length > 31) {\n\t\t\tconsole.error(\"Name \" + _nm + \" will be truncated to \" + _nm.slice(0,31));\n\t\t\t_nm = _nm.slice(0, 31);\n\t\t}\n\t\tflen = 2*(_nm.length+1);\n\t\to.write_shift(64, _nm, \"utf16le\");\n\t\to.write_shift(2, flen);\n\t\to.write_shift(1, file.type);\n\t\to.write_shift(1, file.color);\n\t\to.write_shift(-4, file.L);\n\t\to.write_shift(-4, file.R);\n\t\to.write_shift(-4, file.C);\n\t\tif(!file.clsid) for(j = 0; j < 4; ++j) o.write_shift(4, 0);\n\t\telse o.write_shift(16, file.clsid, \"hex\");\n\t\to.write_shift(4, file.state || 0);\n\t\to.write_shift(4, 0); o.write_shift(4, 0);\n\t\to.write_shift(4, 0); o.write_shift(4, 0);\n\t\to.write_shift(4, file.start);\n\t\to.write_shift(4, file.size); o.write_shift(4, 0);\n\t}\n\tfor(i = 1; i < cfb.FileIndex.length; ++i) {\n\t\tfile = cfb.FileIndex[i];\n\t\t/*:: if(!file.content) throw new Error(\"unreachable\"); */\n\t\tif(file.size >= 0x1000) {\n\t\t\to.l = (file.start+1) << 9;\n\t\t\tif (has_buf && Buffer.isBuffer(file.content)) {\n\t\t\t\tfile.content.copy(o, o.l, 0, file.size);\n\t\t\t\t// o is a 0-filled Buffer so just set next offset\n\t\t\t\to.l += (file.size + 511) & -512;\n\t\t\t} else {\n\t\t\t\tfor(j = 0; j < file.size; ++j) o.write_shift(1, file.content[j]);\n\t\t\t\tfor(; j & 0x1FF; ++j) o.write_shift(1, 0);\n\t\t\t}\n\t\t}\n\t}\n\tfor(i = 1; i < cfb.FileIndex.length; ++i) {\n\t\tfile = cfb.FileIndex[i];\n\t\t/*:: if(!file.content) throw new Error(\"unreachable\"); */\n\t\tif(file.size > 0 && file.size < 0x1000) {\n\t\t\tif (has_buf && Buffer.isBuffer(file.content)) {\n\t\t\t\tfile.content.copy(o, o.l, 0, file.size);\n\t\t\t\t// o is a 0-filled Buffer so just set next offset\n\t\t\t\to.l += (file.size + 63) & -64;\n\t\t\t} else {\n\t\t\t\tfor(j = 0; j < file.size; ++j) o.write_shift(1, file.content[j]);\n\t\t\t\tfor(; j & 0x3F; ++j) o.write_shift(1, 0);\n\t\t\t}\n\t\t}\n\t}\n\tif (has_buf) {\n\t\to.l = o.length;\n\t} else {\n\t\t// When using Buffer, already 0-filled\n\t\twhile(o.l < o.length) o.write_shift(1, 0);\n\t}\n\treturn o;\n}\n/* [MS-CFB] 2.6.4 (Unicode 3.0.1 case conversion) */\nfunction find(cfb/*:CFBContainer*/, path/*:string*/)/*:?CFBEntry*/ {\n\tvar UCFullPaths/*:Array<string>*/ = cfb.FullPaths.map(function(x) { return x.toUpperCase(); });\n\tvar UCPaths/*:Array<string>*/ = UCFullPaths.map(function(x) { var y = x.split(\"/\"); return y[y.length - (x.slice(-1) == \"/\" ? 2 : 1)]; });\n\tvar k/*:boolean*/ = false;\n\tif(path.charCodeAt(0) === 47 /* \"/\" */) { k = true; path = UCFullPaths[0].slice(0, -1) + path; }\n\telse k = path.indexOf(\"/\") !== -1;\n\tvar UCPath/*:string*/ = path.toUpperCase();\n\tvar w/*:number*/ = k === true ? UCFullPaths.indexOf(UCPath) : UCPaths.indexOf(UCPath);\n\tif(w !== -1) return cfb.FileIndex[w];\n\n\tvar m = !UCPath.match(chr1);\n\tUCPath = UCPath.replace(chr0,'');\n\tif(m) UCPath = UCPath.replace(chr1,'!');\n\tfor(w = 0; w < UCFullPaths.length; ++w) {\n\t\tif((m ? UCFullPaths[w].replace(chr1,'!') : UCFullPaths[w]).replace(chr0,'') == UCPath) return cfb.FileIndex[w];\n\t\tif((m ? UCPaths[w].replace(chr1,'!') : UCPaths[w]).replace(chr0,'') == UCPath) return cfb.FileIndex[w];\n\t}\n\treturn null;\n}\n/** CFB Constants */\nvar MSSZ = 64; /* Mini Sector Size = 1<<6 */\n//var MSCSZ = 4096; /* Mini Stream Cutoff Size */\n/* 2.1 Compound File Sector Numbers and Types */\nvar ENDOFCHAIN = -2;\n/* 2.2 Compound File Header */\nvar HEADER_SIGNATURE = 'd0cf11e0a1b11ae1';\nvar HEADER_SIG = [0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1];\nvar HEADER_CLSID = '00000000000000000000000000000000';\nvar consts = {\n\t/* 2.1 Compund File Sector Numbers and Types */\n\tMAXREGSECT: -6,\n\tDIFSECT: -4,\n\tFATSECT: -3,\n\tENDOFCHAIN: ENDOFCHAIN,\n\tFREESECT: -1,\n\t/* 2.2 Compound File Header */\n\tHEADER_SIGNATURE: HEADER_SIGNATURE,\n\tHEADER_MINOR_VERSION: '3e00',\n\tMAXREGSID: -6,\n\tNOSTREAM: -1,\n\tHEADER_CLSID: HEADER_CLSID,\n\t/* 2.6.1 Compound File Directory Entry */\n\tEntryTypes: ['unknown','storage','stream','lockbytes','property','root']\n};\n\nfunction write_file(cfb/*:CFBContainer*/, filename/*:string*/, options/*:CFBWriteOpts*/)/*:void*/ {\n\tget_fs();\n\tvar o = _write(cfb, options);\n\t/*:: if(typeof Buffer == 'undefined' || !Buffer.isBuffer(o) || !(o instanceof Buffer)) throw new Error(\"unreachable\"); */\n\tfs.writeFileSync(filename, o);\n}\n\nfunction a2s(o/*:RawBytes*/)/*:string*/ {\n\tvar out = new Array(o.length);\n\tfor(var i = 0; i < o.length; ++i) out[i] = String.fromCharCode(o[i]);\n\treturn out.join(\"\");\n}\n\nfunction write(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:RawBytes|string*/ {\n\tvar o = _write(cfb, options);\n\tswitch(options && options.type || \"buffer\") {\n\t\tcase \"file\": get_fs(); fs.writeFileSync(options.filename, (o/*:any*/)); return o;\n\t\tcase \"binary\": return typeof o == \"string\" ? o : a2s(o);\n\t\tcase \"base64\": return Base64_encode(typeof o == \"string\" ? o : a2s(o));\n\t\tcase \"buffer\": if(has_buf) return Buffer.isBuffer(o) ? o : Buffer_from(o);\n\t\t\t/* falls through */\n\t\tcase \"array\": return typeof o == \"string\" ? s2a(o) : o;\n\t}\n\treturn o;\n}\n/* node < 8.1 zlib does not expose bytesRead, so default to pure JS */\nvar _zlib;\nfunction use_zlib(zlib) { try {\n\tvar InflateRaw = zlib.InflateRaw;\n\tvar InflRaw = new InflateRaw();\n\tInflRaw._processChunk(new Uint8Array([3, 0]), InflRaw._finishFlushFlag);\n\tif(InflRaw.bytesRead) _zlib = zlib;\n\telse throw new Error(\"zlib does not expose bytesRead\");\n} catch(e) {console.error(\"cannot use native zlib: \" + (e.message || e)); } }\n\nfunction _inflateRawSync(payload, usz) {\n\tif(!_zlib) return _inflate(payload, usz);\n\tvar InflateRaw = _zlib.InflateRaw;\n\tvar InflRaw = new InflateRaw();\n\tvar out = InflRaw._processChunk(payload.slice(payload.l), InflRaw._finishFlushFlag);\n\tpayload.l += InflRaw.bytesRead;\n\treturn out;\n}\n\nfunction _deflateRawSync(payload) {\n\treturn _zlib ? _zlib.deflateRawSync(payload) : _deflate(payload);\n}\nvar CLEN_ORDER = [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ];\n\n/*  LEN_ID = [ 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285 ]; */\nvar LEN_LN = [   3,   4,   5,   6,   7,   8,   9,  10,  11,  13 , 15,  17,  19,  23,  27,  31,  35,  43,  51,  59,  67,  83,  99, 115, 131, 163, 195, 227, 258 ];\n\n/*  DST_ID = [  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13,  14,  15,  16,  17,  18,  19,   20,   21,   22,   23,   24,   25,   26,    27,    28,    29 ]; */\nvar DST_LN = [  1,  2,  3,  4,  5,  7,  9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577 ];\n\nfunction bit_swap_8(n) { var t = (((((n<<1)|(n<<11)) & 0x22110) | (((n<<5)|(n<<15)) & 0x88440))); return ((t>>16) | (t>>8) |t)&0xFF; }\n\nvar use_typed_arrays = typeof Uint8Array !== 'undefined';\n\nvar bitswap8 = use_typed_arrays ? new Uint8Array(1<<8) : [];\nfor(var q = 0; q < (1<<8); ++q) bitswap8[q] = bit_swap_8(q);\n\nfunction bit_swap_n(n, b) {\n\tvar rev = bitswap8[n & 0xFF];\n\tif(b <= 8) return rev >>> (8-b);\n\trev = (rev << 8) | bitswap8[(n>>8)&0xFF];\n\tif(b <= 16) return rev >>> (16-b);\n\trev = (rev << 8) | bitswap8[(n>>16)&0xFF];\n\treturn rev >>> (24-b);\n}\n\n/* helpers for unaligned bit reads */\nfunction read_bits_2(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 6 ? 0 : buf[h+1]<<8))>>>w)& 0x03; }\nfunction read_bits_3(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 5 ? 0 : buf[h+1]<<8))>>>w)& 0x07; }\nfunction read_bits_4(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 4 ? 0 : buf[h+1]<<8))>>>w)& 0x0F; }\nfunction read_bits_5(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 3 ? 0 : buf[h+1]<<8))>>>w)& 0x1F; }\nfunction read_bits_7(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 1 ? 0 : buf[h+1]<<8))>>>w)& 0x7F; }\n\n/* works up to n = 3 * 8 + 1 = 25 */\nfunction read_bits_n(buf, bl, n) {\n\tvar w = (bl&7), h = (bl>>>3), f = ((1<<n)-1);\n\tvar v = buf[h] >>> w;\n\tif(n < 8 - w) return v & f;\n\tv |= buf[h+1]<<(8-w);\n\tif(n < 16 - w) return v & f;\n\tv |= buf[h+2]<<(16-w);\n\tif(n < 24 - w) return v & f;\n\tv |= buf[h+3]<<(24-w);\n\treturn v & f;\n}\n\n/* helpers for unaligned bit writes */\nfunction write_bits_3(buf, bl, v) { var w = bl & 7, h = bl >>> 3;\n\tif(w <= 5) buf[h] |= (v & 7) << w;\n\telse {\n\t\tbuf[h] |= (v << w) & 0xFF;\n\t\tbuf[h+1] = (v&7) >> (8-w);\n\t}\n\treturn bl + 3;\n}\n\nfunction write_bits_1(buf, bl, v) {\n\tvar w = bl & 7, h = bl >>> 3;\n\tv = (v&1) << w;\n\tbuf[h] |= v;\n\treturn bl + 1;\n}\nfunction write_bits_8(buf, bl, v) {\n\tvar w = bl & 7, h = bl >>> 3;\n\tv <<= w;\n\tbuf[h] |=  v & 0xFF; v >>>= 8;\n\tbuf[h+1] = v;\n\treturn bl + 8;\n}\nfunction write_bits_16(buf, bl, v) {\n\tvar w = bl & 7, h = bl >>> 3;\n\tv <<= w;\n\tbuf[h] |=  v & 0xFF; v >>>= 8;\n\tbuf[h+1] = v & 0xFF;\n\tbuf[h+2] = v >>> 8;\n\treturn bl + 16;\n}\n\n/* until ArrayBuffer#realloc is a thing, fake a realloc */\nfunction realloc(b, sz/*:number*/) {\n\tvar L = b.length, M = 2*L > sz ? 2*L : sz + 5, i = 0;\n\tif(L >= sz) return b;\n\tif(has_buf) {\n\t\tvar o = new_unsafe_buf(M);\n\t\t// $FlowIgnore\n\t\tif(b.copy) b.copy(o);\n\t\telse for(; i < b.length; ++i) o[i] = b[i];\n\t\treturn o;\n\t} else if(use_typed_arrays) {\n\t\tvar a = new Uint8Array(M);\n\t\tif(a.set) a.set(b);\n\t\telse for(; i < L; ++i) a[i] = b[i];\n\t\treturn a;\n\t}\n\tb.length = M;\n\treturn b;\n}\n\n/* zero-filled arrays for older browsers */\nfunction zero_fill_array(n) {\n\tvar o = new Array(n);\n\tfor(var i = 0; i < n; ++i) o[i] = 0;\n\treturn o;\n}\n\n/* build tree (used for literals and lengths) */\nfunction build_tree(clens, cmap, MAX/*:number*/)/*:number*/ {\n\tvar maxlen = 1, w = 0, i = 0, j = 0, ccode = 0, L = clens.length;\n\n\tvar bl_count  = use_typed_arrays ? new Uint16Array(32) : zero_fill_array(32);\n\tfor(i = 0; i < 32; ++i) bl_count[i] = 0;\n\n\tfor(i = L; i < MAX; ++i) clens[i] = 0;\n\tL = clens.length;\n\n\tvar ctree = use_typed_arrays ? new Uint16Array(L) : zero_fill_array(L); // []\n\n\t/* build code tree */\n\tfor(i = 0; i < L; ++i) {\n\t\tbl_count[(w = clens[i])]++;\n\t\tif(maxlen < w) maxlen = w;\n\t\tctree[i] = 0;\n\t}\n\tbl_count[0] = 0;\n\tfor(i = 1; i <= maxlen; ++i) bl_count[i+16] = (ccode = (ccode + bl_count[i-1])<<1);\n\tfor(i = 0; i < L; ++i) {\n\t\tccode = clens[i];\n\t\tif(ccode != 0) ctree[i] = bl_count[ccode+16]++;\n\t}\n\n\t/* cmap[maxlen + 4 bits] = (off&15) + (lit<<4) reverse mapping */\n\tvar cleni = 0;\n\tfor(i = 0; i < L; ++i) {\n\t\tcleni = clens[i];\n\t\tif(cleni != 0) {\n\t\t\tccode = bit_swap_n(ctree[i], maxlen)>>(maxlen-cleni);\n\t\t\tfor(j = (1<<(maxlen + 4 - cleni)) - 1; j>=0; --j)\n\t\t\t\tcmap[ccode|(j<<cleni)] = (cleni&15) | (i<<4);\n\t\t}\n\t}\n\treturn maxlen;\n}\n\n/* Fixed Huffman */\nvar fix_lmap = use_typed_arrays ? new Uint16Array(512) : zero_fill_array(512);\nvar fix_dmap = use_typed_arrays ? new Uint16Array(32)  : zero_fill_array(32);\nif(!use_typed_arrays) {\n\tfor(var i = 0; i < 512; ++i) fix_lmap[i] = 0;\n\tfor(i = 0; i < 32; ++i) fix_dmap[i] = 0;\n}\n(function() {\n\tvar dlens/*:Array<number>*/ = [];\n\tvar i = 0;\n\tfor(;i<32; i++) dlens.push(5);\n\tbuild_tree(dlens, fix_dmap, 32);\n\n\tvar clens/*:Array<number>*/ = [];\n\ti = 0;\n\tfor(; i<=143; i++) clens.push(8);\n\tfor(; i<=255; i++) clens.push(9);\n\tfor(; i<=279; i++) clens.push(7);\n\tfor(; i<=287; i++) clens.push(8);\n\tbuild_tree(clens, fix_lmap, 288);\n})();var _deflateRaw = /*#__PURE__*/(function _deflateRawIIFE() {\n\tvar DST_LN_RE = use_typed_arrays ? new Uint8Array(0x8000) : [];\n\tvar j = 0, k = 0;\n\tfor(; j < DST_LN.length - 1; ++j) {\n\t\tfor(; k < DST_LN[j+1]; ++k) DST_LN_RE[k] = j;\n\t}\n\tfor(;k < 32768; ++k) DST_LN_RE[k] = 29;\n\n\tvar LEN_LN_RE = use_typed_arrays ? new Uint8Array(0x103) : [];\n\tfor(j = 0, k = 0; j < LEN_LN.length - 1; ++j) {\n\t\tfor(; k < LEN_LN[j+1]; ++k) LEN_LN_RE[k] = j;\n\t}\n\n\tfunction write_stored(data, out) {\n\t\tvar boff = 0;\n\t\twhile(boff < data.length) {\n\t\t\tvar L = Math.min(0xFFFF, data.length - boff);\n\t\t\tvar h = boff + L == data.length;\n\t\t\tout.write_shift(1, +h);\n\t\t\tout.write_shift(2, L);\n\t\t\tout.write_shift(2, (~L) & 0xFFFF);\n\t\t\twhile(L-- > 0) out[out.l++] = data[boff++];\n\t\t}\n\t\treturn out.l;\n\t}\n\n\t/* Fixed Huffman */\n\tfunction write_huff_fixed(data, out) {\n\t\tvar bl = 0;\n\t\tvar boff = 0;\n\t\tvar addrs = use_typed_arrays ? new Uint16Array(0x8000) : [];\n\t\twhile(boff < data.length) {\n\t\t\tvar L = /* data.length - boff; */ Math.min(0xFFFF, data.length - boff);\n\n\t\t\t/* write a stored block for short data */\n\t\t\tif(L < 10) {\n\t\t\t\tbl = write_bits_3(out, bl, +!!(boff + L == data.length)); // jshint ignore:line\n\t\t\t\tif(bl & 7) bl += 8 - (bl & 7);\n\t\t\t\tout.l = (bl / 8) | 0;\n\t\t\t\tout.write_shift(2, L);\n\t\t\t\tout.write_shift(2, (~L) & 0xFFFF);\n\t\t\t\twhile(L-- > 0) out[out.l++] = data[boff++];\n\t\t\t\tbl = out.l * 8;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tbl = write_bits_3(out, bl, +!!(boff + L == data.length) + 2); // jshint ignore:line\n\t\t\tvar hash = 0;\n\t\t\twhile(L-- > 0) {\n\t\t\t\tvar d = data[boff];\n\t\t\t\thash = ((hash << 5) ^ d) & 0x7FFF;\n\n\t\t\t\tvar match = -1, mlen = 0;\n\n\t\t\t\tif((match = addrs[hash])) {\n\t\t\t\t\tmatch |= boff & ~0x7FFF;\n\t\t\t\t\tif(match > boff) match -= 0x8000;\n\t\t\t\t\tif(match < boff) while(data[match + mlen] == data[boff + mlen] && mlen < 250) ++mlen;\n\t\t\t\t}\n\n\t\t\t\tif(mlen > 2) {\n\t\t\t\t\t/* Copy Token  */\n\t\t\t\t\td = LEN_LN_RE[mlen];\n\t\t\t\t\tif(d <= 22) bl = write_bits_8(out, bl, bitswap8[d+1]>>1) - 1;\n\t\t\t\t\telse {\n\t\t\t\t\t\twrite_bits_8(out, bl, 3);\n\t\t\t\t\t\tbl += 5;\n\t\t\t\t\t\twrite_bits_8(out, bl, bitswap8[d-23]>>5);\n\t\t\t\t\t\tbl += 3;\n\t\t\t\t\t}\n\t\t\t\t\tvar len_eb = (d < 8) ? 0 : ((d - 4)>>2);\n\t\t\t\t\tif(len_eb > 0) {\n\t\t\t\t\t\twrite_bits_16(out, bl, mlen - LEN_LN[d]);\n\t\t\t\t\t\tbl += len_eb;\n\t\t\t\t\t}\n\n\t\t\t\t\td = DST_LN_RE[boff - match];\n\t\t\t\t\tbl = write_bits_8(out, bl, bitswap8[d]>>3);\n\t\t\t\t\tbl -= 3;\n\n\t\t\t\t\tvar dst_eb = d < 4 ? 0 : (d-2)>>1;\n\t\t\t\t\tif(dst_eb > 0) {\n\t\t\t\t\t\twrite_bits_16(out, bl, boff - match - DST_LN[d]);\n\t\t\t\t\t\tbl += dst_eb;\n\t\t\t\t\t}\n\t\t\t\t\tfor(var q = 0; q < mlen; ++q) {\n\t\t\t\t\t\taddrs[hash] = boff & 0x7FFF;\n\t\t\t\t\t\thash = ((hash << 5) ^ data[boff]) & 0x7FFF;\n\t\t\t\t\t\t++boff;\n\t\t\t\t\t}\n\t\t\t\t\tL-= mlen - 1;\n\t\t\t\t} else {\n\t\t\t\t\t/* Literal Token */\n\t\t\t\t\tif(d <= 143) d = d + 48;\n\t\t\t\t\telse bl = write_bits_1(out, bl, 1);\n\t\t\t\t\tbl = write_bits_8(out, bl, bitswap8[d]);\n\t\t\t\t\taddrs[hash] = boff & 0x7FFF;\n\t\t\t\t\t++boff;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbl = write_bits_8(out, bl, 0) - 1;\n\t\t}\n\t\tout.l = ((bl + 7)/8)|0;\n\t\treturn out.l;\n\t}\n\treturn function _deflateRaw(data, out) {\n\t\tif(data.length < 8) return write_stored(data, out);\n\t\treturn write_huff_fixed(data, out);\n\t};\n})();\n\nfunction _deflate(data) {\n\tvar buf = new_buf(50+Math.floor(data.length*1.1));\n\tvar off = _deflateRaw(data, buf);\n\treturn buf.slice(0, off);\n}\n/* modified inflate function also moves original read head */\n\nvar dyn_lmap = use_typed_arrays ? new Uint16Array(32768) : zero_fill_array(32768);\nvar dyn_dmap = use_typed_arrays ? new Uint16Array(32768) : zero_fill_array(32768);\nvar dyn_cmap = use_typed_arrays ? new Uint16Array(128)   : zero_fill_array(128);\nvar dyn_len_1 = 1, dyn_len_2 = 1;\n\n/* 5.5.3 Expanding Huffman Codes */\nfunction dyn(data, boff/*:number*/) {\n\t/* nomenclature from RFC1951 refers to bit values; these are offset by the implicit constant */\n\tvar _HLIT = read_bits_5(data, boff) + 257; boff += 5;\n\tvar _HDIST = read_bits_5(data, boff) + 1; boff += 5;\n\tvar _HCLEN = read_bits_4(data, boff) + 4; boff += 4;\n\tvar w = 0;\n\n\t/* grab and store code lengths */\n\tvar clens = use_typed_arrays ? new Uint8Array(19) : zero_fill_array(19);\n\tvar ctree = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n\tvar maxlen = 1;\n\tvar bl_count =  use_typed_arrays ? new Uint8Array(8) : zero_fill_array(8);\n\tvar next_code = use_typed_arrays ? new Uint8Array(8) : zero_fill_array(8);\n\tvar L = clens.length; /* 19 */\n\tfor(var i = 0; i < _HCLEN; ++i) {\n\t\tclens[CLEN_ORDER[i]] = w = read_bits_3(data, boff);\n\t\tif(maxlen < w) maxlen = w;\n\t\tbl_count[w]++;\n\t\tboff += 3;\n\t}\n\n\t/* build code tree */\n\tvar ccode = 0;\n\tbl_count[0] = 0;\n\tfor(i = 1; i <= maxlen; ++i) next_code[i] = ccode = (ccode + bl_count[i-1])<<1;\n\tfor(i = 0; i < L; ++i) if((ccode = clens[i]) != 0) ctree[i] = next_code[ccode]++;\n\t/* cmap[7 bits from stream] = (off&7) + (lit<<3) */\n\tvar cleni = 0;\n\tfor(i = 0; i < L; ++i) {\n\t\tcleni = clens[i];\n\t\tif(cleni != 0) {\n\t\t\tccode = bitswap8[ctree[i]]>>(8-cleni);\n\t\t\tfor(var j = (1<<(7-cleni))-1; j>=0; --j) dyn_cmap[ccode|(j<<cleni)] = (cleni&7) | (i<<3);\n\t\t}\n\t}\n\n\t/* read literal and dist codes at once */\n\tvar hcodes/*:Array<number>*/ = [];\n\tmaxlen = 1;\n\tfor(; hcodes.length < _HLIT + _HDIST;) {\n\t\tccode = dyn_cmap[read_bits_7(data, boff)];\n\t\tboff += ccode & 7;\n\t\tswitch((ccode >>>= 3)) {\n\t\t\tcase 16:\n\t\t\t\tw = 3 + read_bits_2(data, boff); boff += 2;\n\t\t\t\tccode = hcodes[hcodes.length - 1];\n\t\t\t\twhile(w-- > 0) hcodes.push(ccode);\n\t\t\t\tbreak;\n\t\t\tcase 17:\n\t\t\t\tw = 3 + read_bits_3(data, boff); boff += 3;\n\t\t\t\twhile(w-- > 0) hcodes.push(0);\n\t\t\t\tbreak;\n\t\t\tcase 18:\n\t\t\t\tw = 11 + read_bits_7(data, boff); boff += 7;\n\t\t\t\twhile(w -- > 0) hcodes.push(0);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\thcodes.push(ccode);\n\t\t\t\tif(maxlen < ccode) maxlen = ccode;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/* build literal / length trees */\n\tvar h1 = hcodes.slice(0, _HLIT), h2 = hcodes.slice(_HLIT);\n\tfor(i = _HLIT; i < 286; ++i) h1[i] = 0;\n\tfor(i = _HDIST; i < 30; ++i) h2[i] = 0;\n\tdyn_len_1 = build_tree(h1, dyn_lmap, 286);\n\tdyn_len_2 = build_tree(h2, dyn_dmap, 30);\n\treturn boff;\n}\n\n/* return [ data, bytesRead ] */\nfunction inflate(data, usz/*:number*/) {\n\t/* shortcircuit for empty buffer [0x03, 0x00] */\n\tif(data[0] == 3 && !(data[1] & 0x3)) { return [new_raw_buf(usz), 2]; }\n\n\t/* bit offset */\n\tvar boff = 0;\n\n\t/* header includes final bit and type bits */\n\tvar header = 0;\n\n\tvar outbuf = new_unsafe_buf(usz ? usz : (1<<18));\n\tvar woff = 0;\n\tvar OL = outbuf.length>>>0;\n\tvar max_len_1 = 0, max_len_2 = 0;\n\n\twhile((header&1) == 0) {\n\t\theader = read_bits_3(data, boff); boff += 3;\n\t\tif((header >>> 1) == 0) {\n\t\t\t/* Stored block */\n\t\t\tif(boff & 7) boff += 8 - (boff&7);\n\t\t\t/* 2 bytes sz, 2 bytes bit inverse */\n\t\t\tvar sz = data[boff>>>3] | data[(boff>>>3)+1]<<8;\n\t\t\tboff += 32;\n\t\t\t/* push sz bytes */\n\t\t\tif(sz > 0) {\n\t\t\t\tif(!usz && OL < woff + sz) { outbuf = realloc(outbuf, woff + sz); OL = outbuf.length; }\n\t\t\t\twhile(sz-- > 0) { outbuf[woff++] = data[boff>>>3]; boff += 8; }\n\t\t\t}\n\t\t\tcontinue;\n\t\t} else if((header >> 1) == 1) {\n\t\t\t/* Fixed Huffman */\n\t\t\tmax_len_1 = 9; max_len_2 = 5;\n\t\t} else {\n\t\t\t/* Dynamic Huffman */\n\t\t\tboff = dyn(data, boff);\n\t\t\tmax_len_1 = dyn_len_1; max_len_2 = dyn_len_2;\n\t\t}\n\t\tfor(;;) { // while(true) is apparently out of vogue in modern JS circles\n\t\t\tif(!usz && (OL < woff + 32767)) { outbuf = realloc(outbuf, woff + 32767); OL = outbuf.length; }\n\t\t\t/* ingest code and move read head */\n\t\t\tvar bits = read_bits_n(data, boff, max_len_1);\n\t\t\tvar code = (header>>>1) == 1 ? fix_lmap[bits] : dyn_lmap[bits];\n\t\t\tboff += code & 15; code >>>= 4;\n\t\t\t/* 0-255 are literals, 256 is end of block token, 257+ are copy tokens */\n\t\t\tif(((code>>>8)&0xFF) === 0) outbuf[woff++] = code;\n\t\t\telse if(code == 256) break;\n\t\t\telse {\n\t\t\t\tcode -= 257;\n\t\t\t\tvar len_eb = (code < 8) ? 0 : ((code-4)>>2); if(len_eb > 5) len_eb = 0;\n\t\t\t\tvar tgt = woff + LEN_LN[code];\n\t\t\t\t/* length extra bits */\n\t\t\t\tif(len_eb > 0) {\n\t\t\t\t\ttgt += read_bits_n(data, boff, len_eb);\n\t\t\t\t\tboff += len_eb;\n\t\t\t\t}\n\n\t\t\t\t/* dist code */\n\t\t\t\tbits = read_bits_n(data, boff, max_len_2);\n\t\t\t\tcode = (header>>>1) == 1 ? fix_dmap[bits] : dyn_dmap[bits];\n\t\t\t\tboff += code & 15; code >>>= 4;\n\t\t\t\tvar dst_eb = (code < 4 ? 0 : (code-2)>>1);\n\t\t\t\tvar dst = DST_LN[code];\n\t\t\t\t/* dist extra bits */\n\t\t\t\tif(dst_eb > 0) {\n\t\t\t\t\tdst += read_bits_n(data, boff, dst_eb);\n\t\t\t\t\tboff += dst_eb;\n\t\t\t\t}\n\n\t\t\t\t/* in the common case, manual byte copy is faster than TA set / Buffer copy */\n\t\t\t\tif(!usz && OL < tgt) { outbuf = realloc(outbuf, tgt + 100); OL = outbuf.length; }\n\t\t\t\twhile(woff < tgt) { outbuf[woff] = outbuf[woff - dst]; ++woff; }\n\t\t\t}\n\t\t}\n\t}\n\tif(usz) return [outbuf, (boff+7)>>>3];\n\treturn [outbuf.slice(0, woff), (boff+7)>>>3];\n}\n\nfunction _inflate(payload, usz) {\n\tvar data = payload.slice(payload.l||0);\n\tvar out = inflate(data, usz);\n\tpayload.l += out[1];\n\treturn out[0];\n}\n\nfunction warn_or_throw(wrn, msg) {\n\tif(wrn) { if(typeof console !== 'undefined') console.error(msg); }\n\telse throw new Error(msg);\n}\n\nfunction parse_zip(file/*:RawBytes*/, options/*:CFBReadOpts*/)/*:CFBContainer*/ {\n\tvar blob/*:CFBlob*/ = /*::(*/file/*:: :any)*/;\n\tprep_blob(blob, 0);\n\n\tvar FileIndex/*:CFBFileIndex*/ = [], FullPaths/*:Array<string>*/ = [];\n\tvar o = {\n\t\tFileIndex: FileIndex,\n\t\tFullPaths: FullPaths\n\t};\n\tinit_cfb(o, { root: options.root });\n\n\t/* find end of central directory, start just after signature */\n\tvar i = blob.length - 4;\n\twhile((blob[i] != 0x50 || blob[i+1] != 0x4b || blob[i+2] != 0x05 || blob[i+3] != 0x06) && i >= 0) --i;\n\tblob.l = i + 4;\n\n\t/* parse end of central directory */\n\tblob.l += 4;\n\tvar fcnt = blob.read_shift(2);\n\tblob.l += 6;\n\tvar start_cd = blob.read_shift(4);\n\n\t/* parse central directory */\n\tblob.l = start_cd;\n\n\tfor(i = 0; i < fcnt; ++i) {\n\t\t/* trust local file header instead of CD entry */\n\t\tblob.l += 20;\n\t\tvar csz = blob.read_shift(4);\n\t\tvar usz = blob.read_shift(4);\n\t\tvar namelen = blob.read_shift(2);\n\t\tvar efsz = blob.read_shift(2);\n\t\tvar fcsz = blob.read_shift(2);\n\t\tblob.l += 8;\n\t\tvar offset = blob.read_shift(4);\n\t\tvar EF = parse_extra_field(/*::(*/blob.slice(blob.l+namelen, blob.l+namelen+efsz)/*:: :any)*/);\n\t\tblob.l += namelen + efsz + fcsz;\n\n\t\tvar L = blob.l;\n\t\tblob.l = offset + 4;\n\t\t/* ZIP64 lengths */\n\t\tif(EF && EF[0x0001]) {\n\t\t\tif((EF[0x0001]||{}).usz) usz = EF[0x0001].usz;\n\t\t\tif((EF[0x0001]||{}).csz) csz = EF[0x0001].csz;\n\t\t}\n\t\tparse_local_file(blob, csz, usz, o, EF);\n\t\tblob.l = L;\n\t}\n\n\treturn o;\n}\n\n\n/* head starts just after local file header signature */\nfunction parse_local_file(blob/*:CFBlob*/, csz/*:number*/, usz/*:number*/, o/*:CFBContainer*/, EF) {\n\t/* [local file header] */\n\tblob.l += 2;\n\tvar flags = blob.read_shift(2);\n\tvar meth = blob.read_shift(2);\n\tvar date = parse_dos_date(blob);\n\n\tif(flags & 0x2041) throw new Error(\"Unsupported ZIP encryption\");\n\tvar crc32 = blob.read_shift(4);\n\tvar _csz = blob.read_shift(4);\n\tvar _usz = blob.read_shift(4);\n\n\tvar namelen = blob.read_shift(2);\n\tvar efsz = blob.read_shift(2);\n\n\t// TODO: flags & (1<<11) // UTF8\n\tvar name = \"\"; for(var i = 0; i < namelen; ++i) name += String.fromCharCode(blob[blob.l++]);\n\tif(efsz) {\n\t\tvar ef = parse_extra_field(/*::(*/blob.slice(blob.l, blob.l + efsz)/*:: :any)*/);\n\t\tif((ef[0x5455]||{}).mt) date = ef[0x5455].mt;\n\t\tif((ef[0x0001]||{}).usz) _usz = ef[0x0001].usz;\n\t\tif((ef[0x0001]||{}).csz) _csz = ef[0x0001].csz;\n\t\tif(EF) {\n\t\t\tif((EF[0x5455]||{}).mt) date = EF[0x5455].mt;\n\t\t\tif((EF[0x0001]||{}).usz) _usz = EF[0x0001].usz;\n\t\t\tif((EF[0x0001]||{}).csz) _csz = EF[0x0001].csz;\n\t\t}\n\t}\n\tblob.l += efsz;\n\n\t/* [encryption header] */\n\n\t/* [file data] */\n\tvar data = blob.slice(blob.l, blob.l + _csz);\n\tswitch(meth) {\n\t\tcase 8: data = _inflateRawSync(blob, _usz); break;\n\t\tcase 0: blob.l += _csz; break; // TODO: scan for magic number\n\t\tdefault: throw new Error(\"Unsupported ZIP Compression method \" + meth);\n\t}\n\n\t/* [data descriptor] */\n\tvar wrn = false;\n\tif(flags & 8) {\n\t\tcrc32 = blob.read_shift(4);\n\t\tif(crc32 == 0x08074b50) { crc32 = blob.read_shift(4); wrn = true; }\n\t\t_csz = blob.read_shift(4);\n\t\t_usz = blob.read_shift(4);\n\t}\n\n\tif(_csz != csz) warn_or_throw(wrn, \"Bad compressed size: \" + csz + \" != \" + _csz);\n\tif(_usz != usz) warn_or_throw(wrn, \"Bad uncompressed size: \" + usz + \" != \" + _usz);\n\t//var _crc32 = CRC32.buf(data, 0);\n\t//if((crc32>>0) != (_crc32>>0)) warn_or_throw(wrn, \"Bad CRC32 checksum: \" + crc32 + \" != \" + _crc32);\n\tcfb_add(o, name, data, {unsafe: true, mt: date});\n}\nfunction write_zip(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:RawBytes*/ {\n\tvar _opts = options || {};\n\tvar out = [], cdirs = [];\n\tvar o/*:CFBlob*/ = new_buf(1);\n\tvar method = (_opts.compression ? 8 : 0), flags = 0;\n\tvar desc = false;\n\tif(desc) flags |= 8;\n\tvar i = 0, j = 0;\n\n\tvar start_cd = 0, fcnt = 0;\n\tvar root = cfb.FullPaths[0], fp = root, fi = cfb.FileIndex[0];\n\tvar crcs = [];\n\tvar sz_cd = 0;\n\n\tfor(i = 1; i < cfb.FullPaths.length; ++i) {\n\t\tfp = cfb.FullPaths[i].slice(root.length); fi = cfb.FileIndex[i];\n\t\tif(!fi.size || !fi.content || (Array.isArray(fi.content) && fi.content.length == 0) || fp == \"\\u0001Sh33tJ5\") continue;\n\t\tvar start = start_cd;\n\n\n\t\t/* TODO: CP437 filename */\n\t\tvar namebuf = new_buf(fp.length);\n\t\tfor(j = 0; j < fp.length; ++j) namebuf.write_shift(1, fp.charCodeAt(j) & 0x7F);\n\t\tnamebuf = namebuf.slice(0, namebuf.l);\n\t\tcrcs[fcnt] = typeof fi.content == \"string\" ? CRC32.bstr(fi.content, 0) : CRC32.buf(/*::((*/fi.content/*::||[]):any)*/, 0);\n\n\t\tvar outbuf = typeof fi.content == \"string\" ? s2a(fi.content) : fi.content/*::||[]*/;\n\t\tif(method == 8) outbuf = _deflateRawSync(outbuf);\n\n\t\t/* local file header */\n\t\to = new_buf(30);\n\t\to.write_shift(4, 0x04034b50);\n\t\to.write_shift(2, 20);\n\t\to.write_shift(2, flags);\n\t\to.write_shift(2, method);\n\t\t/* TODO: last mod file time/date */\n\t\tif(fi.mt) write_dos_date(o, fi.mt);\n\t\telse o.write_shift(4, 0);\n\t\to.write_shift(-4, (flags & 8) ? 0 : crcs[fcnt]);\n\t\to.write_shift(4,  (flags & 8) ? 0 : outbuf.length);\n\t\to.write_shift(4,  (flags & 8) ? 0 : /*::(*/fi.content/*::||[])*/.length);\n\t\to.write_shift(2, namebuf.length);\n\t\to.write_shift(2, 0);\n\n\t\tstart_cd += o.length;\n\t\tout.push(o);\n\t\tstart_cd += namebuf.length;\n\t\tout.push(namebuf);\n\n\t\t/* TODO: extra fields? */\n\n\t\t/* TODO: encryption header ? */\n\n\t\tstart_cd += outbuf.length;\n\t\tout.push(outbuf);\n\n\t\t/* data descriptor */\n\t\tif(flags & 8) {\n\t\t\to = new_buf(12);\n\t\t\to.write_shift(-4, crcs[fcnt]);\n\t\t\to.write_shift(4, outbuf.length);\n\t\t\to.write_shift(4, /*::(*/fi.content/*::||[])*/.length);\n\t\t\tstart_cd += o.l;\n\t\t\tout.push(o);\n\t\t}\n\n\t\t/* central directory */\n\t\to = new_buf(46);\n\t\to.write_shift(4, 0x02014b50);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 20);\n\t\to.write_shift(2, flags);\n\t\to.write_shift(2, method);\n\t\to.write_shift(4, 0); /* TODO: last mod file time/date */\n\t\to.write_shift(-4, crcs[fcnt]);\n\n\t\to.write_shift(4, outbuf.length);\n\t\to.write_shift(4, /*::(*/fi.content/*::||[])*/.length);\n\t\to.write_shift(2, namebuf.length);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(4, 0);\n\t\to.write_shift(4, start);\n\n\t\tsz_cd += o.l;\n\t\tcdirs.push(o);\n\t\tsz_cd += namebuf.length;\n\t\tcdirs.push(namebuf);\n\t\t++fcnt;\n\t}\n\n\t/* end of central directory */\n\to = new_buf(22);\n\to.write_shift(4, 0x06054b50);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, fcnt);\n\to.write_shift(2, fcnt);\n\to.write_shift(4, sz_cd);\n\to.write_shift(4, start_cd);\n\to.write_shift(2, 0);\n\n\treturn bconcat(([bconcat((out/*:any*/)), bconcat(cdirs), o]/*:any*/));\n}\nvar ContentTypeMap = ({\n\t\"htm\": \"text/html\",\n\t\"xml\": \"text/xml\",\n\n\t\"gif\": \"image/gif\",\n\t\"jpg\": \"image/jpeg\",\n\t\"png\": \"image/png\",\n\n\t\"mso\": \"application/x-mso\",\n\t\"thmx\": \"application/vnd.ms-officetheme\",\n\t\"sh33tj5\": \"application/octet-stream\"\n}/*:any*/);\n\nfunction get_content_type(fi/*:CFBEntry*/, fp/*:string*/)/*:string*/ {\n\tif(fi.ctype) return fi.ctype;\n\n\tvar ext = fi.name || \"\", m = ext.match(/\\.([^\\.]+)$/);\n\tif(m && ContentTypeMap[m[1]]) return ContentTypeMap[m[1]];\n\n\tif(fp) {\n\t\tm = (ext = fp).match(/[\\.\\\\]([^\\.\\\\])+$/);\n\t\tif(m && ContentTypeMap[m[1]]) return ContentTypeMap[m[1]];\n\t}\n\n\treturn \"application/octet-stream\";\n}\n\n/* 76 character chunks TODO: intertwine encoding */\nfunction write_base64_76(bstr/*:string*/)/*:string*/ {\n\tvar data = Base64_encode(bstr);\n\tvar o = [];\n\tfor(var i = 0; i < data.length; i+= 76) o.push(data.slice(i, i+76));\n\treturn o.join(\"\\r\\n\") + \"\\r\\n\";\n}\n\n/*\nRules for QP:\n\t- escape =## applies for all non-display characters and literal \"=\"\n\t- space or tab at end of line must be encoded\n\t- \\r\\n newlines can be preserved, but bare \\r and \\n must be escaped\n\t- lines must not exceed 76 characters, use soft breaks =\\r\\n\n\nTODO: Some files from word appear to write line extensions with bare equals:\n\n```\n<table class=3DMsoTableGrid border=3D1 cellspacing=3D0 cellpadding=3D0 width=\n=\"70%\"\n```\n*/\nfunction write_quoted_printable(text/*:string*/)/*:string*/ {\n\tvar encoded = text.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7E-\\xFF=]/g, function(c) {\n\t\tvar w = c.charCodeAt(0).toString(16).toUpperCase();\n\t\treturn \"=\" + (w.length == 1 ? \"0\" + w : w);\n\t});\n\n\tencoded = encoded.replace(/ $/mg, \"=20\").replace(/\\t$/mg, \"=09\");\n\n\tif(encoded.charAt(0) == \"\\n\") encoded = \"=0D\" + encoded.slice(1);\n\tencoded = encoded.replace(/\\r(?!\\n)/mg, \"=0D\").replace(/\\n\\n/mg, \"\\n=0A\").replace(/([^\\r\\n])\\n/mg, \"$1=0A\");\n\n\tvar o/*:Array<string>*/ = [], split = encoded.split(\"\\r\\n\");\n\tfor(var si = 0; si < split.length; ++si) {\n\t\tvar str = split[si];\n\t\tif(str.length == 0) { o.push(\"\"); continue; }\n\t\tfor(var i = 0; i < str.length;) {\n\t\t\tvar end = 76;\n\t\t\tvar tmp = str.slice(i, i + end);\n\t\t\tif(tmp.charAt(end - 1) == \"=\") end --;\n\t\t\telse if(tmp.charAt(end - 2) == \"=\") end -= 2;\n\t\t\telse if(tmp.charAt(end - 3) == \"=\") end -= 3;\n\t\t\ttmp = str.slice(i, i + end);\n\t\t\ti += end;\n\t\t\tif(i < str.length) tmp += \"=\";\n\t\t\to.push(tmp);\n\t\t}\n\t}\n\n\treturn o.join(\"\\r\\n\");\n}\nfunction parse_quoted_printable(data/*:Array<string>*/)/*:RawBytes*/ {\n\tvar o = [];\n\n\t/* unify long lines */\n\tfor(var di = 0; di < data.length; ++di) {\n\t\tvar line = data[di];\n\t\twhile(di <= data.length && line.charAt(line.length - 1) == \"=\") line = line.slice(0, line.length - 1) + data[++di];\n\t\to.push(line);\n\t}\n\n\t/* decode */\n\tfor(var oi = 0; oi < o.length; ++oi) o[oi] = o[oi].replace(/[=][0-9A-Fa-f]{2}/g, function($$) { return String.fromCharCode(parseInt($$.slice(1), 16)); });\n\treturn s2a(o.join(\"\\r\\n\"));\n}\n\n\nfunction parse_mime(cfb/*:CFBContainer*/, data/*:Array<string>*/, root/*:string*/)/*:void*/ {\n\tvar fname = \"\", cte = \"\", ctype = \"\", fdata;\n\tvar di = 0;\n\tfor(;di < 10; ++di) {\n\t\tvar line = data[di];\n\t\tif(!line || line.match(/^\\s*$/)) break;\n\t\tvar m = line.match(/^([^:]*?):\\s*([^\\s].*)$/);\n\t\tif(m) switch(m[1].toLowerCase()) {\n\t\t\tcase \"content-location\": fname = m[2].trim(); break;\n\t\t\tcase \"content-type\": ctype = m[2].trim(); break;\n\t\t\tcase \"content-transfer-encoding\": cte = m[2].trim(); break;\n\t\t}\n\t}\n\t++di;\n\tswitch(cte.toLowerCase()) {\n\t\tcase 'base64': fdata = s2a(Base64_decode(data.slice(di).join(\"\"))); break;\n\t\tcase 'quoted-printable': fdata = parse_quoted_printable(data.slice(di)); break;\n\t\tdefault: throw new Error(\"Unsupported Content-Transfer-Encoding \" + cte);\n\t}\n\tvar file = cfb_add(cfb, fname.slice(root.length), fdata, {unsafe: true});\n\tif(ctype) file.ctype = ctype;\n}\n\nfunction parse_mad(file/*:RawBytes*/, options/*:CFBReadOpts*/)/*:CFBContainer*/ {\n\tif(a2s(file.slice(0,13)).toLowerCase() != \"mime-version:\") throw new Error(\"Unsupported MAD header\");\n\tvar root = (options && options.root || \"\");\n\t// $FlowIgnore\n\tvar data = (has_buf && Buffer.isBuffer(file) ? file.toString(\"binary\") : a2s(file)).split(\"\\r\\n\");\n\tvar di = 0, row = \"\";\n\n\t/* if root is not specified, scan for the common prefix */\n\tfor(di = 0; di < data.length; ++di) {\n\t\trow = data[di];\n\t\tif(!/^Content-Location:/i.test(row)) continue;\n\t\trow = row.slice(row.indexOf(\"file\"));\n\t\tif(!root) root = row.slice(0, row.lastIndexOf(\"/\") + 1);\n\t\tif(row.slice(0, root.length) == root) continue;\n\t\twhile(root.length > 0) {\n\t\t\troot = root.slice(0, root.length - 1);\n\t\t\troot = root.slice(0, root.lastIndexOf(\"/\") + 1);\n\t\t\tif(row.slice(0,root.length) == root) break;\n\t\t}\n\t}\n\n\tvar mboundary = (data[1] || \"\").match(/boundary=\"(.*?)\"/);\n\tif(!mboundary) throw new Error(\"MAD cannot find boundary\");\n\tvar boundary = \"--\" + (mboundary[1] || \"\");\n\n\tvar FileIndex/*:CFBFileIndex*/ = [], FullPaths/*:Array<string>*/ = [];\n\tvar o = {\n\t\tFileIndex: FileIndex,\n\t\tFullPaths: FullPaths\n\t};\n\tinit_cfb(o);\n\tvar start_di, fcnt = 0;\n\tfor(di = 0; di < data.length; ++di) {\n\t\tvar line = data[di];\n\t\tif(line !== boundary && line !== boundary + \"--\") continue;\n\t\tif(fcnt++) parse_mime(o, data.slice(start_di, di), root);\n\t\tstart_di = di;\n\t}\n\treturn o;\n}\n\nfunction write_mad(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:string*/ {\n\tvar opts = options || {};\n\tvar boundary = opts.boundary || \"SheetJS\";\n\tboundary = '------=' + boundary;\n\n\tvar out = [\n\t\t'MIME-Version: 1.0',\n\t\t'Content-Type: multipart/related; boundary=\"' + boundary.slice(2) + '\"',\n\t\t'',\n\t\t'',\n\t\t''\n\t];\n\n\tvar root = cfb.FullPaths[0], fp = root, fi = cfb.FileIndex[0];\n\tfor(var i = 1; i < cfb.FullPaths.length; ++i) {\n\t\tfp = cfb.FullPaths[i].slice(root.length);\n\t\tfi = cfb.FileIndex[i];\n\t\tif(!fi.size || !fi.content || fp == \"\\u0001Sh33tJ5\") continue;\n\n\t\t/* Normalize filename */\n\t\tfp = fp.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7E-\\xFF]/g, function(c) {\n\t\t\treturn \"_x\" + c.charCodeAt(0).toString(16) + \"_\";\n\t\t}).replace(/[\\u0080-\\uFFFF]/g, function(u) {\n\t\t\treturn \"_u\" + u.charCodeAt(0).toString(16) + \"_\";\n\t\t});\n\n\t\t/* Extract content as binary string */\n\t\tvar ca = fi.content;\n\t\t// $FlowIgnore\n\t\tvar cstr = has_buf && Buffer.isBuffer(ca) ? ca.toString(\"binary\") : a2s(ca);\n\n\t\t/* 4/5 of first 1024 chars ascii -> quoted printable, else base64 */\n\t\tvar dispcnt = 0, L = Math.min(1024, cstr.length), cc = 0;\n\t\tfor(var csl = 0; csl <= L; ++csl) if((cc=cstr.charCodeAt(csl)) >= 0x20 && cc < 0x80) ++dispcnt;\n\t\tvar qp = dispcnt >= L * 4 / 5;\n\n\t\tout.push(boundary);\n\t\tout.push('Content-Location: ' + (opts.root || 'file:///C:/SheetJS/') + fp);\n\t\tout.push('Content-Transfer-Encoding: ' + (qp ? 'quoted-printable' : 'base64'));\n\t\tout.push('Content-Type: ' + get_content_type(fi, fp));\n\t\tout.push('');\n\n\t\tout.push(qp ? write_quoted_printable(cstr) : write_base64_76(cstr));\n\t}\n\tout.push(boundary + '--\\r\\n');\n\treturn out.join(\"\\r\\n\");\n}\nfunction cfb_new(opts/*:?any*/)/*:CFBContainer*/ {\n\tvar o/*:CFBContainer*/ = ({}/*:any*/);\n\tinit_cfb(o, opts);\n\treturn o;\n}\n\nfunction cfb_add(cfb/*:CFBContainer*/, name/*:string*/, content/*:?RawBytes*/, opts/*:?any*/)/*:CFBEntry*/ {\n\tvar unsafe = opts && opts.unsafe;\n\tif(!unsafe) init_cfb(cfb);\n\tvar file = !unsafe && CFB.find(cfb, name);\n\tif(!file) {\n\t\tvar fpath/*:string*/ = cfb.FullPaths[0];\n\t\tif(name.slice(0, fpath.length) == fpath) fpath = name;\n\t\telse {\n\t\t\tif(fpath.slice(-1) != \"/\") fpath += \"/\";\n\t\t\tfpath = (fpath + name).replace(\"//\",\"/\");\n\t\t}\n\t\tfile = ({name: filename(name), type: 2}/*:any*/);\n\t\tcfb.FileIndex.push(file);\n\t\tcfb.FullPaths.push(fpath);\n\t\tif(!unsafe) CFB.utils.cfb_gc(cfb);\n\t}\n\t/*:: if(!file) throw new Error(\"unreachable\"); */\n\tfile.content = (content/*:any*/);\n\tfile.size = content ? content.length : 0;\n\tif(opts) {\n\t\tif(opts.CLSID) file.clsid = opts.CLSID;\n\t\tif(opts.mt) file.mt = opts.mt;\n\t\tif(opts.ct) file.ct = opts.ct;\n\t}\n\treturn file;\n}\n\nfunction cfb_del(cfb/*:CFBContainer*/, name/*:string*/)/*:boolean*/ {\n\tinit_cfb(cfb);\n\tvar file = CFB.find(cfb, name);\n\tif(file) for(var j = 0; j < cfb.FileIndex.length; ++j) if(cfb.FileIndex[j] == file) {\n\t\tcfb.FileIndex.splice(j, 1);\n\t\tcfb.FullPaths.splice(j, 1);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction cfb_mov(cfb/*:CFBContainer*/, old_name/*:string*/, new_name/*:string*/)/*:boolean*/ {\n\tinit_cfb(cfb);\n\tvar file = CFB.find(cfb, old_name);\n\tif(file) for(var j = 0; j < cfb.FileIndex.length; ++j) if(cfb.FileIndex[j] == file) {\n\t\tcfb.FileIndex[j].name = filename(new_name);\n\t\tcfb.FullPaths[j] = new_name;\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction cfb_gc(cfb/*:CFBContainer*/)/*:void*/ { rebuild_cfb(cfb, true); }\n\nexports.find = find;\nexports.read = read;\nexports.parse = parse;\nexports.write = write;\nexports.writeFile = write_file;\nexports.utils = {\n\tcfb_new: cfb_new,\n\tcfb_add: cfb_add,\n\tcfb_del: cfb_del,\n\tcfb_mov: cfb_mov,\n\tcfb_gc: cfb_gc,\n\tReadShift: ReadShift,\n\tCheckField: CheckField,\n\tprep_blob: prep_blob,\n\tbconcat: bconcat,\n\tuse_zlib: use_zlib,\n\t_deflateRaw: _deflate,\n\t_inflateRaw: _inflate,\n\tconsts: consts\n};\n\nreturn exports;\n})();\n\nvar _fs;\nfunction set_fs(fs) { _fs = fs; }\n\n/* normalize data for blob ctor */\nfunction blobify(data) {\n\tif(typeof data === \"string\") return s2ab(data);\n\tif(Array.isArray(data)) return a2u(data);\n\treturn data;\n}\n/* write or download file */\nfunction write_dl(fname/*:string*/, payload/*:any*/, enc/*:?string*/) {\n\t/*global IE_SaveFile, Blob, navigator, saveAs, document, File, chrome */\n\tif(typeof _fs !== 'undefined' && _fs.writeFileSync) return enc ? _fs.writeFileSync(fname, payload, enc) : _fs.writeFileSync(fname, payload);\n\tif(typeof Deno !== 'undefined') {\n\t\t/* in this spot, it's safe to assume typed arrays and TextEncoder/TextDecoder exist */\n\t\tif(enc && typeof payload == \"string\") switch(enc) {\n\t\t\tcase \"utf8\": payload = new TextEncoder(enc).encode(payload); break;\n\t\t\tcase \"binary\": payload = s2ab(payload); break;\n\t\t\t/* TODO: binary equivalent */\n\t\t\tdefault: throw new Error(\"Unsupported encoding \" + enc);\n\t\t}\n\t\treturn Deno.writeFileSync(fname, payload);\n\t}\n\tvar data = (enc == \"utf8\") ? utf8write(payload) : payload;\n\t/*:: declare var IE_SaveFile: any; */\n\tif(typeof IE_SaveFile !== 'undefined') return IE_SaveFile(data, fname);\n\tif(typeof Blob !== 'undefined') {\n\t\tvar blob = new Blob([blobify(data)], {type:\"application/octet-stream\"});\n\t\t/*:: declare var navigator: any; */\n\t\tif(typeof navigator !== 'undefined' && navigator.msSaveBlob) return navigator.msSaveBlob(blob, fname);\n\t\t/*:: declare var saveAs: any; */\n\t\tif(typeof saveAs !== 'undefined') return saveAs(blob, fname);\n\t\tif(typeof URL !== 'undefined' && typeof document !== 'undefined' && document.createElement && URL.createObjectURL) {\n\t\t\tvar url = URL.createObjectURL(blob);\n\t\t\t/*:: declare var chrome: any; */\n\t\t\tif(typeof chrome === 'object' && typeof (chrome.downloads||{}).download == \"function\") {\n\t\t\t\tif(URL.revokeObjectURL && typeof setTimeout !== 'undefined') setTimeout(function() { URL.revokeObjectURL(url); }, 60000);\n\t\t\t\treturn chrome.downloads.download({ url: url, filename: fname, saveAs: true });\n\t\t\t}\n\t\t\tvar a = document.createElement(\"a\");\n\t\t\tif(a.download != null) {\n\t\t\t\t/*:: if(document.body == null) throw new Error(\"unreachable\"); */\n\t\t\t\ta.download = fname; a.href = url; document.body.appendChild(a); a.click();\n\t\t\t\t/*:: if(document.body == null) throw new Error(\"unreachable\"); */ document.body.removeChild(a);\n\t\t\t\tif(URL.revokeObjectURL && typeof setTimeout !== 'undefined') setTimeout(function() { URL.revokeObjectURL(url); }, 60000);\n\t\t\t\treturn url;\n\t\t\t}\n\t\t} else if(typeof URL !== 'undefined' && !URL.createObjectURL && typeof chrome === 'object') {\n\t\t\t/* manifest v3 extensions -- no URL.createObjectURL */\n\t\t\tvar b64 = \"data:application/octet-stream;base64,\" + Base64_encode_arr(new Uint8Array(blobify(data)));\n\t\t\treturn chrome.downloads.download({ url: b64, filename: fname, saveAs: true });\n\t\t}\n\t}\n\t// $FlowIgnore\n\tif(typeof $ !== 'undefined' && typeof File !== 'undefined' && typeof Folder !== 'undefined') try { // extendscript\n\t\t// $FlowIgnore\n\t\tvar out = File(fname); out.open(\"w\"); out.encoding = \"binary\";\n\t\tif(Array.isArray(payload)) payload = a2s(payload);\n\t\tout.write(payload); out.close(); return payload;\n\t} catch(e) { if(!e.message || e.message.indexOf(\"onstruct\") == -1) throw e; }\n\tthrow new Error(\"cannot save file \" + fname);\n}\n\n/* read binary data from file */\nfunction read_binary(path/*:string*/) {\n\tif(typeof _fs !== 'undefined') return _fs.readFileSync(path);\n\tif(typeof Deno !== 'undefined') return Deno.readFileSync(path);\n\t// $FlowIgnore\n\tif(typeof $ !== 'undefined' && typeof File !== 'undefined' && typeof Folder !== 'undefined') try { // extendscript\n\t\t// $FlowIgnore\n\t\tvar infile = File(path); infile.open(\"r\"); infile.encoding = \"binary\";\n\t\tvar data = infile.read(); infile.close();\n\t\treturn data;\n\t} catch(e) { if(!e.message || e.message.indexOf(\"onstruct\") == -1) throw e; }\n\tthrow new Error(\"Cannot access file \" + path);\n}\nfunction keys(o/*:any*/)/*:Array<any>*/ {\n\tvar ks = Object.keys(o), o2 = [];\n\tfor(var i = 0; i < ks.length; ++i) if(Object.prototype.hasOwnProperty.call(o, ks[i])) o2.push(ks[i]);\n\treturn o2;\n}\n\nfunction evert_key(obj/*:any*/, key/*:string*/)/*:EvertType*/ {\n\tvar o = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) if(o[obj[K[i]][key]] == null) o[obj[K[i]][key]] = K[i];\n\treturn o;\n}\n\nfunction evert(obj/*:any*/)/*:EvertType*/ {\n\tvar o = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) o[obj[K[i]]] = K[i];\n\treturn o;\n}\n\nfunction evert_num(obj/*:any*/)/*:EvertNumType*/ {\n\tvar o = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) o[obj[K[i]]] = parseInt(K[i],10);\n\treturn o;\n}\n\nfunction evert_arr(obj/*:any*/)/*:EvertArrType*/ {\n\tvar o/*:EvertArrType*/ = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) {\n\t\tif(o[obj[K[i]]] == null) o[obj[K[i]]] = [];\n\t\to[obj[K[i]]].push(K[i]);\n\t}\n\treturn o;\n}\n\nvar dnthresh  = /*#__PURE__*/Date.UTC(1899, 11, 30, 0, 0, 0); // -2209161600000\nvar dnthresh1 = /*#__PURE__*/Date.UTC(1899, 11, 31, 0, 0, 0); // -2209075200000\nvar dnthresh2 = /*#__PURE__*/Date.UTC(1904, 0, 1, 0, 0, 0); // -2209075200000\nfunction datenum(v/*:Date*/, date1904/*:?boolean*/)/*:number*/ {\n\tvar epoch = /*#__PURE__*/v.getTime();\n\tvar res = (epoch - dnthresh) / (24 * 60 * 60 * 1000);\n\tif(date1904) { res -= 1462; return res < -1402 ? res - 1 : res; }\n\treturn res < 60 ? res - 1 : res;\n}\nfunction numdate(v/*:number*/)/*:Date|number*/ {\n\tif(v >= 60 && v < 61) return v;\n\tvar out = new Date();\n\tout.setTime((v>60 ? v : (v+1)) * 24 * 60 * 60 * 1000 + dnthresh);\n\treturn out;\n}\n\n/* ISO 8601 Duration */\nfunction parse_isodur(s) {\n\tvar sec = 0, mt = 0, time = false;\n\tvar m = s.match(/P([0-9\\.]+Y)?([0-9\\.]+M)?([0-9\\.]+D)?T([0-9\\.]+H)?([0-9\\.]+M)?([0-9\\.]+S)?/);\n\tif(!m) throw new Error(\"|\" + s + \"| is not an ISO8601 Duration\");\n\tfor(var i = 1; i != m.length; ++i) {\n\t\tif(!m[i]) continue;\n\t\tmt = 1;\n\t\tif(i > 3) time = true;\n\t\tswitch(m[i].slice(m[i].length-1)) {\n\t\t\tcase 'Y':\n\t\t\t\tthrow new Error(\"Unsupported ISO Duration Field: \" + m[i].slice(m[i].length-1));\n\t\t\tcase 'D': mt *= 24;\n\t\t\t\t/* falls through */\n\t\t\tcase 'H': mt *= 60;\n\t\t\t\t/* falls through */\n\t\t\tcase 'M':\n\t\t\t\tif(!time) throw new Error(\"Unsupported ISO Duration Field: M\");\n\t\t\t\telse mt *= 60;\n\t\t\t\t/* falls through */\n\t\t\tcase 'S': break;\n\t\t}\n\t\tsec += mt * parseInt(m[i], 10);\n\t}\n\treturn sec;\n}\n\n/* Blame https://bugs.chromium.org/p/v8/issues/detail?id=7863 for the regexide */\nvar pdre1 = /^(\\d+):(\\d+)(:\\d+)?(\\.\\d+)?$/; // HH:MM[:SS[.UUU]]\nvar pdre2 = /^(\\d+)-(\\d+)-(\\d+)$/; // YYYY-mm-dd\nvar pdre3 = /^(\\d+)-(\\d+)-(\\d+)[T ](\\d+):(\\d+)(:\\d+)?(\\.\\d+)?$/; // YYYY-mm-dd(T or space)HH:MM[:SS[.UUU]], sans \"Z\"\n/* parses a date string as a UTC date */\nfunction parseDate(str/*:string*/, date1904/*:boolean*/)/*:Date*/ {\n\tif(str instanceof Date) return str;\n\tvar m = str.match(pdre1);\n\tif(m) return new Date((date1904 ? dnthresh2 : dnthresh1) + ((parseInt(m[1], 10)*60 + parseInt(m[2], 10))*60 + (m[3] ? parseInt(m[3].slice(1), 10) : 0))*1000 + (m[4] ? parseInt((m[4]+\"000\").slice(1,4), 10) : 0));\n\tm = str.match(pdre2);\n\tif(m) return new Date(Date.UTC(+m[1], +m[2]-1, +m[3], 0, 0, 0, 0));\n\t/* TODO: 1900-02-29T00:00:00.000 should return a flag to treat as a date code (affects xlml) */\n\tm = str.match(pdre3);\n\tif(m) return new Date(Date.UTC(+m[1], +m[2]-1, +m[3], +m[4], +m[5], ((m[6] && parseInt(m[6].slice(1), 10))|| 0), ((m[7] && parseInt((m[7] + \"0000\").slice(1,4), 10))||0)));\n\tvar d = new Date(str);\n\treturn d;\n}\n\nfunction cc2str(arr/*:Array<number>*/, debomit)/*:string*/ {\n\tif(has_buf && Buffer.isBuffer(arr)) {\n\t\tif(debomit && buf_utf16le) {\n\t\t\t// TODO: temporary patch\n\t\t\tif(arr[0] == 0xFF && arr[1] == 0xFE) return utf8write(arr.slice(2).toString(\"utf16le\"));\n\t\t\tif(arr[1] == 0xFE && arr[2] == 0xFF) return utf8write(utf16beread(arr.slice(2).toString(\"binary\")));\n\t\t}\n\t\treturn arr.toString(\"binary\");\n\t}\n\n\tif(typeof TextDecoder !== \"undefined\") try {\n\t\tif(debomit) {\n\t\t\tif(arr[0] == 0xFF && arr[1] == 0xFE) return utf8write(new TextDecoder(\"utf-16le\").decode(arr.slice(2)));\n\t\t\tif(arr[0] == 0xFE && arr[1] == 0xFF) return utf8write(new TextDecoder(\"utf-16be\").decode(arr.slice(2)));\n\t\t}\n\t\tvar rev = {\n\t\t\t\"\\u20ac\": \"\\x80\", \"\\u201a\": \"\\x82\", \"\\u0192\": \"\\x83\", \"\\u201e\": \"\\x84\",\n\t\t\t\"\\u2026\": \"\\x85\", \"\\u2020\": \"\\x86\", \"\\u2021\": \"\\x87\", \"\\u02c6\": \"\\x88\",\n\t\t\t\"\\u2030\": \"\\x89\", \"\\u0160\": \"\\x8a\", \"\\u2039\": \"\\x8b\", \"\\u0152\": \"\\x8c\",\n\t\t\t\"\\u017d\": \"\\x8e\", \"\\u2018\": \"\\x91\", \"\\u2019\": \"\\x92\", \"\\u201c\": \"\\x93\",\n\t\t\t\"\\u201d\": \"\\x94\", \"\\u2022\": \"\\x95\", \"\\u2013\": \"\\x96\", \"\\u2014\": \"\\x97\",\n\t\t\t\"\\u02dc\": \"\\x98\", \"\\u2122\": \"\\x99\", \"\\u0161\": \"\\x9a\", \"\\u203a\": \"\\x9b\",\n\t\t\t\"\\u0153\": \"\\x9c\", \"\\u017e\": \"\\x9e\", \"\\u0178\": \"\\x9f\"\n\t\t};\n\t\tif(Array.isArray(arr)) arr = new Uint8Array(arr);\n\t\treturn new TextDecoder(\"latin1\").decode(arr).replace(/[]/g, function(c) { return rev[c] || c; });\n\t} catch(e) {}\n\n\tvar o = [], i = 0;\n\t// this cascade is for the browsers and runtimes of antiquity (and for modern runtimes that lack TextEncoder)\n\ttry {\n\t\tfor(i = 0; i < arr.length - 65536; i+=65536) o.push(String.fromCharCode.apply(0, arr.slice(i, i + 65536)));\n\t\to.push(String.fromCharCode.apply(0, arr.slice(i)));\n\t} catch(e) { try {\n\t\t\tfor(; i < arr.length - 16384; i+=16384) o.push(String.fromCharCode.apply(0, arr.slice(i, i + 16384)));\n\t\t\to.push(String.fromCharCode.apply(0, arr.slice(i)));\n\t\t} catch(e) {\n\t\t\tfor(; i != arr.length; ++i) o.push(String.fromCharCode(arr[i]));\n\t\t}\n\t}\n\treturn o.join(\"\");\n}\n\nfunction dup(o/*:any*/)/*:any*/ {\n\tif(typeof JSON != 'undefined' && !Array.isArray(o)) return JSON.parse(JSON.stringify(o));\n\tif(typeof o != 'object' || o == null) return o;\n\tif(o instanceof Date) return new Date(o.getTime());\n\tvar out = {};\n\tfor(var k in o) if(Object.prototype.hasOwnProperty.call(o, k)) out[k] = dup(o[k]);\n\treturn out;\n}\n\nfunction fill(c/*:string*/,l/*:number*/)/*:string*/ { var o = \"\"; while(o.length < l) o+=c; return o; }\n\n/* TODO: stress test */\nfunction fuzzynum(s/*:string*/)/*:number*/ {\n\tvar v/*:number*/ = Number(s);\n\tif(!isNaN(v)) return isFinite(v) ? v : NaN;\n\tif(!/\\d/.test(s)) return v;\n\tvar wt = 1;\n\tvar ss = s.replace(/([\\d]),([\\d])/g,\"$1$2\").replace(/[$]/g,\"\").replace(/[%]/g, function() { wt *= 100; return \"\";});\n\tif(!isNaN(v = Number(ss))) return v / wt;\n\tss = ss.replace(/[(]([^()]*)[)]/,function($$, $1) { wt = -wt; return $1;});\n\tif(!isNaN(v = Number(ss))) return v / wt;\n\treturn v;\n}\n\n/* NOTE: Chrome rejects bare times like 1:23 PM */\nvar FDRE1 = /^(0?\\d|1[0-2])(?:|:([0-5]?\\d)(?:|(\\.\\d+)(?:|:([0-5]?\\d))|:([0-5]?\\d)(|\\.\\d+)))\\s+([ap])m?$/;\nvar FDRE2 = /^([01]?\\d|2[0-3])(?:|:([0-5]?\\d)(?:|(\\.\\d+)(?:|:([0-5]?\\d))|:([0-5]?\\d)(|\\.\\d+)))$/;\nvar FDISO = /^(\\d+)-(\\d+)-(\\d+)[T ](\\d+):(\\d+)(:\\d+)(\\.\\d+)?[Z]?$/; // YYYY-mm-dd(T or space)HH:MM:SS[.UUU][Z]\n\n/* TODO: 1904 adjustment */\nvar utc_append_works = new Date(\"6/9/69 00:00 UTC\").valueOf() == -17798400000;\nfunction fuzzytime1(M) /*:Date*/ {\n\tif(!M[2]) return new Date(Date.UTC(1899,11,31,(+M[1]%12) + (M[7] == \"p\" ? 12 : 0), 0, 0, 0));\n\tif(M[3]) {\n\t\t\tif(M[4]) return new Date(Date.UTC(1899,11,31,(+M[1]%12) + (M[7] == \"p\" ? 12 : 0), +M[2], +M[4], parseFloat(M[3])*1000));\n\t\t\telse return new Date(Date.UTC(1899,11,31,(M[7] == \"p\" ? 12 : 0), +M[1], +M[2], parseFloat(M[3])*1000));\n\t}\n\telse if(M[5]) return new Date(Date.UTC(1899,11,31, (+M[1]%12) + (M[7] == \"p\" ? 12 : 0), +M[2], +M[5], M[6] ? parseFloat(M[6]) * 1000 : 0));\n\telse return new Date(Date.UTC(1899,11,31,(+M[1]%12) + (M[7] == \"p\" ? 12 : 0), +M[2], 0, 0));\n}\nfunction fuzzytime2(M) /*:Date*/ {\n\tif(!M[2]) return new Date(Date.UTC(1899,11,31,+M[1], 0, 0, 0));\n\tif(M[3]) {\n\t\t\tif(M[4]) return new Date(Date.UTC(1899,11,31,+M[1], +M[2], +M[4], parseFloat(M[3])*1000));\n\t\t\telse return new Date(Date.UTC(1899,11,31,0, +M[1], +M[2], parseFloat(M[3])*1000));\n\t}\n\telse if(M[5]) return new Date(Date.UTC(1899,11,31, +M[1], +M[2], +M[5], M[6] ? parseFloat(M[6]) * 1000 : 0));\n\telse return new Date(Date.UTC(1899,11,31,+M[1], +M[2], 0, 0));\n}\nvar lower_months = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\nfunction fuzzydate(s/*:string*/)/*:Date*/ {\n\t// See issue 2863 -- this is technically not supported in Excel but is otherwise useful\n\tif(FDISO.test(s)) return s.indexOf(\"Z\") == -1 ? local_to_utc(new Date(s)) : new Date(s);\n\tvar lower = s.toLowerCase();\n\tvar lnos = lower.replace(/\\s+/g, \" \").trim();\n\tvar M = lnos.match(FDRE1);\n\tif(M) return fuzzytime1(M);\n\tM = lnos.match(FDRE2);\n\tif(M) return fuzzytime2(M);\n\tM = lnos.match(pdre3);\n\tif(M) return new Date(Date.UTC(+M[1], +M[2]-1, +M[3], +M[4], +M[5], ((M[6] && parseInt(M[6].slice(1), 10))|| 0), ((M[7] && parseInt((M[7] + \"0000\").slice(1,4), 10))||0)));\n\tvar o = new Date(utc_append_works && s.indexOf(\"UTC\") == -1 ? s + \" UTC\": s), n = new Date(NaN);\n\tvar y = o.getYear(), m = o.getMonth(), d = o.getDate();\n\tif(isNaN(d)) return n;\n\tif(lower.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)) {\n\t\tlower = lower.replace(/[^a-z]/g,\"\").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,\"\");\n\t\tif(lower.length > 3 && lower_months.indexOf(lower) == -1) return n;\n\t} else if(lower.replace(/[ap]m?/, \"\").match(/[a-z]/)) return n;\n\tif(y < 0 || y > 8099 || s.match(/[^-0-9:,\\/\\\\\\ ]/)) return n;\n\treturn o;\n}\n\nvar split_regex = /*#__PURE__*/(function() {\n\tvar safe_split_regex = \"abacaba\".split(/(:?b)/i).length == 5;\n\treturn function split_regex(str/*:string*/, re, def/*:string*/)/*:Array<string>*/ {\n\t\tif(safe_split_regex || typeof re == \"string\") return str.split(re);\n\t\tvar p = str.split(re), o = [p[0]];\n\t\tfor(var i = 1; i < p.length; ++i) { o.push(def); o.push(p[i]); }\n\t\treturn o;\n\t};\n})();\n\nfunction utc_to_local(utc) {\n\treturn new Date(utc.getUTCFullYear(), utc.getUTCMonth(), utc.getUTCDate(), utc.getUTCHours(), utc.getUTCMinutes(), utc.getUTCSeconds(), utc.getUTCMilliseconds());\n}\nfunction local_to_utc(local) {\n\treturn new Date(Date.UTC(local.getFullYear(), local.getMonth(), local.getDate(), local.getHours(), local.getMinutes(), local.getSeconds(), local.getMilliseconds()));\n}\n\nfunction remove_doctype(str) {\n\tvar preamble = str.slice(0, 1024);\n\tvar si = preamble.indexOf(\"<!DOCTYPE\");\n\tif(si == -1) return str;\n\tvar m = str.match(/<[\\w]/);\n\tif(!m) return str;\n\treturn str.slice(0, si) + str.slice(m.index);\n}\n\n/* str.match(/<!--[\\s\\S]*?-->/g) --> str_match_ng(str, \"<!--\", \"-->\") */\nfunction str_match_ng(str, s, e) {\n  var out = [];\n\n  var si = str.indexOf(s);\n  while(si > -1) {\n    var ei = str.indexOf(e, si + s.length);\n\t\tif(ei == -1) break;\n\n\t\tout.push(str.slice(si, ei + e.length));\n\t\tsi = str.indexOf(s, ei + e.length);\n\t}\n\n  return out.length > 0 ? out : null;\n}\n\n/* str.replace(/<!--[\\s\\S]*?-->/g, \"\") --> str_remove_ng(str, \"<!--\", \"-->\") */\nfunction str_remove_ng(str, s, e) {\n  var out = [], last = 0;\n\n  var si = str.indexOf(s);\n\tif(si == -1) return str;\n  while(si > -1) {\n\t\tout.push(str.slice(last, si));\n    var ei = str.indexOf(e, si + s.length);\n\t\tif(ei == -1) break;\n\n\t\tif((si = str.indexOf(s, (last = ei + e.length))) == -1) out.push(str.slice(last));\n\t}\n\n  return out.join(\"\");\n}\n\n/* str.match(/<tag\\b[^>]*?>([\\s\\S]*?)</tag>/) --> str_match_xml(str, \"tag\") */\nvar xml_boundary = { \" \": 1, \"\\t\": 1, \"\\r\": 1, \"\\n\": 1, \">\": 1 };\nfunction str_match_xml(str, tag) {\n\tvar si = str.indexOf('<' + tag), w = tag.length + 1, L = str.length;\n\twhile(si >= 0 && si <= L - w && !xml_boundary[str.charAt(si + w)]) si = str.indexOf('<' + tag, si+1);\n\tif(si === -1) return null;\n\tvar sf = str.indexOf(\">\", si + tag.length);\n\tif(sf === -1) return null;\n\tvar et = \"</\" + tag + \">\";\n\tvar ei = str.indexOf(et, sf);\n\tif(ei == -1) return null;\n\treturn [str.slice(si, ei + et.length), str.slice(sf + 1, ei)];\n}\n\n/* str.match(/<(?:\\w+:)?tag\\b[^<>]*?>([\\s\\S]*?)<\\/(?:\\w+:)?tag>/) --> str_match_xml(str, \"tag\") */\nvar str_match_xml_ns = /*#__PURE__*/(function() {\n\tvar str_match_xml_ns_cache = {};\n\treturn function str_match_xml_ns(str, tag) {\n\t\tvar res = str_match_xml_ns_cache[tag];\n\t\tif(!res) str_match_xml_ns_cache[tag] = res = [\n\t\t\tnew RegExp('<(?:\\\\w+:)?'+tag+'\\\\b[^<>]*>', \"g\"),\n\t\t\tnew RegExp('</(?:\\\\w+:)?'+tag+'>', \"g\")\n\t\t];\n\t\tres[0].lastIndex = res[1].lastIndex = 0;\n\t\tvar m = res[0].exec(str);\n\t\tif(!m) return null;\n\t\tvar si = m.index;\n\t\tvar sf = res[0].lastIndex;\n\t\tres[1].lastIndex = res[0].lastIndex;\n\t\tm = res[1].exec(str);\n\t\tif(!m) return null;\n\t\tvar ei = m.index;\n\t\tvar ef = res[1].lastIndex;\n\t\treturn [str.slice(si, ef), str.slice(sf, ei)];\n\t};\n})();\n\n/* str.match(/<(?:\\w+:)?tag\\b[^<>]*?>([\\s\\S]*?)<\\/(?:\\w+:)?tag>/g) --> str_match_xml_ns_g(str, \"tag\") */\nvar str_match_xml_ns_g = /*#__PURE__*/(function() {\n\tvar str_match_xml_ns_cache = {};\n\treturn function str_match_xml_ns(str, tag) {\n\t\tvar out = [];\n\t\tvar res = str_match_xml_ns_cache[tag];\n\t\tif(!res) str_match_xml_ns_cache[tag] = res = [\n\t\t\tnew RegExp('<(?:\\\\w+:)?'+tag+'\\\\b[^<>]*>', \"g\"),\n\t\t\tnew RegExp('</(?:\\\\w+:)?'+tag+'>', \"g\")\n\t\t];\n\t\tres[0].lastIndex = res[1].lastIndex = 0;\n\t\tvar m;\n\t\twhile((m = res[0].exec(str))) {\n\t\t\tvar si = m.index;\n\t\t\tres[1].lastIndex = res[0].lastIndex;\n\t\t\tm = res[1].exec(str);\n\t\t\tif(!m) return null;\n\t\t\tvar ef = res[1].lastIndex;\n\t\t\tout.push(str.slice(si, ef));\n\t\t\tres[0].lastIndex = res[1].lastIndex;\n\t\t}\n\t\treturn out.length == 0 ? null : out;\n\t};\n})();\nvar str_remove_xml_ns_g = /*#__PURE__*/(function() {\n\tvar str_remove_xml_ns_cache = {};\n\treturn function str_remove_xml_ns_g(str, tag) {\n\t\tvar out = [];\n\t\tvar res = str_remove_xml_ns_cache[tag];\n\t\tif(!res) str_remove_xml_ns_cache[tag] = res = [\n\t\t\tnew RegExp('<(?:\\\\w+:)?'+tag+'\\\\b[^<>]*>', \"g\"),\n\t\t\tnew RegExp('</(?:\\\\w+:)?'+tag+'>', \"g\")\n\t\t];\n\t\tres[0].lastIndex = res[1].lastIndex = 0;\n\t\tvar m;\n\t\tvar si = 0, ef = 0;\n\t\twhile((m = res[0].exec(str))) {\n\t\t\tsi = m.index;\n\t\t\tout.push(str.slice(ef, si));\n\t\t\tef = si;\n\t\t\tres[1].lastIndex = res[0].lastIndex;\n\t\t\tm = res[1].exec(str);\n\t\t\tif(!m) return null;\n\t\t\tef = res[1].lastIndex;\n\t\t\tres[0].lastIndex = res[1].lastIndex;\n\t\t}\n\t\tout.push(str.slice(ef));\n\t\treturn out.length == 0 ? \"\" : out.join(\"\");\n\t};\n})();\n\n/* str.match(/<(?:\\w+:)?tag\\b[^>]*?>([\\s\\S]*?)<\\/(?:\\w+:)?tag>/gi) --> str_match_xml_ns_ig(str, \"tag\") */\nvar str_match_xml_ig = /*#__PURE__*/(function() {\n\tvar str_match_xml_ns_cache = {};\n\treturn function str_match_xml_ns(str, tag) {\n\t\tvar out = [];\n\t\tvar res = str_match_xml_ns_cache[tag];\n\t\tif(!res) str_match_xml_ns_cache[tag] = res = [\n\t\t\tnew RegExp('<'+tag+'\\\\b[^<>]*>', \"ig\"),\n\t\t\tnew RegExp('</'+tag+'>', \"ig\")\n\t\t];\n\t\tres[0].lastIndex = res[1].lastIndex = 0;\n\t\tvar m;\n\t\twhile((m = res[0].exec(str))) {\n\t\t\tvar si = m.index;\n\t\t\tres[1].lastIndex = res[0].lastIndex;\n\t\t\tm = res[1].exec(str);\n\t\t\tif(!m) return null;\n\t\t\tvar ef = res[1].lastIndex;\n\t\t\tout.push(str.slice(si, ef));\n\t\t\tres[0].lastIndex = res[1].lastIndex;\n\t\t}\n\t\treturn out.length == 0 ? null : out;\n\t};\n})();\nfunction getdatastr(data)/*:?string*/ {\n\tif(!data) return null;\n\tif(data.content && data.type) return cc2str(data.content, true);\n\tif(data.data) return debom(data.data);\n\tif(data.asNodeBuffer && has_buf) return debom(data.asNodeBuffer().toString('binary'));\n\tif(data.asBinary) return debom(data.asBinary());\n\tif(data._data && data._data.getContent) return debom(cc2str(Array.prototype.slice.call(data._data.getContent(),0)));\n\treturn null;\n}\n\nfunction getdatabin(data) {\n\tif(!data) return null;\n\tif(data.data) return char_codes(data.data);\n\tif(data.asNodeBuffer && has_buf) return data.asNodeBuffer();\n\tif(data._data && data._data.getContent) {\n\t\tvar o = data._data.getContent();\n\t\tif(typeof o == \"string\") return char_codes(o);\n\t\treturn Array.prototype.slice.call(o);\n\t}\n\tif(data.content && data.type) return data.content;\n\treturn null;\n}\n\nfunction getdata(data) { return (data && data.name.slice(-4) === \".bin\") ? getdatabin(data) : getdatastr(data); }\n\n/* Part 2 Section 10.1.2 \"Mapping Content Types\" Names are case-insensitive */\n/* OASIS does not comment on filename case sensitivity */\nfunction safegetzipfile(zip, file/*:string*/) {\n\tvar k = zip.FullPaths || keys(zip.files);\n\tvar f = file.toLowerCase().replace(/[\\/]/g, '\\\\'), g = f.replace(/\\\\/g,'\\/');\n\tfor(var i=0; i<k.length; ++i) {\n\t\tvar n = k[i].replace(/^Root Entry[\\/]/,\"\").toLowerCase();\n\t\tif(f == n || g == n) return zip.files ? zip.files[k[i]] : zip.FileIndex[i];\n\t}\n\treturn null;\n}\n\nfunction getzipfile(zip, file/*:string*/) {\n\tvar o = safegetzipfile(zip, file);\n\tif(o == null) throw new Error(\"Cannot find file \" + file + \" in zip\");\n\treturn o;\n}\n\nfunction getzipdata(zip, file/*:string*/, safe/*:?boolean*/)/*:any*/ {\n\tif(!safe) return getdata(getzipfile(zip, file));\n\tif(!file) return null;\n\ttry { return getzipdata(zip, file); } catch(e) { return null; }\n}\n\nfunction getzipstr(zip, file/*:string*/, safe/*:?boolean*/)/*:?string*/ {\n\tif(!safe) return getdatastr(getzipfile(zip, file));\n\tif(!file) return null;\n\ttry { return getzipstr(zip, file); } catch(e) { return null; }\n}\n\nfunction getzipbin(zip, file/*:string*/, safe/*:?boolean*/)/*:any*/ {\n\tif(!safe) return getdatabin(getzipfile(zip, file));\n\tif(!file) return null;\n\ttry { return getzipbin(zip, file); } catch(e) { return null; }\n}\n\nfunction zipentries(zip) {\n\tvar k = zip.FullPaths || keys(zip.files), o = [];\n\tfor(var i = 0; i < k.length; ++i) if(k[i].slice(-1) != '/') o.push(k[i].replace(/^Root Entry[\\/]/, \"\"));\n\treturn o.sort();\n}\n\nfunction zip_add_file(zip, path, content) {\n\tif(zip.FullPaths) {\n\t\tif(Array.isArray(content) && typeof content[0] == \"string\") {\n\t\t\tcontent = content.join(\"\");\n\t\t}\n\t\tif(typeof content == \"string\") {\n\t\t\tvar res;\n\t\t\tif(has_buf) res = Buffer_from(content);\n\t\t\t/* TODO: investigate performance in Edge 13 */\n\t\t\t//else if(typeof TextEncoder !== \"undefined\") res = new TextEncoder().encode(content);\n\t\t\telse res = utf8decode(content);\n\t\t\treturn CFB.utils.cfb_add(zip, path, res);\n\t\t}\n\t\tCFB.utils.cfb_add(zip, path, content);\n\t}\n\telse zip.file(path, content);\n}\n\nfunction zip_new() { return CFB.utils.cfb_new(); }\n\nfunction zip_read(d, o) {\n\tswitch(o.type) {\n\t\tcase \"base64\": return CFB.read(d, { type: \"base64\" });\n\t\tcase \"binary\": return CFB.read(d, { type: \"binary\" });\n\t\tcase \"buffer\": case \"array\": return CFB.read(d, { type: \"buffer\" });\n\t}\n\tthrow new Error(\"Unrecognized type \" + o.type);\n}\n\nfunction resolve_path(path/*:string*/, base/*:string*/)/*:string*/ {\n\tif(path.charAt(0) == \"/\") return path.slice(1);\n\tvar result = base.split('/');\n\tif(base.slice(-1) != \"/\") result.pop(); // folder path\n\tvar target = path.split('/');\n\twhile (target.length !== 0) {\n\t\tvar step = target.shift();\n\t\tif (step === '..') result.pop();\n\t\telse if (step !== '.') result.push(step);\n\t}\n\treturn result.join('/');\n}\nvar XML_HEADER = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n';\nvar attregexg=/\\s([^\"\\s?>\\/]+)\\s*=\\s*((?:\")([^\"]*)(?:\")|(?:')([^']*)(?:')|([^'\">\\s]+))/g;\nvar tagregex1=/<[\\/\\?]?[a-zA-Z0-9:_-]+(?:\\s+[^\"\\s?<>\\/]+\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^'\"<>\\s=]+))*\\s*[\\/\\?]?>/mg, tagregex2 = /<[^<>]*>/g;\nvar tagregex = /*#__PURE__*/XML_HEADER.match(tagregex1) ? tagregex1 : tagregex2;\nvar nsregex=/<\\w*:/, nsregex2 = /<(\\/?)\\w+:/;\nfunction parsexmltag(tag/*:string*/, skip_root/*:?boolean*/, skip_LC/*:?boolean*/)/*:any*/ {\n\tvar z = ({}/*:any*/);\n\tvar eq = 0, c = 0;\n\tfor(; eq !== tag.length; ++eq) if((c = tag.charCodeAt(eq)) === 32 || c === 10 || c === 13) break;\n\tif(!skip_root) z[0] = tag.slice(0, eq);\n\tif(eq === tag.length) return z;\n\tvar m = tag.match(attregexg), j=0, v=\"\", i=0, q=\"\", cc=\"\", quot = 1;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\tcc = m[i].slice(1);\n\t\tfor(c=0; c != cc.length; ++c) if(cc.charCodeAt(c) === 61) break;\n\t\tq = cc.slice(0,c).trim();\n\t\twhile(cc.charCodeAt(c+1) == 32) ++c;\n\t\tquot = ((eq=cc.charCodeAt(c+1)) == 34 || eq == 39) ? 1 : 0;\n\t\tv = cc.slice(c+1+quot, cc.length-quot);\n\t\tfor(j=0;j!=q.length;++j) if(q.charCodeAt(j) === 58) break;\n\t\tif(j===q.length) {\n\t\t\tif(q.indexOf(\"_\") > 0) q = q.slice(0, q.indexOf(\"_\")); // from ods\n\t\t\tz[q] = v;\n\t\t\tif(!skip_LC) z[q.toLowerCase()] = v;\n\t\t}\n\t\telse {\n\t\t\tvar k = (j===5 && q.slice(0,5)===\"xmlns\"?\"xmlns\":\"\")+q.slice(j+1);\n\t\t\tif(z[k] && q.slice(j-3,j) == \"ext\") continue; // from ods\n\t\t\tz[k] = v;\n\t\t\tif(!skip_LC) z[k.toLowerCase()] = v;\n\t\t}\n\t}\n\treturn z;\n}\nfunction parsexmltagraw(tag/*:string*/, skip_root/*:?boolean*/, skip_LC/*:?boolean*/)/*:any*/ {\n\tvar z = ({}/*:any*/);\n\tvar eq = 0, c = 0;\n\tfor(; eq !== tag.length; ++eq) if((c = tag.charCodeAt(eq)) === 32 || c === 10 || c === 13) break;\n\tif(!skip_root) z[0] = tag.slice(0, eq);\n\tif(eq === tag.length) return z;\n\tvar m = tag.match(attregexg), j=0, v=\"\", i=0, q=\"\", cc=\"\", quot = 1;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\tcc = m[i].slice(1);\n\t\tfor(c=0; c != cc.length; ++c) if(cc.charCodeAt(c) === 61) break;\n\t\tq = cc.slice(0,c).trim();\n\t\twhile(cc.charCodeAt(c+1) == 32) ++c;\n\t\tquot = ((eq=cc.charCodeAt(c+1)) == 34 || eq == 39) ? 1 : 0;\n\t\tv = cc.slice(c+1+quot, cc.length-quot);\n\t\tif(q.indexOf(\"_\") > 0) q = q.slice(0, q.indexOf(\"_\")); // from ods\n\t\tz[q] = v;\n\t\tif(!skip_LC) z[q.toLowerCase()] = v;\n\t}\n\treturn z;\n}\nfunction strip_ns(x/*:string*/)/*:string*/ { return x.replace(nsregex2, \"<$1\"); }\n\nvar encodings = {\n\t'&quot;': '\"',\n\t'&apos;': \"'\",\n\t'&gt;': '>',\n\t'&lt;': '<',\n\t'&amp;': '&'\n};\nvar rencoding = /*#__PURE__*/evert(encodings);\n//var rencstr = \"&<>'\\\"\".split(\"\");\n\n// TODO: CP remap (need to read file version to determine OS)\nvar unescapexml/*:StringConv*/ = /*#__PURE__*/(function() {\n\t/* 22.4.2.4 bstr (Basic String) */\n\tvar encregex = /&(?:quot|apos|gt|lt|amp|#x?([\\da-fA-F]+));/ig, coderegex = /_x([\\da-fA-F]{4})_/ig;\n\tfunction raw_unescapexml(text/*:string*/)/*:string*/ {\n\t\tvar s = text + '', i = s.indexOf(\"<![CDATA[\");\n\t\tif(i == -1) return s.replace(encregex, function($$, $1) { return encodings[$$]||String.fromCharCode(parseInt($1,$$.indexOf(\"x\")>-1?16:10))||$$; }).replace(coderegex,function(m,c) {return String.fromCharCode(parseInt(c,16));});\n\t\tvar j = s.indexOf(\"]]>\");\n\t\treturn raw_unescapexml(s.slice(0, i)) + s.slice(i+9,j) + raw_unescapexml(s.slice(j+3));\n\t}\n\treturn function unescapexml(text/*:string*/, xlsx/*:boolean*/) {\n\t\tvar out = raw_unescapexml(text);\n\t\treturn xlsx ? out.replace(/\\r\\n/g, \"\\n\") : out;\n\t};\n})();\n\nvar decregex=/[&<>'\"]/g, charegex = /[\\u0000-\\u0008\\u000b-\\u001f\\uFFFE-\\uFFFF]/g;\nfunction escapexml(text/*:string*/)/*:string*/{\n\tvar s = text + '';\n\treturn s.replace(decregex, function(y) { return rencoding[y]; }).replace(charegex,function(s) { return \"_x\" + (\"000\"+s.charCodeAt(0).toString(16)).slice(-4) + \"_\";});\n}\nfunction escapexmltag(text/*:string*/)/*:string*/{ return escapexml(text).replace(/ /g,\"_x0020_\"); }\n\nvar htmlcharegex = /[\\u0000-\\u001f]/g;\nfunction escapehtml(text/*:string*/)/*:string*/{\n\tvar s = text + '';\n\treturn s.replace(decregex, function(y) { return rencoding[y]; }).replace(/\\n/g, \"<br/>\").replace(htmlcharegex,function(s) { return \"&#x\" + (\"000\"+s.charCodeAt(0).toString(16)).slice(-4) + \";\"; });\n}\n\nfunction escapexlml(text/*:string*/)/*:string*/{\n\tvar s = text + '';\n\treturn s.replace(decregex, function(y) { return rencoding[y]; }).replace(htmlcharegex,function(s) { return \"&#x\" + (s.charCodeAt(0).toString(16)).toUpperCase() + \";\"; });\n}\n\n/* TODO: handle codepages */\nvar xlml_fixstr/*:StringConv*/ = /*#__PURE__*/(function() {\n\tvar entregex = /&#(\\d+);/g;\n\tfunction entrepl($$/*:string*/,$1/*:string*/)/*:string*/ { return String.fromCharCode(parseInt($1,10)); }\n\treturn function xlml_fixstr(str/*:string*/)/*:string*/ { return str.replace(entregex,entrepl); };\n})();\nfunction xlml_unfixstr(str/*:string*/)/*:string*/ { return str.replace(/(\\r\\n|[\\r\\n])/g,\"\\&#10;\"); }\n\n/* note: xsd:boolean valid values: true / 1 / false / 0 */\nfunction parsexmlbool(value/*:any*/)/*:boolean*/ {\n\tswitch(value) {\n\t\tcase 1: case true:  case '1': case 'true':  return true;\n\t\tcase 0: case false: case '0': case 'false': return false;\n\t\t//default: throw new Error(\"Invalid xsd:boolean \" + value);\n\t}\n\treturn false;\n}\n\nfunction utf8reada(orig/*:string*/)/*:string*/ {\n\tvar out = \"\", i = 0, c = 0, d = 0, e = 0, f = 0, w = 0;\n\twhile (i < orig.length) {\n\t\tc = orig.charCodeAt(i++);\n\t\tif (c < 128) { out += String.fromCharCode(c); continue; }\n\t\td = orig.charCodeAt(i++);\n\t\tif (c>191 && c<224) { f = ((c & 31) << 6); f |= (d & 63); out += String.fromCharCode(f); continue; }\n\t\te = orig.charCodeAt(i++);\n\t\tif (c < 240) { out += String.fromCharCode(((c & 15) << 12) | ((d & 63) << 6) | (e & 63)); continue; }\n\t\tf = orig.charCodeAt(i++);\n\t\tw = (((c & 7) << 18) | ((d & 63) << 12) | ((e & 63) << 6) | (f & 63))-65536;\n\t\tout += String.fromCharCode(0xD800 + ((w>>>10)&1023));\n\t\tout += String.fromCharCode(0xDC00 + (w&1023));\n\t}\n\treturn out;\n}\n\nfunction utf8readb(data) {\n\tvar out = new_raw_buf(2*data.length), w, i, j = 1, k = 0, ww=0, c;\n\tfor(i = 0; i < data.length; i+=j) {\n\t\tj = 1;\n\t\tif((c=data.charCodeAt(i)) < 128) w = c;\n\t\telse if(c < 224) { w = (c&31)*64+(data.charCodeAt(i+1)&63); j=2; }\n\t\telse if(c < 240) { w=(c&15)*4096+(data.charCodeAt(i+1)&63)*64+(data.charCodeAt(i+2)&63); j=3; }\n\t\telse { j = 4;\n\t\t\tw = (c & 7)*262144+(data.charCodeAt(i+1)&63)*4096+(data.charCodeAt(i+2)&63)*64+(data.charCodeAt(i+3)&63);\n\t\t\tw -= 65536; ww = 0xD800 + ((w>>>10)&1023); w = 0xDC00 + (w&1023);\n\t\t}\n\t\tif(ww !== 0) { out[k++] = ww&255; out[k++] = ww>>>8; ww = 0; }\n\t\tout[k++] = w%256; out[k++] = w>>>8;\n\t}\n\treturn out.slice(0,k).toString('ucs2');\n}\n\nfunction utf8readc(data) { return Buffer_from(data, 'binary').toString('utf8'); }\n\nvar utf8corpus = \"foo bar baz\\u00e2\\u0098\\u0083\\u00f0\\u009f\\u008d\\u00a3\";\nvar utf8read = has_buf && (/*#__PURE__*/utf8readc(utf8corpus) == /*#__PURE__*/utf8reada(utf8corpus) && utf8readc || /*#__PURE__*/utf8readb(utf8corpus) == /*#__PURE__*/utf8reada(utf8corpus) && utf8readb) || utf8reada;\n\nvar utf8write/*:StringConv*/ = has_buf ? function(data) { return Buffer_from(data, 'utf8').toString(\"binary\"); } : function(orig/*:string*/)/*:string*/ {\n\tvar out/*:Array<string>*/ = [], i = 0, c = 0, d = 0;\n\twhile(i < orig.length) {\n\t\tc = orig.charCodeAt(i++);\n\t\tswitch(true) {\n\t\t\tcase c < 128: out.push(String.fromCharCode(c)); break;\n\t\t\tcase c < 2048:\n\t\t\t\tout.push(String.fromCharCode(192 + (c >> 6)));\n\t\t\t\tout.push(String.fromCharCode(128 + (c & 63)));\n\t\t\t\tbreak;\n\t\t\tcase c >= 55296 && c < 57344:\n\t\t\t\tc -= 55296; d = orig.charCodeAt(i++) - 56320 + (c<<10);\n\t\t\t\tout.push(String.fromCharCode(240 + ((d >>18) & 7)));\n\t\t\t\tout.push(String.fromCharCode(144 + ((d >>12) & 63)));\n\t\t\t\tout.push(String.fromCharCode(128 + ((d >> 6) & 63)));\n\t\t\t\tout.push(String.fromCharCode(128 + (d & 63)));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tout.push(String.fromCharCode(224 + (c >> 12)));\n\t\t\t\tout.push(String.fromCharCode(128 + ((c >> 6) & 63)));\n\t\t\t\tout.push(String.fromCharCode(128 + (c & 63)));\n\t\t}\n\t}\n\treturn out.join(\"\");\n};\n\nvar htmldecode/*:{(s:string):string}*/ = /*#__PURE__*/(function() {\n\tvar entities/*:Array<[RegExp, string]>*/ = [\n\t\t['nbsp', ' '], ['middot', ''],\n\t\t['quot', '\"'], ['apos', \"'\"], ['gt',   '>'], ['lt',   '<'], ['amp',  '&']\n\t].map(function(x/*:[string, string]*/) { return [new RegExp('&' + x[0] + ';', \"ig\"), x[1]]; });\n\treturn function htmldecode(str/*:string*/)/*:string*/ {\n\t\tvar o = str\n\t\t\t\t// Remove new lines and spaces from start of content\n\t\t\t\t.replace(/^[\\t\\n\\r ]+/, \"\")\n\t\t\t\t// Remove new lines and spaces from end of content\n\t\t\t\t.replace(/(^|[^\\t\\n\\r ])[\\t\\n\\r ]+$/,\"$1\")\n\t\t\t\t// Added line which removes any white space characters after and before html tags\n\t\t\t\t.replace(/>\\s+/g,\">\").replace(/\\b\\s+</g,\"<\")\n\t\t\t\t// Replace remaining new lines and spaces with space\n\t\t\t\t.replace(/[\\t\\n\\r ]+/g, \" \")\n\t\t\t\t// Replace <br> tags with new lines\n\t\t\t\t.replace(/<\\s*[bB][rR]\\s*\\/?>/g,\"\\n\")\n\t\t\t\t// Strip HTML elements\n\t\t\t\t.replace(/<[^<>]*>/g,\"\");\n\t\tfor(var i = 0; i < entities.length; ++i) o = o.replace(entities[i][0], entities[i][1]);\n\t\treturn o;\n\t};\n})();\n\nvar vtvregex = /<\\/?(?:vt:)?variant>/g, vtmregex = /<(?:vt:)([^<\"'>]*)>([\\s\\S]*)</;\nfunction parseVector(data/*:string*/, opts)/*:Array<{v:string,t:string}>*/ {\n\tvar h = parsexmltag(data);\n\n\tvar matches/*:Array<string>*/ = str_match_xml_ns_g(data, h.baseType)||[];\n\tvar res/*:Array<any>*/ = [];\n\tif(matches.length != h.size) {\n\t\tif(opts.WTF) throw new Error(\"unexpected vector length \" + matches.length + \" != \" + h.size);\n\t\treturn res;\n\t}\n\tmatches.forEach(function(x/*:string*/) {\n\t\tvar v = x.replace(vtvregex,\"\").match(vtmregex);\n\t\tif(v) res.push({v:utf8read(v[2]), t:v[1]});\n\t});\n\treturn res;\n}\n\nvar wtregex = /(^\\s|\\s$|\\n)/;\nfunction writetag(f/*:string*/,g/*:string*/)/*:string*/ { return '<' + f + (g.match(wtregex)?' xml:space=\"preserve\"' : \"\") + '>' + g + '</' + f + '>'; }\n\nfunction wxt_helper(h)/*:string*/ { return keys(h).map(function(k) { return \" \" + k + '=\"' + h[k] + '\"';}).join(\"\"); }\nfunction writextag(f/*:string*/,g/*:?string*/,h) { return '<' + f + ((h != null) ? wxt_helper(h) : \"\") + ((g != null) ? (g.match(wtregex)?' xml:space=\"preserve\"' : \"\") + '>' + g + '</' + f : \"/\") + '>';}\n\nfunction write_w3cdtf(d/*:Date*/, t/*:?boolean*/)/*:string*/ { try { return d.toISOString().replace(/\\.\\d*/,\"\"); } catch(e) { if(t) throw e; } return \"\"; }\n\nfunction write_vt(s, xlsx/*:?boolean*/)/*:string*/ {\n\tswitch(typeof s) {\n\t\tcase 'string':\n\t\t\tvar o = writextag('vt:lpwstr', escapexml(s));\n\t\t\tif(xlsx) o = o.replace(/&quot;/g, \"_x0022_\");\n\t\t\treturn o;\n\t\tcase 'number': return writextag((s|0)==s?'vt:i4':'vt:r8', escapexml(String(s)));\n\t\tcase 'boolean': return writextag('vt:bool',s?'true':'false');\n\t}\n\tif(s instanceof Date) return writextag('vt:filetime', write_w3cdtf(s));\n\tthrow new Error(\"Unable to serialize \" + s);\n}\n\nfunction xlml_normalize(d)/*:string*/ {\n\tif(has_buf &&/*::typeof Buffer !== \"undefined\" && d != null && d instanceof Buffer &&*/ Buffer.isBuffer(d)) return d.toString('utf8');\n\tif(typeof d === 'string') return d;\n\t/* duktape */\n\tif(typeof Uint8Array !== 'undefined' && d instanceof Uint8Array) return utf8read(a2s(ab2a(d)));\n\tthrow new Error(\"Bad input format: expected Buffer or string\");\n}\n/* UOS uses CJK in tags, ODS uses invalid XML */\nvar xlmlregex = /<([\\/]?)([^\\s?><!\\/:\"]*:|)([^\\s?<>:\\/\"]+)(?:\\s+[^<>=?\"'\\s]+=\"[^\"]*?\")*\\s*[\\/]?>/mg;\n\nvar XMLNS = ({\n\tCORE_PROPS: 'http://schemas.openxmlformats.org/package/2006/metadata/core-properties',\n\tCUST_PROPS: \"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties\",\n\tEXT_PROPS: \"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\",\n\tCT: 'http://schemas.openxmlformats.org/package/2006/content-types',\n\tRELS: 'http://schemas.openxmlformats.org/package/2006/relationships',\n\tTCMNT: 'http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments',\n\t'dc': 'http://purl.org/dc/elements/1.1/',\n\t'dcterms': 'http://purl.org/dc/terms/',\n\t'dcmitype': 'http://purl.org/dc/dcmitype/',\n\t'mx': 'http://schemas.microsoft.com/office/mac/excel/2008/main',\n\t'r': 'http://schemas.openxmlformats.org/officeDocument/2006/relationships',\n\t'sjs': 'http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties',\n\t'vt': 'http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes',\n\t'xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n\t'xsd': 'http://www.w3.org/2001/XMLSchema'\n}/*:any*/);\n\nvar XMLNS_main = [\n\t'http://schemas.openxmlformats.org/spreadsheetml/2006/main',\n\t'http://purl.oclc.org/ooxml/spreadsheetml/main',\n\t'http://schemas.microsoft.com/office/excel/2006/main',\n\t'http://schemas.microsoft.com/office/excel/2006/2'\n];\n\nvar XLMLNS = ({\n\t'o':    'urn:schemas-microsoft-com:office:office',\n\t'x':    'urn:schemas-microsoft-com:office:excel',\n\t'ss':   'urn:schemas-microsoft-com:office:spreadsheet',\n\t'dt':   'uuid:C2F41010-65B3-11d1-A29F-00AA00C14882',\n\t'mv':   'http://macVmlSchemaUri',\n\t'v':    'urn:schemas-microsoft-com:vml',\n\t'html': 'http://www.w3.org/TR/REC-html40'\n}/*:any*/);\nfunction read_double_le(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ {\n\tvar s = 1 - 2 * (b[idx + 7] >>> 7);\n\tvar e = ((b[idx + 7] & 0x7f) << 4) + ((b[idx + 6] >>> 4) & 0x0f);\n\tvar m = (b[idx+6]&0x0f);\n\tfor(var i = 5; i >= 0; --i) m = m * 256 + b[idx + i];\n\tif(e == 0x7ff) return m == 0 ? (s * Infinity) : NaN;\n\tif(e == 0) e = -1022;\n\telse { e -= 1023; m += Math.pow(2,52); }\n\treturn s * Math.pow(2, e - 52) * m;\n}\n\nfunction write_double_le(b/*:RawBytes|CFBlob*/, v/*:number*/, idx/*:number*/) {\n\tvar bs = ((((v < 0) || (1/v == -Infinity)) ? 1 : 0) << 7), e = 0, m = 0;\n\tvar av = bs ? (-v) : v;\n\tif(!isFinite(av)) { e = 0x7ff; m = isNaN(v) ? 0x6969 : 0; }\n\telse if(av == 0) e = m = 0;\n\telse {\n\t\te = Math.floor(Math.log(av) / Math.LN2);\n\t\tm = av * Math.pow(2, 52 - e);\n\t\tif((e <= -1023) && (!isFinite(m) || (m < Math.pow(2,52)))) { e = -1022; }\n\t\telse { m -= Math.pow(2,52); e+=1023; }\n\t}\n\tfor(var i = 0; i <= 5; ++i, m/=256) b[idx + i] = m & 0xff;\n\tb[idx + 6] = ((e & 0x0f) << 4) | (m & 0xf);\n\tb[idx + 7] = (e >> 4) | bs;\n}\n\nvar ___toBuffer = function(bufs/*:Array<Array<RawBytes> >*/)/*:RawBytes*/ { var x=[],w=10240; for(var i=0;i<bufs[0].length;++i) if(bufs[0][i]) for(var j=0,L=bufs[0][i].length;j<L;j+=w) x.push.apply(x, bufs[0][i].slice(j,j+w)); return x; };\nvar __toBuffer = has_buf ? function(bufs) { return (bufs[0].length > 0 && Buffer.isBuffer(bufs[0][0])) ? Buffer.concat(bufs[0].map(function(x) { return Buffer.isBuffer(x) ? x : Buffer_from(x); })) : ___toBuffer(bufs);} : ___toBuffer;\n\nvar ___utf16le = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/)/*:string*/ { var ss/*:Array<string>*/=[]; for(var i=s; i<e; i+=2) ss.push(String.fromCharCode(__readUInt16LE(b,i))); return ss.join(\"\").replace(chr0,''); };\nvar __utf16le = has_buf ? function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/)/*:string*/ { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/ || !buf_utf16le) return ___utf16le(b,s,e); return b.toString('utf16le',s,e).replace(chr0,'')/*.replace(chr1,'!')*/; } : ___utf16le;\n\nvar ___hexlify = function(b/*:RawBytes|CFBlob*/,s/*:number*/,l/*:number*/)/*:string*/ { var ss/*:Array<string>*/=[]; for(var i=s; i<s+l; ++i) ss.push((\"0\" + b[i].toString(16)).slice(-2)); return ss.join(\"\"); };\nvar __hexlify = has_buf ? function(b/*:RawBytes|CFBlob*/,s/*:number*/,l/*:number*/)/*:string*/ { return Buffer.isBuffer(b)/*:: && b instanceof Buffer*/ ? b.toString('hex',s,s+l) : ___hexlify(b,s,l); } : ___hexlify;\n\nvar ___utf8 = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/) { var ss=[]; for(var i=s; i<e; i++) ss.push(String.fromCharCode(__readUInt8(b,i))); return ss.join(\"\"); };\nvar __utf8 = has_buf ? function utf8_b(b/*:RawBytes|CFBlob*/, s/*:number*/, e/*:number*/) { return (Buffer.isBuffer(b)/*:: && (b instanceof Buffer)*/) ? b.toString('utf8',s,e) : ___utf8(b,s,e); } : ___utf8;\n\nvar ___lpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : \"\";};\nvar __lpstr = ___lpstr;\n\nvar ___cpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : \"\";};\nvar __cpstr = ___cpstr;\n\nvar ___lpwstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = 2*__readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : \"\";};\nvar __lpwstr = ___lpwstr;\n\nvar ___lpp4 = function lpp4_(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf16le(b, i+4,i+4+len) : \"\";};\nvar __lpp4 = ___lpp4;\n\nvar ___8lpp4 = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len) : \"\";};\nvar __8lpp4 = ___8lpp4;\n\nvar ___double = function(b/*:RawBytes|CFBlob*/, idx/*:number*/) { return read_double_le(b, idx);};\nvar __double = ___double;\n\nvar is_buf = function is_buf_a(a) { return Array.isArray(a) || (typeof Uint8Array !== \"undefined\" && a instanceof Uint8Array); };\n\nif(has_buf/*:: && typeof Buffer !== 'undefined'*/) {\n\t__lpstr = function lpstr_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___lpstr(b, i); var len = b.readUInt32LE(i); return len > 0 ? b.toString('utf8',i+4,i+4+len-1) : \"\";};\n\t__cpstr = function cpstr_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___cpstr(b, i); var len = b.readUInt32LE(i); return len > 0 ? b.toString('utf8',i+4,i+4+len-1) : \"\";};\n\t__lpwstr = function lpwstr_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/ || !buf_utf16le) return ___lpwstr(b, i); var len = 2*b.readUInt32LE(i); return b.toString('utf16le',i+4,i+4+len-1);};\n\t__lpp4 = function lpp4_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/ || !buf_utf16le) return ___lpp4(b, i); var len = b.readUInt32LE(i); return b.toString('utf16le',i+4,i+4+len);};\n\t__8lpp4 = function lpp4_8b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___8lpp4(b, i); var len = b.readUInt32LE(i); return b.toString('utf8',i+4,i+4+len);};\n\t__double = function double_(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(Buffer.isBuffer(b)/*::&& b instanceof Buffer*/) return b.readDoubleLE(i); return ___double(b,i); };\n\tis_buf = function is_buf_b(a) { return Buffer.isBuffer(a) || Array.isArray(a) || (typeof Uint8Array !== \"undefined\" && a instanceof Uint8Array); };\n}\n\n/* from js-xls */\nfunction cpdoit() {\n\t__utf16le = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/) { return $cptable.utils.decode(1200, b.slice(s,e)).replace(chr0, ''); };\n\t__utf8 = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/) { return $cptable.utils.decode(65001, b.slice(s,e)); };\n\t__lpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(current_ansi, b.slice(i+4, i+4+len-1)) : \"\";};\n\t__cpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(current_codepage, b.slice(i+4, i+4+len-1)) : \"\";};\n\t__lpwstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = 2*__readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(1200, b.slice(i+4,i+4+len-1)) : \"\";};\n\t__lpp4 = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(1200, b.slice(i+4,i+4+len)) : \"\";};\n\t__8lpp4 = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(65001, b.slice(i+4,i+4+len)) : \"\";};\n}\nif(typeof $cptable !== 'undefined') cpdoit();\n\nvar __readUInt8 = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return b[idx]; };\nvar __readUInt16LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return (b[idx+1]*(1<<8))+b[idx]; };\nvar __readInt16LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { var u = (b[idx+1]*(1<<8))+b[idx]; return (u < 0x8000) ? u : ((0xffff - u + 1) * -1); };\nvar __readUInt32LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return b[idx+3]*(1<<24)+(b[idx+2]<<16)+(b[idx+1]<<8)+b[idx]; };\nvar __readInt32LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return (b[idx+3]<<24)|(b[idx+2]<<16)|(b[idx+1]<<8)|b[idx]; };\nvar __readInt32BE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return (b[idx]<<24)|(b[idx+1]<<16)|(b[idx+2]<<8)|b[idx+3]; };\n\nfunction ReadShift(size/*:number*/, t/*:?string*/)/*:number|string*/ {\n\tvar o=\"\", oI/*:: :number = 0*/, oR, oo=[], w, vv, i, loc;\n\tswitch(t) {\n\t\tcase 'dbcs':\n\t\t\tloc = this.l;\n\t\t\tif(has_buf && Buffer.isBuffer(this)  && buf_utf16le) o = this.slice(this.l, this.l+2*size).toString(\"utf16le\");\n\t\t\telse for(i = 0; i < size; ++i) { o+=String.fromCharCode(__readUInt16LE(this, loc)); loc+=2; }\n\t\t\tsize *= 2;\n\t\t\tbreak;\n\n\t\tcase 'utf8': o = __utf8(this, this.l, this.l + size); break;\n\t\tcase 'utf16le': size *= 2; o = __utf16le(this, this.l, this.l + size); break;\n\n\t\tcase 'wstr':\n\t\t\tif(typeof $cptable !== 'undefined') o = $cptable.utils.decode(current_codepage, this.slice(this.l, this.l+2*size));\n\t\t\telse return ReadShift.call(this, size, 'dbcs');\n\t\t\tsize = 2 * size; break;\n\n\t\t/* [MS-OLEDS] 2.1.4 LengthPrefixedAnsiString */\n\t\tcase 'lpstr-ansi': o = __lpstr(this, this.l); size = 4 + __readUInt32LE(this, this.l); break;\n\t\tcase 'lpstr-cp': o = __cpstr(this, this.l); size = 4 + __readUInt32LE(this, this.l); break;\n\t\t/* [MS-OLEDS] 2.1.5 LengthPrefixedUnicodeString */\n\t\tcase 'lpwstr': o = __lpwstr(this, this.l); size = 4 + 2 * __readUInt32LE(this, this.l); break;\n\t\t/* [MS-OFFCRYPTO] 2.1.2 Length-Prefixed Padded Unicode String (UNICODE-LP-P4) */\n\t\tcase 'lpp4': size = 4 +  __readUInt32LE(this, this.l); o = __lpp4(this, this.l); if(size & 0x02) size += 2; break;\n\t\t/* [MS-OFFCRYPTO] 2.1.3 Length-Prefixed UTF-8 String (UTF-8-LP-P4) */\n\t\tcase '8lpp4': size = 4 +  __readUInt32LE(this, this.l); o = __8lpp4(this, this.l); if(size & 0x03) size += 4 - (size & 0x03); break;\n\n\t\tcase 'cstr': size = 0; o = \"\";\n\t\t\twhile((w=__readUInt8(this, this.l + size++))!==0) oo.push(_getchar(w));\n\t\t\to = oo.join(\"\"); break;\n\t\tcase '_wstr': size = 0; o = \"\";\n\t\t\twhile((w=__readUInt16LE(this,this.l +size))!==0){oo.push(_getchar(w));size+=2;}\n\t\t\tsize+=2; o = oo.join(\"\"); break;\n\n\t\t/* sbcs and dbcs support continue records in the SST way TODO codepages */\n\t\tcase 'dbcs-cont': o = \"\"; loc = this.l;\n\t\t\tfor(i = 0; i < size; ++i) {\n\t\t\t\tif(this.lens && this.lens.indexOf(loc) !== -1) {\n\t\t\t\t\tw = __readUInt8(this, loc);\n\t\t\t\t\tthis.l = loc + 1;\n\t\t\t\t\tvv = ReadShift.call(this, size-i, w ? 'dbcs-cont' : 'sbcs-cont');\n\t\t\t\t\treturn oo.join(\"\") + vv;\n\t\t\t\t}\n\t\t\t\too.push(_getchar(__readUInt16LE(this, loc)));\n\t\t\t\tloc+=2;\n\t\t\t} o = oo.join(\"\"); size *= 2; break;\n\n\t\tcase 'cpstr':\n\t\t\tif(typeof $cptable !== 'undefined') {\n\t\t\t\to = $cptable.utils.decode(current_codepage, this.slice(this.l, this.l + size));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t/* falls through */\n\t\tcase 'sbcs-cont': o = \"\"; loc = this.l;\n\t\t\tfor(i = 0; i != size; ++i) {\n\t\t\t\tif(this.lens && this.lens.indexOf(loc) !== -1) {\n\t\t\t\t\tw = __readUInt8(this, loc);\n\t\t\t\t\tthis.l = loc + 1;\n\t\t\t\t\tvv = ReadShift.call(this, size-i, w ? 'dbcs-cont' : 'sbcs-cont');\n\t\t\t\t\treturn oo.join(\"\") + vv;\n\t\t\t\t}\n\t\t\t\too.push(_getchar(__readUInt8(this, loc)));\n\t\t\t\tloc+=1;\n\t\t\t} o = oo.join(\"\"); break;\n\n\t\tdefault:\n\tswitch(size) {\n\t\tcase 1: oI = __readUInt8(this, this.l); this.l++; return oI;\n\t\tcase 2: oI = (t === 'i' ? __readInt16LE : __readUInt16LE)(this, this.l); this.l += 2; return oI;\n\t\tcase 4: case -4:\n\t\t\tif(t === 'i' || ((this[this.l+3] & 0x80)===0)) { oI = ((size > 0) ? __readInt32LE : __readInt32BE)(this, this.l); this.l += 4; return oI; }\n\t\t\telse { oR = __readUInt32LE(this, this.l); this.l += 4; } return oR;\n\t\tcase 8: case -8:\n\t\t\tif(t === 'f') {\n\t\t\t\tif(size == 8) oR = __double(this, this.l);\n\t\t\t\telse oR = __double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]], 0);\n\t\t\t\tthis.l += 8; return oR;\n\t\t\t} else size = 8;\n\t\t/* falls through */\n\t\tcase 16: o = __hexlify(this, this.l, size); break;\n\t}}\n\tthis.l+=size; return o;\n}\n\nvar __writeUInt32LE = function(b/*:RawBytes|CFBlob*/, val/*:number*/, idx/*:number*/)/*:void*/ { b[idx] = (val & 0xFF); b[idx+1] = ((val >>> 8) & 0xFF); b[idx+2] = ((val >>> 16) & 0xFF); b[idx+3] = ((val >>> 24) & 0xFF); };\nvar __writeInt32LE  = function(b/*:RawBytes|CFBlob*/, val/*:number*/, idx/*:number*/)/*:void*/ { b[idx] = (val & 0xFF); b[idx+1] = ((val >> 8) & 0xFF); b[idx+2] = ((val >> 16) & 0xFF); b[idx+3] = ((val >> 24) & 0xFF); };\nvar __writeUInt16LE = function(b/*:RawBytes|CFBlob*/, val/*:number*/, idx/*:number*/)/*:void*/ { b[idx] = (val & 0xFF); b[idx+1] = ((val >>> 8) & 0xFF); };\n\nfunction WriteShift(t/*:number*/, val/*:string|number*/, f/*:?string*/)/*:any*/ {\n\tvar size = 0, i = 0;\n\tif(f === 'dbcs') {\n\t\t/*:: if(typeof val !== 'string') throw new Error(\"unreachable\"); */\n\t\tfor(i = 0; i != val.length; ++i) __writeUInt16LE(this, val.charCodeAt(i), this.l + 2 * i);\n\t\tsize = 2 * val.length;\n\t} else if(f === 'sbcs' || f == 'cpstr') {\n\t\tif(typeof $cptable !== 'undefined' && current_ansi == 874) {\n\t\t\t/* TODO: use tables directly, don't encode */\n\t\t\t/*:: if(typeof val !== \"string\") throw new Error(\"unreachable\"); */\n\t\t\tfor(i = 0; i != val.length; ++i) {\n\t\t\t\tvar cpp = $cptable.utils.encode(current_ansi, val.charAt(i));\n\t\t\t\tthis[this.l + i] = cpp[0];\n\t\t\t}\n\t\t\tsize = val.length;\n\t\t} else if(typeof $cptable !== 'undefined' && f == 'cpstr') {\n\t\t\tcpp = $cptable.utils.encode(current_codepage, val);\n\t\t\t/* replace null bytes with _ when relevant */\n      if(cpp.length == val.length) for(i = 0; i < val.length; ++i) if(cpp[i] == 0 && val.charCodeAt(i) != 0) cpp[i] = 0x5F;\n      if(cpp.length == 2 * val.length) for(i = 0; i < val.length; ++i) if(cpp[2*i] == 0 && cpp[2*i+1] == 0 && val.charCodeAt(i) != 0) cpp[2*i] = 0x5F;\n\t\t\tfor(i = 0; i < cpp.length; ++i) this[this.l + i] = cpp[i];\n\t\t\tsize = cpp.length;\n\t\t} else {\n\t\t\t/*:: if(typeof val !== 'string') throw new Error(\"unreachable\"); */\n\t\t\tval = val.replace(/[^\\x00-\\x7F]/g, \"_\");\n\t\t\t/*:: if(typeof val !== 'string') throw new Error(\"unreachable\"); */\n\t\t\tfor(i = 0; i != val.length; ++i) this[this.l + i] = (val.charCodeAt(i) & 0xFF);\n\t\t\tsize = val.length;\n\t\t}\n\t} else if(f === 'hex') {\n\t\tfor(; i < t; ++i) {\n\t\t\t/*:: if(typeof val !== \"string\") throw new Error(\"unreachable\"); */\n\t\t\tthis[this.l++] = (parseInt(val.slice(2*i, 2*i+2), 16)||0);\n\t\t} return this;\n\t} else if(f === 'utf16le') {\n\t\t\t/*:: if(typeof val !== \"string\") throw new Error(\"unreachable\"); */\n\t\t\tvar end/*:number*/ = Math.min(this.l + t, this.length);\n\t\t\tfor(i = 0; i < Math.min(val.length, t); ++i) {\n\t\t\t\tvar cc = val.charCodeAt(i);\n\t\t\t\tthis[this.l++] = (cc & 0xff);\n\t\t\t\tthis[this.l++] = (cc >> 8);\n\t\t\t}\n\t\t\twhile(this.l < end) this[this.l++] = 0;\n\t\t\treturn this;\n\t} else /*:: if(typeof val === 'number') */ switch(t) {\n\t\tcase  1: size = 1; this[this.l] = val&0xFF; break;\n\t\tcase  2: size = 2; this[this.l] = val&0xFF; val >>>= 8; this[this.l+1] = val&0xFF; break;\n\t\tcase  3: size = 3; this[this.l] = val&0xFF; val >>>= 8; this[this.l+1] = val&0xFF; val >>>= 8; this[this.l+2] = val&0xFF; break;\n\t\tcase  4: size = 4; __writeUInt32LE(this, val, this.l); break;\n\t\tcase  8: size = 8; if(f === 'f') { write_double_le(this, val, this.l); break; }\n\t\t/* falls through */\n\t\tcase 16: break;\n\t\tcase -4: size = 4; __writeInt32LE(this, val, this.l); break;\n\t}\n\tthis.l += size; return this;\n}\n\nfunction CheckField(hexstr/*:string*/, fld/*:string*/)/*:void*/ {\n\tvar m = __hexlify(this,this.l,hexstr.length>>1);\n\tif(m !== hexstr) throw new Error(fld + 'Expected ' + hexstr + ' saw ' + m);\n\tthis.l += hexstr.length>>1;\n}\n\nfunction prep_blob(blob, pos/*:number*/)/*:void*/ {\n\tblob.l = pos;\n\tblob.read_shift = /*::(*/ReadShift/*:: :any)*/;\n\tblob.chk = CheckField;\n\tblob.write_shift = WriteShift;\n}\n\nfunction parsenoop(blob, length/*:: :number, opts?:any */) { blob.l += length; }\n\nfunction new_buf(sz/*:number*/)/*:Block*/ {\n\tvar o = new_raw_buf(sz);\n\tprep_blob(o, 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.1.4 Record */\nfunction recordhopper(data, cb/*:RecordHopperCB*/, opts/*:?any*/) {\n\tif(!data) return;\n\tvar tmpbyte, cntbyte, length;\n\tprep_blob(data, data.l || 0);\n\tvar L = data.length, RT = 0, tgt = 0;\n\twhile(data.l < L) {\n\t\tRT = data.read_shift(1);\n\t\tif(RT & 0x80) RT = (RT & 0x7F) + ((data.read_shift(1) & 0x7F)<<7);\n\t\tvar R = XLSBRecordEnum[RT] || XLSBRecordEnum[0xFFFF];\n\t\ttmpbyte = data.read_shift(1);\n\t\tlength = tmpbyte & 0x7F;\n\t\tfor(cntbyte = 1; cntbyte <4 && (tmpbyte & 0x80); ++cntbyte) length += ((tmpbyte = data.read_shift(1)) & 0x7F)<<(7*cntbyte);\n\t\ttgt = data.l + length;\n\t\tvar d = R.f && R.f(data, length, opts);\n\t\tdata.l = tgt;\n\t\tif(cb(d, R, RT)) return;\n\t}\n}\n\n/* control buffer usage for fixed-length buffers */\nfunction buf_array()/*:BufArray*/ {\n\tvar bufs/*:Array<Block>*/ = [], blksz = has_buf ? 16384 : 2048;\n\tvar has_buf_copy = has_buf && (typeof new_buf(blksz).copy == \"function\");\n\tvar newblk = function ba_newblk(sz/*:number*/)/*:Block*/ {\n\t\tvar o/*:Block*/ = (new_buf(sz)/*:any*/);\n\t\tprep_blob(o, 0);\n\t\treturn o;\n\t};\n\n\tvar curbuf/*:Block*/ = newblk(blksz);\n\n\tvar endbuf = function ba_endbuf() {\n\t\tif(!curbuf) return;\n\t\t// workaround for new Buffer(3).slice(0,0) bug in bun 0.1.3\n\t\tif(curbuf.l) {\n\t\t\tif(curbuf.length > curbuf.l) { curbuf = curbuf.slice(0, curbuf.l); curbuf.l = curbuf.length; }\n\t\t\tif(curbuf.length > 0) bufs.push(curbuf);\n\t\t}\n\t\tcurbuf = null;\n\t};\n\n\tvar next = function ba_next(sz/*:number*/)/*:Block*/ {\n\t\tif(curbuf && (sz < (curbuf.length - curbuf.l))) return curbuf;\n\t\tendbuf();\n\t\treturn (curbuf = newblk(Math.max(sz+1, blksz)));\n\t};\n\n\tvar end = function ba_end() {\n\t\tendbuf();\n\t\treturn bconcat(bufs);\n\t};\n\tvar end2 = function() {\n\t\tendbuf(); return bufs;\n\t};\n\n\tvar push = function ba_push(buf) {\n\t\tendbuf(); curbuf = buf; if(curbuf.l == null) curbuf.l = curbuf.length; next(blksz);\n\t};\n\n\treturn ({ next:next, push:push, end:end, _bufs:bufs, end2:end2 }/*:any*/);\n}\n\nfunction write_record(ba/*:BufArray*/, type/*:number*/, payload, length/*:?number*/) {\n\tvar t/*:number*/ = +type, l;\n\tif(isNaN(t)) return; // TODO: throw something here?\n\tif(!length) length = XLSBRecordEnum[t].p || (payload||[]).length || 0;\n\tl = 1 + (t >= 0x80 ? 1 : 0) + 1/* + length*/;\n\tif(length >= 0x80) ++l; if(length >= 0x4000) ++l; if(length >= 0x200000) ++l;\n\tvar o = ba.next(l);\n\tif(t <= 0x7F) o.write_shift(1, t);\n\telse {\n\t\to.write_shift(1, (t & 0x7F) + 0x80);\n\t\to.write_shift(1, (t >> 7));\n\t}\n\tfor(var i = 0; i != 4; ++i) {\n\t\tif(length >= 0x80) { o.write_shift(1, (length & 0x7F)+0x80); length >>= 7; }\n\t\telse { o.write_shift(1, length); break; }\n\t}\n\tif(/*:: length != null &&*/length > 0 && is_buf(payload)) ba.push(payload);\n}\n/* XLS ranges enforced */\nfunction shift_cell_xls(cell/*:CellAddress*/, tgt/*:any*/, opts/*:?any*/)/*:CellAddress*/ {\n\tvar out = dup(cell);\n\tif(tgt.s) {\n\t\tif(out.cRel) out.c += tgt.s.c;\n\t\tif(out.rRel) out.r += tgt.s.r;\n\t} else {\n\t\tif(out.cRel) out.c += tgt.c;\n\t\tif(out.rRel) out.r += tgt.r;\n\t}\n\tif(!opts || opts.biff < 12) {\n\t\twhile(out.c >= 0x100) out.c -= 0x100;\n\t\twhile(out.r >= 0x10000) out.r -= 0x10000;\n\t}\n\treturn out;\n}\n\nfunction shift_range_xls(cell, range, opts) {\n\tvar out = dup(cell);\n\tout.s = shift_cell_xls(out.s, range.s, opts);\n\tout.e = shift_cell_xls(out.e, range.s, opts);\n\treturn out;\n}\n\nfunction encode_cell_xls(c/*:CellAddress*/, biff/*:number*/)/*:string*/ {\n\tif(c.cRel && c.c < 0) { c = dup(c); while(c.c < 0) c.c += (biff > 8) ? 0x4000 : 0x100; }\n\tif(c.rRel && c.r < 0) { c = dup(c); while(c.r < 0) c.r += (biff > 8) ? 0x100000 : ((biff > 5) ? 0x10000 : 0x4000); }\n\tvar s = encode_cell(c);\n\tif(!c.cRel && c.cRel != null) s = fix_col(s);\n\tif(!c.rRel && c.rRel != null) s = fix_row(s);\n\treturn s;\n}\n\nfunction encode_range_xls(r, opts)/*:string*/ {\n\tif(r.s.r == 0 && !r.s.rRel) {\n\t\tif(r.e.r == (opts.biff >= 12 ? 0xFFFFF : (opts.biff >= 8 ? 0x10000 : 0x4000)) && !r.e.rRel) {\n\t\t\treturn (r.s.cRel ? \"\" : \"$\") + encode_col(r.s.c) + \":\" + (r.e.cRel ? \"\" : \"$\") + encode_col(r.e.c);\n\t\t}\n\t}\n\tif(r.s.c == 0 && !r.s.cRel) {\n\t\tif(r.e.c == (opts.biff >= 12 ? 0x3FFF : 0xFF) && !r.e.cRel) {\n\t\t\treturn (r.s.rRel ? \"\" : \"$\") + encode_row(r.s.r) + \":\" + (r.e.rRel ? \"\" : \"$\") + encode_row(r.e.r);\n\t\t}\n\t}\n\treturn encode_cell_xls(r.s, opts.biff) + \":\" + encode_cell_xls(r.e, opts.biff);\n}\nfunction decode_row(rowstr/*:string*/)/*:number*/ { return parseInt(unfix_row(rowstr),10) - 1; }\nfunction encode_row(row/*:number*/)/*:string*/ { return \"\" + (row + 1); }\nfunction fix_row(cstr/*:string*/)/*:string*/ { return cstr.replace(/([A-Z]|^)(\\d+)$/,\"$1$$$2\"); }\nfunction unfix_row(cstr/*:string*/)/*:string*/ { return cstr.replace(/\\$(\\d+)$/,\"$1\"); }\n\nfunction decode_col(colstr/*:string*/)/*:number*/ { var c = unfix_col(colstr), d = 0, i = 0; for(; i !== c.length; ++i) d = 26*d + c.charCodeAt(i) - 64; return d - 1; }\nfunction encode_col(col/*:number*/)/*:string*/ { if(col < 0) throw new Error(\"invalid column \" + col); var s=\"\"; for(++col; col; col=Math.floor((col-1)/26)) s = String.fromCharCode(((col-1)%26) + 65) + s; return s; }\nfunction fix_col(cstr/*:string*/)/*:string*/ { return cstr.replace(/^([A-Z])/,\"$$$1\"); }\nfunction unfix_col(cstr/*:string*/)/*:string*/ { return cstr.replace(/^\\$([A-Z])/,\"$1\"); }\n\nfunction split_cell(cstr/*:string*/)/*:Array<string>*/ { return cstr.replace(/(\\$?[A-Z]*)(\\$?\\d*)/,\"$1,$2\").split(\",\"); }\nfunction decode_cell(cstr/*:string*/)/*:CellAddress*/ {\n\tvar R = 0, C = 0;\n\tfor(var i = 0; i < cstr.length; ++i) {\n\t\tvar cc = cstr.charCodeAt(i);\n\t\tif(cc >= 48 && cc <= 57) R = 10 * R + (cc - 48);\n\t\telse if(cc >= 65 && cc <= 90) C = 26 * C + (cc - 64);\n\t}\n\treturn { c: C - 1, r:R - 1 };\n}\nfunction encode_cell(cell/*:CellAddress*/)/*:string*/ {\n\tvar col = cell.c + 1;\n\tvar s=\"\";\n\tfor(; col; col=((col-1)/26)|0) s = String.fromCharCode(((col-1)%26) + 65) + s;\n\treturn s + (cell.r + 1);\n}\nfunction decode_range(range/*:string*/)/*:Range*/ {\n\tvar idx = range.indexOf(\":\");\n\tif(idx == -1) return { s: decode_cell(range), e: decode_cell(range) };\n\treturn { s: decode_cell(range.slice(0, idx)), e: decode_cell(range.slice(idx + 1)) };\n}\n/*# if only one arg, it is assumed to be a Range.  If 2 args, both are cell addresses */\nfunction encode_range(cs/*:CellAddrSpec|Range*/,ce/*:?CellAddrSpec*/)/*:string*/ {\n\tif(typeof ce === 'undefined' || typeof ce === 'number') {\n/*:: if(!(cs instanceof Range)) throw \"unreachable\"; */\n\t\treturn encode_range(cs.s, cs.e);\n\t}\n/*:: if((cs instanceof Range)) throw \"unreachable\"; */\n\tif(typeof cs !== 'string') cs = encode_cell((cs/*:any*/));\n\tif(typeof ce !== 'string') ce = encode_cell((ce/*:any*/));\n/*:: if(typeof cs !== 'string') throw \"unreachable\"; */\n/*:: if(typeof ce !== 'string') throw \"unreachable\"; */\n\treturn cs == ce ? cs : cs + \":\" + ce;\n}\nfunction fix_range(a1/*:string*/)/*:string*/ {\n\tvar s = decode_range(a1);\n\treturn \"$\" + encode_col(s.s.c) + \"$\" + encode_row(s.s.r) + \":$\" + encode_col(s.e.c) + \"$\" + encode_row(s.e.r);\n}\n\n// List of invalid characters needs to be tested further\nfunction formula_quote_sheet_name(sname/*:string*/, opts)/*:string*/ {\n\tif(!sname && !(opts && opts.biff <= 5 && opts.biff >= 2)) throw new Error(\"empty sheet name\");\n\tif (/[^\\w\\u4E00-\\u9FFF\\u3040-\\u30FF]/.test(sname)) return \"'\" + sname.replace(/'/g, \"''\") + \"'\";\n\treturn sname;\n}\n\nfunction safe_decode_range(range/*:string*/)/*:Range*/ {\n\tvar o = {s:{c:0,r:0},e:{c:0,r:0}};\n\tvar idx = 0, i = 0, cc = 0;\n\tvar len = range.length;\n\tfor(idx = 0; i < len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-64) < 1 || cc > 26) break;\n\t\tidx = 26*idx + cc;\n\t}\n\to.s.c = --idx;\n\n\tfor(idx = 0; i < len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-48) < 0 || cc > 9) break;\n\t\tidx = 10*idx + cc;\n\t}\n\to.s.r = --idx;\n\n\tif(i === len || cc != 10) { o.e.c=o.s.c; o.e.r=o.s.r; return o; }\n\t++i;\n\n\tfor(idx = 0; i != len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-64) < 1 || cc > 26) break;\n\t\tidx = 26*idx + cc;\n\t}\n\to.e.c = --idx;\n\n\tfor(idx = 0; i != len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-48) < 0 || cc > 9) break;\n\t\tidx = 10*idx + cc;\n\t}\n\to.e.r = --idx;\n\treturn o;\n}\n\nfunction safe_format_cell(cell/*:Cell*/, v/*:any*/) {\n\tvar q = (cell.t == 'd' && v instanceof Date);\n\tif(cell.z != null) try { return (cell.w = SSF_format(cell.z, q ? datenum(v) : v)); } catch(e) { }\n\ttry { return (cell.w = SSF_format((cell.XF||{}).numFmtId||(q ? 14 : 0),  q ? datenum(v) : v)); } catch(e) { return ''+v; }\n}\n\nfunction format_cell(cell/*:Cell*/, v/*:any*/, o/*:any*/) {\n\tif(cell == null || cell.t == null || cell.t == 'z') return \"\";\n\tif(cell.w !== undefined) return cell.w;\n\tif(cell.t == 'd' && !cell.z && o && o.dateNF) cell.z = o.dateNF;\n\tif(cell.t == \"e\") return BErr[cell.v] || cell.v;\n\tif(v == undefined) return safe_format_cell(cell, cell.v);\n\treturn safe_format_cell(cell, v);\n}\n\nfunction sheet_to_workbook(sheet/*:Worksheet*/, opts)/*:Workbook*/ {\n\tvar n = opts && opts.sheet ? opts.sheet : \"Sheet1\";\n\tvar sheets = {}; sheets[n] = sheet;\n\treturn { SheetNames: [n], Sheets: sheets };\n}\n\nfunction sheet_new(opts) {\n\tvar out = {};\n\tvar o = opts || {};\n\tif(o.dense) out[\"!data\"] = [];\n\treturn out;\n}\n\nfunction sheet_add_aoa(_ws/*:?Worksheet*/, data/*:AOA*/, opts/*:?any*/)/*:Worksheet*/ {\n\tvar o = opts || {};\n\tvar dense = _ws ? (_ws[\"!data\"] != null) : o.dense;\n\tif(DENSE != null && dense == null) dense = DENSE;\n\tvar ws/*:Worksheet*/ = _ws || (dense ? ({\"!data\": []}) : ({}/*:any*/));\n\tif(dense && !ws[\"!data\"]) ws[\"!data\"] = [];\n\tvar _R = 0, _C = 0;\n\tif(ws && o.origin != null) {\n\t\tif(typeof o.origin == 'number') _R = o.origin;\n\t\telse {\n\t\t\tvar _origin/*:CellAddress*/ = typeof o.origin == \"string\" ? decode_cell(o.origin) : o.origin;\n\t\t\t_R = _origin.r; _C = _origin.c;\n\t\t}\n\t}\n\tvar range/*:Range*/ = ({s: {c:10000000, r:10000000}, e: {c:0, r:0}}/*:any*/);\n\tif(ws[\"!ref\"]){\n\t\tvar _range = safe_decode_range(ws['!ref']);\n\t\trange.s.c = _range.s.c;\n\t\trange.s.r = _range.s.r;\n\t\trange.e.c = Math.max(range.e.c, _range.e.c);\n\t\trange.e.r = Math.max(range.e.r, _range.e.r);\n\t\tif(_R == -1) range.e.r = _R = (ws[\"!ref\"] ? _range.e.r + 1 : 0);\n\t} else {\n\t\trange.s.c = range.e.c = range.s.r = range.e.r = 0;\n\t}\n\tvar row = [], seen = false;\n\tfor(var R = 0; R != data.length; ++R) {\n\t\tif(!data[R]) continue;\n\t\tif(!Array.isArray(data[R])) throw new Error(\"aoa_to_sheet expects an array of arrays\");\n\t\tvar __R = _R + R;\n\t\tif(dense) {\n\t\t\tif(!ws[\"!data\"][__R]) ws[\"!data\"][__R] = [];\n\t\t\trow = ws[\"!data\"][__R];\n\t\t}\n\t\tvar data_R = data[R];\n\t\tfor(var C = 0; C != data_R.length; ++C) {\n\t\t\tif(typeof data_R[C] === 'undefined') continue;\n\t\t\tvar cell/*:Cell*/ = ({v: data_R[C], t:\"\" }/*:any*/);\n\t\t\tvar __C = _C + C;\n\t\t\tif(range.s.r > __R) range.s.r = __R;\n\t\t\tif(range.s.c > __C) range.s.c = __C;\n\t\t\tif(range.e.r < __R) range.e.r = __R;\n\t\t\tif(range.e.c < __C) range.e.c = __C;\n\t\t\tseen = true;\n\t\t\tif(data_R[C] && typeof data_R[C] === 'object' && !Array.isArray(data_R[C]) && !(data_R[C] instanceof Date)) cell = data_R[C];\n\t\t\telse {\n\t\t\t\tif(Array.isArray(cell.v)) { cell.f = data_R[C][1]; cell.v = cell.v[0]; }\n\t\t\t\tif(cell.v === null) {\n\t\t\t\t\tif(cell.f) cell.t = 'n';\n\t\t\t\t\telse if(o.nullError) { cell.t = 'e'; cell.v = 0; }\n\t\t\t\t\telse if(!o.sheetStubs) continue;\n\t\t\t\t\telse cell.t = 'z';\n\t\t\t\t}\n\t\t\t\telse if(typeof cell.v === 'number') {\n\t\t\t\t\tif(isFinite(cell.v)) cell.t = 'n';\n\t\t\t\t\telse if(isNaN(cell.v)) { cell.t = 'e'; cell.v = 0x0F; /* #VALUE! */ }\n\t\t\t\t\telse { cell.t = 'e'; cell.v = 0x07; /*# DIV/0 */ }\n\t\t\t\t}\n\t\t\t\telse if(typeof cell.v === 'boolean') cell.t = 'b';\n\t\t\t\telse if(cell.v instanceof Date) {\n\t\t\t\t\tcell.z = o.dateNF || table_fmt[14];\n\t\t\t\t\tif(!o.UTC) cell.v = local_to_utc(cell.v);\n\t\t\t\t\tif(o.cellDates) { cell.t = 'd'; cell.w = SSF_format(cell.z, datenum(cell.v, o.date1904)); }\n\t\t\t\t\telse { cell.t = 'n'; cell.v = datenum(cell.v, o.date1904); cell.w = SSF_format(cell.z, cell.v); }\n\t\t\t\t}\n\t\t\t\telse cell.t = 's';\n\t\t\t}\n\t\t\tif(dense) {\n\t\t\t\tif(row[__C] && row[__C].z) cell.z = row[__C].z;\n\t\t\t\trow[__C] = cell;\n\t\t\t} else {\n\t\t\t\tvar cell_ref = encode_col(__C) + (__R + 1)/*:any*/;\n\t\t\t\tif(ws[cell_ref] && ws[cell_ref].z) cell.z = ws[cell_ref].z;\n\t\t\t\tws[cell_ref] = cell;\n\t\t\t}\n\t\t}\n\t}\n\tif(seen && range.s.c < 10400000) ws['!ref'] = encode_range(range);\n\treturn ws;\n}\nfunction aoa_to_sheet(data/*:AOA*/, opts/*:?any*/)/*:Worksheet*/ { return sheet_add_aoa(null, data, opts); }\nfunction parse_Int32LE(data) {\n\treturn data.read_shift(4, 'i');\n}\nfunction write_UInt32LE(x/*:number*/, o) {\n\tif (!o) o = new_buf(4);\n\to.write_shift(4, x);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.168 */\nfunction parse_XLWideString(data/*::, length*/)/*:string*/ {\n\tvar cchCharacters = data.read_shift(4);\n\treturn cchCharacters === 0 ? \"\" : data.read_shift(cchCharacters, 'dbcs');\n}\nfunction write_XLWideString(data/*:string*/, o) {\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(4 + 2 * data.length); }\n\to.write_shift(4, data.length);\n\tif (data.length > 0) o.write_shift(0, data, 'dbcs');\n\treturn _null ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.5.91 */\n//function parse_LPWideString(data/*::, length*/)/*:string*/ {\n//\tvar cchCharacters = data.read_shift(2);\n//\treturn cchCharacters === 0 ? \"\" : data.read_shift(cchCharacters, \"utf16le\");\n//}\n\n/* [MS-XLSB] 2.5.143 */\nfunction parse_StrRun(data) {\n\treturn { ich: data.read_shift(2), ifnt: data.read_shift(2) };\n}\nfunction write_StrRun(run, o) {\n\tif (!o) o = new_buf(4);\n\to.write_shift(2, run.ich || 0);\n\to.write_shift(2, run.ifnt || 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.121 */\nfunction parse_RichStr(data, length/*:number*/)/*:XLString*/ {\n\tvar start = data.l;\n\tvar flags = data.read_shift(1);\n\tvar str = parse_XLWideString(data);\n\tvar rgsStrRun = [];\n\tvar z = ({ t: str, h: str }/*:any*/);\n\tif ((flags & 1) !== 0) { /* fRichStr */\n\t\t/* TODO: formatted string */\n\t\tvar dwSizeStrRun = data.read_shift(4);\n\t\tfor (var i = 0; i != dwSizeStrRun; ++i) rgsStrRun.push(parse_StrRun(data));\n\t\tz.r = rgsStrRun;\n\t}\n\telse z.r = [{ ich: 0, ifnt: 0 }];\n\t//if((flags & 2) !== 0) { /* fExtStr */\n\t//\t/* TODO: phonetic string */\n\t//}\n\tdata.l = start + length;\n\treturn z;\n}\nfunction write_RichStr(str/*:XLString*/, o/*:?Block*/)/*:Block*/ {\n\t/* TODO: formatted string */\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(15 + 4 * str.t.length); }\n\to.write_shift(1, 0);\n\twrite_XLWideString(str.t, o);\n\treturn _null ? o.slice(0, o.l) : o;\n}\n/* [MS-XLSB] 2.4.328 BrtCommentText (RichStr w/1 run) */\nvar parse_BrtCommentText = parse_RichStr;\nfunction write_BrtCommentText(str/*:XLString*/, o/*:?Block*/)/*:Block*/ {\n\t/* TODO: formatted string */\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(23 + 4 * str.t.length); }\n\to.write_shift(1, 1);\n\twrite_XLWideString(str.t, o);\n\to.write_shift(4, 1);\n\twrite_StrRun({ ich: 0, ifnt: 0 }, o);\n\treturn _null ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.5.9 */\nfunction parse_XLSBCell(data)/*:any*/ {\n\tvar col = data.read_shift(4);\n\tvar iStyleRef = data.read_shift(2);\n\tiStyleRef += data.read_shift(1) << 16;\n\tdata.l++; //var fPhShow = data.read_shift(1);\n\treturn { c: col, iStyleRef: iStyleRef };\n}\nfunction write_XLSBCell(cell/*:any*/, o/*:?Block*/) {\n\tif (o == null) o = new_buf(8);\n\to.write_shift(-4, cell.c);\n\to.write_shift(3, cell.iStyleRef || cell.s);\n\to.write_shift(1, 0); /* fPhShow */\n\treturn o;\n}\n\n/* Short XLSB Cell does not include column */\nfunction parse_XLSBShortCell(data)/*:any*/ {\n\tvar iStyleRef = data.read_shift(2);\n\tiStyleRef += data.read_shift(1) <<16;\n\tdata.l++; //var fPhShow = data.read_shift(1);\n\treturn { c:-1, iStyleRef: iStyleRef };\n}\nfunction write_XLSBShortCell(cell/*:any*/, o/*:?Block*/) {\n\tif(o == null) o = new_buf(4);\n\to.write_shift(3, cell.iStyleRef || cell.s);\n\to.write_shift(1, 0); /* fPhShow */\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.21 */\nvar parse_XLSBCodeName = parse_XLWideString;\nvar write_XLSBCodeName = write_XLWideString;\n\n/* [MS-XLSB] 2.5.166 */\nfunction parse_XLNullableWideString(data/*::, length*/)/*:string*/ {\n\tvar cchCharacters = data.read_shift(4);\n\treturn cchCharacters === 0 || cchCharacters === 0xFFFFFFFF ? \"\" : data.read_shift(cchCharacters, 'dbcs');\n}\nfunction write_XLNullableWideString(data/*:string*/, o) {\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(127); }\n\to.write_shift(4, data.length > 0 ? data.length : 0xFFFFFFFF);\n\tif (data.length > 0) o.write_shift(0, data, 'dbcs');\n\treturn _null ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.5.165 */\nvar parse_XLNameWideString = parse_XLWideString;\n//var write_XLNameWideString = write_XLWideString;\n\n/* [MS-XLSB] 2.5.114 */\nvar parse_RelID = parse_XLNullableWideString;\nvar write_RelID = write_XLNullableWideString;\n\n\n/* [MS-XLS] 2.5.217 ; [MS-XLSB] 2.5.122 */\nfunction parse_RkNumber(data)/*:number*/ {\n\tvar b = data.slice(data.l, data.l + 4);\n\tvar fX100 = (b[0] & 1), fInt = (b[0] & 2);\n\tdata.l += 4;\n\tvar RK = fInt === 0 ? __double([0, 0, 0, 0, (b[0] & 0xFC), b[1], b[2], b[3]], 0) : __readInt32LE(b, 0) >> 2;\n\treturn fX100 ? (RK / 100) : RK;\n}\nfunction write_RkNumber(data/*:number*/, o) {\n\tif (o == null) o = new_buf(4);\n\tvar fX100 = 0, fInt = 0, d100 = data * 100;\n\tif ((data == (data | 0)) && (data >= -(1 << 29)) && (data < (1 << 29))) { fInt = 1; }\n\telse if ((d100 == (d100 | 0)) && (d100 >= -(1 << 29)) && (d100 < (1 << 29))) { fInt = 1; fX100 = 1; }\n\tif (fInt) o.write_shift(-4, ((fX100 ? d100 : data) << 2) + (fX100 + 2));\n\telse throw new Error(\"unsupported RkNumber \" + data); // TODO\n}\n\n\n/* [MS-XLSB] 2.5.117 RfX */\nfunction parse_RfX(data /*::, length*/)/*:Range*/ {\n\tvar cell/*:Range*/ = ({ s: {}, e: {} }/*:any*/);\n\tcell.s.r = data.read_shift(4);\n\tcell.e.r = data.read_shift(4);\n\tcell.s.c = data.read_shift(4);\n\tcell.e.c = data.read_shift(4);\n\treturn cell;\n}\nfunction write_RfX(r/*:Range*/, o) {\n\tif (!o) o = new_buf(16);\n\to.write_shift(4, r.s.r);\n\to.write_shift(4, r.e.r);\n\to.write_shift(4, r.s.c);\n\to.write_shift(4, r.e.c);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.153 UncheckedRfX */\nvar parse_UncheckedRfX = parse_RfX;\nvar write_UncheckedRfX = write_RfX;\n\n/* [MS-XLSB] 2.5.155 UncheckedSqRfX */\n//function parse_UncheckedSqRfX(data) {\n//\tvar cnt = data.read_shift(4);\n//\tvar out = [];\n//\tfor(var i = 0; i < cnt; ++i) {\n//\t\tvar rng = parse_UncheckedRfX(data);\n//\t\tout.push(encode_range(rng));\n//\t}\n//\treturn out.join(\",\");\n//}\n//function write_UncheckedSqRfX(sqrfx/*:string*/) {\n//\tvar parts = sqrfx.split(/\\s*,\\s*/);\n//\tvar o = new_buf(4); o.write_shift(4, parts.length);\n//\tvar out = [o];\n//\tparts.forEach(function(rng) {\n//\t\tout.push(write_UncheckedRfX(safe_decode_range(rng)));\n//\t});\n//\treturn bconcat(out);\n//}\n\n/* [MS-XLS] 2.5.342 ; [MS-XLSB] 2.5.171 */\n/* TODO: error checking, NaN and Infinity values are not valid Xnum */\nfunction parse_Xnum(data/*::, length*/) {\n\tif(data.length - data.l < 8) throw \"XLS Xnum Buffer underflow\";\n\treturn data.read_shift(8, 'f');\n}\nfunction write_Xnum(data, o) { return (o || new_buf(8)).write_shift(8, data, 'f'); }\n\n/* [MS-XLSB] 2.4.324 BrtColor */\nfunction parse_BrtColor(data/*::, length*/) {\n\tvar out = {};\n\tvar d = data.read_shift(1);\n\n\t//var fValidRGB = d & 1;\n\tvar xColorType = d >>> 1;\n\n\tvar index = data.read_shift(1);\n\tvar nTS = data.read_shift(2, 'i');\n\tvar bR = data.read_shift(1);\n\tvar bG = data.read_shift(1);\n\tvar bB = data.read_shift(1);\n\tdata.l++; //var bAlpha = data.read_shift(1);\n\n\tswitch (xColorType) {\n\t\tcase 0: out.auto = 1; break;\n\t\tcase 1:\n\t\t\tout.index = index;\n\t\t\tvar icv = XLSIcv[index];\n\t\t\t/* automatic pseudo index 81 */\n\t\t\tif (icv) out.rgb = rgb2Hex(icv);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\t/* if(!fValidRGB) throw new Error(\"invalid\"); */\n\t\t\tout.rgb = rgb2Hex([bR, bG, bB]);\n\t\t\tbreak;\n\t\tcase 3: out.theme = index; break;\n\t}\n\tif (nTS != 0) out.tint = nTS > 0 ? nTS / 32767 : nTS / 32768;\n\n\treturn out;\n}\nfunction write_BrtColor(color, o) {\n\tif (!o) o = new_buf(8);\n\tif (!color || color.auto) { o.write_shift(4, 0); o.write_shift(4, 0); return o; }\n\tif (color.index != null) {\n\t\to.write_shift(1, 0x02);\n\t\to.write_shift(1, color.index);\n\t} else if (color.theme != null) {\n\t\to.write_shift(1, 0x06);\n\t\to.write_shift(1, color.theme);\n\t} else {\n\t\to.write_shift(1, 0x05);\n\t\to.write_shift(1, 0);\n\t}\n\tvar nTS = color.tint || 0;\n\tif (nTS > 0) nTS *= 32767;\n\telse if (nTS < 0) nTS *= 32768;\n\to.write_shift(2, nTS);\n\tif (!color.rgb || color.theme != null) {\n\t\to.write_shift(2, 0);\n\t\to.write_shift(1, 0);\n\t\to.write_shift(1, 0);\n\t} else {\n\t\tvar rgb = (color.rgb || 'FFFFFF');\n\t\tif (typeof rgb == 'number') rgb = (\"000000\" + rgb.toString(16)).slice(-6);\n\t\to.write_shift(1, parseInt(rgb.slice(0, 2), 16));\n\t\to.write_shift(1, parseInt(rgb.slice(2, 4), 16));\n\t\to.write_shift(1, parseInt(rgb.slice(4, 6), 16));\n\t\to.write_shift(1, 0xFF);\n\t}\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.52 */\nfunction parse_FontFlags(data/*::, length, opts*/) {\n\tvar d = data.read_shift(1);\n\tdata.l++;\n\tvar out = {\n\t\tfBold: d & 0x01,\n\t\tfItalic: d & 0x02,\n\t\tfUnderline: d & 0x04,\n\t\tfStrikeout: d & 0x08,\n\t\tfOutline: d & 0x10,\n\t\tfShadow: d & 0x20,\n\t\tfCondense: d & 0x40,\n\t\tfExtend: d & 0x80\n\t};\n\treturn out;\n}\nfunction write_FontFlags(font, o) {\n\tif (!o) o = new_buf(2);\n\tvar grbit =\n\t\t(font.italic ? 0x02 : 0) |\n\t\t(font.strike ? 0x08 : 0) |\n\t\t(font.outline ? 0x10 : 0) |\n\t\t(font.shadow ? 0x20 : 0) |\n\t\t(font.condense ? 0x40 : 0) |\n\t\t(font.extend ? 0x80 : 0);\n\to.write_shift(1, grbit);\n\to.write_shift(1, 0);\n\treturn o;\n}\n\n/* [MS-OLEDS] 2.3.1 and 2.3.2 */\nfunction parse_ClipboardFormatOrString(o, w/*:number*/)/*:string*/ {\n\t// $FlowIgnore\n\tvar ClipFmt = { 2: \"BITMAP\", 3: \"METAFILEPICT\", 8: \"DIB\", 14: \"ENHMETAFILE\" };\n\tvar m/*:number*/ = o.read_shift(4);\n\tswitch (m) {\n\t\tcase 0x00000000: return \"\";\n\t\tcase 0xffffffff: case 0xfffffffe: return ClipFmt[o.read_shift(4)] || \"\";\n\t}\n\tif (m > 0x190) throw new Error(\"Unsupported Clipboard: \" + m.toString(16));\n\to.l -= 4;\n\treturn o.read_shift(0, w == 1 ? \"lpstr\" : \"lpwstr\");\n}\nfunction parse_ClipboardFormatOrAnsiString(o) { return parse_ClipboardFormatOrString(o, 1); }\nfunction parse_ClipboardFormatOrUnicodeString(o) { return parse_ClipboardFormatOrString(o, 2); }\n\n/* [MS-OLEPS] 2.2 PropertyType */\n// Note: some tree shakers cannot handle VT_VECTOR | $CONST, hence extra vars\n//var VT_EMPTY    = 0x0000;\n//var VT_NULL     = 0x0001;\nvar VT_I2       = 0x0002;\nvar VT_I4       = 0x0003;\n//var VT_R4       = 0x0004;\n//var VT_R8       = 0x0005;\n//var VT_CY       = 0x0006;\n//var VT_DATE     = 0x0007;\n//var VT_BSTR     = 0x0008;\n//var VT_ERROR    = 0x000A;\nvar VT_BOOL     = 0x000B;\nvar VT_VARIANT  = 0x000C;\n//var VT_DECIMAL  = 0x000E;\n//var VT_I1       = 0x0010;\n//var VT_UI1      = 0x0011;\n//var VT_UI2      = 0x0012;\nvar VT_UI4      = 0x0013;\n//var VT_I8       = 0x0014;\n//var VT_UI8      = 0x0015;\n//var VT_INT      = 0x0016;\n//var VT_UINT     = 0x0017;\n//var VT_LPSTR    = 0x001E;\n//var VT_LPWSTR   = 0x001F;\nvar VT_FILETIME = 0x0040;\nvar VT_BLOB     = 0x0041;\n//var VT_STREAM   = 0x0042;\n//var VT_STORAGE  = 0x0043;\n//var VT_STREAMED_Object  = 0x0044;\n//var VT_STORED_Object    = 0x0045;\n//var VT_BLOB_Object      = 0x0046;\nvar VT_CF       = 0x0047;\n//var VT_CLSID    = 0x0048;\n//var VT_VERSIONED_STREAM = 0x0049;\n//var VT_VECTOR   = 0x1000;\nvar VT_VECTOR_VARIANT = 0x100C;\nvar VT_VECTOR_LPSTR   = 0x101E;\n//var VT_ARRAY    = 0x2000;\n\nvar VT_STRING   = 0x0050; // 2.3.3.1.11 VtString\nvar VT_USTR     = 0x0051; // 2.3.3.1.12 VtUnalignedString\nvar VT_CUSTOM   = [VT_STRING, VT_USTR];\n\n/* [MS-OSHARED] 2.3.3.2.2.1 Document Summary Information PIDDSI */\nvar DocSummaryPIDDSI = {\n\t0x01: { n: 'CodePage', t: VT_I2 },\n\t0x02: { n: 'Category', t: VT_STRING },\n\t0x03: { n: 'PresentationFormat', t: VT_STRING },\n\t0x04: { n: 'ByteCount', t: VT_I4 },\n\t0x05: { n: 'LineCount', t: VT_I4 },\n\t0x06: { n: 'ParagraphCount', t: VT_I4 },\n\t0x07: { n: 'SlideCount', t: VT_I4 },\n\t0x08: { n: 'NoteCount', t: VT_I4 },\n\t0x09: { n: 'HiddenCount', t: VT_I4 },\n\t0x0a: { n: 'MultimediaClipCount', t: VT_I4 },\n\t0x0b: { n: 'ScaleCrop', t: VT_BOOL },\n\t0x0c: { n: 'HeadingPairs', t: VT_VECTOR_VARIANT /* VT_VECTOR | VT_VARIANT */ },\n\t0x0d: { n: 'TitlesOfParts', t: VT_VECTOR_LPSTR /* VT_VECTOR | VT_LPSTR */ },\n\t0x0e: { n: 'Manager', t: VT_STRING },\n\t0x0f: { n: 'Company', t: VT_STRING },\n\t0x10: { n: 'LinksUpToDate', t: VT_BOOL },\n\t0x11: { n: 'CharacterCount', t: VT_I4 },\n\t0x13: { n: 'SharedDoc', t: VT_BOOL },\n\t0x16: { n: 'HyperlinksChanged', t: VT_BOOL },\n\t0x17: { n: 'AppVersion', t: VT_I4, p: 'version' },\n\t0x18: { n: 'DigSig', t: VT_BLOB },\n\t0x1A: { n: 'ContentType', t: VT_STRING },\n\t0x1B: { n: 'ContentStatus', t: VT_STRING },\n\t0x1C: { n: 'Language', t: VT_STRING },\n\t0x1D: { n: 'Version', t: VT_STRING },\n\t0xFF: {},\n\t/* [MS-OLEPS] 2.18 */\n\t0x80000000: { n: 'Locale', t: VT_UI4 },\n\t0x80000003: { n: 'Behavior', t: VT_UI4 },\n\t0x72627262: {}\n};\n\n/* [MS-OSHARED] 2.3.3.2.1.1 Summary Information Property Set PIDSI */\nvar SummaryPIDSI = {\n\t0x01: { n: 'CodePage', t: VT_I2 },\n\t0x02: { n: 'Title', t: VT_STRING },\n\t0x03: { n: 'Subject', t: VT_STRING },\n\t0x04: { n: 'Author', t: VT_STRING },\n\t0x05: { n: 'Keywords', t: VT_STRING },\n\t0x06: { n: 'Comments', t: VT_STRING },\n\t0x07: { n: 'Template', t: VT_STRING },\n\t0x08: { n: 'LastAuthor', t: VT_STRING },\n\t0x09: { n: 'RevNumber', t: VT_STRING },\n\t0x0A: { n: 'EditTime', t: VT_FILETIME },\n\t0x0B: { n: 'LastPrinted', t: VT_FILETIME },\n\t0x0C: { n: 'CreatedDate', t: VT_FILETIME },\n\t0x0D: { n: 'ModifiedDate', t: VT_FILETIME },\n\t0x0E: { n: 'PageCount', t: VT_I4 },\n\t0x0F: { n: 'WordCount', t: VT_I4 },\n\t0x10: { n: 'CharCount', t: VT_I4 },\n\t0x11: { n: 'Thumbnail', t: VT_CF },\n\t0x12: { n: 'Application', t: VT_STRING },\n\t0x13: { n: 'DocSecurity', t: VT_I4 },\n\t0xFF: {},\n\t/* [MS-OLEPS] 2.18 */\n\t0x80000000: { n: 'Locale', t: VT_UI4 },\n\t0x80000003: { n: 'Behavior', t: VT_UI4 },\n\t0x72627262: {}\n};\n\n/* [MS-XLS] 2.4.63 Country/Region codes */\nvar CountryEnum = {\n\t0x0001: \"US\", // United States\n\t0x0002: \"CA\", // Canada\n\t0x0003: \"\", // Latin America (except Brazil)\n\t0x0007: \"RU\", // Russia\n\t0x0014: \"EG\", // Egypt\n\t0x001E: \"GR\", // Greece\n\t0x001F: \"NL\", // Netherlands\n\t0x0020: \"BE\", // Belgium\n\t0x0021: \"FR\", // France\n\t0x0022: \"ES\", // Spain\n\t0x0024: \"HU\", // Hungary\n\t0x0027: \"IT\", // Italy\n\t0x0029: \"CH\", // Switzerland\n\t0x002B: \"AT\", // Austria\n\t0x002C: \"GB\", // United Kingdom\n\t0x002D: \"DK\", // Denmark\n\t0x002E: \"SE\", // Sweden\n\t0x002F: \"NO\", // Norway\n\t0x0030: \"PL\", // Poland\n\t0x0031: \"DE\", // Germany\n\t0x0034: \"MX\", // Mexico\n\t0x0037: \"BR\", // Brazil\n\t0x003d: \"AU\", // Australia\n\t0x0040: \"NZ\", // New Zealand\n\t0x0042: \"TH\", // Thailand\n\t0x0051: \"JP\", // Japan\n\t0x0052: \"KR\", // Korea\n\t0x0054: \"VN\", // Viet Nam\n\t0x0056: \"CN\", // China\n\t0x005A: \"TR\", // Turkey\n\t0x0069: \"JS\", // Ramastan\n\t0x00D5: \"DZ\", // Algeria\n\t0x00D8: \"MA\", // Morocco\n\t0x00DA: \"LY\", // Libya\n\t0x015F: \"PT\", // Portugal\n\t0x0162: \"IS\", // Iceland\n\t0x0166: \"FI\", // Finland\n\t0x01A4: \"CZ\", // Czech Republic\n\t0x0376: \"TW\", // Taiwan\n\t0x03C1: \"LB\", // Lebanon\n\t0x03C2: \"JO\", // Jordan\n\t0x03C3: \"SY\", // Syria\n\t0x03C4: \"IQ\", // Iraq\n\t0x03C5: \"KW\", // Kuwait\n\t0x03C6: \"SA\", // Saudi Arabia\n\t0x03CB: \"AE\", // United Arab Emirates\n\t0x03CC: \"IL\", // Israel\n\t0x03CE: \"QA\", // Qatar\n\t0x03D5: \"IR\", // Iran\n\t0xFFFF: \"US\"  // United States\n};\n\n/* [MS-XLS] 2.5.127 */\nvar XLSFillPattern = [\n\tnull,\n\t'solid',\n\t'mediumGray',\n\t'darkGray',\n\t'lightGray',\n\t'darkHorizontal',\n\t'darkVertical',\n\t'darkDown',\n\t'darkUp',\n\t'darkGrid',\n\t'darkTrellis',\n\t'lightHorizontal',\n\t'lightVertical',\n\t'lightDown',\n\t'lightUp',\n\t'lightGrid',\n\t'lightTrellis',\n\t'gray125',\n\t'gray0625'\n];\n\nfunction rgbify(arr/*:Array<number>*/)/*:Array<[number, number, number]>*/ { return arr.map(function(x) { return [(x>>16)&255,(x>>8)&255,x&255]; }); }\n\n/* [MS-XLS] 2.5.161 */\n/* [MS-XLSB] 2.5.75 Icv */\nvar _XLSIcv = /*#__PURE__*/ rgbify([\n\t/* Color Constants */\n\t0x000000,\n\t0xFFFFFF,\n\t0xFF0000,\n\t0x00FF00,\n\t0x0000FF,\n\t0xFFFF00,\n\t0xFF00FF,\n\t0x00FFFF,\n\n\t/* Overridable Defaults */\n\t0x000000,\n\t0xFFFFFF,\n\t0xFF0000,\n\t0x00FF00,\n\t0x0000FF,\n\t0xFFFF00,\n\t0xFF00FF,\n\t0x00FFFF,\n\n\t0x800000,\n\t0x008000,\n\t0x000080,\n\t0x808000,\n\t0x800080,\n\t0x008080,\n\t0xC0C0C0,\n\t0x808080,\n\t0x9999FF,\n\t0x993366,\n\t0xFFFFCC,\n\t0xCCFFFF,\n\t0x660066,\n\t0xFF8080,\n\t0x0066CC,\n\t0xCCCCFF,\n\n\t0x000080,\n\t0xFF00FF,\n\t0xFFFF00,\n\t0x00FFFF,\n\t0x800080,\n\t0x800000,\n\t0x008080,\n\t0x0000FF,\n\t0x00CCFF,\n\t0xCCFFFF,\n\t0xCCFFCC,\n\t0xFFFF99,\n\t0x99CCFF,\n\t0xFF99CC,\n\t0xCC99FF,\n\t0xFFCC99,\n\n\t0x3366FF,\n\t0x33CCCC,\n\t0x99CC00,\n\t0xFFCC00,\n\t0xFF9900,\n\t0xFF6600,\n\t0x666699,\n\t0x969696,\n\t0x003366,\n\t0x339966,\n\t0x003300,\n\t0x333300,\n\t0x993300,\n\t0x993366,\n\t0x333399,\n\t0x333333,\n\n\t/* Other entries to appease BIFF8/12 */\n\t0x000000, /* 0x40 icvForeground ?? */\n\t0xFFFFFF, /* 0x41 icvBackground ?? */\n\t0x000000, /* 0x42 icvFrame ?? */\n\t0x000000, /* 0x43 icv3D ?? */\n\t0x000000, /* 0x44 icv3DText ?? */\n\t0x000000, /* 0x45 icv3DHilite ?? */\n\t0x000000, /* 0x46 icv3DShadow ?? */\n\t0x000000, /* 0x47 icvHilite ?? */\n\t0x000000, /* 0x48 icvCtlText ?? */\n\t0x000000, /* 0x49 icvCtlScrl ?? */\n\t0x000000, /* 0x4A icvCtlInv ?? */\n\t0x000000, /* 0x4B icvCtlBody ?? */\n\t0x000000, /* 0x4C icvCtlFrame ?? */\n\t0x000000, /* 0x4D icvCtlFore ?? */\n\t0x000000, /* 0x4E icvCtlBack ?? */\n\t0x000000, /* 0x4F icvCtlNeutral */\n\t0x000000, /* 0x50 icvInfoBk ?? */\n\t0x000000 /* 0x51 icvInfoText ?? */\n]);\nvar XLSIcv = /*#__PURE__*/dup(_XLSIcv);\n\n/* [MS-XLSB] 2.5.97.2 */\nvar BErr = {\n\t0x00: \"#NULL!\",\n\t0x07: \"#DIV/0!\",\n\t0x0F: \"#VALUE!\",\n\t0x17: \"#REF!\",\n\t0x1D: \"#NAME?\",\n\t0x24: \"#NUM!\",\n\t0x2A: \"#N/A\",\n\t0x2B: \"#GETTING_DATA\",\n\t0xFF: \"#WTF?\"\n};\n//var RBErr = evert_num(BErr);\nvar RBErr = {\n\t\"#NULL!\":        0x00,\n\t\"#DIV/0!\":       0x07,\n\t\"#VALUE!\":       0x0F,\n\t\"#REF!\":         0x17,\n\t\"#NAME?\":        0x1D,\n\t\"#NUM!\":         0x24,\n\t\"#N/A\":          0x2A,\n\t\"#GETTING_DATA\": 0x2B,\n\t\"#WTF?\":         0xFF\n};\n\nvar XLSLblBuiltIn = [\n\t\"_xlnm.Consolidate_Area\",\n\t\"_xlnm.Auto_Open\",\n\t\"_xlnm.Auto_Close\",\n\t\"_xlnm.Extract\",\n\t\"_xlnm.Database\",\n\t\"_xlnm.Criteria\",\n\t\"_xlnm.Print_Area\",\n\t\"_xlnm.Print_Titles\",\n\t\"_xlnm.Recorder\",\n\t\"_xlnm.Data_Form\",\n\t\"_xlnm.Auto_Activate\",\n\t\"_xlnm.Auto_Deactivate\",\n\t\"_xlnm.Sheet_Title\",\n\t\"_xlnm._FilterDatabase\"\n];\n\n/* Parts enumerated in OPC spec, MS-XLSB and MS-XLSX */\n/* 12.3 Part Summary <SpreadsheetML> */\n/* 14.2 Part Summary <DrawingML> */\n/* [MS-XLSX] 2.1 Part Enumerations ; [MS-XLSB] 2.1.7 Part Enumeration */\nvar ct2type/*{[string]:string}*/ = ({\n\t/* Workbook */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\": \"workbooks\",\n\t\"application/vnd.ms-excel.sheet.macroEnabled.main+xml\": \"workbooks\",\n\t\"application/vnd.ms-excel.sheet.binary.macroEnabled.main\": \"workbooks\",\n\t\"application/vnd.ms-excel.addin.macroEnabled.main+xml\": \"workbooks\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml\": \"workbooks\",\n\n\t/* Worksheet */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\": \"sheets\",\n\t\"application/vnd.ms-excel.worksheet\": \"sheets\",\n\t\"application/vnd.ms-excel.binIndexWs\": \"TODO\", /* Binary Index */\n\n\t/* Chartsheet */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml\": \"charts\",\n\t\"application/vnd.ms-excel.chartsheet\": \"charts\",\n\n\t/* Macrosheet */\n\t\"application/vnd.ms-excel.macrosheet+xml\": \"macros\",\n\t\"application/vnd.ms-excel.macrosheet\": \"macros\",\n\t\"application/vnd.ms-excel.intlmacrosheet\": \"TODO\",\n\t\"application/vnd.ms-excel.binIndexMs\": \"TODO\", /* Binary Index */\n\n\t/* Dialogsheet */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml\": \"dialogs\",\n\t\"application/vnd.ms-excel.dialogsheet\": \"dialogs\",\n\n\t/* Shared Strings */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\": \"strs\",\n\t\"application/vnd.ms-excel.sharedStrings\": \"strs\",\n\n\t/* Styles */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\": \"styles\",\n\t\"application/vnd.ms-excel.styles\": \"styles\",\n\n\t/* File Properties */\n\t\"application/vnd.openxmlformats-package.core-properties+xml\": \"coreprops\",\n\t\"application/vnd.openxmlformats-officedocument.custom-properties+xml\": \"custprops\",\n\t\"application/vnd.openxmlformats-officedocument.extended-properties+xml\": \"extprops\",\n\n\t/* Custom Data Properties */\n\t\"application/vnd.openxmlformats-officedocument.customXmlProperties+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty\": \"TODO\",\n\n\t/* Comments */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\": \"comments\",\n\t\"application/vnd.ms-excel.comments\": \"comments\",\n\t\"application/vnd.ms-excel.threadedcomments+xml\": \"threadedcomments\",\n\t\"application/vnd.ms-excel.person+xml\": \"people\",\n\n\t/* Metadata (Stock/Geography and Dynamic Array) */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml\": \"metadata\",\n\t\"application/vnd.ms-excel.sheetMetadata\": \"metadata\",\n\n\t/* PivotTable */\n\t\"application/vnd.ms-excel.pivotTable\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml\": \"TODO\",\n\n\t/* Chart Objects */\n\t\"application/vnd.openxmlformats-officedocument.drawingml.chart+xml\": \"TODO\",\n\n\t/* Chart Colors */\n\t\"application/vnd.ms-office.chartcolorstyle+xml\": \"TODO\",\n\n\t/* Chart Style */\n\t\"application/vnd.ms-office.chartstyle+xml\": \"TODO\",\n\n\t/* Chart Advanced */\n\t\"application/vnd.ms-office.chartex+xml\": \"TODO\",\n\n\t/* Calculation Chain */\n\t\"application/vnd.ms-excel.calcChain\": \"calcchains\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml\": \"calcchains\",\n\n\t/* Printer Settings */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings\": \"TODO\",\n\n\t/* ActiveX */\n\t\"application/vnd.ms-office.activeX\": \"TODO\",\n\t\"application/vnd.ms-office.activeX+xml\": \"TODO\",\n\n\t/* Custom Toolbars */\n\t\"application/vnd.ms-excel.attachedToolbars\": \"TODO\",\n\n\t/* External Data Connections */\n\t\"application/vnd.ms-excel.connections\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml\": \"TODO\",\n\n\t/* External Links */\n\t\"application/vnd.ms-excel.externalLink\": \"links\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml\": \"links\",\n\n\t/* PivotCache */\n\t\"application/vnd.ms-excel.pivotCacheDefinition\": \"TODO\",\n\t\"application/vnd.ms-excel.pivotCacheRecords\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml\": \"TODO\",\n\n\t/* Query Table */\n\t\"application/vnd.ms-excel.queryTable\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml\": \"TODO\",\n\n\t/* Shared Workbook */\n\t\"application/vnd.ms-excel.userNames\": \"TODO\",\n\t\"application/vnd.ms-excel.revisionHeaders\": \"TODO\",\n\t\"application/vnd.ms-excel.revisionLog\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml\": \"TODO\",\n\n\t/* Single Cell Table */\n\t\"application/vnd.ms-excel.tableSingleCells\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml\": \"TODO\",\n\n\t/* Slicer */\n\t\"application/vnd.ms-excel.slicer\": \"TODO\",\n\t\"application/vnd.ms-excel.slicerCache\": \"TODO\",\n\t\"application/vnd.ms-excel.slicer+xml\": \"TODO\",\n\t\"application/vnd.ms-excel.slicerCache+xml\": \"TODO\",\n\n\t/* Sort Map */\n\t\"application/vnd.ms-excel.wsSortMap\": \"TODO\",\n\n\t/* Table */\n\t\"application/vnd.ms-excel.table\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml\": \"TODO\",\n\n\t/* Themes */\n\t\"application/vnd.openxmlformats-officedocument.theme+xml\": \"themes\",\n\n\t/* Theme Override */\n\t\"application/vnd.openxmlformats-officedocument.themeOverride+xml\": \"TODO\",\n\n\t/* Timeline */\n\t\"application/vnd.ms-excel.Timeline+xml\": \"TODO\", /* verify */\n\t\"application/vnd.ms-excel.TimelineCache+xml\": \"TODO\", /* verify */\n\n\t/* VBA */\n\t\"application/vnd.ms-office.vbaProject\": \"vba\",\n\t\"application/vnd.ms-office.vbaProjectSignature\": \"TODO\",\n\n\t/* Volatile Dependencies */\n\t\"application/vnd.ms-office.volatileDependencies\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml\": \"TODO\",\n\n\t/* Control Properties */\n\t\"application/vnd.ms-excel.controlproperties+xml\": \"TODO\",\n\n\t/* Data Model */\n\t\"application/vnd.openxmlformats-officedocument.model+data\": \"TODO\",\n\n\t/* Survey */\n\t\"application/vnd.ms-excel.Survey+xml\": \"TODO\",\n\n\t/* Drawing */\n\t\"application/vnd.openxmlformats-officedocument.drawing+xml\": \"drawings\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml\": \"TODO\",\n\n\t/* VML */\n\t\"application/vnd.openxmlformats-officedocument.vmlDrawing\": \"TODO\",\n\n\t\"application/vnd.openxmlformats-package.relationships+xml\": \"rels\",\n\t\"application/vnd.openxmlformats-officedocument.oleObject\": \"TODO\",\n\n\t/* Image */\n\t\"image/png\": \"TODO\",\n\n\t\"sheet\": \"js\"\n}/*:any*/);\n\nvar CT_LIST = {\n\tworkbooks: {\n\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\",\n\t\txlsm: \"application/vnd.ms-excel.sheet.macroEnabled.main+xml\",\n\t\txlsb: \"application/vnd.ms-excel.sheet.binary.macroEnabled.main\",\n\t\txlam: \"application/vnd.ms-excel.addin.macroEnabled.main+xml\",\n\t\txltx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml\"\n\t},\n\tstrs: { /* Shared Strings */\n\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\",\n\t\txlsb: \"application/vnd.ms-excel.sharedStrings\"\n\t},\n\tcomments: { /* Comments */\n\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\",\n\t\txlsb: \"application/vnd.ms-excel.comments\"\n\t},\n\tsheets: { /* Worksheet */\n\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\",\n\t\txlsb: \"application/vnd.ms-excel.worksheet\"\n\t},\n\tcharts: { /* Chartsheet */\n\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml\",\n\t\txlsb: \"application/vnd.ms-excel.chartsheet\"\n\t},\n\tdialogs: { /* Dialogsheet */\n\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml\",\n\t\txlsb: \"application/vnd.ms-excel.dialogsheet\"\n\t},\n\tmacros: { /* Macrosheet (Excel 4.0 Macros) */\n\t\txlsx: \"application/vnd.ms-excel.macrosheet+xml\",\n\t\txlsb: \"application/vnd.ms-excel.macrosheet\"\n\t},\n\tmetadata: { /* Metadata (Stock/Geography and Dynamic Array) */\n\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml\",\n\t\txlsb: \"application/vnd.ms-excel.sheetMetadata\"\n\t},\n\tstyles: { /* Styles */\n\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\",\n\t\txlsb: \"application/vnd.ms-excel.styles\"\n\t}\n};\n\nfunction new_ct()/*:any*/ {\n\treturn ({\n\t\tworkbooks:[], sheets:[], charts:[], dialogs:[], macros:[],\n\t\trels:[], strs:[], comments:[], threadedcomments:[], links:[],\n\t\tcoreprops:[], extprops:[], custprops:[], themes:[], styles:[],\n\t\tcalcchains:[], vba: [], drawings: [], metadata: [], people:[],\n\t\tTODO:[], xmlns: \"\" }/*:any*/);\n}\n\nfunction parse_ct(data/*:?string*/) {\n\tvar ct = new_ct();\n\tif(!data || !data.match) return ct;\n\tvar ctext = {};\n\t(data.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(y[0].replace(nsregex,\"<\")) {\n\t\t\tcase '<?xml': break;\n\t\t\tcase '<Types': ct.xmlns = y['xmlns' + (y[0].match(/<(\\w+):/)||[\"\",\"\"])[1] ]; break;\n\t\t\tcase '<Default': ctext[y.Extension.toLowerCase()] = y.ContentType; break;\n\t\t\tcase '<Override':\n\t\t\t\tif(ct[ct2type[y.ContentType]] !== undefined) ct[ct2type[y.ContentType]].push(y.PartName);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\tif(ct.xmlns !== XMLNS.CT) throw new Error(\"Unknown Namespace: \" + ct.xmlns);\n\tct.calcchain = ct.calcchains.length > 0 ? ct.calcchains[0] : \"\";\n\tct.sst = ct.strs.length > 0 ? ct.strs[0] : \"\";\n\tct.style = ct.styles.length > 0 ? ct.styles[0] : \"\";\n\tct.defaults = ctext;\n\tdelete ct.calcchains;\n\treturn ct;\n}\n\nfunction write_ct(ct, opts, raw)/*:string*/ {\n\tvar type2ct/*{[string]:Array<string>}*/ = evert_arr(ct2type);\n\n\tvar o/*:Array<string>*/ = [], v;\n\n\tif(!raw) {\n\t\to[o.length] = (XML_HEADER);\n\t\to[o.length] = writextag('Types', null, {\n\t\t\t'xmlns': XMLNS.CT,\n\t\t\t'xmlns:xsd': XMLNS.xsd,\n\t\t\t'xmlns:xsi': XMLNS.xsi\n\t\t});\n\t\to = o.concat([\n\t\t\t['xml', 'application/xml'],\n\t\t\t['bin', 'application/vnd.ms-excel.sheet.binary.macroEnabled.main'],\n\t\t\t['vml', 'application/vnd.openxmlformats-officedocument.vmlDrawing'],\n\t\t\t['data', 'application/vnd.openxmlformats-officedocument.model+data'],\n\t\t\t/* from test files */\n\t\t\t['bmp', 'image/bmp'],\n\t\t\t['png', 'image/png'],\n\t\t\t['gif', 'image/gif'],\n\t\t\t['emf', 'image/x-emf'],\n\t\t\t['wmf', 'image/x-wmf'],\n\t\t\t['jpg', 'image/jpeg'], ['jpeg', 'image/jpeg'],\n\t\t\t['tif', 'image/tiff'], ['tiff', 'image/tiff'],\n\t\t\t['pdf', 'application/pdf'],\n\t\t\t['rels', 'application/vnd.openxmlformats-package.relationships+xml']\n\t\t].map(function(x) {\n\t\t\treturn writextag('Default', null, {'Extension':x[0], 'ContentType': x[1]});\n\t\t}));\n\t}\n\n\t/* only write first instance */\n\tvar f1 = function(w) {\n\t\tif(ct[w] && ct[w].length > 0) {\n\t\t\tv = ct[w][0];\n\t\t\to[o.length] = (writextag('Override', null, {\n\t\t\t\t'PartName': (v[0] == '/' ? \"\":\"/\") + v,\n\t\t\t\t'ContentType': CT_LIST[w][opts.bookType] || CT_LIST[w]['xlsx']\n\t\t\t}));\n\t\t}\n\t};\n\n\t/* book type-specific */\n\tvar f2 = function(w) {\n\t\t(ct[w]||[]).forEach(function(v) {\n\t\t\to[o.length] = (writextag('Override', null, {\n\t\t\t\t'PartName': (v[0] == '/' ? \"\":\"/\") + v,\n\t\t\t\t'ContentType': CT_LIST[w][opts.bookType] || CT_LIST[w]['xlsx']\n\t\t\t}));\n\t\t});\n\t};\n\n\t/* standard type */\n\tvar f3 = function(t) {\n\t\t(ct[t]||[]).forEach(function(v) {\n\t\t\to[o.length] = (writextag('Override', null, {\n\t\t\t\t'PartName': (v[0] == '/' ? \"\":\"/\") + v,\n\t\t\t\t'ContentType': type2ct[t][0]\n\t\t\t}));\n\t\t});\n\t};\n\n\tf1('workbooks');\n\tf2('sheets');\n\tf2('charts');\n\tf3('themes');\n\t['strs', 'styles'].forEach(f1);\n\t['coreprops', 'extprops', 'custprops'].forEach(f3);\n\tf3('vba');\n\tf3('comments');\n\tf3('threadedcomments');\n\tf3('drawings');\n\tf2('metadata');\n\tf3('people');\n\tif(!raw && o.length>2){ o[o.length] = ('</Types>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* 9.3 Relationships */\nvar RELS = ({\n\tWB: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n\tSHEET: \"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n\tHLINK: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\",\n\tVML: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing\",\n\tXPATH: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath\",\n\tXMISS: \"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing\",\n\tXLINK: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink\",\n\tCXML: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml\",\n\tCXMLP: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps\",\n\tCMNT: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments\",\n\tCORE_PROPS: \"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\",\n\tEXT_PROPS: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties',\n\tCUST_PROPS: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties',\n\tSST: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\",\n\tSTY: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\",\n\tTHEME: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\",\n\tCHART: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart\",\n\tCHARTEX: \"http://schemas.microsoft.com/office/2014/relationships/chartEx\",\n\tCS: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet\",\n\tWS: [\n\t\t\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\",\n\t\t\"http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet\"\n\t],\n\tDS: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet\",\n\tMS: \"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet\",\n\tIMG: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\",\n\tDRAW: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing\",\n\tXLMETA: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata\",\n\tTCMNT: \"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment\",\n\tPEOPLE: \"http://schemas.microsoft.com/office/2017/10/relationships/person\",\n\tCONN: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections\",\n\tVBA: \"http://schemas.microsoft.com/office/2006/relationships/vbaProject\"\n}/*:any*/);\n\n/* 9.3.3 Representing Relationships */\nfunction get_rels_path(file/*:string*/)/*:string*/ {\n\tvar n = file.lastIndexOf(\"/\");\n\treturn file.slice(0,n+1) + '_rels/' + file.slice(n+1) + \".rels\";\n}\n\nfunction parse_rels(data/*:?string*/, currentFilePath/*:string*/) {\n\tvar rels = {\"!id\":{}};\n\tif (!data) return rels;\n\tif (currentFilePath.charAt(0) !== '/') {\n\t\tcurrentFilePath = '/'+currentFilePath;\n\t}\n\tvar hash = {};\n\n\t(data.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\t/* 9.3.2.2 OPC_Relationships */\n\t\tif (y[0] === '<Relationship') {\n\t\t\tvar rel = {}; rel.Type = y.Type; rel.Target = unescapexml(y.Target); rel.Id = y.Id; if(y.TargetMode) rel.TargetMode = y.TargetMode;\n\t\t\tvar canonictarget = y.TargetMode === 'External' ? y.Target : resolve_path(y.Target, currentFilePath);\n\t\t\trels[canonictarget] = rel;\n\t\t\thash[y.Id] = rel;\n\t\t}\n\t});\n\trels[\"!id\"] = hash;\n\treturn rels;\n}\n\n\n/* TODO */\nfunction write_rels(rels)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('Relationships', null, {\n\t\t//'xmlns:ns0': XMLNS.RELS,\n\t\t'xmlns': XMLNS.RELS\n\t})];\n\tkeys(rels['!id']).forEach(function(rid) {\n\t\to[o.length] = (writextag('Relationship', null, rels['!id'][rid]));\n\t});\n\tif(o.length>2){ o[o.length] = ('</Relationships>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\nfunction add_rels(rels, rId/*:number*/, f, type, relobj, targetmode/*:?string*/)/*:number*/ {\n\tif(!relobj) relobj = {};\n\tif(!rels['!id']) rels['!id'] = {};\n\tif(!rels['!idx']) rels['!idx'] = 1;\n\tif(rId < 0) for(rId = rels['!idx']; rels['!id']['rId' + rId]; ++rId){/* empty */}\n\trels['!idx'] = rId + 1;\n\trelobj.Id = 'rId' + rId;\n\trelobj.Type = type;\n\trelobj.Target = f;\n\tif(targetmode) relobj.TargetMode = targetmode;\n\telse if([RELS.HLINK, RELS.XPATH, RELS.XMISS].indexOf(relobj.Type) > -1) relobj.TargetMode = \"External\";\n\tif(rels['!id'][relobj.Id]) throw new Error(\"Cannot rewrite rId \" + rId);\n\trels['!id'][relobj.Id] = relobj;\n\trels[('/' + relobj.Target).replace(\"//\",\"/\")] = relobj;\n\treturn rId;\n}\nvar CT_ODS = \"application/vnd.oasis.opendocument.spreadsheet\";\nfunction parse_manifest(d, opts) {\n  var str = xlml_normalize(d);\n  var Rn;\n  var FEtag;\n  while (Rn = xlmlregex.exec(str))\n    switch (Rn[3]) {\n      case \"manifest\":\n        break;\n      case \"file-entry\":\n        FEtag = parsexmltag(Rn[0], false);\n        if (FEtag.path == \"/\" && FEtag.type !== CT_ODS)\n          throw new Error(\"This OpenDocument is not a spreadsheet\");\n        break;\n      case \"encryption-data\":\n      case \"algorithm\":\n      case \"start-key-generation\":\n      case \"key-derivation\":\n        throw new Error(\"Unsupported ODS Encryption\");\n      default:\n        if (opts && opts.WTF)\n          throw Rn;\n    }\n}\nfunction write_manifest(manifest) {\n  var o = [XML_HEADER];\n  o.push('<manifest:manifest xmlns:manifest=\"urn:oasis:names:tc:opendocument:xmlns:manifest:1.0\" manifest:version=\"1.2\">\\n');\n  o.push('  <manifest:file-entry manifest:full-path=\"/\" manifest:version=\"1.2\" manifest:media-type=\"application/vnd.oasis.opendocument.spreadsheet\"/>\\n');\n  for (var i = 0; i < manifest.length; ++i)\n    o.push('  <manifest:file-entry manifest:full-path=\"' + manifest[i][0] + '\" manifest:media-type=\"' + manifest[i][1] + '\"/>\\n');\n  o.push(\"</manifest:manifest>\");\n  return o.join(\"\");\n}\nfunction write_rdf_type(file, res, tag) {\n  return [\n    '  <rdf:Description rdf:about=\"' + file + '\">\\n',\n    '    <rdf:type rdf:resource=\"http://docs.oasis-open.org/ns/office/1.2/meta/' + (tag || \"odf\") + \"#\" + res + '\"/>\\n',\n    \"  </rdf:Description>\\n\"\n  ].join(\"\");\n}\nfunction write_rdf_has(base, file) {\n  return [\n    '  <rdf:Description rdf:about=\"' + base + '\">\\n',\n    '    <ns0:hasPart xmlns:ns0=\"http://docs.oasis-open.org/ns/office/1.2/meta/pkg#\" rdf:resource=\"' + file + '\"/>\\n',\n    \"  </rdf:Description>\\n\"\n  ].join(\"\");\n}\nfunction write_rdf(rdf) {\n  var o = [XML_HEADER];\n  o.push('<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\\n');\n  for (var i = 0; i != rdf.length; ++i) {\n    o.push(write_rdf_type(rdf[i][0], rdf[i][1]));\n    o.push(write_rdf_has(\"\", rdf[i][0]));\n  }\n  o.push(write_rdf_type(\"\", \"Document\", \"pkg\"));\n  o.push(\"</rdf:RDF>\");\n  return o.join(\"\");\n}\nfunction write_meta_ods(wb, opts) {\n  return '<office:document-meta xmlns:office=\"urn:oasis:names:tc:opendocument:xmlns:office:1.0\" xmlns:meta=\"urn:oasis:names:tc:opendocument:xmlns:meta:1.0\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" office:version=\"1.2\"><office:meta><meta:generator>SheetJS ' + XLSX.version + \"</meta:generator></office:meta></office:document-meta>\";\n}\n/* ECMA-376 Part II 11.1 Core Properties Part */\n/* [MS-OSHARED] 2.3.3.2.[1-2].1 (PIDSI/PIDDSI) */\nvar CORE_PROPS/*:Array<Array<string> >*/ = [\n\t[\"cp:category\", \"Category\"],\n\t[\"cp:contentStatus\", \"ContentStatus\"],\n\t[\"cp:keywords\", \"Keywords\"],\n\t[\"cp:lastModifiedBy\", \"LastAuthor\"],\n\t[\"cp:lastPrinted\", \"LastPrinted\"],\n\t[\"cp:revision\", \"RevNumber\"],\n\t[\"cp:version\", \"Version\"],\n\t[\"dc:creator\", \"Author\"],\n\t[\"dc:description\", \"Comments\"],\n\t[\"dc:identifier\", \"Identifier\"],\n\t[\"dc:language\", \"Language\"],\n\t[\"dc:subject\", \"Subject\"],\n\t[\"dc:title\", \"Title\"],\n\t[\"dcterms:created\", \"CreatedDate\", 'date'],\n\t[\"dcterms:modified\", \"ModifiedDate\", 'date']\n];\n\nfunction parse_core_props(data) {\n\tvar p = {};\n\tdata = utf8read(data);\n\n\tfor(var i = 0; i < CORE_PROPS.length; ++i) {\n\t\tvar f = CORE_PROPS[i], cur = str_match_xml(data, f[0]);\n\t\tif(cur != null && cur.length > 0) p[f[1]] = unescapexml(cur[1]);\n\t\tif(f[2] === 'date' && p[f[1]]) p[f[1]] = parseDate(p[f[1]]);\n\t}\n\n\treturn p;\n}\n\nfunction cp_doit(f, g, h, o, p) {\n\tif(p[f] != null || g == null || g === \"\") return;\n\tp[f] = g;\n\tg = escapexml(g);\n\to[o.length] = (h ? writextag(f,g,h) : writetag(f,g));\n}\n\nfunction write_core_props(cp, _opts) {\n\tvar opts = _opts || {};\n\tvar o = [XML_HEADER, writextag('cp:coreProperties', null, {\n\t\t//'xmlns': XMLNS.CORE_PROPS,\n\t\t'xmlns:cp': XMLNS.CORE_PROPS,\n\t\t'xmlns:dc': XMLNS.dc,\n\t\t'xmlns:dcterms': XMLNS.dcterms,\n\t\t'xmlns:dcmitype': XMLNS.dcmitype,\n\t\t'xmlns:xsi': XMLNS.xsi\n\t})], p = {};\n\tif(!cp && !opts.Props) return o.join(\"\");\n\n\tif(cp) {\n\t\tif(cp.CreatedDate != null) cp_doit(\"dcterms:created\", typeof cp.CreatedDate === \"string\" ? cp.CreatedDate : write_w3cdtf(cp.CreatedDate, opts.WTF), {\"xsi:type\":\"dcterms:W3CDTF\"}, o, p);\n\t\tif(cp.ModifiedDate != null) cp_doit(\"dcterms:modified\", typeof cp.ModifiedDate === \"string\" ? cp.ModifiedDate : write_w3cdtf(cp.ModifiedDate, opts.WTF), {\"xsi:type\":\"dcterms:W3CDTF\"}, o, p);\n\t}\n\n\tfor(var i = 0; i != CORE_PROPS.length; ++i) {\n\t\tvar f = CORE_PROPS[i];\n\t\tvar v = opts.Props && opts.Props[f[1]] != null ? opts.Props[f[1]] : cp ? cp[f[1]] : null;\n\t\tif(v === true) v = \"1\";\n\t\telse if(v === false) v = \"0\";\n\t\telse if(typeof v == \"number\") v = String(v);\n\t\tif(v != null) cp_doit(f[0], v, null, o, p);\n\t}\n\tif(o.length>2){ o[o.length] = ('</cp:coreProperties>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* 15.2.12.3 Extended File Properties Part */\n/* [MS-OSHARED] 2.3.3.2.[1-2].1 (PIDSI/PIDDSI) */\nvar EXT_PROPS/*:Array<Array<string> >*/ = [\n\t[\"Application\", \"Application\", \"string\"],\n\t[\"AppVersion\", \"AppVersion\", \"string\"],\n\t[\"Company\", \"Company\", \"string\"],\n\t[\"DocSecurity\", \"DocSecurity\", \"string\"],\n\t[\"Manager\", \"Manager\", \"string\"],\n\t[\"HyperlinksChanged\", \"HyperlinksChanged\", \"bool\"],\n\t[\"SharedDoc\", \"SharedDoc\", \"bool\"],\n\t[\"LinksUpToDate\", \"LinksUpToDate\", \"bool\"],\n\t[\"ScaleCrop\", \"ScaleCrop\", \"bool\"],\n\t[\"HeadingPairs\", \"HeadingPairs\", \"raw\"],\n\t[\"TitlesOfParts\", \"TitlesOfParts\", \"raw\"]\n];\n\nvar PseudoPropsPairs = [\n\t\"Worksheets\",  \"SheetNames\",\n\t\"NamedRanges\", \"DefinedNames\",\n\t\"Chartsheets\", \"ChartNames\"\n];\nfunction load_props_pairs(HP/*:string|Array<Array<any>>*/, TOP, props, opts) {\n\tvar v = [];\n\tif(typeof HP == \"string\") v = parseVector(HP, opts);\n\telse for(var j = 0; j < HP.length; ++j) v = v.concat(HP[j].map(function(hp) { return {v:hp}; }));\n\tvar parts = (typeof TOP == \"string\") ? parseVector(TOP, opts).map(function (x) { return x.v; }) : TOP;\n\tvar idx = 0, len = 0;\n\tif(parts.length > 0) for(var i = 0; i !== v.length; i += 2) {\n\t\tlen = +(v[i+1].v);\n\t\tswitch(v[i].v) {\n\t\t\tcase \"Worksheets\":\n\t\t\tcase \"\":\n\t\t\tcase \"\":\n\t\t\tcase \" \":\n\t\t\tcase \"\":\n\t\t\tcase \" \":\n\t\t\tcase \"Arbeitsbltter\":\n\t\t\tcase \"alma Sayfalar\":\n\t\t\tcase \"Feuilles de calcul\":\n\t\t\tcase \"Fogli di lavoro\":\n\t\t\tcase \"Folhas de clculo\":\n\t\t\tcase \"Planilhas\":\n\t\t\tcase \"Regneark\":\n\t\t\tcase \"Hojas de clculo\":\n\t\t\tcase \"Werkbladen\":\n\t\t\t\tprops.Worksheets = len;\n\t\t\t\tprops.SheetNames = parts.slice(idx, idx + len);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Named Ranges\":\n\t\t\tcase \"Rangos con nombre\":\n\t\t\tcase \"\":\n\t\t\tcase \"Benannte Bereiche\":\n\t\t\tcase \"Navngivne omrder\":\n\t\t\t\tprops.NamedRanges = len;\n\t\t\t\tprops.DefinedNames = parts.slice(idx, idx + len);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Charts\":\n\t\t\tcase \"Diagramme\":\n\t\t\t\tprops.Chartsheets = len;\n\t\t\t\tprops.ChartNames = parts.slice(idx, idx + len);\n\t\t\t\tbreak;\n\t\t}\n\t\tidx += len;\n\t}\n}\n\nfunction parse_ext_props(data, p, opts) {\n\tvar q = {}; if(!p) p = {};\n\tdata = utf8read(data);\n\n\tEXT_PROPS.forEach(function(f) {\n\t\tvar xml = (str_match_xml_ns(data, f[0])||[])[1];\n\t\tswitch(f[2]) {\n\t\t\tcase \"string\": if(xml) p[f[1]] = unescapexml(xml); break;\n\t\t\tcase \"bool\": p[f[1]] = xml === \"true\"; break;\n\t\t\tcase \"raw\":\n\t\t\t\tvar cur = str_match_xml(data, f[0]);\n\t\t\t\tif(cur && cur.length > 0) q[f[1]] = cur[1];\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(q.HeadingPairs && q.TitlesOfParts) load_props_pairs(q.HeadingPairs, q.TitlesOfParts, p, opts);\n\n\treturn p;\n}\n\nfunction write_ext_props(cp/*::, opts*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [], W = writextag;\n\tif(!cp) cp = {};\n\tcp.Application = \"SheetJS\";\n\to[o.length] = (XML_HEADER);\n\to[o.length] = (writextag('Properties', null, {\n\t\t'xmlns': XMLNS.EXT_PROPS,\n\t\t'xmlns:vt': XMLNS.vt\n\t}));\n\n\tEXT_PROPS.forEach(function(f) {\n\t\tif(cp[f[1]] === undefined) return;\n\t\tvar v;\n\t\tswitch(f[2]) {\n\t\t\tcase 'string': v = escapexml(String(cp[f[1]])); break;\n\t\t\tcase 'bool': v = cp[f[1]] ? 'true' : 'false'; break;\n\t\t}\n\t\tif(v !== undefined) o[o.length] = (W(f[0], v));\n\t});\n\n\t/* TODO: HeadingPairs, TitlesOfParts */\n\to[o.length] = (W('HeadingPairs', W('vt:vector', W('vt:variant', '<vt:lpstr>Worksheets</vt:lpstr>')+W('vt:variant', W('vt:i4', String(cp.Worksheets))), {size:2, baseType:\"variant\"})));\n\to[o.length] = (W('TitlesOfParts', W('vt:vector', cp.SheetNames.map(function(s) { return \"<vt:lpstr>\" + escapexml(s) + \"</vt:lpstr>\"; }).join(\"\"), {size: cp.Worksheets, baseType:\"lpstr\"})));\n\tif(o.length>2){ o[o.length] = ('</Properties>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* 15.2.12.2 Custom File Properties Part */\nvar custregex = /<[^<>]+>[^<]*/g;\nfunction parse_cust_props(data/*:string*/, opts) {\n\tvar p = {}, name = \"\";\n\tvar m = data.match(custregex);\n\tif(m) for(var i = 0; i != m.length; ++i) {\n\t\tvar x = m[i], y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\t\t\tcase '<Properties': break;\n\t\t\tcase '<property': name = unescapexml(y.name); break;\n\t\t\tcase '</property>': name = null; break;\n\t\t\tdefault: if (x.indexOf('<vt:') === 0) {\n\t\t\t\tvar toks = x.split('>');\n\t\t\t\tvar type = toks[0].slice(4), text = toks[1];\n\t\t\t\t/* 22.4.2.32 (CT_Variant). Omit the binary types from 22.4 (Variant Types) */\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase 'lpstr': case 'bstr': case 'lpwstr':\n\t\t\t\t\t\tp[name] = unescapexml(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bool':\n\t\t\t\t\t\tp[name] = parsexmlbool(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'i1': case 'i2': case 'i4': case 'i8': case 'int': case 'uint':\n\t\t\t\t\t\tp[name] = parseInt(text, 10);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'r4': case 'r8': case 'decimal':\n\t\t\t\t\t\tp[name] = parseFloat(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'filetime': case 'date':\n\t\t\t\t\t\tp[name] = parseDate(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'cy': case 'error':\n\t\t\t\t\t\tp[name] = unescapexml(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(type.slice(-1) == '/') break;\n\t\t\t\t\t\tif(opts.WTF && typeof console !== 'undefined') console.warn('Unexpected', x, type, toks);\n\t\t\t\t}\n\t\t\t} else if(x.slice(0,2) === \"</\") {/* empty */\n\t\t\t} else if(opts.WTF) throw new Error(x);\n\t\t}\n\t}\n\treturn p;\n}\n\nfunction write_cust_props(cp/*::, opts*/)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('Properties', null, {\n\t\t'xmlns': XMLNS.CUST_PROPS,\n\t\t'xmlns:vt': XMLNS.vt\n\t})];\n\tif(!cp) return o.join(\"\");\n\tvar pid = 1;\n\tkeys(cp).forEach(function custprop(k) { ++pid;\n\t\to[o.length] = (writextag('property', write_vt(cp[k], true), {\n\t\t\t'fmtid': '{D5CDD505-2E9C-101B-9397-08002B2CF9AE}',\n\t\t\t'pid': pid,\n\t\t\t'name': escapexml(k)\n\t\t}));\n\t});\n\tif(o.length>2){ o[o.length] = '</Properties>'; o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* Common Name -> XLML Name */\nvar XLMLDocPropsMap = {\n\tTitle: 'Title',\n\tSubject: 'Subject',\n\tAuthor: 'Author',\n\tKeywords: 'Keywords',\n\tComments: 'Description',\n\tLastAuthor: 'LastAuthor',\n\tRevNumber: 'Revision',\n\tApplication: 'AppName',\n\t/* TotalTime: 'TotalTime', */\n\tLastPrinted: 'LastPrinted',\n\tCreatedDate: 'Created',\n\tModifiedDate: 'LastSaved',\n\t/* Pages */\n\t/* Words */\n\t/* Characters */\n\tCategory: 'Category',\n\t/* PresentationFormat */\n\tManager: 'Manager',\n\tCompany: 'Company',\n\t/* Guid */\n\t/* HyperlinkBase */\n\t/* Bytes */\n\t/* Lines */\n\t/* Paragraphs */\n\t/* CharactersWithSpaces */\n\tAppVersion: 'Version',\n\n\tContentStatus: 'ContentStatus', /* NOTE: missing from schema */\n\tIdentifier: 'Identifier', /* NOTE: missing from schema */\n\tLanguage: 'Language' /* NOTE: missing from schema */\n};\nvar evert_XLMLDPM;\n\nfunction xlml_set_prop(Props, tag/*:string*/, val) {\n\tif(!evert_XLMLDPM) evert_XLMLDPM = evert(XLMLDocPropsMap);\n\ttag = evert_XLMLDPM[tag] || tag;\n\tProps[tag] = val;\n}\n\nfunction xlml_write_docprops(Props, opts) {\n\tvar o/*:Array<string>*/ = [];\n\tkeys(XLMLDocPropsMap).map(function(m) {\n\t\tfor(var i = 0; i < CORE_PROPS.length; ++i) if(CORE_PROPS[i][1] == m) return CORE_PROPS[i];\n\t\tfor(i = 0; i < EXT_PROPS.length; ++i) if(EXT_PROPS[i][1] == m) return EXT_PROPS[i];\n\t\tthrow m;\n\t}).forEach(function(p) {\n\t\tif(Props[p[1]] == null) return;\n\t\tvar m = opts && opts.Props && opts.Props[p[1]] != null ? opts.Props[p[1]] : Props[p[1]];\n\t\tswitch(p[2]) {\n\t\t\tcase 'date': m = new Date(m).toISOString().replace(/\\.\\d*Z/,\"Z\"); break;\n\t\t}\n\t\tif(typeof m == 'number') m = String(m);\n\t\telse if(m === true || m === false) { m = m ? \"1\" : \"0\"; }\n\t\telse if(m instanceof Date) m = new Date(m).toISOString().replace(/\\.\\d*Z/,\"\");\n\t\to.push(writetag(XLMLDocPropsMap[p[1]] || p[1], m));\n\t});\n\treturn writextag('DocumentProperties', o.join(\"\"), {xmlns:XLMLNS.o });\n}\nfunction xlml_write_custprops(Props, Custprops/*::, opts*/) {\n\tvar BLACKLIST = [\"Worksheets\",\"SheetNames\"];\n\tvar T = 'CustomDocumentProperties';\n\tvar o/*:Array<string>*/ = [];\n\tif(Props) keys(Props).forEach(function(k) {\n\t\t/*:: if(!Props) return; */\n\t\tif(!Object.prototype.hasOwnProperty.call(Props, k)) return;\n\t\tfor(var i = 0; i < CORE_PROPS.length; ++i) if(k == CORE_PROPS[i][1]) return;\n\t\tfor(i = 0; i < EXT_PROPS.length; ++i) if(k == EXT_PROPS[i][1]) return;\n\t\tfor(i = 0; i < BLACKLIST.length; ++i) if(k == BLACKLIST[i]) return;\n\n\t\tvar m = Props[k];\n\t\tvar t = \"string\";\n\t\tif(typeof m == 'number') { t = \"float\"; m = String(m); }\n\t\telse if(m === true || m === false) { t = \"boolean\"; m = m ? \"1\" : \"0\"; }\n\t\telse m = String(m);\n\t\to.push(writextag(escapexmltag(k), m, {\"dt:dt\":t}));\n\t});\n\tif(Custprops) keys(Custprops).forEach(function(k) {\n\t\t/*:: if(!Custprops) return; */\n\t\tif(!Object.prototype.hasOwnProperty.call(Custprops, k)) return;\n\t\tif(Props && Object.prototype.hasOwnProperty.call(Props, k)) return;\n\t\tvar m = Custprops[k];\n\t\tvar t = \"string\";\n\t\tif(typeof m == 'number') { t = \"float\"; m = String(m); }\n\t\telse if(m === true || m === false) { t = \"boolean\"; m = m ? \"1\" : \"0\"; }\n\t\telse if(m instanceof Date) { t = \"dateTime.tz\"; m = m.toISOString(); }\n\t\telse m = String(m);\n\t\to.push(writextag(escapexmltag(k), m, {\"dt:dt\":t}));\n\t});\n\treturn '<' + T + ' xmlns=\"' + XLMLNS.o + '\">' + o.join(\"\") + '</' + T + '>';\n}\n/* [MS-DTYP] 2.3.3 FILETIME */\n/* [MS-OLEDS] 2.1.3 FILETIME (Packet Version) */\n/* [MS-OLEPS] 2.8 FILETIME (Packet Version) */\nfunction parse_FILETIME(blob) {\n\tvar dwLowDateTime = blob.read_shift(4), dwHighDateTime = blob.read_shift(4);\n\treturn new Date(((dwHighDateTime/1e7*Math.pow(2,32) + dwLowDateTime/1e7) - 11644473600)*1000).toISOString().replace(/\\.000/,\"\");\n}\nfunction write_FILETIME(time/*:string|Date*/) {\n\tvar date = (typeof time == \"string\") ? new Date(Date.parse(time)) : time;\n\tvar t = date.getTime() / 1000 + 11644473600;\n\tvar l = t % Math.pow(2,32), h = (t - l) / Math.pow(2,32);\n\tl *= 1e7; h *= 1e7;\n\tvar w = (l / Math.pow(2,32)) | 0;\n\tif(w > 0) { l = l % Math.pow(2,32); h += w; }\n\tvar o = new_buf(8); o.write_shift(4, l); o.write_shift(4, h); return o;\n}\n\n/* [MS-OSHARED] 2.3.3.1.4 Lpstr */\nfunction parse_lpstr(blob, type, pad/*:?number*/) {\n\tvar start = blob.l;\n\tvar str = blob.read_shift(0, 'lpstr-cp');\n\tif(pad) while((blob.l - start) & 3) ++blob.l;\n\treturn str;\n}\n\n/* [MS-OSHARED] 2.3.3.1.6 Lpwstr */\nfunction parse_lpwstr(blob, type, pad) {\n\tvar str = blob.read_shift(0, 'lpwstr');\n\tif(pad) blob.l += (4 - ((str.length+1) & 3)) & 3;\n\treturn str;\n}\n\n\n/* [MS-OSHARED] 2.3.3.1.11 VtString */\n/* [MS-OSHARED] 2.3.3.1.12 VtUnalignedString */\nfunction parse_VtStringBase(blob, stringType, pad) {\n\tif(stringType === 0x1F /*VT_LPWSTR*/) return parse_lpwstr(blob);\n\treturn parse_lpstr(blob, stringType, pad);\n}\n\nfunction parse_VtString(blob, t/*:number*/, pad/*:?boolean*/) { return parse_VtStringBase(blob, t, pad === false ? 0: 4); }\nfunction parse_VtUnalignedString(blob, t/*:number*/) { if(!t) throw new Error(\"VtUnalignedString must have positive length\"); return parse_VtStringBase(blob, t, 0); }\n\n/* [MS-OSHARED] 2.3.3.1.7 VtVecLpwstrValue */\nfunction parse_VtVecLpwstrValue(blob)/*:Array<string>*/ {\n\tvar length = blob.read_shift(4);\n\tvar ret/*:Array<string>*/ = [];\n\tfor(var i = 0; i != length; ++i) {\n\t\tvar start = blob.l;\n\t\tret[i] = blob.read_shift(0, 'lpwstr').replace(chr0,'');\n\t\tif((blob.l - start) & 0x02) blob.l += 2;\n\t}\n\treturn ret;\n}\n\n/* [MS-OSHARED] 2.3.3.1.9 VtVecUnalignedLpstrValue */\nfunction parse_VtVecUnalignedLpstrValue(blob)/*:Array<string>*/ {\n\tvar length = blob.read_shift(4);\n\tvar ret/*:Array<string>*/ = [];\n\tfor(var i = 0; i != length; ++i) ret[i] = blob.read_shift(0, 'lpstr-cp').replace(chr0,'');\n\treturn ret;\n}\n\n\n/* [MS-OSHARED] 2.3.3.1.13 VtHeadingPair */\nfunction parse_VtHeadingPair(blob) {\n\tvar start = blob.l;\n\tvar headingString = parse_TypedPropertyValue(blob, VT_USTR);\n\tif(blob[blob.l] == 0x00 && blob[blob.l+1] == 0x00 && ((blob.l - start) & 0x02)) blob.l += 2;\n\tvar headerParts = parse_TypedPropertyValue(blob, VT_I4);\n\treturn [headingString, headerParts];\n}\n\n/* [MS-OSHARED] 2.3.3.1.14 VtVecHeadingPairValue */\nfunction parse_VtVecHeadingPairValue(blob) {\n\tvar cElements = blob.read_shift(4);\n\tvar out = [];\n\tfor(var i = 0; i < cElements / 2; ++i) out.push(parse_VtHeadingPair(blob));\n\treturn out;\n}\n\n/* [MS-OLEPS] 2.18.1 Dictionary (uses 2.17, 2.16) */\nfunction parse_dictionary(blob,CodePage) {\n\tvar cnt = blob.read_shift(4);\n\tvar dict/*:{[number]:string}*/ = ({}/*:any*/);\n\tfor(var j = 0; j != cnt; ++j) {\n\t\tvar pid = blob.read_shift(4);\n\t\tvar len = blob.read_shift(4);\n\t\tdict[pid] = blob.read_shift(len, (CodePage === 0x4B0 ?'utf16le':'utf8')).replace(chr0,'').replace(chr1,'!');\n\t\tif(CodePage === 0x4B0 && (len % 2)) blob.l += 2;\n\t}\n\tif(blob.l & 3) blob.l = (blob.l>>2+1)<<2;\n\treturn dict;\n}\n\n/* [MS-OLEPS] 2.9 BLOB */\nfunction parse_BLOB(blob) {\n\tvar size = blob.read_shift(4);\n\tvar bytes = blob.slice(blob.l,blob.l+size);\n\tblob.l += size;\n\tif((size & 3) > 0) blob.l += (4 - (size & 3)) & 3;\n\treturn bytes;\n}\n\n/* [MS-OLEPS] 2.11 ClipboardData */\nfunction parse_ClipboardData(blob) {\n\t// TODO\n\tvar o = {};\n\to.Size = blob.read_shift(4);\n\t//o.Format = blob.read_shift(4);\n\tblob.l += o.Size + 3 - (o.Size - 1) % 4;\n\treturn o;\n}\n\n/* [MS-OLEPS] 2.15 TypedPropertyValue */\nfunction parse_TypedPropertyValue(blob, type/*:number*/, _opts)/*:any*/ {\n\tvar t = blob.read_shift(2), ret, opts = _opts||{};\n\tblob.l += 2;\n\tif(type !== VT_VARIANT)\n\tif(t !== type && VT_CUSTOM.indexOf(type)===-1 && !((type & 0xFFFE) == 0x101E && (t & 0xFFFE) == 0x101E)) throw new Error('Expected type ' + type + ' saw ' + t);\n\tswitch(type === VT_VARIANT ? t : type) {\n\t\tcase 0x02 /*VT_I2*/: ret = blob.read_shift(2, 'i'); if(!opts.raw) blob.l += 2; return ret;\n\t\tcase 0x03 /*VT_I4*/: ret = blob.read_shift(4, 'i'); return ret;\n\t\tcase 0x0B /*VT_BOOL*/: return blob.read_shift(4) !== 0x0;\n\t\tcase 0x13 /*VT_UI4*/: ret = blob.read_shift(4); return ret;\n\t\tcase 0x1E /*VT_LPSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/(^|[^\\u0000])\\u0000+$/,\"$1\"); break;\n\t\tcase 0x1F /*VT_LPWSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/(^|[^\\u0000])\\u0000+$/,\"$1\"); break;\n\t\tcase 0x40 /*VT_FILETIME*/: return parse_FILETIME(blob);\n\t\tcase 0x41 /*VT_BLOB*/: return parse_BLOB(blob);\n\t\tcase 0x47 /*VT_CF*/: return parse_ClipboardData(blob);\n\t\tcase 0x50 /*VT_STRING*/: return parse_VtString(blob, t, !opts.raw).replace(chr0,'');\n\t\tcase 0x51 /*VT_USTR*/: return parse_VtUnalignedString(blob, t/*, 4*/).replace(chr0,'');\n\t\tcase 0x100C /*VT_VECTOR|VT_VARIANT*/: return parse_VtVecHeadingPairValue(blob);\n\t\tcase 0x101E /*VT_VECTOR|VT_LPSTR*/:\n\t\tcase 0x101F /*VT_VECTOR|VT_LPWSTR*/:\n\t\t\treturn t == 0x101F ? parse_VtVecLpwstrValue(blob) : parse_VtVecUnalignedLpstrValue(blob);\n\t\tdefault: throw new Error(\"TypedPropertyValue unrecognized type \" + type + \" \" + t);\n\t}\n}\nfunction write_TypedPropertyValue(type/*:number*/, value) {\n\tvar o = new_buf(4), p = new_buf(4);\n\to.write_shift(4, type == 0x50 ? 0x1F : type);\n\tswitch(type) {\n\t\tcase 0x03 /*VT_I4*/: p.write_shift(-4, value); break;\n\t\tcase 0x05 /*VT_I4*/: p = new_buf(8); p.write_shift(8, value, 'f'); break;\n\t\tcase 0x0B /*VT_BOOL*/: p.write_shift(4, value ? 0x01 : 0x00); break;\n\t\tcase 0x40 /*VT_FILETIME*/: /*:: if(typeof value !== \"string\" && !(value instanceof Date)) throw \"unreachable\"; */ p = write_FILETIME(value); break;\n\t\tcase 0x1F /*VT_LPWSTR*/:\n\t\tcase 0x50 /*VT_STRING*/:\n\t\t\t/*:: if(typeof value !== \"string\") throw \"unreachable\"; */\n\t\t\tp = new_buf(4 + 2 * (value.length + 1) + (value.length % 2 ? 0 : 2));\n\t\t\tp.write_shift(4, value.length + 1);\n\t\t\tp.write_shift(0, value, \"dbcs\");\n\t\t\twhile(p.l != p.length) p.write_shift(1, 0);\n\t\t\tbreak;\n\t\tdefault: throw new Error(\"TypedPropertyValue unrecognized type \" + type + \" \" + value);\n\t}\n\treturn bconcat([o, p]);\n}\n\n/* [MS-OLEPS] 2.20 PropertySet */\nfunction parse_PropertySet(blob, PIDSI) {\n\tvar start_addr = blob.l;\n\tvar size = blob.read_shift(4);\n\tvar NumProps = blob.read_shift(4);\n\tvar Props = [], i = 0;\n\tvar CodePage = 0;\n\tvar Dictionary = -1, DictObj/*:{[number]:string}*/ = ({}/*:any*/);\n\tfor(i = 0; i != NumProps; ++i) {\n\t\tvar PropID = blob.read_shift(4);\n\t\tvar Offset = blob.read_shift(4);\n\t\tProps[i] = [PropID, Offset + start_addr];\n\t}\n\tProps.sort(function(x,y) { return x[1] - y[1]; });\n\tvar PropH = {};\n\tfor(i = 0; i != NumProps; ++i) {\n\t\tif(blob.l !== Props[i][1]) {\n\t\t\tvar fail = true;\n\t\t\tif(i>0 && PIDSI) switch(PIDSI[Props[i-1][0]].t) {\n\t\t\t\tcase 0x02 /*VT_I2*/: if(blob.l+2 === Props[i][1]) { blob.l+=2; fail = false; } break;\n\t\t\t\tcase 0x50 /*VT_STRING*/: if(blob.l <= Props[i][1]) { blob.l=Props[i][1]; fail = false; } break;\n\t\t\t\tcase 0x100C /*VT_VECTOR|VT_VARIANT*/: if(blob.l <= Props[i][1]) { blob.l=Props[i][1]; fail = false; } break;\n\t\t\t}\n\t\t\tif((!PIDSI||i==0) && blob.l <= Props[i][1]) { fail=false; blob.l = Props[i][1]; }\n\t\t\tif(fail) throw new Error(\"Read Error: Expected address \" + Props[i][1] + ' at ' + blob.l + ' :' + i);\n\t\t}\n\t\tif(PIDSI) {\n\t\t\tif(Props[i][0] == 0 && Props.length > i+1 && Props[i][1] == Props[i+1][1]) continue; // R9\n\t\t\tvar piddsi = PIDSI[Props[i][0]];\n\t\t\tPropH[piddsi.n] = parse_TypedPropertyValue(blob, piddsi.t, {raw:true});\n\t\t\tif(piddsi.p === 'version') PropH[piddsi.n] = String(PropH[piddsi.n] >> 16) + \".\" + (\"0000\" + String(PropH[piddsi.n] & 0xFFFF)).slice(-4);\n\t\t\tif(piddsi.n == \"CodePage\") switch(PropH[piddsi.n]) {\n\t\t\t\tcase 0: PropH[piddsi.n] = 1252;\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 874:\n\t\t\t\tcase 932:\n\t\t\t\tcase 936:\n\t\t\t\tcase 949:\n\t\t\t\tcase 950:\n\t\t\t\tcase 1250:\n\t\t\t\tcase 1251:\n\t\t\t\tcase 1253:\n\t\t\t\tcase 1254:\n\t\t\t\tcase 1255:\n\t\t\t\tcase 1256:\n\t\t\t\tcase 1257:\n\t\t\t\tcase 1258:\n\t\t\t\tcase 10000:\n\t\t\t\tcase 1200:\n\t\t\t\tcase 1201:\n\t\t\t\tcase 1252:\n\t\t\t\tcase 65000: case -536:\n\t\t\t\tcase 65001: case -535:\n\t\t\t\t\tset_cp(CodePage = (PropH[piddsi.n]>>>0) & 0xFFFF); break;\n\t\t\t\tdefault: throw new Error(\"Unsupported CodePage: \" + PropH[piddsi.n]);\n\t\t\t}\n\t\t} else {\n\t\t\tif(Props[i][0] === 0x1) {\n\t\t\t\tCodePage = PropH.CodePage = (parse_TypedPropertyValue(blob, VT_I2)/*:number*/);\n\t\t\t\tset_cp(CodePage);\n\t\t\t\tif(Dictionary !== -1) {\n\t\t\t\t\tvar oldpos = blob.l;\n\t\t\t\t\tblob.l = Props[Dictionary][1];\n\t\t\t\t\tDictObj = parse_dictionary(blob,CodePage);\n\t\t\t\t\tblob.l = oldpos;\n\t\t\t\t}\n\t\t\t} else if(Props[i][0] === 0) {\n\t\t\t\tif(CodePage === 0) { Dictionary = i; blob.l = Props[i+1][1]; continue; }\n\t\t\t\tDictObj = parse_dictionary(blob,CodePage);\n\t\t\t} else {\n\t\t\t\tvar name = DictObj[Props[i][0]];\n\t\t\t\tvar val;\n\t\t\t\t/* [MS-OSHARED] 2.3.3.2.3.1.2 + PROPVARIANT */\n\t\t\t\tswitch(blob[blob.l]) {\n\t\t\t\t\tcase 0x41 /*VT_BLOB*/: blob.l += 4; val = parse_BLOB(blob); break;\n\t\t\t\t\tcase 0x1E /*VT_LPSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/(^|[^\\u0000])\\u0000+$/,\"$1\"); break;\n\t\t\t\t\tcase 0x1F /*VT_LPWSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/(^|[^\\u0000])\\u0000+$/,\"$1\"); break;\n\t\t\t\t\tcase 0x03 /*VT_I4*/: blob.l += 4; val = blob.read_shift(4, 'i'); break;\n\t\t\t\t\tcase 0x13 /*VT_UI4*/: blob.l += 4; val = blob.read_shift(4); break;\n\t\t\t\t\tcase 0x05 /*VT_R8*/: blob.l += 4; val = blob.read_shift(8, 'f'); break;\n\t\t\t\t\tcase 0x0B /*VT_BOOL*/: blob.l += 4; val = parsebool(blob, 4); break;\n\t\t\t\t\tcase 0x40 /*VT_FILETIME*/: blob.l += 4; val = parseDate(parse_FILETIME(blob)); break;\n\t\t\t\t\tdefault: throw new Error(\"unparsed value: \" + blob[blob.l]);\n\t\t\t\t}\n\t\t\t\tPropH[name] = val;\n\t\t\t}\n\t\t}\n\t}\n\tblob.l = start_addr + size; /* step ahead to skip padding */\n\treturn PropH;\n}\nvar XLSPSSkip = [ \"CodePage\", \"Thumbnail\", \"_PID_LINKBASE\", \"_PID_HLINKS\", \"SystemIdentifier\", \"FMTID\" ];\nfunction guess_property_type(val/*:any*/)/*:number*/ {\n\tswitch(typeof val) {\n\t\tcase \"boolean\": return 0x0B;\n\t\tcase \"number\": return ((val|0)==val) ? 0x03 : 0x05;\n\t\tcase \"string\": return 0x1F;\n\t\tcase \"object\": if(val instanceof Date) return 0x40; break;\n\t}\n\treturn -1;\n}\nfunction write_PropertySet(entries, RE, PIDSI) {\n\tvar hdr = new_buf(8), piao = [], prop = [];\n\tvar sz = 8, i = 0;\n\n\tvar pr = new_buf(8), pio = new_buf(8);\n\tpr.write_shift(4, 0x0002);\n\tpr.write_shift(4, 0x04B0);\n\tpio.write_shift(4, 0x0001);\n\tprop.push(pr); piao.push(pio);\n\tsz += 8 + pr.length;\n\n\tif(!RE) {\n\t\tpio = new_buf(8);\n\t\tpio.write_shift(4, 0);\n\t\tpiao.unshift(pio);\n\n\t\tvar bufs = [new_buf(4)];\n\t\tbufs[0].write_shift(4, entries.length);\n\t\tfor(i = 0; i < entries.length; ++i) {\n\t\t\tvar value = entries[i][0];\n\t\t\tpr = new_buf(4 + 4 + 2 * (value.length + 1) + (value.length % 2 ? 0 : 2));\n\t\t\tpr.write_shift(4, i+2);\n\t\t\tpr.write_shift(4, value.length + 1);\n\t\t\tpr.write_shift(0, value, \"dbcs\");\n\t\t\twhile(pr.l != pr.length) pr.write_shift(1, 0);\n\t\t\tbufs.push(pr);\n\t\t}\n\t\tpr = bconcat(bufs);\n\t\tprop.unshift(pr);\n\t\tsz += 8 + pr.length;\n\t}\n\n\tfor(i = 0; i < entries.length; ++i) {\n\t\tif(RE && !RE[entries[i][0]]) continue;\n\t\tif(XLSPSSkip.indexOf(entries[i][0]) > -1 || PseudoPropsPairs.indexOf(entries[i][0]) > -1) continue;\n\t\tif(entries[i][1] == null) continue;\n\n\t\tvar val = entries[i][1], idx = 0;\n\t\tif(RE) {\n\t\t\tidx = +RE[entries[i][0]];\n\t\t\tvar pinfo = (PIDSI/*:: || {}*/)[idx]/*:: || {} */;\n\t\t\tif(pinfo.p == \"version\" && typeof val == \"string\") {\n\t\t\t\t/*:: if(typeof val !== \"string\") throw \"unreachable\"; */\n\t\t\t\tvar arr = val.split(\".\");\n\t\t\t\tval = ((+arr[0])<<16) + ((+arr[1])||0);\n\t\t\t}\n\t\t\tpr = write_TypedPropertyValue(pinfo.t, val);\n\t\t} else {\n\t\t\tvar T = guess_property_type(val);\n\t\t\tif(T == -1) { T = 0x1F; val = String(val); }\n\t\t\tpr = write_TypedPropertyValue(T, val);\n\t\t}\n\t\tprop.push(pr);\n\n\t\tpio = new_buf(8);\n\t\tpio.write_shift(4, !RE ? 2+i : idx);\n\t\tpiao.push(pio);\n\n\t\tsz += 8 + pr.length;\n\t}\n\n\tvar w = 8 * (prop.length + 1);\n\tfor(i = 0; i < prop.length; ++i) { piao[i].write_shift(4, w); w += prop[i].length; }\n\thdr.write_shift(4, sz);\n\thdr.write_shift(4, prop.length);\n\treturn bconcat([hdr].concat(piao).concat(prop));\n}\n\n/* [MS-OLEPS] 2.21 PropertySetStream */\nfunction parse_PropertySetStream(file, PIDSI, clsid) {\n\tvar blob = file.content;\n\tif(!blob) return ({}/*:any*/);\n\tprep_blob(blob, 0);\n\n\tvar NumSets, FMTID0, FMTID1, Offset0, Offset1 = 0;\n\tblob.chk('feff', 'Byte Order: ');\n\n\t/*var vers = */blob.read_shift(2); // TODO: check version\n\tvar SystemIdentifier = blob.read_shift(4);\n\tvar CLSID = blob.read_shift(16);\n\tif(CLSID !== CFB.utils.consts.HEADER_CLSID && CLSID !== clsid) throw new Error(\"Bad PropertySet CLSID \" + CLSID);\n\tNumSets = blob.read_shift(4);\n\tif(NumSets !== 1 && NumSets !== 2) throw new Error(\"Unrecognized #Sets: \" + NumSets);\n\tFMTID0 = blob.read_shift(16); Offset0 = blob.read_shift(4);\n\n\tif(NumSets === 1 && Offset0 !== blob.l) throw new Error(\"Length mismatch: \" + Offset0 + \" !== \" + blob.l);\n\telse if(NumSets === 2) { FMTID1 = blob.read_shift(16); Offset1 = blob.read_shift(4); }\n\tvar PSet0 = parse_PropertySet(blob, PIDSI);\n\n\tvar rval = ({ SystemIdentifier: SystemIdentifier }/*:any*/);\n\tfor(var y in PSet0) rval[y] = PSet0[y];\n\t//rval.blob = blob;\n\trval.FMTID = FMTID0;\n\t//rval.PSet0 = PSet0;\n\tif(NumSets === 1) return rval;\n\tif(Offset1 - blob.l == 2) blob.l += 2;\n\tif(blob.l !== Offset1) throw new Error(\"Length mismatch 2: \" + blob.l + \" !== \" + Offset1);\n\tvar PSet1;\n\ttry { PSet1 = parse_PropertySet(blob, null); } catch(e) {/* empty */}\n\tfor(y in PSet1) rval[y] = PSet1[y];\n\trval.FMTID = [FMTID0, FMTID1]; // TODO: verify FMTID0/1\n\treturn rval;\n}\nfunction write_PropertySetStream(entries, clsid, RE, PIDSI/*:{[key:string|number]:any}*/, entries2/*:?any*/, clsid2/*:?any*/) {\n\tvar hdr = new_buf(entries2 ? 68 : 48);\n\tvar bufs = [hdr];\n\thdr.write_shift(2, 0xFFFE);\n\thdr.write_shift(2, 0x0000); /* TODO: type 1 props */\n\thdr.write_shift(4, 0x32363237);\n\thdr.write_shift(16, CFB.utils.consts.HEADER_CLSID, \"hex\");\n\thdr.write_shift(4, (entries2 ? 2 : 1));\n\thdr.write_shift(16, clsid, \"hex\");\n\thdr.write_shift(4, (entries2 ? 68 : 48));\n\tvar ps0 = write_PropertySet(entries, RE, PIDSI);\n\tbufs.push(ps0);\n\n\tif(entries2) {\n\t\tvar ps1 = write_PropertySet(entries2, null, null);\n\t\thdr.write_shift(16, clsid2, \"hex\");\n\t\thdr.write_shift(4, 68 + ps0.length);\n\t\tbufs.push(ps1);\n\t}\n\treturn bconcat(bufs);\n}\n\nfunction parsenoop2(blob, length) { blob.read_shift(length); return null; }\nfunction writezeroes(n, o) { if(!o) o=new_buf(n); for(var j=0; j<n; ++j) o.write_shift(1, 0); return o; }\n\nfunction parslurp(blob, length, cb) {\n\tvar arr = [], target = blob.l + length;\n\twhile(blob.l < target) arr.push(cb(blob, target - blob.l));\n\tif(target !== blob.l) throw new Error(\"Slurp error\");\n\treturn arr;\n}\n\nfunction parsebool(blob, length/*:number*/) { return blob.read_shift(length) === 0x1; }\nfunction writebool(v/*:any*/, o) { if(!o) o=new_buf(2); o.write_shift(2, +!!v); return o; }\n\nfunction parseuint16(blob/*::, length:?number, opts:?any*/) { return blob.read_shift(2, 'u'); }\nfunction writeuint16(v/*:number*/, o) { if(!o) o=new_buf(2); o.write_shift(2, v); return o; }\nfunction parseuint16a(blob, length/*:: :?number, opts:?any*/) { return parslurp(blob,length,parseuint16);}\n\n/* --- 2.5 Structures --- */\n\n/* [MS-XLS] 2.5.10 Bes (boolean or error) */\nfunction parse_Bes(blob/*::, length*/) {\n\tvar v = blob.read_shift(1), t = blob.read_shift(1);\n\treturn t === 0x01 ? v : v === 0x01;\n}\nfunction write_Bes(v, t/*:string*/, o) {\n\tif(!o) o = new_buf(2);\n\to.write_shift(1, ((t == 'e') ? +v : +!!v));\n\to.write_shift(1, ((t == 'e') ? 1 : 0));\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.240 ShortXLUnicodeString */\nfunction parse_ShortXLUnicodeString(blob, length, opts) {\n\tvar cch = blob.read_shift(opts && opts.biff >= 12 ? 2 : 1);\n\tvar encoding = 'sbcs-cont';\n\tvar cp = current_codepage;\n\tif(opts && opts.biff >= 8) current_codepage = 1200;\n\tif(!opts || opts.biff == 8 ) {\n\t\tvar fHighByte = blob.read_shift(1);\n\t\tif(fHighByte) { encoding = 'dbcs-cont'; }\n\t} else if(opts.biff == 12) {\n\t\tencoding = 'wstr';\n\t}\n\tif(opts.biff >= 2 && opts.biff <= 5) encoding = 'cpstr';\n\tvar o = cch ? blob.read_shift(cch, encoding) : \"\";\n\tcurrent_codepage = cp;\n\treturn o;\n}\n\n/* 2.5.293 XLUnicodeRichExtendedString */\nfunction parse_XLUnicodeRichExtendedString(blob) {\n\tvar cp = current_codepage;\n\tcurrent_codepage = 1200;\n\tvar cch = blob.read_shift(2), flags = blob.read_shift(1);\n\tvar /*fHighByte = flags & 0x1,*/ fExtSt = flags & 0x4, fRichSt = flags & 0x8;\n\tvar width = 1 + (flags & 0x1); // 0x0 -> utf8, 0x1 -> dbcs\n\tvar cRun = 0, cbExtRst;\n\tvar z = {};\n\tif(fRichSt) cRun = blob.read_shift(2);\n\tif(fExtSt) cbExtRst = blob.read_shift(4);\n\tvar encoding = width == 2 ? 'dbcs-cont' : 'sbcs-cont';\n\tvar msg = cch === 0 ? \"\" : blob.read_shift(cch, encoding);\n\tif(fRichSt) blob.l += 4 * cRun; //TODO: parse this\n\tif(fExtSt) blob.l += cbExtRst; //TODO: parse this\n\tz.t = msg;\n\tif(!fRichSt) { z.raw = \"<t>\" + z.t + \"</t>\"; z.r = z.t; }\n\tcurrent_codepage = cp;\n\treturn z;\n}\nfunction write_XLUnicodeRichExtendedString(xlstr/*:: :XLString, opts*/) {\n\tvar str = (xlstr.t||\"\"), nfmts = 1;\n\n\tvar hdr = new_buf(3 + (nfmts > 1 ? 2 : 0));\n\thdr.write_shift(2, str.length);\n\thdr.write_shift(1, (nfmts > 1 ? 0x08 : 0x00) | 0x01);\n\tif(nfmts > 1) hdr.write_shift(2, nfmts);\n\n\tvar otext = new_buf(2 * str.length);\n\totext.write_shift(2 * str.length, str, 'utf16le');\n\n\tvar out = [hdr, otext];\n\n\treturn bconcat(out);\n}\n\n/* 2.5.296 XLUnicodeStringNoCch */\nfunction parse_XLUnicodeStringNoCch(blob, cch, opts) {\n\tvar retval;\n\tif(opts) {\n\t\tif(opts.biff >= 2 && opts.biff <= 5) return blob.read_shift(cch, 'cpstr');\n\t\tif(opts.biff >= 12) return blob.read_shift(cch, 'dbcs-cont');\n\t}\n\tvar fHighByte = blob.read_shift(1);\n\tif(fHighByte===0) { retval = blob.read_shift(cch, 'sbcs-cont'); }\n\telse { retval = blob.read_shift(cch, 'dbcs-cont'); }\n\treturn retval;\n}\n\n/* 2.5.294 XLUnicodeString */\nfunction parse_XLUnicodeString(blob, length, opts) {\n\tvar cch = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\tif(cch === 0) { blob.l++; return \"\"; }\n\treturn parse_XLUnicodeStringNoCch(blob, cch, opts);\n}\n/* BIFF5 override */\nfunction parse_XLUnicodeString2(blob, length, opts) {\n\tif(opts.biff > 5) return parse_XLUnicodeString(blob, length, opts);\n\tvar cch = blob.read_shift(1);\n\tif(cch === 0) { blob.l++; return \"\"; }\n\treturn blob.read_shift(cch, (opts.biff <= 4 || !blob.lens ) ? 'cpstr' : 'sbcs-cont');\n}\n/* TODO: BIFF5 and lower, codepage awareness */\nfunction write_XLUnicodeString(str, opts, o) {\n\tif(!o) o = new_buf(3 + 2 * str.length);\n\to.write_shift(2, str.length);\n\to.write_shift(1, 1);\n\to.write_shift(31, str, 'utf16le');\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.61 ControlInfo */\nfunction parse_ControlInfo(blob/*::, length, opts*/) {\n\tvar flags = blob.read_shift(1);\n\tblob.l++;\n\tvar accel = blob.read_shift(2);\n\tblob.l += 2;\n\treturn [flags, accel];\n}\n\n/* [MS-OSHARED] 2.3.7.6 URLMoniker TODO: flags */\nfunction parse_URLMoniker(blob/*::, length, opts*/) {\n\tvar len = blob.read_shift(4), start = blob.l;\n\tvar extra = false;\n\tif(len > 24) {\n\t\t/* look ahead */\n\t\tblob.l += len - 24;\n\t\tif(blob.read_shift(16) === \"795881f43b1d7f48af2c825dc4852763\") extra = true;\n\t\tblob.l = start;\n\t}\n\tvar url = blob.read_shift((extra?len-24:len)>>1, 'utf16le').replace(chr0,\"\");\n\tif(extra) blob.l += 24;\n\treturn url;\n}\n\n/* [MS-OSHARED] 2.3.7.8 FileMoniker TODO: all fields */\nfunction parse_FileMoniker(blob/*::, length*/) {\n\tvar cAnti = blob.read_shift(2);\n\tvar preamble = \"\"; while(cAnti-- > 0) preamble += \"../\";\n\tvar ansiPath = blob.read_shift(0, 'lpstr-ansi');\n\tblob.l += 2; //var endServer = blob.read_shift(2);\n\tif(blob.read_shift(2) != 0xDEAD) throw new Error(\"Bad FileMoniker\");\n\tvar sz = blob.read_shift(4);\n\tif(sz === 0) return preamble + ansiPath.replace(/\\\\/g,\"/\");\n\tvar bytes = blob.read_shift(4);\n\tif(blob.read_shift(2) != 3) throw new Error(\"Bad FileMoniker\");\n\tvar unicodePath = blob.read_shift(bytes>>1, 'utf16le').replace(chr0,\"\");\n\treturn preamble + unicodePath;\n}\n\n/* [MS-OSHARED] 2.3.7.2 HyperlinkMoniker TODO: all the monikers */\nfunction parse_HyperlinkMoniker(blob, length) {\n\tvar clsid = blob.read_shift(16); length -= 16;\n\tswitch(clsid) {\n\t\tcase \"e0c9ea79f9bace118c8200aa004ba90b\": return parse_URLMoniker(blob, length);\n\t\tcase \"0303000000000000c000000000000046\": return parse_FileMoniker(blob, length);\n\t\tdefault: throw new Error(\"Unsupported Moniker \" + clsid);\n\t}\n}\n\n/* [MS-OSHARED] 2.3.7.9 HyperlinkString */\nfunction parse_HyperlinkString(blob/*::, length*/) {\n\tvar len = blob.read_shift(4);\n\tvar o = len > 0 ? blob.read_shift(len, 'utf16le').replace(chr0, \"\") : \"\";\n\treturn o;\n}\nfunction write_HyperlinkString(str/*:string*/, o) {\n\tif(!o) o = new_buf(6 + str.length * 2);\n\to.write_shift(4, 1 + str.length);\n\tfor(var i = 0; i < str.length; ++i) o.write_shift(2, str.charCodeAt(i));\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-OSHARED] 2.3.7.1 Hyperlink Object */\nfunction parse_Hyperlink(blob, length)/*:Hyperlink*/ {\n\tvar end = blob.l + length;\n\tvar sVer = blob.read_shift(4);\n\tif(sVer !== 2) throw new Error(\"Unrecognized streamVersion: \" + sVer);\n\tvar flags = blob.read_shift(2);\n\tblob.l += 2;\n\tvar displayName, targetFrameName, moniker, oleMoniker, Loc=\"\", guid, fileTime;\n\tif(flags & 0x0010) displayName = parse_HyperlinkString(blob, end - blob.l);\n\tif(flags & 0x0080) targetFrameName = parse_HyperlinkString(blob, end - blob.l);\n\tif((flags & 0x0101) === 0x0101) moniker = parse_HyperlinkString(blob, end - blob.l);\n\tif((flags & 0x0101) === 0x0001) oleMoniker = parse_HyperlinkMoniker(blob, end - blob.l);\n\tif(flags & 0x0008) Loc = parse_HyperlinkString(blob, end - blob.l);\n\tif(flags & 0x0020) guid = blob.read_shift(16);\n\tif(flags & 0x0040) fileTime = parse_FILETIME(blob/*, 8*/);\n\tblob.l = end;\n\tvar target = targetFrameName||moniker||oleMoniker||\"\";\n\tif(target && Loc) target+=\"#\"+Loc;\n\tif(!target) target = \"#\" + Loc;\n\tif((flags & 0x0002) && target.charAt(0) == \"/\" && target.charAt(1) != \"/\") target = \"file://\" + target;\n\tvar out = ({Target:target}/*:any*/);\n\tif(guid) out.guid = guid;\n\tif(fileTime) out.time = fileTime;\n\tif(displayName) out.Tooltip = displayName;\n\treturn out;\n}\nfunction write_Hyperlink(hl) {\n\tvar out = new_buf(512), i = 0;\n\tvar Target = hl.Target;\n\tif(Target.slice(0,7) == \"file://\") Target = Target.slice(7);\n\tvar hashidx = Target.indexOf(\"#\");\n\tvar F = hashidx > -1 ? 0x1f : 0x17;\n\tswitch(Target.charAt(0)) { case \"#\": F=0x1c; break; case \".\": F&=~2; break; }\n\tout.write_shift(4,2); out.write_shift(4, F);\n\tvar data = [8,6815827,6619237,4849780,83]; for(i = 0; i < data.length; ++i) out.write_shift(4, data[i]);\n\tif(F == 0x1C) {\n\t\tTarget = Target.slice(1);\n\t\twrite_HyperlinkString(Target, out);\n\t} else if(F & 0x02) {\n\t\tdata = \"e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b\".split(\" \");\n\t\tfor(i = 0; i < data.length; ++i) out.write_shift(1, parseInt(data[i], 16));\n\t\tvar Pretarget = hashidx > -1 ? Target.slice(0, hashidx) : Target;\n\t\tout.write_shift(4, 2*(Pretarget.length + 1));\n\t\tfor(i = 0; i < Pretarget.length; ++i) out.write_shift(2, Pretarget.charCodeAt(i));\n\t\tout.write_shift(2, 0);\n\t\tif(F & 0x08) write_HyperlinkString(hashidx > -1 ? Target.slice(hashidx+1): \"\", out);\n\t} else {\n\t\tdata = \"03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46\".split(\" \");\n\t\tfor(i = 0; i < data.length; ++i) out.write_shift(1, parseInt(data[i], 16));\n\t\tvar P = 0;\n\t\twhile(Target.slice(P*3,P*3+3)==\"../\"||Target.slice(P*3,P*3+3)==\"..\\\\\") ++P;\n\t\tout.write_shift(2, P);\n\t\tout.write_shift(4, Target.length - 3 * P + 1);\n\t\tfor(i = 0; i < Target.length - 3 * P; ++i) out.write_shift(1, Target.charCodeAt(i + 3 * P) & 0xFF);\n\t\tout.write_shift(1, 0);\n\t\tout.write_shift(2, 0xFFFF);\n\t\tout.write_shift(2, 0xDEAD);\n\t\tfor(i = 0; i < 6; ++i) out.write_shift(4, 0);\n\t}\n\treturn out.slice(0, out.l);\n}\n\n/* 2.5.178 LongRGBA */\nfunction parse_LongRGBA(blob/*::, length*/) { var r = blob.read_shift(1), g = blob.read_shift(1), b = blob.read_shift(1), a = blob.read_shift(1); return [r,g,b,a]; }\n\n/* 2.5.177 LongRGB */\nfunction parse_LongRGB(blob, length) { var x = parse_LongRGBA(blob, length); x[3] = 0; return x; }\n\n\n/* [MS-XLS] 2.5.19 */\nfunction parse_XLSCell(blob, length, opts)/*:Cell*/ {\n\tvar rw = blob.read_shift(2); // 0-indexed\n\tvar col = blob.read_shift(2);\n\tvar ret = ({r:rw, c:col, ixfe:0}/*:any*/);\n\tif(opts && opts.biff == 2 || length == 7) {\n\t\t/* TODO: pass back flags */\n\t\tvar flags = blob.read_shift(1);\n\t\tret.ixfe = flags & 0x3F;\n\t\tblob.l += 2;\n\t\t/*\n\t\tvar ifntifmt = blob.read_shift(1);\n\t\tvar ifmt = ifntifmt & 0x3f, ifnt = ifntifmt >> 6;\n\t\tvar flags3 = blob.read_shift(1);\n\t\t*/\n\t} else ret.ixfe = blob.read_shift(2);\n\treturn ret;\n}\nfunction write_XLSCell(R/*:number*/, C/*:number*/, ixfe/*:?number*/, o) {\n\tif(!o) o = new_buf(6);\n\to.write_shift(2, R);\n\to.write_shift(2, C);\n\to.write_shift(2, ixfe||0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.134 */\nfunction parse_frtHeader(blob) {\n\tvar rt = blob.read_shift(2);\n\tvar flags = blob.read_shift(2); // TODO: parse these flags\n\tblob.l += 8;\n\treturn {type: rt, flags: flags};\n}\n\n\n\nfunction parse_OptXLUnicodeString(blob, length, opts) { return length === 0 ? \"\" : parse_XLUnicodeString2(blob, length, opts); }\n\n/* [MS-XLS] 2.5.344 */\nfunction parse_XTI(blob, length, opts) {\n\tvar w = opts.biff > 8 ? 4 : 2;\n\tvar iSupBook = blob.read_shift(w), itabFirst = blob.read_shift(w,'i'), itabLast = blob.read_shift(w,'i');\n\treturn [iSupBook, itabFirst, itabLast];\n}\n\n/* [MS-XLS] 2.5.218 */\nfunction parse_RkRec(blob) {\n\tvar ixfe = blob.read_shift(2);\n\tvar RK = parse_RkNumber(blob);\n\treturn [ixfe, RK];\n}\n\n/* [MS-XLS] 2.5.1 */\nfunction parse_AddinUdf(blob, length, opts) {\n\tblob.l += 4; length -= 4;\n\tvar l = blob.l + length;\n\tvar udfName = parse_ShortXLUnicodeString(blob, length, opts);\n\tvar cb = blob.read_shift(2);\n\tl -= blob.l;\n\tif(cb !== l) throw new Error(\"Malformed AddinUdf: padding = \" + l + \" != \" + cb);\n\tblob.l += cb;\n\treturn udfName;\n}\n\n/* [MS-XLS] 2.5.209 TODO: Check sizes */\nfunction parse_Ref8U(blob/*::, length*/) {\n\tvar rwFirst = blob.read_shift(2);\n\tvar rwLast = blob.read_shift(2);\n\tvar colFirst = blob.read_shift(2);\n\tvar colLast = blob.read_shift(2);\n\treturn {s:{c:colFirst, r:rwFirst}, e:{c:colLast,r:rwLast}};\n}\nfunction write_Ref8U(r/*:Range*/, o) {\n\tif(!o) o = new_buf(8);\n\to.write_shift(2, r.s.r);\n\to.write_shift(2, r.e.r);\n\to.write_shift(2, r.s.c);\n\to.write_shift(2, r.e.c);\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.211 */\nfunction parse_RefU(blob/*::, length*/) {\n\tvar rwFirst = blob.read_shift(2);\n\tvar rwLast = blob.read_shift(2);\n\tvar colFirst = blob.read_shift(1);\n\tvar colLast = blob.read_shift(1);\n\treturn {s:{c:colFirst, r:rwFirst}, e:{c:colLast,r:rwLast}};\n}\n\n/* [MS-XLS] 2.5.207 */\nvar parse_Ref = parse_RefU;\n\n/* [MS-XLS] 2.5.143 */\nfunction parse_FtCmo(blob/*::, length*/) {\n\tblob.l += 4;\n\tvar ot = blob.read_shift(2);\n\tvar id = blob.read_shift(2);\n\tvar flags = blob.read_shift(2);\n\tblob.l+=12;\n\treturn [id, ot, flags];\n}\n\n/* [MS-XLS] 2.5.149 */\nfunction parse_FtNts(blob) {\n\tvar out = {};\n\tblob.l += 4;\n\tblob.l += 16; // GUID TODO\n\tout.fSharedNote = blob.read_shift(2);\n\tblob.l += 4;\n\treturn out;\n}\n\n/* [MS-XLS] 2.5.142 */\nfunction parse_FtCf(blob) {\n\tvar out = {};\n\tblob.l += 4;\n\tblob.cf = blob.read_shift(2);\n\treturn out;\n}\n\n/* [MS-XLS] 2.5.140 - 2.5.154 and friends */\nfunction parse_FtSkip(blob) { blob.l += 2; blob.l += blob.read_shift(2); }\nvar FtTab = {\n\t0x00: parse_FtSkip,      /* FtEnd */\n\t0x04: parse_FtSkip,      /* FtMacro */\n\t0x05: parse_FtSkip,      /* FtButton */\n\t0x06: parse_FtSkip,      /* FtGmo */\n\t0x07: parse_FtCf,        /* FtCf */\n\t0x08: parse_FtSkip,      /* FtPioGrbit */\n\t0x09: parse_FtSkip,      /* FtPictFmla */\n\t0x0A: parse_FtSkip,      /* FtCbls */\n\t0x0B: parse_FtSkip,      /* FtRbo */\n\t0x0C: parse_FtSkip,      /* FtSbs */\n\t0x0D: parse_FtNts,       /* FtNts */\n\t0x0E: parse_FtSkip,      /* FtSbsFmla */\n\t0x0F: parse_FtSkip,      /* FtGboData */\n\t0x10: parse_FtSkip,      /* FtEdoData */\n\t0x11: parse_FtSkip,      /* FtRboData */\n\t0x12: parse_FtSkip,      /* FtCblsData */\n\t0x13: parse_FtSkip,      /* FtLbsData */\n\t0x14: parse_FtSkip,      /* FtCblsFmla */\n\t0x15: parse_FtCmo\n};\nfunction parse_FtArray(blob, length/*::, ot*/) {\n\tvar tgt = blob.l + length;\n\tvar fts = [];\n\twhile(blob.l < tgt) {\n\t\tvar ft = blob.read_shift(2);\n\t\tblob.l-=2;\n\t\ttry {\n\t\t\tfts[ft] = FtTab[ft](blob, tgt - blob.l);\n\t\t} catch(e) { blob.l = tgt; return fts; }\n\t}\n\tif(blob.l != tgt) blob.l = tgt; //throw new Error(\"bad Object Ft-sequence\");\n\treturn fts;\n}\n\n/* --- 2.4 Records --- */\n\n/* [MS-XLS] 2.4.21 */\nfunction parse_BOF(blob, length) {\n\tvar o = {BIFFVer:0, dt:0};\n\to.BIFFVer = blob.read_shift(2); length -= 2;\n\tif(length >= 2) { o.dt = blob.read_shift(2); blob.l -= 2; }\n\tswitch(o.BIFFVer) {\n\t\tcase 0x0600: /* BIFF8 */\n\t\tcase 0x0500: /* BIFF5 */\n\t\tcase 0x0400: /* BIFF4 */\n\t\tcase 0x0300: /* BIFF3 */\n\t\tcase 0x0200: /* BIFF2 */\n\t\tcase 0x0002: case 0x0007: /* BIFF2 */\n\t\t\tbreak;\n\t\tdefault: if(length > 6) throw new Error(\"Unexpected BIFF Ver \" + o.BIFFVer);\n\t}\n\n\tblob.read_shift(length);\n\treturn o;\n}\nfunction write_BOF(wb/*:Workbook*/, t/*:number*/, o) {\n\tvar h = 0x0600, w = 16;\n\tswitch(o.bookType) {\n\t\tcase 'biff8': break;\n\t\tcase 'biff5': h = 0x0500; w = 8; break;\n\t\tcase 'biff4': h = 0x0004; w = 6; break;\n\t\tcase 'biff3': h = 0x0003; w = 6; break;\n\t\tcase 'biff2': h = 0x0002; w = 4; break;\n\t\tcase 'xla': break;\n\t\tdefault: throw new Error(\"unsupported BIFF version\");\n\t}\n\tvar out = new_buf(w);\n\tout.write_shift(2, h);\n\tout.write_shift(2, t);\n\tif(w > 4) out.write_shift(2, 0x7262);\n\tif(w > 6) out.write_shift(2, 0x07CD);\n\tif(w > 8) {\n\t\tout.write_shift(2, 0xC009);\n\t\tout.write_shift(2, 0x0001);\n\t\tout.write_shift(2, 0x0706);\n\t\tout.write_shift(2, 0x0000);\n\t}\n\treturn out;\n}\n\n\n/* [MS-XLS] 2.4.146 */\nfunction parse_InterfaceHdr(blob, length) {\n\tif(length === 0) return 0x04b0;\n\tif((blob.read_shift(2))!==0x04b0){/* empty */}\n\treturn 0x04b0;\n}\n\n\n/* [MS-XLS] 2.4.349 */\nfunction parse_WriteAccess(blob, length, opts) {\n\tif(opts.enc) { blob.l += length; return \"\"; }\n\tvar l = blob.l;\n\t// TODO: make sure XLUnicodeString doesnt overrun\n\tvar UserName = parse_XLUnicodeString2(blob, 0, opts);\n\tblob.read_shift(length + l - blob.l);\n\treturn UserName;\n}\nfunction write_WriteAccess(s/*:string*/, opts) {\n\tvar b8 = !opts || opts.biff == 8;\n\tvar o = new_buf(b8 ? 112 : 54);\n\to.write_shift(opts.biff == 8 ? 2 : 1, 7);\n\tif(b8) o.write_shift(1, 0);\n\to.write_shift(4, 0x33336853);\n\to.write_shift(4, (0x00534A74 | (b8 ? 0 : 0x20000000)));\n\twhile(o.l < o.length) o.write_shift(1, (b8 ? 0 : 32));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.351 */\nfunction parse_WsBool(blob, length, opts) {\n\tvar flags = opts && opts.biff == 8 || length == 2 ? blob.read_shift(2) : (blob.l += length, 0);\n\treturn { fDialog: flags & 0x10, fBelow: flags & 0x40, fRight: flags & 0x80 };\n}\n\n/* [MS-XLS] 2.4.28 */\nfunction parse_BoundSheet8(blob, length, opts) {\n\tvar name = \"\";\n\tif(opts.biff == 4) {\n\t\tname = parse_ShortXLUnicodeString(blob, 0, opts);\n\t\tif(name.length === 0) name = \"Sheet1\";\n\t\treturn { name:name };\n\t}\n\tvar pos = blob.read_shift(4);\n\tvar hidden = blob.read_shift(1) & 0x03;\n\tvar dt = blob.read_shift(1);\n\tswitch(dt) {\n\t\tcase 0: dt = 'Worksheet'; break;\n\t\tcase 1: dt = 'Macrosheet'; break;\n\t\tcase 2: dt = 'Chartsheet'; break;\n\t\tcase 6: dt = 'VBAModule'; break;\n\t}\n\tname = parse_ShortXLUnicodeString(blob, 0, opts);\n\tif(name.length === 0) name = \"Sheet1\";\n\treturn { pos:pos, hs:hidden, dt:dt, name:name };\n}\nfunction write_BoundSheet8(data, opts) {\n\tvar w = (!opts || opts.biff >= 8 ? 2 : 1);\n\tvar o = new_buf(8 + w * data.name.length);\n\to.write_shift(4, data.pos);\n\to.write_shift(1, data.hs || 0);\n\to.write_shift(1, data.dt);\n\to.write_shift(1, data.name.length);\n\tif(opts.biff >= 8) o.write_shift(1, 1);\n\to.write_shift(w * data.name.length, data.name, opts.biff < 8 ? 'sbcs' : 'utf16le');\n\tvar out = o.slice(0, o.l);\n\tout.l = o.l; return out;\n}\n\n/* [MS-XLS] 2.4.265 TODO */\nfunction parse_SST(blob, length)/*:SST*/ {\n\tvar end = blob.l + length;\n\tvar cnt = blob.read_shift(4);\n\tvar ucnt = blob.read_shift(4);\n\tvar strs/*:SST*/ = ([]/*:any*/);\n\tfor(var i = 0; i != ucnt && blob.l < end; ++i) {\n\t\tstrs.push(parse_XLUnicodeRichExtendedString(blob));\n\t}\n\tstrs.Count = cnt; strs.Unique = ucnt;\n\treturn strs;\n}\nfunction write_SST(sst, opts) {\n\tvar header = new_buf(8);\n\theader.write_shift(4, sst.Count);\n\theader.write_shift(4, sst.Unique);\n\tvar strs = [];\n\tfor(var j = 0; j < sst.length; ++j) strs[j] = write_XLUnicodeRichExtendedString(sst[j], opts);\n\tvar o = bconcat([header].concat(strs));\n\t/*::(*/o/*:: :any)*/.parts = [header.length].concat(strs.map(function(str) { return str.length; }));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.107 */\nfunction parse_ExtSST(blob, length) {\n\tvar extsst = {};\n\textsst.dsst = blob.read_shift(2);\n\tblob.l += length-2;\n\treturn extsst;\n}\n\n\n/* [MS-XLS] 2.4.221 TODO: check BIFF2-4 */\nfunction parse_Row(blob) {\n\tvar z = ({}/*:any*/);\n\tz.r = blob.read_shift(2);\n\tz.c = blob.read_shift(2);\n\tz.cnt = blob.read_shift(2) - z.c;\n\tvar miyRw = blob.read_shift(2);\n\tblob.l += 4; // reserved(2), unused(2)\n\tvar flags = blob.read_shift(1); // various flags\n\tblob.l += 3; // reserved(8), ixfe(12), flags(4)\n\tif(flags & 0x07) z.level = flags & 0x07;\n\t// collapsed: flags & 0x10\n\tif(flags & 0x20) z.hidden = true;\n\tif(flags & 0x40) z.hpt = miyRw / 20;\n\treturn z;\n}\n\n\n/* [MS-XLS] 2.4.125 */\nfunction parse_ForceFullCalculation(blob) {\n\tvar header = parse_frtHeader(blob);\n\tif(header.type != 0x08A3) throw new Error(\"Invalid Future Record \" + header.type);\n\tvar fullcalc = blob.read_shift(4);\n\treturn fullcalc !== 0x0;\n}\n\n\n\n\n\n/* [MS-XLS] 2.4.215 rt */\nfunction parse_RecalcId(blob) {\n\tblob.read_shift(2);\n\treturn blob.read_shift(4);\n}\n\n/* [MS-XLS] 2.4.87 */\nfunction parse_DefaultRowHeight(blob, length, opts) {\n\tvar f = 0;\n\tif(!(opts && opts.biff == 2)) {\n\t\tf = blob.read_shift(2);\n\t}\n\tvar miyRw = blob.read_shift(2);\n\tif((opts && opts.biff == 2)) {\n\t\tf = 1 - (miyRw >> 15); miyRw &= 0x7fff;\n\t}\n\tvar fl = {Unsynced:f&1,DyZero:(f&2)>>1,ExAsc:(f&4)>>2,ExDsc:(f&8)>>3};\n\treturn [fl, miyRw];\n}\n\n/* [MS-XLS] 2.4.345 TODO */\nfunction parse_Window1(blob) {\n\tvar xWn = blob.read_shift(2), yWn = blob.read_shift(2), dxWn = blob.read_shift(2), dyWn = blob.read_shift(2);\n\tvar flags = blob.read_shift(2), iTabCur = blob.read_shift(2), iTabFirst = blob.read_shift(2);\n\tvar ctabSel = blob.read_shift(2), wTabRatio = blob.read_shift(2);\n\treturn { Pos: [xWn, yWn], Dim: [dxWn, dyWn], Flags: flags, CurTab: iTabCur,\n\t\tFirstTab: iTabFirst, Selected: ctabSel, TabRatio: wTabRatio };\n}\nfunction write_Window1(/*::opts*/) {\n\tvar o = new_buf(18);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0x7260);\n\to.write_shift(2, 0x44c0);\n\to.write_shift(2, 0x38);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 1);\n\to.write_shift(2, 0x01f4);\n\treturn o;\n}\n/* [MS-XLS] 2.4.346 TODO */\nfunction parse_Window2(blob, length, opts) {\n\tif(opts && opts.biff >= 2 && opts.biff < 5) return {};\n\tvar f = blob.read_shift(2);\n\treturn { RTL: f & 0x40 };\n}\nfunction write_Window2(view) {\n\tvar o = new_buf(18), f = 0x6b6;\n\tif(view && view.RTL) f |= 0x40;\n\to.write_shift(2, f);\n\to.write_shift(4, 0);\n\to.write_shift(4, 64);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.189 TODO */\nfunction parse_Pane(/*blob, length, opts*/) {\n}\n\n/* [MS-XLS] 2.4.122 TODO */\nfunction parse_Font(blob, length, opts) {\n\tvar o/*:any*/ = {\n\t\tdyHeight: blob.read_shift(2),\n\t\tfl: blob.read_shift(2)\n\t};\n\tswitch((opts && opts.biff) || 8) {\n\t\tcase 2: break;\n\t\tcase 3: case 4: blob.l += 2; break;\n\t\tdefault: blob.l += 10; break;\n\t}\n\to.name = parse_ShortXLUnicodeString(blob, 0, opts);\n\treturn o;\n}\nfunction write_Font(data, opts) {\n\tvar name = data.name || \"Arial\";\n\tvar b5 = (opts && (opts.biff == 5)), w = (b5 ? (15 + name.length) : (16 + 2 * name.length));\n\tvar o = new_buf(w);\n\to.write_shift(2, (data.sz || 12) * 20);\n\to.write_shift(4, 0);\n\to.write_shift(2, 400);\n\to.write_shift(4, 0);\n\to.write_shift(2, 0);\n\to.write_shift(1, name.length);\n\tif(!b5) o.write_shift(1, 1);\n\to.write_shift((b5 ? 1 : 2) * name.length, name, (b5 ? \"sbcs\" : \"utf16le\"));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.149 */\nfunction parse_LabelSst(blob, length, opts) {\n\tvar cell = parse_XLSCell(blob, length, opts);\n\tcell.isst = blob.read_shift(4);\n\treturn cell;\n}\nfunction write_LabelSst(R/*:number*/, C/*:number*/, v/*:number*/, os/*:number*/ /*::, opts*/) {\n\tvar o = new_buf(10);\n\twrite_XLSCell(R, C, os, o);\n\to.write_shift(4, v);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.148 */\nfunction parse_Label(blob, length, opts) {\n\tif(opts.biffguess && opts.biff == 2) opts.biff = 5;\n\tvar target = blob.l + length;\n\tvar cell = parse_XLSCell(blob, length, opts);\n\tvar str = parse_XLUnicodeString(blob, target - blob.l, opts);\n\tcell.val = str;\n\treturn cell;\n}\nfunction write_Label(R/*:number*/, C/*:number*/, v/*:string*/, os/*:number*/, opts) {\n\tvar b8 = !opts || opts.biff == 8;\n\tvar o = new_buf(6 + 2 + (+b8) + (1 + b8) * v.length);\n\twrite_XLSCell(R, C, os, o);\n\to.write_shift(2, v.length);\n\tif(b8) o.write_shift(1, 1);\n\to.write_shift((1 + b8) * v.length, v, b8 ? 'utf16le' : 'sbcs');\n\treturn o;\n}\n\n\n/* [MS-XLS] 2.4.126 Number Formats */\nfunction parse_Format(blob, length, opts) {\n\tvar numFmtId = blob.read_shift(2);\n\tvar fmtstr = parse_XLUnicodeString2(blob, 0, opts);\n\treturn [numFmtId, fmtstr];\n}\nfunction write_Format(i/*:number*/, f/*:string*/, opts, o) {\n\tvar b5 = (opts && (opts.biff == 5));\n\tif(!o) o = new_buf(b5 ? (3 + f.length) : (5 + 2 * f.length));\n\to.write_shift(2, i);\n\to.write_shift((b5 ? 1 : 2), f.length);\n\tif(!b5) o.write_shift(1, 1);\n\to.write_shift((b5 ? 1 : 2) * f.length, f, (b5 ? 'sbcs' : 'utf16le'));\n\tvar out = (o.length > o.l) ? o.slice(0, o.l) : o;\n\tif(out.l == null) out.l = out.length;\n\treturn out;\n}\nvar parse_BIFF2Format = parse_XLUnicodeString2;\nfunction write_BIFF2Format(f/*:string*/) {\n\tvar o = new_buf(1 + f.length);\n\to.write_shift(1, f.length);\n\to.write_shift(f.length, f, \"sbcs\");\n\treturn o;\n}\nfunction write_BIFF4Format(f/*:string*/) {\n\tvar o = new_buf(3 + f.length);\n\to.l += 2;\n\to.write_shift(1, f.length);\n\to.write_shift(f.length, f, \"sbcs\");\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.90 */\nfunction parse_Dimensions(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar w = opts.biff == 8 || !opts.biff ? 4 : 2;\n\tvar r = blob.read_shift(w), R = blob.read_shift(w);\n\tvar c = blob.read_shift(2), C = blob.read_shift(2);\n\tblob.l = end;\n\treturn {s: {r:r, c:c}, e: {r:R, c:C}};\n}\nfunction write_Dimensions(range, opts) {\n\tvar w = opts.biff == 8 || !opts.biff ? 4 : 2;\n\tvar o = new_buf(2*w + 6);\n\to.write_shift(w, range.s.r);\n\to.write_shift(w, range.e.r + 1);\n\to.write_shift(2, range.s.c);\n\to.write_shift(2, range.e.c + 1);\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.220 */\nfunction parse_RK(blob) {\n\tvar rw = blob.read_shift(2), col = blob.read_shift(2);\n\tvar rkrec = parse_RkRec(blob);\n\treturn {r:rw, c:col, ixfe:rkrec[0], rknum:rkrec[1]};\n}\n\n/* [MS-XLS] 2.4.175 */\nfunction parse_MulRk(blob, length) {\n\tvar target = blob.l + length - 2;\n\tvar rw = blob.read_shift(2), col = blob.read_shift(2);\n\tvar rkrecs = [];\n\twhile(blob.l < target) rkrecs.push(parse_RkRec(blob));\n\tif(blob.l !== target) throw new Error(\"MulRK read error\");\n\tvar lastcol = blob.read_shift(2);\n\tif(rkrecs.length != lastcol - col + 1) throw new Error(\"MulRK length mismatch\");\n\treturn {r:rw, c:col, C:lastcol, rkrec:rkrecs};\n}\n/* [MS-XLS] 2.4.174 */\nfunction parse_MulBlank(blob, length) {\n\tvar target = blob.l + length - 2;\n\tvar rw = blob.read_shift(2), col = blob.read_shift(2);\n\tvar ixfes = [];\n\twhile(blob.l < target) ixfes.push(blob.read_shift(2));\n\tif(blob.l !== target) throw new Error(\"MulBlank read error\");\n\tvar lastcol = blob.read_shift(2);\n\tif(ixfes.length != lastcol - col + 1) throw new Error(\"MulBlank length mismatch\");\n\treturn {r:rw, c:col, C:lastcol, ixfe:ixfes};\n}\n\n/* [MS-XLS] 2.5.20 2.5.249 TODO: interpret values here */\nfunction parse_CellStyleXF(blob, length, style, opts) {\n\tvar o = {};\n\tvar a = blob.read_shift(4), b = blob.read_shift(4);\n\tvar c = blob.read_shift(4), d = blob.read_shift(2);\n\to.patternType = XLSFillPattern[c >> 26];\n\n\tif(!opts.cellStyles) return o;\n\to.alc = a & 0x07;\n\to.fWrap = (a >> 3) & 0x01;\n\to.alcV = (a >> 4) & 0x07;\n\to.fJustLast = (a >> 7) & 0x01;\n\to.trot = (a >> 8) & 0xFF;\n\to.cIndent = (a >> 16) & 0x0F;\n\to.fShrinkToFit = (a >> 20) & 0x01;\n\to.iReadOrder = (a >> 22) & 0x02;\n\to.fAtrNum = (a >> 26) & 0x01;\n\to.fAtrFnt = (a >> 27) & 0x01;\n\to.fAtrAlc = (a >> 28) & 0x01;\n\to.fAtrBdr = (a >> 29) & 0x01;\n\to.fAtrPat = (a >> 30) & 0x01;\n\to.fAtrProt = (a >> 31) & 0x01;\n\n\to.dgLeft = b & 0x0F;\n\to.dgRight = (b >> 4) & 0x0F;\n\to.dgTop = (b >> 8) & 0x0F;\n\to.dgBottom = (b >> 12) & 0x0F;\n\to.icvLeft = (b >> 16) & 0x7F;\n\to.icvRight = (b >> 23) & 0x7F;\n\to.grbitDiag = (b >> 30) & 0x03;\n\n\to.icvTop = c & 0x7F;\n\to.icvBottom = (c >> 7) & 0x7F;\n\to.icvDiag = (c >> 14) & 0x7F;\n\to.dgDiag = (c >> 21) & 0x0F;\n\n\to.icvFore = d & 0x7F;\n\to.icvBack = (d >> 7) & 0x7F;\n\to.fsxButton = (d >> 14) & 0x01;\n\treturn o;\n}\n//function parse_CellXF(blob, length, opts) {return parse_CellStyleXF(blob,length,0, opts);}\n//function parse_StyleXF(blob, length, opts) {return parse_CellStyleXF(blob,length,1, opts);}\n\n/* [MS-XLS] 2.4.353 TODO: actually do this right */\nfunction parse_XF(blob, length, opts) {\n\tvar o = {};\n\to.ifnt = blob.read_shift(2); o.numFmtId = blob.read_shift(2); o.flags = blob.read_shift(2);\n\to.fStyle = (o.flags >> 2) & 0x01;\n\tlength -= 6;\n\to.data = parse_CellStyleXF(blob, length, o.fStyle, opts);\n\treturn o;\n}\nfunction write_XF(data, ixfeP, opts, o) {\n\tvar b5 = (opts && (opts.biff == 5));\n\tif(!o) o = new_buf(b5 ? 16 : 20);\n\to.write_shift(2, 0);\n\tif(data.style) {\n\t\to.write_shift(2, (data.numFmtId||0));\n\t\to.write_shift(2, 0xFFF4);\n\t} else {\n\t\to.write_shift(2, (data.numFmtId||0));\n\t\to.write_shift(2, (ixfeP<<4));\n\t}\n\tvar f = 0;\n\tif(data.numFmtId > 0 && b5) f |= 0x0400;\n\to.write_shift(4, f);\n\to.write_shift(4, 0);\n\tif(!b5) o.write_shift(4, 0);\n\to.write_shift(2, 0);\n\treturn o;\n}\nfunction parse_BIFF2XF(blob/*::, length, opts*/) {\n\tvar o = {};\n\to.ifnt = blob.read_shift(1); blob.l++; o.flags = blob.read_shift(1);\n\to.numFmtId = o.flags & 0x3F; o.flags>>=6;\n\to.fStyle = 0;\n\to.data = {}; // TODO\n\treturn o;\n}\nfunction write_BIFF2XF(xf) {\n\tvar o = new_buf(4);\n\to.l+=2;\n\to.write_shift(1, xf.numFmtId);\n\to.l++;\n\treturn o;\n}\nfunction write_BIFF3XF(xf) {\n\tvar o = new_buf(12);\n\to.l++;\n\to.write_shift(1, xf.numFmtId);\n\to.l += 10;\n\treturn o;\n}\n/* TODO: check other fields */\nvar write_BIFF4XF = write_BIFF3XF;\nfunction parse_BIFF3XF(blob/*::, length, opts*/) {\n\tvar o = {};\n\to.ifnt = blob.read_shift(1); o.numFmtId = blob.read_shift(1); o.flags = blob.read_shift(2);\n\to.fStyle = (o.flags >> 2) & 0x01;\n\to.data = {}; // TODO\n\treturn o;\n}\nfunction parse_BIFF4XF(blob/*::, length, opts*/) {\n\tvar o = {};\n\to.ifnt = blob.read_shift(1); o.numFmtId = blob.read_shift(1); o.flags = blob.read_shift(2);\n\to.fStyle = (o.flags >> 2) & 0x01;\n\to.data = {}; // TODO\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.134 */\nfunction parse_Guts(blob) {\n\tblob.l += 4;\n\tvar out = [blob.read_shift(2), blob.read_shift(2)];\n\tif(out[0] !== 0) out[0]--;\n\tif(out[1] !== 0) out[1]--;\n\tif(out[0] > 7 || out[1] > 7) throw new Error(\"Bad Gutters: \" + out.join(\"|\"));\n\treturn out;\n}\nfunction write_Guts(guts/*:Array<number>*/) {\n\tvar o = new_buf(8);\n\to.write_shift(4, 0);\n\to.write_shift(2, guts[0] ? guts[0] + 1 : 0);\n\to.write_shift(2, guts[1] ? guts[1] + 1 : 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.24 */\nfunction parse_BoolErr(blob, length, opts) {\n\tvar cell = parse_XLSCell(blob, 6, opts);\n\tvar val = parse_Bes(blob, 2);\n\tcell.val = val;\n\tcell.t = (val === true || val === false) ? 'b' : 'e';\n\treturn cell;\n}\nfunction write_BoolErr(R/*:number*/, C/*:number*/, v, os/*:number*/, opts, t/*:string*/) {\n\tvar o = new_buf(8);\n\twrite_XLSCell(R, C, os, o);\n\twrite_Bes(v, t, o);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.180 Number */\nfunction parse_Number(blob, length, opts) {\n\tif(opts.biffguess && opts.biff == 2) opts.biff = 5;\n\tvar cell = parse_XLSCell(blob, 6, opts);\n\tvar xnum = parse_Xnum(blob, 8);\n\tcell.val = xnum;\n\treturn cell;\n}\nfunction write_Number(R/*:number*/, C/*:number*/, v, os/*:: :number, opts*/) {\n\tvar o = new_buf(14);\n\twrite_XLSCell(R, C, os, o);\n\twrite_Xnum(v, o);\n\treturn o;\n}\n\nvar parse_XLHeaderFooter = parse_OptXLUnicodeString; // TODO: parse 2.4.136\n\n/* [MS-XLS] 2.4.271 */\nfunction parse_SupBook(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar ctab = blob.read_shift(2);\n\tvar cch = blob.read_shift(2);\n\topts.sbcch = cch;\n\tif(cch == 0x0401 || cch == 0x3A01) return [cch, ctab];\n\tif(cch < 0x01 || cch >0xff) throw new Error(\"Unexpected SupBook type: \"+cch);\n\tvar virtPath = parse_XLUnicodeStringNoCch(blob, cch);\n\t/* TODO: 2.5.277 Virtual Path */\n\tvar rgst = [];\n\twhile(end > blob.l) rgst.push(parse_XLUnicodeString(blob));\n\treturn [cch, ctab, virtPath, rgst];\n}\n\n/* [MS-XLS] 2.4.105 TODO */\nfunction parse_ExternName(blob, length, opts) {\n\tvar flags = blob.read_shift(2);\n\tvar body;\n\tvar o = ({\n\t\tfBuiltIn: flags & 0x01,\n\t\tfWantAdvise: (flags >>> 1) & 0x01,\n\t\tfWantPict: (flags >>> 2) & 0x01,\n\t\tfOle: (flags >>> 3) & 0x01,\n\t\tfOleLink: (flags >>> 4) & 0x01,\n\t\tcf: (flags >>> 5) & 0x3FF,\n\t\tfIcon: flags >>> 15 & 0x01\n\t}/*:any*/);\n\tif(opts.sbcch === 0x3A01) body = parse_AddinUdf(blob, length-2, opts);\n\t//else throw new Error(\"unsupported SupBook cch: \" + opts.sbcch);\n\to.body = body || blob.read_shift(length-2);\n\tif(typeof body === \"string\") o.Name = body;\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.150 TODO */\nfunction parse_Lbl(blob, length, opts) {\n\tvar target = blob.l + length;\n\tvar flags = blob.read_shift(2);\n\tvar chKey = blob.read_shift(1);\n\tvar cch = blob.read_shift(1);\n\tvar cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\tvar itab = 0;\n\tif(!opts || opts.biff >= 5) {\n\t\tif(opts.biff != 5) blob.l += 2;\n\t\titab = blob.read_shift(2);\n\t\tif(opts.biff == 5) blob.l += 2;\n\t\tblob.l += 4;\n\t}\n\tvar name = parse_XLUnicodeStringNoCch(blob, cch, opts);\n\tif(flags & 0x20) name = XLSLblBuiltIn[name.charCodeAt(0)];\n\tvar npflen = target - blob.l; if(opts && opts.biff == 2) --npflen;\n\t/*jshint -W018 */\n\tvar rgce = (target == blob.l || cce === 0 || !(npflen > 0)) ? [] : parse_NameParsedFormula(blob, npflen, opts, cce);\n\t/*jshint +W018 */\n\treturn {\n\t\tchKey: chKey,\n\t\tName: name,\n\t\titab: itab,\n\t\trgce: rgce\n\t};\n}\n\n/* [MS-XLS] 2.4.106 TODO: legacy record filename encoding */\nfunction parse_ExternSheet(blob, length, opts) {\n\tif(opts.biff < 8) return parse_BIFF5ExternSheet(blob, length, opts);\n\t/* see issue 2907 */\n\tif(!(opts.biff > 8) && (length == blob[blob.l] + (blob[blob.l+1] == 0x03 ? 1 : 0) + 1)) return parse_BIFF5ExternSheet(blob, length, opts);\n\tvar o = [], target = blob.l + length, len = blob.read_shift(opts.biff > 8 ? 4 : 2);\n\twhile(len-- !== 0) o.push(parse_XTI(blob, opts.biff > 8 ? 12 : 6, opts));\n\t\t// [iSupBook, itabFirst, itabLast];\n\tif(blob.l != target) throw new Error(\"Bad ExternSheet: \" + blob.l + \" != \" + target);\n\treturn o;\n}\nfunction parse_BIFF5ExternSheet(blob, length, opts) {\n\tif(blob[blob.l + 1] == 0x03) blob[blob.l]++;\n\tvar o = parse_ShortXLUnicodeString(blob, length, opts);\n\treturn o.charCodeAt(0) == 0x03 ? o.slice(1) : o;\n}\n\n/* [MS-XLS] 2.4.176 TODO: check older biff */\nfunction parse_NameCmt(blob, length, opts) {\n\tif(opts.biff < 8) { blob.l += length; return; }\n\tvar cchName = blob.read_shift(2);\n\tvar cchComment = blob.read_shift(2);\n\tvar name = parse_XLUnicodeStringNoCch(blob, cchName, opts);\n\tvar comment = parse_XLUnicodeStringNoCch(blob, cchComment, opts);\n\treturn [name, comment];\n}\n\n/* [MS-XLS] 2.4.260 */\nfunction parse_ShrFmla(blob, length, opts) {\n\tvar ref = parse_RefU(blob, 6);\n\tblob.l++;\n\tvar cUse = blob.read_shift(1);\n\tlength -= 8;\n\treturn [parse_SharedParsedFormula(blob, length, opts), cUse, ref];\n}\n\n/* [MS-XLS] 2.4.4 TODO */\nfunction parse_Array(blob, length, opts) {\n\tvar ref = parse_Ref(blob, 6);\n\t/* TODO: fAlwaysCalc */\n\tswitch(opts.biff) {\n\t\tcase 2: blob.l ++; length -= 7; break;\n\t\tcase 3: case 4: blob.l += 2; length -= 8; break;\n\t\tdefault: blob.l += 6; length -= 12;\n\t}\n\treturn [ref, parse_ArrayParsedFormula(blob, length, opts, ref)];\n}\n\n/* [MS-XLS] 2.4.173 */\nfunction parse_MTRSettings(blob) {\n\tvar fMTREnabled = blob.read_shift(4) !== 0x00;\n\tvar fUserSetThreadCount = blob.read_shift(4) !== 0x00;\n\tvar cUserThreadCount = blob.read_shift(4);\n\treturn [fMTREnabled, fUserSetThreadCount, cUserThreadCount];\n}\n\n/* [MS-XLS] 2.5.186 */\nfunction parse_NoteSh(blob, length, opts) {\n\tvar row = blob.read_shift(2), col = blob.read_shift(2);\n\tvar flags = blob.read_shift(2), idObj = blob.read_shift(2);\n\tvar stAuthor = parse_XLUnicodeString2(blob, 0, opts);\n\treturn [{r:row,c:col}, stAuthor, idObj, flags];\n}\n\n/* [MS-XLS] 2.4.179 */\nfunction parse_Note(blob, length, opts) {\n\tif(opts && (opts.biff < 8)) {\n\t\tvar row = blob.read_shift(2), col = blob.read_shift(2);\n\t\tif(row == 0xFFFF || row == -1) return; // TODO: test continuation\n\t\tvar cch = blob.read_shift(2);\n\t\tvar cmnt = blob.read_shift(Math.min(cch,2048), 'cpstr');\n\t\treturn [{r:row, c:col}, cmnt];\n\t}\n\t/* TODO: Support revisions */\n\treturn parse_NoteSh(blob, length, opts);\n}\nfunction write_NOTE_BIFF2(text/*:string*/, R/*:number*/, C/*:number*/, len/*?:number*/) {\n\tvar o = new_buf(6 + (len || text.length));\n\to.write_shift(2, R);\n\to.write_shift(2, C);\n\to.write_shift(2, len || text.length);\n\to.write_shift(text.length, text, \"sbcs\");\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.168 */\nfunction parse_MergeCells(blob, length)/*:Array<Range>*/ {\n\tvar merges/*:Array<Range>*/ = [];\n\tvar cmcs = blob.read_shift(2);\n\twhile (cmcs--) merges.push(parse_Ref8U(blob,length));\n\treturn merges;\n}\nfunction write_MergeCells(merges/*:Array<Range>*/) {\n\tvar o = new_buf(2 + merges.length * 8);\n\to.write_shift(2, merges.length);\n\tfor(var i = 0; i < merges.length; ++i) write_Ref8U(merges[i], o);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.181 TODO: parse all the things! */\nfunction parse_Obj(blob, length, opts) {\n\tif(opts && opts.biff < 8) return parse_BIFF5Obj(blob, length, opts);\n\tvar cmo = parse_FtCmo(blob, 22); // id, ot, flags\n\tvar fts = parse_FtArray(blob, length-22, cmo[1]);\n\treturn { cmo: cmo, ft:fts };\n}\n/* from older spec */\nvar parse_BIFF5OT = {\n0x08: function(blob, length) {\n\tvar tgt = blob.l + length;\n\tblob.l += 10; // todo\n\tvar cf = blob.read_shift(2);\n\tblob.l += 4;\n\tblob.l += 2; //var cbPictFmla = blob.read_shift(2);\n\tblob.l += 2;\n\tblob.l += 2; //var grbit = blob.read_shift(2);\n\tblob.l += 4;\n\tvar cchName = blob.read_shift(1);\n\tblob.l += cchName; // TODO: stName\n\tblob.l = tgt; // TODO: fmla\n\treturn { fmt:cf };\n}\n};\n\nfunction parse_BIFF5Obj(blob, length, opts) {\n\tblob.l += 4; //var cnt = blob.read_shift(4);\n\tvar ot = blob.read_shift(2);\n\tvar id = blob.read_shift(2);\n\tvar grbit = blob.read_shift(2);\n\tblob.l += 2; //var colL = blob.read_shift(2);\n\tblob.l += 2; //var dxL = blob.read_shift(2);\n\tblob.l += 2; //var rwT = blob.read_shift(2);\n\tblob.l += 2; //var dyT = blob.read_shift(2);\n\tblob.l += 2; //var colR = blob.read_shift(2);\n\tblob.l += 2; //var dxR = blob.read_shift(2);\n\tblob.l += 2; //var rwB = blob.read_shift(2);\n\tblob.l += 2; //var dyB = blob.read_shift(2);\n\tblob.l += 2; //var cbMacro = blob.read_shift(2);\n\tblob.l += 6;\n\tlength -= 36;\n\tvar fts = [];\n\tfts.push((parse_BIFF5OT[ot]||parsenoop)(blob, length, opts));\n\treturn { cmo: [id, ot, grbit], ft:fts };\n}\n\n/* [MS-XLS] 2.4.329 TODO: parse properly */\nfunction parse_TxO(blob, length, opts) {\n\tvar s = blob.l;\n\tvar texts = \"\";\ntry {\n\tblob.l += 4;\n\tvar ot = (opts.lastobj||{cmo:[0,0]}).cmo[1];\n\tvar controlInfo; // eslint-disable-line no-unused-vars\n\tif([0,5,7,11,12,14].indexOf(ot) == -1) blob.l += 6;\n\telse controlInfo = parse_ControlInfo(blob, 6, opts); // eslint-disable-line no-unused-vars\n\tvar cchText = blob.read_shift(2);\n\t/*var cbRuns = */blob.read_shift(2);\n\t/*var ifntEmpty = */parseuint16(blob, 2);\n\tvar len = blob.read_shift(2);\n\tblob.l += len;\n\t//var fmla = parse_ObjFmla(blob, s + length - blob.l);\n\n\tfor(var i = 1; i < blob.lens.length-1; ++i) {\n\t\tif(blob.l-s != blob.lens[i]) throw new Error(\"TxO: bad continue record\");\n\t\tvar hdr = blob[blob.l];\n\t\tvar t = parse_XLUnicodeStringNoCch(blob, blob.lens[i+1]-blob.lens[i]-1);\n\t\ttexts += t;\n\t\tif(texts.length >= (hdr ? cchText : 2*cchText)) break;\n\t}\n\tif(texts.length !== cchText && texts.length !== cchText*2) {\n\t\tthrow new Error(\"cchText: \" + cchText + \" != \" + texts.length);\n\t}\n\n\tblob.l = s + length;\n\t/* [MS-XLS] 2.5.272 TxORuns */\n//\tvar rgTxoRuns = [];\n//\tfor(var j = 0; j != cbRuns/8-1; ++j) blob.l += 8;\n//\tvar cchText2 = blob.read_shift(2);\n//\tif(cchText2 !== cchText) throw new Error(\"TxOLastRun mismatch: \" + cchText2 + \" \" + cchText);\n//\tblob.l += 6;\n//\tif(s + length != blob.l) throw new Error(\"TxO \" + (s + length) + \", at \" + blob.l);\n\treturn { t: texts };\n} catch(e) { blob.l = s + length; return { t: texts }; }\n}\n\n/* [MS-XLS] 2.4.140 */\nfunction parse_HLink(blob, length) {\n\tvar ref = parse_Ref8U(blob, 8);\n\tblob.l += 16; /* CLSID */\n\tvar hlink = parse_Hyperlink(blob, length-24);\n\treturn [ref, hlink];\n}\nfunction write_HLink(hl) {\n\tvar O = new_buf(24);\n\tvar ref = decode_cell(hl[0]);\n\tO.write_shift(2, ref.r); O.write_shift(2, ref.r);\n\tO.write_shift(2, ref.c); O.write_shift(2, ref.c);\n\tvar clsid = \"d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b\".split(\" \");\n\tfor(var i = 0; i < 16; ++i) O.write_shift(1, parseInt(clsid[i], 16));\n\treturn bconcat([O, write_Hyperlink(hl[1])]);\n}\n\n\n/* [MS-XLS] 2.4.141 */\nfunction parse_HLinkTooltip(blob, length) {\n\tblob.read_shift(2);\n\tvar ref = parse_Ref8U(blob, 8);\n\tvar wzTooltip = blob.read_shift((length-10)/2, 'dbcs-cont');\n\twzTooltip = wzTooltip.replace(chr0,\"\");\n\treturn [ref, wzTooltip];\n}\nfunction write_HLinkTooltip(hl) {\n\tvar TT = hl[1].Tooltip;\n\tvar O = new_buf(10 + 2 * (TT.length + 1));\n\tO.write_shift(2, 0x0800);\n\tvar ref = decode_cell(hl[0]);\n\tO.write_shift(2, ref.r); O.write_shift(2, ref.r);\n\tO.write_shift(2, ref.c); O.write_shift(2, ref.c);\n\tfor(var i = 0; i < TT.length; ++i) O.write_shift(2, TT.charCodeAt(i));\n\tO.write_shift(2, 0);\n\treturn O;\n}\n\n/* [MS-XLS] 2.4.63 */\nfunction parse_Country(blob)/*:[string|number, string|number]*/ {\n\tvar o = [0,0], d;\n\td = blob.read_shift(2); o[0] = CountryEnum[d] || d;\n\td = blob.read_shift(2); o[1] = CountryEnum[d] || d;\n\treturn o;\n}\nfunction write_Country(o) {\n\tif(!o) o = new_buf(4);\n\to.write_shift(2, 0x01);\n\to.write_shift(2, 0x01);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.50 ClrtClient */\nfunction parse_ClrtClient(blob) {\n\tvar ccv = blob.read_shift(2);\n\tvar o = [];\n\twhile(ccv-->0) o.push(parse_LongRGB(blob, 8));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.188 */\nfunction parse_Palette(blob) {\n\tvar ccv = blob.read_shift(2);\n\tvar o = [];\n\twhile(ccv-->0) o.push(parse_LongRGB(blob, 8));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.354 */\nfunction parse_XFCRC(blob) {\n\tblob.l += 2;\n\tvar o = {cxfs:0, crc:0};\n\to.cxfs = blob.read_shift(2);\n\to.crc = blob.read_shift(4);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.53 TODO: parse flags */\n/* [MS-XLSB] 2.4.323 TODO: parse flags */\nfunction parse_ColInfo(blob, length, opts) {\n\tif(!opts.cellStyles) return parsenoop(blob, length);\n\tvar w = opts && opts.biff >= 12 ? 4 : 2;\n\tvar colFirst = blob.read_shift(w);\n\tvar colLast = blob.read_shift(w);\n\tvar coldx = blob.read_shift(w);\n\tvar ixfe = blob.read_shift(w);\n\tvar flags = blob.read_shift(2);\n\tif(w == 2) blob.l += 2;\n\tvar o = ({s:colFirst, e:colLast, w:coldx, ixfe:ixfe, flags:flags}/*:any*/);\n\tif(opts.biff >= 5 || !opts.biff) o.level = (flags >> 8) & 0x7;\n\treturn o;\n}\nfunction write_ColInfo(col, idx) {\n\tvar o = new_buf(12);\n\to.write_shift(2, idx);\n\to.write_shift(2, idx);\n\to.write_shift(2, col.width * 256);\n\to.write_shift(2, 0);\n\tvar f = 0;\n\tif(col.hidden) f |= 1;\n\to.write_shift(1, f);\n\tf = col.level || 0;\n\to.write_shift(1, f);\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.257 */\nfunction parse_Setup(blob, length) {\n\tvar o = {};\n\tif(length < 32) return o;\n\tblob.l += 16;\n\to.header = parse_Xnum(blob, 8);\n\to.footer = parse_Xnum(blob, 8);\n\tblob.l += 2;\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.261 */\nfunction parse_ShtProps(blob, length, opts) {\n\tvar def = {area:false};\n\tif(opts.biff != 5) { blob.l += length; return def; }\n\tvar d = blob.read_shift(1); blob.l += 3;\n\tif((d & 0x10)) def.area = true;\n\treturn def;\n}\n\n/* [MS-XLS] 2.4.241 */\nfunction write_RRTabId(n/*:number*/) {\n\tvar out = new_buf(2 * n);\n\tfor(var i = 0; i < n; ++i) out.write_shift(2, i+1);\n\treturn out;\n}\n\nvar parse_Blank = parse_XLSCell; /* [MS-XLS] 2.4.20 Just the cell */\nvar parse_Scl = parseuint16a; /* [MS-XLS] 2.4.247 num, den */\nvar parse_String = parse_XLUnicodeString; /* [MS-XLS] 2.4.268 */\n\n/* --- Specific to versions before BIFF8 --- */\nfunction parse_ImData(blob) {\n\tvar cf = blob.read_shift(2);\n\tvar env = blob.read_shift(2);\n\tvar lcb = blob.read_shift(4);\n\tvar o = {fmt:cf, env:env, len:lcb, data:blob.slice(blob.l,blob.l+lcb)};\n\tblob.l += lcb;\n\treturn o;\n}\n\nfunction write_BIFF2Cell(out, r/*:number*/, c/*:number*/, ixfe/*:number*/, ifmt/*:number*/) {\n\tif(!out) out = new_buf(7);\n\tout.write_shift(2, r);\n\tout.write_shift(2, c);\n\tout.write_shift(1, ixfe||0/* & 0x3F */);\n\tout.write_shift(1, ifmt||0/* & 0x3F */);\n\tout.write_shift(1, 0);\n\treturn out;\n}\n\n/* BIFF2_??? where ??? is the name from [XLS] */\nfunction parse_BIFF2STR(blob, length, opts) {\n\tif(opts.biffguess && opts.biff == 5) opts.biff = 2;\n\tvar cell = parse_XLSCell(blob, 7, opts);\n\tvar str = parse_XLUnicodeString2(blob, length-7, opts);\n\tcell.t = 'str';\n\tcell.val = str;\n\treturn cell;\n}\n\nfunction parse_BIFF2NUM(blob, length, opts) {\n\tvar cell = parse_XLSCell(blob, 7, opts);\n\tvar num = parse_Xnum(blob, 8);\n\tcell.t = 'n';\n\tcell.val = num;\n\treturn cell;\n}\nfunction write_BIFF2NUM(r/*:number*/, c/*:number*/, val/*:number*/, ixfe, ifmt) {\n\tvar out = new_buf(15);\n\twrite_BIFF2Cell(out, r, c, ixfe||0, ifmt||0);\n\tout.write_shift(8, val, 'f');\n\treturn out;\n}\n\nfunction parse_BIFF2INT(blob, length, opts) {\n\tvar cell = parse_XLSCell(blob, 7, opts);\n\tvar num = blob.read_shift(2);\n\tcell.t = 'n';\n\tcell.val = num;\n\treturn cell;\n}\nfunction write_BIFF2INT(r/*:number*/, c/*:number*/, val/*:number*/, ixfe/*:number*/, ifmt/*:number*/) {\n\tvar out = new_buf(9);\n\twrite_BIFF2Cell(out, r, c, ixfe||0, ifmt||0);\n\tout.write_shift(2, val);\n\treturn out;\n}\n\nfunction parse_BIFF2STRING(blob) {\n\tvar cch = blob.read_shift(1);\n\tif(cch === 0) { blob.l++; return \"\"; }\n\treturn blob.read_shift(cch, 'sbcs-cont');\n}\n\nfunction parse_BIFF2BOOLERR(blob, length, opts) {\n\tvar bestart = blob.l + 7;\n\tvar cell = parse_XLSCell(blob, 6, opts);\n\tblob.l = bestart;\n\tvar val = parse_Bes(blob, 2);\n\tcell.val = val;\n\tcell.t = (val === true || val === false) ? 'b' : 'e';\n\treturn cell;\n}\n\n/* TODO: convert to BIFF8 font struct */\nfunction parse_BIFF2FONTXTRA(blob, length) {\n\tblob.l += 6; // unknown\n\tblob.l += 2; // font weight \"bls\"\n\tblob.l += 1; // charset\n\tblob.l += 3; // unknown\n\tblob.l += 1; // font family\n\tblob.l += length - 13;\n}\n\n/* TODO: parse rich text runs */\nfunction parse_RString(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar cell = parse_XLSCell(blob, 6, opts);\n\tvar cch = blob.read_shift(2);\n\tvar str = parse_XLUnicodeStringNoCch(blob, cch, opts);\n\tblob.l = end;\n\tcell.t = 'str';\n\tcell.val = str;\n\treturn cell;\n}\n\nfunction parse_BIFF4SheetInfo(blob/*::, length, opts*/) {\n\tvar flags = blob.read_shift(4);\n\tvar cch = blob.read_shift(1), name = blob.read_shift(cch, \"sbcs\");\n\tif(name.length === 0) name = \"Sheet1\";\n\treturn { flags: flags, name:name };\n}var DBF_SUPPORTED_VERSIONS = [0x02, 0x03, 0x30, 0x31, 0x83, 0x8B, 0x8C, 0xF5];\nvar DBF = /*#__PURE__*/(function() {\nvar dbf_codepage_map = {\n\t/* Code Pages Supported by Visual FoxPro */\n\t0x01:   437,           0x02:   850,\n\t0x03:  1252,           0x04: 10000,\n\t0x64:   852,           0x65:   866,\n\t0x66:   865,           0x67:   861,\n\t0x68:   895,           0x69:   620,\n\t0x6A:   737,           0x6B:   857,\n\t0x78:   950,           0x79:   949,\n\t0x7A:   936,           0x7B:   932,\n\t0x7C:   874,           0x7D:  1255,\n\t0x7E:  1256,           0x96: 10007,\n\t0x97: 10029,           0x98: 10006,\n\t0xC8:  1250,           0xC9:  1251,\n\t0xCA:  1254,           0xCB:  1253,\n\n\t/* shapefile DBF extension */\n\t0x00: 20127,           0x08:   865,\n\t0x09:   437,           0x0A:   850,\n\t0x0B:   437,           0x0D:   437,\n\t0x0E:   850,           0x0F:   437,\n\t0x10:   850,           0x11:   437,\n\t0x12:   850,           0x13:   932,\n\t0x14:   850,           0x15:   437,\n\t0x16:   850,           0x17:   865,\n\t0x18:   437,           0x19:   437,\n\t0x1A:   850,           0x1B:   437,\n\t0x1C:   863,           0x1D:   850,\n\t0x1F:   852,           0x22:   852,\n\t0x23:   852,           0x24:   860,\n\t0x25:   850,           0x26:   866,\n\t0x37:   850,           0x40:   852,\n\t0x4D:   936,           0x4E:   949,\n\t0x4F:   950,           0x50:   874,\n\t0x57:  1252,           0x58:  1252,\n\t0x59:  1252,           0x6C:   863,\n\t0x86:   737,           0x87:   852,\n\t0x88:   857,           0xCC:  1257,\n\n\t0xFF: 16969\n};\nvar dbf_reverse_map = evert({\n\t0x01:   437,           0x02:   850,\n\t0x03:  1252,           0x04: 10000,\n\t0x64:   852,           0x65:   866,\n\t0x66:   865,           0x67:   861,\n\t0x68:   895,           0x69:   620,\n\t0x6A:   737,           0x6B:   857,\n\t0x78:   950,           0x79:   949,\n\t0x7A:   936,           0x7B:   932,\n\t0x7C:   874,           0x7D:  1255,\n\t0x7E:  1256,           0x96: 10007,\n\t0x97: 10029,           0x98: 10006,\n\t0xC8:  1250,           0xC9:  1251,\n\t0xCA:  1254,           0xCB:  1253,\n\t0x00: 20127\n});\n/* TODO: find an actual specification */\nfunction dbf_to_aoa(buf, opts)/*:AOA*/ {\n\tvar out/*:AOA*/ = [];\n\tvar d/*:Block*/ = (new_raw_buf(1)/*:any*/);\n\tswitch(opts.type) {\n\t\tcase 'base64': d = s2a(Base64_decode(buf)); break;\n\t\tcase 'binary': d = s2a(buf); break;\n\t\tcase 'buffer':\n\t\tcase 'array': d = buf; break;\n\t}\n\tprep_blob(d, 0);\n\n\t/* header */\n\tvar ft = d.read_shift(1);\n\tvar memo = !!(ft & 0x88);\n\tvar vfp = false, l7 = false;\n\tswitch(ft) {\n\t\tcase 0x02: break; // dBASE II\n\t\tcase 0x03: break; // dBASE III\n\t\tcase 0x30: vfp = true; memo = true; break; // VFP\n\t\tcase 0x31: vfp = true; memo = true; break; // VFP with autoincrement\n\t\t// 0x43 dBASE IV SQL table files\n\t\t// 0x63 dBASE IV SQL system files\n\t\tcase 0x83: break; // dBASE III with memo\n\t\tcase 0x8B: break; // dBASE IV with memo\n\t\tcase 0x8C: l7 = true; break; // dBASE Level 7 with memo\n\t\t// case 0xCB dBASE IV SQL table files with memo\n\t\tcase 0xF5: break; // FoxPro 2.x with memo\n\t\t// case 0xFB FoxBASE\n\t\tdefault: throw new Error(\"DBF Unsupported Version: \" + ft.toString(16));\n\t}\n\n\tvar nrow = 0, fpos = 0x0209;\n\tif(ft == 0x02) nrow = d.read_shift(2);\n\td.l += 3; // dBASE II stores DDMMYY date, others use YYMMDD\n\tif(ft != 0x02) nrow = d.read_shift(4);\n\tif(nrow > 1048576) nrow = 1e6;\n\n\tif(ft != 0x02) fpos = d.read_shift(2); // header length\n\tvar rlen = d.read_shift(2); // record length\n\n\tvar /*flags = 0,*/ current_cp = opts.codepage || 1252;\n\tif(ft != 0x02) { // 20 reserved bytes\n\t\td.l+=16;\n\t\t/*flags = */d.read_shift(1);\n\t\t//if(memo && ((flags & 0x02) === 0)) throw new Error(\"DBF Flags \" + flags.toString(16) + \" ft \" + ft.toString(16));\n\n\t\t/* codepage present in FoxPro and dBASE Level 7 */\n\t\tif(d[d.l] !== 0) current_cp = dbf_codepage_map[d[d.l]];\n\t\td.l+=1;\n\n\t\td.l+=2;\n\t}\n\tif(l7) d.l += 36; // Level 7: 32 byte \"Language driver name\", 4 byte reserved\n\n/*:: type DBFField = { name:string; len:number; type:string; } */\n\tvar fields/*:Array<DBFField>*/ = [], field/*:DBFField*/ = ({}/*:any*/);\n\tvar hend = Math.min(d.length, (ft == 0x02 ? 0x209 : (fpos - 10 - (vfp ? 264 : 0))));\n\tvar ww = l7 ? 32 : 11;\n\twhile(d.l < hend && d[d.l] != 0x0d) {\n\t\tfield = ({}/*:any*/);\n\t\tfield.name = (typeof $cptable !== \"undefined\" ? $cptable.utils.decode(current_cp, d.slice(d.l, d.l+ww)) : a2s(d.slice(d.l, d.l + ww))).replace(/[\\u0000\\r\\n][\\S\\s]*$/g,\"\");\n\t\td.l += ww;\n\t\tfield.type = String.fromCharCode(d.read_shift(1));\n\t\tif(ft != 0x02 && !l7) field.offset = d.read_shift(4);\n\t\tfield.len = d.read_shift(1);\n\t\tif(ft == 0x02) field.offset = d.read_shift(2);\n\t\tfield.dec = d.read_shift(1);\n\t\tif(field.name.length) fields.push(field);\n\t\tif(ft != 0x02) d.l += l7 ? 13 : 14;\n\t\tswitch(field.type) {\n\t\t\tcase 'B': // Double (VFP) / Binary (dBASE L7)\n\t\t\t\tif((!vfp || field.len != 8) && opts.WTF) console.log('Skipping ' + field.name + ':' + field.type);\n\t\t\t\tbreak;\n\t\t\tcase 'G': // General (FoxPro and dBASE L7)\n\t\t\tcase 'P': // Picture (FoxPro and dBASE L7)\n\t\t\t\tif(opts.WTF) console.log('Skipping ' + field.name + ':' + field.type);\n\t\t\t\tbreak;\n\t\t\tcase '+': // Autoincrement (dBASE L7 only)\n\t\t\tcase '0': // _NullFlags (VFP only)\n\t\t\tcase '@': // Timestamp (dBASE L7 only)\n\t\t\tcase 'C': // Character (dBASE II)\n\t\t\tcase 'D': // Date (dBASE III)\n\t\t\tcase 'F': // Float (dBASE IV)\n\t\t\tcase 'I': // Long (VFP and dBASE L7)\n\t\t\tcase 'L': // Logical (dBASE II)\n\t\t\tcase 'M': // Memo (dBASE III)\n\t\t\tcase 'N': // Number (dBASE II)\n\t\t\tcase 'O': // Double (dBASE L7 only)\n\t\t\tcase 'T': // Datetime (VFP only)\n\t\t\tcase 'Y': // Currency (VFP only)\n\t\t\t\tbreak;\n\t\t\tdefault: throw new Error('Unknown Field Type: ' + field.type);\n\t\t}\n\t}\n\n\tif(d[d.l] !== 0x0D) d.l = fpos-1;\n\tif(d.read_shift(1) !== 0x0D) throw new Error(\"DBF Terminator not found \" + d.l + \" \" + d[d.l]);\n\td.l = fpos;\n\n\t/* data */\n\tvar R = 0, C = 0;\n\tout[0] = [];\n\tfor(C = 0; C != fields.length; ++C) out[0][C] = fields[C].name;\n\twhile(nrow-- > 0) {\n\t\tif(d[d.l] === 0x2A) {\n\t\t\t// TODO: record marked as deleted -- create a hidden row?\n\t\t\td.l+=rlen;\n\t\t\tcontinue;\n\t\t}\n\t\t++d.l;\n\t\tout[++R] = []; C = 0;\n\t\tfor(C = 0; C != fields.length; ++C) {\n\t\t\tvar dd = d.slice(d.l, d.l+fields[C].len); d.l+=fields[C].len;\n\t\t\tprep_blob(dd, 0);\n\t\t\tvar s = typeof $cptable !== \"undefined\" ? $cptable.utils.decode(current_cp, dd) : a2s(dd);\n\t\t\tswitch(fields[C].type) {\n\t\t\t\tcase 'C':\n\t\t\t\t\t// NOTE: it is conventional to write '  /  /  ' for empty dates\n\t\t\t\t\tif(s.trim().length) out[R][C] = s.replace(/([^\\s])\\s+$/,\"$1\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'D':\n\t\t\t\t\tif(s.length === 8) {\n\t\t\t\t\t\tout[R][C] = new Date(Date.UTC(+s.slice(0,4), +s.slice(4,6)-1, +s.slice(6,8), 0, 0, 0, 0));\n\t\t\t\t\t\tif(!(opts && opts.UTC)) { out[R][C] = utc_to_local(out[R][C]); }\n\t\t\t\t\t}\n\t\t\t\t\telse out[R][C] = s;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'F': out[R][C] = parseFloat(s.trim()); break;\n\t\t\t\tcase '+': case 'I': out[R][C] = l7 ? dd.read_shift(-4, 'i') ^ 0x80000000 : dd.read_shift(4, 'i'); break;\n\t\t\t\tcase 'L': switch(s.trim().toUpperCase()) {\n\t\t\t\t\tcase 'Y': case 'T': out[R][C] = true; break;\n\t\t\t\t\tcase 'N': case 'F': out[R][C] = false; break;\n\t\t\t\t\tcase '': case '\\x00': case '?': break;\n\t\t\t\t\tdefault: throw new Error(\"DBF Unrecognized L:|\" + s + \"|\");\n\t\t\t\t\t} break;\n\t\t\t\tcase 'M': /* TODO: handle memo files */\n\t\t\t\t\tif(!memo) throw new Error(\"DBF Unexpected MEMO for type \" + ft.toString(16));\n\t\t\t\t\tout[R][C] = \"##MEMO##\" + (l7 ? parseInt(s.trim(), 10): dd.read_shift(4));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'N':\n\t\t\t\t\ts = s.replace(/\\u0000/g,\"\").trim();\n\t\t\t\t\t// NOTE: dBASE II interprets \"  .  \" as 0\n\t\t\t\t\tif(s && s != \".\") out[R][C] = +s || 0; break;\n\t\t\t\tcase '@':\n\t\t\t\t\t// NOTE: dBASE specs appear to be incorrect\n\t\t\t\t\tout[R][C] = new Date(dd.read_shift(-8, 'f') - 0x388317533400);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'T': {\n\t\t\t\t\tvar hi = dd.read_shift(4), lo = dd.read_shift(4);\n\t\t\t\t\tif(hi == 0 && lo == 0) break;\n\t\t\t\t\tout[R][C] = new Date((hi - 0x253D8C) * 0x5265C00 + lo);\n\t\t\t\t\tif(!(opts && opts.UTC)) out[R][C] = utc_to_local(out[R][C]);\n\t\t\t\t} break;\n\t\t\t\tcase 'Y': out[R][C] = dd.read_shift(4,'i')/1e4 + (dd.read_shift(4, 'i')/1e4)*Math.pow(2,32); break;\n\t\t\t\tcase 'O': out[R][C] = -dd.read_shift(-8, 'f'); break;\n\t\t\t\tcase 'B': if(vfp && fields[C].len == 8) { out[R][C] = dd.read_shift(8,'f'); break; }\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 'G': case 'P': dd.l += fields[C].len; break;\n\t\t\t\tcase '0':\n\t\t\t\t\tif(fields[C].name === '_NullFlags') break;\n\t\t\t\t\t/* falls through */\n\t\t\t\tdefault: throw new Error(\"DBF Unsupported data type \" + fields[C].type);\n\t\t\t}\n\t\t}\n\t}\n\tif(ft != 0x02) if(d.l < d.length && d[d.l++] != 0x1A) throw new Error(\"DBF EOF Marker missing \" + (d.l-1) + \" of \" + d.length + \" \" + d[d.l-1].toString(16));\n\tif(opts && opts.sheetRows) out = out.slice(0, opts.sheetRows);\n\topts.DBF = fields;\n\treturn out;\n}\n\nfunction dbf_to_sheet(buf, opts)/*:Worksheet*/ {\n\tvar o = opts || {};\n\tif(!o.dateNF) o.dateNF = \"yyyymmdd\";\n\tvar ws = aoa_to_sheet(dbf_to_aoa(buf, o), o);\n\tws[\"!cols\"] = o.DBF.map(function(field) { return {\n\t\twch: field.len,\n\t\tDBF: field\n\t};});\n\tdelete o.DBF;\n\treturn ws;\n}\n\nfunction dbf_to_workbook(buf, opts)/*:Workbook*/ {\n\ttry {\n\t\tvar o = sheet_to_workbook(dbf_to_sheet(buf, opts), opts);\n\t\to.bookType = \"dbf\";\n\t\treturn o;\n\t} catch(e) { if(opts && opts.WTF) throw e; }\n\treturn ({SheetNames:[],Sheets:{}});\n}\n\nvar _RLEN = { 'B': 8, 'C': 250, 'L': 1, 'D': 8, '?': 0, '': 0 };\nfunction sheet_to_dbf(ws/*:Worksheet*/, opts/*:WriteOpts*/) {\n\tif(!ws[\"!ref\"]) throw new Error(\"Cannot export empty sheet to DBF\");\n\tvar o = opts || {};\n\tvar old_cp = current_codepage;\n\tif(+o.codepage >= 0) set_cp(+o.codepage);\n\tif(o.type == \"string\") throw new Error(\"Cannot write DBF to JS string\");\n\tvar ba = buf_array();\n\tvar aoa/*:AOA*/ = sheet_to_json(ws, {header:1, raw:true, cellDates:true});\n\tvar headers = aoa[0], data = aoa.slice(1), cols = ws[\"!cols\"] || [];\n\tvar i = 0, j = 0, hcnt = 0, rlen = 1;\n\tfor(i = 0; i < headers.length; ++i) {\n\t\tif(((cols[i]||{}).DBF||{}).name) { headers[i] = cols[i].DBF.name; ++hcnt; continue; }\n\t\tif(headers[i] == null) continue;\n\t\t++hcnt;\n\t\tif(typeof headers[i] === 'number') headers[i] = headers[i].toString(10);\n\t\tif(typeof headers[i] !== 'string') throw new Error(\"DBF Invalid column name \" + headers[i] + \" |\" + (typeof headers[i]) + \"|\");\n\t\tif(headers.indexOf(headers[i]) !== i) for(j=0; j<1024;++j)\n\t\t\tif(headers.indexOf(headers[i] + \"_\" + j) == -1) { headers[i] += \"_\" + j; break; }\n\t}\n\tvar range = safe_decode_range(ws['!ref']);\n\tvar coltypes/*:Array<string>*/ = [];\n\tvar colwidths/*:Array<number>*/ = [];\n\tvar coldecimals/*:Array<number>*/ = [];\n\tfor(i = 0; i <= range.e.c - range.s.c; ++i) {\n\t\tvar guess = '', _guess = '', maxlen = 0;\n\t\tvar col/*:Array<any>*/ = [];\n\t\tfor(j=0; j < data.length; ++j) {\n\t\t\tif(data[j][i] != null) col.push(data[j][i]);\n\t\t}\n\t\tif(col.length == 0 || headers[i] == null) { coltypes[i] = '?'; continue; }\n\t\tfor(j = 0; j < col.length; ++j) {\n\t\t\tswitch(typeof col[j]) {\n\t\t\t\t/* TODO: check if L2 compat is desired */\n\t\t\t\tcase 'number': _guess = 'B'; break;\n\t\t\t\tcase 'string': _guess = 'C'; break;\n\t\t\t\tcase 'boolean': _guess = 'L'; break;\n\t\t\t\tcase 'object': _guess = col[j] instanceof Date ? 'D' : 'C'; break;\n\t\t\t\tdefault: _guess = 'C';\n\t\t\t}\n\t\t\t/* TODO: cache the values instead of encoding twice */\n\t\t\tmaxlen = Math.max(maxlen, (typeof $cptable !== \"undefined\" && typeof col[j] == \"string\" ? $cptable.utils.encode(current_ansi, col[j]): String(col[j])).length);\n\t\t\tguess = guess && guess != _guess ? 'C' : _guess;\n\t\t\t//if(guess == 'C') break;\n\t\t}\n\t\tif(maxlen > 250) maxlen = 250;\n\t\t_guess = ((cols[i]||{}).DBF||{}).type;\n\t\t/* TODO: more fine grained control over DBF type resolution */\n\t\tif(_guess == 'C') {\n\t\t\tif(cols[i].DBF.len > maxlen) maxlen = cols[i].DBF.len;\n\t\t}\n\t\tif(guess == 'B' && _guess == 'N') {\n\t\t\tguess = 'N';\n\t\t\tcoldecimals[i] = cols[i].DBF.dec;\n\t\t\tmaxlen = cols[i].DBF.len;\n\t\t}\n\t\tcolwidths[i] = guess == 'C' || _guess == 'N' ? maxlen : (_RLEN[guess] || 0);\n\t\trlen += colwidths[i];\n\t\tcoltypes[i] = guess;\n\t}\n\n\tvar h = ba.next(32);\n\th.write_shift(4, 0x13021130);\n\th.write_shift(4, data.length);\n\th.write_shift(2, 296 + 32 * hcnt);\n\th.write_shift(2, rlen);\n\tfor(i=0; i < 4; ++i) h.write_shift(4, 0);\n\tvar cp = +dbf_reverse_map[/*::String(*/current_codepage/*::)*/] || 0x03;\n\th.write_shift(4, 0x00000000 | (cp<<8));\n\tif(dbf_codepage_map[cp] != +o.codepage) {\n\t\tif(o.codepage) console.error(\"DBF Unsupported codepage \" + current_codepage + \", using 1252\");\n\t\tcurrent_codepage = 1252;\n\t}\n\n\tfor(i = 0, j = 0; i < headers.length; ++i) {\n\t\tif(headers[i] == null) continue;\n\t\tvar hf = ba.next(32);\n\t\t/* TODO: test how applications handle non-ASCII field names */\n\t\tvar _f = (headers[i].slice(-10) + \"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\").slice(0, 11);\n\t\thf.write_shift(1, _f, \"sbcs\");\n\t\thf.write_shift(1, coltypes[i] == '?' ? 'C' : coltypes[i], \"sbcs\");\n\t\thf.write_shift(4, j);\n\t\thf.write_shift(1, colwidths[i] || _RLEN[coltypes[i]] || 0);\n\t\thf.write_shift(1, coldecimals[i] || 0);\n\t\thf.write_shift(1, 0x02);\n\t\thf.write_shift(4, 0);\n\t\thf.write_shift(1, 0);\n\t\thf.write_shift(4, 0);\n\t\thf.write_shift(4, 0);\n\t\tj += (colwidths[i] || _RLEN[coltypes[i]] || 0);\n\t}\n\n\tvar hb = ba.next(264);\n\thb.write_shift(4, 0x0000000D);\n\tfor(i=0; i < 65;++i) hb.write_shift(4, 0x00000000);\n\tfor(i=0; i < data.length; ++i) {\n\t\tvar rout = ba.next(rlen);\n\t\trout.write_shift(1, 0);\n\t\tfor(j=0; j<headers.length; ++j) {\n\t\t\tif(headers[j] == null) continue;\n\t\t\tswitch(coltypes[j]) {\n\t\t\t\tcase 'L': rout.write_shift(1, data[i][j] == null ? 0x3F : data[i][j] ? 0x54 : 0x46); break;\n\t\t\t\tcase 'B': rout.write_shift(8, data[i][j]||0, 'f'); break;\n\t\t\t\tcase 'N':\n\t\t\t\t\tvar _n = \"0\";\n\t\t\t\t\tif(typeof data[i][j] == \"number\") _n = data[i][j].toFixed(coldecimals[j]||0);\n\t\t\t\t\tif(_n.length > colwidths[j]) _n = _n.slice(0, colwidths[j]); // addresses decimal > width\n\t\t\t\t\tfor(hcnt=0; hcnt < colwidths[j]-_n.length; ++hcnt) rout.write_shift(1, 0x20);\n\t\t\t\t\trout.write_shift(1, _n, \"sbcs\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'D':\n\t\t\t\t\tif(!data[i][j]) rout.write_shift(8, \"00000000\", \"sbcs\");\n\t\t\t\t\telse {\n\t\t\t\t\t\trout.write_shift(4, (\"0000\"+data[i][j].getFullYear()).slice(-4), \"sbcs\");\n\t\t\t\t\t\trout.write_shift(2, (\"00\"+(data[i][j].getMonth()+1)).slice(-2), \"sbcs\");\n\t\t\t\t\t\trout.write_shift(2, (\"00\"+data[i][j].getDate()).slice(-2), \"sbcs\");\n\t\t\t\t\t} break;\n\t\t\t\tcase 'C':\n\t\t\t\t\tvar _l = rout.l;\n\t\t\t\t\tvar _s = String(data[i][j] != null ? data[i][j] : \"\").slice(0, colwidths[j]);\n\t\t\t\t\trout.write_shift(1, _s, \"cpstr\");\n\t\t\t\t\t_l += colwidths[j] - rout.l;\n\t\t\t\t\tfor(hcnt=0; hcnt < _l; ++hcnt) rout.write_shift(1, 0x20); break;\n\t\t\t}\n\t\t}\n\t\t// data\n\t}\n\tcurrent_codepage = old_cp;\n\tba.next(1).write_shift(1, 0x1A);\n\treturn ba.end();\n}\n\treturn {\n\t\tto_workbook: dbf_to_workbook,\n\t\tto_sheet: dbf_to_sheet,\n\t\tfrom_sheet: sheet_to_dbf\n\t};\n})();\n\nvar SYLK = /*#__PURE__*/(function() {\n\t/* TODO: stress test sequences */\n\tvar sylk_escapes = ({\n\t\tAA:'', BA:'', CA:'', DA:195, HA:'', JA:197,\n\t\tAE:'', BE:'', CE:'',         HE:'',\n\t\tAI:'', BI:'', CI:'',         HI:'',\n\t\tAO:'', BO:'', CO:'', DO:213, HO:'',\n\t\tAU:'', BU:'', CU:'',         HU:'',\n\t\tAa:'', Ba:'', Ca:'', Da:227, Ha:'', Ja:229,\n\t\tAe:'', Be:'', Ce:'',         He:'',\n\t\tAi:'', Bi:'', Ci:'',         Hi:'',\n\t\tAo:'', Bo:'', Co:'', Do:245, Ho:'',\n\t\tAu:'', Bu:'', Cu:'',         Hu:'',\n\t\tKC:'', Kc:'', q:'',  z:'',  a:'',  j:'',\n\t\tDN:209, Dn:241, Hy:255,\n\t\tS:169,  c:170,  R:174,  \"B \":180,\n\t\t0:176,  1:177,  2:178,\n\t\t3:179,  5:181,  6:182,\n\t\t7:183,  Q:185,  k:186,  b:208,  i:216,  l:222,  s:240,  y:248,\n\t\t\"!\":161, '\"':162, \"#\":163, \"(\":164, \"%\":165, \"'\":167, \"H \":168,\n\t\t\"+\":171, \";\":187, \"<\":188, \"=\":189, \">\":190, \"?\":191, \"{\":223\n\t}/*:any*/);\n\tvar sylk_char_regex = new RegExp(\"\\u001BN(\" + keys(sylk_escapes).join(\"|\").replace(/\\|\\|\\|/, \"|\\\\||\").replace(/([?()+])/g,\"\\\\$1\").replace(\"{\", \"\\\\{\") + \"|\\\\|)\", \"gm\");\n\ttry {\n\t\tsylk_char_regex = new RegExp(\"\\u001BN(\" + keys(sylk_escapes).join(\"|\").replace(/\\|\\|\\|/, \"|\\\\||\").replace(/([?()+])/g,\"\\\\$1\") + \"|\\\\|)\", \"gm\");\n\t} catch(e) {}\n\tvar sylk_char_fn = function(_, $1){ var o = sylk_escapes[$1]; return typeof o == \"number\" ? _getansi(o) : o; };\n\tvar decode_sylk_char = function($$, $1, $2) { var newcc = (($1.charCodeAt(0) - 0x20)<<4) | ($2.charCodeAt(0) - 0x30); return newcc == 59 ? $$ : _getansi(newcc); };\n\tsylk_escapes[\"|\"] = 254;\n\t/* TODO: evert the escape map */\n\tvar encode_sylk_str = function($$) { return $$.replace(/\\n/g, \"\\x1b :\").replace(/\\r/g, \"\\x1b =\"); };\n\t/* https://oss.sheetjs.com/notes/sylk/ for more details */\n\tfunction sylk_to_aoa(d/*:RawData*/, opts)/*:[AOA, Worksheet]*/ {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return sylk_to_aoa_str(Base64_decode(d), opts);\n\t\t\tcase 'binary': return sylk_to_aoa_str(d, opts);\n\t\t\tcase 'buffer': return sylk_to_aoa_str(has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d), opts);\n\t\t\tcase 'array': return sylk_to_aoa_str(cc2str(d), opts);\n\t\t}\n\t\tthrow new Error(\"Unrecognized type \" + opts.type);\n\t}\n\tfunction sylk_to_aoa_str(str/*:string*/, opts)/*:[AOA, Worksheet]*/ {\n\t\tvar records = str.split(/[\\n\\r]+/), R = -1, C = -1, ri = 0, rj = 0, arr/*:AOA*/ = [];\n\t\tvar formats/*:Array<string>*/ = [];\n\t\tvar next_cell_format/*:string|null*/ = null;\n\t\tvar sht = {}, rowinfo/*:Array<RowInfo>*/ = [], colinfo/*:Array<ColInfo>*/ = [], cw/*:Array<string>*/ = [];\n\t\tvar Mval = 0, j;\n\t\tvar wb = { Workbook: { WBProps: {}, Names: [] } };\n\t\tif(+opts.codepage >= 0) set_cp(+opts.codepage);\n\t\tfor (; ri !== records.length; ++ri) {\n\t\t\tMval = 0;\n\t\t\tvar rstr=records[ri].trim().replace(/\\x1B([\\x20-\\x2F])([\\x30-\\x3F])/g, decode_sylk_char).replace(sylk_char_regex, sylk_char_fn);\n\t\t\tvar record=rstr.replace(/;;/g, \"\\u0000\").split(\";\").map(function(x) { return x.replace(/\\u0000/g, \";\"); });\n\t\t\tvar RT=record[0], val;\n\t\t\tif(rstr.length > 0) switch(RT) {\n\t\t\tcase 'ID': break; /* header */\n\t\t\tcase 'E': break; /* EOF */\n\t\t\tcase 'B': break; /* dimensions */\n\t\t\tcase 'O': /* workbook options */\n\t\t\tfor(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {\n\t\t\t\tcase 'V': {\n\t\t\t\t\tvar d1904 = parseInt(record[rj].slice(1), 10);\n\t\t\t\t\t// NOTE: it is technically an error if d1904 >= 5 or < 0\n\t\t\t\t\tif(d1904 >= 1 && d1904 <= 4) wb.Workbook.WBProps.date1904 = true;\n\t\t\t\t} break;\n\t\t\t} break;\n\t\t\tcase 'W': break; /* window */\n\t\t\tcase 'P':\n\t\t\t\tswitch(record[1].charAt(0)){\n\t\t\t\t\tcase 'P': formats.push(rstr.slice(3).replace(/;;/g, \";\")); break;\n\t\t\t\t} break;\n\t\t\tcase 'NN': { /* defined name */\n\t\t\t\tvar nn = {Sheet: 0};\n\t\t\t\tfor(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {\n\t\t\t\t\tcase 'N': nn.Name = record[rj].slice(1); break;\n\t\t\t\t\tcase 'E': nn.Ref = (opts && opts.sheet || \"Sheet1\") + \"!\" + rc_to_a1(record[rj].slice(1)); break;\n\t\t\t\t}\n\t\t\t\twb.Workbook.Names.push(nn);\n\t\t\t} break;\n\t\t\t// case 'NE': // ??\n\t\t\t// case 'NU': // ??\n\t\t\tcase 'C': /* cell */\n\t\t\tvar C_seen_K = false, C_seen_X = false, C_seen_S = false, C_seen_E = false, _R = -1, _C = -1, formula = \"\", cell_t = \"z\";\n\t\t\tvar cmnt = \"\";\n\t\t\tfor(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {\n\t\t\t\tcase 'A': cmnt = record[rj].slice(1); break; // TODO: comment\n\t\t\t\tcase 'X': C = parseInt(record[rj].slice(1), 10)-1; C_seen_X = true; break;\n\t\t\t\tcase 'Y':\n\t\t\t\t\tR = parseInt(record[rj].slice(1), 10)-1; if(!C_seen_X) C = 0;\n\t\t\t\t\tfor(j = arr.length; j <= R; ++j) arr[j] = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'K':\n\t\t\t\t\tval = record[rj].slice(1);\n\t\t\t\t\tif(val.charAt(0) === '\"') { val = val.slice(1,val.length - 1); cell_t = \"s\"; }\n\t\t\t\t\telse if(val === 'TRUE' || val === 'FALSE') { val = val === 'TRUE'; cell_t = \"b\"; }\n\t\t\t\t\telse if(val.charAt(0) == \"#\" && RBErr[val] != null) { cell_t = \"e\"; val = RBErr[val]; }\n\t\t\t\t\telse if(!isNaN(fuzzynum(val))) {\n\t\t\t\t\t\tval = fuzzynum(val); cell_t = \"n\";\n\t\t\t\t\t\tif(next_cell_format !== null && fmt_is_date(next_cell_format) && opts.cellDates) {\n\t\t\t\t\t\t\tval = numdate(wb.Workbook.WBProps.date1904 ? val + 1462 : val); cell_t = typeof val == \"number\" ? \"n\" : \"d\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof $cptable !== 'undefined' && typeof val == \"string\" && ((opts||{}).type != \"string\") && (opts||{}).codepage) val = $cptable.utils.decode(opts.codepage, val);\n\t\t\t\t\tC_seen_K = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tC_seen_E = true;\n\t\t\t\t\tformula = rc_to_a1(record[rj].slice(1), {r:R,c:C});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'S':\n\t\t\t\t\tC_seen_S = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'G': break; // unknown\n\t\t\t\tcase 'R': _R = parseInt(record[rj].slice(1), 10)-1; break;\n\t\t\t\tcase 'C': _C = parseInt(record[rj].slice(1), 10)-1; break;\n\t\t\t\t// case 'P': // ??\n\t\t\t\t// case 'D': // ??\n\t\t\t\tdefault: if(opts && opts.WTF) throw new Error(\"SYLK bad record \" + rstr);\n\t\t\t}\n\t\t\tif(C_seen_K) {\n\t\t\t\tif(!arr[R][C]) arr[R][C] = { t: cell_t, v: val };\n\t\t\t\telse { arr[R][C].t = cell_t; arr[R][C].v = val; }\n\t\t\t\tif(next_cell_format) arr[R][C].z = next_cell_format;\n\t\t\t\tif(opts.cellText !== false && next_cell_format) arr[R][C].w = SSF_format(arr[R][C].z, arr[R][C].v, { date1904: wb.Workbook.WBProps.date1904 });\n\t\t\t\tnext_cell_format = null;\n\t\t\t}\n\t\t\tif(C_seen_S) {\n\t\t\t\tif(C_seen_E) throw new Error(\"SYLK shared formula cannot have own formula\");\n\t\t\t\tvar shrbase = _R > -1 && arr[_R][_C];\n\t\t\t\tif(!shrbase || !shrbase[1]) throw new Error(\"SYLK shared formula cannot find base\");\n\t\t\t\tformula = shift_formula_str(shrbase[1], {r: R - _R, c: C - _C});\n\t\t\t}\n\t\t\tif(formula) {\n\t\t\t\tif(!arr[R][C]) arr[R][C] = { t: 'n', f: formula };\n\t\t\t\telse arr[R][C].f = formula;\n\t\t\t}\n\t\t\tif(cmnt) {\n\t\t\t\tif(!arr[R][C]) arr[R][C] = { t: 'z' };\n\t\t\t\tarr[R][C].c = [{a:\"SheetJSYLK\", t: cmnt}];\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 'F': /* Format */\n\t\t\tvar F_seen = 0;\n\t\t\tfor(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {\n\t\t\t\tcase 'X': C = parseInt(record[rj].slice(1), 10)-1; ++F_seen; break;\n\t\t\t\tcase 'Y':\n\t\t\t\t\tR = parseInt(record[rj].slice(1), 10)-1; /*C = 0;*/\n\t\t\t\t\tfor(j = arr.length; j <= R; ++j) arr[j] = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M': Mval = parseInt(record[rj].slice(1), 10) / 20; break;\n\t\t\t\tcase 'F': break; /* ??? */\n\t\t\t\tcase 'G': break; /* hide grid */\n\t\t\t\tcase 'P':\n\t\t\t\t\tnext_cell_format = formats[parseInt(record[rj].slice(1), 10)];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'S': break; /* cell style */\n\t\t\t\tcase 'D': break; /* column */\n\t\t\t\tcase 'N': break; /* font */\n\t\t\t\tcase 'W':\n\t\t\t\t\tcw = record[rj].slice(1).split(\" \");\n\t\t\t\t\tfor(j = parseInt(cw[0], 10); j <= parseInt(cw[1], 10); ++j) {\n\t\t\t\t\t\tMval = parseInt(cw[2], 10);\n\t\t\t\t\t\tcolinfo[j-1] = Mval === 0 ? {hidden:true}: {wch:Mval};\n\t\t\t\t\t} break;\n\t\t\t\tcase 'C': /* default column format */\n\t\t\t\t\tC = parseInt(record[rj].slice(1), 10)-1;\n\t\t\t\t\tif(!colinfo[C]) colinfo[C] = {};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'R': /* row properties */\n\t\t\t\t\tR = parseInt(record[rj].slice(1), 10)-1;\n\t\t\t\t\tif(!rowinfo[R]) rowinfo[R] = {};\n\t\t\t\t\tif(Mval > 0) { rowinfo[R].hpt = Mval; rowinfo[R].hpx = pt2px(Mval); }\n\t\t\t\t\telse if(Mval === 0) rowinfo[R].hidden = true;\n\t\t\t\t\tbreak;\n\t\t\t\t// case 'K': // ??\n\t\t\t\t// case 'E': // ??\n\t\t\t\tdefault: if(opts && opts.WTF) throw new Error(\"SYLK bad record \" + rstr);\n\t\t\t}\n\t\t\tif(F_seen < 1) next_cell_format = null; break;\n\t\t\tdefault: if(opts && opts.WTF) throw new Error(\"SYLK bad record \" + rstr);\n\t\t\t}\n\t\t}\n\t\tif(rowinfo.length > 0) sht['!rows'] = rowinfo;\n\t\tif(colinfo.length > 0) sht['!cols'] = colinfo;\n\t\tcolinfo.forEach(function(col) { process_col(col); });\n\t\tif(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);\n\t\treturn [arr, sht, wb];\n\t}\n\n\tfunction sylk_to_workbook(d/*:RawData*/, opts)/*:Workbook*/ {\n\t\tvar aoasht = sylk_to_aoa(d, opts);\n\t\tvar aoa = aoasht[0], ws = aoasht[1], wb = aoasht[2];\n\t\tvar _opts = dup(opts); _opts.date1904 = (((wb||{}).Workbook || {}).WBProps || {}).date1904;\n\t\tvar o = aoa_to_sheet(aoa, _opts);\n\t\tkeys(ws).forEach(function(k) { o[k] = ws[k]; });\n\t\tvar outwb = sheet_to_workbook(o, opts);\n\t\tkeys(wb).forEach(function(k) { outwb[k] = wb[k]; });\n\t\toutwb.bookType = \"sylk\";\n\t\treturn outwb;\n\t}\n\n\tfunction write_ws_cell_sylk(cell/*:Cell*/, ws/*:Worksheet*/, R/*:number*/, C/*:number*/, opts, date1904/*:boolean*/)/*:string*/ {\n\t\tvar o = \"C;Y\" + (R+1) + \";X\" + (C+1) + \";K\";\n\t\tswitch(cell.t) {\n\t\t\tcase 'n':\n\t\t\t\to += isFinite(cell.v) ? (cell.v||0) : BErr[isNaN(cell.v) ? 0x24 : 0x07];\n\t\t\t\tif(cell.f && !cell.F) o += \";E\" + a1_to_rc(cell.f, {r:R, c:C}); break;\n\t\t\tcase 'b': o += cell.v ? \"TRUE\" : \"FALSE\"; break;\n\t\t\tcase 'e': o += cell.w || BErr[cell.v] || cell.v; break;\n\t\t\tcase 'd': o += datenum(parseDate(cell.v, date1904), date1904); break;\n\t\t\tcase 's': o += '\"' + (cell.v == null ? \"\" : String(cell.v)).replace(/\"/g,\"\").replace(/;/g, \";;\") + '\"'; break;\n\t\t}\n\t\treturn o;\n\t}\n\n\tfunction write_ws_cmnt_sylk(cmnt/*:Comment*/, R/*:number*/, C/*:number*/)/*:string*/ {\n\t\tvar o = \"C;Y\" + (R+1) + \";X\" + (C+1) + \";A\";\n\t\t/* TODO: max length? */\n\t\to += encode_sylk_str(cmnt.map(function(c) { return c.t; }).join(\"\"));\n\t\treturn o;\n\t}\n\n\tfunction write_ws_cols_sylk(out, cols) {\n\t\tcols.forEach(function(col, i) {\n\t\t\tvar rec = \"F;W\" + (i+1) + \" \" + (i+1) + \" \";\n\t\t\tif(col.hidden) rec += \"0\";\n\t\t\telse {\n\t\t\t\tif(typeof col.width == 'number' && !col.wpx) col.wpx = width2px(col.width);\n\t\t\t\tif(typeof col.wpx == 'number' && !col.wch) col.wch = px2char(col.wpx);\n\t\t\t\tif(typeof col.wch == 'number') rec += Math.round(col.wch);\n\t\t\t}\n\t\t\tif(rec.charAt(rec.length - 1) != \" \") out.push(rec);\n\t\t});\n\t}\n\n\tfunction write_ws_rows_sylk(out/*:Array<string>*/, rows/*:Array<RowInfo>*/) {\n\t\trows.forEach(function(row, i) {\n\t\t\tvar rec = \"F;\";\n\t\t\tif(row.hidden) rec += \"M0;\";\n\t\t\telse if(row.hpt) rec += \"M\" + 20 * row.hpt + \";\";\n\t\t\telse if(row.hpx) rec += \"M\" + 20 * px2pt(row.hpx) + \";\";\n\t\t\tif(rec.length > 2) out.push(rec + \"R\" + (i+1));\n\t\t});\n\t}\n\n\tfunction sheet_to_sylk(ws/*:Worksheet*/, opts/*:?any*/, wb/*:?WorkBook*/)/*:string*/ {\n\t\tif(!opts) opts = {}; opts._formats = [\"General\"];\n\t\t/* TODO: codepage */\n\t\tvar preamble/*:Array<string>*/ = [\"ID;PSheetJS;N;E\"], o/*:Array<string>*/ = [];\n\t\tvar r = safe_decode_range(ws['!ref']||\"A1\"), cell/*:Cell*/;\n\t\tvar dense = ws[\"!data\"] != null;\n\t\tvar RS = \"\\r\\n\";\n\t\tvar d1904 = (((wb||{}).Workbook||{}).WBProps||{}).date1904;\n\n\t\tvar _lastfmt = \"General\";\n\t\tpreamble.push(\"P;PGeneral\");\n\t\t/* Excel has been inconsistent in comment placement */\n\t\tvar R = r.s.r, C = r.s.c, p = [];\n\t\tif(ws[\"!ref\"]) for(R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tif(dense && !ws[\"!data\"][R]) continue;\n\t\t\tp = [];\n\t\t\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tcell = dense ? ws[\"!data\"][R][C] : ws[encode_col(C) + encode_row(R)];\n\t\t\t\tif(!cell || !cell.c) continue;\n\t\t\t\tp.push(write_ws_cmnt_sylk(cell.c, R, C));\n\t\t\t}\n\t\t\tif(p.length) o.push(p.join(RS));\n\t\t}\n\t\tif(ws[\"!ref\"]) for(R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tif(dense && !ws[\"!data\"][R]) continue;\n\t\t\tp = [];\n\t\t\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tcell = dense ? ws[\"!data\"][R][C] : ws[encode_col(C) + encode_row(R)];\n\t\t\t\tif(!cell || (cell.v == null && (!cell.f || cell.F))) continue;\n\t\t\t\tif((cell.z||(cell.t == \"d\" ? table_fmt[14] : \"General\")) != _lastfmt) {\n\t\t\t\t\tvar ifmt = opts._formats.indexOf(cell.z);\n\t\t\t\t\tif(ifmt == -1) { opts._formats.push(cell.z); ifmt = opts._formats.length - 1; preamble.push(\"P;P\" + cell.z.replace(/;/g, \";;\")); }\n\t\t\t\t\tp.push(\"F;P\" + ifmt + \";Y\" + (R+1) + \";X\" + (C+1));\n\t\t\t\t}\n\t\t\t\tp.push(write_ws_cell_sylk(cell, ws, R, C, opts, d1904));\n\t\t\t}\n\t\t\to.push(p.join(RS));\n\t\t}\n\n\t\tpreamble.push(\"F;P0;DG0G8;M255\");\n\t\tif(ws['!cols']) write_ws_cols_sylk(preamble, ws['!cols']);\n\t\tif(ws['!rows']) write_ws_rows_sylk(preamble, ws['!rows']);\n\n\t\tif(ws[\"!ref\"]) preamble.push(\"B;Y\" + (r.e.r - r.s.r + 1) + \";X\" + (r.e.c - r.s.c + 1) + \";D\" + [r.s.c,r.s.r,r.e.c,r.e.r].join(\" \"));\n\t\tpreamble.push(\"O;L;D;B\" + (d1904 ? \";V4\" : \"\") + \";K47;G100 0.001\");\n\n\t\tdelete opts._formats;\n\t\treturn preamble.join(RS) + RS + o.join(RS) + RS + \"E\" + RS;\n\t}\n\n\treturn {\n\t\tto_workbook: sylk_to_workbook,\n\t\tfrom_sheet: sheet_to_sylk\n\t};\n})();\n\nvar DIF = /*#__PURE__*/(function() {\n\tfunction dif_to_aoa(d/*:RawData*/, opts)/*:AOA*/ {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return dif_to_aoa_str(Base64_decode(d), opts);\n\t\t\tcase 'binary': return dif_to_aoa_str(d, opts);\n\t\t\tcase 'buffer': return dif_to_aoa_str(has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d), opts);\n\t\t\tcase 'array': return dif_to_aoa_str(cc2str(d), opts);\n\t\t}\n\t\tthrow new Error(\"Unrecognized type \" + opts.type);\n\t}\n\tfunction dif_to_aoa_str(str/*:string*/, opts)/*:AOA*/ {\n\t\tvar records = str.split('\\n'), R = -1, C = -1, ri = 0, arr/*:AOA*/ = [];\n\t\tfor (; ri !== records.length; ++ri) {\n\t\t\tif (records[ri].trim() === 'BOT') { arr[++R] = []; C = 0; continue; }\n\t\t\tif (R < 0) continue;\n\t\t\tvar metadata = records[ri].trim().split(\",\");\n\t\t\tvar type = metadata[0], value = metadata[1];\n\t\t\t++ri;\n\t\t\tvar data = records[ri] || \"\";\n\t\t\twhile(((data.match(/[\"]/g)||[]).length & 1) && ri < records.length - 1) data += \"\\n\" + records[++ri];\n\t\t\tdata = data.trim();\n\t\t\tswitch (+type) {\n\t\t\t\tcase -1:\n\t\t\t\t\tif (data === 'BOT') { arr[++R] = []; C = 0; continue; }\n\t\t\t\t\telse if (data !== 'EOD') throw new Error(\"Unrecognized DIF special command \" + data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0:\n\t\t\t\t\tif(data === 'TRUE') arr[R][C] = true;\n\t\t\t\t\telse if(data === 'FALSE') arr[R][C] = false;\n\t\t\t\t\telse if(!isNaN(fuzzynum(value))) arr[R][C] = fuzzynum(value);\n\t\t\t\t\telse if(!isNaN(fuzzydate(value).getDate())) {\n\t\t\t\t\t\tarr[R][C] = parseDate(value);\n\t\t\t\t\t\tif(!(opts && opts.UTC)) { arr[R][C] = utc_to_local(arr[R][C]); }\n\t\t\t\t\t}\n\t\t\t\t\telse arr[R][C] = value;\n\t\t\t\t\t++C; break;\n\t\t\t\tcase 1:\n\t\t\t\t\tdata = data.slice(1,data.length-1);\n\t\t\t\t\tdata = data.replace(/\"\"/g, '\"');\n\t\t\t\t\tif(DIF_XL && data && data.match(/^=\".*\"$/)) data = data.slice(2, -1);\n\t\t\t\t\tarr[R][C++] = data !== '' ? data : null;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (data === 'EOD') break;\n\t\t}\n\t\tif(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);\n\t\treturn arr;\n\t}\n\n\tfunction dif_to_sheet(str/*:string*/, opts)/*:Worksheet*/ { return aoa_to_sheet(dif_to_aoa(str, opts), opts); }\n\tfunction dif_to_workbook(str/*:string*/, opts)/*:Workbook*/ {\n\t\tvar o = sheet_to_workbook(dif_to_sheet(str, opts), opts);\n\t\to.bookType = \"dif\";\n\t\treturn o;\n\t}\n\n\tfunction make_value(v/*:number*/, s/*:string*/)/*:string*/ { return \"0,\" + String(v) + \"\\r\\n\" + s; }\n\tfunction make_value_str(s/*:string*/)/*:string*/ { return \"1,0\\r\\n\\\"\" + s.replace(/\"/g,'\"\"') + '\"'; }\n\tfunction sheet_to_dif(ws/*:Worksheet*//*::, opts:?any*/)/*:string*/ {\n\t\tvar _DIF_XL = DIF_XL;\n\t\tif(!ws[\"!ref\"]) throw new Error(\"Cannot export empty sheet to DIF\");\n\t\tvar r = safe_decode_range(ws['!ref']);\n\t\tvar dense = ws[\"!data\"] != null;\n\t\tvar o/*:Array<string>*/ = [\n\t\t\t\"TABLE\\r\\n0,1\\r\\n\\\"sheetjs\\\"\\r\\n\",\n\t\t\t\"VECTORS\\r\\n0,\" + (r.e.r - r.s.r + 1) + \"\\r\\n\\\"\\\"\\r\\n\",\n\t\t\t\"TUPLES\\r\\n0,\" + (r.e.c - r.s.c + 1) + \"\\r\\n\\\"\\\"\\r\\n\",\n\t\t\t\"DATA\\r\\n0,0\\r\\n\\\"\\\"\\r\\n\"\n\t\t];\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tvar row = dense ? ws[\"!data\"][R] : [];\n\t\t\tvar p = \"-1,0\\r\\nBOT\\r\\n\";\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tvar cell/*:Cell*/ = dense ? (row && row[C]) : ws[encode_cell({r:R,c:C})];\n\t\t\t\tif(cell == null) { p +=(\"1,0\\r\\n\\\"\\\"\\r\\n\"); continue;}\n\t\t\t\tswitch(cell.t) {\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\tif(_DIF_XL) {\n\t\t\t\t\t\t\tif(cell.w != null) p +=(\"0,\" + cell.w + \"\\r\\nV\");\n\t\t\t\t\t\t\telse if(cell.v != null) p +=(make_value(cell.v, \"V\")); // TODO: should this call SSF_format?\n\t\t\t\t\t\t\telse if(cell.f != null && !cell.F) p +=(make_value_str(\"=\" + cell.f));\n\t\t\t\t\t\t\telse p +=(\"1,0\\r\\n\\\"\\\"\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(cell.v == null) p +=(\"1,0\\r\\n\\\"\\\"\");\n\t\t\t\t\t\t\telse p +=(make_value(cell.v, \"V\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'b':\n\t\t\t\t\t\tp +=(cell.v ? make_value(1, \"TRUE\") : make_value(0, \"FALSE\"));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 's':\n\t\t\t\t\t\tp +=(make_value_str((!_DIF_XL || isNaN(+cell.v)) ? cell.v : '=\"' + cell.v + '\"'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'd':\n\t\t\t\t\t\tif(!cell.w) cell.w = SSF_format(cell.z || table_fmt[14], datenum(parseDate(cell.v)));\n\t\t\t\t\t\tif(_DIF_XL) p +=(make_value(cell.w, \"V\"));\n\t\t\t\t\t\telse p +=(make_value_str(cell.w));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault: p +=(\"1,0\\r\\n\\\"\\\"\");\n\t\t\t\t}\n\t\t\t\tp += \"\\r\\n\";\n\t\t\t}\n\t\t\to.push(p);\n\t\t}\n\t\treturn o.join(\"\") + \"-1,0\\r\\nEOD\";\n\t}\n\treturn {\n\t\tto_workbook: dif_to_workbook,\n\t\tto_sheet: dif_to_sheet,\n\t\tfrom_sheet: sheet_to_dif\n\t};\n})();\n\nvar ETH = /*#__PURE__*/(function() {\n\tfunction decode(s/*:string*/)/*:string*/ { return s.replace(/\\\\b/g,\"\\\\\").replace(/\\\\c/g,\":\").replace(/\\\\n/g,\"\\n\"); }\n\tfunction encode(s/*:string*/)/*:string*/ { return s.replace(/\\\\/g, \"\\\\b\").replace(/:/g, \"\\\\c\").replace(/\\n/g,\"\\\\n\"); }\n\n\tfunction eth_to_aoa(str/*:string*/, opts)/*:AOA*/ {\n\t\tvar records = str.split('\\n'), R = -1, C = -1, ri = 0, arr/*:AOA*/ = [];\n\t\tfor (; ri !== records.length; ++ri) {\n\t\t\tvar record = records[ri].trim().split(\":\");\n\t\t\tif(record[0] !== 'cell') continue;\n\t\t\tvar addr = decode_cell(record[1]);\n\t\t\tif(arr.length <= addr.r) for(R = arr.length; R <= addr.r; ++R) if(!arr[R]) arr[R] = [];\n\t\t\tR = addr.r; C = addr.c;\n\t\t\tswitch(record[2]) {\n\t\t\t\tcase 't': arr[R][C] = decode(record[3]); break;\n\t\t\t\tcase 'v': arr[R][C] = +record[3]; break;\n\t\t\t\tcase 'vtf': var _f = record[record.length - 1];\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 'vtc':\n\t\t\t\t\tswitch(record[3]) {\n\t\t\t\t\t\tcase 'nl': arr[R][C] = +record[4] ? true : false; break;\n\t\t\t\t\t\tdefault: arr[R][C] = record[record.length-1].charAt(0) == \"#\" ? ({t: \"e\", v: RBErr[record[record.length-1]] }) : +record[4]; break;\n\t\t\t\t\t}\n\t\t\t\t\tif(record[2] == 'vtf') arr[R][C] = [arr[R][C], _f];\n\t\t\t}\n\t\t}\n\t\tif(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);\n\t\treturn arr;\n\t}\n\n\tfunction eth_to_sheet(d/*:string*/, opts)/*:Worksheet*/ { return aoa_to_sheet(eth_to_aoa(d, opts), opts); }\n\tfunction eth_to_workbook(d/*:string*/, opts)/*:Workbook*/ { return sheet_to_workbook(eth_to_sheet(d, opts), opts); }\n\n\tvar header = [\n\t\t\"socialcalc:version:1.5\",\n\t\t\"MIME-Version: 1.0\",\n\t\t\"Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave\"\n\t].join(\"\\n\");\n\n\tvar sep = [\n\t\t\"--SocialCalcSpreadsheetControlSave\",\n\t\t\"Content-type: text/plain; charset=UTF-8\"\n\t].join(\"\\n\") + \"\\n\";\n\n\t/* TODO: the other parts */\n\tvar meta = [\n\t\t\"# SocialCalc Spreadsheet Control Save\",\n\t\t\"part:sheet\"\n\t].join(\"\\n\");\n\n\tvar end = \"--SocialCalcSpreadsheetControlSave--\";\n\n\tfunction sheet_to_eth_data(ws/*:Worksheet*/)/*:string*/ {\n\t\tif(!ws || !ws['!ref']) return \"\";\n\t\tvar o/*:Array<string>*/ = [], oo/*:Array<string>*/ = [], cell, coord = \"\";\n\t\tvar r = decode_range(ws['!ref']);\n\t\tvar dense = ws[\"!data\"] != null;\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tcoord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[\"!data\"][R]||[])[C] : ws[coord];\n\t\t\t\tif(!cell || cell.v == null || cell.t === 'z') continue;\n\t\t\t\too = [\"cell\", coord, 't'];\n\t\t\t\tswitch(cell.t) {\n\t\t\t\t\tcase 's': oo.push(encode(cell.v)); break;\n\t\t\t\t\tcase 'b':\n\t\t\t\t\t\too[2] = 'vt'+(cell.f?'f':'c'); oo[3]='nl'; oo[4]=cell.v?\"1\":\"0\";\n\t\t\t\t\t\too[5] = encode(cell.f||(cell.v?'TRUE':'FALSE'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'd':\n\t\t\t\t\t\tvar t = datenum(parseDate(cell.v));\n\t\t\t\t\t\too[2] = 'vtc'; oo[3] = 'nd'; oo[4] = \"\"+t;\n\t\t\t\t\t\too[5] = cell.w || SSF_format(cell.z || table_fmt[14], t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\tif(isFinite(cell.v)) {\n\t\t\t\t\t\t\tif(!cell.f) { oo[2]='v'; oo[3]=cell.v; }\n\t\t\t\t\t\t\telse { oo[2]='vtf'; oo[3]='n'; oo[4]=cell.v; oo[5]=encode(cell.f); }\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\too[2] = 'vt' + (cell.f ? 'f' : 'c');\n\t\t\t\t\t\t\too[3] = \"e\" + BErr[isNaN(cell.v) ? 0x24 : 0x07];\n\t\t\t\t\t\t\too[4] = \"0\";\n\t\t\t\t\t\t\too[5] = cell.f || oo[3].slice(1);\n\t\t\t\t\t\t\too[6] = \"e\";\n\t\t\t\t\t\t\too[7] = oo[3].slice(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'e': continue;\n\t\t\t\t}\n\t\t\t\to.push(oo.join(\":\"));\n\t\t\t}\n\t\t}\n\t\to.push(\"sheet:c:\" + (r.e.c-r.s.c+1) + \":r:\" + (r.e.r-r.s.r+1) + \":tvf:1\");\n\t\to.push(\"valueformat:1:text-wiki\");\n\t\t//o.push(\"copiedfrom:\" + ws['!ref']); // clipboard only\n\t\treturn o.join(\"\\n\");\n\t}\n\n\tfunction sheet_to_eth(ws/*:Worksheet*//*::, opts:?any*/)/*:string*/ {\n\t\treturn [header, sep, meta, sep, sheet_to_eth_data(ws), end].join(\"\\n\");\n\t\t// return [\"version:1.5\", sheet_to_eth_data(ws)].join(\"\\n\"); // clipboard form\n\t}\n\n\treturn {\n\t\tto_workbook: eth_to_workbook,\n\t\tto_sheet: eth_to_sheet,\n\t\tfrom_sheet: sheet_to_eth\n\t};\n})();\n\nvar PRN = /*#__PURE__*/(function() {\n\tfunction set_text_arr(data/*:string*/, arr/*:AOA*/, R/*:number*/, C/*:number*/, o/*:any*/) {\n\t\tif(o.raw) arr[R][C] = data;\n\t\telse if(data === \"\"){/* empty */}\n\t\telse if(data === 'TRUE') arr[R][C] = true;\n\t\telse if(data === 'FALSE') arr[R][C] = false;\n\t\telse if(!isNaN(fuzzynum(data))) arr[R][C] = fuzzynum(data);\n\t\telse if(!isNaN(fuzzydate(data).getDate())) arr[R][C] = parseDate(data);\n\t\telse if(data.charCodeAt(0) == 35 /* # */ && RBErr[data] != null) arr[R][C] = ({ t: 'e', v: RBErr[data], w: data });\n\t\telse arr[R][C] = data;\n\t}\n\n\tfunction prn_to_aoa_str(f/*:string*/, opts)/*:AOA*/ {\n\t\tvar o = opts || {};\n\t\tvar arr/*:AOA*/ = ([]/*:any*/);\n\t\tif(!f || f.length === 0) return arr;\n\t\tvar lines = f.split(/[\\r\\n]/);\n\t\tvar L = lines.length - 1;\n\t\twhile(L >= 0 && lines[L].length === 0) --L;\n\t\tvar start = 10, idx = 0;\n\t\tvar R = 0;\n\t\tfor(; R <= L; ++R) {\n\t\t\tidx = lines[R].indexOf(\" \");\n\t\t\tif(idx == -1) idx = lines[R].length; else idx++;\n\t\t\tstart = Math.max(start, idx);\n\t\t}\n\t\tfor(R = 0; R <= L; ++R) {\n\t\t\tarr[R] = [];\n\t\t\t/* TODO: confirm that widths are always 10 */\n\t\t\tvar C = 0;\n\t\t\tset_text_arr(lines[R].slice(0, start).trim(), arr, R, C, o);\n\t\t\tfor(C = 1; C <= (lines[R].length - start)/10 + 1; ++C)\n\t\t\t\tset_text_arr(lines[R].slice(start+(C-1)*10,start+C*10).trim(),arr,R,C,o);\n\t\t}\n\t\tif(o.sheetRows) arr = arr.slice(0, o.sheetRows);\n\t\treturn arr;\n\t}\n\n\t// List of accepted CSV separators\n\tvar guess_seps = {\n\t\t0x2C: ',',\n\t\t0x09: \"\\t\",\n\t\t0x3B: ';',\n\t\t0x7C: '|'\n\t};\n\n\t// CSV separator weights to be used in case of equal numbers\n\tvar guess_sep_weights = {\n\t\t0x2C: 3,\n\t\t0x09: 2,\n\t\t0x3B: 1,\n\t\t0x7C: 0\n\t};\n\n\tfunction guess_sep(str) {\n\t\tvar cnt = {}, instr = false, end = 0, cc = 0;\n\t\tfor(;end < str.length;++end) {\n\t\t\tif((cc=str.charCodeAt(end)) == 0x22) instr = !instr;\n\t\t\telse if(!instr && cc in guess_seps) cnt[cc] = (cnt[cc]||0)+1;\n\t\t}\n\n\t\tcc = [];\n\t\tfor(end in cnt) if ( Object.prototype.hasOwnProperty.call(cnt, end) ) {\n\t\t\tcc.push([ cnt[end], end ]);\n\t\t}\n\n\t\tif ( !cc.length ) {\n\t\t\tcnt = guess_sep_weights;\n\t\t\tfor(end in cnt) if ( Object.prototype.hasOwnProperty.call(cnt, end) ) {\n\t\t\t\tcc.push([ cnt[end], end ]);\n\t\t\t}\n\t\t}\n\n\t\tcc.sort(function(a, b) { return a[0] - b[0] || guess_sep_weights[a[1]] - guess_sep_weights[b[1]]; });\n\n\t\treturn guess_seps[cc.pop()[1]] || 0x2C;\n\t}\n\n\tfunction dsv_to_sheet_str(str/*:string*/, opts)/*:Worksheet*/ {\n\t\tvar o = opts || {};\n\t\tvar sep = \"\";\n\t\tif(DENSE != null && o.dense == null) o.dense = DENSE;\n\t\tvar ws/*:Worksheet*/ = ({}/*:any*/);\n\t\tif(o.dense) ws[\"!data\"] = [];\n\t\tvar range/*:Range*/ = ({s: {c:0, r:0}, e: {c:0, r:0}}/*:any*/);\n\n\t\tif(str.slice(0,4) == \"sep=\") {\n\t\t\t// If the line ends in \\r\\n\n\t\t\tif(str.charCodeAt(5) == 13 && str.charCodeAt(6) == 10 ) {\n\t\t\t\tsep = str.charAt(4); str = str.slice(7);\n\t\t\t}\n\t\t\t// If line ends in \\r OR \\n\n\t\t\telse if(str.charCodeAt(5) == 13 || str.charCodeAt(5) == 10 ) {\n\t\t\t\tsep = str.charAt(4); str = str.slice(6);\n\t\t\t}\n\t\t\telse sep = guess_sep(str.slice(0,1024));\n\t\t}\n\t\telse if(o && o.FS) sep = o.FS;\n\t\telse sep = guess_sep(str.slice(0,1024));\n\t\tvar R = 0, C = 0, v = 0;\n\t\tvar start = 0, end = 0, sepcc = sep.charCodeAt(0), instr = false, cc=0, startcc=str.charCodeAt(0);\n\t\tvar _re/*:?RegExp*/ = o.dateNF != null ? dateNF_regex(o.dateNF) : null;\n\t\tfunction finish_cell() {\n\t\t\t/* TODO: fuzzy parsers should pass back assumed number format */\n\t\t\tvar s = str.slice(start, end); if(s.slice(-1) == \"\\r\") s = s.slice(0, -1);\n\t\t\tvar cell = ({}/*:any*/);\n\t\t\tif(s.charAt(0) == '\"' && s.charAt(s.length - 1) == '\"') s = s.slice(1,-1).replace(/\"\"/g,'\"');\n\t\t\tif(o.cellText !== false) cell.w = s;\n\t\t\tif(s.length === 0) cell.t = 'z';\n\t\t\telse if(o.raw) { cell.t = 's'; cell.v = s; }\n\t\t\telse if(s.trim().length === 0) { cell.t = 's'; cell.v = s; }\n\t\t\telse if(s.charCodeAt(0) == 0x3D) {\n\t\t\t\tif(s.charCodeAt(1) == 0x22 && s.charCodeAt(s.length - 1) == 0x22) { cell.t = 's'; cell.v = s.slice(2,-1).replace(/\"\"/g,'\"'); }\n\t\t\t\telse if(fuzzyfmla(s)) { cell.t = 's'; cell.f = s.slice(1); cell.v = s; }\n\t\t\t\telse { cell.t = 's'; cell.v = s; } }\n\t\t\telse if(s == \"TRUE\") { cell.t = 'b'; cell.v = true; }\n\t\t\telse if(s == \"FALSE\") { cell.t = 'b'; cell.v = false; }\n\t\t\telse if(!isNaN(v = fuzzynum(s))) { cell.t = 'n'; cell.v = v; }\n\t\t\telse if(!isNaN((v = fuzzydate(s)).getDate()) || _re && s.match(_re)) {\n\t\t\t\tcell.z = o.dateNF || table_fmt[14];\n\t\t\t\tif(_re && s.match(_re)){ var news=dateNF_fix(s, o.dateNF, (s.match(_re)||[])); v = parseDate(news); if(o && o.UTC === false) v = utc_to_local(v); }\n\t\t\t\telse if(o && o.UTC === false) v = utc_to_local(v);\n\t\t\t\telse if(o.cellText !== false && o.dateNF) cell.w = SSF_format(cell.z, v);\n\t\t\t\tif(o.cellDates) { cell.t = 'd'; cell.v = v; }\n\t\t\t\telse { cell.t = 'n'; cell.v = datenum(v); }\n\t\t\t\tif(!o.cellNF) delete cell.z;\n\t\t\t} else if(s.charCodeAt(0) == 35 /* # */ && RBErr[s] != null) {\n\t\t\t\tcell.t = 'e'; cell.w = s; cell.v = RBErr[s];\n\t\t\t} else {\n\t\t\t\tcell.t = 's';\n\t\t\t\tcell.v = s;\n\t\t\t}\n\t\t\tif(cell.t == 'z'){}\n\t\t\telse if(o.dense) { if(!ws[\"!data\"][R]) ws[\"!data\"][R] = []; ws[\"!data\"][R][C] = cell; }\n\t\t\telse ws[encode_cell({c:C,r:R})] = cell;\n\t\t\tstart = end+1; startcc = str.charCodeAt(start);\n\t\t\tif(range.e.c < C) range.e.c = C;\n\t\t\tif(range.e.r < R) range.e.r = R;\n\t\t\tif(cc == sepcc) ++C; else { C = 0; ++R; if(o.sheetRows && o.sheetRows <= R) return true; }\n\t\t}\n\t\touter: for(;end < str.length;++end) switch((cc=str.charCodeAt(end))) {\n\t\t\tcase 0x22: if(startcc === 0x22) instr = !instr; break;\n\t\t\tcase 0x0d:\n\t\t\t\tif(instr) break;\n\t\t\t\tif(str.charCodeAt(end+1) == 0x0a) ++end;\n\t\t\t\t/* falls through */\n\t\t\tcase sepcc: case 0x0a: if(!instr && finish_cell()) break outer; break;\n\t\t\tdefault: break;\n\t\t}\n\t\tif(end - start > 0) finish_cell();\n\n\t\tws['!ref'] = encode_range(range);\n\t\treturn ws;\n\t}\n\n\tfunction prn_to_sheet_str(str/*:string*/, opts)/*:Worksheet*/ {\n\t\tif(!(opts && opts.PRN)) return dsv_to_sheet_str(str, opts);\n\t\tif(opts.FS) return dsv_to_sheet_str(str, opts);\n\t\tif(str.slice(0,4) == \"sep=\") return dsv_to_sheet_str(str, opts);\n\t\tif(str.indexOf(\"\\t\") >= 0 || str.indexOf(\",\") >= 0 || str.indexOf(\";\") >= 0) return dsv_to_sheet_str(str, opts);\n\t\treturn aoa_to_sheet(prn_to_aoa_str(str, opts), opts);\n\t}\n\n\tfunction prn_to_sheet(d/*:RawData*/, opts)/*:Worksheet*/ {\n\t\tvar str = \"\", bytes = opts.type == 'string' ? [0,0,0,0] : firstbyte(d, opts);\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': str = Base64_decode(d); break;\n\t\t\tcase 'binary': str = d; break;\n\t\t\tcase 'buffer':\n\t\t\t\tif(opts.codepage == 65001) str = d.toString('utf8'); // TODO: test if buf\n\t\t\t\telse if(opts.codepage && typeof $cptable !== 'undefined') str = $cptable.utils.decode(opts.codepage, d);\n\t\t\t\telse str = has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d);\n\t\t\t\tbreak;\n\t\t\tcase 'array': str = cc2str(d); break;\n\t\t\tcase 'string': str = d; break;\n\t\t\tdefault: throw new Error(\"Unrecognized type \" + opts.type);\n\t\t}\n\t\tif(bytes[0] == 0xEF && bytes[1] == 0xBB && bytes[2] == 0xBF) str = utf8read(str.slice(3));\n\t\telse if(opts.type != 'string' && opts.type != 'buffer' && opts.codepage == 65001) str = utf8read(str);\n\t\telse if((opts.type == 'binary') && typeof $cptable !== 'undefined' && opts.codepage)  str = $cptable.utils.decode(opts.codepage, $cptable.utils.encode(28591,str));\n\t\tif(str.slice(0,19) == \"socialcalc:version:\") return ETH.to_sheet(opts.type == 'string' ? str : utf8read(str), opts);\n\t\treturn prn_to_sheet_str(str, opts);\n\t}\n\n\tfunction prn_to_workbook(d/*:RawData*/, opts)/*:Workbook*/ { return sheet_to_workbook(prn_to_sheet(d, opts), opts); }\n\n\tfunction sheet_to_prn(ws/*:Worksheet*//*::, opts:?any*/)/*:string*/ {\n\t\tvar o/*:Array<string>*/ = [];\n\t\tif(!ws[\"!ref\"]) return \"\";\n\t\tvar r = safe_decode_range(ws['!ref']), cell/*:Cell*/;\n\t\tvar dense = ws[\"!data\"] != null;\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tvar oo/*:Array<string>*/ = [];\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tvar coord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[\"!data\"][R]||[])[C] : ws[coord];\n\t\t\t\tif(!cell || cell.v == null) { oo.push(\"          \"); continue; }\n\t\t\t\tvar w = (cell.w || (format_cell(cell), cell.w) || \"\").slice(0,10);\n\t\t\t\twhile(w.length < 10) w += \" \";\n\t\t\t\too.push(w + (C === 0 ? \" \" : \"\"));\n\t\t\t}\n\t\t\to.push(oo.join(\"\"));\n\t\t}\n\t\treturn o.join(\"\\n\");\n\t}\n\n\treturn {\n\t\tto_workbook: prn_to_workbook,\n\t\tto_sheet: prn_to_sheet,\n\t\tfrom_sheet: sheet_to_prn\n\t};\n})();\n\n/* Excel defaults to SYLK but warns if data is not valid */\nfunction read_wb_ID(d, opts) {\n\tvar o = opts || {}, OLD_WTF = !!o.WTF; o.WTF = true;\n\ttry {\n\t\tvar out = SYLK.to_workbook(d, o);\n\t\to.WTF = OLD_WTF;\n\t\treturn out;\n\t} catch(e) {\n\t\to.WTF = OLD_WTF;\n\t\tif((e.message.indexOf(\"SYLK bad record ID\") == -1) && OLD_WTF) throw e;\n\t\treturn PRN.to_workbook(d, opts);\n\t}\n}\n\nvar WK_ = /*#__PURE__*/(function() {\n\tfunction lotushopper(data, cb/*:RecordHopperCB*/, opts/*:any*/) {\n\t\tif(!data) return;\n\t\tprep_blob(data, data.l || 0);\n\t\tvar Enum = opts.Enum || WK1Enum;\n\t\twhile(data.l < data.length) {\n\t\t\tvar RT = data.read_shift(2);\n\t\t\tvar R = Enum[RT] || Enum[0xFFFF];\n\t\t\tvar length = data.read_shift(2);\n\t\t\tvar tgt = data.l + length;\n\t\t\tvar d = R.f && R.f(data, length, opts);\n\t\t\tdata.l = tgt;\n\t\t\tif(cb(d, R, RT)) return;\n\t\t}\n\t}\n\n\tfunction lotus_to_workbook(d/*:RawData*/, opts) {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return lotus_to_workbook_buf(s2a(Base64_decode(d)), opts);\n\t\t\tcase 'binary': return lotus_to_workbook_buf(s2a(d), opts);\n\t\t\tcase 'buffer':\n\t\t\tcase 'array': return lotus_to_workbook_buf(d, opts);\n\t\t}\n\t\tthrow \"Unsupported type \" + opts.type;\n\t}\n\n\t/* NOTE: this list intentionally starts at 1 */\n\tvar LOTUS_DATE_FMTS = [\n\t\t\"mmmm\",\n\t\t\"dd-mmm-yyyy\",\n\t\t\"dd-mmm\",\n\t\t\"mmm-yyyy\",\n\t\t\"@\", // \"text\"?\n\t\t\"mm/dd\",\n\t\t\"hh:mm:ss AM/PM\", // 7\n\t\t\"hh:mm AM/PM\",\n\t\t\"mm/dd/yyyy\",\n\t\t\"mm/dd\",\n\t\t\"hh:mm:ss\",\n\t\t\"hh:mm\" // 12\n\t];\n\n\tfunction lotus_to_workbook_buf(d, opts)/*:Workbook*/ {\n\t\tif(!d) return d;\n\t\tvar o = opts || {};\n\t\tif(DENSE != null && o.dense == null) o.dense = DENSE;\n\t\tvar s/*:Worksheet*/ = ({}/*:any*/), n = \"Sheet1\", next_n = \"\", sidx = 0;\n\t\tvar sheets = {}, snames = [], realnames = [], sdata = [];\n\t\tif(o.dense) sdata = s[\"!data\"] = [];\n\n\t\tvar refguess = {s: {r:0, c:0}, e: {r:0, c:0} };\n\t\tvar sheetRows = o.sheetRows || 0;\n\t\tvar lastcell = {};\n\n\t\tif(d[4] == 0x51 && d[5] == 0x50 && d[6] == 0x57) return qpw_to_workbook_buf(d, opts);\n\t\tif(d[2] == 0x00) {\n\t\t\tif(d[3] == 0x08 || d[3] == 0x09) {\n\t\t\t\tif(d.length >= 16 && d[14] == 0x05 && d[15] === 0x6c) throw new Error(\"Unsupported Works 3 for Mac file\");\n\t\t\t}\n\t\t}\n\n\t\tif(d[2] == 0x02) {\n\t\t\to.Enum = WK1Enum;\n\t\t\tlotushopper(d, function(val, R, RT) { switch(RT) {\n\t\t\t\tcase 0x00: /* BOF */\n\t\t\t\t\to.vers = val;\n\t\t\t\t\tif(val >= 0x1000) o.qpro = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0xFF: /* BOF (works 3+) */\n\t\t\t\t\to.vers = val;\n\t\t\t\t\to.works = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x06: refguess = val; break; /* RANGE */\n\t\t\t\tcase 0xCC: if(val) next_n = val; break; /* SHEETNAMECS */\n\t\t\t\tcase 0xDE: next_n = val; break; /* SHEETNAMELP */\n\t\t\t\tcase 0x0F: /* LABEL */\n\t\t\t\tcase 0x33: /* STRING */\n\t\t\t\t\tif((!o.qpro && !o.works || RT == 0x33) && val[1].v.charCodeAt(0) < 0x30) val[1].v = val[1].v.slice(1);\n\t\t\t\t\tif(o.works || o.works2) val[1].v = val[1].v.replace(/\\r\\n/g, \"\\n\");\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 0x0D: /* INTEGER */\n\t\t\t\tcase 0x0E: /* NUMBER */\n\t\t\t\tcase 0x10: /* FORMULA */\n\t\t\t\t\t/* TODO: actual translation of the format code */\n\t\t\t\t\tif((val[2] & 0x70) == 0x70 && (val[2] & 0x0F) > 1 && (val[2] & 0x0F) < 15) {\n\t\t\t\t\t\tval[1].z = o.dateNF || LOTUS_DATE_FMTS[(val[2] & 0x0F)-1] || table_fmt[14];\n\t\t\t\t\t\tif(o.cellDates) { val[1].v = numdate(val[1].v); val[1].t = typeof val[1].v == \"number\" ? 'n' : 'd'; }\n\t\t\t\t\t}\n\n\t\t\t\t\tif(o.qpro) {\n\t\t\t\t\t\tif(val[3] > sidx) {\n\t\t\t\t\t\t\ts[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\t\t\tsheets[n] = s;\n\t\t\t\t\t\t\tsnames.push(n);\n\t\t\t\t\t\t\ts = ({}/*:any*/); if(o.dense) sdata = s[\"!data\"] = [];\n\t\t\t\t\t\t\trefguess = {s: {r:0, c:0}, e: {r:0, c:0} };\n\t\t\t\t\t\t\tsidx = val[3]; n = next_n || \"Sheet\" + (sidx + 1); next_n = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar tmpcell = o.dense ? (sdata[val[0].r]||[])[val[0].c] : s[encode_cell(val[0])];\n\t\t\t\t\tif(tmpcell) {\n\t\t\t\t\t\ttmpcell.t = val[1].t; tmpcell.v = val[1].v;\n\t\t\t\t\t\tif(val[1].z != null) tmpcell.z = val[1].z;\n\t\t\t\t\t\tif(val[1].f != null) tmpcell.f = val[1].f;\n\t\t\t\t\t\tlastcell = tmpcell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(o.dense) {\n\t\t\t\t\t\tif(!sdata[val[0].r]) sdata[val[0].r] = [];\n\t\t\t\t\t\tsdata[val[0].r][val[0].c] = val[1];\n\t\t\t\t\t} else s[encode_cell(val[0])] = val[1];\n\t\t\t\t\tlastcell = val[1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x5405: o.works2 = true; break;\n\t\t\t\tcase 0x5402: {\n\t\t\t\t\t/* TODO: enumerate all extended number formats */\n\t\t\t\t\tif(val == 0x14a1) {\n\t\t\t\t\t\tlastcell.z = \"hh:mm:ss\";\n\t\t\t\t\t\tif(o.cellDates && lastcell.t == \"n\") {\n\t\t\t\t\t\t\tlastcell.v = numdate(lastcell.v); lastcell.t = typeof lastcell.v == \"number\" ? 'n' : 'd';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t}}, o);\n\t\t} else if(d[2] == 0x1A || d[2] == 0x0E) {\n\t\t\to.Enum = WK3Enum;\n\t\t\tif(d[2] == 0x0E) { o.qpro = true; d.l = 0; }\n\t\t\tlotushopper(d, function(val, R, RT) { switch(RT) {\n\t\t\t\tcase 0xCC: n = val; break; /* SHEETNAMECS */\n\t\t\t\tcase 0x16: /* LABEL16 */\n\t\t\t\t\tif(val[1].v.charCodeAt(0) < 0x30) val[1].v = val[1].v.slice(1);\n\t\t\t\t\t// TODO: R9 appears to encode control codes this way -- verify against other versions\n\t\t\t\t\tval[1].v = val[1].v.replace(/\\x0F./g, function($$) { return String.fromCharCode($$.charCodeAt(1) - 0x20); }).replace(/\\r\\n/g, \"\\n\");\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 0x17: /* NUMBER17 */\n\t\t\t\tcase 0x18: /* NUMBER18 */\n\t\t\t\tcase 0x19: /* FORMULA19 */\n\t\t\t\tcase 0x25: /* NUMBER25 */\n\t\t\t\tcase 0x27: /* NUMBER27 */\n\t\t\t\tcase 0x28: /* FORMULA28 */\n\t\t\t\t\tif(val[3] > sidx) {\n\t\t\t\t\t\ts[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\t\tsheets[n] = s;\n\t\t\t\t\t\tsnames.push(n);\n\t\t\t\t\t\ts = ({}/*:any*/); if(o.dense) sdata = s[\"!data\"] = [];\n\t\t\t\t\t\trefguess = {s: {r:0, c:0}, e: {r:0, c:0} };\n\t\t\t\t\t\tsidx = val[3]; n = \"Sheet\" + (sidx + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(sheetRows > 0 && val[0].r >= sheetRows) break;\n\t\t\t\t\tif(o.dense) {\n\t\t\t\t\t\tif(!sdata[val[0].r]) sdata[val[0].r] = [];\n\t\t\t\t\t\tsdata[val[0].r][val[0].c] = val[1];\n\t\t\t\t\t} else s[encode_cell(val[0])] = val[1];\n\t\t\t\t\tif(refguess.e.c < val[0].c) refguess.e.c = val[0].c;\n\t\t\t\t\tif(refguess.e.r < val[0].r) refguess.e.r = val[0].r;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x1B: /* XFORMAT */\n\t\t\t\t\tif(val[0x36b0]) realnames[val[0x36b0][0]] = val[0x36b0][1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0601: /* SHEETINFOQP */\n\t\t\t\t\trealnames[val[0]] = val[1]; if(val[0] == sidx) n = val[1]; break;\n\t\t\t\tdefault: break;\n\t\t\t}}, o);\n\t\t} else throw new Error(\"Unrecognized LOTUS BOF \" + d[2]);\n\t\ts[\"!ref\"] = encode_range(refguess);\n\t\tsheets[next_n || n] = s;\n\t\tsnames.push(next_n || n);\n\t\tif(!realnames.length) return { SheetNames: snames, Sheets: sheets };\n\t\tvar osheets = {}, rnames = [];\n\t\t/* TODO: verify no collisions */\n\t\tfor(var i = 0; i < realnames.length; ++i) if(sheets[snames[i]]) {\n\t\t\trnames.push(realnames[i] || snames[i]);\n\t\t\tosheets[realnames[i]] = sheets[realnames[i]] || sheets[snames[i]];\n\t\t} else {\n\t\t\trnames.push(realnames[i]);\n\t\t\tosheets[realnames[i]] = ({ \"!ref\": \"A1\" });\n\t\t}\n\t\treturn { SheetNames: rnames, Sheets: osheets };\n\t}\n\n\tfunction sheet_to_wk1(ws/*:Worksheet*/, opts/*:WriteOpts*/) {\n\t\tvar o = opts || {};\n\t\tif(+o.codepage >= 0) set_cp(+o.codepage);\n\t\tif(o.type == \"string\") throw new Error(\"Cannot write WK1 to JS string\");\n\t\tvar ba = buf_array();\n\t\tif(!ws[\"!ref\"]) throw new Error(\"Cannot export empty sheet to WK1\");\n\t\tvar range = safe_decode_range(ws[\"!ref\"]);\n\t\tvar dense = ws[\"!data\"] != null;\n\t\tvar cols = [];\n\n\t\twrite_biff_rec(ba, 0x00, write_BOF_WK1(0x0406));\n\t\twrite_biff_rec(ba, 0x06, write_RANGE(range));\n\t\tvar max_R = Math.min(range.e.r, 8191);\n\t\tfor(var C = range.s.c; C <= range.e.c; ++C) cols[C] = encode_col(C);\n\t\tfor(var R = range.s.r; R <= max_R; ++R) {\n\t\t\tvar rr = encode_row(R);\n\t\t\tfor(C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t\tvar cell = dense ? (ws[\"!data\"][R]||[])[C] : ws[cols[C] + rr];\n\t\t\t\tif(!cell || cell.t == \"z\") continue;\n\t\t\t\t/* TODO: formula records */\n\t\t\t\tswitch(cell.t) {\n\t\t\t\tcase \"n\":\n\t\t\t\t\tif((cell.v|0)==cell.v && cell.v >= -32768 && cell.v <= 32767) write_biff_rec(ba, 0x0d, write_INTEGER(R, C, cell));\n\t\t\t\t\telse write_biff_rec(ba, 0x0e, write_NUMBER(R, C, cell));\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"d\":\n\t\t\t\t\tvar dc = datenum(cell.v);\n\t\t\t\t\tif((dc|0)==dc && dc >= -32768 && dc <= 32767) write_biff_rec(ba, 0x0d, write_INTEGER(R, C, {t:\"n\", v:dc, z:cell.z || table_fmt[14]}));\n\t\t\t\t\telse write_biff_rec(ba, 0x0e, write_NUMBER(R, C, {t:\"n\", v:dc, z:cell.z || table_fmt[14]}));\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tvar str = format_cell(cell);\n\t\t\t\t\twrite_biff_rec(ba, 0x0F, write_LABEL(R, C, str.slice(0, 239)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twrite_biff_rec(ba, 0x01);\n\t\treturn ba.end();\n\t}\n\n\tfunction book_to_wk3(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\t\tvar o = opts || {};\n\t\tif(+o.codepage >= 0) set_cp(+o.codepage);\n\t\tif(o.type == \"string\") throw new Error(\"Cannot write WK3 to JS string\");\n\t\tvar ba = buf_array();\n\n\t\twrite_biff_rec(ba, 0x00, write_BOF_WK3(wb));\n\n\t\tfor(var i = 0, cnt = 0; i < wb.SheetNames.length; ++i) if((wb.Sheets[wb.SheetNames[i]] || {})[\"!ref\"]) write_biff_rec(ba, 0x1b, write_XFORMAT_SHEETNAME(wb.SheetNames[i], cnt++));\n\n\t\tvar wsidx = 0;\n\t\tfor(i = 0; i < wb.SheetNames.length; ++i) {\n\t\t\tvar ws = wb.Sheets[wb.SheetNames[i]];\n\t\t\tif(!ws || !ws[\"!ref\"]) continue;\n\t\t\tvar range = safe_decode_range(ws[\"!ref\"]);\n\t\t\tvar dense = ws[\"!data\"] != null;\n\t\t\tvar cols = [];\n\t\t\tvar max_R = Math.min(range.e.r, 8191);\n\t\t\tfor(var R = range.s.r; R <= max_R; ++R) {\n\t\t\t\tvar rr = encode_row(R);\n\t\t\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\t\t\tvar ref = cols[C] + rr;\n\t\t\t\t\tvar cell = dense ? (ws[\"!data\"][R]||[])[C] : ws[ref];\n\t\t\t\t\tif(!cell || cell.t == \"z\") continue;\n\t\t\t\t\t/* TODO: FORMULA19 NUMBER18 records */\n\t\t\t\t\tif(cell.t == \"n\") {\n\t\t\t\t\t\twrite_biff_rec(ba, 0x17, write_NUMBER_17(R, C, wsidx, cell.v));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar str = format_cell(cell);\n\t\t\t\t\t\t/* TODO: max len? */\n\t\t\t\t\t\twrite_biff_rec(ba, 0x16, write_LABEL_16(R, C, wsidx, str.slice(0, 239)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t++wsidx;\n\t\t}\n\n\t\twrite_biff_rec(ba, 0x01);\n\t\treturn ba.end();\n\t}\n\n\n\tfunction write_BOF_WK1(v/*:number*/) {\n\t\tvar out = new_buf(2);\n\t\tout.write_shift(2, v);\n\t\treturn out;\n\t}\n\n\tfunction write_BOF_WK3(wb/*:Workbook*/) {\n\t\tvar out = new_buf(26);\n\t\tout.write_shift(2, 0x1000);\n\t\tout.write_shift(2, 0x0004);\n\t\tout.write_shift(4, 0x0000);\n\t\tvar rows = 0, cols = 0, wscnt = 0;\n\t\tfor(var i = 0; i < wb.SheetNames.length; ++i) {\n\t\t\tvar name = wb.SheetNames[i];\n\t\t\tvar ws = wb.Sheets[name];\n\t\t\tif(!ws || !ws[\"!ref\"]) continue;\n\t\t\t++wscnt;\n\t\t\tvar range = decode_range(ws[\"!ref\"]);\n\t\t\tif(rows < range.e.r) rows = range.e.r;\n\t\t\tif(cols < range.e.c) cols = range.e.c;\n\t\t}\n\t\tif(rows > 8191) rows = 8191;\n\t\tout.write_shift(2, rows);\n\t\tout.write_shift(1, wscnt);\n\t\tout.write_shift(1, cols);\n\t\tout.write_shift(2, 0x00);\n\t\tout.write_shift(2, 0x00);\n\t\tout.write_shift(1, 0x01);\n\t\tout.write_shift(1, 0x02);\n\t\tout.write_shift(4, 0);\n\t\tout.write_shift(4, 0);\n\t\treturn out;\n\t}\n\n\tfunction parse_RANGE(blob, length, opts) {\n\t\tvar o = {s:{c:0,r:0},e:{c:0,r:0}};\n\t\tif(length == 8 && opts.qpro) {\n\t\t\to.s.c = blob.read_shift(1);\n\t\t\tblob.l++;\n\t\t\to.s.r = blob.read_shift(2);\n\t\t\to.e.c = blob.read_shift(1);\n\t\t\tblob.l++;\n\t\t\to.e.r = blob.read_shift(2);\n\t\t\treturn o;\n\t\t}\n\t\to.s.c = blob.read_shift(2);\n\t\to.s.r = blob.read_shift(2);\n\t\tif(length == 12 && opts.qpro) blob.l += 2;\n\t\to.e.c = blob.read_shift(2);\n\t\to.e.r = blob.read_shift(2);\n\t\tif(length == 12 && opts.qpro) blob.l += 2;\n\t\tif(o.s.c == 0xFFFF) o.s.c = o.e.c = o.s.r = o.e.r = 0;\n\t\treturn o;\n\t}\n\tfunction write_RANGE(range) {\n\t\tvar out = new_buf(8);\n\t\tout.write_shift(2, range.s.c);\n\t\tout.write_shift(2, range.s.r);\n\t\tout.write_shift(2, range.e.c);\n\t\tout.write_shift(2, range.e.r);\n\t\treturn out;\n\t}\n\n\tfunction parse_cell(blob, length, opts) {\n\t\tvar o = [{c:0,r:0}, {t:'n',v:0}, 0, 0];\n\t\tif(opts.qpro && opts.vers != 0x5120) {\n\t\t\to[0].c = blob.read_shift(1);\n\t\t\to[3] = blob.read_shift(1);\n\t\t\to[0].r = blob.read_shift(2);\n\t\t\tblob.l+=2;\n\t\t} else if(opts.works) { // TODO: verify with more complex works3-4 examples\n\t\t\to[0].c = blob.read_shift(2); o[0].r = blob.read_shift(2);\n\t\t\to[2] = blob.read_shift(2);\n\t\t} else {\n\t\t\to[2] = blob.read_shift(1);\n\t\t\to[0].c = blob.read_shift(2); o[0].r = blob.read_shift(2);\n\t\t}\n\t\treturn o;\n\t}\n\n\tfunction get_wk1_fmt(cell)/*:number*/ {\n\t\t/* TODO: some fuzzy matching on the number format */\n\t\tif(cell.z && fmt_is_date(cell.z)) {\n\t\t\treturn 0xf0 | (LOTUS_DATE_FMTS.indexOf(cell.z) + 1 || 2);\n\t\t}\n\t\treturn 0xFF;\n\t}\n\tfunction parse_LABEL(blob, length, opts) {\n\t\tvar tgt = blob.l + length;\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].t = 's';\n\t\tif((opts.vers & 0xFFFE) == 0x5120) { // WQ1 / WQ2\n\t\t\tblob.l++;\n\t\t\tvar len = blob.read_shift(1);\n\t\t\to[1].v = blob.read_shift(len, 'utf8');\n\t\t\treturn o;\n\t\t}\n\t\tif(opts.qpro) blob.l++;\n\t\to[1].v = blob.read_shift(tgt - blob.l, 'cstr');\n\t\treturn o;\n\t}\n\tfunction write_LABEL(R, C, s) {\n\t\t/* TODO: encoding */\n\t\tvar o = new_buf(7 + s.length);\n\t\to.write_shift(1, 0xFF);\n\t\to.write_shift(2, C);\n\t\to.write_shift(2, R);\n\t\to.write_shift(1, 0x27); // ??\n\t\tfor(var i = 0; i < o.length; ++i) {\n\t\t\tvar cc = s.charCodeAt(i);\n\t\t\to.write_shift(1, cc >= 0x80 ? 0x5F : cc);\n\t\t}\n\t\to.write_shift(1, 0);\n\t\treturn o;\n\t}\n\tfunction parse_STRING(blob, length, opts) {\n\t\tvar tgt = blob.l + length;\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].t = 's';\n\t\tif(opts.vers == 0x5120) {\n\t\t\tvar len = blob.read_shift(1);\n\t\t\to[1].v = blob.read_shift(len, 'utf8');\n\t\t\treturn o;\n\t\t}\n\t\to[1].v = blob.read_shift(tgt - blob.l, 'cstr');\n\t\treturn o;\n\t}\n\n\tfunction parse_INTEGER(blob, length, opts) {\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].v = blob.read_shift(2, 'i');\n\t\treturn o;\n\t}\n\tfunction write_INTEGER(R, C, cell) {\n\t\tvar o = new_buf(7);\n\t\to.write_shift(1, get_wk1_fmt(cell));\n\t\to.write_shift(2, C);\n\t\to.write_shift(2, R);\n\t\to.write_shift(2, cell.v, 'i');\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER(blob, length, opts) {\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].v = blob.read_shift(8, 'f');\n\t\treturn o;\n\t}\n\tfunction write_NUMBER(R, C, cell) {\n\t\tvar o = new_buf(13);\n\t\to.write_shift(1, get_wk1_fmt(cell));\n\t\to.write_shift(2, C);\n\t\to.write_shift(2, R);\n\t\to.write_shift(8, cell.v, 'f');\n\t\treturn o;\n\t}\n\n\tfunction parse_FORMULA(blob, length, opts) {\n\t\tvar tgt = blob.l + length;\n\t\tvar o = parse_cell(blob, length, opts);\n\t\t/* TODO: formula */\n\t\to[1].v = blob.read_shift(8, 'f');\n\t\tif(opts.qpro) blob.l = tgt;\n\t\telse {\n\t\t\tvar flen = blob.read_shift(2);\n\t\t\twk1_fmla_to_csf(blob.slice(blob.l, blob.l + flen), o);\n\t\t\tblob.l += flen;\n\t\t}\n\t\treturn o;\n\t}\n\n\tfunction wk1_parse_rc(B, V, col) {\n\t\tvar rel = V & 0x8000;\n\t\tV &= ~0x8000;\n\t\tV = (rel ? B : 0) + ((V >= 0x2000) ? V - 0x4000 : V);\n\t\treturn (rel ? \"\" : \"$\") + (col ? encode_col(V) : encode_row(V));\n\t}\n\t/* var oprec = [\n\t\t8, 8, 8, 8, 8, 8, 8, 8, 6, 4, 4, 5, 5, 7, 3, 3,\n\t\t3, 3, 3, 3, 1, 1, 2, 6, 8, 8, 8, 8, 8, 8, 8, 8\n\t]; */\n\t/* TODO: flesh out */\n\tvar FuncTab = {\n\t\t0x1F: [\"NA\", 0],\n\t\t// 0x20: [\"ERR\", 0],\n\t\t0x21: [\"ABS\", 1],\n\t\t0x22: [\"TRUNC\", 1],\n\t\t0x23: [\"SQRT\", 1],\n\t\t0x24: [\"LOG\", 1],\n\t\t0x25: [\"LN\", 1],\n\t\t0x26: [\"PI\", 0],\n\t\t0x27: [\"SIN\", 1],\n\t\t0x28: [\"COS\", 1],\n\t\t0x29: [\"TAN\", 1],\n\t\t0x2A: [\"ATAN2\", 2],\n\t\t0x2B: [\"ATAN\", 1],\n\t\t0x2C: [\"ASIN\", 1],\n\t\t0x2D: [\"ACOS\", 1],\n\t\t0x2E: [\"EXP\", 1],\n\t\t0x2F: [\"MOD\", 2],\n\t\t// 0x30\n\t\t0x31: [\"ISNA\", 1],\n\t\t0x32: [\"ISERR\", 1],\n\t\t0x33: [\"FALSE\", 0],\n\t\t0x34: [\"TRUE\", 0],\n\t\t0x35: [\"RAND\", 0],\n\t\t0x36: [\"DATE\", 3],\n\t\t// 0x37 NOW\n\t\t// 0x38 PMT\n\t\t// 0x39 PV\n\t\t// 0x3A FV\n\t\t// 0x3B IF\n\t\t// 0x3C DAY\n\t\t// 0x3D MONTH\n\t\t// 0x3E YEAR\n\t\t0x3F: [\"ROUND\", 2],\n\t\t0x40: [\"TIME\", 3],\n\t\t// 0x41 HOUR\n\t\t// 0x42 MINUTE\n\t\t// 0x43 SECOND\n\t\t0x44: [\"ISNUMBER\", 1],\n\t\t0x45: [\"ISTEXT\", 1],\n\t\t0x46: [\"LEN\", 1],\n\t\t0x47: [\"VALUE\", 1],\n\t\t// 0x48: [\"FIXED\", ?? 1],\n\t\t0x49: [\"MID\", 3],\n\t\t0x4A: [\"CHAR\", 1],\n\t\t// 0x4B\n\t\t// 0x4C FIND\n\t\t// 0x4D DATEVALUE\n\t\t// 0x4E TIMEVALUE\n\t\t// 0x4F CELL\n\t\t0x50: [\"SUM\", 69],\n\t\t0x51: [\"AVERAGEA\", 69],\n\t\t0x52: [\"COUNTA\", 69],\n\t\t0x53: [\"MINA\", 69],\n\t\t0x54: [\"MAXA\", 69],\n\t\t// 0x55 VLOOKUP\n\t\t// 0x56 NPV\n\t\t// 0x57 VAR\n\t\t// 0x58 STD\n\t\t// 0x59 IRR\n\t\t// 0x5A HLOOKUP\n\t\t// 0x5B DSUM\n\t\t// 0x5C DAVERAGE\n\t\t// 0x5D DCOUNTA\n\t\t// 0x5E DMIN\n\t\t// 0x5F DMAX\n\t\t// 0x60 DVARP\n\t\t// 0x61 DSTDEVP\n\t\t// 0x62 INDEX\n\t\t// 0x63 COLS\n\t\t// 0x64 ROWS\n\t\t// 0x65 REPEAT\n\t\t0x66: [\"UPPER\", 1],\n\t\t0x67: [\"LOWER\", 1],\n\t\t// 0x68 LEFT\n\t\t// 0x69 RIGHT\n\t\t// 0x6A REPLACE\n\t\t0x6B: [\"PROPER\", 1],\n\t\t// 0x6C CELL\n\t\t0x6D: [\"TRIM\", 1],\n\t\t// 0x6E CLEAN\n\t\t0x6F: [\"T\", 1]\n\t\t// 0x70 V\n\t};\n\tvar BinOpTab = [\n\t\t  \"\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\", // eslint-disable-line no-mixed-spaces-and-tabs\n\t\t  \"\",  \"+\",  \"-\",  \"*\",  \"/\",  \"^\",  \"=\", \"<>\", // eslint-disable-line no-mixed-spaces-and-tabs\n\t\t\"<=\", \">=\",  \"<\",  \">\",   \"\",   \"\",   \"\",   \"\", // eslint-disable-line no-mixed-spaces-and-tabs\n\t\t \"&\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\"  // eslint-disable-line no-mixed-spaces-and-tabs\n\t];\n\n\tfunction wk1_fmla_to_csf(blob, o) {\n\t\tprep_blob(blob, 0);\n\t\tvar out = [], argc = 0, R = \"\", C = \"\", argL = \"\", argR = \"\";\n\t\twhile(blob.l < blob.length) {\n\t\t\tvar cc = blob[blob.l++];\n\t\t\tswitch(cc) {\n\t\t\t\tcase 0x00: out.push(blob.read_shift(8, 'f')); break;\n\t\t\t\tcase 0x01: {\n\t\t\t\t\tC = wk1_parse_rc(o[0].c, blob.read_shift(2), true);\n\t\t\t\t\tR = wk1_parse_rc(o[0].r, blob.read_shift(2), false);\n\t\t\t\t\tout.push(C + R);\n\t\t\t\t} break;\n\t\t\t\tcase 0x02: {\n\t\t\t\t\tvar c = wk1_parse_rc(o[0].c, blob.read_shift(2), true);\n\t\t\t\t\tvar r = wk1_parse_rc(o[0].r, blob.read_shift(2), false);\n\t\t\t\t\tC = wk1_parse_rc(o[0].c, blob.read_shift(2), true);\n\t\t\t\t\tR = wk1_parse_rc(o[0].r, blob.read_shift(2), false);\n\t\t\t\t\tout.push(c + r + \":\" + C + R);\n\t\t\t\t} break;\n\t\t\t\tcase 0x03:\n\t\t\t\t\tif(blob.l < blob.length) { console.error(\"WK1 premature formula end\"); return; }\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x04: out.push(\"(\" + out.pop() + \")\"); break;\n\t\t\t\tcase 0x05: out.push(blob.read_shift(2)); break;\n\t\t\t\tcase 0x06: {\n\t\t\t\t\t/* TODO: text encoding */\n\t\t\t\t\tvar Z = \"\"; while((cc = blob[blob.l++])) Z += String.fromCharCode(cc);\n\t\t\t\t\tout.push('\"' + Z.replace(/\"/g, '\"\"') + '\"');\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x08: out.push(\"-\" + out.pop()); break;\n\t\t\t\tcase 0x17: out.push(\"+\" + out.pop()); break;\n\t\t\t\tcase 0x16: out.push(\"NOT(\" + out.pop() + \")\"); break;\n\n\t\t\t\tcase 0x14: case 0x15: {\n\t\t\t\t\targR = out.pop(); argL = out.pop();\n\t\t\t\t\tout.push([\"AND\", \"OR\"][cc - 0x14] + \"(\" + argL + \",\" + argR + \")\");\n\t\t\t\t} break;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif(cc < 0x20 && BinOpTab[cc]) {\n\t\t\t\t\t\targR = out.pop(); argL = out.pop();\n\t\t\t\t\t\tout.push(argL + BinOpTab[cc] + argR);\n\t\t\t\t\t} else if(FuncTab[cc]) {\n\t\t\t\t\t\targc = FuncTab[cc][1];\n\t\t\t\t\t\tif(argc == 69) argc = blob[blob.l++];\n\t\t\t\t\t\tif(argc > out.length) { console.error(\"WK1 bad formula parse 0x\" + cc.toString(16) + \":|\" + out.join(\"|\") + \"|\"); return; }\n\t\t\t\t\t\tvar args = out.slice(-argc);\n\t\t\t\t\t\tout.length -= argc;\n\t\t\t\t\t\tout.push(FuncTab[cc][0] + \"(\" + args.join(\",\") + \")\");\n\t\t\t\t\t}\n\t\t\t\t\telse if(cc <= 0x07) return console.error(\"WK1 invalid opcode \" + cc.toString(16));\n\t\t\t\t\telse if(cc <= 0x18) return console.error(\"WK1 unsupported op \" + cc.toString(16));\n\t\t\t\t\telse if(cc <= 0x1E) return console.error(\"WK1 invalid opcode \" + cc.toString(16));\n\t\t\t\t\telse if(cc <= 0x73) return console.error(\"WK1 unsupported function opcode \" + cc.toString(16));\n\t\t\t\t\t// possible future functions ??\n\t\t\t\t\telse return console.error(\"WK1 unrecognized opcode \" + cc.toString(16));\n\t\t\t}\n\t\t}\n\t\tif(out.length == 1) o[1].f = \"\" + out[0];\n\t\telse console.error(\"WK1 bad formula parse |\" + out.join(\"|\") + \"|\");\n\t}\n\n\tfunction parse_cell_3(blob/*::, length*/) {\n\t\tvar o = [{c:0,r:0}, {t:'n',v:0}, 0];\n\t\to[0].r = blob.read_shift(2); o[3] = blob[blob.l++]; o[0].c = blob[blob.l++];\n\t\treturn o;\n\t}\n\n\tfunction parse_LABEL_16(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\to[1].t = 's';\n\t\to[1].v = blob.read_shift(length - 4, 'cstr');\n\t\treturn o;\n\t}\n\tfunction write_LABEL_16(R, C, wsidx, s) {\n\t\t/* TODO: encoding */\n\t\tvar o = new_buf(6 + s.length);\n\t\to.write_shift(2, R);\n\t\to.write_shift(1, wsidx);\n\t\to.write_shift(1, C);\n\t\to.write_shift(1, 0x27);\n\t\tfor(var i = 0; i < s.length; ++i) {\n\t\t\tvar cc = s.charCodeAt(i);\n\t\t\to.write_shift(1, cc >= 0x80 ? 0x5F : cc);\n\t\t}\n\t\to.write_shift(1, 0);\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_18(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\to[1].v = blob.read_shift(2);\n\t\tvar v = o[1].v >> 1;\n\t\tif(o[1].v & 0x1) {\n\t\t\tswitch(v & 0x07) {\n\t\t\t\tcase 0: v = (v >> 3) * 5000; break;\n\t\t\t\tcase 1: v = (v >> 3) * 500; break;\n\t\t\t\tcase 2: v = (v >> 3) / 20; break;\n\t\t\t\tcase 3: v = (v >> 3) / 200; break;\n\t\t\t\tcase 4: v = (v >> 3) / 2000; break;\n\t\t\t\tcase 5: v = (v >> 3) / 20000; break;\n\t\t\t\tcase 6: v = (v >> 3) / 16; break;\n\t\t\t\tcase 7: v = (v >> 3) / 64; break;\n\t\t\t}\n\t\t}\n\t\to[1].v = v;\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_17(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\tvar v1 = blob.read_shift(4);\n\t\tvar v2 = blob.read_shift(4);\n\t\tvar e = blob.read_shift(2);\n\t\tif(e == 0xFFFF) {\n\t\t\tif(v1 === 0 && v2 === 0xC0000000) { o[1].t = \"e\"; o[1].v = 0x0F; } // ERR -> #VALUE!\n\t\t\telse if(v1 === 0 && v2 === 0xD0000000) { o[1].t = \"e\"; o[1].v = 0x2A; } // NA -> #N/A\n\t\t\telse o[1].v = 0;\n\t\t\treturn o;\n\t\t}\n\t\tvar s = e & 0x8000; e = (e&0x7FFF) - 16446;\n\t\to[1].v = (1 - s*2) * (v2 * Math.pow(2, e+32) + v1 * Math.pow(2, e));\n\t\treturn o;\n\t}\n\tfunction write_NUMBER_17(R, C, wsidx, v) {\n\t\tvar o = new_buf(14);\n\t\to.write_shift(2, R);\n\t\to.write_shift(1, wsidx);\n\t\to.write_shift(1, C);\n\t\tif(v == 0) {\n\t\t\to.write_shift(4, 0);\n\t\t\to.write_shift(4, 0);\n\t\t\to.write_shift(2, 0xFFFF);\n\t\t\treturn o;\n\t\t}\n\t\tvar s = 0, e = 0, v1 = 0, v2 = 0;\n\t\tif(v < 0) { s = 1; v = -v; }\n\t\te = Math.log2(v) | 0;\n\t\tv /= Math.pow(2, e-31);\n\t\tv2 = (v)>>>0;\n\t\tif((v2&0x80000000) == 0) { v/=2; ++e; v2 = v >>> 0; }\n\t\tv -= v2;\n\t\tv2 |= 0x80000000;\n\t\tv2 >>>= 0;\n\t\tv *= Math.pow(2, 32);\n\t\tv1 = v>>>0;\n\t\to.write_shift(4, v1);\n\t\to.write_shift(4, v2);\n\t\te += 0x3FFF + (s ? 0x8000 : 0);\n\t\to.write_shift(2, e);\n\t\treturn o;\n\t}\n\n\tfunction parse_FORMULA_19(blob, length) {\n\t\tvar o = parse_NUMBER_17(blob, 14);\n\t\tblob.l += length - 14; /* TODO: WK3 formula */\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_25(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\tvar v1 = blob.read_shift(4);\n\t\to[1].v = v1 >> 6;\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_27(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\tvar v1 = blob.read_shift(8,'f');\n\t\to[1].v = v1;\n\t\treturn o;\n\t}\n\n\tfunction parse_FORMULA_28(blob, length) {\n\t\tvar o = parse_NUMBER_27(blob, 12);\n\t\tblob.l += length - 12; /* TODO: formula */\n\t\treturn o;\n\t}\n\n\tfunction parse_SHEETNAMECS(blob, length) {\n\t\treturn blob[blob.l + length - 1] == 0 ? blob.read_shift(length, 'cstr') : \"\";\n\t}\n\n\tfunction parse_SHEETNAMELP(blob, length) {\n\t\tvar len = blob[blob.l++];\n\t\tif(len > length - 1) len = length - 1;\n\t\tvar o = \"\"; while(o.length < len) o += String.fromCharCode(blob[blob.l++]);\n\t\treturn o;\n\t}\n\n\tfunction parse_SHEETINFOQP(blob, length, opts) {\n\t\tif(!opts.qpro || length < 21) return;\n\t\tvar id = blob.read_shift(1);\n\t\tblob.l += 17;\n\t\tblob.l += 1; //var len = blob.read_shift(1);\n\t\tblob.l += 2;\n\t\tvar nm = blob.read_shift(length - 21, 'cstr');\n\t\treturn [id, nm];\n\t}\n\n\tfunction parse_XFORMAT(blob, length) {\n\t\tvar o = {}, tgt = blob.l + length;\n\t\twhile(blob.l < tgt) {\n\t\t\tvar dt = blob.read_shift(2);\n\t\t\tif(dt == 0x36b0) {\n\t\t\t\to[dt] = [0, \"\"];\n\t\t\t\to[dt][0] = blob.read_shift(2);\n\t\t\t\twhile(blob[blob.l]) { o[dt][1] += String.fromCharCode(blob[blob.l]); blob.l++; } blob.l++;\n\t\t\t}\n\t\t\t// TODO: 0x3a99 ??\n\t\t}\n\t\treturn o;\n\t}\n\tfunction write_XFORMAT_SHEETNAME(name, wsidx) {\n\t\tvar out = new_buf(5 + name.length);\n\t\tout.write_shift(2, 0x36b0);\n\t\tout.write_shift(2, wsidx);\n\t\tfor(var i = 0; i < name.length; ++i) {\n\t\t\tvar cc = name.charCodeAt(i);\n\t\t\tout[out.l++] = cc > 0x7F ? 0x5F : cc;\n\t\t}\n\t\tout[out.l++] = 0;\n\t\treturn out;\n\t}\n\n\tvar WK1Enum = {\n\t\t0x0000: { n:\"BOF\", f:parseuint16 },\n\t\t0x0001: { n:\"EOF\" },\n\t\t0x0002: { n:\"CALCMODE\" },\n\t\t0x0003: { n:\"CALCORDER\" },\n\t\t0x0004: { n:\"SPLIT\" },\n\t\t0x0005: { n:\"SYNC\" },\n\t\t0x0006: { n:\"RANGE\", f:parse_RANGE },\n\t\t0x0007: { n:\"WINDOW1\" },\n\t\t0x0008: { n:\"COLW1\" },\n\t\t0x0009: { n:\"WINTWO\" },\n\t\t0x000A: { n:\"COLW2\" },\n\t\t0x000B: { n:\"NAME\" },\n\t\t0x000C: { n:\"BLANK\" },\n\t\t0x000D: { n:\"INTEGER\", f:parse_INTEGER },\n\t\t0x000E: { n:\"NUMBER\", f:parse_NUMBER },\n\t\t0x000F: { n:\"LABEL\", f:parse_LABEL },\n\t\t0x0010: { n:\"FORMULA\", f:parse_FORMULA },\n\t\t0x0018: { n:\"TABLE\" },\n\t\t0x0019: { n:\"ORANGE\" },\n\t\t0x001A: { n:\"PRANGE\" },\n\t\t0x001B: { n:\"SRANGE\" },\n\t\t0x001C: { n:\"FRANGE\" },\n\t\t0x001D: { n:\"KRANGE1\" },\n\t\t0x0020: { n:\"HRANGE\" },\n\t\t0x0023: { n:\"KRANGE2\" },\n\t\t0x0024: { n:\"PROTEC\" },\n\t\t0x0025: { n:\"FOOTER\" },\n\t\t0x0026: { n:\"HEADER\" },\n\t\t0x0027: { n:\"SETUP\" },\n\t\t0x0028: { n:\"MARGINS\" },\n\t\t0x0029: { n:\"LABELFMT\" },\n\t\t0x002A: { n:\"TITLES\" },\n\t\t0x002B: { n:\"SHEETJS\" },\n\t\t0x002D: { n:\"GRAPH\" },\n\t\t0x002E: { n:\"NGRAPH\" },\n\t\t0x002F: { n:\"CALCCOUNT\" },\n\t\t0x0030: { n:\"UNFORMATTED\" },\n\t\t0x0031: { n:\"CURSORW12\" },\n\t\t0x0032: { n:\"WINDOW\" },\n\t\t0x0033: { n:\"STRING\", f:parse_STRING },\n\t\t0x0037: { n:\"PASSWORD\" },\n\t\t0x0038: { n:\"LOCKED\" },\n\t\t0x003C: { n:\"QUERY\" },\n\t\t0x003D: { n:\"QUERYNAME\" },\n\t\t0x003E: { n:\"PRINT\" },\n\t\t0x003F: { n:\"PRINTNAME\" },\n\t\t0x0040: { n:\"GRAPH2\" },\n\t\t0x0041: { n:\"GRAPHNAME\" },\n\t\t0x0042: { n:\"ZOOM\" },\n\t\t0x0043: { n:\"SYMSPLIT\" },\n\t\t0x0044: { n:\"NSROWS\" },\n\t\t0x0045: { n:\"NSCOLS\" },\n\t\t0x0046: { n:\"RULER\" },\n\t\t0x0047: { n:\"NNAME\" },\n\t\t0x0048: { n:\"ACOMM\" },\n\t\t0x0049: { n:\"AMACRO\" },\n\t\t0x004A: { n:\"PARSE\" },\n\t\t// 0x0064\n\t\t0x0066: { n:\"PRANGES??\" },\n\t\t0x0067: { n:\"RRANGES??\" },\n\t\t0x0068: { n:\"FNAME??\" },\n\t\t0x0069: { n:\"MRANGES??\" },\n\t\t// 0x0096\n\t\t// 0x0099\n\t\t// 0x009A\n\t\t// 0x009B\n\t\t// 0x009C\n\t\t// 0x00C0\n\t\t// 0x00C7\n\t\t// 0x00C9\n\t\t0x00CC: { n:\"SHEETNAMECS\", f:parse_SHEETNAMECS },\n\t\t// 0x00CD\n\t\t0x00DE: { n:\"SHEETNAMELP\", f:parse_SHEETNAMELP },\n\t\t0x00FF: { n:\"BOF\", f:parseuint16 },\n\t\t0x5402: { n:\"WKSNF\", f:parseuint16 },\n\t\t0xFFFF: { n:\"\" }\n\t};\n\n\tvar WK3Enum = {\n\t\t0x0000: { n:\"BOF\" },\n\t\t0x0001: { n:\"EOF\" },\n\t\t0x0002: { n:\"PASSWORD\" },\n\t\t0x0003: { n:\"CALCSET\" },\n\t\t0x0004: { n:\"WINDOWSET\" },\n\t\t0x0005: { n:\"SHEETCELLPTR\" },\n\t\t0x0006: { n:\"SHEETLAYOUT\" },\n\t\t0x0007: { n:\"COLUMNWIDTH\" },\n\t\t0x0008: { n:\"HIDDENCOLUMN\" },\n\t\t0x0009: { n:\"USERRANGE\" },\n\t\t0x000A: { n:\"SYSTEMRANGE\" },\n\t\t0x000B: { n:\"ZEROFORCE\" },\n\t\t0x000C: { n:\"SORTKEYDIR\" },\n\t\t0x000D: { n:\"FILESEAL\" },\n\t\t0x000E: { n:\"DATAFILLNUMS\" },\n\t\t0x000F: { n:\"PRINTMAIN\" },\n\t\t0x0010: { n:\"PRINTSTRING\" },\n\t\t0x0011: { n:\"GRAPHMAIN\" },\n\t\t0x0012: { n:\"GRAPHSTRING\" },\n\t\t0x0013: { n:\"??\" },\n\t\t0x0014: { n:\"ERRCELL\" },\n\t\t0x0015: { n:\"NACELL\" },\n\t\t0x0016: { n:\"LABEL16\", f:parse_LABEL_16},\n\t\t0x0017: { n:\"NUMBER17\", f:parse_NUMBER_17 },\n\t\t0x0018: { n:\"NUMBER18\", f:parse_NUMBER_18 },\n\t\t0x0019: { n:\"FORMULA19\", f:parse_FORMULA_19},\n\t\t0x001A: { n:\"FORMULA1A\" },\n\t\t0x001B: { n:\"XFORMAT\", f:parse_XFORMAT },\n\t\t0x001C: { n:\"DTLABELMISC\" },\n\t\t0x001D: { n:\"DTLABELCELL\" },\n\t\t0x001E: { n:\"GRAPHWINDOW\" },\n\t\t0x001F: { n:\"CPA\" },\n\t\t0x0020: { n:\"LPLAUTO\" },\n\t\t0x0021: { n:\"QUERY\" },\n\t\t0x0022: { n:\"HIDDENSHEET\" },\n\t\t0x0023: { n:\"??\" },\n\t\t0x0025: { n:\"NUMBER25\", f:parse_NUMBER_25 },\n\t\t0x0026: { n:\"??\" },\n\t\t0x0027: { n:\"NUMBER27\", f:parse_NUMBER_27 },\n\t\t0x0028: { n:\"FORMULA28\", f:parse_FORMULA_28 },\n\t\t0x008E: { n:\"??\" },\n\t\t0x0093: { n:\"??\" },\n\t\t0x0096: { n:\"??\" },\n\t\t0x0097: { n:\"??\" },\n\t\t0x0098: { n:\"??\" },\n\t\t0x0099: { n:\"??\" },\n\t\t0x009A: { n:\"??\" },\n\t\t0x009B: { n:\"??\" },\n\t\t0x009C: { n:\"??\" },\n\t\t0x00A3: { n:\"??\" },\n\t\t0x00AE: { n:\"??\" },\n\t\t0x00AF: { n:\"??\" },\n\t\t0x00B0: { n:\"??\" },\n\t\t0x00B1: { n:\"??\" },\n\t\t0x00B8: { n:\"??\" },\n\t\t0x00B9: { n:\"??\" },\n\t\t0x00BA: { n:\"??\" },\n\t\t0x00BB: { n:\"??\" },\n\t\t0x00BC: { n:\"??\" },\n\t\t0x00C3: { n:\"??\" },\n\t\t0x00C9: { n:\"??\" },\n\t\t0x00CC: { n:\"SHEETNAMECS\", f:parse_SHEETNAMECS },\n\t\t0x00CD: { n:\"??\" },\n\t\t0x00CE: { n:\"??\" },\n\t\t0x00CF: { n:\"??\" },\n\t\t0x00D0: { n:\"??\" },\n\t\t0x0100: { n:\"??\" },\n\t\t0x0103: { n:\"??\" },\n\t\t0x0104: { n:\"??\" },\n\t\t0x0105: { n:\"??\" },\n\t\t0x0106: { n:\"??\" },\n\t\t0x0107: { n:\"??\" },\n\t\t0x0109: { n:\"??\" },\n\t\t0x010A: { n:\"??\" },\n\t\t0x010B: { n:\"??\" },\n\t\t0x010C: { n:\"??\" },\n\t\t0x010E: { n:\"??\" },\n\t\t0x010F: { n:\"??\" },\n\t\t0x0180: { n:\"??\" },\n\t\t0x0185: { n:\"??\" },\n\t\t0x0186: { n:\"??\" },\n\t\t0x0189: { n:\"??\" },\n\t\t0x018C: { n:\"??\" },\n\t\t0x0200: { n:\"??\" },\n\t\t0x0202: { n:\"??\" },\n\t\t0x0201: { n:\"??\" },\n\t\t0x0204: { n:\"??\" },\n\t\t0x0205: { n:\"??\" },\n\t\t0x0280: { n:\"??\" },\n\t\t0x0281: { n:\"??\" },\n\t\t0x0282: { n:\"??\" },\n\t\t0x0283: { n:\"??\" },\n\t\t0x0284: { n:\"??\" },\n\t\t0x0285: { n:\"??\" },\n\t\t0x0286: { n:\"??\" },\n\t\t0x0287: { n:\"??\" },\n\t\t0x0288: { n:\"??\" },\n\t\t0x0292: { n:\"??\" },\n\t\t0x0293: { n:\"??\" },\n\t\t0x0294: { n:\"??\" },\n\t\t0x0295: { n:\"??\" },\n\t\t0x0296: { n:\"??\" },\n\t\t0x0299: { n:\"??\" },\n\t\t0x029A: { n:\"??\" },\n\t\t0x0300: { n:\"??\" },\n\t\t0x0304: { n:\"??\" },\n\t\t0x0601: { n:\"SHEETINFOQP\", f:parse_SHEETINFOQP },\n\t\t0x0640: { n:\"??\" },\n\t\t0x0642: { n:\"??\" },\n\t\t0x0701: { n:\"??\" },\n\t\t0x0702: { n:\"??\" },\n\t\t0x0703: { n:\"??\" },\n\t\t0x0704: { n:\"??\" },\n\t\t0x0780: { n:\"??\" },\n\t\t0x0800: { n:\"??\" },\n\t\t0x0801: { n:\"??\" },\n\t\t0x0804: { n:\"??\" },\n\t\t0x0A80: { n:\"??\" },\n\t\t0x2AF6: { n:\"??\" },\n\t\t0x3231: { n:\"??\" },\n\t\t0x6E49: { n:\"??\" },\n\t\t0x6F44: { n:\"??\" },\n\t\t0xFFFF: { n:\"\" }\n\t};\n\n\t/* TODO: fill out and verify this table across QP versions */\n\tvar QPWNFTable = {\n\t\t0x05: \"dd-mmm-yy\",\n\t\t0x06: \"dd-mmm\",\n\t\t0x07: \"mmm-yy\",\n\t\t0x08: \"mm/dd/yy\", // Long Date Intl\n\t\t0x0A: \"hh:mm:ss AM/PM\",\n\t\t0x0B: \"hh:mm AM/PM\",\n\t\t0x0E: \"dd-mmm-yyyy\",\n\t\t0x0F: \"mmm-yyyy\",\n\n\t\t/* It is suspected that the the low nybble specifies decimal places */\n\t\t0x0022: \"0.00\",\n\t\t0x0032: \"0.00;[Red]0.00\",\n\t\t0x0042: \"0.00;\\(0.00\\)\",\n\t\t0x0052: \"0.00;[Red]\\(0.00\\)\",\n\t\t0x00A2: '\"$\"#,##0.00;\\\\(\"$\"#,##0.00\\\\)',\n\t\t0x0120: '0%',\n\t\t0x0130: '0E+00',\n\t\t0x0140: '# ?/?'\n\t};\n\n\tfunction parse_qpw_str(p) {\n\t\tvar cch = p.read_shift(2);\n\t\tvar flags = p.read_shift(1);\n\t\t/* TODO: find examples with nonzero flags */\n\t\tif(flags != 0) throw \"unsupported QPW string type \" + flags.toString(16);\n\t\treturn p.read_shift(cch, \"sbcs-cont\");\n\t}\n\n\t/* QPW uses a different set of record types */\n\tfunction qpw_to_workbook_buf(d, opts)/*:Workbook*/ {\n\t\tprep_blob(d, 0);\n\t\tvar o = opts || {};\n\t\tif(DENSE != null && o.dense == null) o.dense = DENSE;\n\t\tvar s/*:Worksheet*/ = ({}/*:any*/); if(o.dense) s[\"!data\"] = [];\n\t\tvar SST = [], sname = \"\", formulae = [];\n\t\tvar range = {s:{r:-1,c:-1}, e:{r:-1,c:-1}};\n\t\tvar cnt = 0, type = 0, C = 0, R = 0;\n\t\tvar wb = { SheetNames: [], Sheets: {} };\n\t\tvar FMTS = [];\n\t\touter: while(d.l < d.length) {\n\t\t\tvar RT = d.read_shift(2), length = d.read_shift(2);\n\t\t\tvar p = d.slice(d.l, d.l + length);\n\t\t\tprep_blob(p, 0);\n\t\t\tswitch(RT) {\n\t\t\t\tcase 0x01: /* BOF */\n\t\t\t\t\tif(p.read_shift(4) != 0x39575051) throw \"Bad QPW9 BOF!\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x02: /* EOF */ break outer;\n\n\t\t\t\tcase 0x08: /* NF */ break; // TODO: this is tied to custom number formats\n\n\t\t\t\tcase 0x0A: /* FORMATS */ {\n\t\t\t\t\tvar fcnt = p.read_shift(4);\n\t\t\t\t\tvar step = ((p.length - p.l)/ fcnt)|0;\n\t\t\t\t\tfor(var ifmt = 0; ifmt < fcnt; ++ifmt) {\n\t\t\t\t\t\tvar end = p.l + step;\n\t\t\t\t\t\tvar fmt = {};\n\t\t\t\t\t\tp.l += 2;\n\t\t\t\t\t\tfmt.numFmtId = p.read_shift(2);\n\t\t\t\t\t\tif(QPWNFTable[fmt.numFmtId]) fmt.z = QPWNFTable[fmt.numFmtId];\n\t\t\t\t\t\tp.l = end;\n\t\t\t\t\t\tFMTS.push(fmt);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\n\t\t\t\t/* TODO: The behavior here should be consistent with Numbers: QP Notebook ~ .TN.SheetArchive, QP Sheet ~ .TST.TableModelArchive */\n\t\t\t\tcase 0x0401: /* BON */ break;\n\t\t\t\tcase 0x0402: /* EON */ /* TODO: backfill missing sheets based on BON cnt */ break;\n\n\t\t\t\tcase 0x0407: { /* SST */\n\t\t\t\t\tp.l += 12;\n\t\t\t\t\twhile(p.l < p.length) {\n\t\t\t\t\t\tcnt = p.read_shift(2);\n\t\t\t\t\t\ttype = p.read_shift(1);\n\t\t\t\t\t\tSST.push(p.read_shift(cnt, 'cstr'));\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0408: { /* FORMULAE */\n\t\t\t\t\t//p.l += 12;\n\t\t\t\t\t//while(p.l < p.length) {\n\t\t\t\t\t//\tcnt = p.read_shift(2);\n\t\t\t\t\t//\tformulae.push(p.slice(p.l, p.l + cnt + 1)); p.l += cnt + 1;\n\t\t\t\t\t//}\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x0601: { /* BOS */\n\t\t\t\t\tvar sidx = p.read_shift(2);\n\t\t\t\t\ts = ({}/*:any*/); if(o.dense) s[\"!data\"] = [];\n\t\t\t\t\trange.s.c = p.read_shift(2);\n\t\t\t\t\trange.e.c = p.read_shift(2);\n\t\t\t\t\trange.s.r = p.read_shift(4);\n\t\t\t\t\trange.e.r = p.read_shift(4);\n\t\t\t\t\tp.l += 4;\n\t\t\t\t\tif(p.l + 2 < p.length) {\n\t\t\t\t\t\tcnt = p.read_shift(2);\n\t\t\t\t\t\ttype = p.read_shift(1);\n\t\t\t\t\t\tsname = cnt == 0 ? \"\" : p.read_shift(cnt, 'cstr');\n\t\t\t\t\t}\n\t\t\t\t\tif(!sname) sname = encode_col(sidx);\n\t\t\t\t\t/* TODO: backfill empty sheets */\n\t\t\t\t} break;\n\t\t\t\tcase 0x0602: { /* EOS */\n\t\t\t\t\t/* NOTE: QP valid range A1:IV1000000 */\n\t\t\t\t\tif(range.s.c > 0xFF || range.s.r > 999999) break;\n\t\t\t\t\tif(range.e.c < range.s.c) range.e.c = range.s.c;\n\t\t\t\t\tif(range.e.r < range.s.r) range.e.r = range.s.r;\n\t\t\t\t\ts[\"!ref\"] = encode_range(range);\n\t\t\t\t\tbook_append_sheet(wb, s, sname); // TODO: a barrel roll\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x0A01: { /* COL (like XLS Row, modulo the layout transposition) */\n\t\t\t\t\tC = p.read_shift(2);\n\t\t\t\t\tif(range.e.c < C) range.e.c = C;\n\t\t\t\t\tif(range.s.c > C) range.s.c = C;\n\t\t\t\t\tR = p.read_shift(4);\n\t\t\t\t\tif(range.s.r > R) range.s.r = R;\n\t\t\t\t\tR = p.read_shift(4);\n\t\t\t\t\tif(range.e.r < R) range.e.r = R;\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x0C01: { /* MulCells (like XLS MulRK, but takes advantage of common column data patterns) */\n\t\t\t\t\tR = p.read_shift(4), cnt = p.read_shift(4);\n\t\t\t\t\tif(range.s.r > R) range.s.r = R;\n\t\t\t\t\tif(range.e.r < R + cnt - 1) range.e.r = R + cnt - 1;\n\t\t\t\t\tvar CC = encode_col(C);\n\t\t\t\t\twhile(p.l < p.length) {\n\t\t\t\t\t\tvar cell = { t: \"z\" };\n\t\t\t\t\t\tvar flags = p.read_shift(1), fmtidx = -1;\n\t\t\t\t\t\tif(flags & 0x80) fmtidx = p.read_shift(2);\n\t\t\t\t\t\tvar mul = (flags & 0x40) ? p.read_shift(2) - 1: 0;\n\t\t\t\t\t\tswitch(flags & 0x1F) {\n\t\t\t\t\t\t\tcase 0: break;\n\t\t\t\t\t\t\tcase 1: break;\n\t\t\t\t\t\t\tcase 2: cell = { t: \"n\", v: p.read_shift(2) }; break;\n\t\t\t\t\t\t\tcase 3: cell = { t: \"n\", v: p.read_shift(2, 'i') }; break;\n\t\t\t\t\t\t\tcase 4: cell = { t: \"n\", v: parse_RkNumber(p) }; break;\n\t\t\t\t\t\t\tcase 5: cell = { t: \"n\", v: p.read_shift(8, 'f') }; break;\n\t\t\t\t\t\t\tcase 7: cell = { t: \"s\", v: SST[type = p.read_shift(4) - 1] }; break;\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\tcell = { t: \"n\", v: p.read_shift(8, 'f') };\n\t\t\t\t\t\t\t\tp.l += 2; /* cell.f = formulae[p.read_shift(4)]; */ p.l += 4;\n\t\t\t\t\t\t\t\tif(isNaN(cell.v)) cell = { t: \"e\", v: 0x0F }; // #VALUE!\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault: throw \"Unrecognized QPW cell type \" + (flags & 0x1F);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(fmtidx != -1 && (FMTS[fmtidx - 1]||{}).z) cell.z = FMTS[fmtidx-1].z;\n\t\t\t\t\t\tvar delta = 0;\n\t\t\t\t\t\tif(flags & 0x20) switch(flags & 0x1F) {\n\t\t\t\t\t\t\tcase 2: delta = p.read_shift(2); break;\n\t\t\t\t\t\t\tcase 3: delta = p.read_shift(2, 'i'); break;\n\t\t\t\t\t\t\tcase 7: delta = p.read_shift(2); break;\n\t\t\t\t\t\t\tdefault: throw \"Unsupported delta for QPW cell type \" + (flags & 0x1F);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!(!o.sheetStubs && cell.t == \"z\")) {\n\t\t\t\t\t\t\tvar newcell = dup(cell);\n\t\t\t\t\t\t\tif(cell.t == \"n\" && cell.z && fmt_is_date(cell.z) && o.cellDates) {\n\t\t\t\t\t\t\t\tnewcell.v = numdate(cell.v); newcell.t = typeof newcell.v == \"number\" ? 'n' : 'd';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(s[\"!data\"] != null) {\n\t\t\t\t\t\t\t\tif(!s[\"!data\"][R]) s[\"!data\"][R] = [];\n\t\t\t\t\t\t\t\ts[\"!data\"][R][C] = newcell;\n\t\t\t\t\t\t\t} else s[CC + encode_row(R)] = newcell;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t++R; --cnt;\n\t\t\t\t\t\twhile(mul-- > 0 && cnt >= 0) {\n\t\t\t\t\t\t\tif(flags & 0x20) switch(flags & 0x1F) {\n\t\t\t\t\t\t\t\tcase 2: cell = { t: \"n\", v: (cell.v + delta) & 0xFFFF }; break;\n\t\t\t\t\t\t\t\tcase 3: cell = { t: \"n\", v: (cell.v + delta) & 0xFFFF }; if(cell.v > 0x7FFF) cell.v -= 0x10000; break;\n\t\t\t\t\t\t\t\tcase 7: cell = { t: \"s\", v: SST[type = (type + delta) >>> 0] }; break;\n\t\t\t\t\t\t\t\tdefault: throw \"Cannot apply delta for QPW cell type \" + (flags & 0x1F);\n\t\t\t\t\t\t\t} else switch(flags & 0x1F) {\n\t\t\t\t\t\t\t\tcase 1: cell = { t: \"z\" }; break;\n\t\t\t\t\t\t\t\tcase 2: cell = { t: \"n\", v: p.read_shift(2) }; break;\n\t\t\t\t\t\t\t\tcase 7: cell = { t: \"s\", v: SST[type = p.read_shift(4) - 1] }; break;\n\t\t\t\t\t\t\t\tdefault: throw \"Cannot apply repeat for QPW cell type \" + (flags & 0x1F);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(fmtidx != -1);\n\t\t\t\t\t\t\tif(!(!o.sheetStubs && cell.t == \"z\")) {\n\t\t\t\t\t\t\t\tif(s[\"!data\"] != null) {\n\t\t\t\t\t\t\t\t\tif(!s[\"!data\"][R]) s[\"!data\"][R] = [];\n\t\t\t\t\t\t\t\t\ts[\"!data\"][R][C] = cell;\n\t\t\t\t\t\t\t\t} else s[CC + encode_row(R)] = cell;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t++R; --cnt;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x0C02: { /* String (result of string formula expression) */\n\t\t\t\t\tC = p.read_shift(2);\n\t\t\t\t\tR = p.read_shift(4);\n\t\t\t\t\tvar str = parse_qpw_str(p);\n\t\t\t\t\t/* TODO: QP10 record has an additional unknown character after the string */\n\t\t\t\t\tif(s[\"!data\"] != null) {\n\t\t\t\t\t\tif(!s[\"!data\"][R]) s[\"!data\"][R] = [];\n\t\t\t\t\t\ts[\"!data\"][R][C] = { t:\"s\", v:str };\n\t\t\t\t\t} else s[encode_col(C) + encode_row(R)] = { t:\"s\", v:str };\n\t\t\t\t} break;\n\n\t\t\t\tdefault: break;\n\t\t\t}\n\t\t\td.l += length;\n\t\t}\n\t\treturn wb;\n\t}\n\n\treturn {\n\t\tsheet_to_wk1: sheet_to_wk1,\n\t\tbook_to_wk3: book_to_wk3,\n\t\tto_workbook: lotus_to_workbook\n\t};\n})();\n/* 18.4.7 rPr CT_RPrElt */\nfunction parse_rpr(rpr) {\n\tvar font = {}, m = rpr.match(tagregex), i = 0;\n\tvar pass = false;\n\tif(m) for(;i!=m.length; ++i) {\n\t\tvar y = parsexmltag(m[i]);\n\t\tswitch(y[0].replace(/<\\w*:/g,\"<\")) {\n\t\t\t/* 18.8.12 condense CT_BooleanProperty */\n\t\t\t/* ** not required . */\n\t\t\tcase '<condense': break;\n\t\t\t/* 18.8.17 extend CT_BooleanProperty */\n\t\t\t/* ** not required . */\n\t\t\tcase '<extend': break;\n\t\t\t/* 18.8.36 shadow CT_BooleanProperty */\n\t\t\t/* ** not required . */\n\t\t\tcase '<shadow':\n\t\t\t\tif(!y.val) break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<shadow>':\n\t\t\tcase '<shadow/>': font.shadow = 1; break;\n\t\t\tcase '</shadow>': break;\n\n\t\t\t/* 18.4.1 charset CT_IntProperty TODO */\n\t\t\tcase '<charset':\n\t\t\t\tif(y.val == '1') break;\n\t\t\t\tfont.cp = CS2CP[parseInt(y.val, 10)];\n\t\t\t\tbreak;\n\n\t\t\t/* 18.4.2 outline CT_BooleanProperty TODO */\n\t\t\tcase '<outline':\n\t\t\t\tif(!y.val) break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<outline>':\n\t\t\tcase '<outline/>': font.outline = 1; break;\n\t\t\tcase '</outline>': break;\n\n\t\t\t/* 18.4.5 rFont CT_FontName */\n\t\t\tcase '<rFont': font.name = y.val; break;\n\n\t\t\t/* 18.4.11 sz CT_FontSize */\n\t\t\tcase '<sz': font.sz = y.val; break;\n\n\t\t\t/* 18.4.10 strike CT_BooleanProperty */\n\t\t\tcase '<strike':\n\t\t\t\tif(!y.val) break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<strike>':\n\t\t\tcase '<strike/>': font.strike = 1; break;\n\t\t\tcase '</strike>': break;\n\n\t\t\t/* 18.4.13 u CT_UnderlineProperty */\n\t\t\tcase '<u':\n\t\t\t\tif(!y.val) break;\n\t\t\t\tswitch(y.val) {\n\t\t\t\t\tcase 'double': font.uval = \"double\"; break;\n\t\t\t\t\tcase 'singleAccounting': font.uval = \"single-accounting\"; break;\n\t\t\t\t\tcase 'doubleAccounting': font.uval = \"double-accounting\"; break;\n\t\t\t\t}\n\t\t\t\t/* falls through */\n\t\t\tcase '<u>':\n\t\t\tcase '<u/>': font.u = 1; break;\n\t\t\tcase '</u>': break;\n\n\t\t\t/* 18.8.2 b */\n\t\t\tcase '<b':\n\t\t\t\tif(y.val == '0') break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<b>':\n\t\t\tcase '<b/>': font.b = 1; break;\n\t\t\tcase '</b>': break;\n\n\t\t\t/* 18.8.26 i */\n\t\t\tcase '<i':\n\t\t\t\tif(y.val == '0') break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<i>':\n\t\t\tcase '<i/>': font.i = 1; break;\n\t\t\tcase '</i>': break;\n\n\t\t\t/* 18.3.1.15 color CT_Color TODO: tint, theme, auto, indexed */\n\t\t\tcase '<color':\n\t\t\t\tif(y.rgb) font.color = y.rgb.slice(2,8);\n\t\t\t\tbreak;\n\t\t\tcase '<color>': case '<color/>': case '</color>': break;\n\n\t\t\t/* 18.8.18 family ST_FontFamily */\n\t\t\tcase '<family': font.family = y.val; break;\n\t\t\tcase '<family>': case '<family/>': case '</family>': break;\n\n\t\t\t/* 18.4.14 vertAlign CT_VerticalAlignFontProperty TODO */\n\t\t\tcase '<vertAlign': font.valign = y.val; break;\n\t\t\tcase '<vertAlign>': case '<vertAlign/>': case '</vertAlign>': break;\n\n\t\t\t/* 18.8.35 scheme CT_FontScheme TODO */\n\t\t\tcase '<scheme': break;\n\t\t\tcase '<scheme>': case '<scheme/>': case '</scheme>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault:\n\t\t\t\tif(y[0].charCodeAt(1) !== 47 && !pass) throw new Error('Unrecognized rich format ' + y[0]);\n\t\t}\n\t}\n\treturn font;\n}\n\nvar parse_rs = /*#__PURE__*/(function() {\n\t/* 18.4.4 r CT_RElt */\n\tfunction parse_r(r) {\n\t\t/* 18.4.12 t ST_Xstring */\n\t\tvar t = str_match_xml_ns(r, \"t\")/*, cp = 65001*/;\n\t\tif(!t) return {t:\"s\", v:\"\"};\n\n\t\tvar o/*:Cell*/ = ({t:'s', v:unescapexml(t[1])}/*:any*/);\n\t\tvar rpr = str_match_xml_ns(r, \"rPr\");\n\t\tif(rpr) o.s = parse_rpr(rpr[1]);\n\t\treturn o;\n\t}\n\tvar rregex = /<(?:\\w+:)?r>/g, rend = /<\\/(?:\\w+:)?r>/;\n\treturn function parse_rs(rs) {\n\t\treturn rs.replace(rregex,\"\").split(rend).map(parse_r).filter(function(r) { return r.v; });\n\t};\n})();\n\n\n/* Parse a list of <r> tags */\nvar rs_to_html = /*#__PURE__*/(function parse_rs_factory() {\n\tvar nlregex = /(\\r\\n|\\n)/g;\n\tfunction parse_rpr2(font, intro, outro) {\n\t\tvar style/*:Array<string>*/ = [];\n\n\t\tif(font.u) style.push(\"text-decoration: underline;\");\n\t\tif(font.uval) style.push(\"text-underline-style:\" + font.uval + \";\");\n\t\tif(font.sz) style.push(\"font-size:\" + font.sz + \"pt;\");\n\t\tif(font.outline) style.push(\"text-effect: outline;\");\n\t\tif(font.shadow) style.push(\"text-shadow: auto;\");\n\t\tintro.push('<span style=\"' + style.join(\"\") + '\">');\n\n\t\tif(font.b) { intro.push(\"<b>\"); outro.push(\"</b>\"); }\n\t\tif(font.i) { intro.push(\"<i>\"); outro.push(\"</i>\"); }\n\t\tif(font.strike) { intro.push(\"<s>\"); outro.push(\"</s>\"); }\n\n\t\tvar align = font.valign || \"\";\n\t\tif(align == \"superscript\" || align == \"super\") align = \"sup\";\n\t\telse if(align == \"subscript\") align = \"sub\";\n\t\tif(align != \"\") { intro.push(\"<\" + align + \">\"); outro.push(\"</\" + align + \">\"); }\n\n\t\toutro.push(\"</span>\");\n\t\treturn font;\n\t}\n\n\t/* 18.4.4 r CT_RElt */\n\tfunction r_to_html(r) {\n\t\tvar terms/*:[Array<string>, string, Array<string>]*/ = [[],r.v,[]];\n\t\tif(!r.v) return \"\";\n\n\t\tif(r.s) parse_rpr2(r.s, terms[0], terms[2]);\n\n\t\treturn terms[0].join(\"\") + terms[1].replace(nlregex,'<br/>') + terms[2].join(\"\");\n\t}\n\n\treturn function parse_rs(rs) {\n\t\treturn rs.map(r_to_html).join(\"\");\n\t};\n})();\n\n/* 18.4.8 si CT_Rst */\nvar sitregex = /<(?:\\w+:)?t\\b[^<>]*>([^<]*)<\\/(?:\\w+:)?t>/g, sirregex = /<(?:\\w+:)?r\\b[^<>]*>/;\nfunction parse_si(x, opts) {\n\tvar html = opts ? opts.cellHTML : true;\n\tvar z = {};\n\tif(!x) return { t: \"\" };\n\t//var y;\n\t/* 18.4.12 t ST_Xstring (Plaintext String) */\n\t// TODO: is whitespace actually valid here?\n\tif(x.match(/^\\s*<(?:\\w+:)?t[^>]*>/)) {\n\t\tz.t = unescapexml(utf8read(x.slice(x.indexOf(\">\")+1).split(/<\\/(?:\\w+:)?t>/)[0]||\"\"), true);\n\t\tz.r = utf8read(x);\n\t\tif(html) z.h = escapehtml(z.t);\n\t}\n\t/* 18.4.4 r CT_RElt (Rich Text Run) */\n\telse if((/*y = */x.match(sirregex))) {\n\t\tz.r = utf8read(x);\n\t\tz.t = unescapexml(utf8read((str_remove_xml_ns_g(x, \"rPh\").match(sitregex)||[]).join(\"\").replace(tagregex,\"\")), true);\n\t\tif(html) z.h = rs_to_html(parse_rs(z.r));\n\t}\n\t/* 18.4.3 phoneticPr CT_PhoneticPr (TODO: needed for Asian support) */\n\t/* 18.4.6 rPh CT_PhoneticRun (TODO: needed for Asian support) */\n\treturn z;\n}\n\n/* 18.4 Shared String Table */\nvar sstr1 = /<(?:\\w+:)?(?:si|sstItem)>/g;\nvar sstr2 = /<\\/(?:\\w+:)?(?:si|sstItem)>/;\nfunction parse_sst_xml(data/*:string*/, opts)/*:SST*/ {\n\tvar s/*:SST*/ = ([]/*:any*/), ss = \"\";\n\tif(!data) return s;\n\t/* 18.4.9 sst CT_Sst */\n\tvar sst = str_match_xml_ns(data, \"sst\");\n\tif(sst) {\n\t\tss = sst[1].replace(sstr1,\"\").split(sstr2);\n\t\tfor(var i = 0; i != ss.length; ++i) {\n\t\t\tvar o = parse_si(ss[i].trim(), opts);\n\t\t\tif(o != null) s[s.length] = o;\n\t\t}\n\t\tsst = parsexmltag(sst[0].slice(0, sst[0].indexOf(\">\"))); s.Count = sst.count; s.Unique = sst.uniqueCount;\n\t}\n\treturn s;\n}\n\nvar straywsregex = /^\\s|\\s$|[\\t\\n\\r]/;\nfunction write_sst_xml(sst/*:SST*/, opts)/*:string*/ {\n\tif(!opts.bookSST) return \"\";\n\tvar o = [XML_HEADER];\n\to[o.length] = (writextag('sst', null, {\n\t\txmlns: XMLNS_main[0],\n\t\tcount: sst.Count,\n\t\tuniqueCount: sst.Unique\n\t}));\n\tfor(var i = 0; i != sst.length; ++i) { if(sst[i] == null) continue;\n\t\tvar s/*:XLString*/ = sst[i];\n\t\tvar sitag = \"<si>\";\n\t\tif(s.r) sitag += s.r;\n\t\telse {\n\t\t\tsitag += \"<t\";\n\t\t\tif(!s.t) s.t = \"\";\n\t\t\tif(typeof s.t !== \"string\") s.t = String(s.t);\n\t\t\tif(s.t.match(straywsregex)) sitag += ' xml:space=\"preserve\"';\n\t\t\tsitag += \">\" + escapexml(s.t) + \"</t>\";\n\t\t}\n\t\tsitag += \"</si>\";\n\t\to[o.length] = (sitag);\n\t}\n\tif(o.length>2){ o[o.length] = ('</sst>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.221 BrtBeginSst */\nfunction parse_BrtBeginSst(data) {\n\treturn [data.read_shift(4), data.read_shift(4)];\n}\n\n/* [MS-XLSB] 2.1.7.45 Shared Strings */\nfunction parse_sst_bin(data, opts)/*:SST*/ {\n\tvar s/*:SST*/ = ([]/*:any*/);\n\tvar pass = false;\n\trecordhopper(data, function hopper_sst(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x009F: /* BrtBeginSst */\n\t\t\t\ts.Count = val[0]; s.Unique = val[1]; break;\n\t\t\tcase 0x0013: /* BrtSSTItem */\n\t\t\t\ts.push(val); break;\n\t\t\tcase 0x00A0: /* BrtEndSst */\n\t\t\t\treturn true;\n\n\t\t\tcase 0x0023: /* BrtFRTBegin */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* BrtFRTEnd */\n\t\t\t\tpass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){}\n\t\t\t\tif(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn s;\n}\n\nfunction write_BrtBeginSst(sst, o) {\n\tif(!o) o = new_buf(8);\n\to.write_shift(4, sst.Count);\n\to.write_shift(4, sst.Unique);\n\treturn o;\n}\n\nvar write_BrtSSTItem = write_RichStr;\n\nfunction write_sst_bin(sst/*::, opts*/) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x009F /* BrtBeginSst */, write_BrtBeginSst(sst));\n\tfor(var i = 0; i < sst.length; ++i) write_record(ba, 0x0013 /* BrtSSTItem */, write_BrtSSTItem(sst[i]));\n\t/* FRTSST */\n\twrite_record(ba, 0x00A0 /* BrtEndSst */);\n\treturn ba.end();\n}\nfunction _JS2ANSI(str/*:string*/)/*:Array<number>*/ {\n\tif(typeof $cptable !== 'undefined') return $cptable.utils.encode(current_ansi, str);\n\tvar o/*:Array<number>*/ = [], oo = str.split(\"\");\n\tfor(var i = 0; i < oo.length; ++i) o[i] = oo[i].charCodeAt(0);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.4 Version */\nfunction parse_CRYPTOVersion(blob, length/*:?number*/) {\n\tvar o/*:any*/ = {};\n\to.Major = blob.read_shift(2);\n\to.Minor = blob.read_shift(2);\n\t/*:: if(length == null) return o; */\n\tif(length >= 4) blob.l += length - 4;\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.5 DataSpaceVersionInfo */\nfunction parse_DataSpaceVersionInfo(blob) {\n\tvar o = {};\n\to.id = blob.read_shift(0, 'lpp4');\n\to.R = parse_CRYPTOVersion(blob, 4);\n\to.U = parse_CRYPTOVersion(blob, 4);\n\to.W = parse_CRYPTOVersion(blob, 4);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.6.1 DataSpaceMapEntry Structure */\nfunction parse_DataSpaceMapEntry(blob) {\n\tvar len = blob.read_shift(4);\n\tvar end = blob.l + len - 4;\n\tvar o = {};\n\tvar cnt = blob.read_shift(4);\n\tvar comps/*:Array<{t:number, v:string}>*/ = [];\n\t/* [MS-OFFCRYPTO] 2.1.6.2 DataSpaceReferenceComponent Structure */\n\twhile(cnt-- > 0) comps.push({ t: blob.read_shift(4), v: blob.read_shift(0, 'lpp4') });\n\to.name = blob.read_shift(0, 'lpp4');\n\to.comps = comps;\n\tif(blob.l != end) throw new Error(\"Bad DataSpaceMapEntry: \" + blob.l + \" != \" + end);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.6 DataSpaceMap */\nfunction parse_DataSpaceMap(blob) {\n\tvar o = [];\n\tblob.l += 4; // must be 0x8\n\tvar cnt = blob.read_shift(4);\n\twhile(cnt-- > 0) o.push(parse_DataSpaceMapEntry(blob));\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.7 DataSpaceDefinition */\nfunction parse_DataSpaceDefinition(blob)/*:Array<string>*/ {\n\tvar o/*:Array<string>*/ = [];\n\tblob.l += 4; // must be 0x8\n\tvar cnt = blob.read_shift(4);\n\twhile(cnt-- > 0) o.push(blob.read_shift(0, 'lpp4'));\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.8 DataSpaceDefinition */\nfunction parse_TransformInfoHeader(blob) {\n\tvar o = {};\n\t/*var len = */blob.read_shift(4);\n\tblob.l += 4; // must be 0x1\n\to.id = blob.read_shift(0, 'lpp4');\n\to.name = blob.read_shift(0, 'lpp4');\n\to.R = parse_CRYPTOVersion(blob, 4);\n\to.U = parse_CRYPTOVersion(blob, 4);\n\to.W = parse_CRYPTOVersion(blob, 4);\n\treturn o;\n}\n\nfunction parse_Primary(blob) {\n\t/* [MS-OFFCRYPTO] 2.2.6 IRMDSTransformInfo */\n\tvar hdr = parse_TransformInfoHeader(blob);\n\t/* [MS-OFFCRYPTO] 2.1.9 EncryptionTransformInfo */\n\thdr.ename = blob.read_shift(0, '8lpp4');\n\thdr.blksz = blob.read_shift(4);\n\thdr.cmode = blob.read_shift(4);\n\tif(blob.read_shift(4) != 0x04) throw new Error(\"Bad !Primary record\");\n\treturn hdr;\n}\n\n/* [MS-OFFCRYPTO] 2.3.2 Encryption Header */\nfunction parse_EncryptionHeader(blob, length/*:number*/) {\n\tvar tgt = blob.l + length;\n\tvar o = {};\n\to.Flags = (blob.read_shift(4) & 0x3F);\n\tblob.l += 4;\n\to.AlgID = blob.read_shift(4);\n\tvar valid = false;\n\tswitch(o.AlgID) {\n\t\tcase 0x660E: case 0x660F: case 0x6610: valid = (o.Flags == 0x24); break;\n\t\tcase 0x6801: valid = (o.Flags == 0x04); break;\n\t\tcase 0: valid = (o.Flags == 0x10 || o.Flags == 0x04 || o.Flags == 0x24); break;\n\t\tdefault: throw 'Unrecognized encryption algorithm: ' + o.AlgID;\n\t}\n\tif(!valid) throw new Error(\"Encryption Flags/AlgID mismatch\");\n\to.AlgIDHash = blob.read_shift(4);\n\to.KeySize = blob.read_shift(4);\n\to.ProviderType = blob.read_shift(4);\n\tblob.l += 8;\n\to.CSPName = blob.read_shift((tgt-blob.l)>>1, 'utf16le');\n\tblob.l = tgt;\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.3 Encryption Verifier */\nfunction parse_EncryptionVerifier(blob, length/*:number*/) {\n\tvar o = {}, tgt = blob.l + length;\n\tblob.l += 4; // SaltSize must be 0x10\n\to.Salt = blob.slice(blob.l, blob.l+16); blob.l += 16;\n\to.Verifier = blob.slice(blob.l, blob.l+16); blob.l += 16;\n\t/*var sz = */blob.read_shift(4);\n\to.VerifierHash = blob.slice(blob.l, tgt); blob.l = tgt;\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.4.* EncryptionInfo Stream */\nfunction parse_EncryptionInfo(blob) {\n\tvar vers = parse_CRYPTOVersion(blob);\n\tswitch(vers.Minor) {\n\t\tcase 0x02: return [vers.Minor, parse_EncInfoStd(blob, vers)];\n\t\tcase 0x03: return [vers.Minor, parse_EncInfoExt(blob, vers)];\n\t\tcase 0x04: return [vers.Minor, parse_EncInfoAgl(blob, vers)];\n\t}\n\tthrow new Error(\"ECMA-376 Encrypted file unrecognized Version: \" + vers.Minor);\n}\n\n/* [MS-OFFCRYPTO] 2.3.4.5  EncryptionInfo Stream (Standard Encryption) */\nfunction parse_EncInfoStd(blob/*::, vers*/) {\n\tvar flags = blob.read_shift(4);\n\tif((flags & 0x3F) != 0x24) throw new Error(\"EncryptionInfo mismatch\");\n\tvar sz = blob.read_shift(4);\n\t//var tgt = blob.l + sz;\n\tvar hdr = parse_EncryptionHeader(blob, sz);\n\tvar verifier = parse_EncryptionVerifier(blob, blob.length - blob.l);\n\treturn { t:\"Std\", h:hdr, v:verifier };\n}\n/* [MS-OFFCRYPTO] 2.3.4.6  EncryptionInfo Stream (Extensible Encryption) */\nfunction parse_EncInfoExt(/*::blob, vers*/) { throw new Error(\"File is password-protected: ECMA-376 Extensible\"); }\n/* [MS-OFFCRYPTO] 2.3.4.10 EncryptionInfo Stream (Agile Encryption) */\nfunction parse_EncInfoAgl(blob/*::, vers*/) {\n\tvar KeyData = [\"saltSize\",\"blockSize\",\"keyBits\",\"hashSize\",\"cipherAlgorithm\",\"cipherChaining\",\"hashAlgorithm\",\"saltValue\"];\n\tblob.l+=4;\n\tvar xml = blob.read_shift(blob.length - blob.l, 'utf8');\n\tvar o = {};\n\txml.replace(tagregex, function xml_agile(x) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\t\t\tcase '<encryption': case '</encryption>': break;\n\t\t\tcase '<keyData': KeyData.forEach(function(k) { o[k] = y[k]; }); break;\n\t\t\tcase '<dataIntegrity': o.encryptedHmacKey = y.encryptedHmacKey; o.encryptedHmacValue = y.encryptedHmacValue; break;\n\t\t\tcase '<keyEncryptors>': case '<keyEncryptors': o.encs = []; break;\n\t\t\tcase '</keyEncryptors>': break;\n\n\t\t\tcase '<keyEncryptor': o.uri = y.uri; break;\n\t\t\tcase '</keyEncryptor>': break;\n\t\t\tcase '<encryptedKey': o.encs.push(y); break;\n\t\t\tdefault: throw y[0];\n\t\t}\n\t});\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.5.1 RC4 CryptoAPI Encryption Header */\nfunction parse_RC4CryptoHeader(blob, length/*:number*/) {\n\tvar o = {};\n\tvar vers = o.EncryptionVersionInfo = parse_CRYPTOVersion(blob, 4); length -= 4;\n\tif(vers.Minor != 2) throw new Error('unrecognized minor version code: ' + vers.Minor);\n\tif(vers.Major > 4 || vers.Major < 2) throw new Error('unrecognized major version code: ' + vers.Major);\n\to.Flags = blob.read_shift(4); length -= 4;\n\tvar sz = blob.read_shift(4); length -= 4;\n\to.EncryptionHeader = parse_EncryptionHeader(blob, sz); length -= sz;\n\to.EncryptionVerifier = parse_EncryptionVerifier(blob, length);\n\treturn o;\n}\n/* [MS-OFFCRYPTO] 2.3.6.1 RC4 Encryption Header */\nfunction parse_RC4Header(blob/*::, length*/) {\n\tvar o = {};\n\tvar vers = o.EncryptionVersionInfo = parse_CRYPTOVersion(blob, 4);\n\tif(vers.Major != 1 || vers.Minor != 1) throw 'unrecognized version code ' + vers.Major + ' : ' + vers.Minor;\n\to.Salt = blob.read_shift(16);\n\to.EncryptedVerifier = blob.read_shift(16);\n\to.EncryptedVerifierHash = blob.read_shift(16);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.7.1 Binary Document Password Verifier Derivation */\nfunction crypto_CreatePasswordVerifier_Method1(Password/*:string*/) {\n\tvar Verifier = 0x0000, PasswordArray;\n\tvar PasswordDecoded = _JS2ANSI(Password);\n\tvar len = PasswordDecoded.length + 1, i, PasswordByte;\n\tvar Intermediate1, Intermediate2, Intermediate3;\n\tPasswordArray = new_raw_buf(len);\n\tPasswordArray[0] = PasswordDecoded.length;\n\tfor(i = 1; i != len; ++i) PasswordArray[i] = PasswordDecoded[i-1];\n\tfor(i = len-1; i >= 0; --i) {\n\t\tPasswordByte = PasswordArray[i];\n\t\tIntermediate1 = ((Verifier & 0x4000) === 0x0000) ? 0 : 1;\n\t\tIntermediate2 = (Verifier << 1) & 0x7FFF;\n\t\tIntermediate3 = Intermediate1 | Intermediate2;\n\t\tVerifier = Intermediate3 ^ PasswordByte;\n\t}\n\treturn Verifier ^ 0xCE4B;\n}\n\n/* [MS-OFFCRYPTO] 2.3.7.2 Binary Document XOR Array Initialization */\nvar crypto_CreateXorArray_Method1 = /*#__PURE__*/(function() {\n\tvar PadArray = [0xBB, 0xFF, 0xFF, 0xBA, 0xFF, 0xFF, 0xB9, 0x80, 0x00, 0xBE, 0x0F, 0x00, 0xBF, 0x0F, 0x00];\n\tvar InitialCode = [0xE1F0, 0x1D0F, 0xCC9C, 0x84C0, 0x110C, 0x0E10, 0xF1CE, 0x313E, 0x1872, 0xE139, 0xD40F, 0x84F9, 0x280C, 0xA96A, 0x4EC3];\n\tvar XorMatrix = [0xAEFC, 0x4DD9, 0x9BB2, 0x2745, 0x4E8A, 0x9D14, 0x2A09, 0x7B61, 0xF6C2, 0xFDA5, 0xEB6B, 0xC6F7, 0x9DCF, 0x2BBF, 0x4563, 0x8AC6, 0x05AD, 0x0B5A, 0x16B4, 0x2D68, 0x5AD0, 0x0375, 0x06EA, 0x0DD4, 0x1BA8, 0x3750, 0x6EA0, 0xDD40, 0xD849, 0xA0B3, 0x5147, 0xA28E, 0x553D, 0xAA7A, 0x44D5, 0x6F45, 0xDE8A, 0xAD35, 0x4A4B, 0x9496, 0x390D, 0x721A, 0xEB23, 0xC667, 0x9CEF, 0x29FF, 0x53FE, 0xA7FC, 0x5FD9, 0x47D3, 0x8FA6, 0x0F6D, 0x1EDA, 0x3DB4, 0x7B68, 0xF6D0, 0xB861, 0x60E3, 0xC1C6, 0x93AD, 0x377B, 0x6EF6, 0xDDEC, 0x45A0, 0x8B40, 0x06A1, 0x0D42, 0x1A84, 0x3508, 0x6A10, 0xAA51, 0x4483, 0x8906, 0x022D, 0x045A, 0x08B4, 0x1168, 0x76B4, 0xED68, 0xCAF1, 0x85C3, 0x1BA7, 0x374E, 0x6E9C, 0x3730, 0x6E60, 0xDCC0, 0xA9A1, 0x4363, 0x86C6, 0x1DAD, 0x3331, 0x6662, 0xCCC4, 0x89A9, 0x0373, 0x06E6, 0x0DCC, 0x1021, 0x2042, 0x4084, 0x8108, 0x1231, 0x2462, 0x48C4];\n\tvar Ror = function(Byte) { return ((Byte/2) | (Byte*128)) & 0xFF; };\n\tvar XorRor = function(byte1, byte2) { return Ror(byte1 ^ byte2); };\n\tvar CreateXorKey_Method1 = function(Password) {\n\t\tvar XorKey = InitialCode[Password.length - 1];\n\t\tvar CurrentElement = 0x68;\n\t\tfor(var i = Password.length-1; i >= 0; --i) {\n\t\t\tvar Char = Password[i];\n\t\t\tfor(var j = 0; j != 7; ++j) {\n\t\t\t\tif(Char & 0x40) XorKey ^= XorMatrix[CurrentElement];\n\t\t\t\tChar *= 2; --CurrentElement;\n\t\t\t}\n\t\t}\n\t\treturn XorKey;\n\t};\n\treturn function(password/*:string*/) {\n\t\tvar Password = _JS2ANSI(password);\n\t\tvar XorKey = CreateXorKey_Method1(Password);\n\t\tvar Index = Password.length;\n\t\tvar ObfuscationArray = new_raw_buf(16);\n\t\tfor(var i = 0; i != 16; ++i) ObfuscationArray[i] = 0x00;\n\t\tvar Temp, PasswordLastChar, PadIndex;\n\t\tif((Index & 1) === 1) {\n\t\t\tTemp = XorKey >> 8;\n\t\t\tObfuscationArray[Index] = XorRor(PadArray[0], Temp);\n\t\t\t--Index;\n\t\t\tTemp = XorKey & 0xFF;\n\t\t\tPasswordLastChar = Password[Password.length - 1];\n\t\t\tObfuscationArray[Index] = XorRor(PasswordLastChar, Temp);\n\t\t}\n\t\twhile(Index > 0) {\n\t\t\t--Index;\n\t\t\tTemp = XorKey >> 8;\n\t\t\tObfuscationArray[Index] = XorRor(Password[Index], Temp);\n\t\t\t--Index;\n\t\t\tTemp = XorKey & 0xFF;\n\t\t\tObfuscationArray[Index] = XorRor(Password[Index], Temp);\n\t\t}\n\t\tIndex = 15;\n\t\tPadIndex = 15 - Password.length;\n\t\twhile(PadIndex > 0) {\n\t\t\tTemp = XorKey >> 8;\n\t\t\tObfuscationArray[Index] = XorRor(PadArray[PadIndex], Temp);\n\t\t\t--Index;\n\t\t\t--PadIndex;\n\t\t\tTemp = XorKey & 0xFF;\n\t\t\tObfuscationArray[Index] = XorRor(Password[Index], Temp);\n\t\t\t--Index;\n\t\t\t--PadIndex;\n\t\t}\n\t\treturn ObfuscationArray;\n\t};\n})();\n\n/* [MS-OFFCRYPTO] 2.3.7.3 Binary Document XOR Data Transformation Method 1 */\nvar crypto_DecryptData_Method1 = function(password/*:string*/, Data, XorArrayIndex, XorArray, O) {\n\t/* If XorArray is set, use it; if O is not set, make changes in-place */\n\tif(!O) O = Data;\n\tif(!XorArray) XorArray = crypto_CreateXorArray_Method1(password);\n\tvar Index, Value;\n\tfor(Index = 0; Index != Data.length; ++Index) {\n\t\tValue = Data[Index];\n\t\tValue ^= XorArray[XorArrayIndex];\n\t\tValue = ((Value>>5) | (Value<<3)) & 0xFF;\n\t\tO[Index] = Value;\n\t\t++XorArrayIndex;\n\t}\n\treturn [O, XorArrayIndex, XorArray];\n};\n\nvar crypto_MakeXorDecryptor = function(password/*:string*/) {\n\tvar XorArrayIndex = 0, XorArray = crypto_CreateXorArray_Method1(password);\n\treturn function(Data) {\n\t\tvar O = crypto_DecryptData_Method1(\"\", Data, XorArrayIndex, XorArray);\n\t\tXorArrayIndex = O[1];\n\t\treturn O[0];\n\t};\n};\n\n/* 2.5.343 */\nfunction parse_XORObfuscation(blob, length, opts, out) {\n\tvar o = ({ key: parseuint16(blob), verificationBytes: parseuint16(blob) }/*:any*/);\n\tif(opts.password) o.verifier = crypto_CreatePasswordVerifier_Method1(opts.password);\n\tout.valid = o.verificationBytes === o.verifier;\n\tif(out.valid) out.insitu = crypto_MakeXorDecryptor(opts.password);\n\treturn o;\n}\n\n/* 2.4.117 */\nfunction parse_FilePassHeader(blob, length/*:number*/, oo) {\n\tvar o = oo || {}; o.Info = blob.read_shift(2); blob.l -= 2;\n\tif(o.Info === 1) o.Data = parse_RC4Header(blob, length);\n\telse o.Data = parse_RC4CryptoHeader(blob, length);\n\treturn o;\n}\nfunction parse_FilePass(blob, length/*:number*/, opts) {\n\tvar o = ({ Type: opts.biff >= 8 ? blob.read_shift(2) : 0 }/*:any*/); /* wEncryptionType */\n\tif(o.Type) parse_FilePassHeader(blob, length-2, o);\n\telse parse_XORObfuscation(blob, opts.biff >= 8 ? length : length - 2, opts, o);\n\treturn o;\n}\n\n\nfunction rtf_to_sheet(d, opts) {\n  switch (opts.type) {\n    case \"base64\":\n      return rtf_to_sheet_str(Base64_decode(d), opts);\n    case \"binary\":\n      return rtf_to_sheet_str(d, opts);\n    case \"buffer\":\n      return rtf_to_sheet_str(has_buf && Buffer.isBuffer(d) ? d.toString(\"binary\") : a2s(d), opts);\n    case \"array\":\n      return rtf_to_sheet_str(cc2str(d), opts);\n  }\n  throw new Error(\"Unrecognized type \" + opts.type);\n}\nfunction rtf_to_sheet_str(str, opts) {\n  var o = opts || {};\n  var ws = {};\n  var dense = o.dense;\n  if (dense)\n    ws[\"!data\"] = [];\n  var rows = str_match_ng(str, \"\\\\trowd\", \"\\\\row\");\n  if (!rows)\n    throw new Error(\"RTF missing table\");\n  var range = { s: { c: 0, r: 0 }, e: { c: 0, r: rows.length - 1 } };\n  var row = [];\n  rows.forEach(function(rowtf, R) {\n    if (dense)\n      row = ws[\"!data\"][R] = [];\n    var rtfre = /\\\\[\\w\\-]+\\b/g;\n    var last_index = 0;\n    var res;\n    var C = -1;\n    var payload = [];\n    while ((res = rtfre.exec(rowtf)) != null) {\n      var data = rowtf.slice(last_index, rtfre.lastIndex - res[0].length);\n      if (data.charCodeAt(0) == 32)\n        data = data.slice(1);\n      if (data.length)\n        payload.push(data);\n      switch (res[0]) {\n        case \"\\\\cell\":\n          ++C;\n          if (payload.length) {\n            var cell = { v: payload.join(\"\"), t: \"s\" };\n            if (cell.v == \"TRUE\" || cell.v == \"FALSE\") {\n              cell.v = cell.v == \"TRUE\";\n              cell.t = \"b\";\n            } else if (!isNaN(fuzzynum(cell.v))) {\n              cell.t = \"n\";\n              if (o.cellText !== false)\n                cell.w = cell.v;\n              cell.v = fuzzynum(cell.v);\n            } else if (RBErr[cell.v] != null) {\n              cell.t = \"e\";\n              cell.w = cell.v;\n              cell.v = RBErr[cell.v];\n            }\n            if (dense)\n              row[C] = cell;\n            else\n              ws[encode_cell({ r: R, c: C })] = cell;\n          }\n          payload = [];\n          break;\n        case \"\\\\par\":\n          payload.push(\"\\n\");\n          break;\n      }\n      last_index = rtfre.lastIndex;\n    }\n    if (C > range.e.c)\n      range.e.c = C;\n  });\n  ws[\"!ref\"] = encode_range(range);\n  return ws;\n}\nfunction rtf_to_workbook(d, opts) {\n  var wb = sheet_to_workbook(rtf_to_sheet(d, opts), opts);\n  wb.bookType = \"rtf\";\n  return wb;\n}\nfunction sheet_to_rtf(ws, opts) {\n  var o = [\"{\\\\rtf1\\\\ansi\"];\n  if (!ws[\"!ref\"])\n    return o[0] + \"}\";\n  var r = safe_decode_range(ws[\"!ref\"]), cell;\n  var dense = ws[\"!data\"] != null, row = [];\n  for (var R = r.s.r; R <= r.e.r; ++R) {\n    o.push(\"\\\\trowd\\\\trautofit1\");\n    for (var C = r.s.c; C <= r.e.c; ++C)\n      o.push(\"\\\\cellx\" + (C + 1));\n    o.push(\"\\\\pard\\\\intbl\");\n    if (dense)\n      row = ws[\"!data\"][R] || [];\n    for (C = r.s.c; C <= r.e.c; ++C) {\n      var coord = encode_cell({ r: R, c: C });\n      cell = dense ? row[C] : ws[coord];\n      if (!cell || cell.v == null && (!cell.f || cell.F)) {\n        o.push(\" \\\\cell\");\n        continue;\n      }\n      o.push(\" \" + (cell.w || (format_cell(cell), cell.w) || \"\").replace(/[\\r\\n]/g, \"\\\\par \"));\n      o.push(\"\\\\cell\");\n    }\n    o.push(\"\\\\pard\\\\intbl\\\\row\");\n  }\n  return o.join(\"\") + \"}\";\n}\nfunction hex2RGB(h) {\n\tvar o = h.slice(h[0]===\"#\"?1:0).slice(0,6);\n\treturn [parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16)];\n}\nfunction rgb2Hex(rgb) {\n\tfor(var i=0,o=1; i!=3; ++i) o = o*256 + (rgb[i]>255?255:rgb[i]<0?0:rgb[i]);\n\treturn o.toString(16).toUpperCase().slice(1);\n}\n\nfunction rgb2HSL(rgb) {\n\tvar R = rgb[0]/255, G = rgb[1]/255, B=rgb[2]/255;\n\tvar M = Math.max(R, G, B), m = Math.min(R, G, B), C = M - m;\n\tif(C === 0) return [0, 0, R];\n\n\tvar H6 = 0, S = 0, L2 = (M + m);\n\tS = C / (L2 > 1 ? 2 - L2 : L2);\n\tswitch(M){\n\t\tcase R: H6 = ((G - B) / C + 6)%6; break;\n\t\tcase G: H6 = ((B - R) / C + 2); break;\n\t\tcase B: H6 = ((R - G) / C + 4); break;\n\t}\n\treturn [H6 / 6, S, L2 / 2];\n}\n\nfunction hsl2RGB(hsl){\n\tvar H = hsl[0], S = hsl[1], L = hsl[2];\n\tvar C = S * 2 * (L < 0.5 ? L : 1 - L), m = L - C/2;\n\tvar rgb = [m,m,m], h6 = 6*H;\n\n\tvar X;\n\tif(S !== 0) switch(h6|0) {\n\t\tcase 0: case 6: X = C * h6; rgb[0] += C; rgb[1] += X; break;\n\t\tcase 1: X = C * (2 - h6);   rgb[0] += X; rgb[1] += C; break;\n\t\tcase 2: X = C * (h6 - 2);   rgb[1] += C; rgb[2] += X; break;\n\t\tcase 3: X = C * (4 - h6);   rgb[1] += X; rgb[2] += C; break;\n\t\tcase 4: X = C * (h6 - 4);   rgb[2] += C; rgb[0] += X; break;\n\t\tcase 5: X = C * (6 - h6);   rgb[2] += X; rgb[0] += C; break;\n\t}\n\tfor(var i = 0; i != 3; ++i) rgb[i] = Math.round(rgb[i]*255);\n\treturn rgb;\n}\n\n/* 18.8.3 bgColor tint algorithm */\nfunction rgb_tint(hex, tint) {\n\tif(tint === 0) return hex;\n\tvar hsl = rgb2HSL(hex2RGB(hex));\n\tif (tint < 0) hsl[2] = hsl[2] * (1 + tint);\n\telse hsl[2] = 1 - (1 - hsl[2]) * (1 - tint);\n\treturn rgb2Hex(hsl2RGB(hsl));\n}\n\n/* 18.3.1.13 width calculations */\n/* [MS-OI29500] 2.1.595 Column Width & Formatting */\nvar DEF_MDW = 6, MAX_MDW = 15, MIN_MDW = 1, MDW = DEF_MDW;\nfunction width2px(width) { return Math.floor(( width + (Math.round(128/MDW))/256 )* MDW ); }\nfunction px2char(px) { return (Math.floor((px - 5)/MDW * 100 + 0.5))/100; }\nfunction char2width(chr) { return (Math.round((chr * MDW + 5)/MDW*256))/256; }\n//function px2char_(px) { return (((px - 5)/MDW * 100 + 0.5))/100; }\n//function char2width_(chr) { return (((chr * MDW + 5)/MDW*256))/256; }\nfunction cycle_width(collw) { return char2width(px2char(width2px(collw))); }\n/* XLSX/XLSB/XLS specify width in units of MDW */\nfunction find_mdw_colw(collw) {\n\tvar delta = Math.abs(collw - cycle_width(collw)), _MDW = MDW;\n\tif(delta > 0.005) for(MDW=MIN_MDW; MDW<MAX_MDW; ++MDW) if(Math.abs(collw - cycle_width(collw)) <= delta) { delta = Math.abs(collw - cycle_width(collw)); _MDW = MDW; }\n\tMDW = _MDW;\n}\n/* XLML specifies width in terms of pixels */\n/*function find_mdw_wpx(wpx) {\n\tvar delta = Infinity, guess = 0, _MDW = MIN_MDW;\n\tfor(MDW=MIN_MDW; MDW<MAX_MDW; ++MDW) {\n\t\tguess = char2width_(px2char_(wpx))*256;\n\t\tguess = (guess) % 1;\n\t\tif(guess > 0.5) guess--;\n\t\tif(Math.abs(guess) < delta) { delta = Math.abs(guess); _MDW = MDW; }\n\t}\n\tMDW = _MDW;\n}*/\n\nfunction process_col(coll/*:ColInfo*/) {\n\tif(coll.width) {\n\t\tcoll.wpx = width2px(coll.width);\n\t\tcoll.wch = px2char(coll.wpx);\n\t\tcoll.MDW = MDW;\n\t} else if(coll.wpx) {\n\t\tcoll.wch = px2char(coll.wpx);\n\t\tcoll.width = char2width(coll.wch);\n\t\tcoll.MDW = MDW;\n\t} else if(typeof coll.wch == 'number') {\n\t\tcoll.width = char2width(coll.wch);\n\t\tcoll.wpx = width2px(coll.width);\n\t\tcoll.MDW = MDW;\n\t}\n\tif(coll.customWidth) delete coll.customWidth;\n}\n\nvar DEF_PPI = 96, PPI = DEF_PPI;\nfunction px2pt(px) { return px * 96 / PPI; }\nfunction pt2px(pt) { return pt * PPI / 96; }\n\n/* [MS-EXSPXML3] 2.4.54 ST_enmPattern */\nvar XLMLPatternTypeMap = {\n\t\"None\": \"none\",\n\t\"Solid\": \"solid\",\n\t\"Gray50\": \"mediumGray\",\n\t\"Gray75\": \"darkGray\",\n\t\"Gray25\": \"lightGray\",\n\t\"HorzStripe\": \"darkHorizontal\",\n\t\"VertStripe\": \"darkVertical\",\n\t\"ReverseDiagStripe\": \"darkDown\",\n\t\"DiagStripe\": \"darkUp\",\n\t\"DiagCross\": \"darkGrid\",\n\t\"ThickDiagCross\": \"darkTrellis\",\n\t\"ThinHorzStripe\": \"lightHorizontal\",\n\t\"ThinVertStripe\": \"lightVertical\",\n\t\"ThinReverseDiagStripe\": \"lightDown\",\n\t\"ThinHorzCross\": \"lightGrid\"\n};\n\n/* 18.8.5 borders CT_Borders */\nfunction parse_borders(t, styles, themes, opts) {\n\tstyles.Borders = [];\n\tvar border = {};\n\tvar pass = false;\n\t(t.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<borders': case '<borders>': case '</borders>': break;\n\n\t\t\t/* 18.8.4 border CT_Border */\n\t\t\tcase '<border': case '<border>': case '<border/>':\n\t\t\t\tborder = /*::(*/{}/*:: :any)*/;\n\t\t\t\tif(y.diagonalUp) border.diagonalUp = parsexmlbool(y.diagonalUp);\n\t\t\t\tif(y.diagonalDown) border.diagonalDown = parsexmlbool(y.diagonalDown);\n\t\t\t\tstyles.Borders.push(border);\n\t\t\t\tbreak;\n\t\t\tcase '</border>': break;\n\n\t\t\t/* note: not in spec, appears to be CT_BorderPr */\n\t\t\tcase '<left/>': break;\n\t\t\tcase '<left': case '<left>': break;\n\t\t\tcase '</left>': break;\n\n\t\t\t/* note: not in spec, appears to be CT_BorderPr */\n\t\t\tcase '<right/>': break;\n\t\t\tcase '<right': case '<right>': break;\n\t\t\tcase '</right>': break;\n\n\t\t\t/* 18.8.43 top CT_BorderPr */\n\t\t\tcase '<top/>': break;\n\t\t\tcase '<top': case '<top>': break;\n\t\t\tcase '</top>': break;\n\n\t\t\t/* 18.8.6 bottom CT_BorderPr */\n\t\t\tcase '<bottom/>': break;\n\t\t\tcase '<bottom': case '<bottom>': break;\n\t\t\tcase '</bottom>': break;\n\n\t\t\t/* 18.8.13 diagonal CT_BorderPr */\n\t\t\tcase '<diagonal': case '<diagonal>': case '<diagonal/>': break;\n\t\t\tcase '</diagonal>': break;\n\n\t\t\t/* 18.8.25 horizontal CT_BorderPr */\n\t\t\tcase '<horizontal': case '<horizontal>': case '<horizontal/>': break;\n\t\t\tcase '</horizontal>': break;\n\n\t\t\t/* 18.8.44 vertical CT_BorderPr */\n\t\t\tcase '<vertical': case '<vertical>': case '<vertical/>': break;\n\t\t\tcase '</vertical>': break;\n\n\t\t\t/* 18.8.37 start CT_BorderPr */\n\t\t\tcase '<start': case '<start>': case '<start/>': break;\n\t\t\tcase '</start>': break;\n\n\t\t\t/* 18.8.16 end CT_BorderPr */\n\t\t\tcase '<end': case '<end>': case '<end/>': break;\n\t\t\tcase '</end>': break;\n\n\t\t\t/* 18.8.? color CT_Color */\n\t\t\tcase '<color': case '<color>':\n\t\t\t\tbreak;\n\t\t\tcase '<color/>': case '</color>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in borders');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/* 18.8.21 fills CT_Fills */\nfunction parse_fills(t, styles, themes, opts) {\n\tstyles.Fills = [];\n\tvar fill = {};\n\tvar pass = false;\n\t(t.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<fills': case '<fills>': case '</fills>': break;\n\n\t\t\t/* 18.8.20 fill CT_Fill */\n\t\t\tcase '<fill>': case '<fill': case '<fill/>':\n\t\t\t\tfill = {}; styles.Fills.push(fill); break;\n\t\t\tcase '</fill>': break;\n\n\t\t\t/* 18.8.24 gradientFill CT_GradientFill */\n\t\t\tcase '<gradientFill>': break;\n\t\t\tcase '<gradientFill':\n\t\t\tcase '</gradientFill>': styles.Fills.push(fill); fill = {}; break;\n\n\t\t\t/* 18.8.32 patternFill CT_PatternFill */\n\t\t\tcase '<patternFill': case '<patternFill>':\n\t\t\t\tif(y.patternType) fill.patternType = y.patternType;\n\t\t\t\tbreak;\n\t\t\tcase '<patternFill/>': case '</patternFill>': break;\n\n\t\t\t/* 18.8.3 bgColor CT_Color */\n\t\t\tcase '<bgColor':\n\t\t\t\tif(!fill.bgColor) fill.bgColor = {};\n\t\t\t\tif(y.indexed) fill.bgColor.indexed = parseInt(y.indexed, 10);\n\t\t\t\tif(y.theme) fill.bgColor.theme = parseInt(y.theme, 10);\n\t\t\t\tif(y.tint) fill.bgColor.tint = parseFloat(y.tint);\n\t\t\t\t/* Excel uses ARGB strings */\n\t\t\t\tif(y.rgb) fill.bgColor.rgb = y.rgb.slice(-6);\n\t\t\t\tbreak;\n\t\t\tcase '<bgColor/>': case '</bgColor>': break;\n\n\t\t\t/* 18.8.19 fgColor CT_Color */\n\t\t\tcase '<fgColor':\n\t\t\t\tif(!fill.fgColor) fill.fgColor = {};\n\t\t\t\tif(y.theme) fill.fgColor.theme = parseInt(y.theme, 10);\n\t\t\t\tif(y.tint) fill.fgColor.tint = parseFloat(y.tint);\n\t\t\t\t/* Excel uses ARGB strings */\n\t\t\t\tif(y.rgb != null) fill.fgColor.rgb = y.rgb.slice(-6);\n\t\t\t\tbreak;\n\t\t\tcase '<fgColor/>': case '</fgColor>': break;\n\n\t\t\t/* 18.8.38 stop CT_GradientStop */\n\t\t\tcase '<stop': case '<stop/>': break;\n\t\t\tcase '</stop>': break;\n\n\t\t\t/* 18.8.? color CT_Color */\n\t\t\tcase '<color': case '<color/>': break;\n\t\t\tcase '</color>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in fills');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/* 18.8.23 fonts CT_Fonts */\nfunction parse_fonts(t, styles, themes, opts) {\n\tstyles.Fonts = [];\n\tvar font = {};\n\tvar pass = false;\n\t(t.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<fonts': case '<fonts>': case '</fonts>': break;\n\n\t\t\t/* 18.8.22 font CT_Font */\n\t\t\tcase '<font': case '<font>': break;\n\t\t\tcase '</font>': case '<font/>':\n\t\t\t\tstyles.Fonts.push(font);\n\t\t\t\tfont = {};\n\t\t\t\tbreak;\n\n\t\t\t/* 18.8.29 name CT_FontName */\n\t\t\tcase '<name': if(y.val) font.name = utf8read(y.val); break;\n\t\t\tcase '<name/>': case '</name>': break;\n\n\t\t\t/* 18.8.2  b CT_BooleanProperty */\n\t\t\tcase '<b': font.bold = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<b/>': font.bold = 1; break;\n\t\t\tcase '</b>': case '</b': break;\n\n\t\t\t/* 18.8.26 i CT_BooleanProperty */\n\t\t\tcase '<i': font.italic = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<i/>': font.italic = 1; break;\n\t\t\tcase '</i>': case '</i': break;\n\n\t\t\t/* 18.4.13 u CT_UnderlineProperty */\n\t\t\tcase '<u':\n\t\t\t\tswitch(y.val) {\n\t\t\t\t\tcase \"none\": font.underline = 0x00; break;\n\t\t\t\t\tcase \"single\": font.underline = 0x01; break;\n\t\t\t\t\tcase \"double\": font.underline = 0x02; break;\n\t\t\t\t\tcase \"singleAccounting\": font.underline = 0x21; break;\n\t\t\t\t\tcase \"doubleAccounting\": font.underline = 0x22; break;\n\t\t\t\t} break;\n\t\t\tcase '<u/>': font.underline = 1; break;\n\t\t\tcase '</u>': case '</u': break;\n\n\t\t\t/* 18.4.10 strike CT_BooleanProperty */\n\t\t\tcase '<strike': font.strike = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<strike/>': font.strike = 1; break;\n\t\t\tcase '</strike>': case '</strike': break;\n\n\t\t\t/* 18.4.2  outline CT_BooleanProperty */\n\t\t\tcase '<outline': font.outline = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<outline/>': font.outline = 1; break;\n\t\t\tcase '</outline>': case '</outline': break;\n\n\t\t\t/* 18.8.36 shadow CT_BooleanProperty */\n\t\t\tcase '<shadow': font.shadow = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<shadow/>': font.shadow = 1; break;\n\t\t\tcase '</shadow>': case '</shadow': break;\n\n\t\t\t/* 18.8.12 condense CT_BooleanProperty */\n\t\t\tcase '<condense': font.condense = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<condense/>': font.condense = 1; break;\n\t\t\tcase '</condense>': case '</condense': break;\n\n\t\t\t/* 18.8.17 extend CT_BooleanProperty */\n\t\t\tcase '<extend': font.extend = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<extend/>': font.extend = 1; break;\n\t\t\tcase '</extend>': case '</extend': break;\n\n\t\t\t/* 18.4.11 sz CT_FontSize */\n\t\t\tcase '<sz': if(y.val) font.sz = +y.val; break;\n\t\t\tcase '<sz/>': case '</sz>': case '</sz': break;\n\n\t\t\t/* 18.4.14 vertAlign CT_VerticalAlignFontProperty */\n\t\t\tcase '<vertAlign': if(y.val) font.vertAlign = y.val; break;\n\t\t\tcase '<vertAlign/>': case '</vertAlign>': case '</vertAlign': break;\n\n\t\t\t/* 18.8.18 family CT_FontFamily */\n\t\t\tcase '<family': if(y.val) font.family = parseInt(y.val,10); break;\n\t\t\tcase '<family/>': case '</family>': case '</family': break;\n\n\t\t\t/* 18.8.35 scheme CT_FontScheme */\n\t\t\tcase '<scheme': if(y.val) font.scheme = y.val; break;\n\t\t\tcase '<scheme/>': case '</scheme>': case '</scheme': break;\n\n\t\t\t/* 18.4.1 charset CT_IntProperty */\n\t\t\tcase '<charset':\n\t\t\t\tif(y.val == '1') break;\n\t\t\t\ty.codepage = CS2CP[parseInt(y.val, 10)];\n\t\t\t\tbreak;\n\t\t\tcase '<charset/>': case '</charset>': case '</charset': break;\n\n\t\t\t/* 18.?.? color CT_Color */\n\t\t\tcase '<color':\n\t\t\t\tif(!font.color) font.color = {};\n\t\t\t\tif(y.auto) font.color.auto = parsexmlbool(y.auto);\n\n\t\t\t\tif(y.rgb) font.color.rgb = y.rgb.slice(-6);\n\t\t\t\telse if(y.indexed) {\n\t\t\t\t\tfont.color.index = parseInt(y.indexed, 10);\n\t\t\t\t\tvar icv = XLSIcv[font.color.index];\n\t\t\t\t\tif(font.color.index == 81) icv = XLSIcv[1];\n\t\t\t\t\tif(!icv) icv = XLSIcv[1]; //throw new Error(x); // note: 206 is valid\n\t\t\t\t\tfont.color.rgb = icv[0].toString(16) + icv[1].toString(16) + icv[2].toString(16);\n\t\t\t\t} else if(y.theme) {\n\t\t\t\t\tfont.color.theme = parseInt(y.theme, 10);\n\t\t\t\t\tif(y.tint) font.color.tint = parseFloat(y.tint);\n\t\t\t\t\tif(y.theme && themes.themeElements && themes.themeElements.clrScheme) {\n\t\t\t\t\t\tfont.color.rgb = rgb_tint(themes.themeElements.clrScheme[font.color.theme].rgb, font.color.tint || 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase '<color/>': case '</color>': case '</color': break;\n\n\t\t\t/* note: sometimes mc:AlternateContent appears bare */\n\t\t\tcase '<AlternateContent': pass = true; break;\n\t\t\tcase '</AlternateContent>': case '</AlternateContent': pass = false; break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in fonts');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/* 18.8.31 numFmts CT_NumFmts */\nfunction parse_numFmts(t, styles, opts) {\n\tstyles.NumberFmt = [];\n\tvar k/*Array<number>*/ = (keys(table_fmt)/*:any*/);\n\tfor(var i=0; i < k.length; ++i) styles.NumberFmt[k[i]] = table_fmt[k[i]];\n\tvar m = t.match(tagregex);\n\tif(!m) return;\n\tfor(i=0; i < m.length; ++i) {\n\t\tvar y = parsexmltag(m[i]);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<numFmts': case '</numFmts>': case '<numFmts/>': case '<numFmts>': break;\n\t\t\tcase '<numFmt': {\n\t\t\t\tvar f=unescapexml(utf8read(y.formatCode)), j=parseInt(y.numFmtId,10);\n\t\t\t\tstyles.NumberFmt[j] = f;\n\t\t\t\tif(j>0) {\n\t\t\t\t\tif(j > 0x188) {\n\t\t\t\t\t\tfor(j = 0x188; j > 0x3c; --j) if(styles.NumberFmt[j] == null) break;\n\t\t\t\t\t\tstyles.NumberFmt[j] = f;\n\t\t\t\t\t}\n\t\t\t\t\tSSF__load(f,j);\n\t\t\t\t}\n\t\t\t} break;\n\t\t\tcase '</numFmt>': break;\n\t\t\tdefault: if(opts.WTF) throw new Error('unrecognized ' + y[0] + ' in numFmts');\n\t\t}\n\t}\n}\n\nfunction write_numFmts(NF/*:{[n:number|string]:string}*//*::, opts*/) {\n\tvar o = [\"<numFmts>\"];\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) o[o.length] = (writextag('numFmt',null,{numFmtId:i,formatCode:escapexml(NF[i])}));\n\t});\n\tif(o.length === 1) return \"\";\n\to[o.length] = (\"</numFmts>\");\n\to[0] = writextag('numFmts', null, { count:o.length-2 }).replace(\"/>\", \">\");\n\treturn o.join(\"\");\n}\n\n/* 18.8.10 cellXfs CT_CellXfs */\nvar cellXF_uint = [ \"numFmtId\", \"fillId\", \"fontId\", \"borderId\", \"xfId\" ];\nvar cellXF_bool = [ \"applyAlignment\", \"applyBorder\", \"applyFill\", \"applyFont\", \"applyNumberFormat\", \"applyProtection\", \"pivotButton\", \"quotePrefix\" ];\nfunction parse_cellXfs(t, styles, opts) {\n\tstyles.CellXf = [];\n\tvar xf;\n\tvar pass = false;\n\t(t.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x), i = 0;\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<cellXfs': case '<cellXfs>': case '<cellXfs/>': case '</cellXfs>': break;\n\n\t\t\t/* 18.8.45 xf CT_Xf */\n\t\t\tcase '<xf': case '<xf/>': case '<xf>':\n\t\t\t\txf = y;\n\t\t\t\tdelete xf[0];\n\t\t\t\tfor(i = 0; i < cellXF_uint.length; ++i) if(xf[cellXF_uint[i]])\n\t\t\t\t\txf[cellXF_uint[i]] = parseInt(xf[cellXF_uint[i]], 10);\n\t\t\t\tfor(i = 0; i < cellXF_bool.length; ++i) if(xf[cellXF_bool[i]])\n\t\t\t\t\txf[cellXF_bool[i]] = parsexmlbool(xf[cellXF_bool[i]]);\n\t\t\t\tif(styles.NumberFmt && xf.numFmtId > 0x188) {\n\t\t\t\t\tfor(i = 0x188; i > 0x3c; --i) if(styles.NumberFmt[xf.numFmtId] == styles.NumberFmt[i]) { xf.numFmtId = i; break; }\n\t\t\t\t}\n\t\t\t\tstyles.CellXf.push(xf); break;\n\t\t\tcase '</xf>': break;\n\n\t\t\t/* 18.8.1 alignment CT_CellAlignment */\n\t\t\tcase '<alignment': case '<alignment/>': case '<alignment>':\n\t\t\t\tvar alignment = {};\n\t\t\t\tif(y.vertical) alignment.vertical = y.vertical;\n\t\t\t\tif(y.horizontal) alignment.horizontal = y.horizontal;\n\t\t\t\tif(y.textRotation != null) alignment.textRotation = y.textRotation;\n\t\t\t\tif(y.indent) alignment.indent = y.indent;\n\t\t\t\tif(y.wrapText) alignment.wrapText = parsexmlbool(y.wrapText);\n\t\t\t\txf.alignment = alignment;\n\t\t\t\tbreak;\n\t\t\tcase '</alignment>': break;\n\n\t\t\t/* 18.8.33 protection CT_CellProtection */\n\t\t\tcase '<protection': case '<protection>':\n\t\t\t\tbreak;\n\t\t\tcase '</protection>': case '<protection/>': break;\n\n\t\t\t/* note: sometimes mc:AlternateContent appears bare */\n\t\t\tcase '<AlternateContent': case '<AlternateContent>': pass = true; break;\n\t\t\tcase '</AlternateContent>': pass = false; break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in cellXfs');\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction write_cellXfs(cellXfs)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\to[o.length] = (writextag('cellXfs',null));\n\tcellXfs.forEach(function(c) {\n\t\to[o.length] = (writextag('xf', null, c));\n\t});\n\to[o.length] = (\"</cellXfs>\");\n\tif(o.length === 2) return \"\";\n\to[0] = writextag('cellXfs',null, {count:o.length-2}).replace(\"/>\",\">\");\n\treturn o.join(\"\");\n}\n\n/* 18.8 Styles CT_Stylesheet*/\nvar parse_sty_xml= /*#__PURE__*/(function make_pstyx() {\n\nreturn function parse_sty_xml(data, themes, opts) {\n\tvar styles = {};\n\tif(!data) return styles;\n\tdata = remove_doctype(str_remove_ng(data, \"<!--\", \"-->\"));\n\t/* 18.8.39 styleSheet CT_Stylesheet */\n\tvar t;\n\n\t/* 18.8.31 numFmts CT_NumFmts ? */\n\tif((t=str_match_xml_ns(data, \"numFmts\"))) parse_numFmts(t[0], styles, opts);\n\n\t/* 18.8.23 fonts CT_Fonts ? */\n\tif((t=str_match_xml_ns(data, \"fonts\"))) parse_fonts(t[0], styles, themes, opts);\n\n\t/* 18.8.21 fills CT_Fills ? */\n\tif((t=str_match_xml_ns(data, \"fills\"))) parse_fills(t[0], styles, themes, opts);\n\n\t/* 18.8.5  borders CT_Borders ? */\n\tif((t=str_match_xml_ns(data, \"borders\"))) parse_borders(t[0], styles, themes, opts);\n\n\t/* 18.8.9  cellStyleXfs CT_CellStyleXfs ? */\n\t/* 18.8.8  cellStyles CT_CellStyles ? */\n\n\t/* 18.8.10 cellXfs CT_CellXfs ? */\n\tif((t=str_match_xml_ns(data, \"cellXfs\"))) parse_cellXfs(t[0], styles, opts);\n\n\t/* 18.8.15 dxfs CT_Dxfs ? */\n\t/* 18.8.42 tableStyles CT_TableStyles ? */\n\t/* 18.8.11 colors CT_Colors ? */\n\t/* 18.2.10 extLst CT_ExtensionList ? */\n\n\treturn styles;\n};\n})();\n\nfunction write_sty_xml(wb/*:Workbook*/, opts)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('styleSheet', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t'xmlns:vt': XMLNS.vt\n\t})], w;\n\tif(wb.SSF && (w = write_numFmts(wb.SSF)) != null) o[o.length] = w;\n\to[o.length] = ('<fonts count=\"1\"><font><sz val=\"12\"/><color theme=\"1\"/><name val=\"Calibri\"/><family val=\"2\"/><scheme val=\"minor\"/></font></fonts>');\n\to[o.length] = ('<fills count=\"2\"><fill><patternFill patternType=\"none\"/></fill><fill><patternFill patternType=\"gray125\"/></fill></fills>');\n\to[o.length] = ('<borders count=\"1\"><border><left/><right/><top/><bottom/><diagonal/></border></borders>');\n\to[o.length] = ('<cellStyleXfs count=\"1\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\"/></cellStyleXfs>');\n\tif((w = write_cellXfs(opts.cellXfs))) o[o.length] = (w);\n\to[o.length] = ('<cellStyles count=\"1\"><cellStyle name=\"Normal\" xfId=\"0\" builtinId=\"0\"/></cellStyles>');\n\to[o.length] = ('<dxfs count=\"0\"/>');\n\to[o.length] = ('<tableStyles count=\"0\" defaultTableStyle=\"TableStyleMedium9\" defaultPivotStyle=\"PivotStyleMedium4\"/>');\n\n\tif(o.length>2){ o[o.length] = ('</styleSheet>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.657 BrtFmt */\nfunction parse_BrtFmt(data, length/*:number*/) {\n\tvar numFmtId = data.read_shift(2);\n\tvar stFmtCode = parse_XLWideString(data,length-2);\n\treturn [numFmtId, stFmtCode];\n}\nfunction write_BrtFmt(i/*:number*/, f/*:string*/, o) {\n\tif(!o) o = new_buf(6 + 4 * f.length);\n\to.write_shift(2, i);\n\twrite_XLWideString(f, o);\n\tvar out = (o.length > o.l) ? o.slice(0, o.l) : o;\n\tif(o.l == null) o.l = o.length;\n\treturn out;\n}\n\n/* [MS-XLSB] 2.4.659 BrtFont TODO */\nfunction parse_BrtFont(data, length/*:number*/, opts) {\n\tvar out = ({}/*:any*/);\n\n\tout.sz = data.read_shift(2) / 20;\n\n\tvar grbit = parse_FontFlags(data, 2, opts);\n\tif(grbit.fItalic) out.italic = 1;\n\tif(grbit.fCondense) out.condense = 1;\n\tif(grbit.fExtend) out.extend = 1;\n\tif(grbit.fShadow) out.shadow = 1;\n\tif(grbit.fOutline) out.outline = 1;\n\tif(grbit.fStrikeout) out.strike = 1;\n\n\tvar bls = data.read_shift(2);\n\tif(bls === 0x02BC) out.bold = 1;\n\n\tswitch(data.read_shift(2)) {\n\t\t/* case 0: out.vertAlign = \"baseline\"; break; */\n\t\tcase 1: out.vertAlign = \"superscript\"; break;\n\t\tcase 2: out.vertAlign = \"subscript\"; break;\n\t}\n\n\tvar underline = data.read_shift(1);\n\tif(underline != 0) out.underline = underline;\n\n\tvar family = data.read_shift(1);\n\tif(family > 0) out.family = family;\n\n\tvar bCharSet = data.read_shift(1);\n\tif(bCharSet > 0) out.charset = bCharSet;\n\n\tdata.l++;\n\tout.color = parse_BrtColor(data, 8);\n\n\tswitch(data.read_shift(1)) {\n\t\t/* case 0: out.scheme = \"none\": break; */\n\t\tcase 1: out.scheme = \"major\"; break;\n\t\tcase 2: out.scheme = \"minor\"; break;\n\t}\n\n\tout.name = parse_XLWideString(data, length - 21);\n\n\treturn out;\n}\nfunction write_BrtFont(font/*:any*/, o) {\n\tif(!o) o = new_buf(25+4*32);\n\to.write_shift(2, font.sz * 20);\n\twrite_FontFlags(font, o);\n\to.write_shift(2, font.bold ? 0x02BC : 0x0190);\n\tvar sss = 0;\n\tif(font.vertAlign == \"superscript\") sss = 1;\n\telse if(font.vertAlign == \"subscript\") sss = 2;\n\to.write_shift(2, sss);\n\to.write_shift(1, font.underline || 0);\n\to.write_shift(1, font.family || 0);\n\to.write_shift(1, font.charset || 0);\n\to.write_shift(1, 0);\n\twrite_BrtColor(font.color, o);\n\tvar scheme = 0;\n\tif(font.scheme == \"major\") scheme = 1;\n\tif(font.scheme == \"minor\") scheme = 2;\n\to.write_shift(1, scheme);\n\twrite_XLWideString(font.name, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.650 BrtFill */\nvar XLSBFillPTNames = [\n\t\"none\",\n\t\"solid\",\n\t\"mediumGray\",\n\t\"darkGray\",\n\t\"lightGray\",\n\t\"darkHorizontal\",\n\t\"darkVertical\",\n\t\"darkDown\",\n\t\"darkUp\",\n\t\"darkGrid\",\n\t\"darkTrellis\",\n\t\"lightHorizontal\",\n\t\"lightVertical\",\n\t\"lightDown\",\n\t\"lightUp\",\n\t\"lightGrid\",\n\t\"lightTrellis\",\n\t\"gray125\",\n\t\"gray0625\"\n];\nvar rev_XLSBFillPTNames/*:EvertNumType*/;\n/* TODO: gradient fill representation */\nvar parse_BrtFill = parsenoop;\nfunction write_BrtFill(fill, o) {\n\tif(!o) o = new_buf(4*3 + 8*7 + 16*1);\n\tif(!rev_XLSBFillPTNames) rev_XLSBFillPTNames = (evert(XLSBFillPTNames)/*:any*/);\n\tvar fls/*:number*/ = rev_XLSBFillPTNames[fill.patternType];\n\tif(fls == null) fls = 0x28;\n\to.write_shift(4, fls);\n\tvar j = 0;\n\tif(fls != 0x28) {\n\t\t/* TODO: custom FG Color */\n\t\twrite_BrtColor({auto:1}, o);\n\t\t/* TODO: custom BG Color */\n\t\twrite_BrtColor({auto:1}, o);\n\n\t\tfor(; j < 12; ++j) o.write_shift(4, 0);\n\t} else {\n\t\tfor(; j < 4; ++j) o.write_shift(4, 0);\n\n\t\tfor(; j < 12; ++j) o.write_shift(4, 0); /* TODO */\n\t\t/* iGradientType */\n\t\t/* xnumDegree */\n\t\t/* xnumFillToLeft */\n\t\t/* xnumFillToRight */\n\t\t/* xnumFillToTop */\n\t\t/* xnumFillToBottom */\n\t\t/* cNumStop */\n\t\t/* xfillGradientStop */\n\t}\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.824 BrtXF */\nfunction parse_BrtXF(data, length/*:number*/) {\n\tvar tgt = data.l + length;\n\tvar ixfeParent = data.read_shift(2);\n\tvar ifmt = data.read_shift(2);\n\tdata.l = tgt;\n\treturn {ixfe:ixfeParent, numFmtId:ifmt };\n}\nfunction write_BrtXF(data, ixfeP, o) {\n\tif(!o) o = new_buf(16);\n\to.write_shift(2, ixfeP||0);\n\to.write_shift(2, data.numFmtId||0);\n\to.write_shift(2, 0); /* iFont */\n\to.write_shift(2, 0); /* iFill */\n\to.write_shift(2, 0); /* ixBorder */\n\to.write_shift(1, 0); /* trot */\n\to.write_shift(1, 0); /* indent */\n\tvar flow = 0;\n\to.write_shift(1, flow); /* flags */\n\to.write_shift(1, 0); /* flags */\n\to.write_shift(1, 0); /* xfGrbitAtr */\n\to.write_shift(1, 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.4 Blxf TODO */\nfunction write_Blxf(data, o) {\n\tif(!o) o = new_buf(10);\n\to.write_shift(1, 0); /* dg */\n\to.write_shift(1, 0);\n\to.write_shift(4, 0); /* color */\n\to.write_shift(4, 0); /* color */\n\treturn o;\n}\n/* [MS-XLSB] 2.4.302 BrtBorder TODO */\nvar parse_BrtBorder = parsenoop;\nfunction write_BrtBorder(border, o) {\n\tif(!o) o = new_buf(51);\n\to.write_shift(1, 0); /* diagonal */\n\twrite_Blxf(null, o); /* top */\n\twrite_Blxf(null, o); /* bottom */\n\twrite_Blxf(null, o); /* left */\n\twrite_Blxf(null, o); /* right */\n\twrite_Blxf(null, o); /* diag */\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.763 BrtStyle TODO */\nfunction write_BrtStyle(style, o) {\n\tif(!o) o = new_buf(12+4*10);\n\to.write_shift(4, style.xfId);\n\to.write_shift(2, 1);\n\to.write_shift(1, +style.builtinId);\n\to.write_shift(1, 0); /* iLevel */\n\twrite_XLNullableWideString(style.name || \"\", o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.272 BrtBeginTableStyles */\nfunction write_BrtBeginTableStyles(cnt, defTableStyle, defPivotStyle) {\n\tvar o = new_buf(4+256*2*4);\n\to.write_shift(4, cnt);\n\twrite_XLNullableWideString(defTableStyle, o);\n\twrite_XLNullableWideString(defPivotStyle, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.1.7.50 Styles */\nfunction parse_sty_bin(data, themes, opts) {\n\tvar styles = {};\n\tstyles.NumberFmt = ([]/*:any*/);\n\tfor(var y in table_fmt) styles.NumberFmt[y] = table_fmt[y];\n\n\tstyles.CellXf = [];\n\tstyles.Fonts = [];\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false;\n\trecordhopper(data, function hopper_sty(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x002C: /* BrtFmt */\n\t\t\t\tstyles.NumberFmt[val[0]] = val[1]; SSF__load(val[1], val[0]);\n\t\t\t\tbreak;\n\t\t\tcase 0x002B: /* BrtFont */\n\t\t\t\tstyles.Fonts.push(val);\n\t\t\t\tif(val.color.theme != null && themes && themes.themeElements && themes.themeElements.clrScheme) {\n\t\t\t\t\tval.color.rgb = rgb_tint(themes.themeElements.clrScheme[val.color.theme].rgb, val.color.tint || 0);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 0x0401: /* BrtKnownFonts */ break;\n\t\t\tcase 0x002D: /* BrtFill */\n\t\t\t\tbreak;\n\t\t\tcase 0x002E: /* BrtBorder */\n\t\t\t\tbreak;\n\t\t\tcase 0x002F: /* BrtXF */\n\t\t\t\tif(state[state.length - 1] == 0x0269 /* BrtBeginCellXFs */) {\n\t\t\t\t\tstyles.CellXf.push(val);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 0x0030: /* BrtStyle */\n\t\t\tcase 0x01FB: /* BrtDXF */\n\t\t\tcase 0x023C: /* BrtMRUColor */\n\t\t\tcase 0x01DB: /* BrtIndexedColor */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0493: /* BrtDXF14 */\n\t\t\tcase 0x0836: /* BrtDXF15 */\n\t\t\tcase 0x046A: /* BrtSlicerStyleElement */\n\t\t\tcase 0x0200: /* BrtTableStyleElement */\n\t\t\tcase 0x082F: /* BrtTimelineStyleElement */\n\t\t\tcase 0x0C00: /* BrtUid */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* BrtFRTBegin */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* BrtFRTEnd */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* BrtACBegin */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0026: /* BrtACEnd */\n\t\t\t\tstate.pop(); pass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T > 0) state.push(RT);\n\t\t\t\telse if(R.T < 0) state.pop();\n\t\t\t\telse if(!pass || (opts.WTF && state[state.length-1] != 0x0025 /* BrtACBegin */)) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn styles;\n}\n\nfunction write_FMTS_bin(ba, NF/*:?SSFTable*/) {\n\tif(!NF) return;\n\tvar cnt = 0;\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\t/*:: if(!NF) return; */\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) ++cnt;\n\t});\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x0267 /* BrtBeginFmts */, write_UInt32LE(cnt));\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\t/*:: if(!NF) return; */\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) write_record(ba, 0x002C /* BrtFmt */, write_BrtFmt(i, NF[i]));\n\t});\n\twrite_record(ba, 0x0268 /* BrtEndFmts */);\n}\n\nfunction write_FONTS_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x0263 /* BrtBeginFonts */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002B /* BrtFont */, write_BrtFont({\n\t\tsz:12,\n\t\tcolor: {theme:1},\n\t\tname: \"Calibri\",\n\t\tfamily: 2,\n\t\tscheme: \"minor\"\n\t}));\n\t/* 1*65491BrtFont [ACFONTS] */\n\twrite_record(ba, 0x0264 /* BrtEndFonts */);\n}\n\nfunction write_FILLS_bin(ba/*::, data*/) {\n\tvar cnt = 2;\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x025B /* BrtBeginFills */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002D /* BrtFill */, write_BrtFill({patternType:\"none\"}));\n\twrite_record(ba, 0x002D /* BrtFill */, write_BrtFill({patternType:\"gray125\"}));\n\t/* 1*65431BrtFill */\n\twrite_record(ba, 0x025C /* BrtEndFills */);\n}\n\nfunction write_BORDERS_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x0265 /* BrtBeginBorders */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002E /* BrtBorder */, write_BrtBorder({}));\n\t/* 1*65430BrtBorder */\n\twrite_record(ba, 0x0266 /* BrtEndBorders */);\n}\n\nfunction write_CELLSTYLEXFS_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\twrite_record(ba, 0x0272 /* BrtBeginCellStyleXFs */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002F /* BrtXF */, write_BrtXF({\n\t\tnumFmtId: 0,\n\t\tfontId:   0,\n\t\tfillId:   0,\n\t\tborderId: 0\n\t}, 0xFFFF));\n\t/* 1*65430(BrtXF *FRT) */\n\twrite_record(ba, 0x0273 /* BrtEndCellStyleXFs */);\n}\n\nfunction write_CELLXFS_bin(ba, data) {\n\twrite_record(ba, 0x0269 /* BrtBeginCellXFs */, write_UInt32LE(data.length));\n\tdata.forEach(function(c) { write_record(ba, 0x002F /* BrtXF */, write_BrtXF(c,0)); });\n\t/* 1*65430(BrtXF *FRT) */\n\twrite_record(ba, 0x026A /* BrtEndCellXFs */);\n}\n\nfunction write_STYLES_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\n\twrite_record(ba, 0x026B /* BrtBeginStyles */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x0030 /* BrtStyle */, write_BrtStyle({\n\t\txfId:0,\n\t\tbuiltinId:0,\n\t\tname:\"Normal\"\n\t}));\n\t/* 1*65430(BrtStyle *FRT) */\n\twrite_record(ba, 0x026C /* BrtEndStyles */);\n}\n\nfunction write_DXFS_bin(ba/*::, data*/) {\n\tvar cnt = 0;\n\n\twrite_record(ba, 0x01F9 /* BrtBeginDXFs */, write_UInt32LE(cnt));\n\t/* *2147483647(BrtDXF *FRT) */\n\twrite_record(ba, 0x01FA /* BrtEndDXFs */);\n}\n\nfunction write_TABLESTYLES_bin(ba/*::, data*/) {\n\tvar cnt = 0;\n\n\twrite_record(ba, 0x01FC /* BrtBeginTableStyles */, write_BrtBeginTableStyles(cnt, \"TableStyleMedium9\", \"PivotStyleMedium4\"));\n\t/* *TABLESTYLE */\n\twrite_record(ba, 0x01FD /* BrtEndTableStyles */);\n}\n\nfunction write_COLORPALETTE_bin(/*::ba, data*/) {\n\treturn;\n\t/* BrtBeginColorPalette [INDEXEDCOLORS] [MRUCOLORS] BrtEndColorPalette */\n}\n\n/* [MS-XLSB] 2.1.7.50 Styles */\nfunction write_sty_bin(wb, opts) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x0116 /* BrtBeginStyleSheet */);\n\twrite_FMTS_bin(ba, wb.SSF);\n\twrite_FONTS_bin(ba, wb);\n\twrite_FILLS_bin(ba, wb);\n\twrite_BORDERS_bin(ba, wb);\n\twrite_CELLSTYLEXFS_bin(ba, wb);\n\twrite_CELLXFS_bin(ba, opts.cellXfs);\n\twrite_STYLES_bin(ba, wb);\n\twrite_DXFS_bin(ba, wb);\n\twrite_TABLESTYLES_bin(ba, wb);\n\twrite_COLORPALETTE_bin(ba, wb);\n\t/* FRTSTYLESHEET*/\n\twrite_record(ba, 0x0117 /* BrtEndStyleSheet */);\n\treturn ba.end();\n}\n/* Even though theme layout is dk1 lt1 dk2 lt2, true order is lt1 dk1 lt2 dk2 */\nvar XLSXThemeClrScheme = [\n\t'</a:lt1>', '</a:dk1>', '</a:lt2>', '</a:dk2>',\n\t'</a:accent1>', '</a:accent2>', '</a:accent3>',\n\t'</a:accent4>', '</a:accent5>', '</a:accent6>',\n\t'</a:hlink>', '</a:folHlink>'\n];\n/* 20.1.6.2 clrScheme CT_ColorScheme */\nfunction parse_clrScheme(t, themes, opts) {\n\tthemes.themeElements.clrScheme = [];\n\tvar color = {};\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(y[0]) {\n\t\t\t/* 20.1.6.2 clrScheme (Color Scheme) CT_ColorScheme */\n\t\t\tcase '<a:clrScheme': case '</a:clrScheme>': break;\n\n\t\t\t/* 20.1.2.3.32 srgbClr CT_SRgbColor */\n\t\t\tcase '<a:srgbClr':\n\t\t\t\tcolor.rgb = y.val; break;\n\t\t\tcase '</a:srgbClr>': break;\n\n\t\t\t/* 20.1.2.3.33 sysClr CT_SystemColor */\n\t\t\tcase '<a:sysClr':\n\t\t\t\tcolor.rgb = y.lastClr; break;\n\t\t\tcase '</a:sysClr>': break;\n\n\t\t\t/* 20.1.4.1.1 accent1 (Accent 1) */\n\t\t\t/* 20.1.4.1.2 accent2 (Accent 2) */\n\t\t\t/* 20.1.4.1.3 accent3 (Accent 3) */\n\t\t\t/* 20.1.4.1.4 accent4 (Accent 4) */\n\t\t\t/* 20.1.4.1.5 accent5 (Accent 5) */\n\t\t\t/* 20.1.4.1.6 accent6 (Accent 6) */\n\t\t\t/* 20.1.4.1.9 dk1 (Dark 1) */\n\t\t\t/* 20.1.4.1.10 dk2 (Dark 2) */\n\t\t\t/* 20.1.4.1.15 folHlink (Followed Hyperlink) */\n\t\t\t/* 20.1.4.1.19 hlink (Hyperlink) */\n\t\t\t/* 20.1.4.1.22 lt1 (Light 1) */\n\t\t\t/* 20.1.4.1.23 lt2 (Light 2) */\n\t\t\tcase '</a:dk1>':\n\t\t\tcase '</a:lt1>':\n\t\t\tcase '<a:dk1>':\n\t\t\tcase '<a:lt1>':\n\t\t\tcase '<a:dk2>': case '</a:dk2>':\n\t\t\tcase '<a:lt2>': case '</a:lt2>':\n\t\t\tcase '<a:accent1>': case '</a:accent1>':\n\t\t\tcase '<a:accent2>': case '</a:accent2>':\n\t\t\tcase '<a:accent3>': case '</a:accent3>':\n\t\t\tcase '<a:accent4>': case '</a:accent4>':\n\t\t\tcase '<a:accent5>': case '</a:accent5>':\n\t\t\tcase '<a:accent6>': case '</a:accent6>':\n\t\t\tcase '<a:hlink>': case '</a:hlink>':\n\t\t\tcase '<a:folHlink>': case '</a:folHlink>':\n\t\t\t\tif (y[0].charAt(1) === '/') {\n\t\t\t\t\tthemes.themeElements.clrScheme[XLSXThemeClrScheme.indexOf(y[0])] = color;\n\t\t\t\t\tcolor = {};\n\t\t\t\t} else {\n\t\t\t\t\tcolor.name = y[0].slice(3, y[0].length - 1);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault: if(opts && opts.WTF) throw new Error('Unrecognized ' + y[0] + ' in clrScheme');\n\t\t}\n\t});\n}\n\n/* 20.1.4.1.18 fontScheme CT_FontScheme */\nfunction parse_fontScheme(/*::t, themes, opts*/) { }\n\n/* 20.1.4.1.15 fmtScheme CT_StyleMatrix */\nfunction parse_fmtScheme(/*::t, themes, opts*/) { }\n\n/* 20.1.6.10 themeElements CT_BaseStyles */\nfunction parse_themeElements(data, themes, opts) {\n\tthemes.themeElements = {};\n\n\tvar t;\n\n\t/* clrScheme CT_ColorScheme */\n\tif(!(t=str_match_xml(data, \"a:clrScheme\"))) throw new Error('clrScheme not found in themeElements');\n\tparse_clrScheme(t, themes, opts);\n\n\t/* fontScheme CT_FontScheme */\n\tif(!(t=str_match_xml(data, \"a:fontScheme\"))) throw new Error('fontScheme not found in themeElements');\n\tparse_fontScheme(t, themes, opts);\n\n\t/* fmtScheme CT_StyleMatrix */\n\tif(!(t=str_match_xml(data, \"a:fmtScheme\"))) throw new Error('fmtScheme not found in themeElements');\n\tparse_fmtScheme(t, themes, opts);\n}\n\n/* 14.2.7 Theme Part */\nfunction parse_theme_xml(data/*:string*/, opts) {\n\t/* 20.1.6.9 theme CT_OfficeStyleSheet */\n\tif(!data || data.length === 0) data = write_theme();\n\n\tvar t;\n\tvar themes = {};\n\n\t/* themeElements CT_BaseStyles */\n\tif(!(t=str_match_xml(data, \"a:themeElements\"))) throw new Error('themeElements not found in theme');\n\tparse_themeElements(t[0], themes, opts);\n\tthemes.raw = data;\n\treturn themes;\n}\n\nfunction write_theme(Themes, opts)/*:string*/ {\n\tif(opts && opts.themeXLSX) return opts.themeXLSX;\n\tif(Themes && typeof Themes.raw == \"string\") return Themes.raw;\n\tvar o = [XML_HEADER];\n\to[o.length] = '<a:theme xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" name=\"Office Theme\">';\n\to[o.length] =  '<a:themeElements>';\n\n\to[o.length] =   '<a:clrScheme name=\"Office\">';\n\to[o.length] =    '<a:dk1><a:sysClr val=\"windowText\" lastClr=\"000000\"/></a:dk1>';\n\to[o.length] =    '<a:lt1><a:sysClr val=\"window\" lastClr=\"FFFFFF\"/></a:lt1>';\n\to[o.length] =    '<a:dk2><a:srgbClr val=\"1F497D\"/></a:dk2>';\n\to[o.length] =    '<a:lt2><a:srgbClr val=\"EEECE1\"/></a:lt2>';\n\to[o.length] =    '<a:accent1><a:srgbClr val=\"4F81BD\"/></a:accent1>';\n\to[o.length] =    '<a:accent2><a:srgbClr val=\"C0504D\"/></a:accent2>';\n\to[o.length] =    '<a:accent3><a:srgbClr val=\"9BBB59\"/></a:accent3>';\n\to[o.length] =    '<a:accent4><a:srgbClr val=\"8064A2\"/></a:accent4>';\n\to[o.length] =    '<a:accent5><a:srgbClr val=\"4BACC6\"/></a:accent5>';\n\to[o.length] =    '<a:accent6><a:srgbClr val=\"F79646\"/></a:accent6>';\n\to[o.length] =    '<a:hlink><a:srgbClr val=\"0000FF\"/></a:hlink>';\n\to[o.length] =    '<a:folHlink><a:srgbClr val=\"800080\"/></a:folHlink>';\n\to[o.length] =   '</a:clrScheme>';\n\n\to[o.length] =   '<a:fontScheme name=\"Office\">';\n\to[o.length] =    '<a:majorFont>';\n\to[o.length] =     '<a:latin typeface=\"Cambria\"/>';\n\to[o.length] =     '<a:ea typeface=\"\"/>';\n\to[o.length] =     '<a:cs typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Jpan\" typeface=\" \"/>';\n\to[o.length] =     '<a:font script=\"Hang\" typeface=\" \"/>';\n\to[o.length] =     '<a:font script=\"Hans\" typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Hant\" typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Arab\" typeface=\"Times New Roman\"/>';\n\to[o.length] =     '<a:font script=\"Hebr\" typeface=\"Times New Roman\"/>';\n\to[o.length] =     '<a:font script=\"Thai\" typeface=\"Tahoma\"/>';\n\to[o.length] =     '<a:font script=\"Ethi\" typeface=\"Nyala\"/>';\n\to[o.length] =     '<a:font script=\"Beng\" typeface=\"Vrinda\"/>';\n\to[o.length] =     '<a:font script=\"Gujr\" typeface=\"Shruti\"/>';\n\to[o.length] =     '<a:font script=\"Khmr\" typeface=\"MoolBoran\"/>';\n\to[o.length] =     '<a:font script=\"Knda\" typeface=\"Tunga\"/>';\n\to[o.length] =     '<a:font script=\"Guru\" typeface=\"Raavi\"/>';\n\to[o.length] =     '<a:font script=\"Cans\" typeface=\"Euphemia\"/>';\n\to[o.length] =     '<a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/>';\n\to[o.length] =     '<a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/>';\n\to[o.length] =     '<a:font script=\"Thaa\" typeface=\"MV Boli\"/>';\n\to[o.length] =     '<a:font script=\"Deva\" typeface=\"Mangal\"/>';\n\to[o.length] =     '<a:font script=\"Telu\" typeface=\"Gautami\"/>';\n\to[o.length] =     '<a:font script=\"Taml\" typeface=\"Latha\"/>';\n\to[o.length] =     '<a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/>';\n\to[o.length] =     '<a:font script=\"Orya\" typeface=\"Kalinga\"/>';\n\to[o.length] =     '<a:font script=\"Mlym\" typeface=\"Kartika\"/>';\n\to[o.length] =     '<a:font script=\"Laoo\" typeface=\"DokChampa\"/>';\n\to[o.length] =     '<a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/>';\n\to[o.length] =     '<a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Viet\" typeface=\"Times New Roman\"/>';\n\to[o.length] =     '<a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/>';\n\to[o.length] =     '<a:font script=\"Geor\" typeface=\"Sylfaen\"/>';\n\to[o.length] =    '</a:majorFont>';\n\to[o.length] =    '<a:minorFont>';\n\to[o.length] =     '<a:latin typeface=\"Calibri\"/>';\n\to[o.length] =     '<a:ea typeface=\"\"/>';\n\to[o.length] =     '<a:cs typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Jpan\" typeface=\" \"/>';\n\to[o.length] =     '<a:font script=\"Hang\" typeface=\" \"/>';\n\to[o.length] =     '<a:font script=\"Hans\" typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Hant\" typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Arab\" typeface=\"Arial\"/>';\n\to[o.length] =     '<a:font script=\"Hebr\" typeface=\"Arial\"/>';\n\to[o.length] =     '<a:font script=\"Thai\" typeface=\"Tahoma\"/>';\n\to[o.length] =     '<a:font script=\"Ethi\" typeface=\"Nyala\"/>';\n\to[o.length] =     '<a:font script=\"Beng\" typeface=\"Vrinda\"/>';\n\to[o.length] =     '<a:font script=\"Gujr\" typeface=\"Shruti\"/>';\n\to[o.length] =     '<a:font script=\"Khmr\" typeface=\"DaunPenh\"/>';\n\to[o.length] =     '<a:font script=\"Knda\" typeface=\"Tunga\"/>';\n\to[o.length] =     '<a:font script=\"Guru\" typeface=\"Raavi\"/>';\n\to[o.length] =     '<a:font script=\"Cans\" typeface=\"Euphemia\"/>';\n\to[o.length] =     '<a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/>';\n\to[o.length] =     '<a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/>';\n\to[o.length] =     '<a:font script=\"Thaa\" typeface=\"MV Boli\"/>';\n\to[o.length] =     '<a:font script=\"Deva\" typeface=\"Mangal\"/>';\n\to[o.length] =     '<a:font script=\"Telu\" typeface=\"Gautami\"/>';\n\to[o.length] =     '<a:font script=\"Taml\" typeface=\"Latha\"/>';\n\to[o.length] =     '<a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/>';\n\to[o.length] =     '<a:font script=\"Orya\" typeface=\"Kalinga\"/>';\n\to[o.length] =     '<a:font script=\"Mlym\" typeface=\"Kartika\"/>';\n\to[o.length] =     '<a:font script=\"Laoo\" typeface=\"DokChampa\"/>';\n\to[o.length] =     '<a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/>';\n\to[o.length] =     '<a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Viet\" typeface=\"Arial\"/>';\n\to[o.length] =     '<a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/>';\n\to[o.length] =     '<a:font script=\"Geor\" typeface=\"Sylfaen\"/>';\n\to[o.length] =    '</a:minorFont>';\n\to[o.length] =   '</a:fontScheme>';\n\n\to[o.length] =   '<a:fmtScheme name=\"Office\">';\n\to[o.length] =    '<a:fillStyleLst>';\n\to[o.length] =     '<a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"50000\"/><a:satMod val=\"300000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"35000\"><a:schemeClr val=\"phClr\"><a:tint val=\"37000\"/><a:satMod val=\"300000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:tint val=\"15000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:lin ang=\"16200000\" scaled=\"1\"/>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"100000\"/><a:shade val=\"100000\"/><a:satMod val=\"130000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:tint val=\"50000\"/><a:shade val=\"100000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:lin ang=\"16200000\" scaled=\"0\"/>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =    '</a:fillStyleLst>';\n\to[o.length] =    '<a:lnStyleLst>';\n\to[o.length] =     '<a:ln w=\"9525\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"><a:shade val=\"95000\"/><a:satMod val=\"105000\"/></a:schemeClr></a:solidFill><a:prstDash val=\"solid\"/></a:ln>';\n\to[o.length] =     '<a:ln w=\"25400\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/></a:ln>';\n\to[o.length] =     '<a:ln w=\"38100\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/></a:ln>';\n\to[o.length] =    '</a:lnStyleLst>';\n\to[o.length] =    '<a:effectStyleLst>';\n\to[o.length] =     '<a:effectStyle>';\n\to[o.length] =      '<a:effectLst>';\n\to[o.length] =       '<a:outerShdw blurRad=\"40000\" dist=\"20000\" dir=\"5400000\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"38000\"/></a:srgbClr></a:outerShdw>';\n\to[o.length] =      '</a:effectLst>';\n\to[o.length] =     '</a:effectStyle>';\n\to[o.length] =     '<a:effectStyle>';\n\to[o.length] =      '<a:effectLst>';\n\to[o.length] =       '<a:outerShdw blurRad=\"40000\" dist=\"23000\" dir=\"5400000\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"35000\"/></a:srgbClr></a:outerShdw>';\n\to[o.length] =      '</a:effectLst>';\n\to[o.length] =     '</a:effectStyle>';\n\to[o.length] =     '<a:effectStyle>';\n\to[o.length] =      '<a:effectLst>';\n\to[o.length] =       '<a:outerShdw blurRad=\"40000\" dist=\"23000\" dir=\"5400000\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"35000\"/></a:srgbClr></a:outerShdw>';\n\to[o.length] =      '</a:effectLst>';\n\to[o.length] =      '<a:scene3d><a:camera prst=\"orthographicFront\"><a:rot lat=\"0\" lon=\"0\" rev=\"0\"/></a:camera><a:lightRig rig=\"threePt\" dir=\"t\"><a:rot lat=\"0\" lon=\"0\" rev=\"1200000\"/></a:lightRig></a:scene3d>';\n\to[o.length] =      '<a:sp3d><a:bevelT w=\"63500\" h=\"25400\"/></a:sp3d>';\n\to[o.length] =     '</a:effectStyle>';\n\to[o.length] =    '</a:effectStyleLst>';\n\to[o.length] =    '<a:bgFillStyleLst>';\n\to[o.length] =     '<a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"40000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"40000\"><a:schemeClr val=\"phClr\"><a:tint val=\"45000\"/><a:shade val=\"99000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:shade val=\"20000\"/><a:satMod val=\"255000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:path path=\"circle\"><a:fillToRect l=\"50000\" t=\"-80000\" r=\"50000\" b=\"180000\"/></a:path>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"80000\"/><a:satMod val=\"300000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:shade val=\"30000\"/><a:satMod val=\"200000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:path path=\"circle\"><a:fillToRect l=\"50000\" t=\"50000\" r=\"50000\" b=\"50000\"/></a:path>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =    '</a:bgFillStyleLst>';\n\to[o.length] =   '</a:fmtScheme>';\n\to[o.length] =  '</a:themeElements>';\n\n\to[o.length] =  '<a:objectDefaults>';\n\to[o.length] =   '<a:spDef>';\n\to[o.length] =    '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx=\"1\"><a:schemeClr val=\"accent1\"/></a:lnRef><a:fillRef idx=\"3\"><a:schemeClr val=\"accent1\"/></a:fillRef><a:effectRef idx=\"2\"><a:schemeClr val=\"accent1\"/></a:effectRef><a:fontRef idx=\"minor\"><a:schemeClr val=\"lt1\"/></a:fontRef></a:style>';\n\to[o.length] =   '</a:spDef>';\n\to[o.length] =   '<a:lnDef>';\n\to[o.length] =    '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx=\"2\"><a:schemeClr val=\"accent1\"/></a:lnRef><a:fillRef idx=\"0\"><a:schemeClr val=\"accent1\"/></a:fillRef><a:effectRef idx=\"1\"><a:schemeClr val=\"accent1\"/></a:effectRef><a:fontRef idx=\"minor\"><a:schemeClr val=\"tx1\"/></a:fontRef></a:style>';\n\to[o.length] =   '</a:lnDef>';\n\to[o.length] =  '</a:objectDefaults>';\n\to[o.length] =  '<a:extraClrSchemeLst/>';\n\to[o.length] = '</a:theme>';\n\treturn o.join(\"\");\n}\n/* [MS-XLS] 2.4.326 TODO: payload is a zip file */\nfunction parse_Theme(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar dwThemeVersion = blob.read_shift(4);\n\tif(dwThemeVersion === 124226) return;\n\tif(!opts.cellStyles) { blob.l = end; return; }\n\tvar data = blob.slice(blob.l);\n\tblob.l = end;\n\tvar zip; try { zip = zip_read(data, {type: \"array\"}); } catch(e) { return; }\n\tvar themeXML = getzipstr(zip, \"theme/theme/theme1.xml\", true);\n\tif(!themeXML) return;\n\treturn parse_theme_xml(themeXML, opts);\n}\n\n/* 2.5.49 */\nfunction parse_ColorTheme(blob/*::, length*/) { return blob.read_shift(4); }\n\n/* 2.5.155 */\nfunction parse_FullColorExt(blob/*::, length*/) {\n\tvar o = {};\n\to.xclrType = blob.read_shift(2);\n\to.nTintShade = blob.read_shift(2);\n\tswitch(o.xclrType) {\n\t\tcase 0: blob.l += 4; break;\n\t\tcase 1: o.xclrValue = parse_IcvXF(blob, 4); break;\n\t\tcase 2: o.xclrValue = parse_LongRGBA(blob, 4); break;\n\t\tcase 3: o.xclrValue = parse_ColorTheme(blob, 4); break;\n\t\tcase 4: blob.l += 4; break;\n\t}\n\tblob.l += 8;\n\treturn o;\n}\n\n/* 2.5.164 TODO: read 7 bits*/\nfunction parse_IcvXF(blob, length) {\n\treturn parsenoop(blob, length);\n}\n\n/* 2.5.280 */\nfunction parse_XFExtGradient(blob, length) {\n\treturn parsenoop(blob, length);\n}\n\n/* [MS-XLS] 2.5.108 */\nfunction parse_ExtProp(blob/*::, length*/)/*:Array<any>*/ {\n\tvar extType = blob.read_shift(2);\n\tvar cb = blob.read_shift(2) - 4;\n\tvar o = [extType];\n\tswitch(extType) {\n\t\tcase 0x04: case 0x05: case 0x07: case 0x08:\n\t\tcase 0x09: case 0x0A: case 0x0B: case 0x0D:\n\t\t\to[1] = parse_FullColorExt(blob, cb); break;\n\t\tcase 0x06: o[1] = parse_XFExtGradient(blob, cb); break;\n\t\tcase 0x0E: case 0x0F: o[1] = blob.read_shift(cb === 1 ? 1 : 2); break;\n\t\tdefault: throw new Error(\"Unrecognized ExtProp type: \" + extType + \" \" + cb);\n\t}\n\treturn o;\n}\n\n/* 2.4.355 */\nfunction parse_XFExt(blob, length) {\n\tvar end = blob.l + length;\n\tblob.l += 2;\n\tvar ixfe = blob.read_shift(2);\n\tblob.l += 2;\n\tvar cexts = blob.read_shift(2);\n\tvar ext/*:AOA*/ = [];\n\twhile(cexts-- > 0) ext.push(parse_ExtProp(blob, end-blob.l));\n\treturn {ixfe:ixfe, ext:ext};\n}\n\n/* xf is an XF, see parse_XFExt for xfext */\nfunction update_xfext(xf, xfext) {\n\txfext.forEach(function(xfe) {\n\t\tswitch(xfe[0]) { /* 2.5.108 extPropData */\n\t\t\tcase 0x04: break; /* foreground color */\n\t\t\tcase 0x05: break; /* background color */\n\t\t\tcase 0x06: break; /* gradient fill */\n\t\t\tcase 0x07: break; /* top cell border color */\n\t\t\tcase 0x08: break; /* bottom cell border color */\n\t\t\tcase 0x09: break; /* left cell border color */\n\t\t\tcase 0x0a: break; /* right cell border color */\n\t\t\tcase 0x0b: break; /* diagonal cell border color */\n\t\t\tcase 0x0d: /* text color */\n\t\t\t\tbreak;\n\t\t\tcase 0x0e: break; /* font scheme */\n\t\t\tcase 0x0f: break; /* indentation level */\n\t\t}\n\t});\n}\n\nfunction parse_BrtMdtinfo(data, length) {\n  return {\n    flags: data.read_shift(4),\n    version: data.read_shift(4),\n    name: parse_XLWideString(data, length - 8)\n  };\n}\nfunction write_BrtMdtinfo(data) {\n  var o = new_buf(12 + 2 * data.name.length);\n  o.write_shift(4, data.flags);\n  o.write_shift(4, data.version);\n  write_XLWideString(data.name, o);\n  return o.slice(0, o.l);\n}\nfunction parse_BrtMdb(data) {\n  var out = [];\n  var cnt = data.read_shift(4);\n  while (cnt-- > 0)\n    out.push([data.read_shift(4), data.read_shift(4)]);\n  return out;\n}\nfunction write_BrtMdb(mdb) {\n  var o = new_buf(4 + 8 * mdb.length);\n  o.write_shift(4, mdb.length);\n  for (var i = 0; i < mdb.length; ++i) {\n    o.write_shift(4, mdb[i][0]);\n    o.write_shift(4, mdb[i][1]);\n  }\n  return o;\n}\nfunction write_BrtBeginEsfmd(cnt, name) {\n  var o = new_buf(8 + 2 * name.length);\n  o.write_shift(4, cnt);\n  write_XLWideString(name, o);\n  return o.slice(0, o.l);\n}\nfunction parse_BrtBeginEsmdb(data) {\n  data.l += 4;\n  return data.read_shift(4) != 0;\n}\nfunction write_BrtBeginEsmdb(cnt, cm) {\n  var o = new_buf(8);\n  o.write_shift(4, cnt);\n  o.write_shift(4, cm ? 1 : 0);\n  return o;\n}\nfunction parse_xlmeta_bin(data, name, _opts) {\n  var out = { Types: [], Cell: [], Value: [] };\n  var opts = _opts || {};\n  var state = [];\n  var pass = false;\n  var metatype = 2;\n  recordhopper(data, function(val, R, RT) {\n    switch (RT) {\n      case 335:\n        out.Types.push({ name: val.name });\n        break;\n      case 51:\n        val.forEach(function(r) {\n          if (metatype == 1)\n            out.Cell.push({ type: out.Types[r[0] - 1].name, index: r[1] });\n          else if (metatype == 0)\n            out.Value.push({ type: out.Types[r[0] - 1].name, index: r[1] });\n        });\n        break;\n      case 337:\n        metatype = val ? 1 : 0;\n        break;\n      case 338:\n        metatype = 2;\n        break;\n      case 35:\n        state.push(RT);\n        pass = true;\n        break;\n      case 36:\n        state.pop();\n        pass = false;\n        break;\n      default:\n        if (R.T) {\n        } else if (!pass || opts.WTF && state[state.length - 1] != 35)\n          throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n    }\n  });\n  return out;\n}\nfunction write_xlmeta_bin() {\n  var ba = buf_array();\n  write_record(ba, 332);\n  write_record(ba, 334, write_UInt32LE(1));\n  write_record(ba, 335, write_BrtMdtinfo({\n    name: \"XLDAPR\",\n    version: 12e4,\n    flags: 3496657072\n  }));\n  write_record(ba, 336);\n  write_record(ba, 339, write_BrtBeginEsfmd(1, \"XLDAPR\"));\n  write_record(ba, 52);\n  write_record(ba, 35, write_UInt32LE(514));\n  write_record(ba, 4096, write_UInt32LE(0));\n  write_record(ba, 4097, writeuint16(1));\n  write_record(ba, 36);\n  write_record(ba, 53);\n  write_record(ba, 340);\n  write_record(ba, 337, write_BrtBeginEsmdb(1, true));\n  write_record(ba, 51, write_BrtMdb([[1, 0]]));\n  write_record(ba, 338);\n  write_record(ba, 333);\n  return ba.end();\n}\nfunction parse_xlmeta_xml(data, name, opts) {\n  var out = { Types: [], Cell: [], Value: [] };\n  if (!data)\n    return out;\n  var pass = false;\n  var metatype = 2;\n  var lastmeta;\n  data.replace(tagregex, function(x) {\n    var y = parsexmltag(x);\n    switch (strip_ns(y[0])) {\n      case \"<?xml\":\n        break;\n      case \"<metadata\":\n      case \"</metadata>\":\n        break;\n      case \"<metadataTypes\":\n      case \"</metadataTypes>\":\n        break;\n      case \"<metadataType\":\n        out.Types.push({ name: y.name });\n        break;\n      case \"</metadataType>\":\n        break;\n      case \"<futureMetadata\":\n        for (var j = 0; j < out.Types.length; ++j)\n          if (out.Types[j].name == y.name)\n            lastmeta = out.Types[j];\n        break;\n      case \"</futureMetadata>\":\n        break;\n      case \"<bk>\":\n        break;\n      case \"</bk>\":\n        break;\n      case \"<rc\":\n        if (metatype == 1)\n          out.Cell.push({ type: out.Types[y.t - 1].name, index: +y.v });\n        else if (metatype == 0)\n          out.Value.push({ type: out.Types[y.t - 1].name, index: +y.v });\n        break;\n      case \"</rc>\":\n        break;\n      case \"<cellMetadata\":\n        metatype = 1;\n        break;\n      case \"</cellMetadata>\":\n        metatype = 2;\n        break;\n      case \"<valueMetadata\":\n        metatype = 0;\n        break;\n      case \"</valueMetadata>\":\n        metatype = 2;\n        break;\n      case \"<extLst\":\n      case \"<extLst>\":\n      case \"</extLst>\":\n      case \"<extLst/>\":\n        break;\n      case \"<ext\":\n        pass = true;\n        break;\n      case \"</ext>\":\n        pass = false;\n        break;\n      case \"<rvb\":\n        if (!lastmeta)\n          break;\n        if (!lastmeta.offsets)\n          lastmeta.offsets = [];\n        lastmeta.offsets.push(+y.i);\n        break;\n      default:\n        if (!pass && (opts == null ? void 0 : opts.WTF))\n          throw new Error(\"unrecognized \" + y[0] + \" in metadata\");\n    }\n    return x;\n  });\n  return out;\n}\nfunction write_xlmeta_xml() {\n  var o = [XML_HEADER];\n  o.push('<metadata xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:xlrd=\"http://schemas.microsoft.com/office/spreadsheetml/2017/richdata\" xmlns:xda=\"http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray\">\\n  <metadataTypes count=\"1\">\\n    <metadataType name=\"XLDAPR\" minSupportedVersion=\"120000\" copy=\"1\" pasteAll=\"1\" pasteValues=\"1\" merge=\"1\" splitFirst=\"1\" rowColShift=\"1\" clearFormats=\"1\" clearComments=\"1\" assign=\"1\" coerce=\"1\" cellMeta=\"1\"/>\\n  </metadataTypes>\\n  <futureMetadata name=\"XLDAPR\" count=\"1\">\\n    <bk>\\n      <extLst>\\n        <ext uri=\"{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}\">\\n          <xda:dynamicArrayProperties fDynamic=\"1\" fCollapsed=\"0\"/>\\n        </ext>\\n      </extLst>\\n    </bk>\\n  </futureMetadata>\\n  <cellMetadata count=\"1\">\\n    <bk>\\n      <rc t=\"1\" v=\"0\"/>\\n    </bk>\\n  </cellMetadata>\\n</metadata>');\n  return o.join(\"\");\n}\n/* 18.6 Calculation Chain */\nfunction parse_cc_xml(data/*::, name, opts*/)/*:Array<any>*/ {\n\tvar d = [];\n\tif(!data) return d;\n\tvar i = 1;\n\t(data.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(y[0]) {\n\t\t\tcase '<?xml': break;\n\t\t\t/* 18.6.2  calcChain CT_CalcChain 1 */\n\t\t\tcase '<calcChain': case '<calcChain>': case '</calcChain>': break;\n\t\t\t/* 18.6.1  c CT_CalcCell 1 */\n\t\t\tcase '<c': delete y[0]; if(y.i) i = y.i; else y.i = i; d.push(y); break;\n\t\t}\n\t});\n\treturn d;\n}\n\n//function write_cc_xml(data, opts) { }\n\n/* [MS-XLSB] 2.6.4.1 */\nfunction parse_BrtCalcChainItem$(data) {\n\tvar out = {};\n\tout.i = data.read_shift(4);\n\tvar cell = {};\n\tcell.r = data.read_shift(4);\n\tcell.c = data.read_shift(4);\n\tout.r = encode_cell(cell);\n\tvar flags = data.read_shift(1);\n\tif(flags & 0x2) out.l = '1';\n\tif(flags & 0x8) out.a = '1';\n\treturn out;\n}\n\n/* 18.6 Calculation Chain */\nfunction parse_cc_bin(data, name, opts) {\n\tvar out = [];\n\tvar pass = false;\n\trecordhopper(data, function hopper_cc(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x003F: /* 'BrtCalcChainItem$' */\n\t\t\t\tout.push(val); break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn out;\n}\n\n//function write_cc_bin(data, opts) { }\n/* 18.14 Supplementary Workbook Data */\nfunction parse_xlink_xml(/*::data, rel, name:string, _opts*/) {\n\t//var opts = _opts || {};\n\t//if(opts.WTF) throw \"XLSX External Link\";\n}\n\n/* [MS-XLSB] 2.1.7.25 External Link */\nfunction parse_xlink_bin(data, rel, name/*:string*/, _opts) {\n\tif(!data) return data;\n\tvar opts = _opts || {};\n\n\tvar pass = false, end = false;\n\n\trecordhopper(data, function xlink_parse(val, R, RT) {\n\t\tif(end) return;\n\t\tswitch(RT) {\n\t\t\tcase 0x0167: /* 'BrtSupTabs' */\n\t\t\tcase 0x016B: /* 'BrtExternTableStart' */\n\t\t\tcase 0x016C: /* 'BrtExternTableEnd' */\n\t\t\tcase 0x016E: /* 'BrtExternRowHdr' */\n\t\t\tcase 0x016F: /* 'BrtExternCellBlank' */\n\t\t\tcase 0x0170: /* 'BrtExternCellReal' */\n\t\t\tcase 0x0171: /* 'BrtExternCellBool' */\n\t\t\tcase 0x0172: /* 'BrtExternCellError' */\n\t\t\tcase 0x0173: /* 'BrtExternCellString' */\n\t\t\tcase 0x01D8: /* 'BrtExternValueMeta' */\n\t\t\tcase 0x0241: /* 'BrtSupNameStart' */\n\t\t\tcase 0x0242: /* 'BrtSupNameValueStart' */\n\t\t\tcase 0x0243: /* 'BrtSupNameValueEnd' */\n\t\t\tcase 0x0244: /* 'BrtSupNameNum' */\n\t\t\tcase 0x0245: /* 'BrtSupNameErr' */\n\t\t\tcase 0x0246: /* 'BrtSupNameSt' */\n\t\t\tcase 0x0247: /* 'BrtSupNameNil' */\n\t\t\tcase 0x0248: /* 'BrtSupNameBool' */\n\t\t\tcase 0x0249: /* 'BrtSupNameFmla' */\n\t\t\tcase 0x024A: /* 'BrtSupNameBits' */\n\t\t\tcase 0x024B: /* 'BrtSupNameEnd' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n}\n/* 20.5 DrawingML - SpreadsheetML Drawing */\n/* 20.5.2.35 wsDr CT_Drawing */\nfunction parse_drawing(data, rels/*:any*/) {\n\tif(!data) return \"??\";\n\t/*\n\t  Chartsheet Drawing:\n\t   - 20.5.2.35 wsDr CT_Drawing\n\t    - 20.5.2.1  absoluteAnchor CT_AbsoluteAnchor\n\t     - 20.5.2.16 graphicFrame CT_GraphicalObjectFrame\n\t      - 20.1.2.2.16 graphic CT_GraphicalObject\n\t       - 20.1.2.2.17 graphicData CT_GraphicalObjectData\n          - chart reference\n\t   the actual type is based on the URI of the graphicData\n\t\tTODO: handle embedded charts and other types of graphics\n\t*/\n\tvar id = (data.match(/<c:chart [^<>]*r:id=\"([^<>\"]*)\"/)||[\"\",\"\"])[1];\n\n\treturn rels['!id'][id].Target;\n}\n\n/* L.5.5.2 SpreadsheetML Comments + VML Schema */\nfunction parse_vml(data/*:string*/, sheet, comments) {\n\tvar cidx = 0;\n\t(str_match_xml_ns_g(data, \"shape\")||[]).forEach(function(m) {\n\t\tvar type = \"\";\n\t\tvar hidden = true;\n\t\tvar aidx = -1;\n\t\tvar R = -1, C = -1;\n\t\tm.replace(tagregex, function(x/*:string*/, idx/*:number*/) {\n\t\t\tvar y = parsexmltag(x);\n\t\t\tswitch(strip_ns(y[0])) {\n\t\t\t\tcase '<ClientData': if(y.ObjectType) type = y.ObjectType; break;\n\n\t\t\t\tcase '<Visible': case '<Visible/>': hidden = false; break;\n\n\t\t\t\tcase '<Row': case '<Row>': aidx = idx + x.length; break;\n\t\t\t\tcase '</Row>': R = +m.slice(aidx, idx).trim(); break;\n\n\t\t\t\tcase '<Column': case '<Column>': aidx = idx + x.length; break;\n\t\t\t\tcase '</Column>': C = +m.slice(aidx, idx).trim(); break;\n\t\t\t}\n\t\t\treturn \"\";\n\t\t});\n\t\tswitch(type) {\n\t\tcase 'Note':\n\t\t\tvar cell = ws_get_cell_stub(sheet, ((R>=0 && C>=0) ? encode_cell({r:R,c:C}) : comments[cidx].ref));\n\t\t\tif(cell.c) {\n\t\t\t\tcell.c.hidden = hidden;\n\t\t\t}\n\t\t\t++cidx;\n\t\t\tbreak;\n\t\t}\n\n\t});\n}\n\n\n/* comment boxes */\nfunction write_vml(rId/*:number*/, comments, ws) {\n\tvar csize = [21600, 21600];\n\t/* L.5.2.1.2 Path Attribute */\n\tvar bbox = [\"m0,0l0\",csize[1],csize[0],csize[1],csize[0],\"0xe\"].join(\",\");\n\tvar o = [\n\t\twritextag(\"xml\", null, { 'xmlns:v': XLMLNS.v, 'xmlns:o': XLMLNS.o, 'xmlns:x': XLMLNS.x, 'xmlns:mv': XLMLNS.mv }).replace(/\\/>/,\">\"),\n\t\twritextag(\"o:shapelayout\", writextag(\"o:idmap\", null, {'v:ext':\"edit\", 'data':rId}), {'v:ext':\"edit\"})\n\t];\n\n\tvar _shapeid = 65536 * rId;\n\n\tvar _comments = comments || [];\n\tif(_comments.length > 0) o.push(writextag(\"v:shapetype\", [\n\t\twritextag(\"v:stroke\", null, {joinstyle:\"miter\"}),\n\t\twritextag(\"v:path\", null, {gradientshapeok:\"t\", 'o:connecttype':\"rect\"})\n\t].join(\"\"), {id:\"_x0000_t202\", coordsize:csize.join(\",\"), 'o:spt':202, path:bbox}));\n\n\t_comments.forEach(function(x) { ++_shapeid; o.push(write_vml_comment(x, _shapeid)); });\n\to.push('</xml>');\n\treturn o.join(\"\");\n}\n\nfunction write_vml_comment(x, _shapeid, ws)/*:string*/ {\n\tvar c = decode_cell(x[0]);\n\tvar fillopts = /*::(*/{'color2':\"#BEFF82\", 'type':\"gradient\"}/*:: :any)*/;\n\tif(fillopts.type == \"gradient\") fillopts.angle = \"-180\";\n\tvar fillparm = fillopts.type == \"gradient\" ? writextag(\"o:fill\", null, {type:\"gradientUnscaled\", 'v:ext':\"view\"}) : null;\n\tvar fillxml = writextag('v:fill', fillparm, fillopts);\n\n\tvar shadata = ({on:\"t\", 'obscured':\"t\"}/*:any*/);\n\n\treturn [\n\t'<v:shape' + wxt_helper({\n\t\tid:'_x0000_s' + _shapeid,\n\t\ttype:\"#_x0000_t202\",\n\t\tstyle:\"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10\" + (x[1].hidden ? \";visibility:hidden\" : \"\") ,\n\t\tfillcolor:\"#ECFAD4\",\n\t\tstrokecolor:\"#edeaa1\"\n\t}) + '>',\n\t\tfillxml,\n\t\twritextag(\"v:shadow\", null, shadata),\n\t\twritextag(\"v:path\", null, {'o:connecttype':\"none\"}),\n\t\t'<v:textbox><div style=\"text-align:left\"></div></v:textbox>',\n\t\t'<x:ClientData ObjectType=\"Note\">',\n\t\t\t'<x:MoveWithCells/>',\n\t\t\t'<x:SizeWithCells/>',\n\t\t\t/* Part 4 19.4.2.3 Anchor (Anchor) */\n\t\t\twritetag('x:Anchor', [c.c+1, 0, c.r+1, 0, c.c+3, 20, c.r+5, 20].join(\",\")),\n\t\t\twritetag('x:AutoFill', \"False\"),\n\t\t\twritetag('x:Row', String(c.r)),\n\t\t\twritetag('x:Column', String(c.c)),\n\t\t\tx[1].hidden ? '' : '<x:Visible/>',\n\t\t'</x:ClientData>',\n\t'</v:shape>'\n\t].join(\"\");\n}\nfunction sheet_insert_comments(sheet/*:WorkSheet*/, comments/*:Array<RawComment>*/, threaded/*:boolean*/, people/*:?Array<any>*/) {\n\tvar dense = sheet[\"!data\"] != null;\n\tvar cell/*:Cell*/;\n\tcomments.forEach(function(comment) {\n\t\tvar r = decode_cell(comment.ref);\n\t\tif(r.r < 0 || r.c < 0) return;\n\t\tif(dense) {\n\t\t\tif(!sheet[\"!data\"][r.r]) sheet[\"!data\"][r.r] = [];\n\t\t\tcell = sheet[\"!data\"][r.r][r.c];\n\t\t} else cell = sheet[comment.ref];\n\t\tif (!cell) {\n\t\t\tcell = ({t:\"z\"}/*:any*/);\n\t\t\tif(dense) sheet[\"!data\"][r.r][r.c] = cell;\n\t\t\telse sheet[comment.ref] = cell;\n\t\t\tvar range = safe_decode_range(sheet[\"!ref\"]||\"BDWGO1000001:A1\");\n\t\t\tif(range.s.r > r.r) range.s.r = r.r;\n\t\t\tif(range.e.r < r.r) range.e.r = r.r;\n\t\t\tif(range.s.c > r.c) range.s.c = r.c;\n\t\t\tif(range.e.c < r.c) range.e.c = r.c;\n\t\t\tvar encoded = encode_range(range);\n\t\t\tsheet[\"!ref\"] = encoded;\n\t\t}\n\n\t\tif (!cell.c) cell.c = [];\n\t\tvar o/*:Comment*/ = ({a: comment.author, t: comment.t, r: comment.r, T: threaded});\n\t\tif(comment.h) o.h = comment.h;\n\n\t\t/* threaded comments always override */\n\t\tfor(var i = cell.c.length - 1; i >= 0; --i) {\n\t\t\tif(!threaded && cell.c[i].T) return;\n\t\t\tif(threaded && !cell.c[i].T) cell.c.splice(i, 1);\n\t\t}\n\t\tif(threaded && people) for(i = 0; i < people.length; ++i) {\n\t\t\tif(o.a == people[i].id) { o.a = people[i].name || o.a; break; }\n\t\t}\n\t\tcell.c.push(o);\n\t});\n}\n/* 18.7 Comments */\nfunction parse_comments_xml(data/*:string*/, opts)/*:Array<RawComment>*/ {\n\t/* 18.7.6 CT_Comments */\n\tif(data.match(/<(?:\\w+:)?comments *\\/>/)) return [];\n\tvar authors/*:Array<string>*/ = [];\n\tvar commentList/*:Array<RawComment>*/ = [];\n\tvar authtag = str_match_xml_ns(data, \"authors\");\n\tif(authtag && authtag[1]) authtag[1].split(/<\\/\\w*:?author>/).forEach(function(x) {\n\t\tif(x === \"\" || x.trim() === \"\") return;\n\t\tvar a = x.match(/<(?:\\w+:)?author[^<>]*>(.*)/);\n\t\tif(a) authors.push(a[1]);\n\t});\n\tvar cmnttag = str_match_xml_ns(data, \"commentList\");\n\tif(cmnttag && cmnttag[1]) cmnttag[1].split(/<\\/\\w*:?comment>/).forEach(function(x) {\n\t\tif(x === \"\" || x.trim() === \"\") return;\n\t\tvar cm = x.match(/<(?:\\w+:)?comment[^<>]*>/);\n\t\tif(!cm) return;\n\t\tvar y = parsexmltag(cm[0]);\n\t\tvar comment/*:RawComment*/ = ({ author: y.authorId && authors[y.authorId] || \"sheetjsghost\", ref: y.ref, guid: y.guid }/*:any*/);\n\t\tvar cell = decode_cell(y.ref);\n\t\tif(opts.sheetRows && opts.sheetRows <= cell.r) return;\n\t\tvar textMatch = str_match_xml_ns(x, \"text\");\n\t\tvar rt = !!textMatch && !!textMatch[1] && parse_si(textMatch[1]) || {r:\"\",t:\"\",h:\"\"};\n\t\tcomment.r = rt.r;\n\t\tif(rt.r == \"<t></t>\") rt.t = rt.h = \"\";\n\t\tcomment.t = (rt.t||\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\");\n\t\tif(opts.cellHTML) comment.h = rt.h;\n\t\tcommentList.push(comment);\n\t});\n\treturn commentList;\n}\n\nfunction write_comments_xml(data/*::, opts*/) {\n\tvar o = [XML_HEADER, writextag('comments', null, { 'xmlns': XMLNS_main[0] })];\n\n\tvar iauthor/*:Array<string>*/ = [];\n\to.push(\"<authors>\");\n\tdata.forEach(function(x) { x[1].forEach(function(w) { var a = escapexml(w.a);\n\t\tif(iauthor.indexOf(a) == -1) {\n\t\t\tiauthor.push(a);\n\t\t\to.push(\"<author>\" + a + \"</author>\");\n\t\t}\n\t\tif(w.T && w.ID && iauthor.indexOf(\"tc=\" + w.ID) == -1) {\n\t\t\tiauthor.push(\"tc=\" + w.ID);\n\t\t\to.push(\"<author>\" + \"tc=\" + w.ID + \"</author>\");\n\t\t}\n\t}); });\n\tif(iauthor.length == 0) { iauthor.push(\"SheetJ5\"); o.push(\"<author>SheetJ5</author>\"); }\n\to.push(\"</authors>\");\n\to.push(\"<commentList>\");\n\tdata.forEach(function(d) {\n\t\t/* 18.7.3 CT_Comment */\n\t\tvar lastauthor = 0, ts = [], tcnt = 0;\n\t\tif(d[1][0] && d[1][0].T && d[1][0].ID) lastauthor = iauthor.indexOf(\"tc=\" + d[1][0].ID);\n\t\td[1].forEach(function(c) {\n\t\t\tif(c.a) lastauthor = iauthor.indexOf(escapexml(c.a));\n\t\t\tif(c.T) ++tcnt;\n\t\t\tts.push(c.t == null ? \"\" : escapexml(c.t));\n\t\t});\n\t\tif(tcnt === 0) {\n\t\t\td[1].forEach(function(c) {\n\t\t\t\to.push('<comment ref=\"' + d[0] + '\" authorId=\"' + iauthor.indexOf(escapexml(c.a)) + '\"><text>');\n\t\t\t\to.push(writetag(\"t\", c.t == null ? \"\" : escapexml(c.t)));\n\t\t\t\to.push('</text></comment>');\n\t\t\t});\n\t\t} else {\n\t\t\tif(d[1][0] && d[1][0].T && d[1][0].ID) lastauthor = iauthor.indexOf(\"tc=\" + d[1][0].ID);\n\t\t\t/* based on Threaded Comments -> Comments projection */\n\t\t\to.push('<comment ref=\"' + d[0] + '\" authorId=\"' + lastauthor + '\"><text>');\n\t\t\tvar t = \"Comment:\\n    \" + (ts[0]) + \"\\n\";\n\t\t\tfor(var i = 1; i < ts.length; ++i) t += \"Reply:\\n    \" + ts[i] + \"\\n\";\n\t\t\to.push(writetag(\"t\", escapexml(t)));\n\t\t\to.push('</text></comment>');\n\t\t}\n\t});\n\to.push(\"</commentList>\");\n\tif(o.length>2) { o[o.length] = ('</comments>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSX] 2.1.17 */\nfunction parse_tcmnt_xml(data/*:string*/, opts)/*:Array<RawComment>*/ {\n\tvar out = [];\n\tvar pass = false, comment = {}, tidx = 0;\n\tdata.replace(tagregex, function xml_tcmnt(x, idx) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\n\t\t\t/* 2.6.207 ThreadedComments CT_ThreadedComments */\n\t\t\tcase '<ThreadedComments': break;\n\t\t\tcase '</ThreadedComments>': break;\n\n\t\t\t/* 2.6.205 threadedComment CT_ThreadedComment */\n\t\t\tcase '<threadedComment': comment = {author: y.personId, guid: y.id, ref: y.ref, T: 1}; break;\n\t\t\tcase '</threadedComment>': if(comment.t != null) out.push(comment); break;\n\n\t\t\tcase '<text>': case '<text': tidx = idx + x.length; break;\n\t\t\tcase '</text>': comment.t = data.slice(tidx, idx).replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\"); break;\n\n\t\t\t/* 2.6.206 mentions CT_ThreadedCommentMentions TODO */\n\t\t\tcase '<mentions': case '<mentions>': pass = true; break;\n\t\t\tcase '</mentions>': pass = false; break;\n\n\t\t\t/* 2.6.202 mention CT_Mention TODO */\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;\n\t\t\t/* 18.2.7  ext CT_Extension + */\n\t\t\tcase '<ext': pass=true; break;\n\t\t\tcase '</ext>': pass=false; break;\n\n\t\t\tdefault: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in threaded comments');\n\t\t}\n\t\treturn x;\n\t});\n\treturn out;\n}\n\nfunction write_tcmnt_xml(comments, people, opts) {\n\tvar o = [XML_HEADER, writextag('ThreadedComments', null, { 'xmlns': XMLNS.TCMNT }).replace(/[\\/]>/, \">\")];\n\tcomments.forEach(function(carr) {\n\t\tvar rootid = \"\";\n\t\t(carr[1] || []).forEach(function(c, idx) {\n\t\t\tif(!c.T) { delete c.ID; return; }\n\t\t\tif(c.a && people.indexOf(c.a) == -1) people.push(c.a);\n\t\t\tvar tcopts = {\n\t\t\t\tref: carr[0],\n\t\t\t\tid: \"{54EE7951-7262-4200-6969-\" + (\"000000000000\" + opts.tcid++).slice(-12) + \"}\"\n\t\t\t};\n\t\t\tif(idx == 0) rootid = tcopts.id;\n\t\t\telse tcopts.parentId = rootid;\n\t\t\tc.ID = tcopts.id;\n\t\t\tif(c.a) tcopts.personId = \"{54EE7950-7262-4200-6969-\" + (\"000000000000\" + people.indexOf(c.a)).slice(-12) + \"}\";\n\t\t\to.push(writextag('threadedComment', writetag('text', c.t||\"\"), tcopts));\n\t\t});\n\t});\n\to.push('</ThreadedComments>');\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSX] 2.1.18 */\nfunction parse_people_xml(data/*:string*/, opts) {\n\tvar out = [];\n\tvar pass = false;\n\tdata.replace(tagregex, function xml_tcmnt(x) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\n\t\t\t/* 2.4.85 personList CT_PersonList */\n\t\t\tcase '<personList': break;\n\t\t\tcase '</personList>': break;\n\n\t\t\t/* 2.6.203 person CT_Person TODO: providers */\n\t\t\tcase '<person': out.push({name: y.displayname, id: y.id }); break;\n\t\t\tcase '</person>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;\n\t\t\t/* 18.2.7  ext CT_Extension + */\n\t\t\tcase '<ext': pass=true; break;\n\t\t\tcase '</ext>': pass=false; break;\n\n\t\t\tdefault: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in threaded comments');\n\t\t}\n\t\treturn x;\n\t});\n\treturn out;\n}\nfunction write_people_xml(people/*, opts*/) {\n\tvar o = [XML_HEADER, writextag('personList', null, {\n\t\t'xmlns': XMLNS.TCMNT,\n\t\t'xmlns:x': XMLNS_main[0]\n\t}).replace(/[\\/]>/, \">\")];\n\tpeople.forEach(function(person, idx) {\n\t\to.push(writextag('person', null, {\n\t\t\tdisplayName: person,\n\t\t\tid: \"{54EE7950-7262-4200-6969-\" + (\"000000000000\" + idx).slice(-12) + \"}\",\n\t\t\tuserId: person,\n\t\t\tproviderId: \"None\"\n\t\t}));\n\t});\n\to.push(\"</personList>\");\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.28 BrtBeginComment */\nfunction parse_BrtBeginComment(data) {\n\tvar out = {};\n\tout.iauthor = data.read_shift(4);\n\tvar rfx = parse_UncheckedRfX(data, 16);\n\tout.rfx = rfx.s;\n\tout.ref = encode_cell(rfx.s);\n\tdata.l += 16; /*var guid = parse_GUID(data); */\n\treturn out;\n}\nfunction write_BrtBeginComment(data, o) {\n\tif(o == null) o = new_buf(36);\n\to.write_shift(4, data[1].iauthor);\n\twrite_UncheckedRfX((data[0]/*:any*/), o);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.327 BrtCommentAuthor */\nvar parse_BrtCommentAuthor = parse_XLWideString;\nfunction write_BrtCommentAuthor(data) { return write_XLWideString(data.slice(0, 54)); }\n\n/* [MS-XLSB] 2.1.7.8 Comments */\nfunction parse_comments_bin(data, opts)/*:Array<RawComment>*/ {\n\tvar out/*:Array<RawComment>*/ = [];\n\tvar authors/*:Array<string>*/ = [];\n\tvar c = {};\n\tvar pass = false;\n\trecordhopper(data, function hopper_cmnt(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x0278: /* 'BrtCommentAuthor' */\n\t\t\t\tauthors.push(val); break;\n\t\t\tcase 0x027B: /* 'BrtBeginComment' */\n\t\t\t\tc = val; break;\n\t\t\tcase 0x027D: /* 'BrtCommentText' */\n\t\t\t\tc.t = val.t; c.h = val.h; c.r = val.r; break;\n\t\t\tcase 0x027C: /* 'BrtEndComment' */\n\t\t\t\tc.author = authors[c.iauthor];\n\t\t\t\tdelete (c/*:any*/).iauthor;\n\t\t\t\tif(opts.sheetRows && c.rfx && opts.sheetRows <= c.rfx.r) break;\n\t\t\t\tif(!c.t) c.t = \"\";\n\t\t\t\tdelete c.rfx; out.push(c); break;\n\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */ break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */ break;\n\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn out;\n}\n\nfunction write_comments_bin(data/*::, opts*/) {\n\tvar ba = buf_array();\n\tvar iauthor/*:Array<string>*/ = [];\n\twrite_record(ba, 0x0274 /* BrtBeginComments */);\n\n\twrite_record(ba, 0x0276 /* BrtBeginCommentAuthors */);\n\tdata.forEach(function(comment) {\n\t\tcomment[1].forEach(function(c) {\n\t\t\tif(iauthor.indexOf(c.a) > -1) return;\n\t\t\tiauthor.push(c.a.slice(0,54));\n\t\t\twrite_record(ba, 0x0278 /* BrtCommentAuthor */, write_BrtCommentAuthor(c.a));\n\t\t\tif(c.T && c.ID && iauthor.indexOf(\"tc=\" + c.ID) == -1) {\n\t\t\t\tiauthor.push(\"tc=\" + c.ID);\n\t\t\t\twrite_record(ba, 0x0278 /* BrtCommentAuthor */, write_BrtCommentAuthor(\"tc=\" + c.ID));\n\t\t\t}\n\t\t});\n\t});\n\twrite_record(ba, 0x0277 /* BrtEndCommentAuthors */);\n\n\twrite_record(ba, 0x0279 /* BrtBeginCommentList */);\n\tdata.forEach(function(comment) {\n\t\tcomment[1].forEach(function(c) {\n\t\t\tvar _ia = -1;\n\t\t\tif(c.ID) _ia = iauthor.indexOf(\"tc=\" + c.ID);\n\t\t\tif(_ia == -1 && comment[1][0].T && comment[1][0].ID) _ia = iauthor.indexOf(\"tc=\" + comment[1][0].ID);\n\t\t\tif(_ia == -1) _ia = iauthor.indexOf(c.a);\n\t\t\tc.iauthor = _ia;\n\t\t\tvar range = {s:decode_cell(comment[0]),e:decode_cell(comment[0])};\n\t\t\twrite_record(ba, 0x027B /* BrtBeginComment */, write_BrtBeginComment([range, c]));\n\t\t\tif(c.t && c.t.length > 0) write_record(ba, 0x027D /* BrtCommentText */, write_BrtCommentText(c));\n\t\t\twrite_record(ba, 0x027C /* BrtEndComment */);\n\t\t\tdelete c.iauthor;\n\t\t});\n\t});\n\twrite_record(ba, 0x027A /* BrtEndCommentList */);\n\n\twrite_record(ba, 0x0275 /* BrtEndComments */);\n\treturn ba.end();\n}\nvar CT_VBA = \"application/vnd.ms-office.vbaProject\";\nfunction make_vba_xls(cfb) {\n  var newcfb = CFB.utils.cfb_new({ root: \"R\" });\n  cfb.FullPaths.forEach(function(p, i) {\n    if (p.slice(-1) === \"/\" || !p.match(/_VBA_PROJECT_CUR/))\n      return;\n    var newpath = p.replace(/^[^\\/]*/, \"R\").replace(/\\/_VBA_PROJECT_CUR\\u0000*/, \"\");\n    CFB.utils.cfb_add(newcfb, newpath, cfb.FileIndex[i].content);\n  });\n  return CFB.write(newcfb);\n}\nfunction fill_vba_xls(cfb, vba) {\n  vba.FullPaths.forEach(function(p, i) {\n    if (i == 0)\n      return;\n    var newpath = p.replace(/^[\\/]*[^\\/]*[\\/]/, \"/_VBA_PROJECT_CUR/\");\n    if (newpath.slice(-1) !== \"/\")\n      CFB.utils.cfb_add(cfb, newpath, vba.FileIndex[i].content);\n  });\n}\nvar VBAFMTS = [\"xlsb\", \"xlsm\", \"xlam\", \"biff8\", \"xla\"];\n/* macro and dialog sheet stubs */\nfunction parse_ds_bin(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'dialog'}; }\nfunction parse_ds_xml(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'dialog'}; }\nfunction parse_ms_bin(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'macro'}; }\nfunction parse_ms_xml(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'macro'}; }\n/* TODO: it will be useful to parse the function str */\nvar rc_to_a1 = /*#__PURE__*/(function(){\n\tvar rcregex = /(^|[^A-Za-z_])R(\\[?-?\\d+\\]|[1-9]\\d*|)C(\\[?-?\\d+\\]|[1-9]\\d*|)(?![A-Za-z0-9_])/g;\n\tvar rcbase/*:Cell*/ = ({r:0,c:0}/*:any*/);\n\tfunction rcfunc($$,$1,$2,$3) {\n\t\tvar cRel = false, rRel = false;\n\n\t\tif($2.length == 0) rRel = true;\n\t\telse if($2.charAt(0) == \"[\") { rRel = true; $2 = $2.slice(1, -1); }\n\n\t\tif($3.length == 0) cRel = true;\n\t\telse if($3.charAt(0) == \"[\") { cRel = true; $3 = $3.slice(1, -1); }\n\n\t\tvar R = $2.length>0?parseInt($2,10)|0:0, C = $3.length>0?parseInt($3,10)|0:0;\n\n\t\tif(cRel) C += rcbase.c; else --C;\n\t\tif(rRel) R += rcbase.r; else --R;\n\t\treturn $1 + (cRel ? \"\" : \"$\") + encode_col(C) + (rRel ? \"\" : \"$\") + encode_row(R);\n\t}\n\treturn function rc_to_a1(fstr/*:string*/, base/*:Cell*/)/*:string*/ {\n\t\trcbase = base;\n\t\treturn fstr.replace(rcregex, rcfunc);\n\t};\n})();\n\nvar crefregex = /(^|[^._A-Z0-9])(\\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\\$?)(\\d{1,7})(?![_.\\(A-Za-z0-9])/g;\ntry {\n\tcrefregex = /(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})(?![_.\\(A-Za-z0-9])/g;\n}catch(e){}\nvar a1_to_rc = /*#__PURE__*/(function(){\n\treturn function a1_to_rc(fstr/*:string*/, base/*:CellAddress*/) {\n\t\treturn fstr.replace(crefregex, function($0, $1, $2, $3, $4, $5) {\n\t\t\tvar c = decode_col($3) - ($2 ? 0 : base.c);\n\t\t\tvar r = decode_row($5) - ($4 ? 0 : base.r);\n\t\t\tvar R = $4 == \"$\" ? (r+1) : (r == 0 ? \"\" : \"[\" + r + \"]\");\n\t\t\tvar C = $2 == \"$\" ? (c+1) : (c == 0 ? \"\" : \"[\" + c + \"]\");\n\t\t\treturn $1 + \"R\" + R + \"C\" + C;\n\t\t});\n\t};\n})();\n\n/* no defined name can collide with a valid cell address A1:XFD1048576 ... except LOG10! */\nfunction shift_formula_str(f/*:string*/, delta/*:Cell*/)/*:string*/ {\n\treturn f.replace(crefregex, function($0, $1, $2, $3, $4, $5) {\n\t\treturn $1+($2==\"$\" ? $2+$3 : encode_col(decode_col($3)+delta.c))+($4==\"$\" ? $4+$5 : encode_row(decode_row($5) + delta.r));\n\t});\n}\n\nfunction shift_formula_xlsx(f/*:string*/, range/*:string*/, cell/*:string*/)/*:string*/ {\n\tvar r = decode_range(range), s = r.s, c = decode_cell(cell);\n\tvar delta = {r:c.r - s.r, c:c.c - s.c};\n\treturn shift_formula_str(f, delta);\n}\n\n/* TODO: parse formula */\nfunction fuzzyfmla(f/*:string*/)/*:boolean*/ {\n\tif(f.length == 1) return false;\n\treturn true;\n}\n\nfunction _xlfn(f/*:string*/)/*:string*/ {\n\treturn f.replace(/_xlfn\\./g,\"\");\n}\nfunction parseread1(blob) { blob.l+=1; return; }\n\n/* [MS-XLS] 2.5.51 */\nfunction parse_ColRelU(blob, length) {\n\tvar c = blob.read_shift(length == 1 ? 1 : 2);\n\treturn [c & 0x3FFF, (c >> 14) & 1, (c >> 15) & 1];\n}\n\n/* [MS-XLS] 2.5.198.105 ; [MS-XLSB] 2.5.97.89 */\nfunction parse_RgceArea(blob, length, opts) {\n\tvar w = 2;\n\tif(opts) {\n\t\tif(opts.biff >= 2 && opts.biff <= 5) return parse_RgceArea_BIFF2(blob, length, opts);\n\t\telse if(opts.biff == 12) w = 4;\n\t}\n\tvar r=blob.read_shift(w), R=blob.read_shift(w);\n\tvar c=parse_ColRelU(blob, 2);\n\tvar C=parse_ColRelU(blob, 2);\n\treturn { s:{r:r, c:c[0], cRel:c[1], rRel:c[2]}, e:{r:R, c:C[0], cRel:C[1], rRel:C[2]} };\n}\n/* BIFF 2-5 encodes flags in the row field */\nfunction parse_RgceArea_BIFF2(blob/*::, length, opts*/) {\n\tvar r=parse_ColRelU(blob, 2), R=parse_ColRelU(blob, 2);\n\tvar c=blob.read_shift(1);\n\tvar C=blob.read_shift(1);\n\treturn { s:{r:r[0], c:c, cRel:r[1], rRel:r[2]}, e:{r:R[0], c:C, cRel:R[1], rRel:R[2]} };\n}\n\n/* [MS-XLS] 2.5.198.105 ; [MS-XLSB] 2.5.97.90 */\nfunction parse_RgceAreaRel(blob, length, opts) {\n\tif(opts.biff < 8) return parse_RgceArea_BIFF2(blob, length, opts);\n\tvar r=blob.read_shift(opts.biff == 12 ? 4 : 2), R=blob.read_shift(opts.biff == 12 ? 4 : 2);\n\tvar c=parse_ColRelU(blob, 2);\n\tvar C=parse_ColRelU(blob, 2);\n\treturn { s:{r:r, c:c[0], cRel:c[1], rRel:c[2]}, e:{r:R, c:C[0], cRel:C[1], rRel:C[2]} };\n}\n\n/* [MS-XLS] 2.5.198.109 ; [MS-XLSB] 2.5.97.91 */\nfunction parse_RgceLoc(blob, length, opts) {\n\tif(opts && opts.biff >= 2 && opts.biff <= 5) return parse_RgceLoc_BIFF2(blob, length, opts);\n\tvar r = blob.read_shift(opts && opts.biff == 12 ? 4 : 2);\n\tvar c = parse_ColRelU(blob, 2);\n\treturn {r:r, c:c[0], cRel:c[1], rRel:c[2]};\n}\nfunction parse_RgceLoc_BIFF2(blob/*::, length, opts*/) {\n\tvar r = parse_ColRelU(blob, 2);\n\tvar c = blob.read_shift(1);\n\treturn {r:r[0], c:c, cRel:r[1], rRel:r[2]};\n}\n\n/* [MS-XLS] 2.5.198.107, 2.5.47 */\nfunction parse_RgceElfLoc(blob/*::, length, opts*/) {\n\tvar r = blob.read_shift(2);\n\tvar c = blob.read_shift(2);\n\treturn {r:r, c:c & 0xFF, fQuoted:!!(c & 0x4000), cRel:c>>15, rRel:c>>15 };\n}\n\n/* [MS-XLS] 2.5.198.111 ; [MS-XLSB] 2.5.97.92 TODO */\nfunction parse_RgceLocRel(blob, length, opts) {\n\tvar biff = opts && opts.biff ? opts.biff : 8;\n\tif(biff >= 2 && biff <= 5) return parse_RgceLocRel_BIFF2(blob, length, opts);\n\tvar r = blob.read_shift(biff >= 12 ? 4 : 2);\n\tvar cl = blob.read_shift(2);\n\tvar cRel = (cl & 0x4000) >> 14, rRel = (cl & 0x8000) >> 15;\n\tcl &= 0x3FFF;\n\tif(rRel == 1) while(r > 0x7FFFF) r -= 0x100000;\n\tif(cRel == 1) while(cl > 0x1FFF) cl = cl - 0x4000;\n\treturn {r:r,c:cl,cRel:cRel,rRel:rRel};\n}\nfunction parse_RgceLocRel_BIFF2(blob/*::, length:number, opts*/) {\n\tvar rl = blob.read_shift(2);\n\tvar c = blob.read_shift(1);\n\tvar rRel = (rl & 0x8000) >> 15, cRel = (rl & 0x4000) >> 14;\n\trl &= 0x3FFF;\n\tif(rRel == 1 && rl >= 0x2000) rl = rl - 0x4000;\n\tif(cRel == 1 && c >= 0x80) c = c - 0x100;\n\treturn {r:rl,c:c,cRel:cRel,rRel:rRel};\n}\n\n/* [MS-XLS] 2.5.198.27 ; [MS-XLSB] 2.5.97.18 */\nfunction parse_PtgArea(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar area = parse_RgceArea(blob, opts.biff >= 2 && opts.biff <= 5 ? 6 : 8, opts);\n\treturn [type, area];\n}\n\n/* [MS-XLS] 2.5.198.28 ; [MS-XLSB] 2.5.97.19 */\nfunction parse_PtgArea3d(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar ixti = blob.read_shift(2, 'i');\n\tvar w = 8;\n\tif(opts) switch(opts.biff) {\n\t\tcase 5: blob.l += 12; w = 6; break;\n\t\tcase 12: w = 12; break;\n\t}\n\tvar area = parse_RgceArea(blob, w, opts);\n\treturn [type, ixti, area];\n}\n\n/* [MS-XLS] 2.5.198.29 ; [MS-XLSB] 2.5.97.20 */\nfunction parse_PtgAreaErr(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tblob.l += opts && (opts.biff > 8) ? 12 : (opts.biff < 8 ? 6 : 8);\n\treturn [type];\n}\n/* [MS-XLS] 2.5.198.30 ; [MS-XLSB] 2.5.97.21 */\nfunction parse_PtgAreaErr3d(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar ixti = blob.read_shift(2);\n\tvar w = 8;\n\tif(opts) switch(opts.biff) {\n\t\tcase 5: blob.l += 12; w = 6; break;\n\t\tcase 12: w = 12; break;\n\t}\n\tblob.l += w;\n\treturn [type, ixti];\n}\n\n/* [MS-XLS] 2.5.198.31 ; [MS-XLSB] 2.5.97.22 */\nfunction parse_PtgAreaN(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar area = parse_RgceAreaRel(blob, length - 1, opts);\n\treturn [type, area];\n}\n\n/* [MS-XLS] 2.5.198.32 ; [MS-XLSB] 2.5.97.23 */\nfunction parse_PtgArray(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tblob.l += opts.biff == 2 ? 6 : opts.biff == 12 ? 14 : 7;\n\treturn [type];\n}\n\n/* [MS-XLS] 2.5.198.33 ; [MS-XLSB] 2.5.97.24 */\nfunction parse_PtgAttrBaxcel(blob) {\n\tvar bitSemi = blob[blob.l+1] & 0x01; /* 1 = volatile */\n\tvar bitBaxcel = 1;\n\tblob.l += 4;\n\treturn [bitSemi, bitBaxcel];\n}\n\n/* [MS-XLS] 2.5.198.34 ; [MS-XLSB] 2.5.97.25 */\nfunction parse_PtgAttrChoose(blob, length, opts)/*:Array<number>*/ {\n\tblob.l +=2;\n\tvar offset = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\tvar o/*:Array<number>*/ = [];\n\t/* offset is 1 less than the number of elements */\n\tfor(var i = 0; i <= offset; ++i) o.push(blob.read_shift(opts && opts.biff == 2 ? 1 : 2));\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.198.35 ; [MS-XLSB] 2.5.97.26 */\nfunction parse_PtgAttrGoto(blob, length, opts) {\n\tvar bitGoto = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += 2;\n\treturn [bitGoto, blob.read_shift(opts && opts.biff == 2 ? 1 : 2)];\n}\n\n/* [MS-XLS] 2.5.198.36 ; [MS-XLSB] 2.5.97.27 */\nfunction parse_PtgAttrIf(blob, length, opts) {\n\tvar bitIf = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += 2;\n\treturn [bitIf, blob.read_shift(opts && opts.biff == 2 ? 1 : 2)];\n}\n\n/* [MS-XLSB] 2.5.97.28 */\nfunction parse_PtgAttrIfError(blob) {\n\tvar bitIf = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += 2;\n\treturn [bitIf, blob.read_shift(2)];\n}\n\n/* [MS-XLS] 2.5.198.37 ; [MS-XLSB] 2.5.97.29 */\nfunction parse_PtgAttrSemi(blob, length, opts) {\n\tvar bitSemi = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += opts && opts.biff == 2 ? 3 : 4;\n\treturn [bitSemi];\n}\n\n/* [MS-XLS] 2.5.198.40 ; [MS-XLSB] 2.5.97.32 */\nfunction parse_PtgAttrSpaceType(blob/*::, length*/) {\n\tvar type = blob.read_shift(1), cch = blob.read_shift(1);\n\treturn [type, cch];\n}\n\n/* [MS-XLS] 2.5.198.38 ; [MS-XLSB] 2.5.97.30 */\nfunction parse_PtgAttrSpace(blob) {\n\tblob.read_shift(2);\n\treturn parse_PtgAttrSpaceType(blob, 2);\n}\n\n/* [MS-XLS] 2.5.198.39 ; [MS-XLSB] 2.5.97.31 */\nfunction parse_PtgAttrSpaceSemi(blob) {\n\tblob.read_shift(2);\n\treturn parse_PtgAttrSpaceType(blob, 2);\n}\n\n/* [MS-XLS] 2.5.198.84 ; [MS-XLSB] 2.5.97.68 TODO */\nfunction parse_PtgRef(blob, length, opts) {\n\t//var ptg = blob[blob.l] & 0x1F;\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar loc = parse_RgceLoc(blob, 0, opts);\n\treturn [type, loc];\n}\n\n/* [MS-XLS] 2.5.198.88 ; [MS-XLSB] 2.5.97.72 TODO */\nfunction parse_PtgRefN(blob, length, opts) {\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar loc = parse_RgceLocRel(blob, 0, opts);\n\treturn [type, loc];\n}\n\n/* [MS-XLS] 2.5.198.85 ; [MS-XLSB] 2.5.97.69 TODO */\nfunction parse_PtgRef3d(blob, length, opts) {\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar ixti = blob.read_shift(2); // XtiIndex\n\tif(opts && opts.biff == 5) blob.l += 12;\n\tvar loc = parse_RgceLoc(blob, 0, opts); // TODO: or RgceLocRel\n\treturn [type, ixti, loc];\n}\n\n\n/* [MS-XLS] 2.5.198.62 ; [MS-XLSB] 2.5.97.45 TODO */\nfunction parse_PtgFunc(blob, length, opts) {\n\t//var ptg = blob[blob.l] & 0x1F;\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar iftab = blob.read_shift(opts && opts.biff <= 3 ? 1 : 2);\n\treturn [FtabArgc[iftab], Ftab[iftab], type];\n}\n/* [MS-XLS] 2.5.198.63 ; [MS-XLSB] 2.5.97.46 TODO */\nfunction parse_PtgFuncVar(blob, length, opts) {\n\tvar type = blob[blob.l++];\n\tvar cparams = blob.read_shift(1), tab = opts && opts.biff <= 3 ? [(type == 0x58 ? -1 : 0), blob.read_shift(1)]: parsetab(blob);\n\treturn [cparams, (tab[0] === 0 ? Ftab : Cetab)[tab[1]]];\n}\n\nfunction parsetab(blob) {\n\treturn [blob[blob.l+1]>>7, blob.read_shift(2) & 0x7FFF];\n}\n\n/* [MS-XLS] 2.5.198.41 ; [MS-XLSB] 2.5.97.33 */\nfunction parse_PtgAttrSum(blob, length, opts) {\n\tblob.l += opts && opts.biff == 2 ? 3 : 4; return;\n}\n\n/* [MS-XLS] 2.5.198.58 ; [MS-XLSB] 2.5.97.40 */\nfunction parse_PtgExp(blob, length, opts) {\n\tblob.l++;\n\tif(opts && opts.biff == 12) return [blob.read_shift(4, 'i'), 0];\n\tvar row = blob.read_shift(2);\n\tvar col = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\treturn [row, col];\n}\n\n/* [MS-XLS] 2.5.198.57 ; [MS-XLSB] 2.5.97.39 */\nfunction parse_PtgErr(blob) { blob.l++; return BErr[blob.read_shift(1)]; }\n\n/* [MS-XLS] 2.5.198.66 ; [MS-XLSB] 2.5.97.49 */\nfunction parse_PtgInt(blob) { blob.l++; return blob.read_shift(2); }\n\n/* [MS-XLS] 2.5.198.42 ; [MS-XLSB] 2.5.97.34 */\nfunction parse_PtgBool(blob) { blob.l++; return blob.read_shift(1)!==0;}\n\n/* [MS-XLS] 2.5.198.79 ; [MS-XLSB] 2.5.97.63 */\nfunction parse_PtgNum(blob) { blob.l++; return parse_Xnum(blob, 8); }\n\n/* [MS-XLS] 2.5.198.89 ; [MS-XLSB] 2.5.97.74 */\nfunction parse_PtgStr(blob, length, opts) { blob.l++; return parse_ShortXLUnicodeString(blob, length-1, opts); }\n\n/* [MS-XLS] 2.5.192.112 + 2.5.192.11{3,4,5,6,7} */\n/* [MS-XLSB] 2.5.97.93 + 2.5.97.9{4,5,6,7} */\nfunction parse_SerAr(blob, biff/*:number*/) {\n\tvar val = [blob.read_shift(1)];\n\tif(biff == 12) switch(val[0]) {\n\t\tcase 0x02: val[0] = 0x04; break; /* SerBool */\n\t\tcase 0x04: val[0] = 0x10; break; /* SerErr */\n\t\tcase 0x00: val[0] = 0x01; break; /* SerNum */\n\t\tcase 0x01: val[0] = 0x02; break; /* SerStr */\n\t}\n\tswitch(val[0]) {\n\t\tcase 0x04: /* SerBool -- boolean */\n\t\t\tval[1] = parsebool(blob, 1) ? 'TRUE' : 'FALSE';\n\t\t\tif(biff != 12) blob.l += 7; break;\n\t\tcase 0x25: /* appears to be an alias */\n\t\tcase 0x10: /* SerErr -- error */\n\t\t\tval[1] = BErr[blob[blob.l]];\n\t\t\tblob.l += ((biff == 12) ? 4 : 8); break;\n\t\tcase 0x00: /* SerNil -- honestly, I'm not sure how to reproduce this */\n\t\t\tblob.l += 8; break;\n\t\tcase 0x01: /* SerNum -- Xnum */\n\t\t\tval[1] = parse_Xnum(blob, 8); break;\n\t\tcase 0x02: /* SerStr -- XLUnicodeString (<256 chars) */\n\t\t\tval[1] = parse_XLUnicodeString2(blob, 0, {biff:biff > 0 && biff < 8 ? 2 : biff}); break;\n\t\tdefault: throw new Error(\"Bad SerAr: \" + val[0]); /* Unreachable */\n\t}\n\treturn val;\n}\n\n/* [MS-XLS] 2.5.198.61 ; [MS-XLSB] 2.5.97.44 */\nfunction parse_PtgExtraMem(blob, cce, opts) {\n\tvar count = blob.read_shift((opts.biff == 12) ? 4 : 2);\n\tvar out/*:Array<Range>*/ = [];\n\tfor(var i = 0; i != count; ++i) out.push(((opts.biff == 12) ? parse_UncheckedRfX : parse_Ref8U)(blob, 8));\n\treturn out;\n}\n\n/* [MS-XLS] 2.5.198.59 ; [MS-XLSB] 2.5.97.41 */\nfunction parse_PtgExtraArray(blob, length, opts) {\n\tvar rows = 0, cols = 0;\n\tif(opts.biff == 12) {\n\t\trows = blob.read_shift(4); // DRw\n\t\tcols = blob.read_shift(4); // DCol\n\t} else {\n\t\tcols = 1 + blob.read_shift(1); //DColByteU\n\t\trows = 1 + blob.read_shift(2); //DRw\n\t}\n\tif(opts.biff >= 2 && opts.biff < 8) { --rows; if(--cols == 0) cols = 0x100; }\n\t// $FlowIgnore\n\tfor(var i = 0, o/*:Array<Array<any>>*/ = []; i != rows && (o[i] = []); ++i)\n\t\tfor(var j = 0; j != cols; ++j) o[i][j] = parse_SerAr(blob, opts.biff);\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.198.76 ; [MS-XLSB] 2.5.97.60 */\nfunction parse_PtgName(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar w = (!opts || (opts.biff >= 8)) ? 4 : 2;\n\tvar nameindex = blob.read_shift(w);\n\tswitch(opts.biff) {\n\t\tcase 2: blob.l += 5; break;\n\t\tcase 3: case 4: blob.l += 8; break;\n\t\tcase 5: blob.l += 12; break;\n\t}\n\treturn [type, 0, nameindex];\n}\n\n/* [MS-XLS] 2.5.198.77 ; [MS-XLSB] 2.5.97.61 */\nfunction parse_PtgNameX(blob, length, opts) {\n\tif(opts.biff == 5) return parse_PtgNameX_BIFF5(blob, length, opts);\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar ixti = blob.read_shift(2); // XtiIndex\n\tvar nameindex = blob.read_shift(4);\n\treturn [type, ixti, nameindex];\n}\nfunction parse_PtgNameX_BIFF5(blob/*::, length, opts*/) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar ixti = blob.read_shift(2, 'i'); // XtiIndex\n\tblob.l += 8;\n\tvar nameindex = blob.read_shift(2);\n\tblob.l += 12;\n\treturn [type, ixti, nameindex];\n}\n\n/* [MS-XLS] 2.5.198.70 ; [MS-XLSB] 2.5.97.54 */\nfunction parse_PtgMemArea(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tblob.l += (opts && opts.biff == 2 ? 3 : 4);\n\tvar cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\treturn [type, cce];\n}\n\n/* [MS-XLS] 2.5.198.72 ; [MS-XLSB] 2.5.97.56 */\nfunction parse_PtgMemFunc(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\treturn [type, cce];\n}\n\n\n/* [MS-XLS] 2.5.198.86 ; [MS-XLSB] 2.5.97.69 */\nfunction parse_PtgRefErr(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tblob.l += 4;\n\tif(opts.biff < 8) blob.l--;\n\tif(opts.biff == 12) blob.l += 2;\n\treturn [type];\n}\n\n/* [MS-XLS] 2.5.198.87 ; [MS-XLSB] 2.5.97.71 */\nfunction parse_PtgRefErr3d(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar ixti = blob.read_shift(2);\n\tvar w = 4;\n\tif(opts) switch(opts.biff) {\n\t\tcase 5: w = 15; break;\n\t\tcase 12: w = 6; break;\n\t}\n\tblob.l += w;\n\treturn [type, ixti];\n}\n\n/* [MS-XLS] 2.5.198.71 ; [MS-XLSB] 2.5.97.55 */\nvar parse_PtgMemErr = parsenoop;\n/* [MS-XLS] 2.5.198.73  ; [MS-XLSB] 2.5.97.57 */\nvar parse_PtgMemNoMem = parsenoop;\n/* [MS-XLS] 2.5.198.92 */\nvar parse_PtgTbl = parsenoop;\n\nfunction parse_PtgElfLoc(blob, length, opts) {\n\tblob.l += 2;\n\treturn [parse_RgceElfLoc(blob, 4, opts)];\n}\nfunction parse_PtgElfNoop(blob/*::, length, opts*/) {\n\tblob.l += 6;\n\treturn [];\n}\n/* [MS-XLS] 2.5.198.46 */\nvar parse_PtgElfCol = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.47 */\nvar parse_PtgElfColS = parse_PtgElfNoop;\n/* [MS-XLS] 2.5.198.48 */\nvar parse_PtgElfColSV = parse_PtgElfNoop;\n/* [MS-XLS] 2.5.198.49 */\nvar parse_PtgElfColV = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.50 */\nfunction parse_PtgElfLel(blob/*::, length, opts*/) {\n\tblob.l += 2;\n\treturn [parseuint16(blob), blob.read_shift(2) & 0x01];\n}\n/* [MS-XLS] 2.5.198.51 */\nvar parse_PtgElfRadical = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.52 */\nvar parse_PtgElfRadicalLel = parse_PtgElfLel;\n/* [MS-XLS] 2.5.198.53 */\nvar parse_PtgElfRadicalS = parse_PtgElfNoop;\n/* [MS-XLS] 2.5.198.54 */\nvar parse_PtgElfRw = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.55 */\nvar parse_PtgElfRwV = parse_PtgElfLoc;\n\n/* [MS-XLSB] 2.5.97.52 TODO */\nvar PtgListRT = [\n\t\"Data\",\n\t\"All\",\n\t\"Headers\",\n\t\"??\",\n\t\"?Data2\",\n\t\"??\",\n\t\"?DataHeaders\",\n\t\"??\",\n\t\"Totals\",\n\t\"??\",\n\t\"??\",\n\t\"??\",\n\t\"?DataTotals\",\n\t\"??\",\n\t\"??\",\n\t\"??\",\n\t\"?Current\"\n];\nfunction parse_PtgList(blob/*::, length, opts*/) {\n\tblob.l += 2;\n\tvar ixti = blob.read_shift(2);\n\tvar flags = blob.read_shift(2);\n\tvar idx = blob.read_shift(4);\n\tvar c = blob.read_shift(2);\n\tvar C = blob.read_shift(2);\n\tvar rt = PtgListRT[(flags >> 2) & 0x1F];\n\treturn {ixti: ixti, coltype:(flags&0x3), rt:rt, idx:idx, c:c, C:C};\n}\n/* [MS-XLS] 2.5.198.91 ; [MS-XLSB] 2.5.97.76 */\nfunction parse_PtgSxName(blob/*::, length, opts*/) {\n\tblob.l += 2;\n\treturn [blob.read_shift(4)];\n}\n\n/* [XLS] old spec */\nfunction parse_PtgSheet(blob, length, opts) {\n\tblob.l += 5;\n\tblob.l += 2;\n\tblob.l += (opts.biff == 2 ? 1 : 4);\n\treturn [\"PTGSHEET\"];\n}\nfunction parse_PtgEndSheet(blob, length, opts) {\n\tblob.l += (opts.biff == 2 ? 4 : 5);\n\treturn [\"PTGENDSHEET\"];\n}\nfunction parse_PtgMemAreaN(blob/*::, length, opts*/) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar cce = blob.read_shift(2);\n\treturn [type, cce];\n}\nfunction parse_PtgMemNoMemN(blob/*::, length, opts*/) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar cce = blob.read_shift(2);\n\treturn [type, cce];\n}\nfunction parse_PtgAttrNoop(blob/*::, length, opts*/) {\n\tblob.l += 4;\n\treturn [0, 0];\n}\n\n/* [MS-XLS] 2.5.198.25 ; [MS-XLSB] 2.5.97.16 */\nvar PtgTypes = {\n\t0x01: { n:'PtgExp', f:parse_PtgExp },\n\t0x02: { n:'PtgTbl', f:parse_PtgTbl },\n\t0x03: { n:'PtgAdd', f:parseread1 },\n\t0x04: { n:'PtgSub', f:parseread1 },\n\t0x05: { n:'PtgMul', f:parseread1 },\n\t0x06: { n:'PtgDiv', f:parseread1 },\n\t0x07: { n:'PtgPower', f:parseread1 },\n\t0x08: { n:'PtgConcat', f:parseread1 },\n\t0x09: { n:'PtgLt', f:parseread1 },\n\t0x0A: { n:'PtgLe', f:parseread1 },\n\t0x0B: { n:'PtgEq', f:parseread1 },\n\t0x0C: { n:'PtgGe', f:parseread1 },\n\t0x0D: { n:'PtgGt', f:parseread1 },\n\t0x0E: { n:'PtgNe', f:parseread1 },\n\t0x0F: { n:'PtgIsect', f:parseread1 },\n\t0x10: { n:'PtgUnion', f:parseread1 },\n\t0x11: { n:'PtgRange', f:parseread1 },\n\t0x12: { n:'PtgUplus', f:parseread1 },\n\t0x13: { n:'PtgUminus', f:parseread1 },\n\t0x14: { n:'PtgPercent', f:parseread1 },\n\t0x15: { n:'PtgParen', f:parseread1 },\n\t0x16: { n:'PtgMissArg', f:parseread1 },\n\t0x17: { n:'PtgStr', f:parse_PtgStr },\n\t0x1A: { n:'PtgSheet', f:parse_PtgSheet },\n\t0x1B: { n:'PtgEndSheet', f:parse_PtgEndSheet },\n\t0x1C: { n:'PtgErr', f:parse_PtgErr },\n\t0x1D: { n:'PtgBool', f:parse_PtgBool },\n\t0x1E: { n:'PtgInt', f:parse_PtgInt },\n\t0x1F: { n:'PtgNum', f:parse_PtgNum },\n\t0x20: { n:'PtgArray', f:parse_PtgArray },\n\t0x21: { n:'PtgFunc', f:parse_PtgFunc },\n\t0x22: { n:'PtgFuncVar', f:parse_PtgFuncVar },\n\t0x23: { n:'PtgName', f:parse_PtgName },\n\t0x24: { n:'PtgRef', f:parse_PtgRef },\n\t0x25: { n:'PtgArea', f:parse_PtgArea },\n\t0x26: { n:'PtgMemArea', f:parse_PtgMemArea },\n\t0x27: { n:'PtgMemErr', f:parse_PtgMemErr },\n\t0x28: { n:'PtgMemNoMem', f:parse_PtgMemNoMem },\n\t0x29: { n:'PtgMemFunc', f:parse_PtgMemFunc },\n\t0x2A: { n:'PtgRefErr', f:parse_PtgRefErr },\n\t0x2B: { n:'PtgAreaErr', f:parse_PtgAreaErr },\n\t0x2C: { n:'PtgRefN', f:parse_PtgRefN },\n\t0x2D: { n:'PtgAreaN', f:parse_PtgAreaN },\n\t0x2E: { n:'PtgMemAreaN', f:parse_PtgMemAreaN },\n\t0x2F: { n:'PtgMemNoMemN', f:parse_PtgMemNoMemN },\n\t0x39: { n:'PtgNameX', f:parse_PtgNameX },\n\t0x3A: { n:'PtgRef3d', f:parse_PtgRef3d },\n\t0x3B: { n:'PtgArea3d', f:parse_PtgArea3d },\n\t0x3C: { n:'PtgRefErr3d', f:parse_PtgRefErr3d },\n\t0x3D: { n:'PtgAreaErr3d', f:parse_PtgAreaErr3d },\n\t0xFF: {}\n};\n/* These are duplicated in the PtgTypes table */\nvar PtgDupes = {\n\t0x40: 0x20, 0x60: 0x20,\n\t0x41: 0x21, 0x61: 0x21,\n\t0x42: 0x22, 0x62: 0x22,\n\t0x43: 0x23, 0x63: 0x23,\n\t0x44: 0x24, 0x64: 0x24,\n\t0x45: 0x25, 0x65: 0x25,\n\t0x46: 0x26, 0x66: 0x26,\n\t0x47: 0x27, 0x67: 0x27,\n\t0x48: 0x28, 0x68: 0x28,\n\t0x49: 0x29, 0x69: 0x29,\n\t0x4A: 0x2A, 0x6A: 0x2A,\n\t0x4B: 0x2B, 0x6B: 0x2B,\n\t0x4C: 0x2C, 0x6C: 0x2C,\n\t0x4D: 0x2D, 0x6D: 0x2D,\n\t0x4E: 0x2E, 0x6E: 0x2E,\n\t0x4F: 0x2F, 0x6F: 0x2F,\n\t0x58: 0x22, 0x78: 0x22,\n\t0x59: 0x39, 0x79: 0x39,\n\t0x5A: 0x3A, 0x7A: 0x3A,\n\t0x5B: 0x3B, 0x7B: 0x3B,\n\t0x5C: 0x3C, 0x7C: 0x3C,\n\t0x5D: 0x3D, 0x7D: 0x3D\n};\n\nvar Ptg18 = {\n\t0x01: { n:'PtgElfLel', f:parse_PtgElfLel },\n\t0x02: { n:'PtgElfRw', f:parse_PtgElfRw },\n\t0x03: { n:'PtgElfCol', f:parse_PtgElfCol },\n\t0x06: { n:'PtgElfRwV', f:parse_PtgElfRwV },\n\t0x07: { n:'PtgElfColV', f:parse_PtgElfColV },\n\t0x0A: { n:'PtgElfRadical', f:parse_PtgElfRadical },\n\t0x0B: { n:'PtgElfRadicalS', f:parse_PtgElfRadicalS },\n\t0x0D: { n:'PtgElfColS', f:parse_PtgElfColS },\n\t0x0F: { n:'PtgElfColSV', f:parse_PtgElfColSV },\n\t0x10: { n:'PtgElfRadicalLel', f:parse_PtgElfRadicalLel },\n\t0x19: { n:'PtgList', f:parse_PtgList },\n\t0x1D: { n:'PtgSxName', f:parse_PtgSxName },\n\t0xFF: {}\n};\nvar Ptg19 = {\n\t0x00: { n:'PtgAttrNoop', f:parse_PtgAttrNoop },\n\t0x01: { n:'PtgAttrSemi', f:parse_PtgAttrSemi },\n\t0x02: { n:'PtgAttrIf', f:parse_PtgAttrIf },\n\t0x04: { n:'PtgAttrChoose', f:parse_PtgAttrChoose },\n\t0x08: { n:'PtgAttrGoto', f:parse_PtgAttrGoto },\n\t0x10: { n:'PtgAttrSum', f:parse_PtgAttrSum },\n\t0x20: { n:'PtgAttrBaxcel', f:parse_PtgAttrBaxcel },\n\t0x21: { n:'PtgAttrBaxcel', f:parse_PtgAttrBaxcel },\n\t0x40: { n:'PtgAttrSpace', f:parse_PtgAttrSpace },\n\t0x41: { n:'PtgAttrSpaceSemi', f:parse_PtgAttrSpaceSemi },\n\t0x80: { n:'PtgAttrIfError', f:parse_PtgAttrIfError },\n\t0xFF: {}\n};\n\n/* [MS-XLS] 2.5.198.103 ; [MS-XLSB] 2.5.97.87 */\nfunction parse_RgbExtra(blob, length, rgce, opts) {\n\tif(opts.biff < 8) return parsenoop(blob, length);\n\tvar target = blob.l + length;\n\tvar o = [];\n\tfor(var i = 0; i !== rgce.length; ++i) {\n\t\tswitch(rgce[i][0]) {\n\t\t\tcase 'PtgArray': /* PtgArray -> PtgExtraArray */\n\t\t\t\trgce[i][1] = parse_PtgExtraArray(blob, 0, opts);\n\t\t\t\to.push(rgce[i][1]);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgMemArea': /* PtgMemArea -> PtgExtraMem */\n\t\t\t\trgce[i][2] = parse_PtgExtraMem(blob, rgce[i][1], opts);\n\t\t\t\to.push(rgce[i][2]);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgExp': /* PtgExp -> PtgExtraCol */\n\t\t\t\tif(opts && opts.biff == 12) {\n\t\t\t\t\trgce[i][1][1] = blob.read_shift(4);\n\t\t\t\t\to.push(rgce[i][1]);\n\t\t\t\t} break;\n\t\t\tcase 'PtgList': /* TODO: PtgList -> PtgExtraList */\n\t\t\tcase 'PtgElfRadicalS': /* TODO: PtgElfRadicalS -> PtgExtraElf */\n\t\t\tcase 'PtgElfColS': /* TODO: PtgElfColS -> PtgExtraElf */\n\t\t\tcase 'PtgElfColSV': /* TODO: PtgElfColSV -> PtgExtraElf */\n\t\t\t\tthrow \"Unsupported \" + rgce[i][0];\n\t\t\tdefault: break;\n\t\t}\n\t}\n\tlength = target - blob.l;\n\t/* note: this is technically an error but Excel disregards */\n\t//if(target !== blob.l && blob.l !== target - length) throw new Error(target + \" != \" + blob.l);\n\tif(length !== 0) o.push(parsenoop(blob, length));\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.198.104 ; [MS-XLSB] 2.5.97.88 */\nfunction parse_Rgce(blob, length, opts) {\n\tvar target = blob.l + length;\n\tvar R, id, ptgs = [];\n\twhile(target != blob.l) {\n\t\tlength = target - blob.l;\n\t\tid = blob[blob.l];\n\t\tR = PtgTypes[id] || PtgTypes[PtgDupes[id]];\n\t\tif(id === 0x18 || id === 0x19) R = (id === 0x18 ? Ptg18 : Ptg19)[blob[blob.l + 1]];\n\t\tif(!R || !R.f) { /*ptgs.push*/(parsenoop(blob, length)); }\n\t\telse { ptgs.push([R.n, R.f(blob, length, opts)]); }\n\t}\n\treturn ptgs;\n}\n\nfunction stringify_array(f/*:Array<Array<string>>*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < f.length; ++i) {\n\t\tvar x = f[i], r/*:Array<string>*/ = [];\n\t\tfor(var j = 0; j < x.length; ++j) {\n\t\t\tvar y = x[j];\n\t\t\tif(y) switch(y[0]) {\n\t\t\t\t// TODO: handle embedded quotes\n\t\t\t\tcase 0x02:\n\t\t\t\t\t/*:: if(typeof y[1] != 'string') throw \"unreachable\"; */\n\t\t\t\t\tr.push('\"' + y[1].replace(/\"/g,'\"\"') + '\"'); break;\n\t\t\t\tdefault: r.push(y[1]);\n\t\t\t} else r.push(\"\");\n\t\t}\n\t\to.push(r.join(\",\"));\n\t}\n\treturn o.join(\";\");\n}\n\n/* [MS-XLS] 2.2.2 ; [MS-XLSB] 2.2.2 TODO */\nvar PtgBinOp = {\n\tPtgAdd: \"+\",\n\tPtgConcat: \"&\",\n\tPtgDiv: \"/\",\n\tPtgEq: \"=\",\n\tPtgGe: \">=\",\n\tPtgGt: \">\",\n\tPtgLe: \"<=\",\n\tPtgLt: \"<\",\n\tPtgMul: \"*\",\n\tPtgNe: \"<>\",\n\tPtgPower: \"^\",\n\tPtgSub: \"-\"\n};\n\n// TODO: explore space\nfunction make_3d_range(start, end) {\n\tvar s = start.lastIndexOf(\"!\"), e = end.lastIndexOf(\"!\");\n\tif(s == -1 && e == -1) return start + \":\" + end;\n\tif(s > 0 && e > 0 && start.slice(0, s).toLowerCase() == end.slice(0, e).toLowerCase()) return start + \":\" + end.slice(e+1);\n\tconsole.error(\"Cannot hydrate range\", start, end);\n\treturn start + \":\" + end;\n}\n\nfunction get_ixti_raw(supbooks, ixti/*:number*/, opts)/*:string*/ {\n\tif(!supbooks) return \"SH33TJSERR0\";\n\tif(opts.biff > 8 && (!supbooks.XTI || !supbooks.XTI[ixti])) return supbooks.SheetNames[ixti];\n\tif(!supbooks.XTI) return \"SH33TJSERR6\";\n\tvar XTI = supbooks.XTI[ixti];\n\tif(opts.biff < 8) {\n\t\tif(ixti > 10000) ixti-= 65536;\n\t\tif(ixti < 0) ixti = -ixti;\n\t\treturn ixti == 0 ? \"\" : supbooks.XTI[ixti - 1];\n\t}\n\tif(!XTI) return \"SH33TJSERR1\";\n\tvar o = \"\";\n\tif(opts.biff > 8) switch(supbooks[XTI[0]][0]) {\n\t\tcase 0x0165: /* 'BrtSupSelf' */\n\t\t\to = XTI[1] == -1 ? \"#REF\" : supbooks.SheetNames[XTI[1]];\n\t\t\treturn XTI[1] == XTI[2] ? o : o + \":\" + supbooks.SheetNames[XTI[2]];\n\t\tcase 0x0166: /* 'BrtSupSame' */\n\t\t\tif(opts.SID != null) return supbooks.SheetNames[opts.SID];\n\t\t\treturn \"SH33TJSSAME\" + supbooks[XTI[0]][0];\n\t\tcase 0x0163: /* 'BrtSupBookSrc' */\n\t\t\t/* falls through */\n\t\tdefault: return \"SH33TJSSRC\" + supbooks[XTI[0]][0];\n\t}\n\tswitch(supbooks[XTI[0]][0][0]) {\n\t\tcase 0x0401:\n\t\t\to = XTI[1] == -1 ? \"#REF\" : (supbooks.SheetNames[XTI[1]] || \"SH33TJSERR3\");\n\t\t\treturn XTI[1] == XTI[2] ? o : o + \":\" + supbooks.SheetNames[XTI[2]];\n\t\tcase 0x3A01: return supbooks[XTI[0]].slice(1).map(function(name) { return name.Name; }).join(\";;\"); //return \"SH33TJSERR8\";\n\t\tdefault:\n\t\t\tif(!supbooks[XTI[0]][0][3]) return \"SH33TJSERR2\";\n\t\t\to = XTI[1] == -1 ? \"#REF\" : (supbooks[XTI[0]][0][3][XTI[1]] || \"SH33TJSERR4\");\n\t\t\treturn XTI[1] == XTI[2] ? o : o + \":\" + supbooks[XTI[0]][0][3][XTI[2]];\n\t}\n}\nfunction get_ixti(supbooks, ixti/*:number*/, opts)/*:string*/ {\n\tvar ixtiraw = get_ixti_raw(supbooks, ixti, opts);\n\treturn ixtiraw == \"#REF\" ? ixtiraw : formula_quote_sheet_name(ixtiraw, opts);\n}\nfunction stringify_formula(formula/*Array<any>*/, range, cell/*:any*/, supbooks, opts)/*:string*/ {\n\tvar biff = (opts && opts.biff) || 8;\n\tvar _range = /*range != null ? range :*/ {s:{c:0, r:0},e:{c:0, r:0}};\n\tvar stack/*:Array<string>*/ = [], e1, e2, /*::type,*/ c/*:CellAddress*/, ixti=0, nameidx=0, r, sname=\"\";\n\tif(!formula[0] || !formula[0][0]) return \"\";\n\tvar last_sp = -1, sp = \"\";\n\tfor(var ff = 0, fflen = formula[0].length; ff < fflen; ++ff) {\n\t\tvar f = formula[0][ff];\n\t\tswitch(f[0]) {\n\t\t\tcase 'PtgUminus': /* [MS-XLS] 2.5.198.93 */\n\t\t\t\tstack.push(\"-\" + stack.pop()); break;\n\t\t\tcase 'PtgUplus': /* [MS-XLS] 2.5.198.95 */\n\t\t\t\tstack.push(\"+\" + stack.pop()); break;\n\t\t\tcase 'PtgPercent': /* [MS-XLS] 2.5.198.81 */\n\t\t\t\tstack.push(stack.pop() + \"%\"); break;\n\n\t\t\tcase 'PtgAdd':    /* [MS-XLS] 2.5.198.26 */\n\t\t\tcase 'PtgConcat': /* [MS-XLS] 2.5.198.43 */\n\t\t\tcase 'PtgDiv':    /* [MS-XLS] 2.5.198.45 */\n\t\t\tcase 'PtgEq':     /* [MS-XLS] 2.5.198.56 */\n\t\t\tcase 'PtgGe':     /* [MS-XLS] 2.5.198.64 */\n\t\t\tcase 'PtgGt':     /* [MS-XLS] 2.5.198.65 */\n\t\t\tcase 'PtgLe':     /* [MS-XLS] 2.5.198.68 */\n\t\t\tcase 'PtgLt':     /* [MS-XLS] 2.5.198.69 */\n\t\t\tcase 'PtgMul':    /* [MS-XLS] 2.5.198.75 */\n\t\t\tcase 'PtgNe':     /* [MS-XLS] 2.5.198.78 */\n\t\t\tcase 'PtgPower':  /* [MS-XLS] 2.5.198.82 */\n\t\t\tcase 'PtgSub':    /* [MS-XLS] 2.5.198.90 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tif(last_sp >= 0) {\n\t\t\t\t\tswitch(formula[0][last_sp][1][0]) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tsp = fill(\" \", formula[0][last_sp][1][1]); break;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tsp = fill(\"\\r\", formula[0][last_sp][1][1]); break;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tsp = \"\";\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tif(opts.WTF) throw new Error(\"Unexpected PtgAttrSpaceType \" + formula[0][last_sp][1][0]);\n\t\t\t\t\t}\n\t\t\t\t\te2 = e2 + sp;\n\t\t\t\t\tlast_sp = -1;\n\t\t\t\t}\n\t\t\t\tstack.push(e2+PtgBinOp[f[0]]+e1);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgIsect': /* [MS-XLS] 2.5.198.67 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tstack.push(e2+\" \"+e1);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgUnion': /* [MS-XLS] 2.5.198.94 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tstack.push(e2+\",\"+e1);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgRange': /* [MS-XLS] 2.5.198.83 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tstack.push(make_3d_range(e2,e1));\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAttrChoose': /* [MS-XLS] 2.5.198.34 */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrGoto': /* [MS-XLS] 2.5.198.35 */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrIf': /* [MS-XLS] 2.5.198.36 */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrIfError': /* [MS-XLSB] 2.5.97.28 */\n\t\t\t\tbreak;\n\n\n\t\t\tcase 'PtgRef': /* [MS-XLS] 2.5.198.84 */\n\t\t\t\t/*::type = f[1][0]; */c = shift_cell_xls((f[1][1]/*:any*/), _range, opts);\n\t\t\t\tstack.push(encode_cell_xls(c, biff));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgRefN': /* [MS-XLS] 2.5.198.88 */\n\t\t\t\t/*::type = f[1][0]; */c = cell ? shift_cell_xls((f[1][1]/*:any*/), cell, opts) : (f[1][1]/*:any*/);\n\t\t\t\tstack.push(encode_cell_xls(c, biff));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgRef3d': /* [MS-XLS] 2.5.198.85 */\n\t\t\t\t/*::type = f[1][0]; */ixti = /*::Number(*/f[1][1]/*::)*/; c = shift_cell_xls((f[1][2]/*:any*/), _range, opts);\n\t\t\t\tsname = get_ixti(supbooks, ixti, opts);\n\t\t\t\tvar w = sname; /* IE9 fails on defined names */ // eslint-disable-line no-unused-vars\n\t\t\t\tstack.push(sname + \"!\" + encode_cell_xls(c, biff));\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgFunc': /* [MS-XLS] 2.5.198.62 */\n\t\t\tcase 'PtgFuncVar': /* [MS-XLS] 2.5.198.63 */\n\t\t\t\t/* f[1] = [argc, func, type] */\n\t\t\t\tvar argc/*:number*/ = (f[1][0]/*:any*/), func/*:string*/ = (f[1][1]/*:any*/);\n\t\t\t\tif(!argc) argc = 0;\n\t\t\t\targc &= 0x7F;\n\t\t\t\tvar args = argc == 0 ? [] : stack.slice(-argc);\n\t\t\t\tstack.length -= argc;\n\t\t\t\tif(func === 'User') func = args.shift();\n\t\t\t\tstack.push(func + \"(\" + args.join(\",\") + \")\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgBool': /* [MS-XLS] 2.5.198.42 */\n\t\t\t\tstack.push(f[1] ? \"TRUE\" : \"FALSE\"); break;\n\t\t\tcase 'PtgInt': /* [MS-XLS] 2.5.198.66 */\n\t\t\t\tstack.push(/*::String(*/f[1]/*::)*/); break;\n\t\t\tcase 'PtgNum': /* [MS-XLS] 2.5.198.79 TODO: precision? */\n\t\t\t\tstack.push(String(f[1])); break;\n\t\t\tcase 'PtgStr': /* [MS-XLS] 2.5.198.89 */\n\t\t\t\t// $FlowIgnore\n\t\t\t\tstack.push('\"' + f[1].replace(/\"/g, '\"\"') + '\"'); break;\n\t\t\tcase 'PtgErr': /* [MS-XLS] 2.5.198.57 */\n\t\t\t\tstack.push(/*::String(*/f[1]/*::)*/); break;\n\t\t\tcase 'PtgAreaN': /* [MS-XLS] 2.5.198.31 TODO */\n\t\t\t\t/*::type = f[1][0]; */r = shift_range_xls(f[1][1], cell ? {s:cell} : _range, opts);\n\t\t\t\tstack.push(encode_range_xls((r/*:any*/), opts));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgArea': /* [MS-XLS] 2.5.198.27 TODO: fixed points */\n\t\t\t\t/*::type = f[1][0]; */r = shift_range_xls(f[1][1], _range, opts);\n\t\t\t\tstack.push(encode_range_xls((r/*:any*/), opts));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgArea3d': /* [MS-XLS] 2.5.198.28 TODO */\n\t\t\t\t/*::type = f[1][0]; */ixti = /*::Number(*/f[1][1]/*::)*/; r = f[1][2];\n\t\t\t\tsname = get_ixti(supbooks, ixti, opts);\n\t\t\t\tstack.push(sname + \"!\" + encode_range_xls((r/*:any*/), opts));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrSum': /* [MS-XLS] 2.5.198.41 */\n\t\t\t\tstack.push(\"SUM(\" + stack.pop() + \")\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAttrBaxcel': /* [MS-XLS] 2.5.198.33 */\n\t\t\tcase 'PtgAttrSemi': /* [MS-XLS] 2.5.198.37 */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgName': /* [MS-XLS] 2.5.198.76 ; [MS-XLSB] 2.5.97.60 TODO: revisions */\n\t\t\t\t/* f[1] = type, 0, nameindex */\n\t\t\t\tnameidx = (f[1][2]/*:any*/);\n\t\t\t\tvar lbl = (supbooks.names||[])[nameidx-1] || (supbooks[0]||[])[nameidx];\n\t\t\t\tvar name = lbl ? lbl.Name : \"SH33TJSNAME\" + String(nameidx);\n\t\t\t\t/* [MS-XLSB] 2.5.97.10 Ftab -- last verified 20220204 */\n\t\t\t\tif(name && name.slice(0,6) == \"_xlfn.\" && !opts.xlfn) name = name.slice(6);\n\t\t\t\tstack.push(name);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgNameX': /* [MS-XLS] 2.5.198.77 ; [MS-XLSB] 2.5.97.61 TODO: revisions */\n\t\t\t\t/* f[1] = type, ixti, nameindex */\n\t\t\t\tvar bookidx/*:number*/ = (f[1][1]/*:any*/); nameidx = (f[1][2]/*:any*/); var externbook;\n\t\t\t\t/* TODO: Properly handle missing values -- this should be using get_ixti_raw primarily */\n\t\t\t\tif(opts.biff <= 5) {\n\t\t\t\t\tif(bookidx < 0) bookidx = -bookidx;\n\t\t\t\t\tif(supbooks[bookidx]) externbook = supbooks[bookidx][nameidx];\n\t\t\t\t} else {\n\t\t\t\t\tvar o = \"\";\n\t\t\t\t\tif(((supbooks[bookidx]||[])[0]||[])[0] == 0x3A01){/* empty */}\n\t\t\t\t\telse if(((supbooks[bookidx]||[])[0]||[])[0] == 0x0401){\n\t\t\t\t\t\tif(supbooks[bookidx][nameidx] && supbooks[bookidx][nameidx].itab > 0) {\n\t\t\t\t\t\t\to = supbooks.SheetNames[supbooks[bookidx][nameidx].itab-1] + \"!\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse o = supbooks.SheetNames[nameidx-1]+ \"!\";\n\t\t\t\t\tif(supbooks[bookidx] && supbooks[bookidx][nameidx]) o += supbooks[bookidx][nameidx].Name;\n\t\t\t\t\telse if(supbooks[0] && supbooks[0][nameidx]) o += supbooks[0][nameidx].Name;\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar ixtidata = (get_ixti_raw(supbooks, bookidx, opts)||\"\").split(\";;\");\n\t\t\t\t\t\tif(ixtidata[nameidx - 1]) o = ixtidata[nameidx - 1]; // TODO: confirm this is correct\n\t\t\t\t\t\telse o += \"SH33TJSERRX\";\n\t\t\t\t\t}\n\t\t\t\t\tstack.push(o);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(!externbook) externbook = {Name: \"SH33TJSERRY\"};\n\t\t\t\tstack.push(externbook.Name);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgParen': /* [MS-XLS] 2.5.198.80 */\n\t\t\t\tvar lp = '(', rp = ')';\n\t\t\t\tif(last_sp >= 0) {\n\t\t\t\t\tsp = \"\";\n\t\t\t\t\tswitch(formula[0][last_sp][1][0]) {\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 2: lp = fill(\" \", formula[0][last_sp][1][1]) + lp; break;\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 3: lp = fill(\"\\r\", formula[0][last_sp][1][1]) + lp; break;\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 4: rp = fill(\" \", formula[0][last_sp][1][1]) + rp; break;\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 5: rp = fill(\"\\r\", formula[0][last_sp][1][1]) + rp; break;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tif(opts.WTF) throw new Error(\"Unexpected PtgAttrSpaceType \" + formula[0][last_sp][1][0]);\n\t\t\t\t\t}\n\t\t\t\t\tlast_sp = -1;\n\t\t\t\t}\n\t\t\t\tstack.push(lp + stack.pop() + rp); break;\n\n\t\t\tcase 'PtgRefErr': /* [MS-XLS] 2.5.198.86 */\n\t\t\t\tstack.push('#REF!'); break;\n\n\t\t\tcase 'PtgRefErr3d': /* [MS-XLS] 2.5.198.87 */\n\t\t\t\tstack.push('#REF!'); break;\n\n\t\t\tcase 'PtgExp': /* [MS-XLS] 2.5.198.58 TODO */\n\t\t\t\tc = {c:(f[1][1]/*:any*/),r:(f[1][0]/*:any*/)};\n\t\t\t\tvar q = ({c: cell.c, r:cell.r}/*:any*/);\n\t\t\t\tif(supbooks.sharedf[encode_cell(c)]) {\n\t\t\t\t\tvar parsedf = (supbooks.sharedf[encode_cell(c)]);\n\t\t\t\t\tstack.push(stringify_formula(parsedf, _range, q, supbooks, opts));\n\t\t\t\t} else {\n\t\t\t\t\tvar fnd = false;\n\t\t\t\t\tfor(e1=0;e1!=supbooks.arrayf.length; ++e1) {\n\t\t\t\t\t\t/* TODO: should be something like range_has */\n\t\t\t\t\t\te2 = supbooks.arrayf[e1];\n\t\t\t\t\t\tif(c.c < e2[0].s.c || c.c > e2[0].e.c) continue;\n\t\t\t\t\t\tif(c.r < e2[0].s.r || c.r > e2[0].e.r) continue;\n\t\t\t\t\t\tstack.push(stringify_formula(e2[1], _range, q, supbooks, opts));\n\t\t\t\t\t\tfnd = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(!fnd) stack.push(/*::String(*/f[1]/*::)*/);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgArray': /* [MS-XLS] 2.5.198.32 TODO */\n\t\t\t\tstack.push(\"{\" + stringify_array(/*::(*/f[1]/*:: :any)*/) + \"}\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemArea': /* [MS-XLS] 2.5.198.70 TODO: confirm this is a non-display */\n\t\t\t\t//stack.push(\"(\" + f[2].map(encode_range).join(\",\") + \")\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAttrSpace': /* [MS-XLS] 2.5.198.38 */\n\t\t\tcase 'PtgAttrSpaceSemi': /* [MS-XLS] 2.5.198.39 */\n\t\t\t\tlast_sp = ff;\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgTbl': /* [MS-XLS] 2.5.198.92 TODO */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemErr': /* [MS-XLS] 2.5.198.71 */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMissArg': /* [MS-XLS] 2.5.198.74 */\n\t\t\t\tstack.push(\"\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAreaErr': /* [MS-XLS] 2.5.198.29 */\n\t\t\t\tstack.push(\"#REF!\"); break;\n\n\t\t\tcase 'PtgAreaErr3d': /* [MS-XLS] 2.5.198.30 */\n\t\t\t\tstack.push(\"#REF!\"); break;\n\n\t\t\tcase 'PtgList': /* [MS-XLSB] 2.5.97.52 */\n\t\t\t\t// $FlowIgnore\n\t\t\t\tstack.push(\"Table\" + f[1].idx + \"[#\" + f[1].rt + \"]\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemAreaN':\n\t\t\tcase 'PtgMemNoMemN':\n\t\t\tcase 'PtgAttrNoop':\n\t\t\tcase 'PtgSheet':\n\t\t\tcase 'PtgEndSheet':\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemFunc': /* [MS-XLS] 2.5.198.72 TODO */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgMemNoMem': /* [MS-XLS] 2.5.198.73 TODO */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgElfCol': /* [MS-XLS] 2.5.198.46 */\n\t\t\tcase 'PtgElfColS': /* [MS-XLS] 2.5.198.47 */\n\t\t\tcase 'PtgElfColSV': /* [MS-XLS] 2.5.198.48 */\n\t\t\tcase 'PtgElfColV': /* [MS-XLS] 2.5.198.49 */\n\t\t\tcase 'PtgElfLel': /* [MS-XLS] 2.5.198.50 */\n\t\t\tcase 'PtgElfRadical': /* [MS-XLS] 2.5.198.51 */\n\t\t\tcase 'PtgElfRadicalLel': /* [MS-XLS] 2.5.198.52 */\n\t\t\tcase 'PtgElfRadicalS': /* [MS-XLS] 2.5.198.53 */\n\t\t\tcase 'PtgElfRw': /* [MS-XLS] 2.5.198.54 */\n\t\t\tcase 'PtgElfRwV': /* [MS-XLS] 2.5.198.55 */\n\t\t\t\tthrow new Error(\"Unsupported ELFs\");\n\n\t\t\tcase 'PtgSxName': /* [MS-XLS] 2.5.198.91 TODO -- find a test case */\n\t\t\t\tthrow new Error('Unrecognized Formula Token: ' + String(f));\n\t\t\tdefault: throw new Error('Unrecognized Formula Token: ' + String(f));\n\t\t}\n\t\tvar PtgNonDisp = ['PtgAttrSpace', 'PtgAttrSpaceSemi', 'PtgAttrGoto'];\n\t\tif(opts.biff != 3) if(last_sp >= 0 && PtgNonDisp.indexOf(formula[0][ff][0]) == -1) {\n\t\t\tf = formula[0][last_sp];\n\t\t\tvar _left = true;\n\t\t\tswitch(f[1][0]) {\n\t\t\t\t/* note: some bad XLSB files omit the PtgParen */\n\t\t\t\tcase 4: _left = false;\n\t\t\t\t/* falls through */\n\t\t\t\tcase 0:\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tsp = fill(\" \", f[1][1]); break;\n\t\t\t\tcase 5: _left = false;\n\t\t\t\t/* falls through */\n\t\t\t\tcase 1:\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tsp = fill(\"\\r\", f[1][1]); break;\n\t\t\t\tdefault:\n\t\t\t\t\tsp = \"\";\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tif(opts.WTF) throw new Error(\"Unexpected PtgAttrSpaceType \" + f[1][0]);\n\t\t\t}\n\t\t\tstack.push((_left ? sp : \"\") + stack.pop() + (_left ? \"\" : sp));\n\t\t\tlast_sp = -1;\n\t\t}\n\t}\n\tif(stack.length > 1 && opts.WTF) throw new Error(\"bad formula stack\");\n\tif(stack[0] == \"TRUE\") return true; if(stack[0] == \"FALSE\") return false;\n\treturn stack[0];\n}\n\n/* [MS-XLS] 2.5.198.1 TODO */\nfunction parse_ArrayParsedFormula(blob, length, opts/*::, ref*/) {\n\tvar target = blob.l + length, len = opts.biff == 2 ? 1 : 2;\n\tvar rgcb, cce = blob.read_shift(len); // length of rgce\n\tif(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tif(length !== cce + len) rgcb = parse_RgbExtra(blob, length - cce - len, rgce, opts);\n\tblob.l = target;\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.198.3 TODO */\nfunction parse_XLSCellParsedFormula(blob, length, opts) {\n\tvar target = blob.l + length, len = opts.biff == 2 ? 1 : 2;\n\tvar rgcb, cce = blob.read_shift(len); // length of rgce\n\tif(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tif(length !== cce + len) rgcb = parse_RgbExtra(blob, length - cce - len, rgce, opts);\n\tblob.l = target;\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.198.21 */\nfunction parse_NameParsedFormula(blob, length, opts, cce) {\n\tvar target = blob.l + length;\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tvar rgcb;\n\tif(target !== blob.l) rgcb = parse_RgbExtra(blob, target - blob.l, rgce, opts);\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.198.118 TODO */\nfunction parse_SharedParsedFormula(blob, length, opts) {\n\tvar target = blob.l + length;\n\tvar rgcb, cce = blob.read_shift(2); // length of rgce\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tif(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];\n\tif(length !== cce + 2) rgcb = parse_RgbExtra(blob, target - cce - 2, rgce, opts);\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.133 TODO: how to emit empty strings? */\nfunction parse_FormulaValue(blob/*::, length*/) {\n\tvar b;\n\tif(__readUInt16LE(blob,blob.l + 6) !== 0xFFFF) return [parse_Xnum(blob),'n'];\n\tswitch(blob[blob.l]) {\n\t\tcase 0x00: blob.l += 8; return [\"String\", 's'];\n\t\tcase 0x01: b = blob[blob.l+2] === 0x1; blob.l += 8; return [b,'b'];\n\t\tcase 0x02: b = blob[blob.l+2]; blob.l += 8; return [b,'e'];\n\t\tcase 0x03: blob.l += 8; return [\"\",'s'];\n\t}\n\treturn [];\n}\nfunction write_FormulaValue(value) {\n\tif(value == null) {\n\t\t// Blank String Value\n\t\tvar o = new_buf(8);\n\t\to.write_shift(1, 0x03);\n\t\to.write_shift(1, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0xFFFF);\n\t\treturn o;\n\t} else if(typeof value == \"number\") return write_Xnum(value);\n\treturn write_Xnum(0);\n}\n\n/* [MS-XLS] 2.4.127 TODO */\nfunction parse_Formula(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar cell = parse_XLSCell(blob, 6, opts);\n\tvar val = parse_FormulaValue(blob,8);\n\tvar flags = blob.read_shift(1);\n\tif(opts.biff != 2) {\n\t\tblob.read_shift(1);\n\t\tif(opts.biff >= 5) {\n\t\t\t/*var chn = */blob.read_shift(4);\n\t\t}\n\t}\n\tvar cbf = parse_XLSCellParsedFormula(blob, end - blob.l, opts);\n\treturn {cell:cell, val:val[0], formula:cbf, shared: (flags >> 3) & 1, tt:val[1]};\n}\nfunction write_Formula(cell/*:Cell*/, R/*:number*/, C/*:number*/, opts, os/*:number*/) {\n\t// Cell\n\tvar o1 = write_XLSCell(R, C, os);\n\n\t// FormulaValue\n\tvar o2 = write_FormulaValue(cell.v);\n\n\t// flags + cache\n\tvar o3 = new_buf(6);\n\tvar flags = 0x01 | 0x20;\n\to3.write_shift(2, flags);\n\to3.write_shift(4, 0);\n\n\t// CellParsedFormula\n\tvar bf = new_buf(cell.bf.length);\n\tfor(var i = 0; i < cell.bf.length; ++i) bf[i] = cell.bf[i];\n\n\tvar out = bconcat([o1, o2, o3, bf]);\n\treturn out;\n}\n\n\n/* XLSB Parsed Formula records have the same shape */\nfunction parse_XLSBParsedFormula(data, length, opts) {\n\tvar cce = data.read_shift(4);\n\tvar rgce = parse_Rgce(data, cce, opts);\n\tvar cb = data.read_shift(4);\n\tvar rgcb = cb > 0 ? parse_RgbExtra(data, cb, rgce, opts) : null;\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLSB] 2.5.97.1 ArrayParsedFormula */\nvar parse_XLSBArrayParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.4 CellParsedFormula */\nvar parse_XLSBCellParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.8 DVParsedFormula */\n//var parse_XLSBDVParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.9 FRTParsedFormula */\n//var parse_XLSBFRTParsedFormula = parse_XLSBParsedFormula2;\n/* [MS-XLSB] 2.5.97.12 NameParsedFormula */\nvar parse_XLSBNameParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.98 SharedParsedFormula */\nvar parse_XLSBSharedParsedFormula = parse_XLSBParsedFormula;\n\n/* Writes a PtgNum or PtgInt */\nfunction write_XLSBFormulaNum(val/*:number*/) {\n\tif((val | 0) == val && val < Math.pow(2,16) && val >= 0) {\n\t\tvar oint = new_buf(11);\n\t\toint.write_shift(4, 3);\n\t\toint.write_shift(1, 0x1e);\n\t\toint.write_shift(2, val);\n\t\toint.write_shift(4, 0);\n\t\treturn oint;\n\t}\n\n\tvar num = new_buf(17);\n\tnum.write_shift(4, 11);\n\tnum.write_shift(1, 0x1f);\n\tnum.write_shift(8, val);\n\tnum.write_shift(4, 0);\n\treturn num;\n}\n/* Writes a PtgErr */\nfunction write_XLSBFormulaErr(val/*:number*/) {\n\tvar oint = new_buf(10);\n\toint.write_shift(4, 2);\n\toint.write_shift(1, 0x1C);\n\toint.write_shift(1, val);\n\toint.write_shift(4, 0);\n\treturn oint;\n}\n/* Writes a PtgBool */\nfunction write_XLSBFormulaBool(val/*:boolean*/) {\n\tvar oint = new_buf(10);\n\toint.write_shift(4, 2);\n\toint.write_shift(1, 0x1D);\n\toint.write_shift(1, val?1:0);\n\toint.write_shift(4, 0);\n\treturn oint;\n}\n\n/* Writes a PtgStr */\nfunction write_XLSBFormulaStr(val/*:string*/) {\n\tvar preamble = new_buf(7);\n\tpreamble.write_shift(4, 3 + 2 * val.length);\n\tpreamble.write_shift(1, 0x17);\n\tpreamble.write_shift(2, val.length);\n\n\tvar body = new_buf(2 * val.length);\n\tbody.write_shift(2 * val.length, val, \"utf16le\");\n\n\tvar postamble = new_buf(4);\n\tpostamble.write_shift(4, 0);\n\n\treturn bconcat([preamble, body, postamble]);\n}\n\n/* Writes a PtgRef */\nfunction write_XLSBFormulaRef(str) {\n\tvar cell = decode_cell(str);\n\tvar out = new_buf(15);\n\tout.write_shift(4, 7);\n\tout.write_shift(1, 0x04 | ((1)<<5));\n\tout.write_shift(4, cell.r);\n\tout.write_shift(2, cell.c | ((str.charAt(0) == \"$\" ? 0 : 1)<<14) | ((str.match(/\\$\\d/) ? 0 : 1)<<15)); // <== ColRelShort\n\tout.write_shift(4, 0);\n\n\treturn out;\n}\n\n/* Writes a PtgRef3d */\nfunction write_XLSBFormulaRef3D(str, wb) {\n\tvar lastbang = str.lastIndexOf(\"!\");\n\tvar sname = str.slice(0, lastbang);\n\tstr = str.slice(lastbang+1);\n\tvar cell = decode_cell(str);\n\tif(sname.charAt(0) == \"'\") sname = sname.slice(1, -1).replace(/''/g, \"'\");\n\n\tvar out = new_buf(17);\n\tout.write_shift(4, 9);\n\tout.write_shift(1, 0x1A | ((1)<<5));\n\tout.write_shift(2, 2 + wb.SheetNames.map(function(n) { return n.toLowerCase(); }).indexOf(sname.toLowerCase()));\n\tout.write_shift(4, cell.r);\n\tout.write_shift(2, cell.c | ((str.charAt(0) == \"$\" ? 0 : 1)<<14) | ((str.match(/\\$\\d/) ? 0 : 1)<<15)); // <== ColRelShort\n\tout.write_shift(4, 0);\n\n\treturn out;\n}\n\n/* Writes a PtgRefErr3d */\nfunction write_XLSBFormulaRefErr3D(str, wb) {\n\tvar lastbang = str.lastIndexOf(\"!\");\n\tvar sname = str.slice(0, lastbang);\n\tstr = str.slice(lastbang+1);\n\tif(sname.charAt(0) == \"'\") sname = sname.slice(1, -1).replace(/''/g, \"'\");\n\n\tvar out = new_buf(17);\n\tout.write_shift(4, 9);\n\tout.write_shift(1, 0x1C | ((1)<<5));\n\tout.write_shift(2, 2 + wb.SheetNames.map(function(n) { return n.toLowerCase(); }).indexOf(sname.toLowerCase()));\n\tout.write_shift(4, 0);\n\tout.write_shift(2, 0); // <== ColRelShort\n\tout.write_shift(4, 0);\n\n\treturn out;\n}\n\n/* Writes a single sheet range [PtgRef PtgRef PtgRange] */\nfunction write_XLSBFormulaRange(_str) {\n\tvar parts = _str.split(\":\"), str = parts[0];\n\n\tvar out = new_buf(23);\n\tout.write_shift(4, 15);\n\n\t/* start cell */\n\tstr = parts[0]; var cell = decode_cell(str);\n\tout.write_shift(1, 0x04 | ((1)<<5));\n\tout.write_shift(4, cell.r);\n\tout.write_shift(2, cell.c | ((str.charAt(0) == \"$\" ? 0 : 1)<<14) | ((str.match(/\\$\\d/) ? 0 : 1)<<15)); // <== ColRelShort\n\tout.write_shift(4, 0);\n\n\t/* end cell */\n\tstr = parts[1]; cell = decode_cell(str);\n\tout.write_shift(1, 0x04 | ((1)<<5));\n\tout.write_shift(4, cell.r);\n\tout.write_shift(2, cell.c | ((str.charAt(0) == \"$\" ? 0 : 1)<<14) | ((str.match(/\\$\\d/) ? 0 : 1)<<15)); // <== ColRelShort\n\tout.write_shift(4, 0);\n\n\t/* PtgRange */\n\tout.write_shift(1, 0x11);\n\n\tout.write_shift(4, 0);\n\n\treturn out;\n}\n\n/* Writes a range with explicit sheet name [PtgRef3D PtgRef3D PtgRange] */\nfunction write_XLSBFormulaRangeWS(_str, wb) {\n\tvar lastbang = _str.lastIndexOf(\"!\");\n\tvar sname = _str.slice(0, lastbang);\n\t_str = _str.slice(lastbang+1);\n\tif(sname.charAt(0) == \"'\") sname = sname.slice(1, -1).replace(/''/g, \"'\");\n\tvar parts = _str.split(\":\");\n\n\tvar out = new_buf(27);\n\tout.write_shift(4, 19);\n\n\t/* start cell */\n\tvar str = parts[0], cell = decode_cell(str);\n\tout.write_shift(1, 0x1A | ((1)<<5));\n\tout.write_shift(2, 2 + wb.SheetNames.map(function(n) { return n.toLowerCase(); }).indexOf(sname.toLowerCase()));\n\tout.write_shift(4, cell.r);\n\tout.write_shift(2, cell.c | ((str.charAt(0) == \"$\" ? 0 : 1)<<14) | ((str.match(/\\$\\d/) ? 0 : 1)<<15)); // <== ColRelShort\n\n\t/* end cell */\n\tstr = parts[1]; cell = decode_cell(str);\n\tout.write_shift(1, 0x1A | ((1)<<5));\n\tout.write_shift(2, 2 + wb.SheetNames.map(function(n) { return n.toLowerCase(); }).indexOf(sname.toLowerCase()));\n\tout.write_shift(4, cell.r);\n\tout.write_shift(2, cell.c | ((str.charAt(0) == \"$\" ? 0 : 1)<<14) | ((str.match(/\\$\\d/) ? 0 : 1)<<15)); // <== ColRelShort\n\n\t/* PtgRange */\n\tout.write_shift(1, 0x11);\n\n\tout.write_shift(4, 0);\n\n\treturn out;\n}\n\n/* Writes a range with explicit sheet name [PtgArea3d] */\nfunction write_XLSBFormulaArea3D(_str, wb) {\n\tvar lastbang = _str.lastIndexOf(\"!\");\n\tvar sname = _str.slice(0, lastbang);\n\t_str = _str.slice(lastbang+1);\n\tif(sname.charAt(0) == \"'\") sname = sname.slice(1, -1).replace(/''/g, \"'\");\n\tvar range = decode_range(_str);\n\n\tvar out = new_buf(23);\n\tout.write_shift(4, 15);\n\n\tout.write_shift(1, 0x1B | ((1)<<5));\n\tout.write_shift(2, 2 + wb.SheetNames.map(function(n) { return n.toLowerCase(); }).indexOf(sname.toLowerCase()));\n\tout.write_shift(4, range.s.r);\n\tout.write_shift(4, range.e.r);\n\tout.write_shift(2, range.s.c);\n\tout.write_shift(2, range.e.c);\n\n\tout.write_shift(4, 0);\n\n\treturn out;\n}\n\n\n/* General Formula */\nfunction write_XLSBFormula(val/*:string|number*/, wb) {\n\tif(typeof val == \"number\") return write_XLSBFormulaNum(val);\n\tif(typeof val == \"boolean\") return write_XLSBFormulaBool(val);\n\tif(/^#(DIV\\/0!|GETTING_DATA|N\\/A|NAME\\?|NULL!|NUM!|REF!|VALUE!)$/.test(val)) return write_XLSBFormulaErr(+RBErr[val]);\n\tif(val.match(/^\\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\\$?(?:10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})$/)) return write_XLSBFormulaRef(val);\n\tif(val.match(/^\\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\\$?(?:10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5}):\\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\\$?(?:10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})$/)) return write_XLSBFormulaRange(val);\n\tif(val.match(/^#REF!\\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\\$?(?:10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5}):\\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\\$?(?:10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})$/)) return write_XLSBFormulaArea3D(val, wb);\n\tif(val.match(/^(?:'[^\\\\\\/?*\\[\\]:]*'|[^'][^\\\\\\/?*\\[\\]:'`~!@#$%^()\\-=+{}|;,<.>]*)!\\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\\$?(?:10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})$/)) return write_XLSBFormulaRef3D(val, wb);\n\tif(val.match(/^(?:'[^\\\\\\/?*\\[\\]:]*'|[^'][^\\\\\\/?*\\[\\]:'`~!@#$%^()\\-=+{}|;,<.>]*)!\\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\\$?(?:10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5}):\\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\\$?(?:10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})$/)) return write_XLSBFormulaRangeWS(val, wb);\n\tif(/^(?:'[^\\\\\\/?*\\[\\]:]*'|[^'][^\\\\\\/?*\\[\\]:'`~!@#$%^()\\-=+{}|;,<.>]*)!#REF!$/.test(val)) return write_XLSBFormulaRefErr3D(val, wb);\n\tif(/^\".*\"$/.test(val)) return write_XLSBFormulaStr(val);\n\tif(/^[+-]\\d+$/.test(val)) return write_XLSBFormulaNum(parseInt(val, 10));\n\tthrow \"Formula |\" + val + \"| not supported for XLSB\";\n}\nvar write_XLSBNameParsedFormula = write_XLSBFormula;\nvar Cetab = {\n  0: \"BEEP\",\n  1: \"OPEN\",\n  2: \"OPEN.LINKS\",\n  3: \"CLOSE.ALL\",\n  4: \"SAVE\",\n  5: \"SAVE.AS\",\n  6: \"FILE.DELETE\",\n  7: \"PAGE.SETUP\",\n  8: \"PRINT\",\n  9: \"PRINTER.SETUP\",\n  10: \"QUIT\",\n  11: \"NEW.WINDOW\",\n  12: \"ARRANGE.ALL\",\n  13: \"WINDOW.SIZE\",\n  14: \"WINDOW.MOVE\",\n  15: \"FULL\",\n  16: \"CLOSE\",\n  17: \"RUN\",\n  22: \"SET.PRINT.AREA\",\n  23: \"SET.PRINT.TITLES\",\n  24: \"SET.PAGE.BREAK\",\n  25: \"REMOVE.PAGE.BREAK\",\n  26: \"FONT\",\n  27: \"DISPLAY\",\n  28: \"PROTECT.DOCUMENT\",\n  29: \"PRECISION\",\n  30: \"A1.R1C1\",\n  31: \"CALCULATE.NOW\",\n  32: \"CALCULATION\",\n  34: \"DATA.FIND\",\n  35: \"EXTRACT\",\n  36: \"DATA.DELETE\",\n  37: \"SET.DATABASE\",\n  38: \"SET.CRITERIA\",\n  39: \"SORT\",\n  40: \"DATA.SERIES\",\n  41: \"TABLE\",\n  42: \"FORMAT.NUMBER\",\n  43: \"ALIGNMENT\",\n  44: \"STYLE\",\n  45: \"BORDER\",\n  46: \"CELL.PROTECTION\",\n  47: \"COLUMN.WIDTH\",\n  48: \"UNDO\",\n  49: \"CUT\",\n  50: \"COPY\",\n  51: \"PASTE\",\n  52: \"CLEAR\",\n  53: \"PASTE.SPECIAL\",\n  54: \"EDIT.DELETE\",\n  55: \"INSERT\",\n  56: \"FILL.RIGHT\",\n  57: \"FILL.DOWN\",\n  61: \"DEFINE.NAME\",\n  62: \"CREATE.NAMES\",\n  63: \"FORMULA.GOTO\",\n  64: \"FORMULA.FIND\",\n  65: \"SELECT.LAST.CELL\",\n  66: \"SHOW.ACTIVE.CELL\",\n  67: \"GALLERY.AREA\",\n  68: \"GALLERY.BAR\",\n  69: \"GALLERY.COLUMN\",\n  70: \"GALLERY.LINE\",\n  71: \"GALLERY.PIE\",\n  72: \"GALLERY.SCATTER\",\n  73: \"COMBINATION\",\n  74: \"PREFERRED\",\n  75: \"ADD.OVERLAY\",\n  76: \"GRIDLINES\",\n  77: \"SET.PREFERRED\",\n  78: \"AXES\",\n  79: \"LEGEND\",\n  80: \"ATTACH.TEXT\",\n  81: \"ADD.ARROW\",\n  82: \"SELECT.CHART\",\n  83: \"SELECT.PLOT.AREA\",\n  84: \"PATTERNS\",\n  85: \"MAIN.CHART\",\n  86: \"OVERLAY\",\n  87: \"SCALE\",\n  88: \"FORMAT.LEGEND\",\n  89: \"FORMAT.TEXT\",\n  90: \"EDIT.REPEAT\",\n  91: \"PARSE\",\n  92: \"JUSTIFY\",\n  93: \"HIDE\",\n  94: \"UNHIDE\",\n  95: \"WORKSPACE\",\n  96: \"FORMULA\",\n  97: \"FORMULA.FILL\",\n  98: \"FORMULA.ARRAY\",\n  99: \"DATA.FIND.NEXT\",\n  100: \"DATA.FIND.PREV\",\n  101: \"FORMULA.FIND.NEXT\",\n  102: \"FORMULA.FIND.PREV\",\n  103: \"ACTIVATE\",\n  104: \"ACTIVATE.NEXT\",\n  105: \"ACTIVATE.PREV\",\n  106: \"UNLOCKED.NEXT\",\n  107: \"UNLOCKED.PREV\",\n  108: \"COPY.PICTURE\",\n  109: \"SELECT\",\n  110: \"DELETE.NAME\",\n  111: \"DELETE.FORMAT\",\n  112: \"VLINE\",\n  113: \"HLINE\",\n  114: \"VPAGE\",\n  115: \"HPAGE\",\n  116: \"VSCROLL\",\n  117: \"HSCROLL\",\n  118: \"ALERT\",\n  119: \"NEW\",\n  120: \"CANCEL.COPY\",\n  121: \"SHOW.CLIPBOARD\",\n  122: \"MESSAGE\",\n  124: \"PASTE.LINK\",\n  125: \"APP.ACTIVATE\",\n  126: \"DELETE.ARROW\",\n  127: \"ROW.HEIGHT\",\n  128: \"FORMAT.MOVE\",\n  129: \"FORMAT.SIZE\",\n  130: \"FORMULA.REPLACE\",\n  131: \"SEND.KEYS\",\n  132: \"SELECT.SPECIAL\",\n  133: \"APPLY.NAMES\",\n  134: \"REPLACE.FONT\",\n  135: \"FREEZE.PANES\",\n  136: \"SHOW.INFO\",\n  137: \"SPLIT\",\n  138: \"ON.WINDOW\",\n  139: \"ON.DATA\",\n  140: \"DISABLE.INPUT\",\n  142: \"OUTLINE\",\n  143: \"LIST.NAMES\",\n  144: \"FILE.CLOSE\",\n  145: \"SAVE.WORKBOOK\",\n  146: \"DATA.FORM\",\n  147: \"COPY.CHART\",\n  148: \"ON.TIME\",\n  149: \"WAIT\",\n  150: \"FORMAT.FONT\",\n  151: \"FILL.UP\",\n  152: \"FILL.LEFT\",\n  153: \"DELETE.OVERLAY\",\n  155: \"SHORT.MENUS\",\n  159: \"SET.UPDATE.STATUS\",\n  161: \"COLOR.PALETTE\",\n  162: \"DELETE.STYLE\",\n  163: \"WINDOW.RESTORE\",\n  164: \"WINDOW.MAXIMIZE\",\n  166: \"CHANGE.LINK\",\n  167: \"CALCULATE.DOCUMENT\",\n  168: \"ON.KEY\",\n  169: \"APP.RESTORE\",\n  170: \"APP.MOVE\",\n  171: \"APP.SIZE\",\n  172: \"APP.MINIMIZE\",\n  173: \"APP.MAXIMIZE\",\n  174: \"BRING.TO.FRONT\",\n  175: \"SEND.TO.BACK\",\n  185: \"MAIN.CHART.TYPE\",\n  186: \"OVERLAY.CHART.TYPE\",\n  187: \"SELECT.END\",\n  188: \"OPEN.MAIL\",\n  189: \"SEND.MAIL\",\n  190: \"STANDARD.FONT\",\n  191: \"CONSOLIDATE\",\n  192: \"SORT.SPECIAL\",\n  193: \"GALLERY.3D.AREA\",\n  194: \"GALLERY.3D.COLUMN\",\n  195: \"GALLERY.3D.LINE\",\n  196: \"GALLERY.3D.PIE\",\n  197: \"VIEW.3D\",\n  198: \"GOAL.SEEK\",\n  199: \"WORKGROUP\",\n  200: \"FILL.GROUP\",\n  201: \"UPDATE.LINK\",\n  202: \"PROMOTE\",\n  203: \"DEMOTE\",\n  204: \"SHOW.DETAIL\",\n  206: \"UNGROUP\",\n  207: \"OBJECT.PROPERTIES\",\n  208: \"SAVE.NEW.OBJECT\",\n  209: \"SHARE\",\n  210: \"SHARE.NAME\",\n  211: \"DUPLICATE\",\n  212: \"APPLY.STYLE\",\n  213: \"ASSIGN.TO.OBJECT\",\n  214: \"OBJECT.PROTECTION\",\n  215: \"HIDE.OBJECT\",\n  216: \"SET.EXTRACT\",\n  217: \"CREATE.PUBLISHER\",\n  218: \"SUBSCRIBE.TO\",\n  219: \"ATTRIBUTES\",\n  220: \"SHOW.TOOLBAR\",\n  222: \"PRINT.PREVIEW\",\n  223: \"EDIT.COLOR\",\n  224: \"SHOW.LEVELS\",\n  225: \"FORMAT.MAIN\",\n  226: \"FORMAT.OVERLAY\",\n  227: \"ON.RECALC\",\n  228: \"EDIT.SERIES\",\n  229: \"DEFINE.STYLE\",\n  240: \"LINE.PRINT\",\n  243: \"ENTER.DATA\",\n  249: \"GALLERY.RADAR\",\n  250: \"MERGE.STYLES\",\n  251: \"EDITION.OPTIONS\",\n  252: \"PASTE.PICTURE\",\n  253: \"PASTE.PICTURE.LINK\",\n  254: \"SPELLING\",\n  256: \"ZOOM\",\n  259: \"INSERT.OBJECT\",\n  260: \"WINDOW.MINIMIZE\",\n  265: \"SOUND.NOTE\",\n  266: \"SOUND.PLAY\",\n  267: \"FORMAT.SHAPE\",\n  268: \"EXTEND.POLYGON\",\n  269: \"FORMAT.AUTO\",\n  272: \"GALLERY.3D.BAR\",\n  273: \"GALLERY.3D.SURFACE\",\n  274: \"FILL.AUTO\",\n  276: \"CUSTOMIZE.TOOLBAR\",\n  277: \"ADD.TOOL\",\n  278: \"EDIT.OBJECT\",\n  279: \"ON.DOUBLECLICK\",\n  280: \"ON.ENTRY\",\n  281: \"WORKBOOK.ADD\",\n  282: \"WORKBOOK.MOVE\",\n  283: \"WORKBOOK.COPY\",\n  284: \"WORKBOOK.OPTIONS\",\n  285: \"SAVE.WORKSPACE\",\n  288: \"CHART.WIZARD\",\n  289: \"DELETE.TOOL\",\n  290: \"MOVE.TOOL\",\n  291: \"WORKBOOK.SELECT\",\n  292: \"WORKBOOK.ACTIVATE\",\n  293: \"ASSIGN.TO.TOOL\",\n  295: \"COPY.TOOL\",\n  296: \"RESET.TOOL\",\n  297: \"CONSTRAIN.NUMERIC\",\n  298: \"PASTE.TOOL\",\n  302: \"WORKBOOK.NEW\",\n  305: \"SCENARIO.CELLS\",\n  306: \"SCENARIO.DELETE\",\n  307: \"SCENARIO.ADD\",\n  308: \"SCENARIO.EDIT\",\n  309: \"SCENARIO.SHOW\",\n  310: \"SCENARIO.SHOW.NEXT\",\n  311: \"SCENARIO.SUMMARY\",\n  312: \"PIVOT.TABLE.WIZARD\",\n  313: \"PIVOT.FIELD.PROPERTIES\",\n  314: \"PIVOT.FIELD\",\n  315: \"PIVOT.ITEM\",\n  316: \"PIVOT.ADD.FIELDS\",\n  318: \"OPTIONS.CALCULATION\",\n  319: \"OPTIONS.EDIT\",\n  320: \"OPTIONS.VIEW\",\n  321: \"ADDIN.MANAGER\",\n  322: \"MENU.EDITOR\",\n  323: \"ATTACH.TOOLBARS\",\n  324: \"VBAActivate\",\n  325: \"OPTIONS.CHART\",\n  328: \"VBA.INSERT.FILE\",\n  330: \"VBA.PROCEDURE.DEFINITION\",\n  336: \"ROUTING.SLIP\",\n  338: \"ROUTE.DOCUMENT\",\n  339: \"MAIL.LOGON\",\n  342: \"INSERT.PICTURE\",\n  343: \"EDIT.TOOL\",\n  344: \"GALLERY.DOUGHNUT\",\n  350: \"CHART.TREND\",\n  352: \"PIVOT.ITEM.PROPERTIES\",\n  354: \"WORKBOOK.INSERT\",\n  355: \"OPTIONS.TRANSITION\",\n  356: \"OPTIONS.GENERAL\",\n  370: \"FILTER.ADVANCED\",\n  373: \"MAIL.ADD.MAILER\",\n  374: \"MAIL.DELETE.MAILER\",\n  375: \"MAIL.REPLY\",\n  376: \"MAIL.REPLY.ALL\",\n  377: \"MAIL.FORWARD\",\n  378: \"MAIL.NEXT.LETTER\",\n  379: \"DATA.LABEL\",\n  380: \"INSERT.TITLE\",\n  381: \"FONT.PROPERTIES\",\n  382: \"MACRO.OPTIONS\",\n  383: \"WORKBOOK.HIDE\",\n  384: \"WORKBOOK.UNHIDE\",\n  385: \"WORKBOOK.DELETE\",\n  386: \"WORKBOOK.NAME\",\n  388: \"GALLERY.CUSTOM\",\n  390: \"ADD.CHART.AUTOFORMAT\",\n  391: \"DELETE.CHART.AUTOFORMAT\",\n  392: \"CHART.ADD.DATA\",\n  393: \"AUTO.OUTLINE\",\n  394: \"TAB.ORDER\",\n  395: \"SHOW.DIALOG\",\n  396: \"SELECT.ALL\",\n  397: \"UNGROUP.SHEETS\",\n  398: \"SUBTOTAL.CREATE\",\n  399: \"SUBTOTAL.REMOVE\",\n  400: \"RENAME.OBJECT\",\n  412: \"WORKBOOK.SCROLL\",\n  413: \"WORKBOOK.NEXT\",\n  414: \"WORKBOOK.PREV\",\n  415: \"WORKBOOK.TAB.SPLIT\",\n  416: \"FULL.SCREEN\",\n  417: \"WORKBOOK.PROTECT\",\n  420: \"SCROLLBAR.PROPERTIES\",\n  421: \"PIVOT.SHOW.PAGES\",\n  422: \"TEXT.TO.COLUMNS\",\n  423: \"FORMAT.CHARTTYPE\",\n  424: \"LINK.FORMAT\",\n  425: \"TRACER.DISPLAY\",\n  430: \"TRACER.NAVIGATE\",\n  431: \"TRACER.CLEAR\",\n  432: \"TRACER.ERROR\",\n  433: \"PIVOT.FIELD.GROUP\",\n  434: \"PIVOT.FIELD.UNGROUP\",\n  435: \"CHECKBOX.PROPERTIES\",\n  436: \"LABEL.PROPERTIES\",\n  437: \"LISTBOX.PROPERTIES\",\n  438: \"EDITBOX.PROPERTIES\",\n  439: \"PIVOT.REFRESH\",\n  440: \"LINK.COMBO\",\n  441: \"OPEN.TEXT\",\n  442: \"HIDE.DIALOG\",\n  443: \"SET.DIALOG.FOCUS\",\n  444: \"ENABLE.OBJECT\",\n  445: \"PUSHBUTTON.PROPERTIES\",\n  446: \"SET.DIALOG.DEFAULT\",\n  447: \"FILTER\",\n  448: \"FILTER.SHOW.ALL\",\n  449: \"CLEAR.OUTLINE\",\n  450: \"FUNCTION.WIZARD\",\n  451: \"ADD.LIST.ITEM\",\n  452: \"SET.LIST.ITEM\",\n  453: \"REMOVE.LIST.ITEM\",\n  454: \"SELECT.LIST.ITEM\",\n  455: \"SET.CONTROL.VALUE\",\n  456: \"SAVE.COPY.AS\",\n  458: \"OPTIONS.LISTS.ADD\",\n  459: \"OPTIONS.LISTS.DELETE\",\n  460: \"SERIES.AXES\",\n  461: \"SERIES.X\",\n  462: \"SERIES.Y\",\n  463: \"ERRORBAR.X\",\n  464: \"ERRORBAR.Y\",\n  465: \"FORMAT.CHART\",\n  466: \"SERIES.ORDER\",\n  467: \"MAIL.LOGOFF\",\n  468: \"CLEAR.ROUTING.SLIP\",\n  469: \"APP.ACTIVATE.MICROSOFT\",\n  470: \"MAIL.EDIT.MAILER\",\n  471: \"ON.SHEET\",\n  472: \"STANDARD.WIDTH\",\n  473: \"SCENARIO.MERGE\",\n  474: \"SUMMARY.INFO\",\n  475: \"FIND.FILE\",\n  476: \"ACTIVE.CELL.FONT\",\n  477: \"ENABLE.TIPWIZARD\",\n  478: \"VBA.MAKE.ADDIN\",\n  480: \"INSERTDATATABLE\",\n  481: \"WORKGROUP.OPTIONS\",\n  482: \"MAIL.SEND.MAILER\",\n  485: \"AUTOCORRECT\",\n  489: \"POST.DOCUMENT\",\n  491: \"PICKLIST\",\n  493: \"VIEW.SHOW\",\n  494: \"VIEW.DEFINE\",\n  495: \"VIEW.DELETE\",\n  509: \"SHEET.BACKGROUND\",\n  510: \"INSERT.MAP.OBJECT\",\n  511: \"OPTIONS.MENONO\",\n  517: \"MSOCHECKS\",\n  518: \"NORMAL\",\n  519: \"LAYOUT\",\n  520: \"RM.PRINT.AREA\",\n  521: \"CLEAR.PRINT.AREA\",\n  522: \"ADD.PRINT.AREA\",\n  523: \"MOVE.BRK\",\n  545: \"HIDECURR.NOTE\",\n  546: \"HIDEALL.NOTES\",\n  547: \"DELETE.NOTE\",\n  548: \"TRAVERSE.NOTES\",\n  549: \"ACTIVATE.NOTES\",\n  620: \"PROTECT.REVISIONS\",\n  621: \"UNPROTECT.REVISIONS\",\n  647: \"OPTIONS.ME\",\n  653: \"WEB.PUBLISH\",\n  667: \"NEWWEBQUERY\",\n  673: \"PIVOT.TABLE.CHART\",\n  753: \"OPTIONS.SAVE\",\n  755: \"OPTIONS.SPELL\",\n  808: \"HIDEALL.INKANNOTS\"\n};\nvar Ftab = {\n  0: \"COUNT\",\n  1: \"IF\",\n  2: \"ISNA\",\n  3: \"ISERROR\",\n  4: \"SUM\",\n  5: \"AVERAGE\",\n  6: \"MIN\",\n  7: \"MAX\",\n  8: \"ROW\",\n  9: \"COLUMN\",\n  10: \"NA\",\n  11: \"NPV\",\n  12: \"STDEV\",\n  13: \"DOLLAR\",\n  14: \"FIXED\",\n  15: \"SIN\",\n  16: \"COS\",\n  17: \"TAN\",\n  18: \"ATAN\",\n  19: \"PI\",\n  20: \"SQRT\",\n  21: \"EXP\",\n  22: \"LN\",\n  23: \"LOG10\",\n  24: \"ABS\",\n  25: \"INT\",\n  26: \"SIGN\",\n  27: \"ROUND\",\n  28: \"LOOKUP\",\n  29: \"INDEX\",\n  30: \"REPT\",\n  31: \"MID\",\n  32: \"LEN\",\n  33: \"VALUE\",\n  34: \"TRUE\",\n  35: \"FALSE\",\n  36: \"AND\",\n  37: \"OR\",\n  38: \"NOT\",\n  39: \"MOD\",\n  40: \"DCOUNT\",\n  41: \"DSUM\",\n  42: \"DAVERAGE\",\n  43: \"DMIN\",\n  44: \"DMAX\",\n  45: \"DSTDEV\",\n  46: \"VAR\",\n  47: \"DVAR\",\n  48: \"TEXT\",\n  49: \"LINEST\",\n  50: \"TREND\",\n  51: \"LOGEST\",\n  52: \"GROWTH\",\n  53: \"GOTO\",\n  54: \"HALT\",\n  55: \"RETURN\",\n  56: \"PV\",\n  57: \"FV\",\n  58: \"NPER\",\n  59: \"PMT\",\n  60: \"RATE\",\n  61: \"MIRR\",\n  62: \"IRR\",\n  63: \"RAND\",\n  64: \"MATCH\",\n  65: \"DATE\",\n  66: \"TIME\",\n  67: \"DAY\",\n  68: \"MONTH\",\n  69: \"YEAR\",\n  70: \"WEEKDAY\",\n  71: \"HOUR\",\n  72: \"MINUTE\",\n  73: \"SECOND\",\n  74: \"NOW\",\n  75: \"AREAS\",\n  76: \"ROWS\",\n  77: \"COLUMNS\",\n  78: \"OFFSET\",\n  79: \"ABSREF\",\n  80: \"RELREF\",\n  81: \"ARGUMENT\",\n  82: \"SEARCH\",\n  83: \"TRANSPOSE\",\n  84: \"ERROR\",\n  85: \"STEP\",\n  86: \"TYPE\",\n  87: \"ECHO\",\n  88: \"SET.NAME\",\n  89: \"CALLER\",\n  90: \"DEREF\",\n  91: \"WINDOWS\",\n  92: \"SERIES\",\n  93: \"DOCUMENTS\",\n  94: \"ACTIVE.CELL\",\n  95: \"SELECTION\",\n  96: \"RESULT\",\n  97: \"ATAN2\",\n  98: \"ASIN\",\n  99: \"ACOS\",\n  100: \"CHOOSE\",\n  101: \"HLOOKUP\",\n  102: \"VLOOKUP\",\n  103: \"LINKS\",\n  104: \"INPUT\",\n  105: \"ISREF\",\n  106: \"GET.FORMULA\",\n  107: \"GET.NAME\",\n  108: \"SET.VALUE\",\n  109: \"LOG\",\n  110: \"EXEC\",\n  111: \"CHAR\",\n  112: \"LOWER\",\n  113: \"UPPER\",\n  114: \"PROPER\",\n  115: \"LEFT\",\n  116: \"RIGHT\",\n  117: \"EXACT\",\n  118: \"TRIM\",\n  119: \"REPLACE\",\n  120: \"SUBSTITUTE\",\n  121: \"CODE\",\n  122: \"NAMES\",\n  123: \"DIRECTORY\",\n  124: \"FIND\",\n  125: \"CELL\",\n  126: \"ISERR\",\n  127: \"ISTEXT\",\n  128: \"ISNUMBER\",\n  129: \"ISBLANK\",\n  130: \"T\",\n  131: \"N\",\n  132: \"FOPEN\",\n  133: \"FCLOSE\",\n  134: \"FSIZE\",\n  135: \"FREADLN\",\n  136: \"FREAD\",\n  137: \"FWRITELN\",\n  138: \"FWRITE\",\n  139: \"FPOS\",\n  140: \"DATEVALUE\",\n  141: \"TIMEVALUE\",\n  142: \"SLN\",\n  143: \"SYD\",\n  144: \"DDB\",\n  145: \"GET.DEF\",\n  146: \"REFTEXT\",\n  147: \"TEXTREF\",\n  148: \"INDIRECT\",\n  149: \"REGISTER\",\n  150: \"CALL\",\n  151: \"ADD.BAR\",\n  152: \"ADD.MENU\",\n  153: \"ADD.COMMAND\",\n  154: \"ENABLE.COMMAND\",\n  155: \"CHECK.COMMAND\",\n  156: \"RENAME.COMMAND\",\n  157: \"SHOW.BAR\",\n  158: \"DELETE.MENU\",\n  159: \"DELETE.COMMAND\",\n  160: \"GET.CHART.ITEM\",\n  161: \"DIALOG.BOX\",\n  162: \"CLEAN\",\n  163: \"MDETERM\",\n  164: \"MINVERSE\",\n  165: \"MMULT\",\n  166: \"FILES\",\n  167: \"IPMT\",\n  168: \"PPMT\",\n  169: \"COUNTA\",\n  170: \"CANCEL.KEY\",\n  171: \"FOR\",\n  172: \"WHILE\",\n  173: \"BREAK\",\n  174: \"NEXT\",\n  175: \"INITIATE\",\n  176: \"REQUEST\",\n  177: \"POKE\",\n  178: \"EXECUTE\",\n  179: \"TERMINATE\",\n  180: \"RESTART\",\n  181: \"HELP\",\n  182: \"GET.BAR\",\n  183: \"PRODUCT\",\n  184: \"FACT\",\n  185: \"GET.CELL\",\n  186: \"GET.WORKSPACE\",\n  187: \"GET.WINDOW\",\n  188: \"GET.DOCUMENT\",\n  189: \"DPRODUCT\",\n  190: \"ISNONTEXT\",\n  191: \"GET.NOTE\",\n  192: \"NOTE\",\n  193: \"STDEVP\",\n  194: \"VARP\",\n  195: \"DSTDEVP\",\n  196: \"DVARP\",\n  197: \"TRUNC\",\n  198: \"ISLOGICAL\",\n  199: \"DCOUNTA\",\n  200: \"DELETE.BAR\",\n  201: \"UNREGISTER\",\n  204: \"USDOLLAR\",\n  205: \"FINDB\",\n  206: \"SEARCHB\",\n  207: \"REPLACEB\",\n  208: \"LEFTB\",\n  209: \"RIGHTB\",\n  210: \"MIDB\",\n  211: \"LENB\",\n  212: \"ROUNDUP\",\n  213: \"ROUNDDOWN\",\n  214: \"ASC\",\n  215: \"DBCS\",\n  216: \"RANK\",\n  219: \"ADDRESS\",\n  220: \"DAYS360\",\n  221: \"TODAY\",\n  222: \"VDB\",\n  223: \"ELSE\",\n  224: \"ELSE.IF\",\n  225: \"END.IF\",\n  226: \"FOR.CELL\",\n  227: \"MEDIAN\",\n  228: \"SUMPRODUCT\",\n  229: \"SINH\",\n  230: \"COSH\",\n  231: \"TANH\",\n  232: \"ASINH\",\n  233: \"ACOSH\",\n  234: \"ATANH\",\n  235: \"DGET\",\n  236: \"CREATE.OBJECT\",\n  237: \"VOLATILE\",\n  238: \"LAST.ERROR\",\n  239: \"CUSTOM.UNDO\",\n  240: \"CUSTOM.REPEAT\",\n  241: \"FORMULA.CONVERT\",\n  242: \"GET.LINK.INFO\",\n  243: \"TEXT.BOX\",\n  244: \"INFO\",\n  245: \"GROUP\",\n  246: \"GET.OBJECT\",\n  247: \"DB\",\n  248: \"PAUSE\",\n  251: \"RESUME\",\n  252: \"FREQUENCY\",\n  253: \"ADD.TOOLBAR\",\n  254: \"DELETE.TOOLBAR\",\n  255: \"User\",\n  256: \"RESET.TOOLBAR\",\n  257: \"EVALUATE\",\n  258: \"GET.TOOLBAR\",\n  259: \"GET.TOOL\",\n  260: \"SPELLING.CHECK\",\n  261: \"ERROR.TYPE\",\n  262: \"APP.TITLE\",\n  263: \"WINDOW.TITLE\",\n  264: \"SAVE.TOOLBAR\",\n  265: \"ENABLE.TOOL\",\n  266: \"PRESS.TOOL\",\n  267: \"REGISTER.ID\",\n  268: \"GET.WORKBOOK\",\n  269: \"AVEDEV\",\n  270: \"BETADIST\",\n  271: \"GAMMALN\",\n  272: \"BETAINV\",\n  273: \"BINOMDIST\",\n  274: \"CHIDIST\",\n  275: \"CHIINV\",\n  276: \"COMBIN\",\n  277: \"CONFIDENCE\",\n  278: \"CRITBINOM\",\n  279: \"EVEN\",\n  280: \"EXPONDIST\",\n  281: \"FDIST\",\n  282: \"FINV\",\n  283: \"FISHER\",\n  284: \"FISHERINV\",\n  285: \"FLOOR\",\n  286: \"GAMMADIST\",\n  287: \"GAMMAINV\",\n  288: \"CEILING\",\n  289: \"HYPGEOMDIST\",\n  290: \"LOGNORMDIST\",\n  291: \"LOGINV\",\n  292: \"NEGBINOMDIST\",\n  293: \"NORMDIST\",\n  294: \"NORMSDIST\",\n  295: \"NORMINV\",\n  296: \"NORMSINV\",\n  297: \"STANDARDIZE\",\n  298: \"ODD\",\n  299: \"PERMUT\",\n  300: \"POISSON\",\n  301: \"TDIST\",\n  302: \"WEIBULL\",\n  303: \"SUMXMY2\",\n  304: \"SUMX2MY2\",\n  305: \"SUMX2PY2\",\n  306: \"CHITEST\",\n  307: \"CORREL\",\n  308: \"COVAR\",\n  309: \"FORECAST\",\n  310: \"FTEST\",\n  311: \"INTERCEPT\",\n  312: \"PEARSON\",\n  313: \"RSQ\",\n  314: \"STEYX\",\n  315: \"SLOPE\",\n  316: \"TTEST\",\n  317: \"PROB\",\n  318: \"DEVSQ\",\n  319: \"GEOMEAN\",\n  320: \"HARMEAN\",\n  321: \"SUMSQ\",\n  322: \"KURT\",\n  323: \"SKEW\",\n  324: \"ZTEST\",\n  325: \"LARGE\",\n  326: \"SMALL\",\n  327: \"QUARTILE\",\n  328: \"PERCENTILE\",\n  329: \"PERCENTRANK\",\n  330: \"MODE\",\n  331: \"TRIMMEAN\",\n  332: \"TINV\",\n  334: \"MOVIE.COMMAND\",\n  335: \"GET.MOVIE\",\n  336: \"CONCATENATE\",\n  337: \"POWER\",\n  338: \"PIVOT.ADD.DATA\",\n  339: \"GET.PIVOT.TABLE\",\n  340: \"GET.PIVOT.FIELD\",\n  341: \"GET.PIVOT.ITEM\",\n  342: \"RADIANS\",\n  343: \"DEGREES\",\n  344: \"SUBTOTAL\",\n  345: \"SUMIF\",\n  346: \"COUNTIF\",\n  347: \"COUNTBLANK\",\n  348: \"SCENARIO.GET\",\n  349: \"OPTIONS.LISTS.GET\",\n  350: \"ISPMT\",\n  351: \"DATEDIF\",\n  352: \"DATESTRING\",\n  353: \"NUMBERSTRING\",\n  354: \"ROMAN\",\n  355: \"OPEN.DIALOG\",\n  356: \"SAVE.DIALOG\",\n  357: \"VIEW.GET\",\n  358: \"GETPIVOTDATA\",\n  359: \"HYPERLINK\",\n  360: \"PHONETIC\",\n  361: \"AVERAGEA\",\n  362: \"MAXA\",\n  363: \"MINA\",\n  364: \"STDEVPA\",\n  365: \"VARPA\",\n  366: \"STDEVA\",\n  367: \"VARA\",\n  368: \"BAHTTEXT\",\n  369: \"THAIDAYOFWEEK\",\n  370: \"THAIDIGIT\",\n  371: \"THAIMONTHOFYEAR\",\n  372: \"THAINUMSOUND\",\n  373: \"THAINUMSTRING\",\n  374: \"THAISTRINGLENGTH\",\n  375: \"ISTHAIDIGIT\",\n  376: \"ROUNDBAHTDOWN\",\n  377: \"ROUNDBAHTUP\",\n  378: \"THAIYEAR\",\n  379: \"RTD\",\n  380: \"CUBEVALUE\",\n  381: \"CUBEMEMBER\",\n  382: \"CUBEMEMBERPROPERTY\",\n  383: \"CUBERANKEDMEMBER\",\n  384: \"HEX2BIN\",\n  385: \"HEX2DEC\",\n  386: \"HEX2OCT\",\n  387: \"DEC2BIN\",\n  388: \"DEC2HEX\",\n  389: \"DEC2OCT\",\n  390: \"OCT2BIN\",\n  391: \"OCT2HEX\",\n  392: \"OCT2DEC\",\n  393: \"BIN2DEC\",\n  394: \"BIN2OCT\",\n  395: \"BIN2HEX\",\n  396: \"IMSUB\",\n  397: \"IMDIV\",\n  398: \"IMPOWER\",\n  399: \"IMABS\",\n  400: \"IMSQRT\",\n  401: \"IMLN\",\n  402: \"IMLOG2\",\n  403: \"IMLOG10\",\n  404: \"IMSIN\",\n  405: \"IMCOS\",\n  406: \"IMEXP\",\n  407: \"IMARGUMENT\",\n  408: \"IMCONJUGATE\",\n  409: \"IMAGINARY\",\n  410: \"IMREAL\",\n  411: \"COMPLEX\",\n  412: \"IMSUM\",\n  413: \"IMPRODUCT\",\n  414: \"SERIESSUM\",\n  415: \"FACTDOUBLE\",\n  416: \"SQRTPI\",\n  417: \"QUOTIENT\",\n  418: \"DELTA\",\n  419: \"GESTEP\",\n  420: \"ISEVEN\",\n  421: \"ISODD\",\n  422: \"MROUND\",\n  423: \"ERF\",\n  424: \"ERFC\",\n  425: \"BESSELJ\",\n  426: \"BESSELK\",\n  427: \"BESSELY\",\n  428: \"BESSELI\",\n  429: \"XIRR\",\n  430: \"XNPV\",\n  431: \"PRICEMAT\",\n  432: \"YIELDMAT\",\n  433: \"INTRATE\",\n  434: \"RECEIVED\",\n  435: \"DISC\",\n  436: \"PRICEDISC\",\n  437: \"YIELDDISC\",\n  438: \"TBILLEQ\",\n  439: \"TBILLPRICE\",\n  440: \"TBILLYIELD\",\n  441: \"PRICE\",\n  442: \"YIELD\",\n  443: \"DOLLARDE\",\n  444: \"DOLLARFR\",\n  445: \"NOMINAL\",\n  446: \"EFFECT\",\n  447: \"CUMPRINC\",\n  448: \"CUMIPMT\",\n  449: \"EDATE\",\n  450: \"EOMONTH\",\n  451: \"YEARFRAC\",\n  452: \"COUPDAYBS\",\n  453: \"COUPDAYS\",\n  454: \"COUPDAYSNC\",\n  455: \"COUPNCD\",\n  456: \"COUPNUM\",\n  457: \"COUPPCD\",\n  458: \"DURATION\",\n  459: \"MDURATION\",\n  460: \"ODDLPRICE\",\n  461: \"ODDLYIELD\",\n  462: \"ODDFPRICE\",\n  463: \"ODDFYIELD\",\n  464: \"RANDBETWEEN\",\n  465: \"WEEKNUM\",\n  466: \"AMORDEGRC\",\n  467: \"AMORLINC\",\n  468: \"CONVERT\",\n  724: \"SHEETJS\",\n  469: \"ACCRINT\",\n  470: \"ACCRINTM\",\n  471: \"WORKDAY\",\n  472: \"NETWORKDAYS\",\n  473: \"GCD\",\n  474: \"MULTINOMIAL\",\n  475: \"LCM\",\n  476: \"FVSCHEDULE\",\n  477: \"CUBEKPIMEMBER\",\n  478: \"CUBESET\",\n  479: \"CUBESETCOUNT\",\n  480: \"IFERROR\",\n  481: \"COUNTIFS\",\n  482: \"SUMIFS\",\n  483: \"AVERAGEIF\",\n  484: \"AVERAGEIFS\"\n};\nvar FtabArgc = {\n  2: 1,\n  3: 1,\n  10: 0,\n  15: 1,\n  16: 1,\n  17: 1,\n  18: 1,\n  19: 0,\n  20: 1,\n  21: 1,\n  22: 1,\n  23: 1,\n  24: 1,\n  25: 1,\n  26: 1,\n  27: 2,\n  30: 2,\n  31: 3,\n  32: 1,\n  33: 1,\n  34: 0,\n  35: 0,\n  38: 1,\n  39: 2,\n  40: 3,\n  41: 3,\n  42: 3,\n  43: 3,\n  44: 3,\n  45: 3,\n  47: 3,\n  48: 2,\n  53: 1,\n  61: 3,\n  63: 0,\n  65: 3,\n  66: 3,\n  67: 1,\n  68: 1,\n  69: 1,\n  70: 1,\n  71: 1,\n  72: 1,\n  73: 1,\n  74: 0,\n  75: 1,\n  76: 1,\n  77: 1,\n  79: 2,\n  80: 2,\n  83: 1,\n  85: 0,\n  86: 1,\n  89: 0,\n  90: 1,\n  94: 0,\n  95: 0,\n  97: 2,\n  98: 1,\n  99: 1,\n  101: 3,\n  102: 3,\n  105: 1,\n  106: 1,\n  108: 2,\n  111: 1,\n  112: 1,\n  113: 1,\n  114: 1,\n  117: 2,\n  118: 1,\n  119: 4,\n  121: 1,\n  126: 1,\n  127: 1,\n  128: 1,\n  129: 1,\n  130: 1,\n  131: 1,\n  133: 1,\n  134: 1,\n  135: 1,\n  136: 2,\n  137: 2,\n  138: 2,\n  140: 1,\n  141: 1,\n  142: 3,\n  143: 4,\n  144: 4,\n  161: 1,\n  162: 1,\n  163: 1,\n  164: 1,\n  165: 2,\n  172: 1,\n  175: 2,\n  176: 2,\n  177: 3,\n  178: 2,\n  179: 1,\n  184: 1,\n  186: 1,\n  189: 3,\n  190: 1,\n  195: 3,\n  196: 3,\n  197: 1,\n  198: 1,\n  199: 3,\n  201: 1,\n  207: 4,\n  210: 3,\n  211: 1,\n  212: 2,\n  213: 2,\n  214: 1,\n  215: 1,\n  225: 0,\n  229: 1,\n  230: 1,\n  231: 1,\n  232: 1,\n  233: 1,\n  234: 1,\n  235: 3,\n  244: 1,\n  247: 4,\n  252: 2,\n  257: 1,\n  261: 1,\n  271: 1,\n  273: 4,\n  274: 2,\n  275: 2,\n  276: 2,\n  277: 3,\n  278: 3,\n  279: 1,\n  280: 3,\n  281: 3,\n  282: 3,\n  283: 1,\n  284: 1,\n  285: 2,\n  286: 4,\n  287: 3,\n  288: 2,\n  289: 4,\n  290: 3,\n  291: 3,\n  292: 3,\n  293: 4,\n  294: 1,\n  295: 3,\n  296: 1,\n  297: 3,\n  298: 1,\n  299: 2,\n  300: 3,\n  301: 3,\n  302: 4,\n  303: 2,\n  304: 2,\n  305: 2,\n  306: 2,\n  307: 2,\n  308: 2,\n  309: 3,\n  310: 2,\n  311: 2,\n  312: 2,\n  313: 2,\n  314: 2,\n  315: 2,\n  316: 4,\n  325: 2,\n  326: 2,\n  327: 2,\n  328: 2,\n  331: 2,\n  332: 2,\n  337: 2,\n  342: 1,\n  343: 1,\n  346: 2,\n  347: 1,\n  350: 4,\n  351: 3,\n  352: 1,\n  353: 2,\n  360: 1,\n  368: 1,\n  369: 1,\n  370: 1,\n  371: 1,\n  372: 1,\n  373: 1,\n  374: 1,\n  375: 1,\n  376: 1,\n  377: 1,\n  378: 1,\n  382: 3,\n  385: 1,\n  392: 1,\n  393: 1,\n  396: 2,\n  397: 2,\n  398: 2,\n  399: 1,\n  400: 1,\n  401: 1,\n  402: 1,\n  403: 1,\n  404: 1,\n  405: 1,\n  406: 1,\n  407: 1,\n  408: 1,\n  409: 1,\n  410: 1,\n  414: 4,\n  415: 1,\n  416: 1,\n  417: 2,\n  420: 1,\n  421: 1,\n  422: 2,\n  424: 1,\n  425: 2,\n  426: 2,\n  427: 2,\n  428: 2,\n  430: 3,\n  438: 3,\n  439: 3,\n  440: 3,\n  443: 2,\n  444: 2,\n  445: 2,\n  446: 2,\n  447: 6,\n  448: 6,\n  449: 2,\n  450: 2,\n  464: 2,\n  468: 3,\n  476: 2,\n  479: 1,\n  480: 2,\n  65535: 0\n};\n/* Part 3 TODO: actually parse formulae */\nfunction ods_to_csf_formula(f/*:string*/)/*:string*/ {\n\tif(f.slice(0,3) == \"of:\") f = f.slice(3);\n\t/* 5.2 Basic Expressions */\n\tif(f.charCodeAt(0) == 61) {\n\t\tf = f.slice(1);\n\t\tif(f.charCodeAt(0) == 61) f = f.slice(1);\n\t}\n\tf = f.replace(/COM\\.MICROSOFT\\./g, \"\");\n\t/* Part 3 Section 5.8 References */\n\tf = f.replace(/\\[((?:\\.[A-Z]+[0-9]+)(?::\\.[A-Z]+[0-9]+)?)\\]/g, function($$, $1) { return $1.replace(/\\./g,\"\"); });\n\tf = f.replace(/\\$'([^']|'')+'/g, function($$) { return $$.slice(1); });\n\tf = f.replace(/\\$([^\\]\\. #$]+)/g, function($$, $1) { return ($1).match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})?$/) ? $$ : $1; });\n\t/* TODO: something other than this */\n\tf = f.replace(/\\[.(#[A-Z]*[?!])\\]/g, \"$1\");\n\treturn f.replace(/[;~]/g,\",\").replace(/\\|/g,\";\");\n}\n\nfunction csf_to_ods_formula(f/*:string*/)/*:string*/ {\n\tvar o = \"of:=\" + f.replace(crefregex, \"$1[.$2$3$4$5]\").replace(/\\]:\\[/g,\":\");\n\t/* TODO: something other than this */\n\treturn o.replace(/;/g, \"|\").replace(/,/g,\";\");\n}\n\nfunction ods_to_csf_3D(r/*:string*/)/*:[string, string]*/ {\n\tr = r.replace(/\\$'([^']|'')+'/g, function($$) { return $$.slice(1); });\n\tr = r.replace(/\\$([^\\]\\. #$]+)/g, function($$, $1) { return ($1).match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})?$/) ? $$ : $1; });\n\tvar a = r.split(\":\");\n\tvar s = a[0].split(\".\")[0];\n\treturn [s, a[0].split(\".\")[1] + (a.length > 1 ? (\":\" + (a[1].split(\".\")[1] || a[1].split(\".\")[0])) : \"\")];\n}\n\nfunction csf_to_ods_3D(r/*:string*/)/*:string*/ {\n\treturn r.replace(/!/,\".\").replace(/:/, \":.\");\n}\n\nvar strs = {}; // shared strings\nvar _ssfopts = {}; // spreadsheet formatting options\n\n\n/*global Map */\nvar browser_has_Map = typeof Map !== 'undefined';\n\nfunction get_sst_id(sst/*:SST*/, str/*:string*/, rev)/*:number*/ {\n\tvar i = 0, len = sst.length;\n\tif(rev) {\n\t\tif(browser_has_Map ? rev.has(str) : Object.prototype.hasOwnProperty.call(rev, str)) {\n\t\t\tvar revarr = browser_has_Map ? rev.get(str) : rev[str];\n\t\t\tfor(; i < revarr.length; ++i) {\n\t\t\t\tif(sst[revarr[i]].t === str) { sst.Count ++; return revarr[i]; }\n\t\t\t}\n\t\t}\n\t} else for(; i < len; ++i) {\n\t\tif(sst[i].t === str) { sst.Count ++; return i; }\n\t}\n\tsst[len] = ({t:str}/*:any*/); sst.Count ++; sst.Unique ++;\n\tif(rev) {\n\t\tif(browser_has_Map) {\n\t\t\tif(!rev.has(str)) rev.set(str, []);\n\t\t\trev.get(str).push(len);\n\t\t} else {\n\t\t\tif(!Object.prototype.hasOwnProperty.call(rev, str)) rev[str] = [];\n\t\t\trev[str].push(len);\n\t\t}\n\t}\n\treturn len;\n}\n\nfunction col_obj_w(C/*:number*/, col) {\n\tvar p = ({min:C+1,max:C+1}/*:any*/);\n\t/* wch (chars), wpx (pixels) */\n\tvar wch = -1;\n\tif(col.MDW) MDW = col.MDW;\n\tif(col.width != null) p.customWidth = 1;\n\telse if(col.wpx != null) wch = px2char(col.wpx);\n\telse if(col.wch != null) wch = col.wch;\n\tif(wch > -1) { p.width = char2width(wch); p.customWidth = 1; }\n\telse if(col.width != null) p.width = col.width;\n\tif(col.hidden) p.hidden = true;\n\tif(col.level != null) { p.outlineLevel = p.level = col.level; }\n\treturn p;\n}\n\nfunction default_margins(margins/*:Margins*/, mode/*:?string*/) {\n\tif(!margins) return;\n\tvar defs = [0.7, 0.7, 0.75, 0.75, 0.3, 0.3];\n\tif(mode == 'xlml') defs = [1, 1, 1, 1, 0.5, 0.5];\n\tif(margins.left   == null) margins.left   = defs[0];\n\tif(margins.right  == null) margins.right  = defs[1];\n\tif(margins.top    == null) margins.top    = defs[2];\n\tif(margins.bottom == null) margins.bottom = defs[3];\n\tif(margins.header == null) margins.header = defs[4];\n\tif(margins.footer == null) margins.footer = defs[5];\n}\n\nfunction get_cell_style(styles/*:Array<any>*/, cell/*:Cell*/, opts) {\n\tvar z = opts.revssf[cell.z != null ? cell.z : \"General\"];\n\tvar i = 0x3c, len = styles.length;\n\tif(z == null && opts.ssf) {\n\t\tfor(; i < 0x188; ++i) if(opts.ssf[i] == null) {\n\t\t\tSSF__load(cell.z, i);\n\t\t\t// $FlowIgnore\n\t\t\topts.ssf[i] = cell.z;\n\t\t\topts.revssf[cell.z] = z = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor(i = 0; i != len; ++i) if(styles[i].numFmtId === z) return i;\n\tstyles[len] = {\n\t\tnumFmtId:z,\n\t\tfontId:0,\n\t\tfillId:0,\n\t\tborderId:0,\n\t\txfId:0,\n\t\tapplyNumberFormat:1\n\t};\n\treturn len;\n}\n\nfunction safe_format(p/*:Cell*/, fmtid/*:number*/, fillid/*:?number*/, opts, themes, styles, date1904) {\n\ttry {\n\t\tif(opts.cellNF) p.z = table_fmt[fmtid];\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(p.t === 'z' && !opts.cellStyles) return;\n\tif(p.t === 'd' && typeof p.v === 'string') p.v = parseDate(p.v);\n\tif((!opts || opts.cellText !== false) && p.t !== 'z') try {\n\t\tif(table_fmt[fmtid] == null) SSF__load(SSFImplicit[fmtid] || \"General\", fmtid);\n\t\tif(p.t === 'e') p.w = p.w || BErr[p.v];\n\t\telse if(fmtid === 0) {\n\t\t\tif(p.t === 'n') {\n\t\t\t\tif((p.v|0) === p.v) p.w = p.v.toString(10);\n\t\t\t\telse p.w = SSF_general_num(p.v);\n\t\t\t}\n\t\t\telse if(p.t === 'd') {\n\t\t\t\tvar dd = datenum(p.v, !!date1904);\n\t\t\t\tif((dd|0) === dd) p.w = dd.toString(10);\n\t\t\t\telse p.w = SSF_general_num(dd);\n\t\t\t}\n\t\t\telse if(p.v === undefined) return \"\";\n\t\t\telse p.w = SSF_general(p.v,_ssfopts);\n\t\t}\n\t\telse if(p.t === 'd') p.w = SSF_format(fmtid,datenum(p.v, !!date1904),_ssfopts);\n\t\telse p.w = SSF_format(fmtid,p.v,_ssfopts);\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(!opts.cellStyles) return;\n\tif(fillid != null) try {\n\t\tp.s = styles.Fills[fillid];\n\t\tif (p.s.fgColor && p.s.fgColor.theme && !p.s.fgColor.rgb) {\n\t\t\tp.s.fgColor.rgb = rgb_tint(themes.themeElements.clrScheme[p.s.fgColor.theme].rgb, p.s.fgColor.tint || 0);\n\t\t\tif(opts.WTF) p.s.fgColor.raw_rgb = themes.themeElements.clrScheme[p.s.fgColor.theme].rgb;\n\t\t}\n\t\tif (p.s.bgColor && p.s.bgColor.theme) {\n\t\t\tp.s.bgColor.rgb = rgb_tint(themes.themeElements.clrScheme[p.s.bgColor.theme].rgb, p.s.bgColor.tint || 0);\n\t\t\tif(opts.WTF) p.s.bgColor.raw_rgb = themes.themeElements.clrScheme[p.s.bgColor.theme].rgb;\n\t\t}\n\t} catch(e) { if(opts.WTF && styles.Fills) throw e; }\n}\n\nfunction check_ws(ws/*:Worksheet*/, sname/*:string*/, i/*:number*/) {\n\tif(ws && ws['!ref']) {\n\t\tvar range = safe_decode_range(ws['!ref']);\n\t\tif(range.e.c < range.s.c || range.e.r < range.s.r) throw new Error(\"Bad range (\" + i + \"): \" + ws['!ref']);\n\t}\n}\nfunction parse_ws_xml_dim(ws/*:Worksheet*/, s/*:string*/) {\n\tvar d = safe_decode_range(s);\n\tif(d.s.r<=d.e.r && d.s.c<=d.e.c && d.s.r>=0 && d.s.c>=0) ws[\"!ref\"] = encode_range(d);\n}\nvar mergecregex = /<(?:\\w+:)?mergeCell ref=[\"'][A-Z0-9:]+['\"]\\s*[\\/]?>/g;\nvar hlinkregex = /<(?:\\w+:)?hyperlink [^<>]*>/mg;\nvar dimregex = /\"(\\w*:\\w*)\"/;\nvar colregex = /<(?:\\w+:)?col\\b[^<>]*[\\/]?>/g;\nvar afregex = /<(?:\\w+:)?autoFilter[^>]*/g;\nvar marginregex= /<(?:\\w+:)?pageMargins[^<>]*\\/>/g;\nvar sheetprregex = /<(?:\\w+:)?sheetPr\\b[^<>]*?\\/>/;\n\n/* 18.3 Worksheets */\nfunction parse_ws_xml(data/*:?string*/, opts, idx/*:number*/, rels, wb/*:WBWBProps*/, themes, styles)/*:Worksheet*/ {\n\tif(!data) return data;\n\tif(!rels) rels = {'!id':{}};\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\n\t/* 18.3.1.99 worksheet CT_Worksheet */\n\tvar s = ({}/*:any*/); if(opts.dense) s[\"!data\"] = [];\n\tvar refguess/*:Range*/ = ({s: {r:2000000, c:2000000}, e: {r:0, c:0} }/*:any*/);\n\n\tvar data1 = \"\", data2 = \"\";\n\tvar mtch/*:?any*/ = str_match_xml_ns(data, \"sheetData\");\n\tif(mtch) {\n\t\tdata1 = data.slice(0, mtch.index);\n\t\tdata2 = data.slice(mtch.index + mtch[0].length);\n\t} else data1 = data2 = data;\n\n\t/* 18.3.1.82 sheetPr CT_SheetPr */\n\tvar sheetPr = data1.match(sheetprregex);\n\tif(sheetPr) parse_ws_xml_sheetpr(sheetPr[0], s, wb, idx);\n\telse if((sheetPr = str_match_xml_ns(data1, \"sheetPr\"))) parse_ws_xml_sheetpr2(sheetPr[0], sheetPr[1]||\"\", s, wb, idx, styles, themes);\n\n\t/* 18.3.1.35 dimension CT_SheetDimension */\n\tvar ridx = (data1.match(/<(?:\\w*:)?dimension/)||{index:-1}).index;\n\tif(ridx > 0) {\n\t\tvar ref = data1.slice(ridx,ridx+50).match(dimregex);\n\t\tif(ref && !(opts && opts.nodim)) parse_ws_xml_dim(s, ref[1]);\n\t}\n\n\t/* 18.3.1.88 sheetViews CT_SheetViews */\n\tvar svs = str_match_xml_ns(data1, \"sheetViews\");\n\tif(svs && svs[1]) parse_ws_xml_sheetviews(svs[1], wb);\n\n\t/* 18.3.1.17 cols CT_Cols */\n\tvar columns/*:Array<ColInfo>*/ = [];\n\tif(opts.cellStyles) {\n\t\t/* 18.3.1.13 col CT_Col */\n\t\tvar cols = data1.match(colregex);\n\t\tif(cols) parse_ws_xml_cols(columns, cols);\n\t}\n\n\t/* 18.3.1.80 sheetData CT_SheetData ? */\n\tif(mtch) parse_ws_xml_data(mtch[1], s, opts, refguess, themes, styles, wb);\n\n\t/* 18.3.1.2  autoFilter CT_AutoFilter */\n\tvar afilter = data2.match(afregex);\n\tif(afilter) s['!autofilter'] = parse_ws_xml_autofilter(afilter[0]);\n\n\t/* 18.3.1.55 mergeCells CT_MergeCells */\n\tvar merges/*:Array<Range>*/ = [];\n\tvar _merge = data2.match(mergecregex);\n\tif(_merge) for(ridx = 0; ridx != _merge.length; ++ridx)\n\t\tmerges[ridx] = safe_decode_range(_merge[ridx].slice(_merge[ridx].indexOf(\"=\")+2));\n\n\t/* 18.3.1.48 hyperlinks CT_Hyperlinks */\n\tvar hlink = data2.match(hlinkregex);\n\tif(hlink) parse_ws_xml_hlinks(s, hlink, rels);\n\n\t/* 18.3.1.62 pageMargins CT_PageMargins */\n\tvar margins = data2.match(marginregex);\n\tif(margins) s['!margins'] = parse_ws_xml_margins(parsexmltag(margins[0]));\n\n\t/* legacyDrawing */\n\tvar m;\n\tif((m = data2.match(/legacyDrawing r:id=\"(.*?)\"/))) s['!legrel'] = m[1];\n\n\tif(opts && opts.nodim) refguess.s.c = refguess.s.r = 0;\n\tif(!s[\"!ref\"] && refguess.e.c >= refguess.s.c && refguess.e.r >= refguess.s.r) s[\"!ref\"] = encode_range(refguess);\n\tif(opts.sheetRows > 0 && s[\"!ref\"]) {\n\t\tvar tmpref = safe_decode_range(s[\"!ref\"]);\n\t\tif(opts.sheetRows <= +tmpref.e.r) {\n\t\t\ttmpref.e.r = opts.sheetRows - 1;\n\t\t\tif(tmpref.e.r > refguess.e.r) tmpref.e.r = refguess.e.r;\n\t\t\tif(tmpref.e.r < tmpref.s.r) tmpref.s.r = tmpref.e.r;\n\t\t\tif(tmpref.e.c > refguess.e.c) tmpref.e.c = refguess.e.c;\n\t\t\tif(tmpref.e.c < tmpref.s.c) tmpref.s.c = tmpref.e.c;\n\t\t\ts[\"!fullref\"] = s[\"!ref\"];\n\t\t\ts[\"!ref\"] = encode_range(tmpref);\n\t\t}\n\t}\n\tif(columns.length > 0) s[\"!cols\"] = columns;\n\tif(merges.length > 0) s[\"!merges\"] = merges;\n\tif(rels['!id'][s['!legrel']]) s['!legdrawel'] = rels['!id'][s['!legrel']];\n\treturn s;\n}\n\nfunction write_ws_xml_merges(merges/*:Array<Range>*/)/*:string*/ {\n\tif(merges.length === 0) return \"\";\n\tvar o = '<mergeCells count=\"' + merges.length + '\">';\n\tfor(var i = 0; i != merges.length; ++i) o += '<mergeCell ref=\"' + encode_range(merges[i]) + '\"/>';\n\treturn o + '</mergeCells>';\n}\n\n/* 18.3.1.82-3 sheetPr CT_ChartsheetPr / CT_SheetPr */\nfunction parse_ws_xml_sheetpr(sheetPr/*:string*/, s, wb/*:WBWBProps*/, idx/*:number*/) {\n\tvar data = parsexmltag(sheetPr);\n\tif(!wb.Sheets[idx]) wb.Sheets[idx] = {};\n\tif(data.codeName) wb.Sheets[idx].CodeName = unescapexml(utf8read(data.codeName));\n}\nfunction parse_ws_xml_sheetpr2(sheetPr/*:string*/, body/*:string*/, s, wb/*:WBWBProps*/, idx/*:number*/) {\n\tparse_ws_xml_sheetpr(sheetPr.slice(0, sheetPr.indexOf(\">\")), s, wb, idx);\n}\nfunction write_ws_xml_sheetpr(ws, wb, idx, opts, o) {\n\tvar needed = false;\n\tvar props = {}, payload = null;\n\tif(opts.bookType !== 'xlsx' && wb.vbaraw) {\n\t\tvar cname = wb.SheetNames[idx];\n\t\ttry { if(wb.Workbook) cname = wb.Workbook.Sheets[idx].CodeName || cname; } catch(e) {}\n\t\tneeded = true;\n\t\tprops.codeName = utf8write(escapexml(cname));\n\t}\n\n\tif(ws && ws[\"!outline\"]) {\n\t\tvar outlineprops = {summaryBelow:1, summaryRight:1};\n\t\tif(ws[\"!outline\"].above) outlineprops.summaryBelow = 0;\n\t\tif(ws[\"!outline\"].left) outlineprops.summaryRight = 0;\n\t\tpayload = (payload||\"\") + writextag('outlinePr', null, outlineprops);\n\t}\n\n\tif(!needed && !payload) return;\n\to[o.length] = (writextag('sheetPr', payload, props));\n}\n\n/* 18.3.1.85 sheetProtection CT_SheetProtection */\nvar sheetprot_deffalse = [\"objects\", \"scenarios\", \"selectLockedCells\", \"selectUnlockedCells\"];\nvar sheetprot_deftrue = [\n\t\"formatColumns\", \"formatRows\", \"formatCells\",\n\t\"insertColumns\", \"insertRows\", \"insertHyperlinks\",\n\t\"deleteColumns\", \"deleteRows\",\n\t\"sort\", \"autoFilter\", \"pivotTables\"\n];\nfunction write_ws_xml_protection(sp)/*:string*/ {\n\t// algorithmName, hashValue, saltValue, spinCount\n\tvar o = ({sheet:1}/*:any*/);\n\tsheetprot_deffalse.forEach(function(n) { if(sp[n] != null && sp[n]) o[n] = \"1\"; });\n\tsheetprot_deftrue.forEach(function(n) { if(sp[n] != null && !sp[n]) o[n] = \"0\"; });\n\t/* TODO: algorithm */\n\tif(sp.password) o.password = crypto_CreatePasswordVerifier_Method1(sp.password).toString(16).toUpperCase();\n\treturn writextag('sheetProtection', null, o);\n}\n\nfunction parse_ws_xml_hlinks(s, data/*:Array<string>*/, rels) {\n\tvar dense = s[\"!data\"] != null;\n\tfor(var i = 0; i != data.length; ++i) {\n\t\tvar val = parsexmltag(utf8read(data[i]), true);\n\t\tif(!val.ref) return;\n\t\tvar rel = ((rels || {})['!id']||[])[val.id];\n\t\tif(rel) {\n\t\t\tval.Target = rel.Target;\n\t\t\tif(val.location) val.Target += \"#\"+unescapexml(val.location);\n\t\t} else {\n\t\t\tval.Target = \"#\" + unescapexml(val.location);\n\t\t\trel = {Target: val.Target, TargetMode: 'Internal'};\n\t\t}\n\t\tval.Rel = rel;\n\t\tif(val.tooltip) { val.Tooltip = val.tooltip; delete val.tooltip; }\n\t\tvar rng = safe_decode_range(val.ref);\n\t\tfor(var R=rng.s.r;R<=rng.e.r;++R) for(var C=rng.s.c;C<=rng.e.c;++C) {\n\t\t\tvar addr = encode_col(C) + encode_row(R);\n\t\t\tif(dense) {\n\t\t\t\tif(!s[\"!data\"][R]) s[\"!data\"][R] = [];\n\t\t\t\tif(!s[\"!data\"][R][C]) s[\"!data\"][R][C] = {t:\"z\",v:undefined};\n\t\t\t\ts[\"!data\"][R][C].l = val;\n\t\t\t} else {\n\t\t\t\tif(!s[addr]) s[addr] = {t:\"z\",v:undefined};\n\t\t\t\ts[addr].l = val;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction parse_ws_xml_margins(margin) {\n\tvar o = {};\n\t[\"left\", \"right\", \"top\", \"bottom\", \"header\", \"footer\"].forEach(function(k) {\n\t\tif(margin[k]) o[k] = parseFloat(margin[k]);\n\t});\n\treturn o;\n}\nfunction write_ws_xml_margins(margin)/*:string*/ {\n\tdefault_margins(margin);\n\treturn writextag('pageMargins', null, margin);\n}\n\nfunction parse_ws_xml_cols(columns, cols) {\n\tvar seencol = false;\n\tfor(var coli = 0; coli != cols.length; ++coli) {\n\t\tvar coll = parsexmltag(cols[coli], true);\n\t\tif(coll.hidden) coll.hidden = parsexmlbool(coll.hidden);\n\t\tvar colm=parseInt(coll.min, 10)-1, colM=parseInt(coll.max,10)-1;\n\t\tif(coll.outlineLevel) coll.level = (+coll.outlineLevel || 0);\n\t\tdelete coll.min; delete coll.max; coll.width = +coll.width;\n\t\tif(!seencol && coll.width) { seencol = true; find_mdw_colw(coll.width); }\n\t\tprocess_col(coll);\n\t\twhile(colm <= colM) columns[colm++] = dup(coll);\n\t}\n}\nfunction write_ws_xml_cols(ws, cols)/*:string*/ {\n\tvar o = [\"<cols>\"], col;\n\tfor(var i = 0; i != cols.length; ++i) {\n\t\tif(!(col = cols[i])) continue;\n\t\to[o.length] = (writextag('col', null, col_obj_w(i, col)));\n\t}\n\to[o.length] = \"</cols>\";\n\treturn o.join(\"\");\n}\n\nfunction parse_ws_xml_autofilter(data/*:string*/) {\n\tvar o = { ref: (data.match(/ref=\"([^\"]*)\"/)||[])[1]};\n\treturn o;\n}\nfunction write_ws_xml_autofilter(data, ws, wb, idx)/*:string*/ {\n\tvar ref = typeof data.ref == \"string\" ? data.ref : encode_range(data.ref);\n\tif(!wb.Workbook) wb.Workbook = ({Sheets:[]}/*:any*/);\n\tif(!wb.Workbook.Names) wb.Workbook.Names = [];\n\tvar names/*: Array<any> */ = wb.Workbook.Names;\n\tvar range = decode_range(ref);\n\tif(range.s.r == range.e.r) { range.e.r = decode_range(ws[\"!ref\"]).e.r; ref = encode_range(range); }\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar name = names[i];\n\t\tif(name.Name != '_xlnm._FilterDatabase') continue;\n\t\tif(name.Sheet != idx) continue;\n\t\tname.Ref = formula_quote_sheet_name(wb.SheetNames[idx]) + \"!\" + fix_range(ref); break;\n\t}\n\tif(i == names.length) names.push({ Name: '_xlnm._FilterDatabase', Sheet: idx, Ref: \"'\" + wb.SheetNames[idx] + \"'!\" + ref  });\n\treturn writextag(\"autoFilter\", null, {ref:ref});\n}\n\n/* 18.3.1.88 sheetViews CT_SheetViews */\n/* 18.3.1.87 sheetView CT_SheetView */\nvar sviewregex = /<(?:\\w:)?sheetView(?:[^<>a-z][^<>]*)?\\/?>/g;\nfunction parse_ws_xml_sheetviews(data, wb/*:WBWBProps*/) {\n\tif(!wb.Views) wb.Views = [{}];\n\t(data.match(sviewregex)||[]).forEach(function(r/*:string*/, i/*:number*/) {\n\t\tvar tag = parsexmltag(r);\n\t\t// $FlowIgnore\n\t\tif(!wb.Views[i]) wb.Views[i] = {};\n\t\t// $FlowIgnore\n\t\tif(+tag.zoomScale) wb.Views[i].zoom = +tag.zoomScale;\n\t\t// $FlowIgnore\n\t\tif(tag.rightToLeft && parsexmlbool(tag.rightToLeft)) wb.Views[i].RTL = true;\n\t});\n}\nfunction write_ws_xml_sheetviews(ws, opts, idx, wb)/*:string*/ {\n\tvar sview = ({workbookViewId:\"0\"}/*:any*/);\n\t// $FlowIgnore\n\tif((((wb||{}).Workbook||{}).Views||[])[0]) sview.rightToLeft = wb.Workbook.Views[0].RTL ? \"1\" : \"0\";\n\treturn writextag(\"sheetViews\", writextag(\"sheetView\", null, sview), {});\n}\n\nfunction write_ws_xml_cell(cell/*:Cell*/, ref, ws, opts, idx, wb, date1904)/*:string*/ {\n\tif(cell.c) ws['!comments'].push([ref, cell.c]);\n\tif((cell.v === undefined || cell.t === \"z\" && !(opts||{}).sheetStubs) && typeof cell.f !== \"string\" && typeof cell.z == \"undefined\") return \"\";\n\tvar vv = \"\";\n\tvar oldt = cell.t, oldv = cell.v;\n\tif(cell.t !== \"z\") switch(cell.t) {\n\t\tcase 'b': vv = cell.v ? \"1\" : \"0\"; break;\n\t\tcase 'n':\n\t\t\tif(isNaN(cell.v)) { cell.t = \"e\"; vv = BErr[cell.v = 0x24]; } // #NUM!\n\t\t\telse if(!isFinite(cell.v)) { cell.t = \"e\"; vv = BErr[cell.v = 0x07]; } // #DIV/0!\n\t\t\telse vv = ''+cell.v; break;\n\t\tcase 'e': vv = BErr[cell.v]; break;\n\t\tcase 'd':\n\t\t\tif(opts && opts.cellDates) {\n\t\t\t\tvar _vv = parseDate(cell.v, date1904);\n\t\t\t\tvv = _vv.toISOString();\n\t\t\t\tif(_vv.getUTCFullYear() < 1900) vv = vv.slice(vv.indexOf(\"T\") + 1).replace(\"Z\",\"\");\n\t\t\t} else {\n\t\t\t\tcell = dup(cell);\n\t\t\t\tcell.t = 'n';\n\t\t\t\tvv = ''+(cell.v = datenum(parseDate(cell.v, date1904), date1904));\n\t\t\t}\n\t\t\tif(typeof cell.z === 'undefined') cell.z = table_fmt[14];\n\t\t\tbreak;\n\t\tdefault: vv = cell.v; break;\n\t}\n\tvar v = (cell.t == \"z\" || cell.v == null)? \"\" : writetag('v', escapexml(vv)), o = ({r:ref}/*:any*/);\n\t/* TODO: cell style */\n\tvar os = get_cell_style(opts.cellXfs, cell, opts);\n\tif(os !== 0) o.s = os;\n\tswitch(cell.t) {\n\t\tcase 'n': break;\n\t\tcase 'd': o.t = \"d\"; break;\n\t\tcase 'b': o.t = \"b\"; break;\n\t\tcase 'e': o.t = \"e\"; break;\n\t\tcase 'z': break;\n\t\tdefault: if(cell.v == null) { delete cell.t; break; }\n\t\t\tif(cell.v.length > 32767) throw new Error(\"Text length must not exceed 32767 characters\");\n\t\t\tif(opts && opts.bookSST) {\n\t\t\t\tv = writetag('v', ''+get_sst_id(opts.Strings, cell.v, opts.revStrings));\n\t\t\t\to.t = \"s\"; break;\n\t\t\t}\n\t\t\telse o.t = \"str\"; break;\n\t}\n\tif(cell.t != oldt) { cell.t = oldt; cell.v = oldv; }\n\tif(typeof cell.f == \"string\" && cell.f) {\n\t\tvar ff = cell.F && cell.F.slice(0, ref.length) == ref ? {t:\"array\", ref:cell.F} : null;\n\t\tv = writextag('f', escapexml(cell.f), ff) + (cell.v != null ? v : \"\");\n\t}\n\tif(cell.l) {\n\t\tcell.l.display = escapexml(vv);\n\t\tws['!links'].push([ref, cell.l]);\n\t}\n\tif(cell.D) o.cm = 1;\n\treturn writextag('c', v, o);\n}\n\nvar parse_ws_xml_data = /*#__PURE__*/(function() {\n\tvar cellregex = /<(?:\\w+:)?c[ \\/>]/, rowregex = /<\\/(?:\\w+:)?row>/;\n\tvar rregex = /r=[\"']([^\"']*)[\"']/;\n\tvar refregex = /ref=[\"']([^\"']*)[\"']/;\n\nreturn function parse_ws_xml_data(sdata/*:string*/, s, opts, guess/*:Range*/, themes, styles, wb) {\n\tvar ri = 0, x = \"\", cells/*:Array<string>*/ = [], cref/*:?Array<string>*/ = [], idx=0, i=0, cc=0, d=\"\", p/*:any*/;\n\tvar tag, tagr = 0, tagc = 0;\n\tvar sstr, ftag;\n\tvar fmtid = 0, fillid = 0;\n\tvar do_format = Array.isArray(styles.CellXf), cf;\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar sharedf = [];\n\tvar dense = s[\"!data\"] != null;\n\tvar rows/*:Array<RowInfo>*/ = [], rowobj = {}, rowrite = false;\n\tvar sheetStubs = !!opts.sheetStubs;\n\tvar date1904 = !!((wb||{}).WBProps||{}).date1904;\n\tfor(var marr = sdata.split(rowregex), mt = 0, marrlen = marr.length; mt != marrlen; ++mt) {\n\t\tx = marr[mt].trim();\n\t\tvar xlen = x.length;\n\t\tif(xlen === 0) continue;\n\n\t\t/* 18.3.1.73 row CT_Row */\n\t\tvar rstarti = 0;\n\t\touta: for(ri = 0; ri < xlen; ++ri) switch(/*x.charCodeAt(ri)*/x[ri]) {\n\t\t\tcase \">\" /*62*/:\n\t\t\t\tif(/*x.charCodeAt(ri-1) != 47*/x[ri-1] != \"/\") { ++ri; break outa; }\n\t\t\t\tif(opts && opts.cellStyles) {\n\t\t\t\t\t// TODO: avoid duplication\n\t\t\t\t\ttag = parsexmltag(x.slice(rstarti,ri), true);\n\t\t\t\t\ttagr = tag.r != null ? parseInt(tag.r, 10) : tagr+1; tagc = -1;\n\t\t\t\t\tif(opts.sheetRows && opts.sheetRows < tagr) continue;\n\t\t\t\t\trowobj = {}; rowrite = false;\n\t\t\t\t\tif(tag.ht) { rowrite = true; rowobj.hpt = parseFloat(tag.ht); rowobj.hpx = pt2px(rowobj.hpt); }\n\t\t\t\t\tif(tag.hidden && parsexmlbool(tag.hidden)) { rowrite = true; rowobj.hidden = true; }\n\t\t\t\t\tif(tag.outlineLevel != null) { rowrite = true; rowobj.level = +tag.outlineLevel; }\n\t\t\t\t\tif(rowrite) rows[tagr-1] = rowobj;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"<\" /*60*/: rstarti = ri; break;\n\t\t}\n\t\tif(rstarti >= ri) break;\n\t\ttag = parsexmltag(x.slice(rstarti,ri), true);\n\t\ttagr = tag.r != null ? parseInt(tag.r, 10) : tagr+1; tagc = -1;\n\t\tif(opts.sheetRows && opts.sheetRows < tagr) continue;\n\t\tif(!opts.nodim) {\n\t\t\tif(guess.s.r > tagr - 1) guess.s.r = tagr - 1;\n\t\t\tif(guess.e.r < tagr - 1) guess.e.r = tagr - 1;\n\t\t}\n\n\t\tif(opts && opts.cellStyles) {\n\t\t\trowobj = {}; rowrite = false;\n\t\t\tif(tag.ht) { rowrite = true; rowobj.hpt = parseFloat(tag.ht); rowobj.hpx = pt2px(rowobj.hpt); }\n\t\t\tif(tag.hidden && parsexmlbool(tag.hidden)) { rowrite = true; rowobj.hidden = true; }\n\t\t\tif(tag.outlineLevel != null) { rowrite = true; rowobj.level = +tag.outlineLevel; }\n\t\t\tif(rowrite) rows[tagr-1] = rowobj;\n\t\t}\n\n\t\t/* 18.3.1.4 c CT_Cell */\n\t\tcells = x.slice(ri).split(cellregex);\n\t\tfor(var rslice = 0; rslice != cells.length; ++rslice) if(cells[rslice].trim().charAt(0) != \"<\") break;\n\t\tcells = cells.slice(rslice);\n\t\tfor(ri = 0; ri != cells.length; ++ri) {\n\t\t\tx = cells[ri].trim();\n\t\t\tif(x.length === 0) continue;\n\t\t\tcref = x.match(rregex); idx = ri; i=0; cc=0;\n\t\t\tx = \"<c \" + (x.slice(0,1)==\"<\"?\">\":\"\") + x;\n\t\t\tif(cref != null && cref.length === 2) {\n\t\t\t\tidx = 0; d=cref[1];\n\t\t\t\tfor(i=0; i != d.length; ++i) {\n\t\t\t\t\tif((cc=d.charCodeAt(i)-64) < 1 || cc > 26) break;\n\t\t\t\t\tidx = 26*idx + cc;\n\t\t\t\t}\n\t\t\t\t--idx;\n\t\t\t\ttagc = idx;\n\t\t\t} else ++tagc;\n\t\t\tfor(i = 0; i != x.length; ++i) if(x.charCodeAt(i) === 62) break; ++i;\n\t\t\ttag = parsexmltag(x.slice(0,i), true);\n\t\t\tif(!tag.r) tag.r = encode_cell({r:tagr-1, c:tagc});\n\t\t\td = x.slice(i);\n\t\t\tp = ({t:\"\"}/*:any*/);\n\n\t\t\tif((cref=str_match_xml_ns(d, \"v\"))!= null && /*::cref != null && */cref[1] !== '') p.v=unescapexml(cref[1]);\n\t\t\tif(opts.cellFormula) {\n\t\t\t\tif((cref=str_match_xml_ns(d, \"f\"))!= null /*:: && cref != null*/) {\n\t\t\t\t\tif(cref[1] == \"\") {\n\t\t\t\t\t\tif(/*::cref != null && cref[0] != null && */cref[0].indexOf('t=\"shared\"') > -1) {\n\t\t\t\t\t\t\t// TODO: parse formula\n\t\t\t\t\t\t\tftag = parsexmltag(cref[0]);\n\t\t\t\t\t\t\tif(sharedf[ftag.si]) p.f = shift_formula_xlsx(sharedf[ftag.si][1], sharedf[ftag.si][2]/*[0].ref*/, tag.r);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/* TODO: match against XLSXFutureFunctions */\n\t\t\t\t\t\tp.f=unescapexml(utf8read(cref[1]), true);\n\t\t\t\t\t\tif(!opts.xlfn) p.f = _xlfn(p.f);\n\t\t\t\t\t\tif(/*::cref != null && cref[0] != null && */cref[0].indexOf('t=\"array\"') > -1) {\n\t\t\t\t\t\t\tp.F = (d.match(refregex)||[])[1];\n\t\t\t\t\t\t\tif(p.F.indexOf(\":\") > -1) arrayf.push([safe_decode_range(p.F), p.F]);\n\t\t\t\t\t\t} else if(/*::cref != null && cref[0] != null && */cref[0].indexOf('t=\"shared\"') > -1) {\n\t\t\t\t\t\t\t// TODO: parse formula\n\t\t\t\t\t\t\tftag = parsexmltag(cref[0]);\n\t\t\t\t\t\t\tvar ___f = unescapexml(utf8read(cref[1]));\n\t\t\t\t\t\t\tif(!opts.xlfn) ___f = _xlfn(___f);\n\t\t\t\t\t\t\tsharedf[parseInt(ftag.si, 10)] = [ftag, ___f, tag.r];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if((cref=d.match(/<f[^<>]*\\/>/))) {\n\t\t\t\t\tftag = parsexmltag(cref[0]);\n\t\t\t\t\tif(sharedf[ftag.si]) p.f = shift_formula_xlsx(sharedf[ftag.si][1], sharedf[ftag.si][2]/*[0].ref*/, tag.r);\n\t\t\t\t}\n\t\t\t\t/* TODO: factor out contains logic */\n\t\t\t\tvar _tag = decode_cell(tag.r);\n\t\t\t\tfor(i = 0; i < arrayf.length; ++i)\n\t\t\t\t\tif(_tag.r >= arrayf[i][0].s.r && _tag.r <= arrayf[i][0].e.r)\n\t\t\t\t\t\tif(_tag.c >= arrayf[i][0].s.c && _tag.c <= arrayf[i][0].e.c)\n\t\t\t\t\t\t\tp.F = arrayf[i][1];\n\t\t\t}\n\n\t\t\tif(tag.t == null && p.v === undefined) {\n\t\t\t\tif(p.f || p.F) {\n\t\t\t\t\tp.v = 0; p.t = \"n\";\n\t\t\t\t} else if(!sheetStubs) continue;\n\t\t\t\telse p.t = \"z\";\n\t\t\t}\n\t\t\telse p.t = tag.t || \"n\";\n\t\t\tif(guess.s.c > tagc) guess.s.c = tagc;\n\t\t\tif(guess.e.c < tagc) guess.e.c = tagc;\n\t\t\t/* 18.18.11 t ST_CellType */\n\t\t\tswitch(p.t) {\n\t\t\t\tcase 'n':\n\t\t\t\t\tif(p.v == \"\" || p.v == null) {\n\t\t\t\t\t\tif(!sheetStubs) continue;\n\t\t\t\t\t\tp.t = 'z';\n\t\t\t\t\t} else p.v = parseFloat(p.v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 's':\n\t\t\t\t\tif(typeof p.v == 'undefined') {\n\t\t\t\t\t\tif(!sheetStubs) continue;\n\t\t\t\t\t\tp.t = 'z';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsstr = strs[parseInt(p.v, 10)];\n\t\t\t\t\t\tp.v = sstr.t;\n\t\t\t\t\t\tp.r = sstr.r;\n\t\t\t\t\t\tif(opts.cellHTML) p.h = sstr.h;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'str':\n\t\t\t\t\tp.t = \"s\";\n\t\t\t\t\tp.v = (p.v!=null) ? unescapexml(utf8read(p.v), true) : '';\n\t\t\t\t\tif(opts.cellHTML) p.h = escapehtml(p.v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'inlineStr':\n\t\t\t\t\tcref = str_match_xml_ns(d, \"is\");\n\t\t\t\t\tp.t = 's';\n\t\t\t\t\tif(cref != null && (sstr = parse_si(cref[1]))) {\n\t\t\t\t\t\tp.v = sstr.t;\n\t\t\t\t\t\tif(opts.cellHTML) p.h = sstr.h;\n\t\t\t\t\t} else p.v = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'b': p.v = parsexmlbool(p.v); break;\n\t\t\t\tcase 'd':\n\t\t\t\t\tif(opts.cellDates) p.v = parseDate(p.v, date1904);\n\t\t\t\t\telse { p.v = datenum(parseDate(p.v, date1904), date1904); p.t = 'n'; }\n\t\t\t\t\tbreak;\n\t\t\t\t/* error string in .w, number in .v */\n\t\t\t\tcase 'e':\n\t\t\t\t\tif(!opts || opts.cellText !== false) p.w = p.v;\n\t\t\t\t\tp.v = RBErr[p.v]; break;\n\t\t\t}\n\t\t\t/* formatting */\n\t\t\tfmtid = fillid = 0;\n\t\t\tcf = null;\n\t\t\tif(do_format && tag.s !== undefined) {\n\t\t\t\tcf = styles.CellXf[tag.s];\n\t\t\t\tif(cf != null) {\n\t\t\t\t\tif(cf.numFmtId != null) fmtid = cf.numFmtId;\n\t\t\t\t\tif(opts.cellStyles) {\n\t\t\t\t\t\tif(cf.fillId != null) fillid = cf.fillId;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsafe_format(p, fmtid, fillid, opts, themes, styles, date1904);\n\t\t\tif(opts.cellDates && do_format && p.t == 'n' && fmt_is_date(table_fmt[fmtid])) { p.v = numdate(p.v + (date1904 ? 1462 : 0)); p.t = typeof p.v == \"number\" ? 'n' : 'd'; }\n\t\t\tif(tag.cm && opts.xlmeta) {\n\t\t\t\tvar cm = (opts.xlmeta.Cell||[])[+tag.cm-1];\n\t\t\t\tif(cm && cm.type == 'XLDAPR') p.D = true;\n\t\t\t}\n\t\t\tvar _r;\n\t\t\tif(opts.nodim) {\n\t\t\t\t_r = decode_cell(tag.r);\n\t\t\t\tif(guess.s.r > _r.r) guess.s.r = _r.r;\n\t\t\t\tif(guess.e.r < _r.r) guess.e.r = _r.r;\n\t\t\t}\n\t\t\tif(dense) {\n\t\t\t\t_r = decode_cell(tag.r);\n\t\t\t\tif(!s[\"!data\"][_r.r]) s[\"!data\"][_r.r] = [];\n\t\t\t\ts[\"!data\"][_r.r][_r.c] = p;\n\t\t\t} else s[tag.r] = p;\n\t\t}\n\t}\n\tif(rows.length > 0) s['!rows'] = rows;\n}; })();\n\nfunction write_ws_xml_data(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*//*::, rels*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [], r/*:Array<string>*/ = [], range = safe_decode_range(ws['!ref']), cell=\"\", ref, rr = \"\", cols/*:Array<string>*/ = [], R=0, C=0, rows = ws['!rows'];\n\tvar dense = ws[\"!data\"] != null, data = dense ? ws[\"!data\"] : [];\n\tvar params = ({r:rr}/*:any*/), row/*:RowInfo*/, height = -1;\n\tvar date1904 = (((wb||{}).Workbook||{}).WBProps||{}).date1904;\n\tfor(C = range.s.c; C <= range.e.c; ++C) cols[C] = encode_col(C);\n\tfor(R = range.s.r; R <= range.e.r; ++R) {\n\t\tr = [];\n\t\trr = encode_row(R);\n\t\tvar data_R = dense ? data[R] : [];\n\t\tfor(C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tref = cols[C] + rr;\n\t\t\tvar _cell = dense ? data_R[C] : ws[ref];\n\t\t\tif(_cell === undefined) continue;\n\t\t\tif((cell = write_ws_xml_cell(_cell, ref, ws, opts, idx, wb, date1904)) != null) r.push(cell);\n\t\t}\n\t\tif(r.length > 0 || (rows && rows[R])) {\n\t\t\tparams = ({r:rr}/*:any*/);\n\t\t\tif(rows && rows[R]) {\n\t\t\t\trow = rows[R];\n\t\t\t\tif(row.hidden) params.hidden = 1;\n\t\t\t\theight = -1;\n\t\t\t\tif(row.hpx) height = px2pt(row.hpx);\n\t\t\t\telse if(row.hpt) height = row.hpt;\n\t\t\t\tif(height > -1) { params.ht = height; params.customHeight = 1; }\n\t\t\t\tif(row.level) { params.outlineLevel = row.level; }\n\t\t\t}\n\t\t\to[o.length] = (writextag('row', r.join(\"\"), params));\n\t\t}\n\t}\n\tif(rows) for(; R < rows.length; ++R) {\n\t\tif(rows && rows[R]) {\n\t\t\tparams = ({r:R+1}/*:any*/);\n\t\t\trow = rows[R];\n\t\t\tif(row.hidden) params.hidden = 1;\n\t\t\theight = -1;\n\t\t\tif (row.hpx) height = px2pt(row.hpx);\n\t\t\telse if (row.hpt) height = row.hpt;\n\t\t\tif (height > -1) { params.ht = height; params.customHeight = 1; }\n\t\t\tif (row.level) { params.outlineLevel = row.level; }\n\t\t\to[o.length] = (writextag('row', \"\", params));\n\t\t}\n\t}\n\treturn o.join(\"\");\n}\n\nfunction write_ws_xml(idx/*:number*/, opts, wb/*:Workbook*/, rels)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('worksheet', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t'xmlns:r': XMLNS.r\n\t})];\n\tvar s = wb.SheetNames[idx], sidx = 0, rdata = \"\";\n\tvar ws = wb.Sheets[s];\n\tif(ws == null) ws = {};\n\tvar ref = ws['!ref'] || 'A1';\n\tvar range = safe_decode_range(ref);\n\tif(range.e.c > 0x3FFF || range.e.r > 0xFFFFF) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + ref + \" exceeds format limit A1:XFD1048576\");\n\t\trange.e.c = Math.min(range.e.c, 0x3FFF);\n\t\trange.e.r = Math.min(range.e.c, 0xFFFFF);\n\t\tref = encode_range(range);\n\t}\n\tif(!rels) rels = {};\n\tws['!comments'] = [];\n\tvar _drawing = [];\n\n\twrite_ws_xml_sheetpr(ws, wb, idx, opts, o);\n\n\to[o.length] = (writextag('dimension', null, {'ref': ref}));\n\n\to[o.length] = write_ws_xml_sheetviews(ws, opts, idx, wb);\n\n\t/* TODO: store in WB, process styles */\n\tif(opts.sheetFormat) o[o.length] = (writextag('sheetFormatPr', null, {\n\t\tdefaultRowHeight:opts.sheetFormat.defaultRowHeight||'16',\n\t\tbaseColWidth:opts.sheetFormat.baseColWidth||'10',\n\t\toutlineLevelRow:opts.sheetFormat.outlineLevelRow||'7'\n\t}));\n\n\tif(ws['!cols'] != null && ws['!cols'].length > 0) o[o.length] = (write_ws_xml_cols(ws, ws['!cols']));\n\n\to[sidx = o.length] = '<sheetData/>';\n\tws['!links'] = [];\n\tif(ws['!ref'] != null) {\n\t\trdata = write_ws_xml_data(ws, opts, idx, wb, rels);\n\t\tif(rdata.length > 0) o[o.length] = (rdata);\n\t}\n\tif(o.length>sidx+1) { o[o.length] = ('</sheetData>'); o[sidx]=o[sidx].replace(\"/>\",\">\"); }\n\n\t/* sheetCalcPr */\n\n\tif(ws['!protect']) o[o.length] = write_ws_xml_protection(ws['!protect']);\n\n\t/* protectedRanges */\n\t/* scenarios */\n\n\tif(ws['!autofilter'] != null) o[o.length] = write_ws_xml_autofilter(ws['!autofilter'], ws, wb, idx);\n\n\t/* sortState */\n\t/* dataConsolidate */\n\t/* customSheetViews */\n\n\tif(ws['!merges'] != null && ws['!merges'].length > 0) o[o.length] = (write_ws_xml_merges(ws['!merges']));\n\n\t/* phoneticPr */\n\t/* conditionalFormatting */\n\t/* dataValidations */\n\n\tvar relc = -1, rel, rId = -1;\n\tif(/*::(*/ws['!links']/*::||[])*/.length > 0) {\n\t\to[o.length] = \"<hyperlinks>\";\n\t\t/*::(*/ws['!links']/*::||[])*/.forEach(function(l) {\n\t\t\tif(!l[1].Target) return;\n\t\t\trel = ({\"ref\":l[0]}/*:any*/);\n\t\t\tif(l[1].Target.charAt(0) != \"#\") {\n\t\t\t\trId = add_rels(rels, -1, escapexml(l[1].Target).replace(/#[\\s\\S]*$/, \"\"), RELS.HLINK);\n\t\t\t\trel[\"r:id\"] = \"rId\"+rId;\n\t\t\t}\n\t\t\tif((relc = l[1].Target.indexOf(\"#\")) > -1) rel.location = escapexml(l[1].Target.slice(relc+1));\n\t\t\tif(l[1].Tooltip) rel.tooltip = escapexml(l[1].Tooltip);\n\t\t\trel.display = l[1].display;\n\t\t\to[o.length] = writextag(\"hyperlink\",null,rel);\n\t\t});\n\t\to[o.length] = \"</hyperlinks>\";\n\t}\n\tdelete ws['!links'];\n\n\t/* printOptions */\n\n\tif(ws['!margins'] != null) o[o.length] =  write_ws_xml_margins(ws['!margins']);\n\n\t/* pageSetup */\n\t/* headerFooter */\n\t/* rowBreaks */\n\t/* colBreaks */\n\t/* customProperties */\n\t/* cellWatches */\n\n\tif(!opts || opts.ignoreEC || (opts.ignoreEC == (void 0))) o[o.length] = writetag(\"ignoredErrors\", writextag(\"ignoredError\", null, {numberStoredAsText:1, sqref:ref}));\n\n\t/* smartTags */\n\n\tif(_drawing.length > 0) {\n\t\trId = add_rels(rels, -1, \"../drawings/drawing\" + (idx+1) + \".xml\", RELS.DRAW);\n\t\to[o.length] = writextag(\"drawing\", null, {\"r:id\":\"rId\" + rId});\n\t\tws['!drawing'] = _drawing;\n\t}\n\n\tif(ws['!comments'].length > 0) {\n\t\trId = add_rels(rels, -1, \"../drawings/vmlDrawing\" + (idx+1) + \".vml\", RELS.VML);\n\t\to[o.length] = writextag(\"legacyDrawing\", null, {\"r:id\":\"rId\" + rId});\n\t\tws['!legacy'] = rId;\n\t}\n\n\t/* legacyDrawingHF */\n\t/* picture */\n\t/* oleObjects */\n\t/* controls */\n\t/* webPublishItems */\n\t/* tableParts */\n\t/* extLst */\n\n\tif(o.length>1) { o[o.length] = ('</worksheet>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSB] 2.4.726 BrtRowHdr */\nfunction parse_BrtRowHdr(data, length) {\n\tvar z = ({}/*:any*/);\n\tvar tgt = data.l + length;\n\tz.r = data.read_shift(4);\n\tdata.l += 4; // TODO: ixfe\n\tvar miyRw = data.read_shift(2);\n\tdata.l += 1; // TODO: top/bot padding\n\tvar flags = data.read_shift(1);\n\tdata.l = tgt;\n\tif(flags & 0x07) z.level = flags & 0x07;\n\tif(flags & 0x10) z.hidden = true;\n\tif(flags & 0x20) z.hpt = miyRw / 20;\n\treturn z;\n}\nfunction write_BrtRowHdr(R/*:number*/, range, ws) {\n\tvar o = new_buf(17+8*16);\n\tvar row = (ws['!rows']||[])[R]||{};\n\to.write_shift(4, R);\n\n\to.write_shift(4, 0); /* TODO: ixfe */\n\n\tvar miyRw = 0x0140;\n\tif(row.hpx) miyRw = px2pt(row.hpx) * 20;\n\telse if(row.hpt) miyRw = row.hpt * 20;\n\to.write_shift(2, miyRw);\n\n\to.write_shift(1, 0); /* top/bot padding */\n\n\tvar flags = 0x0;\n\tif(row.level) flags |= row.level;\n\tif(row.hidden) flags |= 0x10;\n\tif(row.hpx || row.hpt) flags |= 0x20;\n\to.write_shift(1, flags);\n\n\to.write_shift(1, 0); /* phonetic guide */\n\n\t/* [MS-XLSB] 2.5.8 BrtColSpan explains the mechanism */\n\tvar ncolspan = 0, lcs = o.l;\n\to.l += 4;\n\n\tvar caddr = {r:R, c:0};\n\tvar dense = ws[\"!data\"] != null;\n\tfor(var i = 0; i < 16; ++i) {\n\t\tif((range.s.c > ((i+1) << 10)) || (range.e.c < (i << 10))) continue;\n\t\tvar first = -1, last = -1;\n\t\tfor(var j = (i<<10); j < ((i+1)<<10); ++j) {\n\t\t\tcaddr.c = j;\n\t\t\tvar cell = dense ? (ws[\"!data\"][caddr.r]||[])[caddr.c] : ws[encode_cell(caddr)];\n\t\t\tif(cell) { if(first < 0) first = j; last = j; }\n\t\t}\n\t\tif(first < 0) continue;\n\t\t++ncolspan;\n\t\to.write_shift(4, first);\n\t\to.write_shift(4, last);\n\t}\n\n\tvar l = o.l;\n\to.l = lcs;\n\to.write_shift(4, ncolspan);\n\to.l = l;\n\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\nfunction write_row_header(ba, ws, range, R) {\n\tvar o = write_BrtRowHdr(R, range, ws);\n\tif((o.length > 17) || (ws['!rows']||[])[R]) write_record(ba, 0x0000 /* BrtRowHdr */, o);\n}\n\n/* [MS-XLSB] 2.4.820 BrtWsDim */\nvar parse_BrtWsDim = parse_UncheckedRfX;\nvar write_BrtWsDim = write_UncheckedRfX;\n\n/* [MS-XLSB] 2.4.821 BrtWsFmtInfo */\nfunction parse_BrtWsFmtInfo(/*::data, length*/) {\n}\n//function write_BrtWsFmtInfo(ws, o) { }\n\n/* [MS-XLSB] 2.4.823 BrtWsProp */\nfunction parse_BrtWsProp(data, length) {\n\tvar z = {};\n\tvar f = data[data.l]; ++data.l;\n\tz.above = !(f & 0x40);\n\tz.left  = !(f & 0x80);\n\t/* TODO: pull flags */\n\tdata.l += 18;\n\tz.name = parse_XLSBCodeName(data, length - 19);\n\treturn z;\n}\nfunction write_BrtWsProp(str, outl, o) {\n\tif(o == null) o = new_buf(84+4*str.length);\n\tvar f = 0xC0;\n\tif(outl) {\n\t\tif(outl.above) f &= ~0x40;\n\t\tif(outl.left)  f &= ~0x80;\n\t}\n\to.write_shift(1, f);\n\tfor(var i = 1; i < 3; ++i) o.write_shift(1,0);\n\twrite_BrtColor({auto:1}, o);\n\to.write_shift(-4,-1);\n\to.write_shift(-4,-1);\n\twrite_XLSBCodeName(str, o);\n\treturn o.slice(0, o.l);\n}\n\n/* [MS-XLSB] 2.4.306 BrtCellBlank */\nfunction parse_BrtCellBlank(data) {\n\tvar cell = parse_XLSBCell(data);\n\treturn [cell];\n}\nfunction write_BrtCellBlank(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\treturn write_XLSBCell(ncell, o);\n}\nfunction parse_BrtShortBlank(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\treturn [cell];\n}\nfunction write_BrtShortBlank(cell, ncell, o) {\n\tif(o == null) o = new_buf(4);\n\treturn write_XLSBShortCell(ncell, o);\n}\n\n/* [MS-XLSB] 2.4.307 BrtCellBool */\nfunction parse_BrtCellBool(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar fBool = data.read_shift(1);\n\treturn [cell, fBool, 'b'];\n}\nfunction write_BrtCellBool(cell, ncell, o) {\n\tif(o == null) o = new_buf(9);\n\twrite_XLSBCell(ncell, o);\n\to.write_shift(1, cell.v ? 1 : 0);\n\treturn o;\n}\nfunction parse_BrtShortBool(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar fBool = data.read_shift(1);\n\treturn [cell, fBool, 'b'];\n}\nfunction write_BrtShortBool(cell, ncell, o) {\n\tif(o == null) o = new_buf(5);\n\twrite_XLSBShortCell(ncell, o);\n\to.write_shift(1, cell.v ? 1 : 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.308 BrtCellError */\nfunction parse_BrtCellError(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar bError = data.read_shift(1);\n\treturn [cell, bError, 'e'];\n}\nfunction write_BrtCellError(cell, ncell, o) {\n\tif(o == null) o = new_buf(9);\n\twrite_XLSBCell(ncell, o);\n\to.write_shift(1, cell.v);\n\treturn o;\n}\nfunction parse_BrtShortError(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar bError = data.read_shift(1);\n\treturn [cell, bError, 'e'];\n}\nfunction write_BrtShortError(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\twrite_XLSBShortCell(ncell, o);\n\to.write_shift(1, cell.v);\n\to.write_shift(2, 0);\n\to.write_shift(1, 0);\n\treturn o;\n}\n\n\n/* [MS-XLSB] 2.4.311 BrtCellIsst */\nfunction parse_BrtCellIsst(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar isst = data.read_shift(4);\n\treturn [cell, isst, 's'];\n}\nfunction write_BrtCellIsst(cell, ncell, o) {\n\tif(o == null) o = new_buf(12);\n\twrite_XLSBCell(ncell, o);\n\to.write_shift(4, ncell.v);\n\treturn o;\n}\nfunction parse_BrtShortIsst(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar isst = data.read_shift(4);\n\treturn [cell, isst, 's'];\n}\nfunction write_BrtShortIsst(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\twrite_XLSBShortCell(ncell, o);\n\to.write_shift(4, ncell.v);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.313 BrtCellReal */\nfunction parse_BrtCellReal(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_Xnum(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtCellReal(cell, ncell, o) {\n\tif(o == null) o = new_buf(16);\n\twrite_XLSBCell(ncell, o);\n\twrite_Xnum(cell.v, o);\n\treturn o;\n}\nfunction parse_BrtShortReal(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar value = parse_Xnum(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtShortReal(cell, ncell, o) {\n\tif(o == null) o = new_buf(12);\n\twrite_XLSBShortCell(ncell, o);\n\twrite_Xnum(cell.v, o);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.314 BrtCellRk */\nfunction parse_BrtCellRk(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_RkNumber(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtCellRk(cell, ncell, o) {\n\tif(o == null) o = new_buf(12);\n\twrite_XLSBCell(ncell, o);\n\twrite_RkNumber(cell.v, o);\n\treturn o;\n}\nfunction parse_BrtShortRk(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar value = parse_RkNumber(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtShortRk(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\twrite_XLSBShortCell(ncell, o);\n\twrite_RkNumber(cell.v, o);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.323 BrtCellRString */\nfunction parse_BrtCellRString(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_RichStr(data);\n\treturn [cell, value, 'is'];\n}\n\n/* [MS-XLSB] 2.4.317 BrtCellSt */\nfunction parse_BrtCellSt(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_XLWideString(data);\n\treturn [cell, value, 'str'];\n}\nfunction write_BrtCellSt(cell, ncell, o) {\n\tvar data = cell.v == null ? \"\" : String(cell.v);\n\tif(o == null) o = new_buf(12 + 4 * cell.v.length);\n\twrite_XLSBCell(ncell, o);\n\twrite_XLWideString(data, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\nfunction parse_BrtShortSt(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar value = parse_XLWideString(data);\n\treturn [cell, value, 'str'];\n}\nfunction write_BrtShortSt(cell, ncell, o) {\n\tvar data = cell.v == null ? \"\" : String(cell.v);\n\tif(o == null) o = new_buf(8 + 4 * data.length);\n\twrite_XLSBShortCell(ncell, o);\n\twrite_XLWideString(data, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.653 BrtFmlaBool */\nfunction parse_BrtFmlaBool(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = data.read_shift(1);\n\tvar o = [cell, value, 'b'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.654 BrtFmlaError */\nfunction parse_BrtFmlaError(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = data.read_shift(1);\n\tvar o = [cell, value, 'e'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.655 BrtFmlaNum */\nfunction parse_BrtFmlaNum(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = parse_Xnum(data);\n\tvar o = [cell, value, 'n'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.656 BrtFmlaString */\nfunction parse_BrtFmlaString(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = parse_XLWideString(data);\n\tvar o = [cell, value, 'str'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.682 BrtMergeCell */\nvar parse_BrtMergeCell = parse_UncheckedRfX;\nvar write_BrtMergeCell = write_UncheckedRfX;\n/* [MS-XLSB] 2.4.107 BrtBeginMergeCells */\nfunction write_BrtBeginMergeCells(cnt, o) {\n\tif(o == null) o = new_buf(4);\n\to.write_shift(4, cnt);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.662 BrtHLink */\nfunction parse_BrtHLink(data, length/*::, opts*/) {\n\tvar end = data.l + length;\n\tvar rfx = parse_UncheckedRfX(data, 16);\n\tvar relId = parse_XLNullableWideString(data);\n\tvar loc = parse_XLWideString(data);\n\tvar tooltip = parse_XLWideString(data);\n\tvar display = parse_XLWideString(data);\n\tdata.l = end;\n\tvar o = ({rfx:rfx, relId:relId, loc:loc, display:display}/*:any*/);\n\tif(tooltip) o.Tooltip = tooltip;\n\treturn o;\n}\nfunction write_BrtHLink(l, rId) {\n\tvar o = new_buf(50+4*(l[1].Target.length + (l[1].Tooltip || \"\").length));\n\twrite_UncheckedRfX({s:decode_cell(l[0]), e:decode_cell(l[0])}, o);\n\twrite_RelID(\"rId\" + rId, o);\n\tvar locidx = l[1].Target.indexOf(\"#\");\n\tvar loc = locidx == -1 ? \"\" : l[1].Target.slice(locidx+1);\n\twrite_XLWideString(loc || \"\", o);\n\twrite_XLWideString(l[1].Tooltip || \"\", o);\n\twrite_XLWideString(\"\", o);\n\treturn o.slice(0, o.l);\n}\n\n/* [MS-XLSB] 2.4.692 BrtPane */\nfunction parse_BrtPane(/*data, length, opts*/) {\n}\n\n/* [MS-XLSB] 2.4.6 BrtArrFmla */\nfunction parse_BrtArrFmla(data, length, opts) {\n\tvar end = data.l + length;\n\tvar rfx = parse_RfX(data, 16);\n\tvar fAlwaysCalc = data.read_shift(1);\n\tvar o = [rfx]; o[2] = fAlwaysCalc;\n\tif(opts.cellFormula) {\n\t\tvar formula = parse_XLSBArrayParsedFormula(data, end - data.l, opts);\n\t\to[1] = formula;\n\t} else data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.750 BrtShrFmla */\nfunction parse_BrtShrFmla(data, length, opts) {\n\tvar end = data.l + length;\n\tvar rfx = parse_UncheckedRfX(data, 16);\n\tvar o = [rfx];\n\tif(opts.cellFormula) {\n\t\tvar formula = parse_XLSBSharedParsedFormula(data, end - data.l, opts);\n\t\to[1] = formula;\n\t\tdata.l = end;\n\t} else data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.323 BrtColInfo */\n/* TODO: once XLS ColInfo is set, combine the functions */\nfunction write_BrtColInfo(C/*:number*/, col, o) {\n\tif(o == null) o = new_buf(18);\n\tvar p = col_obj_w(C, col);\n\to.write_shift(-4, C);\n\to.write_shift(-4, C);\n\to.write_shift(4, (p.width || 10) * 256);\n\to.write_shift(4, 0/*ixfe*/); // style\n\tvar flags = 0;\n\tif(col.hidden) flags |= 0x01;\n\tif(typeof p.width == 'number') flags |= 0x02;\n\tif(col.level) flags |= (col.level << 8);\n\to.write_shift(2, flags); // bit flag\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.678 BrtMargins */\nvar BrtMarginKeys = [\"left\",\"right\",\"top\",\"bottom\",\"header\",\"footer\"];\nfunction parse_BrtMargins(data/*::, length, opts*/)/*:Margins*/ {\n\tvar margins = ({}/*:any*/);\n\tBrtMarginKeys.forEach(function(k) { margins[k] = parse_Xnum(data, 8); });\n\treturn margins;\n}\nfunction write_BrtMargins(margins/*:Margins*/, o) {\n\tif(o == null) o = new_buf(6*8);\n\tdefault_margins(margins);\n\tBrtMarginKeys.forEach(function(k) { write_Xnum((margins/*:any*/)[k], o); });\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.299 BrtBeginWsView */\nfunction parse_BrtBeginWsView(data/*::, length, opts*/) {\n\tvar f = data.read_shift(2);\n\tdata.l += 28;\n\treturn { RTL: f & 0x20 };\n}\nfunction write_BrtBeginWsView(ws, Workbook, o) {\n\tif(o == null) o = new_buf(30);\n\tvar f = 0x39c;\n\tif((((Workbook||{}).Views||[])[0]||{}).RTL) f |= 0x20;\n\to.write_shift(2, f); // bit flag\n\to.write_shift(4, 0);\n\to.write_shift(4, 0); // view first row\n\to.write_shift(4, 0); // view first col\n\to.write_shift(1, 0); // gridline color ICV\n\to.write_shift(1, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 100); // zoom scale\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(4, 0); // workbook view id\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.309 BrtCellIgnoreEC */\nfunction write_BrtCellIgnoreEC(ref) {\n\tvar o = new_buf(24);\n\to.write_shift(4, 4);\n\to.write_shift(4, 1);\n\twrite_UncheckedRfX(ref, o);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.748 BrtSheetProtection */\nfunction write_BrtSheetProtection(sp, o) {\n\tif(o == null) o = new_buf(16*4+2);\n\to.write_shift(2, sp.password ? crypto_CreatePasswordVerifier_Method1(sp.password) : 0);\n\to.write_shift(4, 1); // this record should not be written if no protection\n\t[\n\t\t[\"objects\",             false], // fObjects\n\t\t[\"scenarios\",           false], // fScenarios\n\t\t[\"formatCells\",          true], // fFormatCells\n\t\t[\"formatColumns\",        true], // fFormatColumns\n\t\t[\"formatRows\",           true], // fFormatRows\n\t\t[\"insertColumns\",        true], // fInsertColumns\n\t\t[\"insertRows\",           true], // fInsertRows\n\t\t[\"insertHyperlinks\",     true], // fInsertHyperlinks\n\t\t[\"deleteColumns\",        true], // fDeleteColumns\n\t\t[\"deleteRows\",           true], // fDeleteRows\n\t\t[\"selectLockedCells\",   false], // fSelLockedCells\n\t\t[\"sort\",                 true], // fSort\n\t\t[\"autoFilter\",           true], // fAutoFilter\n\t\t[\"pivotTables\",          true], // fPivotTables\n\t\t[\"selectUnlockedCells\", false]  // fSelUnlockedCells\n\t].forEach(function(n) {\n\t\t/*:: if(o == null) throw \"unreachable\"; */\n\t\tif(n[1]) o.write_shift(4, sp[n[0]] != null && !sp[n[0]] ? 1 : 0);\n\t\telse      o.write_shift(4, sp[n[0]] != null && sp[n[0]] ? 0 : 1);\n\t});\n\treturn o;\n}\n\nfunction parse_BrtDVal(/*data, length, opts*/) {\n}\nfunction parse_BrtDVal14(/*data, length, opts*/) {\n}\n/* [MS-XLSB] 2.1.7.61 Worksheet */\nfunction parse_ws_bin(data, _opts, idx, rels, wb/*:WBWBProps*/, themes, styles)/*:Worksheet*/ {\n\tif(!data) return data;\n\tvar opts = _opts || {};\n\tif(!rels) rels = {'!id':{}};\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\tvar s/*:Worksheet*/ = ({}); if(opts.dense) s[\"!data\"] = [];\n\n\tvar ref;\n\tvar refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false, end = false;\n\tvar row, p, cf, R, C, addr, sstr, rr, cell/*:Cell*/;\n\tvar merges/*:Array<Range>*/ = [];\n\topts.biff = 12;\n\topts['!row'] = 0;\n\n\tvar ai = 0, af = false;\n\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar sharedf = {};\n\tvar supbooks = opts.supbooks || /*::(*/wb/*:: :any)*/.supbooks || ([[]]/*:any*/);\n\tsupbooks.sharedf = sharedf;\n\tsupbooks.arrayf = arrayf;\n\tsupbooks.SheetNames = wb.SheetNames || wb.Sheets.map(function(x) { return x.name; });\n\tif(!opts.supbooks) {\n\t\topts.supbooks = supbooks;\n\t\tif(wb.Names) for(var i = 0; i < wb.Names.length; ++i) supbooks[0][i+1] = wb.Names[i];\n\t}\n\n\tvar colinfo/*:Array<ColInfo>*/ = [], rowinfo/*:Array<RowInfo>*/ = [];\n\tvar seencol = false;\n\n\tXLSBRecordEnum[0x0010] = { n:\"BrtShortReal\", f:parse_BrtShortReal };\n\n\tvar cm, vm;\n\tvar date1904 = 1462 * +!!((wb||{}).WBProps||{}).date1904;\n\n\trecordhopper(data, function ws_parse(val, RR, RT) {\n\t\tif(end) return;\n\t\tswitch(RT) {\n\t\t\tcase 0x0094: /* 'BrtWsDim' */\n\t\t\t\tref = val; break;\n\t\t\tcase 0x0000: /* 'BrtRowHdr' */\n\t\t\t\trow = val;\n\t\t\t\tif(opts.sheetRows && opts.sheetRows <= row.r) end=true;\n\t\t\t\trr = encode_row(R = row.r);\n\t\t\t\topts['!row'] = row.r;\n\t\t\t\tif(val.hidden || val.hpt || val.level != null) {\n\t\t\t\t\tif(val.hpt) val.hpx = pt2px(val.hpt);\n\t\t\t\t\trowinfo[val.r] = val;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0002: /* 'BrtCellRk' */\n\t\t\tcase 0x0003: /* 'BrtCellError' */\n\t\t\tcase 0x0004: /* 'BrtCellBool' */\n\t\t\tcase 0x0005: /* 'BrtCellReal' */\n\t\t\tcase 0x0006: /* 'BrtCellSt' */\n\t\t\tcase 0x0007: /* 'BrtCellIsst' */\n\t\t\tcase 0x0008: /* 'BrtFmlaString' */\n\t\t\tcase 0x0009: /* 'BrtFmlaNum' */\n\t\t\tcase 0x000A: /* 'BrtFmlaBool' */\n\t\t\tcase 0x000B: /* 'BrtFmlaError' */\n\t\t\tcase 0x000D: /* 'BrtShortRk' */\n\t\t\tcase 0x000E: /* 'BrtShortError' */\n\t\t\tcase 0x000F: /* 'BrtShortBool' */\n\t\t\tcase 0x0010: /* 'BrtShortReal' */\n\t\t\tcase 0x0011: /* 'BrtShortSt' */\n\t\t\tcase 0x0012: /* 'BrtShortIsst' */\n\t\t\tcase 0x003E: /* 'BrtCellRString' */\n\t\t\t\tp = ({t:val[2]}/*:any*/);\n\t\t\t\tswitch(val[2]) {\n\t\t\t\t\tcase 'n': p.v = val[1]; break;\n\t\t\t\t\tcase 's': sstr = strs[val[1]]; p.v = sstr.t; p.r = sstr.r; break;\n\t\t\t\t\tcase 'b': p.v = val[1] ? true : false; break;\n\t\t\t\t\tcase 'e': p.v = val[1]; if(opts.cellText !== false) p.w = BErr[p.v]; break;\n\t\t\t\t\tcase 'str': p.t = 's'; p.v = val[1]; break;\n\t\t\t\t\tcase 'is': p.t = 's'; p.v = val[1].t; break;\n\t\t\t\t}\n\t\t\t\tif((cf = styles.CellXf[val[0].iStyleRef])) safe_format(p,cf.numFmtId,null,opts, themes, styles, date1904>0);\n\t\t\t\tC = val[0].c == -1 ? C + 1 : val[0].c;\n\t\t\t\tif(opts.dense) { if(!s[\"!data\"][R]) s[\"!data\"][R] = []; s[\"!data\"][R][C] = p; }\n\t\t\t\telse s[encode_col(C) + rr] = p;\n\t\t\t\tif(opts.cellFormula) {\n\t\t\t\t\taf = false;\n\t\t\t\t\tfor(ai = 0; ai < arrayf.length; ++ai) {\n\t\t\t\t\t\tvar aii = arrayf[ai];\n\t\t\t\t\t\tif(row.r >= aii[0].s.r && row.r <= aii[0].e.r)\n\t\t\t\t\t\t\tif(C >= aii[0].s.c && C <= aii[0].e.c) {\n\t\t\t\t\t\t\t\tp.F = encode_range(aii[0]); af = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!af && val.length > 3) p.f = val[3];\n\t\t\t\t}\n\n\t\t\t\tif(refguess.s.r > row.r) refguess.s.r = row.r;\n\t\t\t\tif(refguess.s.c > C) refguess.s.c = C;\n\t\t\t\tif(refguess.e.r < row.r) refguess.e.r = row.r;\n\t\t\t\tif(refguess.e.c < C) refguess.e.c = C;\n\t\t\t\tif(opts.cellDates && cf && p.t == 'n' && fmt_is_date(table_fmt[cf.numFmtId])) {\n\t\t\t\t\tvar _d = SSF_parse_date_code(p.v + date1904); if(_d) { p.t = 'd'; p.v = new Date(Date.UTC(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u)); }\n\t\t\t\t}\n\t\t\t\tif(cm) {\n\t\t\t\t\tif(cm.type == 'XLDAPR') p.D = true;\n\t\t\t\t\tcm = void 0;\n\t\t\t\t}\n\t\t\t\tif(vm) vm = void 0;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0001: /* 'BrtCellBlank' */\n\t\t\tcase 0x000C: /* 'BrtShortBlank' */\n\t\t\t\tif(!opts.sheetStubs || pass) break;\n\t\t\t\tp = ({t:'z',v:void 0}/*:any*/);\n\t\t\t\tC = val[0].c == -1 ? C + 1 : val[0].c;\n\t\t\t\tif(opts.dense) { if(!s[\"!data\"][R]) s[\"!data\"][R] = []; s[\"!data\"][R][C] = p; }\n\t\t\t\telse s[encode_col(C) + rr] = p;\n\t\t\t\tif(refguess.s.r > row.r) refguess.s.r = row.r;\n\t\t\t\tif(refguess.s.c > C) refguess.s.c = C;\n\t\t\t\tif(refguess.e.r < row.r) refguess.e.r = row.r;\n\t\t\t\tif(refguess.e.c < C) refguess.e.c = C;\n\t\t\t\tif(cm) {\n\t\t\t\t\tif(cm.type == 'XLDAPR') p.D = true;\n\t\t\t\t\tcm = void 0;\n\t\t\t\t}\n\t\t\t\tif(vm) vm = void 0;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x00B0: /* 'BrtMergeCell' */\n\t\t\t\tmerges.push(val); break;\n\n\t\t\tcase 0x0031: { /* 'BrtCellMeta' */\n\t\t\t\tcm = ((opts.xlmeta||{}).Cell||[])[val-1];\n\t\t\t} break;\n\n\t\t\tcase 0x01EE: /* 'BrtHLink' */\n\t\t\t\tvar rel = rels['!id'][val.relId];\n\t\t\t\tif(rel) {\n\t\t\t\t\tval.Target = rel.Target;\n\t\t\t\t\tif(val.loc) val.Target += \"#\"+val.loc;\n\t\t\t\t\tval.Rel = rel;\n\t\t\t\t} else if(val.relId == '') {\n\t\t\t\t\tval.Target = \"#\" + val.loc;\n\t\t\t\t}\n\t\t\t\tfor(R=val.rfx.s.r;R<=val.rfx.e.r;++R) for(C=val.rfx.s.c;C<=val.rfx.e.c;++C) {\n\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\tif(!s[\"!data\"][R]) s[\"!data\"][R] = [];\n\t\t\t\t\t\tif(!s[\"!data\"][R][C]) s[\"!data\"][R][C] = {t:'z',v:undefined};\n\t\t\t\t\t\ts[\"!data\"][R][C].l = val;\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddr = encode_col(C) + encode_row(R);\n\t\t\t\t\t\tif(!s[addr]) s[addr] = {t:'z',v:undefined};\n\t\t\t\t\t\ts[addr].l = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 0x01AA: /* 'BrtArrFmla' */\n\t\t\t\tif(!opts.cellFormula) break;\n\t\t\t\tarrayf.push(val);\n\t\t\t\tcell = ((opts.dense ? s[\"!data\"][R][C] : s[encode_col(C) + rr])/*:any*/);\n\t\t\t\tcell.f = stringify_formula(val[1], refguess, {r:row.r, c:C}, supbooks, opts);\n\t\t\t\tcell.F = encode_range(val[0]);\n\t\t\t\tbreak;\n\t\t\tcase 0x01AB: /* 'BrtShrFmla' */\n\t\t\t\tif(!opts.cellFormula) break;\n\t\t\t\tsharedf[encode_cell(val[0].s)] = val[1];\n\t\t\t\tcell = (opts.dense ? s[\"!data\"][R][C] : s[encode_col(C) + rr]);\n\t\t\t\tcell.f = stringify_formula(val[1], refguess, {r:row.r, c:C}, supbooks, opts);\n\t\t\t\tbreak;\n\n\t\t\t/* identical to 'ColInfo' in XLS */\n\t\t\tcase 0x003C: /* 'BrtColInfo' */\n\t\t\t\tif(!opts.cellStyles) break;\n\t\t\t\twhile(val.e >= val.s) {\n\t\t\t\t\tcolinfo[val.e--] = { width: val.w/256, hidden: !!(val.flags & 0x01), level: val.level };\n\t\t\t\t\tif(!seencol) { seencol = true; find_mdw_colw(val.w/256); }\n\t\t\t\t\tprocess_col(colinfo[val.e+1]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0227: /* 'BrtLegacyDrawing' */\n\t\t\t\tif(val) s[\"!legrel\"] = val;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x00A1: /* 'BrtBeginAFilter' */\n\t\t\t\ts['!autofilter'] = { ref:encode_range(val) };\n\t\t\t\tbreak;\n\n\t\t\tcase 0x01DC: /* 'BrtMargins' */\n\t\t\t\ts['!margins'] = val;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0093: /* 'BrtWsProp' */\n\t\t\t\tif(!wb.Sheets[idx]) wb.Sheets[idx] = {};\n\t\t\t\tif(val.name) wb.Sheets[idx].CodeName = val.name;\n\t\t\t\tif(val.above || val.left) s['!outline'] = { above: val.above, left: val.left };\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0089: /* 'BrtBeginWsView' */\n\t\t\t\tif(!wb.Views) wb.Views = [{}];\n\t\t\t\tif(!wb.Views[0]) wb.Views[0] = {};\n\t\t\t\tif(val.RTL) wb.Views[0].RTL = true;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x01E5: /* 'BrtWsFmtInfo' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0040: /* 'BrtDVal' */\n\t\t\tcase 0x041D: /* 'BrtDVal14' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0097: /* 'BrtPane' */\n\t\t\t\tbreak;\n\t\t\tcase 0x0098: /* 'BrtSel' */\n\t\t\tcase 0x00AF: /* 'BrtAFilterDateGroupItem' */\n\t\t\tcase 0x0284: /* 'BrtActiveX' */\n\t\t\tcase 0x0271: /* 'BrtBigName' */\n\t\t\tcase 0x0232: /* 'BrtBkHim' */\n\t\t\tcase 0x018C: /* 'BrtBrk' */\n\t\t\tcase 0x0458: /* 'BrtCFIcon' */\n\t\t\tcase 0x047A: /* 'BrtCFRuleExt' */\n\t\t\tcase 0x01D7: /* 'BrtCFVO' */\n\t\t\tcase 0x041A: /* 'BrtCFVO14' */\n\t\t\tcase 0x0289: /* 'BrtCellIgnoreEC' */\n\t\t\tcase 0x0451: /* 'BrtCellIgnoreEC14' */\n\t\t\tcase 0x024D: /* 'BrtCellSmartTagProperty' */\n\t\t\tcase 0x025F: /* 'BrtCellWatch' */\n\t\t\tcase 0x0234: /* 'BrtColor' */\n\t\t\tcase 0x041F: /* 'BrtColor14' */\n\t\t\tcase 0x00A8: /* 'BrtColorFilter' */\n\t\t\tcase 0x00AE: /* 'BrtCustomFilter' */\n\t\t\tcase 0x049C: /* 'BrtCustomFilter14' */\n\t\t\tcase 0x01F3: /* 'BrtDRef' */\n\t\t\tcase 0x01FB: /* 'BrtDXF' */\n\t\t\tcase 0x0226: /* 'BrtDrawing' */\n\t\t\tcase 0x00AB: /* 'BrtDynamicFilter' */\n\t\t\tcase 0x00A7: /* 'BrtFilter' */\n\t\t\tcase 0x0499: /* 'BrtFilter14' */\n\t\t\tcase 0x00A9: /* 'BrtIconFilter' */\n\t\t\tcase 0x049D: /* 'BrtIconFilter14' */\n\t\t\tcase 0x0228: /* 'BrtLegacyDrawingHF' */\n\t\t\tcase 0x0295: /* 'BrtListPart' */\n\t\t\tcase 0x027F: /* 'BrtOleObject' */\n\t\t\tcase 0x01DE: /* 'BrtPageSetup' */\n\t\t\tcase 0x0219: /* 'BrtPhoneticInfo' */\n\t\t\tcase 0x01DD: /* 'BrtPrintOptions' */\n\t\t\tcase 0x0218: /* 'BrtRangeProtection' */\n\t\t\tcase 0x044F: /* 'BrtRangeProtection14' */\n\t\t\tcase 0x02A8: /* 'BrtRangeProtectionIso' */\n\t\t\tcase 0x0450: /* 'BrtRangeProtectionIso14' */\n\t\t\tcase 0x0400: /* 'BrtRwDescent' */\n\t\t\tcase 0x0297: /* 'BrtSheetCalcProp' */\n\t\t\tcase 0x0217: /* 'BrtSheetProtection' */\n\t\t\tcase 0x02A6: /* 'BrtSheetProtectionIso' */\n\t\t\tcase 0x01F8: /* 'BrtSlc' */\n\t\t\tcase 0x0413: /* 'BrtSparkline' */\n\t\t\tcase 0x01AC: /* 'BrtTable' */\n\t\t\tcase 0x00AA: /* 'BrtTop10Filter' */\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\tcase 0x0032: /* 'BrtValueMeta' */\n\t\t\tcase 0x0816: /* 'BrtWebExtension' */\n\t\t\tcase 0x0415: /* 'BrtWsFmtInfoEx14' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */\n\t\t\t\tstate.pop(); pass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(RR.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n\n\tdelete opts.supbooks;\n\tdelete opts['!row'];\n\n\tif(!s[\"!ref\"] && (refguess.s.r < 2000000 || ref && (ref.e.r > 0 || ref.e.c > 0 || ref.s.r > 0 || ref.s.c > 0))) s[\"!ref\"] = encode_range(ref || refguess);\n\tif(opts.sheetRows && s[\"!ref\"]) {\n\t\tvar tmpref = safe_decode_range(s[\"!ref\"]);\n\t\tif(opts.sheetRows <= +tmpref.e.r) {\n\t\t\ttmpref.e.r = opts.sheetRows - 1;\n\t\t\tif(tmpref.e.r > refguess.e.r) tmpref.e.r = refguess.e.r;\n\t\t\tif(tmpref.e.r < tmpref.s.r) tmpref.s.r = tmpref.e.r;\n\t\t\tif(tmpref.e.c > refguess.e.c) tmpref.e.c = refguess.e.c;\n\t\t\tif(tmpref.e.c < tmpref.s.c) tmpref.s.c = tmpref.e.c;\n\t\t\ts[\"!fullref\"] = s[\"!ref\"];\n\t\t\ts[\"!ref\"] = encode_range(tmpref);\n\t\t}\n\t}\n\tif(merges.length > 0) s[\"!merges\"] = merges;\n\tif(colinfo.length > 0) s[\"!cols\"] = colinfo;\n\tif(rowinfo.length > 0) s[\"!rows\"] = rowinfo;\n\tif(rels['!id'][s['!legrel']]) s['!legdrawel'] = rels['!id'][s['!legrel']];\n\treturn s;\n}\n\n/* TODO: something useful -- this is a stub */\nfunction write_ws_bin_cell(ba/*:BufArray*/, cell/*:Cell*/, R/*:number*/, C/*:number*/, opts, ws/*:Worksheet*/, last_seen/*:boolean*/, date1904/*:boolean*/)/*:boolean*/ {\n\tvar o/*:any*/ = ({r:R, c:C}/*:any*/);\n\tif(cell.c) ws['!comments'].push([encode_cell(o), cell.c]);\n\tif(cell.v === undefined) return false;\n\tvar vv = \"\";\n\tswitch(cell.t) {\n\t\tcase 'b': vv = cell.v ? \"1\" : \"0\"; break;\n\t\tcase 'd': // no BrtCellDate :(\n\t\t\tcell = dup(cell);\n\t\t\tcell.z = cell.z || table_fmt[14];\n\t\t\tcell.v = datenum(parseDate(cell.v, date1904), date1904); cell.t = 'n';\n\t\t\tbreak;\n\t\t/* falls through */\n\t\tcase 'n': case 'e': vv = ''+cell.v; break;\n\t\tdefault: vv = cell.v; break;\n\t}\n\t/* TODO: cell style */\n\to.s = get_cell_style(opts.cellXfs, cell, opts);\n\tif(cell.l) ws['!links'].push([encode_cell(o), cell.l]);\n\tswitch(cell.t) {\n\t\tcase 's': case 'str':\n\t\t\tif(opts.bookSST) {\n\t\t\t\tvv = get_sst_id(opts.Strings, (cell.v == null ? \"\" : String(cell.v)/*:any*/), opts.revStrings);\n\t\t\t\to.t = \"s\"; o.v = vv;\n\t\t\t\tif(last_seen) write_record(ba, 0x0012 /* BrtShortIsst */, write_BrtShortIsst(cell, o));\n\t\t\t\telse write_record(ba, 0x0007 /* BrtCellIsst */, write_BrtCellIsst(cell, o));\n\t\t\t} else {\n\t\t\t\to.t = \"str\";\n\t\t\t\tif(last_seen) write_record(ba, 0x0011 /* BrtShortSt */, write_BrtShortSt(cell, o));\n\t\t\t\telse write_record(ba, 0x0006 /* BrtCellSt */, write_BrtCellSt(cell, o));\n\t\t\t}\n\t\t\treturn true;\n\t\tcase 'n':\n\t\t\t/* TODO: determine threshold for Real vs RK */\n\t\t\tif(cell.v == (cell.v | 0) && cell.v > -1000 && cell.v < 1000) {\n\t\t\t\tif(last_seen) write_record(ba, 0x000D /* BrtShortRk */, write_BrtShortRk(cell, o));\n\t\t\t\telse write_record(ba, 0x0002 /* BrtCellRk */, write_BrtCellRk(cell, o));\n\t\t\t} else if(!isFinite(cell.v)) {\n\t\t\t\to.t = \"e\";\n\t\t\t\tif(isNaN(cell.v)) {\n\t\t\t\t\tif(last_seen) write_record(ba, 0x000E /* BrtShortError */, write_BrtShortError({t:\"e\", v: 0x24}, o)); // #NUM!\n\t\t\t\t\telse write_record(ba, 0x0003 /* BrtCellError */, write_BrtCellError({t:\"e\", v: 0x24}, o)); // #NUM!\n\t\t\t\t} else {\n\t\t\t\t\tif(last_seen) write_record(ba, 0x000E /* BrtShortError */, write_BrtShortError({t:\"e\", v: 0x07}, o)); // #DIV/0!\n\t\t\t\t\telse write_record(ba, 0x0003 /* BrtCellError */, write_BrtCellError({t:\"e\", v: 0x07}, o)); // #DIV/0!\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(last_seen) write_record(ba, 0x0010 /* BrtShortReal */, write_BrtShortReal(cell, o));\n\t\t\t\telse write_record(ba, 0x0005 /* BrtCellReal */, write_BrtCellReal(cell, o));\n\t\t\t} return true;\n\t\tcase 'b':\n\t\t\to.t = \"b\";\n\t\t\tif(last_seen) write_record(ba, 0x000F /* BrtShortBool */, write_BrtShortBool(cell, o));\n\t\t\telse write_record(ba, 0x0004 /* BrtCellBool */, write_BrtCellBool(cell, o));\n\t\t\treturn true;\n\t\tcase 'e':\n\t\t\to.t = \"e\";\n\t\t\tif(last_seen) write_record(ba, 0x000E /* BrtShortError */, write_BrtShortError(cell, o));\n\t\t\telse write_record(ba, 0x0003 /* BrtCellError */, write_BrtCellError(cell, o));\n\t\t\treturn true;\n\t}\n\tif(last_seen) write_record(ba, 0x000C /* BrtShortBlank */, write_BrtShortBlank(cell, o));\n\telse write_record(ba, 0x0001 /* BrtCellBlank */, write_BrtCellBlank(cell, o));\n\treturn true;\n}\n\nfunction write_CELLTABLE(ba, ws/*:Worksheet*/, idx/*:number*/, opts, wb/*:Workbook*/) {\n\tvar range = safe_decode_range(ws['!ref'] || \"A1\"), rr = \"\", cols/*:Array<string>*/ = [];\n\tvar date1904 = (((wb||{}).Workbook||{}).WBProps||{}).date1904;\n\twrite_record(ba, 0x0091 /* BrtBeginSheetData */);\n\tvar dense = ws[\"!data\"] != null, row = dense ? ws[\"!data\"][range.s.r] : [];\n\tvar cap = range.e.r;\n\tif(ws['!rows']) cap = Math.max(range.e.r, ws['!rows'].length - 1);\n\tfor(var R = range.s.r; R <= cap; ++R) {\n\t\trr = encode_row(R);\n\t\tif(dense) row = ws[\"!data\"][R];\n\t\t/* [ACCELLTABLE] */\n\t\t/* BrtRowHdr */\n\t\twrite_row_header(ba, ws, range, R);\n\t\tif(dense && !row) continue;\n\t\tvar last_seen = false;\n\t\tif(R <= range.e.r) for(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t/* *16384CELL */\n\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\tvar cell = dense ? row[C] : ws[cols[C] + rr];\n\t\t\tif(!cell) { last_seen = false; continue; }\n\t\t\t/* write cell */\n\t\t\tlast_seen = write_ws_bin_cell(ba, cell, R, C, opts, ws, last_seen, date1904);\n\t\t}\n\t}\n\twrite_record(ba, 0x0092 /* BrtEndSheetData */);\n}\n\nfunction write_MERGECELLS(ba, ws/*:Worksheet*/) {\n\tif(!ws || !ws['!merges']) return;\n\twrite_record(ba, 0x00B1 /* BrtBeginMergeCells */, write_BrtBeginMergeCells(ws['!merges'].length));\n\tws['!merges'].forEach(function(m) { write_record(ba, 0x00B0 /* BrtMergeCell */, write_BrtMergeCell(m)); });\n\twrite_record(ba, 0x00B2 /* BrtEndMergeCells */);\n}\n\nfunction write_COLINFOS(ba, ws/*:Worksheet*//*::, idx:number, opts, wb:Workbook*/) {\n\tif(!ws || !ws['!cols']) return;\n\twrite_record(ba, 0x0186 /* BrtBeginColInfos */);\n\tws['!cols'].forEach(function(m, i) { if(m) write_record(ba, 0x003C /* 'BrtColInfo' */, write_BrtColInfo(i, m)); });\n\twrite_record(ba, 0x0187 /* BrtEndColInfos */);\n}\n\nfunction write_IGNOREECS(ba, ws/*:Worksheet*/) {\n\tif(!ws || !ws['!ref']) return;\n\twrite_record(ba, 0x0288 /* BrtBeginCellIgnoreECs */);\n\twrite_record(ba, 0x0289 /* BrtCellIgnoreEC */, write_BrtCellIgnoreEC(safe_decode_range(ws['!ref'])));\n\twrite_record(ba, 0x028A /* BrtEndCellIgnoreECs */);\n}\n\nfunction write_HLINKS(ba, ws/*:Worksheet*/, rels) {\n\t/* *BrtHLink */\n\tws['!links'].forEach(function(l) {\n\t\tif(!l[1].Target) return;\n\t\tvar rId = add_rels(rels, -1, l[1].Target.replace(/#[\\s\\S]*$/, \"\"), RELS.HLINK);\n\t\twrite_record(ba, 0x01EE /* BrtHLink */, write_BrtHLink(l, rId));\n\t});\n\tdelete ws['!links'];\n}\nfunction write_LEGACYDRAWING(ba, ws/*:Worksheet*/, idx/*:number*/, rels) {\n\t/* [BrtLegacyDrawing] */\n\tif(ws['!comments'].length > 0) {\n\t\tvar rId = add_rels(rels, -1, \"../drawings/vmlDrawing\" + (idx+1) + \".vml\", RELS.VML);\n\t\twrite_record(ba, 0x0227 /* BrtLegacyDrawing */, write_RelID(\"rId\" + rId));\n\t\tws['!legacy'] = rId;\n\t}\n}\n\nfunction write_AUTOFILTER(ba, ws, wb, idx) {\n\tif(!ws['!autofilter']) return;\n\tvar data = ws['!autofilter'];\n\tvar ref = typeof data.ref === \"string\" ? data.ref : encode_range(data.ref);\n\n\t/* Update FilterDatabase defined name for the worksheet */\n\tif(!wb.Workbook) wb.Workbook = ({Sheets:[]}/*:any*/);\n\tif(!wb.Workbook.Names) wb.Workbook.Names = [];\n\tvar names/*: Array<any> */ = wb.Workbook.Names;\n\tvar range = decode_range(ref);\n\tif(range.s.r == range.e.r) { range.e.r = decode_range(ws[\"!ref\"]).e.r; ref = encode_range(range); }\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar name = names[i];\n\t\tif(name.Name != '_xlnm._FilterDatabase') continue;\n\t\tif(name.Sheet != idx) continue;\n\t\tname.Ref = formula_quote_sheet_name(wb.SheetNames[idx]) + \"!\" + fix_range(ref); break;\n\t}\n\tif(i == names.length) names.push({ Name: '_xlnm._FilterDatabase', Sheet: idx, Ref: formula_quote_sheet_name(wb.SheetNames[idx]) + \"!\" + fix_range(ref)  });\n\n\twrite_record(ba, 0x00A1 /* BrtBeginAFilter */, write_UncheckedRfX(safe_decode_range(ref)));\n\t/* *FILTERCOLUMN */\n\t/* [SORTSTATE] */\n\t/* BrtEndAFilter */\n\twrite_record(ba, 0x00A2 /* BrtEndAFilter */);\n}\n\nfunction write_WSVIEWS2(ba, ws, Workbook) {\n\twrite_record(ba, 0x0085 /* BrtBeginWsViews */);\n\t{ /* 1*WSVIEW2 */\n\t\t/* [ACUID] */\n\t\twrite_record(ba, 0x0089 /* BrtBeginWsView */, write_BrtBeginWsView(ws, Workbook));\n\t\t/* [BrtPane] */\n\t\t/* *4BrtSel */\n\t\t/* *4SXSELECT */\n\t\t/* *FRT */\n\t\twrite_record(ba, 0x008A /* BrtEndWsView */);\n\t}\n\t/* *FRT */\n\twrite_record(ba, 0x0086 /* BrtEndWsViews */);\n}\n\nfunction write_WSFMTINFO(/*::ba, ws*/) {\n\t/* [ACWSFMTINFO] */\n\t// write_record(ba, 0x01E5 /* BrtWsFmtInfo */, write_BrtWsFmtInfo(ws));\n}\n\nfunction write_SHEETPROTECT(ba, ws) {\n\tif(!ws['!protect']) return;\n\t/* [BrtSheetProtectionIso] */\n\twrite_record(ba, 0x0217 /* BrtSheetProtection */, write_BrtSheetProtection(ws['!protect']));\n}\n\nfunction write_ws_bin(idx/*:number*/, opts, wb/*:Workbook*/, rels) {\n\tvar ba = buf_array();\n\tvar s = wb.SheetNames[idx], ws = wb.Sheets[s] || {};\n\tvar c/*:string*/ = s; try { if(wb && wb.Workbook) c = wb.Workbook.Sheets[idx].CodeName || c; } catch(e) {}\n\tvar r = safe_decode_range(ws['!ref'] || \"A1\");\n\tif(r.e.c > 0x3FFF || r.e.r > 0xFFFFF) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + (ws['!ref'] || \"A1\") + \" exceeds format limit A1:XFD1048576\");\n\t\tr.e.c = Math.min(r.e.c, 0x3FFF);\n\t\tr.e.r = Math.min(r.e.c, 0xFFFFF);\n\t}\n\tws['!links'] = [];\n\t/* passed back to write_zip and removed there */\n\tws['!comments'] = [];\n\twrite_record(ba, 0x0081 /* BrtBeginSheet */);\n\tif(wb.vbaraw || ws['!outline']) write_record(ba, 0x0093 /* BrtWsProp */, write_BrtWsProp(c, ws['!outline']));\n\twrite_record(ba, 0x0094 /* BrtWsDim */, write_BrtWsDim(r));\n\twrite_WSVIEWS2(ba, ws, wb.Workbook);\n\twrite_WSFMTINFO(ba, ws);\n\twrite_COLINFOS(ba, ws, idx, opts, wb);\n\twrite_CELLTABLE(ba, ws, idx, opts, wb);\n\t/* [BrtSheetCalcProp] */\n\twrite_SHEETPROTECT(ba, ws);\n\t/* *([BrtRangeProtectionIso] BrtRangeProtection) */\n\t/* [SCENMAN] */\n\twrite_AUTOFILTER(ba, ws, wb, idx);\n\t/* [SORTSTATE] */\n\t/* [DCON] */\n\t/* [USERSHVIEWS] */\n\twrite_MERGECELLS(ba, ws);\n\t/* [BrtPhoneticInfo] */\n\t/* *CONDITIONALFORMATTING */\n\t/* [DVALS] */\n\twrite_HLINKS(ba, ws, rels);\n\t/* [BrtPrintOptions] */\n\tif(ws['!margins']) write_record(ba, 0x01DC /* BrtMargins */, write_BrtMargins(ws['!margins']));\n\t/* [BrtPageSetup] */\n\t/* [HEADERFOOTER] */\n\t/* [RWBRK] */\n\t/* [COLBRK] */\n\t/* *BrtBigName */\n\t/* [CELLWATCHES] */\n\tif(!opts || opts.ignoreEC || (opts.ignoreEC == (void 0))) write_IGNOREECS(ba, ws);\n\t/* [SMARTTAGS] */\n\t/* [BrtDrawing] */\n\twrite_LEGACYDRAWING(ba, ws, idx, rels);\n\t/* [BrtLegacyDrawingHF] */\n\t/* [BrtBkHim] */\n\t/* [OLEOBJECTS] */\n\t/* [ACTIVEXCONTROLS] */\n\t/* [WEBPUBITEMS] */\n\t/* [LISTPARTS] */\n\t/* FRTWORKSHEET */\n\twrite_record(ba, 0x0082 /* BrtEndSheet */);\n\treturn ba.end();\n}\nfunction parse_Cache(data/*:string*/)/*:[Array<number|string>, string, ?string]*/ {\n\tvar col/*:Array<number|string>*/ = [];\n\tvar num = data.match(/^<c:numCache>/);\n\tvar f;\n\n\t/* 21.2.2.150 pt CT_NumVal */\n\t(data.match(/<c:pt idx=\"(\\d*)\"[^<>\\/]*><c:v>([^<])<\\/c:v><\\/c:pt>/mg)||[]).forEach(function(pt) {\n\t\tvar q = pt.match(/<c:pt idx=\"(\\d*)\"[^<>\\/]*><c:v>([^<]*)<\\/c:v><\\/c:pt>/);\n\t\tif(!q) return;\n\t\tcol[+q[1]] = num ? +q[2] : q[2];\n\t});\n\n\t/* 21.2.2.71 formatCode CT_Xstring */\n\tvar nf = unescapexml((str_match_xml(data, \"c:formatCode\") || [\"\",\"General\"])[1]);\n\n\t(str_match_ng(data, \"<c:f>\", \"</c:f>\")||[]).forEach(function(F) { f = F.replace(/<[^<>]*>/g,\"\"); });\n\n\treturn [col, nf, f];\n}\n\n/* 21.2 DrawingML - Charts */\nfunction parse_chart(data/*:?string*/, name/*:string*/, opts, rels, wb, csheet) {\n\tvar cs/*:Worksheet*/ = ((csheet || {\"!type\":\"chart\"})/*:any*/);\n\tif(!data) return csheet;\n\t/* 21.2.2.27 chart CT_Chart */\n\n\tvar C = 0, R = 0, col = \"A\";\n\tvar refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\n\t/* 21.2.2.120 numCache CT_NumData */\n\t(str_match_ng(data, \"<c:numCache>\", \"</c:numCache>\")||[]).forEach(function(nc) {\n\t\tvar cache = parse_Cache(nc);\n\t\trefguess.s.r = refguess.s.c = 0;\n\t\trefguess.e.c = C;\n\t\tcol = encode_col(C);\n\t\tcache[0].forEach(function(n,i) {\n\t\t\tif(cs[\"!data\"]) {\n\t\t\t\tif(!cs[\"!data\"][i]) cs[\"!data\"][i] = [];\n\t\t\t\tcs[\"!data\"][i][C] = {t:'n', v:n, z:cache[1] };\n\t\t\t} else cs[col + encode_row(i)] = {t:'n', v:n, z:cache[1] };\n\t\t\tR = i;\n\t\t});\n\t\tif(refguess.e.r < R) refguess.e.r = R;\n\t\t++C;\n\t});\n\tif(C > 0) cs[\"!ref\"] = encode_range(refguess);\n\treturn cs;\n}\n/* 18.3 Worksheets also covers Chartsheets */\nfunction parse_cs_xml(data/*:?string*/, opts, idx/*:number*/, rels, wb/*::, themes, styles*/)/*:Worksheet*/ {\n\tif(!data) return data;\n\t/* 18.3.1.12 chartsheet CT_ChartSheet */\n\tif(!rels) rels = {'!id':{}};\n\tvar s = ({'!type':\"chart\", '!drawel':null, '!rel':\"\"}/*:any*/);\n\tvar m;\n\n\t/* 18.3.1.83 sheetPr CT_ChartsheetPr */\n\tvar sheetPr = data.match(sheetprregex);\n\tif(sheetPr) parse_ws_xml_sheetpr(sheetPr[0], s, wb, idx);\n\n\t/* 18.3.1.36 drawing CT_Drawing */\n\tif((m = data.match(/drawing r:id=\"(.*?)\"/))) s['!rel'] = m[1];\n\n\tif(rels['!id'][s['!rel']]) s['!drawel'] = rels['!id'][s['!rel']];\n\treturn s;\n}\n//function write_cs_xml(idx/*:number*/, opts, wb/*:Workbook*/, rels)/*:string*/ {\n//\tvar o = [XML_HEADER, writextag('chartsheet', null, {\n//\t\t'xmlns': XMLNS_main[0],\n//\t\t'xmlns:r': XMLNS.r\n//\t})];\n//\to[o.length] = writextag(\"drawing\", null, {\"r:id\": \"rId1\"});\n//\tadd_rels(rels, -1, \"../drawings/drawing\" + (idx+1) + \".xml\", RELS.DRAW);\n//\tif(o.length>2) { o[o.length] = ('</chartsheet>'); o[1]=o[1].replace(\"/>\",\">\"); }\n//\treturn o.join(\"\");\n//}\n\n/* [MS-XLSB] 2.4.331 BrtCsProp */\nfunction parse_BrtCsProp(data, length/*:number*/) {\n\tdata.l += 10;\n\tvar name = parse_XLWideString(data, length - 10);\n\treturn { name: name };\n}\n\n/* [MS-XLSB] 2.1.7.7 Chart Sheet */\nfunction parse_cs_bin(data, opts, idx/*:number*/, rels, wb/*::, themes, styles*/)/*:Worksheet*/ {\n\tif(!data) return data;\n\tif(!rels) rels = {'!id':{}};\n\tvar s = {'!type':\"chart\", '!drawel':null, '!rel':\"\"};\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false;\n\trecordhopper(data, function cs_parse(val, R, RT) {\n\t\tswitch(RT) {\n\n\t\t\tcase 0x0226: /* 'BrtDrawing' */\n\t\t\t\ts['!rel'] = val; break;\n\n\t\t\tcase 0x028B: /* 'BrtCsProp' */\n\t\t\t\tif(!wb.Sheets[idx]) wb.Sheets[idx] = {};\n\t\t\t\tif(val.name) wb.Sheets[idx].CodeName = val.name;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0232: /* 'BrtBkHim' */\n\t\t\tcase 0x028C: /* 'BrtCsPageSetup' */\n\t\t\tcase 0x029D: /* 'BrtCsProtection' */\n\t\t\tcase 0x02A7: /* 'BrtCsProtectionIso' */\n\t\t\tcase 0x0227: /* 'BrtLegacyDrawing' */\n\t\t\tcase 0x0228: /* 'BrtLegacyDrawingHF' */\n\t\t\tcase 0x01DC: /* 'BrtMargins' */\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */\n\t\t\t\tstate.push(RT); break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */\n\t\t\t\tstate.pop(); break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T > 0) state.push(RT);\n\t\t\t\telse if(R.T < 0) state.pop();\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n\n\tif(rels['!id'][s['!rel']]) s['!drawel'] = rels['!id'][s['!rel']];\n\treturn s;\n}\n//function write_cs_bin(/*::idx:number, opts, wb:Workbook, rels*/) {\n//\tvar ba = buf_array();\n//\twrite_record(ba, 0x0081 /* BrtBeginSheet */);\n//\t/* [BrtCsProp] */\n//\t/* CSVIEWS */\n//\t/* [[BrtCsProtectionIso] BrtCsProtection] */\n//\t/* [USERCSVIEWS] */\n//\t/* [BrtMargins] */\n//\t/* [BrtCsPageSetup] */\n//\t/* [HEADERFOOTER] */\n//\t/* BrtDrawing */\n//\t/* [BrtLegacyDrawing] */\n//\t/* [BrtLegacyDrawingHF] */\n//\t/* [BrtBkHim] */\n//\t/* [WEBPUBITEMS] */\n//\t/* FRTCHARTSHEET */\n//\twrite_record(ba, 0x0082 /* BrtEndSheet */);\n//\treturn ba.end();\n//}\n/* 18.2.28 (CT_WorkbookProtection) Defaults */\nvar WBPropsDef = [\n\t['allowRefreshQuery',           false, \"bool\"],\n\t['autoCompressPictures',        true,  \"bool\"],\n\t['backupFile',                  false, \"bool\"],\n\t['checkCompatibility',          false, \"bool\"],\n\t['CodeName',                    ''],\n\t['date1904',                    false, \"bool\"],\n\t['defaultThemeVersion',         0,      \"int\"],\n\t['filterPrivacy',               false, \"bool\"],\n\t['hidePivotFieldList',          false, \"bool\"],\n\t['promptedSolutions',           false, \"bool\"],\n\t['publishItems',                false, \"bool\"],\n\t['refreshAllConnections',       false, \"bool\"],\n\t['saveExternalLinkValues',      true,  \"bool\"],\n\t['showBorderUnselectedTables',  true,  \"bool\"],\n\t['showInkAnnotation',           true,  \"bool\"],\n\t['showObjects',                 'all'],\n\t['showPivotChartFilter',        false, \"bool\"],\n\t['updateLinks', 'userSet']\n];\n\n/* 18.2.30 (CT_BookView) Defaults */\nvar WBViewDef = [\n\t['activeTab',                   0,      \"int\"],\n\t['autoFilterDateGrouping',      true,  \"bool\"],\n\t['firstSheet',                  0,      \"int\"],\n\t['minimized',                   false, \"bool\"],\n\t['showHorizontalScroll',        true,  \"bool\"],\n\t['showSheetTabs',               true,  \"bool\"],\n\t['showVerticalScroll',          true,  \"bool\"],\n\t['tabRatio',                    600,    \"int\"],\n\t['visibility',                  'visible']\n\t//window{Height,Width}, {x,y}Window\n];\n\n/* 18.2.19 (CT_Sheet) Defaults */\nvar SheetDef = [\n\t//['state', 'visible']\n];\n\n/* 18.2.2  (CT_CalcPr) Defaults */\nvar CalcPrDef = [\n\t['calcCompleted', 'true'],\n\t['calcMode', 'auto'],\n\t['calcOnSave', 'true'],\n\t['concurrentCalc', 'true'],\n\t['fullCalcOnLoad', 'false'],\n\t['fullPrecision', 'true'],\n\t['iterate', 'false'],\n\t['iterateCount', '100'],\n\t['iterateDelta', '0.001'],\n\t['refMode', 'A1']\n];\n\n/* 18.2.3 (CT_CustomWorkbookView) Defaults */\n/*var CustomWBViewDef = [\n\t['autoUpdate', 'false'],\n\t['changesSavedWin', 'false'],\n\t['includeHiddenRowCol', 'true'],\n\t['includePrintSettings', 'true'],\n\t['maximized', 'false'],\n\t['minimized', 'false'],\n\t['onlySync', 'false'],\n\t['personalView', 'false'],\n\t['showComments', 'commIndicator'],\n\t['showFormulaBar', 'true'],\n\t['showHorizontalScroll', 'true'],\n\t['showObjects', 'all'],\n\t['showSheetTabs', 'true'],\n\t['showStatusbar', 'true'],\n\t['showVerticalScroll', 'true'],\n\t['tabRatio', '600'],\n\t['xWindow', '0'],\n\t['yWindow', '0']\n];*/\n\nfunction push_defaults_array(target, defaults) {\n\tfor(var j = 0; j != target.length; ++j) { var w = target[j];\n\t\tfor(var i=0; i != defaults.length; ++i) { var z = defaults[i];\n\t\t\tif(w[z[0]] == null) w[z[0]] = z[1];\n\t\t\telse switch(z[2]) {\n\t\t\tcase \"bool\": if(typeof w[z[0]] == \"string\") w[z[0]] = parsexmlbool(w[z[0]]); break;\n\t\t\tcase \"int\": if(typeof w[z[0]] == \"string\") w[z[0]] = parseInt(w[z[0]], 10); break;\n\t\t\t}\n\t\t}\n\t}\n}\nfunction push_defaults(target, defaults) {\n\tfor(var i = 0; i != defaults.length; ++i) { var z = defaults[i];\n\t\tif(target[z[0]] == null) target[z[0]] = z[1];\n\t\telse switch(z[2]) {\n\t\t\tcase \"bool\": if(typeof target[z[0]] == \"string\") target[z[0]] = parsexmlbool(target[z[0]]); break;\n\t\t\tcase \"int\": if(typeof target[z[0]] == \"string\") target[z[0]] = parseInt(target[z[0]], 10); break;\n\t\t}\n\t}\n}\n\nfunction parse_wb_defaults(wb) {\n\tpush_defaults(wb.WBProps, WBPropsDef);\n\tpush_defaults(wb.CalcPr, CalcPrDef);\n\n\tpush_defaults_array(wb.WBView, WBViewDef);\n\tpush_defaults_array(wb.Sheets, SheetDef);\n\n\t_ssfopts.date1904 = parsexmlbool(wb.WBProps.date1904);\n}\n\nfunction safe1904(wb/*:Workbook*/)/*:string*/ {\n\t/* TODO: store date1904 somewhere else */\n\tif(!wb.Workbook) return \"false\";\n\tif(!wb.Workbook.WBProps) return \"false\";\n\treturn parsexmlbool(wb.Workbook.WBProps.date1904) ? \"true\" : \"false\";\n}\n\nvar badchars = /*#__PURE__*/\":][*?\\/\\\\\".split(\"\");\nfunction check_ws_name(n/*:string*/, safe/*:?boolean*/)/*:boolean*/ {\n\ttry {\n\t\tif(n == \"\") throw new Error(\"Sheet name cannot be blank\");\n\t\tif(n.length > 31) throw new Error(\"Sheet name cannot exceed 31 chars\");\n\t\tif(n.charCodeAt(0) == 0x27 || n.charCodeAt(n.length - 1) == 0x27) throw new Error(\"Sheet name cannot start or end with apostrophe (')\");\n\t\tif(n.toLowerCase() == \"history\") throw new Error(\"Sheet name cannot be 'History'\");\n\t\tbadchars.forEach(function(c) {\n\t\t\tif(n.indexOf(c) == -1) return;\n\t\t\tthrow new Error(\"Sheet name cannot contain : \\\\ / ? * [ ]\");\n\t\t});\n\t} catch(e) { if(safe) return false; throw e; }\n\treturn true;\n}\nfunction check_wb_names(N, S, codes) {\n\tN.forEach(function(n,i) {\n\t\tcheck_ws_name(n);\n\t\tfor(var j = 0; j < i; ++j) if(n == N[j]) throw new Error(\"Duplicate Sheet Name: \" + n);\n\t\tif(codes) {\n\t\t\tvar cn = (S && S[i] && S[i].CodeName) || n;\n\t\t\tif(cn.charCodeAt(0) == 95 && cn.length > 22) throw new Error(\"Bad Code Name: Worksheet\" + cn);\n\t\t}\n\t});\n}\nfunction check_wb(wb) {\n\tif(!wb || !wb.SheetNames || !wb.Sheets) throw new Error(\"Invalid Workbook\");\n\tif(!wb.SheetNames.length) throw new Error(\"Workbook is empty\");\n\tvar Sheets = (wb.Workbook && wb.Workbook.Sheets) || [];\n\tcheck_wb_names(wb.SheetNames, Sheets, !!wb.vbaraw);\n\tfor(var i = 0; i < wb.SheetNames.length; ++i) check_ws(wb.Sheets[wb.SheetNames[i]], wb.SheetNames[i], i);\n\twb.SheetNames.forEach(function(n, i) {\n\t\tvar ws = wb.Sheets[n];\n\t\tif(!ws || !ws[\"!autofilter\"]) return;\n\t\tvar DN;\n\t\tif(!wb.Workbook) wb.Workbook = {};\n\t\tif(!wb.Workbook.Names) wb.Workbook.Names = [];\n\t\twb.Workbook.Names.forEach(function(dn) { if(dn.Name == \"_xlnm._FilterDatabase\" && dn.Sheet == i) DN = dn; });\n\t\tvar nn = formula_quote_sheet_name(n) + \"!\" + fix_range(ws[\"!autofilter\"].ref);\n\t\tif(DN) DN.Ref = nn;\n\t\telse wb.Workbook.Names.push({Name: \"_xlnm._FilterDatabase\", Sheet: i, Ref: nn});\n\t});\n\t/* TODO: validate workbook */\n}\n/* 18.2 Workbook */\nvar wbnsregex = /<\\w+:workbook/;\nfunction parse_wb_xml(data, opts)/*:WorkbookFile*/ {\n\tif(!data) throw new Error(\"Could not find file\");\n\tvar wb = /*::(*/{ AppVersion:{}, WBProps:{}, WBView:[], Sheets:[], CalcPr:{}, Names:[], xmlns: \"\" }/*::)*/;\n\tvar pass = false, xmlns = \"xmlns\";\n\tvar dname = {}, dnstart = 0;\n\tdata.replace(tagregex, function xml_wb(x, idx) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\n\t\t\t/* 18.2.27 workbook CT_Workbook 1 */\n\t\t\tcase '<workbook':\n\t\t\t\tif(x.match(wbnsregex)) xmlns = \"xmlns\" + x.match(/<(\\w+):/)[1];\n\t\t\t\twb.xmlns = y[xmlns];\n\t\t\t\tbreak;\n\t\t\tcase '</workbook>': break;\n\n\t\t\t/* 18.2.13 fileVersion CT_FileVersion ? */\n\t\t\tcase '<fileVersion': delete y[0]; wb.AppVersion = y; break;\n\t\t\tcase '<fileVersion/>': case '</fileVersion>': break;\n\n\t\t\t/* 18.2.12 fileSharing CT_FileSharing ? */\n\t\t\tcase '<fileSharing':\n\t\t\t\tbreak;\n\t\t\tcase '<fileSharing/>': break;\n\n\t\t\t/* 18.2.28 workbookPr CT_WorkbookPr ? */\n\t\t\tcase '<workbookPr':\n\t\t\tcase '<workbookPr/>':\n\t\t\t\tWBPropsDef.forEach(function(w) {\n\t\t\t\t\tif(y[w[0]] == null) return;\n\t\t\t\t\tswitch(w[2]) {\n\t\t\t\t\t\tcase \"bool\": wb.WBProps[w[0]] = parsexmlbool(y[w[0]]); break;\n\t\t\t\t\t\tcase \"int\": wb.WBProps[w[0]] = parseInt(y[w[0]], 10); break;\n\t\t\t\t\t\tdefault: wb.WBProps[w[0]] = y[w[0]];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(y.codeName) wb.WBProps.CodeName = utf8read(y.codeName);\n\t\t\t\tbreak;\n\t\t\tcase '</workbookPr>': break;\n\n\t\t\t/* 18.2.29 workbookProtection CT_WorkbookProtection ? */\n\t\t\tcase '<workbookProtection':\n\t\t\t\tbreak;\n\t\t\tcase '<workbookProtection/>': break;\n\n\t\t\t/* 18.2.1  bookViews CT_BookViews ? */\n\t\t\tcase '<bookViews': case '<bookViews>': case '</bookViews>': break;\n\t\t\t/* 18.2.30   workbookView CT_BookView + */\n\t\t\tcase '<workbookView': case '<workbookView/>': delete y[0]; wb.WBView.push(y); break;\n\t\t\tcase '</workbookView>': break;\n\n\t\t\t/* 18.2.20 sheets CT_Sheets 1 */\n\t\t\tcase '<sheets': case '<sheets>': case '</sheets>': break; // aggregate sheet\n\t\t\t/* 18.2.19   sheet CT_Sheet + */\n\t\t\tcase '<sheet':\n\t\t\t\tswitch(y.state) {\n\t\t\t\t\tcase \"hidden\": y.Hidden = 1; break;\n\t\t\t\t\tcase \"veryHidden\": y.Hidden = 2; break;\n\t\t\t\t\tdefault: y.Hidden = 0;\n\t\t\t\t}\n\t\t\t\tdelete y.state;\n\t\t\t\ty.name = unescapexml(utf8read(y.name));\n\t\t\t\tdelete y[0]; wb.Sheets.push(y); break;\n\t\t\tcase '</sheet>': break;\n\n\t\t\t/* 18.2.15 functionGroups CT_FunctionGroups ? */\n\t\t\tcase '<functionGroups': case '<functionGroups/>': break;\n\t\t\t/* 18.2.14   functionGroup CT_FunctionGroup + */\n\t\t\tcase '<functionGroup': break;\n\n\t\t\t/* 18.2.9  externalReferences CT_ExternalReferences ? */\n\t\t\tcase '<externalReferences': case '</externalReferences>': case '<externalReferences>': break;\n\t\t\t/* 18.2.8    externalReference CT_ExternalReference + */\n\t\t\tcase '<externalReference': break;\n\n\t\t\t/* 18.2.6  definedNames CT_DefinedNames ? */\n\t\t\tcase '<definedNames/>': break;\n\t\t\tcase '<definedNames>': case '<definedNames': pass=true; break;\n\t\t\tcase '</definedNames>': pass=false; break;\n\t\t\t/* 18.2.5    definedName CT_DefinedName + */\n\t\t\tcase '<definedName': {\n\t\t\t\tdname = {};\n\t\t\t\tdname.Name = utf8read(y.name);\n\t\t\t\tif(y.comment) dname.Comment = y.comment;\n\t\t\t\tif(y.localSheetId) dname.Sheet = +y.localSheetId;\n\t\t\t\tif(parsexmlbool(y.hidden||\"0\")) dname.Hidden = true;\n\t\t\t\tdnstart = idx + x.length;\n\t\t\t}\tbreak;\n\t\t\tcase '</definedName>': {\n\t\t\t\tdname.Ref = unescapexml(utf8read(data.slice(dnstart, idx)));\n\t\t\t\twb.Names.push(dname);\n\t\t\t} break;\n\t\t\tcase '<definedName/>': break;\n\n\t\t\t/* 18.2.2  calcPr CT_CalcPr ? */\n\t\t\tcase '<calcPr': delete y[0]; wb.CalcPr = y; break;\n\t\t\tcase '<calcPr/>': delete y[0]; wb.CalcPr = y; break;\n\t\t\tcase '</calcPr>': break;\n\n\t\t\t/* 18.2.16 oleSize CT_OleSize ? (ref required) */\n\t\t\tcase '<oleSize': break;\n\n\t\t\t/* 18.2.4  customWorkbookViews CT_CustomWorkbookViews ? */\n\t\t\tcase '<customWorkbookViews>': case '</customWorkbookViews>': case '<customWorkbookViews': break;\n\t\t\t/* 18.2.3  customWorkbookView CT_CustomWorkbookView + */\n\t\t\tcase '<customWorkbookView': case '</customWorkbookView>': break;\n\n\t\t\t/* 18.2.18 pivotCaches CT_PivotCaches ? */\n\t\t\tcase '<pivotCaches>': case '</pivotCaches>': case '<pivotCaches': break;\n\t\t\t/* 18.2.17 pivotCache CT_PivotCache ? */\n\t\t\tcase '<pivotCache': break;\n\n\t\t\t/* 18.2.21 smartTagPr CT_SmartTagPr ? */\n\t\t\tcase '<smartTagPr': case '<smartTagPr/>': break;\n\n\t\t\t/* 18.2.23 smartTagTypes CT_SmartTagTypes ? */\n\t\t\tcase '<smartTagTypes': case '<smartTagTypes>': case '</smartTagTypes>': break;\n\t\t\t/* 18.2.22 smartTagType CT_SmartTagType ? */\n\t\t\tcase '<smartTagType': break;\n\n\t\t\t/* 18.2.24 webPublishing CT_WebPublishing ? */\n\t\t\tcase '<webPublishing': case '<webPublishing/>': break;\n\n\t\t\t/* 18.2.11 fileRecoveryPr CT_FileRecoveryPr ? */\n\t\t\tcase '<fileRecoveryPr': case '<fileRecoveryPr/>': break;\n\n\t\t\t/* 18.2.26 webPublishObjects CT_WebPublishObjects ? */\n\t\t\tcase '<webPublishObjects>': case '<webPublishObjects': case '</webPublishObjects>': break;\n\t\t\t/* 18.2.25 webPublishObject CT_WebPublishObject ? */\n\t\t\tcase '<webPublishObject': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;\n\t\t\t/* 18.2.7  ext CT_Extension + */\n\t\t\tcase '<ext': pass=true; break; //TODO: check with versions of excel\n\t\t\tcase '</ext>': pass=false; break;\n\n\t\t\t/* Others */\n\t\t\tcase '<ArchID': break;\n\t\t\tcase '<AlternateContent':\n\t\t\tcase '<AlternateContent>': pass=true; break;\n\t\t\tcase '</AlternateContent>': pass=false; break;\n\n\t\t\t/* TODO */\n\t\t\tcase '<revisionPtr': break;\n\n\t\t\tdefault: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in workbook');\n\t\t}\n\t\treturn x;\n\t});\n\tif(XMLNS_main.indexOf(wb.xmlns) === -1) throw new Error(\"Unknown Namespace: \" + wb.xmlns);\n\n\tparse_wb_defaults(wb);\n\n\treturn wb;\n}\n\nfunction write_wb_xml(wb/*:Workbook*//*::, opts:?WriteOpts*/)/*:string*/ {\n\tvar o = [XML_HEADER];\n\to[o.length] = writextag('workbook', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t//'xmlns:mx': XMLNS.mx,\n\t\t//'xmlns:s': XMLNS_main[0],\n\t\t'xmlns:r': XMLNS.r\n\t});\n\n\tvar write_names = (wb.Workbook && (wb.Workbook.Names||[]).length > 0);\n\n\t/* fileVersion */\n\t/* fileSharing */\n\n\tvar workbookPr/*:any*/ = ({codeName:\"ThisWorkbook\"}/*:any*/);\n\tif(wb.Workbook && wb.Workbook.WBProps) {\n\t\tWBPropsDef.forEach(function(x) {\n\t\t\t/*:: if(!wb.Workbook || !wb.Workbook.WBProps) throw \"unreachable\"; */\n\t\t\tif((wb.Workbook.WBProps[x[0]]/*:any*/) == null) return;\n\t\t\tif((wb.Workbook.WBProps[x[0]]/*:any*/) == x[1]) return;\n\t\t\tworkbookPr[x[0]] = (wb.Workbook.WBProps[x[0]]/*:any*/);\n\t\t});\n\t\t/*:: if(!wb.Workbook || !wb.Workbook.WBProps) throw \"unreachable\"; */\n\t\tif(wb.Workbook.WBProps.CodeName) { workbookPr.codeName = wb.Workbook.WBProps.CodeName; delete workbookPr.CodeName; }\n\t}\n\to[o.length] = (writextag('workbookPr', null, workbookPr));\n\n\t/* workbookProtection */\n\n\tvar sheets = wb.Workbook && wb.Workbook.Sheets || [];\n\tvar i = 0;\n\n\t/* bookViews only written if first worksheet is hidden */\n\tif(sheets && sheets[0] && !!sheets[0].Hidden) {\n\t\to[o.length] = \"<bookViews>\";\n\t\tfor(i = 0; i != wb.SheetNames.length; ++i) {\n\t\t\tif(!sheets[i]) break;\n\t\t\tif(!sheets[i].Hidden) break;\n\t\t}\n\t\tif(i == wb.SheetNames.length) i = 0;\n\t\to[o.length] = '<workbookView firstSheet=\"' + i + '\" activeTab=\"' + i + '\"/>';\n\t\to[o.length] = \"</bookViews>\";\n\t}\n\n\to[o.length] = \"<sheets>\";\n\tfor(i = 0; i != wb.SheetNames.length; ++i) {\n\t\tvar sht = ({name:escapexml(wb.SheetNames[i].slice(0,31))}/*:any*/);\n\t\tsht.sheetId = \"\"+(i+1);\n\t\tsht[\"r:id\"] = \"rId\"+(i+1);\n\t\tif(sheets[i]) switch(sheets[i].Hidden) {\n\t\t\tcase 1: sht.state = \"hidden\"; break;\n\t\t\tcase 2: sht.state = \"veryHidden\"; break;\n\t\t}\n\t\to[o.length] = (writextag('sheet',null,sht));\n\t}\n\to[o.length] = \"</sheets>\";\n\n\t/* functionGroups */\n\t/* externalReferences */\n\n\tif(write_names) {\n\t\to[o.length] = \"<definedNames>\";\n\t\tif(wb.Workbook && wb.Workbook.Names) wb.Workbook.Names.forEach(function(n) {\n\t\t\tvar d/*:any*/ = {name:n.Name};\n\t\t\tif(n.Comment) d.comment = n.Comment;\n\t\t\tif(n.Sheet != null) d.localSheetId = \"\"+n.Sheet;\n\t\t\tif(n.Hidden) d.hidden = \"1\";\n\t\t\tif(!n.Ref) return;\n\t\t\to[o.length] = writextag('definedName', escapexml(n.Ref), d);\n\t\t});\n\t\to[o.length] = \"</definedNames>\";\n\t}\n\n\t/* calcPr */\n\t/* oleSize */\n\t/* customWorkbookViews */\n\t/* pivotCaches */\n\t/* smartTagPr */\n\t/* smartTagTypes */\n\t/* webPublishing */\n\t/* fileRecoveryPr */\n\t/* webPublishObjects */\n\t/* extLst */\n\n\tif(o.length>2){ o[o.length] = '</workbook>'; o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.304 BrtBundleSh */\nfunction parse_BrtBundleSh(data, length/*:number*/) {\n\tvar z = {};\n\tz.Hidden = data.read_shift(4); //hsState ST_SheetState\n\tz.iTabID = data.read_shift(4);\n\tz.strRelID = parse_RelID(data,length-8);\n\tz.name = parse_XLWideString(data);\n\treturn z;\n}\nfunction write_BrtBundleSh(data, o) {\n\tif(!o) o = new_buf(127);\n\to.write_shift(4, data.Hidden);\n\to.write_shift(4, data.iTabID);\n\twrite_RelID(data.strRelID, o);\n\twrite_XLWideString(data.name.slice(0,31), o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.815 BrtWbProp */\nfunction parse_BrtWbProp(data, length)/*:WBProps*/ {\n\tvar o/*:WBProps*/ = ({}/*:any*/);\n\tvar flags = data.read_shift(4);\n\to.defaultThemeVersion = data.read_shift(4);\n\tvar strName = (length > 8) ? parse_XLWideString(data) : \"\";\n\tif(strName.length > 0) o.CodeName = strName;\n\to.autoCompressPictures = !!(flags & 0x10000);\n\to.backupFile = !!(flags & 0x40);\n\to.checkCompatibility = !!(flags & 0x1000);\n\to.date1904 = !!(flags & 0x01);\n\to.filterPrivacy = !!(flags & 0x08);\n\to.hidePivotFieldList = !!(flags & 0x400);\n\to.promptedSolutions = !!(flags & 0x10);\n\to.publishItems = !!(flags & 0x800);\n\to.refreshAllConnections = !!(flags & 0x40000);\n\to.saveExternalLinkValues = !!(flags & 0x80);\n\to.showBorderUnselectedTables = !!(flags & 0x04);\n\to.showInkAnnotation = !!(flags & 0x20);\n\to.showObjects = [\"all\", \"placeholders\", \"none\"][(flags >> 13) & 0x03];\n\to.showPivotChartFilter = !!(flags & 0x8000);\n\to.updateLinks = [\"userSet\", \"never\", \"always\"][(flags >> 8) & 0x03];\n\treturn o;\n}\nfunction write_BrtWbProp(data/*:?WBProps*/, o) {\n\tif(!o) o = new_buf(72);\n\tvar flags = 0;\n\tif(data) {\n\t\t/* TODO: mirror parse_BrtWbProp fields */\n\t\tif(data.date1904) flags |= 0x01;\n\t\tif(data.filterPrivacy) flags |= 0x08;\n\t}\n\to.write_shift(4, flags);\n\to.write_shift(4, 0);\n\twrite_XLSBCodeName(data && data.CodeName || \"ThisWorkbook\", o);\n\treturn o.slice(0, o.l);\n}\n\nfunction parse_BrtFRTArchID$(data, length) {\n\tvar o = {};\n\tdata.read_shift(4);\n\to.ArchID = data.read_shift(4);\n\tdata.l += length - 8;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.687 BrtName */\nfunction parse_BrtName(data, length, opts) {\n\tvar end = data.l + length;\n\tvar flags = data.read_shift(4);\n\tdata.l += 1; //var chKey = data.read_shift(1);\n\tvar itab = data.read_shift(4);\n\tvar name = parse_XLNameWideString(data);\n\tvar formula;\n\tvar comment = \"\";\n\ttry {\n\t\tformula = parse_XLSBNameParsedFormula(data, 0, opts);\n\t\ttry {\n\t\t\tcomment = parse_XLNullableWideString(data);\n\t\t} catch(e){}\n\t} catch(e) { console.error(\"Could not parse defined name \" + name); }\n\tif(flags & 0x20) name = \"_xlnm.\" + name;\n\t//if(0 /* fProc */) {\n\t\t// unusedstring1: XLNullableWideString\n\t\t// description: XLNullableWideString\n\t\t// helpTopic: XLNullableWideString\n\t\t// unusedstring2: XLNullableWideString\n\t//}\n\tdata.l = end;\n\tvar out = ({Name:name, Ptg:formula, Flags: flags}/*:any*/);\n\tif(itab < 0xFFFFFFF) out.Sheet = itab;\n\tif(comment) out.Comment = comment;\n\treturn out;\n}\nfunction write_BrtName(name, wb) {\n\tvar o = new_buf(9);\n\tvar flags = 0;\n\tvar dname = name.Name;\n\tif(XLSLblBuiltIn.indexOf(dname) > -1) { flags |= 0x20; dname = dname.slice(6); }\n\to.write_shift(4, flags); // flags\n\to.write_shift(1, 0); // chKey\n\to.write_shift(4, name.Sheet == null ? 0xFFFFFFFF : name.Sheet);\n\n\tvar arr = [\n\t\to,\n\t\twrite_XLWideString(dname),\n\t\twrite_XLSBNameParsedFormula(name.Ref, wb)\n\t];\n\tif(name.Comment) arr.push(write_XLNullableWideString(name.Comment));\n\telse {\n\t\tvar x = new_buf(4);\n\t\tx.write_shift(4, 0xFFFFFFFF);\n\t\tarr.push(x);\n\t}\n\n\t// if macro (flags & 0x0F):\n\t// write_shift(4, 0xFFFFFFFF);\n\t// write_XLNullableWideString(description)\n\t// write_XLNullableWideString(helpTopic)\n\t// write_shift(4, 0xFFFFFFFF);\n\n\treturn bconcat(arr);\n}\n\n/* [MS-XLSB] 2.1.7.61 Workbook */\nfunction parse_wb_bin(data, opts)/*:WorkbookFile*/ {\n\tvar wb = { AppVersion:{}, WBProps:{}, WBView:[], Sheets:[], CalcPr:{}, xmlns: \"\" };\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false;\n\n\tif(!opts) opts = {};\n\topts.biff = 12;\n\n\tvar Names = [];\n\tvar supbooks = ([[]]/*:any*/);\n\tsupbooks.SheetNames = [];\n\tsupbooks.XTI = [];\n\n\tXLSBRecordEnum[0x0010] = { n:\"BrtFRTArchID$\", f:parse_BrtFRTArchID$ };\n\n\trecordhopper(data, function hopper_wb(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x009C: /* 'BrtBundleSh' */\n\t\t\t\tsupbooks.SheetNames.push(val.name);\n\t\t\t\twb.Sheets.push(val); break;\n\n\t\t\tcase 0x0099: /* 'BrtWbProp' */\n\t\t\t\twb.WBProps = val; break;\n\n\t\t\tcase 0x0027: /* 'BrtName' */\n\t\t\t\tif(val.Sheet != null) opts.SID = val.Sheet;\n\t\t\t\tval.Ref = val.Ptg ? stringify_formula(val.Ptg, null, null, supbooks, opts) : \"#REF!\";\n\t\t\t\tdelete opts.SID;\n\t\t\t\tdelete val.Ptg;\n\t\t\t\tNames.push(val);\n\t\t\t\tbreak;\n\t\t\tcase 0x040C: /* 'BrtNameExt' */ break;\n\n\t\t\tcase 0x0165: /* 'BrtSupSelf' */\n\t\t\tcase 0x0166: /* 'BrtSupSame' */\n\t\t\tcase 0x0163: /* 'BrtSupBookSrc' */\n\t\t\tcase 0x029B: /* 'BrtSupAddin' */\n\t\t\t\tif(!supbooks[0].length) supbooks[0] = [RT, val];\n\t\t\t\telse supbooks.push([RT, val]);\n\t\t\t\tsupbooks[supbooks.length - 1].XTI = [];\n\t\t\t\tbreak;\n\t\t\tcase 0x016A: /* 'BrtExternSheet' */\n\t\t\t\tif(supbooks.length === 0) { supbooks[0] = []; supbooks[0].XTI = []; }\n\t\t\t\tsupbooks[supbooks.length - 1].XTI = supbooks[supbooks.length - 1].XTI.concat(val);\n\t\t\t\tsupbooks.XTI = supbooks.XTI.concat(val);\n\t\t\t\tbreak;\n\t\t\tcase 0x0169: /* 'BrtPlaceholderName' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0817: /* 'BrtAbsPath15' */\n\t\t\tcase 0x009E: /* 'BrtBookView' */\n\t\t\tcase 0x008F: /* 'BrtBeginBundleShs' */\n\t\t\tcase 0x0298: /* 'BrtBeginFnGroup' */\n\t\t\tcase 0x0161: /* 'BrtBeginExternals' */\n\t\t\t\tbreak;\n\n\t\t\t/* case 'BrtModelTimeGroupingCalcCol' */\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\tcase 0x0C01: /* 'BrtRevisionPtr' */\n\t\t\tcase 0x0216: /* 'BrtBookProtection' */\n\t\t\tcase 0x02A5: /* 'BrtBookProtectionIso' */\n\t\t\tcase 0x009D: /* 'BrtCalcProp' */\n\t\t\tcase 0x0262: /* 'BrtCrashRecErr' */\n\t\t\tcase 0x0802: /* 'BrtDecoupledPivotCacheID' */\n\t\t\tcase 0x009B: /* 'BrtFileRecover' */\n\t\t\tcase 0x0224: /* 'BrtFileSharing' */\n\t\t\tcase 0x02A4: /* 'BrtFileSharingIso' */\n\t\t\tcase 0x0080: /* 'BrtFileVersion' */\n\t\t\tcase 0x0299: /* 'BrtFnGroup' */\n\t\t\tcase 0x0850: /* 'BrtModelRelationship' */\n\t\t\tcase 0x084D: /* 'BrtModelTable' */\n\t\t\tcase 0x0225: /* 'BrtOleSize' */\n\t\t\tcase 0x0805: /* 'BrtPivotTableRef' */\n\t\t\tcase 0x0254: /* 'BrtSmartTagType' */\n\t\t\tcase 0x081C: /* 'BrtTableSlicerCacheID' */\n\t\t\tcase 0x081B: /* 'BrtTableSlicerCacheIDs' */\n\t\t\tcase 0x0822: /* 'BrtTimelineCachePivotCacheID' */\n\t\t\tcase 0x018D: /* 'BrtUserBookView' */\n\t\t\tcase 0x009A: /* 'BrtWbFactoid' */\n\t\t\tcase 0x045D: /* 'BrtWbProp14' */\n\t\t\tcase 0x0229: /* 'BrtWebOpt' */\n\t\t\tcase 0x082B: /* 'BrtWorkBookPr15' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tstate.pop(); pass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */\n\t\t\t\tstate.pop(); pass = false; break;\n\n\t\t\tcase 0x0010: /* 'BrtFRTArchID$' */ break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || (opts.WTF && state[state.length-1] != 0x0025 /* BrtACBegin */ && state[state.length-1] != 0x0023 /* BrtFRTBegin */)) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n\n\tparse_wb_defaults(wb);\n\n\t// $FlowIgnore\n\twb.Names = Names;\n\n\t(wb/*:any*/).supbooks = supbooks;\n\treturn wb;\n}\n\nfunction write_BUNDLESHS(ba, wb/*::, opts*/) {\n\twrite_record(ba, 0x008F /* BrtBeginBundleShs */);\n\tfor(var idx = 0; idx != wb.SheetNames.length; ++idx) {\n\t\tvar viz = wb.Workbook && wb.Workbook.Sheets && wb.Workbook.Sheets[idx] && wb.Workbook.Sheets[idx].Hidden || 0;\n\t\tvar d = { Hidden: viz, iTabID: idx+1, strRelID: 'rId' + (idx+1), name: wb.SheetNames[idx] };\n\t\twrite_record(ba, 0x009C /* BrtBundleSh */, write_BrtBundleSh(d));\n\t}\n\twrite_record(ba, 0x0090 /* BrtEndBundleShs */);\n}\n\n/* [MS-XLSB] 2.4.649 BrtFileVersion */\nfunction write_BrtFileVersion(data, o) {\n\tif(!o) o = new_buf(127);\n\tfor(var i = 0; i != 4; ++i) o.write_shift(4, 0);\n\twrite_XLWideString(\"SheetJS\", o);\n\twrite_XLWideString(XLSX.version, o);\n\twrite_XLWideString(XLSX.version, o);\n\twrite_XLWideString(\"7262\", o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.301 BrtBookView */\nfunction write_BrtBookView(idx, o) {\n\tif(!o) o = new_buf(29);\n\to.write_shift(-4, 0);\n\to.write_shift(-4, 460);\n\to.write_shift(4,  28800);\n\to.write_shift(4,  17600);\n\to.write_shift(4,  500);\n\to.write_shift(4,  idx);\n\to.write_shift(4,  idx);\n\tvar flags = 0x78;\n\to.write_shift(1,  flags);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\nfunction write_BOOKVIEWS(ba, wb/*::, opts*/) {\n\t/* required if hidden tab appears before visible tab */\n\tif(!wb.Workbook || !wb.Workbook.Sheets) return;\n\tvar sheets = wb.Workbook.Sheets;\n\tvar i = 0, vistab = -1, hidden = -1;\n\tfor(; i < sheets.length; ++i) {\n\t\tif(!sheets[i] || !sheets[i].Hidden && vistab == -1) vistab = i;\n\t\telse if(sheets[i].Hidden == 1 && hidden == -1) hidden = i;\n\t}\n\tif(hidden > vistab) return;\n\twrite_record(ba, 0x0087 /* BrtBeginBookViews */);\n\twrite_record(ba, 0x009E /* BrtBookView */, write_BrtBookView(vistab));\n\t/* 1*(BrtBookView *FRT) */\n\twrite_record(ba, 0x0088 /* BrtEndBookViews */);\n}\n\nfunction write_BRTNAMES(ba, wb) {\n\tif(!wb.Workbook || !wb.Workbook.Names) return;\n\twb.Workbook.Names.forEach(function(name) { try {\n\t\tif(name.Flags & 0x0e) return; // TODO: macro name write\n\t\twrite_record(ba, 0x0027 /* BrtName */, write_BrtName(name, wb));\n\t} catch(e) {\n\t\tconsole.error(\"Could not serialize defined name \" + JSON.stringify(name));\n\t} });\n}\n\nfunction write_SELF_EXTERNS_xlsb(wb) {\n\tvar L = wb.SheetNames.length;\n\tvar o = new_buf(12 * L + 28);\n\to.write_shift(4, L + 2);\n\to.write_shift(4, 0); o.write_shift(4, -2); o.write_shift(4, -2); // workbook-level reference\n\to.write_shift(4, 0); o.write_shift(4, -1); o.write_shift(4, -1); // #REF!...\n\tfor(var i = 0; i < L; ++i) {\n\t\to.write_shift(4, 0); o.write_shift(4, i); o.write_shift(4, i);\n\t}\n\treturn o;\n}\nfunction write_EXTERNALS_xlsb(ba, wb) {\n\twrite_record(ba, 0x0161 /* BrtBeginExternals */);\n\twrite_record(ba, 0x0165 /* BrtSupSelf */);\n\twrite_record(ba, 0x016A /* BrtExternSheet */, write_SELF_EXTERNS_xlsb(wb, 0));\n\twrite_record(ba, 0x0162 /* BrtEndExternals */);\n}\n\n/* [MS-XLSB] 2.4.305 BrtCalcProp */\n/*function write_BrtCalcProp(data, o) {\n\tif(!o) o = new_buf(26);\n\to.write_shift(4,0); // force recalc\n\to.write_shift(4,1);\n\to.write_shift(4,0);\n\twrite_Xnum(0, o);\n\to.write_shift(-4, 1023);\n\to.write_shift(1, 0x33);\n\to.write_shift(1, 0x00);\n\treturn o;\n}*/\n\n/* [MS-XLSB] 2.4.646 BrtFileRecover */\n/*function write_BrtFileRecover(data, o) {\n\tif(!o) o = new_buf(1);\n\to.write_shift(1,0);\n\treturn o;\n}*/\n\n/* [MS-XLSB] 2.1.7.61 Workbook */\nfunction write_wb_bin(wb, opts) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x0083 /* BrtBeginBook */);\n\twrite_record(ba, 0x0080 /* BrtFileVersion */, write_BrtFileVersion());\n\t/* [[BrtFileSharingIso] BrtFileSharing] */\n\twrite_record(ba, 0x0099 /* BrtWbProp */, write_BrtWbProp(wb.Workbook && wb.Workbook.WBProps || null));\n\t/* [ACABSPATH] */\n\t/* [[BrtBookProtectionIso] BrtBookProtection] */\n\twrite_BOOKVIEWS(ba, wb, opts);\n\twrite_BUNDLESHS(ba, wb, opts);\n\t/* [FNGROUP] */\n\twrite_EXTERNALS_xlsb(ba, wb);\n\tif((wb.Workbook||{}).Names) write_BRTNAMES(ba, wb);\n\t/* write_record(ba, 0x009D BrtCalcProp, write_BrtCalcProp()); */\n\t/* [BrtOleSize] */\n\t/* *(BrtUserBookView *FRT) */\n\t/* [PIVOTCACHEIDS] */\n\t/* [BrtWbFactoid] */\n\t/* [SMARTTAGTYPES] */\n\t/* [BrtWebOpt] */\n\t/* write_record(ba, 0x009B BrtFileRecover, write_BrtFileRecover()); */\n\t/* [WEBPUBITEMS] */\n\t/* [CRERRS] */\n\t/* FRTWORKBOOK */\n\twrite_record(ba, 0x0084 /* BrtEndBook */);\n\n\treturn ba.end();\n}\nfunction parse_wb(data, name/*:string*/, opts)/*:WorkbookFile*/ {\n\tif(name.slice(-4)===\".bin\") return parse_wb_bin((data/*:any*/), opts);\n\treturn parse_wb_xml((data/*:any*/), opts);\n}\n\nfunction parse_ws(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_ws_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_ws_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_cs(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_cs_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_cs_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_ms(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_ms_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_ms_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_ds(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_ds_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_ds_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_sty(data, name/*:string*/, themes, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_sty_bin((data/*:any*/), themes, opts);\n\treturn parse_sty_xml((data/*:any*/), themes, opts);\n}\n\nfunction parse_sst(data, name/*:string*/, opts)/*:SST*/ {\n\tif(name.slice(-4)===\".bin\") return parse_sst_bin((data/*:any*/), opts);\n\treturn parse_sst_xml((data/*:any*/), opts);\n}\n\nfunction parse_cmnt(data, name/*:string*/, opts)/*:Array<RawComment>*/ {\n\tif(name.slice(-4)===\".bin\") return parse_comments_bin((data/*:any*/), opts);\n\treturn parse_comments_xml((data/*:any*/), opts);\n}\n\nfunction parse_cc(data, name/*:string*/, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_cc_bin((data/*:any*/), name, opts);\n\treturn parse_cc_xml((data/*:any*/), name, opts);\n}\n\nfunction parse_xlink(data, rel, name/*:string*/, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_xlink_bin((data/*:any*/), rel, name, opts);\n\treturn parse_xlink_xml((data/*:any*/), rel, name, opts);\n}\n\nfunction parse_xlmeta(data, name/*:string*/, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_xlmeta_bin((data/*:any*/), name, opts);\n\treturn parse_xlmeta_xml((data/*:any*/), name, opts);\n}\nvar attregexg2=/\\b((?:\\w+:)?[\\w]+)=((?:\")([^\"]*)(?:\")|(?:')([^']*)(?:'))/g;\nvar attregex2=/\\b((?:\\w+:)?[\\w]+)=((?:\")(?:[^\"]*)(?:\")|(?:')(?:[^']*)(?:'))/;\nfunction xlml_parsexmltag(tag/*:string*/, skip_root/*:?boolean*/) {\n\tvar words = tag.split(/\\s+/);\n\tvar z/*:any*/ = ([]/*:any*/); if(!skip_root) z[0] = words[0];\n\tif(words.length === 1) return z;\n\tvar m = tag.match(attregexg2), y, j, w, i;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\ty = m[i].match(attregex2);\n/*:: if(!y || !y[2]) continue; */\n\t\tif((j=y[1].indexOf(\":\")) === -1) z[y[1]] = y[2].slice(1,y[2].length-1);\n\t\telse {\n\t\t\tif(y[1].slice(0,6) === \"xmlns:\") w = \"xmlns\"+y[1].slice(6);\n\t\t\telse w = y[1].slice(j+1);\n\t\t\tz[w] = y[2].slice(1,y[2].length-1);\n\t\t}\n\t}\n\treturn z;\n}\nfunction xlml_parsexmltagobj(tag/*:string*/) {\n\tvar words = tag.split(/\\s+/);\n\tvar z = {};\n\tif(words.length === 1) return z;\n\tvar m = tag.match(attregexg2), y, j, w, i;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\ty = m[i].match(attregex2);\n/*:: if(!y || !y[2]) continue; */\n\t\tif((j=y[1].indexOf(\":\")) === -1) z[y[1]] = y[2].slice(1,y[2].length-1);\n\t\telse {\n\t\t\tif(y[1].slice(0,6) === \"xmlns:\") w = \"xmlns\"+y[1].slice(6);\n\t\t\telse w = y[1].slice(j+1);\n\t\t\tz[w] = y[2].slice(1,y[2].length-1);\n\t\t}\n\t}\n\treturn z;\n}\n\n// ----\n\n/* map from xlml named formats to SSF TODO: localize */\nvar XLMLFormatMap/*: {[string]:string}*/;\n\nfunction xlml_format(format, value, date1904)/*:string*/ {\n\tvar fmt = XLMLFormatMap[format] || unescapexml(format);\n\tif(fmt === \"General\") return SSF_general(value);\n\treturn SSF_format(fmt, value, {date1904: !!date1904});\n}\n\nfunction xlml_set_custprop(Custprops, key, cp, val/*:string*/) {\n\tvar oval/*:any*/ = val;\n\tswitch((cp[0].match(/dt:dt=\"([\\w.]+)\"/)||[\"\",\"\"])[1]) {\n\t\tcase \"boolean\": oval = parsexmlbool(val); break;\n\t\tcase \"i2\": case \"int\": oval = parseInt(val, 10); break;\n\t\tcase \"r4\": case \"float\": oval = parseFloat(val); break;\n\t\tcase \"date\": case \"dateTime.tz\": oval = parseDate(val); break;\n\t\tcase \"i8\": case \"string\": case \"fixed\": case \"uuid\": case \"bin.base64\": break;\n\t\tdefault: throw new Error(\"bad custprop:\" + cp[0]);\n\t}\n\tCustprops[unescapexml(key)] = oval;\n}\n\nfunction safe_format_xlml(cell/*:Cell*/, nf, o, date1904) {\n\tif(cell.t === 'z') return;\n\tif(!o || o.cellText !== false) try {\n\t\tif(cell.t === 'e') { cell.w = cell.w || BErr[cell.v]; }\n\t\telse if(nf === \"General\") {\n\t\t\tif(cell.t === 'n') {\n\t\t\t\tif((cell.v|0) === cell.v) cell.w = cell.v.toString(10);\n\t\t\t\telse cell.w = SSF_general_num(cell.v);\n\t\t\t}\n\t\t\telse cell.w = SSF_general(cell.v);\n\t\t}\n\t\telse cell.w = xlml_format(nf||\"General\", cell.v, date1904);\n\t} catch(e) { if(o.WTF) throw e; }\n\ttry {\n\t\tvar z = XLMLFormatMap[nf]||nf||\"General\";\n\t\tif(o.cellNF) cell.z = z;\n\t\tif(o.cellDates && cell.t == 'n' && fmt_is_date(z)) {\n\t\t\tvar _d = SSF_parse_date_code(cell.v + (date1904 ? 1462 : 0)); if(_d) { cell.t = 'd'; cell.v = new Date(Date.UTC(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u)); }\n\t\t}\n\t} catch(e) { if(o.WTF) throw e; }\n}\n\nfunction process_style_xlml(styles, stag, opts) {\n\tif(opts.cellStyles) {\n\t\tif(stag.Interior) {\n\t\t\tvar I = stag.Interior;\n\t\t\tif(I.Pattern) I.patternType = XLMLPatternTypeMap[I.Pattern] || I.Pattern;\n\t\t}\n\t}\n\tstyles[stag.ID] = stag;\n}\n\n/* TODO: there must exist some form of OSP-blessed spec */\nfunction parse_xlml_data(xml, ss, data, cell/*:any*/, base, styles, csty, row, arrayf, o, date1904) {\n\tvar nf = \"General\", sid = cell.StyleID, S = {}; o = o || {};\n\tvar interiors = [];\n\tvar i = 0;\n\tif(sid === undefined && row) sid = row.StyleID;\n\tif(sid === undefined && csty) sid = csty.StyleID;\n\twhile(styles[sid] !== undefined) {\n\t\tvar ssid = styles[sid];\n\t\tif(ssid.nf) nf = ssid.nf;\n\t\tif(ssid.Interior) interiors.push(ssid.Interior);\n\t\tif(!ssid.Parent) break;\n\t\tsid = ssid.Parent;\n\t}\n\tswitch(data.Type) {\n\t\tcase 'Boolean':\n\t\t\tcell.t = 'b';\n\t\t\tcell.v = parsexmlbool(xml);\n\t\t\tbreak;\n\t\tcase 'String':\n\t\t\tcell.t = 's'; cell.r = xlml_fixstr(unescapexml(xml));\n\t\t\tcell.v = (xml.indexOf(\"<\") > -1 ? unescapexml(ss||xml).replace(/<[^<>]*>/g, \"\") : cell.r); // todo: BR etc\n\t\t\tbreak;\n\t\tcase 'DateTime':\n\t\t\tif(xml.slice(-1) != \"Z\") xml += \"Z\";\n\t\t\tcell.v = datenum(parseDate(xml, date1904), date1904);\n\t\t\tif(cell.v !== cell.v) cell.v = unescapexml(xml);\n\t\t\tif(!nf || nf == \"General\") nf = \"yyyy-mm-dd\";\n\t\t\t/* falls through */\n\t\tcase 'Number':\n\t\t\tif(cell.v === undefined) cell.v=+xml;\n\t\t\tif(!cell.t) cell.t = 'n';\n\t\t\tbreak;\n\t\tcase 'Error': cell.t = 'e'; cell.v = RBErr[xml]; if(o.cellText !== false) cell.w = xml; break;\n\t\tdefault:\n\t\t\tif(xml == \"\" && ss == \"\") { cell.t = 'z'; }\n\t\t\telse { cell.t = 's'; cell.v = xlml_fixstr(ss||xml); }\n\t\t\tbreak;\n\t}\n\tsafe_format_xlml(cell, nf, o, date1904);\n\tif(o.cellFormula !== false) {\n\t\tif(cell.Formula) {\n\t\t\tvar fstr = unescapexml(cell.Formula);\n\t\t\t/* strictly speaking, the leading = is required but some writers omit */\n\t\t\tif(fstr.charCodeAt(0) == 61 /* = */) fstr = fstr.slice(1);\n\t\t\tcell.f = rc_to_a1(fstr, base);\n\t\t\tdelete cell.Formula;\n\t\t\tif(cell.ArrayRange == \"RC\") cell.F = rc_to_a1(\"RC:RC\", base);\n\t\t\telse if(cell.ArrayRange) {\n\t\t\t\tcell.F = rc_to_a1(cell.ArrayRange, base);\n\t\t\t\tarrayf.push([safe_decode_range(cell.F), cell.F]);\n\t\t\t}\n\t\t} else {\n\t\t\tfor(i = 0; i < arrayf.length; ++i)\n\t\t\t\tif(base.r >= arrayf[i][0].s.r && base.r <= arrayf[i][0].e.r)\n\t\t\t\t\tif(base.c >= arrayf[i][0].s.c && base.c <= arrayf[i][0].e.c)\n\t\t\t\t\t\tcell.F = arrayf[i][1];\n\t\t}\n\t}\n\tif(o.cellStyles) {\n\t\tinteriors.forEach(function(x) {\n\t\t\tif(!S.patternType && x.patternType) S.patternType = x.patternType;\n\t\t});\n\t\tcell.s = S;\n\t}\n\tif(cell.StyleID !== undefined) cell.ixfe = cell.StyleID;\n}\n\nfunction xlml_prefix_dname(dname) {\n\treturn XLSLblBuiltIn.indexOf(\"_xlnm.\" + dname) > -1 ? \"_xlnm.\" + dname : dname;\n}\n\nfunction xlml_clean_comment(comment/*:any*/) {\n\tcomment.t = comment.v || \"\";\n\tcomment.t = comment.t.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\");\n\tcomment.v = comment.w = comment.ixfe = undefined;\n}\n\n/* TODO: Everything */\nfunction parse_xlml_xml(d, _opts)/*:Workbook*/ {\n\tvar opts = _opts || {};\n\tmake_ssf();\n\tvar str = debom(xlml_normalize(d));\n\tif(opts.type == 'binary' || opts.type == 'array' || opts.type == 'base64') {\n\t\tif(typeof $cptable !== 'undefined') str = $cptable.utils.decode(65001, char_codes(str));\n\t\telse str = utf8read(str);\n\t}\n\tvar opening = str.slice(0, 1024).toLowerCase(), ishtml = false;\n\topening = opening.replace(/\".*?\"/g, \"\");\n\tif((opening.indexOf(\">\") & 1023) > Math.min((opening.indexOf(\",\") & 1023), (opening.indexOf(\";\")&1023))) { var _o = dup(opts); _o.type = \"string\"; return PRN.to_workbook(str, _o); }\n\tif(opening.indexOf(\"<?xml\") == -1) [\"html\", \"table\", \"head\", \"meta\", \"script\", \"style\", \"div\"].forEach(function(tag) { if(opening.indexOf(\"<\" + tag) >= 0) ishtml = true; });\n\tif(ishtml) return html_to_workbook(str, opts);\n\n\tXLMLFormatMap = ({\n\t\t\"General Number\": \"General\",\n\t\t\"General Date\": table_fmt[22],\n\t\t\"Long Date\": \"dddd, mmmm dd, yyyy\",\n\t\t\"Medium Date\": table_fmt[15],\n\t\t\"Short Date\": table_fmt[14],\n\t\t\"Long Time\": table_fmt[19],\n\t\t\"Medium Time\": table_fmt[18],\n\t\t\"Short Time\": table_fmt[20],\n\t\t\"Currency\": '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t\t\"Fixed\": table_fmt[2],\n\t\t\"Standard\": table_fmt[4],\n\t\t\"Percent\": table_fmt[10],\n\t\t\"Scientific\": table_fmt[11],\n\t\t\"Yes/No\": '\"Yes\";\"Yes\";\"No\";@',\n\t\t\"True/False\": '\"True\";\"True\";\"False\";@',\n\t\t\"On/Off\": '\"Yes\";\"Yes\";\"No\";@'\n\t}/*:any*/);\n\n\n\tvar Rn;\n\tvar state = [], tmp;\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\tvar sheets = {}, sheetnames/*:Array<string>*/ = [], cursheet/*:Worksheet*/ = ({}), sheetname = \"\"; if(opts.dense) cursheet[\"!data\"] = [];\n\tvar cell = ({}/*:any*/), row = {};// eslint-disable-line no-unused-vars\n\tvar dtag = xlml_parsexmltag('<Data ss:Type=\"String\">'), didx = 0;\n\tvar c = 0, r = 0;\n\tvar refguess/*:Range*/ = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\tvar styles = {}, stag = {};\n\tvar ss = \"\", fidx = 0;\n\tvar merges/*:Array<Range>*/ = [];\n\tvar Props = {}, Custprops = {}, pidx = 0, cp = [];\n\tvar comments/*:Array<Comment>*/ = [], comment/*:Comment*/ = ({}/*:any*/);\n\tvar cstys = [], csty, seencol = false;\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar rowinfo/*:Array<RowInfo>*/ = [], rowobj = {}, cc = 0, rr = 0;\n\tvar Workbook/*:WBWBProps*/ = ({ Sheets:[], WBProps:{date1904:false} }/*:any*/), wsprops = {};\n\txlmlregex.lastIndex = 0;\n\tstr = str_remove_ng(str, \"<!--\", \"-->\");\n\tvar raw_Rn3 = \"\";\n\twhile((Rn = xlmlregex.exec(str))) switch((Rn[3] = (raw_Rn3 = Rn[3]).toLowerCase())) {\n\t\tcase 'data' /*case 'Data'*/:\n\t\t\tif(raw_Rn3 == \"data\") {\n\t\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(state[state.length-1][1]) break;\n\t\t\tif(Rn[1]==='/') parse_xlml_data(str.slice(didx, Rn.index), ss, dtag, state[state.length-1][0]==/*\"Comment\"*/\"comment\"?comment:cell, {c:c,r:r}, styles, cstys[c], row, arrayf, opts, Workbook.WBProps.date1904);\n\t\t\telse { ss = \"\"; dtag = xlml_parsexmltag(Rn[0]); didx = Rn.index + Rn[0].length; }\n\t\t\tbreak;\n\t\tcase 'cell' /*case 'Cell'*/:\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif(comments.length > 0) cell.c = comments;\n\t\t\t\tif((!opts.sheetRows || opts.sheetRows > r) && cell.v !== void 0) {\n\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\tif(!cursheet[\"!data\"][r]) cursheet[\"!data\"][r] = [];\n\t\t\t\t\t\tcursheet[\"!data\"][r][c] = cell;\n\t\t\t\t\t} else cursheet[encode_col(c) + encode_row(r)] = cell;\n\t\t\t\t}\n\t\t\t\tif(cell.HRef) {\n\t\t\t\t\tcell.l = ({Target:unescapexml(cell.HRef)}/*:any*/);\n\t\t\t\t\tif(cell.HRefScreenTip) cell.l.Tooltip = cell.HRefScreenTip;\n\t\t\t\t\tdelete cell.HRef; delete cell.HRefScreenTip;\n\t\t\t\t}\n\t\t\t\tif(cell.MergeAcross || cell.MergeDown) {\n\t\t\t\t\tcc = c + (parseInt(cell.MergeAcross,10)|0);\n\t\t\t\t\trr = r + (parseInt(cell.MergeDown,10)|0);\n\t\t\t\t\tif(cc > c || rr > r) merges.push({s:{c:c,r:r},e:{c:cc,r:rr}});\n\t\t\t\t}\n\t\t\t\tif(!opts.sheetStubs) { if(cell.MergeAcross) c = cc + 1; else ++c; }\n\t\t\t\telse if(cell.MergeAcross || cell.MergeDown) {\n\t\t\t\t\t/*:: if(!cc) cc = 0; if(!rr) rr = 0; */\n\t\t\t\t\tfor(var cma = c; cma <= cc; ++cma) {\n\t\t\t\t\t\tfor(var cmd = r; cmd <= rr; ++cmd) {\n\t\t\t\t\t\t\tif(cma > c || cmd > r) {\n\t\t\t\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\t\t\t\tif(!cursheet[\"!data\"][cmd]) cursheet[\"!data\"][cmd] = [];\n\t\t\t\t\t\t\t\t\tcursheet[\"!data\"][cmd][cma] = {t:'z'};\n\t\t\t\t\t\t\t\t} else cursheet[encode_col(cma) + encode_row(cmd)] = {t:'z'};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tc = cc + 1;\n\t\t\t\t}\n\t\t\t\telse ++c;\n\t\t\t} else {\n\t\t\t\tcell = xlml_parsexmltagobj(Rn[0]);\n\t\t\t\tif(cell.Index) c = +cell.Index - 1;\n\t\t\t\tif(c < refguess.s.c) refguess.s.c = c;\n\t\t\t\tif(c > refguess.e.c) refguess.e.c = c;\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") ++c;\n\t\t\t\tcomments = [];\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'row' /*case 'Row'*/:\n\t\t\tif(Rn[1]==='/' || Rn[0].slice(-2) === \"/>\") {\n\t\t\t\tif(r < refguess.s.r) refguess.s.r = r;\n\t\t\t\tif(r > refguess.e.r) refguess.e.r = r;\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") {\n\t\t\t\t\trow = xlml_parsexmltag(Rn[0]);\n\t\t\t\t\tif(row.Index) r = +row.Index - 1;\n\t\t\t\t}\n\t\t\t\tc = 0; ++r;\n\t\t\t} else {\n\t\t\t\trow = xlml_parsexmltag(Rn[0]);\n\t\t\t\tif(row.Index) r = +row.Index - 1;\n\t\t\t\trowobj = {};\n\t\t\t\tif(row.AutoFitHeight == \"0\" || row.Height) {\n\t\t\t\t\trowobj.hpx = parseInt(row.Height, 10); rowobj.hpt = px2pt(rowobj.hpx);\n\t\t\t\t\trowinfo[r] = rowobj;\n\t\t\t\t}\n\t\t\t\tif(row.Hidden == \"1\") { rowobj.hidden = true; rowinfo[r] = rowobj; }\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'worksheet' /*case 'Worksheet'*/: /* TODO: read range from FullRows/FullColumns */\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));\n\t\t\t\tsheetnames.push(sheetname);\n\t\t\t\tif(refguess.s.r <= refguess.e.r && refguess.s.c <= refguess.e.c) {\n\t\t\t\t\tcursheet[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\tif(opts.sheetRows && opts.sheetRows <= refguess.e.r) {\n\t\t\t\t\t\tcursheet[\"!fullref\"] = cursheet[\"!ref\"];\n\t\t\t\t\t\trefguess.e.r = opts.sheetRows - 1;\n\t\t\t\t\t\tcursheet[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(merges.length) cursheet[\"!merges\"] = merges;\n\t\t\t\tif(cstys.length > 0) cursheet[\"!cols\"] = cstys;\n\t\t\t\tif(rowinfo.length > 0) cursheet[\"!rows\"] = rowinfo;\n\t\t\t\tsheets[sheetname] = cursheet;\n\t\t\t} else {\n\t\t\t\trefguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\t\t\t\tr = c = 0;\n\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\ttmp = xlml_parsexmltag(Rn[0]);\n\t\t\t\tsheetname = unescapexml(tmp.Name);\n\t\t\t\tcursheet = ({}); if(opts.dense) cursheet[\"!data\"] = [];\n\t\t\t\tmerges = [];\n\t\t\t\tarrayf = [];\n\t\t\t\trowinfo = [];\n\t\t\t\twsprops = {name:sheetname, Hidden:0};\n\t\t\t\tWorkbook.Sheets.push(wsprops);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'table' /*case 'Table'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse if(Rn[0].slice(-2) == \"/>\") break;\n\t\t\telse {\n\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\tcstys = []; seencol = false;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'style' /*case 'Style'*/:\n\t\t\tif(Rn[1]==='/') process_style_xlml(styles, stag, opts);\n\t\t\telse stag = xlml_parsexmltag(Rn[0]);\n\t\t\tbreak;\n\n\t\tcase 'numberformat' /*case 'NumberFormat'*/:\n\t\t\tstag.nf = unescapexml(xlml_parsexmltag(Rn[0]).Format || \"General\");\n\t\t\tif(XLMLFormatMap[stag.nf]) stag.nf = XLMLFormatMap[stag.nf];\n\t\t\tfor(var ssfidx = 0; ssfidx != 0x188; ++ssfidx) if(table_fmt[ssfidx] == stag.nf) break;\n\t\t\tif(ssfidx == 0x188) for(ssfidx = 0x39; ssfidx != 0x188; ++ssfidx) if(table_fmt[ssfidx] == null) { SSF__load(stag.nf, ssfidx); break; }\n\t\t\tbreak;\n\n\t\tcase 'column' /*case 'Column'*/:\n\t\t\tif(state[state.length-1][0] !== /*'Table'*/'table') break;\n\t\t\tif(Rn[1]==='/') break;\n\t\t\tcsty = xlml_parsexmltag(Rn[0]);\n\t\t\tif(csty.Hidden) { csty.hidden = true; delete csty.Hidden; }\n\t\t\tif(csty.Width) csty.wpx = parseInt(csty.Width, 10);\n\t\t\tif(!seencol && csty.wpx > 10) {\n\t\t\t\tseencol = true; MDW = DEF_MDW; //find_mdw_wpx(csty.wpx);\n\t\t\t\tfor(var _col = 0; _col < cstys.length; ++_col) if(cstys[_col]) process_col(cstys[_col]);\n\t\t\t}\n\t\t\tif(seencol) process_col(csty);\n\t\t\tcstys[(csty.Index-1||cstys.length)] = csty;\n\t\t\tfor(var i = 0; i < +csty.Span; ++i) cstys[cstys.length] = dup(csty);\n\t\t\tbreak;\n\n\t\tcase 'namedrange' /*case 'NamedRange'*/:\n\t\t\tif(Rn[1]==='/') break;\n\t\t\tif(!Workbook.Names) Workbook.Names = [];\n\t\t\tvar _NamedRange = parsexmltag(Rn[0]);\n\t\t\tvar _DefinedName/*:DefinedName*/ = ({\n\t\t\t\tName: xlml_prefix_dname(_NamedRange.Name),\n\t\t\t\tRef: rc_to_a1(_NamedRange.RefersTo.slice(1), {r:0, c:0})\n\t\t\t}/*:any*/);\n\t\t\tif(Workbook.Sheets.length>0) _DefinedName.Sheet=Workbook.Sheets.length-1;\n\t\t\t/*:: if(Workbook.Names) */Workbook.Names.push(_DefinedName);\n\t\t\tbreak;\n\n\t\tcase 'namedcell' /*case 'NamedCell'*/: break;\n\t\tcase 'b' /*case 'B'*/: break;\n\t\tcase 'i' /*case 'I'*/: break;\n\t\tcase 'u' /*case 'U'*/: break;\n\t\tcase 's' /*case 'S'*/: break;\n\t\tcase 'em' /*case 'EM'*/: break;\n\t\tcase 'h2' /*case 'H2'*/: break;\n\t\tcase 'h3' /*case 'H3'*/: break;\n\t\tcase 'sub' /*case 'Sub'*/: break;\n\t\tcase 'sup' /*case 'Sup'*/: break;\n\t\tcase 'span' /*case 'Span'*/: break;\n\t\tcase 'alignment' /*case 'Alignment'*/:\n\t\t\tbreak;\n\t\tcase 'borders' /*case 'Borders'*/: break;\n\t\tcase 'border' /*case 'Border'*/: break;\n\t\tcase 'font' /*case 'Font'*/:\n\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\telse if(Rn[1]===\"/\") ss += str.slice(fidx, Rn.index);\n\t\t\telse fidx = Rn.index + Rn[0].length;\n\t\t\tbreak;\n\t\tcase 'interior' /*case 'Interior'*/:\n\t\t\tif(!opts.cellStyles) break;\n\t\t\tstag.Interior = xlml_parsexmltag(Rn[0]);\n\t\t\tbreak;\n\t\tcase 'protection' /*case 'Protection'*/: break;\n\n\t\tcase 'author' /*case 'Author'*/:\n\t\tcase 'title' /*case 'Title'*/:\n\t\tcase 'description' /*case 'Description'*/:\n\t\tcase 'created' /*case 'Created'*/:\n\t\tcase 'keywords' /*case 'Keywords'*/:\n\t\tcase 'subject' /*case 'Subject'*/:\n\t\tcase 'category' /*case 'Category'*/:\n\t\tcase 'company' /*case 'Company'*/:\n\t\tcase 'lastauthor' /*case 'LastAuthor'*/:\n\t\tcase 'lastsaved' /*case 'LastSaved'*/:\n\t\tcase 'lastprinted' /*case 'LastPrinted'*/:\n\t\tcase 'version' /*case 'Version'*/:\n\t\tcase 'revision' /*case 'Revision'*/:\n\t\tcase 'totaltime' /*case 'TotalTime'*/:\n\t\tcase 'hyperlinkbase' /*case 'HyperlinkBase'*/:\n\t\tcase 'manager' /*case 'Manager'*/:\n\t\tcase 'contentstatus' /*case 'ContentStatus'*/:\n\t\tcase 'identifier' /*case 'Identifier'*/:\n\t\tcase 'language' /*case 'Language'*/:\n\t\tcase 'appname' /*case 'AppName'*/:\n\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\telse if(Rn[1]===\"/\") xlml_set_prop(Props, raw_Rn3, str.slice(pidx, Rn.index));\n\t\t\telse pidx = Rn.index + Rn[0].length;\n\t\t\tbreak;\n\t\tcase 'paragraphs' /*case 'Paragraphs'*/: break;\n\n\t\tcase 'styles' /*case 'Styles'*/:\n\t\tcase 'workbook' /*case 'Workbook'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse state.push([Rn[3], false]);\n\t\t\tbreak;\n\n\t\tcase 'comment' /*case 'Comment'*/:\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));\n\t\t\t\txlml_clean_comment(comment);\n\t\t\t\tcomments.push(comment);\n\t\t\t} else {\n\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\ttmp = xlml_parsexmltag(Rn[0]);\n\t\t\t\tif(!parsexmlbool(tmp[\"ShowAlways\"]||\"0\")) comments.hidden = true;\n\t\t\t\tcomment = ({a:tmp.Author}/*:any*/);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'autofilter' /*case 'AutoFilter'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\tvar AutoFilter = xlml_parsexmltag(Rn[0]);\n\t\t\t\tcursheet['!autofilter'] = { ref:rc_to_a1(AutoFilter.Range).replace(/\\$/g,\"\") };\n\t\t\t\tstate.push([Rn[3], true]);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'name' /*case 'Name'*/: break;\n\n\t\tcase 'datavalidation' /*case 'DataValidation'*/:\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));\n\t\t\t} else {\n\t\t\t\tif(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'pixelsperinch' /*case 'PixelsPerInch'*/:\n\t\t\tbreak;\n\t\tcase 'componentoptions' /*case 'ComponentOptions'*/:\n\t\tcase 'documentproperties' /*case 'DocumentProperties'*/:\n\t\tcase 'customdocumentproperties' /*case 'CustomDocumentProperties'*/:\n\t\tcase 'officedocumentsettings' /*case 'OfficeDocumentSettings'*/:\n\t\tcase 'pivottable' /*case 'PivotTable'*/:\n\t\tcase 'pivotcache' /*case 'PivotCache'*/:\n\t\tcase 'names' /*case 'Names'*/:\n\t\tcase 'mapinfo' /*case 'MapInfo'*/:\n\t\tcase 'pagebreaks' /*case 'PageBreaks'*/:\n\t\tcase 'querytable' /*case 'QueryTable'*/:\n\t\tcase 'sorting' /*case 'Sorting'*/:\n\t\tcase 'schema' /*case 'Schema'*/: //case 'data' /*case 'data'*/:\n\t\tcase 'conditionalformatting' /*case 'ConditionalFormatting'*/:\n\t\tcase 'smarttagtype' /*case 'SmartTagType'*/:\n\t\tcase 'smarttags' /*case 'SmartTags'*/:\n\t\tcase 'excelworkbook' /*case 'ExcelWorkbook'*/:\n\t\tcase 'workbookoptions' /*case 'WorkbookOptions'*/:\n\t\tcase 'worksheetoptions' /*case 'WorksheetOptions'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\tbreak;\n\n\t\tcase 'null' /*case 'Null'*/: break;\n\n\t\tdefault:\n\t\t\t/* FODS file root is <office:document> */\n\t\t\tif(state.length == 0 && Rn[3] == \"document\") return parse_fods(str, opts);\n\t\t\t/* UOS file root is <uof:UOF> */\n\t\t\tif(state.length == 0 && Rn[3] == \"uof\"/*\"UOF\"*/) return parse_fods(str, opts);\n\n\t\t\tvar seen = true;\n\t\t\tswitch(state[state.length-1][0]) {\n\t\t\t\t/* OfficeDocumentSettings */\n\t\t\t\tcase 'officedocumentsettings' /*case 'OfficeDocumentSettings'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'allowpng' /*case 'AllowPNG'*/: break;\n\t\t\t\t\tcase 'removepersonalinformation' /*case 'RemovePersonalInformation'*/: break;\n\t\t\t\t\tcase 'downloadcomponents' /*case 'DownloadComponents'*/: break;\n\t\t\t\t\tcase 'locationofcomponents' /*case 'LocationOfComponents'*/: break;\n\t\t\t\t\tcase 'colors' /*case 'Colors'*/: break;\n\t\t\t\t\tcase 'color' /*case 'Color'*/: break;\n\t\t\t\t\tcase 'index' /*case 'Index'*/: break;\n\t\t\t\t\tcase 'rgb' /*case 'RGB'*/: break;\n\t\t\t\t\tcase 'targetscreensize' /*case 'TargetScreenSize'*/: break;\n\t\t\t\t\tcase 'readonlyrecommended' /*case 'ReadOnlyRecommended'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* ComponentOptions */\n\t\t\t\tcase 'componentoptions' /*case 'ComponentOptions'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'toolbar' /*case 'Toolbar'*/: break;\n\t\t\t\t\tcase 'hideofficelogo' /*case 'HideOfficeLogo'*/: break;\n\t\t\t\t\tcase 'spreadsheetautofit' /*case 'SpreadsheetAutoFit'*/: break;\n\t\t\t\t\tcase 'label' /*case 'Label'*/: break;\n\t\t\t\t\tcase 'caption' /*case 'Caption'*/: break;\n\t\t\t\t\tcase 'maxheight' /*case 'MaxHeight'*/: break;\n\t\t\t\t\tcase 'maxwidth' /*case 'MaxWidth'*/: break;\n\t\t\t\t\tcase 'nextsheetnumber' /*case 'NextSheetNumber'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* ExcelWorkbook */\n\t\t\t\tcase 'excelworkbook' /*case 'ExcelWorkbook'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'date1904' /*case 'Date1904'*/:\n\t\t\t\t\t\t/*:: if(!Workbook.WBProps) Workbook.WBProps = {}; */\n\t\t\t\t\t\tWorkbook.WBProps.date1904 = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'hidehorizontalscrollbar' /*case 'HideHorizontalScrollBar'*/: break;\n\t\t\t\t\tcase 'hideverticalscrollbar' /*case 'HideVerticalScrollBar'*/: break;\n\t\t\t\t\tcase 'hideworkbooktabs' /*case 'HideWorkbookTabs'*/: break;\n\t\t\t\t\tcase 'windowheight' /*case 'WindowHeight'*/: break;\n\t\t\t\t\tcase 'windowwidth' /*case 'WindowWidth'*/: break;\n\t\t\t\t\tcase 'windowtopx' /*case 'WindowTopX'*/: break;\n\t\t\t\t\tcase 'windowtopy' /*case 'WindowTopY'*/: break;\n\t\t\t\t\tcase 'tabratio' /*case 'TabRatio'*/: break;\n\t\t\t\t\tcase 'protectstructure' /*case 'ProtectStructure'*/: break;\n\t\t\t\t\tcase 'protectwindow' /*case 'ProtectWindow'*/: break;\n\t\t\t\t\tcase 'protectwindows' /*case 'ProtectWindows'*/: break;\n\t\t\t\t\tcase 'activesheet' /*case 'ActiveSheet'*/: break;\n\t\t\t\t\tcase 'displayinknotes' /*case 'DisplayInkNotes'*/: break;\n\t\t\t\t\tcase 'firstvisiblesheet' /*case 'FirstVisibleSheet'*/: break;\n\t\t\t\t\tcase 'supbook' /*case 'SupBook'*/: break;\n\t\t\t\t\tcase 'sheetname' /*case 'SheetName'*/: break;\n\t\t\t\t\tcase 'sheetindex' /*case 'SheetIndex'*/: break;\n\t\t\t\t\tcase 'sheetindexfirst' /*case 'SheetIndexFirst'*/: break;\n\t\t\t\t\tcase 'sheetindexlast' /*case 'SheetIndexLast'*/: break;\n\t\t\t\t\tcase 'dll' /*case 'Dll'*/: break;\n\t\t\t\t\tcase 'acceptlabelsinformulas' /*case 'AcceptLabelsInFormulas'*/: break;\n\t\t\t\t\tcase 'donotsavelinkvalues' /*case 'DoNotSaveLinkValues'*/: break;\n\t\t\t\t\tcase 'iteration' /*case 'Iteration'*/: break;\n\t\t\t\t\tcase 'maxiterations' /*case 'MaxIterations'*/: break;\n\t\t\t\t\tcase 'maxchange' /*case 'MaxChange'*/: break;\n\t\t\t\t\tcase 'path' /*case 'Path'*/: break;\n\t\t\t\t\tcase 'xct' /*case 'Xct'*/: break;\n\t\t\t\t\tcase 'count' /*case 'Count'*/: break;\n\t\t\t\t\tcase 'selectedsheets' /*case 'SelectedSheets'*/: break;\n\t\t\t\t\tcase 'calculation' /*case 'Calculation'*/: break;\n\t\t\t\t\tcase 'uncalced' /*case 'Uncalced'*/: break;\n\t\t\t\t\tcase 'startupprompt' /*case 'StartupPrompt'*/: break;\n\t\t\t\t\tcase 'crn' /*case 'Crn'*/: break;\n\t\t\t\t\tcase 'externname' /*case 'ExternName'*/: break;\n\t\t\t\t\tcase 'formula' /*case 'Formula'*/: break;\n\t\t\t\t\tcase 'colfirst' /*case 'ColFirst'*/: break;\n\t\t\t\t\tcase 'collast' /*case 'ColLast'*/: break;\n\t\t\t\t\tcase 'wantadvise' /*case 'WantAdvise'*/: break;\n\t\t\t\t\tcase 'boolean' /*case 'Boolean'*/: break;\n\t\t\t\t\tcase 'error' /*case 'Error'*/: break;\n\t\t\t\t\tcase 'text' /*case 'Text'*/: break;\n\t\t\t\t\tcase 'ole' /*case 'OLE'*/: break;\n\t\t\t\t\tcase 'noautorecover' /*case 'NoAutoRecover'*/: break;\n\t\t\t\t\tcase 'publishobjects' /*case 'PublishObjects'*/: break;\n\t\t\t\t\tcase 'donotcalculatebeforesave' /*case 'DoNotCalculateBeforeSave'*/: break;\n\t\t\t\t\tcase 'number' /*case 'Number'*/: break;\n\t\t\t\t\tcase 'refmoder1c1' /*case 'RefModeR1C1'*/: break;\n\t\t\t\t\tcase 'embedsavesmarttags' /*case 'EmbedSaveSmartTags'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* WorkbookOptions */\n\t\t\t\tcase 'workbookoptions' /*case 'WorkbookOptions'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'owcversion' /*case 'OWCVersion'*/: break;\n\t\t\t\t\tcase 'height' /*case 'Height'*/: break;\n\t\t\t\t\tcase 'width' /*case 'Width'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* WorksheetOptions */\n\t\t\t\tcase 'worksheetoptions' /*case 'WorksheetOptions'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'visible' /*case 'Visible'*/:\n\t\t\t\t\t\tif(Rn[0].slice(-2) === \"/>\"){/* empty */}\n\t\t\t\t\t\telse if(Rn[1]===\"/\") switch(str.slice(pidx, Rn.index)) {\n\t\t\t\t\t\t\tcase \"SheetHidden\": wsprops.Hidden = 1; break;\n\t\t\t\t\t\t\tcase \"SheetVeryHidden\": wsprops.Hidden = 2; break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse pidx = Rn.index + Rn[0].length;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'header' /*case 'Header'*/:\n\t\t\t\t\t\tif(!cursheet['!margins']) default_margins(cursheet['!margins']={}, 'xlml');\n\t\t\t\t\t\tif(!isNaN(+parsexmltag(Rn[0]).Margin)) cursheet['!margins'].header = +parsexmltag(Rn[0]).Margin;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'footer' /*case 'Footer'*/:\n\t\t\t\t\t\tif(!cursheet['!margins']) default_margins(cursheet['!margins']={}, 'xlml');\n\t\t\t\t\t\tif(!isNaN(+parsexmltag(Rn[0]).Margin)) cursheet['!margins'].footer = +parsexmltag(Rn[0]).Margin;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'pagemargins' /*case 'PageMargins'*/:\n\t\t\t\t\t\tvar pagemargins = parsexmltag(Rn[0]);\n\t\t\t\t\t\tif(!cursheet['!margins']) default_margins(cursheet['!margins']={},'xlml');\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Top)) cursheet['!margins'].top = +pagemargins.Top;\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Left)) cursheet['!margins'].left = +pagemargins.Left;\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Right)) cursheet['!margins'].right = +pagemargins.Right;\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Bottom)) cursheet['!margins'].bottom = +pagemargins.Bottom;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'displayrighttoleft' /*case 'DisplayRightToLeft'*/:\n\t\t\t\t\t\tif(!Workbook.Views) Workbook.Views = [];\n\t\t\t\t\t\tif(!Workbook.Views[0]) Workbook.Views[0] = {};\n\t\t\t\t\t\tWorkbook.Views[0].RTL = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'freezepanes' /*case 'FreezePanes'*/: break;\n\t\t\t\t\tcase 'frozennosplit' /*case 'FrozenNoSplit'*/: break;\n\n\t\t\t\t\tcase 'splithorizontal' /*case 'SplitHorizontal'*/:\n\t\t\t\t\tcase 'splitvertical' /*case 'SplitVertical'*/:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'donotdisplaygridlines' /*case 'DoNotDisplayGridlines'*/:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'activerow' /*case 'ActiveRow'*/: break;\n\t\t\t\t\tcase 'activecol' /*case 'ActiveCol'*/: break;\n\t\t\t\t\tcase 'toprowbottompane' /*case 'TopRowBottomPane'*/: break;\n\t\t\t\t\tcase 'leftcolumnrightpane' /*case 'LeftColumnRightPane'*/: break;\n\n\t\t\t\t\tcase 'unsynced' /*case 'Unsynced'*/: break;\n\t\t\t\t\tcase 'print' /*case 'Print'*/: break;\n\t\t\t\t\tcase 'printerrors' /*case 'PrintErrors'*/: break;\n\t\t\t\t\tcase 'panes' /*case 'Panes'*/: break;\n\t\t\t\t\tcase 'scale' /*case 'Scale'*/: break;\n\t\t\t\t\tcase 'pane' /*case 'Pane'*/: break;\n\t\t\t\t\tcase 'number' /*case 'Number'*/: break;\n\t\t\t\t\tcase 'layout' /*case 'Layout'*/: break;\n\t\t\t\t\tcase 'pagesetup' /*case 'PageSetup'*/: break;\n\t\t\t\t\tcase 'selected' /*case 'Selected'*/: break;\n\t\t\t\t\tcase 'protectobjects' /*case 'ProtectObjects'*/: break;\n\t\t\t\t\tcase 'enableselection' /*case 'EnableSelection'*/: break;\n\t\t\t\t\tcase 'protectscenarios' /*case 'ProtectScenarios'*/: break;\n\t\t\t\t\tcase 'validprinterinfo' /*case 'ValidPrinterInfo'*/: break;\n\t\t\t\t\tcase 'horizontalresolution' /*case 'HorizontalResolution'*/: break;\n\t\t\t\t\tcase 'verticalresolution' /*case 'VerticalResolution'*/: break;\n\t\t\t\t\tcase 'numberofcopies' /*case 'NumberofCopies'*/: break;\n\t\t\t\t\tcase 'activepane' /*case 'ActivePane'*/: break;\n\t\t\t\t\tcase 'toprowvisible' /*case 'TopRowVisible'*/: break;\n\t\t\t\t\tcase 'leftcolumnvisible' /*case 'LeftColumnVisible'*/: break;\n\t\t\t\t\tcase 'fittopage' /*case 'FitToPage'*/: break;\n\t\t\t\t\tcase 'rangeselection' /*case 'RangeSelection'*/: break;\n\t\t\t\t\tcase 'papersizeindex' /*case 'PaperSizeIndex'*/: break;\n\t\t\t\t\tcase 'pagelayoutzoom' /*case 'PageLayoutZoom'*/: break;\n\t\t\t\t\tcase 'pagebreakzoom' /*case 'PageBreakZoom'*/: break;\n\t\t\t\t\tcase 'filteron' /*case 'FilterOn'*/: break;\n\t\t\t\t\tcase 'fitwidth' /*case 'FitWidth'*/: break;\n\t\t\t\t\tcase 'fitheight' /*case 'FitHeight'*/: break;\n\t\t\t\t\tcase 'commentslayout' /*case 'CommentsLayout'*/: break;\n\t\t\t\t\tcase 'zoom' /*case 'Zoom'*/: break;\n\t\t\t\t\tcase 'lefttoright' /*case 'LeftToRight'*/: break;\n\t\t\t\t\tcase 'gridlines' /*case 'Gridlines'*/: break;\n\t\t\t\t\tcase 'allowsort' /*case 'AllowSort'*/: break;\n\t\t\t\t\tcase 'allowfilter' /*case 'AllowFilter'*/: break;\n\t\t\t\t\tcase 'allowinsertrows' /*case 'AllowInsertRows'*/: break;\n\t\t\t\t\tcase 'allowdeleterows' /*case 'AllowDeleteRows'*/: break;\n\t\t\t\t\tcase 'allowinsertcols' /*case 'AllowInsertCols'*/: break;\n\t\t\t\t\tcase 'allowdeletecols' /*case 'AllowDeleteCols'*/: break;\n\t\t\t\t\tcase 'allowinserthyperlinks' /*case 'AllowInsertHyperlinks'*/: break;\n\t\t\t\t\tcase 'allowformatcells' /*case 'AllowFormatCells'*/: break;\n\t\t\t\t\tcase 'allowsizecols' /*case 'AllowSizeCols'*/: break;\n\t\t\t\t\tcase 'allowsizerows' /*case 'AllowSizeRows'*/: break;\n\t\t\t\t\tcase 'nosummaryrowsbelowdetail' /*case 'NoSummaryRowsBelowDetail'*/:\n\t\t\t\t\t\tif(!cursheet[\"!outline\"]) cursheet[\"!outline\"] = {};\n\t\t\t\t\t\tcursheet[\"!outline\"].above = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'tabcolorindex' /*case 'TabColorIndex'*/: break;\n\t\t\t\t\tcase 'donotdisplayheadings' /*case 'DoNotDisplayHeadings'*/: break;\n\t\t\t\t\tcase 'showpagelayoutzoom' /*case 'ShowPageLayoutZoom'*/: break;\n\t\t\t\t\tcase 'nosummarycolumnsrightdetail' /*case 'NoSummaryColumnsRightDetail'*/:\n\t\t\t\t\t\tif(!cursheet[\"!outline\"]) cursheet[\"!outline\"] = {};\n\t\t\t\t\t\tcursheet[\"!outline\"].left = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'blackandwhite' /*case 'BlackAndWhite'*/: break;\n\t\t\t\t\tcase 'donotdisplayzeros' /*case 'DoNotDisplayZeros'*/: break;\n\t\t\t\t\tcase 'displaypagebreak' /*case 'DisplayPageBreak'*/: break;\n\t\t\t\t\tcase 'rowcolheadings' /*case 'RowColHeadings'*/: break;\n\t\t\t\t\tcase 'donotdisplayoutline' /*case 'DoNotDisplayOutline'*/: break;\n\t\t\t\t\tcase 'noorientation' /*case 'NoOrientation'*/: break;\n\t\t\t\t\tcase 'allowusepivottables' /*case 'AllowUsePivotTables'*/: break;\n\t\t\t\t\tcase 'zeroheight' /*case 'ZeroHeight'*/: break;\n\t\t\t\t\tcase 'viewablerange' /*case 'ViewableRange'*/: break;\n\t\t\t\t\tcase 'selection' /*case 'Selection'*/: break;\n\t\t\t\t\tcase 'protectcontents' /*case 'ProtectContents'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* PivotTable */\n\t\t\t\tcase 'pivottable' /*case 'PivotTable'*/: case 'pivotcache' /*case 'PivotCache'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'immediateitemsondrop' /*case 'ImmediateItemsOnDrop'*/: break;\n\t\t\t\t\tcase 'showpagemultipleitemlabel' /*case 'ShowPageMultipleItemLabel'*/: break;\n\t\t\t\t\tcase 'compactrowindent' /*case 'CompactRowIndent'*/: break;\n\t\t\t\t\tcase 'location' /*case 'Location'*/: break;\n\t\t\t\t\tcase 'pivotfield' /*case 'PivotField'*/: break;\n\t\t\t\t\tcase 'orientation' /*case 'Orientation'*/: break;\n\t\t\t\t\tcase 'layoutform' /*case 'LayoutForm'*/: break;\n\t\t\t\t\tcase 'layoutsubtotallocation' /*case 'LayoutSubtotalLocation'*/: break;\n\t\t\t\t\tcase 'layoutcompactrow' /*case 'LayoutCompactRow'*/: break;\n\t\t\t\t\tcase 'position' /*case 'Position'*/: break;\n\t\t\t\t\tcase 'pivotitem' /*case 'PivotItem'*/: break;\n\t\t\t\t\tcase 'datatype' /*case 'DataType'*/: break;\n\t\t\t\t\tcase 'datafield' /*case 'DataField'*/: break;\n\t\t\t\t\tcase 'sourcename' /*case 'SourceName'*/: break;\n\t\t\t\t\tcase 'parentfield' /*case 'ParentField'*/: break;\n\t\t\t\t\tcase 'ptlineitems' /*case 'PTLineItems'*/: break;\n\t\t\t\t\tcase 'ptlineitem' /*case 'PTLineItem'*/: break;\n\t\t\t\t\tcase 'countofsameitems' /*case 'CountOfSameItems'*/: break;\n\t\t\t\t\tcase 'item' /*case 'Item'*/: break;\n\t\t\t\t\tcase 'itemtype' /*case 'ItemType'*/: break;\n\t\t\t\t\tcase 'ptsource' /*case 'PTSource'*/: break;\n\t\t\t\t\tcase 'cacheindex' /*case 'CacheIndex'*/: break;\n\t\t\t\t\tcase 'consolidationreference' /*case 'ConsolidationReference'*/: break;\n\t\t\t\t\tcase 'filename' /*case 'FileName'*/: break;\n\t\t\t\t\tcase 'reference' /*case 'Reference'*/: break;\n\t\t\t\t\tcase 'nocolumngrand' /*case 'NoColumnGrand'*/: break;\n\t\t\t\t\tcase 'norowgrand' /*case 'NoRowGrand'*/: break;\n\t\t\t\t\tcase 'blanklineafteritems' /*case 'BlankLineAfterItems'*/: break;\n\t\t\t\t\tcase 'hidden' /*case 'Hidden'*/: break;\n\t\t\t\t\tcase 'subtotal' /*case 'Subtotal'*/: break;\n\t\t\t\t\tcase 'basefield' /*case 'BaseField'*/: break;\n\t\t\t\t\tcase 'mapchilditems' /*case 'MapChildItems'*/: break;\n\t\t\t\t\tcase 'function' /*case 'Function'*/: break;\n\t\t\t\t\tcase 'refreshonfileopen' /*case 'RefreshOnFileOpen'*/: break;\n\t\t\t\t\tcase 'printsettitles' /*case 'PrintSetTitles'*/: break;\n\t\t\t\t\tcase 'mergelabels' /*case 'MergeLabels'*/: break;\n\t\t\t\t\tcase 'defaultversion' /*case 'DefaultVersion'*/: break;\n\t\t\t\t\tcase 'refreshname' /*case 'RefreshName'*/: break;\n\t\t\t\t\tcase 'refreshdate' /*case 'RefreshDate'*/: break;\n\t\t\t\t\tcase 'refreshdatecopy' /*case 'RefreshDateCopy'*/: break;\n\t\t\t\t\tcase 'versionlastrefresh' /*case 'VersionLastRefresh'*/: break;\n\t\t\t\t\tcase 'versionlastupdate' /*case 'VersionLastUpdate'*/: break;\n\t\t\t\t\tcase 'versionupdateablemin' /*case 'VersionUpdateableMin'*/: break;\n\t\t\t\t\tcase 'versionrefreshablemin' /*case 'VersionRefreshableMin'*/: break;\n\t\t\t\t\tcase 'calculation' /*case 'Calculation'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* PageBreaks */\n\t\t\t\tcase 'pagebreaks' /*case 'PageBreaks'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'colbreaks' /*case 'ColBreaks'*/: break;\n\t\t\t\t\tcase 'colbreak' /*case 'ColBreak'*/: break;\n\t\t\t\t\tcase 'rowbreaks' /*case 'RowBreaks'*/: break;\n\t\t\t\t\tcase 'rowbreak' /*case 'RowBreak'*/: break;\n\t\t\t\t\tcase 'colstart' /*case 'ColStart'*/: break;\n\t\t\t\t\tcase 'colend' /*case 'ColEnd'*/: break;\n\t\t\t\t\tcase 'rowend' /*case 'RowEnd'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* AutoFilter */\n\t\t\t\tcase 'autofilter' /*case 'AutoFilter'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'autofiltercolumn' /*case 'AutoFilterColumn'*/: break;\n\t\t\t\t\tcase 'autofiltercondition' /*case 'AutoFilterCondition'*/: break;\n\t\t\t\t\tcase 'autofilterand' /*case 'AutoFilterAnd'*/: break;\n\t\t\t\t\tcase 'autofilteror' /*case 'AutoFilterOr'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* QueryTable */\n\t\t\t\tcase 'querytable' /*case 'QueryTable'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'id' /*case 'Id'*/: break;\n\t\t\t\t\tcase 'autoformatfont' /*case 'AutoFormatFont'*/: break;\n\t\t\t\t\tcase 'autoformatpattern' /*case 'AutoFormatPattern'*/: break;\n\t\t\t\t\tcase 'querysource' /*case 'QuerySource'*/: break;\n\t\t\t\t\tcase 'querytype' /*case 'QueryType'*/: break;\n\t\t\t\t\tcase 'enableredirections' /*case 'EnableRedirections'*/: break;\n\t\t\t\t\tcase 'refreshedinxl9' /*case 'RefreshedInXl9'*/: break;\n\t\t\t\t\tcase 'urlstring' /*case 'URLString'*/: break;\n\t\t\t\t\tcase 'htmltables' /*case 'HTMLTables'*/: break;\n\t\t\t\t\tcase 'connection' /*case 'Connection'*/: break;\n\t\t\t\t\tcase 'commandtext' /*case 'CommandText'*/: break;\n\t\t\t\t\tcase 'refreshinfo' /*case 'RefreshInfo'*/: break;\n\t\t\t\t\tcase 'notitles' /*case 'NoTitles'*/: break;\n\t\t\t\t\tcase 'nextid' /*case 'NextId'*/: break;\n\t\t\t\t\tcase 'columninfo' /*case 'ColumnInfo'*/: break;\n\t\t\t\t\tcase 'overwritecells' /*case 'OverwriteCells'*/: break;\n\t\t\t\t\tcase 'donotpromptforfile' /*case 'DoNotPromptForFile'*/: break;\n\t\t\t\t\tcase 'textwizardsettings' /*case 'TextWizardSettings'*/: break;\n\t\t\t\t\tcase 'source' /*case 'Source'*/: break;\n\t\t\t\t\tcase 'number' /*case 'Number'*/: break;\n\t\t\t\t\tcase 'decimal' /*case 'Decimal'*/: break;\n\t\t\t\t\tcase 'thousandseparator' /*case 'ThousandSeparator'*/: break;\n\t\t\t\t\tcase 'trailingminusnumbers' /*case 'TrailingMinusNumbers'*/: break;\n\t\t\t\t\tcase 'formatsettings' /*case 'FormatSettings'*/: break;\n\t\t\t\t\tcase 'fieldtype' /*case 'FieldType'*/: break;\n\t\t\t\t\tcase 'delimiters' /*case 'Delimiters'*/: break;\n\t\t\t\t\tcase 'tab' /*case 'Tab'*/: break;\n\t\t\t\t\tcase 'comma' /*case 'Comma'*/: break;\n\t\t\t\t\tcase 'autoformatname' /*case 'AutoFormatName'*/: break;\n\t\t\t\t\tcase 'versionlastedit' /*case 'VersionLastEdit'*/: break;\n\t\t\t\t\tcase 'versionlastrefresh' /*case 'VersionLastRefresh'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\tcase 'datavalidation' /*case 'DataValidation'*/:\n\t\t\t\tswitch(Rn[3]) {\n\t\t\t\t\tcase 'range' /*case 'Range'*/: break;\n\n\t\t\t\t\tcase 'type' /*case 'Type'*/: break;\n\t\t\t\t\tcase 'min' /*case 'Min'*/: break;\n\t\t\t\t\tcase 'max' /*case 'Max'*/: break;\n\t\t\t\t\tcase 'sort' /*case 'Sort'*/: break;\n\t\t\t\t\tcase 'descending' /*case 'Descending'*/: break;\n\t\t\t\t\tcase 'order' /*case 'Order'*/: break;\n\t\t\t\t\tcase 'casesensitive' /*case 'CaseSensitive'*/: break;\n\t\t\t\t\tcase 'value' /*case 'Value'*/: break;\n\t\t\t\t\tcase 'errorstyle' /*case 'ErrorStyle'*/: break;\n\t\t\t\t\tcase 'errormessage' /*case 'ErrorMessage'*/: break;\n\t\t\t\t\tcase 'errortitle' /*case 'ErrorTitle'*/: break;\n\t\t\t\t\tcase 'inputmessage' /*case 'InputMessage'*/: break;\n\t\t\t\t\tcase 'inputtitle' /*case 'InputTitle'*/: break;\n\t\t\t\t\tcase 'combohide' /*case 'ComboHide'*/: break;\n\t\t\t\t\tcase 'inputhide' /*case 'InputHide'*/: break;\n\t\t\t\t\tcase 'condition' /*case 'Condition'*/: break;\n\t\t\t\t\tcase 'qualifier' /*case 'Qualifier'*/: break;\n\t\t\t\t\tcase 'useblank' /*case 'UseBlank'*/: break;\n\t\t\t\t\tcase 'value1' /*case 'Value1'*/: break;\n\t\t\t\t\tcase 'value2' /*case 'Value2'*/: break;\n\t\t\t\t\tcase 'format' /*case 'Format'*/: break;\n\n\t\t\t\t\tcase 'cellrangelist' /*case 'CellRangeList'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\tcase 'sorting' /*case 'Sorting'*/:\n\t\t\t\tcase 'conditionalformatting' /*case 'ConditionalFormatting'*/:\n\t\t\t\tswitch(Rn[3]) {\n\t\t\t\t\tcase 'range' /*case 'Range'*/: break;\n\t\t\t\t\tcase 'type' /*case 'Type'*/: break;\n\t\t\t\t\tcase 'min' /*case 'Min'*/: break;\n\t\t\t\t\tcase 'max' /*case 'Max'*/: break;\n\t\t\t\t\tcase 'sort' /*case 'Sort'*/: break;\n\t\t\t\t\tcase 'descending' /*case 'Descending'*/: break;\n\t\t\t\t\tcase 'order' /*case 'Order'*/: break;\n\t\t\t\t\tcase 'casesensitive' /*case 'CaseSensitive'*/: break;\n\t\t\t\t\tcase 'value' /*case 'Value'*/: break;\n\t\t\t\t\tcase 'errorstyle' /*case 'ErrorStyle'*/: break;\n\t\t\t\t\tcase 'errormessage' /*case 'ErrorMessage'*/: break;\n\t\t\t\t\tcase 'errortitle' /*case 'ErrorTitle'*/: break;\n\t\t\t\t\tcase 'cellrangelist' /*case 'CellRangeList'*/: break;\n\t\t\t\t\tcase 'inputmessage' /*case 'InputMessage'*/: break;\n\t\t\t\t\tcase 'inputtitle' /*case 'InputTitle'*/: break;\n\t\t\t\t\tcase 'combohide' /*case 'ComboHide'*/: break;\n\t\t\t\t\tcase 'inputhide' /*case 'InputHide'*/: break;\n\t\t\t\t\tcase 'condition' /*case 'Condition'*/: break;\n\t\t\t\t\tcase 'qualifier' /*case 'Qualifier'*/: break;\n\t\t\t\t\tcase 'useblank' /*case 'UseBlank'*/: break;\n\t\t\t\t\tcase 'value1' /*case 'Value1'*/: break;\n\t\t\t\t\tcase 'value2' /*case 'Value2'*/: break;\n\t\t\t\t\tcase 'format' /*case 'Format'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* MapInfo (schema) */\n\t\t\t\tcase 'mapinfo' /*case 'MapInfo'*/: case 'schema' /*case 'Schema'*/: case 'data' /*case 'data'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'map' /*case 'Map'*/: break;\n\t\t\t\t\tcase 'entry' /*case 'Entry'*/: break;\n\t\t\t\t\tcase 'range' /*case 'Range'*/: break;\n\t\t\t\t\tcase 'xpath' /*case 'XPath'*/: break;\n\t\t\t\t\tcase 'field' /*case 'Field'*/: break;\n\t\t\t\t\tcase 'xsdtype' /*case 'XSDType'*/: break;\n\t\t\t\t\tcase 'filteron' /*case 'FilterOn'*/: break;\n\t\t\t\t\tcase 'aggregate' /*case 'Aggregate'*/: break;\n\t\t\t\t\tcase 'elementtype' /*case 'ElementType'*/: break;\n\t\t\t\t\tcase 'attributetype' /*case 'AttributeType'*/: break;\n\t\t\t\t/* These are from xsd (XML Schema Definition) */\n\t\t\t\t\tcase 'schema' /*case 'schema'*/:\n\t\t\t\t\tcase 'element' /*case 'element'*/:\n\t\t\t\t\tcase 'complextype' /*case 'complexType'*/:\n\t\t\t\t\tcase 'datatype' /*case 'datatype'*/:\n\t\t\t\t\tcase 'all' /*case 'all'*/:\n\t\t\t\t\tcase 'attribute' /*case 'attribute'*/:\n\t\t\t\t\tcase 'extends' /*case 'extends'*/: break;\n\n\t\t\t\t\tcase 'row' /*case 'row'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* SmartTags (can be anything) */\n\t\t\t\tcase 'smarttags' /*case 'SmartTags'*/: break;\n\n\t\t\t\tdefault: seen = false; break;\n\t\t\t}\n\t\t\tif(seen) break;\n\t\t\t/* CustomDocumentProperties */\n\t\t\tif(Rn[3].match(/!\\[CDATA/)) break;\n\t\t\tif(!state[state.length-1][1]) throw 'Unrecognized tag: ' + Rn[3] + \"|\" + state.join(\"|\");\n\t\t\tif(state[state.length-1][0]===/*'CustomDocumentProperties'*/'customdocumentproperties') {\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\t\telse if(Rn[1]===\"/\") xlml_set_custprop(Custprops, raw_Rn3, cp, str.slice(pidx, Rn.index));\n\t\t\t\telse { cp = Rn; pidx = Rn.index + Rn[0].length; }\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(opts.WTF) throw 'Unrecognized tag: ' + Rn[3] + \"|\" + state.join(\"|\");\n\t}\n\tvar out = ({}/*:any*/);\n\tif(!opts.bookSheets && !opts.bookProps) out.Sheets = sheets;\n\tout.SheetNames = sheetnames;\n\tout.Workbook = Workbook;\n\tout.SSF = dup(table_fmt);\n\tout.Props = Props;\n\tout.Custprops = Custprops;\n\tout.bookType = \"xlml\";\n\treturn out;\n}\n\nfunction parse_xlml(data/*:RawBytes|string*/, opts)/*:Workbook*/ {\n\tfix_read_opts(opts=opts||{});\n\tswitch(opts.type||\"base64\") {\n\t\tcase \"base64\": return parse_xlml_xml(Base64_decode(data), opts);\n\t\tcase \"binary\": case \"buffer\": case \"file\": return parse_xlml_xml(data, opts);\n\t\tcase \"array\": return parse_xlml_xml(a2s(data), opts);\n\t}\n\t/*:: throw new Error(\"unsupported type \" + opts.type); */\n}\n\n/* TODO */\nfunction write_props_xlml(wb/*:Workbook*/, opts)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\t/* DocumentProperties */\n\tif(wb.Props) o.push(xlml_write_docprops(wb.Props, opts));\n\t/* CustomDocumentProperties */\n\tif(wb.Custprops) o.push(xlml_write_custprops(wb.Props, wb.Custprops, opts));\n\treturn o.join(\"\");\n}\n/* TODO */\nfunction write_wb_xlml(wb/*::, opts*/)/*:string*/ {\n\t/* OfficeDocumentSettings */\n\t/* ExcelWorkbook */\n\tif((((wb||{}).Workbook||{}).WBProps||{}).date1904) return '<ExcelWorkbook xmlns=\"urn:schemas-microsoft-com:office:excel\"><Date1904/></ExcelWorkbook>';\n\treturn \"\";\n}\n/* TODO */\nfunction write_sty_xlml(wb, opts)/*:string*/ {\n\t/* Styles */\n\tvar styles/*:Array<string>*/ = ['<Style ss:ID=\"Default\" ss:Name=\"Normal\"><NumberFormat/></Style>'];\n\topts.cellXfs.forEach(function(xf, id) {\n\t\tvar payload/*:Array<string>*/ = [];\n\t\tpayload.push(writextag('NumberFormat', null, {\"ss:Format\": escapexml(table_fmt[xf.numFmtId])}));\n\n\t\tvar o = /*::(*/{\"ss:ID\": \"s\" + (21+id)}/*:: :any)*/;\n\t\tstyles.push(writextag('Style', payload.join(\"\"), o));\n\t});\n\treturn writextag(\"Styles\", styles.join(\"\"));\n}\nfunction write_name_xlml(n) { return writextag(\"NamedRange\", null, {\"ss:Name\": n.Name.slice(0,6) == \"_xlnm.\" ? n.Name.slice(6) : n.Name, \"ss:RefersTo\":\"=\" + a1_to_rc(n.Ref, {r:0,c:0})}); }\nfunction write_names_xlml(wb/*::, opts*/)/*:string*/ {\n\tif(!((wb||{}).Workbook||{}).Names) return \"\";\n\t/*:: if(!wb || !wb.Workbook || !wb.Workbook.Names) throw new Error(\"unreachable\"); */\n\tvar names/*:Array<any>*/ = wb.Workbook.Names;\n\tvar out/*:Array<string>*/ = [];\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar n = names[i];\n\t\tif(n.Sheet != null) continue;\n\t\tif(n.Name.match(/^_xlfn\\./)) continue;\n\t\tout.push(write_name_xlml(n));\n\t}\n\treturn writextag(\"Names\", out.join(\"\"));\n}\nfunction write_ws_xlml_names(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*/)/*:string*/ {\n\tif(!ws) return \"\";\n\tif(!((wb||{}).Workbook||{}).Names) return \"\";\n\t/*:: if(!wb || !wb.Workbook || !wb.Workbook.Names) throw new Error(\"unreachable\"); */\n\tvar names/*:Array<any>*/ = wb.Workbook.Names;\n\tvar out/*:Array<string>*/ = [];\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar n = names[i];\n\t\tif(n.Sheet != idx) continue;\n\t\t/*switch(n.Name) {\n\t\t\tcase \"_\": continue;\n\t\t}*/\n\t\tif(n.Name.match(/^_xlfn\\./)) continue;\n\t\tout.push(write_name_xlml(n));\n\t}\n\treturn out.join(\"\");\n}\n/* WorksheetOptions */\nfunction write_ws_xlml_wsopts(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*/)/*:string*/ {\n\tif(!ws) return \"\";\n\tvar o/*:Array<string>*/ = [];\n\t/* NOTE: spec technically allows any order, but stick with implied order */\n\n\t/* FitToPage */\n\t/* DoNotDisplayColHeaders */\n\t/* DoNotDisplayRowHeaders */\n\t/* ViewableRange */\n\t/* Selection */\n\t/* GridlineColor */\n\t/* Name */\n\t/* ExcelWorksheetType */\n\t/* IntlMacro */\n\t/* Unsynced */\n\t/* Selected */\n\t/* CodeName */\n\n\tif(ws['!margins']) {\n\t\to.push(\"<PageSetup>\");\n\t\tif(ws['!margins'].header) o.push(writextag(\"Header\", null, {'x:Margin':ws['!margins'].header}));\n\t\tif(ws['!margins'].footer) o.push(writextag(\"Footer\", null, {'x:Margin':ws['!margins'].footer}));\n\t\to.push(writextag(\"PageMargins\", null, {\n\t\t\t'x:Bottom': ws['!margins'].bottom || \"0.75\",\n\t\t\t'x:Left': ws['!margins'].left || \"0.7\",\n\t\t\t'x:Right': ws['!margins'].right || \"0.7\",\n\t\t\t'x:Top': ws['!margins'].top || \"0.75\"\n\t\t}));\n\t\to.push(\"</PageSetup>\");\n\t}\n\n\t/* PageSetup */\n\t/* DisplayPageBreak */\n\t/* TransitionExpressionEvaluation */\n\t/* TransitionFormulaEntry */\n\t/* Print */\n\t/* Zoom */\n\t/* PageLayoutZoom */\n\t/* PageBreakZoom */\n\t/* ShowPageBreakZoom */\n\t/* DefaultRowHeight */\n\t/* DefaultColumnWidth */\n\t/* StandardWidth */\n\n\tif(wb && wb.Workbook && wb.Workbook.Sheets && wb.Workbook.Sheets[idx]) {\n\t\t/* Visible */\n\t\tif(wb.Workbook.Sheets[idx].Hidden) o.push(writextag(\"Visible\", (wb.Workbook.Sheets[idx].Hidden == 1 ? \"SheetHidden\" : \"SheetVeryHidden\"), {}));\n\t\telse {\n\t\t\t/* Selected */\n\t\t\tfor(var i = 0; i < idx; ++i) if(wb.Workbook.Sheets[i] && !wb.Workbook.Sheets[i].Hidden) break;\n\t\t\tif(i == idx) o.push(\"<Selected/>\");\n\t\t}\n\t}\n\n\t/* LeftColumnVisible */\n\n\tif(((((wb||{}).Workbook||{}).Views||[])[0]||{}).RTL) o.push(\"<DisplayRightToLeft/>\");\n\n\t/* GridlineColorIndex */\n\t/* DisplayFormulas */\n\t/* DoNotDisplayGridlines */\n\t/* DoNotDisplayHeadings */\n\t/* DoNotDisplayOutline */\n\t/* ApplyAutomaticOutlineStyles */\n\t/* NoSummaryRowsBelowDetail */\n\t/* NoSummaryColumnsRightDetail */\n\t/* DoNotDisplayZeros */\n\t/* ActiveRow */\n\t/* ActiveColumn */\n\t/* FilterOn */\n\t/* RangeSelection */\n\t/* TopRowVisible */\n\t/* TopRowBottomPane */\n\t/* LeftColumnRightPane */\n\t/* ActivePane */\n\t/* SplitHorizontal */\n\t/* SplitVertical */\n\t/* FreezePanes */\n\t/* FrozenNoSplit */\n\t/* TabColorIndex */\n\t/* Panes */\n\n\t/* NOTE: Password not supported in XLML Format */\n\tif(ws['!protect']) {\n\t\to.push(writetag(\"ProtectContents\", \"True\"));\n\t\tif(ws['!protect'].objects) o.push(writetag(\"ProtectObjects\", \"True\"));\n\t\tif(ws['!protect'].scenarios) o.push(writetag(\"ProtectScenarios\", \"True\"));\n\t\tif(ws['!protect'].selectLockedCells != null && !ws['!protect'].selectLockedCells) o.push(writetag(\"EnableSelection\", \"NoSelection\"));\n\t\telse if(ws['!protect'].selectUnlockedCells != null && !ws['!protect'].selectUnlockedCells) o.push(writetag(\"EnableSelection\", \"UnlockedCells\"));\n\t[\n\t\t[ \"formatCells\", \"AllowFormatCells\" ],\n\t\t[ \"formatColumns\", \"AllowSizeCols\" ],\n\t\t[ \"formatRows\", \"AllowSizeRows\" ],\n\t\t[ \"insertColumns\", \"AllowInsertCols\" ],\n\t\t[ \"insertRows\", \"AllowInsertRows\" ],\n\t\t[ \"insertHyperlinks\", \"AllowInsertHyperlinks\" ],\n\t\t[ \"deleteColumns\", \"AllowDeleteCols\" ],\n\t\t[ \"deleteRows\", \"AllowDeleteRows\" ],\n\t\t[ \"sort\", \"AllowSort\" ],\n\t\t[ \"autoFilter\", \"AllowFilter\" ],\n\t\t[ \"pivotTables\", \"AllowUsePivotTables\" ]\n\t].forEach(function(x) { if(ws['!protect'][x[0]]) o.push(\"<\"+x[1]+\"/>\"); });\n\t}\n\n\tif(o.length == 0) return \"\";\n\treturn writextag(\"WorksheetOptions\", o.join(\"\"), {xmlns:XLMLNS.x});\n}\nfunction write_ws_xlml_comment(comments/*:Array<any>*/)/*:string*/ {\n\t/* TODO: test multiple comments */\n\treturn comments.map(function(c) {\n\t\t// TODO: formatted text\n\t\tvar t = xlml_unfixstr(c.t||\"\");\n\t\tvar d =writextag(\"ss:Data\", t, {\"xmlns\":\"http://www.w3.org/TR/REC-html40\"});\n\t\tvar p = {};\n\t\tif(c.a) p[\"ss:Author\"] = c.a;\n\t\tif(!comments.hidden) p[\"ss:ShowAlways\"] = \"1\";\n\t\treturn writextag(\"Comment\", d, p);\n\t}).join(\"\");\n}\nfunction write_ws_xlml_cell(cell, ref/*:string*/, ws, opts, idx/*:number*/, wb, addr)/*:string*/{\n\tif(!cell || (cell.v == undefined && cell.f == undefined)) return \"\";\n\n\tvar attr = {};\n\tif(cell.f) attr[\"ss:Formula\"] = \"=\" + escapexml(a1_to_rc(cell.f, addr));\n\tif(cell.F && cell.F.slice(0, ref.length) == ref) {\n\t\tvar end = decode_cell(cell.F.slice(ref.length + 1));\n\t\tattr[\"ss:ArrayRange\"] = \"RC:R\" + (end.r == addr.r ? \"\" : \"[\" + (end.r - addr.r) + \"]\") + \"C\" + (end.c == addr.c ? \"\" : \"[\" + (end.c - addr.c) + \"]\");\n\t}\n\n\tif(cell.l && cell.l.Target) {\n\t\tattr[\"ss:HRef\"] = escapexml(cell.l.Target);\n\t\tif(cell.l.Tooltip) attr[\"x:HRefScreenTip\"] = escapexml(cell.l.Tooltip);\n\t}\n\n\tif(ws['!merges']) {\n\t\tvar marr = ws['!merges'];\n\t\tfor(var mi = 0; mi != marr.length; ++mi) {\n\t\t\tif(marr[mi].s.c != addr.c || marr[mi].s.r != addr.r) continue;\n\t\t\tif(marr[mi].e.c > marr[mi].s.c) attr['ss:MergeAcross'] = marr[mi].e.c - marr[mi].s.c;\n\t\t\tif(marr[mi].e.r > marr[mi].s.r) attr['ss:MergeDown'] = marr[mi].e.r - marr[mi].s.r;\n\t\t}\n\t}\n\n\tvar t = \"\", p = \"\";\n\tswitch(cell.t) {\n\t\tcase 'z': if(!opts.sheetStubs) return \"\"; break;\n\t\tcase 'n': {\n\t\t\tif(!isFinite(cell.v)) {\n\t\t\t\tt = 'Error'; p = BErr[isNaN(cell.v) ? 0x24 : 0x07];\n\t\t\t} else {\n\t\t\t\tt = 'Number'; p = String(cell.v);\n\t\t\t}\n\t\t} break;\n\t\tcase 'b': t = 'Boolean'; p = (cell.v ? \"1\" : \"0\"); break;\n\t\tcase 'e': t = 'Error'; p = BErr[cell.v]; break;\n\t\tcase 'd': t = 'DateTime'; p = new Date(cell.v).toISOString(); if(cell.z == null) cell.z = cell.z || table_fmt[14]; break;\n\t\tcase 's': t = 'String'; p = escapexlml(cell.v||\"\"); break;\n\t}\n\t/* TODO: cell style */\n\tvar os = get_cell_style(opts.cellXfs, cell, opts);\n\tattr[\"ss:StyleID\"] = \"s\" + (21+os);\n\tattr[\"ss:Index\"] = addr.c + 1;\n\tvar _v = (cell.v != null ? p : \"\");\n\tvar m = cell.t == 'z' ? \"\" : ('<Data ss:Type=\"' + t + '\">' + _v + '</Data>');\n\n\tif((cell.c||[]).length > 0) m += write_ws_xlml_comment(cell.c);\n\n\treturn writextag(\"Cell\", m, attr);\n}\nfunction write_ws_xlml_row(R/*:number*/, row)/*:string*/ {\n\tvar o = '<Row ss:Index=\"' + (R+1) + '\"';\n\tif(row) {\n\t\tif(row.hpt && !row.hpx) row.hpx = pt2px(row.hpt);\n\t\tif(row.hpx) o += ' ss:AutoFitHeight=\"0\" ss:Height=\"' + row.hpx + '\"';\n\t\tif(row.hidden) o += ' ss:Hidden=\"1\"';\n\t}\n\treturn o + '>';\n}\n/* TODO */\nfunction write_ws_xlml_table(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*/)/*:string*/ {\n\tif(!ws['!ref']) return \"\";\n\tvar range/*:Range*/ = safe_decode_range(ws['!ref']);\n\tvar marr/*:Array<Range>*/ = ws['!merges'] || [], mi = 0;\n\tvar o/*:Array<string>*/ = [];\n\tif(ws['!cols']) ws['!cols'].forEach(function(n, i) {\n\t\tprocess_col(n);\n\t\tvar w = !!n.width;\n\t\tvar p = col_obj_w(i, n);\n\t\tvar k/*:any*/ = {\"ss:Index\":i+1};\n\t\tif(w) k['ss:Width'] = width2px(p.width);\n\t\tif(n.hidden) k['ss:Hidden']=\"1\";\n\t\to.push(writextag(\"Column\",null,k));\n\t});\n\tvar dense = ws[\"!data\"] != null;\n\tvar addr = {r:0,c:0};\n\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\tvar row = [write_ws_xlml_row(R, (ws['!rows']||[])[R])];\n\t\taddr.r = R;\n\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\taddr.c = C;\n\t\t\tvar skip = false;\n\t\t\tfor(mi = 0; mi != marr.length; ++mi) {\n\t\t\t\tif(marr[mi].s.c > C) continue;\n\t\t\t\tif(marr[mi].s.r > R) continue;\n\t\t\t\tif(marr[mi].e.c < C) continue;\n\t\t\t\tif(marr[mi].e.r < R) continue;\n\t\t\t\tif(marr[mi].s.c != C || marr[mi].s.r != R) skip = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(skip) continue;\n\t\t\tvar ref = encode_col(C) + encode_row(R), cell = dense ? (ws[\"!data\"][R]||[])[C] : ws[ref];\n\t\t\trow.push(write_ws_xlml_cell(cell, ref, ws, opts, idx, wb, addr));\n\t\t}\n\t\trow.push(\"</Row>\");\n\t\tif(row.length > 2) o.push(row.join(\"\"));\n\t}\n\treturn o.join(\"\");\n}\nfunction write_ws_xlml(idx/*:number*/, opts, wb/*:Workbook*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tvar s = wb.SheetNames[idx];\n\tvar ws = wb.Sheets[s];\n\n\tvar t/*:string*/ = ws ? write_ws_xlml_names(ws, opts, idx, wb) : \"\";\n\tif(t.length > 0) o.push(\"<Names>\" + t + \"</Names>\");\n\n\t/* Table */\n\tt = ws ? write_ws_xlml_table(ws, opts, idx, wb) : \"\";\n\tif(t.length > 0) o.push(\"<Table>\" + t + \"</Table>\");\n\n\t/* WorksheetOptions */\n\to.push(write_ws_xlml_wsopts(ws, opts, idx, wb));\n\n\tif(ws && ws[\"!autofilter\"]) o.push('<AutoFilter x:Range=\"' + a1_to_rc(fix_range(ws[\"!autofilter\"].ref), {r:0,c:0}) + '\" xmlns=\"urn:schemas-microsoft-com:office:excel\"></AutoFilter>');\n\n\treturn o.join(\"\");\n}\nfunction write_xlml(wb, opts)/*:string*/ {\n\tif(!opts) opts = {};\n\tif(!wb.SSF) wb.SSF = dup(table_fmt);\n\tif(wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t\topts.cellXfs = [];\n\t\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\t}\n\tvar d/*:Array<string>*/ = [];\n\td.push(write_props_xlml(wb, opts));\n\td.push(write_wb_xlml(wb, opts));\n\td.push(\"\");\n\td.push(write_names_xlml(wb, opts));\n\tfor(var i = 0; i < wb.SheetNames.length; ++i)\n\t\td.push(writextag(\"Worksheet\", write_ws_xlml(i, opts, wb), {\"ss:Name\":escapexml(wb.SheetNames[i])}));\n\td[2] = write_sty_xlml(wb, opts);\n\treturn XML_HEADER + writextag(\"Workbook\", d.join(\"\"), {\n\t\t'xmlns':      XLMLNS.ss,\n\t\t'xmlns:o':    XLMLNS.o,\n\t\t'xmlns:x':    XLMLNS.x,\n\t\t'xmlns:ss':   XLMLNS.ss,\n\t\t'xmlns:dt':   XLMLNS.dt,\n\t\t'xmlns:html': XLMLNS.html\n\t});\n}\n/* [MS-OLEDS] 2.3.8 CompObjStream */\nfunction parse_compobj(obj/*:CFBEntry*/) {\n\tvar v = {};\n\tvar o = obj.content;\n\t/*:: if(o == null) return; */\n\n\t/* [MS-OLEDS] 2.3.7 CompObjHeader -- All fields MUST be ignored */\n\to.l = 28;\n\n\tv.AnsiUserType = o.read_shift(0, \"lpstr-ansi\");\n\tv.AnsiClipboardFormat = parse_ClipboardFormatOrAnsiString(o);\n\n\tif(o.length - o.l <= 4) return v;\n\n\tvar m/*:number*/ = o.read_shift(4);\n\tif(m == 0 || m > 40) return v;\n\to.l-=4; v.Reserved1 = o.read_shift(0, \"lpstr-ansi\");\n\n\tif(o.length - o.l <= 4) return v;\n\tm = o.read_shift(4);\n\tif(m !== 0x71b239f4) return v;\n\tv.UnicodeClipboardFormat = parse_ClipboardFormatOrUnicodeString(o);\n\n\tm = o.read_shift(4);\n\tif(m == 0 || m > 40) return v;\n\to.l-=4; v.Reserved2 = o.read_shift(0, \"lpwstr\");\n}\n\n/*\n\tContinue logic for:\n\t- 2.4.58 Continue          0x003c\n\t- 2.4.59 ContinueBigName   0x043c\n\t- 2.4.60 ContinueFrt       0x0812\n\t- 2.4.61 ContinueFrt11     0x0875\n\t- 2.4.62 ContinueFrt12     0x087f\n*/\nvar CONTINUE_RT = [ 0x003c, 0x043c, 0x0812, 0x0875, 0x087f ];\nfunction slurp(RecordType, R, blob, length/*:number*/, opts)/*:any*/ {\n\tvar l = length;\n\tvar bufs = [];\n\tvar d = blob.slice(blob.l,blob.l+l);\n\tif(opts && opts.enc && opts.enc.insitu && d.length > 0) switch(RecordType) {\n\tcase 0x0009: case 0x0209: case 0x0409: case 0x0809/* BOF */: case 0x002F /* FilePass */: case 0x0195 /* FileLock */: case 0x00E1 /* InterfaceHdr */: case 0x0196 /* RRDInfo */: case 0x0138 /* RRDHead */: case 0x0194 /* UsrExcl */: case 0x000a /* EOF */:\n\t\tbreak;\n\tcase 0x0085 /* BoundSheet8 */:\n\t\tbreak;\n\tdefault:\n\t\topts.enc.insitu(d);\n\t}\n\tbufs.push(d);\n\tblob.l += l;\n\tvar nextrt = __readUInt16LE(blob,blob.l), next = XLSRecordEnum[nextrt];\n\tvar start = 0;\n\twhile(next != null && CONTINUE_RT.indexOf(nextrt) > -1) {\n\t\tl = __readUInt16LE(blob,blob.l+2);\n\t\tstart = blob.l + 4;\n\t\tif(nextrt == 0x0812 /* ContinueFrt */) start += 4;\n\t\telse if(nextrt == 0x0875 || nextrt == 0x087f) {\n\t\t\tstart += 12;\n\t\t}\n\t\td = blob.slice(start,blob.l+4+l);\n\t\tbufs.push(d);\n\t\tblob.l += 4+l;\n\t\tnext = (XLSRecordEnum[nextrt = __readUInt16LE(blob, blob.l)]);\n\t}\n\tvar b = (bconcat(bufs)/*:any*/);\n\tprep_blob(b, 0);\n\tvar ll = 0; b.lens = [];\n\tfor(var j = 0; j < bufs.length; ++j) { b.lens.push(ll); ll += bufs[j].length; }\n\tif(b.length < length) throw \"XLS Record 0x\" + RecordType.toString(16) + \" Truncated: \" + b.length + \" < \" + length;\n\treturn R.f(b, b.length, opts);\n}\n\nfunction safe_format_xf(p/*:any*/, opts/*:ParseOpts*/, date1904/*:?boolean*/) {\n\tif(p.t === 'z') return;\n\tif(!p.XF) return;\n\tvar fmtid = 0;\n\ttry {\n\t\tfmtid = p.z || p.XF.numFmtId || 0;\n\t\tif(opts.cellNF && p.z == null) p.z = table_fmt[fmtid];\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(!opts || opts.cellText !== false) try {\n\t\tif(p.t === 'e') { p.w = p.w || BErr[p.v]; }\n\t\telse if(fmtid === 0 || fmtid == \"General\") {\n\t\t\tif(p.t === 'n') {\n\t\t\t\tif((p.v|0) === p.v) p.w = p.v.toString(10);\n\t\t\t\telse p.w = SSF_general_num(p.v);\n\t\t\t}\n\t\t\telse p.w = SSF_general(p.v);\n\t\t}\n\t\telse p.w = SSF_format(fmtid,p.v, {date1904:!!date1904, dateNF: opts && opts.dateNF});\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(opts.cellDates && fmtid && p.t == 'n' && fmt_is_date(table_fmt[fmtid] || String(fmtid))) {\n\t\tvar _d = SSF_parse_date_code(p.v + (date1904 ? 1462 : 0)); if(_d) { p.t = 'd'; p.v = new Date(Date.UTC(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u)); }\n\t}\n}\n\nfunction make_cell(val, ixfe, t)/*:Cell*/ {\n\treturn ({v:val, ixfe:ixfe, t:t}/*:any*/);\n}\n\n// 2.3.2\nfunction parse_workbook(blob, options/*:ParseOpts*/)/*:Workbook*/ {\n\tvar wb = ({opts:{}}/*:any*/);\n\tvar Sheets = {};\n\tif(DENSE != null && options.dense == null) options.dense = DENSE;\n\tvar out/*:Worksheet*/ = ({}/*:any*/); if(options.dense) out[\"!data\"] = [];\n\tvar Directory = {};\n\tvar range/*:Range*/ = ({}/*:any*/);\n\tvar last_formula = null;\n\tvar sst/*:SST*/ = ([]/*:any*/);\n\tvar cur_sheet = \"\";\n\tvar Preamble = {};\n\tvar lastcell, last_cell = \"\", cc/*:Cell*/, cmnt, rngC, rngR;\n\tvar sharedf = {};\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar temp_val/*:Cell*/;\n\tvar country;\n\tvar XFs = []; /* XF records */\n\tvar palette/*:Array<[number, number, number]>*/ = [];\n\tvar Workbook/*:WBWBProps*/ = ({ Sheets:[], WBProps:{date1904:false}, Views:[{}] }/*:any*/), wsprops = {};\n\tvar biff4w = false;\n\tvar get_rgb = function getrgb(icv/*:number*/)/*:[number, number, number]*/ {\n\t\tif(icv < 8) return XLSIcv[icv];\n\t\tif(icv < 64) return palette[icv-8] || XLSIcv[icv];\n\t\treturn XLSIcv[icv];\n\t};\n\tvar process_cell_style = function pcs(line/*:any*/, options) {\n\t\tvar xfd = line.XF.data;\n\t\tif(!xfd || !xfd.patternType || !options || !options.cellStyles) return;\n\t\tline.s = ({}/*:any*/);\n\t\tline.s.patternType = xfd.patternType;\n\t\tvar t;\n\t\tif((t = rgb2Hex(get_rgb(xfd.icvFore)))) { line.s.fgColor = {rgb:t}; }\n\t\tif((t = rgb2Hex(get_rgb(xfd.icvBack)))) { line.s.bgColor = {rgb:t}; }\n\t};\n\tvar addcell = function addcell(cell/*:any*/, line/*:any*/, options/*:any*/) {\n\t\tif(!biff4w && file_depth > 1) return;\n\t\tif(options.sheetRows && cell.r >= options.sheetRows) return;\n\t\tif(options.cellStyles && line.XF && line.XF.data) process_cell_style(line, options);\n\t\tdelete line.ixfe; delete line.XF;\n\t\tlastcell = cell;\n\t\tlast_cell = encode_cell(cell);\n\t\tif(!range || !range.s || !range.e) range = {s:{r:0,c:0},e:{r:0,c:0}};\n\t\tif(cell.r < range.s.r) range.s.r = cell.r;\n\t\tif(cell.c < range.s.c) range.s.c = cell.c;\n\t\tif(cell.r + 1 > range.e.r) range.e.r = cell.r + 1;\n\t\tif(cell.c + 1 > range.e.c) range.e.c = cell.c + 1;\n\t\tif(options.cellFormula && line.f) {\n\t\t\tfor(var afi = 0; afi < arrayf.length; ++afi) {\n\t\t\t\tif(arrayf[afi][0].s.c > cell.c || arrayf[afi][0].s.r > cell.r) continue;\n\t\t\t\tif(arrayf[afi][0].e.c < cell.c || arrayf[afi][0].e.r < cell.r) continue;\n\t\t\t\tline.F = encode_range(arrayf[afi][0]);\n\t\t\t\tif(arrayf[afi][0].s.c != cell.c || arrayf[afi][0].s.r != cell.r) delete line.f;\n\t\t\t\tif(line.f) line.f = \"\" + stringify_formula(arrayf[afi][1], range, cell, supbooks, opts);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t{\n\t\t\tif(options.dense) {\n\t\t\t\tif(!out[\"!data\"][cell.r]) out[\"!data\"][cell.r] = [];\n\t\t\t\tout[\"!data\"][cell.r][cell.c] = line;\n\t\t\t} else out[last_cell] = line;\n\t\t}\n\t};\n\tvar opts = ({\n\t\tenc: false, // encrypted\n\t\tsbcch: 0, // cch in the preceding SupBook\n\t\tsnames: [], // sheetnames\n\t\tsharedf: sharedf, // shared formulae by address\n\t\tarrayf: arrayf, // array formulae array\n\t\trrtabid: [], // RRTabId\n\t\tlastuser: \"\", // Last User from WriteAccess\n\t\tbiff: 8, // BIFF version\n\t\tcodepage: 0, // CP from CodePage record\n\t\twinlocked: 0, // fLockWn from WinProtect\n\t\tcellStyles: !!options && !!options.cellStyles,\n\t\tWTF: !!options && !!options.wtf\n\t}/*:any*/);\n\tif(options.password) opts.password = options.password;\n\tvar themes;\n\tvar merges/*:Array<Range>*/ = [];\n\tvar objects = [];\n\tvar colinfo/*:Array<ColInfo>*/ = [], rowinfo/*:Array<RowInfo>*/ = [];\n\tvar seencol = false;\n\tvar supbooks = ([]/*:any*/); // 1-indexed, will hold extern names\n\tsupbooks.SheetNames = opts.snames;\n\tsupbooks.sharedf = opts.sharedf;\n\tsupbooks.arrayf = opts.arrayf;\n\tsupbooks.names = [];\n\tsupbooks.XTI = [];\n\tvar last_RT = 0;\n\tvar file_depth = 0; /* TODO: make a real stack */\n\tvar BIFF2Fmt = 0, BIFF2FmtTable/*:Array<string>*/ = [];\n\tvar FilterDatabases = []; /* TODO: sort out supbooks and process elsewhere */\n\tvar last_lbl/*:?DefinedName*/;\n\n\t/* explicit override for some broken writers */\n\topts.codepage = 1200;\n\tset_cp(1200);\n\tvar seen_codepage = false;\n\twhile(blob.l < blob.length - 1) {\n\t\tvar s = blob.l;\n\t\tvar RecordType = blob.read_shift(2);\n\t\tif(RecordType === 0 && last_RT === 0x000a /* EOF */) break;\n\t\tvar length = (blob.l === blob.length ? 0 : blob.read_shift(2));\n\t\tvar R = XLSRecordEnum[RecordType];\n\t\tif(file_depth == 0 && [0x0009, 0x0209, 0x0409, 0x0809].indexOf(RecordType) == -1 /* BOF */) break;\n\t\t//console.log(RecordType.toString(16), RecordType, R, blob.l, length, blob.length);\n\t\t//if(!R) console.log(blob.slice(blob.l, blob.l + length));\n\t\tif(R && R.f) {\n\t\t\tif(options.bookSheets) {\n\t\t\t\tif(last_RT === 0x0085 /* BoundSheet8 */ && RecordType !== 0x0085 /* R.n !== 'BoundSheet8' */) break;\n\t\t\t}\n\t\t\tlast_RT = RecordType;\n\t\t\tif(R.r === 2 || R.r == 12) {\n\t\t\t\tvar rt = blob.read_shift(2); length -= 2;\n\t\t\t\tif(!opts.enc && rt !== RecordType && (((rt&0xFF)<<8)|(rt>>8)) !== RecordType) throw new Error(\"rt mismatch: \" + rt + \"!=\" + RecordType);\n\t\t\t\tif(R.r == 12){\n\t\t\t\t\tblob.l += 10; length -= 10;\n\t\t\t\t} // skip FRT\n\t\t\t}\n\t\t\t//console.error(R,blob.l,length,blob.length);\n\t\t\tvar val/*:any*/ = ({}/*:any*/);\n\t\t\tif(RecordType === 0x000a /* EOF */) val = /*::(*/R.f(blob, length, opts)/*:: :any)*/;\n\t\t\telse val = /*::(*/slurp(RecordType, R, blob, length, opts)/*:: :any)*/;\n\t\t\t/*:: val = (val:any); */\n\t\t\tif(file_depth == 0 && [0x0009, 0x0209, 0x0409, 0x0809].indexOf(last_RT) === -1 /* BOF */) continue;\n\t\t\tswitch(RecordType) {\n\t\t\t\tcase 0x0022 /* Date1904 */:\n\t\t\t\t\t/*:: if(!Workbook.WBProps) Workbook.WBProps = {}; */\n\t\t\t\t\twb.opts.Date1904 = Workbook.WBProps.date1904 = val; break;\n\t\t\t\tcase 0x0086 /* WriteProtect */: wb.opts.WriteProtect = true; break;\n\t\t\t\tcase 0x002f /* FilePass */:\n\t\t\t\t\tif(!opts.enc) blob.l = 0;\n\t\t\t\t\topts.enc = val;\n\t\t\t\t\tif(!options.password) throw new Error(\"File is password-protected\");\n\t\t\t\t\tif(val.valid == null) throw new Error(\"Encryption scheme unsupported\");\n\t\t\t\t\tif(!val.valid) throw new Error(\"Password is incorrect\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x005c /* WriteAccess */: opts.lastuser = val; break;\n\t\t\t\tcase 0x0042 /* CodePage */:\n\t\t\t\t\tvar cpval = Number(val);\n\t\t\t\t\t/* overrides based on test cases */\n\t\t\t\t\tswitch(cpval) {\n\t\t\t\t\t\tcase 0x5212: cpval =  1200; break;\n\t\t\t\t\t\tcase 0x8000: cpval = 10000; break;\n\t\t\t\t\t\tcase 0x8001: cpval =  1252; break;\n\t\t\t\t\t}\n\t\t\t\t\tset_cp(opts.codepage = cpval);\n\t\t\t\t\tseen_codepage = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x013d /* RRTabId */: opts.rrtabid = val; break;\n\t\t\t\tcase 0x0019 /* WinProtect */: opts.winlocked = val; break;\n\t\t\t\tcase 0x01b7 /* RefreshAll */: wb.opts[\"RefreshAll\"] = val; break;\n\t\t\t\tcase 0x000c /* CalcCount */: wb.opts[\"CalcCount\"] = val; break;\n\t\t\t\tcase 0x0010 /* CalcDelta */: wb.opts[\"CalcDelta\"] = val; break;\n\t\t\t\tcase 0x0011 /* CalcIter */: wb.opts[\"CalcIter\"] = val; break;\n\t\t\t\tcase 0x000d /* CalcMode */: wb.opts[\"CalcMode\"] = val; break;\n\t\t\t\tcase 0x000e /* CalcPrecision */: wb.opts[\"CalcPrecision\"] = val; break;\n\t\t\t\tcase 0x005f /* CalcSaveRecalc */: wb.opts[\"CalcSaveRecalc\"] = val; break;\n\t\t\t\tcase 0x000f /* CalcRefMode */: opts.CalcRefMode = val; break; // TODO: implement R1C1\n\t\t\t\tcase 0x08a3 /* ForceFullCalculation */: wb.opts.FullCalc = val; break;\n\t\t\t\tcase 0x0081 /* WsBool */:\n\t\t\t\t\tif(val.fDialog) out[\"!type\"] = \"dialog\";\n\t\t\t\t\tif(!val.fBelow) (out[\"!outline\"] || (out[\"!outline\"] = {})).above = true;\n\t\t\t\t\tif(!val.fRight) (out[\"!outline\"] || (out[\"!outline\"] = {})).left = true;\n\t\t\t\t\tbreak; // TODO\n\t\t\t\tcase 0x0043: /* BIFF2XF */ case 0x0243: /* BIFF3XF */ case 0x0443: /* BIFF4XF */\n\t\t\t\tcase 0x00e0 /* XF */:\n\t\t\t\t\tXFs.push(val); break;\n\t\t\t\tcase 0x01ae /* SupBook */:\n\t\t\t\t\tsupbooks.push([val]);\n\t\t\t\t\tsupbooks[supbooks.length-1].XTI = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0023: case 0x0223 /* ExternName */:\n\t\t\t\t\tsupbooks[supbooks.length-1].push(val);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0018: case 0x0218 /* Lbl */:\n\t\t\t\t\tlast_lbl = ({\n\t\t\t\t\t\tName: val.Name,\n\t\t\t\t\t\tRef: stringify_formula(val.rgce,range,null,supbooks,opts)\n\t\t\t\t\t}/*:DefinedName*/);\n\t\t\t\t\tif(val.itab > 0) last_lbl.Sheet = val.itab - 1;\n\t\t\t\t\tsupbooks.names.push(last_lbl);\n\t\t\t\t\tif(!supbooks[0]) { supbooks[0] = []; supbooks[0].XTI = []; }\n\t\t\t\t\tsupbooks[supbooks.length-1].push(val);\n\t\t\t\t\tif(val.Name == \"_xlnm._FilterDatabase\" && val.itab > 0)\n\t\t\t\t\t\tif(val.rgce && val.rgce[0] && val.rgce[0][0] && val.rgce[0][0][0] == 'PtgArea3d')\n\t\t\t\t\t\t\tFilterDatabases[val.itab - 1] = { ref: encode_range(val.rgce[0][0][1][2]) };\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0016 /* ExternCount */: opts.ExternCount = val; break;\n\t\t\t\tcase 0x0017 /* ExternSheet */:\n\t\t\t\t\tif(supbooks.length == 0) { supbooks[0] = []; supbooks[0].XTI = []; }\n\t\t\t\t\tsupbooks[supbooks.length - 1].XTI = supbooks[supbooks.length - 1].XTI.concat(val); supbooks.XTI = supbooks.XTI.concat(val); break;\n\t\t\t\tcase 0x0894 /* NameCmt */:\n\t\t\t\t\t/* TODO: search for correct name */\n\t\t\t\t\tif(opts.biff < 8) break;\n\t\t\t\t\tif(last_lbl != null) last_lbl.Comment = val[1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0012 /* Protect */: out[\"!protect\"] = val; break; /* for sheet or book */\n\t\t\t\tcase 0x0013 /* Password */: if(val !== 0 && opts.WTF) console.error(\"Password verifier: \" + val); break;\n\t\t\t\tcase 0x0085 /* BoundSheet8 */: {\n\t\t\t\t\tDirectory[opts.biff == 4 ? opts.snames.length : val.pos] = val;\n\t\t\t\t\topts.snames.push(val.name);\n\t\t\t\t} break;\n\t\t\t\tcase 0x000a /* EOF */: {\n\t\t\t\t\tif(--file_depth ? !biff4w : biff4w) break;\n\t\t\t\t\tif(range.e) {\n\t\t\t\t\t\tif(range.e.r > 0 && range.e.c > 0) {\n\t\t\t\t\t\t\trange.e.r--; range.e.c--;\n\t\t\t\t\t\t\tout[\"!ref\"] = encode_range(range);\n\t\t\t\t\t\t\tif(options.sheetRows && options.sheetRows <= range.e.r) {\n\t\t\t\t\t\t\t\tvar tmpri = range.e.r;\n\t\t\t\t\t\t\t\trange.e.r = options.sheetRows - 1;\n\t\t\t\t\t\t\t\tout[\"!fullref\"] = out[\"!ref\"];\n\t\t\t\t\t\t\t\tout[\"!ref\"] = encode_range(range);\n\t\t\t\t\t\t\t\trange.e.r = tmpri;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trange.e.r++; range.e.c++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(merges.length > 0) out[\"!merges\"] = merges;\n\t\t\t\t\t\tif(objects.length > 0) out[\"!objects\"] = objects;\n\t\t\t\t\t\tif(colinfo.length > 0) out[\"!cols\"] = colinfo;\n\t\t\t\t\t\tif(rowinfo.length > 0) out[\"!rows\"] = rowinfo;\n\t\t\t\t\t\tWorkbook.Sheets.push(wsprops);\n\t\t\t\t\t}\n\t\t\t\t\tif(cur_sheet === \"\") Preamble = out; else Sheets[cur_sheet] = out;\n\t\t\t\t\tout = ({}/*:any*/); if(options.dense) out[\"!data\"] = [];\n\t\t\t\t} break;\n\t\t\t\tcase 0x0009: case 0x0209: case 0x0409: case 0x0809 /* BOF */: {\n\t\t\t\t\tif(opts.biff === 8) opts.biff = {\n\t\t\t\t\t\t0x0009: 2,\n\t\t\t\t\t\t0x0209: 3,\n\t\t\t\t\t\t0x0409: 4\n\t\t\t\t\t}[RecordType] || {\n\t\t\t\t\t\t0x0200: 2,\n\t\t\t\t\t\t0x0300: 3,\n\t\t\t\t\t\t0x0400: 4,\n\t\t\t\t\t\t0x0500: 5,\n\t\t\t\t\t\t0x0600: 8,\n\t\t\t\t\t\t0x0002: 2,\n\t\t\t\t\t\t0x0007: 2\n\t\t\t\t\t}[val.BIFFVer] || 8;\n\t\t\t\t\topts.biffguess = val.BIFFVer == 0;\n\t\t\t\t\tif(val.BIFFVer == 0 && val.dt == 0x1000) { opts.biff = 5; seen_codepage = true; set_cp(opts.codepage = 28591); }\n\t\t\t\t\tif(opts.biff == 4 && val.dt & 0x100) biff4w = true;\n\t\t\t\t\tif(opts.biff == 8 && val.BIFFVer == 0 && val.dt == 16) opts.biff = 2;\n\t\t\t\t\tif(file_depth++ && !biff4w) break;\n\t\t\t\t\tout = ({}/*:any*/); if(options.dense) out[\"!data\"] = [];\n\n\t\t\t\t\tif(opts.biff < 8 && !seen_codepage) { seen_codepage = true; set_cp(opts.codepage = options.codepage || 1252); }\n\t\t\t\t\tif(opts.biff == 4 && biff4w) {\n\t\t\t\t\t\tcur_sheet = (Directory[opts.snames.indexOf(cur_sheet)+1] || {name:\"\"}).name;\n\t\t\t\t\t} else if(opts.biff < 5 || val.BIFFVer == 0 && val.dt == 0x1000) {\n\t\t\t\t\t\tif(cur_sheet === \"\") cur_sheet = \"Sheet1\";\n\t\t\t\t\t\trange = {s:{r:0,c:0},e:{r:0,c:0}};\n\t\t\t\t\t\t/* fake BoundSheet8 */\n\t\t\t\t\t\tvar fakebs8 = {pos: blob.l - length, name:cur_sheet};\n\t\t\t\t\t\tDirectory[fakebs8.pos] = fakebs8;\n\t\t\t\t\t\topts.snames.push(cur_sheet);\n\t\t\t\t\t}\n\t\t\t\t\telse cur_sheet = (Directory[s] || {name:\"\"}).name;\n\t\t\t\t\tif(val.dt == 0x20) out[\"!type\"] = \"chart\";\n\t\t\t\t\tif(val.dt == 0x40) out[\"!type\"] = \"macro\";\n\t\t\t\t\tmerges = [];\n\t\t\t\t\tobjects = [];\n\t\t\t\t\topts.arrayf = arrayf = [];\n\t\t\t\t\tcolinfo = []; rowinfo = [];\n\t\t\t\t\tseencol = false;\n\t\t\t\t\twsprops = {Hidden:(Directory[s]||{hs:0}).hs, name:cur_sheet };\n\t\t\t\t} break;\n\t\t\t\tcase 0x0203 /* Number */: case 0x0003 /* BIFF2NUM */: case 0x0002 /* BIFF2INT */: {\n\t\t\t\t\tif(out[\"!type\"] == \"chart\") if(options.dense ? (out[\"!data\"][val.r]||[])[val.c]: out[encode_col(val.c) + encode_row(val.r)]) ++val.c;\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe]||{}, v:val.val, t:'n'}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x0005: case 0x0205 /* BoolErr */: {\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], v:val.val, t:val.t}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x027e /* RK */: {\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], v:val.rknum, t:'n'}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x00bd /* MulRk */: {\n\t\t\t\t\tfor(var j = val.c; j <= val.C; ++j) {\n\t\t\t\t\t\tvar ixfe = val.rkrec[j-val.c][0];\n\t\t\t\t\t\ttemp_val= ({ixfe:ixfe, XF:XFs[ixfe], v:val.rkrec[j-val.c][1], t:'n'}/*:any*/);\n\t\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\t\taddcell({c:j, r:val.r}, temp_val, options);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0006: case 0x0206: case 0x0406 /* Formula */: {\n\t\t\t\t\tif(val.val == 'String') { last_formula = val; break; }\n\t\t\t\t\ttemp_val = make_cell(val.val, val.cell.ixfe, val.tt);\n\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\tif(options.cellFormula) {\n\t\t\t\t\t\tvar _f = val.formula;\n\t\t\t\t\t\tif(_f && _f[0] && _f[0][0] && _f[0][0][0] == 'PtgExp') {\n\t\t\t\t\t\t\tvar _fr = _f[0][0][1][0], _fc = _f[0][0][1][1];\n\t\t\t\t\t\t\tvar _fe = encode_cell({r:_fr, c:_fc});\n\t\t\t\t\t\t\tif(sharedf[_fe]) temp_val.f = \"\"+stringify_formula(val.formula,range,val.cell,supbooks, opts);\n\t\t\t\t\t\t\telse temp_val.F = ((options.dense ? (out[\"!data\"][_fr]||[])[_fc]: out[_fe]) || {}).F;\n\t\t\t\t\t\t} else temp_val.f = \"\"+stringify_formula(val.formula,range,val.cell,supbooks, opts);\n\t\t\t\t\t}\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell(val.cell, temp_val, options);\n\t\t\t\t\tlast_formula = val;\n\t\t\t\t} break;\n\t\t\t\tcase 0x0007: case 0x0207 /* String */: {\n\t\t\t\t\tif(last_formula) { /* technically always true */\n\t\t\t\t\t\tlast_formula.val = val;\n\t\t\t\t\t\ttemp_val = make_cell(val, last_formula.cell.ixfe, 's');\n\t\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\t\tif(options.cellFormula) {\n\t\t\t\t\t\t\ttemp_val.f = \"\"+stringify_formula(last_formula.formula, range, last_formula.cell, supbooks, opts);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\t\taddcell(last_formula.cell, temp_val, options);\n\t\t\t\t\t\tlast_formula = null;\n\t\t\t\t\t} else throw new Error(\"String record expects Formula\");\n\t\t\t\t} break;\n\t\t\t\tcase 0x0021: case 0x0221 /* Array */: {\n\t\t\t\t\tarrayf.push(val);\n\t\t\t\t\tvar _arraystart = encode_cell(val[0].s);\n\t\t\t\t\tcc = options.dense ? (out[\"!data\"][val[0].s.r]||[])[val[0].s.c] : out[_arraystart];\n\t\t\t\t\tif(options.cellFormula && cc) {\n\t\t\t\t\t\tif(!last_formula) break; /* technically unreachable */\n\t\t\t\t\t\tif(!_arraystart || !cc) break;\n\t\t\t\t\t\tcc.f = \"\"+stringify_formula(val[1], range, val[0], supbooks, opts);\n\t\t\t\t\t\tcc.F = encode_range(val[0]);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x04bc /* ShrFmla */: {\n\t\t\t\t\tif(!options.cellFormula) break;\n\t\t\t\t\tif(last_cell) {\n\t\t\t\t\t\t/* TODO: capture range */\n\t\t\t\t\t\tif(!last_formula) break; /* technically unreachable */\n\t\t\t\t\t\tsharedf[encode_cell(last_formula.cell)]= val[0];\n\t\t\t\t\t\tcc = options.dense ? (out[\"!data\"][last_formula.cell.r]||[])[last_formula.cell.c] : out[encode_cell(last_formula.cell)];\n\t\t\t\t\t\t(cc||{}).f = \"\"+stringify_formula(val[0], range, lastcell, supbooks, opts);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x00fd /* LabelSst */:\n\t\t\t\t\ttemp_val=make_cell(sst[val.isst].t, val.ixfe, 's');\n\t\t\t\t\tif(sst[val.isst].h) temp_val.h = sst[val.isst].h;\n\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0201 /* Blank */: if(options.sheetStubs) {\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], t:'z'}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x00be /* MulBlank */: if(options.sheetStubs) {\n\t\t\t\t\tfor(var _j = val.c; _j <= val.C; ++_j) {\n\t\t\t\t\t\tvar _ixfe = val.ixfe[_j-val.c];\n\t\t\t\t\t\ttemp_val= ({ixfe:_ixfe, XF:XFs[_ixfe], t:'z'}/*:any*/);\n\t\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\t\taddcell({c:_j, r:val.r}, temp_val, options);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x00d6 /* RString */:\n\t\t\t\tcase 0x0204 /* Label */: case 0x0004 /* BIFF2STR */:\n\t\t\t\t\ttemp_val=make_cell(val.val, val.ixfe, 's');\n\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = (temp_val.XF && temp_val.XF.numFmtId) && BIFF2FmtTable[temp_val.XF.numFmtId] || BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 0x0000: case 0x0200 /* Dimensions */: {\n\t\t\t\t\tif(file_depth === 1) range = val; /* TODO: stack */\n\t\t\t\t} break;\n\t\t\t\tcase 0x00fc /* SST */: {\n\t\t\t\t\tsst = val;\n\t\t\t\t} break;\n\t\t\t\tcase 0x041e /* Format */: { /* val = [id, fmt] */\n\t\t\t\t\tif(opts.biff >= 3 && opts.biff <= 4) {\n\t\t\t\t\t\tBIFF2FmtTable[BIFF2Fmt++] = val[1];\n\t\t\t\t\t\tfor(var b4idx = 0; b4idx < BIFF2Fmt + 163; ++b4idx) if(table_fmt[b4idx] == val[1]) break;\n\t\t\t\t\t\tif(b4idx >= 163) SSF__load(val[1], BIFF2Fmt + 163);\n\t\t\t\t\t}\n\t\t\t\t\telse SSF__load(val[1], val[0]);\n\t\t\t\t} break;\n\t\t\t\tcase 0x001e /* BIFF2FORMAT */: {\n\t\t\t\t\tBIFF2FmtTable[BIFF2Fmt++] = val;\n\t\t\t\t\tfor(var b2idx = 0; b2idx < BIFF2Fmt + 163; ++b2idx) if(table_fmt[b2idx] == val) break;\n\t\t\t\t\tif(b2idx >= 163) SSF__load(val, BIFF2Fmt + 163);\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x00e5 /* MergeCells */: merges = merges.concat(val); break;\n\n\t\t\t\tcase 0x005d /* Obj */: objects[val.cmo[0]] = opts.lastobj = val; break;\n\t\t\t\tcase 0x01b6 /* TxO */: opts.lastobj.TxO = val; break;\n\t\t\t\tcase 0x007f /* ImData */: opts.lastobj.ImData = val; break;\n\n\t\t\t\tcase 0x01b8 /* HLink */: {\n\t\t\t\t\tfor(rngR = val[0].s.r; rngR <= val[0].e.r; ++rngR)\n\t\t\t\t\t\tfor(rngC = val[0].s.c; rngC <= val[0].e.c; ++rngC) {\n\t\t\t\t\t\t\tcc = options.dense ? (out[\"!data\"][rngR]||[])[rngC] : out[encode_cell({c:rngC,r:rngR})];\n\t\t\t\t\t\t\tif(cc) cc.l = val[1];\n\t\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0800 /* HLinkTooltip */: {\n\t\t\t\t\tfor(rngR = val[0].s.r; rngR <= val[0].e.r; ++rngR)\n\t\t\t\t\t\tfor(rngC = val[0].s.c; rngC <= val[0].e.c; ++rngC) {\n\t\t\t\t\t\t\tcc = options.dense ? (out[\"!data\"][rngR]||[])[rngC] : out[encode_cell({c:rngC,r:rngR})];\n\t\t\t\t\t\t\tif(cc && cc.l) cc.l.Tooltip = val[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x001c /* Note */: {\n\t\t\t\t\t/* TODO: comment continuation (row == -1 / 0xFFFF) */\n\t\t\t\t\tcc = options.dense ? (out[\"!data\"][val[0].r]||[])[val[0].c] : out[encode_cell(val[0])];\n\t\t\t\t\tif(!cc) {\n\t\t\t\t\t\tif(options.dense) {\n\t\t\t\t\t\t\tif(!out[\"!data\"][val[0].r]) out[\"!data\"][val[0].r] = [];\n\t\t\t\t\t\t\tcc = out[\"!data\"][val[0].r][val[0].c] = ({t:\"z\"}/*:any*/);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcc = out[encode_cell(val[0])] = ({t:\"z\"}/*:any*/);\n\t\t\t\t\t\t}\n\t\t\t\t\t\trange.e.r = Math.max(range.e.r, val[0].r);\n\t\t\t\t\t\trange.s.r = Math.min(range.s.r, val[0].r);\n\t\t\t\t\t\trange.e.c = Math.max(range.e.c, val[0].c);\n\t\t\t\t\t\trange.s.c = Math.min(range.s.c, val[0].c);\n\t\t\t\t\t}\n\t\t\t\t\tif(!cc.c) cc.c = [];\n\t\t\t\t\tif(opts.biff <= 5 && opts.biff >= 2) cmnt = {a:\"SheetJ5\", t:val[1]};\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar noteobj = objects[val[2]];\n\t\t\t\t\t\tcmnt = {a:val[1],t:noteobj.TxO.t};\n\t\t\t\t\t\tif(val[3] != null && !(val[3] & 0x02)) cc.c.hidden = true;\n\t\t\t\t\t}\n\t\t\t\t\tcc.c.push(cmnt);\n\t\t\t\t} break;\n\t\t\t\tcase 0x087d /* XFExt */: update_xfext(XFs[val.ixfe], val.ext); break;\n\t\t\t\tcase 0x007d /* ColInfo */: {\n\t\t\t\t\tif(!opts.cellStyles) break;\n\t\t\t\t\twhile(val.e >= val.s) {\n\t\t\t\t\t\tcolinfo[val.e--] = { width: val.w/256, level: (val.level || 0), hidden: !!(val.flags & 1) };\n\t\t\t\t\t\tif(!seencol) { seencol = true; find_mdw_colw(val.w/256); }\n\t\t\t\t\t\tprocess_col(colinfo[val.e+1]);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0208 /* Row */: {\n\t\t\t\t\tvar rowobj = {};\n\t\t\t\t\tif(val.level != null) { rowinfo[val.r] = rowobj; rowobj.level = val.level; }\n\t\t\t\t\tif(val.hidden) { rowinfo[val.r] = rowobj; rowobj.hidden = true; }\n\t\t\t\t\tif(val.hpt) {\n\t\t\t\t\t\trowinfo[val.r] = rowobj;\n\t\t\t\t\t\trowobj.hpt = val.hpt; rowobj.hpx = pt2px(val.hpt);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0026 /* LeftMargin */:\n\t\t\t\tcase 0x0027 /* RightMargin */:\n\t\t\t\tcase 0x0028 /* TopMargin */:\n\t\t\t\tcase 0x0029 /* BottomMargin */:\n\t\t\t\t\tif(!out['!margins']) default_margins(out['!margins'] = {});\n\t\t\t\t\tout['!margins'][({0x26: \"left\", 0x27:\"right\", 0x28:\"top\", 0x29:\"bottom\"})[RecordType]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x00a1 /* Setup */: // TODO\n\t\t\t\t\tif(!out['!margins']) default_margins(out['!margins'] = {});\n\t\t\t\t\tout['!margins'].header = val.header;\n\t\t\t\t\tout['!margins'].footer = val.footer;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x023e /* Window2 */: // TODO\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tif(val.RTL) Workbook.Views[0].RTL = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0092 /* Palette */: palette = val; break;\n\t\t\t\tcase 0x0896 /* Theme */: themes = val; break;\n\t\t\t\tcase 0x008c /* Country */: country = val; break;\n\t\t\t\tcase 0x01ba /* CodeName */: {\n\t\t\t\t\t/*:: if(!Workbook.WBProps) Workbook.WBProps = {}; */\n\t\t\t\t\tif(!cur_sheet) Workbook.WBProps.CodeName = val || \"ThisWorkbook\";\n\t\t\t\t\telse wsprops.CodeName = val || wsprops.name;\n\t\t\t\t} break;\n\t\t\t}\n\t\t} else {\n\t\t\tif(!R) console.error(\"Missing Info for XLS Record 0x\" + RecordType.toString(16));\n\t\t\tblob.l += length;\n\t\t}\n\t}\n\twb.SheetNames=keys(Directory).sort(function(a,b) { return Number(a) - Number(b); }).map(function(x){return Directory[x].name;});\n\tif(!options.bookSheets) wb.Sheets=Sheets;\n\tif(!wb.SheetNames.length && Preamble[\"!ref\"]) {\n\t\twb.SheetNames.push(\"Sheet1\");\n\t\t/*jshint -W069 */\n\t\tif(wb.Sheets) wb.Sheets[\"Sheet1\"] = Preamble;\n\t\t/*jshint +W069 */\n\t} else wb.Preamble=Preamble;\n\tif(wb.Sheets) FilterDatabases.forEach(function(r,i) { wb.Sheets[wb.SheetNames[i]]['!autofilter'] = r; });\n\twb.Strings = sst;\n\twb.SSF = dup(table_fmt);\n\tif(opts.enc) wb.Encryption = opts.enc;\n\tif(themes) wb.Themes = themes;\n\twb.Metadata = {};\n\tif(country !== undefined) wb.Metadata.Country = country;\n\tif(supbooks.names.length > 0) Workbook.Names = supbooks.names;\n\twb.Workbook = Workbook;\n\treturn wb;\n}\n\n/* TODO: split props*/\nvar PSCLSID = {\n\tSI: \"e0859ff2f94f6810ab9108002b27b3d9\",\n\tDSI: \"02d5cdd59c2e1b10939708002b2cf9ae\",\n\tUDI: \"05d5cdd59c2e1b10939708002b2cf9ae\"\n};\nfunction parse_xls_props(cfb/*:CFBContainer*/, props, o) {\n\t/* [MS-OSHARED] 2.3.3.2.2 Document Summary Information Property Set */\n\tvar DSI = CFB.find(cfb, '/!DocumentSummaryInformation');\n\tif(DSI && DSI.size > 0) try {\n\t\tvar DocSummary = parse_PropertySetStream(DSI, DocSummaryPIDDSI, PSCLSID.DSI);\n\t\tfor(var d in DocSummary) props[d] = DocSummary[d];\n\t} catch(e) {if(o.WTF) throw e;/* empty */}\n\n\t/* [MS-OSHARED] 2.3.3.2.1 Summary Information Property Set*/\n\tvar SI = CFB.find(cfb, '/!SummaryInformation');\n\tif(SI && SI.size > 0) try {\n\t\tvar Summary = parse_PropertySetStream(SI, SummaryPIDSI, PSCLSID.SI);\n\t\tfor(var s in Summary) if(props[s] == null) props[s] = Summary[s];\n\t} catch(e) {if(o.WTF) throw e;/* empty */}\n\n\tif(props.HeadingPairs && props.TitlesOfParts) {\n\t\tload_props_pairs(props.HeadingPairs, props.TitlesOfParts, props, o);\n\t\tdelete props.HeadingPairs; delete props.TitlesOfParts;\n\t}\n}\nfunction write_xls_props(wb/*:Workbook*/, cfb/*:CFBContainer*/) {\n\tvar DSEntries = [], SEntries = [], CEntries = [];\n\tvar i = 0, Keys;\n\tvar DocSummaryRE/*:{[key:string]:string}*/ = evert_key(DocSummaryPIDDSI, \"n\");\n\tvar SummaryRE/*:{[key:string]:string}*/ = evert_key(SummaryPIDSI, \"n\");\n\tif(wb.Props) {\n\t\tKeys = keys(wb.Props);\n\t\t// $FlowIgnore\n\t\tfor(i = 0; i < Keys.length; ++i) (Object.prototype.hasOwnProperty.call(DocSummaryRE, Keys[i]) ? DSEntries : Object.prototype.hasOwnProperty.call(SummaryRE, Keys[i]) ? SEntries : CEntries).push([Keys[i], wb.Props[Keys[i]]]);\n\t}\n\tif(wb.Custprops) {\n\t\tKeys = keys(wb.Custprops);\n\t\t// $FlowIgnore\n\t\tfor(i = 0; i < Keys.length; ++i) if(!Object.prototype.hasOwnProperty.call((wb.Props||{}), Keys[i])) (Object.prototype.hasOwnProperty.call(DocSummaryRE, Keys[i]) ? DSEntries : Object.prototype.hasOwnProperty.call(SummaryRE, Keys[i]) ? SEntries : CEntries).push([Keys[i], wb.Custprops[Keys[i]]]);\n\t}\n\tvar CEntries2 = [];\n\tfor(i = 0; i < CEntries.length; ++i) {\n\t\tif(XLSPSSkip.indexOf(CEntries[i][0]) > -1 || PseudoPropsPairs.indexOf(CEntries[i][0]) > -1) continue;\n\t\tif(CEntries[i][1] == null) continue;\n\t\tCEntries2.push(CEntries[i]);\n\t}\n\tif(SEntries.length) CFB.utils.cfb_add(cfb, \"/\\u0005SummaryInformation\", write_PropertySetStream(SEntries, PSCLSID.SI, SummaryRE, SummaryPIDSI));\n\tif(DSEntries.length || CEntries2.length) CFB.utils.cfb_add(cfb, \"/\\u0005DocumentSummaryInformation\", write_PropertySetStream(DSEntries, PSCLSID.DSI, DocSummaryRE, DocSummaryPIDDSI, CEntries2.length ? CEntries2 : null, PSCLSID.UDI));\n}\n\nfunction parse_xlscfb(cfb/*:any*/, options/*:?ParseOpts*/)/*:Workbook*/ {\nif(!options) options = {};\nfix_read_opts(options);\nreset_cp();\nif(options.codepage) set_ansi(options.codepage);\nvar CompObj/*:?CFBEntry*/, WB/*:?any*/;\nif(cfb.FullPaths) {\n\tif(CFB.find(cfb, '/encryption')) throw new Error(\"File is password-protected\");\n\tCompObj = CFB.find(cfb, '!CompObj');\n\tWB = CFB.find(cfb, '/Workbook') || CFB.find(cfb, '/Book');\n} else {\n\tswitch(options.type) {\n\t\tcase 'base64': cfb = s2a(Base64_decode(cfb)); break;\n\t\tcase 'binary': cfb = s2a(cfb); break;\n\t\tcase 'buffer': break;\n\t\tcase 'array': if(!Array.isArray(cfb)) cfb = Array.prototype.slice.call(cfb); break;\n\t}\n\tprep_blob(cfb, 0);\n\tWB = ({content: cfb}/*:any*/);\n}\nvar /*::CompObjP, */WorkbookP/*:: :Workbook = XLSX.utils.book_new(); */;\n\nvar _data/*:?any*/;\nif(CompObj) /*::CompObjP = */parse_compobj(CompObj);\nif(options.bookProps && !options.bookSheets) WorkbookP = ({}/*:any*/);\nelse/*:: if(cfb instanceof CFBContainer) */ {\n\tvar T = has_buf ? 'buffer' : 'array';\n\tif(WB && WB.content) WorkbookP = parse_workbook(WB.content, options);\n\t/* Quattro Pro 7-8 */\n\telse if((_data=CFB.find(cfb, 'PerfectOffice_MAIN')) && _data.content) WorkbookP = WK_.to_workbook(_data.content, (options.type = T, options));\n\t/* Quattro Pro 9 */\n\telse if((_data=CFB.find(cfb, 'NativeContent_MAIN')) && _data.content) WorkbookP = WK_.to_workbook(_data.content, (options.type = T, options));\n\t/* Works 4 for Mac */\n\telse if((_data=CFB.find(cfb, 'MN0')) && _data.content) throw new Error(\"Unsupported Works 4 for Mac file\");\n\telse throw new Error(\"Cannot find Workbook stream\");\n\tif(options.bookVBA && cfb.FullPaths && CFB.find(cfb, '/_VBA_PROJECT_CUR/VBA/dir')) WorkbookP.vbaraw = make_vba_xls(cfb);\n}\n\nvar props = {};\nif(cfb.FullPaths) parse_xls_props(/*::((*/cfb/*:: :any):CFBContainer)*/, props, options);\n\nWorkbookP.Props = WorkbookP.Custprops = props; /* TODO: split up properties */\nif(options.bookFiles) WorkbookP.cfb = cfb;\n/*WorkbookP.CompObjP = CompObjP; // TODO: storage? */\nreturn WorkbookP;\n}\n\n\nfunction write_xlscfb(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:CFBContainer*/ {\n\tvar o = opts || {};\n\tvar cfb = CFB.utils.cfb_new({root:\"R\"});\n\tvar wbpath = \"/Workbook\";\n\tswitch(o.bookType || \"xls\") {\n\t\tcase \"xls\": o.bookType = \"biff8\";\n\t\t/* falls through */\n\t\tcase \"xla\": if(!o.bookType) o.bookType = \"xla\";\n\t\t/* falls through */\n\t\tcase \"biff8\": wbpath = \"/Workbook\"; o.biff = 8; break;\n\t\tcase \"biff5\": wbpath = \"/Book\"; o.biff = 5; break;\n\t\tdefault: throw new Error(\"invalid type \" + o.bookType + \" for XLS CFB\");\n\t}\n\tCFB.utils.cfb_add(cfb, wbpath, write_biff_buf(wb, o));\n\tif(o.biff == 8 && (wb.Props || wb.Custprops)) write_xls_props(wb, cfb);\n\t// TODO: SI, DSI, CO\n\tif(o.biff == 8 && wb.vbaraw) fill_vba_xls(cfb, CFB.read(wb.vbaraw, {type: typeof wb.vbaraw == \"string\" ? \"binary\" : \"buffer\"}));\n\treturn cfb;\n}\n/* [MS-XLSB] 2.3 Record Enumeration */\nvar XLSBRecordEnum = {\n\t0x0000: { /* n:\"BrtRowHdr\", */ f:parse_BrtRowHdr },\n\t0x0001: { /* n:\"BrtCellBlank\", */ f:parse_BrtCellBlank },\n\t0x0002: { /* n:\"BrtCellRk\", */ f:parse_BrtCellRk },\n\t0x0003: { /* n:\"BrtCellError\", */ f:parse_BrtCellError },\n\t0x0004: { /* n:\"BrtCellBool\", */ f:parse_BrtCellBool },\n\t0x0005: { /* n:\"BrtCellReal\", */ f:parse_BrtCellReal },\n\t0x0006: { /* n:\"BrtCellSt\", */ f:parse_BrtCellSt },\n\t0x0007: { /* n:\"BrtCellIsst\", */ f:parse_BrtCellIsst },\n\t0x0008: { /* n:\"BrtFmlaString\", */ f:parse_BrtFmlaString },\n\t0x0009: { /* n:\"BrtFmlaNum\", */ f:parse_BrtFmlaNum },\n\t0x000A: { /* n:\"BrtFmlaBool\", */ f:parse_BrtFmlaBool },\n\t0x000B: { /* n:\"BrtFmlaError\", */ f:parse_BrtFmlaError },\n\t0x000C: { /* n:\"BrtShortBlank\", */ f:parse_BrtShortBlank },\n\t0x000D: { /* n:\"BrtShortRk\", */ f:parse_BrtShortRk },\n\t0x000E: { /* n:\"BrtShortError\", */ f:parse_BrtShortError },\n\t0x000F: { /* n:\"BrtShortBool\", */ f:parse_BrtShortBool },\n\t0x0010: { /* n:\"BrtShortReal\", */ f:parse_BrtShortReal },\n\t0x0011: { /* n:\"BrtShortSt\", */ f:parse_BrtShortSt },\n\t0x0012: { /* n:\"BrtShortIsst\", */ f:parse_BrtShortIsst },\n\t0x0013: { /* n:\"BrtSSTItem\", */ f:parse_RichStr },\n\t0x0014: { /* n:\"BrtPCDIMissing\" */ },\n\t0x0015: { /* n:\"BrtPCDINumber\" */ },\n\t0x0016: { /* n:\"BrtPCDIBoolean\" */ },\n\t0x0017: { /* n:\"BrtPCDIError\" */ },\n\t0x0018: { /* n:\"BrtPCDIString\" */ },\n\t0x0019: { /* n:\"BrtPCDIDatetime\" */ },\n\t0x001A: { /* n:\"BrtPCDIIndex\" */ },\n\t0x001B: { /* n:\"BrtPCDIAMissing\" */ },\n\t0x001C: { /* n:\"BrtPCDIANumber\" */ },\n\t0x001D: { /* n:\"BrtPCDIABoolean\" */ },\n\t0x001E: { /* n:\"BrtPCDIAError\" */ },\n\t0x001F: { /* n:\"BrtPCDIAString\" */ },\n\t0x0020: { /* n:\"BrtPCDIADatetime\" */ },\n\t0x0021: { /* n:\"BrtPCRRecord\" */ },\n\t0x0022: { /* n:\"BrtPCRRecordDt\" */ },\n\t0x0023: { /* n:\"BrtFRTBegin\", */ T:1 },\n\t0x0024: { /* n:\"BrtFRTEnd\", */ T:-1 },\n\t0x0025: { /* n:\"BrtACBegin\", */ T:1 },\n\t0x0026: { /* n:\"BrtACEnd\", */ T:-1 },\n\t0x0027: { /* n:\"BrtName\", */ f:parse_BrtName },\n\t0x0028: { /* n:\"BrtIndexRowBlock\" */ },\n\t0x002A: { /* n:\"BrtIndexBlock\" */ },\n\t0x002B: { /* n:\"BrtFont\", */ f:parse_BrtFont },\n\t0x002C: { /* n:\"BrtFmt\", */ f:parse_BrtFmt },\n\t0x002D: { /* n:\"BrtFill\", */ f:parse_BrtFill },\n\t0x002E: { /* n:\"BrtBorder\", */ f:parse_BrtBorder },\n\t0x002F: { /* n:\"BrtXF\", */ f:parse_BrtXF },\n\t0x0030: { /* n:\"BrtStyle\" */ },\n\t0x0031: { /* n:\"BrtCellMeta\", */ f:parse_Int32LE },\n\t0x0032: { /* n:\"BrtValueMeta\" */ },\n\t0x0033: { /* n:\"BrtMdb\" */ f:parse_BrtMdb },\n\t0x0034: { /* n:\"BrtBeginFmd\", */ T:1 },\n\t0x0035: { /* n:\"BrtEndFmd\", */ T:-1 },\n\t0x0036: { /* n:\"BrtBeginMdx\", */ T:1 },\n\t0x0037: { /* n:\"BrtEndMdx\", */ T:-1 },\n\t0x0038: { /* n:\"BrtBeginMdxTuple\", */ T:1 },\n\t0x0039: { /* n:\"BrtEndMdxTuple\", */ T:-1 },\n\t0x003A: { /* n:\"BrtMdxMbrIstr\" */ },\n\t0x003B: { /* n:\"BrtStr\" */ },\n\t0x003C: { /* n:\"BrtColInfo\", */ f:parse_ColInfo },\n\t0x003E: { /* n:\"BrtCellRString\", */ f:parse_BrtCellRString },\n\t0x003F: { /* n:\"BrtCalcChainItem$\", */ f:parse_BrtCalcChainItem$ },\n\t0x0040: { /* n:\"BrtDVal\", */ f:parse_BrtDVal },\n\t0x0041: { /* n:\"BrtSxvcellNum\" */ },\n\t0x0042: { /* n:\"BrtSxvcellStr\" */ },\n\t0x0043: { /* n:\"BrtSxvcellBool\" */ },\n\t0x0044: { /* n:\"BrtSxvcellErr\" */ },\n\t0x0045: { /* n:\"BrtSxvcellDate\" */ },\n\t0x0046: { /* n:\"BrtSxvcellNil\" */ },\n\t0x0080: { /* n:\"BrtFileVersion\" */ },\n\t0x0081: { /* n:\"BrtBeginSheet\", */ T:1 },\n\t0x0082: { /* n:\"BrtEndSheet\", */ T:-1 },\n\t0x0083: { /* n:\"BrtBeginBook\", */ T:1, f:parsenoop, p:0 },\n\t0x0084: { /* n:\"BrtEndBook\", */ T:-1 },\n\t0x0085: { /* n:\"BrtBeginWsViews\", */ T:1 },\n\t0x0086: { /* n:\"BrtEndWsViews\", */ T:-1 },\n\t0x0087: { /* n:\"BrtBeginBookViews\", */ T:1 },\n\t0x0088: { /* n:\"BrtEndBookViews\", */ T:-1 },\n\t0x0089: { /* n:\"BrtBeginWsView\", */ T:1, f:parse_BrtBeginWsView },\n\t0x008A: { /* n:\"BrtEndWsView\", */ T:-1 },\n\t0x008B: { /* n:\"BrtBeginCsViews\", */ T:1 },\n\t0x008C: { /* n:\"BrtEndCsViews\", */ T:-1 },\n\t0x008D: { /* n:\"BrtBeginCsView\", */ T:1 },\n\t0x008E: { /* n:\"BrtEndCsView\", */ T:-1 },\n\t0x008F: { /* n:\"BrtBeginBundleShs\", */ T:1 },\n\t0x0090: { /* n:\"BrtEndBundleShs\", */ T:-1 },\n\t0x0091: { /* n:\"BrtBeginSheetData\", */ T:1 },\n\t0x0092: { /* n:\"BrtEndSheetData\", */ T:-1 },\n\t0x0093: { /* n:\"BrtWsProp\", */ f:parse_BrtWsProp },\n\t0x0094: { /* n:\"BrtWsDim\", */ f:parse_BrtWsDim, p:16 },\n\t0x0097: { /* n:\"BrtPane\", */ f:parse_BrtPane },\n\t0x0098: { /* n:\"BrtSel\" */ },\n\t0x0099: { /* n:\"BrtWbProp\", */ f:parse_BrtWbProp },\n\t0x009A: { /* n:\"BrtWbFactoid\" */ },\n\t0x009B: { /* n:\"BrtFileRecover\" */ },\n\t0x009C: { /* n:\"BrtBundleSh\", */ f:parse_BrtBundleSh },\n\t0x009D: { /* n:\"BrtCalcProp\" */ },\n\t0x009E: { /* n:\"BrtBookView\" */ },\n\t0x009F: { /* n:\"BrtBeginSst\", */ T:1, f:parse_BrtBeginSst },\n\t0x00A0: { /* n:\"BrtEndSst\", */ T:-1 },\n\t0x00A1: { /* n:\"BrtBeginAFilter\", */ T:1, f:parse_UncheckedRfX },\n\t0x00A2: { /* n:\"BrtEndAFilter\", */ T:-1 },\n\t0x00A3: { /* n:\"BrtBeginFilterColumn\", */ T:1 },\n\t0x00A4: { /* n:\"BrtEndFilterColumn\", */ T:-1 },\n\t0x00A5: { /* n:\"BrtBeginFilters\", */ T:1 },\n\t0x00A6: { /* n:\"BrtEndFilters\", */ T:-1 },\n\t0x00A7: { /* n:\"BrtFilter\" */ },\n\t0x00A8: { /* n:\"BrtColorFilter\" */ },\n\t0x00A9: { /* n:\"BrtIconFilter\" */ },\n\t0x00AA: { /* n:\"BrtTop10Filter\" */ },\n\t0x00AB: { /* n:\"BrtDynamicFilter\" */ },\n\t0x00AC: { /* n:\"BrtBeginCustomFilters\", */ T:1 },\n\t0x00AD: { /* n:\"BrtEndCustomFilters\", */ T:-1 },\n\t0x00AE: { /* n:\"BrtCustomFilter\" */ },\n\t0x00AF: { /* n:\"BrtAFilterDateGroupItem\" */ },\n\t0x00B0: { /* n:\"BrtMergeCell\", */ f:parse_BrtMergeCell },\n\t0x00B1: { /* n:\"BrtBeginMergeCells\", */ T:1 },\n\t0x00B2: { /* n:\"BrtEndMergeCells\", */ T:-1 },\n\t0x00B3: { /* n:\"BrtBeginPivotCacheDef\", */ T:1 },\n\t0x00B4: { /* n:\"BrtEndPivotCacheDef\", */ T:-1 },\n\t0x00B5: { /* n:\"BrtBeginPCDFields\", */ T:1 },\n\t0x00B6: { /* n:\"BrtEndPCDFields\", */ T:-1 },\n\t0x00B7: { /* n:\"BrtBeginPCDField\", */ T:1 },\n\t0x00B8: { /* n:\"BrtEndPCDField\", */ T:-1 },\n\t0x00B9: { /* n:\"BrtBeginPCDSource\", */ T:1 },\n\t0x00BA: { /* n:\"BrtEndPCDSource\", */ T:-1 },\n\t0x00BB: { /* n:\"BrtBeginPCDSRange\", */ T:1 },\n\t0x00BC: { /* n:\"BrtEndPCDSRange\", */ T:-1 },\n\t0x00BD: { /* n:\"BrtBeginPCDFAtbl\", */ T:1 },\n\t0x00BE: { /* n:\"BrtEndPCDFAtbl\", */ T:-1 },\n\t0x00BF: { /* n:\"BrtBeginPCDIRun\", */ T:1 },\n\t0x00C0: { /* n:\"BrtEndPCDIRun\", */ T:-1 },\n\t0x00C1: { /* n:\"BrtBeginPivotCacheRecords\", */ T:1 },\n\t0x00C2: { /* n:\"BrtEndPivotCacheRecords\", */ T:-1 },\n\t0x00C3: { /* n:\"BrtBeginPCDHierarchies\", */ T:1 },\n\t0x00C4: { /* n:\"BrtEndPCDHierarchies\", */ T:-1 },\n\t0x00C5: { /* n:\"BrtBeginPCDHierarchy\", */ T:1 },\n\t0x00C6: { /* n:\"BrtEndPCDHierarchy\", */ T:-1 },\n\t0x00C7: { /* n:\"BrtBeginPCDHFieldsUsage\", */ T:1 },\n\t0x00C8: { /* n:\"BrtEndPCDHFieldsUsage\", */ T:-1 },\n\t0x00C9: { /* n:\"BrtBeginExtConnection\", */ T:1 },\n\t0x00CA: { /* n:\"BrtEndExtConnection\", */ T:-1 },\n\t0x00CB: { /* n:\"BrtBeginECDbProps\", */ T:1 },\n\t0x00CC: { /* n:\"BrtEndECDbProps\", */ T:-1 },\n\t0x00CD: { /* n:\"BrtBeginECOlapProps\", */ T:1 },\n\t0x00CE: { /* n:\"BrtEndECOlapProps\", */ T:-1 },\n\t0x00CF: { /* n:\"BrtBeginPCDSConsol\", */ T:1 },\n\t0x00D0: { /* n:\"BrtEndPCDSConsol\", */ T:-1 },\n\t0x00D1: { /* n:\"BrtBeginPCDSCPages\", */ T:1 },\n\t0x00D2: { /* n:\"BrtEndPCDSCPages\", */ T:-1 },\n\t0x00D3: { /* n:\"BrtBeginPCDSCPage\", */ T:1 },\n\t0x00D4: { /* n:\"BrtEndPCDSCPage\", */ T:-1 },\n\t0x00D5: { /* n:\"BrtBeginPCDSCPItem\", */ T:1 },\n\t0x00D6: { /* n:\"BrtEndPCDSCPItem\", */ T:-1 },\n\t0x00D7: { /* n:\"BrtBeginPCDSCSets\", */ T:1 },\n\t0x00D8: { /* n:\"BrtEndPCDSCSets\", */ T:-1 },\n\t0x00D9: { /* n:\"BrtBeginPCDSCSet\", */ T:1 },\n\t0x00DA: { /* n:\"BrtEndPCDSCSet\", */ T:-1 },\n\t0x00DB: { /* n:\"BrtBeginPCDFGroup\", */ T:1 },\n\t0x00DC: { /* n:\"BrtEndPCDFGroup\", */ T:-1 },\n\t0x00DD: { /* n:\"BrtBeginPCDFGItems\", */ T:1 },\n\t0x00DE: { /* n:\"BrtEndPCDFGItems\", */ T:-1 },\n\t0x00DF: { /* n:\"BrtBeginPCDFGRange\", */ T:1 },\n\t0x00E0: { /* n:\"BrtEndPCDFGRange\", */ T:-1 },\n\t0x00E1: { /* n:\"BrtBeginPCDFGDiscrete\", */ T:1 },\n\t0x00E2: { /* n:\"BrtEndPCDFGDiscrete\", */ T:-1 },\n\t0x00E3: { /* n:\"BrtBeginPCDSDTupleCache\", */ T:1 },\n\t0x00E4: { /* n:\"BrtEndPCDSDTupleCache\", */ T:-1 },\n\t0x00E5: { /* n:\"BrtBeginPCDSDTCEntries\", */ T:1 },\n\t0x00E6: { /* n:\"BrtEndPCDSDTCEntries\", */ T:-1 },\n\t0x00E7: { /* n:\"BrtBeginPCDSDTCEMembers\", */ T:1 },\n\t0x00E8: { /* n:\"BrtEndPCDSDTCEMembers\", */ T:-1 },\n\t0x00E9: { /* n:\"BrtBeginPCDSDTCEMember\", */ T:1 },\n\t0x00EA: { /* n:\"BrtEndPCDSDTCEMember\", */ T:-1 },\n\t0x00EB: { /* n:\"BrtBeginPCDSDTCQueries\", */ T:1 },\n\t0x00EC: { /* n:\"BrtEndPCDSDTCQueries\", */ T:-1 },\n\t0x00ED: { /* n:\"BrtBeginPCDSDTCQuery\", */ T:1 },\n\t0x00EE: { /* n:\"BrtEndPCDSDTCQuery\", */ T:-1 },\n\t0x00EF: { /* n:\"BrtBeginPCDSDTCSets\", */ T:1 },\n\t0x00F0: { /* n:\"BrtEndPCDSDTCSets\", */ T:-1 },\n\t0x00F1: { /* n:\"BrtBeginPCDSDTCSet\", */ T:1 },\n\t0x00F2: { /* n:\"BrtEndPCDSDTCSet\", */ T:-1 },\n\t0x00F3: { /* n:\"BrtBeginPCDCalcItems\", */ T:1 },\n\t0x00F4: { /* n:\"BrtEndPCDCalcItems\", */ T:-1 },\n\t0x00F5: { /* n:\"BrtBeginPCDCalcItem\", */ T:1 },\n\t0x00F6: { /* n:\"BrtEndPCDCalcItem\", */ T:-1 },\n\t0x00F7: { /* n:\"BrtBeginPRule\", */ T:1 },\n\t0x00F8: { /* n:\"BrtEndPRule\", */ T:-1 },\n\t0x00F9: { /* n:\"BrtBeginPRFilters\", */ T:1 },\n\t0x00FA: { /* n:\"BrtEndPRFilters\", */ T:-1 },\n\t0x00FB: { /* n:\"BrtBeginPRFilter\", */ T:1 },\n\t0x00FC: { /* n:\"BrtEndPRFilter\", */ T:-1 },\n\t0x00FD: { /* n:\"BrtBeginPNames\", */ T:1 },\n\t0x00FE: { /* n:\"BrtEndPNames\", */ T:-1 },\n\t0x00FF: { /* n:\"BrtBeginPName\", */ T:1 },\n\t0x0100: { /* n:\"BrtEndPName\", */ T:-1 },\n\t0x0101: { /* n:\"BrtBeginPNPairs\", */ T:1 },\n\t0x0102: { /* n:\"BrtEndPNPairs\", */ T:-1 },\n\t0x0103: { /* n:\"BrtBeginPNPair\", */ T:1 },\n\t0x0104: { /* n:\"BrtEndPNPair\", */ T:-1 },\n\t0x0105: { /* n:\"BrtBeginECWebProps\", */ T:1 },\n\t0x0106: { /* n:\"BrtEndECWebProps\", */ T:-1 },\n\t0x0107: { /* n:\"BrtBeginEcWpTables\", */ T:1 },\n\t0x0108: { /* n:\"BrtEndECWPTables\", */ T:-1 },\n\t0x0109: { /* n:\"BrtBeginECParams\", */ T:1 },\n\t0x010A: { /* n:\"BrtEndECParams\", */ T:-1 },\n\t0x010B: { /* n:\"BrtBeginECParam\", */ T:1 },\n\t0x010C: { /* n:\"BrtEndECParam\", */ T:-1 },\n\t0x010D: { /* n:\"BrtBeginPCDKPIs\", */ T:1 },\n\t0x010E: { /* n:\"BrtEndPCDKPIs\", */ T:-1 },\n\t0x010F: { /* n:\"BrtBeginPCDKPI\", */ T:1 },\n\t0x0110: { /* n:\"BrtEndPCDKPI\", */ T:-1 },\n\t0x0111: { /* n:\"BrtBeginDims\", */ T:1 },\n\t0x0112: { /* n:\"BrtEndDims\", */ T:-1 },\n\t0x0113: { /* n:\"BrtBeginDim\", */ T:1 },\n\t0x0114: { /* n:\"BrtEndDim\", */ T:-1 },\n\t0x0115: { /* n:\"BrtIndexPartEnd\" */ },\n\t0x0116: { /* n:\"BrtBeginStyleSheet\", */ T:1 },\n\t0x0117: { /* n:\"BrtEndStyleSheet\", */ T:-1 },\n\t0x0118: { /* n:\"BrtBeginSXView\", */ T:1 },\n\t0x0119: { /* n:\"BrtEndSXVI\", */ T:-1 },\n\t0x011A: { /* n:\"BrtBeginSXVI\", */ T:1 },\n\t0x011B: { /* n:\"BrtBeginSXVIs\", */ T:1 },\n\t0x011C: { /* n:\"BrtEndSXVIs\", */ T:-1 },\n\t0x011D: { /* n:\"BrtBeginSXVD\", */ T:1 },\n\t0x011E: { /* n:\"BrtEndSXVD\", */ T:-1 },\n\t0x011F: { /* n:\"BrtBeginSXVDs\", */ T:1 },\n\t0x0120: { /* n:\"BrtEndSXVDs\", */ T:-1 },\n\t0x0121: { /* n:\"BrtBeginSXPI\", */ T:1 },\n\t0x0122: { /* n:\"BrtEndSXPI\", */ T:-1 },\n\t0x0123: { /* n:\"BrtBeginSXPIs\", */ T:1 },\n\t0x0124: { /* n:\"BrtEndSXPIs\", */ T:-1 },\n\t0x0125: { /* n:\"BrtBeginSXDI\", */ T:1 },\n\t0x0126: { /* n:\"BrtEndSXDI\", */ T:-1 },\n\t0x0127: { /* n:\"BrtBeginSXDIs\", */ T:1 },\n\t0x0128: { /* n:\"BrtEndSXDIs\", */ T:-1 },\n\t0x0129: { /* n:\"BrtBeginSXLI\", */ T:1 },\n\t0x012A: { /* n:\"BrtEndSXLI\", */ T:-1 },\n\t0x012B: { /* n:\"BrtBeginSXLIRws\", */ T:1 },\n\t0x012C: { /* n:\"BrtEndSXLIRws\", */ T:-1 },\n\t0x012D: { /* n:\"BrtBeginSXLICols\", */ T:1 },\n\t0x012E: { /* n:\"BrtEndSXLICols\", */ T:-1 },\n\t0x012F: { /* n:\"BrtBeginSXFormat\", */ T:1 },\n\t0x0130: { /* n:\"BrtEndSXFormat\", */ T:-1 },\n\t0x0131: { /* n:\"BrtBeginSXFormats\", */ T:1 },\n\t0x0132: { /* n:\"BrtEndSxFormats\", */ T:-1 },\n\t0x0133: { /* n:\"BrtBeginSxSelect\", */ T:1 },\n\t0x0134: { /* n:\"BrtEndSxSelect\", */ T:-1 },\n\t0x0135: { /* n:\"BrtBeginISXVDRws\", */ T:1 },\n\t0x0136: { /* n:\"BrtEndISXVDRws\", */ T:-1 },\n\t0x0137: { /* n:\"BrtBeginISXVDCols\", */ T:1 },\n\t0x0138: { /* n:\"BrtEndISXVDCols\", */ T:-1 },\n\t0x0139: { /* n:\"BrtEndSXLocation\", */ T:-1 },\n\t0x013A: { /* n:\"BrtBeginSXLocation\", */ T:1 },\n\t0x013B: { /* n:\"BrtEndSXView\", */ T:-1 },\n\t0x013C: { /* n:\"BrtBeginSXTHs\", */ T:1 },\n\t0x013D: { /* n:\"BrtEndSXTHs\", */ T:-1 },\n\t0x013E: { /* n:\"BrtBeginSXTH\", */ T:1 },\n\t0x013F: { /* n:\"BrtEndSXTH\", */ T:-1 },\n\t0x0140: { /* n:\"BrtBeginISXTHRws\", */ T:1 },\n\t0x0141: { /* n:\"BrtEndISXTHRws\", */ T:-1 },\n\t0x0142: { /* n:\"BrtBeginISXTHCols\", */ T:1 },\n\t0x0143: { /* n:\"BrtEndISXTHCols\", */ T:-1 },\n\t0x0144: { /* n:\"BrtBeginSXTDMPS\", */ T:1 },\n\t0x0145: { /* n:\"BrtEndSXTDMPs\", */ T:-1 },\n\t0x0146: { /* n:\"BrtBeginSXTDMP\", */ T:1 },\n\t0x0147: { /* n:\"BrtEndSXTDMP\", */ T:-1 },\n\t0x0148: { /* n:\"BrtBeginSXTHItems\", */ T:1 },\n\t0x0149: { /* n:\"BrtEndSXTHItems\", */ T:-1 },\n\t0x014A: { /* n:\"BrtBeginSXTHItem\", */ T:1 },\n\t0x014B: { /* n:\"BrtEndSXTHItem\", */ T:-1 },\n\t0x014C: { /* n:\"BrtBeginMetadata\", */ T:1 },\n\t0x014D: { /* n:\"BrtEndMetadata\", */ T:-1 },\n\t0x014E: { /* n:\"BrtBeginEsmdtinfo\", */ T:1 },\n\t0x014F: { /* n:\"BrtMdtinfo\", */ f:parse_BrtMdtinfo },\n\t0x0150: { /* n:\"BrtEndEsmdtinfo\", */ T:-1 },\n\t0x0151: { /* n:\"BrtBeginEsmdb\", */ f:parse_BrtBeginEsmdb, T:1 },\n\t0x0152: { /* n:\"BrtEndEsmdb\", */ T:-1 },\n\t0x0153: { /* n:\"BrtBeginEsfmd\", */ T:1 },\n\t0x0154: { /* n:\"BrtEndEsfmd\", */ T:-1 },\n\t0x0155: { /* n:\"BrtBeginSingleCells\", */ T:1 },\n\t0x0156: { /* n:\"BrtEndSingleCells\", */ T:-1 },\n\t0x0157: { /* n:\"BrtBeginList\", */ T:1 },\n\t0x0158: { /* n:\"BrtEndList\", */ T:-1 },\n\t0x0159: { /* n:\"BrtBeginListCols\", */ T:1 },\n\t0x015A: { /* n:\"BrtEndListCols\", */ T:-1 },\n\t0x015B: { /* n:\"BrtBeginListCol\", */ T:1 },\n\t0x015C: { /* n:\"BrtEndListCol\", */ T:-1 },\n\t0x015D: { /* n:\"BrtBeginListXmlCPr\", */ T:1 },\n\t0x015E: { /* n:\"BrtEndListXmlCPr\", */ T:-1 },\n\t0x015F: { /* n:\"BrtListCCFmla\" */ },\n\t0x0160: { /* n:\"BrtListTrFmla\" */ },\n\t0x0161: { /* n:\"BrtBeginExternals\", */ T:1 },\n\t0x0162: { /* n:\"BrtEndExternals\", */ T:-1 },\n\t0x0163: { /* n:\"BrtSupBookSrc\", */ f:parse_RelID},\n\t0x0165: { /* n:\"BrtSupSelf\" */ },\n\t0x0166: { /* n:\"BrtSupSame\" */ },\n\t0x0167: { /* n:\"BrtSupTabs\" */ },\n\t0x0168: { /* n:\"BrtBeginSupBook\", */ T:1 },\n\t0x0169: { /* n:\"BrtPlaceholderName\" */ },\n\t0x016A: { /* n:\"BrtExternSheet\", */ f:parse_ExternSheet },\n\t0x016B: { /* n:\"BrtExternTableStart\" */ },\n\t0x016C: { /* n:\"BrtExternTableEnd\" */ },\n\t0x016E: { /* n:\"BrtExternRowHdr\" */ },\n\t0x016F: { /* n:\"BrtExternCellBlank\" */ },\n\t0x0170: { /* n:\"BrtExternCellReal\" */ },\n\t0x0171: { /* n:\"BrtExternCellBool\" */ },\n\t0x0172: { /* n:\"BrtExternCellError\" */ },\n\t0x0173: { /* n:\"BrtExternCellString\" */ },\n\t0x0174: { /* n:\"BrtBeginEsmdx\", */ T:1 },\n\t0x0175: { /* n:\"BrtEndEsmdx\", */ T:-1 },\n\t0x0176: { /* n:\"BrtBeginMdxSet\", */ T:1 },\n\t0x0177: { /* n:\"BrtEndMdxSet\", */ T:-1 },\n\t0x0178: { /* n:\"BrtBeginMdxMbrProp\", */ T:1 },\n\t0x0179: { /* n:\"BrtEndMdxMbrProp\", */ T:-1 },\n\t0x017A: { /* n:\"BrtBeginMdxKPI\", */ T:1 },\n\t0x017B: { /* n:\"BrtEndMdxKPI\", */ T:-1 },\n\t0x017C: { /* n:\"BrtBeginEsstr\", */ T:1 },\n\t0x017D: { /* n:\"BrtEndEsstr\", */ T:-1 },\n\t0x017E: { /* n:\"BrtBeginPRFItem\", */ T:1 },\n\t0x017F: { /* n:\"BrtEndPRFItem\", */ T:-1 },\n\t0x0180: { /* n:\"BrtBeginPivotCacheIDs\", */ T:1 },\n\t0x0181: { /* n:\"BrtEndPivotCacheIDs\", */ T:-1 },\n\t0x0182: { /* n:\"BrtBeginPivotCacheID\", */ T:1 },\n\t0x0183: { /* n:\"BrtEndPivotCacheID\", */ T:-1 },\n\t0x0184: { /* n:\"BrtBeginISXVIs\", */ T:1 },\n\t0x0185: { /* n:\"BrtEndISXVIs\", */ T:-1 },\n\t0x0186: { /* n:\"BrtBeginColInfos\", */ T:1 },\n\t0x0187: { /* n:\"BrtEndColInfos\", */ T:-1 },\n\t0x0188: { /* n:\"BrtBeginRwBrk\", */ T:1 },\n\t0x0189: { /* n:\"BrtEndRwBrk\", */ T:-1 },\n\t0x018A: { /* n:\"BrtBeginColBrk\", */ T:1 },\n\t0x018B: { /* n:\"BrtEndColBrk\", */ T:-1 },\n\t0x018C: { /* n:\"BrtBrk\" */ },\n\t0x018D: { /* n:\"BrtUserBookView\" */ },\n\t0x018E: { /* n:\"BrtInfo\" */ },\n\t0x018F: { /* n:\"BrtCUsr\" */ },\n\t0x0190: { /* n:\"BrtUsr\" */ },\n\t0x0191: { /* n:\"BrtBeginUsers\", */ T:1 },\n\t0x0193: { /* n:\"BrtEOF\" */ },\n\t0x0194: { /* n:\"BrtUCR\" */ },\n\t0x0195: { /* n:\"BrtRRInsDel\" */ },\n\t0x0196: { /* n:\"BrtRREndInsDel\" */ },\n\t0x0197: { /* n:\"BrtRRMove\" */ },\n\t0x0198: { /* n:\"BrtRREndMove\" */ },\n\t0x0199: { /* n:\"BrtRRChgCell\" */ },\n\t0x019A: { /* n:\"BrtRREndChgCell\" */ },\n\t0x019B: { /* n:\"BrtRRHeader\" */ },\n\t0x019C: { /* n:\"BrtRRUserView\" */ },\n\t0x019D: { /* n:\"BrtRRRenSheet\" */ },\n\t0x019E: { /* n:\"BrtRRInsertSh\" */ },\n\t0x019F: { /* n:\"BrtRRDefName\" */ },\n\t0x01A0: { /* n:\"BrtRRNote\" */ },\n\t0x01A1: { /* n:\"BrtRRConflict\" */ },\n\t0x01A2: { /* n:\"BrtRRTQSIF\" */ },\n\t0x01A3: { /* n:\"BrtRRFormat\" */ },\n\t0x01A4: { /* n:\"BrtRREndFormat\" */ },\n\t0x01A5: { /* n:\"BrtRRAutoFmt\" */ },\n\t0x01A6: { /* n:\"BrtBeginUserShViews\", */ T:1 },\n\t0x01A7: { /* n:\"BrtBeginUserShView\", */ T:1 },\n\t0x01A8: { /* n:\"BrtEndUserShView\", */ T:-1 },\n\t0x01A9: { /* n:\"BrtEndUserShViews\", */ T:-1 },\n\t0x01AA: { /* n:\"BrtArrFmla\", */ f:parse_BrtArrFmla },\n\t0x01AB: { /* n:\"BrtShrFmla\", */ f:parse_BrtShrFmla },\n\t0x01AC: { /* n:\"BrtTable\" */ },\n\t0x01AD: { /* n:\"BrtBeginExtConnections\", */ T:1 },\n\t0x01AE: { /* n:\"BrtEndExtConnections\", */ T:-1 },\n\t0x01AF: { /* n:\"BrtBeginPCDCalcMems\", */ T:1 },\n\t0x01B0: { /* n:\"BrtEndPCDCalcMems\", */ T:-1 },\n\t0x01B1: { /* n:\"BrtBeginPCDCalcMem\", */ T:1 },\n\t0x01B2: { /* n:\"BrtEndPCDCalcMem\", */ T:-1 },\n\t0x01B3: { /* n:\"BrtBeginPCDHGLevels\", */ T:1 },\n\t0x01B4: { /* n:\"BrtEndPCDHGLevels\", */ T:-1 },\n\t0x01B5: { /* n:\"BrtBeginPCDHGLevel\", */ T:1 },\n\t0x01B6: { /* n:\"BrtEndPCDHGLevel\", */ T:-1 },\n\t0x01B7: { /* n:\"BrtBeginPCDHGLGroups\", */ T:1 },\n\t0x01B8: { /* n:\"BrtEndPCDHGLGroups\", */ T:-1 },\n\t0x01B9: { /* n:\"BrtBeginPCDHGLGroup\", */ T:1 },\n\t0x01BA: { /* n:\"BrtEndPCDHGLGroup\", */ T:-1 },\n\t0x01BB: { /* n:\"BrtBeginPCDHGLGMembers\", */ T:1 },\n\t0x01BC: { /* n:\"BrtEndPCDHGLGMembers\", */ T:-1 },\n\t0x01BD: { /* n:\"BrtBeginPCDHGLGMember\", */ T:1 },\n\t0x01BE: { /* n:\"BrtEndPCDHGLGMember\", */ T:-1 },\n\t0x01BF: { /* n:\"BrtBeginQSI\", */ T:1 },\n\t0x01C0: { /* n:\"BrtEndQSI\", */ T:-1 },\n\t0x01C1: { /* n:\"BrtBeginQSIR\", */ T:1 },\n\t0x01C2: { /* n:\"BrtEndQSIR\", */ T:-1 },\n\t0x01C3: { /* n:\"BrtBeginDeletedNames\", */ T:1 },\n\t0x01C4: { /* n:\"BrtEndDeletedNames\", */ T:-1 },\n\t0x01C5: { /* n:\"BrtBeginDeletedName\", */ T:1 },\n\t0x01C6: { /* n:\"BrtEndDeletedName\", */ T:-1 },\n\t0x01C7: { /* n:\"BrtBeginQSIFs\", */ T:1 },\n\t0x01C8: { /* n:\"BrtEndQSIFs\", */ T:-1 },\n\t0x01C9: { /* n:\"BrtBeginQSIF\", */ T:1 },\n\t0x01CA: { /* n:\"BrtEndQSIF\", */ T:-1 },\n\t0x01CB: { /* n:\"BrtBeginAutoSortScope\", */ T:1 },\n\t0x01CC: { /* n:\"BrtEndAutoSortScope\", */ T:-1 },\n\t0x01CD: { /* n:\"BrtBeginConditionalFormatting\", */ T:1 },\n\t0x01CE: { /* n:\"BrtEndConditionalFormatting\", */ T:-1 },\n\t0x01CF: { /* n:\"BrtBeginCFRule\", */ T:1 },\n\t0x01D0: { /* n:\"BrtEndCFRule\", */ T:-1 },\n\t0x01D1: { /* n:\"BrtBeginIconSet\", */ T:1 },\n\t0x01D2: { /* n:\"BrtEndIconSet\", */ T:-1 },\n\t0x01D3: { /* n:\"BrtBeginDatabar\", */ T:1 },\n\t0x01D4: { /* n:\"BrtEndDatabar\", */ T:-1 },\n\t0x01D5: { /* n:\"BrtBeginColorScale\", */ T:1 },\n\t0x01D6: { /* n:\"BrtEndColorScale\", */ T:-1 },\n\t0x01D7: { /* n:\"BrtCFVO\" */ },\n\t0x01D8: { /* n:\"BrtExternValueMeta\" */ },\n\t0x01D9: { /* n:\"BrtBeginColorPalette\", */ T:1 },\n\t0x01DA: { /* n:\"BrtEndColorPalette\", */ T:-1 },\n\t0x01DB: { /* n:\"BrtIndexedColor\" */ },\n\t0x01DC: { /* n:\"BrtMargins\", */ f:parse_BrtMargins },\n\t0x01DD: { /* n:\"BrtPrintOptions\" */ },\n\t0x01DE: { /* n:\"BrtPageSetup\" */ },\n\t0x01DF: { /* n:\"BrtBeginHeaderFooter\", */ T:1 },\n\t0x01E0: { /* n:\"BrtEndHeaderFooter\", */ T:-1 },\n\t0x01E1: { /* n:\"BrtBeginSXCrtFormat\", */ T:1 },\n\t0x01E2: { /* n:\"BrtEndSXCrtFormat\", */ T:-1 },\n\t0x01E3: { /* n:\"BrtBeginSXCrtFormats\", */ T:1 },\n\t0x01E4: { /* n:\"BrtEndSXCrtFormats\", */ T:-1 },\n\t0x01E5: { /* n:\"BrtWsFmtInfo\", */ f:parse_BrtWsFmtInfo },\n\t0x01E6: { /* n:\"BrtBeginMgs\", */ T:1 },\n\t0x01E7: { /* n:\"BrtEndMGs\", */ T:-1 },\n\t0x01E8: { /* n:\"BrtBeginMGMaps\", */ T:1 },\n\t0x01E9: { /* n:\"BrtEndMGMaps\", */ T:-1 },\n\t0x01EA: { /* n:\"BrtBeginMG\", */ T:1 },\n\t0x01EB: { /* n:\"BrtEndMG\", */ T:-1 },\n\t0x01EC: { /* n:\"BrtBeginMap\", */ T:1 },\n\t0x01ED: { /* n:\"BrtEndMap\", */ T:-1 },\n\t0x01EE: { /* n:\"BrtHLink\", */ f:parse_BrtHLink },\n\t0x01EF: { /* n:\"BrtBeginDCon\", */ T:1 },\n\t0x01F0: { /* n:\"BrtEndDCon\", */ T:-1 },\n\t0x01F1: { /* n:\"BrtBeginDRefs\", */ T:1 },\n\t0x01F2: { /* n:\"BrtEndDRefs\", */ T:-1 },\n\t0x01F3: { /* n:\"BrtDRef\" */ },\n\t0x01F4: { /* n:\"BrtBeginScenMan\", */ T:1 },\n\t0x01F5: { /* n:\"BrtEndScenMan\", */ T:-1 },\n\t0x01F6: { /* n:\"BrtBeginSct\", */ T:1 },\n\t0x01F7: { /* n:\"BrtEndSct\", */ T:-1 },\n\t0x01F8: { /* n:\"BrtSlc\" */ },\n\t0x01F9: { /* n:\"BrtBeginDXFs\", */ T:1 },\n\t0x01FA: { /* n:\"BrtEndDXFs\", */ T:-1 },\n\t0x01FB: { /* n:\"BrtDXF\" */ },\n\t0x01FC: { /* n:\"BrtBeginTableStyles\", */ T:1 },\n\t0x01FD: { /* n:\"BrtEndTableStyles\", */ T:-1 },\n\t0x01FE: { /* n:\"BrtBeginTableStyle\", */ T:1 },\n\t0x01FF: { /* n:\"BrtEndTableStyle\", */ T:-1 },\n\t0x0200: { /* n:\"BrtTableStyleElement\" */ },\n\t0x0201: { /* n:\"BrtTableStyleClient\" */ },\n\t0x0202: { /* n:\"BrtBeginVolDeps\", */ T:1 },\n\t0x0203: { /* n:\"BrtEndVolDeps\", */ T:-1 },\n\t0x0204: { /* n:\"BrtBeginVolType\", */ T:1 },\n\t0x0205: { /* n:\"BrtEndVolType\", */ T:-1 },\n\t0x0206: { /* n:\"BrtBeginVolMain\", */ T:1 },\n\t0x0207: { /* n:\"BrtEndVolMain\", */ T:-1 },\n\t0x0208: { /* n:\"BrtBeginVolTopic\", */ T:1 },\n\t0x0209: { /* n:\"BrtEndVolTopic\", */ T:-1 },\n\t0x020A: { /* n:\"BrtVolSubtopic\" */ },\n\t0x020B: { /* n:\"BrtVolRef\" */ },\n\t0x020C: { /* n:\"BrtVolNum\" */ },\n\t0x020D: { /* n:\"BrtVolErr\" */ },\n\t0x020E: { /* n:\"BrtVolStr\" */ },\n\t0x020F: { /* n:\"BrtVolBool\" */ },\n\t0x0210: { /* n:\"BrtBeginCalcChain$\", */ T:1 },\n\t0x0211: { /* n:\"BrtEndCalcChain$\", */ T:-1 },\n\t0x0212: { /* n:\"BrtBeginSortState\", */ T:1 },\n\t0x0213: { /* n:\"BrtEndSortState\", */ T:-1 },\n\t0x0214: { /* n:\"BrtBeginSortCond\", */ T:1 },\n\t0x0215: { /* n:\"BrtEndSortCond\", */ T:-1 },\n\t0x0216: { /* n:\"BrtBookProtection\" */ },\n\t0x0217: { /* n:\"BrtSheetProtection\" */ },\n\t0x0218: { /* n:\"BrtRangeProtection\" */ },\n\t0x0219: { /* n:\"BrtPhoneticInfo\" */ },\n\t0x021A: { /* n:\"BrtBeginECTxtWiz\", */ T:1 },\n\t0x021B: { /* n:\"BrtEndECTxtWiz\", */ T:-1 },\n\t0x021C: { /* n:\"BrtBeginECTWFldInfoLst\", */ T:1 },\n\t0x021D: { /* n:\"BrtEndECTWFldInfoLst\", */ T:-1 },\n\t0x021E: { /* n:\"BrtBeginECTwFldInfo\", */ T:1 },\n\t0x0224: { /* n:\"BrtFileSharing\" */ },\n\t0x0225: { /* n:\"BrtOleSize\" */ },\n\t0x0226: { /* n:\"BrtDrawing\", */ f:parse_RelID },\n\t0x0227: { /* n:\"BrtLegacyDrawing\", */ f:parse_XLNullableWideString },\n\t0x0228: { /* n:\"BrtLegacyDrawingHF\" */ },\n\t0x0229: { /* n:\"BrtWebOpt\" */ },\n\t0x022A: { /* n:\"BrtBeginWebPubItems\", */ T:1 },\n\t0x022B: { /* n:\"BrtEndWebPubItems\", */ T:-1 },\n\t0x022C: { /* n:\"BrtBeginWebPubItem\", */ T:1 },\n\t0x022D: { /* n:\"BrtEndWebPubItem\", */ T:-1 },\n\t0x022E: { /* n:\"BrtBeginSXCondFmt\", */ T:1 },\n\t0x022F: { /* n:\"BrtEndSXCondFmt\", */ T:-1 },\n\t0x0230: { /* n:\"BrtBeginSXCondFmts\", */ T:1 },\n\t0x0231: { /* n:\"BrtEndSXCondFmts\", */ T:-1 },\n\t0x0232: { /* n:\"BrtBkHim\" */ },\n\t0x0234: { /* n:\"BrtColor\" */ },\n\t0x0235: { /* n:\"BrtBeginIndexedColors\", */ T:1 },\n\t0x0236: { /* n:\"BrtEndIndexedColors\", */ T:-1 },\n\t0x0239: { /* n:\"BrtBeginMRUColors\", */ T:1 },\n\t0x023A: { /* n:\"BrtEndMRUColors\", */ T:-1 },\n\t0x023C: { /* n:\"BrtMRUColor\" */ },\n\t0x023D: { /* n:\"BrtBeginDVals\", */ T:1 },\n\t0x023E: { /* n:\"BrtEndDVals\", */ T:-1 },\n\t0x0241: { /* n:\"BrtSupNameStart\" */ },\n\t0x0242: { /* n:\"BrtSupNameValueStart\" */ },\n\t0x0243: { /* n:\"BrtSupNameValueEnd\" */ },\n\t0x0244: { /* n:\"BrtSupNameNum\" */ },\n\t0x0245: { /* n:\"BrtSupNameErr\" */ },\n\t0x0246: { /* n:\"BrtSupNameSt\" */ },\n\t0x0247: { /* n:\"BrtSupNameNil\" */ },\n\t0x0248: { /* n:\"BrtSupNameBool\" */ },\n\t0x0249: { /* n:\"BrtSupNameFmla\" */ },\n\t0x024A: { /* n:\"BrtSupNameBits\" */ },\n\t0x024B: { /* n:\"BrtSupNameEnd\" */ },\n\t0x024C: { /* n:\"BrtEndSupBook\", */ T:-1 },\n\t0x024D: { /* n:\"BrtCellSmartTagProperty\" */ },\n\t0x024E: { /* n:\"BrtBeginCellSmartTag\", */ T:1 },\n\t0x024F: { /* n:\"BrtEndCellSmartTag\", */ T:-1 },\n\t0x0250: { /* n:\"BrtBeginCellSmartTags\", */ T:1 },\n\t0x0251: { /* n:\"BrtEndCellSmartTags\", */ T:-1 },\n\t0x0252: { /* n:\"BrtBeginSmartTags\", */ T:1 },\n\t0x0253: { /* n:\"BrtEndSmartTags\", */ T:-1 },\n\t0x0254: { /* n:\"BrtSmartTagType\" */ },\n\t0x0255: { /* n:\"BrtBeginSmartTagTypes\", */ T:1 },\n\t0x0256: { /* n:\"BrtEndSmartTagTypes\", */ T:-1 },\n\t0x0257: { /* n:\"BrtBeginSXFilters\", */ T:1 },\n\t0x0258: { /* n:\"BrtEndSXFilters\", */ T:-1 },\n\t0x0259: { /* n:\"BrtBeginSXFILTER\", */ T:1 },\n\t0x025A: { /* n:\"BrtEndSXFilter\", */ T:-1 },\n\t0x025B: { /* n:\"BrtBeginFills\", */ T:1 },\n\t0x025C: { /* n:\"BrtEndFills\", */ T:-1 },\n\t0x025D: { /* n:\"BrtBeginCellWatches\", */ T:1 },\n\t0x025E: { /* n:\"BrtEndCellWatches\", */ T:-1 },\n\t0x025F: { /* n:\"BrtCellWatch\" */ },\n\t0x0260: { /* n:\"BrtBeginCRErrs\", */ T:1 },\n\t0x0261: { /* n:\"BrtEndCRErrs\", */ T:-1 },\n\t0x0262: { /* n:\"BrtCrashRecErr\" */ },\n\t0x0263: { /* n:\"BrtBeginFonts\", */ T:1 },\n\t0x0264: { /* n:\"BrtEndFonts\", */ T:-1 },\n\t0x0265: { /* n:\"BrtBeginBorders\", */ T:1 },\n\t0x0266: { /* n:\"BrtEndBorders\", */ T:-1 },\n\t0x0267: { /* n:\"BrtBeginFmts\", */ T:1 },\n\t0x0268: { /* n:\"BrtEndFmts\", */ T:-1 },\n\t0x0269: { /* n:\"BrtBeginCellXFs\", */ T:1 },\n\t0x026A: { /* n:\"BrtEndCellXFs\", */ T:-1 },\n\t0x026B: { /* n:\"BrtBeginStyles\", */ T:1 },\n\t0x026C: { /* n:\"BrtEndStyles\", */ T:-1 },\n\t0x0271: { /* n:\"BrtBigName\" */ },\n\t0x0272: { /* n:\"BrtBeginCellStyleXFs\", */ T:1 },\n\t0x0273: { /* n:\"BrtEndCellStyleXFs\", */ T:-1 },\n\t0x0274: { /* n:\"BrtBeginComments\", */ T:1 },\n\t0x0275: { /* n:\"BrtEndComments\", */ T:-1 },\n\t0x0276: { /* n:\"BrtBeginCommentAuthors\", */ T:1 },\n\t0x0277: { /* n:\"BrtEndCommentAuthors\", */ T:-1 },\n\t0x0278: { /* n:\"BrtCommentAuthor\", */ f:parse_BrtCommentAuthor },\n\t0x0279: { /* n:\"BrtBeginCommentList\", */ T:1 },\n\t0x027A: { /* n:\"BrtEndCommentList\", */ T:-1 },\n\t0x027B: { /* n:\"BrtBeginComment\", */ T:1, f:parse_BrtBeginComment},\n\t0x027C: { /* n:\"BrtEndComment\", */ T:-1 },\n\t0x027D: { /* n:\"BrtCommentText\", */ f:parse_BrtCommentText },\n\t0x027E: { /* n:\"BrtBeginOleObjects\", */ T:1 },\n\t0x027F: { /* n:\"BrtOleObject\" */ },\n\t0x0280: { /* n:\"BrtEndOleObjects\", */ T:-1 },\n\t0x0281: { /* n:\"BrtBeginSxrules\", */ T:1 },\n\t0x0282: { /* n:\"BrtEndSxRules\", */ T:-1 },\n\t0x0283: { /* n:\"BrtBeginActiveXControls\", */ T:1 },\n\t0x0284: { /* n:\"BrtActiveX\" */ },\n\t0x0285: { /* n:\"BrtEndActiveXControls\", */ T:-1 },\n\t0x0286: { /* n:\"BrtBeginPCDSDTCEMembersSortBy\", */ T:1 },\n\t0x0288: { /* n:\"BrtBeginCellIgnoreECs\", */ T:1 },\n\t0x0289: { /* n:\"BrtCellIgnoreEC\" */ },\n\t0x028A: { /* n:\"BrtEndCellIgnoreECs\", */ T:-1 },\n\t0x028B: { /* n:\"BrtCsProp\", */ f:parse_BrtCsProp },\n\t0x028C: { /* n:\"BrtCsPageSetup\" */ },\n\t0x028D: { /* n:\"BrtBeginUserCsViews\", */ T:1 },\n\t0x028E: { /* n:\"BrtEndUserCsViews\", */ T:-1 },\n\t0x028F: { /* n:\"BrtBeginUserCsView\", */ T:1 },\n\t0x0290: { /* n:\"BrtEndUserCsView\", */ T:-1 },\n\t0x0291: { /* n:\"BrtBeginPcdSFCIEntries\", */ T:1 },\n\t0x0292: { /* n:\"BrtEndPCDSFCIEntries\", */ T:-1 },\n\t0x0293: { /* n:\"BrtPCDSFCIEntry\" */ },\n\t0x0294: { /* n:\"BrtBeginListParts\", */ T:1 },\n\t0x0295: { /* n:\"BrtListPart\" */ },\n\t0x0296: { /* n:\"BrtEndListParts\", */ T:-1 },\n\t0x0297: { /* n:\"BrtSheetCalcProp\" */ },\n\t0x0298: { /* n:\"BrtBeginFnGroup\", */ T:1 },\n\t0x0299: { /* n:\"BrtFnGroup\" */ },\n\t0x029A: { /* n:\"BrtEndFnGroup\", */ T:-1 },\n\t0x029B: { /* n:\"BrtSupAddin\" */ },\n\t0x029C: { /* n:\"BrtSXTDMPOrder\" */ },\n\t0x029D: { /* n:\"BrtCsProtection\" */ },\n\t0x029F: { /* n:\"BrtBeginWsSortMap\", */ T:1 },\n\t0x02A0: { /* n:\"BrtEndWsSortMap\", */ T:-1 },\n\t0x02A1: { /* n:\"BrtBeginRRSort\", */ T:1 },\n\t0x02A2: { /* n:\"BrtEndRRSort\", */ T:-1 },\n\t0x02A3: { /* n:\"BrtRRSortItem\" */ },\n\t0x02A4: { /* n:\"BrtFileSharingIso\" */ },\n\t0x02A5: { /* n:\"BrtBookProtectionIso\" */ },\n\t0x02A6: { /* n:\"BrtSheetProtectionIso\" */ },\n\t0x02A7: { /* n:\"BrtCsProtectionIso\" */ },\n\t0x02A8: { /* n:\"BrtRangeProtectionIso\" */ },\n\t0x02A9: { /* n:\"BrtDValList\" */ },\n\t0x0400: { /* n:\"BrtRwDescent\" */ },\n\t0x0401: { /* n:\"BrtKnownFonts\" */ },\n\t0x0402: { /* n:\"BrtBeginSXTupleSet\", */ T:1 },\n\t0x0403: { /* n:\"BrtEndSXTupleSet\", */ T:-1 },\n\t0x0404: { /* n:\"BrtBeginSXTupleSetHeader\", */ T:1 },\n\t0x0405: { /* n:\"BrtEndSXTupleSetHeader\", */ T:-1 },\n\t0x0406: { /* n:\"BrtSXTupleSetHeaderItem\" */ },\n\t0x0407: { /* n:\"BrtBeginSXTupleSetData\", */ T:1 },\n\t0x0408: { /* n:\"BrtEndSXTupleSetData\", */ T:-1 },\n\t0x0409: { /* n:\"BrtBeginSXTupleSetRow\", */ T:1 },\n\t0x040A: { /* n:\"BrtEndSXTupleSetRow\", */ T:-1 },\n\t0x040B: { /* n:\"BrtSXTupleSetRowItem\" */ },\n\t0x040C: { /* n:\"BrtNameExt\" */ },\n\t0x040D: { /* n:\"BrtPCDH14\" */ },\n\t0x040E: { /* n:\"BrtBeginPCDCalcMem14\", */ T:1 },\n\t0x040F: { /* n:\"BrtEndPCDCalcMem14\", */ T:-1 },\n\t0x0410: { /* n:\"BrtSXTH14\" */ },\n\t0x0411: { /* n:\"BrtBeginSparklineGroup\", */ T:1 },\n\t0x0412: { /* n:\"BrtEndSparklineGroup\", */ T:-1 },\n\t0x0413: { /* n:\"BrtSparkline\" */ },\n\t0x0414: { /* n:\"BrtSXDI14\" */ },\n\t0x0415: { /* n:\"BrtWsFmtInfoEx14\" */ },\n\t0x0416: { /* n:\"BrtBeginConditionalFormatting14\", */ T:1 },\n\t0x0417: { /* n:\"BrtEndConditionalFormatting14\", */ T:-1 },\n\t0x0418: { /* n:\"BrtBeginCFRule14\", */ T:1 },\n\t0x0419: { /* n:\"BrtEndCFRule14\", */ T:-1 },\n\t0x041A: { /* n:\"BrtCFVO14\" */ },\n\t0x041B: { /* n:\"BrtBeginDatabar14\", */ T:1 },\n\t0x041C: { /* n:\"BrtBeginIconSet14\", */ T:1 },\n\t0x041D: { /* n:\"BrtDVal14\", */ f: parse_BrtDVal14 },\n\t0x041E: { /* n:\"BrtBeginDVals14\", */ T:1 },\n\t0x041F: { /* n:\"BrtColor14\" */ },\n\t0x0420: { /* n:\"BrtBeginSparklines\", */ T:1 },\n\t0x0421: { /* n:\"BrtEndSparklines\", */ T:-1 },\n\t0x0422: { /* n:\"BrtBeginSparklineGroups\", */ T:1 },\n\t0x0423: { /* n:\"BrtEndSparklineGroups\", */ T:-1 },\n\t0x0425: { /* n:\"BrtSXVD14\" */ },\n\t0x0426: { /* n:\"BrtBeginSXView14\", */ T:1 },\n\t0x0427: { /* n:\"BrtEndSXView14\", */ T:-1 },\n\t0x0428: { /* n:\"BrtBeginSXView16\", */ T:1 },\n\t0x0429: { /* n:\"BrtEndSXView16\", */ T:-1 },\n\t0x042A: { /* n:\"BrtBeginPCD14\", */ T:1 },\n\t0x042B: { /* n:\"BrtEndPCD14\", */ T:-1 },\n\t0x042C: { /* n:\"BrtBeginExtConn14\", */ T:1 },\n\t0x042D: { /* n:\"BrtEndExtConn14\", */ T:-1 },\n\t0x042E: { /* n:\"BrtBeginSlicerCacheIDs\", */ T:1 },\n\t0x042F: { /* n:\"BrtEndSlicerCacheIDs\", */ T:-1 },\n\t0x0430: { /* n:\"BrtBeginSlicerCacheID\", */ T:1 },\n\t0x0431: { /* n:\"BrtEndSlicerCacheID\", */ T:-1 },\n\t0x0433: { /* n:\"BrtBeginSlicerCache\", */ T:1 },\n\t0x0434: { /* n:\"BrtEndSlicerCache\", */ T:-1 },\n\t0x0435: { /* n:\"BrtBeginSlicerCacheDef\", */ T:1 },\n\t0x0436: { /* n:\"BrtEndSlicerCacheDef\", */ T:-1 },\n\t0x0437: { /* n:\"BrtBeginSlicersEx\", */ T:1 },\n\t0x0438: { /* n:\"BrtEndSlicersEx\", */ T:-1 },\n\t0x0439: { /* n:\"BrtBeginSlicerEx\", */ T:1 },\n\t0x043A: { /* n:\"BrtEndSlicerEx\", */ T:-1 },\n\t0x043B: { /* n:\"BrtBeginSlicer\", */ T:1 },\n\t0x043C: { /* n:\"BrtEndSlicer\", */ T:-1 },\n\t0x043D: { /* n:\"BrtSlicerCachePivotTables\" */ },\n\t0x043E: { /* n:\"BrtBeginSlicerCacheOlapImpl\", */ T:1 },\n\t0x043F: { /* n:\"BrtEndSlicerCacheOlapImpl\", */ T:-1 },\n\t0x0440: { /* n:\"BrtBeginSlicerCacheLevelsData\", */ T:1 },\n\t0x0441: { /* n:\"BrtEndSlicerCacheLevelsData\", */ T:-1 },\n\t0x0442: { /* n:\"BrtBeginSlicerCacheLevelData\", */ T:1 },\n\t0x0443: { /* n:\"BrtEndSlicerCacheLevelData\", */ T:-1 },\n\t0x0444: { /* n:\"BrtBeginSlicerCacheSiRanges\", */ T:1 },\n\t0x0445: { /* n:\"BrtEndSlicerCacheSiRanges\", */ T:-1 },\n\t0x0446: { /* n:\"BrtBeginSlicerCacheSiRange\", */ T:1 },\n\t0x0447: { /* n:\"BrtEndSlicerCacheSiRange\", */ T:-1 },\n\t0x0448: { /* n:\"BrtSlicerCacheOlapItem\" */ },\n\t0x0449: { /* n:\"BrtBeginSlicerCacheSelections\", */ T:1 },\n\t0x044A: { /* n:\"BrtSlicerCacheSelection\" */ },\n\t0x044B: { /* n:\"BrtEndSlicerCacheSelections\", */ T:-1 },\n\t0x044C: { /* n:\"BrtBeginSlicerCacheNative\", */ T:1 },\n\t0x044D: { /* n:\"BrtEndSlicerCacheNative\", */ T:-1 },\n\t0x044E: { /* n:\"BrtSlicerCacheNativeItem\" */ },\n\t0x044F: { /* n:\"BrtRangeProtection14\" */ },\n\t0x0450: { /* n:\"BrtRangeProtectionIso14\" */ },\n\t0x0451: { /* n:\"BrtCellIgnoreEC14\" */ },\n\t0x0457: { /* n:\"BrtList14\" */ },\n\t0x0458: { /* n:\"BrtCFIcon\" */ },\n\t0x0459: { /* n:\"BrtBeginSlicerCachesPivotCacheIDs\", */ T:1 },\n\t0x045A: { /* n:\"BrtEndSlicerCachesPivotCacheIDs\", */ T:-1 },\n\t0x045B: { /* n:\"BrtBeginSlicers\", */ T:1 },\n\t0x045C: { /* n:\"BrtEndSlicers\", */ T:-1 },\n\t0x045D: { /* n:\"BrtWbProp14\" */ },\n\t0x045E: { /* n:\"BrtBeginSXEdit\", */ T:1 },\n\t0x045F: { /* n:\"BrtEndSXEdit\", */ T:-1 },\n\t0x0460: { /* n:\"BrtBeginSXEdits\", */ T:1 },\n\t0x0461: { /* n:\"BrtEndSXEdits\", */ T:-1 },\n\t0x0462: { /* n:\"BrtBeginSXChange\", */ T:1 },\n\t0x0463: { /* n:\"BrtEndSXChange\", */ T:-1 },\n\t0x0464: { /* n:\"BrtBeginSXChanges\", */ T:1 },\n\t0x0465: { /* n:\"BrtEndSXChanges\", */ T:-1 },\n\t0x0466: { /* n:\"BrtSXTupleItems\" */ },\n\t0x0468: { /* n:\"BrtBeginSlicerStyle\", */ T:1 },\n\t0x0469: { /* n:\"BrtEndSlicerStyle\", */ T:-1 },\n\t0x046A: { /* n:\"BrtSlicerStyleElement\" */ },\n\t0x046B: { /* n:\"BrtBeginStyleSheetExt14\", */ T:1 },\n\t0x046C: { /* n:\"BrtEndStyleSheetExt14\", */ T:-1 },\n\t0x046D: { /* n:\"BrtBeginSlicerCachesPivotCacheID\", */ T:1 },\n\t0x046E: { /* n:\"BrtEndSlicerCachesPivotCacheID\", */ T:-1 },\n\t0x046F: { /* n:\"BrtBeginConditionalFormattings\", */ T:1 },\n\t0x0470: { /* n:\"BrtEndConditionalFormattings\", */ T:-1 },\n\t0x0471: { /* n:\"BrtBeginPCDCalcMemExt\", */ T:1 },\n\t0x0472: { /* n:\"BrtEndPCDCalcMemExt\", */ T:-1 },\n\t0x0473: { /* n:\"BrtBeginPCDCalcMemsExt\", */ T:1 },\n\t0x0474: { /* n:\"BrtEndPCDCalcMemsExt\", */ T:-1 },\n\t0x0475: { /* n:\"BrtPCDField14\" */ },\n\t0x0476: { /* n:\"BrtBeginSlicerStyles\", */ T:1 },\n\t0x0477: { /* n:\"BrtEndSlicerStyles\", */ T:-1 },\n\t0x0478: { /* n:\"BrtBeginSlicerStyleElements\", */ T:1 },\n\t0x0479: { /* n:\"BrtEndSlicerStyleElements\", */ T:-1 },\n\t0x047A: { /* n:\"BrtCFRuleExt\" */ },\n\t0x047B: { /* n:\"BrtBeginSXCondFmt14\", */ T:1 },\n\t0x047C: { /* n:\"BrtEndSXCondFmt14\", */ T:-1 },\n\t0x047D: { /* n:\"BrtBeginSXCondFmts14\", */ T:1 },\n\t0x047E: { /* n:\"BrtEndSXCondFmts14\", */ T:-1 },\n\t0x0480: { /* n:\"BrtBeginSortCond14\", */ T:1 },\n\t0x0481: { /* n:\"BrtEndSortCond14\", */ T:-1 },\n\t0x0482: { /* n:\"BrtEndDVals14\", */ T:-1 },\n\t0x0483: { /* n:\"BrtEndIconSet14\", */ T:-1 },\n\t0x0484: { /* n:\"BrtEndDatabar14\", */ T:-1 },\n\t0x0485: { /* n:\"BrtBeginColorScale14\", */ T:1 },\n\t0x0486: { /* n:\"BrtEndColorScale14\", */ T:-1 },\n\t0x0487: { /* n:\"BrtBeginSxrules14\", */ T:1 },\n\t0x0488: { /* n:\"BrtEndSxrules14\", */ T:-1 },\n\t0x0489: { /* n:\"BrtBeginPRule14\", */ T:1 },\n\t0x048A: { /* n:\"BrtEndPRule14\", */ T:-1 },\n\t0x048B: { /* n:\"BrtBeginPRFilters14\", */ T:1 },\n\t0x048C: { /* n:\"BrtEndPRFilters14\", */ T:-1 },\n\t0x048D: { /* n:\"BrtBeginPRFilter14\", */ T:1 },\n\t0x048E: { /* n:\"BrtEndPRFilter14\", */ T:-1 },\n\t0x048F: { /* n:\"BrtBeginPRFItem14\", */ T:1 },\n\t0x0490: { /* n:\"BrtEndPRFItem14\", */ T:-1 },\n\t0x0491: { /* n:\"BrtBeginCellIgnoreECs14\", */ T:1 },\n\t0x0492: { /* n:\"BrtEndCellIgnoreECs14\", */ T:-1 },\n\t0x0493: { /* n:\"BrtDxf14\" */ },\n\t0x0494: { /* n:\"BrtBeginDxF14s\", */ T:1 },\n\t0x0495: { /* n:\"BrtEndDxf14s\", */ T:-1 },\n\t0x0499: { /* n:\"BrtFilter14\" */ },\n\t0x049A: { /* n:\"BrtBeginCustomFilters14\", */ T:1 },\n\t0x049C: { /* n:\"BrtCustomFilter14\" */ },\n\t0x049D: { /* n:\"BrtIconFilter14\" */ },\n\t0x049E: { /* n:\"BrtPivotCacheConnectionName\" */ },\n\t0x0800: { /* n:\"BrtBeginDecoupledPivotCacheIDs\", */ T:1 },\n\t0x0801: { /* n:\"BrtEndDecoupledPivotCacheIDs\", */ T:-1 },\n\t0x0802: { /* n:\"BrtDecoupledPivotCacheID\" */ },\n\t0x0803: { /* n:\"BrtBeginPivotTableRefs\", */ T:1 },\n\t0x0804: { /* n:\"BrtEndPivotTableRefs\", */ T:-1 },\n\t0x0805: { /* n:\"BrtPivotTableRef\" */ },\n\t0x0806: { /* n:\"BrtSlicerCacheBookPivotTables\" */ },\n\t0x0807: { /* n:\"BrtBeginSxvcells\", */ T:1 },\n\t0x0808: { /* n:\"BrtEndSxvcells\", */ T:-1 },\n\t0x0809: { /* n:\"BrtBeginSxRow\", */ T:1 },\n\t0x080A: { /* n:\"BrtEndSxRow\", */ T:-1 },\n\t0x080C: { /* n:\"BrtPcdCalcMem15\" */ },\n\t0x0813: { /* n:\"BrtQsi15\" */ },\n\t0x0814: { /* n:\"BrtBeginWebExtensions\", */ T:1 },\n\t0x0815: { /* n:\"BrtEndWebExtensions\", */ T:-1 },\n\t0x0816: { /* n:\"BrtWebExtension\" */ },\n\t0x0817: { /* n:\"BrtAbsPath15\" */ },\n\t0x0818: { /* n:\"BrtBeginPivotTableUISettings\", */ T:1 },\n\t0x0819: { /* n:\"BrtEndPivotTableUISettings\", */ T:-1 },\n\t0x081B: { /* n:\"BrtTableSlicerCacheIDs\" */ },\n\t0x081C: { /* n:\"BrtTableSlicerCacheID\" */ },\n\t0x081D: { /* n:\"BrtBeginTableSlicerCache\", */ T:1 },\n\t0x081E: { /* n:\"BrtEndTableSlicerCache\", */ T:-1 },\n\t0x081F: { /* n:\"BrtSxFilter15\" */ },\n\t0x0820: { /* n:\"BrtBeginTimelineCachePivotCacheIDs\", */ T:1 },\n\t0x0821: { /* n:\"BrtEndTimelineCachePivotCacheIDs\", */ T:-1 },\n\t0x0822: { /* n:\"BrtTimelineCachePivotCacheID\" */ },\n\t0x0823: { /* n:\"BrtBeginTimelineCacheIDs\", */ T:1 },\n\t0x0824: { /* n:\"BrtEndTimelineCacheIDs\", */ T:-1 },\n\t0x0825: { /* n:\"BrtBeginTimelineCacheID\", */ T:1 },\n\t0x0826: { /* n:\"BrtEndTimelineCacheID\", */ T:-1 },\n\t0x0827: { /* n:\"BrtBeginTimelinesEx\", */ T:1 },\n\t0x0828: { /* n:\"BrtEndTimelinesEx\", */ T:-1 },\n\t0x0829: { /* n:\"BrtBeginTimelineEx\", */ T:1 },\n\t0x082A: { /* n:\"BrtEndTimelineEx\", */ T:-1 },\n\t0x082B: { /* n:\"BrtWorkBookPr15\" */ },\n\t0x082C: { /* n:\"BrtPCDH15\" */ },\n\t0x082D: { /* n:\"BrtBeginTimelineStyle\", */ T:1 },\n\t0x082E: { /* n:\"BrtEndTimelineStyle\", */ T:-1 },\n\t0x082F: { /* n:\"BrtTimelineStyleElement\" */ },\n\t0x0830: { /* n:\"BrtBeginTimelineStylesheetExt15\", */ T:1 },\n\t0x0831: { /* n:\"BrtEndTimelineStylesheetExt15\", */ T:-1 },\n\t0x0832: { /* n:\"BrtBeginTimelineStyles\", */ T:1 },\n\t0x0833: { /* n:\"BrtEndTimelineStyles\", */ T:-1 },\n\t0x0834: { /* n:\"BrtBeginTimelineStyleElements\", */ T:1 },\n\t0x0835: { /* n:\"BrtEndTimelineStyleElements\", */ T:-1 },\n\t0x0836: { /* n:\"BrtDxf15\" */ },\n\t0x0837: { /* n:\"BrtBeginDxfs15\", */ T:1 },\n\t0x0838: { /* n:\"BrtEndDxfs15\", */ T:-1 },\n\t0x0839: { /* n:\"BrtSlicerCacheHideItemsWithNoData\" */ },\n\t0x083A: { /* n:\"BrtBeginItemUniqueNames\", */ T:1 },\n\t0x083B: { /* n:\"BrtEndItemUniqueNames\", */ T:-1 },\n\t0x083C: { /* n:\"BrtItemUniqueName\" */ },\n\t0x083D: { /* n:\"BrtBeginExtConn15\", */ T:1 },\n\t0x083E: { /* n:\"BrtEndExtConn15\", */ T:-1 },\n\t0x083F: { /* n:\"BrtBeginOledbPr15\", */ T:1 },\n\t0x0840: { /* n:\"BrtEndOledbPr15\", */ T:-1 },\n\t0x0841: { /* n:\"BrtBeginDataFeedPr15\", */ T:1 },\n\t0x0842: { /* n:\"BrtEndDataFeedPr15\", */ T:-1 },\n\t0x0843: { /* n:\"BrtTextPr15\" */ },\n\t0x0844: { /* n:\"BrtRangePr15\" */ },\n\t0x0845: { /* n:\"BrtDbCommand15\" */ },\n\t0x0846: { /* n:\"BrtBeginDbTables15\", */ T:1 },\n\t0x0847: { /* n:\"BrtEndDbTables15\", */ T:-1 },\n\t0x0848: { /* n:\"BrtDbTable15\" */ },\n\t0x0849: { /* n:\"BrtBeginDataModel\", */ T:1 },\n\t0x084A: { /* n:\"BrtEndDataModel\", */ T:-1 },\n\t0x084B: { /* n:\"BrtBeginModelTables\", */ T:1 },\n\t0x084C: { /* n:\"BrtEndModelTables\", */ T:-1 },\n\t0x084D: { /* n:\"BrtModelTable\" */ },\n\t0x084E: { /* n:\"BrtBeginModelRelationships\", */ T:1 },\n\t0x084F: { /* n:\"BrtEndModelRelationships\", */ T:-1 },\n\t0x0850: { /* n:\"BrtModelRelationship\" */ },\n\t0x0851: { /* n:\"BrtBeginECTxtWiz15\", */ T:1 },\n\t0x0852: { /* n:\"BrtEndECTxtWiz15\", */ T:-1 },\n\t0x0853: { /* n:\"BrtBeginECTWFldInfoLst15\", */ T:1 },\n\t0x0854: { /* n:\"BrtEndECTWFldInfoLst15\", */ T:-1 },\n\t0x0855: { /* n:\"BrtBeginECTWFldInfo15\", */ T:1 },\n\t0x0856: { /* n:\"BrtFieldListActiveItem\" */ },\n\t0x0857: { /* n:\"BrtPivotCacheIdVersion\" */ },\n\t0x0858: { /* n:\"BrtSXDI15\" */ },\n\t0x0859: { /* n:\"BrtBeginModelTimeGroupings\", */ T:1 },\n\t0x085A: { /* n:\"BrtEndModelTimeGroupings\", */ T:-1 },\n\t0x085B: { /* n:\"BrtBeginModelTimeGrouping\", */ T:1 },\n\t0x085C: { /* n:\"BrtEndModelTimeGrouping\", */ T:-1 },\n\t0x085D: { /* n:\"BrtModelTimeGroupingCalcCol\" */ },\n\t0x0C00: { /* n:\"BrtUid\" */ },\n\t0x0C01: { /* n:\"BrtRevisionPtr\" */ },\n\t0x1000: { /* n:\"BrtBeginDynamicArrayPr\", */ T:1 },\n\t0x1001: { /* n:\"BrtEndDynamicArrayPr\", */ T:-1 },\n\t0x138A: { /* n:\"BrtBeginRichValueBlock\", */ T:1 },\n\t0x138B: { /* n:\"BrtEndRichValueBlock\", */ T:-1 },\n\t0x13D9: { /* n:\"BrtBeginRichFilters\", */ T:1 },\n\t0x13DA: { /* n:\"BrtEndRichFilters\", */ T:-1 },\n\t0x13DB: { /* n:\"BrtRichFilter\" */ },\n\t0x13DC: { /* n:\"BrtBeginRichFilterColumn\", */ T:1 },\n\t0x13DD: { /* n:\"BrtEndRichFilterColumn\", */ T:-1 },\n\t0x13DE: { /* n:\"BrtBeginCustomRichFilters\", */ T:1 },\n\t0x13DF: { /* n:\"BrtEndCustomRichFilters\", */ T:-1 },\n\t0x13E0: { /* n:\"BrtCustomRichFilter\" */ },\n\t0x13E1: { /* n:\"BrtTop10RichFilter\" */ },\n\t0x13E2: { /* n:\"BrtDynamicRichFilter\" */ },\n\t0x13E4: { /* n:\"BrtBeginRichSortCondition\", */ T:1 },\n\t0x13E5: { /* n:\"BrtEndRichSortCondition\", */ T:-1 },\n\t0x13E6: { /* n:\"BrtRichFilterDateGroupItem\" */ },\n\t0x13E7: { /* n:\"BrtBeginCalcFeatures\", */ T:1 },\n\t0x13E8: { /* n:\"BrtEndCalcFeatures\", */ T:-1 },\n\t0x13E9: { /* n:\"BrtCalcFeature\" */ },\n\t0x13EB: { /* n:\"BrtExternalLinksPr\" */ },\n\t0xFFFF: { n:\"\" }\n};\n\n/* [MS-XLS] 2.3 Record Enumeration (and other sources) */\nvar XLSRecordEnum = {\n\t/* [MS-XLS] 2.3 Record Enumeration 2021-08-17 */\n\t0x0006: { /* n:\"Formula\", */ f:parse_Formula },\n\t0x000a: { /* n:\"EOF\", */ f:parsenoop2 },\n\t0x000c: { /* n:\"CalcCount\", */ f:parseuint16 }, //\n\t0x000d: { /* n:\"CalcMode\", */ f:parseuint16 }, //\n\t0x000e: { /* n:\"CalcPrecision\", */ f:parsebool }, //\n\t0x000f: { /* n:\"CalcRefMode\", */ f:parsebool }, //\n\t0x0010: { /* n:\"CalcDelta\", */ f:parse_Xnum }, //\n\t0x0011: { /* n:\"CalcIter\", */ f:parsebool }, //\n\t0x0012: { /* n:\"Protect\", */ f:parsebool },\n\t0x0013: { /* n:\"Password\", */ f:parseuint16 },\n\t0x0014: { /* n:\"Header\", */ f:parse_XLHeaderFooter },\n\t0x0015: { /* n:\"Footer\", */ f:parse_XLHeaderFooter },\n\t0x0017: { /* n:\"ExternSheet\", */ f:parse_ExternSheet },\n\t0x0018: { /* n:\"Lbl\", */ f:parse_Lbl },\n\t0x0019: { /* n:\"WinProtect\", */ f:parsebool },\n\t0x001a: { /* n:\"VerticalPageBreaks\", */ },\n\t0x001b: { /* n:\"HorizontalPageBreaks\", */ },\n\t0x001c: { /* n:\"Note\", */ f:parse_Note },\n\t0x001d: { /* n:\"Selection\", */ },\n\t0x0022: { /* n:\"Date1904\", */ f:parsebool },\n\t0x0023: { /* n:\"ExternName\", */ f:parse_ExternName },\n\t0x0026: { /* n:\"LeftMargin\", */ f:parse_Xnum }, // *\n\t0x0027: { /* n:\"RightMargin\", */ f:parse_Xnum }, // *\n\t0x0028: { /* n:\"TopMargin\", */ f:parse_Xnum }, // *\n\t0x0029: { /* n:\"BottomMargin\", */ f:parse_Xnum }, // *\n\t0x002a: { /* n:\"PrintRowCol\", */ f:parsebool },\n\t0x002b: { /* n:\"PrintGrid\", */ f:parsebool },\n\t0x002f: { /* n:\"FilePass\", */ f:parse_FilePass },\n\t0x0031: { /* n:\"Font\", */ f:parse_Font },\n\t0x0033: { /* n:\"PrintSize\", */ f:parseuint16 },\n\t0x003c: { /* n:\"Continue\", */ },\n\t0x003d: { /* n:\"Window1\", */ f:parse_Window1 },\n\t0x0040: { /* n:\"Backup\", */ f:parsebool },\n\t0x0041: { /* n:\"Pane\", */ f:parse_Pane },\n\t0x0042: { /* n:\"CodePage\", */ f:parseuint16 },\n\t0x004d: { /* n:\"Pls\", */ },\n\t0x0050: { /* n:\"DCon\", */ },\n\t0x0051: { /* n:\"DConRef\", */ },\n\t0x0052: { /* n:\"DConName\", */ },\n\t0x0055: { /* n:\"DefColWidth\", */ f:parseuint16 },\n\t0x0059: { /* n:\"XCT\", */ },\n\t0x005a: { /* n:\"CRN\", */ },\n\t0x005b: { /* n:\"FileSharing\", */ },\n\t0x005c: { /* n:\"WriteAccess\", */ f:parse_WriteAccess },\n\t0x005d: { /* n:\"Obj\", */ f:parse_Obj },\n\t0x005e: { /* n:\"Uncalced\", */ },\n\t0x005f: { /* n:\"CalcSaveRecalc\", */ f:parsebool }, //\n\t0x0060: { /* n:\"Template\", */ },\n\t0x0061: { /* n:\"Intl\", */ },\n\t0x0063: { /* n:\"ObjProtect\", */ f:parsebool },\n\t0x007d: { /* n:\"ColInfo\", */ f:parse_ColInfo },\n\t0x0080: { /* n:\"Guts\", */ f:parse_Guts },\n\t0x0081: { /* n:\"WsBool\", */ f:parse_WsBool },\n\t0x0082: { /* n:\"GridSet\", */ f:parseuint16 },\n\t0x0083: { /* n:\"HCenter\", */ f:parsebool },\n\t0x0084: { /* n:\"VCenter\", */ f:parsebool },\n\t0x0085: { /* n:\"BoundSheet8\", */ f:parse_BoundSheet8 },\n\t0x0086: { /* n:\"WriteProtect\", */ },\n\t0x008c: { /* n:\"Country\", */ f:parse_Country },\n\t0x008d: { /* n:\"HideObj\", */ f:parseuint16 },\n\t0x0090: { /* n:\"Sort\", */ },\n\t0x0092: { /* n:\"Palette\", */ f:parse_Palette },\n\t0x0097: { /* n:\"Sync\", */ },\n\t0x0098: { /* n:\"LPr\", */ },\n\t0x0099: { /* n:\"DxGCol\", */ },\n\t0x009a: { /* n:\"FnGroupName\", */ },\n\t0x009b: { /* n:\"FilterMode\", */ },\n\t0x009c: { /* n:\"BuiltInFnGroupCount\", */ f:parseuint16 },\n\t0x009d: { /* n:\"AutoFilterInfo\", */ },\n\t0x009e: { /* n:\"AutoFilter\", */ },\n\t0x00a0: { /* n:\"Scl\", */ f:parse_Scl },\n\t0x00a1: { /* n:\"Setup\", */ f:parse_Setup },\n\t0x00ae: { /* n:\"ScenMan\", */ },\n\t0x00af: { /* n:\"SCENARIO\", */ },\n\t0x00b0: { /* n:\"SxView\", */ },\n\t0x00b1: { /* n:\"Sxvd\", */ },\n\t0x00b2: { /* n:\"SXVI\", */ },\n\t0x00b4: { /* n:\"SxIvd\", */ },\n\t0x00b5: { /* n:\"SXLI\", */ },\n\t0x00b6: { /* n:\"SXPI\", */ },\n\t0x00b8: { /* n:\"DocRoute\", */ },\n\t0x00b9: { /* n:\"RecipName\", */ },\n\t0x00bd: { /* n:\"MulRk\", */ f:parse_MulRk },\n\t0x00be: { /* n:\"MulBlank\", */ f:parse_MulBlank },\n\t0x00c1: { /* n:\"Mms\", */ f:parsenoop2 },\n\t0x00c5: { /* n:\"SXDI\", */ },\n\t0x00c6: { /* n:\"SXDB\", */ },\n\t0x00c7: { /* n:\"SXFDB\", */ },\n\t0x00c8: { /* n:\"SXDBB\", */ },\n\t0x00c9: { /* n:\"SXNum\", */ },\n\t0x00ca: { /* n:\"SxBool\", */ f:parsebool },\n\t0x00cb: { /* n:\"SxErr\", */ },\n\t0x00cc: { /* n:\"SXInt\", */ },\n\t0x00cd: { /* n:\"SXString\", */ },\n\t0x00ce: { /* n:\"SXDtr\", */ },\n\t0x00cf: { /* n:\"SxNil\", */ },\n\t0x00d0: { /* n:\"SXTbl\", */ },\n\t0x00d1: { /* n:\"SXTBRGIITM\", */ },\n\t0x00d2: { /* n:\"SxTbpg\", */ },\n\t0x00d3: { /* n:\"ObProj\", */ },\n\t0x00d5: { /* n:\"SXStreamID\", */ },\n\t0x00d7: { /* n:\"DBCell\", */ },\n\t0x00d8: { /* n:\"SXRng\", */ },\n\t0x00d9: { /* n:\"SxIsxoper\", */ },\n\t0x00da: { /* n:\"BookBool\", */ f:parseuint16 },\n\t0x00dc: { /* n:\"DbOrParamQry\", */ },\n\t0x00dd: { /* n:\"ScenarioProtect\", */ f:parsebool },\n\t0x00de: { /* n:\"OleObjectSize\", */ },\n\t0x00e0: { /* n:\"XF\", */ f:parse_XF },\n\t0x00e1: { /* n:\"InterfaceHdr\", */ f:parse_InterfaceHdr },\n\t0x00e2: { /* n:\"InterfaceEnd\", */ f:parsenoop2 },\n\t0x00e3: { /* n:\"SXVS\", */ },\n\t0x00e5: { /* n:\"MergeCells\", */ f:parse_MergeCells },\n\t0x00e9: { /* n:\"BkHim\", */ },\n\t0x00eb: { /* n:\"MsoDrawingGroup\", */ },\n\t0x00ec: { /* n:\"MsoDrawing\", */ },\n\t0x00ed: { /* n:\"MsoDrawingSelection\", */ },\n\t0x00ef: { /* n:\"PhoneticInfo\", */ },\n\t0x00f0: { /* n:\"SxRule\", */ },\n\t0x00f1: { /* n:\"SXEx\", */ },\n\t0x00f2: { /* n:\"SxFilt\", */ },\n\t0x00f4: { /* n:\"SxDXF\", */ },\n\t0x00f5: { /* n:\"SxItm\", */ },\n\t0x00f6: { /* n:\"SxName\", */ },\n\t0x00f7: { /* n:\"SxSelect\", */ },\n\t0x00f8: { /* n:\"SXPair\", */ },\n\t0x00f9: { /* n:\"SxFmla\", */ },\n\t0x00fb: { /* n:\"SxFormat\", */ },\n\t0x00fc: { /* n:\"SST\", */ f:parse_SST },\n\t0x00fd: { /* n:\"LabelSst\", */ f:parse_LabelSst },\n\t0x00ff: { /* n:\"ExtSST\", */ f:parse_ExtSST },\n\t0x0100: { /* n:\"SXVDEx\", */ },\n\t0x0103: { /* n:\"SXFormula\", */ },\n\t0x0122: { /* n:\"SXDBEx\", */ },\n\t0x0137: { /* n:\"RRDInsDel\", */ },\n\t0x0138: { /* n:\"RRDHead\", */ },\n\t0x013b: { /* n:\"RRDChgCell\", */ },\n\t0x013d: { /* n:\"RRTabId\", */ f:parseuint16a },\n\t0x013e: { /* n:\"RRDRenSheet\", */ },\n\t0x013f: { /* n:\"RRSort\", */ },\n\t0x0140: { /* n:\"RRDMove\", */ },\n\t0x014a: { /* n:\"RRFormat\", */ },\n\t0x014b: { /* n:\"RRAutoFmt\", */ },\n\t0x014d: { /* n:\"RRInsertSh\", */ },\n\t0x014e: { /* n:\"RRDMoveBegin\", */ },\n\t0x014f: { /* n:\"RRDMoveEnd\", */ },\n\t0x0150: { /* n:\"RRDInsDelBegin\", */ },\n\t0x0151: { /* n:\"RRDInsDelEnd\", */ },\n\t0x0152: { /* n:\"RRDConflict\", */ },\n\t0x0153: { /* n:\"RRDDefName\", */ },\n\t0x0154: { /* n:\"RRDRstEtxp\", */ },\n\t0x015f: { /* n:\"LRng\", */ },\n\t0x0160: { /* n:\"UsesELFs\", */ f:parsebool },\n\t0x0161: { /* n:\"DSF\", */ f:parsenoop2 },\n\t0x0191: { /* n:\"CUsr\", */ },\n\t0x0192: { /* n:\"CbUsr\", */ },\n\t0x0193: { /* n:\"UsrInfo\", */ },\n\t0x0194: { /* n:\"UsrExcl\", */ },\n\t0x0195: { /* n:\"FileLock\", */ },\n\t0x0196: { /* n:\"RRDInfo\", */ },\n\t0x0197: { /* n:\"BCUsrs\", */ },\n\t0x0198: { /* n:\"UsrChk\", */ },\n\t0x01a9: { /* n:\"UserBView\", */ },\n\t0x01aa: { /* n:\"UserSViewBegin\", */ },\n\t0x01ab: { /* n:\"UserSViewEnd\", */ },\n\t0x01ac: { /* n:\"RRDUserView\", */ },\n\t0x01ad: { /* n:\"Qsi\", */ },\n\t0x01ae: { /* n:\"SupBook\", */ f:parse_SupBook },\n\t0x01af: { /* n:\"Prot4Rev\", */ f:parsebool },\n\t0x01b0: { /* n:\"CondFmt\", */ },\n\t0x01b1: { /* n:\"CF\", */ },\n\t0x01b2: { /* n:\"DVal\", */ },\n\t0x01b5: { /* n:\"DConBin\", */ },\n\t0x01b6: { /* n:\"TxO\", */ f:parse_TxO },\n\t0x01b7: { /* n:\"RefreshAll\", */ f:parsebool }, //\n\t0x01b8: { /* n:\"HLink\", */ f:parse_HLink },\n\t0x01b9: { /* n:\"Lel\", */ },\n\t0x01ba: { /* n:\"CodeName\", */ f:parse_XLUnicodeString },\n\t0x01bb: { /* n:\"SXFDBType\", */ },\n\t0x01bc: { /* n:\"Prot4RevPass\", */ f:parseuint16 },\n\t0x01bd: { /* n:\"ObNoMacros\", */ },\n\t0x01be: { /* n:\"Dv\", */ },\n\t0x01c0: { /* n:\"Excel9File\", */ f:parsenoop2 },\n\t0x01c1: { /* n:\"RecalcId\", */ f:parse_RecalcId, r:2},\n\t0x01c2: { /* n:\"EntExU2\", */ f:parsenoop2 },\n\t0x0200: { /* n:\"Dimensions\", */ f:parse_Dimensions },\n\t0x0201: { /* n:\"Blank\", */ f:parse_Blank },\n\t0x0203: { /* n:\"Number\", */ f:parse_Number },\n\t0x0204: { /* n:\"Label\", */ f:parse_Label },\n\t0x0205: { /* n:\"BoolErr\", */ f:parse_BoolErr },\n\t0x0207: { /* n:\"String\", */ f:parse_String },\n\t0x0208: { /* n:\"Row\", */ f:parse_Row },\n\t0x020b: { /* n:\"Index\", */ },\n\t0x0221: { /* n:\"Array\", */ f:parse_Array },\n\t0x0225: { /* n:\"DefaultRowHeight\", */ f:parse_DefaultRowHeight },\n\t0x0236: { /* n:\"Table\", */ },\n\t0x023e: { /* n:\"Window2\", */ f:parse_Window2 },\n\t0x027e: { /* n:\"RK\", */ f:parse_RK },\n\t0x0293: { /* n:\"Style\", */ },\n\t0x0418: { /* n:\"BigName\", */ },\n\t0x041e: { /* n:\"Format\", */ f:parse_Format },\n\t0x043c: { /* n:\"ContinueBigName\", */ },\n\t0x04bc: { /* n:\"ShrFmla\", */ f:parse_ShrFmla },\n\t0x0800: { /* n:\"HLinkTooltip\", */ f:parse_HLinkTooltip },\n\t0x0801: { /* n:\"WebPub\", */ },\n\t0x0802: { /* n:\"QsiSXTag\", */ },\n\t0x0803: { /* n:\"DBQueryExt\", */ },\n\t0x0804: { /* n:\"ExtString\", */ },\n\t0x0805: { /* n:\"TxtQry\", */ },\n\t0x0806: { /* n:\"Qsir\", */ },\n\t0x0807: { /* n:\"Qsif\", */ },\n\t0x0808: { /* n:\"RRDTQSIF\", */ },\n\t0x0809: { /* n:\"BOF\", */ f:parse_BOF },\n\t0x080a: { /* n:\"OleDbConn\", */ },\n\t0x080b: { /* n:\"WOpt\", */ },\n\t0x080c: { /* n:\"SXViewEx\", */ },\n\t0x080d: { /* n:\"SXTH\", */ },\n\t0x080e: { /* n:\"SXPIEx\", */ },\n\t0x080f: { /* n:\"SXVDTEx\", */ },\n\t0x0810: { /* n:\"SXViewEx9\", */ },\n\t0x0812: { /* n:\"ContinueFrt\", */ },\n\t0x0813: { /* n:\"RealTimeData\", */ },\n\t0x0850: { /* n:\"ChartFrtInfo\", */ },\n\t0x0851: { /* n:\"FrtWrapper\", */ },\n\t0x0852: { /* n:\"StartBlock\", */ },\n\t0x0853: { /* n:\"EndBlock\", */ },\n\t0x0854: { /* n:\"StartObject\", */ },\n\t0x0855: { /* n:\"EndObject\", */ },\n\t0x0856: { /* n:\"CatLab\", */ },\n\t0x0857: { /* n:\"YMult\", */ },\n\t0x0858: { /* n:\"SXViewLink\", */ },\n\t0x0859: { /* n:\"PivotChartBits\", */ },\n\t0x085a: { /* n:\"FrtFontList\", */ },\n\t0x0862: { /* n:\"SheetExt\", */ },\n\t0x0863: { /* n:\"BookExt\", */ r:12},\n\t0x0864: { /* n:\"SXAddl\", */ },\n\t0x0865: { /* n:\"CrErr\", */ },\n\t0x0866: { /* n:\"HFPicture\", */ },\n\t0x0867: { /* n:\"FeatHdr\", */ f:parsenoop2 },\n\t0x0868: { /* n:\"Feat\", */ },\n\t0x086a: { /* n:\"DataLabExt\", */ },\n\t0x086b: { /* n:\"DataLabExtContents\", */ },\n\t0x086c: { /* n:\"CellWatch\", */ },\n\t0x0871: { /* n:\"FeatHdr11\", */ },\n\t0x0872: { /* n:\"Feature11\", */ },\n\t0x0874: { /* n:\"DropDownObjIds\", */ },\n\t0x0875: { /* n:\"ContinueFrt11\", */ },\n\t0x0876: { /* n:\"DConn\", */ },\n\t0x0877: { /* n:\"List12\", */ },\n\t0x0878: { /* n:\"Feature12\", */ },\n\t0x0879: { /* n:\"CondFmt12\", */ },\n\t0x087a: { /* n:\"CF12\", */ },\n\t0x087b: { /* n:\"CFEx\", */ },\n\t0x087c: { /* n:\"XFCRC\", */ f:parse_XFCRC, r:12 },\n\t0x087d: { /* n:\"XFExt\", */ f:parse_XFExt, r:12 },\n\t0x087e: { /* n:\"AutoFilter12\", */ },\n\t0x087f: { /* n:\"ContinueFrt12\", */ },\n\t0x0884: { /* n:\"MDTInfo\", */ },\n\t0x0885: { /* n:\"MDXStr\", */ },\n\t0x0886: { /* n:\"MDXTuple\", */ },\n\t0x0887: { /* n:\"MDXSet\", */ },\n\t0x0888: { /* n:\"MDXProp\", */ },\n\t0x0889: { /* n:\"MDXKPI\", */ },\n\t0x088a: { /* n:\"MDB\", */ },\n\t0x088b: { /* n:\"PLV\", */ },\n\t0x088c: { /* n:\"Compat12\", */ f:parsebool, r:12 },\n\t0x088d: { /* n:\"DXF\", */ },\n\t0x088e: { /* n:\"TableStyles\", */ r:12 },\n\t0x088f: { /* n:\"TableStyle\", */ },\n\t0x0890: { /* n:\"TableStyleElement\", */ },\n\t0x0892: { /* n:\"StyleExt\", */ },\n\t0x0893: { /* n:\"NamePublish\", */ },\n\t0x0894: { /* n:\"NameCmt\", */ f:parse_NameCmt, r:12 },\n\t0x0895: { /* n:\"SortData\", */ },\n\t0x0896: { /* n:\"Theme\", */ f:parse_Theme, r:12 },\n\t0x0897: { /* n:\"GUIDTypeLib\", */ },\n\t0x0898: { /* n:\"FnGrp12\", */ },\n\t0x0899: { /* n:\"NameFnGrp12\", */ },\n\t0x089a: { /* n:\"MTRSettings\", */ f:parse_MTRSettings, r:12 },\n\t0x089b: { /* n:\"CompressPictures\", */ f:parsenoop2 },\n\t0x089c: { /* n:\"HeaderFooter\", */ },\n\t0x089d: { /* n:\"CrtLayout12\", */ },\n\t0x089e: { /* n:\"CrtMlFrt\", */ },\n\t0x089f: { /* n:\"CrtMlFrtContinue\", */ },\n\t0x08a3: { /* n:\"ForceFullCalculation\", */ f:parse_ForceFullCalculation },\n\t0x08a4: { /* n:\"ShapePropsStream\", */ },\n\t0x08a5: { /* n:\"TextPropsStream\", */ },\n\t0x08a6: { /* n:\"RichTextStream\", */ },\n\t0x08a7: { /* n:\"CrtLayout12A\", */ },\n\t0x1001: { /* n:\"Units\", */ },\n\t0x1002: { /* n:\"Chart\", */ },\n\t0x1003: { /* n:\"Series\", */ },\n\t0x1006: { /* n:\"DataFormat\", */ },\n\t0x1007: { /* n:\"LineFormat\", */ },\n\t0x1009: { /* n:\"MarkerFormat\", */ },\n\t0x100a: { /* n:\"AreaFormat\", */ },\n\t0x100b: { /* n:\"PieFormat\", */ },\n\t0x100c: { /* n:\"AttachedLabel\", */ },\n\t0x100d: { /* n:\"SeriesText\", */ },\n\t0x1014: { /* n:\"ChartFormat\", */ },\n\t0x1015: { /* n:\"Legend\", */ },\n\t0x1016: { /* n:\"SeriesList\", */ },\n\t0x1017: { /* n:\"Bar\", */ },\n\t0x1018: { /* n:\"Line\", */ },\n\t0x1019: { /* n:\"Pie\", */ },\n\t0x101a: { /* n:\"Area\", */ },\n\t0x101b: { /* n:\"Scatter\", */ },\n\t0x101c: { /* n:\"CrtLine\", */ },\n\t0x101d: { /* n:\"Axis\", */ },\n\t0x101e: { /* n:\"Tick\", */ },\n\t0x101f: { /* n:\"ValueRange\", */ },\n\t0x1020: { /* n:\"CatSerRange\", */ },\n\t0x1021: { /* n:\"AxisLine\", */ },\n\t0x1022: { /* n:\"CrtLink\", */ },\n\t0x1024: { /* n:\"DefaultText\", */ },\n\t0x1025: { /* n:\"Text\", */ },\n\t0x1026: { /* n:\"FontX\", */ f:parseuint16 },\n\t0x1027: { /* n:\"ObjectLink\", */ },\n\t0x1032: { /* n:\"Frame\", */ },\n\t0x1033: { /* n:\"Begin\", */ },\n\t0x1034: { /* n:\"End\", */ },\n\t0x1035: { /* n:\"PlotArea\", */ },\n\t0x103a: { /* n:\"Chart3d\", */ },\n\t0x103c: { /* n:\"PicF\", */ },\n\t0x103d: { /* n:\"DropBar\", */ },\n\t0x103e: { /* n:\"Radar\", */ },\n\t0x103f: { /* n:\"Surf\", */ },\n\t0x1040: { /* n:\"RadarArea\", */ },\n\t0x1041: { /* n:\"AxisParent\", */ },\n\t0x1043: { /* n:\"LegendException\", */ },\n\t0x1044: { /* n:\"ShtProps\", */ f:parse_ShtProps },\n\t0x1045: { /* n:\"SerToCrt\", */ },\n\t0x1046: { /* n:\"AxesUsed\", */ },\n\t0x1048: { /* n:\"SBaseRef\", */ },\n\t0x104a: { /* n:\"SerParent\", */ },\n\t0x104b: { /* n:\"SerAuxTrend\", */ },\n\t0x104e: { /* n:\"IFmtRecord\", */ },\n\t0x104f: { /* n:\"Pos\", */ },\n\t0x1050: { /* n:\"AlRuns\", */ },\n\t0x1051: { /* n:\"BRAI\", */ },\n\t0x105b: { /* n:\"SerAuxErrBar\", */ },\n\t0x105c: { /* n:\"ClrtClient\", */ f:parse_ClrtClient },\n\t0x105d: { /* n:\"SerFmt\", */ },\n\t0x105f: { /* n:\"Chart3DBarShape\", */ },\n\t0x1060: { /* n:\"Fbi\", */ },\n\t0x1061: { /* n:\"BopPop\", */ },\n\t0x1062: { /* n:\"AxcExt\", */ },\n\t0x1063: { /* n:\"Dat\", */ },\n\t0x1064: { /* n:\"PlotGrowth\", */ },\n\t0x1065: { /* n:\"SIIndex\", */ },\n\t0x1066: { /* n:\"GelFrame\", */ },\n\t0x1067: { /* n:\"BopPopCustom\", */ },\n\t0x1068: { /* n:\"Fbi2\", */ },\n\n\t0x0000: { /* n:\"Dimensions\", */ f:parse_Dimensions },\n\t0x0001: { /* n:\"BIFF2BLANK\", */ },\n\t0x0002: { /* n:\"BIFF2INT\", */ f:parse_BIFF2INT },\n\t0x0003: { /* n:\"BIFF2NUM\", */ f:parse_BIFF2NUM },\n\t0x0004: { /* n:\"BIFF2STR\", */ f:parse_BIFF2STR },\n\t0x0005: { /* n:\"BIFF2BOOLERR\", */ f:parse_BIFF2BOOLERR },\n\t0x0007: { /* n:\"String\", */ f:parse_BIFF2STRING },\n\t0x0008: { /* n:\"BIFF2ROW\", */ },\n\t0x0009: { /* n:\"BOF\", */ f:parse_BOF },\n\t0x000b: { /* n:\"Index\", */ },\n\t0x0016: { /* n:\"ExternCount\", */ f:parseuint16 },\n\t0x001e: { /* n:\"BIFF2FORMAT\", */ f:parse_BIFF2Format },\n\t0x001f: { /* n:\"BIFF2FMTCNT\", */ }, /* 16-bit cnt of BIFF2FORMAT records */\n\t0x0020: { /* n:\"BIFF2COLINFO\", */ },\n\t0x0021: { /* n:\"Array\", */ f:parse_Array },\n\t0x0024: { /* n:\"COLWIDTH\", */ },\n\t0x0025: { /* n:\"DefaultRowHeight\", */ f:parse_DefaultRowHeight },\n\t// 0x002c ??\n\t// 0x002d ??\n\t// 0x002e ??\n\t// 0x0030 FONTCOUNT: number of fonts\n\t0x0032: { /* n:\"BIFF2FONTXTRA\", */ f:parse_BIFF2FONTXTRA },\n\t// 0x0035: INFOOPTS\n\t// 0x0036: TABLE (BIFF2 only)\n\t// 0x0037: TABLE2 (BIFF2 only)\n\t// 0x0038: WNDESK\n\t// 0x0039 ??\n\t// 0x003a: BEGINPREF\n\t// 0x003b: ENDPREF\n\t0x003e: { /* n:\"BIFF2WINDOW2\", */ },\n\t// 0x003f ??\n\t// 0x0046: SHOWSCROLL\n\t// 0x0047: SHOWFORMULA\n\t// 0x0048: STATUSBAR\n\t// 0x0049: SHORTMENUS\n\t// 0x004A:\n\t// 0x004B:\n\t// 0x004C:\n\t// 0x004E:\n\t// 0x004F:\n\t// 0x0058: TOOLBAR (BIFF3)\n\n\t/* - - - */\n\t0x0034: { /* n:\"DDEObjName\", */ },\n\t0x0043: { /* n:\"BIFF2XF\", */ f:parse_BIFF2XF },\n\t0x0044: { /* n:\"BIFF2XFINDEX\", */ f:parseuint16 },\n\t0x0045: { /* n:\"BIFF2FONTCLR\", */ },\n\t0x0056: { /* n:\"BIFF4FMTCNT\", */ }, /* 16-bit cnt, similar to BIFF2 */\n\t0x007e: { /* n:\"RK\", */ }, /* Not necessarily same as 0x027e */\n\t0x007f: { /* n:\"ImData\", */ f:parse_ImData },\n\t0x0087: { /* n:\"Addin\", */ },\n\t0x0088: { /* n:\"Edg\", */ },\n\t0x0089: { /* n:\"Pub\", */ },\n\t// 0x8A\n\t// 0x8B LH: alternate menu key flag (BIFF3/4)\n\t// 0x8E\n\t0x008F: { /* n:\"BIFF4SheetInfo\", */ f:parse_BIFF4SheetInfo },\n\t0x0091: { /* n:\"Sub\", */ },\n\t// 0x93 STYLE\n\t0x0094: { /* n:\"LHRecord\", */ },\n\t0x0095: { /* n:\"LHNGraph\", */ },\n\t0x0096: { /* n:\"Sound\", */ },\n\t// 0xA2 FNPROTO: function prototypes (BIFF4)\n\t// 0xA3\n\t// 0xA8\n\t0x00a9: { /* n:\"CoordList\", */ },\n\t0x00ab: { /* n:\"GCW\", */ },\n\t0x00bc: { /* n:\"ShrFmla\", */ }, /* Not necessarily same as 0x04bc */\n\t0x00bf: { /* n:\"ToolbarHdr\", */ },\n\t0x00c0: { /* n:\"ToolbarEnd\", */ },\n\t0x00c2: { /* n:\"AddMenu\", */ },\n\t0x00c3: { /* n:\"DelMenu\", */ },\n\t0x00d6: { /* n:\"RString\", */ f:parse_RString },\n\t0x00df: { /* n:\"UDDesc\", */ },\n\t0x00ea: { /* n:\"TabIdConf\", */ },\n\t0x0162: { /* n:\"XL5Modify\", */ },\n\t0x01a5: { /* n:\"FileSharing2\", */ },\n\t0x0206: { /* n:\"Formula\", */ f:parse_Formula },\n\t0x0209: { /* n:\"BOF\", */ f:parse_BOF },\n\t0x0218: { /* n:\"Lbl\", */ f:parse_Lbl },\n\t0x0223: { /* n:\"ExternName\", */ f:parse_ExternName },\n\t0x0231: { /* n:\"Font\", */ },\n\t0x0243: { /* n:\"BIFF3XF\", */ f:parse_BIFF3XF },\n\t0x0406: { /* n:\"Formula\", */ f:parse_Formula },\n\t0x0409: { /* n:\"BOF\", */ f:parse_BOF },\n\t0x0443: { /* n:\"BIFF4XF\", */ f:parse_BIFF4XF },\n\t0x086d: { /* n:\"FeatInfo\", */ },\n\t0x0873: { /* n:\"FeatInfo11\", */ },\n\t0x0881: { /* n:\"SXAddl12\", */ },\n\t0x08c0: { /* n:\"AutoWebPub\", */ },\n\t0x08c1: { /* n:\"ListObj\", */ },\n\t0x08c2: { /* n:\"ListField\", */ },\n\t0x08c3: { /* n:\"ListDV\", */ },\n\t0x08c4: { /* n:\"ListCondFmt\", */ },\n\t0x08c5: { /* n:\"ListCF\", */ },\n\t0x08c6: { /* n:\"FMQry\", */ },\n\t0x08c7: { /* n:\"FMSQry\", */ },\n\t0x08c8: { /* n:\"PLV\", */ },\n\t0x08c9: { /* n:\"LnExt\", */ },\n\t0x08ca: { /* n:\"MkrExt\", */ },\n\t0x08cb: { /* n:\"CrtCoopt\", */ },\n\t0x08d6: { /* n:\"FRTArchId$\", */ r:12 },\n\n\t/* --- multiplan 4 records --- */\n\t0x0065: { /* n:\"\", */ }, // one per window\n\t0x0066: { /* n:\"\", */ }, // calc settings\n\t0x0069: { /* n:\"\", */ }, // print header\n\t0x006a: { /* n:\"\", */ }, // print footer\n\t0x006b: { /* n:\"\", */ }, // print settings\n\t0x006d: { /* n:\"\", */ }, // one per window\n\t0x0070: { /* n:\"\", */ }, // includes default col width\n\t0x0072: { /* n:\"\", */ }, // includes selected cell\n\n\t0x7262: {}\n};\n\nfunction write_biff_rec(ba/*:BufArray*/, type/*:number*/, payload, length/*:?number*/)/*:void*/ {\n\tvar t/*:number*/ = type;\n\tif(isNaN(t)) return;\n\tvar len = length || (payload||[]).length || 0;\n\tvar o = ba.next(4);\n\to.write_shift(2, t);\n\to.write_shift(2, len);\n\tif(/*:: len != null &&*/len > 0 && is_buf(payload)) ba.push(payload);\n}\n\nfunction write_biff_continue(ba/*:BufArray*/, type/*:number*/, payload, length/*:?number*/)/*:void*/ {\n\tvar len = length || (payload||[]).length || 0;\n\tif(len <= 8224) return write_biff_rec(ba, type, payload, len);\n\tvar t = type;\n\tif(isNaN(t)) return;\n\tvar parts = payload.parts || [], sidx = 0;\n\tvar i = 0, w = 0;\n\twhile(w + (parts[sidx] || 8224) <= 8224) { w+= (parts[sidx] || 8224); sidx++; }\n\tvar o = ba.next(4);\n\to.write_shift(2, t);\n\to.write_shift(2, w);\n\tba.push(payload.slice(i, i + w));\n\ti += w;\n\twhile(i < len) {\n\t\to = ba.next(4);\n\t\to.write_shift(2, 0x3c); // TODO: figure out correct continue type\n\t\tw = 0;\n\t\twhile(w + (parts[sidx] || 8224) <= 8224) { w+= (parts[sidx] || 8224); sidx++; }\n\t\to.write_shift(2, w);\n\t\tba.push(payload.slice(i, i+w)); i+= w;\n\t}\n}\n\nfunction write_BIFF2BERR(r/*:number*/, c/*:number*/, val, t/*:?string*/) {\n\tvar out = new_buf(9);\n\twrite_BIFF2Cell(out, r, c);\n\twrite_Bes(val, t || 'b', out);\n\treturn out;\n}\n\n/* TODO: codepage, large strings */\nfunction write_BIFF2LABEL(r/*:number*/, c/*:number*/, val) {\n\tvar out = new_buf(8 + 2*val.length);\n\twrite_BIFF2Cell(out, r, c);\n\tout.write_shift(1, val.length);\n\tout.write_shift(val.length, val, 'sbcs');\n\treturn out.l < out.length ? out.slice(0, out.l) : out;\n}\n\nfunction write_comments_biff2(ba/*:BufArray*/, comments/*:Array<[Comment[], number, number]>*/) {\n\tcomments.forEach(function(data) {\n\t\tvar text = data[0].map(function(cc) { return cc.t; }).join(\"\");\n\t\t// TODO: should '\\n' be translated to '\\r' to correct for Excel 5.0 bug when exporting to BIFF2/3 ?\n\t\tif(text.length <= 2048) return write_biff_rec(ba, 0x001C, write_NOTE_BIFF2(text, data[1], data[2]));\n\t\twrite_biff_rec(ba, 0x001C, write_NOTE_BIFF2(text.slice(0, 2048), data[1], data[2], text.length));\n\t\tfor(var i = 2048; i < text.length; i += 2048)\n\t\t\twrite_biff_rec(ba, 0x001C, write_NOTE_BIFF2(text.slice(i, Math.min(i+2048, text.length)), -1, -1, Math.min(2048, text.length - i)));\n\t});\n}\n\n/* TODO: BIFF3/4 use different records -- see comments*/\nfunction write_ws_biff2_cell(ba/*:BufArray*/, cell/*:Cell*/, R/*:number*/, C/*:number*/, opts, date1904/*:boolean*/) {\n\tvar ifmt = 0;\n\tif(cell.z != null) {\n\t\tifmt = opts._BIFF2FmtTable.indexOf(cell.z);\n\t\tif(ifmt == -1) { opts._BIFF2FmtTable.push(cell.z); ifmt = opts._BIFF2FmtTable.length - 1; }\n\t}\n\tvar ixfe = 0;\n\tif(cell.z != null) {\n\t\tfor(; ixfe < opts.cellXfs.length; ++ixfe) if(opts.cellXfs[ixfe].numFmtId == ifmt) break;\n\t\tif(ixfe == opts.cellXfs.length) opts.cellXfs.push({numFmtId: ifmt});\n\t}\n\tif(cell.v != null) switch(cell.t) {\n\t\tcase 'd': case 'n':\n\t\t\tvar v = cell.t == 'd' ? datenum(parseDate(cell.v, date1904), date1904) : cell.v;\n\t\t\tif(opts.biff == 2 && (v == (v|0)) && (v >= 0) && (v < 65536))\n\t\t\t\t// 0x027E (RK) in BIFF3/4\n\t\t\t\twrite_biff_rec(ba, 0x0002, write_BIFF2INT(R, C, v, ixfe, ifmt));\n\t\t\telse if(isNaN(v))\n\t\t\t\t// 0x0205 in BIFF3/4\n\t\t\t\twrite_biff_rec(ba, 0x0005, write_BIFF2BERR(R, C, 0x24, \"e\")); // #NUM!\n\t\t\telse if(!isFinite(v))\n\t\t\t\t// 0x0205 in BIFF3/4\n\t\t\t\twrite_biff_rec(ba, 0x0005, write_BIFF2BERR(R, C, 0x07, \"e\")); // #DIV/0!\n\t\t\telse\n\t\t\t\t// 0x0203 in BIFF3/4\n\t\t\t\twrite_biff_rec(ba, 0x0003, write_BIFF2NUM(R,C, v, ixfe, ifmt));\n\t\t\treturn;\n\t\tcase 'b': case 'e':\n\t\t\t// 0x0205 in BIFF3/4\n\t\t\twrite_biff_rec(ba, 0x0005, write_BIFF2BERR(R, C, cell.v, cell.t)); return;\n\t\t/* TODO: codepage, sst */\n\t\tcase 's': case 'str':\n\t\t\t// 0x0204 in BIFF3/4\n\t\t\twrite_biff_rec(ba, 0x0004, write_BIFF2LABEL(R, C, cell.v == null ? \"\" : String(cell.v).slice(0,255)));\n\t\t\treturn;\n\t}\n\t// 0x0201 in BIFF3/4\n\twrite_biff_rec(ba, 0x0001, write_BIFF2Cell(null, R, C));\n}\n\nfunction write_ws_biff2(ba/*:BufArray*/, ws/*:Worksheet*/, idx/*:number*/, opts, wb/*:Workbook*/) {\n\tvar dense = ws[\"!data\"] != null;\n\tvar range = safe_decode_range(ws['!ref'] || \"A1\"), rr = \"\", cols/*:Array<string>*/ = [];\n\tif(range.e.c > 0xFF || range.e.r > 0x3FFF) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + (ws['!ref'] || \"A1\") + \" exceeds format limit A1:IV16384\");\n\t\trange.e.c = Math.min(range.e.c, 0xFF);\n\t\trange.e.r = Math.min(range.e.r, 0x3FFF);\n\t}\n\tvar date1904 = (((wb||{}).Workbook||{}).WBProps||{}).date1904;\n\tvar row = [], comments = [];\n\t/* TODO: 0x0000 / 0x0200 dimensions? */\n\tfor(var C = range.s.c; C <= range.e.c; ++C) cols[C] = encode_col(C);\n\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\tif(dense) row = ws[\"!data\"][R] || [];\n\t\trr = encode_row(R);\n\t\tfor(C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tvar cell = dense ? row[C] : ws[cols[C] + rr];\n\t\t\tif(!cell) continue;\n\t\t\t/* write cell */\n\t\t\twrite_ws_biff2_cell(ba, cell, R, C, opts, date1904);\n\t\t\tif(cell.c) comments.push([cell.c, R, C]);\n\t\t}\n\t}\n\n\t/* ... 0x12 0x19 0x13 (Password) */\n\twrite_comments_biff2(ba, comments);\n\t/* 0x3d (Window1) ... */\n}\n\n/* Based on test files */\nfunction write_biff2_buf(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\tvar o = opts || {};\n\n\tvar ba = buf_array();\n\tvar idx = 0;\n\tfor(var i=0;i<wb.SheetNames.length;++i) if(wb.SheetNames[i] == o.sheet) idx=i;\n\tif(idx == 0 && !!o.sheet && wb.SheetNames[0] != o.sheet) throw new Error(\"Sheet not found: \" + o.sheet);\n\twrite_biff_rec(ba, (o.biff == 4 ? 0x0409 : (o.biff == 3 ? 0x0209 : 0x0009)), write_BOF(wb, 0x10, o));\n\tif(((wb.Workbook||{}).WBProps||{}).date1904) write_biff_rec(ba, 0x0022, writebool(true));\n\to.cellXfs = [{numFmtId: 0}];\n\to._BIFF2FmtTable/*:Array<string>*/ = [\"General\"]; o._Fonts = [];\n\tvar body = buf_array();\n\twrite_ws_biff2(body, wb.Sheets[wb.SheetNames[idx]], idx, o, wb);\n\n\to._BIFF2FmtTable.forEach(function(f) {\n\t\tif(o.biff <= 3) write_biff_rec(ba, 0x001E, write_BIFF2Format(f));\n\t\telse write_biff_rec(ba, 0x041E, write_BIFF4Format(f));\n\t});\n\to.cellXfs.forEach(function(xf) {\n\t\tswitch(o.biff) {\n\t\t\tcase 2: write_biff_rec(ba, 0x0043, write_BIFF2XF(xf)); break;\n\t\t\tcase 3: write_biff_rec(ba, 0x0243, write_BIFF3XF(xf)); break;\n\t\t\tcase 4: write_biff_rec(ba, 0x0443, write_BIFF4XF(xf)); break;\n\t\t}\n\t});\n\tdelete o._BIFF2FmtTable; delete o.cellXfs; delete o._Fonts;\n\n\tba.push(body.end());\n\twrite_biff_rec(ba, 0x000A);\n\treturn ba.end();\n}\n\nvar b8oid = 1, b8ocnts/*:Array<[number, number, number]>*/ = [];\nfunction write_MsoDrawingGroup() {\n\tvar buf = new_buf(82 + 8 * b8ocnts.length);\n\t/* [MS-ODRAW] 2.2.12 OfficeArtDggContainer */\n\tbuf.write_shift(2, 0x0F);\n\tbuf.write_shift(2, 0xF000);\n\tbuf.write_shift(4, 74 + 8 * b8ocnts.length);\n\t/* 2.2.48 OfficeArtFDGGBlock */\n\t{\n\t\tbuf.write_shift(2, 0);\n\t\tbuf.write_shift(2, 0xF006);\n\t\tbuf.write_shift(4, 16 + 8 * b8ocnts.length);\n\t\t/* 2.2.47 OfficeArtFDGG */\n\t\t{\n\t\t\tbuf.write_shift(4, b8oid);\n\t\t\tbuf.write_shift(4, b8ocnts.length+1);\n\t\t\tvar acc = 0; for(var i = 0; i < b8ocnts.length; ++i) acc += (b8ocnts[i] && b8ocnts[i][1] || 0); buf.write_shift(4, acc);\n\t\t\tbuf.write_shift(4, b8ocnts.length);\n\t\t}\n\t\t/* 2.2.46 OfficeArtIDCL + */\n\t\tb8ocnts.forEach(function(b8) {\n\t\t\tbuf.write_shift(4, b8[0]);\n\t\t\tbuf.write_shift(4, b8[2]);\n\t\t});\n\t}\n\t/* 2.2.9 OfficeArtFOPT */\n\t{\n\t\tbuf.write_shift(2, 0x33); // 0x03 | (3 << 4)\n\t\tbuf.write_shift(2, 0xF00B);\n\t\tbuf.write_shift(4, 0x12); // 3 * 6\n\t\t/* 2.3.21.15 Text Boolean Properties */\n\t\tbuf.write_shift(2, 0xBF); buf.write_shift(4, 0x00080008);\n\t\t/* 2.3.7.2 fillColor */\n\t\tbuf.write_shift(2, 0x0181); buf.write_shift(4, 0x08000041);\n\t\t/* 2.3.8.1 lineColor */\n\t\tbuf.write_shift(2, 0x01C0); buf.write_shift(4, 0x08000040);\n\t}\n\t/* 2.2.45 OfficeArtSplitMenuColorContainer */\n\t{\n\t\tbuf.write_shift(2, 0x40);\n\t\tbuf.write_shift(2, 0xF11E);\n\t\tbuf.write_shift(4, 16);\n\t\tbuf.write_shift(4, 0x0800000D);\n\t\tbuf.write_shift(4, 0x0800000C);\n\t\tbuf.write_shift(4, 0x08000017);\n\t\tbuf.write_shift(4, 0x100000F7);\n\t}\n\treturn buf;\n}\nfunction write_comments_biff8(ba/*:BufArray*/, comments/*:Array<[Comment[], number, number]>*/) {\n\tvar notes/*:Array<RawData>*/ = [], sz = 0, pl = buf_array(), baseid = b8oid;\n\tvar _oasc;\n\tcomments.forEach(function(c, ci) {\n\t\tvar author = \"\";\n\t\tvar text = c[0].map(function(t) { if(t.a && !author) author = t.a; return t.t; }).join(\"\");\n\t\t++b8oid;\n\n\t\t/* 2.2.14 OfficeArtSpContainer */\n\t\t{\n\t\t\tvar oasc = new_buf(0x96);\n\t\t\toasc.write_shift(2, 0x0F);\n\t\t\toasc.write_shift(2, 0xF004);\n\t\t\toasc.write_shift(4, 0x96);\n\t\t\t/* 2.2.40 OfficeArtFSP */\n\t\t\t{\n\t\t\t\toasc.write_shift(2, 0xca2); // 0x02 | (0xca << 4)\n\t\t\t\toasc.write_shift(2, 0xF00A);\n\t\t\t\toasc.write_shift(4, 8);\n\t\t\t\toasc.write_shift(4, b8oid);\n\t\t\t\toasc.write_shift(4, 0xA00);\n\t\t\t}\n\t\t\t/* 2.2.9 OfficeArtFOPT */\n\t\t\t{\n\t\t\t\toasc.write_shift(2, 0xE3); // 0x03 | (14 << 4)\n\t\t\t\toasc.write_shift(2, 0xF00B);\n\t\t\t\toasc.write_shift(4, 0x54); // 14 * 6\n\t\t\t\t/* 2.3.21.1 ITxid */\n\t\t\t\toasc.write_shift(2, 0x80); oasc.write_shift(4, 0);\n\t\t\t\t/* 2.3.21.12 txdir */\n\t\t\t\toasc.write_shift(2, 0x8B); oasc.write_shift(4, 0x02);\n\t\t\t\t/* 2.3.21.15 Text Boolean Properties */\n\t\t\t\toasc.write_shift(2, 0xBF); oasc.write_shift(4, 0x00080008);\n\t\t\t\t/* 2.3.6.30 cxk */\n\t\t\t\toasc.write_shift(2, 0x0158); oasc.l += 4;\n\t\t\t\t/* 2.3.7.2 fillColor */\n\t\t\t\toasc.write_shift(2, 0x0181); oasc.write_shift(4, 0x08000050);\n\t\t\t\t/* 2.3.7.4 fillBackColor */\n\t\t\t\toasc.write_shift(2, 0x0183); oasc.write_shift(4, 0x08000050);\n\t\t\t\t/* 2.3.7.6 fillCrMod */\n\t\t\t\toasc.write_shift(2, 0x0185); oasc.write_shift(4, 0x100000F4);\n\t\t\t\t/* 2.3.7.43 Fill Style Boolean Properties */\n\t\t\t\toasc.write_shift(2, 0x01BF); oasc.write_shift(4, 0x00100010);\n\t\t\t\t/* 2.3.8.1 lineColor */\n\t\t\t\toasc.write_shift(2, 0x01C0); oasc.write_shift(4, 0x08000051);\n\t\t\t\t/* 2.3.8.4 lineCrMod */\n\t\t\t\toasc.write_shift(2, 0x01C3); oasc.write_shift(4, 0x100000F4);\n\t\t\t\t/* 2.3.13.2 shadowColor */\n\t\t\t\toasc.write_shift(2, 0x0201); oasc.write_shift(4, 0x08000051);\n\t\t\t\t/* 2.3.13.4 shadowCrMod */\n\t\t\t\toasc.write_shift(2, 0x0203); oasc.write_shift(4, 0x100000F4);\n\t\t\t\t/* 2.3.13.23 Shadow Style Boolean Properties */\n\t\t\t\toasc.write_shift(2, 0x023F); oasc.write_shift(4, 0x00030001);\n\t\t\t\t/* 2.3.4.44 Group Shape Boolean Properties */\n\t\t\t\toasc.write_shift(2, 0x03BF); oasc.write_shift(4, 0x00020000 | (c[0].hidden ? 2 : 0));\n\t\t\t}\n\t\t\t/* [MS-XLS] 2.5.193 OfficeArtClientAnchorSheet */\n\t\t\t{\n\t\t\t\toasc.l += 2;\n\t\t\t\toasc.write_shift(2, 0xF010);\n\t\t\t\toasc.write_shift(4, 0x12);\n\t\t\t\toasc.write_shift(2, 0x3); // do not move or size with cells\n\t\t\t\toasc.write_shift(2, c[2] + 2); oasc.l += 2;\n\t\t\t\toasc.write_shift(2, c[1] + 1); oasc.l += 2;\n\t\t\t\toasc.write_shift(2, c[2] + 4); oasc.l += 2;\n\t\t\t\toasc.write_shift(2, c[1] + 5); oasc.l += 2;\n\t\t\t}\n\t\t\t/* [MS-XLS] 2.5.194 OfficeArtClientData */\n\t\t\t{\n\t\t\t\toasc.l += 2;\n\t\t\t\toasc.write_shift(2, 0xF011);\n\t\t\t\toasc.l += 4;\n\t\t\t}\n\t\t\toasc.l = 0x96;\n\t\t\tif(ci == 0) /* write_biff_rec(pl, 0x003C, oasc); */ _oasc = oasc;\n\t\t\telse write_biff_rec(pl, 0x00EC, oasc);\n\t\t}\n\t\tsz += 0x96;\n\n\t\t/* [MS-XLS] 2.4.181 Obj */\n\t\t{\n\t\t\tvar obj = new_buf(52); // 22 + 26 + 4\n\t\t\t/* [MS-XLS] 2.5.143 FtCmo */\n\t\t\tobj.write_shift(2, 0x15);\n\t\t\tobj.write_shift(2, 0x12);\n\t\t\tobj.write_shift(2, 0x19);\n\t\t\tobj.write_shift(2, b8oid);\n\t\t\tobj.write_shift(2, 0);\n\t\t\tobj.l = 22;\n\t\t\t/* [MS-XLS] 2.5.149 FtNts */\n\t\t\tobj.write_shift(2, 0x0D);\n\t\t\tobj.write_shift(2, 0x16);\n\t\t\tobj.write_shift(4, 0x62726272);\n\t\t\tobj.write_shift(4, 0x95374305);\n\t\t\tobj.write_shift(4, 0x80301328);\n\t\t\tobj.write_shift(4, 0x69696904 + b8oid*256);\n\t\t\tobj.write_shift(2,0);\n\t\t\tobj.write_shift(4,0);\n\t\t\t// reserved\n\t\t\tobj.l += 4;\n\t\t\twrite_biff_rec(pl, 0x005D, obj);\n\t\t}\n\n\t\t/* [MS-XLS] 2.5.195 OfficeArtClientTextbox */\n\t\t{\n\t\t\tvar oact = new_buf(8);\n\t\t\toact.l += 2;\n\t\t\toact.write_shift(2, 0xF00D);\n\t\t\toact.l += 4;\n\t\t\twrite_biff_rec(pl, 0x00EC, oact);\n\t\t}\n\t\tsz += 8;\n\n\t\t/* [MS-XLS] 2.4.329 TxO */\n\t\t{\n\t\t\tvar txo = new_buf(18);\n\t\t\ttxo.write_shift(2, 0x12);\n\t\t\ttxo.l += 8;\n\t\t\ttxo.write_shift(2, text.length);\n\t\t\ttxo.write_shift(2, 0x10);\n\t\t\ttxo.l += 4;\n\t\t\twrite_biff_rec(pl, 0x01b6, txo);\n\t\t\t/* text continue record TODO: switch to wide strings */\n\t\t\t{\n\t\t\t\tvar cont = new_buf(1 + text.length);\n\t\t\t\tcont.write_shift(1, 0);\n\t\t\t\tcont.write_shift(text.length, text, \"sbcs\");\n\t\t\t\twrite_biff_rec(pl, 0x003C, cont);\n\t\t\t}\n\t\t\t/* formatting continue records */\n\t\t\t{\n\t\t\t\tvar conf = new_buf(0x10);\n\t\t\t\tconf.l += 8;\n\t\t\t\tconf.write_shift(2, text.length);\n\t\t\t\tconf.l += 6;\n\t\t\t\twrite_biff_rec(pl, 0x003C, conf);\n\t\t\t}\n\t\t}\n\n\t\t/* 2.4.179 Note */\n\t\t{\n\t\t\tvar notesh = new_buf(12 + author.length);\n\t\t\tnotesh.write_shift(2, c[1]);\n\t\t\tnotesh.write_shift(2, c[2]);\n\t\t\tnotesh.write_shift(2, 0 | (c[0].hidden ? 0 : 2));\n\t\t\tnotesh.write_shift(2, b8oid);\n\t\t\tnotesh.write_shift(2, author.length);\n\t\t\tnotesh.write_shift(1, 0);\n\t\t\tnotesh.write_shift(author.length, author, \"sbcs\");\n\t\t\tnotesh.l ++;\n\t\t\tnotes.push(notesh);\n\t\t}\n\t});\n\t/* [MS-ODRAW] 2.2.13 OfficeArtDgContainer */\n\t{\n\t\tvar hdr = new_buf(80);\n\t\thdr.write_shift(2, 0x0F);\n\t\thdr.write_shift(2, 0xF002);\n\t\thdr.write_shift(4, sz + hdr.length - 8);\n\t\t/* [MS-ODRAW] 2.2.49 OfficeArtFDG */\n\t\t{\n\t\t\thdr.write_shift(2, 0x10);\n\t\t\thdr.write_shift(2, 0xF008);\n\t\t\thdr.write_shift(4, 0x08);\n\t\t\thdr.write_shift(4, comments.length + 1);\n\t\t\thdr.write_shift(4, b8oid);\n\t\t}\n\t\t/* [MS-ODRAW] 2.2.16 OfficeArtSpgrContainer */\n\t\t{\n\t\t\thdr.write_shift(2, 0x0f);\n\t\t\thdr.write_shift(2, 0xF003);\n\t\t\thdr.write_shift(4, sz + 0x30);\n\t\t\t/* [MS-ODRAW] 2.2.14 OfficeArtSpContainer */\n\t\t\t{\n\t\t\t\thdr.write_shift(2, 0x0f);\n\t\t\t\thdr.write_shift(2, 0xF004);\n\t\t\t\thdr.write_shift(4, 0x28);\n\t\t\t\t/* [MS-ODRAW] 2.2.38 OfficeArtFSPGR */\n\t\t\t\t{\n\t\t\t\t\thdr.write_shift(2, 0x01);\n\t\t\t\t\thdr.write_shift(2, 0xF009);\n\t\t\t\t\thdr.write_shift(4, 0x10);\n\t\t\t\t\thdr.l += 16;\n\t\t\t\t}\n\t\t\t\t/* [MS-ODRAW] 2.2.40 OfficeArtFSP */\n\t\t\t\t{\n\t\t\t\t\thdr.write_shift(2, 0x02);\n\t\t\t\t\thdr.write_shift(2, 0xF00A);\n\t\t\t\t\thdr.write_shift(4, 0x08);\n\t\t\t\t\thdr.write_shift(4, baseid);\n\t\t\t\t\thdr.write_shift(4, 0x05);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\twrite_biff_rec(ba, 0x00EC, /* hdr */ _oasc ? bconcat([hdr, _oasc]) : hdr);\n\t}\n\tba.push(pl.end());\n\tnotes.forEach(function(n) { write_biff_rec(ba, 0x001C, n); });\n\tb8ocnts.push([baseid, comments.length + 1, b8oid]);\n\t++b8oid;\n}\n\nfunction write_FONTS_biff8(ba, data, opts) {\n\twrite_biff_rec(ba, 0x0031 /* Font */, write_Font({\n\t\tsz:12,\n\t\tcolor: {theme:1},\n\t\tname: \"Arial\",\n\t\tfamily: 2,\n\t\tscheme: \"minor\"\n\t}, opts));\n}\n\n\nfunction write_FMTS_biff8(ba, NF/*:?SSFTable*/, opts) {\n\tif(!NF) return;\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\t/*:: if(!NF) return; */\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) write_biff_rec(ba, 0x041E /* Format */, write_Format(i, NF[i], opts));\n\t});\n}\n\nfunction write_FEAT(ba, ws) {\n\t/* [MS-XLS] 2.4.112 */\n\tvar o = new_buf(19);\n\to.write_shift(4, 0x867); o.write_shift(4, 0); o.write_shift(4, 0);\n\to.write_shift(2, 3); o.write_shift(1, 1); o.write_shift(4, 0);\n\twrite_biff_rec(ba, 0x0867 /* FeatHdr */, o);\n\t/* [MS-XLS] 2.4.111 */\n\to = new_buf(39);\n\to.write_shift(4, 0x868); o.write_shift(4, 0); o.write_shift(4, 0);\n\to.write_shift(2, 3); o.write_shift(1, 0); o.write_shift(4, 0);\n\to.write_shift(2, 1); o.write_shift(4, 4); o.write_shift(2, 0);\n\twrite_Ref8U(safe_decode_range(ws['!ref']||\"A1\"), o);\n\to.write_shift(4, 4);\n\twrite_biff_rec(ba, 0x0868 /* Feat */, o);\n}\n\nfunction write_CELLXFS_biff8(ba, opts) {\n\tfor(var i = 0; i < 16; ++i) write_biff_rec(ba, 0x00e0 /* XF */, write_XF({numFmtId:0, style:true}, 0, opts));\n\topts.cellXfs.forEach(function(c) {\n\t\twrite_biff_rec(ba, 0x00e0 /* XF */, write_XF(c, 0, opts));\n\t});\n}\n\nfunction write_ws_biff8_hlinks(ba/*:BufArray*/, ws) {\n\tfor(var R=0; R<ws['!links'].length; ++R) {\n\t\tvar HL = ws['!links'][R];\n\t\twrite_biff_rec(ba, 0x01b8 /* HLink */, write_HLink(HL));\n\t\tif(HL[1].Tooltip) write_biff_rec(ba, 0x0800 /* HLinkTooltip */, write_HLinkTooltip(HL));\n\t}\n\tdelete ws['!links'];\n}\n\nfunction write_ws_cols_biff8(ba, cols) {\n\tif(!cols) return;\n\tvar cnt = 0;\n\tcols.forEach(function(col, idx) {\n\t\tif(++cnt <= 256 && col) {\n\t\t\twrite_biff_rec(ba, 0x007d /* ColInfo */, write_ColInfo(col_obj_w(idx, col), idx));\n\t\t}\n\t});\n}\n\nfunction write_ws_biff8_cell(ba/*:BufArray*/, cell/*:Cell*/, R/*:number*/, C/*:number*/, opts, date1904/*:boolean*/) {\n\tvar os = 16 + get_cell_style(opts.cellXfs, cell, opts);\n\tif(cell.v == null && !cell.bf) {\n\t\twrite_biff_rec(ba, 0x0201 /* Blank */, write_XLSCell(R, C, os));\n\t\treturn;\n\t}\n\tif(cell.bf) write_biff_rec(ba, 0x0006 /* Formula */, write_Formula(cell, R, C, opts, os));\n\telse switch(cell.t) {\n\t\tcase 'd': case 'n':\n\t\t\tvar v = cell.t == 'd' ? datenum(parseDate(cell.v, date1904), date1904) : cell.v;\n\t\t\tif(isNaN(v)) write_biff_rec(ba, 0x0205 /* BoolErr */, write_BoolErr(R, C, 0x24, os, opts, \"e\")); // #NUM!\n\t\t\telse if(!isFinite(v)) write_biff_rec(ba, 0x0205 /* BoolErr */, write_BoolErr(R, C, 0x07, os, opts, \"e\")); // #DIV/0!\n\t\t\t/* TODO: emit RK as appropriate */\n\t\t\telse write_biff_rec(ba, 0x0203 /* Number */, write_Number(R, C, v, os, opts));\n\t\t\tbreak;\n\t\tcase 'b': case 'e':\n\t\t\twrite_biff_rec(ba, 0x0205 /* BoolErr */, write_BoolErr(R, C, cell.v, os, opts, cell.t));\n\t\t\tbreak;\n\t\t/* TODO: codepage, sst */\n\t\tcase 's': case 'str':\n\t\t\tif(opts.bookSST) {\n\t\t\t\tvar isst = get_sst_id(opts.Strings, cell.v == null ? \"\" : String(cell.v), opts.revStrings);\n\t\t\t\twrite_biff_rec(ba, 0x00fd /* LabelSst */, write_LabelSst(R, C, isst, os, opts));\n\t\t\t} else write_biff_rec(ba, 0x0204 /* Label */, write_Label(R, C, (cell.v == null ? \"\" : String(cell.v)).slice(0,255), os, opts));\n\t\t\tbreak;\n\t\tdefault:\n\t\t\twrite_biff_rec(ba, 0x0201 /* Blank */, write_XLSCell(R, C, os));\n\t}\n}\n\n/* [MS-XLS] 2.1.7.20.5 */\nfunction write_ws_biff8(idx/*:number*/, opts, wb/*:Workbook*/) {\n\tvar ba = buf_array();\n\tvar s = wb.SheetNames[idx], ws = wb.Sheets[s] || {};\n\tvar _WB/*:WBWBProps*/ = ((wb||{}).Workbook||{}/*:any*/);\n\tvar _sheet/*:WBWSProp*/ = ((_WB.Sheets||[])[idx]||{}/*:any*/);\n\tvar dense = ws[\"!data\"] != null;\n\tvar b8 = opts.biff == 8;\n\tvar ref/*:string*/, rr = \"\", cols/*:Array<string>*/ = [];\n\tvar range = safe_decode_range(ws['!ref'] || \"A1\");\n\tvar MAX_ROWS = b8 ? 65536 : 16384;\n\tif(range.e.c > 0xFF || range.e.r >= MAX_ROWS) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + (ws['!ref'] || \"A1\") + \" exceeds format limit A1:IV\" + MAX_ROWS);\n\t\trange.e.c = Math.min(range.e.c, 0xFF);\n\t\trange.e.r = Math.min(range.e.r, MAX_ROWS-1);\n\t}\n\n\twrite_biff_rec(ba, 0x0809, write_BOF(wb, 0x10, opts));\n\t/* [Uncalced] Index */\n\twrite_biff_rec(ba, 0x000d /* CalcMode */, writeuint16(1));\n\twrite_biff_rec(ba, 0x000c /* CalcCount */, writeuint16(100));\n\twrite_biff_rec(ba, 0x000f /* CalcRefMode */, writebool(true));\n\twrite_biff_rec(ba, 0x0011 /* CalcIter */, writebool(false));\n\twrite_biff_rec(ba, 0x0010 /* CalcDelta */, write_Xnum(0.001));\n\twrite_biff_rec(ba, 0x005f /* CalcSaveRecalc */, writebool(true));\n\twrite_biff_rec(ba, 0x002a /* PrintRowCol */, writebool(false));\n\twrite_biff_rec(ba, 0x002b /* PrintGrid */, writebool(false));\n\twrite_biff_rec(ba, 0x0082 /* GridSet */, writeuint16(1));\n\twrite_biff_rec(ba, 0x0080 /* Guts */, write_Guts([0,0]));\n\t/* DefaultRowHeight WsBool [Sync] [LPr] [HorizontalPageBreaks] [VerticalPageBreaks] */\n\t/* Header (string) */\n\t/* Footer (string) */\n\twrite_biff_rec(ba, 0x0083 /* HCenter */, writebool(false));\n\twrite_biff_rec(ba, 0x0084 /* VCenter */, writebool(false));\n\t/* ... */\n\tif(b8) write_ws_cols_biff8(ba, ws[\"!cols\"]);\n\t/* ... */\n\twrite_biff_rec(ba, 0x0200 /* Dimensions */, write_Dimensions(range, opts));\n\t/* ... */\n\n\tvar date1904 = (((wb||{}).Workbook||{}).WBProps||{}).date1904;\n\tif(b8) ws['!links'] = [];\n\tfor(var C = range.s.c; C <= range.e.c; ++C) cols[C] = encode_col(C);\n\tvar comments = [];\n\tvar row = [];\n\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\tif(dense) row = ws[\"!data\"][R] || [];\n\t\trr = encode_row(R);\n\t\tfor(C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tvar cell = dense ? row[C] : ws[cols[C] + rr];\n\t\t\tif(!cell) continue;\n\t\t\t/* write cell */\n\t\t\twrite_ws_biff8_cell(ba, cell, R, C, opts, date1904);\n\t\t\tif(b8 && cell.l) ws['!links'].push([cols[C] + rr, cell.l]);\n\t\t\tif(cell.c) comments.push([cell.c, R, C]);\n\t\t}\n\t}\n\tvar cname/*:string*/ = _sheet.CodeName || _sheet.name || s;\n\t/* ... */\n\tif(b8) write_comments_biff8(ba, comments); else write_comments_biff2(ba, comments);\n\t/* ... */\n\tif(b8) write_biff_rec(ba, 0x023e /* Window2 */, write_Window2((_WB.Views||[])[0]));\n\t/* ... */\n\tif(b8 && (ws['!merges']||[]).length) write_biff_rec(ba, 0x00e5 /* MergeCells */, write_MergeCells(ws['!merges']));\n\t/* [LRng] *QUERYTABLE [PHONETICINFO] CONDFMTS */\n\tif(b8) write_ws_biff8_hlinks(ba, ws);\n\t/* [DVAL] */\n\twrite_biff_rec(ba, 0x01ba /* CodeName */, write_XLUnicodeString(cname, opts));\n\t/* *WebPub *CellWatch [SheetExt] */\n\tif(b8) write_FEAT(ba, ws);\n\t/* *FEAT11 *RECORD12 */\n\twrite_biff_rec(ba, 0x000a /* EOF */);\n\treturn ba.end();\n}\n\n/* [MS-XLS] 2.1.7.20.3 */\nfunction write_biff8_global(wb/*:Workbook*/, bufs, opts/*:WriteOpts*/) {\n\tvar A = buf_array();\n\tvar _WB/*:WBWBProps*/ = ((wb||{}).Workbook||{}/*:any*/);\n\tvar _sheets/*:Array<WBWSProp>*/ = (_WB.Sheets||[]);\n\tvar _wb/*:WBProps*/ = /*::((*/_WB.WBProps||{/*::CodeName:\"ThisWorkbook\"*/}/*:: ):any)*/;\n\tvar b8 = opts.biff == 8, b5 = opts.biff == 5;\n\twrite_biff_rec(A, 0x0809, write_BOF(wb, 0x05, opts));\n\tif(opts.bookType == \"xla\") write_biff_rec(A, 0x0087 /* Addin */);\n\twrite_biff_rec(A, 0x00e1 /* InterfaceHdr */, b8 ? writeuint16(0x04b0) : null);\n\twrite_biff_rec(A, 0x00c1 /* Mms */, writezeroes(2));\n\tif(b5) write_biff_rec(A, 0x00bf /* ToolbarHdr */);\n\tif(b5) write_biff_rec(A, 0x00c0 /* ToolbarEnd */);\n\twrite_biff_rec(A, 0x00e2 /* InterfaceEnd */);\n\twrite_biff_rec(A, 0x005c /* WriteAccess */, write_WriteAccess(\"SheetJS\", opts));\n\t/* [FileSharing] */\n\twrite_biff_rec(A, 0x0042 /* CodePage */, writeuint16(b8 ? 0x04b0 : 0x04E4));\n\t/* *2047 Lel */\n\tif(b8) write_biff_rec(A, 0x0161 /* DSF */, writeuint16(0));\n\tif(b8) write_biff_rec(A, 0x01c0 /* Excel9File */);\n\twrite_biff_rec(A, 0x013d /* RRTabId */, write_RRTabId(wb.SheetNames.length));\n\tif(b8 && wb.vbaraw) write_biff_rec(A, 0x00d3 /* ObProj */);\n\t/* [ObNoMacros] */\n\tif(b8 && wb.vbaraw) {\n\t\tvar cname/*:string*/ = _wb.CodeName || \"ThisWorkbook\";\n\t\twrite_biff_rec(A, 0x01ba /* CodeName */, write_XLUnicodeString(cname, opts));\n\t}\n\twrite_biff_rec(A, 0x009c /* BuiltInFnGroupCount */, writeuint16(0x11));\n\t/* *FnGroupName *FnGrp12 */\n\t/* *Lbl */\n\t/* [OleObjectSize] */\n\twrite_biff_rec(A, 0x0019 /* WinProtect */, writebool(false));\n\twrite_biff_rec(A, 0x0012 /* Protect */, writebool(false));\n\twrite_biff_rec(A, 0x0013 /* Password */, writeuint16(0));\n\tif(b8) write_biff_rec(A, 0x01af /* Prot4Rev */, writebool(false));\n\tif(b8) write_biff_rec(A, 0x01bc /* Prot4RevPass */, writeuint16(0));\n\twrite_biff_rec(A, 0x003d /* Window1 */, write_Window1(opts));\n\twrite_biff_rec(A, 0x0040 /* Backup */, writebool(false));\n\twrite_biff_rec(A, 0x008d /* HideObj */, writeuint16(0));\n\twrite_biff_rec(A, 0x0022 /* Date1904 */, writebool(safe1904(wb)==\"true\"));\n\twrite_biff_rec(A, 0x000e /* CalcPrecision */, writebool(true));\n\tif(b8) write_biff_rec(A, 0x01b7 /* RefreshAll */, writebool(false));\n\twrite_biff_rec(A, 0x00DA /* BookBool */, writeuint16(0));\n\t/* ... */\n\twrite_FONTS_biff8(A, wb, opts);\n\twrite_FMTS_biff8(A, wb.SSF, opts);\n\twrite_CELLXFS_biff8(A, opts);\n\t/* ... */\n\tif(b8) write_biff_rec(A, 0x0160 /* UsesELFs */, writebool(false));\n\tvar a = A.end();\n\n\tvar C = buf_array();\n\t/* METADATA [MTRSettings] [ForceFullCalculation] */\n\tif(b8) write_biff_rec(C, 0x008C /* Country */, write_Country());\n\t/* *SUPBOOK *LBL *RTD [RecalcId] *HFPicture */\n\n\t/* BIFF8: MsoDrawingGroup [*Continue] */\n\tif(b8 && b8ocnts.length) write_biff_rec(C, 0x00EB /* MsoDrawingGroup */, write_MsoDrawingGroup());\n\t/* BIFF8: [SST *Continue] ExtSST */\n\tif(b8 && opts.Strings) write_biff_continue(C, 0x00FC /* SST */, write_SST(opts.Strings, opts));\n\n\t/* *WebPub [WOpt] [CrErr] [BookExt] *FeatHdr *DConn [THEME] [CompressPictures] [Compat12] [GUIDTypeLib] */\n\twrite_biff_rec(C, 0x000A /* EOF */);\n\tvar c = C.end();\n\n\tvar B = buf_array();\n\tvar blen = 0, j = 0;\n\tfor(j = 0; j < wb.SheetNames.length; ++j) blen += (b8 ? 12 : 11) + (b8 ? 2 : 1) * wb.SheetNames[j].length;\n\tvar start = a.length + blen + c.length;\n\tfor(j = 0; j < wb.SheetNames.length; ++j) {\n\t\tvar _sheet/*:WBWSProp*/ = _sheets[j] || ({}/*:any*/);\n\t\twrite_biff_rec(B, 0x0085 /* BoundSheet8 */, write_BoundSheet8({pos:start, hs:_sheet.Hidden||0, dt:0, name:wb.SheetNames[j]}, opts));\n\t\tstart += bufs[j].length;\n\t}\n\t/* 1*BoundSheet8 */\n\tvar b = B.end();\n\tif(blen != b.length) throw new Error(\"BS8 \" + blen + \" != \" + b.length);\n\n\tvar out = [];\n\tif(a.length) out.push(a);\n\tif(b.length) out.push(b);\n\tif(c.length) out.push(c);\n\treturn bconcat(out);\n}\n\n/* [MS-XLS] 2.1.7.20 Workbook Stream */\nfunction write_biff8_buf(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\tvar o = opts || {};\n\tvar bufs = [];\n\n\tif(wb && !wb.SSF) {\n\t\twb.SSF = dup(table_fmt);\n\t}\n\tif(wb && wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\to.revssf = evert_num(wb.SSF); o.revssf[wb.SSF[65535]] = 0;\n\t\to.ssf = wb.SSF;\n\t}\n\n\tb8oid = 1; b8ocnts = [];\n\to.Strings = /*::((*/[]/*:: :any):SST)*/; o.Strings.Count = 0; o.Strings.Unique = 0;\n\tfix_write_opts(o);\n\n\to.cellXfs = [];\n\tget_cell_style(o.cellXfs, {}, {revssf:{\"General\":0}});\n\n\tif(!wb.Props) wb.Props = {};\n\n\tfor(var i = 0; i < wb.SheetNames.length; ++i) bufs[bufs.length] = write_ws_biff8(i, o, wb);\n\tbufs.unshift(write_biff8_global(wb, bufs, o));\n\treturn bconcat(bufs);\n}\n\nfunction write_biff_buf(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\tfor(var i = 0; i <= wb.SheetNames.length; ++i) {\n\t\tvar ws = wb.Sheets[wb.SheetNames[i]];\n\t\tif(!ws || !ws[\"!ref\"]) continue;\n\t\tvar range = decode_range(ws[\"!ref\"]);\n\t\tif(range.e.c > 255) { // note: 255 is IV\n\t\t\tif(typeof console != \"undefined\" && console.error) console.error(\"Worksheet '\" + wb.SheetNames[i] + \"' extends beyond column IV (255).  Data may be lost.\");\n\t\t}\n\t\tif(range.e.r > 65535) {\n\t\t\tif(typeof console != \"undefined\" && console.error) console.error(\"Worksheet '\" + wb.SheetNames[i] + \"' extends beyond row 65536.  Data may be lost.\");\n\t\t}\n\t}\n\n\tvar o = opts || {};\n\tswitch(o.biff || 2) {\n\t\tcase 8: case 5: return write_biff8_buf(wb, opts);\n\t\tcase 4: case 3: case 2: return write_biff2_buf(wb, opts);\n\t}\n\tthrow new Error(\"invalid type \" + o.bookType + \" for BIFF\");\n}\n/* note: browser DOM element cannot see mso- style attrs, must parse */\nfunction html_to_sheet(str/*:string*/, _opts)/*:Workbook*/ {\n\tvar opts = _opts || {};\n\tvar dense = (opts.dense != null) ? opts.dense : DENSE;\n\tvar ws/*:Worksheet*/ = ({}/*:any*/); if(dense) ws[\"!data\"] = [];\n\tstr = str_remove_ng(str, \"<!--\", \"-->\");\n\tvar mtch/*:any*/ = str.match(/<table/i);\n\tif(!mtch) throw new Error(\"Invalid HTML: could not find <table>\");\n\tvar mtch2/*:any*/ = str.match(/<\\/table/i);\n\tvar i/*:number*/ = mtch.index, j/*:number*/ = mtch2 && mtch2.index || str.length;\n\tvar rows = split_regex(str.slice(i, j), /(:?<tr[^<>]*>)/i, \"<tr>\");\n\tvar R = -1, C = 0, RS = 0, CS = 0;\n\tvar range/*:Range*/ = {s:{r:10000000, c:10000000},e:{r:0,c:0}};\n\tvar merges/*:Array<Range>*/ = [];\n\tfor(i = 0; i < rows.length; ++i) {\n\t\tvar row = rows[i].trim();\n\t\tvar hd = row.slice(0,3).toLowerCase();\n\t\tif(hd == \"<tr\") { ++R; if(opts.sheetRows && opts.sheetRows <= R) { --R; break; } C = 0; continue; }\n\t\tif(hd != \"<td\" && hd != \"<th\") continue;\n\t\tvar cells = row.split(/<\\/t[dh]>/i);\n\t\tfor(j = 0; j < cells.length; ++j) {\n\t\t\tvar cell = cells[j].trim();\n\t\t\tif(!cell.match(/<t[dh]/i)) continue;\n\t\t\tvar m = cell, cc = 0;\n\t\t\t/* TODO: parse styles etc */\n\t\t\twhile(m.charAt(0) == \"<\" && (cc = m.indexOf(\">\")) > -1) m = m.slice(cc+1);\n\t\t\tfor(var midx = 0; midx < merges.length; ++midx) {\n\t\t\t\tvar _merge/*:Range*/ = merges[midx];\n\t\t\t\tif(_merge.s.c == C && _merge.s.r < R && R <= _merge.e.r) { C = _merge.e.c + 1; midx = -1; }\n\t\t\t}\n\t\t\tvar tag = parsexmltag(cell.slice(0, cell.indexOf(\">\")));\n\t\t\tCS = tag.colspan ? +tag.colspan : 1;\n\t\t\tif((RS = +tag.rowspan)>1 || CS>1) merges.push({s:{r:R,c:C},e:{r:R + (RS||1) - 1, c:C + CS - 1}});\n\t\t\tvar _t/*:string*/ = tag.t || tag[\"data-t\"] || \"\";\n\t\t\t/* TODO: generate stub cells */\n\t\t\tif(!m.length) { C += CS; continue; }\n\t\t\tm = htmldecode(m);\n\t\t\tif(range.s.r > R) range.s.r = R; if(range.e.r < R) range.e.r = R;\n\t\t\tif(range.s.c > C) range.s.c = C; if(range.e.c < C) range.e.c = C;\n\t\t\tif(!m.length) { C += CS; continue; }\n\t\t\tvar o/*:Cell*/ = {t:'s', v:m};\n\t\t\tif(opts.raw || !m.trim().length || _t == 's'){}\n\t\t\telse if(m === 'TRUE') o = {t:'b', v:true};\n\t\t\telse if(m === 'FALSE') o = {t:'b', v:false};\n\t\t\telse if(!isNaN(fuzzynum(m))) o = {t:'n', v:fuzzynum(m)};\n\t\t\telse if(!isNaN(fuzzydate(m).getDate())) {\n\t\t\t\to = ({t:'d', v:parseDate(m)}/*:any*/);\n\t\t\t\tif(opts.UTC === false) o.v = utc_to_local(o.v);\n\t\t\t\tif(!opts.cellDates) o = ({t:'n', v:datenum(o.v)}/*:any*/);\n\t\t\t\to.z = opts.dateNF || table_fmt[14];\n\t\t\t} else if(m.charCodeAt(0) == 35 /* # */ && RBErr[m] != null) {\n\t\t\t\to.t = 'e'; o.w = m; o.v = RBErr[m];\n\t\t\t}\n\t\t\tif(o.cellText !== false) o.w = m;\n\t\t\tif(dense) { if(!ws[\"!data\"][R]) ws[\"!data\"][R] = []; ws[\"!data\"][R][C] = o; }\n\t\t\telse ws[encode_cell({r:R, c:C})] = o;\n\t\t\tC += CS;\n\t\t}\n\t}\n\tws['!ref'] = encode_range(range);\n\tif(merges.length) ws[\"!merges\"] = merges;\n\treturn ws;\n}\nfunction make_html_row(ws/*:Worksheet*/, r/*:Range*/, R/*:number*/, o/*:Sheet2HTMLOpts*/)/*:string*/ {\n\tvar M/*:Array<Range>*/ = (ws['!merges'] ||[]);\n\tvar oo/*:Array<string>*/ = [];\n\tvar sp = ({}/*:any*/);\n\tvar dense = ws[\"!data\"] != null;\n\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\tvar RS = 0, CS = 0;\n\t\tfor(var j = 0; j < M.length; ++j) {\n\t\t\tif(M[j].s.r > R || M[j].s.c > C) continue;\n\t\t\tif(M[j].e.r < R || M[j].e.c < C) continue;\n\t\t\tif(M[j].s.r < R || M[j].s.c < C) { RS = -1; break; }\n\t\t\tRS = M[j].e.r - M[j].s.r + 1; CS = M[j].e.c - M[j].s.c + 1; break;\n\t\t}\n\t\tif(RS < 0) continue;\n\t\tvar coord = encode_col(C) + encode_row(R);\n\t\tvar cell = dense ? (ws[\"!data\"][R]||[])[C] : ws[coord];\n\t\tif(cell && cell.t == 'n' && cell.v != null && !isFinite(cell.v)) {\n\t\t\tif(isNaN(cell.v)) cell = ({t:'e', v:0x24, w:BErr[0x24]});\n\t\t\telse cell = ({t:'e', v:0x07, w:BErr[0x07]});\n\t\t}\n\t\t/* TODO: html entities */\n\t\tvar w = (cell && cell.v != null) && (cell.h || escapehtml(cell.w || (format_cell(cell), cell.w) || \"\")) || \"\";\n\t\tsp = ({}/*:any*/);\n\t\tif(RS > 1) sp.rowspan = RS;\n\t\tif(CS > 1) sp.colspan = CS;\n\t\tif(o.editable) w = '<span contenteditable=\"true\">' + w + '</span>';\n\t\telse if(cell) {\n\t\t\tsp[\"data-t\"] = cell && cell.t || 'z';\n\t\t\t// note: data-v is unaffected by the timezone interpretation\n\t\t\tif(cell.v != null) sp[\"data-v\"] = escapehtml(cell.v instanceof Date ? cell.v.toISOString() : cell.v);\n\t\t\tif(cell.z != null) sp[\"data-z\"] = cell.z;\n\t\t\tif(cell.l && (cell.l.Target || \"#\").charAt(0) != \"#\") w = '<a href=\"' + escapehtml(cell.l.Target) +'\">' + w + '</a>';\n\t\t}\n\t\tsp.id = (o.id || \"sjs\") + \"-\" + coord;\n\t\too.push(writextag('td', w, sp));\n\t}\n\tvar preamble = \"<tr>\";\n\treturn preamble + oo.join(\"\") + \"</tr>\";\n}\n\nvar HTML_BEGIN = '<html><head><meta charset=\"utf-8\"/><title>SheetJS Table Export</title></head><body>';\nvar HTML_END = '</body></html>';\n\nfunction html_to_workbook(str/*:string*/, opts)/*:Workbook*/ {\n\tvar mtch = str_match_xml_ig(str, \"table\");\n\tif(!mtch || mtch.length == 0) throw new Error(\"Invalid HTML: could not find <table>\");\n\tif(mtch.length == 1) {\n\t\tvar w = sheet_to_workbook(html_to_sheet(mtch[0], opts), opts);\n\t\tw.bookType = \"html\";\n\t\treturn w;\n\t}\n\tvar wb = book_new();\n\tmtch.forEach(function(s, idx) { book_append_sheet(wb, html_to_sheet(s, opts), \"Sheet\" + (idx+1)); });\n\twb.bookType = \"html\";\n\treturn wb;\n}\n\nfunction make_html_preamble(ws/*:Worksheet*/, R/*:Range*/, o/*:Sheet2HTMLOpts*/)/*:string*/ {\n\tvar out/*:Array<string>*/ = [];\n\treturn out.join(\"\") + '<table' + (o && o.id ? ' id=\"' + o.id + '\"' : \"\") + '>';\n}\n\nfunction sheet_to_html(ws/*:Worksheet*/, opts/*:?Sheet2HTMLOpts*//*, wb:?Workbook*/)/*:string*/ {\n\tvar o = opts || {};\n\tvar header = o.header != null ? o.header : HTML_BEGIN;\n\tvar footer = o.footer != null ? o.footer : HTML_END;\n\tvar out/*:Array<string>*/ = [header];\n\tvar r = decode_range(ws['!ref'] || \"A1\");\n\tout.push(make_html_preamble(ws, r, o));\n\tif(ws[\"!ref\"]) for(var R = r.s.r; R <= r.e.r; ++R) out.push(make_html_row(ws, r, R, o));\n\tout.push(\"</table>\" + footer);\n\treturn out.join(\"\");\n}\n\nfunction sheet_add_dom(ws/*:Worksheet*/, table/*:HTMLElement*/, _opts/*:?any*/)/*:Worksheet*/ {\n\tvar rows/*:HTMLCollection<HTMLTableRowElement>*/ = table.rows;\n\tif(!rows) {\n\t\t/* not an HTML TABLE */\n\t\tthrow \"Unsupported origin when \" + table.tagName + \" is not a TABLE\";\n\t}\n\n\tvar opts = _opts || {};\n\tvar dense = ws[\"!data\"] != null;\n\tvar or_R = 0, or_C = 0;\n\tif(opts.origin != null) {\n\t\tif(typeof opts.origin == 'number') or_R = opts.origin;\n\t\telse {\n\t\t\tvar _origin/*:CellAddress*/ = typeof opts.origin == \"string\" ? decode_cell(opts.origin) : opts.origin;\n\t\t\tor_R = _origin.r; or_C = _origin.c;\n\t\t}\n\t}\n\n\tvar sheetRows = Math.min(opts.sheetRows||10000000, rows.length);\n\tvar range/*:Range*/ = {s:{r:0,c:0},e:{r:or_R,c:or_C}};\n\tif(ws[\"!ref\"]) {\n\t\tvar _range/*:Range*/ = decode_range(ws[\"!ref\"]);\n\t\trange.s.r = Math.min(range.s.r, _range.s.r);\n\t\trange.s.c = Math.min(range.s.c, _range.s.c);\n\t\trange.e.r = Math.max(range.e.r, _range.e.r);\n\t\trange.e.c = Math.max(range.e.c, _range.e.c);\n\t\tif(or_R == -1) range.e.r = or_R = _range.e.r + 1;\n\t}\n\tvar merges/*:Array<Range>*/ = [], midx = 0;\n\tvar rowinfo/*:Array<RowInfo>*/ = ws[\"!rows\"] || (ws[\"!rows\"] = []);\n\tvar _R = 0, R = 0, _C = 0, C = 0, RS = 0, CS = 0;\n\tif(!ws[\"!cols\"]) ws['!cols'] = [];\n\tfor(; _R < rows.length && R < sheetRows; ++_R) {\n\t\tvar row/*:HTMLTableRowElement*/ = rows[_R];\n\t\tif (is_dom_element_hidden(row)) {\n\t\t\tif (opts.display) continue;\n\t\t\trowinfo[R] = {hidden: true};\n\t\t}\n\t\tvar elts/*:HTMLCollection<HTMLTableCellElement>*/ = (row.cells);\n\t\tfor(_C = C = 0; _C < elts.length; ++_C) {\n\t\t\tvar elt/*:HTMLTableCellElement*/ = elts[_C];\n\t\t\tif (opts.display && is_dom_element_hidden(elt)) continue;\n\t\t\tvar v/*:?string*/ = elt.hasAttribute('data-v') ? elt.getAttribute('data-v') : elt.hasAttribute('v') ? elt.getAttribute('v') : htmldecode(elt.innerHTML);\n\t\t\tvar z/*:?string*/ = elt.getAttribute('data-z') || elt.getAttribute('z');\n\t\t\tfor(midx = 0; midx < merges.length; ++midx) {\n\t\t\t\tvar m/*:Range*/ = merges[midx];\n\t\t\t\tif(m.s.c == C + or_C && m.s.r < R + or_R && R + or_R <= m.e.r) { C = m.e.c+1 - or_C; midx = -1; }\n\t\t\t}\n\t\t\t/* TODO: figure out how to extract nonstandard mso- style */\n\t\t\tCS = +elt.getAttribute(\"colspan\") || 1;\n\t\t\tif( ((RS = (+elt.getAttribute(\"rowspan\") || 1)))>1 || CS>1) merges.push({s:{r:R + or_R,c:C + or_C},e:{r:R + or_R + (RS||1) - 1, c:C + or_C + (CS||1) - 1}});\n\t\t\tvar o/*:Cell*/ = {t:'s', v:v};\n\t\t\tvar _t/*:string*/ = elt.getAttribute(\"data-t\") || elt.getAttribute(\"t\") || \"\";\n\t\t\tif(v != null) {\n\t\t\t\tif(v.length == 0) o.t = _t || 'z';\n\t\t\t\telse if(opts.raw || v.trim().length == 0 || _t == \"s\"){}\n\t\t\t\telse if(_t == \"e\" && BErr[+v]) o = {t:'e', v:+v, w: BErr[+v]};\n\t\t\t\telse if(v === 'TRUE') o = {t:'b', v:true};\n\t\t\t\telse if(v === 'FALSE') o = {t:'b', v:false};\n\t\t\t\telse if(!isNaN(fuzzynum(v))) o = {t:'n', v:fuzzynum(v)};\n\t\t\t\telse if(!isNaN(fuzzydate(v).getDate())) {\n\t\t\t\t\to = ({t:'d', v:parseDate(v)}/*:any*/);\n\t\t\t\t\tif(opts.UTC) o.v = local_to_utc(o.v);\n\t\t\t\t\tif(!opts.cellDates) o = ({t:'n', v:datenum(o.v)}/*:any*/);\n\t\t\t\t\to.z = opts.dateNF || table_fmt[14];\n\t\t\t\t} else if(v.charCodeAt(0) == 35 /* # */ && RBErr[v] != null) o = ({t:'e', v: RBErr[v], w: v});\n\t\t\t}\n\t\t\tif(o.z === undefined && z != null) o.z = z;\n\t\t\t/* The first link is used.  Links are assumed to be fully specified.\n\t\t\t * TODO: The right way to process relative links is to make a new <a> */\n\t\t\tvar l = \"\", Aelts = elt.getElementsByTagName(\"A\");\n\t\t\tif(Aelts && Aelts.length) for(var Aelti = 0; Aelti < Aelts.length; ++Aelti)\tif(Aelts[Aelti].hasAttribute(\"href\")) {\n\t\t\t\tl = Aelts[Aelti].getAttribute(\"href\"); if(l.charAt(0) != \"#\") break;\n\t\t\t}\n\t\t\tif(l && l.charAt(0) != \"#\" &&\tl.slice(0, 11).toLowerCase() != 'javascript:') o.l = ({ Target: l });\n\t\t\tif(dense) { if(!ws[\"!data\"][R + or_R]) ws[\"!data\"][R + or_R] = []; ws[\"!data\"][R + or_R][C + or_C] = o; }\n\t\t\telse ws[encode_cell({c:C + or_C, r:R + or_R})] = o;\n\t\t\tif(range.e.c < C + or_C) range.e.c = C + or_C;\n\t\t\tC += CS;\n\t\t}\n\t\t++R;\n\t}\n\tif(merges.length) ws['!merges'] = (ws[\"!merges\"] || []).concat(merges);\n\trange.e.r = Math.max(range.e.r, R - 1 + or_R);\n\tws['!ref'] = encode_range(range);\n\tif(R >= sheetRows) ws['!fullref'] = encode_range((range.e.r = rows.length-_R+R-1 + or_R,range)); // We can count the real number of rows to parse but we don't to improve the performance\n\treturn ws;\n}\n\nfunction parse_dom_table(table/*:HTMLElement*/, _opts/*:?any*/)/*:Worksheet*/ {\n\tvar opts = _opts || {};\n\tvar ws/*:Worksheet*/ = ({}/*:any*/); if(opts.dense) ws[\"!data\"] = [];\n\treturn sheet_add_dom(ws, table, _opts);\n}\n\nfunction table_to_book(table/*:HTMLElement*/, opts/*:?any*/)/*:Workbook*/ {\n\tvar o = sheet_to_workbook(parse_dom_table(table, opts), opts);\n\t//o.bookType = \"dom\"; // TODO: define a type for this\n\treturn o;\n}\n\nfunction is_dom_element_hidden(element/*:HTMLElement*/)/*:boolean*/ {\n\tvar display/*:string*/ = '';\n\tvar get_computed_style/*:?function*/ = get_get_computed_style_function(element);\n\tif(get_computed_style) display = get_computed_style(element).getPropertyValue('display');\n\tif(!display) display = element.style && element.style.display;\n\treturn display === 'none';\n}\n\n/* global getComputedStyle */\nfunction get_get_computed_style_function(element/*:HTMLElement*/)/*:?function*/ {\n\t// The proper getComputedStyle implementation is the one defined in the element window\n\tif(element.ownerDocument.defaultView && typeof element.ownerDocument.defaultView.getComputedStyle === 'function') return element.ownerDocument.defaultView.getComputedStyle;\n\t// If it is not available, try to get one from the global namespace\n\tif(typeof getComputedStyle === 'function') return getComputedStyle;\n\treturn null;\n}\n/* OpenDocument */\nfunction parse_text_p(text/*:string*//*::, tag*/)/*:Array<any>*/ {\n\t/* 6.1.2 White Space Characters */\n\tvar fixed = text\n\t\t.replace(/[\\t\\r\\n]/g, \" \").trim().replace(/ +/g, \" \")\n\t\t.replace(/<text:s\\/>/g,\" \")\n\t\t.replace(/<text:s text:c=\"(\\d+)\"\\/>/g, function($$,$1) { return Array(parseInt($1,10)+1).join(\" \"); })\n\t\t.replace(/<text:tab[^<>]*\\/>/g,\"\\t\")\n\t\t.replace(/<text:line-break\\/>/g,\"\\n\");\n\tvar v = unescapexml(fixed.replace(/<[^<>]*>/g,\"\"));\n\n\treturn [v];\n}\n\n/* Note: ODS can stick styles in content.xml or styles.xml, FODS blurs lines */\nfunction parse_ods_styles(d/*:string*/, _opts, _nfm) {\n\tvar number_format_map = _nfm || {};\n\tvar str = xlml_normalize(d);\n\txlmlregex.lastIndex = 0;\n\tstr = remove_doctype(str_remove_ng(str, \"<!--\", \"-->\"));\n\tvar Rn, NFtag, NF = \"\", tNF = \"\", y, etpos = 0, tidx = -1, infmt = false, payload = \"\";\n\twhile((Rn = xlmlregex.exec(str))) {\n\t\tswitch((Rn[3]=Rn[3].replace(/_[\\s\\S]*$/,\"\"))) {\n\t\t/* Number Format Definitions */\n\t\tcase 'number-style': // <number:number-style> 16.29.2\n\t\tcase 'currency-style': // <number:currency-style> 16.29.8\n\t\tcase 'percentage-style': // <number:percentage-style> 16.29.10\n\t\tcase 'date-style': // <number:date-style> 16.29.11\n\t\tcase 'time-style': // <number:time-style> 16.29.19\n\t\tcase 'text-style': // <number:text-style> 16.29.26\n\t\t\tif(Rn[1]==='/') {\n\t\t\t\tinfmt = false;\n\t\t\t\tif(NFtag['truncate-on-overflow'] == \"false\") {\n\t\t\t\t\tif(NF.match(/h/)) NF = NF.replace(/h+/, \"[$&]\");\n\t\t\t\t\telse if(NF.match(/m/)) NF = NF.replace(/m+/, \"[$&]\");\n\t\t\t\t\telse if(NF.match(/s/)) NF = NF.replace(/s+/, \"[$&]\");\n\t\t\t\t}\n\t\t\t\tnumber_format_map[NFtag.name] = NF;\n\t\t\t\tNF = \"\";\n\t\t\t} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\tinfmt = true;\n\t\t\t\tNF = \"\";\n\t\t\t\tNFtag = parsexmltag(Rn[0], false);\n\t\t\t} break;\n\n\t\t// LibreOffice bug https://bugs.documentfoundation.org/show_bug.cgi?id=149484\n\t\tcase 'boolean-style': // <number:boolean-style> 16.29.24\n\t\t\tif(Rn[1]==='/') {\n\t\t\t\tinfmt = false;\n\t\t\t\tnumber_format_map[NFtag.name] = \"General\";\n\t\t\t\tNF = \"\";\n\t\t\t} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\tinfmt = true;\n\t\t\t\tNF = \"\";\n\t\t\t\tNFtag = parsexmltag(Rn[0], false);\n\t\t\t} break;\n\n\t\t/* Number Format Elements */\n\t\tcase 'boolean': // <number:boolean> 16.29.25\n\t\t\tNF += \"General\"; // ODF spec is unfortunately underspecified here\n\t\t\tbreak;\n\n\t\tcase 'text': // <number:text> 16.29.27\n\t\t\tif(Rn[1]==='/') {\n\t\t\t\tpayload = str.slice(tidx, xlmlregex.lastIndex - Rn[0].length);\n\t\t\t\t// NOTE: Excel has a different interpretation of \"%%\" and friends\n\t\t\t\tif(payload == \"%\" && NFtag[0] == '<number:percentage-style') NF += \"%\";\n\t\t\t\telse NF += '\"' + payload.replace(/\"/g, '\"\"') + '\"';\n\t\t\t} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\ttidx = xlmlregex.lastIndex;\n\t\t\t} break;\n\n\n\t\tcase 'day': { // <number:day> 16.29.12\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tswitch(y[\"style\"]) {\n\t\t\t\tcase \"short\": NF += \"d\"; break;\n\t\t\t\tcase \"long\": NF += \"dd\"; break;\n\t\t\t\tdefault: NF += \"dd\"; break; // TODO: error condition\n\t\t\t}\n\t\t} break;\n\n\t\tcase 'day-of-week': { // <number:day-of-week> 16.29.16\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tswitch(y[\"style\"]) {\n\t\t\t\tcase \"short\": NF += \"ddd\"; break;\n\t\t\t\tcase \"long\": NF += \"dddd\"; break;\n\t\t\t\tdefault: NF += \"ddd\"; break;\n\t\t\t}\n\t\t} break;\n\n\t\tcase 'era': { // <number:era> 16.29.15 TODO: proper mapping\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tswitch(y[\"style\"]) {\n\t\t\t\tcase \"short\": NF += \"ee\"; break;\n\t\t\t\tcase \"long\": NF += \"eeee\"; break;\n\t\t\t\tdefault: NF += \"eeee\"; break; // TODO: error condition\n\t\t\t}\n\t\t} break;\n\n\t\tcase 'hours': { // <number:hours> 16.29.20\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tswitch(y[\"style\"]) {\n\t\t\t\tcase \"short\": NF += \"h\"; break;\n\t\t\t\tcase \"long\": NF += \"hh\"; break;\n\t\t\t\tdefault: NF += \"hh\"; break; // TODO: error condition\n\t\t\t}\n\t\t} break;\n\n\t\tcase 'minutes': { // <number:minutes> 16.29.21\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tswitch(y[\"style\"]) {\n\t\t\t\tcase \"short\": NF += \"m\"; break;\n\t\t\t\tcase \"long\": NF += \"mm\"; break;\n\t\t\t\tdefault: NF += \"mm\"; break; // TODO: error condition\n\t\t\t}\n\t\t} break;\n\n\t\tcase 'month': { // <number:month> 16.29.13\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tif(y[\"textual\"]) NF += \"mm\";\n\t\t\tswitch(y[\"style\"]) {\n\t\t\t\tcase \"short\": NF += \"m\"; break;\n\t\t\t\tcase \"long\": NF += \"mm\"; break;\n\t\t\t\tdefault: NF += \"m\"; break;\n\t\t\t}\n\t\t} break;\n\n\t\tcase 'seconds': { // <number:seconds> 16.29.22\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tswitch(y[\"style\"]) {\n\t\t\t\tcase \"short\": NF += \"s\"; break;\n\t\t\t\tcase \"long\": NF += \"ss\"; break;\n\t\t\t\tdefault: NF += \"ss\"; break; // TODO: error condition\n\t\t\t}\n\t\t\tif(y[\"decimal-places\"]) NF += \".\" + fill(\"0\", +y[\"decimal-places\"]);\n\t\t} break;\n\n\t\tcase 'year': { // <number:year> 16.29.14\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tswitch(y[\"style\"]) {\n\t\t\t\tcase \"short\": NF += \"yy\"; break;\n\t\t\t\tcase \"long\": NF += \"yyyy\"; break;\n\t\t\t\tdefault: NF += \"yy\"; break; // TODO: error condition\n\t\t\t}\n\t\t} break;\n\n\t\tcase 'am-pm': // <number:am-pm> 16.29.23\n\t\t\tNF += \"AM/PM\"; // LO autocorrects A/P -> AM/PM\n\t\t\tbreak;\n\n\t\tcase 'week-of-year': // <number:week-of-year> 16.29.17\n\t\tcase 'quarter': // <number:quarter> 16.29.18\n\t\t\tconsole.error(\"Excel does not support ODS format token \" + Rn[3]);\n\t\t\tbreak;\n\n\t\tcase 'fill-character': // <number:fill-character> 16.29.5\n\t\t\tif(Rn[1]==='/') {\n\t\t\t\tpayload = str.slice(tidx, xlmlregex.lastIndex - Rn[0].length);\n\t\t\t\t// NOTE: Excel has a different interpretation of \"%%\" and friends\n\t\t\t\tNF += '\"' + payload.replace(/\"/g, '\"\"') + '\"*';\n\t\t\t} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\ttidx = xlmlregex.lastIndex;\n\t\t\t} break;\n\n\t\tcase 'scientific-number': // <number:scientific-number> 16.29.6\n\t\t\t// TODO: find a mapping for all parameters\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tNF += \"0.\" + fill(\"0\", +y[\"min-decimal-places\"] || +y[\"decimal-places\"] || 2) + fill(\"?\", +y[\"decimal-places\"] - +y[\"min-decimal-places\"] || 0) + \"E\" + (parsexmlbool(y[\"forced-exponent-sign\"]) ? \"+\" : \"\") + fill(\"0\", +y[\"min-exponent-digits\"] || 2);\n\t\t\tbreak;\n\n\t\tcase 'fraction': // <number:fraction> 16.29.7\n\t\t\t// TODO: find a mapping for all parameters\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tif(!+y[\"min-integer-digits\"]) NF += \"#\";\n\t\t\telse NF += fill(\"0\", +y[\"min-integer-digits\"]);\n\t\t\tNF += \" \";\n\t\t\tNF += fill(\"?\", +y[\"min-numerator-digits\"] || 1);\n\t\t\tNF += \"/\";\n\t\t\tif(+y[\"denominator-value\"]) NF += y[\"denominator-value\"];\n\t\t\telse NF += fill(\"?\", +y[\"min-denominator-digits\"] || 1);\n\t\t\tbreak;\n\n\t\tcase 'currency-symbol': // <number:currency-symbol> 16.29.9\n\t\t\t// TODO: localization with [$-...]\n\t\t\tif(Rn[1]==='/') {\n\t\t\t\tNF += '\"' + str.slice(tidx, xlmlregex.lastIndex - Rn[0].length).replace(/\"/g, '\"\"') + '\"';\n\t\t\t} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\ttidx = xlmlregex.lastIndex;\n\t\t\t} else NF += \"$\";\n\t\t\tbreak;\n\n\t\tcase 'text-properties': // <style:text-properties> 16.29.29\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tswitch((y[\"color\"]||\"\").toLowerCase().replace(\"#\", \"\")) {\n\t\t\t\tcase \"ff0000\": case \"red\": NF = \"[Red]\" + NF; break;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'text-content': // <number:text-content> 16.29.28\n\t\t\tNF += \"@\";\n\t\t\tbreak;\n\n\t\tcase 'map': // <style:map> 16.3\n\t\t\t// TODO: handle more complex maps\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\tif(unescapexml(y[\"condition\"]) == \"value()>=0\") NF = number_format_map[y[\"apply-style-name\"]] + \";\" + NF;\n\t\t\telse console.error(\"ODS number format may be incorrect: \" + y[\"condition\"]);\n\t\t\tbreak;\n\n\t\tcase 'number': // <number:number> 16.29.3\n\t\t\t// TODO: handle all the attributes\n\t\t\tif(Rn[1]==='/') break;\n\t\t\ty = parsexmltag(Rn[0], false);\n\t\t\ttNF = \"\";\n\t\t\ttNF += fill(\"0\", +y[\"min-integer-digits\"] || 1);\n\t\t\tif(parsexmlbool(y[\"grouping\"])) tNF = commaify(fill(\"#\", Math.max(0, 4 - tNF.length)) + tNF);\n\t\t\tif(+y[\"min-decimal-places\"] || +y[\"decimal-places\"]) tNF += \".\";\n\t\t\tif(+y[\"min-decimal-places\"]) tNF += fill(\"0\", +y[\"min-decimal-places\"] || 1);\n\t\t\tif(+y[\"decimal-places\"] - (+y[\"min-decimal-places\"]||0)) tNF += fill(\"0\", +y[\"decimal-places\"] - (+y[\"min-decimal-places\"]||0)); // TODO: should this be \"#\" ?\n\t\t\tNF += tNF;\n\t\t\tbreak;\n\n\t\tcase 'embedded-text': // <number:embedded-text> 16.29.4\n\t\t\t// TODO: verify interplay with grouping et al\n\t\t\tif(Rn[1]==='/') {\n\t\t\t\tif(etpos == 0) NF += '\"' + str.slice(tidx, xlmlregex.lastIndex - Rn[0].length).replace(/\"/g, '\"\"') + '\"';\n\t\t\t\telse NF = NF.slice(0, etpos) + '\"' + str.slice(tidx, xlmlregex.lastIndex - Rn[0].length).replace(/\"/g, '\"\"') + '\"' + NF.slice(etpos);\n\t\t\t} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\ttidx = xlmlregex.lastIndex;\n\t\t\t\tetpos = -+parsexmltag(Rn[0], false)[\"position\"] || 0;\n\t\t\t} break;\n\n\t}}\n\treturn number_format_map;\n}\n\nfunction parse_content_xml(d/*:string*/, _opts, _nfm)/*:Workbook*/ {\n\t\tvar opts = _opts || {};\n\t\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\t\tvar str = xlml_normalize(d);\n\t\tvar state/*:Array<any>*/ = [], tmp;\n\t\tvar tag/*:: = {}*/;\n\t\tvar nfidx, NF = \"\", pidx = 0;\n\t\tvar sheetag/*:: = {name:\"\", '':\"\"}*/;\n\t\tvar rowtag/*:: = {'':\"\"}*/;\n\t\tvar Sheets = {}, SheetNames/*:Array<string>*/ = [];\n\t\tvar ws = ({}/*:any*/); if(opts.dense) ws[\"!data\"] = [];\n\t\tvar Rn, q/*:: :any = ({t:\"\", v:null, z:null, w:\"\",c:[],}:any)*/;\n\t\tvar ctag = ({value:\"\"}/*:any*/), ctag2 = ({}/*:any*/);\n\t\tvar textp = \"\", textpidx = 0, textptag/*:: = {}*/, oldtextp = \"\", oldtextpidx = 0;\n\t\tvar textR = [], oldtextR = [];\n\t\tvar R = -1, C = -1, range = {s: {r:1000000,c:10000000}, e: {r:0, c:0}};\n\t\tvar row_ol = 0;\n\t\tvar number_format_map = _nfm || {}, styles = {};\n\t\tvar merges/*:Array<Range>*/ = [], mrange = {}, mR = 0, mC = 0;\n\t\tvar rowinfo/*:Array<RowInfo>*/ = [], rowpeat = 1, colpeat = 1;\n\t\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\t\tvar WB = {Names:[], WBProps:{}};\n\t\tvar atag = ({}/*:any*/);\n\t\tvar _Ref/*:[string, string]*/ = [\"\", \"\"];\n\t\tvar comments/*:Array<Comment>*/ = [], comment/*:Comment*/ = ({}/*:any*/);\n\t\tvar creator = \"\", creatoridx = 0;\n\t\tvar isstub = false, intable = false;\n\t\tvar i = 0;\n\t\txlmlregex.lastIndex = 0;\n\t\tstr = remove_doctype(str_remove_ng(str, \"<!--\", \"-->\"));\n\t\twhile((Rn = xlmlregex.exec(str))) switch((Rn[3]=Rn[3].replace(/_[\\s\\S]*$/,\"\"))) {\n\n\t\t\tcase 'table': case '': // 9.1.2 <table:table>\n\t\t\t\tif(Rn[1]==='/') {\n\t\t\t\t\tif(range.e.c >= range.s.c && range.e.r >= range.s.r) ws['!ref'] = encode_range(range);\n\t\t\t\t\telse ws['!ref'] = \"A1:A1\";\n\t\t\t\t\tif(opts.sheetRows > 0 && opts.sheetRows <= range.e.r) {\n\t\t\t\t\t\tws['!fullref'] = ws['!ref'];\n\t\t\t\t\t\trange.e.r = opts.sheetRows - 1;\n\t\t\t\t\t\tws['!ref'] = encode_range(range);\n\t\t\t\t\t}\n\t\t\t\t\tif(merges.length) ws['!merges'] = merges;\n\t\t\t\t\tif(rowinfo.length) ws[\"!rows\"] = rowinfo;\n\t\t\t\t\tsheetag.name = sheetag[''] || sheetag.name;\n\t\t\t\t\tif(typeof JSON !== 'undefined') JSON.stringify(sheetag);\n\t\t\t\t\tSheetNames.push(sheetag.name);\n\t\t\t\t\tSheets[sheetag.name] = ws;\n\t\t\t\t\tintable = false;\n\t\t\t\t}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\t\tsheetag = parsexmltag(Rn[0], false);\n\t\t\t\t\tR = C = -1;\n\t\t\t\t\trange.s.r = range.s.c = 10000000; range.e.r = range.e.c = 0;\n\t\t\t\t\tws = ({}/*:any*/); if(opts.dense) ws[\"!data\"] = []; merges = [];\n\t\t\t\t\trowinfo = [];\n\t\t\t\t\tintable = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'table-row-group': // 9.1.9 <table:table-row-group>\n\t\t\t\tif(Rn[1] === \"/\") --row_ol; else ++row_ol;\n\t\t\t\tbreak;\n\t\t\tcase 'table-row': case '': // 9.1.3 <table:table-row>\n\t\t\t\tif(Rn[1] === '/') { R+=rowpeat; rowpeat = 1; break; }\n\t\t\t\trowtag = parsexmltag(Rn[0], false);\n\t\t\t\tif(rowtag['']) R = rowtag[''] - 1; else if(R == -1) R = 0;\n\t\t\t\trowpeat = +rowtag['number-rows-repeated'] || 1;\n\t\t\t\t/* TODO: remove magic */\n\t\t\t\tif(rowpeat < 10) for(i = 0; i < rowpeat; ++i) if(row_ol > 0) rowinfo[R + i] = {level: row_ol};\n\t\t\t\tC = -1; break;\n\t\t\tcase 'covered-table-cell': // 9.1.5 <table:covered-table-cell>\n\t\t\t\tif(Rn[1] !== '/') {\n\t\t\t\t\t++C;\n\t\t\t\t\tctag = parsexmltag(Rn[0], false);\n\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\",10) || 1;\n\t\t\t\t\tif(opts.sheetStubs) {\n\t\t\t\t\t\twhile(colpeat-- > 0) {\n\t\t\t\t\t\t\tif(opts.dense) { if(!ws[\"!data\"][R]) ws[\"!data\"][R] = []; ws[\"!data\"][R][C] = {t:'z'}; }\n\t\t\t\t\t\t\telse ws[encode_cell({r:R,c:C})] = {t:'z'};\n\t\t\t\t\t\t\t++C;\n\t\t\t\t\t\t} --C;\n\t\t\t\t\t}\n\t\t\t\t\telse C += colpeat - 1;\n\t\t\t\t}\n\t\t\t\ttextp = \"\"; textR = [];\n\t\t\t\tbreak; /* stub */\n\t\t\tcase 'table-cell': case '':\n\t\t\t\tif(Rn[0].charAt(Rn[0].length-2) === '/') {\n\t\t\t\t\t++C;\n\t\t\t\t\tctag = parsexmltag(Rn[0], false);\n\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\", 10)||1;\n\t\t\t\t\tq = ({t:'z', v:null/*:: , z:null, w:\"\",c:[]*/}/*:any*/);\n\t\t\t\t\tif(ctag.formula && opts.cellFormula != false) q.f = ods_to_csf_formula(unescapexml(ctag.formula));\n\t\t\t\t\tif(ctag[\"style-name\"] && styles[ctag[\"style-name\"]]) q.z = styles[ctag[\"style-name\"]];\n\t\t\t\t\tif((ctag[''] || ctag['value-type']) == \"string\") {\n\t\t\t\t\t\tq.t = \"s\"; q.v = unescapexml(ctag['string-value'] || \"\");\n\t\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\t\tif(!ws[\"!data\"][R]) ws[\"!data\"][R] = [];\n\t\t\t\t\t\t\tws[\"!data\"][R][C] = q;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tws[encode_col(C) + encode_row(R)] = q;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tC+= colpeat-1;\n\t\t\t\t} else if(Rn[1]!=='/') {\n\t\t\t\t\t++C;\n\t\t\t\t\ttextp = oldtextp = \"\"; textpidx = oldtextpidx = 0; textR = []; oldtextR = [];\n\t\t\t\t\tcolpeat = 1;\n\t\t\t\t\tvar rptR = rowpeat ? R + rowpeat - 1 : R;\n\t\t\t\t\tif(C > range.e.c) range.e.c = C;\n\t\t\t\t\tif(C < range.s.c) range.s.c = C;\n\t\t\t\t\tif(R < range.s.r) range.s.r = R;\n\t\t\t\t\tif(rptR > range.e.r) range.e.r = rptR;\n\t\t\t\t\tctag = parsexmltag(Rn[0], false);\n\t\t\t\t\tctag2 = parsexmltagraw(Rn[0], true);\n\t\t\t\t\tcomments = []; comment = ({}/*:any*/);\n\t\t\t\t\tq = ({t:ctag[''] || ctag['value-type'], v:null/*:: , z:null, w:\"\",c:[]*/}/*:any*/);\n\t\t\t\t\tif(ctag[\"style-name\"] && styles[ctag[\"style-name\"]]) q.z = styles[ctag[\"style-name\"]];\n\t\t\t\t\tif(opts.cellFormula) {\n\t\t\t\t\t\tif(ctag.formula) ctag.formula = unescapexml(ctag.formula);\n\t\t\t\t\t\tif(ctag['number-matrix-columns-spanned'] && ctag['number-matrix-rows-spanned']) {\n\t\t\t\t\t\t\tmR = parseInt(ctag['number-matrix-rows-spanned'],10) || 0;\n\t\t\t\t\t\t\tmC = parseInt(ctag['number-matrix-columns-spanned'],10) || 0;\n\t\t\t\t\t\t\tmrange = {s: {r:R,c:C}, e:{r:R + mR-1,c:C + mC-1}};\n\t\t\t\t\t\t\tq.F = encode_range(mrange);\n\t\t\t\t\t\t\tarrayf.push([mrange, q.F]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(ctag.formula) q.f = ods_to_csf_formula(ctag.formula);\n\t\t\t\t\t\telse for(i = 0; i < arrayf.length; ++i)\n\t\t\t\t\t\t\tif(R >= arrayf[i][0].s.r && R <= arrayf[i][0].e.r)\n\t\t\t\t\t\t\t\tif(C >= arrayf[i][0].s.c && C <= arrayf[i][0].e.c)\n\t\t\t\t\t\t\t\t\tq.F = arrayf[i][1];\n\t\t\t\t\t}\n\t\t\t\t\tif(ctag['number-columns-spanned'] || ctag['number-rows-spanned']) {\n\t\t\t\t\t\tmR = parseInt(ctag['number-rows-spanned']||\"1\",10) || 1;\n\t\t\t\t\t\tmC = parseInt(ctag['number-columns-spanned']||\"1\",10) || 1;\n\t\t\t\t\t\tif(mR * mC > 1) {\n\t\t\t\t\t\t\tmrange = {s: {r:R,c:C}, e:{r:R + mR-1,c:C + mC-1}};\n\t\t\t\t\t\t\tmerges.push(mrange);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/* 19.675.2 table:number-columns-repeated */\n\t\t\t\t\tif(ctag['number-columns-repeated']) colpeat = parseInt(ctag['number-columns-repeated'], 10);\n\n\t\t\t\t\t/* 19.385 office:value-type TODO: verify ODS and UOS */\n\t\t\t\t\tswitch(q.t) {\n\t\t\t\t\t\tcase 'boolean': q.t = 'b'; q.v = parsexmlbool(ctag['boolean-value']) || (+ctag['boolean-value'] >= 1); break;\n\t\t\t\t\t\tcase 'float': q.t = 'n'; q.v = parseFloat(ctag.value);\n\t\t\t\t\t\t\tif(opts.cellDates && q.z && fmt_is_date(q.z)) { q.v = numdate(q.v + (WB.WBProps.date1904 ? 1462 : 0)); q.t = typeof q.v == \"number\" ? 'n' : 'd'; }\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'percentage': q.t = 'n'; q.v = parseFloat(ctag.value); break;\n\t\t\t\t\t\tcase 'currency': q.t = 'n'; q.v = parseFloat(ctag.value); break;\n\t\t\t\t\t\tcase 'date': q.t = 'd'; q.v = parseDate(ctag['date-value'], WB.WBProps.date1904);\n\t\t\t\t\t\t\tif(!opts.cellDates) { q.t = 'n'; q.v = datenum(q.v, WB.WBProps.date1904); }\n\t\t\t\t\t\t\tif(!q.z) q.z = 'm/d/yy'; break;\n\t\t\t\t\t\t/* NOTE: for `time`, Excel ODS export incorrectly uses durations relative to 1900 epoch even if 1904 is specified */\n\t\t\t\t\t\tcase 'time': q.t = 'n'; q.v = parse_isodur(ctag['time-value'])/86400;\n\t\t\t\t\t\t\tif(opts.cellDates) { q.v = numdate(q.v); q.t = typeof q.v == \"number\" ? 'n' : 'd'; }\n\t\t\t\t\t\t\tif(!q.z) q.z = 'HH:MM:SS'; break;\n\t\t\t\t\t\tcase 'number': q.t = 'n'; q.v = parseFloat(ctag['']);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(q.t === 'string' || q.t === 'text' || !q.t) {\n\t\t\t\t\t\t\t\tq.t = 's';\n\t\t\t\t\t\t\t\tif(ctag['string-value'] != null) { textp = unescapexml(ctag['string-value']); textR = []; }\n\t\t\t\t\t\t\t} else throw new Error('Unsupported value type ' + q.t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tisstub = false;\n\t\t\t\t\tif(ctag2['calcext:value-type'] == \"error\" && RBErr[textp] != null) {\n\t\t\t\t\t\tq.t = 'e'; q.w = textp; q.v = RBErr[textp];\n\t\t\t\t\t}\n\t\t\t\t\tif(q.t === 's') {\n\t\t\t\t\t\tq.v = textp || '';\n\t\t\t\t\t\tif(textR.length) q.R = textR;\n\t\t\t\t\t\tisstub = textpidx == 0;\n\t\t\t\t\t}\n\t\t\t\t\tif(atag.Target) q.l = atag;\n\t\t\t\t\tif(comments.length > 0) { q.c = comments; comments = []; }\n\t\t\t\t\tif(textp && opts.cellText !== false) q.w = textp;\n\t\t\t\t\tif(isstub) { q.t = \"z\"; delete q.v; }\n\t\t\t\t\tif(!isstub || opts.sheetStubs) {\n\t\t\t\t\t\tif(!(opts.sheetRows && opts.sheetRows <= R)) {\n\t\t\t\t\t\t\tfor(var rpt = 0; rpt < rowpeat; ++rpt) {\n\t\t\t\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\", 10);\n\t\t\t\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\t\t\t\tif(!ws[\"!data\"][R + rpt]) ws[\"!data\"][R + rpt] = [];\n\t\t\t\t\t\t\t\t\tws[\"!data\"][R + rpt][C] = rpt == 0 ? q : dup(q);\n\t\t\t\t\t\t\t\t\twhile(--colpeat > 0) ws[\"!data\"][R + rpt][C + colpeat] = dup(q);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tws[encode_cell({r:R + rpt,c:C})] = q;\n\t\t\t\t\t\t\t\t\twhile(--colpeat > 0) ws[encode_cell({r:R + rpt,c:C + colpeat})] = dup(q);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(range.e.c <= C) range.e.c = C;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\", 10);\n\t\t\t\t\tC += colpeat-1; colpeat = 0;\n\t\t\t\t\tq = {/*:: t:\"\", v:null, z:null, w:\"\",c:[]*/};\n\t\t\t\t\ttextp = \"\"; textR = [];\n\t\t\t\t}\n\t\t\t\tatag = ({}/*:any*/);\n\t\t\t\tbreak; // 9.1.4 <table:table-cell>\n\n\t\t\t/* pure state */\n\t\t\tcase 'document': // TODO: <office:document> is the root for FODS\n\t\t\tcase 'document-content': case '': // 3.1.3.2 <office:document-content>\n\t\t\tcase 'spreadsheet': case '': // 3.7 <office:spreadsheet>\n\t\t\tcase 'scripts': // 3.12 <office:scripts>\n\t\t\tcase 'styles': // TODO <office:styles>\n\t\t\tcase 'font-face-decls': // 3.14 <office:font-face-decls>\n\t\t\tcase 'master-styles': // 3.15.4 <office:master-styles> -- relevant for FODS\n\t\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\t\tbreak;\n\n\t\t\tcase 'annotation': // 14.1 <office:annotation>\n\t\t\t\tif(Rn[1]==='/'){\n\t\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;\n\t\t\t\t\tcomment.t = textp;\n\t\t\t\t\tif(textR.length) /*::(*/comment/*:: :any)*/.R = textR;\n\t\t\t\t\tcomment.a = creator;\n\t\t\t\t\tcomments.push(comment);\n\t\t\t\t\ttextp = oldtextp; textpidx = oldtextpidx; textR = oldtextR;\n\t\t\t\t}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\t\tvar annotag = parsexmltag(Rn[0], true);\n\t\t\t\t\t/* office:display TODO: check if there is a global override */\n\t\t\t\t\tif(!(annotag[\"display\"] && parsexmlbool(annotag[\"display\"]))) comments.hidden = true;\n\t\t\t\t\toldtextp = textp; oldtextpidx = textpidx; oldtextR = textR;\n\t\t\t\t\ttextp = \"\"; textpidx = 0; textR = [];\n\t\t\t\t}\n\t\t\t\tcreator = \"\"; creatoridx = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase 'creator': // 4.3.2.7 <dc:creator>\n\t\t\t\tif(Rn[1]==='/') { creator = str.slice(creatoridx,Rn.index); }\n\t\t\t\telse creatoridx = Rn.index + Rn[0].length;\n\t\t\t\tbreak;\n\n\t\t\t/* ignore state */\n\t\t\tcase 'meta': case '': // TODO: <office:meta> <uof:> FODS/UOF\n\t\t\tcase 'settings': // TODO: <office:settings>\n\t\t\tcase 'config-item-set': // TODO: <office:config-item-set>\n\t\t\tcase 'config-item-map-indexed': // TODO: <office:config-item-map-indexed>\n\t\t\tcase 'config-item-map-entry': // TODO: <office:config-item-map-entry>\n\t\t\tcase 'config-item-map-named': // TODO: <office:config-item-map-entry>\n\t\t\tcase 'shapes': // 9.2.8 <table:shapes>\n\t\t\tcase 'frame': // 10.4.2 <draw:frame>\n\t\t\tcase 'text-box': // 10.4.3 <draw:text-box>\n\t\t\tcase 'image': // 10.4.4 <draw:image>\n\t\t\tcase 'data-pilot-tables': // 9.6.2 <table:data-pilot-tables>\n\t\t\tcase 'list-style': // 16.30 <text:list-style>\n\t\t\tcase 'form': // 13.13 <form:form>\n\t\t\tcase 'dde-links': // 9.8 <table:dde-links>\n\t\t\tcase 'event-listeners': // TODO\n\t\t\tcase 'chart': // TODO\n\t\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], false]);\n\t\t\t\ttextp = \"\"; textpidx = 0; textR = [];\n\t\t\t\tbreak;\n\n\t\t\tcase 'scientific-number': // <number:scientific-number>\n\t\t\tcase 'currency-symbol': // <number:currency-symbol>\n\t\t\tcase 'fill-character': // 16.29.5 <number:fill-character>\n\t\t\t\tbreak;\n\n\t\t\tcase 'text-style': // 16.27.25 <number:text-style>\n\t\t\tcase 'boolean-style': // 16.27.23 <number:boolean-style>\n\t\t\tcase 'number-style': // 16.27.2 <number:number-style>\n\t\t\tcase 'currency-style': // 16.29.8 <number:currency-style>\n\t\t\tcase 'percentage-style': // 16.27.9 <number:percentage-style>\n\t\t\tcase 'date-style': // 16.27.10 <number:date-style>\n\t\t\tcase 'time-style': // 16.27.18 <number:time-style>\n\t\t\t\tif(Rn[1]==='/'){\n\t\t\t\t\tvar xlmlidx = xlmlregex.lastIndex;\n\t\t\t\t\tparse_ods_styles(str.slice(nfidx, xlmlregex.lastIndex), _opts, number_format_map);\n\t\t\t\t\txlmlregex.lastIndex = xlmlidx;\n\t\t\t\t} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\t\tnfidx = xlmlregex.lastIndex - Rn[0].length;\n\t\t\t\t} break;\n\n\t\t\tcase 'script': break; // 3.13 <office:script>\n\t\t\tcase 'libraries': break; // TODO: <ooo:libraries>\n\t\t\tcase 'automatic-styles': break; // 3.15.3 <office:automatic-styles>\n\n\t\t\tcase 'default-style': // TODO: <style:default-style>\n\t\t\tcase 'page-layout': break; // TODO: <style:page-layout>\n\t\t\tcase 'style': { // 16.2 <style:style>\n\t\t\t\tvar styletag = parsexmltag(Rn[0], false);\n\t\t\t\tif(styletag[\"family\"] == \"table-cell\" && number_format_map[styletag[\"data-style-name\"]]) styles[styletag[\"name\"]] = number_format_map[styletag[\"data-style-name\"]];\n\t\t\t} break;\n\t\t\tcase 'map': break; // 16.3 <style:map>\n\t\t\tcase 'font-face': break; // 16.21 <style:font-face>\n\n\t\t\tcase 'paragraph-properties': break; // 17.6 <style:paragraph-properties>\n\t\t\tcase 'table-properties': break; // 17.15 <style:table-properties>\n\t\t\tcase 'table-column-properties': break; // 17.16 <style:table-column-properties>\n\t\t\tcase 'table-row-properties': break; // 17.17 <style:table-row-properties>\n\t\t\tcase 'table-cell-properties': break; // 17.18 <style:table-cell-properties>\n\n\t\t\tcase 'number': // 16.27.3 <number:number>\n\t\t\t\tbreak;\n\n\t\t\tcase 'fraction': break; // TODO 16.27.6 <number:fraction>\n\n\t\t\tcase 'day': // 16.27.11 <number:day>\n\t\t\tcase 'month': // 16.27.12 <number:month>\n\t\t\tcase 'year': // 16.27.13 <number:year>\n\t\t\tcase 'era': // 16.27.14 <number:era>\n\t\t\tcase 'day-of-week': // 16.27.15 <number:day-of-week>\n\t\t\tcase 'week-of-year': // 16.27.16 <number:week-of-year>\n\t\t\tcase 'quarter': // 16.27.17 <number:quarter>\n\t\t\tcase 'hours': // 16.27.19 <number:hours>\n\t\t\tcase 'minutes': // 16.27.20 <number:minutes>\n\t\t\tcase 'seconds': // 16.27.21 <number:seconds>\n\t\t\tcase 'am-pm': // 16.27.22 <number:am-pm>\n\t\t\t\tbreak;\n\n\t\t\tcase 'boolean': break; // 16.27.24 <number:boolean>\n\t\t\tcase 'text': // 16.27.26 <number:text>\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\t\telse if(Rn[1]===\"/\") switch(state[state.length-1][0]) {\n\t\t\t\t\tcase 'number-style':\n\t\t\t\t\tcase 'date-style':\n\t\t\t\t\tcase 'time-style':\n\t\t\t\t\t\tNF += str.slice(pidx, Rn.index);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse pidx = Rn.index + Rn[0].length;\n\t\t\t\tbreak;\n\n\t\t\tcase 'named-range': // 9.4.12 <table:named-range>\n\t\t\t\ttag = parsexmltag(Rn[0], false);\n\t\t\t\t_Ref = ods_to_csf_3D(tag['cell-range-address']);\n\t\t\t\tvar nrange = ({Name:tag.name, Ref:_Ref[0] + '!' + _Ref[1]}/*:any*/);\n\t\t\t\tif(intable) nrange.Sheet = SheetNames.length;\n\t\t\t\tWB.Names.push(nrange);\n\t\t\t\tbreak;\n\n\t\t\tcase 'text-content': break; // 16.27.27 <number:text-content>\n\t\t\tcase 'text-properties': break; // 16.27.27 <style:text-properties>\n\t\t\tcase 'embedded-text': break; // 16.27.4 <number:embedded-text>\n\n\t\t\tcase 'body': case '': break; // 3.3 16.9.6 19.726.3\n\n\t\t\tcase 'forms': break; // 12.25.2 13.2\n\t\t\tcase 'table-column': break; // 9.1.6 <table:table-column>\n\t\t\tcase 'table-header-rows': break; // 9.1.7 <table:table-header-rows>\n\t\t\tcase 'table-rows': break; // 9.1.12 <table:table-rows>\n\t\t\t/* TODO: outline levels */\n\t\t\tcase 'table-column-group': break; // 9.1.10 <table:table-column-group>\n\t\t\tcase 'table-header-columns': break; // 9.1.11 <table:table-header-columns>\n\t\t\tcase 'table-columns': break; // 9.1.12 <table:table-columns>\n\n\t\t\tcase 'null-date': // 9.4.2 <table:null-date>\n\t\t\t\ttag = parsexmltag(Rn[0], false);\n\t\t\t\tswitch(tag[\"date-value\"]) {\n\t\t\t\t\tcase \"1904-01-01\": WB.WBProps.date1904 = true; break;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'graphic-properties': break; // 17.21 <style:graphic-properties>\n\t\t\tcase 'calculation-settings': break; // 9.4.1 <table:calculation-settings>\n\t\t\tcase 'named-expressions': break; // 9.4.11 <table:named-expressions>\n\t\t\tcase 'label-range': break; // 9.4.9 <table:label-range>\n\t\t\tcase 'label-ranges': break; // 9.4.10 <table:label-ranges>\n\t\t\tcase 'named-expression': break; // 9.4.13 <table:named-expression>\n\t\t\tcase 'sort': break; // 9.4.19 <table:sort>\n\t\t\tcase 'sort-by': break; // 9.4.20 <table:sort-by>\n\t\t\tcase 'sort-groups': break; // 9.4.22 <table:sort-groups>\n\n\t\t\tcase 'tab': break; // 6.1.4 <text:tab>\n\t\t\tcase 'line-break': break; // 6.1.5 <text:line-break>\n\t\t\tcase 'span': break; // 6.1.7 <text:span>\n\t\t\tcase 'p': case '': // 5.1.3 <text:p>\n\t\t\t\tif(['master-styles'].indexOf(state[state.length-1][0]) > -1) break;\n\t\t\t\tif(Rn[1]==='/' && (!ctag || !ctag['string-value'])) {\n\t\t\t\t\tvar ptp = parse_text_p(str.slice(textpidx,Rn.index), textptag);\n\t\t\t\t\ttextp = (textp.length > 0 ? textp + \"\\n\" : \"\") + ptp[0];\n\t\t\t\t} else if(Rn[0].slice(-2) == \"/>\") {\n\t\t\t\t\t/* TODO: is self-closing  valid? */\n\t\t\t\t\ttextp += \"\\n\";\n\t\t\t\t} else { textptag = parsexmltag(Rn[0], false); textpidx = Rn.index + Rn[0].length; }\n\t\t\t\tbreak; // <text:p>\n\t\t\tcase 's': break; // <text:s>\n\n\t\t\tcase 'database-range': // 9.4.15 <table:database-range>\n\t\t\t\tif(Rn[1]==='/') break;\n\t\t\t\ttry {\n\t\t\t\t\t_Ref = ods_to_csf_3D(parsexmltag(Rn[0])['target-range-address']);\n\t\t\t\t\tSheets[_Ref[0]]['!autofilter'] = { ref:_Ref[1] };\n\t\t\t\t} catch(e) {/* empty */}\n\t\t\t\tbreak;\n\n\t\t\tcase 'date': break; // <*:date>\n\n\t\t\tcase 'object': break; // 10.4.6.2 <draw:object>\n\t\t\tcase 'title': case '': break; // <*:title> OR <uof:>\n\t\t\tcase 'desc': break; // <*:desc>\n\t\t\tcase 'binary-data': break; // 10.4.5 TODO: b64 blob\n\n\t\t\t/* 9.2 Advanced Tables */\n\t\t\tcase 'table-source': break; // 9.2.6\n\t\t\tcase 'scenario': break; // 9.2.6\n\n\t\t\tcase 'iteration': break; // 9.4.3 <table:iteration>\n\t\t\tcase 'content-validations': break; // 9.4.4 <table:\n\t\t\tcase 'content-validation': break; // 9.4.5 <table:\n\t\t\tcase 'help-message': break; // 9.4.6 <table:\n\t\t\tcase 'error-message': break; // 9.4.7 <table:\n\t\t\tcase 'database-ranges': break; // 9.4.14 <table:database-ranges>\n\n\t\t\t/* 9.5 Filters */\n\t\t\tcase 'filter': break; // 9.5.2 <table:filter>\n\t\t\tcase 'filter-and': break; // 9.5.3 <table:filter-and>\n\t\t\tcase 'filter-or': break; // 9.5.4 <table:filter-or>\n\t\t\tcase 'filter-condition': break; // 9.5.5 <table:filter-condition>\n\t\t\tcase 'filter-set-item': break; // 9.5.6 <table:filter-condition>\n\n\t\t\tcase 'list-level-style-bullet': break; // 16.31 <text:\n\t\t\tcase 'list-level-style-number': break; // 16.32 <text:\n\t\t\tcase 'list-level-properties': break; // 17.19 <style:\n\n\t\t\t/* 7.3 Document Fields */\n\t\t\tcase 'sender-firstname': // 7.3.6.2\n\t\t\tcase 'sender-lastname': // 7.3.6.3\n\t\t\tcase 'sender-initials': // 7.3.6.4\n\t\t\tcase 'sender-title': // 7.3.6.5\n\t\t\tcase 'sender-position': // 7.3.6.6\n\t\t\tcase 'sender-email': // 7.3.6.7\n\t\t\tcase 'sender-phone-private': // 7.3.6.8\n\t\t\tcase 'sender-fax': // 7.3.6.9\n\t\t\tcase 'sender-company': // 7.3.6.10\n\t\t\tcase 'sender-phone-work': // 7.3.6.11\n\t\t\tcase 'sender-street': // 7.3.6.12\n\t\t\tcase 'sender-city': // 7.3.6.13\n\t\t\tcase 'sender-postal-code': // 7.3.6.14\n\t\t\tcase 'sender-country': // 7.3.6.15\n\t\t\tcase 'sender-state-or-province': // 7.3.6.16\n\t\t\tcase 'author-name': // 7.3.7.1\n\t\t\tcase 'author-initials': // 7.3.7.2\n\t\t\tcase 'chapter': // 7.3.8\n\t\t\tcase 'file-name': // 7.3.9\n\t\t\tcase 'template-name': // 7.3.9\n\t\t\tcase 'sheet-name': // 7.3.9\n\t\t\t\tbreak;\n\n\t\t\tcase 'event-listener':\n\t\t\t\tbreak;\n\t\t\t/* TODO: FODS Properties */\n\t\t\tcase 'initial-creator':\n\t\t\tcase 'creation-date':\n\t\t\tcase 'print-date':\n\t\t\tcase 'generator':\n\t\t\tcase 'document-statistic':\n\t\t\tcase 'user-defined':\n\t\t\tcase 'editing-duration':\n\t\t\tcase 'editing-cycles':\n\t\t\t\tbreak;\n\n\t\t\t/* TODO: FODS Config */\n\t\t\tcase 'config-item':\n\t\t\t\tbreak;\n\n\t\t\t/* TODO: style tokens */\n\t\t\tcase 'page-number': break; // TODO <text:page-number>\n\t\t\tcase 'page-count': break; // TODO <text:page-count>\n\t\t\tcase 'time': break; // TODO <text:time>\n\n\t\t\t/* 9.3 Advanced Table Cells */\n\t\t\tcase 'cell-range-source': break; // 9.3.1 <table:\n\t\t\tcase 'detective': break; // 9.3.2 <table:\n\t\t\tcase 'operation': break; // 9.3.3 <table:\n\t\t\tcase 'highlighted-range': break; // 9.3.4 <table:\n\n\t\t\t/* 9.6 Data Pilot Tables <table: */\n\t\t\tcase 'data-pilot-table': // 9.6.3\n\t\t\tcase 'source-cell-range': // 9.6.5\n\t\t\tcase 'source-service': // 9.6.6\n\t\t\tcase 'data-pilot-field': // 9.6.7\n\t\t\tcase 'data-pilot-level': // 9.6.8\n\t\t\tcase 'data-pilot-subtotals': // 9.6.9\n\t\t\tcase 'data-pilot-subtotal': // 9.6.10\n\t\t\tcase 'data-pilot-members': // 9.6.11\n\t\t\tcase 'data-pilot-member': // 9.6.12\n\t\t\tcase 'data-pilot-display-info': // 9.6.13\n\t\t\tcase 'data-pilot-sort-info': // 9.6.14\n\t\t\tcase 'data-pilot-layout-info': // 9.6.15\n\t\t\tcase 'data-pilot-field-reference': // 9.6.16\n\t\t\tcase 'data-pilot-groups': // 9.6.17\n\t\t\tcase 'data-pilot-group': // 9.6.18\n\t\t\tcase 'data-pilot-group-member': // 9.6.19\n\t\t\t\tbreak;\n\n\t\t\t/* 10.3 Drawing Shapes */\n\t\t\tcase 'rect': // 10.3.2\n\t\t\t\tbreak;\n\n\t\t\t/* 14.6 DDE Connections */\n\t\t\tcase 'dde-connection-decls': // 14.6.2 <text:\n\t\t\tcase 'dde-connection-decl': // 14.6.3 <text:\n\t\t\tcase 'dde-link': // 14.6.4 <table:\n\t\t\tcase 'dde-source': // 14.6.5 <office:\n\t\t\t\tbreak;\n\n\t\t\tcase 'properties': break; // 13.7 <form:properties>\n\t\t\tcase 'property': break; // 13.8 <form:property>\n\n\t\t\tcase 'a': // 6.1.8 hyperlink\n\t\t\t\tif(Rn[1]!== '/') {\n\t\t\t\t\tatag = parsexmltag(Rn[0], false);\n\t\t\t\t\tif(!atag.href) break;\n\t\t\t\t\tatag.Target = unescapexml(atag.href); delete atag.href;\n\t\t\t\t\tif(atag.Target.charAt(0) == \"#\" && atag.Target.indexOf(\".\") > -1) {\n\t\t\t\t\t\t_Ref = ods_to_csf_3D(atag.Target.slice(1));\n\t\t\t\t\t\tatag.Target = \"#\" + _Ref[0] + \"!\" + _Ref[1];\n\t\t\t\t\t} else if(atag.Target.match(/^\\.\\.[\\\\\\/]/)) atag.Target = atag.Target.slice(3);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t/* non-standard */\n\t\t\tcase 'table-protection': break;\n\t\t\tcase 'data-pilot-grand-total': break; // <table:\n\t\t\tcase 'office-document-common-attrs': break; // bare\n\t\t\tdefault: switch(Rn[2]) {\n\t\t\t\tcase 'dc:':       // TODO: properties\n\t\t\t\tcase 'calcext:':  // ignore undocumented extensions\n\t\t\t\tcase 'loext:':    // ignore undocumented extensions\n\t\t\t\tcase 'ooo:':      // ignore undocumented extensions\n\t\t\t\tcase 'chartooo:': // ignore undocumented extensions\n\t\t\t\tcase 'draw:':     // TODO: drawing\n\t\t\t\tcase 'style:':    // TODO: styles\n\t\t\t\tcase 'chart:':    // TODO: charts\n\t\t\t\tcase 'form:':     // TODO: forms\n\t\t\t\tcase 'uof:':      // TODO: uof\n\t\t\t\tcase ':':       // TODO: uof\n\t\t\t\tcase ':':       // TODO: uof\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: if(opts.WTF) throw new Error(Rn);\n\t\t\t}\n\t\t}\n\t\tvar out/*:Workbook*/ = ({\n\t\t\tSheets: Sheets,\n\t\t\tSheetNames: SheetNames,\n\t\t\tWorkbook: WB\n\t\t}/*:any*/);\n\t\tif(opts.bookSheets) delete /*::(*/out/*:: :any)*/.Sheets;\n\t\treturn out;\n}\n\nfunction parse_ods(zip/*:ZIPFile*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\topts = opts || ({}/*:any*/);\n\tif(safegetzipfile(zip, 'META-INF/manifest.xml')) parse_manifest(getzipdata(zip, 'META-INF/manifest.xml'), opts);\n\tvar styles = getzipstr(zip, 'styles.xml');\n\tvar Styles = styles && parse_ods_styles(utf8read(styles), opts);\n\tvar content = getzipstr(zip, 'content.xml');\n\tif(!content) throw new Error(\"Missing content.xml in ODS / UOF file\");\n\tvar wb = parse_content_xml(utf8read(content), opts, Styles);\n\tif(safegetzipfile(zip, 'meta.xml')) wb.Props = parse_core_props(getzipdata(zip, 'meta.xml'));\n\twb.bookType = \"ods\";\n\treturn wb;\n}\nfunction parse_fods(data/*:string*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar wb = parse_content_xml(data, opts);\n\twb.bookType = \"fods\";\n\treturn wb;\n}\n/* OpenDocument */\nvar write_styles_ods/*:{(wb:any, opts:any):string}*/ = /* @__PURE__ */(function() {\n\tvar master_styles = [\n\t\t'<office:master-styles>',\n\t\t\t'<style:master-page style:name=\"mp1\" style:page-layout-name=\"mp1\">',\n\t\t\t\t'<style:header/>',\n\t\t\t\t'<style:header-left style:display=\"false\"/>',\n\t\t\t\t'<style:footer/>',\n\t\t\t\t'<style:footer-left style:display=\"false\"/>',\n\t\t\t'</style:master-page>',\n\t\t'</office:master-styles>'\n\t].join(\"\");\n\n\tvar payload = '<office:document-styles ' + wxt_helper({\n\t\t'xmlns:office':   \"urn:oasis:names:tc:opendocument:xmlns:office:1.0\",\n\t\t'xmlns:table':    \"urn:oasis:names:tc:opendocument:xmlns:table:1.0\",\n\t\t'xmlns:style':    \"urn:oasis:names:tc:opendocument:xmlns:style:1.0\",\n\t\t'xmlns:text':     \"urn:oasis:names:tc:opendocument:xmlns:text:1.0\",\n\t\t'xmlns:draw':     \"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0\",\n\t\t'xmlns:fo':       \"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0\",\n\t\t'xmlns:xlink':    \"http://www.w3.org/1999/xlink\",\n\t\t'xmlns:dc':       \"http://purl.org/dc/elements/1.1/\",\n\t\t'xmlns:number':   \"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0\",\n\t\t'xmlns:svg':      \"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0\",\n\t\t'xmlns:of':       \"urn:oasis:names:tc:opendocument:xmlns:of:1.2\",\n\t\t'office:version': \"1.2\"\n\t}) + '>' + master_styles + '</office:document-styles>';\n\n\treturn function wso(/*::wb, opts*/) {\n\t\treturn XML_HEADER + payload;\n\t};\n})();\n\n// TODO: find out if anyone actually read the spec.  LO has some wild errors\nfunction write_number_format_ods(nf/*:string*/, nfidx/*:string*/)/*:string*/ {\n\tvar type = \"number\", payload = \"\", nopts = { \"style:name\": nfidx }, c = \"\", i = 0;\n\tnf = nf.replace(/\"[$]\"/g, \"$\");\n\t/* TODO: replace with an actual parser based on a real grammar */\n\tj: {\n\t\t// TODO: support style maps\n\t\tif(nf.indexOf(\";\") > -1) {\n\t\t\tconsole.error(\"Unsupported ODS Style Map exported.  Using first branch of \" + nf);\n\t\t\tnf = nf.slice(0, nf.indexOf(\";\"));\n\t\t}\n\n\t\tif(nf == \"@\") { type = \"text\"; payload = \"<number:text-content/>\"; break j; }\n\n\t\t/* currency flag */\n\t\tif(nf.indexOf(/\\$/) > -1) { type = \"currency\"; }\n\n\t\t/* opening string literal */\n\t\tif(nf[i] == '\"') {\n\t\t\tc = \"\";\n\t\t\twhile(nf[++i] != '\"' || nf[++i] == '\"') c += nf[i]; --i;\n\t\t\tif(nf[i+1] == \"*\") {\n\t\t\t\ti++;\n\t\t\t\tpayload += '<number:fill-character>' + escapexml(c.replace(/\"\"/g, '\"')) + '</number:fill-character>';\n\t\t\t} else {\n\t\t\t\tpayload += '<number:text>' + escapexml(c.replace(/\"\"/g, '\"')) + '</number:text>';\n\t\t\t}\n\t\t\tnf = nf.slice(i+1); i = 0;\n\t\t}\n\n\t\t/* fractions */\n\t\tvar t = nf.match(/# (\\?+)\\/(\\?+)/);\n\t\tif(t) { payload += writextag(\"number:fraction\", null, {\"number:min-integer-digits\":0, \"number:min-numerator-digits\": t[1].length, \"number:max-denominator-value\": Math.max(+(t[1].replace(/./g, \"9\")), +(t[2].replace(/./g, \"9\"))) }); break j; }\n\t\tif((t=nf.match(/# (\\?+)\\/(\\d+)/))) { payload += writextag(\"number:fraction\", null, {\"number:min-integer-digits\":0, \"number:min-numerator-digits\": t[1].length, \"number:denominator-value\": +t[2]}); break j; }\n\n\t\t/* percentages */\n\t\tif((t=nf.match(/\\b(\\d+)(|\\.\\d+)%/))) { type = \"percentage\"; payload += writextag(\"number:number\", null, {\"number:decimal-places\": t[2] && t.length - 1 || 0, \"number:min-decimal-places\": t[2] && t.length - 1 || 0, \"number:min-integer-digits\": t[1].length }) + \"<number:text>%</number:text>\"; break j; }\n\n\t\t/* datetime */\n\t\tvar has_time = false;\n\t\tif([\"y\",\"m\",\"d\"].indexOf(nf[0]) > -1) {\n\t\t\ttype = \"date\";\n\t\t\tk: for(; i < nf.length; ++i) switch((c = nf[i].toLowerCase())) {\n\t\t\t\tcase \"h\": case \"s\": has_time = true; --i; break k;\n\t\t\t\tcase \"m\":\n\t\t\t\t\tl: for(var h = i+1; h < nf.length; ++h) switch(nf[h]) {\n\t\t\t\t\t\tcase \"y\": case \"d\": break l;\n\t\t\t\t\t\tcase \"h\": case \"s\": has_time = true; --i; break k;\n\t\t\t\t\t}\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase \"y\": case \"d\":\n\t\t\t\t\twhile((nf[++i]||\"\").toLowerCase() == c[0]) c += c[0]; --i;\n\t\t\t\t\tswitch(c) {\n\t\t\t\t\t\tcase \"y\": case \"yy\": payload += \"<number:year/>\"; break;\n\t\t\t\t\t\tcase \"yyy\": case \"yyyy\": payload += '<number:year number:style=\"long\"/>'; break;\n\t\t\t\t\t\tcase \"mmmmm\": console.error(\"ODS has no equivalent of format |mmmmm|\");\n\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\tcase \"m\": case \"mm\": case \"mmm\": case \"mmmm\":\n\t\t\t\t\t\t\tpayload += '<number:month number:style=\"' + (c.length % 2 ? \"short\" : \"long\") + '\" number:textual=\"' + (c.length >= 3 ? \"true\" : \"false\") + '\"/>';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"d\": case \"dd\": payload += '<number:day number:style=\"' + (c.length % 2 ? \"short\" : \"long\") + '\"/>'; break;\n\t\t\t\t\t\tcase \"ddd\": case \"dddd\": payload += '<number:day-of-week number:style=\"' + (c.length % 2 ? \"short\" : \"long\") + '\"/>'; break;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase '\"':\n\t\t\t\t\twhile(nf[++i] != '\"' || nf[++i] == '\"') c += nf[i]; --i;\n\t\t\t\t\tpayload += '<number:text>' + escapexml(c.slice(1).replace(/\"\"/g, '\"')) + '</number:text>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '\\\\': c = nf[++i];\n\t\t\t\t\tpayload += '<number:text>' + escapexml(c) + '</number:text>'; break;\n\t\t\t\tcase '/': case ':': payload += '<number:text>' + escapexml(c) + '</number:text>'; break;\n\t\t\t\tdefault: console.error(\"unrecognized character \" + c + \" in ODF format \" + nf);\n\t\t\t}\n\t\t\tif(!has_time) break j;\n\t\t\tnf = nf.slice(i+1); i = 0;\n\t\t}\n\t\tif(nf.match(/^\\[?[hms]/)) {\n\t\t\tif(type == \"number\") type = \"time\";\n\t\t\tif(nf.match(/\\[/)) {\n\t\t\t\tnf = nf.replace(/[\\[\\]]/g, \"\");\n\t\t\t\tnopts['number:truncate-on-overflow'] = \"false\";\n\t\t\t}\n\t\t\tfor(; i < nf.length; ++i) switch((c = nf[i].toLowerCase())) {\n\t\t\t\tcase \"h\": case \"m\": case \"s\":\n\t\t\t\t\twhile((nf[++i]||\"\").toLowerCase() == c[0]) c += c[0]; --i;\n\t\t\t\t\tswitch(c) {\n\t\t\t\t\t\tcase \"h\": case \"hh\": payload += '<number:hours number:style=\"' + (c.length % 2 ? \"short\" : \"long\") + '\"/>'; break;\n\t\t\t\t\t\tcase \"m\": case \"mm\": payload += '<number:minutes number:style=\"' + (c.length % 2 ? \"short\" : \"long\") + '\"/>'; break;\n\t\t\t\t\t\tcase \"s\": case \"ss\":\n\t\t\t\t\t\t\tif(nf[i+1] == \".\") do { c += nf[i+1]; ++i; } while(nf[i+1] == \"0\");\n\t\t\t\t\t\t\tpayload += '<number:seconds number:style=\"' + (c.match(\"ss\") ? \"long\" : \"short\") + '\"' + (c.match(/\\./) ? ' number:decimal-places=\"' + (c.match(/0+/)||[\"\"])[0].length + '\"' : \"\")+ '/>'; break;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase '\"':\n\t\t\t\t\twhile(nf[++i] != '\"' || nf[++i] == '\"') c += nf[i]; --i;\n\t\t\t\t\tpayload += '<number:text>' + escapexml(c.slice(1).replace(/\"\"/g, '\"')) + '</number:text>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '/': case ':': payload += '<number:text>' + escapexml(c) + '</number:text>'; break;\n\t\t\t\tcase \"a\":\n\t\t\t\t\tif(nf.slice(i, i+3).toLowerCase() == \"a/p\") { payload += '<number:am-pm/>'; i += 2; break; } // Note: ODF does not support A/P\n\t\t\t\t\tif(nf.slice(i, i+5).toLowerCase() == \"am/pm\")  { payload += '<number:am-pm/>'; i += 4; break; }\n\t\t\t\t\t/* falls through */\n\t\t\t\tdefault: console.error(\"unrecognized character \" + c + \" in ODF format \" + nf);\n\t\t\t}\n\t\t\tbreak j;\n\t\t}\n\n\t\t/* currency flag */\n\t\tif(nf.indexOf(/\\$/) > -1) { type = \"currency\"; }\n\n\t\t/* should be in a char loop */\n\t\tif(nf[0] == \"$\") { payload += '<number:currency-symbol number:language=\"en\" number:country=\"US\">$</number:currency-symbol>'; nf = nf.slice(1); i = 0; }\n\t\ti = 0; if(nf[i] == '\"') {\n\t\t\twhile(nf[++i] != '\"' || nf[++i] == '\"') c += nf[i]; --i;\n\t\t\tif(nf[i+1] == \"*\") {\n\t\t\t\ti++;\n\t\t\t\tpayload += '<number:fill-character>' + escapexml(c.replace(/\"\"/g, '\"')) + '</number:fill-character>';\n\t\t\t} else {\n\t\t\t\tpayload += '<number:text>' + escapexml(c.replace(/\"\"/g, '\"')) + '</number:text>';\n\t\t\t}\n\t\t\tnf = nf.slice(i+1); i = 0;\n\t\t}\n\n\t\t/* number TODO: interstitial text e.g. 000)000-0000 */\n\t\tvar np = nf.match(/([#0][0#,]*)(\\.[0#]*|)(E[+]?0*|)/i);\n\t\tif(!np || !np[0]) console.error(\"Could not find numeric part of \" + nf);\n\t\telse {\n\t\t\tvar base = np[1].replace(/,/g, \"\");\n\t\t\tpayload += '<number:' + (np[3] ? \"scientific-\" : \"\")+ 'number' +\n\t\t\t\t' number:min-integer-digits=\"' + (base.indexOf(\"0\") == -1 ? \"0\" : base.length - base.indexOf(\"0\")) + '\"' +\n\t\t\t\t(np[0].indexOf(\",\") > -1 ? ' number:grouping=\"true\"' : \"\") +\n\t\t\t\t(np[2] && ' number:decimal-places=\"' + (np[2].length - 1) + '\"' || ' number:decimal-places=\"0\"') +\n\t\t\t\t(np[3] && np[3].indexOf(\"+\") > -1 ? ' number:forced-exponent-sign=\"true\"' : \"\" ) +\n\t\t\t\t(np[3] ? ' number:min-exponent-digits=\"' + np[3].match(/0+/)[0].length + '\"' : \"\" ) +\n\t\t\t\t'>' +\n\t\t\t\t/* TODO: interstitial text placeholders */\n\t\t\t\t'</number:' + (np[3] ? \"scientific-\" : \"\") + 'number>';\n\t\t\ti = np.index + np[0].length;\n\t\t}\n\n\t\t/* residual text */\n\t\tif(nf[i] == '\"') {\n\t\t\tc = \"\";\n\t\t\twhile(nf[++i] != '\"' || nf[++i] == '\"') c += nf[i]; --i;\n\t\t\tpayload += '<number:text>' + escapexml(c.replace(/\"\"/g, '\"')) + '</number:text>';\n\t\t}\n\t}\n\n\tif(!payload) { console.error(\"Could not generate ODS number format for |\" + nf + \"|\"); return \"\"; }\n\treturn writextag(\"number:\" + type + \"-style\", payload, nopts);\n}\n\nfunction write_names_ods(Names, SheetNames, idx) {\n\t//var scoped = Names.filter(function(name) { return name.Sheet == (idx == -1 ? null : idx); });\n\tvar scoped = []; for(var namei = 0; namei < Names.length; ++namei) {\n\t\tvar name = Names[namei];\n\t\tif(!name) continue;\n\t\tif(name.Sheet == (idx == -1 ? null : idx)) scoped.push(name);\n\t}\n\tif(!scoped.length) return \"\";\n\treturn \"      <table:named-expressions>\\n\" + scoped.map(function(name) {\n\t\tvar odsref =  (idx == -1 ? \"$\" : \"\") + csf_to_ods_3D(name.Ref);\n\t\treturn \"        \" + writextag(\"table:named-range\", null, {\n\t\t\t\"table:name\": name.Name,\n\t\t\t\"table:cell-range-address\": odsref,\n\t\t\t\"table:base-cell-address\": odsref.replace(/[\\.][^\\.]*$/, \".$A$1\")\n\t\t});\n\t}).join(\"\\n\") + \"\\n      </table:named-expressions>\\n\";\n}\nvar write_content_ods/*:{(wb:any, opts:any):string}*/ = /* @__PURE__ */(function() {\n\t/* 6.1.2 White Space Characters */\n\tvar write_text_p = function(text/*:string*/, span)/*:string*/ {\n\t\treturn escapexml(text)\n\t\t\t.replace(/  +/g, function($$){return '<text:s text:c=\"'+$$.length+'\"/>';})\n\t\t\t.replace(/\\t/g, \"<text:tab/>\")\n\t\t\t.replace(/\\n/g, span ? \"<text:line-break/>\": \"</text:p><text:p>\")\n\t\t\t.replace(/^ /, \"<text:s/>\").replace(/ $/, \"<text:s/>\");\n\t};\n\n\tvar null_cell_xml = '          <table:table-cell />\\n';\n\tvar write_ws = function(ws, wb/*:Workbook*/, i/*:number*/, opts, nfs, date1904)/*:string*/ {\n\t\t/* Section 9 Tables */\n\t\tvar o/*:Array<string>*/ = [];\n\t\to.push('      <table:table table:name=\"' + escapexml(wb.SheetNames[i]) + '\" table:style-name=\"ta1\">\\n');\n\t\tvar R=0,C=0, range = decode_range(ws['!ref']||\"A1\");\n\t\tvar marr/*:Array<Range>*/ = ws['!merges'] || [], mi = 0;\n\t\tvar dense = ws[\"!data\"] != null;\n\t\tif(ws[\"!cols\"]) {\n\t\t\tfor(C = 0; C <= range.e.c; ++C) o.push('        <table:table-column' + (ws[\"!cols\"][C] ? ' table:style-name=\"co' + ws[\"!cols\"][C].ods + '\"' : '') + '></table:table-column>\\n');\n\t\t}\n\t\tvar H = \"\", ROWS = ws[\"!rows\"]||[];\n\t\tfor(R = 0; R < range.s.r; ++R) {\n\t\t\tH = ROWS[R] ? ' table:style-name=\"ro' + ROWS[R].ods + '\"' : \"\";\n\t\t\to.push('        <table:table-row' + H + '></table:table-row>\\n');\n\t\t}\n\t\tfor(; R <= range.e.r; ++R) {\n\t\t\tH = ROWS[R] ? ' table:style-name=\"ro' + ROWS[R].ods + '\"' : \"\";\n\t\t\to.push('        <table:table-row' + H + '>\\n');\n\t\t\tfor(C=0; C < range.s.c; ++C) o.push(null_cell_xml);\n\t\t\tfor(; C <= range.e.c; ++C) {\n\t\t\t\tvar skip = false, ct = {}, textp = \"\";\n\t\t\t\tfor(mi = 0; mi != marr.length; ++mi) {\n\t\t\t\t\tif(marr[mi].s.c > C) continue;\n\t\t\t\t\tif(marr[mi].s.r > R) continue;\n\t\t\t\t\tif(marr[mi].e.c < C) continue;\n\t\t\t\t\tif(marr[mi].e.r < R) continue;\n\t\t\t\t\tif(marr[mi].s.c != C || marr[mi].s.r != R) skip = true;\n\t\t\t\t\tct['table:number-columns-spanned'] = (marr[mi].e.c - marr[mi].s.c + 1);\n\t\t\t\t\tct['table:number-rows-spanned'] =    (marr[mi].e.r - marr[mi].s.r + 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(skip) { o.push('          <table:covered-table-cell/>\\n'); continue; }\n\t\t\t\tvar ref = encode_cell({r:R, c:C}), cell = dense ? (ws[\"!data\"][R]||[])[C]: ws[ref];\n\t\t\t\tif(cell && cell.f) {\n\t\t\t\t\tct['table:formula'] = escapexml(csf_to_ods_formula(cell.f));\n\t\t\t\t\tif(cell.F) {\n\t\t\t\t\t\tif(cell.F.slice(0, ref.length) == ref) {\n\t\t\t\t\t\t\tvar _Fref = decode_range(cell.F);\n\t\t\t\t\t\t\tct['table:number-matrix-columns-spanned'] = (_Fref.e.c - _Fref.s.c + 1);\n\t\t\t\t\t\t\tct['table:number-matrix-rows-spanned'] =    (_Fref.e.r - _Fref.s.r + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!cell) { o.push(null_cell_xml); continue; }\n\t\t\t\tswitch(cell.t) {\n\t\t\t\t\tcase 'b':\n\t\t\t\t\t\ttextp = (cell.v ? 'TRUE' : 'FALSE');\n\t\t\t\t\t\tct['office:value-type'] = \"boolean\";\n\t\t\t\t\t\tct['office:boolean-value'] = (cell.v ? 'true' : 'false');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\tif(!isFinite(cell.v)) {\n\t\t\t\t\t\t\tif(isNaN(cell.v)) {\n\t\t\t\t\t\t\t\ttextp = \"#NUM!\";\n\t\t\t\t\t\t\t\tct['table:formula'] = \"of:=#NUM!\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttextp = \"#DIV/0!\";\n\t\t\t\t\t\t\t\tct['table:formula'] = \"of:=\" + (cell.v < 0 ? \"-\" : \"\") + \"1/0\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tct['office:string-value'] = \"\";\n\t\t\t\t\t\t\tct['office:value-type'] = \"string\";\n\t\t\t\t\t\t\tct['calcext:value-type'] = \"error\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttextp = (cell.w||String(cell.v||0));\n\t\t\t\t\t\t\tct['office:value-type'] = \"float\";\n\t\t\t\t\t\t\tct['office:value'] = (cell.v||0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 's': case 'str':\n\t\t\t\t\t\ttextp = cell.v == null ? \"\" : cell.v;\n\t\t\t\t\t\tct['office:value-type'] = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'd':\n\t\t\t\t\t\ttextp = (cell.w||(parseDate(cell.v, date1904).toISOString()));\n\t\t\t\t\t\tct['office:value-type'] = \"date\";\n\t\t\t\t\t\tct['office:date-value'] = (parseDate(cell.v, date1904).toISOString());\n\t\t\t\t\t\tct['table:style-name'] = \"ce1\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t//case 'e': // TODO: translate to ODS errors\n\t\t\t\t\tdefault: o.push(null_cell_xml); continue; // TODO: empty cell with comments\n\t\t\t\t}\n\t\t\t\tvar text_p = write_text_p(textp);\n\t\t\t\tif(cell.l && cell.l.Target) {\n\t\t\t\t\tvar _tgt = cell.l.Target;\n\t\t\t\t\t_tgt = _tgt.charAt(0) == \"#\" ? \"#\" + csf_to_ods_3D(_tgt.slice(1)) : _tgt;\n\t\t\t\t\t// TODO: choose correct parent path format based on link delimiters\n\t\t\t\t\tif(_tgt.charAt(0) != \"#\" && !_tgt.match(/^\\w+:/)) _tgt = '../' + _tgt;\n\t\t\t\t\ttext_p = writextag('text:a', text_p, {'xlink:href': _tgt.replace(/&/g, \"&amp;\")});\n\t\t\t\t}\n\t\t\t\tif(nfs[cell.z]) ct[\"table:style-name\"] = \"ce\" + nfs[cell.z].slice(1);\n\t\t\t\tvar payload = writextag('text:p', text_p, {});\n\t\t\t\tif(cell.c) {\n\t\t\t\t\tvar acreator = \"\", apayload = \"\", aprops = {};\n\t\t\t\t\tfor(var ci = 0; ci < cell.c.length; ++ci) {\n\t\t\t\t\t\tif(!acreator && cell.c[ci].a) acreator = cell.c[ci].a;\n\t\t\t\t\t\tapayload += \"<text:p>\" + write_text_p(cell.c[ci].t) + \"</text:p>\";\n\t\t\t\t\t}\n\t\t\t\t\tif(!cell.c.hidden) aprops[\"office:display\"] = true;\n\t\t\t\t\tpayload = writextag('office:annotation', apayload, aprops) + payload;\n\t\t\t\t}\n\t\t\t\to.push('          ' + writextag('table:table-cell', payload, ct) + '\\n');\n\t\t\t}\n\t\t\to.push('        </table:table-row>\\n');\n\t\t}\n\t\tif((wb.Workbook||{}).Names) o.push(write_names_ods(wb.Workbook.Names, wb.SheetNames, i));\n\t\to.push('      </table:table>\\n');\n\t\treturn o.join(\"\");\n\t};\n\n\tvar write_automatic_styles_ods = function(o/*:Array<string>*/, wb) {\n\t\to.push(' <office:automatic-styles>\\n');\n\n\t\t/* column styles */\n\t\tvar cidx = 0;\n\t\twb.SheetNames.map(function(n) { return wb.Sheets[n]; }).forEach(function(ws) {\n\t\t\tif(!ws) return;\n\t\t\tif(ws[\"!cols\"]) {\n\t\t\t\tfor(var C = 0; C < ws[\"!cols\"].length; ++C) if(ws[\"!cols\"][C]) {\n\t\t\t\t\tvar colobj = ws[\"!cols\"][C];\n\t\t\t\t\tif(colobj.width == null && colobj.wpx == null && colobj.wch == null) continue;\n\t\t\t\t\tprocess_col(colobj);\n\t\t\t\t\tcolobj.ods = cidx;\n\t\t\t\t\tvar w = ws[\"!cols\"][C].wpx + \"px\";\n\t\t\t\t\to.push('  <style:style style:name=\"co' + cidx + '\" style:family=\"table-column\">\\n');\n\t\t\t\t\to.push('   <style:table-column-properties fo:break-before=\"auto\" style:column-width=\"' + w + '\"/>\\n');\n\t\t\t\t\to.push('  </style:style>\\n');\n\t\t\t\t\t++cidx;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t/* row styles */\n\t\tvar ridx = 0;\n\t\twb.SheetNames.map(function(n) { return wb.Sheets[n]; }).forEach(function(ws) {\n\t\t\tif(!ws) return;\n\t\t\tif(ws[\"!rows\"]) {\n\t\t\t\tfor(var R = 0; R < ws[\"!rows\"].length; ++R) if(ws[\"!rows\"][R]) {\n\t\t\t\t\tws[\"!rows\"][R].ods = ridx;\n\t\t\t\t\tvar h = ws[\"!rows\"][R].hpx + \"px\";\n\t\t\t\t\to.push('  <style:style style:name=\"ro' + ridx + '\" style:family=\"table-row\">\\n');\n\t\t\t\t\to.push('   <style:table-row-properties fo:break-before=\"auto\" style:row-height=\"' + h + '\"/>\\n');\n\t\t\t\t\to.push('  </style:style>\\n');\n\t\t\t\t\t++ridx;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t/* table */\n\t\to.push('  <style:style style:name=\"ta1\" style:family=\"table\" style:master-page-name=\"mp1\">\\n');\n\t\to.push('   <style:table-properties table:display=\"true\" style:writing-mode=\"lr-tb\"/>\\n');\n\t\to.push('  </style:style>\\n');\n\n\t\to.push('  <number:date-style style:name=\"N37\" number:automatic-order=\"true\">\\n');\n\t\to.push('   <number:month number:style=\"long\"/>\\n');\n\t\to.push('   <number:text>/</number:text>\\n');\n\t\to.push('   <number:day number:style=\"long\"/>\\n');\n\t\to.push('   <number:text>/</number:text>\\n');\n\t\to.push('   <number:year/>\\n');\n\t\to.push('  </number:date-style>\\n');\n\n\t\t/* number formats, table cells, text */\n\t\tvar nfs = {};\n\t\tvar nfi = 69;\n\t\twb.SheetNames.map(function(n) { return wb.Sheets[n]; }).forEach(function(ws) {\n\t\t\tif(!ws) return;\n\t\t\tvar dense = (ws[\"!data\"] != null);\n\t\t\tif(!ws[\"!ref\"]) return;\n\t\t\tvar range = decode_range(ws[\"!ref\"]);\n\t\t\tfor(var R = 0; R <= range.e.r; ++R) for(var C = 0; C <= range.e.c; ++C) {\n\t\t\t\tvar c = dense ? (ws[\"!data\"][R]||[])[C] : ws[encode_cell({r:R,c:C})];\n\t\t\t\tif(!c || !c.z || c.z.toLowerCase() == \"general\") continue;\n\t\t\t\tif(!nfs[c.z]) {\n\t\t\t\t\tvar out = write_number_format_ods(c.z, \"N\" + nfi);\n\t\t\t\t\tif(out) { nfs[c.z] = \"N\" + nfi; ++nfi; o.push(out + \"\\n\"); }\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\to.push('  <style:style style:name=\"ce1\" style:family=\"table-cell\" style:parent-style-name=\"Default\" style:data-style-name=\"N37\"/>\\n');\n\t\tkeys(nfs).forEach(function(nf) {\n\t\t\to.push('<style:style style:name=\"ce' + nfs[nf].slice(1) + '\" style:family=\"table-cell\" style:parent-style-name=\"Default\" style:data-style-name=\"' + nfs[nf] + '\"/>\\n');\n\t\t});\n\n\t\t/* page-layout */\n\n\t\to.push(' </office:automatic-styles>\\n');\n\t\treturn nfs;\n\t};\n\n\treturn function wcx(wb, opts) {\n\t\tvar o = [XML_HEADER];\n\t\t/* 3.1.3.2 */\n\t\tvar attr = wxt_helper({\n\t\t\t'xmlns:office':       \"urn:oasis:names:tc:opendocument:xmlns:office:1.0\",\n\t\t\t'xmlns:table':        \"urn:oasis:names:tc:opendocument:xmlns:table:1.0\",\n\t\t\t'xmlns:style':        \"urn:oasis:names:tc:opendocument:xmlns:style:1.0\",\n\t\t\t'xmlns:text':         \"urn:oasis:names:tc:opendocument:xmlns:text:1.0\",\n\t\t\t'xmlns:draw':         \"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0\",\n\t\t\t'xmlns:fo':           \"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0\",\n\t\t\t'xmlns:xlink':        \"http://www.w3.org/1999/xlink\",\n\t\t\t'xmlns:dc':           \"http://purl.org/dc/elements/1.1/\",\n\t\t\t'xmlns:meta':         \"urn:oasis:names:tc:opendocument:xmlns:meta:1.0\",\n\t\t\t'xmlns:number':       \"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0\",\n\t\t\t'xmlns:presentation': \"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0\",\n\t\t\t'xmlns:svg':          \"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0\",\n\t\t\t'xmlns:chart':        \"urn:oasis:names:tc:opendocument:xmlns:chart:1.0\",\n\t\t\t'xmlns:dr3d':         \"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0\",\n\t\t\t'xmlns:math':         \"http://www.w3.org/1998/Math/MathML\",\n\t\t\t'xmlns:form':         \"urn:oasis:names:tc:opendocument:xmlns:form:1.0\",\n\t\t\t'xmlns:script':       \"urn:oasis:names:tc:opendocument:xmlns:script:1.0\",\n\t\t\t'xmlns:ooo':          \"http://openoffice.org/2004/office\",\n\t\t\t'xmlns:ooow':         \"http://openoffice.org/2004/writer\",\n\t\t\t'xmlns:oooc':         \"http://openoffice.org/2004/calc\",\n\t\t\t'xmlns:dom':          \"http://www.w3.org/2001/xml-events\",\n\t\t\t'xmlns:xforms':       \"http://www.w3.org/2002/xforms\",\n\t\t\t'xmlns:xsd':          \"http://www.w3.org/2001/XMLSchema\",\n\t\t\t'xmlns:xsi':          \"http://www.w3.org/2001/XMLSchema-instance\",\n\t\t\t'xmlns:sheet':        \"urn:oasis:names:tc:opendocument:sh33tjs:1.0\",\n\t\t\t'xmlns:rpt':          \"http://openoffice.org/2005/report\",\n\t\t\t'xmlns:of':           \"urn:oasis:names:tc:opendocument:xmlns:of:1.2\",\n\t\t\t'xmlns:xhtml':        \"http://www.w3.org/1999/xhtml\",\n\t\t\t'xmlns:grddl':        \"http://www.w3.org/2003/g/data-view#\",\n\t\t\t'xmlns:tableooo':     \"http://openoffice.org/2009/table\",\n\t\t\t'xmlns:drawooo':      \"http://openoffice.org/2010/draw\",\n\t\t\t'xmlns:calcext':      \"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0\",\n\t\t\t'xmlns:loext':        \"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0\",\n\t\t\t'xmlns:field':        \"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0\",\n\t\t\t'xmlns:formx':        \"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0\",\n\t\t\t'xmlns:css3t':        \"http://www.w3.org/TR/css3-text/\",\n\t\t\t'office:version':     \"1.2\"\n\t\t});\n\n\t\tvar fods = wxt_helper({\n\t\t\t'xmlns:config':    \"urn:oasis:names:tc:opendocument:xmlns:config:1.0\",\n\t\t\t'office:mimetype': \"application/vnd.oasis.opendocument.spreadsheet\"\n\t\t});\n\n\t\tif(opts.bookType == \"fods\") {\n\t\t\to.push('<office:document' + attr + fods + '>\\n');\n\t\t\to.push(write_meta_ods().replace(/<office:document-meta[^<>]*?>/, \"\").replace(/<\\/office:document-meta>/, \"\") + \"\\n\");\n\t\t\t// TODO: settings (equiv of settings.xml for ODS)\n\t\t} else o.push('<office:document-content' + attr  + '>\\n');\n\t\t// o.push('  <office:scripts/>\\n');\n\t\tvar nfs = write_automatic_styles_ods(o, wb);\n\t\to.push('  <office:body>\\n');\n\t\to.push('    <office:spreadsheet>\\n');\n\t\tif(((wb.Workbook||{}).WBProps||{}).date1904) o.push('      <table:calculation-settings table:case-sensitive=\"false\" table:search-criteria-must-apply-to-whole-cell=\"true\" table:use-wildcards=\"true\" table:use-regular-expressions=\"false\" table:automatic-find-labels=\"false\">\\n        <table:null-date table:date-value=\"1904-01-01\"/>\\n      </table:calculation-settings>\\n');\n\t\tfor(var i = 0; i != wb.SheetNames.length; ++i) o.push(write_ws(wb.Sheets[wb.SheetNames[i]], wb, i, opts, nfs, ((wb.Workbook||{}).WBProps||{}).date1904));\n\t\tif((wb.Workbook||{}).Names) o.push(write_names_ods(wb.Workbook.Names, wb.SheetNames, -1));\n\t\to.push('    </office:spreadsheet>\\n');\n\t\to.push('  </office:body>\\n');\n\t\tif(opts.bookType == \"fods\") o.push('</office:document>');\n\t\telse o.push('</office:document-content>');\n\t\treturn o.join(\"\");\n\t};\n})();\n\nfunction write_ods(wb/*:any*/, opts/*:any*/) {\n\tif(opts.bookType == \"fods\") return write_content_ods(wb, opts);\n\n\tvar zip = zip_new();\n\tvar f = \"\";\n\n\tvar manifest/*:Array<Array<string> >*/ = [];\n\tvar rdf/*:Array<[string, string]>*/ = [];\n\n\t/* Part 3 Section 3.3 MIME Media Type */\n\tf = \"mimetype\";\n\tzip_add_file(zip, f, \"application/vnd.oasis.opendocument.spreadsheet\");\n\n\t/* Part 1 Section 2.2 Documents */\n\tf = \"content.xml\";\n\tzip_add_file(zip, f, write_content_ods(wb, opts));\n\tmanifest.push([f, \"text/xml\"]);\n\trdf.push([f, \"ContentFile\"]);\n\n\t/* TODO: these are hard-coded styles to satiate excel */\n\tf = \"styles.xml\";\n\tzip_add_file(zip, f, write_styles_ods(wb, opts));\n\tmanifest.push([f, \"text/xml\"]);\n\trdf.push([f, \"StylesFile\"]);\n\n\t/* TODO: this is hard-coded to satiate excel */\n\tf = \"meta.xml\";\n\tzip_add_file(zip, f, XML_HEADER + write_meta_ods(/*::wb, opts*/));\n\tmanifest.push([f, \"text/xml\"]);\n\trdf.push([f, \"MetadataFile\"]);\n\n\t/* Part 3 Section 6 Metadata Manifest File */\n\tf = \"manifest.rdf\";\n\tzip_add_file(zip, f, write_rdf(rdf/*, opts*/));\n\tmanifest.push([f, \"application/rdf+xml\"]);\n\n\t/* Part 3 Section 4 Manifest File */\n\tf = \"META-INF/manifest.xml\";\n\tzip_add_file(zip, f, write_manifest(manifest/*, opts*/));\n\n\treturn zip;\n}\n\n/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */\nvar subarray = function() {\n  try {\n    if (typeof Uint8Array == \"undefined\")\n      return \"slice\";\n    if (typeof Uint8Array.prototype.subarray == \"undefined\")\n      return \"slice\";\n    if (typeof Buffer !== \"undefined\") {\n      if (typeof Buffer.prototype.subarray == \"undefined\")\n        return \"slice\";\n      if ((typeof Buffer.from == \"function\" ? Buffer.from([72, 62]) : new Buffer([72, 62])) instanceof Uint8Array)\n        return \"subarray\";\n      return \"slice\";\n    }\n    return \"subarray\";\n  } catch (e) {\n    return \"slice\";\n  }\n}();\nfunction u8_to_dataview(array) {\n  return new DataView(array.buffer, array.byteOffset, array.byteLength);\n}\nfunction u8str(u8) {\n  return typeof TextDecoder != \"undefined\" ? new TextDecoder().decode(u8) : utf8read(a2s(u8));\n}\nfunction stru8(str) {\n  return typeof TextEncoder != \"undefined\" ? new TextEncoder().encode(str) : s2a(utf8write(str));\n}\nfunction u8concat(u8a) {\n  var len = 0;\n  for (var i = 0; i < u8a.length; ++i)\n    len += u8a[i].length;\n  var out = new Uint8Array(len);\n  var off = 0;\n  for (i = 0; i < u8a.length; ++i) {\n    var u8 = u8a[i], L = u8.length;\n    if (L < 250) {\n      for (var j = 0; j < L; ++j)\n        out[off++] = u8[j];\n    } else {\n      out.set(u8, off);\n      off += L;\n    }\n  }\n  return out;\n}\nfunction popcnt(x) {\n  x -= x >> 1 & 1431655765;\n  x = (x & 858993459) + (x >> 2 & 858993459);\n  return (x + (x >> 4) & 252645135) * 16843009 >>> 24;\n}\nfunction readDecimal128LE(buf, offset) {\n  var exp = (buf[offset + 15] & 127) << 7 | buf[offset + 14] >> 1;\n  var mantissa = buf[offset + 14] & 1;\n  for (var j = offset + 13; j >= offset; --j)\n    mantissa = mantissa * 256 + buf[j];\n  return (buf[offset + 15] & 128 ? -mantissa : mantissa) * Math.pow(10, exp - 6176);\n}\nfunction writeDecimal128LE(buf, offset, value) {\n  var exp = Math.floor(value == 0 ? 0 : Math.LOG10E * Math.log(Math.abs(value))) + 6176 - 16;\n  var mantissa = value / Math.pow(10, exp - 6176);\n  buf[offset + 15] |= exp >> 7;\n  buf[offset + 14] |= (exp & 127) << 1;\n  for (var i = 0; mantissa >= 1; ++i, mantissa /= 256)\n    buf[offset + i] = mantissa & 255;\n  buf[offset + 15] |= value >= 0 ? 0 : 128;\n}\nfunction parse_varint49(buf, ptr) {\n  var l = ptr.l;\n  var usz = buf[l] & 127;\n  varint:\n    if (buf[l++] >= 128) {\n      usz |= (buf[l] & 127) << 7;\n      if (buf[l++] < 128)\n        break varint;\n      usz |= (buf[l] & 127) << 14;\n      if (buf[l++] < 128)\n        break varint;\n      usz |= (buf[l] & 127) << 21;\n      if (buf[l++] < 128)\n        break varint;\n      usz += (buf[l] & 127) * Math.pow(2, 28);\n      ++l;\n      if (buf[l++] < 128)\n        break varint;\n      usz += (buf[l] & 127) * Math.pow(2, 35);\n      ++l;\n      if (buf[l++] < 128)\n        break varint;\n      usz += (buf[l] & 127) * Math.pow(2, 42);\n      ++l;\n      if (buf[l++] < 128)\n        break varint;\n    }\n  ptr.l = l;\n  return usz;\n}\nfunction write_varint49(v) {\n  var usz = new Uint8Array(7);\n  usz[0] = v & 127;\n  var L = 1;\n  sz:\n    if (v > 127) {\n      usz[L - 1] |= 128;\n      usz[L] = v >> 7 & 127;\n      ++L;\n      if (v <= 16383)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v >> 14 & 127;\n      ++L;\n      if (v <= 2097151)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v >> 21 & 127;\n      ++L;\n      if (v <= 268435455)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v / 256 >>> 21 & 127;\n      ++L;\n      if (v <= 34359738367)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v / 65536 >>> 21 & 127;\n      ++L;\n      if (v <= 4398046511103)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v / 16777216 >>> 21 & 127;\n      ++L;\n    }\n  return usz[subarray](0, L);\n}\nfunction parse_packed_varints(buf) {\n  var ptr = { l: 0 };\n  var out = [];\n  while (ptr.l < buf.length)\n    out.push(parse_varint49(buf, ptr));\n  return out;\n}\nfunction write_packed_varints(nums) {\n  return u8concat(nums.map(function(x) {\n    return write_varint49(x);\n  }));\n}\nfunction varint_to_i32(buf) {\n  var l = 0, i32 = buf[l] & 127;\n  if (buf[l++] < 128)\n    return i32;\n  i32 |= (buf[l] & 127) << 7;\n  if (buf[l++] < 128)\n    return i32;\n  i32 |= (buf[l] & 127) << 14;\n  if (buf[l++] < 128)\n    return i32;\n  i32 |= (buf[l] & 127) << 21;\n  if (buf[l++] < 128)\n    return i32;\n  i32 |= (buf[l] & 15) << 28;\n  return i32;\n}\nfunction varint_to_u64(buf) {\n  var l = 0, lo = buf[l] & 127, hi = 0;\n  varint:\n    if (buf[l++] >= 128) {\n      lo |= (buf[l] & 127) << 7;\n      if (buf[l++] < 128)\n        break varint;\n      lo |= (buf[l] & 127) << 14;\n      if (buf[l++] < 128)\n        break varint;\n      lo |= (buf[l] & 127) << 21;\n      if (buf[l++] < 128)\n        break varint;\n      lo |= (buf[l] & 127) << 28;\n      hi = buf[l] >> 4 & 7;\n      if (buf[l++] < 128)\n        break varint;\n      hi |= (buf[l] & 127) << 3;\n      if (buf[l++] < 128)\n        break varint;\n      hi |= (buf[l] & 127) << 10;\n      if (buf[l++] < 128)\n        break varint;\n      hi |= (buf[l] & 127) << 17;\n      if (buf[l++] < 128)\n        break varint;\n      hi |= (buf[l] & 127) << 24;\n      if (buf[l++] < 128)\n        break varint;\n      hi |= (buf[l] & 127) << 31;\n    }\n  return [lo >>> 0, hi >>> 0];\n}\nfunction parse_shallow(buf) {\n  var out = [], ptr = { l: 0 };\n  while (ptr.l < buf.length) {\n    var off = ptr.l;\n    var num = parse_varint49(buf, ptr);\n    var type = num & 7;\n    num = num / 8 | 0;\n    var data;\n    var l = ptr.l;\n    switch (type) {\n      case 0:\n        {\n          while (buf[l++] >= 128)\n            ;\n          data = buf[subarray](ptr.l, l);\n          ptr.l = l;\n        }\n        break;\n      case 1:\n        {\n          data = buf[subarray](l, l + 8);\n          ptr.l = l + 8;\n        }\n        break;\n      case 2:\n        {\n          var len = parse_varint49(buf, ptr);\n          data = buf[subarray](ptr.l, ptr.l + len);\n          ptr.l += len;\n        }\n        break;\n      case 5:\n        {\n          data = buf[subarray](l, l + 4);\n          ptr.l = l + 4;\n        }\n        break;\n      default:\n        throw new Error(\"PB Type \".concat(type, \" for Field \").concat(num, \" at offset \").concat(off));\n    }\n    var v = { data: data, type: type };\n    if (out[num] == null)\n      out[num] = [];\n    out[num].push(v);\n  }\n  return out;\n}\nfunction write_shallow(proto) {\n  var out = [];\n  proto.forEach(function(field, idx) {\n    if (idx == 0)\n      return;\n    field.forEach(function(item) {\n      if (!item.data)\n        return;\n      out.push(write_varint49(idx * 8 + item.type));\n      if (item.type == 2)\n        out.push(write_varint49(item.data.length));\n      out.push(item.data);\n    });\n  });\n  return u8concat(out);\n}\nfunction mappa(data, cb) {\n  return (data == null ? void 0 : data.map(function(d) {\n    return cb(d.data);\n  })) || [];\n}\nfunction parse_iwa_file(buf) {\n  var _a;\n  var out = [], ptr = { l: 0 };\n  while (ptr.l < buf.length) {\n    var len = parse_varint49(buf, ptr);\n    var ai = parse_shallow(buf[subarray](ptr.l, ptr.l + len));\n    ptr.l += len;\n    var res = {\n      id: varint_to_i32(ai[1][0].data),\n      messages: []\n    };\n    ai[2].forEach(function(b) {\n      var mi = parse_shallow(b.data);\n      var fl = varint_to_i32(mi[3][0].data);\n      res.messages.push({\n        meta: mi,\n        data: buf[subarray](ptr.l, ptr.l + fl)\n      });\n      ptr.l += fl;\n    });\n    if ((_a = ai[3]) == null ? void 0 : _a[0])\n      res.merge = varint_to_i32(ai[3][0].data) >>> 0 > 0;\n    out.push(res);\n  }\n  return out;\n}\nfunction write_iwa_file(ias) {\n  var bufs = [];\n  ias.forEach(function(ia) {\n    var ai = [\n      [],\n      [{ data: write_varint49(ia.id), type: 0 }],\n      []\n    ];\n    if (ia.merge != null)\n      ai[3] = [{ data: write_varint49(+!!ia.merge), type: 0 }];\n    var midata = [];\n    ia.messages.forEach(function(mi) {\n      midata.push(mi.data);\n      mi.meta[3] = [{ type: 0, data: write_varint49(mi.data.length) }];\n      ai[2].push({ data: write_shallow(mi.meta), type: 2 });\n    });\n    var aipayload = write_shallow(ai);\n    bufs.push(write_varint49(aipayload.length));\n    bufs.push(aipayload);\n    midata.forEach(function(mid) {\n      return bufs.push(mid);\n    });\n  });\n  return u8concat(bufs);\n}\nfunction parse_snappy_chunk(type, buf) {\n  if (type != 0)\n    throw new Error(\"Unexpected Snappy chunk type \".concat(type));\n  var ptr = { l: 0 };\n  var usz = parse_varint49(buf, ptr);\n  var chunks = [];\n  var l = ptr.l;\n  while (l < buf.length) {\n    var tag = buf[l] & 3;\n    if (tag == 0) {\n      var len = buf[l++] >> 2;\n      if (len < 60)\n        ++len;\n      else {\n        var c = len - 59;\n        len = buf[l];\n        if (c > 1)\n          len |= buf[l + 1] << 8;\n        if (c > 2)\n          len |= buf[l + 2] << 16;\n        if (c > 3)\n          len |= buf[l + 3] << 24;\n        len >>>= 0;\n        len++;\n        l += c;\n      }\n      chunks.push(buf[subarray](l, l + len));\n      l += len;\n      continue;\n    } else {\n      var offset = 0, length = 0;\n      if (tag == 1) {\n        length = (buf[l] >> 2 & 7) + 4;\n        offset = (buf[l++] & 224) << 3;\n        offset |= buf[l++];\n      } else {\n        length = (buf[l++] >> 2) + 1;\n        if (tag == 2) {\n          offset = buf[l] | buf[l + 1] << 8;\n          l += 2;\n        } else {\n          offset = (buf[l] | buf[l + 1] << 8 | buf[l + 2] << 16 | buf[l + 3] << 24) >>> 0;\n          l += 4;\n        }\n      }\n      if (offset == 0)\n        throw new Error(\"Invalid offset 0\");\n      var j = chunks.length - 1, off = offset;\n      while (j >= 0 && off >= chunks[j].length) {\n        off -= chunks[j].length;\n        --j;\n      }\n      if (j < 0) {\n        if (off == 0)\n          off = chunks[j = 0].length;\n        else\n          throw new Error(\"Invalid offset beyond length\");\n      }\n      if (length < off)\n        chunks.push(chunks[j][subarray](chunks[j].length - off, chunks[j].length - off + length));\n      else {\n        if (off > 0) {\n          chunks.push(chunks[j][subarray](chunks[j].length - off));\n          length -= off;\n        }\n        ++j;\n        while (length >= chunks[j].length) {\n          chunks.push(chunks[j]);\n          length -= chunks[j].length;\n          ++j;\n        }\n        if (length)\n          chunks.push(chunks[j][subarray](0, length));\n      }\n      if (chunks.length > 25)\n        chunks = [u8concat(chunks)];\n    }\n  }\n  var clen = 0;\n  for (var u8i = 0; u8i < chunks.length; ++u8i)\n    clen += chunks[u8i].length;\n  if (clen != usz)\n    throw new Error(\"Unexpected length: \".concat(clen, \" != \").concat(usz));\n  return chunks;\n}\nfunction decompress_iwa_file(buf) {\n  if (Array.isArray(buf))\n    buf = new Uint8Array(buf);\n  var out = [];\n  var l = 0;\n  while (l < buf.length) {\n    var t = buf[l++];\n    var len = buf[l] | buf[l + 1] << 8 | buf[l + 2] << 16;\n    l += 3;\n    out.push.apply(out, parse_snappy_chunk(t, buf[subarray](l, l + len)));\n    l += len;\n  }\n  if (l !== buf.length)\n    throw new Error(\"data is not a valid framed stream!\");\n  return out.length == 1 ? out[0] : u8concat(out);\n}\nfunction compress_iwa_file(buf) {\n  var out = [];\n  var l = 0;\n  while (l < buf.length) {\n    var c = Math.min(buf.length - l, 268435455);\n    var frame = new Uint8Array(4);\n    out.push(frame);\n    var usz = write_varint49(c);\n    var L = usz.length;\n    out.push(usz);\n    if (c <= 60) {\n      L++;\n      out.push(new Uint8Array([c - 1 << 2]));\n    } else if (c <= 256) {\n      L += 2;\n      out.push(new Uint8Array([240, c - 1 & 255]));\n    } else if (c <= 65536) {\n      L += 3;\n      out.push(new Uint8Array([244, c - 1 & 255, c - 1 >> 8 & 255]));\n    } else if (c <= 16777216) {\n      L += 4;\n      out.push(new Uint8Array([248, c - 1 & 255, c - 1 >> 8 & 255, c - 1 >> 16 & 255]));\n    } else if (c <= 4294967296) {\n      L += 5;\n      out.push(new Uint8Array([252, c - 1 & 255, c - 1 >> 8 & 255, c - 1 >> 16 & 255, c - 1 >>> 24 & 255]));\n    }\n    out.push(buf[subarray](l, l + c));\n    L += c;\n    frame[0] = 0;\n    frame[1] = L & 255;\n    frame[2] = L >> 8 & 255;\n    frame[3] = L >> 16 & 255;\n    l += c;\n  }\n  return u8concat(out);\n}\nvar numbers_lut_new = function() {\n  return { sst: [], rsst: [], ofmt: [], nfmt: [], fmla: [], ferr: [], cmnt: [] };\n};\nfunction numbers_format_cell(cell, t, flags, ofmt, nfmt) {\n  var _a, _b, _c, _d;\n  var ctype = t & 255, ver = t >> 8;\n  var fmt = ver >= 5 ? nfmt : ofmt;\n  dur:\n    if (flags & (ver > 4 ? 8 : 4) && cell.t == \"n\" && ctype == 7) {\n      var dstyle = ((_a = fmt[7]) == null ? void 0 : _a[0]) ? varint_to_i32(fmt[7][0].data) : -1;\n      if (dstyle == -1)\n        break dur;\n      var dmin = ((_b = fmt[15]) == null ? void 0 : _b[0]) ? varint_to_i32(fmt[15][0].data) : -1;\n      var dmax = ((_c = fmt[16]) == null ? void 0 : _c[0]) ? varint_to_i32(fmt[16][0].data) : -1;\n      var auto = ((_d = fmt[40]) == null ? void 0 : _d[0]) ? varint_to_i32(fmt[40][0].data) : -1;\n      var d = cell.v, dd = d;\n      autodur:\n        if (auto) {\n          if (d == 0) {\n            dmin = dmax = 2;\n            break autodur;\n          }\n          if (d >= 604800)\n            dmin = 1;\n          else if (d >= 86400)\n            dmin = 2;\n          else if (d >= 3600)\n            dmin = 4;\n          else if (d >= 60)\n            dmin = 8;\n          else if (d >= 1)\n            dmin = 16;\n          else\n            dmin = 32;\n          if (Math.floor(d) != d)\n            dmax = 32;\n          else if (d % 60)\n            dmax = 16;\n          else if (d % 3600)\n            dmax = 8;\n          else if (d % 86400)\n            dmax = 4;\n          else if (d % 604800)\n            dmax = 2;\n          if (dmax < dmin)\n            dmax = dmin;\n        }\n      if (dmin == -1 || dmax == -1)\n        break dur;\n      var dstr = [], zstr = [];\n      if (dmin == 1) {\n        dd = d / 604800;\n        if (dmax == 1) {\n          zstr.push('d\"d\"');\n        } else {\n          dd |= 0;\n          d -= 604800 * dd;\n        }\n        dstr.push(dd + (dstyle == 2 ? \" week\" + (dd == 1 ? \"\" : \"s\") : dstyle == 1 ? \"w\" : \"\"));\n      }\n      if (dmin <= 2 && dmax >= 2) {\n        dd = d / 86400;\n        if (dmax > 2) {\n          dd |= 0;\n          d -= 86400 * dd;\n        }\n        zstr.push('d\"d\"');\n        dstr.push(dd + (dstyle == 2 ? \" day\" + (dd == 1 ? \"\" : \"s\") : dstyle == 1 ? \"d\" : \"\"));\n      }\n      if (dmin <= 4 && dmax >= 4) {\n        dd = d / 3600;\n        if (dmax > 4) {\n          dd |= 0;\n          d -= 3600 * dd;\n        }\n        zstr.push((dmin >= 4 ? \"[h]\" : \"h\") + '\"h\"');\n        dstr.push(dd + (dstyle == 2 ? \" hour\" + (dd == 1 ? \"\" : \"s\") : dstyle == 1 ? \"h\" : \"\"));\n      }\n      if (dmin <= 8 && dmax >= 8) {\n        dd = d / 60;\n        if (dmax > 8) {\n          dd |= 0;\n          d -= 60 * dd;\n        }\n        zstr.push((dmin >= 8 ? \"[m]\" : \"m\") + '\"m\"');\n        if (dstyle == 0)\n          dstr.push((dmin == 8 && dmax == 8 || dd >= 10 ? \"\" : \"0\") + dd);\n        else\n          dstr.push(dd + (dstyle == 2 ? \" minute\" + (dd == 1 ? \"\" : \"s\") : dstyle == 1 ? \"m\" : \"\"));\n      }\n      if (dmin <= 16 && dmax >= 16) {\n        dd = d;\n        if (dmax > 16) {\n          dd |= 0;\n          d -= dd;\n        }\n        zstr.push((dmin >= 16 ? \"[s]\" : \"s\") + '\"s\"');\n        if (dstyle == 0)\n          dstr.push((dmax == 16 && dmin == 16 || dd >= 10 ? \"\" : \"0\") + dd);\n        else\n          dstr.push(dd + (dstyle == 2 ? \" second\" + (dd == 1 ? \"\" : \"s\") : dstyle == 1 ? \"s\" : \"\"));\n      }\n      if (dmax >= 32) {\n        dd = Math.round(1e3 * d);\n        if (dmin < 32)\n          zstr.push('.000\"ms\"');\n        if (dstyle == 0)\n          dstr.push((dd >= 100 ? \"\" : dd >= 10 ? \"0\" : \"00\") + dd);\n        else\n          dstr.push(dd + (dstyle == 2 ? \" millisecond\" + (dd == 1 ? \"\" : \"s\") : dstyle == 1 ? \"ms\" : \"\"));\n      }\n      cell.w = dstr.join(dstyle == 0 ? \":\" : \" \");\n      cell.z = zstr.join(dstyle == 0 ? '\":\"' : \" \");\n      if (dstyle == 0)\n        cell.w = cell.w.replace(/:(\\d\\d\\d)$/, \".$1\");\n    }\n}\nfunction parse_old_storage(buf, lut, v, opts) {\n  var dv = u8_to_dataview(buf);\n  var flags = dv.getUint32(4, true);\n  var ridx = -1, sidx = -1, zidx = -1, ieee = NaN, dc = 0, dt = new Date(Date.UTC(2001, 0, 1));\n  var doff = v > 1 ? 12 : 8;\n  if (flags & 2) {\n    zidx = dv.getUint32(doff, true);\n    doff += 4;\n  }\n  doff += popcnt(flags & (v > 1 ? 3468 : 396)) * 4;\n  if (flags & 512) {\n    ridx = dv.getUint32(doff, true);\n    doff += 4;\n  }\n  doff += popcnt(flags & (v > 1 ? 12288 : 4096)) * 4;\n  if (flags & 16) {\n    sidx = dv.getUint32(doff, true);\n    doff += 4;\n  }\n  if (flags & 32) {\n    ieee = dv.getFloat64(doff, true);\n    doff += 8;\n  }\n  if (flags & 64) {\n    dt.setTime(dt.getTime() + (dc = dv.getFloat64(doff, true)) * 1e3);\n    doff += 8;\n  }\n  if (v > 1) {\n    flags = dv.getUint32(8, true) >>> 16;\n    if (flags & 255) {\n      if (zidx == -1)\n        zidx = dv.getUint32(doff, true);\n      doff += 4;\n    }\n  }\n  var ret;\n  var t = buf[v >= 4 ? 1 : 2];\n  switch (t) {\n    case 0:\n      return void 0;\n    case 2:\n      ret = { t: \"n\", v: ieee };\n      break;\n    case 3:\n      ret = { t: \"s\", v: lut.sst[sidx] };\n      break;\n    case 5:\n      {\n        if (opts == null ? void 0 : opts.cellDates)\n          ret = { t: \"d\", v: dt };\n        else\n          ret = { t: \"n\", v: dc / 86400 + 35430, z: table_fmt[14] };\n      }\n      break;\n    case 6:\n      ret = { t: \"b\", v: ieee > 0 };\n      break;\n    case 7:\n      ret = { t: \"n\", v: ieee };\n      break;\n    case 8:\n      ret = { t: \"e\", v: 0 };\n      break;\n    case 9:\n      {\n        if (ridx > -1) {\n          var rts = lut.rsst[ridx];\n          ret = { t: \"s\", v: rts.v };\n          if (rts.l)\n            ret.l = { Target: rts.l };\n        } else\n          throw new Error(\"Unsupported cell type \".concat(buf[subarray](0, 4)));\n      }\n      break;\n    default:\n      throw new Error(\"Unsupported cell type \".concat(buf[subarray](0, 4)));\n  }\n  if (zidx > -1)\n    numbers_format_cell(ret, t | v << 8, flags, lut.ofmt[zidx], lut.nfmt[zidx]);\n  if (t == 7)\n    ret.v /= 86400;\n  return ret;\n}\nfunction parse_new_storage(buf, lut, opts) {\n  var dv = u8_to_dataview(buf);\n  var flags = dv.getUint32(4, true);\n  var fields = dv.getUint32(8, true);\n  var doff = 12;\n  var ridx = -1, sidx = -1, zidx = -1, d128 = NaN, ieee = NaN, dc = 0, dt = new Date(Date.UTC(2001, 0, 1)), eidx = -1, fidx = -1;\n  if (fields & 1) {\n    d128 = readDecimal128LE(buf, doff);\n    doff += 16;\n  }\n  if (fields & 2) {\n    ieee = dv.getFloat64(doff, true);\n    doff += 8;\n  }\n  if (fields & 4) {\n    dt.setTime(dt.getTime() + (dc = dv.getFloat64(doff, true)) * 1e3);\n    doff += 8;\n  }\n  if (fields & 8) {\n    sidx = dv.getUint32(doff, true);\n    doff += 4;\n  }\n  if (fields & 16) {\n    ridx = dv.getUint32(doff, true);\n    doff += 4;\n  }\n  doff += popcnt(fields & 480) * 4;\n  if (fields & 512) {\n    fidx = dv.getUint32(doff, true);\n    doff += 4;\n  }\n  doff += popcnt(fields & 1024) * 4;\n  if (fields & 2048) {\n    eidx = dv.getUint32(doff, true);\n    doff += 4;\n  }\n  var ret;\n  var t = buf[1];\n  switch (t) {\n    case 0:\n      ret = { t: \"z\" };\n      break;\n    case 2:\n      ret = { t: \"n\", v: d128 };\n      break;\n    case 3:\n      ret = { t: \"s\", v: lut.sst[sidx] };\n      break;\n    case 5:\n      {\n        if (opts == null ? void 0 : opts.cellDates)\n          ret = { t: \"d\", v: dt };\n        else\n          ret = { t: \"n\", v: dc / 86400 + 35430, z: table_fmt[14] };\n      }\n      break;\n    case 6:\n      ret = { t: \"b\", v: ieee > 0 };\n      break;\n    case 7:\n      ret = { t: \"n\", v: ieee };\n      break;\n    case 8:\n      ret = { t: \"e\", v: 0 };\n      break;\n    case 9:\n      {\n        if (ridx > -1) {\n          var rts = lut.rsst[ridx];\n          ret = { t: \"s\", v: rts.v };\n          if (rts.l)\n            ret.l = { Target: rts.l };\n        } else\n          throw new Error(\"Unsupported cell type \".concat(buf[1], \" : \").concat(fields & 31, \" : \").concat(buf[subarray](0, 4)));\n      }\n      break;\n    case 10:\n      ret = { t: \"n\", v: d128 };\n      break;\n    default:\n      throw new Error(\"Unsupported cell type \".concat(buf[1], \" : \").concat(fields & 31, \" : \").concat(buf[subarray](0, 4)));\n  }\n  doff += popcnt(fields & 4096) * 4;\n  if (fields & 516096) {\n    if (zidx == -1)\n      zidx = dv.getUint32(doff, true);\n    doff += 4;\n  }\n  if (fields & 524288) {\n    var cmntidx = dv.getUint32(doff, true);\n    doff += 4;\n    if (lut.cmnt[cmntidx])\n      ret.c = iwa_to_s5s_comment(lut.cmnt[cmntidx]);\n  }\n  if (zidx > -1)\n    numbers_format_cell(ret, t | 5 << 8, fields >> 13, lut.ofmt[zidx], lut.nfmt[zidx]);\n  if (t == 7)\n    ret.v /= 86400;\n  return ret;\n}\nfunction write_new_storage(cell, lut) {\n  var out = new Uint8Array(32), dv = u8_to_dataview(out), l = 12, fields = 0;\n  out[0] = 5;\n  switch (cell.t) {\n    case \"n\":\n      if (cell.z && fmt_is_date(cell.z)) {\n        out[1] = 5;\n        dv.setFloat64(l, (numdate(cell.v + 1462).getTime() - Date.UTC(2001, 0, 1)) / 1e3, true);\n        fields |= 4;\n        l += 8;\n        break;\n      } else {\n        out[1] = 2;\n        writeDecimal128LE(out, l, cell.v);\n        fields |= 1;\n        l += 16;\n      }\n      break;\n    case \"b\":\n      out[1] = 6;\n      dv.setFloat64(l, cell.v ? 1 : 0, true);\n      fields |= 2;\n      l += 8;\n      break;\n    case \"s\":\n      {\n        var s = cell.v == null ? \"\" : String(cell.v);\n        if (cell.l) {\n          var irsst = lut.rsst.findIndex(function(v) {\n            var _a;\n            return v.v == s && v.l == ((_a = cell.l) == null ? void 0 : _a.Target);\n          });\n          if (irsst == -1)\n            lut.rsst[irsst = lut.rsst.length] = { v: s, l: cell.l.Target };\n          out[1] = 9;\n          dv.setUint32(l, irsst, true);\n          fields |= 16;\n          l += 4;\n        } else {\n          var isst = lut.sst.indexOf(s);\n          if (isst == -1)\n            lut.sst[isst = lut.sst.length] = s;\n          out[1] = 3;\n          dv.setUint32(l, isst, true);\n          fields |= 8;\n          l += 4;\n        }\n      }\n      break;\n    case \"d\":\n      out[1] = 5;\n      dv.setFloat64(l, (cell.v.getTime() - Date.UTC(2001, 0, 1)) / 1e3, true);\n      fields |= 4;\n      l += 8;\n      break;\n    case \"z\":\n      out[1] = 0;\n      break;\n    default:\n      throw \"unsupported cell type \" + cell.t;\n  }\n  if (cell.c) {\n    lut.cmnt.push(s5s_to_iwa_comment(cell.c));\n    dv.setUint32(l, lut.cmnt.length - 1, true);\n    fields |= 524288;\n    l += 4;\n  }\n  dv.setUint32(8, fields, true);\n  return out[subarray](0, l);\n}\nfunction write_old_storage(cell, lut) {\n  var out = new Uint8Array(32), dv = u8_to_dataview(out), l = 12, fields = 0, s = \"\";\n  out[0] = 4;\n  switch (cell.t) {\n    case \"n\":\n      break;\n    case \"b\":\n      break;\n    case \"s\":\n      {\n        s = cell.v == null ? \"\" : String(cell.v);\n        if (cell.l) {\n          var irsst = lut.rsst.findIndex(function(v) {\n            var _a;\n            return v.v == s && v.l == ((_a = cell.l) == null ? void 0 : _a.Target);\n          });\n          if (irsst == -1)\n            lut.rsst[irsst = lut.rsst.length] = { v: s, l: cell.l.Target };\n          out[1] = 9;\n          dv.setUint32(l, irsst, true);\n          fields |= 512;\n          l += 4;\n        } else {\n        }\n      }\n      break;\n    case \"d\":\n      break;\n    case \"e\":\n      break;\n    case \"z\":\n      break;\n    default:\n      throw \"unsupported cell type \" + cell.t;\n  }\n  if (cell.c) {\n    dv.setUint32(l, lut.cmnt.length - 1, true);\n    fields |= 4096;\n    l += 4;\n  }\n  switch (cell.t) {\n    case \"n\":\n      out[1] = 2;\n      dv.setFloat64(l, cell.v, true);\n      fields |= 32;\n      l += 8;\n      break;\n    case \"b\":\n      out[1] = 6;\n      dv.setFloat64(l, cell.v ? 1 : 0, true);\n      fields |= 32;\n      l += 8;\n      break;\n    case \"s\":\n      {\n        s = cell.v == null ? \"\" : String(cell.v);\n        if (cell.l) {\n        } else {\n          var isst = lut.sst.indexOf(s);\n          if (isst == -1)\n            lut.sst[isst = lut.sst.length] = s;\n          out[1] = 3;\n          dv.setUint32(l, isst, true);\n          fields |= 16;\n          l += 4;\n        }\n      }\n      break;\n    case \"d\":\n      out[1] = 5;\n      dv.setFloat64(l, (cell.v.getTime() - Date.UTC(2001, 0, 1)) / 1e3, true);\n      fields |= 64;\n      l += 8;\n      break;\n    case \"z\":\n      out[1] = 0;\n      break;\n    default:\n      throw \"unsupported cell type \" + cell.t;\n  }\n  dv.setUint32(8, fields, true);\n  return out[subarray](0, l);\n}\nfunction parse_cell_storage(buf, lut, opts) {\n  switch (buf[0]) {\n    case 0:\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n      return parse_old_storage(buf, lut, buf[0], opts);\n    case 5:\n      return parse_new_storage(buf, lut, opts);\n    default:\n      throw new Error(\"Unsupported payload version \".concat(buf[0]));\n  }\n}\nfunction parse_TSP_Reference(buf) {\n  var pb = parse_shallow(buf);\n  return varint_to_i32(pb[1][0].data);\n}\nfunction write_TSP_Reference(idx) {\n  return write_shallow([\n    [],\n    [{ type: 0, data: write_varint49(idx) }]\n  ]);\n}\nfunction numbers_add_oref(iwa, ref) {\n  var _a;\n  var orefs = ((_a = iwa.messages[0].meta[5]) == null ? void 0 : _a[0]) ? parse_packed_varints(iwa.messages[0].meta[5][0].data) : [];\n  var orefidx = orefs.indexOf(ref);\n  if (orefidx == -1) {\n    orefs.push(ref);\n    iwa.messages[0].meta[5] = [{ type: 2, data: write_packed_varints(orefs) }];\n  }\n}\nfunction numbers_del_oref(iwa, ref) {\n  var _a;\n  var orefs = ((_a = iwa.messages[0].meta[5]) == null ? void 0 : _a[0]) ? parse_packed_varints(iwa.messages[0].meta[5][0].data) : [];\n  iwa.messages[0].meta[5] = [{ type: 2, data: write_packed_varints(orefs.filter(function(r) {\n    return r != ref;\n  })) }];\n}\nfunction parse_TST_TableDataList(M, root) {\n  var pb = parse_shallow(root.data);\n  var type = varint_to_i32(pb[1][0].data);\n  var entries = pb[3];\n  var data = [];\n  (entries || []).forEach(function(entry) {\n    var _a, _b;\n    var le = parse_shallow(entry.data);\n    if (!le[1])\n      return;\n    var key = varint_to_i32(le[1][0].data) >>> 0;\n    switch (type) {\n      case 1:\n        data[key] = u8str(le[3][0].data);\n        break;\n      case 8:\n        {\n          var rt = M[parse_TSP_Reference(le[9][0].data)][0];\n          var rtp = parse_shallow(rt.data);\n          var rtpref = M[parse_TSP_Reference(rtp[1][0].data)][0];\n          var mtype = varint_to_i32(rtpref.meta[1][0].data);\n          if (mtype != 2001)\n            throw new Error(\"2000 unexpected reference to \".concat(mtype));\n          var tswpsa = parse_shallow(rtpref.data);\n          var richtext = { v: tswpsa[3].map(function(x) {\n            return u8str(x.data);\n          }).join(\"\") };\n          data[key] = richtext;\n          sfields:\n            if ((_a = tswpsa == null ? void 0 : tswpsa[11]) == null ? void 0 : _a[0]) {\n              var smartfields = (_b = parse_shallow(tswpsa[11][0].data)) == null ? void 0 : _b[1];\n              if (!smartfields)\n                break sfields;\n              smartfields.forEach(function(sf) {\n                var _a2, _b2, _c;\n                var attr = parse_shallow(sf.data);\n                if ((_a2 = attr[2]) == null ? void 0 : _a2[0]) {\n                  var obj = M[parse_TSP_Reference((_b2 = attr[2]) == null ? void 0 : _b2[0].data)][0];\n                  var objtype = varint_to_i32(obj.meta[1][0].data);\n                  switch (objtype) {\n                    case 2032:\n                      var hlink = parse_shallow(obj.data);\n                      if (((_c = hlink == null ? void 0 : hlink[2]) == null ? void 0 : _c[0]) && !richtext.l)\n                        richtext.l = u8str(hlink[2][0].data);\n                      break;\n                    case 2039:\n                      break;\n                    default:\n                      console.log(\"unrecognized ObjectAttribute type \".concat(objtype));\n                  }\n                }\n              });\n            }\n        }\n        break;\n      case 2:\n        data[key] = parse_shallow(le[6][0].data);\n        break;\n      case 3:\n        data[key] = parse_shallow(le[5][0].data);\n        break;\n      case 10:\n        {\n          var cs = M[parse_TSP_Reference(le[10][0].data)][0];\n          data[key] = parse_TSD_CommentStorageArchive(M, cs.data);\n        }\n        break;\n      default:\n        throw type;\n    }\n  });\n  return data;\n}\nfunction parse_TST_TileRowInfo(u8, type) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;\n  var pb = parse_shallow(u8);\n  var R = varint_to_i32(pb[1][0].data) >>> 0;\n  var cnt = varint_to_i32(pb[2][0].data) >>> 0;\n  var wide_offsets = ((_b = (_a = pb[8]) == null ? void 0 : _a[0]) == null ? void 0 : _b.data) && varint_to_i32(pb[8][0].data) > 0 || false;\n  var used_storage_u8, used_storage;\n  if (((_d = (_c = pb[7]) == null ? void 0 : _c[0]) == null ? void 0 : _d.data) && type != 0) {\n    used_storage_u8 = (_f = (_e = pb[7]) == null ? void 0 : _e[0]) == null ? void 0 : _f.data;\n    used_storage = (_h = (_g = pb[6]) == null ? void 0 : _g[0]) == null ? void 0 : _h.data;\n  } else if (((_j = (_i = pb[4]) == null ? void 0 : _i[0]) == null ? void 0 : _j.data) && type != 1) {\n    used_storage_u8 = (_l = (_k = pb[4]) == null ? void 0 : _k[0]) == null ? void 0 : _l.data;\n    used_storage = (_n = (_m = pb[3]) == null ? void 0 : _m[0]) == null ? void 0 : _n.data;\n  } else\n    throw \"NUMBERS Tile missing \".concat(type, \" cell storage\");\n  var width = wide_offsets ? 4 : 1;\n  var used_storage_offsets = u8_to_dataview(used_storage_u8);\n  var offsets = [];\n  for (var C = 0; C < used_storage_u8.length / 2; ++C) {\n    var off = used_storage_offsets.getUint16(C * 2, true);\n    if (off < 65535)\n      offsets.push([C, off]);\n  }\n  if (offsets.length != cnt)\n    throw \"Expected \".concat(cnt, \" cells, found \").concat(offsets.length);\n  var cells = [];\n  for (C = 0; C < offsets.length - 1; ++C)\n    cells[offsets[C][0]] = used_storage[subarray](offsets[C][1] * width, offsets[C + 1][1] * width);\n  if (offsets.length >= 1)\n    cells[offsets[offsets.length - 1][0]] = used_storage[subarray](offsets[offsets.length - 1][1] * width);\n  return { R: R, cells: cells };\n}\nfunction parse_TST_Tile(M, root) {\n  var _a;\n  var pb = parse_shallow(root.data);\n  var storage = -1;\n  if ((_a = pb == null ? void 0 : pb[7]) == null ? void 0 : _a[0]) {\n    if (varint_to_i32(pb[7][0].data) >>> 0)\n      storage = 1;\n    else\n      storage = 0;\n  }\n  var ri = mappa(pb[5], function(u8) {\n    return parse_TST_TileRowInfo(u8, storage);\n  });\n  return {\n    nrows: varint_to_i32(pb[4][0].data) >>> 0,\n    data: ri.reduce(function(acc, x) {\n      if (!acc[x.R])\n        acc[x.R] = [];\n      x.cells.forEach(function(cell, C) {\n        if (acc[x.R][C])\n          throw new Error(\"Duplicate cell r=\".concat(x.R, \" c=\").concat(C));\n        acc[x.R][C] = cell;\n      });\n      return acc;\n    }, [])\n  };\n}\nfunction parse_TSD_CommentStorageArchive(M, data) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n  var out = { t: \"\", a: \"\" };\n  var csp = parse_shallow(data);\n  if ((_b = (_a = csp == null ? void 0 : csp[1]) == null ? void 0 : _a[0]) == null ? void 0 : _b.data)\n    out.t = u8str((_d = (_c = csp == null ? void 0 : csp[1]) == null ? void 0 : _c[0]) == null ? void 0 : _d.data) || \"\";\n  if ((_f = (_e = csp == null ? void 0 : csp[3]) == null ? void 0 : _e[0]) == null ? void 0 : _f.data) {\n    var as = M[parse_TSP_Reference((_h = (_g = csp == null ? void 0 : csp[3]) == null ? void 0 : _g[0]) == null ? void 0 : _h.data)][0];\n    var asp = parse_shallow(as.data);\n    if ((_j = (_i = asp[1]) == null ? void 0 : _i[0]) == null ? void 0 : _j.data)\n      out.a = u8str(asp[1][0].data);\n  }\n  if (csp == null ? void 0 : csp[4]) {\n    out.replies = [];\n    csp[4].forEach(function(pi) {\n      var cs = M[parse_TSP_Reference(pi.data)][0];\n      out.replies.push(parse_TSD_CommentStorageArchive(M, cs.data));\n    });\n  }\n  return out;\n}\nfunction iwa_to_s5s_comment(iwa) {\n  var out = [];\n  out.push({ t: iwa.t || \"\", a: iwa.a, T: iwa.replies && iwa.replies.length > 0 });\n  if (iwa.replies)\n    iwa.replies.forEach(function(reply) {\n      out.push({ t: reply.t || \"\", a: reply.a, T: true });\n    });\n  return out;\n}\nfunction s5s_to_iwa_comment(s5s) {\n  var out = { a: \"\", t: \"\", replies: [] };\n  for (var i = 0; i < s5s.length; ++i) {\n    if (i == 0) {\n      out.a = s5s[i].a;\n      out.t = s5s[i].t;\n    } else {\n      out.replies.push({ a: s5s[i].a, t: s5s[i].t });\n    }\n  }\n  return out;\n}\nfunction parse_TST_TableModelArchive(M, root, ws, opts) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;\n  var pb = parse_shallow(root.data);\n  var range = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } };\n  range.e.r = (varint_to_i32(pb[6][0].data) >>> 0) - 1;\n  if (range.e.r < 0)\n    throw new Error(\"Invalid row varint \".concat(pb[6][0].data));\n  range.e.c = (varint_to_i32(pb[7][0].data) >>> 0) - 1;\n  if (range.e.c < 0)\n    throw new Error(\"Invalid col varint \".concat(pb[7][0].data));\n  ws[\"!ref\"] = encode_range(range);\n  var dense = ws[\"!data\"] != null, dws = ws;\n  var store = parse_shallow(pb[4][0].data);\n  var lut = numbers_lut_new();\n  if ((_a = store[4]) == null ? void 0 : _a[0])\n    lut.sst = parse_TST_TableDataList(M, M[parse_TSP_Reference(store[4][0].data)][0]);\n  if ((_b = store[6]) == null ? void 0 : _b[0])\n    lut.fmla = parse_TST_TableDataList(M, M[parse_TSP_Reference(store[6][0].data)][0]);\n  if ((_c = store[11]) == null ? void 0 : _c[0])\n    lut.ofmt = parse_TST_TableDataList(M, M[parse_TSP_Reference(store[11][0].data)][0]);\n  if ((_d = store[12]) == null ? void 0 : _d[0])\n    lut.ferr = parse_TST_TableDataList(M, M[parse_TSP_Reference(store[12][0].data)][0]);\n  if ((_e = store[17]) == null ? void 0 : _e[0])\n    lut.rsst = parse_TST_TableDataList(M, M[parse_TSP_Reference(store[17][0].data)][0]);\n  if ((_f = store[19]) == null ? void 0 : _f[0])\n    lut.cmnt = parse_TST_TableDataList(M, M[parse_TSP_Reference(store[19][0].data)][0]);\n  if ((_g = store[22]) == null ? void 0 : _g[0])\n    lut.nfmt = parse_TST_TableDataList(M, M[parse_TSP_Reference(store[22][0].data)][0]);\n  var tile = parse_shallow(store[3][0].data);\n  var _R = 0;\n  if (!((_h = store[9]) == null ? void 0 : _h[0]))\n    throw \"NUMBERS file missing row tree\";\n  var rtt = parse_shallow(store[9][0].data)[1].map(function(p) {\n    return parse_shallow(p.data);\n  });\n  rtt.forEach(function(kv) {\n    _R = varint_to_i32(kv[1][0].data);\n    var tidx = varint_to_i32(kv[2][0].data);\n    var t = tile[1][tidx];\n    if (!t)\n      throw \"NUMBERS missing tile \" + tidx;\n    var tl = parse_shallow(t.data);\n    var ref2 = M[parse_TSP_Reference(tl[2][0].data)][0];\n    var mtype2 = varint_to_i32(ref2.meta[1][0].data);\n    if (mtype2 != 6002)\n      throw new Error(\"6001 unexpected reference to \".concat(mtype2));\n    var _tile = parse_TST_Tile(M, ref2);\n    _tile.data.forEach(function(row, R) {\n      row.forEach(function(buf, C) {\n        var res = parse_cell_storage(buf, lut, opts);\n        if (res) {\n          if (dense) {\n            if (!dws[\"!data\"][_R + R])\n              dws[\"!data\"][_R + R] = [];\n            dws[\"!data\"][_R + R][C] = res;\n          } else {\n            ws[encode_col(C) + encode_row(_R + R)] = res;\n          }\n        }\n      });\n    });\n    _R += _tile.nrows;\n  });\n  if ((_i = store[13]) == null ? void 0 : _i[0]) {\n    var ref = M[parse_TSP_Reference(store[13][0].data)][0];\n    var mtype = varint_to_i32(ref.meta[1][0].data);\n    if (mtype != 6144)\n      throw new Error(\"Expected merge type 6144, found \".concat(mtype));\n    ws[\"!merges\"] = (_j = parse_shallow(ref.data)) == null ? void 0 : _j[1].map(function(pi) {\n      var merge = parse_shallow(pi.data);\n      var origin = u8_to_dataview(parse_shallow(merge[1][0].data)[1][0].data), size = u8_to_dataview(parse_shallow(merge[2][0].data)[1][0].data);\n      return {\n        s: { r: origin.getUint16(0, true), c: origin.getUint16(2, true) },\n        e: {\n          r: origin.getUint16(0, true) + size.getUint16(0, true) - 1,\n          c: origin.getUint16(2, true) + size.getUint16(2, true) - 1\n        }\n      };\n    });\n  }\n  if (!((_k = ws[\"!merges\"]) == null ? void 0 : _k.length) && ((_l = pb[47]) == null ? void 0 : _l[0])) {\n    var merge_owner = parse_shallow(pb[47][0].data);\n    if ((_m = merge_owner[2]) == null ? void 0 : _m[0]) {\n      var formula_store = parse_shallow(merge_owner[2][0].data);\n      if ((_n = formula_store[3]) == null ? void 0 : _n[0]) {\n        ws[\"!merges\"] = mappa(formula_store[3], function(u) {\n          var _a2, _b2, _c2, _d2, _e2;\n          var formula_pair = parse_shallow(u);\n          var formula = parse_shallow(formula_pair[2][0].data);\n          var AST_node_array = parse_shallow(formula[1][0].data);\n          if (!((_a2 = AST_node_array[1]) == null ? void 0 : _a2[0]))\n            return;\n          var AST_node0 = parse_shallow(AST_node_array[1][0].data);\n          var AST_node_type = varint_to_i32(AST_node0[1][0].data);\n          if (AST_node_type != 67)\n            return;\n          var AST_colon_tract = parse_shallow(AST_node0[40][0].data);\n          if (!((_b2 = AST_colon_tract[3]) == null ? void 0 : _b2[0]) || !((_c2 = AST_colon_tract[4]) == null ? void 0 : _c2[0]))\n            return;\n          var colrange = parse_shallow(AST_colon_tract[3][0].data);\n          var rowrange = parse_shallow(AST_colon_tract[4][0].data);\n          var c = varint_to_i32(colrange[1][0].data);\n          var C = ((_d2 = colrange[2]) == null ? void 0 : _d2[0]) ? varint_to_i32(colrange[2][0].data) : c;\n          var r = varint_to_i32(rowrange[1][0].data);\n          var R = ((_e2 = rowrange[2]) == null ? void 0 : _e2[0]) ? varint_to_i32(rowrange[2][0].data) : r;\n          return { s: { r: r, c: c }, e: { r: R, c: C } };\n        }).filter(function(x) {\n          return x != null;\n        });\n      }\n    }\n  }\n}\nfunction parse_TST_TableInfoArchive(M, root, opts) {\n  var pb = parse_shallow(root.data);\n  var out = { \"!ref\": \"A1\" };\n  if (opts == null ? void 0 : opts.dense)\n    out[\"!data\"] = [];\n  var tableref = M[parse_TSP_Reference(pb[2][0].data)];\n  var mtype = varint_to_i32(tableref[0].meta[1][0].data);\n  if (mtype != 6001)\n    throw new Error(\"6000 unexpected reference to \".concat(mtype));\n  parse_TST_TableModelArchive(M, tableref[0], out, opts);\n  return out;\n}\nfunction parse_TN_SheetArchive(M, root, opts) {\n  var _a;\n  var pb = parse_shallow(root.data);\n  var out = {\n    name: ((_a = pb[1]) == null ? void 0 : _a[0]) ? u8str(pb[1][0].data) : \"\",\n    sheets: []\n  };\n  var shapeoffs = mappa(pb[2], parse_TSP_Reference);\n  shapeoffs.forEach(function(off) {\n    M[off].forEach(function(m) {\n      var mtype = varint_to_i32(m.meta[1][0].data);\n      if (mtype == 6e3)\n        out.sheets.push(parse_TST_TableInfoArchive(M, m, opts));\n    });\n  });\n  return out;\n}\nfunction parse_TN_DocumentArchive(M, root, opts) {\n  var _a;\n  var out = book_new();\n  out.Workbook = { WBProps: { date1904: true } };\n  var pb = parse_shallow(root.data);\n  if ((_a = pb[2]) == null ? void 0 : _a[0])\n    throw new Error(\"Keynote presentations are not supported\");\n  var sheetoffs = mappa(pb[1], parse_TSP_Reference);\n  sheetoffs.forEach(function(off) {\n    M[off].forEach(function(m) {\n      var mtype = varint_to_i32(m.meta[1][0].data);\n      if (mtype == 2) {\n        var root2 = parse_TN_SheetArchive(M, m, opts);\n        root2.sheets.forEach(function(sheet, idx) {\n          book_append_sheet(out, sheet, idx == 0 ? root2.name : root2.name + \"_\" + idx, true);\n        });\n      }\n    });\n  });\n  if (out.SheetNames.length == 0)\n    throw new Error(\"Empty NUMBERS file\");\n  out.bookType = \"numbers\";\n  return out;\n}\nfunction parse_numbers_iwa(cfb, opts) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  var M = {}, indices = [];\n  cfb.FullPaths.forEach(function(p) {\n    if (p.match(/\\.iwpv2/))\n      throw new Error(\"Unsupported password protection\");\n  });\n  cfb.FileIndex.forEach(function(s) {\n    if (!s.name.match(/\\.iwa$/))\n      return;\n    if (s.content[0] != 0)\n      return;\n    var o;\n    try {\n      o = decompress_iwa_file(s.content);\n    } catch (e) {\n      return console.log(\"?? \" + s.content.length + \" \" + (e.message || e));\n    }\n    var packets;\n    try {\n      packets = parse_iwa_file(o);\n    } catch (e) {\n      return console.log(\"## \" + (e.message || e));\n    }\n    packets.forEach(function(packet) {\n      M[packet.id] = packet.messages;\n      indices.push(packet.id);\n    });\n  });\n  if (!indices.length)\n    throw new Error(\"File has no messages\");\n  if (((_c = (_b = (_a = M == null ? void 0 : M[1]) == null ? void 0 : _a[0].meta) == null ? void 0 : _b[1]) == null ? void 0 : _c[0].data) && varint_to_i32(M[1][0].meta[1][0].data) == 1e4)\n    throw new Error(\"Pages documents are not supported\");\n  var docroot = ((_g = (_f = (_e = (_d = M == null ? void 0 : M[1]) == null ? void 0 : _d[0]) == null ? void 0 : _e.meta) == null ? void 0 : _f[1]) == null ? void 0 : _g[0].data) && varint_to_i32(M[1][0].meta[1][0].data) == 1 && M[1][0];\n  if (!docroot)\n    indices.forEach(function(idx) {\n      M[idx].forEach(function(iwam) {\n        var mtype = varint_to_i32(iwam.meta[1][0].data) >>> 0;\n        if (mtype == 1) {\n          if (!docroot)\n            docroot = iwam;\n          else\n            throw new Error(\"Document has multiple roots\");\n        }\n      });\n    });\n  if (!docroot)\n    throw new Error(\"Cannot find Document root\");\n  return parse_TN_DocumentArchive(M, docroot, opts);\n}\nfunction write_TST_TileRowInfo(data, lut, wide) {\n  var _a, _b, _c;\n  var tri = [\n    [],\n    [{ type: 0, data: write_varint49(0) }],\n    [{ type: 0, data: write_varint49(0) }],\n    [{ type: 2, data: new Uint8Array([]) }],\n    [{ type: 2, data: new Uint8Array(Array.from({ length: 510 }, function() {\n      return 255;\n    })) }],\n    [{ type: 0, data: write_varint49(5) }],\n    [{ type: 2, data: new Uint8Array([]) }],\n    [{ type: 2, data: new Uint8Array(Array.from({ length: 510 }, function() {\n      return 255;\n    })) }],\n    [{ type: 0, data: write_varint49(1) }]\n  ];\n  if (!((_a = tri[6]) == null ? void 0 : _a[0]) || !((_b = tri[7]) == null ? void 0 : _b[0]))\n    throw \"Mutation only works on post-BNC storages!\";\n  var cnt = 0;\n  if (tri[7][0].data.length < 2 * data.length) {\n    var new_7 = new Uint8Array(2 * data.length);\n    new_7.set(tri[7][0].data);\n    tri[7][0].data = new_7;\n  }\n  if (tri[4][0].data.length < 2 * data.length) {\n    var new_4 = new Uint8Array(2 * data.length);\n    new_4.set(tri[4][0].data);\n    tri[4][0].data = new_4;\n  }\n  var dv = u8_to_dataview(tri[7][0].data), last_offset = 0, cell_storage = [];\n  var _dv = u8_to_dataview(tri[4][0].data), _last_offset = 0, _cell_storage = [];\n  var width = wide ? 4 : 1;\n  for (var C = 0; C < data.length; ++C) {\n    if (data[C] == null || data[C].t == \"z\" && !((_c = data[C].c) == null ? void 0 : _c.length) || data[C].t == \"e\") {\n      dv.setUint16(C * 2, 65535, true);\n      _dv.setUint16(C * 2, 65535);\n      continue;\n    }\n    dv.setUint16(C * 2, last_offset / width, true);\n    _dv.setUint16(C * 2, _last_offset / width, true);\n    var celload, _celload;\n    switch (data[C].t) {\n      case \"d\":\n        if (data[C].v instanceof Date) {\n          celload = write_new_storage(data[C], lut);\n          _celload = write_old_storage(data[C], lut);\n          break;\n        }\n        celload = write_new_storage(data[C], lut);\n        _celload = write_old_storage(data[C], lut);\n        break;\n      case \"s\":\n      case \"n\":\n      case \"b\":\n      case \"z\":\n        celload = write_new_storage(data[C], lut);\n        _celload = write_old_storage(data[C], lut);\n        break;\n      default:\n        throw new Error(\"Unsupported value \" + data[C]);\n    }\n    cell_storage.push(celload);\n    last_offset += celload.length;\n    {\n      _cell_storage.push(_celload);\n      _last_offset += _celload.length;\n    }\n    ++cnt;\n  }\n  tri[2][0].data = write_varint49(cnt);\n  tri[5][0].data = write_varint49(5);\n  for (; C < tri[7][0].data.length / 2; ++C) {\n    dv.setUint16(C * 2, 65535, true);\n    _dv.setUint16(C * 2, 65535, true);\n  }\n  tri[6][0].data = u8concat(cell_storage);\n  tri[3][0].data = u8concat(_cell_storage);\n  tri[8] = [{ type: 0, data: write_varint49(wide ? 1 : 0) }];\n  return tri;\n}\nfunction write_iwam(type, payload) {\n  return {\n    meta: [\n      [],\n      [{ type: 0, data: write_varint49(type) }]\n    ],\n    data: payload\n  };\n}\nfunction get_unique_msgid(dep, dependents) {\n  if (!dependents.last)\n    dependents.last = 927262;\n  for (var i = dependents.last; i < 2e6; ++i)\n    if (!dependents[i]) {\n      dependents[dependents.last = i] = dep;\n      return i;\n    }\n  throw new Error(\"Too many messages\");\n}\nfunction build_numbers_deps(cfb) {\n  var dependents = {};\n  var indices = [];\n  cfb.FileIndex.map(function(fi, idx) {\n    return [fi, cfb.FullPaths[idx]];\n  }).forEach(function(row) {\n    var fi = row[0], fp = row[1];\n    if (fi.type != 2)\n      return;\n    if (!fi.name.match(/\\.iwa/))\n      return;\n    if (fi.content[0] != 0)\n      return;\n    parse_iwa_file(decompress_iwa_file(fi.content)).forEach(function(packet) {\n      indices.push(packet.id);\n      dependents[packet.id] = { deps: [], location: fp, type: varint_to_i32(packet.messages[0].meta[1][0].data) };\n    });\n  });\n  cfb.FileIndex.forEach(function(fi) {\n    if (!fi.name.match(/\\.iwa/))\n      return;\n    if (fi.content[0] != 0)\n      return;\n    parse_iwa_file(decompress_iwa_file(fi.content)).forEach(function(ia) {\n      ia.messages.forEach(function(mess) {\n        [5, 6].forEach(function(f) {\n          if (!mess.meta[f])\n            return;\n          mess.meta[f].forEach(function(x) {\n            dependents[ia.id].deps.push(varint_to_i32(x.data));\n          });\n        });\n      });\n    });\n  });\n  return dependents;\n}\nfunction write_TSP_Color_RGB(r, g, b) {\n  return write_shallow([\n    [],\n    [{ type: 0, data: write_varint49(1) }],\n    [],\n    [{ type: 5, data: new Uint8Array(Float32Array.from([r / 255]).buffer) }],\n    [{ type: 5, data: new Uint8Array(Float32Array.from([g / 255]).buffer) }],\n    [{ type: 5, data: new Uint8Array(Float32Array.from([b / 255]).buffer) }],\n    [{ type: 5, data: new Uint8Array(Float32Array.from([1]).buffer) }],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [{ type: 0, data: write_varint49(1) }]\n  ]);\n}\nfunction get_author_color(n) {\n  switch (n) {\n    case 0:\n      return write_TSP_Color_RGB(99, 222, 171);\n    case 1:\n      return write_TSP_Color_RGB(162, 197, 240);\n    case 2:\n      return write_TSP_Color_RGB(255, 189, 189);\n  }\n  return write_TSP_Color_RGB(Math.random() * 255, Math.random() * 255, Math.random() * 255);\n}\nfunction write_numbers_iwa(wb, opts) {\n  if (!opts || !opts.numbers)\n    throw new Error(\"Must pass a `numbers` option -- check the README\");\n  var cfb = CFB.read(opts.numbers, { type: \"base64\" });\n  var deps = build_numbers_deps(cfb);\n  var docroot = numbers_iwa_find(cfb, deps, 1);\n  if (docroot == null)\n    throw \"Could not find message \".concat(1, \" in Numbers template\");\n  var sheetrefs = mappa(parse_shallow(docroot.messages[0].data)[1], parse_TSP_Reference);\n  if (sheetrefs.length > 1)\n    throw new Error(\"Template NUMBERS file must have exactly one sheet\");\n  wb.SheetNames.forEach(function(name, idx) {\n    if (idx >= 1) {\n      numbers_add_ws(cfb, deps, idx + 1);\n      docroot = numbers_iwa_find(cfb, deps, 1);\n      sheetrefs = mappa(parse_shallow(docroot.messages[0].data)[1], parse_TSP_Reference);\n    }\n    write_numbers_ws(cfb, deps, wb.Sheets[name], name, idx, sheetrefs[idx]);\n  });\n  return cfb;\n}\nfunction numbers_iwa_doit(cfb, deps, id, cb) {\n  var entry = CFB.find(cfb, deps[id].location);\n  if (!entry)\n    throw \"Could not find \".concat(deps[id].location, \" in Numbers template\");\n  var x = parse_iwa_file(decompress_iwa_file(entry.content));\n  var ainfo = x.find(function(packet) {\n    return packet.id == id;\n  });\n  cb(ainfo, x);\n  entry.content = compress_iwa_file(write_iwa_file(x));\n  entry.size = entry.content.length;\n}\nfunction numbers_iwa_find(cfb, deps, id) {\n  var entry = CFB.find(cfb, deps[id].location);\n  if (!entry)\n    throw \"Could not find \".concat(deps[id].location, \" in Numbers template\");\n  var x = parse_iwa_file(decompress_iwa_file(entry.content));\n  var ainfo = x.find(function(packet) {\n    return packet.id == id;\n  });\n  return ainfo;\n}\nfunction numbers_add_meta(mlist, newid, newloc) {\n  mlist[3].push({ type: 2, data: write_shallow([\n    [],\n    [{ type: 0, data: write_varint49(newid) }],\n    [{ type: 2, data: stru8(newloc.replace(/-[\\s\\S]*$/, \"\")) }],\n    [{ type: 2, data: stru8(newloc) }],\n    [{ type: 2, data: new Uint8Array([2, 0, 0]) }],\n    [{ type: 2, data: new Uint8Array([2, 0, 0]) }],\n    [],\n    [],\n    [],\n    [],\n    [{ type: 0, data: write_varint49(0) }],\n    [],\n    [{ type: 0, data: write_varint49(0) }]\n  ]) });\n  mlist[1] = [{ type: 0, data: write_varint49(Math.max(newid + 1, varint_to_i32(mlist[1][0].data))) }];\n}\nfunction numbers_add_msg(cfb, type, msg, path, deps, id) {\n  if (!id)\n    id = get_unique_msgid({ deps: [], location: \"\", type: type }, deps);\n  var loc = \"\".concat(path, \"-\").concat(id, \".iwa\");\n  deps[id].location = \"Root Entry\" + loc;\n  CFB.utils.cfb_add(cfb, loc, compress_iwa_file(write_iwa_file([{\n    id: id,\n    messages: [write_iwam(type, write_shallow(msg))]\n  }])));\n  var newloc = loc.replace(/^[\\/]/, \"\").replace(/^Index\\//, \"\").replace(/\\.iwa$/, \"\");\n  numbers_iwa_doit(cfb, deps, 2, function(ai) {\n    var mlist = parse_shallow(ai.messages[0].data);\n    numbers_add_meta(mlist, id || 0, newloc);\n    ai.messages[0].data = write_shallow(mlist);\n  });\n  return id;\n}\nfunction numbers_meta_add_dep(mlist, deps, id, dep) {\n  var loc = deps[id].location.replace(/^Root Entry\\//, \"\").replace(/^Index\\//, \"\").replace(/\\.iwa$/, \"\");\n  var parentidx = mlist[3].findIndex(function(m) {\n    var _a, _b;\n    var mm = parse_shallow(m.data);\n    if ((_a = mm[3]) == null ? void 0 : _a[0])\n      return u8str(mm[3][0].data) == loc;\n    if (((_b = mm[2]) == null ? void 0 : _b[0]) && u8str(mm[2][0].data) == loc)\n      return true;\n    return false;\n  });\n  var parent = parse_shallow(mlist[3][parentidx].data);\n  if (!parent[6])\n    parent[6] = [];\n  (Array.isArray(dep) ? dep : [dep]).forEach(function(dep2) {\n    parent[6].push({\n      type: 2,\n      data: write_shallow([\n        [],\n        [{ type: 0, data: write_varint49(dep2) }]\n      ])\n    });\n  });\n  mlist[3][parentidx].data = write_shallow(parent);\n}\nfunction numbers_meta_del_dep(mlist, deps, id, dep) {\n  var loc = deps[id].location.replace(/^Root Entry\\//, \"\").replace(/^Index\\//, \"\").replace(/\\.iwa$/, \"\");\n  var parentidx = mlist[3].findIndex(function(m) {\n    var _a, _b;\n    var mm = parse_shallow(m.data);\n    if ((_a = mm[3]) == null ? void 0 : _a[0])\n      return u8str(mm[3][0].data) == loc;\n    if (((_b = mm[2]) == null ? void 0 : _b[0]) && u8str(mm[2][0].data) == loc)\n      return true;\n    return false;\n  });\n  var parent = parse_shallow(mlist[3][parentidx].data);\n  if (!parent[6])\n    parent[6] = [];\n  parent[6] = parent[6].filter(function(m) {\n    return varint_to_i32(parse_shallow(m.data)[1][0].data) != dep;\n  });\n  mlist[3][parentidx].data = write_shallow(parent);\n}\nfunction numbers_add_ws(cfb, deps, wsidx) {\n  var sheetref = -1, newsheetref = -1;\n  var remap = {};\n  numbers_iwa_doit(cfb, deps, 1, function(docroot, arch) {\n    var doc = parse_shallow(docroot.messages[0].data);\n    sheetref = parse_TSP_Reference(parse_shallow(docroot.messages[0].data)[1][0].data);\n    newsheetref = get_unique_msgid({ deps: [1], location: deps[sheetref].location, type: 2 }, deps);\n    remap[sheetref] = newsheetref;\n    numbers_add_oref(docroot, newsheetref);\n    doc[1].push({ type: 2, data: write_TSP_Reference(newsheetref) });\n    var sheet = numbers_iwa_find(cfb, deps, sheetref);\n    sheet.id = newsheetref;\n    if (deps[1].location == deps[newsheetref].location)\n      arch.push(sheet);\n    else\n      numbers_iwa_doit(cfb, deps, newsheetref, function(_, x) {\n        return x.push(sheet);\n      });\n    docroot.messages[0].data = write_shallow(doc);\n  });\n  var tiaref = -1;\n  numbers_iwa_doit(cfb, deps, newsheetref, function(sheetroot, arch) {\n    var sa = parse_shallow(sheetroot.messages[0].data);\n    for (var i = 3; i <= 69; ++i)\n      delete sa[i];\n    var drawables = mappa(sa[2], parse_TSP_Reference);\n    drawables.forEach(function(n) {\n      return numbers_del_oref(sheetroot, n);\n    });\n    tiaref = get_unique_msgid({ deps: [newsheetref], location: deps[drawables[0]].location, type: deps[drawables[0]].type }, deps);\n    numbers_add_oref(sheetroot, tiaref);\n    remap[drawables[0]] = tiaref;\n    sa[2] = [{ type: 2, data: write_TSP_Reference(tiaref) }];\n    var tia = numbers_iwa_find(cfb, deps, drawables[0]);\n    tia.id = tiaref;\n    if (deps[drawables[0]].location == deps[newsheetref].location)\n      arch.push(tia);\n    else {\n      numbers_iwa_doit(cfb, deps, 2, function(ai) {\n        var mlist = parse_shallow(ai.messages[0].data);\n        numbers_meta_add_dep(mlist, deps, newsheetref, tiaref);\n        ai.messages[0].data = write_shallow(mlist);\n      });\n      numbers_iwa_doit(cfb, deps, tiaref, function(_, x) {\n        return x.push(tia);\n      });\n    }\n    sheetroot.messages[0].data = write_shallow(sa);\n  });\n  var tmaref = -1;\n  numbers_iwa_doit(cfb, deps, tiaref, function(tiaroot, arch) {\n    var tia = parse_shallow(tiaroot.messages[0].data);\n    var da = parse_shallow(tia[1][0].data);\n    for (var i = 3; i <= 69; ++i)\n      delete da[i];\n    var dap = parse_TSP_Reference(da[2][0].data);\n    da[2][0].data = write_TSP_Reference(remap[dap]);\n    tia[1][0].data = write_shallow(da);\n    var oldtmaref = parse_TSP_Reference(tia[2][0].data);\n    numbers_del_oref(tiaroot, oldtmaref);\n    tmaref = get_unique_msgid({ deps: [tiaref], location: deps[oldtmaref].location, type: deps[oldtmaref].type }, deps);\n    numbers_add_oref(tiaroot, tmaref);\n    remap[oldtmaref] = tmaref;\n    tia[2][0].data = write_TSP_Reference(tmaref);\n    var tma = numbers_iwa_find(cfb, deps, oldtmaref);\n    tma.id = tmaref;\n    if (deps[tiaref].location == deps[tmaref].location)\n      arch.push(tma);\n    else\n      numbers_iwa_doit(cfb, deps, tmaref, function(_, x) {\n        return x.push(tma);\n      });\n    tiaroot.messages[0].data = write_shallow(tia);\n  });\n  numbers_iwa_doit(cfb, deps, tmaref, function(tmaroot, arch) {\n    var _a, _b;\n    var tma = parse_shallow(tmaroot.messages[0].data);\n    var uuid = u8str(tma[1][0].data), new_uuid = uuid.replace(/-[A-Z0-9]*/, \"-\".concat((\"0000\" + wsidx.toString(16)).slice(-4)));\n    tma[1][0].data = stru8(new_uuid);\n    [12, 13, 29, 31, 32, 33, 39, 44, 47, 81, 82, 84].forEach(function(n) {\n      return delete tma[n];\n    });\n    if (tma[45]) {\n      var srrta = parse_shallow(tma[45][0].data);\n      var ref = parse_TSP_Reference(srrta[1][0].data);\n      numbers_del_oref(tmaroot, ref);\n      delete tma[45];\n    }\n    if (tma[70]) {\n      var hsoa = parse_shallow(tma[70][0].data);\n      (_a = hsoa[2]) == null ? void 0 : _a.forEach(function(item) {\n        var hsa = parse_shallow(item.data);\n        [2, 3].map(function(n) {\n          return hsa[n][0];\n        }).forEach(function(hseadata) {\n          var hsea = parse_shallow(hseadata.data);\n          if (!hsea[8])\n            return;\n          var ref2 = parse_TSP_Reference(hsea[8][0].data);\n          numbers_del_oref(tmaroot, ref2);\n        });\n      });\n      delete tma[70];\n    }\n    [\n      46,\n      30,\n      34,\n      35,\n      36,\n      38,\n      48,\n      49,\n      60,\n      61,\n      62,\n      63,\n      64,\n      71,\n      72,\n      73,\n      74,\n      75,\n      85,\n      86,\n      87,\n      88,\n      89\n    ].forEach(function(n) {\n      if (!tma[n])\n        return;\n      var ref2 = parse_TSP_Reference(tma[n][0].data);\n      delete tma[n];\n      numbers_del_oref(tmaroot, ref2);\n    });\n    var store = parse_shallow(tma[4][0].data);\n    {\n      [2, 4, 5, 6, 11, 12, 13, 15, 16, 17, 18, 19, 20, 21, 22].forEach(function(n) {\n        var _a2;\n        if (!((_a2 = store[n]) == null ? void 0 : _a2[0]))\n          return;\n        var oldref = parse_TSP_Reference(store[n][0].data);\n        var newref = get_unique_msgid({ deps: [tmaref], location: deps[oldref].location, type: deps[oldref].type }, deps);\n        numbers_del_oref(tmaroot, oldref);\n        numbers_add_oref(tmaroot, newref);\n        remap[oldref] = newref;\n        var msg = numbers_iwa_find(cfb, deps, oldref);\n        msg.id = newref;\n        if (deps[oldref].location == deps[tmaref].location)\n          arch.push(msg);\n        else {\n          deps[newref].location = deps[oldref].location.replace(oldref.toString(), newref.toString());\n          if (deps[newref].location == deps[oldref].location)\n            deps[newref].location = deps[newref].location.replace(/\\.iwa/, \"-\".concat(newref, \".iwa\"));\n          CFB.utils.cfb_add(cfb, deps[newref].location, compress_iwa_file(write_iwa_file([msg])));\n          var newloc = deps[newref].location.replace(/^Root Entry\\//, \"\").replace(/^Index\\//, \"\").replace(/\\.iwa$/, \"\");\n          numbers_iwa_doit(cfb, deps, 2, function(ai) {\n            var mlist = parse_shallow(ai.messages[0].data);\n            numbers_add_meta(mlist, newref, newloc);\n            numbers_meta_add_dep(mlist, deps, tmaref, newref);\n            ai.messages[0].data = write_shallow(mlist);\n          });\n        }\n        store[n][0].data = write_TSP_Reference(newref);\n      });\n      var row_headers = parse_shallow(store[1][0].data);\n      {\n        (_b = row_headers[2]) == null ? void 0 : _b.forEach(function(tspref) {\n          var oldref = parse_TSP_Reference(tspref.data);\n          var newref = get_unique_msgid({ deps: [tmaref], location: deps[oldref].location, type: deps[oldref].type }, deps);\n          numbers_del_oref(tmaroot, oldref);\n          numbers_add_oref(tmaroot, newref);\n          remap[oldref] = newref;\n          var msg = numbers_iwa_find(cfb, deps, oldref);\n          msg.id = newref;\n          if (deps[oldref].location == deps[tmaref].location) {\n            arch.push(msg);\n          } else {\n            deps[newref].location = deps[oldref].location.replace(oldref.toString(), newref.toString());\n            if (deps[newref].location == deps[oldref].location)\n              deps[newref].location = deps[newref].location.replace(/\\.iwa/, \"-\".concat(newref, \".iwa\"));\n            CFB.utils.cfb_add(cfb, deps[newref].location, compress_iwa_file(write_iwa_file([msg])));\n            var newloc = deps[newref].location.replace(/^Root Entry\\//, \"\").replace(/^Index\\//, \"\").replace(/\\.iwa$/, \"\");\n            numbers_iwa_doit(cfb, deps, 2, function(ai) {\n              var mlist = parse_shallow(ai.messages[0].data);\n              numbers_add_meta(mlist, newref, newloc);\n              numbers_meta_add_dep(mlist, deps, tmaref, newref);\n              ai.messages[0].data = write_shallow(mlist);\n            });\n          }\n          tspref.data = write_TSP_Reference(newref);\n        });\n      }\n      store[1][0].data = write_shallow(row_headers);\n      var tiles = parse_shallow(store[3][0].data);\n      {\n        tiles[1].forEach(function(t) {\n          var tst = parse_shallow(t.data);\n          var oldtileref = parse_TSP_Reference(tst[2][0].data);\n          var newtileref = remap[oldtileref];\n          if (!remap[oldtileref]) {\n            newtileref = get_unique_msgid({ deps: [tmaref], location: \"\", type: deps[oldtileref].type }, deps);\n            deps[newtileref].location = \"Root Entry/Index/Tables/Tile-\".concat(newtileref, \".iwa\");\n            remap[oldtileref] = newtileref;\n            var oldtile = numbers_iwa_find(cfb, deps, oldtileref);\n            oldtile.id = newtileref;\n            numbers_del_oref(tmaroot, oldtileref);\n            numbers_add_oref(tmaroot, newtileref);\n            CFB.utils.cfb_add(cfb, \"/Index/Tables/Tile-\".concat(newtileref, \".iwa\"), compress_iwa_file(write_iwa_file([oldtile])));\n            numbers_iwa_doit(cfb, deps, 2, function(ai) {\n              var mlist = parse_shallow(ai.messages[0].data);\n              mlist[3].push({ type: 2, data: write_shallow([\n                [],\n                [{ type: 0, data: write_varint49(newtileref) }],\n                [{ type: 2, data: stru8(\"Tables/Tile\") }],\n                [{ type: 2, data: stru8(\"Tables/Tile-\".concat(newtileref)) }],\n                [{ type: 2, data: new Uint8Array([2, 0, 0]) }],\n                [{ type: 2, data: new Uint8Array([2, 0, 0]) }],\n                [],\n                [],\n                [],\n                [],\n                [{ type: 0, data: write_varint49(0) }],\n                [],\n                [{ type: 0, data: write_varint49(0) }]\n              ]) });\n              mlist[1] = [{ type: 0, data: write_varint49(Math.max(newtileref + 1, varint_to_i32(mlist[1][0].data))) }];\n              numbers_meta_add_dep(mlist, deps, tmaref, newtileref);\n              ai.messages[0].data = write_shallow(mlist);\n            });\n          }\n          tst[2][0].data = write_TSP_Reference(newtileref);\n          t.data = write_shallow(tst);\n        });\n      }\n      store[3][0].data = write_shallow(tiles);\n    }\n    tma[4][0].data = write_shallow(store);\n    tmaroot.messages[0].data = write_shallow(tma);\n  });\n}\nfunction write_numbers_ws(cfb, deps, ws, wsname, sheetidx, rootref) {\n  var drawables = [];\n  numbers_iwa_doit(cfb, deps, rootref, function(docroot) {\n    var sheetref = parse_shallow(docroot.messages[0].data);\n    {\n      sheetref[1] = [{ type: 2, data: stru8(wsname) }];\n      drawables = mappa(sheetref[2], parse_TSP_Reference);\n    }\n    docroot.messages[0].data = write_shallow(sheetref);\n  });\n  var tia = numbers_iwa_find(cfb, deps, drawables[0]);\n  var tmaref = parse_TSP_Reference(parse_shallow(tia.messages[0].data)[2][0].data);\n  numbers_iwa_doit(cfb, deps, tmaref, function(docroot, x) {\n    return write_numbers_tma(cfb, deps, ws, docroot, x, tmaref);\n  });\n}\nvar USE_WIDE_ROWS = true;\nfunction write_numbers_tma(cfb, deps, ws, tmaroot, tmafile, tmaref) {\n  if (!ws[\"!ref\"])\n    throw new Error(\"Cannot export empty sheet to NUMBERS\");\n  var range = decode_range(ws[\"!ref\"]);\n  range.s.r = range.s.c = 0;\n  var trunc = false;\n  if (range.e.c > 999) {\n    trunc = true;\n    range.e.c = 999;\n  }\n  if (range.e.r > 999999) {\n    trunc = true;\n    range.e.r = 999999;\n  }\n  if (trunc)\n    console.error(\"Truncating to \".concat(encode_range(range)));\n  var data = [];\n  if (ws[\"!data\"])\n    data = ws[\"!data\"];\n  else {\n    var colstr = [];\n    for (var _C = 0; _C <= range.e.c; ++_C)\n      colstr[_C] = encode_col(_C);\n    for (var R_ = 0; R_ <= range.e.r; ++R_) {\n      data[R_] = [];\n      var _R = \"\" + (R_ + 1);\n      for (_C = 0; _C <= range.e.c; ++_C) {\n        var _cell = ws[colstr[_C] + _R];\n        if (!_cell)\n          continue;\n        data[R_][_C] = _cell;\n      }\n    }\n  }\n  var LUT = {\n    cmnt: [{ a: \"~54ee77S~\", t: \"... the people who are crazy enough to think they can change the world, are the ones who do.\" }],\n    ferr: [],\n    fmla: [],\n    nfmt: [],\n    ofmt: [],\n    rsst: [{ v: \"~54ee77S~\", l: \"https://sheetjs.com/\" }],\n    sst: [\"~Sh33tJ5~\"]\n  };\n  var pb = parse_shallow(tmaroot.messages[0].data);\n  {\n    pb[6][0].data = write_varint49(range.e.r + 1);\n    pb[7][0].data = write_varint49(range.e.c + 1);\n    delete pb[46];\n    var store = parse_shallow(pb[4][0].data);\n    {\n      var row_header_ref = parse_TSP_Reference(parse_shallow(store[1][0].data)[2][0].data);\n      numbers_iwa_doit(cfb, deps, row_header_ref, function(rowhead, _x) {\n        var _a;\n        var base_bucket = parse_shallow(rowhead.messages[0].data);\n        if ((_a = base_bucket == null ? void 0 : base_bucket[2]) == null ? void 0 : _a[0])\n          for (var R2 = 0; R2 < data.length; ++R2) {\n            var _bucket = parse_shallow(base_bucket[2][0].data);\n            _bucket[1][0].data = write_varint49(R2);\n            _bucket[4][0].data = write_varint49(data[R2].length);\n            base_bucket[2][R2] = { type: base_bucket[2][0].type, data: write_shallow(_bucket) };\n          }\n        rowhead.messages[0].data = write_shallow(base_bucket);\n      });\n      var col_header_ref = parse_TSP_Reference(store[2][0].data);\n      numbers_iwa_doit(cfb, deps, col_header_ref, function(colhead, _x) {\n        var base_bucket = parse_shallow(colhead.messages[0].data);\n        for (var C = 0; C <= range.e.c; ++C) {\n          var _bucket = parse_shallow(base_bucket[2][0].data);\n          _bucket[1][0].data = write_varint49(C);\n          _bucket[4][0].data = write_varint49(range.e.r + 1);\n          base_bucket[2][C] = { type: base_bucket[2][0].type, data: write_shallow(_bucket) };\n        }\n        colhead.messages[0].data = write_shallow(base_bucket);\n      });\n      var rbtree = parse_shallow(store[9][0].data);\n      rbtree[1] = [];\n      var tilestore = parse_shallow(store[3][0].data);\n      {\n        var tstride = 256;\n        tilestore[2] = [{ type: 0, data: write_varint49(tstride) }];\n        var tileref = parse_TSP_Reference(parse_shallow(tilestore[1][0].data)[2][0].data);\n        var save_token = function() {\n          var metadata = numbers_iwa_find(cfb, deps, 2);\n          var mlist = parse_shallow(metadata.messages[0].data);\n          var mlst = mlist[3].filter(function(m) {\n            return varint_to_i32(parse_shallow(m.data)[1][0].data) == tileref;\n          });\n          return (mlst == null ? void 0 : mlst.length) ? varint_to_i32(parse_shallow(mlst[0].data)[12][0].data) : 0;\n        }();\n        {\n          CFB.utils.cfb_del(cfb, deps[tileref].location);\n          numbers_iwa_doit(cfb, deps, 2, function(ai) {\n            var mlist = parse_shallow(ai.messages[0].data);\n            mlist[3] = mlist[3].filter(function(m) {\n              return varint_to_i32(parse_shallow(m.data)[1][0].data) != tileref;\n            });\n            numbers_meta_del_dep(mlist, deps, tmaref, tileref);\n            ai.messages[0].data = write_shallow(mlist);\n          });\n          numbers_del_oref(tmaroot, tileref);\n        }\n        tilestore[1] = [];\n        var ntiles = Math.ceil((range.e.r + 1) / tstride);\n        for (var tidx = 0; tidx < ntiles; ++tidx) {\n          var newtileid = get_unique_msgid({\n            deps: [],\n            location: \"\",\n            type: 6002\n          }, deps);\n          deps[newtileid].location = \"Root Entry/Index/Tables/Tile-\".concat(newtileid, \".iwa\");\n          var tiledata = [\n            [],\n            [{ type: 0, data: write_varint49(0) }],\n            [{ type: 0, data: write_varint49(Math.min(range.e.r + 1, (tidx + 1) * tstride)) }],\n            [{ type: 0, data: write_varint49(0) }],\n            [{ type: 0, data: write_varint49(Math.min((tidx + 1) * tstride, range.e.r + 1) - tidx * tstride) }],\n            [],\n            [{ type: 0, data: write_varint49(5) }],\n            [{ type: 0, data: write_varint49(1) }],\n            [{ type: 0, data: write_varint49(USE_WIDE_ROWS ? 1 : 0) }]\n          ];\n          for (var R = tidx * tstride; R <= Math.min(range.e.r, (tidx + 1) * tstride - 1); ++R) {\n            var tilerow = write_TST_TileRowInfo(data[R], LUT, USE_WIDE_ROWS);\n            tilerow[1][0].data = write_varint49(R - tidx * tstride);\n            tiledata[5].push({ data: write_shallow(tilerow), type: 2 });\n          }\n          tilestore[1].push({ type: 2, data: write_shallow([\n            [],\n            [{ type: 0, data: write_varint49(tidx) }],\n            [{ type: 2, data: write_TSP_Reference(newtileid) }]\n          ]) });\n          var newtile = {\n            id: newtileid,\n            messages: [write_iwam(6002, write_shallow(tiledata))]\n          };\n          var tilecontent = compress_iwa_file(write_iwa_file([newtile]));\n          CFB.utils.cfb_add(cfb, \"/Index/Tables/Tile-\".concat(newtileid, \".iwa\"), tilecontent);\n          numbers_iwa_doit(cfb, deps, 2, function(ai) {\n            var mlist = parse_shallow(ai.messages[0].data);\n            mlist[3].push({ type: 2, data: write_shallow([\n              [],\n              [{ type: 0, data: write_varint49(newtileid) }],\n              [{ type: 2, data: stru8(\"Tables/Tile\") }],\n              [{ type: 2, data: stru8(\"Tables/Tile-\".concat(newtileid)) }],\n              [{ type: 2, data: new Uint8Array([2, 0, 0]) }],\n              [{ type: 2, data: new Uint8Array([2, 0, 0]) }],\n              [],\n              [],\n              [],\n              [],\n              [{ type: 0, data: write_varint49(0) }],\n              [],\n              [{ type: 0, data: write_varint49(save_token) }]\n            ]) });\n            mlist[1] = [{ type: 0, data: write_varint49(Math.max(newtileid + 1, varint_to_i32(mlist[1][0].data))) }];\n            numbers_meta_add_dep(mlist, deps, tmaref, newtileid);\n            ai.messages[0].data = write_shallow(mlist);\n          });\n          numbers_add_oref(tmaroot, newtileid);\n          rbtree[1].push({ type: 2, data: write_shallow([\n            [],\n            [{ type: 0, data: write_varint49(tidx * tstride) }],\n            [{ type: 0, data: write_varint49(tidx) }]\n          ]) });\n        }\n      }\n      store[3][0].data = write_shallow(tilestore);\n      store[9][0].data = write_shallow(rbtree);\n      store[10] = [{ type: 2, data: new Uint8Array([]) }];\n      if (ws[\"!merges\"]) {\n        var mergeid = get_unique_msgid({\n          type: 6144,\n          deps: [tmaref],\n          location: deps[tmaref].location\n        }, deps);\n        tmafile.push({\n          id: mergeid,\n          messages: [write_iwam(6144, write_shallow([\n            [],\n            ws[\"!merges\"].map(function(m) {\n              return { type: 2, data: write_shallow([\n                [],\n                [{ type: 2, data: write_shallow([\n                  [],\n                  [{ type: 5, data: new Uint8Array(new Uint16Array([m.s.r, m.s.c]).buffer) }]\n                ]) }],\n                [{ type: 2, data: write_shallow([\n                  [],\n                  [{ type: 5, data: new Uint8Array(new Uint16Array([m.e.r - m.s.r + 1, m.e.c - m.s.c + 1]).buffer) }]\n                ]) }]\n              ]) };\n            })\n          ]))]\n        });\n        store[13] = [{ type: 2, data: write_TSP_Reference(mergeid) }];\n        numbers_iwa_doit(cfb, deps, 2, function(ai) {\n          var mlist = parse_shallow(ai.messages[0].data);\n          numbers_meta_add_dep(mlist, deps, tmaref, mergeid);\n          ai.messages[0].data = write_shallow(mlist);\n        });\n        numbers_add_oref(tmaroot, mergeid);\n      } else\n        delete store[13];\n      var sstref = parse_TSP_Reference(store[4][0].data);\n      numbers_iwa_doit(cfb, deps, sstref, function(sstroot) {\n        var sstdata = parse_shallow(sstroot.messages[0].data);\n        {\n          sstdata[3] = [];\n          LUT.sst.forEach(function(str, i) {\n            if (i == 0)\n              return;\n            sstdata[3].push({ type: 2, data: write_shallow([\n              [],\n              [{ type: 0, data: write_varint49(i) }],\n              [{ type: 0, data: write_varint49(1) }],\n              [{ type: 2, data: stru8(str) }]\n            ]) });\n          });\n        }\n        sstroot.messages[0].data = write_shallow(sstdata);\n      });\n      var rsstref = parse_TSP_Reference(store[17][0].data);\n      numbers_iwa_doit(cfb, deps, rsstref, function(rsstroot) {\n        var rsstdata = parse_shallow(rsstroot.messages[0].data);\n        rsstdata[3] = [];\n        var style_indices = [\n          904980,\n          903835,\n          903815,\n          903845\n        ];\n        LUT.rsst.forEach(function(rsst, i) {\n          if (i == 0)\n            return;\n          var tswpsa = [\n            [],\n            [{ type: 0, data: new Uint8Array([5]) }],\n            [],\n            [{ type: 2, data: stru8(rsst.v) }]\n          ];\n          tswpsa[10] = [{ type: 0, data: new Uint8Array([1]) }];\n          tswpsa[19] = [{ type: 2, data: new Uint8Array([10, 6, 8, 0, 18, 2, 101, 110]) }];\n          tswpsa[5] = [{ type: 2, data: new Uint8Array([10, 8, 8, 0, 18, 4, 8, 155, 149, 55]) }];\n          tswpsa[2] = [{ type: 2, data: new Uint8Array([8, 148, 158, 55]) }];\n          tswpsa[6] = [{ type: 2, data: new Uint8Array([10, 6, 8, 0, 16, 0, 24, 0]) }];\n          tswpsa[7] = [{ type: 2, data: new Uint8Array([10, 8, 8, 0, 18, 4, 8, 135, 149, 55]) }];\n          tswpsa[8] = [{ type: 2, data: new Uint8Array([10, 8, 8, 0, 18, 4, 8, 165, 149, 55]) }];\n          tswpsa[14] = [{ type: 2, data: new Uint8Array([10, 6, 8, 0, 16, 0, 24, 0]) }];\n          tswpsa[24] = [{ type: 2, data: new Uint8Array([10, 6, 8, 0, 16, 0, 24, 0]) }];\n          var tswpsaid = get_unique_msgid({ deps: [], location: \"\", type: 2001 }, deps);\n          var tswpsarefs = [];\n          if (rsst.l) {\n            var newhlinkid = numbers_add_msg(cfb, 2032, [\n              [],\n              [],\n              [{ type: 2, data: stru8(rsst.l) }]\n            ], \"/Index/Tables/DataList\", deps);\n            tswpsa[11] = [];\n            var smartfield = [[], []];\n            if (!smartfield[1])\n              smartfield[1] = [];\n            smartfield[1].push({ type: 2, data: write_shallow([\n              [],\n              [{ type: 0, data: write_varint49(0) }],\n              [{ type: 2, data: write_TSP_Reference(newhlinkid) }]\n            ]) });\n            tswpsa[11][0] = { type: 2, data: write_shallow(smartfield) };\n            tswpsarefs.push(newhlinkid);\n          }\n          numbers_add_msg(cfb, 2001, tswpsa, \"/Index/Tables/DataList\", deps, tswpsaid);\n          numbers_iwa_doit(cfb, deps, tswpsaid, function(iwa) {\n            style_indices.forEach(function(ref) {\n              return numbers_add_oref(iwa, ref);\n            });\n            tswpsarefs.forEach(function(ref) {\n              return numbers_add_oref(iwa, ref);\n            });\n          });\n          var rtpaid = numbers_add_msg(cfb, 6218, [\n            [],\n            [{ type: 2, data: write_TSP_Reference(tswpsaid) }],\n            [],\n            [{ type: 2, data: new Uint8Array([13, 255, 255, 255, 0, 18, 10, 16, 255, 255, 1, 24, 255, 255, 255, 255, 7]) }]\n          ], \"/Index/Tables/DataList\", deps);\n          numbers_iwa_doit(cfb, deps, rtpaid, function(iwa) {\n            return numbers_add_oref(iwa, tswpsaid);\n          });\n          rsstdata[3].push({ type: 2, data: write_shallow([\n            [],\n            [{ type: 0, data: write_varint49(i) }],\n            [{ type: 0, data: write_varint49(1) }],\n            [],\n            [],\n            [],\n            [],\n            [],\n            [],\n            [{ type: 2, data: write_TSP_Reference(rtpaid) }]\n          ]) });\n          numbers_add_oref(rsstroot, rtpaid);\n          numbers_iwa_doit(cfb, deps, 2, function(ai) {\n            var mlist = parse_shallow(ai.messages[0].data);\n            numbers_meta_add_dep(mlist, deps, rsstref, rtpaid);\n            numbers_meta_add_dep(mlist, deps, rtpaid, tswpsaid);\n            numbers_meta_add_dep(mlist, deps, tswpsaid, tswpsarefs);\n            numbers_meta_add_dep(mlist, deps, tswpsaid, style_indices);\n            ai.messages[0].data = write_shallow(mlist);\n          });\n        });\n        rsstroot.messages[0].data = write_shallow(rsstdata);\n      });\n      if (LUT.cmnt.length > 1) {\n        var cmntref = parse_TSP_Reference(store[19][0].data);\n        var authors = {}, iauthor = 0;\n        numbers_iwa_doit(cfb, deps, cmntref, function(cmntroot) {\n          var cmntdata = parse_shallow(cmntroot.messages[0].data);\n          {\n            cmntdata[3] = [];\n            LUT.cmnt.forEach(function(cc, i) {\n              if (i == 0)\n                return;\n              var replies = [];\n              if (cc.replies)\n                cc.replies.forEach(function(c) {\n                  if (!authors[c.a || \"\"])\n                    authors[c.a || \"\"] = numbers_add_msg(cfb, 212, [\n                      [],\n                      [{ type: 2, data: stru8(c.a || \"\") }],\n                      [{ type: 2, data: get_author_color(++iauthor) }],\n                      [],\n                      [{ type: 0, data: write_varint49(0) }]\n                    ], \"/Index/Tables/DataList\", deps);\n                  var aaaid2 = authors[c.a || \"\"];\n                  var csaid2 = numbers_add_msg(cfb, 3056, [\n                    [],\n                    [{ type: 2, data: stru8(c.t || \"\") }],\n                    [{ type: 2, data: write_shallow([\n                      [],\n                      [{ type: 1, data: new Uint8Array([0, 0, 0, 128, 116, 109, 182, 65]) }]\n                    ]) }],\n                    [{ type: 2, data: write_TSP_Reference(aaaid2) }]\n                  ], \"/Index/Tables/DataList\", deps);\n                  numbers_iwa_doit(cfb, deps, csaid2, function(iwa) {\n                    return numbers_add_oref(iwa, aaaid2);\n                  });\n                  replies.push(csaid2);\n                  numbers_iwa_doit(cfb, deps, 2, function(ai) {\n                    var mlist = parse_shallow(ai.messages[0].data);\n                    numbers_meta_add_dep(mlist, deps, csaid2, aaaid2);\n                    ai.messages[0].data = write_shallow(mlist);\n                  });\n                });\n              if (!authors[cc.a || \"\"])\n                authors[cc.a || \"\"] = numbers_add_msg(cfb, 212, [\n                  [],\n                  [{ type: 2, data: stru8(cc.a || \"\") }],\n                  [{ type: 2, data: get_author_color(++iauthor) }],\n                  [],\n                  [{ type: 0, data: write_varint49(0) }]\n                ], \"/Index/Tables/DataList\", deps);\n              var aaaid = authors[cc.a || \"\"];\n              var csaid = numbers_add_msg(cfb, 3056, [\n                [],\n                [{ type: 2, data: stru8(cc.t || \"\") }],\n                [{ type: 2, data: write_shallow([\n                  [],\n                  [{ type: 1, data: new Uint8Array([0, 0, 0, 128, 116, 109, 182, 65]) }]\n                ]) }],\n                [{ type: 2, data: write_TSP_Reference(aaaid) }],\n                replies.map(function(r) {\n                  return { type: 2, data: write_TSP_Reference(r) };\n                }),\n                [{ type: 2, data: write_shallow([\n                  [],\n                  [{ type: 0, data: write_varint49(i) }],\n                  [{ type: 0, data: write_varint49(0) }]\n                ]) }]\n              ], \"/Index/Tables/DataList\", deps);\n              numbers_iwa_doit(cfb, deps, csaid, function(iwa) {\n                numbers_add_oref(iwa, aaaid);\n                replies.forEach(function(r) {\n                  return numbers_add_oref(iwa, r);\n                });\n              });\n              cmntdata[3].push({ type: 2, data: write_shallow([\n                [],\n                [{ type: 0, data: write_varint49(i) }],\n                [{ type: 0, data: write_varint49(1) }],\n                [],\n                [],\n                [],\n                [],\n                [],\n                [],\n                [],\n                [{ type: 2, data: write_TSP_Reference(csaid) }]\n              ]) });\n              numbers_add_oref(cmntroot, csaid);\n              numbers_iwa_doit(cfb, deps, 2, function(ai) {\n                var mlist = parse_shallow(ai.messages[0].data);\n                numbers_meta_add_dep(mlist, deps, cmntref, csaid);\n                numbers_meta_add_dep(mlist, deps, csaid, aaaid);\n                if (replies.length)\n                  numbers_meta_add_dep(mlist, deps, csaid, replies);\n                ai.messages[0].data = write_shallow(mlist);\n              });\n            });\n          }\n          cmntdata[2][0].data = write_varint49(LUT.cmnt.length + 1);\n          cmntroot.messages[0].data = write_shallow(cmntdata);\n        });\n      }\n    }\n    pb[4][0].data = write_shallow(store);\n  }\n  tmaroot.messages[0].data = write_shallow(pb);\n}\nfunction fix_opts_func(defaults/*:Array<Array<any> >*/)/*:{(o:any):void}*/ {\n\treturn function fix_opts(opts) {\n\t\tfor(var i = 0; i != defaults.length; ++i) {\n\t\t\tvar d = defaults[i];\n\t\t\tif(opts[d[0]] === undefined) opts[d[0]] = d[1];\n\t\t\tif(d[2] === 'n') opts[d[0]] = Number(opts[d[0]]);\n\t\t}\n\t};\n}\n\nfunction fix_read_opts(opts) {\nfix_opts_func([\n\t['cellNF', false], /* emit cell number format string as .z */\n\t['cellHTML', true], /* emit html string as .h */\n\t['cellFormula', true], /* emit formulae as .f */\n\t['cellStyles', false], /* emits style/theme as .s */\n\t['cellText', true], /* emit formatted text as .w */\n\t['cellDates', false], /* emit date cells with type `d` */\n\n\t['sheetStubs', false], /* emit empty cells */\n\t['sheetRows', 0, 'n'], /* read n rows (0 = read all rows) */\n\n\t['bookDeps', false], /* parse calculation chains */\n\t['bookSheets', false], /* only try to get sheet names (no Sheets) */\n\t['bookProps', false], /* only try to get properties (no Sheets) */\n\t['bookFiles', false], /* include raw file structure (keys, files, cfb) */\n\t['bookVBA', false], /* include vba raw data (vbaraw) */\n\n\t['password',''], /* password */\n\t['WTF', false] /* WTF mode (throws errors) */\n])(opts);\n}\n\nfunction fix_write_opts(opts) {\nfix_opts_func([\n\t['cellDates', false], /* write date cells with type `d` */\n\n\t['bookSST', false], /* Generate Shared String Table */\n\n\t['bookType', 'xlsx'], /* Type of workbook (xlsx/m/b) */\n\n\t['compression', false], /* Use file compression */\n\n\t['WTF', false] /* WTF mode (throws errors) */\n])(opts);\n}\nfunction get_sheet_type(n/*:string*/)/*:string*/ {\n\tif(RELS.WS.indexOf(n) > -1) return \"sheet\";\n\tif(RELS.CS && n == RELS.CS) return \"chart\";\n\tif(RELS.DS && n == RELS.DS) return \"dialog\";\n\tif(RELS.MS && n == RELS.MS) return \"macro\";\n\treturn (n && n.length) ? n : \"sheet\";\n}\nfunction safe_parse_wbrels(wbrels, sheets) {\n\tif(!wbrels) return 0;\n\ttry {\n\t\twbrels = sheets.map(function pwbr(w) { if(!w.id) w.id = w.strRelID; return [w.name, wbrels['!id'][w.id].Target, get_sheet_type(wbrels['!id'][w.id].Type)]; });\n\t} catch(e) { return null; }\n\treturn !wbrels || wbrels.length === 0 ? null : wbrels;\n}\n\nfunction parse_sheet_legacy_drawing(sheet, type, zip, path, idx, opts, wb, comments) {\n\tif(!sheet || !sheet['!legdrawel']) return;\n\tvar dfile = resolve_path(sheet['!legdrawel'].Target, path);\n\tvar draw = getzipstr(zip, dfile, true);\n\tif(draw) parse_vml(utf8read(draw), sheet, comments||[]);\n}\n\nfunction safe_parse_sheet(zip, path/*:string*/, relsPath/*:string*/, sheet, idx/*:number*/, sheetRels, sheets, stype/*:string*/, opts, wb, themes, styles) {\n\ttry {\n\t\tsheetRels[sheet]=parse_rels(getzipstr(zip, relsPath, true), path);\n\t\tvar data = getzipdata(zip, path);\n\t\tvar _ws;\n\t\tswitch(stype) {\n\t\t\tcase 'sheet':  _ws = parse_ws(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;\n\t\t\tcase 'chart':  _ws = parse_cs(data, path, idx, opts, sheetRels[sheet], wb, themes, styles);\n\t\t\t\tif(!_ws || !_ws['!drawel']) break;\n\t\t\t\tvar dfile = resolve_path(_ws['!drawel'].Target, path);\n\t\t\t\tvar drelsp = get_rels_path(dfile);\n\t\t\t\tvar draw = parse_drawing(getzipstr(zip, dfile, true), parse_rels(getzipstr(zip, drelsp, true), dfile));\n\t\t\t\tvar chartp = resolve_path(draw, dfile);\n\t\t\t\tvar crelsp = get_rels_path(chartp);\n\t\t\t\t_ws = parse_chart(getzipstr(zip, chartp, true), chartp, opts, parse_rels(getzipstr(zip, crelsp, true), chartp), wb, _ws);\n\t\t\t\tbreak;\n\t\t\tcase 'macro':  _ws = parse_ms(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;\n\t\t\tcase 'dialog': _ws = parse_ds(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;\n\t\t\tdefault: throw new Error(\"Unrecognized sheet type \" + stype);\n\t\t}\n\t\tsheets[sheet] = _ws;\n\n\t\t/* scan rels for comments and threaded comments */\n\t\tvar comments = [], tcomments = [];\n\t\tif(sheetRels && sheetRels[sheet]) keys(sheetRels[sheet]).forEach(function(n) {\n\t\t\tvar dfile = \"\";\n\t\t\tif(sheetRels[sheet][n].Type == RELS.CMNT) {\n\t\t\t\tdfile = resolve_path(sheetRels[sheet][n].Target, path);\n\t\t\t\tcomments = parse_cmnt(getzipdata(zip, dfile, true), dfile, opts);\n\t\t\t\tif(!comments || !comments.length) return;\n\t\t\t\tsheet_insert_comments(_ws, comments, false);\n\t\t\t}\n\t\t\tif(sheetRels[sheet][n].Type == RELS.TCMNT) {\n\t\t\t\tdfile = resolve_path(sheetRels[sheet][n].Target, path);\n\t\t\t\ttcomments = tcomments.concat(parse_tcmnt_xml(getzipdata(zip, dfile, true), opts));\n\t\t\t}\n\t\t});\n\t\tif(tcomments && tcomments.length) sheet_insert_comments(_ws, tcomments, true, opts.people || []);\n\t\tparse_sheet_legacy_drawing(_ws, stype, zip, path, idx, opts, wb, comments);\n\t} catch(e) { if(opts.WTF) throw e; }\n}\n\nfunction strip_front_slash(x/*:string*/)/*:string*/ { return x.charAt(0) == '/' ? x.slice(1) : x; }\n\nfunction parse_zip(zip/*:ZIP*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tmake_ssf();\n\topts = opts || {};\n\tfix_read_opts(opts);\n\n\t/* OpenDocument Part 3 Section 2.2.1 OpenDocument Package */\n\tif(safegetzipfile(zip, 'META-INF/manifest.xml')) return parse_ods(zip, opts);\n\t/* UOC */\n\tif(safegetzipfile(zip, 'objectdata.xml')) return parse_ods(zip, opts);\n\t/* Numbers */\n\tif(safegetzipfile(zip, 'Index/Document.iwa')) {\n\t\tif(typeof Uint8Array == \"undefined\") throw new Error('NUMBERS file parsing requires Uint8Array support');\n\t\tif(typeof parse_numbers_iwa != \"undefined\") {\n\t\t\tif(zip.FileIndex) return parse_numbers_iwa(zip, opts);\n\t\t\tvar _zip = CFB.utils.cfb_new();\n\t\t\tzipentries(zip).forEach(function(e) { zip_add_file(_zip, e, getzipbin(zip, e)); });\n\t\t\treturn parse_numbers_iwa(_zip, opts);\n\t\t}\n\t\tthrow new Error('Unsupported NUMBERS file');\n\t}\n\tif(!safegetzipfile(zip, '[Content_Types].xml')) {\n\t\tif(safegetzipfile(zip, 'index.xml.gz')) throw new Error('Unsupported NUMBERS 08 file');\n\t\tif(safegetzipfile(zip, 'index.xml')) throw new Error('Unsupported NUMBERS 09 file');\n\t\tvar index_zip = CFB.find(zip, 'Index.zip');\n\t\tif(index_zip) {\n\t\t\topts = dup(opts);\n\t\t\tdelete opts.type;\n\t\t\tif(typeof index_zip.content == \"string\") opts.type = \"binary\";\n\t\t\t// TODO: Bun buffer bug\n\t\t\tif(typeof Bun !== \"undefined\" && Buffer.isBuffer(index_zip.content)) return readSync(new Uint8Array(index_zip.content), opts);\n\t\t\treturn readSync(index_zip.content, opts);\n\t\t}\n\t\tthrow new Error('Unsupported ZIP file');\n\t}\n\n\tvar entries = zipentries(zip);\n\tvar dir = parse_ct((getzipstr(zip, '[Content_Types].xml')/*:?any*/));\n\tvar xlsb = false;\n\tvar sheets, binname;\n\tif(dir.workbooks.length === 0) {\n\t\tbinname = \"xl/workbook.xml\";\n\t\tif(getzipdata(zip,binname, true)) dir.workbooks.push(binname);\n\t}\n\tif(dir.workbooks.length === 0) {\n\t\tbinname = \"xl/workbook.bin\";\n\t\tif(!getzipdata(zip,binname,true)) throw new Error(\"Could not find workbook\");\n\t\tdir.workbooks.push(binname);\n\t\txlsb = true;\n\t}\n\tif(dir.workbooks[0].slice(-3) == \"bin\") xlsb = true;\n\n\tvar themes = ({}/*:any*/);\n\tvar styles = ({}/*:any*/);\n\tif(!opts.bookSheets && !opts.bookProps) {\n\t\tstrs = [];\n\t\tif(dir.sst) try { strs=parse_sst(getzipdata(zip, strip_front_slash(dir.sst)), dir.sst, opts); } catch(e) { if(opts.WTF) throw e; }\n\n\t\tif(opts.cellStyles && dir.themes.length) themes = parse_theme_xml(getzipstr(zip, dir.themes[0].replace(/^\\//,''), true)||\"\", opts);\n\n\t\tif(dir.style) styles = parse_sty(getzipdata(zip, strip_front_slash(dir.style)), dir.style, themes, opts);\n\t}\n\n\t/*var externbooks = */dir.links.map(function(link) {\n\t\ttry {\n\t\t\tvar rels = parse_rels(getzipstr(zip, get_rels_path(strip_front_slash(link))), link);\n\t\t\treturn parse_xlink(getzipdata(zip, strip_front_slash(link)), rels, link, opts);\n\t\t} catch(e) {}\n\t});\n\n\tvar wb = parse_wb(getzipdata(zip, strip_front_slash(dir.workbooks[0])), dir.workbooks[0], opts);\n\n\tvar props = {}, propdata = \"\";\n\n\tif(dir.coreprops.length) {\n\t\tpropdata = getzipdata(zip, strip_front_slash(dir.coreprops[0]), true);\n\t\tif(propdata) props = parse_core_props(propdata);\n\t\tif(dir.extprops.length !== 0) {\n\t\t\tpropdata = getzipdata(zip, strip_front_slash(dir.extprops[0]), true);\n\t\t\tif(propdata) parse_ext_props(propdata, props, opts);\n\t\t}\n\t}\n\n\tvar custprops = {};\n\tif(!opts.bookSheets || opts.bookProps) {\n\t\tif (dir.custprops.length !== 0) {\n\t\t\tpropdata = getzipstr(zip, strip_front_slash(dir.custprops[0]), true);\n\t\t\tif(propdata) custprops = parse_cust_props(propdata, opts);\n\t\t}\n\t}\n\n\tvar out = ({}/*:any*/);\n\tif(opts.bookSheets || opts.bookProps) {\n\t\tif(wb.Sheets) sheets = wb.Sheets.map(function pluck(x){ return x.name; });\n\t\telse if(props.Worksheets && props.SheetNames.length > 0) sheets=props.SheetNames;\n\t\tif(opts.bookProps) { out.Props = props; out.Custprops = custprops; }\n\t\tif(opts.bookSheets && typeof sheets !== 'undefined') out.SheetNames = sheets;\n\t\tif(opts.bookSheets ? out.SheetNames : opts.bookProps) return out;\n\t}\n\tsheets = {};\n\n\tvar deps = {};\n\tif(opts.bookDeps && dir.calcchain) deps=parse_cc(getzipdata(zip, strip_front_slash(dir.calcchain)),dir.calcchain,opts);\n\n\tvar i=0;\n\tvar sheetRels = ({}/*:any*/);\n\tvar path, relsPath;\n\n\t{\n\t\tvar wbsheets = wb.Sheets;\n\t\tprops.Worksheets = wbsheets.length;\n\t\tprops.SheetNames = [];\n\t\tfor(var j = 0; j != wbsheets.length; ++j) {\n\t\t\tprops.SheetNames[j] = wbsheets[j].name;\n\t\t}\n\t}\n\n\tvar wbext = xlsb ? \"bin\" : \"xml\";\n\tvar wbrelsi = dir.workbooks[0].lastIndexOf(\"/\");\n\tvar wbrelsfile = (dir.workbooks[0].slice(0, wbrelsi+1) + \"_rels/\" + dir.workbooks[0].slice(wbrelsi+1) + \".rels\").replace(/^\\//,\"\");\n\tif(!safegetzipfile(zip, wbrelsfile)) wbrelsfile = 'xl/_rels/workbook.' + wbext + '.rels';\n\tvar wbrels = parse_rels(getzipstr(zip, wbrelsfile, true), wbrelsfile.replace(/_rels.*/, \"s5s\"));\n\n\tif((dir.metadata || []).length >= 1) {\n\t\t/* TODO: MDX and other types of metadata */\n\t\topts.xlmeta = parse_xlmeta(getzipdata(zip, strip_front_slash(dir.metadata[0])),dir.metadata[0],opts);\n\t}\n\n\tif((dir.people || []).length >= 1) {\n\t\topts.people = parse_people_xml(getzipdata(zip, strip_front_slash(dir.people[0])),opts);\n\t}\n\n\tif(wbrels) wbrels = safe_parse_wbrels(wbrels, wb.Sheets);\n\n\t/* Numbers iOS hack */\n\tvar nmode = (getzipdata(zip,\"xl/worksheets/sheet.xml\",true))?1:0;\n\twsloop: for(i = 0; i != props.Worksheets; ++i) {\n\t\tvar stype = \"sheet\";\n\t\tif(wbrels && wbrels[i]) {\n\t\t\tpath = 'xl/' + (wbrels[i][1]).replace(/[\\/]?xl\\//, \"\");\n\t\t\tif(!safegetzipfile(zip, path)) path = wbrels[i][1];\n\t\t\tif(!safegetzipfile(zip, path)) path = wbrelsfile.replace(/_rels\\/[\\S\\s]*$/,\"\") + wbrels[i][1];\n\t\t\tstype = wbrels[i][2];\n\t\t} else {\n\t\t\tpath = 'xl/worksheets/sheet'+(i+1-nmode)+\".\" + wbext;\n\t\t\tpath = path.replace(/sheet0\\./,\"sheet.\");\n\t\t}\n\t\trelsPath = path.replace(/^(.*)(\\/)([^\\/]*)$/, \"$1/_rels/$3.rels\");\n\t\tif(opts && opts.sheets != null) switch(typeof opts.sheets) {\n\t\t\tcase \"number\": if(i != opts.sheets) continue wsloop; break;\n\t\t\tcase \"string\": if(props.SheetNames[i].toLowerCase() != opts.sheets.toLowerCase()) continue wsloop; break;\n\t\t\tdefault: if(Array.isArray && Array.isArray(opts.sheets)) {\n\t\t\t\tvar snjseen = false;\n\t\t\t\tfor(var snj = 0; snj != opts.sheets.length; ++snj) {\n\t\t\t\t\tif(typeof opts.sheets[snj] == \"number\" && opts.sheets[snj] == i) snjseen=1;\n\t\t\t\t\tif(typeof opts.sheets[snj] == \"string\" && opts.sheets[snj].toLowerCase() == props.SheetNames[i].toLowerCase()) snjseen = 1;\n\t\t\t\t}\n\t\t\t\tif(!snjseen) continue wsloop;\n\t\t\t}\n\t\t}\n\t\tsafe_parse_sheet(zip, path, relsPath, props.SheetNames[i], i, sheetRels, sheets, stype, opts, wb, themes, styles);\n\t}\n\n\tout = ({\n\t\tDirectory: dir,\n\t\tWorkbook: wb,\n\t\tProps: props,\n\t\tCustprops: custprops,\n\t\tDeps: deps,\n\t\tSheets: sheets,\n\t\tSheetNames: props.SheetNames,\n\t\tStrings: strs,\n\t\tStyles: styles,\n\t\tThemes: themes,\n\t\tSSF: dup(table_fmt)\n\t}/*:any*/);\n\tif(opts && opts.bookFiles) {\n\t\tif(zip.files) {\n\t\t\tout.keys = entries;\n\t\t\tout.files = zip.files;\n\t\t} else {\n\t\t\tout.keys = [];\n\t\t\tout.files = {};\n\t\t\tzip.FullPaths.forEach(function(p, idx) {\n\t\t\t\tp = p.replace(/^Root Entry[\\/]/, \"\");\n\t\t\t\tout.keys.push(p);\n\t\t\t\tout.files[p] = zip.FileIndex[idx];\n\t\t\t});\n\t\t}\n\t}\n\tif(opts && opts.bookVBA) {\n\t\tif(dir.vba.length > 0) out.vbaraw = getzipdata(zip,strip_front_slash(dir.vba[0]),true);\n\t\telse if(dir.defaults && dir.defaults.bin === CT_VBA) out.vbaraw = getzipdata(zip, 'xl/vbaProject.bin',true);\n\t}\n\t// TODO: pass back content types metadata for xlsm/xlsx resolution\n\tout.bookType = xlsb ? \"xlsb\" : \"xlsx\";\n\treturn out;\n}\n\n/* [MS-OFFCRYPTO] 2.1.1 */\nfunction parse_xlsxcfb(cfb, _opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar opts = _opts || {};\n\tvar f = 'Workbook', data = CFB.find(cfb, f);\n\ttry {\n\tf = '/!DataSpaces/Version';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\t/*var version = */parse_DataSpaceVersionInfo(data.content);\n\n\t/* 2.3.4.1 */\n\tf = '/!DataSpaces/DataSpaceMap';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\tvar dsm = parse_DataSpaceMap(data.content);\n\tif(dsm.length !== 1 || dsm[0].comps.length !== 1 || dsm[0].comps[0].t !== 0 || dsm[0].name !== \"StrongEncryptionDataSpace\" || dsm[0].comps[0].v !== \"EncryptedPackage\")\n\t\tthrow new Error(\"ECMA-376 Encrypted file bad \" + f);\n\n\t/* 2.3.4.2 */\n\tf = '/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\tvar seds = parse_DataSpaceDefinition(data.content);\n\tif(seds.length != 1 || seds[0] != \"StrongEncryptionTransform\")\n\t\tthrow new Error(\"ECMA-376 Encrypted file bad \" + f);\n\n\t/* 2.3.4.3 */\n\tf = '/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\t/*var hdr = */parse_Primary(data.content);\n\t} catch(e) {}\n\n\tf = '/EncryptionInfo';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\tvar einfo = parse_EncryptionInfo(data.content);\n\n\t/* 2.3.4.4 */\n\tf = '/EncryptedPackage';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\n/*global decrypt_agile */\n/*:: declare var decrypt_agile:any; */\n\tif(einfo[0] == 0x04 && typeof decrypt_agile !== 'undefined') return decrypt_agile(einfo[1], data.content, opts.password || \"\", opts);\n/*global decrypt_std76 */\n/*:: declare var decrypt_std76:any; */\n\tif(einfo[0] == 0x02 && typeof decrypt_std76 !== 'undefined') return decrypt_std76(einfo[1], data.content, opts.password || \"\", opts);\n\tthrow new Error(\"File is password-protected\");\n}\n\nfunction write_zip_xlsb(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:ZIP*/ {\n\tif(wb && !wb.SSF) {\n\t\twb.SSF = dup(table_fmt);\n\t}\n\tif(wb && wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t}\n\topts.rels = {}; opts.wbrels = {};\n\topts.Strings = /*::((*/[]/*:: :any):SST)*/; opts.Strings.Count = 0; opts.Strings.Unique = 0;\n\tif(browser_has_Map) opts.revStrings = new Map();\n\telse { opts.revStrings = {}; opts.revStrings.foo = []; delete opts.revStrings.foo; }\n\tvar wbext = \"bin\";\n\tvar vbafmt = true;\n\tvar ct = new_ct();\n\tfix_write_opts(opts = opts || {});\n\tvar zip = zip_new();\n\tvar f = \"\", rId = 0;\n\n\topts.cellXfs = [];\n\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\n\tif(!wb.Props) wb.Props = {};\n\n\tf = \"docProps/core.xml\";\n\tzip_add_file(zip, f, write_core_props(wb.Props, opts));\n\tct.coreprops.push(f);\n\tadd_rels(opts.rels, 2, f, RELS.CORE_PROPS);\n\n\t/*::if(!wb.Props) throw \"unreachable\"; */\n\tf = \"docProps/app.xml\";\n\tif(wb.Props && wb.Props.SheetNames){/* empty */}\n\telse if(!wb.Workbook || !wb.Workbook.Sheets) wb.Props.SheetNames = wb.SheetNames;\n\telse {\n\t\tvar _sn = [];\n\t\tfor(var _i = 0; _i < wb.SheetNames.length; ++_i)\n\t\t\tif((wb.Workbook.Sheets[_i]||{}).Hidden != 2) _sn.push(wb.SheetNames[_i]);\n\t\twb.Props.SheetNames = _sn;\n\t}\n\twb.Props.Worksheets = wb.Props.SheetNames.length;\n\tzip_add_file(zip, f, write_ext_props(wb.Props, opts));\n\tct.extprops.push(f);\n\tadd_rels(opts.rels, 3, f, RELS.EXT_PROPS);\n\n\tif(wb.Custprops !== wb.Props && keys(wb.Custprops||{}).length > 0) {\n\t\tf = \"docProps/custom.xml\";\n\t\tzip_add_file(zip, f, write_cust_props(wb.Custprops, opts));\n\t\tct.custprops.push(f);\n\t\tadd_rels(opts.rels, 4, f, RELS.CUST_PROPS);\n\t}\n\n\tvar people = [\"SheetJ5\"];\n\topts.tcid = 0;\n\n\tfor(rId=1;rId <= wb.SheetNames.length; ++rId) {\n\t\tvar wsrels = {'!id':{}};\n\t\tvar ws = wb.Sheets[wb.SheetNames[rId-1]];\n\t\tvar _type = (ws || {})[\"!type\"] || \"sheet\";\n\t\tswitch(_type) {\n\t\tcase \"chart\":\n\t\t\t/* falls through */\n\t\tdefault:\n\t\t\tf = \"xl/worksheets/sheet\" + rId + \".\" + wbext;\n\t\t\tzip_add_file(zip, f, write_ws_bin(rId-1, opts, wb, wsrels));\n\t\t\tct.sheets.push(f);\n\t\t\tadd_rels(opts.wbrels, -1, \"worksheets/sheet\" + rId + \".\" + wbext, RELS.WS[0]);\n\t\t}\n\n\t\tif(ws) {\n\t\t\tvar comments = ws['!comments'];\n\t\t\tvar need_vml = false;\n\t\t\tvar cf = \"\";\n\t\t\tif(comments && comments.length > 0) {\n\t\t\t\tvar needtc = false;\n\t\t\t\tcomments.forEach(function(carr) {\n\t\t\t\t\tcarr[1].forEach(function(c) { if(c.T == true) needtc = true; });\n\t\t\t\t});\n\t\t\t\tif(needtc) {\n\t\t\t\t\tcf = \"xl/threadedComments/threadedComment\" + rId + \".xml\";\n\t\t\t\t\tzip_add_file(zip, cf, write_tcmnt_xml(comments, people, opts));\n\t\t\t\t\tct.threadedcomments.push(cf);\n\t\t\t\t\tadd_rels(wsrels, -1, \"../threadedComments/threadedComment\" + rId + \".xml\", RELS.TCMNT);\n\t\t\t\t}\n\n\t\t\t\tcf = \"xl/comments\" + rId + \".\" + wbext;\n\t\t\t\tzip_add_file(zip, cf, write_comments_bin(comments, opts));\n\t\t\t\tct.comments.push(cf);\n\t\t\t\tadd_rels(wsrels, -1, \"../comments\" + rId + \".\" + wbext, RELS.CMNT);\n\t\t\t\tneed_vml = true;\n\t\t\t}\n\t\t\tif(ws['!legacy']) {\n\t\t\t\tif(need_vml) zip_add_file(zip, \"xl/drawings/vmlDrawing\" + (rId) + \".vml\", write_vml(rId, ws['!comments']));\n\t\t\t}\n\t\t\tdelete ws['!comments'];\n\t\t\tdelete ws['!legacy'];\n\t\t}\n\n\t\tif(wsrels['!id'].rId1) zip_add_file(zip, get_rels_path(f), write_rels(wsrels));\n\t}\n\n\tif(opts.Strings != null && opts.Strings.length > 0) {\n\t\tf = \"xl/sharedStrings.\" + wbext;\n\t\tzip_add_file(zip, f, write_sst_bin(opts.Strings, opts));\n\t\tct.strs.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"sharedStrings.\" + wbext, RELS.SST);\n\t}\n\n\tf = \"xl/workbook.\" + wbext;\n\tzip_add_file(zip, f, write_wb_bin(wb, opts));\n\tct.workbooks.push(f);\n\tadd_rels(opts.rels, 1, f, RELS.WB);\n\n\t/* TODO: something more intelligent with themes */\n\n\tf = \"xl/theme/theme1.xml\";\n\tvar ww = write_theme(wb.Themes, opts);\n\tzip_add_file(zip, f, ww);\n\tct.themes.push(f);\n\tadd_rels(opts.wbrels, -1, \"theme/theme1.xml\", RELS.THEME);\n\n\t/* TODO: something more intelligent with styles */\n\n\tf = \"xl/styles.\" + wbext;\n\tzip_add_file(zip, f, write_sty_bin(wb, opts));\n\tct.styles.push(f);\n\tadd_rels(opts.wbrels, -1, \"styles.\" + wbext, RELS.STY);\n\n\tif(wb.vbaraw && vbafmt) {\n\t\tf = \"xl/vbaProject.bin\";\n\t\tzip_add_file(zip, f, wb.vbaraw);\n\t\tct.vba.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"vbaProject.bin\", RELS.VBA);\n\t}\n\n\tf = \"xl/metadata.\" + wbext;\n\tzip_add_file(zip, f, write_xlmeta_bin());\n\tct.metadata.push(f);\n\tadd_rels(opts.wbrels, -1, \"metadata.\" + wbext, RELS.XLMETA);\n\n\tif(people.length > 1) {\n\t\tf = \"xl/persons/person.xml\";\n\t\tzip_add_file(zip, f, write_people_xml(people, opts));\n\t\tct.people.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"persons/person.xml\", RELS.PEOPLE);\n\t}\n\n\tzip_add_file(zip, \"[Content_Types].xml\", write_ct(ct, opts));\n\tzip_add_file(zip, '_rels/.rels', write_rels(opts.rels));\n\tzip_add_file(zip, 'xl/_rels/workbook.' + wbext + '.rels', write_rels(opts.wbrels));\n\n\tdelete opts.revssf; delete opts.ssf;\n\treturn zip;\n}\n\nfunction write_zip_xlsx(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:ZIP*/ {\n\tif(wb && !wb.SSF) {\n\t\twb.SSF = dup(table_fmt);\n\t}\n\tif(wb && wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t}\n\topts.rels = {}; opts.wbrels = {};\n\topts.Strings = /*::((*/[]/*:: :any):SST)*/; opts.Strings.Count = 0; opts.Strings.Unique = 0;\n\tif(browser_has_Map) opts.revStrings = new Map();\n\telse { opts.revStrings = {}; opts.revStrings.foo = []; delete opts.revStrings.foo; }\n\tvar wbext = \"xml\";\n\tvar vbafmt = VBAFMTS.indexOf(opts.bookType) > -1;\n\tvar ct = new_ct();\n\tfix_write_opts(opts = opts || {});\n\tvar zip = zip_new();\n\tvar f = \"\", rId = 0;\n\n\topts.cellXfs = [];\n\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\n\tif(!wb.Props) wb.Props = {};\n\n\tf = \"docProps/core.xml\";\n\tzip_add_file(zip, f, write_core_props(wb.Props, opts));\n\tct.coreprops.push(f);\n\tadd_rels(opts.rels, 2, f, RELS.CORE_PROPS);\n\n\t/*::if(!wb.Props) throw \"unreachable\"; */\n\tf = \"docProps/app.xml\";\n\tif(wb.Props && wb.Props.SheetNames){/* empty */}\n\telse if(!wb.Workbook || !wb.Workbook.Sheets) wb.Props.SheetNames = wb.SheetNames;\n\telse {\n\t\tvar _sn = [];\n\t\tfor(var _i = 0; _i < wb.SheetNames.length; ++_i)\n\t\t\tif((wb.Workbook.Sheets[_i]||{}).Hidden != 2) _sn.push(wb.SheetNames[_i]);\n\t\twb.Props.SheetNames = _sn;\n\t}\n\twb.Props.Worksheets = wb.Props.SheetNames.length;\n\tzip_add_file(zip, f, write_ext_props(wb.Props, opts));\n\tct.extprops.push(f);\n\tadd_rels(opts.rels, 3, f, RELS.EXT_PROPS);\n\n\tif(wb.Custprops !== wb.Props && keys(wb.Custprops||{}).length > 0) {\n\t\tf = \"docProps/custom.xml\";\n\t\tzip_add_file(zip, f, write_cust_props(wb.Custprops, opts));\n\t\tct.custprops.push(f);\n\t\tadd_rels(opts.rels, 4, f, RELS.CUST_PROPS);\n\t}\n\n\tvar people = [\"SheetJ5\"];\n\topts.tcid = 0;\n\n\tfor(rId=1;rId <= wb.SheetNames.length; ++rId) {\n\t\tvar wsrels = {'!id':{}};\n\t\tvar ws = wb.Sheets[wb.SheetNames[rId-1]];\n\t\tvar _type = (ws || {})[\"!type\"] || \"sheet\";\n\t\tswitch(_type) {\n\t\tcase \"chart\":\n\t\t\t/* falls through */\n\t\tdefault:\n\t\t\tf = \"xl/worksheets/sheet\" + rId + \".\" + wbext;\n\t\t\tzip_add_file(zip, f, write_ws_xml(rId-1, opts, wb, wsrels));\n\t\t\tct.sheets.push(f);\n\t\t\tadd_rels(opts.wbrels, -1, \"worksheets/sheet\" + rId + \".\" + wbext, RELS.WS[0]);\n\t\t}\n\n\t\tif(ws) {\n\t\t\tvar comments = ws['!comments'];\n\t\t\tvar need_vml = false;\n\t\t\tvar cf = \"\";\n\t\t\tif(comments && comments.length > 0) {\n\t\t\t\tvar needtc = false;\n\t\t\t\tcomments.forEach(function(carr) {\n\t\t\t\t\tcarr[1].forEach(function(c) { if(c.T == true) needtc = true; });\n\t\t\t\t});\n\t\t\t\tif(needtc) {\n\t\t\t\t\tcf = \"xl/threadedComments/threadedComment\" + rId + \".xml\";\n\t\t\t\t\tzip_add_file(zip, cf, write_tcmnt_xml(comments, people, opts));\n\t\t\t\t\tct.threadedcomments.push(cf);\n\t\t\t\t\tadd_rels(wsrels, -1, \"../threadedComments/threadedComment\" + rId + \".xml\", RELS.TCMNT);\n\t\t\t\t}\n\n\t\t\t\tcf = \"xl/comments\" + rId + \".\" + wbext;\n\t\t\t\tzip_add_file(zip, cf, write_comments_xml(comments, opts));\n\t\t\t\tct.comments.push(cf);\n\t\t\t\tadd_rels(wsrels, -1, \"../comments\" + rId + \".\" + wbext, RELS.CMNT);\n\t\t\t\tneed_vml = true;\n\t\t\t}\n\t\t\tif(ws['!legacy']) {\n\t\t\t\tif(need_vml) zip_add_file(zip, \"xl/drawings/vmlDrawing\" + (rId) + \".vml\", write_vml(rId, ws['!comments']));\n\t\t\t}\n\t\t\tdelete ws['!comments'];\n\t\t\tdelete ws['!legacy'];\n\t\t}\n\n\t\tif(wsrels['!id'].rId1) zip_add_file(zip, get_rels_path(f), write_rels(wsrels));\n\t}\n\n\tif(opts.Strings != null && opts.Strings.length > 0) {\n\t\tf = \"xl/sharedStrings.\" + wbext;\n\t\tzip_add_file(zip, f, write_sst_xml(opts.Strings, opts));\n\t\tct.strs.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"sharedStrings.\" + wbext, RELS.SST);\n\t}\n\n\tf = \"xl/workbook.\" + wbext;\n\tzip_add_file(zip, f, write_wb_xml(wb, opts));\n\tct.workbooks.push(f);\n\tadd_rels(opts.rels, 1, f, RELS.WB);\n\n\t/* TODO: something more intelligent with themes */\n\n\tf = \"xl/theme/theme1.xml\";\n\tzip_add_file(zip, f, write_theme(wb.Themes, opts));\n\tct.themes.push(f);\n\tadd_rels(opts.wbrels, -1, \"theme/theme1.xml\", RELS.THEME);\n\n\t/* TODO: something more intelligent with styles */\n\n\tf = \"xl/styles.\" + wbext;\n\tzip_add_file(zip, f, write_sty_xml(wb, opts));\n\tct.styles.push(f);\n\tadd_rels(opts.wbrels, -1, \"styles.\" + wbext, RELS.STY);\n\n\tif(wb.vbaraw && vbafmt) {\n\t\tf = \"xl/vbaProject.bin\";\n\t\tzip_add_file(zip, f, wb.vbaraw);\n\t\tct.vba.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"vbaProject.bin\", RELS.VBA);\n\t}\n\n\tf = \"xl/metadata.\" + wbext;\n\tzip_add_file(zip, f, write_xlmeta_xml());\n\tct.metadata.push(f);\n\tadd_rels(opts.wbrels, -1, \"metadata.\" + wbext, RELS.XLMETA);\n\n\tif(people.length > 1) {\n\t\tf = \"xl/persons/person.xml\";\n\t\tzip_add_file(zip, f, write_people_xml(people, opts));\n\t\tct.people.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"persons/person.xml\", RELS.PEOPLE);\n\t}\n\n\tzip_add_file(zip, \"[Content_Types].xml\", write_ct(ct, opts));\n\tzip_add_file(zip, '_rels/.rels', write_rels(opts.rels));\n\tzip_add_file(zip, 'xl/_rels/workbook.' + wbext + '.rels', write_rels(opts.wbrels));\n\n\tdelete opts.revssf; delete opts.ssf;\n\treturn zip;\n}\n\nfunction firstbyte(f/*:RawData*/,o/*:?TypeOpts*/)/*:Array<number>*/ {\n\tvar x = \"\";\n\tswitch((o||{}).type || \"base64\") {\n\t\tcase 'buffer': return [f[0], f[1], f[2], f[3], f[4], f[5], f[6], f[7]];\n\t\tcase 'base64': x = Base64_decode(f.slice(0,12)); break;\n\t\tcase 'binary': x = f; break;\n\t\tcase 'array':  return [f[0], f[1], f[2], f[3], f[4], f[5], f[6], f[7]];\n\t\tdefault: throw new Error(\"Unrecognized type \" + (o && o.type || \"undefined\"));\n\t}\n\treturn [x.charCodeAt(0), x.charCodeAt(1), x.charCodeAt(2), x.charCodeAt(3), x.charCodeAt(4), x.charCodeAt(5), x.charCodeAt(6), x.charCodeAt(7)];\n}\n\nfunction read_cfb(cfb/*:CFBContainer*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tif(CFB.find(cfb, \"EncryptedPackage\")) return parse_xlsxcfb(cfb, opts);\n\treturn parse_xlscfb(cfb, opts);\n}\n\nfunction read_zip(data/*:RawData*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar zip, d = data;\n\tvar o = opts||{};\n\tif(!o.type) o.type = (has_buf && Buffer.isBuffer(data)) ? \"buffer\" : \"base64\";\n\tzip = zip_read(d, o);\n\treturn parse_zip(zip, o);\n}\n\nfunction read_plaintext(data/*:string*/, o/*:ParseOpts*/)/*:Workbook*/ {\n\tvar i = 0;\n\tmain: while(i < data.length) switch(data.charCodeAt(i)) {\n\t\tcase 0x0A: case 0x0D: case 0x20: ++i; break;\n\t\tcase 0x3C: return parse_xlml(data.slice(i),o);\n\t\tdefault: break main;\n\t}\n\treturn PRN.to_workbook(data, o);\n}\n\nfunction read_plaintext_raw(data/*:RawData*/, o/*:ParseOpts*/)/*:Workbook*/ {\n\tvar str = \"\", bytes = firstbyte(data, o);\n\tswitch(o.type) {\n\t\tcase 'base64': str = Base64_decode(data); break;\n\t\tcase 'binary': str = data; break;\n\t\tcase 'buffer': str = data.toString('binary'); break;\n\t\tcase 'array': str = cc2str(data); break;\n\t\tdefault: throw new Error(\"Unrecognized type \" + o.type);\n\t}\n\tif(bytes[0] == 0xEF && bytes[1] == 0xBB && bytes[2] == 0xBF) str = utf8read(str);\n\to.type = \"binary\";\n\treturn read_plaintext(str, o);\n}\n\nfunction read_utf16(data/*:RawData*/, o/*:ParseOpts*/)/*:Workbook*/ {\n\tvar d = data;\n\tif(o.type == 'base64') d = Base64_decode(d);\n\tif(typeof ArrayBuffer !== \"undefined\" && data instanceof ArrayBuffer) d = new Uint8Array(data);\n\td = typeof $cptable !== \"undefined\" ? $cptable.utils.decode(1200, d.slice(2), 'str') : (\n\t\t(has_buf && Buffer.isBuffer(data)) ? data.slice(2).toString(\"utf16le\") :\n\t\t(typeof Uint8Array !== \"undefined\" && d instanceof Uint8Array) ? (\n\t\t\ttypeof TextDecoder !== \"undefined\" ? new TextDecoder(\"utf-16le\").decode(d.slice(2)) : utf16lereadu(d.slice(2))\n\t\t) : utf16leread(d.slice(2))\n\t);\n\to.type = \"binary\";\n\treturn read_plaintext(d, o);\n}\n\nfunction bstrify(data/*:string*/)/*:string*/ {\n\treturn !data.match(/[^\\x00-\\x7F]/) ? data : utf8write(data);\n}\n\nfunction read_prn(data, d, o, str) {\n\tif(str) { o.type = \"string\"; return PRN.to_workbook(data, o); }\n\treturn PRN.to_workbook(d, o);\n}\n\nfunction readSync(data/*:RawData*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\treset_cp();\n\tvar o = opts||{};\n\tif(o.codepage && typeof $cptable === \"undefined\") console.error(\"Codepage tables are not loaded.  Non-ASCII characters may not give expected results\");\n\tif(typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) return readSync(new Uint8Array(data), (o = dup(o), o.type = \"array\", o));\n\t/* Javet projects `byte[]` to `Int8Array` */\n\tif(typeof Int8Array !== 'undefined' && data instanceof Int8Array) return readSync(new Uint8Array(data.buffer, data.byteOffset, data.length), o);\n\tif(typeof Uint8Array !== 'undefined' && data instanceof Uint8Array && !o.type) o.type = typeof Deno !== \"undefined\" ? \"buffer\" : \"array\";\n\tvar d = data, n = [0,0,0,0], str = false;\n\tif(o.cellStyles) { o.cellNF = true; o.sheetStubs = true; }\n\t_ssfopts = {};\n\tif(o.dateNF) _ssfopts.dateNF = o.dateNF;\n\tif(!o.type) o.type = (has_buf && Buffer.isBuffer(data)) ? \"buffer\" : \"base64\";\n\tif(o.type == \"file\") { o.type = has_buf ? \"buffer\" : \"binary\"; d = read_binary(data); if(typeof Uint8Array !== 'undefined' && !has_buf) o.type = \"array\"; }\n\tif(o.type == \"string\") { str = true; o.type = \"binary\"; o.codepage = 65001; d = bstrify(data); }\n\tif(o.type == 'array' && typeof Uint8Array !== 'undefined' && data instanceof Uint8Array && typeof ArrayBuffer !== 'undefined') {\n\t\t// $FlowIgnore\n\t\tvar ab=new ArrayBuffer(3), vu=new Uint8Array(ab); vu.foo=\"bar\";\n\t\t// $FlowIgnore\n\t\tif(!vu.foo) {o=dup(o); o.type='array'; return readSync(ab2a(d), o);}\n\t}\n\tswitch((n = firstbyte(d, o))[0]) {\n\t\tcase 0xD0: if(n[1] === 0xCF && n[2] === 0x11 && n[3] === 0xE0 && n[4] === 0xA1 && n[5] === 0xB1 && n[6] === 0x1A && n[7] === 0xE1) return read_cfb(CFB.read(d, o), o); break;\n\t\tcase 0x09: if(n[1] <= 0x08) return parse_xlscfb(d, o); break;\n\t\tcase 0x3C: return parse_xlml(d, o);\n\t\tcase 0x49:\n\t\t\tif(n[1] === 0x49 && n[2] === 0x2a && n[3] === 0x00) throw new Error(\"TIFF Image File is not a spreadsheet\");\n\t\t\tif(n[1] === 0x44) return read_wb_ID(d, o);\n\t\t\tbreak;\n\t\tcase 0x54: if(n[1] === 0x41 && n[2] === 0x42 && n[3] === 0x4C) return DIF.to_workbook(d, o); break;\n\t\tcase 0x50: return (n[1] === 0x4B && n[2] < 0x09 && n[3] < 0x09) ? read_zip(d, o) : read_prn(data, d, o, str);\n\t\tcase 0xEF: return n[3] === 0x3C ? parse_xlml(d, o) : read_prn(data, d, o, str);\n\t\tcase 0xFF:\n\t\t\tif(n[1] === 0xFE) { return read_utf16(d, o); }\n\t\t\telse if(n[1] === 0x00 && n[2] === 0x02 && n[3] === 0x00) return WK_.to_workbook(d, o);\n\t\t\tbreak;\n\t\tcase 0x00:\n\t\t\tif(n[1] === 0x00) {\n\t\t\t\tif(n[2] >= 0x02 && n[3] === 0x00) return WK_.to_workbook(d, o);\n\t\t\t\tif(n[2] === 0x00 && (n[3] === 0x08 || n[3] === 0x09)) return WK_.to_workbook(d, o);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 0x03: case 0x83: case 0x8B: case 0x8C: return DBF.to_workbook(d, o);\n\t\tcase 0x7B: if(n[1] === 0x5C && n[2] === 0x72 && n[3] === 0x74) return rtf_to_workbook(d, o); break;\n\t\tcase 0x0A: case 0x0D: case 0x20: return read_plaintext_raw(d, o);\n\t\tcase 0x89: if(n[1] === 0x50 && n[2] === 0x4E && n[3] === 0x47) throw new Error(\"PNG Image File is not a spreadsheet\"); break;\n\t\tcase 0x08: if(n[1] === 0xE7) throw new Error(\"Unsupported Multiplan 1.x file!\"); break;\n\t\tcase 0x0C:\n\t\t\tif(n[1] === 0xEC) throw new Error(\"Unsupported Multiplan 2.x file!\");\n\t\t\tif(n[1] === 0xED) throw new Error(\"Unsupported Multiplan 3.x file!\");\n\t\t\tbreak;\n\t}\n\tif(DBF_SUPPORTED_VERSIONS.indexOf(n[0]) > -1 && n[2] <= 12 && n[3] <= 31) return DBF.to_workbook(d, o);\n\treturn read_prn(data, d, o, str);\n}\n\nfunction readFileSync(filename/*:string*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar o = opts||{}; o.type = 'file';\n\treturn readSync(filename, o);\n}\nfunction write_cfb_ctr(cfb/*:CFBContainer*/, o/*:WriteOpts*/)/*:any*/ {\n\tswitch(o.type) {\n\t\tcase \"base64\": case \"binary\": break;\n\t\tcase \"buffer\": case \"array\": o.type = \"\"; break;\n\t\tcase \"file\": return write_dl(o.file, CFB.write(cfb, {type:has_buf ? 'buffer' : \"\"}));\n\t\tcase \"string\": throw new Error(\"'string' output type invalid for '\" + o.bookType + \"' files\");\n\t\tdefault: throw new Error(\"Unrecognized type \" + o.type);\n\t}\n\treturn CFB.write(cfb, o);\n}\n\nfunction write_zip(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:ZIP*/ {\n\tswitch(opts.bookType) {\n\t\tcase \"ods\": return write_ods(wb, opts);\n\t\tcase \"numbers\": return write_numbers_iwa(wb, opts);\n\t\tcase \"xlsb\": return write_zip_xlsb(wb, opts);\n\t\tdefault: return write_zip_xlsx(wb, opts);\n\t}\n}\n\n/*:: declare var encrypt_agile:any; */\nfunction write_zip_type(wb/*:Workbook*/, opts/*:?WriteOpts*/)/*:any*/ {\n\tvar o = dup(opts||{});\n\tvar z = write_zip(wb, o);\n\treturn write_zip_denouement(z, o);\n}\nfunction write_zip_typeXLSX(wb/*:Workbook*/, opts/*:?WriteOpts*/)/*:any*/ {\n\tvar o = dup(opts||{});\n\tvar z = write_zip_xlsx(wb, o);\n\treturn write_zip_denouement(z, o);\n}\nfunction write_zip_denouement(z/*:any*/, o/*:?WriteOpts*/)/*:any*/ {\n\tvar oopts = {};\n\tvar ftype = has_buf ? \"nodebuffer\" : (typeof Uint8Array !== \"undefined\" ? \"array\" : \"string\");\n\tif(o.compression) oopts.compression = 'DEFLATE';\n\tif(o.password) oopts.type = ftype;\n\telse switch(o.type) {\n\t\tcase \"base64\": oopts.type = \"base64\"; break;\n\t\tcase \"binary\": oopts.type = \"string\"; break;\n\t\tcase \"string\": throw new Error(\"'string' output type invalid for '\" + o.bookType + \"' files\");\n\t\tcase \"buffer\":\n\t\tcase \"file\": oopts.type = ftype; break;\n\t\tdefault: throw new Error(\"Unrecognized type \" + o.type);\n\t}\n\tvar out = z.FullPaths ? CFB.write(z, {fileType:\"zip\", type: /*::(*/{\"nodebuffer\": \"buffer\", \"string\": \"binary\"}/*:: :any)*/[oopts.type] || oopts.type, compression: !!o.compression}) : z.generate(oopts);\n\tif(typeof Deno !== \"undefined\") {\n\t\tif(typeof out == \"string\") {\n\t\t\tif(o.type == \"binary\" || o.type == \"base64\") return out;\n\t\t\tout = new Uint8Array(s2ab(out));\n\t\t}\n\t}\n/*jshint -W083 */\n\tif(o.password && typeof encrypt_agile !== 'undefined') return write_cfb_ctr(encrypt_agile(out, o.password), o); // eslint-disable-line no-undef\n/*jshint +W083 */\n\tif(o.type === \"file\") return write_dl(o.file, out);\n\treturn o.type == \"string\" ? utf8read(/*::(*/out/*:: :any)*/) : out;\n}\n\nfunction write_cfb_type(wb/*:Workbook*/, opts/*:?WriteOpts*/)/*:any*/ {\n\tvar o = opts||{};\n\tvar cfb/*:CFBContainer*/ = write_xlscfb(wb, o);\n\treturn write_cfb_ctr(cfb, o);\n}\n\nfunction write_string_type(out/*:string*/, opts/*:WriteOpts*/, bom/*:?string*/)/*:any*/ {\n\tif(!bom) bom = \"\";\n\tvar o = bom + out;\n\tswitch(opts.type) {\n\t\tcase \"base64\": return Base64_encode(utf8write(o));\n\t\tcase \"binary\": return utf8write(o);\n\t\tcase \"string\": return out;\n\t\tcase \"file\": return write_dl(opts.file, o, 'utf8');\n\t\tcase \"buffer\": {\n\t\t\tif(has_buf) return Buffer_from(o, 'utf8');\n\t\t\telse if(typeof TextEncoder !== \"undefined\") return new TextEncoder().encode(o);\n\t\t\telse return write_string_type(o, {type:'binary'}).split(\"\").map(function(c) { return c.charCodeAt(0); });\n\t\t}\n\t}\n\tthrow new Error(\"Unrecognized type \" + opts.type);\n}\n\nfunction write_stxt_type(out/*:string*/, opts/*:WriteOpts*/)/*:any*/ {\n\tswitch(opts.type) {\n\t\tcase \"base64\": return Base64_encode_pass(out);\n\t\tcase \"binary\": return out;\n\t\tcase \"string\": return out; /* override in sheet_to_txt */\n\t\tcase \"file\": return write_dl(opts.file, out, 'binary');\n\t\tcase \"buffer\": {\n\t\t\tif(has_buf) return Buffer_from(out, 'binary');\n\t\t\telse return out.split(\"\").map(function(c) { return c.charCodeAt(0); });\n\t\t}\n\t}\n\tthrow new Error(\"Unrecognized type \" + opts.type);\n}\n\n/* TODO: test consistency */\nfunction write_binary_type(out, opts/*:WriteOpts*/)/*:any*/ {\n\tswitch(opts.type) {\n\t\tcase \"string\":\n\t\tcase \"base64\":\n\t\tcase \"binary\":\n\t\t\tvar bstr = \"\";\n\t\t\t// $FlowIgnore\n\t\t\tfor(var i = 0; i < out.length; ++i) bstr += String.fromCharCode(out[i]);\n\t\t\treturn opts.type == 'base64' ? Base64_encode(bstr) : opts.type == 'string' ? utf8read(bstr) : bstr;\n\t\tcase \"file\": return write_dl(opts.file, out);\n\t\tcase \"buffer\": return out;\n\t\tdefault: throw new Error(\"Unrecognized type \" + opts.type);\n\t}\n}\n\nfunction writeSyncXLSX(wb/*:Workbook*/, opts/*:?WriteOpts*/) {\n\treset_cp();\n\tcheck_wb(wb);\n\tvar o = dup(opts||{});\n\tif(o.cellStyles) { o.cellNF = true; o.sheetStubs = true; }\n\tif(o.type == \"array\") { o.type = \"binary\"; var out/*:string*/ = (writeSyncXLSX(wb, o)/*:any*/); o.type = \"array\"; return s2ab(out); }\n\treturn write_zip_typeXLSX(wb, o);\n}\n\nfunction writeSync(wb/*:Workbook*/, opts/*:?WriteOpts*/) {\n\treset_cp();\n\tcheck_wb(wb);\n\tvar o = dup(opts||{});\n\tif(o.cellStyles) { o.cellNF = true; o.sheetStubs = true; }\n\tif(o.type == \"array\") { o.type = \"binary\"; var out/*:string*/ = (writeSync(wb, o)/*:any*/); o.type = \"array\"; return s2ab(out); }\n\tvar idx = 0;\n\tif(o.sheet) {\n\t\tif(typeof o.sheet == \"number\") idx = o.sheet;\n\t\telse idx = wb.SheetNames.indexOf(o.sheet);\n\t\tif(!wb.SheetNames[idx]) throw new Error(\"Sheet not found: \" + o.sheet + \" : \" + (typeof o.sheet));\n\t}\n\tswitch(o.bookType || 'xlsb') {\n\t\tcase 'xml':\n\t\tcase 'xlml': return write_string_type(write_xlml(wb, o), o);\n\t\tcase 'slk':\n\t\tcase 'sylk': return write_string_type(SYLK.from_sheet(wb.Sheets[wb.SheetNames[idx]], o, wb), o);\n\t\tcase 'htm':\n\t\tcase 'html': return write_string_type(sheet_to_html(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'txt': return write_stxt_type(sheet_to_txt(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'csv': return write_string_type(sheet_to_csv(wb.Sheets[wb.SheetNames[idx]], o), o, \"\\ufeff\");\n\t\tcase 'dif': return write_string_type(DIF.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'dbf': return write_binary_type(DBF.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'prn': return write_string_type(PRN.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'rtf': return write_string_type(sheet_to_rtf(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'eth': return write_string_type(ETH.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'fods': return write_string_type(write_ods(wb, o), o);\n\t\tcase 'wk1': return write_binary_type(WK_.sheet_to_wk1(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'wk3': return write_binary_type(WK_.book_to_wk3(wb, o), o);\n\t\tcase 'biff2': if(!o.biff) o.biff = 2; /* falls through */\n\t\tcase 'biff3': if(!o.biff) o.biff = 3; /* falls through */\n\t\tcase 'biff4': if(!o.biff) o.biff = 4; return write_binary_type(write_biff_buf(wb, o), o);\n\t\tcase 'biff5': if(!o.biff) o.biff = 5; /* falls through */\n\t\tcase 'biff8':\n\t\tcase 'xla':\n\t\tcase 'xls': if(!o.biff) o.biff = 8; return write_cfb_type(wb, o);\n\t\tcase 'xlsx':\n\t\tcase 'xlsm':\n\t\tcase 'xlam':\n\t\tcase 'xlsb':\n\t\tcase 'numbers':\n\t\tcase 'ods': return write_zip_type(wb, o);\n\t\tdefault: throw new Error (\"Unrecognized bookType |\" + o.bookType + \"|\");\n\t}\n}\n\nfunction resolve_book_type(o/*:WriteFileOpts*/) {\n\tif(o.bookType) return;\n\tvar _BT = {\n\t\t\"xls\": \"biff8\",\n\t\t\"htm\": \"html\",\n\t\t\"slk\": \"sylk\",\n\t\t\"socialcalc\": \"eth\",\n\t\t\"Sh33tJS\": \"WTF\"\n\t};\n\tvar ext = o.file.slice(o.file.lastIndexOf(\".\")).toLowerCase();\n\tif(ext.match(/^\\.[a-z]+$/)) o.bookType = ext.slice(1);\n\to.bookType = _BT[o.bookType] || o.bookType;\n}\n\nfunction writeFileSync(wb/*:Workbook*/, filename/*:string*/, opts/*:?WriteFileOpts*/) {\n\tvar o = opts||{}; o.type = 'file';\n\to.file = filename;\n\tresolve_book_type(o);\n\treturn writeSync(wb, o);\n}\n\nfunction writeFileSyncXLSX(wb/*:Workbook*/, filename/*:string*/, opts/*:?WriteFileOpts*/) {\n\tvar o = opts||{}; o.type = 'file';\n\to.file = filename;\n\tresolve_book_type(o);\n\treturn writeSyncXLSX(wb, o);\n}\n\n\nfunction writeFileAsync(filename/*:string*/, wb/*:Workbook*/, opts/*:?WriteFileOpts*/, cb/*:?(e?:ErrnoError)=>void*/) {\n\tvar o = opts||{}; o.type = 'file';\n\to.file = filename;\n\tresolve_book_type(o);\n\to.type = 'buffer';\n\tvar _cb = cb; if(!(_cb instanceof Function)) _cb = (opts/*:any*/);\n\treturn _fs.writeFile(filename, writeSync(wb, o), _cb);\n}\n/*::\ntype MJRObject = {\n\trow: any;\n\tisempty: boolean;\n};\n*/\nfunction make_json_row(sheet/*:Worksheet*/, r/*:Range*/, R/*:number*/, cols/*:Array<string>*/, header/*:number*/, hdr/*:Array<any>*/, o/*:Sheet2JSONOpts*/)/*:MJRObject*/ {\n\tvar rr = encode_row(R);\n\tvar defval = o.defval, raw = o.raw || !Object.prototype.hasOwnProperty.call(o, \"raw\");\n\tvar isempty = true, dense = (sheet[\"!data\"] != null);\n\tvar row/*:any*/ = (header === 1) ? [] : {};\n\tif(header !== 1) {\n\t\tif(Object.defineProperty) try { Object.defineProperty(row, '__rowNum__', {value:R, enumerable:false}); } catch(e) { row.__rowNum__ = R; }\n\t\telse row.__rowNum__ = R;\n\t}\n\tif(!dense || sheet[\"!data\"][R]) for (var C = r.s.c; C <= r.e.c; ++C) {\n\t\tvar val = dense ? (sheet[\"!data\"][R]||[])[C] : sheet[cols[C] + rr];\n\t\tif(val == null || val.t === undefined) {\n\t\t\tif(defval === undefined) continue;\n\t\t\tif(hdr[C] != null) { row[hdr[C]] = defval; }\n\t\t\tcontinue;\n\t\t}\n\t\tvar v = val.v;\n\t\tswitch(val.t){\n\t\t\tcase 'z': if(v == null) break; continue;\n\t\t\tcase 'e': v = (v == 0 ? null : void 0); break;\n\t\t\tcase 's': case 'b':\n\t\t\tcase 'n': if(!val.z || !fmt_is_date(val.z)) break;\n\t\t\tv = numdate(v); // TODO: date1904 setting should also be stored in worksheet object\n\t\t\tif(typeof v == \"number\") break;\n\t\t\t/* falls through */\n\t\t\tcase 'd': if(!(o && (o.UTC||(o.raw === false)))) v = utc_to_local(new Date(v)); break;\n\t\t\tdefault: throw new Error('unrecognized type ' + val.t);\n\t\t}\n\t\tif(hdr[C] != null) {\n\t\t\tif(v == null) {\n\t\t\t\tif(val.t == \"e\" && v === null) row[hdr[C]] = null;\n\t\t\t\telse if(defval !== undefined) row[hdr[C]] = defval;\n\t\t\t\telse if(raw && v === null) row[hdr[C]] = null;\n\t\t\t\telse continue;\n\t\t\t} else {\n\t\t\t\trow[hdr[C]] = (val.t === 'n' && typeof o.rawNumbers === 'boolean' ? o.rawNumbers : raw) ? v : format_cell(val, v, o);\n\t\t\t}\n\t\t\tif(v != null) isempty = false;\n\t\t}\n\t}\n\treturn { row: row, isempty: isempty };\n}\n\n\nfunction sheet_to_json(sheet/*:Worksheet*/, opts/*:?Sheet2JSONOpts*/) {\n\tif(sheet == null || sheet[\"!ref\"] == null) return [];\n\tvar val = {t:'n',v:0}, header = 0, offset = 1, hdr/*:Array<any>*/ = [], v=0, vv=\"\";\n\tvar r = {s:{r:0,c:0},e:{r:0,c:0}};\n\tvar o = opts || {};\n\tvar range = o.range != null ? o.range : sheet[\"!ref\"];\n\tif(o.header === 1) header = 1;\n\telse if(o.header === \"A\") header = 2;\n\telse if(Array.isArray(o.header)) header = 3;\n\telse if(o.header == null) header = 0;\n\tswitch(typeof range) {\n\t\tcase 'string': r = safe_decode_range(range); break;\n\t\tcase 'number': r = safe_decode_range(sheet[\"!ref\"]); r.s.r = range; break;\n\t\tdefault: r = range;\n\t}\n\tif(header > 0) offset = 0;\n\tvar rr = encode_row(r.s.r);\n\tvar cols/*:Array<string>*/ = [];\n\tvar out/*:Array<any>*/ = [];\n\tvar outi = 0, counter = 0;\n\tvar dense = sheet[\"!data\"] != null;\n\tvar R = r.s.r, C = 0;\n\tvar header_cnt = {};\n\tif(dense && !sheet[\"!data\"][R]) sheet[\"!data\"][R] = [];\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\tif(((colinfo[C]||{}).hidden)) continue;\n\t\tcols[C] = encode_col(C);\n\t\tval = dense ? sheet[\"!data\"][R][C] : sheet[cols[C] + rr];\n\t\tswitch(header) {\n\t\t\tcase 1: hdr[C] = C - r.s.c; break;\n\t\t\tcase 2: hdr[C] = cols[C]; break;\n\t\t\tcase 3: hdr[C] = o.header[C - r.s.c]; break;\n\t\t\tdefault:\n\t\t\t\tif(val == null) val = {w: \"__EMPTY\", t: \"s\"};\n\t\t\t\tvv = v = format_cell(val, null, o);\n\t\t\t\tcounter = header_cnt[v] || 0;\n\t\t\t\tif(!counter) header_cnt[v] = 1;\n\t\t\t\telse {\n\t\t\t\t\tdo { vv = v + \"_\" + (counter++); } while(header_cnt[vv]); header_cnt[v] = counter;\n\t\t\t\t\theader_cnt[vv] = 1;\n\t\t\t\t}\n\t\t\t\thdr[C] = vv;\n\t\t}\n\t}\n\tfor (R = r.s.r + offset; R <= r.e.r; ++R) {\n\t\tif ((rowinfo[R]||{}).hidden) continue;\n\t\tvar row = make_json_row(sheet, r, R, cols, header, hdr, o);\n\t\tif((row.isempty === false) || (header === 1 ? o.blankrows !== false : !!o.blankrows)) out[outi++] = row.row;\n\t}\n\tout.length = outi;\n\treturn out;\n}\n\nvar qreg = /\"/g;\nfunction make_csv_row(sheet/*:Worksheet*/, r/*:Range*/, R/*:number*/, cols/*:Array<string>*/, fs/*:number*/, rs/*:number*/, FS/*:string*/, w/*:number*/, o/*:Sheet2CSVOpts*/)/*:?string*/ {\n\tvar isempty = true;\n\tvar row/*:Array<string>*/ = [], txt = \"\", rr = encode_row(R);\n\tvar dense = sheet[\"!data\"] != null;\n\tvar datarow = dense && sheet[\"!data\"][R] || [];\n\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\tif (!cols[C]) continue;\n\t\tvar val = dense ? datarow[C]: sheet[cols[C] + rr];\n\t\tif(val == null) txt = \"\";\n\t\telse if(val.v != null) {\n\t\t\tisempty = false;\n\t\t\ttxt = ''+(o.rawNumbers && val.t == \"n\" ? val.v : format_cell(val, null, o));\n\t\t\tfor(var i = 0, cc = 0; i !== txt.length; ++i) if((cc = txt.charCodeAt(i)) === fs || cc === rs || cc === 34 || o.forceQuotes) {txt = \"\\\"\" + txt.replace(qreg, '\"\"') + \"\\\"\"; break; }\n\t\t\tif(txt == \"ID\" && w == 0 && row.length == 0) txt = '\"ID\"';\n\t\t} else if(val.f != null && !val.F) {\n\t\t\tisempty = false;\n\t\t\ttxt = '=' + val.f; if(txt.indexOf(\",\") >= 0) txt = '\"' + txt.replace(qreg, '\"\"') + '\"';\n\t\t} else txt = \"\";\n\t\t/* NOTE: Excel CSV does not support array formulae */\n\t\trow.push(txt);\n\t}\n\tif(o.strip) while(row[row.length - 1] === \"\") --row.length;\n\tif(o.blankrows === false && isempty) return null;\n\treturn row.join(FS);\n}\n\nfunction sheet_to_csv(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/)/*:string*/ {\n\tvar out/*:Array<string>*/ = [];\n\tvar o = opts == null ? {} : opts;\n\tif(sheet == null || sheet[\"!ref\"] == null) return \"\";\n\tvar r = safe_decode_range(sheet[\"!ref\"]);\n\tvar FS = o.FS !== undefined ? o.FS : \",\", fs = FS.charCodeAt(0);\n\tvar RS = o.RS !== undefined ? o.RS : \"\\n\", rs = RS.charCodeAt(0);\n\tvar row = \"\", cols/*:Array<string>*/ = [];\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(var C = r.s.c; C <= r.e.c; ++C) if (!((colinfo[C]||{}).hidden)) cols[C] = encode_col(C);\n\tvar w = 0;\n\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\tif ((rowinfo[R]||{}).hidden) continue;\n\t\trow = make_csv_row(sheet, r, R, cols, fs, rs, FS, w, o);\n\t\tif(row == null) { continue; }\n\t\tif(row || (o.blankrows !== false)) out.push((w++ ? RS : \"\") + row);\n\t}\n\treturn out.join(\"\");\n}\n\nfunction sheet_to_txt(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/) {\n\tif(!opts) opts = {}; opts.FS = \"\\t\"; opts.RS = \"\\n\";\n\tvar s = sheet_to_csv(sheet, opts);\n\tif(typeof $cptable == 'undefined' || opts.type == 'string') return s;\n\tvar o = $cptable.utils.encode(1200, s, 'str');\n\treturn String.fromCharCode(255) + String.fromCharCode(254) + o;\n}\n\nfunction sheet_to_formulae(sheet/*:Worksheet*/, opts/*:?Sheet2FormulaOpts*/)/*:Array<string>*/ {\n\tvar y = \"\", x, val=\"\";\n\tif(sheet == null || sheet[\"!ref\"] == null) return [];\n\tvar r = safe_decode_range(sheet['!ref']), rr = \"\", cols/*:Array<string>*/ = [], C;\n\tvar cmds/*:Array<string>*/ = [];\n\tvar dense = sheet[\"!data\"] != null;\n\tfor(C = r.s.c; C <= r.e.c; ++C) cols[C] = encode_col(C);\n\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\trr = encode_row(R);\n\t\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\t\ty = cols[C] + rr;\n\t\t\tx = dense ? (sheet[\"!data\"][R]||[])[C] : sheet[y];\n\t\t\tval = \"\";\n\t\t\tif(x === undefined) continue;\n\t\t\telse if(x.F != null) {\n\t\t\t\ty = x.F;\n\t\t\t\tif(!x.f) continue;\n\t\t\t\tval = x.f;\n\t\t\t\tif(y.indexOf(\":\") == -1) y = y + \":\" + y;\n\t\t\t}\n\t\t\tif(x.f != null) val = x.f;\n\t\t\telse if(opts && opts.values === false) continue;\n\t\t\telse if(x.t == 'z') continue;\n\t\t\telse if(x.t == 'n' && x.v != null) val = \"\" + x.v;\n\t\t\telse if(x.t == 'b') val = x.v ? \"TRUE\" : \"FALSE\";\n\t\t\telse if(x.w !== undefined) val = \"'\" + x.w;\n\t\t\telse if(x.v === undefined) continue;\n\t\t\telse if(x.t == 's') val = \"'\" + x.v;\n\t\t\telse val = \"\"+x.v;\n\t\t\tcmds[cmds.length] = y + \"=\" + val;\n\t\t}\n\t}\n\treturn cmds;\n}\n\nfunction sheet_add_json(_ws/*:?Worksheet*/, js/*:Array<any>*/, opts)/*:Worksheet*/ {\n\tvar o = opts || {};\n\tvar dense = _ws ? (_ws[\"!data\"] != null) : o.dense;\n\tif(DENSE != null && dense == null) dense = DENSE;\n\tvar offset = +!o.skipHeader;\n\tvar ws/*:Worksheet*/ = _ws || ({});\n\tif(!_ws && dense) ws[\"!data\"] = [];\n\tvar _R = 0, _C = 0;\n\tif(ws && o.origin != null) {\n\t\tif(typeof o.origin == 'number') _R = o.origin;\n\t\telse {\n\t\t\tvar _origin/*:CellAddress*/ = typeof o.origin == \"string\" ? decode_cell(o.origin) : o.origin;\n\t\t\t_R = _origin.r; _C = _origin.c;\n\t\t}\n\t}\n\tvar range/*:Range*/ = ({s: {c:0, r:0}, e: {c:_C, r:_R + js.length - 1 + offset}}/*:any*/);\n\tif(ws['!ref']) {\n\t\tvar _range = safe_decode_range(ws['!ref']);\n\t\trange.e.c = Math.max(range.e.c, _range.e.c);\n\t\trange.e.r = Math.max(range.e.r, _range.e.r);\n\t\tif(_R == -1) { _R = _range.e.r + 1; range.e.r = _R + js.length - 1 + offset; }\n\t} else {\n\t\tif(_R == -1) { _R = 0; range.e.r = js.length - 1 + offset; }\n\t}\n\tvar hdr/*:Array<string>*/ = o.header || [], C = 0;\n\tvar ROW = [];\n\tjs.forEach(function (JS, R/*:number*/) {\n\t\tif(dense && !ws[\"!data\"][_R + R + offset]) ws[\"!data\"][_R + R + offset] = [];\n\t\tif(dense) ROW = ws[\"!data\"][_R + R + offset];\n\t\tkeys(JS).forEach(function(k) {\n\t\t\tif((C=hdr.indexOf(k)) == -1) hdr[C=hdr.length] = k;\n\t\t\tvar v = JS[k];\n\t\t\tvar t = 'z';\n\t\t\tvar z = \"\";\n\t\t\tvar ref = dense ? \"\" : (encode_col(_C + C) + encode_row(_R + R + offset));\n\t\t\tvar cell/*:Cell*/ = dense ? ROW[_C + C] : ws[ref];\n\t\t\tif(v && typeof v === 'object' && !(v instanceof Date)){\n\t\t\t\tif(dense) ROW[_C + C] = v;\n\t\t\t\telse ws[ref] = v;\n\t\t\t} else {\n\t\t\t\tif(typeof v == 'number') t = 'n';\n\t\t\t\telse if(typeof v == 'boolean') t = 'b';\n\t\t\t\telse if(typeof v == 'string') t = 's';\n\t\t\t\telse if(v instanceof Date) {\n\t\t\t\t\tt = 'd';\n\t\t\t\t\tif(!o.UTC) v = local_to_utc(v);\n\t\t\t\t\tif(!o.cellDates) { t = 'n'; v = datenum(v); }\n\t\t\t\t\tz = (cell != null && cell.z && fmt_is_date(cell.z)) ? cell.z : (o.dateNF || table_fmt[14]);\n\t\t\t\t}\n\t\t\t\telse if(v === null && o.nullError) { t = 'e'; v = 0; }\n\t\t\t\tif(!cell) {\n\t\t\t\t\tif(!dense) ws[ref] = cell = ({t:t, v:v}/*:any*/);\n\t\t\t\t\telse ROW[_C + C] = cell = ({t:t, v:v}/*:any*/);\n\t\t\t\t} else {\n\t\t\t\t\tcell.t = t; cell.v = v;\n\t\t\t\t\tdelete cell.w; delete cell.R;\n\t\t\t\t\tif(z) cell.z = z;\n\t\t\t\t}\n\t\t\t\tif(z) cell.z = z;\n\t\t\t}\n\t\t});\n\t});\n\trange.e.c = Math.max(range.e.c, _C + hdr.length - 1);\n\tvar __R = encode_row(_R);\n\tif(dense && !ws[\"!data\"][_R]) ws[\"!data\"][_R] = [];\n\tif(offset) for(C = 0; C < hdr.length; ++C) {\n\t\tif(dense) ws[\"!data\"][_R][C + _C] = {t:'s', v:hdr[C]};\n\t\telse ws[encode_col(C + _C) + __R] = {t:'s', v:hdr[C]};\n\t}\n\tws['!ref'] = encode_range(range);\n\treturn ws;\n}\nfunction json_to_sheet(js/*:Array<any>*/, opts)/*:Worksheet*/ { return sheet_add_json(null, js, opts); }\n\n/* get cell, creating a stub if necessary */\nfunction ws_get_cell_stub(ws/*:Worksheet*/, R, C/*:?number*/)/*:Cell*/ {\n\t/* A1 cell address */\n\tif(typeof R == \"string\") {\n\t\tif(ws[\"!data\"] != null) {\n\t\t\tvar RC = decode_cell(R);\n\t\t\tif(!ws[\"!data\"][RC.r]) ws[\"!data\"][RC.r] = [];\n\t\t\treturn ws[\"!data\"][RC.r][RC.c] || (ws[\"!data\"][RC.r][RC.c] = {t:'z'});\n\t\t}\n\t\treturn ws[R] || (ws[R] = {t:'z'});\n\t}\n\t/* cell address object */\n\tif(typeof R != \"number\") return ws_get_cell_stub(ws, encode_cell(R));\n\t/* R and C are 0-based indices */\n\treturn ws_get_cell_stub(ws, encode_col(C||0) + encode_row(R));\n}\n\n/* find sheet index for given name / validate index */\nfunction wb_sheet_idx(wb/*:Workbook*/, sh/*:number|string*/) {\n\tif(typeof sh == \"number\") {\n\t\tif(sh >= 0 && wb.SheetNames.length > sh) return sh;\n\t\tthrow new Error(\"Cannot find sheet # \" + sh);\n\t} else if(typeof sh == \"string\") {\n\t\tvar idx = wb.SheetNames.indexOf(sh);\n\t\tif(idx > -1) return idx;\n\t\tthrow new Error(\"Cannot find sheet name |\" + sh + \"|\");\n\t} else throw new Error(\"Cannot find sheet |\" + sh + \"|\");\n}\n\n/* simple blank or single-sheet workbook object */\nfunction book_new(ws/*:?Worksheet*/, wsname/*:?string*/)/*:Workbook*/ {\n\tvar wb = { SheetNames: [], Sheets: {} };\n\tif(ws) book_append_sheet(wb, ws, wsname || \"Sheet1\");\n\treturn wb;\n}\n\n/* add a worksheet to the end of a given workbook */\nfunction book_append_sheet(wb/*:Workbook*/, ws/*:Worksheet*/, name/*:?string*/, roll/*:?boolean*/)/*:string*/ {\n\tvar i = 1;\n\tif(!name) for(; i <= 0xFFFF; ++i, name = undefined) if(wb.SheetNames.indexOf(name = \"Sheet\" + i) == -1) break;\n\tif(!name || wb.SheetNames.length >= 0xFFFF) throw new Error(\"Too many worksheets\");\n\tif(roll && wb.SheetNames.indexOf(name) >= 0 && name.length < 32) {\n\t\tvar m = name.match(/\\d+$/); // at this point, name length is capped at 32\n\t\ti = m && +m[0] || 0;\n\t\tvar root = m && name.slice(0, m.index) || name;\n\t\tfor(++i; i <= 0xFFFF; ++i) if(wb.SheetNames.indexOf(name = root + i) == -1) break;\n\t}\n\tcheck_ws_name(name);\n\tif(wb.SheetNames.indexOf(name) >= 0) throw new Error(\"Worksheet with name |\" + name + \"| already exists!\");\n\n\twb.SheetNames.push(name);\n\twb.Sheets[name] = ws;\n\treturn name;\n}\n\n/* set sheet visibility (visible/hidden/very hidden) */\nfunction book_set_sheet_visibility(wb/*:Workbook*/, sh/*:number|string*/, vis/*:number*/) {\n\tif(!wb.Workbook) wb.Workbook = {};\n\tif(!wb.Workbook.Sheets) wb.Workbook.Sheets = [];\n\n\tvar idx = wb_sheet_idx(wb, sh);\n\t// $FlowIgnore\n\tif(!wb.Workbook.Sheets[idx]) wb.Workbook.Sheets[idx] = {};\n\n\tswitch(vis) {\n\t\tcase 0: case 1: case 2: break;\n\t\tdefault: throw new Error(\"Bad sheet visibility setting \" + vis);\n\t}\n\t// $FlowIgnore\n\twb.Workbook.Sheets[idx].Hidden = vis;\n}\n\n/* set number format */\nfunction cell_set_number_format(cell/*:Cell*/, fmt/*:string|number*/) {\n\tcell.z = fmt;\n\treturn cell;\n}\n\n/* set cell hyperlink */\nfunction cell_set_hyperlink(cell/*:Cell*/, target/*:string*/, tooltip/*:?string*/) {\n\tif(!target) {\n\t\tdelete cell.l;\n\t} else {\n\t\tcell.l = ({ Target: target }/*:Hyperlink*/);\n\t\tif(tooltip) cell.l.Tooltip = tooltip;\n\t}\n\treturn cell;\n}\nfunction cell_set_internal_link(cell/*:Cell*/, range/*:string*/, tooltip/*:?string*/) { return cell_set_hyperlink(cell, \"#\" + range, tooltip); }\n\n/* add to cell comments */\nfunction cell_add_comment(cell/*:Cell*/, text/*:string*/, author/*:?string*/) {\n\tif(!cell.c) cell.c = [];\n\tcell.c.push({t:text, a:author||\"SheetJS\"});\n}\n\n/* set array formula and flush related cells */\nfunction sheet_set_array_formula(ws/*:Worksheet*/, range, formula/*:string*/, dynamic/*:boolean*/) {\n\tvar rng = typeof range != \"string\" ? range : safe_decode_range(range);\n\tvar rngstr = typeof range == \"string\" ? range : encode_range(range);\n\tfor(var R = rng.s.r; R <= rng.e.r; ++R) for(var C = rng.s.c; C <= rng.e.c; ++C) {\n\t\tvar cell = ws_get_cell_stub(ws, R, C);\n\t\tcell.t = 'n';\n\t\tcell.F = rngstr;\n\t\tdelete cell.v;\n\t\tif(R == rng.s.r && C == rng.s.c) {\n\t\t\tcell.f = formula;\n\t\t\tif(dynamic) cell.D = true;\n\t\t}\n\t}\n\tvar wsr = decode_range(ws[\"!ref\"]);\n\tif(wsr.s.r > rng.s.r) wsr.s.r = rng.s.r;\n\tif(wsr.s.c > rng.s.c) wsr.s.c = rng.s.c;\n\tif(wsr.e.r < rng.e.r) wsr.e.r = rng.e.r;\n\tif(wsr.e.c < rng.e.c) wsr.e.c = rng.e.c;\n\tws[\"!ref\"] = encode_range(wsr);\n\treturn ws;\n}\n\nvar utils/*:any*/ = {\n\tencode_col: encode_col,\n\tencode_row: encode_row,\n\tencode_cell: encode_cell,\n\tencode_range: encode_range,\n\tdecode_col: decode_col,\n\tdecode_row: decode_row,\n\tsplit_cell: split_cell,\n\tdecode_cell: decode_cell,\n\tdecode_range: decode_range,\n\tformat_cell: format_cell,\n\tsheet_new: sheet_new,\n\tsheet_add_aoa: sheet_add_aoa,\n\tsheet_add_json: sheet_add_json,\n\tsheet_add_dom: sheet_add_dom,\n\taoa_to_sheet: aoa_to_sheet,\n\tjson_to_sheet: json_to_sheet,\n\ttable_to_sheet: parse_dom_table,\n\ttable_to_book: table_to_book,\n\tsheet_to_csv: sheet_to_csv,\n\tsheet_to_txt: sheet_to_txt,\n\tsheet_to_json: sheet_to_json,\n\tsheet_to_html: sheet_to_html,\n\tsheet_to_formulae: sheet_to_formulae,\n\tsheet_to_row_object_array: sheet_to_json,\n\tsheet_get_cell: ws_get_cell_stub,\n\tbook_new: book_new,\n\tbook_append_sheet: book_append_sheet,\n\tbook_set_sheet_visibility: book_set_sheet_visibility,\n\tcell_set_number_format: cell_set_number_format,\n\tcell_set_hyperlink: cell_set_hyperlink,\n\tcell_set_internal_link: cell_set_internal_link,\n\tcell_add_comment: cell_add_comment,\n\tsheet_set_array_formula: sheet_set_array_formula,\n\tconsts: {\n\t\tSHEET_VISIBLE: 0,\n\t\tSHEET_HIDDEN: 1,\n\t\tSHEET_VERY_HIDDEN: 2\n\t}\n};\n\nvar _Readable;\nfunction set_readable(R) { _Readable = R; }\n\nfunction write_csv_stream(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/) {\n\tvar stream = _Readable();\n\tvar o = opts == null ? {} : opts;\n\tif(sheet == null || sheet[\"!ref\"] == null) { stream.push(null); return stream; }\n\tvar r = safe_decode_range(sheet[\"!ref\"]);\n\tvar FS = o.FS !== undefined ? o.FS : \",\", fs = FS.charCodeAt(0);\n\tvar RS = o.RS !== undefined ? o.RS : \"\\n\", rs = RS.charCodeAt(0);\n\tvar row/*:?string*/ = \"\", cols/*:Array<string>*/ = [];\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<RowInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(var C = r.s.c; C <= r.e.c; ++C) if (!((colinfo[C]||{}).hidden)) cols[C] = encode_col(C);\n\tvar R = r.s.r;\n\tvar BOM = false, w = 0;\n\tstream._read = function() {\n\t\tif(!BOM) { BOM = true; return stream.push(\"\\uFEFF\"); }\n\t\twhile(R <= r.e.r) {\n\t\t\t++R;\n\t\t\tif ((rowinfo[R-1]||{}).hidden) continue;\n\t\t\trow = make_csv_row(sheet, r, R-1, cols, fs, rs, FS, w, o);\n\t\t\tif(row != null) {\n\t\t\t\tif(row || (o.blankrows !== false)) return stream.push((w++ ? RS : \"\") + row);\n\t\t\t}\n\t\t}\n\t\treturn stream.push(null);\n\t};\n\treturn stream;\n}\n\nfunction write_html_stream(ws/*:Worksheet*/, opts/*:?Sheet2HTMLOpts*/) {\n\tvar stream = _Readable();\n\n\tvar o = opts || {};\n\tvar header = o.header != null ? o.header : HTML_BEGIN;\n\tvar footer = o.footer != null ? o.footer : HTML_END;\n\tstream.push(header);\n\tvar r = decode_range(ws['!ref']);\n\tstream.push(make_html_preamble(ws, r, o));\n\tvar R = r.s.r;\n\tvar end = false;\n\tstream._read = function() {\n\t\tif(R > r.e.r) {\n\t\t\tif(!end) { end = true; stream.push(\"</table>\" + footer); }\n\t\t\treturn stream.push(null);\n\t\t}\n\t\twhile(R <= r.e.r) {\n\t\t\tstream.push(make_html_row(ws, r, R, o));\n\t\t\t++R;\n\t\t\tbreak;\n\t\t}\n\t};\n\treturn stream;\n}\n\nfunction write_json_stream(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/) {\n\tvar stream = _Readable({objectMode:true});\n\n\tif(sheet == null || sheet[\"!ref\"] == null) { stream.push(null); return stream; }\n\tvar val = {t:'n',v:0}, header = 0, offset = 1, hdr/*:Array<any>*/ = [], v=0, vv=\"\";\n\tvar r = {s:{r:0,c:0},e:{r:0,c:0}};\n\tvar o = opts || {};\n\tvar range = o.range != null ? o.range : sheet[\"!ref\"];\n\tif(o.header === 1) header = 1;\n\telse if(o.header === \"A\") header = 2;\n\telse if(Array.isArray(o.header)) header = 3;\n\tswitch(typeof range) {\n\t\tcase 'string': r = safe_decode_range(range); break;\n\t\tcase 'number': r = safe_decode_range(sheet[\"!ref\"]); r.s.r = range; break;\n\t\tdefault: r = range;\n\t}\n\tif(header > 0) offset = 0;\n\tvar rr = encode_row(r.s.r);\n\tvar cols/*:Array<string>*/ = [];\n\tvar counter = 0;\n\tvar dense = sheet[\"!data\"] != null;\n\tvar R = r.s.r, C = 0;\n\tvar header_cnt = {};\n\tif(dense && !sheet[\"!data\"][R]) sheet[\"!data\"][R] = [];\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<RowInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\tif(((colinfo[C]||{}).hidden)) continue;\n\t\tcols[C] = encode_col(C);\n\t\tval = dense ? sheet[\"!data\"][R][C] : sheet[cols[C] + rr];\n\t\tswitch(header) {\n\t\t\tcase 1: hdr[C] = C - r.s.c; break;\n\t\t\tcase 2: hdr[C] = cols[C]; break;\n\t\t\tcase 3: hdr[C] = o.header[C - r.s.c]; break;\n\t\t\tdefault:\n\t\t\t\tif(val == null) val = {w: \"__EMPTY\", t: \"s\"};\n\t\t\t\tvv = v = format_cell(val, null, o);\n\t\t\t\tcounter = header_cnt[v] || 0;\n\t\t\t\tif(!counter) header_cnt[v] = 1;\n\t\t\t\telse {\n\t\t\t\t\tdo { vv = v + \"_\" + (counter++); } while(header_cnt[vv]); header_cnt[v] = counter;\n\t\t\t\t\theader_cnt[vv] = 1;\n\t\t\t\t}\n\t\t\t\thdr[C] = vv;\n\t\t}\n\t}\n\tR = r.s.r + offset;\n\tstream._read = function() {\n\t\twhile(R <= r.e.r) {\n\t\t\tif ((rowinfo[R-1]||{}).hidden) continue;\n\t\t\tvar row = make_json_row(sheet, r, R, cols, header, hdr, o);\n\t\t\t++R;\n\t\t\tif((row.isempty === false) || (header === 1 ? o.blankrows !== false : !!o.blankrows)) {\n\t\t\t\tstream.push(row.row);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\treturn stream.push(null);\n\t};\n\treturn stream;\n}\n\nfunction write_xlml_stream(wb/*:Workbook*/, o/*:?Sheet2XLMLOpts*/) {\n\tvar stream = _Readable();\n\tvar opts = o == null ? {} : o;\n\tvar stride = +opts.stride || 10;\n\tif(!wb.SSF) wb.SSF = dup(table_fmt);\n\tif(wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t\topts.cellXfs = [];\n\t\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\t}\n\n\t/* do one pass to determine styles since they must be added before tables */\n\twb.SheetNames.forEach(function(n) {\n\t\tvar ws = wb.Sheets[n];\n\t\tif(!ws || !ws[\"!ref\"]) return;\n\t\tvar range = decode_range(ws[\"!ref\"]);\n\t\tvar dense = ws[\"!data\"] != null;\n\t\tvar ddata = dense ? ws[\"!data\"] : [];\n\t\tvar addr = {r:0,c:0};\n\t\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\t\taddr.r = R;\n\t\t\tif(dense && !ddata[R]) continue;\n\t\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t\taddr.c = C;\n\t\t\t\tvar cell = dense ? ddata[R][C] : ws[encode_col(C) + encode_row(R)];\n\t\t\t\tif(!cell) continue;\n\t\t\t\tif(cell.t == \"d\" && cell.z == null) { cell = dup(cell); cell.z = table_fmt[14]; }\n\t\t\t\tvoid get_cell_style(opts.cellXfs, cell, opts);\n\t\t\t}\n\t\t}\n\t});\n\tvar sty = write_sty_xlml(wb, opts);\n\n\tvar stage = 0, wsidx = 0, ws = wb.Sheets[wb.SheetNames[wsidx]], range = safe_decode_range(ws), R = -1, T = false;\n\n\tvar marr = [], mi = 0, dense = false, darr = [], addr = {r:0,c:0};\n\n\tstream._read = function() { switch(stage) {\n\t\t/* header */\n\t\tcase 0: {\n\t\t\tstage = 1;\n\t\t\tstream.push(XML_HEADER);\n\t\t\tstream.push(\"<Workbook\" + wxt_helper({\n\t\t\t\t'xmlns':      XLMLNS.ss,\n\t\t\t\t'xmlns:o':    XLMLNS.o,\n\t\t\t\t'xmlns:x':    XLMLNS.x,\n\t\t\t\t'xmlns:ss':   XLMLNS.ss,\n\t\t\t\t'xmlns:dt':   XLMLNS.dt,\n\t\t\t\t'xmlns:html': XLMLNS.html\n\t\t\t}) + \">\");\n\t\t} break;\n\n\t\t/* preamble */\n\t\tcase 1: {\n\t\t\tstage = 2;\n\t\t\tstream.push(write_props_xlml(wb, opts));\n\t\t\tstream.push(write_wb_xlml(wb, opts));\n\t\t} break;\n\n\t\t/* style and name tables */\n\t\tcase 2: {\n\t\t\tstage = 3;\n\t\t\tstream.push(sty);\n\t\t\tstream.push(write_names_xlml(wb, opts));\n\t\t} break;\n\n\t\t/* worksheet preamble */\n\t\tcase 3: {\n\t\t\tT = false;\n\t\t\tif(wsidx >= wb.SheetNames.length) { stage = -1; stream.push(\"\"); break; }\n\n\t\t\tstream.push(\"<Worksheet\" + wxt_helper({ \"ss:Name\": escapexml(wb.SheetNames[wsidx])}) + \">\");\n\n\t\t\tws = wb.Sheets[wb.SheetNames[wsidx]];\n\t\t\tif(!ws) { stream.push(\"</Worksheet>\"); return void ++wsidx; }\n\n\t\t\tvar names = write_ws_xlml_names(ws, opts, wsidx, wb);\n\t\t\tif(names.length) stream.push(\"<Names>\" + names + \"</Names>\");\n\n\t\t\tif(!ws[\"!ref\"]) return (stage = 5);\n\t\t\trange = safe_decode_range(ws[\"!ref\"]);\n\t\t\tR = range.s.r;\n\t\t\tstage = 4;\n\t\t} break;\n\n\t\t/* worksheet intramble */\n\t\tcase 4: {\n\t\t\tif(R < 0 || R > range.e.r) { if(T) stream.push(\"</Table>\"); return void (stage = 5); }\n\n\t\t\tif(R <= range.s.r) {\n\t\t\t\tif(ws['!cols']) ws['!cols'].forEach(function(n, i) {\n\t\t\t\t\tprocess_col(n);\n\t\t\t\t\tvar w = !!n.width;\n\t\t\t\t\tvar p = col_obj_w(i, n);\n\t\t\t\t\tvar k/*:any*/ = {\"ss:Index\":i+1};\n\t\t\t\t\tif(w) k['ss:Width'] = width2px(p.width);\n\t\t\t\t\tif(n.hidden) k['ss:Hidden']=\"1\";\n\t\t\t\t\tif(!T) { T = true; stream.push(\"<Table>\"); }\n\t\t\t\t\tstream.push(writextag(\"Column\",null,k));\n\t\t\t\t});\n\t\t\t\tdense = ws[\"!data\"] != null;\n\t\t\t\tif(dense) darr = ws[\"!data\"];\n\t\t\t\taddr.r = addr.c = 0;\n\t\t\t}\n\n\t\t\t/* process `stride` rows per invocation */\n\t\t\tfor(var cnt = 0; R <= range.e.r && cnt < stride; ++R, ++cnt) {\n\t\t\t\tvar row = [write_ws_xlml_row(R, (ws['!rows']||[])[R])];\n\t\t\t\taddr.r = R;\n\t\t\t\tif(!(dense && !darr[R])) for(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t\t\taddr.c = C;\n\t\t\t\t\tvar skip = false;\n\t\t\t\t\tfor(mi = 0; mi != marr.length; ++mi) {\n\t\t\t\t\t\tif(marr[mi].s.c > C) continue;\n\t\t\t\t\t\tif(marr[mi].s.r > R) continue;\n\t\t\t\t\t\tif(marr[mi].e.c < C) continue;\n\t\t\t\t\t\tif(marr[mi].e.r < R) continue;\n\t\t\t\t\t\tif(marr[mi].s.c != C || marr[mi].s.r != R) skip = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(skip) continue;\n\t\t\t\t\tvar ref = encode_col(C) + encode_row(R), cell = dense ? darr[R][C] : ws[ref];\n\t\t\t\t\trow.push(write_ws_xlml_cell(cell, ref, ws, opts, wsidx, wb, addr));\n\t\t\t\t}\n\t\t\t\trow.push(\"</Row>\");\n\t\t\t\tif(!T) { T = true; stream.push(\"<Table>\"); }\n\t\t\t\tstream.push(row.join(\"\"));\n\t\t\t}\n\t\t} break;\n\n\t\t/* worksheet postamble */\n\t\tcase 5: {\n\t\t\tstream.push(write_ws_xlml_wsopts(ws, opts, wsidx, wb));\n\t\t\tif(ws && ws[\"!autofilter\"]) stream.push('<AutoFilter x:Range=\"' + a1_to_rc(fix_range(ws[\"!autofilter\"].ref), {r:0,c:0}) + '\" xmlns=\"urn:schemas-microsoft-com:office:excel\"></AutoFilter>');\n\t\t\tstream.push(\"</Worksheet>\");\n\t\t\twsidx++; R = -1;\n\t\t\treturn void (stage = 3);\n\t\t}\n\n\t\t/* footer */\n\t\tcase -1: {\n\t\t\tstage = -2;\n\t\t\tstream.push(\"</Workbook>\");\n\t\t} break;\n\n\t\t/* exeunt */\n\t\tcase -2: stream.push(null); break;\n\t}};\n\treturn stream;\n}\n\nvar __stream = {\n\tto_json: write_json_stream,\n\tto_html: write_html_stream,\n\tto_csv: write_csv_stream,\n\tto_xlml: write_xlml_stream,\n\tset_readable: set_readable\n};\nconst version = XLSX.version;\n\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ({\n\tparse_xlscfb,\n\tparse_zip,\n\tread: readSync,\n\treadFile: readFileSync,\n\treadFileSync,\n\twrite: writeSync,\n\twriteFile: writeFileSync,\n\twriteFileSync,\n\twriteFileAsync,\n\twriteXLSX: writeSyncXLSX,\n\twriteFileXLSX: writeFileSyncXLSX,\n\tutils,\n\tset_fs,\n\tset_cptable,\n\tstream: __stream,\n\tSSF,\n\tCFB\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMveGxzeC94bHN4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMveGxzeC94bHN4Lm1qcz9kYmE3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISB4bHN4LmpzIChDKSAyMDEzLXByZXNlbnQgU2hlZXRKUyAtLSBodHRwOi8vc2hlZXRqcy5jb20gKi9cbi8qIHZpbTogc2V0IHRzPTI6ICovXG4vKmV4cG9ydGVkIFhMU1ggKi9cbi8qZ2xvYmFsIHByb2Nlc3M6ZmFsc2UsIEJ1ZmZlcjpmYWxzZSwgQXJyYXlCdWZmZXI6ZmFsc2UsIERhdGFWaWV3OmZhbHNlLCBEZW5vOmZhbHNlICovXG52YXIgWExTWCA9IHt9O1xuWExTWC52ZXJzaW9uID0gJzAuMjAuMyc7XG52YXIgY3VycmVudF9jb2RlcGFnZSA9IDEyMDAsIGN1cnJlbnRfYW5zaSA9IDEyNTI7XG4vKjo6IGRlY2xhcmUgdmFyIGNwdGFibGU6YW55OyAqL1xuLypnbG9iYWwgY3B0YWJsZTp0cnVlLCB3aW5kb3cgKi9cbnZhciAkY3B0YWJsZTtcblxudmFyIFZBTElEX0FOU0kgPSBbIDg3NCwgOTMyLCA5MzYsIDk0OSwgOTUwLCAxMjUwLCAxMjUxLCAxMjUyLCAxMjUzLCAxMjU0LCAxMjU1LCAxMjU2LCAxMjU3LCAxMjU4LCAxMDAwMCBdO1xuLyogRUNNQS0zNzYgUGFydCBJIDE4LjQuMSBjaGFyc2V0IHRvIGNvZGVwYWdlIG1hcHBpbmcgKi9cbnZhciBDUzJDUCA9ICh7XG5cdDA6ICAgIDEyNTIsIC8qIEFOU0kgKi9cblx0MTogICA2NTAwMSwgLyogREVGQVVMVCAqL1xuXHQyOiAgIDY1MDAxLCAvKiBTWU1CT0wgKi9cblx0Nzc6ICAxMDAwMCwgLyogTUFDICovXG5cdDEyODogICA5MzIsIC8qIFNISUZUSklTICovXG5cdDEyOTogICA5NDksIC8qIEhBTkdVTCAqL1xuXHQxMzA6ICAxMzYxLCAvKiBKT0hBQiAqL1xuXHQxMzQ6ICAgOTM2LCAvKiBHQjIzMTIgKi9cblx0MTM2OiAgIDk1MCwgLyogQ0hJTkVTRUJJRzUgKi9cblx0MTYxOiAgMTI1MywgLyogR1JFRUsgKi9cblx0MTYyOiAgMTI1NCwgLyogVFVSS0lTSCAqL1xuXHQxNjM6ICAxMjU4LCAvKiBWSUVUTkFNRVNFICovXG5cdDE3NzogIDEyNTUsIC8qIEhFQlJFVyAqL1xuXHQxNzg6ICAxMjU2LCAvKiBBUkFCSUMgKi9cblx0MTg2OiAgMTI1NywgLyogQkFMVElDICovXG5cdDIwNDogIDEyNTEsIC8qIFJVU1NJQU4gKi9cblx0MjIyOiAgIDg3NCwgLyogVEhBSSAqL1xuXHQyMzg6ICAxMjUwLCAvKiBFQVNURVVST1BFICovXG5cdDI1NTogIDEyNTIsIC8qIE9FTSAqL1xuXHQ2OTogICA2OTY5ICAvKiBNSVNDICovXG59Lyo6YW55Ki8pO1xuXG52YXIgc2V0X2Fuc2kgPSBmdW5jdGlvbihjcC8qOm51bWJlciovKSB7IGlmKFZBTElEX0FOU0kuaW5kZXhPZihjcCkgPT0gLTEpIHJldHVybjsgY3VycmVudF9hbnNpID0gQ1MyQ1BbMF0gPSBjcDsgfTtcbmZ1bmN0aW9uIHJlc2V0X2Fuc2koKSB7IHNldF9hbnNpKDEyNTIpOyB9XG5cbnZhciBzZXRfY3AgPSBmdW5jdGlvbihjcC8qOm51bWJlciovKSB7IGN1cnJlbnRfY29kZXBhZ2UgPSBjcDsgc2V0X2Fuc2koY3ApOyB9O1xuZnVuY3Rpb24gcmVzZXRfY3AoKSB7IHNldF9jcCgxMjAwKTsgcmVzZXRfYW5zaSgpOyB9XG5cbmZ1bmN0aW9uIGNoYXJfY29kZXMoZGF0YS8qOnN0cmluZyovKS8qOkFycmF5PG51bWJlcj4qLyB7IHZhciBvLyo6QXJyYXk8bnVtYmVyPiovID0gW107IGZvcih2YXIgaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyArK2kpIG9baV0gPSBkYXRhLmNoYXJDb2RlQXQoaSk7IHJldHVybiBvOyB9XG5cbmZ1bmN0aW9uIHV0ZjE2bGVyZWFkKGRhdGEvKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7XG5cdHZhciBvLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdGZvcih2YXIgaSA9IDA7IGkgPCAoZGF0YS5sZW5ndGg+PjEpOyArK2kpIG9baV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGEuY2hhckNvZGVBdCgyKmkpICsgKGRhdGEuY2hhckNvZGVBdCgyKmkrMSk8PDgpKTtcblx0cmV0dXJuIG8uam9pbihcIlwiKTtcbn1cbmZ1bmN0aW9uIHV0ZjE2bGVyZWFkdShkYXRhLyo6VWludDhBcnJheSovKS8qOnN0cmluZyovIHtcblx0dmFyIG8vKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IChkYXRhLmxlbmd0aD4+MSk7ICsraSkgb1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVsyKmldICsgKGRhdGFbMippKzFdPDw4KSk7XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiB1dGYxNmJlcmVhZChkYXRhLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgby8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgKGRhdGEubGVuZ3RoPj4xKTsgKytpKSBvW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhLmNoYXJDb2RlQXQoMippKzEpICsgKGRhdGEuY2hhckNvZGVBdCgyKmkpPDw4KSk7XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5cbnZhciBkZWJvbSA9IGZ1bmN0aW9uKGRhdGEvKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7XG5cdHZhciBjMSA9IGRhdGEuY2hhckNvZGVBdCgwKSwgYzIgPSBkYXRhLmNoYXJDb2RlQXQoMSk7XG5cdGlmKGMxID09IDB4RkYgJiYgYzIgPT0gMHhGRSkgcmV0dXJuIHV0ZjE2bGVyZWFkKGRhdGEuc2xpY2UoMikpO1xuXHRpZihjMSA9PSAweEZFICYmIGMyID09IDB4RkYpIHJldHVybiB1dGYxNmJlcmVhZChkYXRhLnNsaWNlKDIpKTtcblx0aWYoYzEgPT0gMHhGRUZGKSByZXR1cm4gZGF0YS5zbGljZSgxKTtcblx0cmV0dXJuIGRhdGE7XG59O1xuXG52YXIgX2dldGNoYXIgPSBmdW5jdGlvbiBfZ2MxKHgvKjpudW1iZXIqLykvKjpzdHJpbmcqLyB7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHgpOyB9O1xudmFyIF9nZXRhbnNpID0gZnVuY3Rpb24gX2dhMSh4Lyo6bnVtYmVyKi8pLyo6c3RyaW5nKi8geyByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh4KTsgfTtcblxuZnVuY3Rpb24gc2V0X2NwdGFibGUoY3B0YWJsZSkge1xuXHQkY3B0YWJsZSA9IGNwdGFibGU7XG5cdHNldF9jcCA9IGZ1bmN0aW9uKGNwLyo6bnVtYmVyKi8pIHsgY3VycmVudF9jb2RlcGFnZSA9IGNwOyBzZXRfYW5zaShjcCk7IH07XG5cdGRlYm9tID0gZnVuY3Rpb24oZGF0YS8qOnN0cmluZyovKSB7XG5cdFx0aWYoZGF0YS5jaGFyQ29kZUF0KDApID09PSAweEZGICYmIGRhdGEuY2hhckNvZGVBdCgxKSA9PT0gMHhGRSkgeyByZXR1cm4gJGNwdGFibGUudXRpbHMuZGVjb2RlKDEyMDAsIGNoYXJfY29kZXMoZGF0YS5zbGljZSgyKSkpOyB9XG5cdFx0cmV0dXJuIGRhdGE7XG5cdH07XG5cdF9nZXRjaGFyID0gZnVuY3Rpb24gX2djMih4Lyo6bnVtYmVyKi8pLyo6c3RyaW5nKi8ge1xuXHRcdGlmKGN1cnJlbnRfY29kZXBhZ2UgPT09IDEyMDApIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHgpO1xuXHRcdHJldHVybiAkY3B0YWJsZS51dGlscy5kZWNvZGUoY3VycmVudF9jb2RlcGFnZSwgW3gmMjU1LHg+PjhdKVswXTtcblx0fTtcblx0X2dldGFuc2kgPSBmdW5jdGlvbiBfZ2EyKHgvKjpudW1iZXIqLykvKjpzdHJpbmcqLyB7XG5cdFx0cmV0dXJuICRjcHRhYmxlLnV0aWxzLmRlY29kZShjdXJyZW50X2Fuc2ksIFt4XSlbMF07XG5cdH07XG5cdGNwZG9pdCgpO1xufVxudmFyIERFTlNFID0gbnVsbDtcbnZhciBESUZfWEwgPSB0cnVlO1xudmFyIEJhc2U2NF9tYXAgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7XG5mdW5jdGlvbiBCYXNlNjRfZW5jb2RlKGlucHV0KSB7XG4gIHZhciBvID0gXCJcIjtcbiAgdmFyIGMxID0gMCwgYzIgPSAwLCBjMyA9IDAsIGUxID0gMCwgZTIgPSAwLCBlMyA9IDAsIGU0ID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7ICkge1xuICAgIGMxID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgIGUxID0gYzEgPj4gMjtcbiAgICBjMiA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICBlMiA9IChjMSAmIDMpIDw8IDQgfCBjMiA+PiA0O1xuICAgIGMzID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgIGUzID0gKGMyICYgMTUpIDw8IDIgfCBjMyA+PiA2O1xuICAgIGU0ID0gYzMgJiA2MztcbiAgICBpZiAoaXNOYU4oYzIpKSB7XG4gICAgICBlMyA9IGU0ID0gNjQ7XG4gICAgfSBlbHNlIGlmIChpc05hTihjMykpIHtcbiAgICAgIGU0ID0gNjQ7XG4gICAgfVxuICAgIG8gKz0gQmFzZTY0X21hcC5jaGFyQXQoZTEpICsgQmFzZTY0X21hcC5jaGFyQXQoZTIpICsgQmFzZTY0X21hcC5jaGFyQXQoZTMpICsgQmFzZTY0X21hcC5jaGFyQXQoZTQpO1xuICB9XG4gIHJldHVybiBvO1xufVxuZnVuY3Rpb24gQmFzZTY0X2VuY29kZV9wYXNzKGlucHV0KSB7XG4gIHZhciBvID0gXCJcIjtcbiAgdmFyIGMxID0gMCwgYzIgPSAwLCBjMyA9IDAsIGUxID0gMCwgZTIgPSAwLCBlMyA9IDAsIGU0ID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7ICkge1xuICAgIGMxID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgIGlmIChjMSA+IDI1NSlcbiAgICAgIGMxID0gOTU7XG4gICAgZTEgPSBjMSA+PiAyO1xuICAgIGMyID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgIGlmIChjMiA+IDI1NSlcbiAgICAgIGMyID0gOTU7XG4gICAgZTIgPSAoYzEgJiAzKSA8PCA0IHwgYzIgPj4gNDtcbiAgICBjMyA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICBpZiAoYzMgPiAyNTUpXG4gICAgICBjMyA9IDk1O1xuICAgIGUzID0gKGMyICYgMTUpIDw8IDIgfCBjMyA+PiA2O1xuICAgIGU0ID0gYzMgJiA2MztcbiAgICBpZiAoaXNOYU4oYzIpKSB7XG4gICAgICBlMyA9IGU0ID0gNjQ7XG4gICAgfSBlbHNlIGlmIChpc05hTihjMykpIHtcbiAgICAgIGU0ID0gNjQ7XG4gICAgfVxuICAgIG8gKz0gQmFzZTY0X21hcC5jaGFyQXQoZTEpICsgQmFzZTY0X21hcC5jaGFyQXQoZTIpICsgQmFzZTY0X21hcC5jaGFyQXQoZTMpICsgQmFzZTY0X21hcC5jaGFyQXQoZTQpO1xuICB9XG4gIHJldHVybiBvO1xufVxuZnVuY3Rpb24gQmFzZTY0X2VuY29kZV9hcnIoaW5wdXQpIHtcbiAgdmFyIG8gPSBcIlwiO1xuICB2YXIgYzEgPSAwLCBjMiA9IDAsIGMzID0gMCwgZTEgPSAwLCBlMiA9IDAsIGUzID0gMCwgZTQgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgKSB7XG4gICAgYzEgPSBpbnB1dFtpKytdO1xuICAgIGUxID0gYzEgPj4gMjtcbiAgICBjMiA9IGlucHV0W2krK107XG4gICAgZTIgPSAoYzEgJiAzKSA8PCA0IHwgYzIgPj4gNDtcbiAgICBjMyA9IGlucHV0W2krK107XG4gICAgZTMgPSAoYzIgJiAxNSkgPDwgMiB8IGMzID4+IDY7XG4gICAgZTQgPSBjMyAmIDYzO1xuICAgIGlmIChpc05hTihjMikpIHtcbiAgICAgIGUzID0gZTQgPSA2NDtcbiAgICB9IGVsc2UgaWYgKGlzTmFOKGMzKSkge1xuICAgICAgZTQgPSA2NDtcbiAgICB9XG4gICAgbyArPSBCYXNlNjRfbWFwLmNoYXJBdChlMSkgKyBCYXNlNjRfbWFwLmNoYXJBdChlMikgKyBCYXNlNjRfbWFwLmNoYXJBdChlMykgKyBCYXNlNjRfbWFwLmNoYXJBdChlNCk7XG4gIH1cbiAgcmV0dXJuIG87XG59XG5mdW5jdGlvbiBCYXNlNjRfZGVjb2RlKGlucHV0KSB7XG4gIHZhciBvID0gXCJcIjtcbiAgdmFyIGMxID0gMCwgYzIgPSAwLCBjMyA9IDAsIGUxID0gMCwgZTIgPSAwLCBlMyA9IDAsIGU0ID0gMDtcbiAgaWYgKGlucHV0LnNsaWNlKDAsIDUpID09IFwiZGF0YTpcIikge1xuICAgIHZhciBpID0gaW5wdXQuc2xpY2UoMCwgMTAyNCkuaW5kZXhPZihcIjtiYXNlNjQsXCIpO1xuICAgIGlmIChpID4gLTEpXG4gICAgICBpbnB1dCA9IGlucHV0LnNsaWNlKGkgKyA4KTtcbiAgfVxuICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL1teXFx3XFwrXFwvXFw9XS9nLCBcIlwiKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7ICkge1xuICAgIGUxID0gQmFzZTY0X21hcC5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICBlMiA9IEJhc2U2NF9tYXAuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgYzEgPSBlMSA8PCAyIHwgZTIgPj4gNDtcbiAgICBvICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYzEpO1xuICAgIGUzID0gQmFzZTY0X21hcC5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICBjMiA9IChlMiAmIDE1KSA8PCA0IHwgZTMgPj4gMjtcbiAgICBpZiAoZTMgIT09IDY0KSB7XG4gICAgICBvICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYzIpO1xuICAgIH1cbiAgICBlNCA9IEJhc2U2NF9tYXAuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgYzMgPSAoZTMgJiAzKSA8PCA2IHwgZTQ7XG4gICAgaWYgKGU0ICE9PSA2NCkge1xuICAgICAgbyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG87XG59XG52YXIgaGFzX2J1ZiA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKSB7IHJldHVybiB0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMgIT09ICd1bmRlZmluZWQnICYmICEhcHJvY2Vzcy52ZXJzaW9ucy5ub2RlOyB9KSgpO1xuXG52YXIgQnVmZmVyX2Zyb20gPSAvKiNfX1BVUkVfXyovKGZ1bmN0aW9uKCkge1xuXHRpZih0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuXHRcdHZhciBuYmZzID0gIUJ1ZmZlci5mcm9tO1xuXHRcdGlmKCFuYmZzKSB0cnkgeyBCdWZmZXIuZnJvbShcImZvb1wiLCBcInV0ZjhcIik7IH0gY2F0Y2goZSkgeyBuYmZzID0gdHJ1ZTsgfVxuXHRcdHJldHVybiBuYmZzID8gZnVuY3Rpb24oYnVmLCBlbmMpIHsgcmV0dXJuIChlbmMpID8gbmV3IEJ1ZmZlcihidWYsIGVuYykgOiBuZXcgQnVmZmVyKGJ1Zik7IH0gOiBCdWZmZXIuZnJvbS5iaW5kKEJ1ZmZlcik7XG5cdH1cblx0cmV0dXJuIGZ1bmN0aW9uKCkge307XG59KSgpO1xudmFyIGJ1Zl91dGYxNmxlID0gLyojX19QVVJFX18qLyhmdW5jdGlvbigpIHtcblx0aWYodHlwZW9mIEJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcblx0dmFyIHggPSBCdWZmZXJfZnJvbShbNjUsMF0pO1xuXHRpZigheCkgcmV0dXJuIGZhbHNlO1xuXHR2YXIgbyA9IHgudG9TdHJpbmcoXCJ1dGYxNmxlXCIpO1xuXHRyZXR1cm4gby5sZW5ndGggPT0gMTtcbn0pKCk7XG5cblxuZnVuY3Rpb24gbmV3X3Jhd19idWYobGVuLyo6bnVtYmVyKi8pIHtcblx0LyoganNoaW50IC1XMDU2ICovXG5cdGlmKGhhc19idWYpIHJldHVybiBCdWZmZXIuYWxsb2MgPyBCdWZmZXIuYWxsb2MobGVuKSA6IG5ldyBCdWZmZXIobGVuKTtcblx0cmV0dXJuIHR5cGVvZiBVaW50OEFycmF5ICE9IFwidW5kZWZpbmVkXCIgPyBuZXcgVWludDhBcnJheShsZW4pIDogbmV3IEFycmF5KGxlbik7XG5cdC8qIGpzaGludCArVzA1NiAqL1xufVxuXG5mdW5jdGlvbiBuZXdfdW5zYWZlX2J1ZihsZW4vKjpudW1iZXIqLykge1xuXHQvKiBqc2hpbnQgLVcwNTYgKi9cblx0aWYoaGFzX2J1ZikgcmV0dXJuIEJ1ZmZlci5hbGxvY1Vuc2FmZSA/IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW4pIDogbmV3IEJ1ZmZlcihsZW4pO1xuXHRyZXR1cm4gdHlwZW9mIFVpbnQ4QXJyYXkgIT0gXCJ1bmRlZmluZWRcIiA/IG5ldyBVaW50OEFycmF5KGxlbikgOiBuZXcgQXJyYXkobGVuKTtcblx0LyoganNoaW50ICtXMDU2ICovXG59XG5cbnZhciBzMmEgPSBmdW5jdGlvbiBzMmEocy8qOnN0cmluZyovKS8qOmFueSovIHtcblx0aWYoaGFzX2J1ZikgcmV0dXJuIEJ1ZmZlcl9mcm9tKHMsIFwiYmluYXJ5XCIpO1xuXHRyZXR1cm4gcy5zcGxpdChcIlwiKS5tYXAoZnVuY3Rpb24oeC8qOnN0cmluZyovKS8qOm51bWJlcioveyByZXR1cm4geC5jaGFyQ29kZUF0KDApICYgMHhmZjsgfSk7XG59O1xuXG5mdW5jdGlvbiBzMmFiKHMvKjpzdHJpbmcqLykvKjphbnkqLyB7XG5cdGlmKHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBzMmEocyk7XG5cdHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIocy5sZW5ndGgpLCB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcblx0Zm9yICh2YXIgaT0wOyBpIT1zLmxlbmd0aDsgKytpKSB2aWV3W2ldID0gcy5jaGFyQ29kZUF0KGkpICYgMHhGRjtcblx0cmV0dXJuIGJ1Zjtcbn1cblxuZnVuY3Rpb24gYTJzKGRhdGEvKjphbnkqLykvKjpzdHJpbmcqLyB7XG5cdGlmKEFycmF5LmlzQXJyYXkoZGF0YSkpIHJldHVybiBkYXRhLm1hcChmdW5jdGlvbihjKSB7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpOyB9KS5qb2luKFwiXCIpO1xuXHR2YXIgby8qOkFycmF5PHN0cmluZz4qLyA9IFtdOyBmb3IodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkgb1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVtpXSk7IHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIGEydShkYXRhLyo6QXJyYXk8bnVtYmVyPiovKS8qOlVpbnQ4QXJyYXkqLyB7XG5cdGlmKHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJykgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWRcIik7XG5cdHJldHVybiBuZXcgVWludDhBcnJheShkYXRhKTtcbn1cblxuZnVuY3Rpb24gYWIyYShkYXRhLyo6QXJyYXlCdWZmZXJ8VWludDhBcnJheSovKS8qOkFycmF5PG51bWJlcj4qLyB7XG5cdGlmKHR5cGVvZiBBcnJheUJ1ZmZlciA9PSAndW5kZWZpbmVkJykgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWRcIik7XG5cdGlmKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgcmV0dXJuIGFiMmEobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuXHQvKjo6IGlmKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgdGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGVcIik7ICovXG5cdHZhciBvID0gbmV3IEFycmF5KGRhdGEubGVuZ3RoKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIG9baV0gPSBkYXRhW2ldO1xuXHRyZXR1cm4gbztcbn1cblxudmFyIGJjb25jYXQgPSBoYXNfYnVmID8gZnVuY3Rpb24oYnVmcykgeyByZXR1cm4gQnVmZmVyLmNvbmNhdChidWZzLm1hcChmdW5jdGlvbihidWYpIHsgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihidWYpID8gYnVmIDogQnVmZmVyX2Zyb20oYnVmKTsgfSkpOyB9IDogZnVuY3Rpb24oYnVmcykge1xuXHRpZih0eXBlb2YgVWludDhBcnJheSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdHZhciBpID0gMCwgbWF4bGVuID0gMDtcblx0XHRmb3IoaSA9IDA7IGkgPCBidWZzLmxlbmd0aDsgKytpKSBtYXhsZW4gKz0gYnVmc1tpXS5sZW5ndGg7XG5cdFx0dmFyIG8gPSBuZXcgVWludDhBcnJheShtYXhsZW4pO1xuXHRcdHZhciBsZW4gPSAwO1xuXHRcdGZvcihpID0gMCwgbWF4bGVuID0gMDsgaSA8IGJ1ZnMubGVuZ3RoOyBtYXhsZW4gKz0gbGVuLCArK2kpIHtcblx0XHRcdGxlbiA9IGJ1ZnNbaV0ubGVuZ3RoO1xuXHRcdFx0aWYoYnVmc1tpXSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIG8uc2V0KGJ1ZnNbaV0sIG1heGxlbik7XG5cdFx0XHRlbHNlIGlmKHR5cGVvZiBidWZzW2ldID09IFwic3RyaW5nXCIpIG8uc2V0KG5ldyBVaW50OEFycmF5KHMyYShidWZzW2ldKSksIG1heGxlbik7XG5cdFx0XHRlbHNlIG8uc2V0KG5ldyBVaW50OEFycmF5KGJ1ZnNbaV0pLCBtYXhsZW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gbztcblx0fVxuXHRyZXR1cm4gW10uY29uY2F0LmFwcGx5KFtdLCBidWZzLm1hcChmdW5jdGlvbihidWYpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkoYnVmKSA/IGJ1ZiA6IFtdLnNsaWNlLmNhbGwoYnVmKTsgfSkpO1xufTtcblxuZnVuY3Rpb24gdXRmOGRlY29kZShjb250ZW50Lyo6c3RyaW5nKi8pIHtcblx0dmFyIG91dCA9IFtdLCB3aWR4ID0gMCwgTCA9IGNvbnRlbnQubGVuZ3RoICsgMjUwO1xuXHR2YXIgbyA9IG5ld19yYXdfYnVmKGNvbnRlbnQubGVuZ3RoICsgMjU1KTtcblx0Zm9yKHZhciByaWR4ID0gMDsgcmlkeCA8IGNvbnRlbnQubGVuZ3RoOyArK3JpZHgpIHtcblx0XHR2YXIgYyA9IGNvbnRlbnQuY2hhckNvZGVBdChyaWR4KTtcblx0XHRpZihjIDwgMHg4MCkgb1t3aWR4KytdID0gYztcblx0XHRlbHNlIGlmKGMgPCAweDgwMCkge1xuXHRcdFx0b1t3aWR4KytdID0gKDE5MnwoKGM+PjYpJjMxKSk7XG5cdFx0XHRvW3dpZHgrK10gPSAoMTI4fChjJjYzKSk7XG5cdFx0fSBlbHNlIGlmKGMgPj0gMHhEODAwICYmIGMgPCAweEUwMDApIHtcblx0XHRcdGMgPSAoYyYxMDIzKSs2NDtcblx0XHRcdHZhciBkID0gY29udGVudC5jaGFyQ29kZUF0KCsrcmlkeCkmMTAyMztcblx0XHRcdG9bd2lkeCsrXSA9ICgyNDB8KChjPj44KSY3KSk7XG5cdFx0XHRvW3dpZHgrK10gPSAoMTI4fCgoYz4+MikmNjMpKTtcblx0XHRcdG9bd2lkeCsrXSA9ICgxMjh8KChkPj42KSYxNSl8KChjJjMpPDw0KSk7XG5cdFx0XHRvW3dpZHgrK10gPSAoMTI4fChkJjYzKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9bd2lkeCsrXSA9ICgyMjR8KChjPj4xMikmMTUpKTtcblx0XHRcdG9bd2lkeCsrXSA9ICgxMjh8KChjPj42KSY2MykpO1xuXHRcdFx0b1t3aWR4KytdID0gKDEyOHwoYyY2MykpO1xuXHRcdH1cblx0XHRpZih3aWR4ID4gTCkge1xuXHRcdFx0b3V0LnB1c2goby5zbGljZSgwLCB3aWR4KSk7XG5cdFx0XHR3aWR4ID0gMDtcblx0XHRcdG8gPSBuZXdfcmF3X2J1Zig2NTUzNSk7XG5cdFx0XHRMID0gNjU1MzA7XG5cdFx0fVxuXHR9XG5cdG91dC5wdXNoKG8uc2xpY2UoMCwgd2lkeCkpO1xuXHRyZXR1cm4gYmNvbmNhdChvdXQpO1xufVxuXG52YXIgY2hyMCA9IC9cXHUwMDAwL2csIGNocjEgPSAvW1xcdTAwMDEtXFx1MDAwNl0vZztcbi8qOjpcbmRlY2xhcmUgdHlwZSBCbG9jayA9IGFueTtcbmRlY2xhcmUgdHlwZSBCdWZBcnJheSA9IHtcblx0bmV3YmxrKHN6Om51bWJlcik6QmxvY2s7XG5cdG5leHQoc3o6bnVtYmVyKTpCbG9jaztcblx0ZW5kKCk6YW55O1xuXHRwdXNoKGJ1ZjpCbG9jayk6dm9pZDtcbn07XG5cbnR5cGUgUmVjb3JkSG9wcGVyQ0IgPSB7KGQ6YW55LCBSbjpzdHJpbmcsIFJUOm51bWJlcik6P2Jvb2xlYW47fTtcblxudHlwZSBFdmVydFR5cGUgPSB7W3N0cmluZ106c3RyaW5nfTtcbnR5cGUgRXZlcnROdW1UeXBlID0ge1tzdHJpbmddOm51bWJlcn07XG50eXBlIEV2ZXJ0QXJyVHlwZSA9IHtbc3RyaW5nXTpBcnJheTxzdHJpbmc+fTtcblxudHlwZSBTdHJpbmdDb252ID0geyhzdHJpbmcpOnN0cmluZ307XG5cbiovXG4vKiBzc2YuanMgKEMpIDIwMTMtcHJlc2VudCBTaGVldEpTIC0tIGh0dHA6Ly9zaGVldGpzLmNvbSAqL1xuLypqc2hpbnQgLVcwNDEgKi9cbmZ1bmN0aW9uIF9zdHJyZXYoeC8qOnN0cmluZyovKS8qOnN0cmluZyovIHsgdmFyIG8gPSBcIlwiLCBpID0geC5sZW5ndGgtMTsgd2hpbGUoaT49MCkgbyArPSB4LmNoYXJBdChpLS0pOyByZXR1cm4gbzsgfVxuZnVuY3Rpb24gcGFkMCh2Lyo6YW55Ki8sZC8qOm51bWJlciovKS8qOnN0cmluZyove3ZhciB0PVwiXCIrdjsgcmV0dXJuIHQubGVuZ3RoPj1kP3Q6ZmlsbCgnMCcsZC10Lmxlbmd0aCkrdDt9XG5mdW5jdGlvbiBwYWRfKHYvKjphbnkqLyxkLyo6bnVtYmVyKi8pLyo6c3RyaW5nKi97dmFyIHQ9XCJcIit2O3JldHVybiB0Lmxlbmd0aD49ZD90OmZpbGwoJyAnLGQtdC5sZW5ndGgpK3Q7fVxuZnVuY3Rpb24gcnBhZF8odi8qOmFueSovLGQvKjpudW1iZXIqLykvKjpzdHJpbmcqL3t2YXIgdD1cIlwiK3Y7IHJldHVybiB0Lmxlbmd0aD49ZD90OnQrZmlsbCgnICcsZC10Lmxlbmd0aCk7fVxuZnVuY3Rpb24gcGFkMHIxKHYvKjphbnkqLyxkLyo6bnVtYmVyKi8pLyo6c3RyaW5nKi97dmFyIHQ9XCJcIitNYXRoLnJvdW5kKHYpOyByZXR1cm4gdC5sZW5ndGg+PWQ/dDpmaWxsKCcwJyxkLXQubGVuZ3RoKSt0O31cbmZ1bmN0aW9uIHBhZDByMih2Lyo6YW55Ki8sZC8qOm51bWJlciovKS8qOnN0cmluZyove3ZhciB0PVwiXCIrdjsgcmV0dXJuIHQubGVuZ3RoPj1kP3Q6ZmlsbCgnMCcsZC10Lmxlbmd0aCkrdDt9XG52YXIgcDJfMzIgPSAvKiNfX1BVUkVfXyovTWF0aC5wb3coMiwzMik7XG5mdW5jdGlvbiBwYWQwcih2Lyo6YW55Ki8sZC8qOm51bWJlciovKS8qOnN0cmluZyove2lmKHY+cDJfMzJ8fHY8LXAyXzMyKSByZXR1cm4gcGFkMHIxKHYsZCk7IHZhciBpID0gTWF0aC5yb3VuZCh2KTsgcmV0dXJuIHBhZDByMihpLGQpOyB9XG4vKiB5ZXMsIGluIDIwMjIgdGhpcyBpcyBzdGlsbCBmYXN0ZXIgdGhhbiBzdHJpbmcgY29tcGFyZSAqL1xuZnVuY3Rpb24gU1NGX2lzZ2VuZXJhbChzLyo6c3RyaW5nKi8sIGkvKjo/bnVtYmVyKi8pLyo6Ym9vbGVhbiovIHsgaSA9IGkgfHwgMDsgcmV0dXJuIHMubGVuZ3RoID49IDcgKyBpICYmIChzLmNoYXJDb2RlQXQoaSl8MzIpID09PSAxMDMgJiYgKHMuY2hhckNvZGVBdChpKzEpfDMyKSA9PT0gMTAxICYmIChzLmNoYXJDb2RlQXQoaSsyKXwzMikgPT09IDExMCAmJiAocy5jaGFyQ29kZUF0KGkrMyl8MzIpID09PSAxMDEgJiYgKHMuY2hhckNvZGVBdChpKzQpfDMyKSA9PT0gMTE0ICYmIChzLmNoYXJDb2RlQXQoaSs1KXwzMikgPT09IDk3ICYmIChzLmNoYXJDb2RlQXQoaSs2KXwzMikgPT09IDEwODsgfVxudmFyIGRheXMvKjpBcnJheTxBcnJheTxzdHJpbmc+ID4qLyA9IFtcblx0WydTdW4nLCAnU3VuZGF5J10sXG5cdFsnTW9uJywgJ01vbmRheSddLFxuXHRbJ1R1ZScsICdUdWVzZGF5J10sXG5cdFsnV2VkJywgJ1dlZG5lc2RheSddLFxuXHRbJ1RodScsICdUaHVyc2RheSddLFxuXHRbJ0ZyaScsICdGcmlkYXknXSxcblx0WydTYXQnLCAnU2F0dXJkYXknXVxuXTtcbnZhciBtb250aHMvKjpBcnJheTxBcnJheTxzdHJpbmc+ID4qLyA9IFtcblx0WydKJywgJ0phbicsICdKYW51YXJ5J10sXG5cdFsnRicsICdGZWInLCAnRmVicnVhcnknXSxcblx0WydNJywgJ01hcicsICdNYXJjaCddLFxuXHRbJ0EnLCAnQXByJywgJ0FwcmlsJ10sXG5cdFsnTScsICdNYXknLCAnTWF5J10sXG5cdFsnSicsICdKdW4nLCAnSnVuZSddLFxuXHRbJ0onLCAnSnVsJywgJ0p1bHknXSxcblx0WydBJywgJ0F1ZycsICdBdWd1c3QnXSxcblx0WydTJywgJ1NlcCcsICdTZXB0ZW1iZXInXSxcblx0WydPJywgJ09jdCcsICdPY3RvYmVyJ10sXG5cdFsnTicsICdOb3YnLCAnTm92ZW1iZXInXSxcblx0WydEJywgJ0RlYycsICdEZWNlbWJlciddXG5dO1xuZnVuY3Rpb24gU1NGX2luaXRfdGFibGUodC8qOmFueSovKSB7XG5cdGlmKCF0KSB0ID0ge307XG5cdHRbMF09ICAnR2VuZXJhbCc7XG5cdHRbMV09ICAnMCc7XG5cdHRbMl09ICAnMC4wMCc7XG5cdHRbM109ICAnIywjIzAnO1xuXHR0WzRdPSAgJyMsIyMwLjAwJztcblx0dFs5XT0gICcwJSc7XG5cdHRbMTBdPSAnMC4wMCUnO1xuXHR0WzExXT0gJzAuMDBFKzAwJztcblx0dFsxMl09ICcjID8vPyc7XG5cdHRbMTNdPSAnIyA/Py8/Pyc7XG5cdHRbMTRdPSAnbS9kL3l5Jztcblx0dFsxNV09ICdkLW1tbS15eSc7XG5cdHRbMTZdPSAnZC1tbW0nO1xuXHR0WzE3XT0gJ21tbS15eSc7XG5cdHRbMThdPSAnaDptbSBBTS9QTSc7XG5cdHRbMTldPSAnaDptbTpzcyBBTS9QTSc7XG5cdHRbMjBdPSAnaDptbSc7XG5cdHRbMjFdPSAnaDptbTpzcyc7XG5cdHRbMjJdPSAnbS9kL3l5IGg6bW0nO1xuXHR0WzM3XT0gJyMsIyMwIDsoIywjIzApJztcblx0dFszOF09ICcjLCMjMCA7W1JlZF0oIywjIzApJztcblx0dFszOV09ICcjLCMjMC4wMDsoIywjIzAuMDApJztcblx0dFs0MF09ICcjLCMjMC4wMDtbUmVkXSgjLCMjMC4wMCknO1xuXHR0WzQ1XT0gJ21tOnNzJztcblx0dFs0Nl09ICdbaF06bW06c3MnO1xuXHR0WzQ3XT0gJ21tc3MuMCc7XG5cdHRbNDhdPSAnIyMwLjBFKzAnO1xuXHR0WzQ5XT0gJ0AnO1xuXHR0WzU2XT0gJ1wi5LiK5Y2IL+S4i+WNiCBcImhoXCLmmYJcIm1tXCLliIZcInNzXCLnp5IgXCInO1xuXHRyZXR1cm4gdDtcbn1cbi8qIHJlcGVhdGVkIHRvIHNhdGlhdGUgd2VicGFjayAqL1xudmFyIHRhYmxlX2ZtdCA9IHtcblx0MDogICdHZW5lcmFsJyxcblx0MTogICcwJyxcblx0MjogICcwLjAwJyxcblx0MzogICcjLCMjMCcsXG5cdDQ6ICAnIywjIzAuMDAnLFxuXHQ5OiAgJzAlJyxcblx0MTA6ICcwLjAwJScsXG5cdDExOiAnMC4wMEUrMDAnLFxuXHQxMjogJyMgPy8/Jyxcblx0MTM6ICcjID8/Lz8/Jyxcblx0MTQ6ICdtL2QveXknLFxuXHQxNTogJ2QtbW1tLXl5Jyxcblx0MTY6ICdkLW1tbScsXG5cdDE3OiAnbW1tLXl5Jyxcblx0MTg6ICdoOm1tIEFNL1BNJyxcblx0MTk6ICdoOm1tOnNzIEFNL1BNJyxcblx0MjA6ICdoOm1tJyxcblx0MjE6ICdoOm1tOnNzJyxcblx0MjI6ICdtL2QveXkgaDptbScsXG5cdDM3OiAnIywjIzAgOygjLCMjMCknLFxuXHQzODogJyMsIyMwIDtbUmVkXSgjLCMjMCknLFxuXHQzOTogJyMsIyMwLjAwOygjLCMjMC4wMCknLFxuXHQ0MDogJyMsIyMwLjAwO1tSZWRdKCMsIyMwLjAwKScsXG5cdDQ1OiAnbW06c3MnLFxuXHQ0NjogJ1toXTptbTpzcycsXG5cdDQ3OiAnbW1zcy4wJyxcblx0NDg6ICcjIzAuMEUrMCcsXG5cdDQ5OiAnQCcsXG5cdDU2OiAnXCLkuIrljYgv5LiL5Y2IIFwiaGhcIuaZglwibW1cIuWIhlwic3NcIuenkiBcIidcbn07XG5cbi8qIERlZmF1bHRzIGRldGVybWluZWQgYnkgc3lzdGVtYXRpY2FsbHkgdGVzdGluZyBpbiBFeGNlbCAyMDE5ICovXG5cbi8qIFRoZXNlIGZvcm1hdHMgYXBwZWFyIHRvIGRlZmF1bHQgdG8gb3RoZXIgZm9ybWF0cyBpbiB0aGUgdGFibGUgKi9cbnZhciBTU0ZfZGVmYXVsdF9tYXAgPSB7XG5cdDU6ICAzNywgNjogIDM4LCA3OiAgMzksIDg6ICA0MCwgICAgICAgICAvLyAgNSAtPiAzNyAuLi4gIDggLT4gNDBcblxuXHQyMzogIDAsIDI0OiAgMCwgMjU6ICAwLCAyNjogIDAsICAgICAgICAgLy8gMjMgLT4gIDAgLi4uIDI2IC0+ICAwXG5cblx0Mjc6IDE0LCAyODogMTQsIDI5OiAxNCwgMzA6IDE0LCAzMTogMTQsIC8vIDI3IC0+IDE0IC4uLiAzMSAtPiAxNFxuXG5cdDUwOiAxNCwgNTE6IDE0LCA1MjogMTQsIDUzOiAxNCwgNTQ6IDE0LCAvLyA1MCAtPiAxNCAuLi4gNTggLT4gMTRcblx0NTU6IDE0LCA1NjogMTQsIDU3OiAxNCwgNTg6IDE0LFxuXHQ1OTogIDEsIDYwOiAgMiwgNjE6ICAzLCA2MjogIDQsICAgICAgICAgLy8gNTkgLT4gIDEgLi4uIDYyIC0+ICA0XG5cblx0Njc6ICA5LCA2ODogMTAsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDY3IC0+ICA5IC4uLiA2OCAtPiAxMFxuXHQ2OTogMTIsIDcwOiAxMywgNzE6IDE0LCAgICAgICAgICAgICAgICAgLy8gNjkgLT4gMTIgLi4uIDcxIC0+IDE0XG5cdDcyOiAxNCwgNzM6IDE1LCA3NDogMTYsIDc1OiAxNywgICAgICAgICAvLyA3MiAtPiAxNCAuLi4gNzUgLT4gMTdcblx0NzY6IDIwLCA3NzogMjEsIDc4OiAyMiwgICAgICAgICAgICAgICAgIC8vIDc2IC0+IDIwIC4uLiA3OCAtPiAyMlxuXHQ3OTogNDUsIDgwOiA0NiwgODE6IDQ3LCAgICAgICAgICAgICAgICAgLy8gNzkgLT4gNDUgLi4uIDgxIC0+IDQ3XG5cdDgyOiAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA4MiAtPiAgMCAuLi4gNjU1MzYgLT4gMCAob21pdHRlZClcbn07XG5cblxuLyogVGhlc2UgZm9ybWF0cyB0ZWNobmljYWxseSByZWZlciB0byBBY2NvdW50aW5nIGZvcm1hdHMgd2l0aCBubyBlcXVpdmFsZW50ICovXG52YXIgU1NGX2RlZmF1bHRfc3RyID0ge1xuXHQvLyAgNSAtLSBDdXJyZW5jeSwgICAwIGRlY2ltYWwsIGJsYWNrIG5lZ2F0aXZlXG5cdDU6ICAnXCIkXCIjLCMjMF8pO1xcXFwoXCIkXCIjLCMjMFxcXFwpJyxcblx0NjM6ICdcIiRcIiMsIyMwXyk7XFxcXChcIiRcIiMsIyMwXFxcXCknLFxuXG5cdC8vICA2IC0tIEN1cnJlbmN5LCAgIDAgZGVjaW1hbCwgcmVkICAgbmVnYXRpdmVcblx0NjogICdcIiRcIiMsIyMwXyk7W1JlZF1cXFxcKFwiJFwiIywjIzBcXFxcKScsXG5cdDY0OiAnXCIkXCIjLCMjMF8pO1tSZWRdXFxcXChcIiRcIiMsIyMwXFxcXCknLFxuXG5cdC8vICA3IC0tIEN1cnJlbmN5LCAgIDIgZGVjaW1hbCwgYmxhY2sgbmVnYXRpdmVcblx0NzogICdcIiRcIiMsIyMwLjAwXyk7XFxcXChcIiRcIiMsIyMwLjAwXFxcXCknLFxuXHQ2NTogJ1wiJFwiIywjIzAuMDBfKTtcXFxcKFwiJFwiIywjIzAuMDBcXFxcKScsXG5cblx0Ly8gIDggLS0gQ3VycmVuY3ksICAgMiBkZWNpbWFsLCByZWQgICBuZWdhdGl2ZVxuXHQ4OiAgJ1wiJFwiIywjIzAuMDBfKTtbUmVkXVxcXFwoXCIkXCIjLCMjMC4wMFxcXFwpJyxcblx0NjY6ICdcIiRcIiMsIyMwLjAwXyk7W1JlZF1cXFxcKFwiJFwiIywjIzAuMDBcXFxcKScsXG5cblx0Ly8gNDEgLS0gQWNjb3VudGluZywgMCBkZWNpbWFsLCBObyBTeW1ib2xcblx0NDE6ICdfKCogIywjIzBfKTtfKCogXFxcXCgjLCMjMFxcXFwpO18oKiBcIi1cIl8pO18oQF8pJyxcblxuXHQvLyA0MiAtLSBBY2NvdW50aW5nLCAwIGRlY2ltYWwsICQgIFN5bWJvbFxuXHQ0MjogJ18oXCIkXCIqICMsIyMwXyk7XyhcIiRcIiogXFxcXCgjLCMjMFxcXFwpO18oXCIkXCIqIFwiLVwiXyk7XyhAXyknLFxuXG5cdC8vIDQzIC0tIEFjY291bnRpbmcsIDIgZGVjaW1hbCwgTm8gU3ltYm9sXG5cdDQzOiAnXygqICMsIyMwLjAwXyk7XygqIFxcXFwoIywjIzAuMDBcXFxcKTtfKCogXCItXCI/P18pO18oQF8pJyxcblxuXHQvLyA0NCAtLSBBY2NvdW50aW5nLCAyIGRlY2ltYWwsICQgIFN5bWJvbFxuXHQ0NDogJ18oXCIkXCIqICMsIyMwLjAwXyk7XyhcIiRcIiogXFxcXCgjLCMjMC4wMFxcXFwpO18oXCIkXCIqIFwiLVwiPz9fKTtfKEBfKSdcbn07XG5cbmZ1bmN0aW9uIFNTRl9mcmFjKHgvKjpudW1iZXIqLywgRC8qOm51bWJlciovLCBtaXhlZC8qOj9ib29sZWFuKi8pLyo6QXJyYXk8bnVtYmVyPiovIHtcblx0dmFyIHNnbiA9IHggPCAwID8gLTEgOiAxO1xuXHR2YXIgQiA9IHggKiBzZ247XG5cdHZhciBQXzIgPSAwLCBQXzEgPSAxLCBQID0gMDtcblx0dmFyIFFfMiA9IDEsIFFfMSA9IDAsIFEgPSAwO1xuXHR2YXIgQSA9IE1hdGguZmxvb3IoQik7XG5cdHdoaWxlKFFfMSA8IEQpIHtcblx0XHRBID0gTWF0aC5mbG9vcihCKTtcblx0XHRQID0gQSAqIFBfMSArIFBfMjtcblx0XHRRID0gQSAqIFFfMSArIFFfMjtcblx0XHRpZigoQiAtIEEpIDwgMC4wMDAwMDAwNSkgYnJlYWs7XG5cdFx0QiA9IDEgLyAoQiAtIEEpO1xuXHRcdFBfMiA9IFBfMTsgUF8xID0gUDtcblx0XHRRXzIgPSBRXzE7IFFfMSA9IFE7XG5cdH1cblx0aWYoUSA+IEQpIHsgaWYoUV8xID4gRCkgeyBRID0gUV8yOyBQID0gUF8yOyB9IGVsc2UgeyBRID0gUV8xOyBQID0gUF8xOyB9IH1cblx0aWYoIW1peGVkKSByZXR1cm4gWzAsIHNnbiAqIFAsIFFdO1xuXHR2YXIgcSA9IE1hdGguZmxvb3Ioc2duICogUC9RKTtcblx0cmV0dXJuIFtxLCBzZ24qUCAtIHEqUSwgUV07XG59XG5mdW5jdGlvbiBTU0Zfbm9ybWFsaXplX3hsX3Vuc2FmZSh2Lyo6bnVtYmVyKi8pLyo6bnVtYmVyKi8ge1xuXHR2YXIgcyA9IHYudG9QcmVjaXNpb24oMTYpO1xuXHRpZihzLmluZGV4T2YoXCJlXCIpID4gLTEpIHtcblx0XHR2YXIgbSA9IHMuc2xpY2UoMCwgcy5pbmRleE9mKFwiZVwiKSk7XG5cdFx0bSA9IG0uaW5kZXhPZihcIi5cIikgPiAtMSA/IG0uc2xpY2UoMCwgKG0uc2xpY2UoMCwyKSA9PSBcIjAuXCIgPyAxNyA6IDE2KSkgOiAobS5zbGljZSgwLDE1KSArIGZpbGwoXCIwXCIsIG0ubGVuZ3RoIC0gMTUpKTtcblx0XHRyZXR1cm4gbSArIHMuc2xpY2Uocy5pbmRleE9mKFwiZVwiKSk7XG5cdH1cblx0dmFyIG4gPSBzLmluZGV4T2YoXCIuXCIpID4gLTEgPyBzLnNsaWNlKDAsIChzLnNsaWNlKDAsMikgPT0gXCIwLlwiID8gMTcgOiAxNikpIDogKHMuc2xpY2UoMCwxNSkgKyBmaWxsKFwiMFwiLCBzLmxlbmd0aCAtIDE1KSk7XG5cdHJldHVybiBOdW1iZXIobik7XG59XG5cbmZ1bmN0aW9uIFNTRl9wYXJzZV9kYXRlX2NvZGUodi8qOm51bWJlciovLG9wdHMvKjo/YW55Ki8sYjIvKjo/Ym9vbGVhbiovKSB7XG5cdGlmKHYgPiAyOTU4NDY1IHx8IHYgPCAwKSByZXR1cm4gbnVsbDtcblx0diA9IFNTRl9ub3JtYWxpemVfeGxfdW5zYWZlKHYpO1xuXHR2YXIgZGF0ZSA9ICh2fDApLCB0aW1lID0gTWF0aC5mbG9vcig4NjQwMCAqICh2IC0gZGF0ZSkpLCBkb3c9MDtcblx0dmFyIGRvdXQ9W107XG5cdHZhciBvdXQ9e0Q6ZGF0ZSwgVDp0aW1lLCB1Ojg2NDAwKih2LWRhdGUpLXRpbWUseTowLG06MCxkOjAsSDowLE06MCxTOjAscTowfTtcblx0aWYoTWF0aC5hYnMob3V0LnUpIDwgMWUtNikgb3V0LnUgPSAwO1xuXHRpZihvcHRzICYmIG9wdHMuZGF0ZTE5MDQpIGRhdGUgKz0gMTQ2Mjtcblx0aWYob3V0LnUgPiAwLjk5OTkpIHtcblx0XHRvdXQudSA9IDA7XG5cdFx0aWYoKyt0aW1lID09IDg2NDAwKSB7IG91dC5UID0gdGltZSA9IDA7ICsrZGF0ZTsgKytvdXQuRDsgfVxuXHR9XG5cdGlmKGRhdGUgPT09IDYwKSB7ZG91dCA9IGIyID8gWzEzMTcsMTAsMjldIDogWzE5MDAsMiwyOV07IGRvdz0zO31cblx0ZWxzZSBpZihkYXRlID09PSAwKSB7ZG91dCA9IGIyID8gWzEzMTcsOCwyOV0gOiBbMTkwMCwxLDBdOyBkb3c9Njt9XG5cdGVsc2Uge1xuXHRcdGlmKGRhdGUgPiA2MCkgLS1kYXRlO1xuXHRcdC8qIDEgPSBKYW4gMSAxOTAwIGluIEdyZWdvcmlhbiAqL1xuXHRcdHZhciBkID0gbmV3IERhdGUoMTkwMCwgMCwgMSk7XG5cdFx0ZC5zZXREYXRlKGQuZ2V0RGF0ZSgpICsgZGF0ZSAtIDEpO1xuXHRcdGRvdXQgPSBbZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCkrMSxkLmdldERhdGUoKV07XG5cdFx0ZG93ID0gZC5nZXREYXkoKTtcblx0XHRpZihkYXRlIDwgNjApIGRvdyA9IChkb3cgKyA2KSAlIDc7XG5cdFx0aWYoYjIpIGRvdyA9IFNTRl9maXhfaGlqcmkoZCwgZG91dCk7XG5cdH1cblx0b3V0LnkgPSBkb3V0WzBdOyBvdXQubSA9IGRvdXRbMV07IG91dC5kID0gZG91dFsyXTtcblx0b3V0LlMgPSB0aW1lICUgNjA7IHRpbWUgPSBNYXRoLmZsb29yKHRpbWUgLyA2MCk7XG5cdG91dC5NID0gdGltZSAlIDYwOyB0aW1lID0gTWF0aC5mbG9vcih0aW1lIC8gNjApO1xuXHRvdXQuSCA9IHRpbWU7XG5cdG91dC5xID0gZG93O1xuXHRyZXR1cm4gb3V0O1xufVxuLyogRUNNQS0zNzYgMTguOC4zMCBudW1GbXQqL1xuLyogTm90ZTogYHRvUHJlY2lzaW9uYCB1c2VzIHN0YW5kYXJkIGZvcm0gd2hlbiBwcmVjID4gRSBhbmQgRSA+PSAtNiAqL1xuLyogZXhwb25lbnQgPj0gLTkgYW5kIDw9IDkgKi9cbmZ1bmN0aW9uIFNTRl9zdHJpcF9kZWNpbWFsKG8vKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7XG5cdHJldHVybiAoby5pbmRleE9mKFwiLlwiKSA9PSAtMSkgPyBvIDogby5yZXBsYWNlKC8oPzpcXC4wKnwoXFwuXFxkKlsxLTldKTArKSQvLCBcIiQxXCIpO1xufVxuXG4vKiBHZW5lcmFsIEV4cG9uZW50aWFsIGFsd2F5cyBzaG93cyAyIGRpZ2l0cyBleHAgYW5kIHRyaW1zIHRoZSBtYW50aXNzYSAqL1xuZnVuY3Rpb24gU1NGX25vcm1hbGl6ZV9leHAoby8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0aWYoby5pbmRleE9mKFwiRVwiKSA9PSAtMSkgcmV0dXJuIG87XG5cdHJldHVybiBvLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqWzEtOV0pMCspW0VlXS8sXCIkMUVcIikucmVwbGFjZSgvKEVbKy1dKShcXGQpJC8sXCIkMTAkMlwiKTtcbn1cblxuLyogZXhwb25lbnQgPj0gLTkgYW5kIDw9IDkgKi9cbmZ1bmN0aW9uIFNTRl9zbWFsbF9leHAodi8qOm51bWJlciovKS8qOnN0cmluZyovIHtcblx0dmFyIHcgPSAodjwwPzEyOjExKTtcblx0dmFyIG8gPSBTU0Zfc3RyaXBfZGVjaW1hbCh2LnRvRml4ZWQoMTIpKTsgaWYoby5sZW5ndGggPD0gdykgcmV0dXJuIG87XG5cdG8gPSB2LnRvUHJlY2lzaW9uKDEwKTsgaWYoby5sZW5ndGggPD0gdykgcmV0dXJuIG87XG5cdHJldHVybiB2LnRvRXhwb25lbnRpYWwoNSk7XG59XG5cbi8qIGV4cG9uZW50ID49IDExIG9yIDw9IC0xMCBsaWtlbHkgZXhwb25lbnRpYWwgKi9cbmZ1bmN0aW9uIFNTRl9sYXJnZV9leHAodi8qOm51bWJlciovKS8qOnN0cmluZyovIHtcblx0dmFyIG8gPSBTU0Zfc3RyaXBfZGVjaW1hbCh2LnRvRml4ZWQoMTEpKTtcblx0cmV0dXJuIChvLmxlbmd0aCA+ICh2PDA/MTI6MTEpIHx8IG8gPT09IFwiMFwiIHx8IG8gPT09IFwiLTBcIikgPyB2LnRvUHJlY2lzaW9uKDYpIDogbztcbn1cblxuZnVuY3Rpb24gU1NGX2dlbmVyYWxfbnVtKHYvKjpudW1iZXIqLykvKjpzdHJpbmcqLyB7XG5cdGlmKCFpc0Zpbml0ZSh2KSkgcmV0dXJuIGlzTmFOKHYpID8gXCIjTlVNIVwiIDogXCIjRElWLzAhXCI7XG5cdHZhciBWID0gTWF0aC5mbG9vcihNYXRoLmxvZyhNYXRoLmFicyh2KSkqTWF0aC5MT0cxMEUpLCBvO1xuXG5cdGlmKFYgPj0gLTQgJiYgViA8PSAtMSkgbyA9IHYudG9QcmVjaXNpb24oMTArVik7XG5cdGVsc2UgaWYoTWF0aC5hYnMoVikgPD0gOSkgbyA9IFNTRl9zbWFsbF9leHAodik7XG5cdGVsc2UgaWYoViA9PT0gMTApIG8gPSB2LnRvRml4ZWQoMTApLnN1YnN0cigwLDEyKTtcblx0ZWxzZSBvID0gU1NGX2xhcmdlX2V4cCh2KTtcblxuXHRyZXR1cm4gU1NGX3N0cmlwX2RlY2ltYWwoU1NGX25vcm1hbGl6ZV9leHAoby50b1VwcGVyQ2FzZSgpKSk7XG59XG5cblxuLypcblx0XCJHZW5lcmFsXCIgcnVsZXM6XG5cdC0gdGV4dCBpcyBwYXNzZWQgdGhyb3VnaCAoXCJAXCIpXG5cdC0gYm9vbGVhbnMgYXJlIHJlbmRlcmVkIGFzIFRSVUUvRkFMU0Vcblx0LSBcInVwIHRvIDExIGNoYXJhY3RlcnNcIiBkaXNwbGF5ZWQgZm9yIG51bWJlcnNcblx0LSBEZWZhdWx0IGRhdGUgZm9ybWF0IChjb2RlIDE0KSB1c2VkIGZvciBEYXRlc1xuXG5cdFRoZSBsb25nZXN0IDMyLWJpdCBpbnRlZ2VyIHRleHQgaXMgXCItMjE0NzQ4MzY0OFwiLCBleGFjdGx5IDExIGNoYXJzXG5cdFRPRE86IHRlY2huaWNhbGx5IHRoZSBkaXNwbGF5IGRlcGVuZHMgb24gdGhlIHdpZHRoIG9mIHRoZSBjZWxsXG4qL1xuZnVuY3Rpb24gU1NGX2dlbmVyYWwodi8qOmFueSovLCBvcHRzLyo6YW55Ki8pIHtcblx0c3dpdGNoKHR5cGVvZiB2KSB7XG5cdFx0Y2FzZSAnc3RyaW5nJzogcmV0dXJuIHY7XG5cdFx0Y2FzZSAnYm9vbGVhbic6IHJldHVybiB2ID8gXCJUUlVFXCIgOiBcIkZBTFNFXCI7XG5cdFx0Y2FzZSAnbnVtYmVyJzogcmV0dXJuICh2fDApID09PSB2ID8gdi50b1N0cmluZygxMCkgOiBTU0ZfZ2VuZXJhbF9udW0odik7XG5cdFx0Y2FzZSAndW5kZWZpbmVkJzogcmV0dXJuIFwiXCI7XG5cdFx0Y2FzZSAnb2JqZWN0Jzpcblx0XHRcdGlmKHYgPT0gbnVsbCkgcmV0dXJuIFwiXCI7XG5cdFx0XHRpZih2IGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIFNTRl9mb3JtYXQoMTQsIGRhdGVudW0odiwgb3B0cyAmJiBvcHRzLmRhdGUxOTA0KSwgb3B0cyk7XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgdmFsdWUgaW4gR2VuZXJhbCBmb3JtYXQ6IFwiICsgdik7XG59XG5cbmZ1bmN0aW9uIFNTRl9maXhfaGlqcmkoZGF0ZS8qOkRhdGUqLywgby8qOltudW1iZXIsIG51bWJlciwgbnVtYmVyXSovKSB7XG4gIC8qIFRPRE86IHByb3Blcmx5IGFkanVzdCB5L20vZCBhbmQgICovXG4gIG9bMF0gLT0gNTgxO1xuICB2YXIgZG93ID0gZGF0ZS5nZXREYXkoKTtcbiAgaWYoZGF0ZSA8IDYwKSBkb3cgPSAoZG93ICsgNikgJSA3O1xuICByZXR1cm4gZG93O1xufVxuLy92YXIgVEhBSV9ESUdJVFMgPSBcIlxcdTBFNTBcXHUwRTUxXFx1MEU1MlxcdTBFNTNcXHUwRTU0XFx1MEU1NVxcdTBFNTZcXHUwRTU3XFx1MEU1OFxcdTBFNTlcIi5zcGxpdChcIlwiKTtcbmZ1bmN0aW9uIFNTRl93cml0ZV9kYXRlKHR5cGUvKjpudW1iZXIqLywgZm10Lyo6c3RyaW5nKi8sIHZhbCwgc3MwLyo6P251bWJlciovKS8qOnN0cmluZyovIHtcblx0dmFyIG89XCJcIiwgc3M9MCwgdHQ9MCwgeSA9IHZhbC55LCBvdXQsIG91dGwgPSAwO1xuXHRzd2l0Y2godHlwZSkge1xuXHRcdGNhc2UgOTg6IC8qICdiJyBidWRkaGlzdCB5ZWFyICovXG5cdFx0XHR5ID0gdmFsLnkgKyA1NDM7XG5cdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0Y2FzZSAxMjE6IC8qICd5JyB5ZWFyICovXG5cdFx0c3dpdGNoKGZtdC5sZW5ndGgpIHtcblx0XHRcdGNhc2UgMTogY2FzZSAyOiBvdXQgPSB5ICUgMTAwOyBvdXRsID0gMjsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiBvdXQgPSB5ICUgMTAwMDA7IG91dGwgPSA0OyBicmVhaztcblx0XHR9IGJyZWFrO1xuXHRcdGNhc2UgMTA5OiAvKiAnbScgbW9udGggKi9cblx0XHRzd2l0Y2goZm10Lmxlbmd0aCkge1xuXHRcdFx0Y2FzZSAxOiBjYXNlIDI6IG91dCA9IHZhbC5tOyBvdXRsID0gZm10Lmxlbmd0aDsgYnJlYWs7XG5cdFx0XHRjYXNlIDM6IHJldHVybiBtb250aHNbdmFsLm0tMV1bMV07XG5cdFx0XHRjYXNlIDU6IHJldHVybiBtb250aHNbdmFsLm0tMV1bMF07XG5cdFx0XHRkZWZhdWx0OiByZXR1cm4gbW9udGhzW3ZhbC5tLTFdWzJdO1xuXHRcdH0gYnJlYWs7XG5cdFx0Y2FzZSAxMDA6IC8qICdkJyBkYXkgKi9cblx0XHRzd2l0Y2goZm10Lmxlbmd0aCkge1xuXHRcdFx0Y2FzZSAxOiBjYXNlIDI6IG91dCA9IHZhbC5kOyBvdXRsID0gZm10Lmxlbmd0aDsgYnJlYWs7XG5cdFx0XHRjYXNlIDM6IHJldHVybiBkYXlzW3ZhbC5xXVswXTtcblx0XHRcdGRlZmF1bHQ6IHJldHVybiBkYXlzW3ZhbC5xXVsxXTtcblx0XHR9IGJyZWFrO1xuXHRcdGNhc2UgMTA0OiAvKiAnaCcgMTItaG91ciAqL1xuXHRcdHN3aXRjaChmbXQubGVuZ3RoKSB7XG5cdFx0XHRjYXNlIDE6IGNhc2UgMjogb3V0ID0gMSsodmFsLkgrMTEpJTEyOyBvdXRsID0gZm10Lmxlbmd0aDsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyAnYmFkIGhvdXIgZm9ybWF0OiAnICsgZm10O1xuXHRcdH0gYnJlYWs7XG5cdFx0Y2FzZSA3MjogLyogJ0gnIDI0LWhvdXIgKi9cblx0XHRzd2l0Y2goZm10Lmxlbmd0aCkge1xuXHRcdFx0Y2FzZSAxOiBjYXNlIDI6IG91dCA9IHZhbC5IOyBvdXRsID0gZm10Lmxlbmd0aDsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyAnYmFkIGhvdXIgZm9ybWF0OiAnICsgZm10O1xuXHRcdH0gYnJlYWs7XG5cdFx0Y2FzZSA3NzogLyogJ00nIG1pbnV0ZXMgKi9cblx0XHRzd2l0Y2goZm10Lmxlbmd0aCkge1xuXHRcdFx0Y2FzZSAxOiBjYXNlIDI6IG91dCA9IHZhbC5NOyBvdXRsID0gZm10Lmxlbmd0aDsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyAnYmFkIG1pbnV0ZSBmb3JtYXQ6ICcgKyBmbXQ7XG5cdFx0fSBicmVhaztcblx0XHRjYXNlIDExNTogLyogJ3MnIHNlY29uZHMgKi9cblx0XHRcdGlmKGZtdCAhPSAncycgJiYgZm10ICE9ICdzcycgJiYgZm10ICE9ICcuMCcgJiYgZm10ICE9ICcuMDAnICYmIGZtdCAhPSAnLjAwMCcpIHRocm93ICdiYWQgc2Vjb25kIGZvcm1hdDogJyArIGZtdDtcblx0XHRcdGlmKHZhbC51ID09PSAwICYmIChmbXQgPT0gXCJzXCIgfHwgZm10ID09IFwic3NcIikpIHJldHVybiBwYWQwKHZhbC5TLCBmbXQubGVuZ3RoKTtcblx0XHRcdC8qOjppZighc3MwKSBzczAgPSAwOyAqL1xuXHRcdFx0aWYoc3MwID49IDIpIHR0ID0gc3MwID09PSAzID8gMTAwMCA6IDEwMDtcblx0XHRcdGVsc2UgdHQgPSBzczAgPT09IDEgPyAxMCA6IDE7XG5cdFx0XHRzcyA9IE1hdGgucm91bmQoKHR0KSoodmFsLlMgKyB2YWwudSkpO1xuXHRcdFx0aWYoc3MgPj0gNjAqdHQpIHNzID0gMDtcblx0XHRcdGlmKGZtdCA9PT0gJ3MnKSByZXR1cm4gc3MgPT09IDAgPyBcIjBcIiA6IFwiXCIrc3MvdHQ7XG5cdFx0XHRvID0gcGFkMChzcywyICsgc3MwKTtcblx0XHRcdGlmKGZtdCA9PT0gJ3NzJykgcmV0dXJuIG8uc3Vic3RyKDAsMik7XG5cdFx0XHRyZXR1cm4gXCIuXCIgKyBvLnN1YnN0cigyLGZtdC5sZW5ndGgtMSk7XG5cdFx0Y2FzZSA5MDogLyogJ1onIGFic29sdXRlIHRpbWUgKi9cblx0XHRzd2l0Y2goZm10KSB7XG5cdFx0XHRjYXNlICdbaF0nOiBjYXNlICdbaGhdJzogb3V0ID0gdmFsLkQqMjQrdmFsLkg7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnW21dJzogY2FzZSAnW21tXSc6IG91dCA9ICh2YWwuRCoyNCt2YWwuSCkqNjArdmFsLk07IGJyZWFrO1xuXHRcdFx0Y2FzZSAnW3NdJzogY2FzZSAnW3NzXSc6IG91dCA9ICgodmFsLkQqMjQrdmFsLkgpKjYwK3ZhbC5NKSo2MCsoc3MwID09IDAgPyBNYXRoLnJvdW5kKHZhbC5TK3ZhbC51KSA6IHZhbC5TKTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyAnYmFkIGFic3RpbWUgZm9ybWF0OiAnICsgZm10O1xuXHRcdH0gb3V0bCA9IGZtdC5sZW5ndGggPT09IDMgPyAxIDogMjsgYnJlYWs7XG5cdFx0Y2FzZSAxMDE6IC8qICdlJyBlcmEgKi9cblx0XHRcdG91dCA9IHk7IG91dGwgPSAxOyBicmVhaztcblx0fVxuXHR2YXIgb3V0c3RyID0gb3V0bCA+IDAgPyBwYWQwKG91dCwgb3V0bCkgOiBcIlwiO1xuXHRyZXR1cm4gb3V0c3RyO1xufVxuXG5cbi8qanNoaW50IC1XMDg2ICovXG4vKmpzaGludCArVzA4NiAqL1xuZnVuY3Rpb24gY29tbWFpZnkocy8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0dmFyIHcgPSAzO1xuXHRpZihzLmxlbmd0aCA8PSB3KSByZXR1cm4gcztcblx0dmFyIGogPSAocy5sZW5ndGggJSB3KSwgbyA9IHMuc3Vic3RyKDAsaik7XG5cdGZvcig7IGohPXMubGVuZ3RoOyBqKz13KSBvKz0oby5sZW5ndGggPiAwID8gXCIsXCIgOiBcIlwiKSArIHMuc3Vic3RyKGosdyk7XG5cdHJldHVybiBvO1xufVxudmFyIHBjdDEgPSAvJS9nO1xuZnVuY3Rpb24gd3JpdGVfbnVtX3BjdCh0eXBlLyo6c3RyaW5nKi8sIGZtdC8qOnN0cmluZyovLCB2YWwvKjpudW1iZXIqLykvKjpzdHJpbmcqL3tcblx0dmFyIHNmbXQgPSBmbXQucmVwbGFjZShwY3QxLFwiXCIpLCBtdWwgPSBmbXQubGVuZ3RoIC0gc2ZtdC5sZW5ndGg7XG5cdHJldHVybiB3cml0ZV9udW0odHlwZSwgc2ZtdCwgdmFsICogTWF0aC5wb3coMTAsMiptdWwpKSArIGZpbGwoXCIlXCIsbXVsKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfbnVtX2NtKHR5cGUvKjpzdHJpbmcqLywgZm10Lyo6c3RyaW5nKi8sIHZhbC8qOm51bWJlciovKS8qOnN0cmluZyove1xuXHR2YXIgaWR4ID0gZm10Lmxlbmd0aCAtIDE7XG5cdHdoaWxlKGZtdC5jaGFyQ29kZUF0KGlkeC0xKSA9PT0gNDQpIC0taWR4O1xuXHRyZXR1cm4gd3JpdGVfbnVtKHR5cGUsIGZtdC5zdWJzdHIoMCxpZHgpLCB2YWwgLyBNYXRoLnBvdygxMCwzKihmbXQubGVuZ3RoLWlkeCkpKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfbnVtX2V4cChmbXQvKjpzdHJpbmcqLywgdmFsLyo6bnVtYmVyKi8pLyo6c3RyaW5nKi97XG5cdHZhciBvLyo6c3RyaW5nKi87XG5cdHZhciBpZHggPSBmbXQuaW5kZXhPZihcIkVcIikgLSBmbXQuaW5kZXhPZihcIi5cIikgLSAxO1xuXHRpZihmbXQubWF0Y2goL14jKzAuMEVcXCswJC8pKSB7XG5cdFx0aWYodmFsID09IDApIHJldHVybiBcIjAuMEUrMFwiO1xuXHRcdGVsc2UgaWYodmFsIDwgMCkgcmV0dXJuIFwiLVwiICsgd3JpdGVfbnVtX2V4cChmbXQsIC12YWwpO1xuXHRcdHZhciBwZXJpb2QgPSBmbXQuaW5kZXhPZihcIi5cIik7IGlmKHBlcmlvZCA9PT0gLTEpIHBlcmlvZD1mbXQuaW5kZXhPZignRScpO1xuXHRcdHZhciBlZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsKSpNYXRoLkxPRzEwRSklcGVyaW9kO1xuXHRcdGlmKGVlIDwgMCkgZWUgKz0gcGVyaW9kO1xuXHRcdG8gPSAodmFsL01hdGgucG93KDEwLGVlKSkudG9QcmVjaXNpb24oaWR4KzErKHBlcmlvZCtlZSklcGVyaW9kKTtcblx0XHRpZihvLmluZGV4T2YoXCJlXCIpID09PSAtMSkge1xuXHRcdFx0dmFyIGZha2VlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWwpKk1hdGguTE9HMTBFKTtcblx0XHRcdGlmKG8uaW5kZXhPZihcIi5cIikgPT09IC0xKSBvID0gby5jaGFyQXQoMCkgKyBcIi5cIiArIG8uc3Vic3RyKDEpICsgXCJFK1wiICsgKGZha2VlIC0gby5sZW5ndGgrZWUpO1xuXHRcdFx0ZWxzZSBvICs9IFwiRStcIiArIChmYWtlZSAtIGVlKTtcblx0XHRcdHdoaWxlKG8uc3Vic3RyKDAsMikgPT09IFwiMC5cIikge1xuXHRcdFx0XHRvID0gby5jaGFyQXQoMCkgKyBvLnN1YnN0cigyLHBlcmlvZCkgKyBcIi5cIiArIG8uc3Vic3RyKDIrcGVyaW9kKTtcblx0XHRcdFx0byA9IG8ucmVwbGFjZSgvXjArKFsxLTldKS8sXCIkMVwiKS5yZXBsYWNlKC9eMCtcXC4vLFwiMC5cIik7XG5cdFx0XHR9XG5cdFx0XHRvID0gby5yZXBsYWNlKC9cXCstLyxcIi1cIik7XG5cdFx0fVxuXHRcdG8gPSBvLnJlcGxhY2UoL14oWystXT8pKFxcZCopXFwuKFxcZCopW0VlXS8sZnVuY3Rpb24oJCQsJDEsJDIsJDMpIHsgcmV0dXJuICQxICsgJDIgKyAkMy5zdWJzdHIoMCwocGVyaW9kK2VlKSVwZXJpb2QpICsgXCIuXCIgKyAkMy5zdWJzdHIoZWUpICsgXCJFXCI7IH0pO1xuXHR9IGVsc2UgbyA9IHZhbC50b0V4cG9uZW50aWFsKGlkeCk7XG5cdGlmKGZtdC5tYXRjaCgvRVxcKzAwJC8pICYmIG8ubWF0Y2goL2VbKy1dXFxkJC8pKSBvID0gby5zdWJzdHIoMCxvLmxlbmd0aC0xKSArIFwiMFwiICsgby5jaGFyQXQoby5sZW5ndGgtMSk7XG5cdGlmKGZtdC5tYXRjaCgvRVxcLS8pICYmIG8ubWF0Y2goL2VcXCsvKSkgbyA9IG8ucmVwbGFjZSgvZVxcKy8sXCJlXCIpO1xuXHRyZXR1cm4gby5yZXBsYWNlKFwiZVwiLFwiRVwiKTtcbn1cbnZhciBmcmFjMSA9IC8jIChcXD8rKSggPylcXC8oID8pKFxcZCspLztcbmZ1bmN0aW9uIHdyaXRlX251bV9mMShyLyo6QXJyYXk8c3RyaW5nPiovLCBhdmFsLyo6bnVtYmVyKi8sIHNpZ24vKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7XG5cdHZhciBkZW4gPSBwYXJzZUludChyWzRdLDEwKSwgcnIgPSBNYXRoLnJvdW5kKGF2YWwgKiBkZW4pLCBiYXNlID0gTWF0aC5mbG9vcihyci9kZW4pO1xuXHR2YXIgbXluID0gKHJyIC0gYmFzZSpkZW4pLCBteWQgPSBkZW47XG5cdHJldHVybiBzaWduICsgKGJhc2UgPT09IDAgPyBcIlwiIDogXCJcIitiYXNlKSArIFwiIFwiICsgKG15biA9PT0gMCA/IGZpbGwoXCIgXCIsIHJbMV0ubGVuZ3RoICsgMSArIHJbNF0ubGVuZ3RoKSA6IHBhZF8obXluLHJbMV0ubGVuZ3RoKSArIHJbMl0gKyBcIi9cIiArIHJbM10gKyBwYWQwKG15ZCxyWzRdLmxlbmd0aCkpO1xufVxuZnVuY3Rpb24gd3JpdGVfbnVtX2YyKHIvKjpBcnJheTxzdHJpbmc+Ki8sIGF2YWwvKjpudW1iZXIqLywgc2lnbi8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0cmV0dXJuIHNpZ24gKyAoYXZhbCA9PT0gMCA/IFwiXCIgOiBcIlwiK2F2YWwpICsgZmlsbChcIiBcIiwgclsxXS5sZW5ndGggKyAyICsgcls0XS5sZW5ndGgpO1xufVxudmFyIGRlYzEgPSAvXiMqMCpcXC4oWzAjXSspLztcbnZhciBjbG9zZXBhcmVuID0gL1xcKVteKV0qWzAjXS87XG52YXIgcGhvbmUgPSAvXFwoIyMjXFwpICMjI1xcXFw/LSMjIyMvO1xuZnVuY3Rpb24gaGFzaHEoc3RyLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgbyA9IFwiXCIsIGNjO1xuXHRmb3IodmFyIGkgPSAwOyBpICE9IHN0ci5sZW5ndGg7ICsraSkgc3dpdGNoKChjYz1zdHIuY2hhckNvZGVBdChpKSkpIHtcblx0XHRjYXNlIDM1OiBicmVhaztcblx0XHRjYXNlIDYzOiBvKz0gXCIgXCI7IGJyZWFrO1xuXHRcdGNhc2UgNDg6IG8rPSBcIjBcIjsgYnJlYWs7XG5cdFx0ZGVmYXVsdDogbys9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2MpO1xuXHR9XG5cdHJldHVybiBvO1xufVxuZnVuY3Rpb24gcm5kKHZhbC8qOm51bWJlciovLCBkLyo6bnVtYmVyKi8pLyo6c3RyaW5nKi8geyB2YXIgZGQgPSBNYXRoLnBvdygxMCxkKTsgcmV0dXJuIFwiXCIrKE1hdGgucm91bmQodmFsICogZGQpL2RkKTsgfVxuZnVuY3Rpb24gZGVjKHZhbC8qOm51bWJlciovLCBkLyo6bnVtYmVyKi8pLyo6bnVtYmVyKi8ge1xuXHR2YXIgX2ZyYWMgPSB2YWwgLSBNYXRoLmZsb29yKHZhbCksIGRkID0gTWF0aC5wb3coMTAsZCk7XG5cdGlmIChkIDwgKCcnICsgTWF0aC5yb3VuZChfZnJhYyAqIGRkKSkubGVuZ3RoKSByZXR1cm4gMDtcblx0cmV0dXJuIE1hdGgucm91bmQoX2ZyYWMgKiBkZCk7XG59XG5mdW5jdGlvbiBjYXJyeSh2YWwvKjpudW1iZXIqLywgZC8qOm51bWJlciovKS8qOm51bWJlciovIHtcblx0aWYgKGQgPCAoJycgKyBNYXRoLnJvdW5kKCh2YWwtTWF0aC5mbG9vcih2YWwpKSpNYXRoLnBvdygxMCxkKSkpLmxlbmd0aCkge1xuXHRcdHJldHVybiAxO1xuXHR9XG5cdHJldHVybiAwO1xufVxuZnVuY3Rpb24gZmxyKHZhbC8qOm51bWJlciovKS8qOnN0cmluZyovIHtcblx0aWYodmFsIDwgMjE0NzQ4MzY0NyAmJiB2YWwgPiAtMjE0NzQ4MzY0OCkgcmV0dXJuIFwiXCIrKHZhbCA+PSAwID8gKHZhbHwwKSA6ICh2YWwtMXwwKSk7XG5cdHJldHVybiBcIlwiK01hdGguZmxvb3IodmFsKTtcbn1cbmZ1bmN0aW9uIHdyaXRlX251bV9mbHQodHlwZS8qOnN0cmluZyovLCBmbXQvKjpzdHJpbmcqLywgdmFsLyo6bnVtYmVyKi8pLyo6c3RyaW5nKi8ge1xuXHRpZih0eXBlLmNoYXJDb2RlQXQoMCkgPT09IDQwICYmICFmbXQubWF0Y2goY2xvc2VwYXJlbikpIHtcblx0XHR2YXIgZmZtdCA9IGZtdC5yZXBsYWNlKC9cXCggKi8sXCJcIikucmVwbGFjZSgvIFxcKS8sXCJcIikucmVwbGFjZSgvXFwpLyxcIlwiKTtcblx0XHRpZih2YWwgPj0gMCkgcmV0dXJuIHdyaXRlX251bV9mbHQoJ24nLCBmZm10LCB2YWwpO1xuXHRcdHJldHVybiAnKCcgKyB3cml0ZV9udW1fZmx0KCduJywgZmZtdCwgLXZhbCkgKyAnKSc7XG5cdH1cblx0aWYoZm10LmNoYXJDb2RlQXQoZm10Lmxlbmd0aCAtIDEpID09PSA0NCkgcmV0dXJuIHdyaXRlX251bV9jbSh0eXBlLCBmbXQsIHZhbCk7XG5cdGlmKGZtdC5pbmRleE9mKCclJykgIT09IC0xKSByZXR1cm4gd3JpdGVfbnVtX3BjdCh0eXBlLCBmbXQsIHZhbCk7XG5cdGlmKGZtdC5pbmRleE9mKCdFJykgIT09IC0xKSByZXR1cm4gd3JpdGVfbnVtX2V4cChmbXQsIHZhbCk7XG5cdGlmKGZtdC5jaGFyQ29kZUF0KDApID09PSAzNikgcmV0dXJuIFwiJFwiK3dyaXRlX251bV9mbHQodHlwZSxmbXQuc3Vic3RyKGZtdC5jaGFyQXQoMSk9PScgJz8yOjEpLHZhbCk7XG5cdHZhciBvO1xuXHR2YXIgci8qOj9BcnJheTxzdHJpbmc+Ki8sIHJpLCBmZiwgYXZhbCA9IE1hdGguYWJzKHZhbCksIHNpZ24gPSB2YWwgPCAwID8gXCItXCIgOiBcIlwiO1xuXHRpZihmbXQubWF0Y2goL14wMCskLykpIHJldHVybiBzaWduICsgcGFkMHIoYXZhbCxmbXQubGVuZ3RoKTtcblx0aWYoZm10Lm1hdGNoKC9eWyM/XSskLykpIHtcblx0XHRvID0gcGFkMHIodmFsLDApOyBpZihvID09PSBcIjBcIikgbyA9IFwiXCI7XG5cdFx0cmV0dXJuIG8ubGVuZ3RoID4gZm10Lmxlbmd0aCA/IG8gOiBoYXNocShmbXQuc3Vic3RyKDAsZm10Lmxlbmd0aC1vLmxlbmd0aCkpICsgbztcblx0fVxuXHRpZigociA9IGZtdC5tYXRjaChmcmFjMSkpKSByZXR1cm4gd3JpdGVfbnVtX2YxKHIsIGF2YWwsIHNpZ24pO1xuXHRpZihmbXQubWF0Y2goL14jKzArJC8pKSByZXR1cm4gc2lnbiArIHBhZDByKGF2YWwsZm10Lmxlbmd0aCAtIGZtdC5pbmRleE9mKFwiMFwiKSk7XG5cdGlmKChyID0gZm10Lm1hdGNoKGRlYzEpKSkge1xuXHRcdG8gPSBybmQodmFsLCByWzFdLmxlbmd0aCkucmVwbGFjZSgvXihbXlxcLl0rKSQvLFwiJDEuXCIraGFzaHEoclsxXSkpLnJlcGxhY2UoL1xcLiQvLFwiLlwiK2hhc2hxKHJbMV0pKS5yZXBsYWNlKC9cXC4oXFxkKikkLyxmdW5jdGlvbigkJCwgJDEpIHsgcmV0dXJuIFwiLlwiICsgJDEgKyBmaWxsKFwiMFwiLCBoYXNocSgvKjo6KCovci8qOjp8fFtcIlwiXSkqL1sxXSkubGVuZ3RoLSQxLmxlbmd0aCk7IH0pO1xuXHRcdHJldHVybiBmbXQuaW5kZXhPZihcIjAuXCIpICE9PSAtMSA/IG8gOiBvLnJlcGxhY2UoL14wXFwuLyxcIi5cIik7XG5cdH1cblx0Zm10ID0gZm10LnJlcGxhY2UoL14jKyhbMC5dKS8sIFwiJDFcIik7XG5cdGlmKChyID0gZm10Lm1hdGNoKC9eKDAqKVxcLigjKikkLykpKSB7XG5cdFx0cmV0dXJuIHNpZ24gKyBybmQoYXZhbCwgclsyXS5sZW5ndGgpLnJlcGxhY2UoL1xcLihcXGQqWzEtOV0pMCokLyxcIi4kMVwiKS5yZXBsYWNlKC9eKC0/XFxkKikkLyxcIiQxLlwiKS5yZXBsYWNlKC9eMFxcLi8sclsxXS5sZW5ndGg/XCIwLlwiOlwiLlwiKTtcblx0fVxuXHRpZigociA9IGZtdC5tYXRjaCgvXiN7MSwzfSwjIzAoXFwuPykkLykpKSByZXR1cm4gc2lnbiArIGNvbW1haWZ5KHBhZDByKGF2YWwsMCkpO1xuXHRpZigociA9IGZtdC5tYXRjaCgvXiMsIyMwXFwuKFsjMF0qMCkkLykpKSB7XG5cdFx0cmV0dXJuIHZhbCA8IDAgPyBcIi1cIiArIHdyaXRlX251bV9mbHQodHlwZSwgZm10LCAtdmFsKSA6IGNvbW1haWZ5KFwiXCIrKE1hdGguZmxvb3IodmFsKSArIGNhcnJ5KHZhbCwgclsxXS5sZW5ndGgpKSkgKyBcIi5cIiArIHBhZDAoZGVjKHZhbCwgclsxXS5sZW5ndGgpLHJbMV0ubGVuZ3RoKTtcblx0fVxuXHRpZigociA9IGZtdC5tYXRjaCgvXiMsIyosIzAvKSkpIHJldHVybiB3cml0ZV9udW1fZmx0KHR5cGUsZm10LnJlcGxhY2UoL14jLCMqLC8sXCJcIiksdmFsKTtcblx0aWYoKHIgPSBmbXQubWF0Y2goL14oWzAjXSspKFxcXFw/LShbMCNdKykpKyQvKSkpIHtcblx0XHRvID0gX3N0cnJldih3cml0ZV9udW1fZmx0KHR5cGUsIGZtdC5yZXBsYWNlKC9bXFxcXC1dL2csXCJcIiksIHZhbCkpO1xuXHRcdHJpID0gMDtcblx0XHRyZXR1cm4gX3N0cnJldihfc3RycmV2KGZtdC5yZXBsYWNlKC9cXFxcL2csXCJcIikpLnJlcGxhY2UoL1swI10vZyxmdW5jdGlvbih4KXtyZXR1cm4gcmk8by5sZW5ndGg/by5jaGFyQXQocmkrKyk6eD09PScwJz8nMCc6XCJcIjt9KSk7XG5cdH1cblx0aWYoZm10Lm1hdGNoKHBob25lKSkge1xuXHRcdG8gPSB3cml0ZV9udW1fZmx0KHR5cGUsIFwiIyMjIyMjIyMjI1wiLCB2YWwpO1xuXHRcdHJldHVybiBcIihcIiArIG8uc3Vic3RyKDAsMykgKyBcIikgXCIgKyBvLnN1YnN0cigzLCAzKSArIFwiLVwiICsgby5zdWJzdHIoNik7XG5cdH1cblx0dmFyIG9hID0gXCJcIjtcblx0aWYoKHIgPSBmbXQubWF0Y2goL14oWyMwP10rKSggPylcXC8oID8pKFsjMD9dKykvKSkpIHtcblx0XHRyaSA9IE1hdGgubWluKC8qOjpTdHJpbmcoKi9yWzRdLyo6OikqLy5sZW5ndGgsNyk7XG5cdFx0ZmYgPSBTU0ZfZnJhYyhhdmFsLCBNYXRoLnBvdygxMCxyaSktMSwgZmFsc2UpO1xuXHRcdG8gPSBcIlwiICsgc2lnbjtcblx0XHRvYSA9IHdyaXRlX251bShcIm5cIiwgLyo6OlN0cmluZygqL3JbMV0vKjo6KSovLCBmZlsxXSk7XG5cdFx0aWYob2EuY2hhckF0KG9hLmxlbmd0aC0xKSA9PSBcIiBcIikgb2EgPSBvYS5zdWJzdHIoMCxvYS5sZW5ndGgtMSkgKyBcIjBcIjtcblx0XHRvICs9IG9hICsgLyo6OlN0cmluZygqL3JbMl0vKjo6KSovICsgXCIvXCIgKyAvKjo6U3RyaW5nKCovclszXS8qOjopKi87XG5cdFx0b2EgPSBycGFkXyhmZlsyXSxyaSk7XG5cdFx0aWYob2EubGVuZ3RoIDwgcls0XS5sZW5ndGgpIG9hID0gaGFzaHEocls0XS5zdWJzdHIocls0XS5sZW5ndGgtb2EubGVuZ3RoKSkgKyBvYTtcblx0XHRvICs9IG9hO1xuXHRcdHJldHVybiBvO1xuXHR9XG5cdGlmKChyID0gZm10Lm1hdGNoKC9eIyAoWyMwP10rKSggPylcXC8oID8pKFsjMD9dKykvKSkpIHtcblx0XHRyaSA9IE1hdGgubWluKE1hdGgubWF4KHJbMV0ubGVuZ3RoLCByWzRdLmxlbmd0aCksNyk7XG5cdFx0ZmYgPSBTU0ZfZnJhYyhhdmFsLCBNYXRoLnBvdygxMCxyaSktMSwgdHJ1ZSk7XG5cdFx0cmV0dXJuIHNpZ24gKyAoZmZbMF18fChmZlsxXSA/IFwiXCIgOiBcIjBcIikpICsgXCIgXCIgKyAoZmZbMV0gPyBwYWRfKGZmWzFdLHJpKSArIHJbMl0gKyBcIi9cIiArIHJbM10gKyBycGFkXyhmZlsyXSxyaSk6IGZpbGwoXCIgXCIsIDIqcmkrMSArIHJbMl0ubGVuZ3RoICsgclszXS5sZW5ndGgpKTtcblx0fVxuXHRpZigociA9IGZtdC5tYXRjaCgvXlsjMD9dKyQvKSkpIHtcblx0XHRvID0gcGFkMHIodmFsLCAwKTtcblx0XHRpZihmbXQubGVuZ3RoIDw9IG8ubGVuZ3RoKSByZXR1cm4gbztcblx0XHRyZXR1cm4gaGFzaHEoZm10LnN1YnN0cigwLGZtdC5sZW5ndGgtby5sZW5ndGgpKSArIG87XG5cdH1cblx0aWYoKHIgPSBmbXQubWF0Y2goL14oWyMwP10rKVxcLihbIzBdKykkLykpKSB7XG5cdFx0byA9IFwiXCIgKyB2YWwudG9GaXhlZChNYXRoLm1pbihyWzJdLmxlbmd0aCwxMCkpLnJlcGxhY2UoLyhbXjBdKTArJC8sXCIkMVwiKTtcblx0XHRyaSA9IG8uaW5kZXhPZihcIi5cIik7XG5cdFx0dmFyIGxyZXMgPSBmbXQuaW5kZXhPZihcIi5cIikgLSByaSwgcnJlcyA9IGZtdC5sZW5ndGggLSBvLmxlbmd0aCAtIGxyZXM7XG5cdFx0cmV0dXJuIGhhc2hxKGZtdC5zdWJzdHIoMCxscmVzKSArIG8gKyBmbXQuc3Vic3RyKGZtdC5sZW5ndGgtcnJlcykpO1xuXHR9XG5cdGlmKChyID0gZm10Lm1hdGNoKC9eMDAsMDAwXFwuKFsjMF0qMCkkLykpKSB7XG5cdFx0cmkgPSBkZWModmFsLCByWzFdLmxlbmd0aCk7XG5cdFx0cmV0dXJuIHZhbCA8IDAgPyBcIi1cIiArIHdyaXRlX251bV9mbHQodHlwZSwgZm10LCAtdmFsKSA6IGNvbW1haWZ5KGZscih2YWwpKS5yZXBsYWNlKC9eXFxkLFxcZHszfSQvLFwiMCQmXCIpLnJlcGxhY2UoL15cXGQqJC8sZnVuY3Rpb24oJCQpIHsgcmV0dXJuIFwiMDAsXCIgKyAoJCQubGVuZ3RoIDwgMyA/IHBhZDAoMCwzLSQkLmxlbmd0aCkgOiBcIlwiKSArICQkOyB9KSArIFwiLlwiICsgcGFkMChyaSxyWzFdLmxlbmd0aCk7XG5cdH1cblx0c3dpdGNoKGZtdCkge1xuXHRcdGNhc2UgXCIjIyMsIyMwLjAwXCI6IHJldHVybiB3cml0ZV9udW1fZmx0KHR5cGUsIFwiIywjIzAuMDBcIiwgdmFsKTtcblx0XHRjYXNlIFwiIyMjLCMjI1wiOlxuXHRcdGNhc2UgXCIjIywjIyNcIjpcblx0XHRjYXNlIFwiIywjIyNcIjogdmFyIHggPSBjb21tYWlmeShwYWQwcihhdmFsLDApKTsgcmV0dXJuIHggIT09IFwiMFwiID8gc2lnbiArIHggOiBcIlwiO1xuXHRcdGNhc2UgXCIjIyMsIyMjLjAwXCI6IHJldHVybiB3cml0ZV9udW1fZmx0KHR5cGUsIFwiIyMjLCMjMC4wMFwiLHZhbCkucmVwbGFjZSgvXjBcXC4vLFwiLlwiKTtcblx0XHRjYXNlIFwiIywjIyMuMDBcIjogcmV0dXJuIHdyaXRlX251bV9mbHQodHlwZSwgXCIjLCMjMC4wMFwiLHZhbCkucmVwbGFjZSgvXjBcXC4vLFwiLlwiKTtcblx0XHRkZWZhdWx0OlxuXHR9XG5cdHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGZvcm1hdCB8XCIgKyBmbXQgKyBcInxcIik7XG59XG5mdW5jdGlvbiB3cml0ZV9udW1fY20yKHR5cGUvKjpzdHJpbmcqLywgZm10Lyo6c3RyaW5nKi8sIHZhbC8qOm51bWJlciovKS8qOnN0cmluZyove1xuXHR2YXIgaWR4ID0gZm10Lmxlbmd0aCAtIDE7XG5cdHdoaWxlKGZtdC5jaGFyQ29kZUF0KGlkeC0xKSA9PT0gNDQpIC0taWR4O1xuXHRyZXR1cm4gd3JpdGVfbnVtKHR5cGUsIGZtdC5zdWJzdHIoMCxpZHgpLCB2YWwgLyBNYXRoLnBvdygxMCwzKihmbXQubGVuZ3RoLWlkeCkpKTtcbn1cbmZ1bmN0aW9uIHdyaXRlX251bV9wY3QyKHR5cGUvKjpzdHJpbmcqLywgZm10Lyo6c3RyaW5nKi8sIHZhbC8qOm51bWJlciovKS8qOnN0cmluZyove1xuXHR2YXIgc2ZtdCA9IGZtdC5yZXBsYWNlKHBjdDEsXCJcIiksIG11bCA9IGZtdC5sZW5ndGggLSBzZm10Lmxlbmd0aDtcblx0cmV0dXJuIHdyaXRlX251bSh0eXBlLCBzZm10LCB2YWwgKiBNYXRoLnBvdygxMCwyKm11bCkpICsgZmlsbChcIiVcIixtdWwpO1xufVxuZnVuY3Rpb24gd3JpdGVfbnVtX2V4cDIoZm10Lyo6c3RyaW5nKi8sIHZhbC8qOm51bWJlciovKS8qOnN0cmluZyove1xuXHR2YXIgby8qOnN0cmluZyovO1xuXHR2YXIgaWR4ID0gZm10LmluZGV4T2YoXCJFXCIpIC0gZm10LmluZGV4T2YoXCIuXCIpIC0gMTtcblx0aWYoZm10Lm1hdGNoKC9eIyswLjBFXFwrMCQvKSkge1xuXHRcdGlmKHZhbCA9PSAwKSByZXR1cm4gXCIwLjBFKzBcIjtcblx0XHRlbHNlIGlmKHZhbCA8IDApIHJldHVybiBcIi1cIiArIHdyaXRlX251bV9leHAyKGZtdCwgLXZhbCk7XG5cdFx0dmFyIHBlcmlvZCA9IGZtdC5pbmRleE9mKFwiLlwiKTsgaWYocGVyaW9kID09PSAtMSkgcGVyaW9kPWZtdC5pbmRleE9mKCdFJyk7XG5cdFx0dmFyIGVlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWwpKk1hdGguTE9HMTBFKSVwZXJpb2Q7XG5cdFx0aWYoZWUgPCAwKSBlZSArPSBwZXJpb2Q7XG5cdFx0byA9ICh2YWwvTWF0aC5wb3coMTAsZWUpKS50b1ByZWNpc2lvbihpZHgrMSsocGVyaW9kK2VlKSVwZXJpb2QpO1xuXHRcdGlmKCFvLm1hdGNoKC9bRWVdLykpIHtcblx0XHRcdHZhciBmYWtlZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsKSpNYXRoLkxPRzEwRSk7XG5cdFx0XHRpZihvLmluZGV4T2YoXCIuXCIpID09PSAtMSkgbyA9IG8uY2hhckF0KDApICsgXCIuXCIgKyBvLnN1YnN0cigxKSArIFwiRStcIiArIChmYWtlZSAtIG8ubGVuZ3RoK2VlKTtcblx0XHRcdGVsc2UgbyArPSBcIkUrXCIgKyAoZmFrZWUgLSBlZSk7XG5cdFx0XHRvID0gby5yZXBsYWNlKC9cXCstLyxcIi1cIik7XG5cdFx0fVxuXHRcdG8gPSBvLnJlcGxhY2UoL14oWystXT8pKFxcZCopXFwuKFxcZCopW0VlXS8sZnVuY3Rpb24oJCQsJDEsJDIsJDMpIHsgcmV0dXJuICQxICsgJDIgKyAkMy5zdWJzdHIoMCwocGVyaW9kK2VlKSVwZXJpb2QpICsgXCIuXCIgKyAkMy5zdWJzdHIoZWUpICsgXCJFXCI7IH0pO1xuXHR9IGVsc2UgbyA9IHZhbC50b0V4cG9uZW50aWFsKGlkeCk7XG5cdGlmKGZtdC5tYXRjaCgvRVxcKzAwJC8pICYmIG8ubWF0Y2goL2VbKy1dXFxkJC8pKSBvID0gby5zdWJzdHIoMCxvLmxlbmd0aC0xKSArIFwiMFwiICsgby5jaGFyQXQoby5sZW5ndGgtMSk7XG5cdGlmKGZtdC5tYXRjaCgvRVxcLS8pICYmIG8ubWF0Y2goL2VcXCsvKSkgbyA9IG8ucmVwbGFjZSgvZVxcKy8sXCJlXCIpO1xuXHRyZXR1cm4gby5yZXBsYWNlKFwiZVwiLFwiRVwiKTtcbn1cbmZ1bmN0aW9uIHdyaXRlX251bV9pbnQodHlwZS8qOnN0cmluZyovLCBmbXQvKjpzdHJpbmcqLywgdmFsLyo6bnVtYmVyKi8pLyo6c3RyaW5nKi8ge1xuXHRpZih0eXBlLmNoYXJDb2RlQXQoMCkgPT09IDQwICYmICFmbXQubWF0Y2goY2xvc2VwYXJlbikpIHtcblx0XHR2YXIgZmZtdCA9IGZtdC5yZXBsYWNlKC9cXCggKi8sXCJcIikucmVwbGFjZSgvIFxcKS8sXCJcIikucmVwbGFjZSgvXFwpLyxcIlwiKTtcblx0XHRpZih2YWwgPj0gMCkgcmV0dXJuIHdyaXRlX251bV9pbnQoJ24nLCBmZm10LCB2YWwpO1xuXHRcdHJldHVybiAnKCcgKyB3cml0ZV9udW1faW50KCduJywgZmZtdCwgLXZhbCkgKyAnKSc7XG5cdH1cblx0aWYoZm10LmNoYXJDb2RlQXQoZm10Lmxlbmd0aCAtIDEpID09PSA0NCkgcmV0dXJuIHdyaXRlX251bV9jbTIodHlwZSwgZm10LCB2YWwpO1xuXHRpZihmbXQuaW5kZXhPZignJScpICE9PSAtMSkgcmV0dXJuIHdyaXRlX251bV9wY3QyKHR5cGUsIGZtdCwgdmFsKTtcblx0aWYoZm10LmluZGV4T2YoJ0UnKSAhPT0gLTEpIHJldHVybiB3cml0ZV9udW1fZXhwMihmbXQsIHZhbCk7XG5cdGlmKGZtdC5jaGFyQ29kZUF0KDApID09PSAzNikgcmV0dXJuIFwiJFwiK3dyaXRlX251bV9pbnQodHlwZSxmbXQuc3Vic3RyKGZtdC5jaGFyQXQoMSk9PScgJz8yOjEpLHZhbCk7XG5cdHZhciBvO1xuXHR2YXIgci8qOj9BcnJheTxzdHJpbmc+Ki8sIHJpLCBmZiwgYXZhbCA9IE1hdGguYWJzKHZhbCksIHNpZ24gPSB2YWwgPCAwID8gXCItXCIgOiBcIlwiO1xuXHRpZihmbXQubWF0Y2goL14wMCskLykpIHJldHVybiBzaWduICsgcGFkMChhdmFsLGZtdC5sZW5ndGgpO1xuXHRpZihmbXQubWF0Y2goL15bIz9dKyQvKSkge1xuXHRcdG8gPSAoXCJcIit2YWwpOyBpZih2YWwgPT09IDApIG8gPSBcIlwiO1xuXHRcdHJldHVybiBvLmxlbmd0aCA+IGZtdC5sZW5ndGggPyBvIDogaGFzaHEoZm10LnN1YnN0cigwLGZtdC5sZW5ndGgtby5sZW5ndGgpKSArIG87XG5cdH1cblx0aWYoKHIgPSBmbXQubWF0Y2goZnJhYzEpKSkgcmV0dXJuIHdyaXRlX251bV9mMihyLCBhdmFsLCBzaWduKTtcblx0aWYoZm10Lm1hdGNoKC9eIyswKyQvKSkgcmV0dXJuIHNpZ24gKyBwYWQwKGF2YWwsZm10Lmxlbmd0aCAtIGZtdC5pbmRleE9mKFwiMFwiKSk7XG5cdGlmKChyID0gZm10Lm1hdGNoKGRlYzEpKSkge1xuXHRcdC8qOjogaWYoIUFycmF5LmlzQXJyYXkocikpIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpOyAqL1xuXHRcdG8gPSAoXCJcIit2YWwpLnJlcGxhY2UoL14oW15cXC5dKykkLyxcIiQxLlwiK2hhc2hxKHJbMV0pKS5yZXBsYWNlKC9cXC4kLyxcIi5cIitoYXNocShyWzFdKSk7XG5cdFx0byA9IG8ucmVwbGFjZSgvXFwuKFxcZCopJC8sZnVuY3Rpb24oJCQsICQxKSB7XG5cdFx0Lyo6OiBpZighQXJyYXkuaXNBcnJheShyKSkgdGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGVcIik7ICovXG5cdFx0XHRyZXR1cm4gXCIuXCIgKyAkMSArIGZpbGwoXCIwXCIsIGhhc2hxKHJbMV0pLmxlbmd0aC0kMS5sZW5ndGgpOyB9KTtcblx0XHRyZXR1cm4gZm10LmluZGV4T2YoXCIwLlwiKSAhPT0gLTEgPyBvIDogby5yZXBsYWNlKC9eMFxcLi8sXCIuXCIpO1xuXHR9XG5cdGZtdCA9IGZtdC5yZXBsYWNlKC9eIysoWzAuXSkvLCBcIiQxXCIpO1xuXHRpZigociA9IGZtdC5tYXRjaCgvXigwKilcXC4oIyopJC8pKSkge1xuXHRcdHJldHVybiBzaWduICsgKFwiXCIrYXZhbCkucmVwbGFjZSgvXFwuKFxcZCpbMS05XSkwKiQvLFwiLiQxXCIpLnJlcGxhY2UoL14oLT9cXGQqKSQvLFwiJDEuXCIpLnJlcGxhY2UoL14wXFwuLyxyWzFdLmxlbmd0aD9cIjAuXCI6XCIuXCIpO1xuXHR9XG5cdGlmKChyID0gZm10Lm1hdGNoKC9eI3sxLDN9LCMjMChcXC4/KSQvKSkpIHJldHVybiBzaWduICsgY29tbWFpZnkoKFwiXCIrYXZhbCkpO1xuXHRpZigociA9IGZtdC5tYXRjaCgvXiMsIyMwXFwuKFsjMF0qMCkkLykpKSB7XG5cdFx0cmV0dXJuIHZhbCA8IDAgPyBcIi1cIiArIHdyaXRlX251bV9pbnQodHlwZSwgZm10LCAtdmFsKSA6IGNvbW1haWZ5KChcIlwiK3ZhbCkpICsgXCIuXCIgKyBmaWxsKCcwJyxyWzFdLmxlbmd0aCk7XG5cdH1cblx0aWYoKHIgPSBmbXQubWF0Y2goL14jLCMqLCMwLykpKSByZXR1cm4gd3JpdGVfbnVtX2ludCh0eXBlLGZtdC5yZXBsYWNlKC9eIywjKiwvLFwiXCIpLHZhbCk7XG5cdGlmKChyID0gZm10Lm1hdGNoKC9eKFswI10rKShcXFxcPy0oWzAjXSspKSskLykpKSB7XG5cdFx0byA9IF9zdHJyZXYod3JpdGVfbnVtX2ludCh0eXBlLCBmbXQucmVwbGFjZSgvW1xcXFwtXS9nLFwiXCIpLCB2YWwpKTtcblx0XHRyaSA9IDA7XG5cdFx0cmV0dXJuIF9zdHJyZXYoX3N0cnJldihmbXQucmVwbGFjZSgvXFxcXC9nLFwiXCIpKS5yZXBsYWNlKC9bMCNdL2csZnVuY3Rpb24oeCl7cmV0dXJuIHJpPG8ubGVuZ3RoP28uY2hhckF0KHJpKyspOng9PT0nMCc/JzAnOlwiXCI7fSkpO1xuXHR9XG5cdGlmKGZtdC5tYXRjaChwaG9uZSkpIHtcblx0XHRvID0gd3JpdGVfbnVtX2ludCh0eXBlLCBcIiMjIyMjIyMjIyNcIiwgdmFsKTtcblx0XHRyZXR1cm4gXCIoXCIgKyBvLnN1YnN0cigwLDMpICsgXCIpIFwiICsgby5zdWJzdHIoMywgMykgKyBcIi1cIiArIG8uc3Vic3RyKDYpO1xuXHR9XG5cdHZhciBvYSA9IFwiXCI7XG5cdGlmKChyID0gZm10Lm1hdGNoKC9eKFsjMD9dKykoID8pXFwvKCA/KShbIzA/XSspLykpKSB7XG5cdFx0cmkgPSBNYXRoLm1pbigvKjo6U3RyaW5nKCovcls0XS8qOjopKi8ubGVuZ3RoLDcpO1xuXHRcdGZmID0gU1NGX2ZyYWMoYXZhbCwgTWF0aC5wb3coMTAscmkpLTEsIGZhbHNlKTtcblx0XHRvID0gXCJcIiArIHNpZ247XG5cdFx0b2EgPSB3cml0ZV9udW0oXCJuXCIsIC8qOjpTdHJpbmcoKi9yWzFdLyo6OikqLywgZmZbMV0pO1xuXHRcdGlmKG9hLmNoYXJBdChvYS5sZW5ndGgtMSkgPT0gXCIgXCIpIG9hID0gb2Euc3Vic3RyKDAsb2EubGVuZ3RoLTEpICsgXCIwXCI7XG5cdFx0byArPSBvYSArIC8qOjpTdHJpbmcoKi9yWzJdLyo6OikqLyArIFwiL1wiICsgLyo6OlN0cmluZygqL3JbM10vKjo6KSovO1xuXHRcdG9hID0gcnBhZF8oZmZbMl0scmkpO1xuXHRcdGlmKG9hLmxlbmd0aCA8IHJbNF0ubGVuZ3RoKSBvYSA9IGhhc2hxKHJbNF0uc3Vic3RyKHJbNF0ubGVuZ3RoLW9hLmxlbmd0aCkpICsgb2E7XG5cdFx0byArPSBvYTtcblx0XHRyZXR1cm4gbztcblx0fVxuXHRpZigociA9IGZtdC5tYXRjaCgvXiMgKFsjMD9dKykoID8pXFwvKCA/KShbIzA/XSspLykpKSB7XG5cdFx0cmkgPSBNYXRoLm1pbihNYXRoLm1heChyWzFdLmxlbmd0aCwgcls0XS5sZW5ndGgpLDcpO1xuXHRcdGZmID0gU1NGX2ZyYWMoYXZhbCwgTWF0aC5wb3coMTAscmkpLTEsIHRydWUpO1xuXHRcdHJldHVybiBzaWduICsgKGZmWzBdfHwoZmZbMV0gPyBcIlwiIDogXCIwXCIpKSArIFwiIFwiICsgKGZmWzFdID8gcGFkXyhmZlsxXSxyaSkgKyByWzJdICsgXCIvXCIgKyByWzNdICsgcnBhZF8oZmZbMl0scmkpOiBmaWxsKFwiIFwiLCAyKnJpKzEgKyByWzJdLmxlbmd0aCArIHJbM10ubGVuZ3RoKSk7XG5cdH1cblx0aWYoKHIgPSBmbXQubWF0Y2goL15bIzA/XSskLykpKSB7XG5cdFx0byA9IFwiXCIgKyB2YWw7XG5cdFx0aWYoZm10Lmxlbmd0aCA8PSBvLmxlbmd0aCkgcmV0dXJuIG87XG5cdFx0cmV0dXJuIGhhc2hxKGZtdC5zdWJzdHIoMCxmbXQubGVuZ3RoLW8ubGVuZ3RoKSkgKyBvO1xuXHR9XG5cdGlmKChyID0gZm10Lm1hdGNoKC9eKFsjMF0rKVxcLihbIzBdKykkLykpKSB7XG5cdFx0byA9IFwiXCIgKyB2YWwudG9GaXhlZChNYXRoLm1pbihyWzJdLmxlbmd0aCwxMCkpLnJlcGxhY2UoLyhbXjBdKTArJC8sXCIkMVwiKTtcblx0XHRyaSA9IG8uaW5kZXhPZihcIi5cIik7XG5cdFx0dmFyIGxyZXMgPSBmbXQuaW5kZXhPZihcIi5cIikgLSByaSwgcnJlcyA9IGZtdC5sZW5ndGggLSBvLmxlbmd0aCAtIGxyZXM7XG5cdFx0cmV0dXJuIGhhc2hxKGZtdC5zdWJzdHIoMCxscmVzKSArIG8gKyBmbXQuc3Vic3RyKGZtdC5sZW5ndGgtcnJlcykpO1xuXHR9XG5cdGlmKChyID0gZm10Lm1hdGNoKC9eMDAsMDAwXFwuKFsjMF0qMCkkLykpKSB7XG5cdFx0cmV0dXJuIHZhbCA8IDAgPyBcIi1cIiArIHdyaXRlX251bV9pbnQodHlwZSwgZm10LCAtdmFsKSA6IGNvbW1haWZ5KFwiXCIrdmFsKS5yZXBsYWNlKC9eXFxkLFxcZHszfSQvLFwiMCQmXCIpLnJlcGxhY2UoL15cXGQqJC8sZnVuY3Rpb24oJCQpIHsgcmV0dXJuIFwiMDAsXCIgKyAoJCQubGVuZ3RoIDwgMyA/IHBhZDAoMCwzLSQkLmxlbmd0aCkgOiBcIlwiKSArICQkOyB9KSArIFwiLlwiICsgcGFkMCgwLHJbMV0ubGVuZ3RoKTtcblx0fVxuXHRzd2l0Y2goZm10KSB7XG5cdFx0Y2FzZSBcIiMjIywjIyNcIjpcblx0XHRjYXNlIFwiIyMsIyMjXCI6XG5cdFx0Y2FzZSBcIiMsIyMjXCI6IHZhciB4ID0gY29tbWFpZnkoXCJcIithdmFsKTsgcmV0dXJuIHggIT09IFwiMFwiID8gc2lnbiArIHggOiBcIlwiO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRpZihmbXQubWF0Y2goL1xcLlswIz9dKiQvKSkgcmV0dXJuIHdyaXRlX251bV9pbnQodHlwZSwgZm10LnNsaWNlKDAsZm10Lmxhc3RJbmRleE9mKFwiLlwiKSksIHZhbCkgKyBoYXNocShmbXQuc2xpY2UoZm10Lmxhc3RJbmRleE9mKFwiLlwiKSkpO1xuXHR9XG5cdHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGZvcm1hdCB8XCIgKyBmbXQgKyBcInxcIik7XG59XG5mdW5jdGlvbiB3cml0ZV9udW0odHlwZS8qOnN0cmluZyovLCBmbXQvKjpzdHJpbmcqLywgdmFsLyo6bnVtYmVyKi8pLyo6c3RyaW5nKi8ge1xuXHRyZXR1cm4gKHZhbHwwKSA9PT0gdmFsID8gd3JpdGVfbnVtX2ludCh0eXBlLCBmbXQsIHZhbCkgOiB3cml0ZV9udW1fZmx0KHR5cGUsIGZtdCwgdmFsKTtcbn1cbmZ1bmN0aW9uIFNTRl9zcGxpdF9mbXQoZm10Lyo6c3RyaW5nKi8pLyo6QXJyYXk8c3RyaW5nPiovIHtcblx0dmFyIG91dC8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHR2YXIgaW5fc3RyID0gZmFsc2UvKiwgY2MqLztcblx0Zm9yKHZhciBpID0gMCwgaiA9IDA7IGkgPCBmbXQubGVuZ3RoOyArK2kpIHN3aXRjaCgoLypjYz0qL2ZtdC5jaGFyQ29kZUF0KGkpKSkge1xuXHRcdGNhc2UgMzQ6IC8qICdcIicgKi9cblx0XHRcdGluX3N0ciA9ICFpbl9zdHI7IGJyZWFrO1xuXHRcdGNhc2UgOTU6IGNhc2UgNDI6IGNhc2UgOTI6IC8qICdfJyAnKicgJ1xcXFwnICovXG5cdFx0XHQrK2k7IGJyZWFrO1xuXHRcdGNhc2UgNTk6IC8qICc7JyAqL1xuXHRcdFx0b3V0W291dC5sZW5ndGhdID0gZm10LnN1YnN0cihqLGktaik7XG5cdFx0XHRqID0gaSsxO1xuXHR9XG5cdG91dFtvdXQubGVuZ3RoXSA9IGZtdC5zdWJzdHIoaik7XG5cdGlmKGluX3N0ciA9PT0gdHJ1ZSkgdGhyb3cgbmV3IEVycm9yKFwiRm9ybWF0IHxcIiArIGZtdCArIFwifCB1bnRlcm1pbmF0ZWQgc3RyaW5nIFwiKTtcblx0cmV0dXJuIG91dDtcbn1cblxudmFyIFNTRl9hYnN0aW1lID0gL1xcW1tIaE1tU3NcXHUwRTBBXFx1MEUxOVxcdTBFMTddKlxcXS87XG5mdW5jdGlvbiBmbXRfaXNfZGF0ZShmbXQvKjpzdHJpbmcqLykvKjpib29sZWFuKi8ge1xuXHR2YXIgaSA9IDAsIC8qY2MgPSAwLCovIGMgPSBcIlwiLCBvID0gXCJcIjtcblx0d2hpbGUoaSA8IGZtdC5sZW5ndGgpIHtcblx0XHRzd2l0Y2goKGMgPSBmbXQuY2hhckF0KGkpKSkge1xuXHRcdFx0Y2FzZSAnRyc6IGlmKFNTRl9pc2dlbmVyYWwoZm10LCBpKSkgaSs9IDY7IGkrKzsgYnJlYWs7XG5cdFx0XHRjYXNlICdcIic6IGZvcig7KC8qY2M9Ki9mbXQuY2hhckNvZGVBdCgrK2kpKSAhPT0gMzQgJiYgaSA8IGZtdC5sZW5ndGg7KXsvKmVtcHR5Ki99ICsraTsgYnJlYWs7XG5cdFx0XHRjYXNlICdcXFxcJzogaSs9MjsgYnJlYWs7XG5cdFx0XHRjYXNlICdfJzogaSs9MjsgYnJlYWs7XG5cdFx0XHRjYXNlICdAJzogKytpOyBicmVhaztcblx0XHRcdGNhc2UgJ0InOiBjYXNlICdiJzpcblx0XHRcdFx0aWYoZm10LmNoYXJBdChpKzEpID09PSBcIjFcIiB8fCBmbXQuY2hhckF0KGkrMSkgPT09IFwiMlwiKSByZXR1cm4gdHJ1ZTtcblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnTSc6IGNhc2UgJ0QnOiBjYXNlICdZJzogY2FzZSAnSCc6IGNhc2UgJ1MnOiBjYXNlICdFJzpcblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnbSc6IGNhc2UgJ2QnOiBjYXNlICd5JzogY2FzZSAnaCc6IGNhc2UgJ3MnOiBjYXNlICdlJzogY2FzZSAnZyc6IHJldHVybiB0cnVlO1xuXHRcdFx0Y2FzZSAnQSc6IGNhc2UgJ2EnOiBjYXNlICfkuIonOlxuXHRcdFx0XHRpZihmbXQuc3Vic3RyKGksIDMpLnRvVXBwZXJDYXNlKCkgPT09IFwiQS9QXCIpIHJldHVybiB0cnVlO1xuXHRcdFx0XHRpZihmbXQuc3Vic3RyKGksIDUpLnRvVXBwZXJDYXNlKCkgPT09IFwiQU0vUE1cIikgcmV0dXJuIHRydWU7XG5cdFx0XHRcdGlmKGZtdC5zdWJzdHIoaSwgNSkudG9VcHBlckNhc2UoKSA9PT0gXCLkuIrljYgv5LiL5Y2IXCIpIHJldHVybiB0cnVlO1xuXHRcdFx0XHQrK2k7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnWyc6XG5cdFx0XHRcdG8gPSBjO1xuXHRcdFx0XHR3aGlsZShmbXQuY2hhckF0KGkrKykgIT09ICddJyAmJiBpIDwgZm10Lmxlbmd0aCkgbyArPSBmbXQuY2hhckF0KGkpO1xuXHRcdFx0XHRpZihvLm1hdGNoKFNTRl9hYnN0aW1lKSkgcmV0dXJuIHRydWU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnLic6XG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJzAnOiBjYXNlICcjJzpcblx0XHRcdFx0d2hpbGUoaSA8IGZtdC5sZW5ndGggJiYgKFwiMCM/LixFKy0lXCIuaW5kZXhPZihjPWZtdC5jaGFyQXQoKytpKSkgPiAtMSB8fCAoYz09J1xcXFwnICYmIGZtdC5jaGFyQXQoaSsxKSA9PSBcIi1cIiAmJiBcIjAjXCIuaW5kZXhPZihmbXQuY2hhckF0KGkrMikpPi0xKSkpey8qIGVtcHR5ICovfVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJz8nOiB3aGlsZShmbXQuY2hhckF0KCsraSkgPT09IGMpey8qIGVtcHR5ICovfSBicmVhaztcblx0XHRcdGNhc2UgJyonOiArK2k7IGlmKGZtdC5jaGFyQXQoaSkgPT0gJyAnIHx8IGZtdC5jaGFyQXQoaSkgPT0gJyonKSArK2k7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnKCc6IGNhc2UgJyknOiArK2k7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnMSc6IGNhc2UgJzInOiBjYXNlICczJzogY2FzZSAnNCc6IGNhc2UgJzUnOiBjYXNlICc2JzogY2FzZSAnNyc6IGNhc2UgJzgnOiBjYXNlICc5Jzpcblx0XHRcdFx0d2hpbGUoaSA8IGZtdC5sZW5ndGggJiYgXCIwMTIzNDU2Nzg5XCIuaW5kZXhPZihmbXQuY2hhckF0KCsraSkpID4gLTEpey8qIGVtcHR5ICovfSBicmVhaztcblx0XHRcdGNhc2UgJyAnOiArK2k7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogKytpOyBicmVhaztcblx0XHR9XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBldmFsX2ZtdChmbXQvKjpzdHJpbmcqLywgdi8qOmFueSovLCBvcHRzLyo6YW55Ki8sIGZsZW4vKjpudW1iZXIqLykge1xuXHR2YXIgb3V0ID0gW10sIG8gPSBcIlwiLCBpID0gMCwgYyA9IFwiXCIsIGxzdD0ndCcsIGR0LCBqLCBjYztcblx0dmFyIGhyPSdIJztcblx0LyogVG9rZW5pemUgKi9cblx0d2hpbGUoaSA8IGZtdC5sZW5ndGgpIHtcblx0XHRzd2l0Y2goKGMgPSBmbXQuY2hhckF0KGkpKSkge1xuXHRcdFx0Y2FzZSAnRyc6IC8qIEdlbmVyYWwgKi9cblx0XHRcdFx0aWYoIVNTRl9pc2dlbmVyYWwoZm10LCBpKSkgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgY2hhcmFjdGVyICcgKyBjICsgJyBpbiAnICtmbXQpO1xuXHRcdFx0XHRvdXRbb3V0Lmxlbmd0aF0gPSB7dDonRycsIHY6J0dlbmVyYWwnfTsgaSs9NzsgYnJlYWs7XG5cdFx0XHRjYXNlICdcIic6IC8qIExpdGVyYWwgdGV4dCAqL1xuXHRcdFx0XHRmb3Iobz1cIlwiOyhjYz1mbXQuY2hhckNvZGVBdCgrK2kpKSAhPT0gMzQgJiYgaSA8IGZtdC5sZW5ndGg7KSBvICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2MpO1xuXHRcdFx0XHRvdXRbb3V0Lmxlbmd0aF0gPSB7dDondCcsIHY6b307ICsraTsgYnJlYWs7XG5cdFx0XHRjYXNlICdcXFxcJzogdmFyIHcgPSBmbXQuY2hhckF0KCsraSksIHQgPSAodyA9PT0gXCIoXCIgfHwgdyA9PT0gXCIpXCIpID8gdyA6ICd0Jztcblx0XHRcdFx0b3V0W291dC5sZW5ndGhdID0ge3Q6dCwgdjp3fTsgKytpOyBicmVhaztcblx0XHRcdGNhc2UgJ18nOiBvdXRbb3V0Lmxlbmd0aF0gPSB7dDondCcsIHY6XCIgXCJ9OyBpKz0yOyBicmVhaztcblx0XHRcdGNhc2UgJ0AnOiAvKiBUZXh0IFBsYWNlaG9sZGVyICovXG5cdFx0XHRcdG91dFtvdXQubGVuZ3RoXSA9IHt0OidUJywgdjp2fTsgKytpOyBicmVhaztcblx0XHRcdGNhc2UgJ0InOiBjYXNlICdiJzpcblx0XHRcdFx0aWYoZm10LmNoYXJBdChpKzEpID09PSBcIjFcIiB8fCBmbXQuY2hhckF0KGkrMSkgPT09IFwiMlwiKSB7XG5cdFx0XHRcdFx0aWYoZHQ9PW51bGwpIHsgZHQ9U1NGX3BhcnNlX2RhdGVfY29kZSh2LCBvcHRzLCBmbXQuY2hhckF0KGkrMSkgPT09IFwiMlwiKTsgaWYoZHQ9PW51bGwpIHJldHVybiBcIlwiOyB9XG5cdFx0XHRcdFx0b3V0W291dC5sZW5ndGhdID0ge3Q6J1gnLCB2OmZtdC5zdWJzdHIoaSwyKX07IGxzdCA9IGM7IGkrPTI7IGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJ00nOiBjYXNlICdEJzogY2FzZSAnWSc6IGNhc2UgJ0gnOiBjYXNlICdTJzogY2FzZSAnRSc6XG5cdFx0XHRcdGMgPSBjLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJ20nOiBjYXNlICdkJzogY2FzZSAneSc6IGNhc2UgJ2gnOiBjYXNlICdzJzogY2FzZSAnZSc6IGNhc2UgJ2cnOlxuXHRcdFx0XHRpZih2IDwgMCkgcmV0dXJuIFwiXCI7XG5cdFx0XHRcdGlmKGR0PT1udWxsKSB7IGR0PVNTRl9wYXJzZV9kYXRlX2NvZGUodiwgb3B0cyk7IGlmKGR0PT1udWxsKSByZXR1cm4gXCJcIjsgfVxuXHRcdFx0XHRvID0gYzsgd2hpbGUoKytpIDwgZm10Lmxlbmd0aCAmJiBmbXQuY2hhckF0KGkpLnRvTG93ZXJDYXNlKCkgPT09IGMpIG8rPWM7XG5cdFx0XHRcdGlmKGMgPT09ICdtJyAmJiBsc3QudG9Mb3dlckNhc2UoKSA9PT0gJ2gnKSBjID0gJ00nO1xuXHRcdFx0XHRpZihjID09PSAnaCcpIGMgPSBocjtcblx0XHRcdFx0b3V0W291dC5sZW5ndGhdID0ge3Q6YywgdjpvfTsgbHN0ID0gYzsgYnJlYWs7XG5cdFx0XHRjYXNlICdBJzogY2FzZSAnYSc6IGNhc2UgJ+S4iic6XG5cdFx0XHRcdHZhciBxPXt0OmMsIHY6Y307XG5cdFx0XHRcdGlmKGR0PT1udWxsKSBkdD1TU0ZfcGFyc2VfZGF0ZV9jb2RlKHYsIG9wdHMpO1xuXHRcdFx0XHRpZihmbXQuc3Vic3RyKGksIDMpLnRvVXBwZXJDYXNlKCkgPT09IFwiQS9QXCIpIHsgaWYoZHQhPW51bGwpIHEudiA9IGR0LkggPj0gMTIgPyBmbXQuY2hhckF0KGkrMikgOiBjOyBxLnQgPSAnVCc7IGhyPSdoJztpKz0zO31cblx0XHRcdFx0ZWxzZSBpZihmbXQuc3Vic3RyKGksNSkudG9VcHBlckNhc2UoKSA9PT0gXCJBTS9QTVwiKSB7IGlmKGR0IT1udWxsKSBxLnYgPSBkdC5IID49IDEyID8gXCJQTVwiIDogXCJBTVwiOyBxLnQgPSAnVCc7IGkrPTU7IGhyPSdoJzsgfVxuXHRcdFx0XHRlbHNlIGlmKGZtdC5zdWJzdHIoaSw1KS50b1VwcGVyQ2FzZSgpID09PSBcIuS4iuWNiC/kuIvljYhcIikgeyBpZihkdCE9bnVsbCkgcS52ID0gZHQuSCA+PSAxMiA/IFwi5LiL5Y2IXCIgOiBcIuS4iuWNiFwiOyBxLnQgPSAnVCc7IGkrPTU7IGhyPSdoJzsgfVxuXHRcdFx0XHRlbHNlIHsgcS50ID0gXCJ0XCI7ICsraTsgfVxuXHRcdFx0XHRpZihkdD09bnVsbCAmJiBxLnQgPT09ICdUJykgcmV0dXJuIFwiXCI7XG5cdFx0XHRcdG91dFtvdXQubGVuZ3RoXSA9IHE7IGxzdCA9IGM7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnWyc6XG5cdFx0XHRcdG8gPSBjO1xuXHRcdFx0XHR3aGlsZShmbXQuY2hhckF0KGkrKykgIT09ICddJyAmJiBpIDwgZm10Lmxlbmd0aCkgbyArPSBmbXQuY2hhckF0KGkpO1xuXHRcdFx0XHRpZihvLnNsaWNlKC0xKSAhPT0gJ10nKSB0aHJvdyAndW50ZXJtaW5hdGVkIFwiW1wiIGJsb2NrOiB8JyArIG8gKyAnfCc7XG5cdFx0XHRcdGlmKG8ubWF0Y2goU1NGX2Fic3RpbWUpKSB7XG5cdFx0XHRcdFx0aWYoZHQ9PW51bGwpIHsgZHQ9U1NGX3BhcnNlX2RhdGVfY29kZSh2LCBvcHRzKTsgaWYoZHQ9PW51bGwpIHJldHVybiBcIlwiOyB9XG5cdFx0XHRcdFx0b3V0W291dC5sZW5ndGhdID0ge3Q6J1onLCB2Om8udG9Mb3dlckNhc2UoKX07XG5cdFx0XHRcdFx0bHN0ID0gby5jaGFyQXQoMSk7XG5cdFx0XHRcdH0gZWxzZSBpZihvLmluZGV4T2YoXCIkXCIpID4gLTEpIHtcblx0XHRcdFx0XHRvID0gKG8ubWF0Y2goL1xcJChbXi1cXFtcXF1dKikvKXx8W10pWzFdfHxcIiRcIjtcblx0XHRcdFx0XHRpZighZm10X2lzX2RhdGUoZm10KSkgb3V0W291dC5sZW5ndGhdID0ge3Q6J3QnLHY6b307XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHQvKiBOdW1iZXJzICovXG5cdFx0XHRjYXNlICcuJzpcblx0XHRcdFx0aWYoZHQgIT0gbnVsbCkge1xuXHRcdFx0XHRcdG8gPSBjOyB3aGlsZSgrK2kgPCBmbXQubGVuZ3RoICYmIChjPWZtdC5jaGFyQXQoaSkpID09PSBcIjBcIikgbyArPSBjO1xuXHRcdFx0XHRcdG91dFtvdXQubGVuZ3RoXSA9IHt0OidzJywgdjpvfTsgYnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnMCc6IGNhc2UgJyMnOlxuXHRcdFx0XHRvID0gYzsgd2hpbGUoKytpIDwgZm10Lmxlbmd0aCAmJiBcIjAjPy4sRSstJVwiLmluZGV4T2YoYz1mbXQuY2hhckF0KGkpKSA+IC0xKSBvICs9IGM7XG5cdFx0XHRcdG91dFtvdXQubGVuZ3RoXSA9IHt0OiduJywgdjpvfTsgYnJlYWs7XG5cdFx0XHRjYXNlICc/Jzpcblx0XHRcdFx0byA9IGM7IHdoaWxlKGZtdC5jaGFyQXQoKytpKSA9PT0gYykgbys9Yztcblx0XHRcdFx0b3V0W291dC5sZW5ndGhdID0ge3Q6YywgdjpvfTsgbHN0ID0gYzsgYnJlYWs7XG5cdFx0XHRjYXNlICcqJzogKytpOyBpZihmbXQuY2hhckF0KGkpID09ICcgJyB8fCBmbXQuY2hhckF0KGkpID09ICcqJykgKytpOyBicmVhazsgLy8gKipcblx0XHRcdGNhc2UgJygnOiBjYXNlICcpJzogb3V0W291dC5sZW5ndGhdID0ge3Q6KGZsZW49PT0xPyd0JzpjKSwgdjpjfTsgKytpOyBicmVhaztcblx0XHRcdGNhc2UgJzEnOiBjYXNlICcyJzogY2FzZSAnMyc6IGNhc2UgJzQnOiBjYXNlICc1JzogY2FzZSAnNic6IGNhc2UgJzcnOiBjYXNlICc4JzogY2FzZSAnOSc6XG5cdFx0XHRcdG8gPSBjOyB3aGlsZShpIDwgZm10Lmxlbmd0aCAmJiBcIjAxMjM0NTY3ODlcIi5pbmRleE9mKGZtdC5jaGFyQXQoKytpKSkgPiAtMSkgbys9Zm10LmNoYXJBdChpKTtcblx0XHRcdFx0b3V0W291dC5sZW5ndGhdID0ge3Q6J0QnLCB2Om99OyBicmVhaztcblx0XHRcdGNhc2UgJyAnOiBvdXRbb3V0Lmxlbmd0aF0gPSB7dDpjLCB2OmN9OyArK2k7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnJCc6IG91dFtvdXQubGVuZ3RoXSA9IHt0Oid0JywgdjonJCd9OyArK2k7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aWYoXCIsJC0rLygpOiFeJid+e308Pj3igqxhY2Zpamtsb3BxcnR1dnd4elBcIi5pbmRleE9mKGMpID09PSAtMSkgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgY2hhcmFjdGVyICcgKyBjICsgJyBpbiAnICsgZm10KTtcblx0XHRcdFx0b3V0W291dC5sZW5ndGhdID0ge3Q6J3QnLCB2OmN9OyArK2k7IGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8qIFNjYW4gZm9yIGRhdGUvdGltZSBwYXJ0cyAqL1xuXHR2YXIgYnQgPSAwLCBzczAgPSAwLCBzc207XG5cdGZvcihpPW91dC5sZW5ndGgtMSwgbHN0PSd0JzsgaSA+PSAwOyAtLWkpIHtcblx0XHRzd2l0Y2gob3V0W2ldLnQpIHtcblx0XHRcdGNhc2UgJ2gnOiBjYXNlICdIJzogb3V0W2ldLnQgPSBocjsgbHN0PSdoJzsgaWYoYnQgPCAxKSBidCA9IDE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAncyc6XG5cdFx0XHRcdGlmKChzc209b3V0W2ldLnYubWF0Y2goL1xcLjArJC8pKSkgeyBzczA9TWF0aC5tYXgoc3MwLHNzbVswXS5sZW5ndGgtMSk7IGJ0ID0gNDt9XG5cdFx0XHRcdGlmKGJ0IDwgMykgYnQgPSAzO1xuXHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnZCc6IGNhc2UgJ3knOiBjYXNlICdlJzogbHN0PW91dFtpXS50OyBicmVhaztcblx0XHRcdGNhc2UgJ00nOiBsc3Q9b3V0W2ldLnQ7IGlmKGJ0IDwgMikgYnQgPSAyOyBicmVhaztcblx0XHRcdGNhc2UgJ20nOiBpZihsc3QgPT09ICdzJykgeyBvdXRbaV0udCA9ICdNJzsgaWYoYnQgPCAyKSBidCA9IDI7IH0gYnJlYWs7XG5cdFx0XHRjYXNlICdYJzogLyppZihvdXRbaV0udiA9PT0gXCJCMlwiKTsqL1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1onOlxuXHRcdFx0XHRpZihidCA8IDEgJiYgb3V0W2ldLnYubWF0Y2goL1tIaF0vKSkgYnQgPSAxO1xuXHRcdFx0XHRpZihidCA8IDIgJiYgb3V0W2ldLnYubWF0Y2goL1tNbV0vKSkgYnQgPSAyO1xuXHRcdFx0XHRpZihidCA8IDMgJiYgb3V0W2ldLnYubWF0Y2goL1tTc10vKSkgYnQgPSAzO1xuXHRcdH1cblx0fVxuXG5cdC8qIHRpbWUgcm91bmRpbmcgZGVwZW5kcyBvbiBwcmVzZW5jZSBvZiBtaW51dGUgLyBzZWNvbmQgLyB1c2VjIGZpZWxkcyAqL1xuXHR2YXIgX2R0O1xuXHRzd2l0Y2goYnQpIHtcblx0XHRjYXNlIDA6IGJyZWFrO1xuXHRcdGNhc2UgMTpcblx0XHRjYXNlIDI6XG5cdFx0Y2FzZSAzOlxuXHRcdFx0aWYoZHQudSA+PSAwLjUpIHsgZHQudSA9IDA7ICsrZHQuUzsgfVxuXHRcdFx0aWYoZHQuUyA+PSAgNjApIHsgZHQuUyA9IDA7ICsrZHQuTTsgfVxuXHRcdFx0aWYoZHQuTSA+PSAgNjApIHsgZHQuTSA9IDA7ICsrZHQuSDsgfVxuXHRcdFx0aWYoZHQuSCA+PSAgMjQpIHsgZHQuSCA9IDA7ICsrZHQuRDsgX2R0ID0gU1NGX3BhcnNlX2RhdGVfY29kZShkdC5EKTsgX2R0LnUgPSBkdC51OyBfZHQuUyA9IGR0LlM7IF9kdC5NID0gZHQuTTsgX2R0LkggPSBkdC5IOyBkdCA9IF9kdDsgfVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSA0OlxuXHRcdFx0c3dpdGNoKHNzMCkge1xuXHRcdFx0XHRjYXNlIDE6IGR0LnUgPSBNYXRoLnJvdW5kKGR0LnUgKiAxMCkvMTA7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDI6IGR0LnUgPSBNYXRoLnJvdW5kKGR0LnUgKiAxMDApLzEwMDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMzogZHQudSA9IE1hdGgucm91bmQoZHQudSAqIDEwMDApLzEwMDA7IGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYoZHQudSA+PSAgIDEpIHsgZHQudSA9IDA7ICsrZHQuUzsgfVxuXHRcdFx0aWYoZHQuUyA+PSAgNjApIHsgZHQuUyA9IDA7ICsrZHQuTTsgfVxuXHRcdFx0aWYoZHQuTSA+PSAgNjApIHsgZHQuTSA9IDA7ICsrZHQuSDsgfVxuXHRcdFx0aWYoZHQuSCA+PSAgMjQpIHsgZHQuSCA9IDA7ICsrZHQuRDsgX2R0ID0gU1NGX3BhcnNlX2RhdGVfY29kZShkdC5EKTsgX2R0LnUgPSBkdC51OyBfZHQuUyA9IGR0LlM7IF9kdC5NID0gZHQuTTsgX2R0LkggPSBkdC5IOyBkdCA9IF9kdDsgfVxuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHQvKiByZXBsYWNlIGZpZWxkcyAqL1xuXHR2YXIgbnN0ciA9IFwiXCIsIGpqO1xuXHRmb3IoaT0wOyBpIDwgb3V0Lmxlbmd0aDsgKytpKSB7XG5cdFx0c3dpdGNoKG91dFtpXS50KSB7XG5cdFx0XHRjYXNlICd0JzogY2FzZSAnVCc6IGNhc2UgJyAnOiBjYXNlICdEJzogYnJlYWs7XG5cdFx0XHRjYXNlICdYJzogb3V0W2ldLnYgPSBcIlwiOyBvdXRbaV0udCA9IFwiO1wiOyBicmVhaztcblx0XHRcdGNhc2UgJ2QnOiBjYXNlICdtJzogY2FzZSAneSc6IGNhc2UgJ2gnOiBjYXNlICdIJzogY2FzZSAnTSc6IGNhc2UgJ3MnOiBjYXNlICdlJzogY2FzZSAnYic6IGNhc2UgJ1onOlxuXHRcdFx0XHQvKjo6aWYoIWR0KSB0aHJvdyBcInVucmVhY2hhYmxlXCI7ICovXG5cdFx0XHRcdG91dFtpXS52ID0gU1NGX3dyaXRlX2RhdGUob3V0W2ldLnQuY2hhckNvZGVBdCgwKSwgb3V0W2ldLnYsIGR0LCBzczApO1xuXHRcdFx0XHRvdXRbaV0udCA9ICd0JzsgYnJlYWs7XG5cdFx0XHRjYXNlICduJzogY2FzZSAnPyc6XG5cdFx0XHRcdGpqID0gaSsxO1xuXHRcdFx0XHR3aGlsZShvdXRbampdICE9IG51bGwgJiYgKFxuXHRcdFx0XHRcdChjPW91dFtqal0udCkgPT09IFwiP1wiIHx8IGMgPT09IFwiRFwiIHx8XG5cdFx0XHRcdFx0KChjID09PSBcIiBcIiB8fCBjID09PSBcInRcIikgJiYgb3V0W2pqKzFdICE9IG51bGwgJiYgKG91dFtqaisxXS50ID09PSAnPycgfHwgb3V0W2pqKzFdLnQgPT09IFwidFwiICYmIG91dFtqaisxXS52ID09PSAnLycpKSB8fFxuXHRcdFx0XHRcdChvdXRbaV0udCA9PT0gJygnICYmIChjID09PSAnICcgfHwgYyA9PT0gJ24nIHx8IGMgPT09ICcpJykpIHx8XG5cdFx0XHRcdFx0KGMgPT09ICd0JyAmJiAob3V0W2pqXS52ID09PSAnLycgfHwgb3V0W2pqXS52ID09PSAnICcgJiYgb3V0W2pqKzFdICE9IG51bGwgJiYgb3V0W2pqKzFdLnQgPT0gJz8nKSlcblx0XHRcdFx0KSkge1xuXHRcdFx0XHRcdG91dFtpXS52ICs9IG91dFtqal0udjtcblx0XHRcdFx0XHRvdXRbampdID0ge3Y6XCJcIiwgdDpcIjtcIn07ICsramo7XG5cdFx0XHRcdH1cblx0XHRcdFx0bnN0ciArPSBvdXRbaV0udjtcblx0XHRcdFx0aSA9IGpqLTE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnRyc6IG91dFtpXS50ID0gJ3QnOyBvdXRbaV0udiA9IFNTRl9nZW5lcmFsKHYsb3B0cyk7IGJyZWFrO1xuXHRcdH1cblx0fVxuXHR2YXIgdnYgPSBcIlwiLCBteXYsIG9zdHI7XG5cdGlmKG5zdHIubGVuZ3RoID4gMCkge1xuXHRcdGlmKG5zdHIuY2hhckNvZGVBdCgwKSA9PSA0MCkgLyogJygnICovIHtcblx0XHRcdG15diA9ICh2PDAmJm5zdHIuY2hhckNvZGVBdCgwKSA9PT0gNDUgPyAtdiA6IHYpO1xuXHRcdFx0b3N0ciA9IHdyaXRlX251bSgnbicsIG5zdHIsIG15dik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG15diA9ICh2PDAgJiYgZmxlbiA+IDEgPyAtdiA6IHYpO1xuXHRcdFx0b3N0ciA9IHdyaXRlX251bSgnbicsIG5zdHIsIG15dik7XG5cdFx0XHRpZihteXYgPCAwICYmIG91dFswXSAmJiBvdXRbMF0udCA9PSAndCcpIHtcblx0XHRcdFx0b3N0ciA9IG9zdHIuc3Vic3RyKDEpO1xuXHRcdFx0XHRvdXRbMF0udiA9IFwiLVwiICsgb3V0WzBdLnY7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGpqPW9zdHIubGVuZ3RoLTE7XG5cdFx0dmFyIGRlY3B0ID0gb3V0Lmxlbmd0aDtcblx0XHRmb3IoaT0wOyBpIDwgb3V0Lmxlbmd0aDsgKytpKSBpZihvdXRbaV0gIT0gbnVsbCAmJiBvdXRbaV0udCAhPSAndCcgJiYgb3V0W2ldLnYuaW5kZXhPZihcIi5cIikgPiAtMSkgeyBkZWNwdCA9IGk7IGJyZWFrOyB9XG5cdFx0dmFyIGxhc3RpPW91dC5sZW5ndGg7XG5cdFx0aWYoZGVjcHQgPT09IG91dC5sZW5ndGggJiYgb3N0ci5pbmRleE9mKFwiRVwiKSA9PT0gLTEpIHtcblx0XHRcdGZvcihpPW91dC5sZW5ndGgtMTsgaT49IDA7LS1pKSB7XG5cdFx0XHRcdGlmKG91dFtpXSA9PSBudWxsIHx8ICduPycuaW5kZXhPZihvdXRbaV0udCkgPT09IC0xKSBjb250aW51ZTtcblx0XHRcdFx0aWYoamo+PW91dFtpXS52Lmxlbmd0aC0xKSB7IGpqIC09IG91dFtpXS52Lmxlbmd0aDsgb3V0W2ldLnYgPSBvc3RyLnN1YnN0cihqaisxLCBvdXRbaV0udi5sZW5ndGgpOyB9XG5cdFx0XHRcdGVsc2UgaWYoamogPCAwKSBvdXRbaV0udiA9IFwiXCI7XG5cdFx0XHRcdGVsc2UgeyBvdXRbaV0udiA9IG9zdHIuc3Vic3RyKDAsIGpqKzEpOyBqaiA9IC0xOyB9XG5cdFx0XHRcdG91dFtpXS50ID0gJ3QnO1xuXHRcdFx0XHRsYXN0aSA9IGk7XG5cdFx0XHR9XG5cdFx0XHRpZihqaj49MCAmJiBsYXN0aTxvdXQubGVuZ3RoKSBvdXRbbGFzdGldLnYgPSBvc3RyLnN1YnN0cigwLGpqKzEpICsgb3V0W2xhc3RpXS52O1xuXHRcdH1cblx0XHRlbHNlIGlmKGRlY3B0ICE9PSBvdXQubGVuZ3RoICYmIG9zdHIuaW5kZXhPZihcIkVcIikgPT09IC0xKSB7XG5cdFx0XHRqaiA9IG9zdHIuaW5kZXhPZihcIi5cIiktMTtcblx0XHRcdGZvcihpPWRlY3B0OyBpPj0gMDsgLS1pKSB7XG5cdFx0XHRcdGlmKG91dFtpXSA9PSBudWxsIHx8ICduPycuaW5kZXhPZihvdXRbaV0udCkgPT09IC0xKSBjb250aW51ZTtcblx0XHRcdFx0aj1vdXRbaV0udi5pbmRleE9mKFwiLlwiKT4tMSYmaT09PWRlY3B0P291dFtpXS52LmluZGV4T2YoXCIuXCIpLTE6b3V0W2ldLnYubGVuZ3RoLTE7XG5cdFx0XHRcdHZ2ID0gb3V0W2ldLnYuc3Vic3RyKGorMSk7XG5cdFx0XHRcdGZvcig7IGo+PTA7IC0taikge1xuXHRcdFx0XHRcdGlmKGpqPj0wICYmIChvdXRbaV0udi5jaGFyQXQoaikgPT09IFwiMFwiIHx8IG91dFtpXS52LmNoYXJBdChqKSA9PT0gXCIjXCIpKSB2diA9IG9zdHIuY2hhckF0KGpqLS0pICsgdnY7XG5cdFx0XHRcdH1cblx0XHRcdFx0b3V0W2ldLnYgPSB2djtcblx0XHRcdFx0b3V0W2ldLnQgPSAndCc7XG5cdFx0XHRcdGxhc3RpID0gaTtcblx0XHRcdH1cblx0XHRcdGlmKGpqPj0wICYmIGxhc3RpPG91dC5sZW5ndGgpIG91dFtsYXN0aV0udiA9IG9zdHIuc3Vic3RyKDAsamorMSkgKyBvdXRbbGFzdGldLnY7XG5cdFx0XHRqaiA9IG9zdHIuaW5kZXhPZihcIi5cIikrMTtcblx0XHRcdGZvcihpPWRlY3B0OyBpPG91dC5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRpZihvdXRbaV0gPT0gbnVsbCB8fCAoJ24/KCcuaW5kZXhPZihvdXRbaV0udCkgPT09IC0xICYmIGkgIT09IGRlY3B0KSkgY29udGludWU7XG5cdFx0XHRcdGo9b3V0W2ldLnYuaW5kZXhPZihcIi5cIik+LTEmJmk9PT1kZWNwdD9vdXRbaV0udi5pbmRleE9mKFwiLlwiKSsxOjA7XG5cdFx0XHRcdHZ2ID0gb3V0W2ldLnYuc3Vic3RyKDAsaik7XG5cdFx0XHRcdGZvcig7IGo8b3V0W2ldLnYubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0XHRpZihqajxvc3RyLmxlbmd0aCkgdnYgKz0gb3N0ci5jaGFyQXQoamorKyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0b3V0W2ldLnYgPSB2djtcblx0XHRcdFx0b3V0W2ldLnQgPSAndCc7XG5cdFx0XHRcdGxhc3RpID0gaTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Zm9yKGk9MDsgaTxvdXQubGVuZ3RoOyArK2kpIGlmKG91dFtpXSAhPSBudWxsICYmICduPycuaW5kZXhPZihvdXRbaV0udCk+LTEpIHtcblx0XHRteXYgPSAoZmxlbiA+MSAmJiB2IDwgMCAmJiBpPjAgJiYgb3V0W2ktMV0udiA9PT0gXCItXCIgPyAtdjp2KTtcblx0XHRvdXRbaV0udiA9IHdyaXRlX251bShvdXRbaV0udCwgb3V0W2ldLnYsIG15dik7XG5cdFx0b3V0W2ldLnQgPSAndCc7XG5cdH1cblx0dmFyIHJldHZhbCA9IFwiXCI7XG5cdGZvcihpPTA7IGkgIT09IG91dC5sZW5ndGg7ICsraSkgaWYob3V0W2ldICE9IG51bGwpIHJldHZhbCArPSBvdXRbaV0udjtcblx0cmV0dXJuIHJldHZhbDtcbn1cblxudmFyIGNmcmVnZXgyID0gL1xcWyg9fD5bPV0/fDxbPj1dPykoLT9cXGQrKD86XFwuXFxkKik/KVxcXS87XG5mdW5jdGlvbiBjaGtjb25kKHYsIHJyKSB7XG5cdGlmKHJyID09IG51bGwpIHJldHVybiBmYWxzZTtcblx0dmFyIHRocmVzaCA9IHBhcnNlRmxvYXQocnJbMl0pO1xuXHRzd2l0Y2gocnJbMV0pIHtcblx0XHRjYXNlIFwiPVwiOiAgaWYodiA9PSB0aHJlc2gpIHJldHVybiB0cnVlOyBicmVhaztcblx0XHRjYXNlIFwiPlwiOiAgaWYodiA+ICB0aHJlc2gpIHJldHVybiB0cnVlOyBicmVhaztcblx0XHRjYXNlIFwiPFwiOiAgaWYodiA8ICB0aHJlc2gpIHJldHVybiB0cnVlOyBicmVhaztcblx0XHRjYXNlIFwiPD5cIjogaWYodiAhPSB0aHJlc2gpIHJldHVybiB0cnVlOyBicmVhaztcblx0XHRjYXNlIFwiPj1cIjogaWYodiA+PSB0aHJlc2gpIHJldHVybiB0cnVlOyBicmVhaztcblx0XHRjYXNlIFwiPD1cIjogaWYodiA8PSB0aHJlc2gpIHJldHVybiB0cnVlOyBicmVhaztcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBjaG9vc2VfZm10KGYvKjpzdHJpbmcqLywgdi8qOmFueSovKSB7XG5cdHZhciBmbXQgPSBTU0Zfc3BsaXRfZm10KGYpO1xuXHR2YXIgbCA9IGZtdC5sZW5ndGgsIGxhdCA9IGZtdFtsLTFdLmluZGV4T2YoXCJAXCIpO1xuXHRpZihsPDQgJiYgbGF0Pi0xKSAtLWw7XG5cdGlmKGZtdC5sZW5ndGggPiA0KSB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZmluZCByaWdodCBmb3JtYXQgZm9yIHxcIiArIGZtdC5qb2luKFwifFwiKSArIFwifFwiKTtcblx0aWYodHlwZW9mIHYgIT09IFwibnVtYmVyXCIpIHJldHVybiBbNCwgZm10Lmxlbmd0aCA9PT0gNCB8fCBsYXQ+LTE/Zm10W2ZtdC5sZW5ndGgtMV06XCJAXCJdO1xuXHQvKiBOT1RFOiBtb3N0IHNwcmVhZHNoZWV0IHNvZnR3YXJlIGRvIG5vdCBzdXBwb3J0IE5hTiBvciBpbmZpbml0aWVzICovXG5cdGlmKHR5cGVvZiB2ID09PSBcIm51bWJlclwiICYmICFpc0Zpbml0ZSh2KSkgdiA9IDA7XG5cdHN3aXRjaChmbXQubGVuZ3RoKSB7XG5cdFx0Y2FzZSAxOiBmbXQgPSBsYXQ+LTEgPyBbXCJHZW5lcmFsXCIsIFwiR2VuZXJhbFwiLCBcIkdlbmVyYWxcIiwgZm10WzBdXSA6IFtmbXRbMF0sIGZtdFswXSwgZm10WzBdLCBcIkBcIl07IGJyZWFrO1xuXHRcdGNhc2UgMjogZm10ID0gbGF0Pi0xID8gW2ZtdFswXSwgZm10WzBdLCBmbXRbMF0sIGZtdFsxXV0gOiBbZm10WzBdLCBmbXRbMV0sIGZtdFswXSwgXCJAXCJdOyBicmVhaztcblx0XHRjYXNlIDM6IGZtdCA9IGxhdD4tMSA/IFtmbXRbMF0sIGZtdFsxXSwgZm10WzBdLCBmbXRbMl1dIDogW2ZtdFswXSwgZm10WzFdLCBmbXRbMl0sIFwiQFwiXTsgYnJlYWs7XG5cdFx0Y2FzZSA0OiBicmVhaztcblx0fVxuXHR2YXIgZmYgPSB2ID4gMCA/IGZtdFswXSA6IHYgPCAwID8gZm10WzFdIDogZm10WzJdO1xuXHRpZihmbXRbMF0uaW5kZXhPZihcIltcIikgPT09IC0xICYmIGZtdFsxXS5pbmRleE9mKFwiW1wiKSA9PT0gLTEpIHJldHVybiBbbCwgZmZdO1xuXHRpZihmbXRbMF0ubWF0Y2goL1xcW1s9PD5dLykgIT0gbnVsbCB8fCBmbXRbMV0ubWF0Y2goL1xcW1s9PD5dLykgIT0gbnVsbCkge1xuXHRcdHZhciBtMSA9IGZtdFswXS5tYXRjaChjZnJlZ2V4Mik7XG5cdFx0dmFyIG0yID0gZm10WzFdLm1hdGNoKGNmcmVnZXgyKTtcblx0XHRyZXR1cm4gY2hrY29uZCh2LCBtMSkgPyBbbCwgZm10WzBdXSA6IGNoa2NvbmQodiwgbTIpID8gW2wsIGZtdFsxXV0gOiBbbCwgZm10W20xICE9IG51bGwgJiYgbTIgIT0gbnVsbCA/IDIgOiAxXV07XG5cdH1cblx0cmV0dXJuIFtsLCBmZl07XG59XG5mdW5jdGlvbiBTU0ZfZm9ybWF0KGZtdC8qOnN0cmluZ3xudW1iZXIqLyx2Lyo6YW55Ki8sby8qOj9hbnkqLykge1xuXHRpZihvID09IG51bGwpIG8gPSB7fTtcblx0dmFyIHNmbXQgPSBcIlwiO1xuXHRzd2l0Y2godHlwZW9mIGZtdCkge1xuXHRcdGNhc2UgXCJzdHJpbmdcIjpcblx0XHRcdGlmKGZtdCA9PSBcIm0vZC95eVwiICYmIG8uZGF0ZU5GKSBzZm10ID0gby5kYXRlTkY7XG5cdFx0XHRlbHNlIHNmbXQgPSBmbXQ7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibnVtYmVyXCI6XG5cdFx0XHRpZihmbXQgPT0gMTQgJiYgby5kYXRlTkYpIHNmbXQgPSBvLmRhdGVORjtcblx0XHRcdGVsc2Ugc2ZtdCA9IChvLnRhYmxlICE9IG51bGwgPyAoby50YWJsZS8qOmFueSovKSA6IHRhYmxlX2ZtdClbZm10XTtcblx0XHRcdGlmKHNmbXQgPT0gbnVsbCkgc2ZtdCA9IChvLnRhYmxlICYmIG8udGFibGVbU1NGX2RlZmF1bHRfbWFwW2ZtdF1dKSB8fCB0YWJsZV9mbXRbU1NGX2RlZmF1bHRfbWFwW2ZtdF1dO1xuXHRcdFx0aWYoc2ZtdCA9PSBudWxsKSBzZm10ID0gU1NGX2RlZmF1bHRfc3RyW2ZtdF0gfHwgXCJHZW5lcmFsXCI7XG5cdFx0XHRicmVhaztcblx0fVxuXHRpZihTU0ZfaXNnZW5lcmFsKHNmbXQsMCkpIHJldHVybiBTU0ZfZ2VuZXJhbCh2LCBvKTtcblx0aWYodiBpbnN0YW5jZW9mIERhdGUpIHYgPSBkYXRlbnVtKHYsIG8uZGF0ZTE5MDQpO1xuXHR2YXIgZiA9IGNob29zZV9mbXQoc2ZtdCwgdik7XG5cdGlmKFNTRl9pc2dlbmVyYWwoZlsxXSkpIHJldHVybiBTU0ZfZ2VuZXJhbCh2LCBvKTtcblx0aWYodiA9PT0gdHJ1ZSkgdiA9IFwiVFJVRVwiOyBlbHNlIGlmKHYgPT09IGZhbHNlKSB2ID0gXCJGQUxTRVwiO1xuXHRlbHNlIGlmKHYgPT09IFwiXCIgfHwgdiA9PSBudWxsKSByZXR1cm4gXCJcIjtcblx0ZWxzZSBpZihpc05hTih2KSAmJiBmWzFdLmluZGV4T2YoXCIwXCIpID4gLTEpIHJldHVybiBcIiNOVU0hXCI7XG5cdGVsc2UgaWYoIWlzRmluaXRlKHYpICYmIGZbMV0uaW5kZXhPZihcIjBcIikgPiAtMSkgcmV0dXJuIFwiI0RJVi8wIVwiO1xuXHRyZXR1cm4gZXZhbF9mbXQoZlsxXSwgdiwgbywgZlswXSk7XG59XG5mdW5jdGlvbiBTU0ZfbG9hZChmbXQvKjpzdHJpbmcqLywgaWR4Lyo6P251bWJlciovKS8qOm51bWJlciovIHtcblx0aWYodHlwZW9mIGlkeCAhPSAnbnVtYmVyJykge1xuXHRcdGlkeCA9ICtpZHggfHwgLTE7XG4vKjo6aWYodHlwZW9mIGlkeCAhPSAnbnVtYmVyJykgcmV0dXJuIDB4MTg4OyAqL1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCAweDAxODg7ICsraSkge1xuLyo6OmlmKHR5cGVvZiBpZHggIT0gJ251bWJlcicpIHJldHVybiAweDE4ODsgKi9cblx0XHRcdGlmKHRhYmxlX2ZtdFtpXSA9PSB1bmRlZmluZWQpIHsgaWYoaWR4IDwgMCkgaWR4ID0gaTsgY29udGludWU7IH1cblx0XHRcdGlmKHRhYmxlX2ZtdFtpXSA9PSBmbXQpIHsgaWR4ID0gaTsgYnJlYWs7IH1cblx0XHR9XG4vKjo6aWYodHlwZW9mIGlkeCAhPSAnbnVtYmVyJykgcmV0dXJuIDB4MTg4OyAqL1xuXHRcdGlmKGlkeCA8IDApIGlkeCA9IDB4MTg3O1xuXHR9XG4vKjo6aWYodHlwZW9mIGlkeCAhPSAnbnVtYmVyJykgcmV0dXJuIDB4MTg4OyAqL1xuXHR0YWJsZV9mbXRbaWR4XSA9IGZtdDtcblx0cmV0dXJuIGlkeDtcbn1cbmZ1bmN0aW9uIFNTRl9sb2FkX3RhYmxlKHRibC8qOlNTRlRhYmxlKi8pLyo6dm9pZCovIHtcblx0Zm9yKHZhciBpPTA7IGkhPTB4MDE4ODsgKytpKVxuXHRcdGlmKHRibFtpXSAhPT0gdW5kZWZpbmVkKSBTU0ZfbG9hZCh0YmxbaV0sIGkpO1xufVxuXG5mdW5jdGlvbiBtYWtlX3NzZigpIHtcblx0dGFibGVfZm10ID0gU1NGX2luaXRfdGFibGUoKTtcbn1cblxudmFyIFNTRiA9IHtcblx0Zm9ybWF0OiBTU0ZfZm9ybWF0LFxuXHRsb2FkOiBTU0ZfbG9hZCxcblx0X3RhYmxlOiB0YWJsZV9mbXQsXG5cdGxvYWRfdGFibGU6IFNTRl9sb2FkX3RhYmxlLFxuXHRwYXJzZV9kYXRlX2NvZGU6IFNTRl9wYXJzZV9kYXRlX2NvZGUsXG5cdGlzX2RhdGU6IGZtdF9pc19kYXRlLFxuXHRnZXRfdGFibGU6IGZ1bmN0aW9uIGdldF90YWJsZSgpIHsgcmV0dXJuIFNTRi5fdGFibGUgPSB0YWJsZV9mbXQ7IH1cbn07XG5cbnZhciBTU0ZJbXBsaWNpdC8qe1tudW1iZXJdOnN0cmluZ30qLyA9ICh7XG5cdFwiNVwiOiAnXCIkXCIjLCMjMF8pO1xcXFwoXCIkXCIjLCMjMFxcXFwpJyxcblx0XCI2XCI6ICdcIiRcIiMsIyMwXyk7W1JlZF1cXFxcKFwiJFwiIywjIzBcXFxcKScsXG5cdFwiN1wiOiAnXCIkXCIjLCMjMC4wMF8pO1xcXFwoXCIkXCIjLCMjMC4wMFxcXFwpJyxcblx0XCI4XCI6ICdcIiRcIiMsIyMwLjAwXyk7W1JlZF1cXFxcKFwiJFwiIywjIzAuMDBcXFxcKScsXG5cdFwiMjNcIjogJ0dlbmVyYWwnLCBcIjI0XCI6ICdHZW5lcmFsJywgXCIyNVwiOiAnR2VuZXJhbCcsIFwiMjZcIjogJ0dlbmVyYWwnLFxuXHRcIjI3XCI6ICdtL2QveXknLCBcIjI4XCI6ICdtL2QveXknLCBcIjI5XCI6ICdtL2QveXknLCBcIjMwXCI6ICdtL2QveXknLCBcIjMxXCI6ICdtL2QveXknLFxuXHRcIjMyXCI6ICdoOm1tOnNzJywgXCIzM1wiOiAnaDptbTpzcycsIFwiMzRcIjogJ2g6bW06c3MnLCBcIjM1XCI6ICdoOm1tOnNzJyxcblx0XCIzNlwiOiAnbS9kL3l5Jyxcblx0XCI0MVwiOiAnXygqICMsIyMwXyk7XygqIFxcKCMsIyMwXFwpO18oKiBcIi1cIl8pO18oQF8pJyxcblx0XCI0MlwiOiAnXyhcIiRcIiogIywjIzBfKTtfKFwiJFwiKiBcXCgjLCMjMFxcKTtfKFwiJFwiKiBcIi1cIl8pO18oQF8pJyxcblx0XCI0M1wiOiAnXygqICMsIyMwLjAwXyk7XygqIFxcKCMsIyMwLjAwXFwpO18oKiBcIi1cIj8/Xyk7XyhAXyknLFxuXHRcIjQ0XCI6ICdfKFwiJFwiKiAjLCMjMC4wMF8pO18oXCIkXCIqIFxcKCMsIyMwLjAwXFwpO18oXCIkXCIqIFwiLVwiPz9fKTtfKEBfKScsXG5cdFwiNTBcIjogJ20vZC95eScsIFwiNTFcIjogJ20vZC95eScsIFwiNTJcIjogJ20vZC95eScsIFwiNTNcIjogJ20vZC95eScsIFwiNTRcIjogJ20vZC95eScsXG5cdFwiNTVcIjogJ20vZC95eScsIFwiNTZcIjogJ20vZC95eScsIFwiNTdcIjogJ20vZC95eScsIFwiNThcIjogJ20vZC95eScsXG5cdFwiNTlcIjogJzAnLFxuXHRcIjYwXCI6ICcwLjAwJyxcblx0XCI2MVwiOiAnIywjIzAnLFxuXHRcIjYyXCI6ICcjLCMjMC4wMCcsXG5cdFwiNjNcIjogJ1wiJFwiIywjIzBfKTtcXFxcKFwiJFwiIywjIzBcXFxcKScsXG5cdFwiNjRcIjogJ1wiJFwiIywjIzBfKTtbUmVkXVxcXFwoXCIkXCIjLCMjMFxcXFwpJyxcblx0XCI2NVwiOiAnXCIkXCIjLCMjMC4wMF8pO1xcXFwoXCIkXCIjLCMjMC4wMFxcXFwpJyxcblx0XCI2NlwiOiAnXCIkXCIjLCMjMC4wMF8pO1tSZWRdXFxcXChcIiRcIiMsIyMwLjAwXFxcXCknLFxuXHRcIjY3XCI6ICcwJScsXG5cdFwiNjhcIjogJzAuMDAlJyxcblx0XCI2OVwiOiAnIyA/Lz8nLFxuXHRcIjcwXCI6ICcjID8/Lz8/Jyxcblx0XCI3MVwiOiAnbS9kL3l5Jyxcblx0XCI3MlwiOiAnbS9kL3l5Jyxcblx0XCI3M1wiOiAnZC1tbW0teXknLFxuXHRcIjc0XCI6ICdkLW1tbScsXG5cdFwiNzVcIjogJ21tbS15eScsXG5cdFwiNzZcIjogJ2g6bW0nLFxuXHRcIjc3XCI6ICdoOm1tOnNzJyxcblx0XCI3OFwiOiAnbS9kL3l5IGg6bW0nLFxuXHRcIjc5XCI6ICdtbTpzcycsXG5cdFwiODBcIjogJ1toXTptbTpzcycsXG5cdFwiODFcIjogJ21tc3MuMCdcbn0vKjphbnkqLyk7XG5cbi8qIGRhdGVORiBwYXJzZSBUT0RPOiBtb3ZlIHRvIFNTRiAqL1xudmFyIGRhdGVORnJlZ2V4ID0gL1tkRF0rfFttTV0rfFt5WWVFXSt8W0hoXSt8W1NzXSsvZztcbmZ1bmN0aW9uIGRhdGVORl9yZWdleChkYXRlTkYvKjpzdHJpbmd8bnVtYmVyKi8pLyo6UmVnRXhwKi8ge1xuXHR2YXIgZm10ID0gdHlwZW9mIGRhdGVORiA9PSBcIm51bWJlclwiID8gdGFibGVfZm10W2RhdGVORl0gOiBkYXRlTkY7XG5cdGZtdCA9IGZtdC5yZXBsYWNlKGRhdGVORnJlZ2V4LCBcIihcXFxcZCspXCIpO1xuXHRkYXRlTkZyZWdleC5sYXN0SW5kZXggPSAwO1xuXHRyZXR1cm4gbmV3IFJlZ0V4cChcIl5cIiArIGZtdCArIFwiJFwiKTtcbn1cbmZ1bmN0aW9uIGRhdGVORl9maXgoc3RyLyo6c3RyaW5nKi8sIGRhdGVORi8qOnN0cmluZyovLCBtYXRjaC8qOkFycmF5PHN0cmluZz4qLykvKjpzdHJpbmcqLyB7XG5cdHZhciBZID0gLTEsIG0gPSAtMSwgZCA9IC0xLCBIID0gLTEsIE0gPSAtMSwgUyA9IC0xO1xuXHQoZGF0ZU5GLm1hdGNoKGRhdGVORnJlZ2V4KXx8W10pLmZvckVhY2goZnVuY3Rpb24obiwgaSkge1xuXHRcdHZhciB2ID0gcGFyc2VJbnQobWF0Y2hbaSsxXSwgMTApO1xuXHRcdHN3aXRjaChuLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApKSB7XG5cdFx0XHRjYXNlICd5JzogWSA9IHY7IGJyZWFrOyBjYXNlICdkJzogZCA9IHY7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnaCc6IEggPSB2OyBicmVhazsgY2FzZSAncyc6IFMgPSB2OyBicmVhaztcblx0XHRcdGNhc2UgJ20nOiBpZihIID49IDApIE0gPSB2OyBlbHNlIG0gPSB2OyBicmVhaztcblx0XHR9XG5cdH0pO1xuXHRkYXRlTkZyZWdleC5sYXN0SW5kZXggPSAwO1xuXHRpZihTID49IDAgJiYgTSA9PSAtMSAmJiBtID49IDApIHsgTSA9IG07IG0gPSAtMTsgfVxuXHR2YXIgZGF0ZXN0ciA9ICgoXCJcIiArIChZPj0wP1k6IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSkpLnNsaWNlKC00KSArIFwiLVwiICsgKFwiMDBcIiArIChtPj0xP206MSkpLnNsaWNlKC0yKSArIFwiLVwiICsgKFwiMDBcIiArIChkPj0xP2Q6MSkpLnNsaWNlKC0yKSk7XG5cdGlmKGRhdGVzdHIubGVuZ3RoID09IDcpIGRhdGVzdHIgPSBcIjBcIiArIGRhdGVzdHI7XG5cdGlmKGRhdGVzdHIubGVuZ3RoID09IDgpIGRhdGVzdHIgPSBcIjIwXCIgKyBkYXRlc3RyO1xuXHR2YXIgdGltZXN0ciA9ICgoXCIwMFwiICsgKEg+PTA/SDowKSkuc2xpY2UoLTIpICsgXCI6XCIgKyAoXCIwMFwiICsgKE0+PTA/TTowKSkuc2xpY2UoLTIpICsgXCI6XCIgKyAoXCIwMFwiICsgKFM+PTA/UzowKSkuc2xpY2UoLTIpKTtcblx0aWYoSCA9PSAtMSAmJiBNID09IC0xICYmIFMgPT0gLTEpIHJldHVybiBkYXRlc3RyO1xuXHRpZihZID09IC0xICYmIG0gPT0gLTEgJiYgZCA9PSAtMSkgcmV0dXJuIHRpbWVzdHI7XG5cdHJldHVybiBkYXRlc3RyICsgXCJUXCIgKyB0aW1lc3RyO1xufVxuXG4vKiB0YWJsZSBvZiBiYWQgZm9ybWF0cyB3cml0dGVuIGJ5IHRoaXJkLXBhcnR5IHRvb2xzICovXG52YXIgYmFkX2Zvcm1hdHMgPSB7XG5cdFwiZC5tXCI6IFwiZFxcXFwubVwiIC8vIElzc3VlICMyNTcxIEdvb2dsZSBTaGVldHMgd3JpdGVzIGludmFsaWQgZm9ybWF0ICdkLm0nLCBjb3JyZWN0IGZvcm1hdCBpcyAnZFwiLlwibScgb3IgJ2RcXFxcLm0nXG59O1xuXG5mdW5jdGlvbiBTU0ZfX2xvYWQoZm10LCBpZHgpIHtcblx0cmV0dXJuIFNTRl9sb2FkKGJhZF9mb3JtYXRzW2ZtdF0gfHwgZm10LCBpZHgpO1xufVxuXG4vKjo6XG5kZWNsYXJlIHZhciBSZWFkU2hpZnQ6YW55O1xuZGVjbGFyZSB2YXIgQ2hlY2tGaWVsZDphbnk7XG5kZWNsYXJlIHZhciBwcmVwX2Jsb2I6YW55O1xuZGVjbGFyZSB2YXIgX19yZWFkVUludDMyTEU6YW55O1xuZGVjbGFyZSB2YXIgX19yZWFkSW50MzJMRTphbnk7XG5kZWNsYXJlIHZhciBfX3RvQnVmZmVyOmFueTtcbmRlY2xhcmUgdmFyIF9fdXRmMTZsZTphbnk7XG5kZWNsYXJlIHZhciBiY29uY2F0OmFueTtcbmRlY2xhcmUgdmFyIHMyYTphbnk7XG5kZWNsYXJlIHZhciBjaHIwOmFueTtcbmRlY2xhcmUgdmFyIGNocjE6YW55O1xuZGVjbGFyZSB2YXIgaGFzX2J1Zjpib29sZWFuO1xuZGVjbGFyZSB2YXIgbmV3X2J1Zjphbnk7XG5kZWNsYXJlIHZhciBuZXdfcmF3X2J1Zjphbnk7XG5kZWNsYXJlIHZhciBuZXdfdW5zYWZlX2J1Zjphbnk7XG5kZWNsYXJlIHZhciBCdWZmZXJfZnJvbTphbnk7XG4qL1xuLyogY2ZiLmpzIChDKSAyMDEzLXByZXNlbnQgU2hlZXRKUyAtLSBodHRwOi8vc2hlZXRqcy5jb20gKi9cbi8qIHZpbTogc2V0IHRzPTI6ICovXG4vKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuLypleHBvcnRlZCBDRkIgKi9cbi8qZ2xvYmFsIFVpbnQ4QXJyYXk6ZmFsc2UsIFVpbnQxNkFycmF5OmZhbHNlICovXG5cbi8qOjpcbnR5cGUgU2VjdG9yRW50cnkgPSB7XG5cdG5hbWU/OnN0cmluZztcblx0bm9kZXM/OkFycmF5PG51bWJlcj47XG5cdGRhdGE6UmF3Qnl0ZXM7XG59O1xudHlwZSBTZWN0b3JMaXN0ID0ge1xuXHRbazpzdHJpbmd8bnVtYmVyXTpTZWN0b3JFbnRyeTtcblx0bmFtZTo/c3RyaW5nO1xuXHRmYXRfYWRkcnM6QXJyYXk8bnVtYmVyPjtcblx0c3N6Om51bWJlcjtcbn1cbnR5cGUgQ0ZCRmlsZXMgPSB7W246c3RyaW5nXTpDRkJFbnRyeX07XG4qL1xuLyogY3JjMzIuanMgKEMpIDIwMTQtcHJlc2VudCBTaGVldEpTIC0tIGh0dHA6Ly9zaGVldGpzLmNvbSAqL1xuLyogdmltOiBzZXQgdHM9MjogKi9cbi8qZXhwb3J0ZWQgQ1JDMzIgKi9cbnZhciBDUkMzMiA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKSB7XG52YXIgQ1JDMzIgPSB7fTtcbkNSQzMyLnZlcnNpb24gPSAnMS4yLjAnO1xuLyo6OlxudHlwZSBDUkMzMlRhYmxlVHlwZSA9IEFycmF5PG51bWJlcj4gfCBJbnQzMkFycmF5O1xuKi9cbi8qZ2xvYmFsIEludDMyQXJyYXkgKi9cbmZ1bmN0aW9uIHNpZ25lZF9jcmNfdGFibGUoKS8qOmFueSovIHtcblx0dmFyIGMgPSAwLCB0YWJsZS8qOkFycmF5PG51bWJlcj4qLyA9IG5ldyBBcnJheSgyNTYpO1xuXG5cdGZvcih2YXIgbiA9MDsgbiAhPSAyNTY7ICsrbil7XG5cdFx0YyA9IG47XG5cdFx0YyA9ICgoYyYxKSA/ICgtMzA2Njc0OTEyIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG5cdFx0YyA9ICgoYyYxKSA/ICgtMzA2Njc0OTEyIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG5cdFx0YyA9ICgoYyYxKSA/ICgtMzA2Njc0OTEyIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG5cdFx0YyA9ICgoYyYxKSA/ICgtMzA2Njc0OTEyIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG5cdFx0YyA9ICgoYyYxKSA/ICgtMzA2Njc0OTEyIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG5cdFx0YyA9ICgoYyYxKSA/ICgtMzA2Njc0OTEyIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG5cdFx0YyA9ICgoYyYxKSA/ICgtMzA2Njc0OTEyIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG5cdFx0YyA9ICgoYyYxKSA/ICgtMzA2Njc0OTEyIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG5cdFx0dGFibGVbbl0gPSBjO1xuXHR9XG5cblx0cmV0dXJuIHR5cGVvZiBJbnQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyA/IG5ldyBJbnQzMkFycmF5KHRhYmxlKSA6IHRhYmxlO1xufVxuXG52YXIgVDAgPSBzaWduZWRfY3JjX3RhYmxlKCk7XG5mdW5jdGlvbiBzbGljZV9ieV8xNl90YWJsZXMoVCkge1xuXHR2YXIgYyA9IDAsIHYgPSAwLCBuID0gMCwgdGFibGUvKjpBcnJheTxudW1iZXI+Ki8gPSB0eXBlb2YgSW50MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgSW50MzJBcnJheSg0MDk2KSA6IG5ldyBBcnJheSg0MDk2KSA7XG5cblx0Zm9yKG4gPSAwOyBuICE9IDI1NjsgKytuKSB0YWJsZVtuXSA9IFRbbl07XG5cdGZvcihuID0gMDsgbiAhPSAyNTY7ICsrbikge1xuXHRcdHYgPSBUW25dO1xuXHRcdGZvcihjID0gMjU2ICsgbjsgYyA8IDQwOTY7IGMgKz0gMjU2KSB2ID0gdGFibGVbY10gPSAodiA+Pj4gOCkgXiBUW3YgJiAweEZGXTtcblx0fVxuXHR2YXIgb3V0ID0gW107XG5cdGZvcihuID0gMTsgbiAhPSAxNjsgKytuKSBvdXRbbiAtIDFdID0gdHlwZW9mIEludDMyQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0YWJsZS5zdWJhcnJheSA9PSBcImZ1bmN0aW9uXCIgPyB0YWJsZS5zdWJhcnJheShuICogMjU2LCBuICogMjU2ICsgMjU2KSA6IHRhYmxlLnNsaWNlKG4gKiAyNTYsIG4gKiAyNTYgKyAyNTYpO1xuXHRyZXR1cm4gb3V0O1xufVxudmFyIFRUID0gc2xpY2VfYnlfMTZfdGFibGVzKFQwKTtcbnZhciBUMSA9IFRUWzBdLCAgVDIgPSBUVFsxXSwgIFQzID0gVFRbMl0sICBUNCA9IFRUWzNdLCAgVDUgPSBUVFs0XTtcbnZhciBUNiA9IFRUWzVdLCAgVDcgPSBUVFs2XSwgIFQ4ID0gVFRbN10sICBUOSA9IFRUWzhdLCAgVGEgPSBUVFs5XTtcbnZhciBUYiA9IFRUWzEwXSwgVGMgPSBUVFsxMV0sIFRkID0gVFRbMTJdLCBUZSA9IFRUWzEzXSwgVGYgPSBUVFsxNF07XG5mdW5jdGlvbiBjcmMzMl9ic3RyKGJzdHIvKjpzdHJpbmcqLywgc2VlZC8qOj9udW1iZXIqLykvKjpudW1iZXIqLyB7XG5cdHZhciBDID0gc2VlZC8qOjogPyAwIDogMCAqLyBeIC0xO1xuXHRmb3IodmFyIGkgPSAwLCBMID0gYnN0ci5sZW5ndGg7IGkgPCBMOykgQyA9IChDPj4+OCkgXiBUMFsoQ15ic3RyLmNoYXJDb2RlQXQoaSsrKSkmMHhGRl07XG5cdHJldHVybiB+Qztcbn1cblxuZnVuY3Rpb24gY3JjMzJfYnVmKEIvKjpVaW50OEFycmF5fEFycmF5PG51bWJlcj4qLywgc2VlZC8qOm51bWJlciovKS8qOm51bWJlciovIHtcblx0dmFyIEMgPSBzZWVkLyo6OiA/IDAgOiAwICovIF4gLTEsIEwgPSBCLmxlbmd0aCAtIDE1LCBpID0gMDtcblx0Zm9yKDsgaSA8IEw7KSBDID1cblx0XHRUZltCW2krK10gXiAoQyAmIDI1NSldIF5cblx0XHRUZVtCW2krK10gXiAoKEMgPj4gOCkgJiAyNTUpXSBeXG5cdFx0VGRbQltpKytdIF4gKChDID4+IDE2KSAmIDI1NSldIF5cblx0XHRUY1tCW2krK10gXiAoQyA+Pj4gMjQpXSBeXG5cdFx0VGJbQltpKytdXSBeIFRhW0JbaSsrXV0gXiBUOVtCW2krK11dIF4gVDhbQltpKytdXSBeXG5cdFx0VDdbQltpKytdXSBeIFQ2W0JbaSsrXV0gXiBUNVtCW2krK11dIF4gVDRbQltpKytdXSBeXG5cdFx0VDNbQltpKytdXSBeIFQyW0JbaSsrXV0gXiBUMVtCW2krK11dIF4gVDBbQltpKytdXTtcblx0TCArPSAxNTtcblx0d2hpbGUoaSA8IEwpIEMgPSAoQz4+PjgpIF4gVDBbKENeQltpKytdKSYweEZGXTtcblx0cmV0dXJuIH5DO1xufVxuXG5mdW5jdGlvbiBjcmMzMl9zdHIoc3RyLyo6c3RyaW5nKi8sIHNlZWQvKjpudW1iZXIqLykvKjpudW1iZXIqLyB7XG5cdHZhciBDID0gc2VlZCBeIC0xO1xuXHRmb3IodmFyIGkgPSAwLCBMID0gc3RyLmxlbmd0aCwgYyA9IDAsIGQgPSAwOyBpIDwgTDspIHtcblx0XHRjID0gc3RyLmNoYXJDb2RlQXQoaSsrKTtcblx0XHRpZihjIDwgMHg4MCkge1xuXHRcdFx0QyA9IChDPj4+OCkgXiBUMFsoQ15jKSYweEZGXTtcblx0XHR9IGVsc2UgaWYoYyA8IDB4ODAwKSB7XG5cdFx0XHRDID0gKEM+Pj44KSBeIFQwWyhDIF4gKDE5MnwoKGM+PjYpJjMxKSkpJjB4RkZdO1xuXHRcdFx0QyA9IChDPj4+OCkgXiBUMFsoQyBeICgxMjh8KGMmNjMpKSkmMHhGRl07XG5cdFx0fSBlbHNlIGlmKGMgPj0gMHhEODAwICYmIGMgPCAweEUwMDApIHtcblx0XHRcdGMgPSAoYyYxMDIzKSs2NDsgZCA9IHN0ci5jaGFyQ29kZUF0KGkrKykmMTAyMztcblx0XHRcdEMgPSAoQz4+PjgpIF4gVDBbKEMgXiAoMjQwfCgoYz4+OCkmNykpKSYweEZGXTtcblx0XHRcdEMgPSAoQz4+PjgpIF4gVDBbKEMgXiAoMTI4fCgoYz4+MikmNjMpKSkmMHhGRl07XG5cdFx0XHRDID0gKEM+Pj44KSBeIFQwWyhDIF4gKDEyOHwoKGQ+PjYpJjE1KXwoKGMmMyk8PDQpKSkmMHhGRl07XG5cdFx0XHRDID0gKEM+Pj44KSBeIFQwWyhDIF4gKDEyOHwoZCY2MykpKSYweEZGXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0QyA9IChDPj4+OCkgXiBUMFsoQyBeICgyMjR8KChjPj4xMikmMTUpKSkmMHhGRl07XG5cdFx0XHRDID0gKEM+Pj44KSBeIFQwWyhDIF4gKDEyOHwoKGM+PjYpJjYzKSkpJjB4RkZdO1xuXHRcdFx0QyA9IChDPj4+OCkgXiBUMFsoQyBeICgxMjh8KGMmNjMpKSkmMHhGRl07XG5cdFx0fVxuXHR9XG5cdHJldHVybiB+Qztcbn1cbkNSQzMyLnRhYmxlID0gVDA7XG5DUkMzMi5ic3RyID0gY3JjMzJfYnN0cjtcbkNSQzMyLmJ1ZiA9IGNyYzMyX2J1ZjtcbkNSQzMyLnN0ciA9IGNyYzMyX3N0cjtcbnJldHVybiBDUkMzMjtcbn0pKCk7XG4vKiBbTVMtQ0ZCXSB2MjAxNzEyMDEgKi9cbnZhciBDRkIgPSAvKiNfX1BVUkVfXyovKGZ1bmN0aW9uIF9DRkIoKXtcbnZhciBleHBvcnRzLyo6Q0ZCTW9kdWxlKi8gPSAvKjo6KCove30vKjo6IDphbnkpKi87XG5leHBvcnRzLnZlcnNpb24gPSAnMS4yLjInO1xuLyogW01TLUNGQl0gMi42LjQgKi9cbmZ1bmN0aW9uIG5hbWVjbXAobC8qOnN0cmluZyovLCByLyo6c3RyaW5nKi8pLyo6bnVtYmVyKi8ge1xuXHR2YXIgTCA9IGwuc3BsaXQoXCIvXCIpLCBSID0gci5zcGxpdChcIi9cIik7XG5cdGZvcih2YXIgaSA9IDAsIGMgPSAwLCBaID0gTWF0aC5taW4oTC5sZW5ndGgsIFIubGVuZ3RoKTsgaSA8IFo7ICsraSkge1xuXHRcdGlmKChjID0gTFtpXS5sZW5ndGggLSBSW2ldLmxlbmd0aCkpIHJldHVybiBjO1xuXHRcdGlmKExbaV0gIT0gUltpXSkgcmV0dXJuIExbaV0gPCBSW2ldID8gLTEgOiAxO1xuXHR9XG5cdHJldHVybiBMLmxlbmd0aCAtIFIubGVuZ3RoO1xufVxuZnVuY3Rpb24gZGlybmFtZShwLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8ge1xuXHRpZihwLmNoYXJBdChwLmxlbmd0aCAtIDEpID09IFwiL1wiKSByZXR1cm4gKHAuc2xpY2UoMCwtMSkuaW5kZXhPZihcIi9cIikgPT09IC0xKSA/IHAgOiBkaXJuYW1lKHAuc2xpY2UoMCwgLTEpKTtcblx0dmFyIGMgPSBwLmxhc3RJbmRleE9mKFwiL1wiKTtcblx0cmV0dXJuIChjID09PSAtMSkgPyBwIDogcC5zbGljZSgwLCBjKzEpO1xufVxuXG5mdW5jdGlvbiBmaWxlbmFtZShwLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8ge1xuXHRpZihwLmNoYXJBdChwLmxlbmd0aCAtIDEpID09IFwiL1wiKSByZXR1cm4gZmlsZW5hbWUocC5zbGljZSgwLCAtMSkpO1xuXHR2YXIgYyA9IHAubGFzdEluZGV4T2YoXCIvXCIpO1xuXHRyZXR1cm4gKGMgPT09IC0xKSA/IHAgOiBwLnNsaWNlKGMrMSk7XG59XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogRE9TIERhdGUgZm9ybWF0OlxuICAgaGlnaHxZWVlZWVlZbS5tbW1kZGRkZC5ISEhISE1NTS5NTU1TU1NTU3xsb3dcbiAgIGFkZCAxOTgwIHRvIHN0b3JlZCB5ZWFyXG4gICBzdG9yZWQgc2Vjb25kIHNob3VsZCBiZSBkb3VibGVkXG4qL1xuXG4vKiB3cml0ZSBKUyBkYXRlIHRvIGJ1ZiBhcyBhIERPUyBkYXRlICovXG5mdW5jdGlvbiB3cml0ZV9kb3NfZGF0ZShidWYvKjpDRkJsb2IqLywgZGF0ZS8qOkRhdGV8c3RyaW5nKi8pIHtcblx0aWYodHlwZW9mIGRhdGUgPT09IFwic3RyaW5nXCIpIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcblx0dmFyIGhtcy8qOm51bWJlciovID0gZGF0ZS5nZXRIb3VycygpO1xuXHRobXMgPSBobXMgPDwgNiB8IGRhdGUuZ2V0TWludXRlcygpO1xuXHRobXMgPSBobXMgPDwgNSB8IChkYXRlLmdldFNlY29uZHMoKT4+PjEpO1xuXHRidWYud3JpdGVfc2hpZnQoMiwgaG1zKTtcblx0dmFyIHltZC8qOm51bWJlciovID0gKGRhdGUuZ2V0RnVsbFllYXIoKSAtIDE5ODApO1xuXHR5bWQgPSB5bWQgPDwgNCB8IChkYXRlLmdldE1vbnRoKCkrMSk7XG5cdHltZCA9IHltZCA8PCA1IHwgZGF0ZS5nZXREYXRlKCk7XG5cdGJ1Zi53cml0ZV9zaGlmdCgyLCB5bWQpO1xufVxuXG4vKiByZWFkIGZvdXIgYnl0ZXMgZnJvbSBidWYgYW5kIGludGVycHJldCBhcyBhIERPUyBkYXRlICovXG5mdW5jdGlvbiBwYXJzZV9kb3NfZGF0ZShidWYvKjpDRkJsb2IqLykvKjpEYXRlKi8ge1xuXHR2YXIgaG1zID0gYnVmLnJlYWRfc2hpZnQoMikgJiAweEZGRkY7XG5cdHZhciB5bWQgPSBidWYucmVhZF9zaGlmdCgyKSAmIDB4RkZGRjtcblx0dmFyIHZhbCA9IG5ldyBEYXRlKCk7XG5cdHZhciBkID0geW1kICYgMHgxRjsgeW1kID4+Pj0gNTtcblx0dmFyIG0gPSB5bWQgJiAweDBGOyB5bWQgPj4+PSA0O1xuXHR2YWwuc2V0TWlsbGlzZWNvbmRzKDApO1xuXHR2YWwuc2V0RnVsbFllYXIoeW1kICsgMTk4MCk7XG5cdHZhbC5zZXRNb250aChtLTEpO1xuXHR2YWwuc2V0RGF0ZShkKTtcblx0dmFyIFMgPSBobXMgJiAweDFGOyBobXMgPj4+PSA1O1xuXHR2YXIgTSA9IGhtcyAmIDB4M0Y7IGhtcyA+Pj49IDY7XG5cdHZhbC5zZXRIb3VycyhobXMpO1xuXHR2YWwuc2V0TWludXRlcyhNKTtcblx0dmFsLnNldFNlY29uZHMoUzw8MSk7XG5cdHJldHVybiB2YWw7XG59XG5mdW5jdGlvbiBwYXJzZV9leHRyYV9maWVsZChibG9iLyo6Q0ZCbG9iKi8pLyo6YW55Ki8ge1xuXHRwcmVwX2Jsb2IoYmxvYiwgMCk7XG5cdHZhciBvID0gLyo6OigqL3t9Lyo6OiA6YW55KSovO1xuXHR2YXIgZmxhZ3MgPSAwO1xuXHR3aGlsZShibG9iLmwgPD0gYmxvYi5sZW5ndGggLSA0KSB7XG5cdFx0dmFyIHR5cGUgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0dmFyIHN6ID0gYmxvYi5yZWFkX3NoaWZ0KDIpLCB0Z3QgPSBibG9iLmwgKyBzejtcblx0XHR2YXIgcCA9IHt9O1xuXHRcdHN3aXRjaCh0eXBlKSB7XG5cdFx0XHQvKiBVTklYLXN0eWxlIFRpbWVzdGFtcHMgKi9cblx0XHRcdGNhc2UgMHg1NDU1OiB7XG5cdFx0XHRcdGZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRcdFx0XHRpZihmbGFncyAmIDEpIHAubXRpbWUgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdFx0XHRcdC8qIGZvciBzb21lIHJlYXNvbiwgQ0QgZmxhZyBjb3JyZXNwb25kcyB0byBMRkggKi9cblx0XHRcdFx0aWYoc3ogPiA1KSB7XG5cdFx0XHRcdFx0aWYoZmxhZ3MgJiAyKSBwLmF0aW1lID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRcdFx0XHRcdGlmKGZsYWdzICYgNCkgcC5jdGltZSA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihwLm10aW1lKSBwLm10ID0gbmV3IERhdGUocC5tdGltZSoxMDAwKTtcblx0XHRcdH0gYnJlYWs7XG5cdFx0XHQvKiBaSVA2NCBFeHRlbmRlZCBJbmZvcm1hdGlvbiBGaWVsZCAqL1xuXHRcdFx0Y2FzZSAweDAwMDE6IHtcblx0XHRcdFx0dmFyIHN6MSA9IGJsb2IucmVhZF9zaGlmdCg0KSwgc3oyID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRcdFx0XHRwLnVzeiA9IChzejIgKiBNYXRoLnBvdygyLDMyKSArIHN6MSk7XG5cdFx0XHRcdHN6MSA9IGJsb2IucmVhZF9zaGlmdCg0KTsgc3oyID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRcdFx0XHRwLmNzeiA9IChzejIgKiBNYXRoLnBvdygyLDMyKSArIHN6MSk7XG5cdFx0XHRcdC8vIE5PVEU6IHZvbHVtZSBmaWVsZHMgYXJlIHNraXBwZWRcblx0XHRcdH0gYnJlYWs7XG5cdFx0fVxuXHRcdGJsb2IubCA9IHRndDtcblx0XHRvW3R5cGVdID0gcDtcblx0fVxuXHRyZXR1cm4gbztcbn1cbnZhciBmcy8qOjogPSByZXF1aXJlKCdmcycpOyAqLztcbmZ1bmN0aW9uIGdldF9mcygpIHsgcmV0dXJuIGZzIHx8IChmcyA9IF9mcyk7IH1cbmZ1bmN0aW9uIHBhcnNlKGZpbGUvKjpSYXdCeXRlcyovLCBvcHRpb25zLyo6Q0ZCUmVhZE9wdHMqLykvKjpDRkJDb250YWluZXIqLyB7XG5pZihmaWxlWzBdID09IDB4NTAgJiYgZmlsZVsxXSA9PSAweDRiKSByZXR1cm4gcGFyc2VfemlwKGZpbGUsIG9wdGlvbnMpO1xuaWYoKGZpbGVbMF0gfCAweDIwKSA9PSAweDZkICYmIChmaWxlWzFdfDB4MjApID09IDB4NjkpIHJldHVybiBwYXJzZV9tYWQoZmlsZSwgb3B0aW9ucyk7XG5pZihmaWxlLmxlbmd0aCA8IDUxMikgdGhyb3cgbmV3IEVycm9yKFwiQ0ZCIGZpbGUgc2l6ZSBcIiArIGZpbGUubGVuZ3RoICsgXCIgPCA1MTJcIik7XG52YXIgbXZlciA9IDM7XG52YXIgc3N6ID0gNTEyO1xudmFyIG5tZnMgPSAwOyAvLyBudW1iZXIgb2YgbWluaSBGQVQgc2VjdG9yc1xudmFyIGRpZmF0X3NlY19jbnQgPSAwO1xudmFyIGRpcl9zdGFydCA9IDA7XG52YXIgbWluaWZhdF9zdGFydCA9IDA7XG52YXIgZGlmYXRfc3RhcnQgPSAwO1xuXG52YXIgZmF0X2FkZHJzLyo6QXJyYXk8bnVtYmVyPiovID0gW107IC8vIGxvY2F0aW9ucyBvZiBGQVQgc2VjdG9yc1xuXG4vKiBbTVMtQ0ZCXSAyLjIgQ29tcG91bmQgRmlsZSBIZWFkZXIgKi9cbnZhciBibG9iLyo6Q0ZCbG9iKi8gPSAvKjo6KCovZmlsZS5zbGljZSgwLDUxMikvKjo6IDphbnkpKi87XG5wcmVwX2Jsb2IoYmxvYiwgMCk7XG5cbi8qIG1ham9yIHZlcnNpb24gKi9cbnZhciBtdiA9IGNoZWNrX2dldF9tdmVyKGJsb2IpO1xubXZlciA9IG12WzBdO1xuc3dpdGNoKG12ZXIpIHtcblx0Y2FzZSAzOiBzc3ogPSA1MTI7IGJyZWFrOyBjYXNlIDQ6IHNzeiA9IDQwOTY7IGJyZWFrO1xuXHRjYXNlIDA6IGlmKG12WzFdID09IDApIHJldHVybiBwYXJzZV96aXAoZmlsZSwgb3B0aW9ucyk7XG5cdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiTWFqb3IgVmVyc2lvbjogRXhwZWN0ZWQgMyBvciA0IHNhdyBcIiArIG12ZXIpO1xufVxuXG4vKiByZXByb2Nlc3MgaGVhZGVyICovXG5pZihzc3ogIT09IDUxMikgeyBibG9iID0gLyo6OigqL2ZpbGUuc2xpY2UoMCxzc3opLyo6OiA6YW55KSovOyBwcmVwX2Jsb2IoYmxvYiwgMjggLyogYmxvYi5sICovKTsgfVxuLyogU2F2ZSBoZWFkZXIgZm9yIGZpbmFsIG9iamVjdCAqL1xudmFyIGhlYWRlci8qOlJhd0J5dGVzKi8gPSBmaWxlLnNsaWNlKDAsc3N6KTtcblxuY2hlY2tfc2hpZnRzKGJsb2IsIG12ZXIpO1xuXG4vLyBOdW1iZXIgb2YgRGlyZWN0b3J5IFNlY3RvcnNcbnZhciBkaXJfY250Lyo6bnVtYmVyKi8gPSBibG9iLnJlYWRfc2hpZnQoNCwgJ2knKTtcbmlmKG12ZXIgPT09IDMgJiYgZGlyX2NudCAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKCcjIERpcmVjdG9yeSBTZWN0b3JzOiBFeHBlY3RlZCAwIHNhdyAnICsgZGlyX2NudCk7XG5cbi8vIE51bWJlciBvZiBGQVQgU2VjdG9yc1xuYmxvYi5sICs9IDQ7XG5cbi8vIEZpcnN0IERpcmVjdG9yeSBTZWN0b3IgTG9jYXRpb25cbmRpcl9zdGFydCA9IGJsb2IucmVhZF9zaGlmdCg0LCAnaScpO1xuXG4vLyBUcmFuc2FjdGlvbiBTaWduYXR1cmVcbmJsb2IubCArPSA0O1xuXG4vLyBNaW5pIFN0cmVhbSBDdXRvZmYgU2l6ZVxuYmxvYi5jaGsoJzAwMTAwMDAwJywgJ01pbmkgU3RyZWFtIEN1dG9mZiBTaXplOiAnKTtcblxuLy8gRmlyc3QgTWluaSBGQVQgU2VjdG9yIExvY2F0aW9uXG5taW5pZmF0X3N0YXJ0ID0gYmxvYi5yZWFkX3NoaWZ0KDQsICdpJyk7XG5cbi8vIE51bWJlciBvZiBNaW5pIEZBVCBTZWN0b3JzXG5ubWZzID0gYmxvYi5yZWFkX3NoaWZ0KDQsICdpJyk7XG5cbi8vIEZpcnN0IERJRkFUIHNlY3RvciBsb2NhdGlvblxuZGlmYXRfc3RhcnQgPSBibG9iLnJlYWRfc2hpZnQoNCwgJ2knKTtcblxuLy8gTnVtYmVyIG9mIERJRkFUIFNlY3RvcnNcbmRpZmF0X3NlY19jbnQgPSBibG9iLnJlYWRfc2hpZnQoNCwgJ2knKTtcblxuLy8gR3JhYiBGQVQgU2VjdG9yIExvY2F0aW9uc1xuZm9yKHZhciBxID0gLTEsIGogPSAwOyBqIDwgMTA5OyArK2opIHsgLyogMTA5ID0gKDUxMiAtIGJsb2IubCk+Pj4yOyAqL1xuXHRxID0gYmxvYi5yZWFkX3NoaWZ0KDQsICdpJyk7XG5cdGlmKHE8MCkgYnJlYWs7XG5cdGZhdF9hZGRyc1tqXSA9IHE7XG59XG5cbi8qKiBCcmVhayB0aGUgZmlsZSB1cCBpbnRvIHNlY3RvcnMgKi9cbnZhciBzZWN0b3JzLyo6QXJyYXk8UmF3Qnl0ZXM+Ki8gPSBzZWN0b3JpZnkoZmlsZSwgc3N6KTtcblxuc2xldXRoX2ZhdChkaWZhdF9zdGFydCwgZGlmYXRfc2VjX2NudCwgc2VjdG9ycywgc3N6LCBmYXRfYWRkcnMpO1xuXG4vKiogQ2hhaW5zICovXG52YXIgc2VjdG9yX2xpc3QvKjpTZWN0b3JMaXN0Ki8gPSBtYWtlX3NlY3Rvcl9saXN0KHNlY3RvcnMsIGRpcl9zdGFydCwgZmF0X2FkZHJzLCBzc3opO1xuXG5pZihkaXJfc3RhcnQgPCBzZWN0b3JfbGlzdC5sZW5ndGgpIHNlY3Rvcl9saXN0W2Rpcl9zdGFydF0ubmFtZSA9IFwiIURpcmVjdG9yeVwiO1xuaWYobm1mcyA+IDAgJiYgbWluaWZhdF9zdGFydCAhPT0gRU5ET0ZDSEFJTikgc2VjdG9yX2xpc3RbbWluaWZhdF9zdGFydF0ubmFtZSA9IFwiIU1pbmlGQVRcIjtcbnNlY3Rvcl9saXN0W2ZhdF9hZGRyc1swXV0ubmFtZSA9IFwiIUZBVFwiO1xuc2VjdG9yX2xpc3QuZmF0X2FkZHJzID0gZmF0X2FkZHJzO1xuc2VjdG9yX2xpc3Quc3N6ID0gc3N6O1xuXG4vKiBbTVMtQ0ZCXSAyLjYuMSBDb21wb3VuZCBGaWxlIERpcmVjdG9yeSBFbnRyeSAqL1xudmFyIGZpbGVzLyo6Q0ZCRmlsZXMqLyA9IHt9LCBQYXRocy8qOkFycmF5PHN0cmluZz4qLyA9IFtdLCBGaWxlSW5kZXgvKjpDRkJGaWxlSW5kZXgqLyA9IFtdLCBGdWxsUGF0aHMvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcbnJlYWRfZGlyZWN0b3J5KGRpcl9zdGFydCwgc2VjdG9yX2xpc3QsIHNlY3RvcnMsIFBhdGhzLCBubWZzLCBmaWxlcywgRmlsZUluZGV4LCBtaW5pZmF0X3N0YXJ0KTtcblxuYnVpbGRfZnVsbF9wYXRocyhGaWxlSW5kZXgsIEZ1bGxQYXRocywgUGF0aHMpO1xuUGF0aHMuc2hpZnQoKTtcblxudmFyIG8gPSB7XG5cdEZpbGVJbmRleDogRmlsZUluZGV4LFxuXHRGdWxsUGF0aHM6IEZ1bGxQYXRoc1xufTtcblxuLy8gJEZsb3dJZ25vcmVcbmlmKG9wdGlvbnMgJiYgb3B0aW9ucy5yYXcpIG8ucmF3ID0ge2hlYWRlcjogaGVhZGVyLCBzZWN0b3JzOiBzZWN0b3JzfTtcbnJldHVybiBvO1xufSAvLyBwYXJzZVxuXG4vKiBbTVMtQ0ZCXSAyLjIgQ29tcG91bmQgRmlsZSBIZWFkZXIgLS0gcmVhZCB1cCB0byBtYWpvciB2ZXJzaW9uICovXG5mdW5jdGlvbiBjaGVja19nZXRfbXZlcihibG9iLyo6Q0ZCbG9iKi8pLyo6W251bWJlciwgbnVtYmVyXSovIHtcblx0aWYoYmxvYltibG9iLmxdID09IDB4NTAgJiYgYmxvYltibG9iLmwgKyAxXSA9PSAweDRiKSByZXR1cm4gWzAsIDBdO1xuXHQvLyBoZWFkZXIgc2lnbmF0dXJlIDhcblx0YmxvYi5jaGsoSEVBREVSX1NJR05BVFVSRSwgJ0hlYWRlciBTaWduYXR1cmU6ICcpO1xuXG5cdC8vIGNsc2lkIDE2XG5cdC8vYmxvYi5jaGsoSEVBREVSX0NMU0lELCAnQ0xTSUQ6ICcpO1xuXHRibG9iLmwgKz0gMTY7XG5cblx0Ly8gbWlub3IgdmVyc2lvbiAyXG5cdHZhciBtdmVyLyo6bnVtYmVyKi8gPSBibG9iLnJlYWRfc2hpZnQoMiwgJ3UnKTtcblxuXHRyZXR1cm4gW2Jsb2IucmVhZF9zaGlmdCgyLCd1JyksIG12ZXJdO1xufVxuZnVuY3Rpb24gY2hlY2tfc2hpZnRzKGJsb2IvKjpDRkJsb2IqLywgbXZlci8qOm51bWJlciovKS8qOnZvaWQqLyB7XG5cdHZhciBzaGlmdCA9IDB4MDk7XG5cblx0Ly8gQnl0ZSBPcmRlclxuXHQvL2Jsb2IuY2hrKCdmZWZmJywgJ0J5dGUgT3JkZXI6ICcpOyAvLyBub3RlOiBzb21lIHdyaXRlcnMgcHV0IDB4ZmZmZlxuXHRibG9iLmwgKz0gMjtcblxuXHQvLyBTZWN0b3IgU2hpZnRcblx0c3dpdGNoKChzaGlmdCA9IGJsb2IucmVhZF9zaGlmdCgyKSkpIHtcblx0XHRjYXNlIDB4MDk6IGlmKG12ZXIgIT0gMykgdGhyb3cgbmV3IEVycm9yKCdTZWN0b3IgU2hpZnQ6IEV4cGVjdGVkIDkgc2F3ICcgKyBzaGlmdCk7IGJyZWFrO1xuXHRcdGNhc2UgMHgwYzogaWYobXZlciAhPSA0KSB0aHJvdyBuZXcgRXJyb3IoJ1NlY3RvciBTaGlmdDogRXhwZWN0ZWQgMTIgc2F3ICcgKyBzaGlmdCk7IGJyZWFrO1xuXHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignU2VjdG9yIFNoaWZ0OiBFeHBlY3RlZCA5IG9yIDEyIHNhdyAnICsgc2hpZnQpO1xuXHR9XG5cblx0Ly8gTWluaSBTZWN0b3IgU2hpZnRcblx0YmxvYi5jaGsoJzA2MDAnLCAnTWluaSBTZWN0b3IgU2hpZnQ6ICcpO1xuXG5cdC8vIFJlc2VydmVkXG5cdGJsb2IuY2hrKCcwMDAwMDAwMDAwMDAnLCAnUmVzZXJ2ZWQ6ICcpO1xufVxuXG4vKiogQnJlYWsgdGhlIGZpbGUgdXAgaW50byBzZWN0b3JzICovXG5mdW5jdGlvbiBzZWN0b3JpZnkoZmlsZS8qOlJhd0J5dGVzKi8sIHNzei8qOm51bWJlciovKS8qOkFycmF5PFJhd0J5dGVzPiovIHtcblx0dmFyIG5zZWN0b3JzID0gTWF0aC5jZWlsKGZpbGUubGVuZ3RoL3NzeiktMTtcblx0dmFyIHNlY3RvcnMvKjpBcnJheTxSYXdCeXRlcz4qLyA9IFtdO1xuXHRmb3IodmFyIGk9MTsgaSA8IG5zZWN0b3JzOyArK2kpIHNlY3RvcnNbaS0xXSA9IGZpbGUuc2xpY2UoaSpzc3osKGkrMSkqc3N6KTtcblx0c2VjdG9yc1tuc2VjdG9ycy0xXSA9IGZpbGUuc2xpY2UobnNlY3RvcnMqc3N6KTtcblx0cmV0dXJuIHNlY3RvcnM7XG59XG5cbi8qIFtNUy1DRkJdIDIuNi40IFJlZC1CbGFjayBUcmVlICovXG5mdW5jdGlvbiBidWlsZF9mdWxsX3BhdGhzKEZJLyo6Q0ZCRmlsZUluZGV4Ki8sIEZQLyo6QXJyYXk8c3RyaW5nPiovLCBQYXRocy8qOkFycmF5PHN0cmluZz4qLykvKjp2b2lkKi8ge1xuXHR2YXIgaSA9IDAsIEwgPSAwLCBSID0gMCwgQyA9IDAsIGogPSAwLCBwbCA9IFBhdGhzLmxlbmd0aDtcblx0dmFyIGRhZC8qOkFycmF5PG51bWJlcj4qLyA9IFtdLCBxLyo6QXJyYXk8bnVtYmVyPiovID0gW107XG5cblx0Zm9yKDsgaSA8IHBsOyArK2kpIHsgZGFkW2ldPXFbaV09aTsgRlBbaV09UGF0aHNbaV07IH1cblxuXHRmb3IoOyBqIDwgcS5sZW5ndGg7ICsraikge1xuXHRcdGkgPSBxW2pdO1xuXHRcdEwgPSBGSVtpXS5MOyBSID0gRklbaV0uUjsgQyA9IEZJW2ldLkM7XG5cdFx0aWYoZGFkW2ldID09PSBpKSB7XG5cdFx0XHRpZihMICE9PSAtMSAvKk5PU1RSRUFNKi8gJiYgZGFkW0xdICE9PSBMKSBkYWRbaV0gPSBkYWRbTF07XG5cdFx0XHRpZihSICE9PSAtMSAmJiBkYWRbUl0gIT09IFIpIGRhZFtpXSA9IGRhZFtSXTtcblx0XHR9XG5cdFx0aWYoQyAhPT0gLTEgLypOT1NUUkVBTSovKSBkYWRbQ10gPSBpO1xuXHRcdGlmKEwgIT09IC0xICYmIGkgIT0gZGFkW2ldKSB7IGRhZFtMXSA9IGRhZFtpXTsgaWYocS5sYXN0SW5kZXhPZihMKSA8IGopIHEucHVzaChMKTsgfVxuXHRcdGlmKFIgIT09IC0xICYmIGkgIT0gZGFkW2ldKSB7IGRhZFtSXSA9IGRhZFtpXTsgaWYocS5sYXN0SW5kZXhPZihSKSA8IGopIHEucHVzaChSKTsgfVxuXHR9XG5cdGZvcihpPTE7IGkgPCBwbDsgKytpKSBpZihkYWRbaV0gPT09IGkpIHtcblx0XHRpZihSICE9PSAtMSAvKk5PU1RSRUFNKi8gJiYgZGFkW1JdICE9PSBSKSBkYWRbaV0gPSBkYWRbUl07XG5cdFx0ZWxzZSBpZihMICE9PSAtMSAmJiBkYWRbTF0gIT09IEwpIGRhZFtpXSA9IGRhZFtMXTtcblx0fVxuXG5cdGZvcihpPTE7IGkgPCBwbDsgKytpKSB7XG5cdFx0aWYoRklbaV0udHlwZSA9PT0gMCAvKiB1bmtub3duICovKSBjb250aW51ZTtcblx0XHRqID0gaTtcblx0XHRpZihqICE9IGRhZFtqXSkgZG8ge1xuXHRcdFx0aiA9IGRhZFtqXTtcblx0XHRcdEZQW2ldID0gRlBbal0gKyBcIi9cIiArIEZQW2ldO1xuXHRcdH0gd2hpbGUgKGogIT09IDAgJiYgLTEgIT09IGRhZFtqXSAmJiBqICE9IGRhZFtqXSk7XG5cdFx0ZGFkW2ldID0gLTE7XG5cdH1cblxuXHRGUFswXSArPSBcIi9cIjtcblx0Zm9yKGk9MTsgaSA8IHBsOyArK2kpIHtcblx0XHRpZihGSVtpXS50eXBlICE9PSAyIC8qIHN0cmVhbSAqLykgRlBbaV0gKz0gXCIvXCI7XG5cdH1cbn1cblxuZnVuY3Rpb24gZ2V0X21mYXRfZW50cnkoZW50cnkvKjpDRkJFbnRyeSovLCBwYXlsb2FkLyo6UmF3Qnl0ZXMqLywgbWluaS8qOj9SYXdCeXRlcyovKS8qOkNGQmxvYiovIHtcblx0dmFyIHN0YXJ0ID0gZW50cnkuc3RhcnQsIHNpemUgPSBlbnRyeS5zaXplO1xuXHQvL3JldHVybiAocGF5bG9hZC5zbGljZShzdGFydCpNU1NaLCBzdGFydCpNU1NaICsgc2l6ZSkvKjphbnkqLyk7XG5cdHZhciBvID0gW107XG5cdHZhciBpZHggPSBzdGFydDtcblx0d2hpbGUobWluaSAmJiBzaXplID4gMCAmJiBpZHggPj0gMCkge1xuXHRcdG8ucHVzaChwYXlsb2FkLnNsaWNlKGlkeCAqIE1TU1osIGlkeCAqIE1TU1ogKyBNU1NaKSk7XG5cdFx0c2l6ZSAtPSBNU1NaO1xuXHRcdGlkeCA9IF9fcmVhZEludDMyTEUobWluaSwgaWR4ICogNCk7XG5cdH1cblx0aWYoby5sZW5ndGggPT09IDApIHJldHVybiAobmV3X2J1ZigwKS8qOmFueSovKTtcblx0cmV0dXJuIChiY29uY2F0KG8pLnNsaWNlKDAsIGVudHJ5LnNpemUpLyo6YW55Ki8pO1xufVxuXG4vKiogQ2hhc2UgZG93biB0aGUgcmVzdCBvZiB0aGUgRElGQVQgY2hhaW4gdG8gYnVpbGQgYSBjb21wcmVoZW5zaXZlIGxpc3RcbiAgICBESUZBVCBjaGFpbnMgYnkgc3RvcmluZyB0aGUgbmV4dCBzZWN0b3IgbnVtYmVyIGFzIHRoZSBsYXN0IDMyIGJpdHMgKi9cbmZ1bmN0aW9uIHNsZXV0aF9mYXQoaWR4Lyo6bnVtYmVyKi8sIGNudC8qOm51bWJlciovLCBzZWN0b3JzLyo6QXJyYXk8UmF3Qnl0ZXM+Ki8sIHNzei8qOm51bWJlciovLCBmYXRfYWRkcnMpLyo6dm9pZCovIHtcblx0dmFyIHEvKjpudW1iZXIqLyA9IEVORE9GQ0hBSU47XG5cdGlmKGlkeCA9PT0gRU5ET0ZDSEFJTikge1xuXHRcdGlmKGNudCAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiRElGQVQgY2hhaW4gc2hvcnRlciB0aGFuIGV4cGVjdGVkXCIpO1xuXHR9IGVsc2UgaWYoaWR4ICE9PSAtMSAvKkZSRUVTRUNUKi8pIHtcblx0XHR2YXIgc2VjdG9yID0gc2VjdG9yc1tpZHhdLCBtID0gKHNzej4+PjIpLTE7XG5cdFx0aWYoIXNlY3RvcikgcmV0dXJuO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtOyArK2kpIHtcblx0XHRcdGlmKChxID0gX19yZWFkSW50MzJMRShzZWN0b3IsaSo0KSkgPT09IEVORE9GQ0hBSU4pIGJyZWFrO1xuXHRcdFx0ZmF0X2FkZHJzLnB1c2gocSk7XG5cdFx0fVxuXHRcdGlmKGNudCA+PSAxKSBzbGV1dGhfZmF0KF9fcmVhZEludDMyTEUoc2VjdG9yLHNzei00KSxjbnQgLSAxLCBzZWN0b3JzLCBzc3osIGZhdF9hZGRycyk7XG5cdH1cbn1cblxuLyoqIEZvbGxvdyB0aGUgbGlua2VkIGxpc3Qgb2Ygc2VjdG9ycyBmb3IgYSBnaXZlbiBzdGFydGluZyBwb2ludCAqL1xuZnVuY3Rpb24gZ2V0X3NlY3Rvcl9saXN0KHNlY3RvcnMvKjpBcnJheTxSYXdCeXRlcz4qLywgc3RhcnQvKjpudW1iZXIqLywgZmF0X2FkZHJzLyo6QXJyYXk8bnVtYmVyPiovLCBzc3ovKjpudW1iZXIqLywgY2hrZC8qOj9BcnJheTxib29sZWFuPiovKS8qOlNlY3RvckVudHJ5Ki8ge1xuXHR2YXIgYnVmLyo6QXJyYXk8bnVtYmVyPiovID0gW10sIGJ1Zl9jaGFpbi8qOkFycmF5PGFueT4qLyA9IFtdO1xuXHRpZighY2hrZCkgY2hrZCA9IFtdO1xuXHR2YXIgbW9kdWx1cyA9IHNzeiAtIDEsIGogPSAwLCBqaiA9IDA7XG5cdGZvcihqPXN0YXJ0OyBqPj0wOykge1xuXHRcdGNoa2Rbal0gPSB0cnVlO1xuXHRcdGJ1ZltidWYubGVuZ3RoXSA9IGo7XG5cdFx0YnVmX2NoYWluLnB1c2goc2VjdG9yc1tqXSk7XG5cdFx0dmFyIGFkZHIgPSBmYXRfYWRkcnNbTWF0aC5mbG9vcihqKjQvc3N6KV07XG5cdFx0amogPSAoKGoqNCkgJiBtb2R1bHVzKTtcblx0XHRpZihzc3ogPCA0ICsgamopIHRocm93IG5ldyBFcnJvcihcIkZBVCBib3VuZGFyeSBjcm9zc2VkOiBcIiArIGogKyBcIiA0IFwiK3Nzeik7XG5cdFx0aWYoIXNlY3RvcnNbYWRkcl0pIGJyZWFrO1xuXHRcdGogPSBfX3JlYWRJbnQzMkxFKHNlY3RvcnNbYWRkcl0sIGpqKTtcblx0fVxuXHRyZXR1cm4ge25vZGVzOiBidWYsIGRhdGE6X190b0J1ZmZlcihbYnVmX2NoYWluXSl9O1xufVxuXG4vKiogQ2hhc2UgZG93biB0aGUgc2VjdG9yIGxpbmtlZCBsaXN0cyAqL1xuZnVuY3Rpb24gbWFrZV9zZWN0b3JfbGlzdChzZWN0b3JzLyo6QXJyYXk8UmF3Qnl0ZXM+Ki8sIGRpcl9zdGFydC8qOm51bWJlciovLCBmYXRfYWRkcnMvKjpBcnJheTxudW1iZXI+Ki8sIHNzei8qOm51bWJlciovKS8qOlNlY3Rvckxpc3QqLyB7XG5cdHZhciBzbCA9IHNlY3RvcnMubGVuZ3RoLCBzZWN0b3JfbGlzdC8qOlNlY3Rvckxpc3QqLyA9IChbXS8qOmFueSovKTtcblx0dmFyIGNoa2QvKjpBcnJheTxib29sZWFuPiovID0gW10sIGJ1Zi8qOkFycmF5PG51bWJlcj4qLyA9IFtdLCBidWZfY2hhaW4vKjpBcnJheTxSYXdCeXRlcz4qLyA9IFtdO1xuXHR2YXIgbW9kdWx1cyA9IHNzeiAtIDEsIGk9MCwgaj0wLCBrPTAsIGpqPTA7XG5cdGZvcihpPTA7IGkgPCBzbDsgKytpKSB7XG5cdFx0YnVmID0gKFtdLyo6QXJyYXk8bnVtYmVyPiovKTtcblx0XHRrID0gKGkgKyBkaXJfc3RhcnQpOyBpZihrID49IHNsKSBrLT1zbDtcblx0XHRpZihjaGtkW2tdKSBjb250aW51ZTtcblx0XHRidWZfY2hhaW4gPSBbXTtcblx0XHR2YXIgc2VlbiA9IFtdO1xuXHRcdGZvcihqPWs7IGo+PTA7KSB7XG5cdFx0XHRzZWVuW2pdID0gdHJ1ZTtcblx0XHRcdGNoa2Rbal0gPSB0cnVlO1xuXHRcdFx0YnVmW2J1Zi5sZW5ndGhdID0gajtcblx0XHRcdGJ1Zl9jaGFpbi5wdXNoKHNlY3RvcnNbal0pO1xuXHRcdFx0dmFyIGFkZHIvKjpudW1iZXIqLyA9IGZhdF9hZGRyc1tNYXRoLmZsb29yKGoqNC9zc3opXTtcblx0XHRcdGpqID0gKChqKjQpICYgbW9kdWx1cyk7XG5cdFx0XHRpZihzc3ogPCA0ICsgamopIHRocm93IG5ldyBFcnJvcihcIkZBVCBib3VuZGFyeSBjcm9zc2VkOiBcIiArIGogKyBcIiA0IFwiK3Nzeik7XG5cdFx0XHRpZighc2VjdG9yc1thZGRyXSkgYnJlYWs7XG5cdFx0XHRqID0gX19yZWFkSW50MzJMRShzZWN0b3JzW2FkZHJdLCBqaik7XG5cdFx0XHRpZihzZWVuW2pdKSBicmVhaztcblx0XHR9XG5cdFx0c2VjdG9yX2xpc3Rba10gPSAoe25vZGVzOiBidWYsIGRhdGE6X190b0J1ZmZlcihbYnVmX2NoYWluXSl9Lyo6U2VjdG9yRW50cnkqLyk7XG5cdH1cblx0cmV0dXJuIHNlY3Rvcl9saXN0O1xufVxuXG4vKiBbTVMtQ0ZCXSAyLjYuMSBDb21wb3VuZCBGaWxlIERpcmVjdG9yeSBFbnRyeSAqL1xuZnVuY3Rpb24gcmVhZF9kaXJlY3RvcnkoZGlyX3N0YXJ0Lyo6bnVtYmVyKi8sIHNlY3Rvcl9saXN0Lyo6U2VjdG9yTGlzdCovLCBzZWN0b3JzLyo6QXJyYXk8UmF3Qnl0ZXM+Ki8sIFBhdGhzLyo6QXJyYXk8c3RyaW5nPiovLCBubWZzLCBmaWxlcywgRmlsZUluZGV4LCBtaW5pKSB7XG5cdHZhciBtaW5pZmF0X3N0b3JlID0gMCwgcGwgPSAoUGF0aHMubGVuZ3RoPzI6MCk7XG5cdHZhciBzZWN0b3IgPSBzZWN0b3JfbGlzdFtkaXJfc3RhcnRdLmRhdGE7XG5cdHZhciBpID0gMCwgbmFtZWxlbiA9IDAsIG5hbWU7XG5cdGZvcig7IGkgPCBzZWN0b3IubGVuZ3RoOyBpKz0gMTI4KSB7XG5cdFx0dmFyIGJsb2IvKjpDRkJsb2IqLyA9IC8qOjooKi9zZWN0b3Iuc2xpY2UoaSwgaSsxMjgpLyo6OiA6YW55KSovO1xuXHRcdHByZXBfYmxvYihibG9iLCA2NCk7XG5cdFx0bmFtZWxlbiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0XHRuYW1lID0gX191dGYxNmxlKGJsb2IsMCxuYW1lbGVuLXBsKTtcblx0XHRQYXRocy5wdXNoKG5hbWUpO1xuXHRcdHZhciBvLyo6Q0ZCRW50cnkqLyA9ICh7XG5cdFx0XHRuYW1lOiAgbmFtZSxcblx0XHRcdHR5cGU6ICBibG9iLnJlYWRfc2hpZnQoMSksXG5cdFx0XHRjb2xvcjogYmxvYi5yZWFkX3NoaWZ0KDEpLFxuXHRcdFx0TDogICAgIGJsb2IucmVhZF9zaGlmdCg0LCAnaScpLFxuXHRcdFx0UjogICAgIGJsb2IucmVhZF9zaGlmdCg0LCAnaScpLFxuXHRcdFx0QzogICAgIGJsb2IucmVhZF9zaGlmdCg0LCAnaScpLFxuXHRcdFx0Y2xzaWQ6IGJsb2IucmVhZF9zaGlmdCgxNiksXG5cdFx0XHRzdGF0ZTogYmxvYi5yZWFkX3NoaWZ0KDQsICdpJyksXG5cdFx0XHRzdGFydDogMCxcblx0XHRcdHNpemU6IDBcblx0XHR9KTtcblx0XHR2YXIgY3RpbWUvKjpudW1iZXIqLyA9IGJsb2IucmVhZF9zaGlmdCgyKSArIGJsb2IucmVhZF9zaGlmdCgyKSArIGJsb2IucmVhZF9zaGlmdCgyKSArIGJsb2IucmVhZF9zaGlmdCgyKTtcblx0XHRpZihjdGltZSAhPT0gMCkgby5jdCA9IHJlYWRfZGF0ZShibG9iLCBibG9iLmwtOCk7XG5cdFx0dmFyIG10aW1lLyo6bnVtYmVyKi8gPSBibG9iLnJlYWRfc2hpZnQoMikgKyBibG9iLnJlYWRfc2hpZnQoMikgKyBibG9iLnJlYWRfc2hpZnQoMikgKyBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0aWYobXRpbWUgIT09IDApIG8ubXQgPSByZWFkX2RhdGUoYmxvYiwgYmxvYi5sLTgpO1xuXHRcdG8uc3RhcnQgPSBibG9iLnJlYWRfc2hpZnQoNCwgJ2knKTtcblx0XHRvLnNpemUgPSBibG9iLnJlYWRfc2hpZnQoNCwgJ2knKTtcblx0XHRpZihvLnNpemUgPCAwICYmIG8uc3RhcnQgPCAwKSB7IG8uc2l6ZSA9IG8udHlwZSA9IDA7IG8uc3RhcnQgPSBFTkRPRkNIQUlOOyBvLm5hbWUgPSBcIlwiOyB9XG5cdFx0aWYoby50eXBlID09PSA1KSB7IC8qIHJvb3QgKi9cblx0XHRcdG1pbmlmYXRfc3RvcmUgPSBvLnN0YXJ0O1xuXHRcdFx0aWYobm1mcyA+IDAgJiYgbWluaWZhdF9zdG9yZSAhPT0gRU5ET0ZDSEFJTikgc2VjdG9yX2xpc3RbbWluaWZhdF9zdG9yZV0ubmFtZSA9IFwiIVN0cmVhbURhdGFcIjtcblx0XHRcdC8qbWluaWZhdF9zaXplID0gby5zaXplOyovXG5cdFx0fSBlbHNlIGlmKG8uc2l6ZSA+PSA0MDk2IC8qIE1TQ1NaICovKSB7XG5cdFx0XHRvLnN0b3JhZ2UgPSAnZmF0Jztcblx0XHRcdGlmKHNlY3Rvcl9saXN0W28uc3RhcnRdID09PSB1bmRlZmluZWQpIHNlY3Rvcl9saXN0W28uc3RhcnRdID0gZ2V0X3NlY3Rvcl9saXN0KHNlY3RvcnMsIG8uc3RhcnQsIHNlY3Rvcl9saXN0LmZhdF9hZGRycywgc2VjdG9yX2xpc3Quc3N6KTtcblx0XHRcdHNlY3Rvcl9saXN0W28uc3RhcnRdLm5hbWUgPSBvLm5hbWU7XG5cdFx0XHRvLmNvbnRlbnQgPSAoc2VjdG9yX2xpc3Rbby5zdGFydF0uZGF0YS5zbGljZSgwLG8uc2l6ZSkvKjphbnkqLyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG8uc3RvcmFnZSA9ICdtaW5pZmF0Jztcblx0XHRcdGlmKG8uc2l6ZSA8IDApIG8uc2l6ZSA9IDA7XG5cdFx0XHRlbHNlIGlmKG1pbmlmYXRfc3RvcmUgIT09IEVORE9GQ0hBSU4gJiYgby5zdGFydCAhPT0gRU5ET0ZDSEFJTiAmJiBzZWN0b3JfbGlzdFttaW5pZmF0X3N0b3JlXSkge1xuXHRcdFx0XHRvLmNvbnRlbnQgPSBnZXRfbWZhdF9lbnRyeShvLCBzZWN0b3JfbGlzdFttaW5pZmF0X3N0b3JlXS5kYXRhLCAoc2VjdG9yX2xpc3RbbWluaV18fHt9KS5kYXRhKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoby5jb250ZW50KSBwcmVwX2Jsb2Ioby5jb250ZW50LCAwKTtcblx0XHRmaWxlc1tuYW1lXSA9IG87XG5cdFx0RmlsZUluZGV4LnB1c2gobyk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVhZF9kYXRlKGJsb2IvKjpSYXdCeXRlc3xDRkJsb2IqLywgb2Zmc2V0Lyo6bnVtYmVyKi8pLyo6RGF0ZSovIHtcblx0cmV0dXJuIG5ldyBEYXRlKCggKCAoX19yZWFkVUludDMyTEUoYmxvYixvZmZzZXQrNCkvMWU3KSpNYXRoLnBvdygyLDMyKStfX3JlYWRVSW50MzJMRShibG9iLG9mZnNldCkvMWU3ICkgLSAxMTY0NDQ3MzYwMCkqMTAwMCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRfZmlsZShmaWxlbmFtZS8qOnN0cmluZyovLCBvcHRpb25zLyo6Q0ZCUmVhZE9wdHMqLykge1xuXHRnZXRfZnMoKTtcblx0cmV0dXJuIHBhcnNlKGZzLnJlYWRGaWxlU3luYyhmaWxlbmFtZSksIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZWFkKGJsb2IvKjpSYXdCeXRlc3xzdHJpbmcqLywgb3B0aW9ucy8qOkNGQlJlYWRPcHRzKi8pIHtcblx0dmFyIHR5cGUgPSBvcHRpb25zICYmIG9wdGlvbnMudHlwZTtcblx0aWYoIXR5cGUpIHtcblx0XHRpZihoYXNfYnVmICYmIEJ1ZmZlci5pc0J1ZmZlcihibG9iKSkgdHlwZSA9IFwiYnVmZmVyXCI7XG5cdH1cblx0c3dpdGNoKHR5cGUgfHwgXCJiYXNlNjRcIikge1xuXHRcdGNhc2UgXCJmaWxlXCI6IC8qOjogaWYodHlwZW9mIGJsb2IgIT09ICdzdHJpbmcnKSB0aHJvdyBcIk11c3QgcGFzcyBhIGZpbGVuYW1lIHdoZW4gdHlwZT0nZmlsZSdcIjsgKi9yZXR1cm4gcmVhZF9maWxlKGJsb2IsIG9wdGlvbnMpO1xuXHRcdGNhc2UgXCJiYXNlNjRcIjogLyo6OiBpZih0eXBlb2YgYmxvYiAhPT0gJ3N0cmluZycpIHRocm93IFwiTXVzdCBwYXNzIGEgYmFzZTY0LWVuY29kZWQgYmluYXJ5IHN0cmluZyB3aGVuIHR5cGU9J2ZpbGUnXCI7ICovcmV0dXJuIHBhcnNlKHMyYShCYXNlNjRfZGVjb2RlKGJsb2IpKSwgb3B0aW9ucyk7XG5cdFx0Y2FzZSBcImJpbmFyeVwiOiAvKjo6IGlmKHR5cGVvZiBibG9iICE9PSAnc3RyaW5nJykgdGhyb3cgXCJNdXN0IHBhc3MgYSBiaW5hcnkgc3RyaW5nIHdoZW4gdHlwZT0nZmlsZSdcIjsgKi9yZXR1cm4gcGFyc2UoczJhKGJsb2IpLCBvcHRpb25zKTtcblx0fVxuXHRyZXR1cm4gcGFyc2UoLyo6OnR5cGVvZiBibG9iID09ICdzdHJpbmcnID8gbmV3IEJ1ZmZlcihibG9iLCAndXRmLTgnKSA6ICovYmxvYiwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGluaXRfY2ZiKGNmYi8qOkNGQkNvbnRhaW5lciovLCBvcHRzLyo6P2FueSovKS8qOnZvaWQqLyB7XG5cdHZhciBvID0gb3B0cyB8fCB7fSwgcm9vdCA9IG8ucm9vdCB8fCBcIlJvb3QgRW50cnlcIjtcblx0aWYoIWNmYi5GdWxsUGF0aHMpIGNmYi5GdWxsUGF0aHMgPSBbXTtcblx0aWYoIWNmYi5GaWxlSW5kZXgpIGNmYi5GaWxlSW5kZXggPSBbXTtcblx0aWYoY2ZiLkZ1bGxQYXRocy5sZW5ndGggIT09IGNmYi5GaWxlSW5kZXgubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJpbmNvbnNpc3RlbnQgQ0ZCIHN0cnVjdHVyZVwiKTtcblx0aWYoY2ZiLkZ1bGxQYXRocy5sZW5ndGggPT09IDApIHtcblx0XHRjZmIuRnVsbFBhdGhzWzBdID0gcm9vdCArIFwiL1wiO1xuXHRcdGNmYi5GaWxlSW5kZXhbMF0gPSAoeyBuYW1lOiByb290LCB0eXBlOiA1IH0vKjphbnkqLyk7XG5cdH1cblx0aWYoby5DTFNJRCkgY2ZiLkZpbGVJbmRleFswXS5jbHNpZCA9IG8uQ0xTSUQ7XG5cdHNlZWRfY2ZiKGNmYik7XG59XG5mdW5jdGlvbiBzZWVkX2NmYihjZmIvKjpDRkJDb250YWluZXIqLykvKjp2b2lkKi8ge1xuXHR2YXIgbm0gPSBcIlxcdTAwMDFTaDMzdEo1XCI7XG5cdGlmKENGQi5maW5kKGNmYiwgXCIvXCIgKyBubSkpIHJldHVybjtcblx0dmFyIHAgPSBuZXdfYnVmKDQpOyBwWzBdID0gNTU7IHBbMV0gPSBwWzNdID0gNTA7IHBbMl0gPSA1NDtcblx0Y2ZiLkZpbGVJbmRleC5wdXNoKCh7IG5hbWU6IG5tLCB0eXBlOiAyLCBjb250ZW50OnAsIHNpemU6NCwgTDo2OSwgUjo2OSwgQzo2OSB9Lyo6YW55Ki8pKTtcblx0Y2ZiLkZ1bGxQYXRocy5wdXNoKGNmYi5GdWxsUGF0aHNbMF0gKyBubSk7XG5cdHJlYnVpbGRfY2ZiKGNmYik7XG59XG5mdW5jdGlvbiByZWJ1aWxkX2NmYihjZmIvKjpDRkJDb250YWluZXIqLywgZi8qOj9ib29sZWFuKi8pLyo6dm9pZCovIHtcblx0aW5pdF9jZmIoY2ZiKTtcblx0dmFyIGdjID0gZmFsc2UsIHMgPSBmYWxzZTtcblx0Zm9yKHZhciBpID0gY2ZiLkZ1bGxQYXRocy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuXHRcdHZhciBfZmlsZSA9IGNmYi5GaWxlSW5kZXhbaV07XG5cdFx0c3dpdGNoKF9maWxlLnR5cGUpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYocykgZ2MgPSB0cnVlO1xuXHRcdFx0XHRlbHNlIHsgY2ZiLkZpbGVJbmRleC5wb3AoKTsgY2ZiLkZ1bGxQYXRocy5wb3AoKTsgfVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMTogY2FzZSAyOiBjYXNlIDU6XG5cdFx0XHRcdHMgPSB0cnVlO1xuXHRcdFx0XHRpZihpc05hTihfZmlsZS5SICogX2ZpbGUuTCAqIF9maWxlLkMpKSBnYyA9IHRydWU7XG5cdFx0XHRcdGlmKF9maWxlLlIgPiAtMSAmJiBfZmlsZS5MID4gLTEgJiYgX2ZpbGUuUiA9PSBfZmlsZS5MKSBnYyA9IHRydWU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogZ2MgPSB0cnVlOyBicmVhaztcblx0XHR9XG5cdH1cblx0aWYoIWdjICYmICFmKSByZXR1cm47XG5cblx0dmFyIG5vdyA9IG5ldyBEYXRlKDE5ODcsIDEsIDE5KSwgaiA9IDA7XG5cdC8vIFRyYWNrIHdoaWNoIG5hbWVzIGV4aXN0XG5cdHZhciBmdWxsUGF0aHMgPSBPYmplY3QuY3JlYXRlID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuXHR2YXIgZGF0YS8qOkFycmF5PFtzdHJpbmcsIENGQkVudHJ5XT4qLyA9IFtdO1xuXHRmb3IoaSA9IDA7IGkgPCBjZmIuRnVsbFBhdGhzLmxlbmd0aDsgKytpKSB7XG5cdFx0ZnVsbFBhdGhzW2NmYi5GdWxsUGF0aHNbaV1dID0gdHJ1ZTtcblx0XHRpZihjZmIuRmlsZUluZGV4W2ldLnR5cGUgPT09IDApIGNvbnRpbnVlO1xuXHRcdGRhdGEucHVzaChbY2ZiLkZ1bGxQYXRoc1tpXSwgY2ZiLkZpbGVJbmRleFtpXV0pO1xuXHR9XG5cdGZvcihpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHtcblx0XHR2YXIgZGFkID0gZGlybmFtZShkYXRhW2ldWzBdKTtcblx0XHRzID0gZnVsbFBhdGhzW2RhZF07XG5cdFx0d2hpbGUoIXMpIHtcblx0XHRcdHdoaWxlKGRpcm5hbWUoZGFkKSAmJiAhZnVsbFBhdGhzW2Rpcm5hbWUoZGFkKV0pIGRhZCA9IGRpcm5hbWUoZGFkKTtcblxuXHRcdFx0ZGF0YS5wdXNoKFtkYWQsICh7XG5cdFx0XHRcdG5hbWU6IGZpbGVuYW1lKGRhZCkucmVwbGFjZShcIi9cIixcIlwiKSxcblx0XHRcdFx0dHlwZTogMSxcblx0XHRcdFx0Y2xzaWQ6IEhFQURFUl9DTFNJRCxcblx0XHRcdFx0Y3Q6IG5vdywgbXQ6IG5vdyxcblx0XHRcdFx0Y29udGVudDogbnVsbFxuXHRcdFx0fS8qOmFueSovKV0pO1xuXG5cdFx0XHQvLyBBZGQgbmFtZSB0byBzZXRcblx0XHRcdGZ1bGxQYXRoc1tkYWRdID0gdHJ1ZTtcblxuXHRcdFx0ZGFkID0gZGlybmFtZShkYXRhW2ldWzBdKTtcblx0XHRcdHMgPSBmdWxsUGF0aHNbZGFkXTtcblx0XHR9XG5cdH1cblxuXHRkYXRhLnNvcnQoZnVuY3Rpb24oeCx5KSB7IHJldHVybiBuYW1lY21wKHhbMF0sIHlbMF0pOyB9KTtcblx0Y2ZiLkZ1bGxQYXRocyA9IFtdOyBjZmIuRmlsZUluZGV4ID0gW107XG5cdGZvcihpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHsgY2ZiLkZ1bGxQYXRoc1tpXSA9IGRhdGFbaV1bMF07IGNmYi5GaWxlSW5kZXhbaV0gPSBkYXRhW2ldWzFdOyB9XG5cdGZvcihpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHtcblx0XHR2YXIgZWx0ID0gY2ZiLkZpbGVJbmRleFtpXTtcblx0XHR2YXIgbm0gPSBjZmIuRnVsbFBhdGhzW2ldO1xuXG5cdFx0ZWx0Lm5hbWUgPSAgZmlsZW5hbWUobm0pLnJlcGxhY2UoXCIvXCIsXCJcIik7XG5cdFx0ZWx0LkwgPSBlbHQuUiA9IGVsdC5DID0gLShlbHQuY29sb3IgPSAxKTtcblx0XHRlbHQuc2l6ZSA9IGVsdC5jb250ZW50ID8gZWx0LmNvbnRlbnQubGVuZ3RoIDogMDtcblx0XHRlbHQuc3RhcnQgPSAwO1xuXHRcdGVsdC5jbHNpZCA9IChlbHQuY2xzaWQgfHwgSEVBREVSX0NMU0lEKTtcblx0XHRpZihpID09PSAwKSB7XG5cdFx0XHRlbHQuQyA9IGRhdGEubGVuZ3RoID4gMSA/IDEgOiAtMTtcblx0XHRcdGVsdC5zaXplID0gMDtcblx0XHRcdGVsdC50eXBlID0gNTtcblx0XHR9IGVsc2UgaWYobm0uc2xpY2UoLTEpID09IFwiL1wiKSB7XG5cdFx0XHRmb3Ioaj1pKzE7aiA8IGRhdGEubGVuZ3RoOyArK2opIGlmKGRpcm5hbWUoY2ZiLkZ1bGxQYXRoc1tqXSk9PW5tKSBicmVhaztcblx0XHRcdGVsdC5DID0gaiA+PSBkYXRhLmxlbmd0aCA/IC0xIDogajtcblx0XHRcdGZvcihqPWkrMTtqIDwgZGF0YS5sZW5ndGg7ICsraikgaWYoZGlybmFtZShjZmIuRnVsbFBhdGhzW2pdKT09ZGlybmFtZShubSkpIGJyZWFrO1xuXHRcdFx0ZWx0LlIgPSBqID49IGRhdGEubGVuZ3RoID8gLTEgOiBqO1xuXHRcdFx0ZWx0LnR5cGUgPSAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZihkaXJuYW1lKGNmYi5GdWxsUGF0aHNbaSsxXXx8XCJcIikgPT0gZGlybmFtZShubSkpIGVsdC5SID0gaSArIDE7XG5cdFx0XHRlbHQudHlwZSA9IDI7XG5cdFx0fVxuXHR9XG5cbn1cblxuZnVuY3Rpb24gX3dyaXRlKGNmYi8qOkNGQkNvbnRhaW5lciovLCBvcHRpb25zLyo6Q0ZCV3JpdGVPcHRzKi8pLyo6UmF3Qnl0ZXN8c3RyaW5nKi8ge1xuXHR2YXIgX29wdHMgPSBvcHRpb25zIHx8IHt9O1xuXHQvKiBNQUQgaXMgb3JkZXItc2Vuc2l0aXZlLCBza2lwIHJlYnVpbGQgYW5kIHNvcnQgKi9cblx0aWYoX29wdHMuZmlsZVR5cGUgPT0gJ21hZCcpIHJldHVybiB3cml0ZV9tYWQoY2ZiLCBfb3B0cyk7XG5cdHJlYnVpbGRfY2ZiKGNmYik7XG5cdHN3aXRjaChfb3B0cy5maWxlVHlwZSkge1xuXHRcdGNhc2UgJ3ppcCc6IHJldHVybiB3cml0ZV96aXAoY2ZiLCBfb3B0cyk7XG5cdFx0Ly9jYXNlICdtYWQnOiByZXR1cm4gd3JpdGVfbWFkKGNmYiwgX29wdHMpO1xuXHR9XG5cdHZhciBMID0gKGZ1bmN0aW9uKGNmYi8qOkNGQkNvbnRhaW5lciovKS8qOkFycmF5PG51bWJlcj4qL3tcblx0XHR2YXIgbWluaV9zaXplID0gMCwgZmF0X3NpemUgPSAwO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjZmIuRmlsZUluZGV4Lmxlbmd0aDsgKytpKSB7XG5cdFx0XHR2YXIgZmlsZSA9IGNmYi5GaWxlSW5kZXhbaV07XG5cdFx0XHRpZighZmlsZS5jb250ZW50KSBjb250aW51ZTtcblx0XHRcdHZhciBmbGVuID0gZmlsZS5jb250ZW50Lmxlbmd0aDtcblx0XHRcdGlmKGZsZW4gPiAwKXtcblx0XHRcdFx0aWYoZmxlbiA8IDB4MTAwMCkgbWluaV9zaXplICs9IChmbGVuICsgMHgzRikgPj4gNjtcblx0XHRcdFx0ZWxzZSBmYXRfc2l6ZSArPSAoZmxlbiArIDB4MDFGRikgPj4gOTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dmFyIGRpcl9jbnQgPSAoY2ZiLkZ1bGxQYXRocy5sZW5ndGggKzMpID4+IDI7XG5cdFx0dmFyIG1pbmlfY250ID0gKG1pbmlfc2l6ZSArIDcpID4+IDM7XG5cdFx0dmFyIG1mYXRfY250ID0gKG1pbmlfc2l6ZSArIDB4N0YpID4+IDc7XG5cdFx0dmFyIGZhdF9iYXNlID0gbWluaV9jbnQgKyBmYXRfc2l6ZSArIGRpcl9jbnQgKyBtZmF0X2NudDtcblx0XHR2YXIgZmF0X2NudCA9IChmYXRfYmFzZSArIDB4N0YpID4+IDc7XG5cdFx0dmFyIGRpZmF0X2NudCA9IGZhdF9jbnQgPD0gMTA5ID8gMCA6IE1hdGguY2VpbCgoZmF0X2NudC0xMDkpLzB4N0YpO1xuXHRcdHdoaWxlKCgoZmF0X2Jhc2UgKyBmYXRfY250ICsgZGlmYXRfY250ICsgMHg3RikgPj4gNykgPiBmYXRfY250KSBkaWZhdF9jbnQgPSArK2ZhdF9jbnQgPD0gMTA5ID8gMCA6IE1hdGguY2VpbCgoZmF0X2NudC0xMDkpLzB4N0YpO1xuXHRcdHZhciBMID0gIFsxLCBkaWZhdF9jbnQsIGZhdF9jbnQsIG1mYXRfY250LCBkaXJfY250LCBmYXRfc2l6ZSwgbWluaV9zaXplLCAwXTtcblx0XHRjZmIuRmlsZUluZGV4WzBdLnNpemUgPSBtaW5pX3NpemUgPDwgNjtcblx0XHRMWzddID0gKGNmYi5GaWxlSW5kZXhbMF0uc3RhcnQ9TFswXStMWzFdK0xbMl0rTFszXStMWzRdK0xbNV0pKygoTFs2XSs3KSA+PiAzKTtcblx0XHRyZXR1cm4gTDtcblx0fSkoY2ZiKTtcblx0dmFyIG8gPSBuZXdfYnVmKExbN10gPDwgOSk7XG5cdHZhciBpID0gMCwgVCA9IDA7XG5cdHtcblx0XHRmb3IoaSA9IDA7IGkgPCA4OyArK2kpIG8ud3JpdGVfc2hpZnQoMSwgSEVBREVSX1NJR1tpXSk7XG5cdFx0Zm9yKGkgPSAwOyBpIDwgODsgKytpKSBvLndyaXRlX3NoaWZ0KDIsIDApO1xuXHRcdG8ud3JpdGVfc2hpZnQoMiwgMHgwMDNFKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIDB4MDAwMyk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCAweEZGRkUpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMiwgMHgwMDA5KTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIDB4MDAwNik7XG5cdFx0Zm9yKGkgPSAwOyBpIDwgMzsgKytpKSBvLndyaXRlX3NoaWZ0KDIsIDApO1xuXHRcdG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdFx0by53cml0ZV9zaGlmdCg0LCBMWzJdKTtcblx0XHRvLndyaXRlX3NoaWZ0KDQsIExbMF0gKyBMWzFdICsgTFsyXSArIExbM10gLSAxKTtcblx0XHRvLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRcdG8ud3JpdGVfc2hpZnQoNCwgMTw8MTIpO1xuXHRcdG8ud3JpdGVfc2hpZnQoNCwgTFszXSA/IExbMF0gKyBMWzFdICsgTFsyXSAtIDE6IEVORE9GQ0hBSU4pO1xuXHRcdG8ud3JpdGVfc2hpZnQoNCwgTFszXSk7XG5cdFx0by53cml0ZV9zaGlmdCgtNCwgTFsxXSA/IExbMF0gLSAxOiBFTkRPRkNIQUlOKTtcblx0XHRvLndyaXRlX3NoaWZ0KDQsIExbMV0pO1xuXHRcdGZvcihpID0gMDsgaSA8IDEwOTsgKytpKSBvLndyaXRlX3NoaWZ0KC00LCBpIDwgTFsyXSA/IExbMV0gKyBpIDogLTEpO1xuXHR9XG5cdGlmKExbMV0pIHtcblx0XHRmb3IoVCA9IDA7IFQgPCBMWzFdOyArK1QpIHtcblx0XHRcdGZvcig7IGkgPCAyMzYgKyBUICogMTI3OyArK2kpIG8ud3JpdGVfc2hpZnQoLTQsIGkgPCBMWzJdID8gTFsxXSArIGkgOiAtMSk7XG5cdFx0XHRvLndyaXRlX3NoaWZ0KC00LCBUID09PSBMWzFdIC0gMSA/IEVORE9GQ0hBSU4gOiBUICsgMSk7XG5cdFx0fVxuXHR9XG5cdHZhciBjaGFpbml0ID0gZnVuY3Rpb24ody8qOm51bWJlciovKS8qOnZvaWQqLyB7XG5cdFx0Zm9yKFQgKz0gdzsgaTxULTE7ICsraSkgby53cml0ZV9zaGlmdCgtNCwgaSsxKTtcblx0XHRpZih3KSB7ICsraTsgby53cml0ZV9zaGlmdCgtNCwgRU5ET0ZDSEFJTik7IH1cblx0fTtcblx0VCA9IGkgPSAwO1xuXHRmb3IoVCs9TFsxXTsgaTxUOyArK2kpIG8ud3JpdGVfc2hpZnQoLTQsIGNvbnN0cy5ESUZTRUNUKTtcblx0Zm9yKFQrPUxbMl07IGk8VDsgKytpKSBvLndyaXRlX3NoaWZ0KC00LCBjb25zdHMuRkFUU0VDVCk7XG5cdGNoYWluaXQoTFszXSk7XG5cdGNoYWluaXQoTFs0XSk7XG5cdHZhciBqLyo6bnVtYmVyKi8gPSAwLCBmbGVuLyo6bnVtYmVyKi8gPSAwO1xuXHR2YXIgZmlsZS8qOkNGQkVudHJ5Ki8gPSBjZmIuRmlsZUluZGV4WzBdO1xuXHRmb3IoOyBqIDwgY2ZiLkZpbGVJbmRleC5sZW5ndGg7ICsraikge1xuXHRcdGZpbGUgPSBjZmIuRmlsZUluZGV4W2pdO1xuXHRcdGlmKCFmaWxlLmNvbnRlbnQpIGNvbnRpbnVlO1xuXHRcdC8qOjogaWYoZmlsZS5jb250ZW50ID09IG51bGwpIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpOyAqL1xuXHRcdGZsZW4gPSBmaWxlLmNvbnRlbnQubGVuZ3RoO1xuXHRcdGlmKGZsZW4gPCAweDEwMDApIGNvbnRpbnVlO1xuXHRcdGZpbGUuc3RhcnQgPSBUO1xuXHRcdGNoYWluaXQoKGZsZW4gKyAweDAxRkYpID4+IDkpO1xuXHR9XG5cdGNoYWluaXQoKExbNl0gKyA3KSA+PiAzKTtcblx0d2hpbGUoby5sICYgMHgxRkYpIG8ud3JpdGVfc2hpZnQoLTQsIGNvbnN0cy5FTkRPRkNIQUlOKTtcblx0VCA9IGkgPSAwO1xuXHRmb3IoaiA9IDA7IGogPCBjZmIuRmlsZUluZGV4Lmxlbmd0aDsgKytqKSB7XG5cdFx0ZmlsZSA9IGNmYi5GaWxlSW5kZXhbal07XG5cdFx0aWYoIWZpbGUuY29udGVudCkgY29udGludWU7XG5cdFx0Lyo6OiBpZihmaWxlLmNvbnRlbnQgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGVcIik7ICovXG5cdFx0ZmxlbiA9IGZpbGUuY29udGVudC5sZW5ndGg7XG5cdFx0aWYoIWZsZW4gfHwgZmxlbiA+PSAweDEwMDApIGNvbnRpbnVlO1xuXHRcdGZpbGUuc3RhcnQgPSBUO1xuXHRcdGNoYWluaXQoKGZsZW4gKyAweDNGKSA+PiA2KTtcblx0fVxuXHR3aGlsZShvLmwgJiAweDFGRikgby53cml0ZV9zaGlmdCgtNCwgY29uc3RzLkVORE9GQ0hBSU4pO1xuXHRmb3IoaSA9IDA7IGkgPCBMWzRdPDwyOyArK2kpIHtcblx0XHR2YXIgbm0gPSBjZmIuRnVsbFBhdGhzW2ldO1xuXHRcdGlmKCFubSB8fCBubS5sZW5ndGggPT09IDApIHtcblx0XHRcdGZvcihqID0gMDsgaiA8IDE3OyArK2opIG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdFx0XHRmb3IoaiA9IDA7IGogPCAzOyArK2opIG8ud3JpdGVfc2hpZnQoNCwgLTEpO1xuXHRcdFx0Zm9yKGogPSAwOyBqIDwgMTI7ICsraikgby53cml0ZV9zaGlmdCg0LCAwKTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRmaWxlID0gY2ZiLkZpbGVJbmRleFtpXTtcblx0XHRpZihpID09PSAwKSBmaWxlLnN0YXJ0ID0gZmlsZS5zaXplID8gZmlsZS5zdGFydCAtIDEgOiBFTkRPRkNIQUlOO1xuXHRcdHZhciBfbm0vKjpzdHJpbmcqLyA9IChpID09PSAwICYmIF9vcHRzLnJvb3QpIHx8IGZpbGUubmFtZTtcblx0XHRpZihfbm0ubGVuZ3RoID4gMzEpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJOYW1lIFwiICsgX25tICsgXCIgd2lsbCBiZSB0cnVuY2F0ZWQgdG8gXCIgKyBfbm0uc2xpY2UoMCwzMSkpO1xuXHRcdFx0X25tID0gX25tLnNsaWNlKDAsIDMxKTtcblx0XHR9XG5cdFx0ZmxlbiA9IDIqKF9ubS5sZW5ndGgrMSk7XG5cdFx0by53cml0ZV9zaGlmdCg2NCwgX25tLCBcInV0ZjE2bGVcIik7XG5cdFx0by53cml0ZV9zaGlmdCgyLCBmbGVuKTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIGZpbGUudHlwZSk7XG5cdFx0by53cml0ZV9zaGlmdCgxLCBmaWxlLmNvbG9yKTtcblx0XHRvLndyaXRlX3NoaWZ0KC00LCBmaWxlLkwpO1xuXHRcdG8ud3JpdGVfc2hpZnQoLTQsIGZpbGUuUik7XG5cdFx0by53cml0ZV9zaGlmdCgtNCwgZmlsZS5DKTtcblx0XHRpZighZmlsZS5jbHNpZCkgZm9yKGogPSAwOyBqIDwgNDsgKytqKSBvLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRcdGVsc2Ugby53cml0ZV9zaGlmdCgxNiwgZmlsZS5jbHNpZCwgXCJoZXhcIik7XG5cdFx0by53cml0ZV9zaGlmdCg0LCBmaWxlLnN0YXRlIHx8IDApO1xuXHRcdG8ud3JpdGVfc2hpZnQoNCwgMCk7IG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdFx0by53cml0ZV9zaGlmdCg0LCAwKTsgby53cml0ZV9zaGlmdCg0LCAwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDQsIGZpbGUuc3RhcnQpO1xuXHRcdG8ud3JpdGVfc2hpZnQoNCwgZmlsZS5zaXplKTsgby53cml0ZV9zaGlmdCg0LCAwKTtcblx0fVxuXHRmb3IoaSA9IDE7IGkgPCBjZmIuRmlsZUluZGV4Lmxlbmd0aDsgKytpKSB7XG5cdFx0ZmlsZSA9IGNmYi5GaWxlSW5kZXhbaV07XG5cdFx0Lyo6OiBpZighZmlsZS5jb250ZW50KSB0aHJvdyBuZXcgRXJyb3IoXCJ1bnJlYWNoYWJsZVwiKTsgKi9cblx0XHRpZihmaWxlLnNpemUgPj0gMHgxMDAwKSB7XG5cdFx0XHRvLmwgPSAoZmlsZS5zdGFydCsxKSA8PCA5O1xuXHRcdFx0aWYgKGhhc19idWYgJiYgQnVmZmVyLmlzQnVmZmVyKGZpbGUuY29udGVudCkpIHtcblx0XHRcdFx0ZmlsZS5jb250ZW50LmNvcHkobywgby5sLCAwLCBmaWxlLnNpemUpO1xuXHRcdFx0XHQvLyBvIGlzIGEgMC1maWxsZWQgQnVmZmVyIHNvIGp1c3Qgc2V0IG5leHQgb2Zmc2V0XG5cdFx0XHRcdG8ubCArPSAoZmlsZS5zaXplICsgNTExKSAmIC01MTI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IoaiA9IDA7IGogPCBmaWxlLnNpemU7ICsraikgby53cml0ZV9zaGlmdCgxLCBmaWxlLmNvbnRlbnRbal0pO1xuXHRcdFx0XHRmb3IoOyBqICYgMHgxRkY7ICsraikgby53cml0ZV9zaGlmdCgxLCAwKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Zm9yKGkgPSAxOyBpIDwgY2ZiLkZpbGVJbmRleC5sZW5ndGg7ICsraSkge1xuXHRcdGZpbGUgPSBjZmIuRmlsZUluZGV4W2ldO1xuXHRcdC8qOjogaWYoIWZpbGUuY29udGVudCkgdGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGVcIik7ICovXG5cdFx0aWYoZmlsZS5zaXplID4gMCAmJiBmaWxlLnNpemUgPCAweDEwMDApIHtcblx0XHRcdGlmIChoYXNfYnVmICYmIEJ1ZmZlci5pc0J1ZmZlcihmaWxlLmNvbnRlbnQpKSB7XG5cdFx0XHRcdGZpbGUuY29udGVudC5jb3B5KG8sIG8ubCwgMCwgZmlsZS5zaXplKTtcblx0XHRcdFx0Ly8gbyBpcyBhIDAtZmlsbGVkIEJ1ZmZlciBzbyBqdXN0IHNldCBuZXh0IG9mZnNldFxuXHRcdFx0XHRvLmwgKz0gKGZpbGUuc2l6ZSArIDYzKSAmIC02NDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvcihqID0gMDsgaiA8IGZpbGUuc2l6ZTsgKytqKSBvLndyaXRlX3NoaWZ0KDEsIGZpbGUuY29udGVudFtqXSk7XG5cdFx0XHRcdGZvcig7IGogJiAweDNGOyArK2opIG8ud3JpdGVfc2hpZnQoMSwgMCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGlmIChoYXNfYnVmKSB7XG5cdFx0by5sID0gby5sZW5ndGg7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gV2hlbiB1c2luZyBCdWZmZXIsIGFscmVhZHkgMC1maWxsZWRcblx0XHR3aGlsZShvLmwgPCBvLmxlbmd0aCkgby53cml0ZV9zaGlmdCgxLCAwKTtcblx0fVxuXHRyZXR1cm4gbztcbn1cbi8qIFtNUy1DRkJdIDIuNi40IChVbmljb2RlIDMuMC4xIGNhc2UgY29udmVyc2lvbikgKi9cbmZ1bmN0aW9uIGZpbmQoY2ZiLyo6Q0ZCQ29udGFpbmVyKi8sIHBhdGgvKjpzdHJpbmcqLykvKjo/Q0ZCRW50cnkqLyB7XG5cdHZhciBVQ0Z1bGxQYXRocy8qOkFycmF5PHN0cmluZz4qLyA9IGNmYi5GdWxsUGF0aHMubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHgudG9VcHBlckNhc2UoKTsgfSk7XG5cdHZhciBVQ1BhdGhzLyo6QXJyYXk8c3RyaW5nPiovID0gVUNGdWxsUGF0aHMubWFwKGZ1bmN0aW9uKHgpIHsgdmFyIHkgPSB4LnNwbGl0KFwiL1wiKTsgcmV0dXJuIHlbeS5sZW5ndGggLSAoeC5zbGljZSgtMSkgPT0gXCIvXCIgPyAyIDogMSldOyB9KTtcblx0dmFyIGsvKjpib29sZWFuKi8gPSBmYWxzZTtcblx0aWYocGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKiBcIi9cIiAqLykgeyBrID0gdHJ1ZTsgcGF0aCA9IFVDRnVsbFBhdGhzWzBdLnNsaWNlKDAsIC0xKSArIHBhdGg7IH1cblx0ZWxzZSBrID0gcGF0aC5pbmRleE9mKFwiL1wiKSAhPT0gLTE7XG5cdHZhciBVQ1BhdGgvKjpzdHJpbmcqLyA9IHBhdGgudG9VcHBlckNhc2UoKTtcblx0dmFyIHcvKjpudW1iZXIqLyA9IGsgPT09IHRydWUgPyBVQ0Z1bGxQYXRocy5pbmRleE9mKFVDUGF0aCkgOiBVQ1BhdGhzLmluZGV4T2YoVUNQYXRoKTtcblx0aWYodyAhPT0gLTEpIHJldHVybiBjZmIuRmlsZUluZGV4W3ddO1xuXG5cdHZhciBtID0gIVVDUGF0aC5tYXRjaChjaHIxKTtcblx0VUNQYXRoID0gVUNQYXRoLnJlcGxhY2UoY2hyMCwnJyk7XG5cdGlmKG0pIFVDUGF0aCA9IFVDUGF0aC5yZXBsYWNlKGNocjEsJyEnKTtcblx0Zm9yKHcgPSAwOyB3IDwgVUNGdWxsUGF0aHMubGVuZ3RoOyArK3cpIHtcblx0XHRpZigobSA/IFVDRnVsbFBhdGhzW3ddLnJlcGxhY2UoY2hyMSwnIScpIDogVUNGdWxsUGF0aHNbd10pLnJlcGxhY2UoY2hyMCwnJykgPT0gVUNQYXRoKSByZXR1cm4gY2ZiLkZpbGVJbmRleFt3XTtcblx0XHRpZigobSA/IFVDUGF0aHNbd10ucmVwbGFjZShjaHIxLCchJykgOiBVQ1BhdGhzW3ddKS5yZXBsYWNlKGNocjAsJycpID09IFVDUGF0aCkgcmV0dXJuIGNmYi5GaWxlSW5kZXhbd107XG5cdH1cblx0cmV0dXJuIG51bGw7XG59XG4vKiogQ0ZCIENvbnN0YW50cyAqL1xudmFyIE1TU1ogPSA2NDsgLyogTWluaSBTZWN0b3IgU2l6ZSA9IDE8PDYgKi9cbi8vdmFyIE1TQ1NaID0gNDA5NjsgLyogTWluaSBTdHJlYW0gQ3V0b2ZmIFNpemUgKi9cbi8qIDIuMSBDb21wb3VuZCBGaWxlIFNlY3RvciBOdW1iZXJzIGFuZCBUeXBlcyAqL1xudmFyIEVORE9GQ0hBSU4gPSAtMjtcbi8qIDIuMiBDb21wb3VuZCBGaWxlIEhlYWRlciAqL1xudmFyIEhFQURFUl9TSUdOQVRVUkUgPSAnZDBjZjExZTBhMWIxMWFlMSc7XG52YXIgSEVBREVSX1NJRyA9IFsweEQwLCAweENGLCAweDExLCAweEUwLCAweEExLCAweEIxLCAweDFBLCAweEUxXTtcbnZhciBIRUFERVJfQ0xTSUQgPSAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnO1xudmFyIGNvbnN0cyA9IHtcblx0LyogMi4xIENvbXB1bmQgRmlsZSBTZWN0b3IgTnVtYmVycyBhbmQgVHlwZXMgKi9cblx0TUFYUkVHU0VDVDogLTYsXG5cdERJRlNFQ1Q6IC00LFxuXHRGQVRTRUNUOiAtMyxcblx0RU5ET0ZDSEFJTjogRU5ET0ZDSEFJTixcblx0RlJFRVNFQ1Q6IC0xLFxuXHQvKiAyLjIgQ29tcG91bmQgRmlsZSBIZWFkZXIgKi9cblx0SEVBREVSX1NJR05BVFVSRTogSEVBREVSX1NJR05BVFVSRSxcblx0SEVBREVSX01JTk9SX1ZFUlNJT046ICczZTAwJyxcblx0TUFYUkVHU0lEOiAtNixcblx0Tk9TVFJFQU06IC0xLFxuXHRIRUFERVJfQ0xTSUQ6IEhFQURFUl9DTFNJRCxcblx0LyogMi42LjEgQ29tcG91bmQgRmlsZSBEaXJlY3RvcnkgRW50cnkgKi9cblx0RW50cnlUeXBlczogWyd1bmtub3duJywnc3RvcmFnZScsJ3N0cmVhbScsJ2xvY2tieXRlcycsJ3Byb3BlcnR5Jywncm9vdCddXG59O1xuXG5mdW5jdGlvbiB3cml0ZV9maWxlKGNmYi8qOkNGQkNvbnRhaW5lciovLCBmaWxlbmFtZS8qOnN0cmluZyovLCBvcHRpb25zLyo6Q0ZCV3JpdGVPcHRzKi8pLyo6dm9pZCovIHtcblx0Z2V0X2ZzKCk7XG5cdHZhciBvID0gX3dyaXRlKGNmYiwgb3B0aW9ucyk7XG5cdC8qOjogaWYodHlwZW9mIEJ1ZmZlciA9PSAndW5kZWZpbmVkJyB8fCAhQnVmZmVyLmlzQnVmZmVyKG8pIHx8ICEobyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpOyAqL1xuXHRmcy53cml0ZUZpbGVTeW5jKGZpbGVuYW1lLCBvKTtcbn1cblxuZnVuY3Rpb24gYTJzKG8vKjpSYXdCeXRlcyovKS8qOnN0cmluZyovIHtcblx0dmFyIG91dCA9IG5ldyBBcnJheShvLmxlbmd0aCk7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBvLmxlbmd0aDsgKytpKSBvdXRbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG9baV0pO1xuXHRyZXR1cm4gb3V0LmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIHdyaXRlKGNmYi8qOkNGQkNvbnRhaW5lciovLCBvcHRpb25zLyo6Q0ZCV3JpdGVPcHRzKi8pLyo6UmF3Qnl0ZXN8c3RyaW5nKi8ge1xuXHR2YXIgbyA9IF93cml0ZShjZmIsIG9wdGlvbnMpO1xuXHRzd2l0Y2gob3B0aW9ucyAmJiBvcHRpb25zLnR5cGUgfHwgXCJidWZmZXJcIikge1xuXHRcdGNhc2UgXCJmaWxlXCI6IGdldF9mcygpOyBmcy53cml0ZUZpbGVTeW5jKG9wdGlvbnMuZmlsZW5hbWUsIChvLyo6YW55Ki8pKTsgcmV0dXJuIG87XG5cdFx0Y2FzZSBcImJpbmFyeVwiOiByZXR1cm4gdHlwZW9mIG8gPT0gXCJzdHJpbmdcIiA/IG8gOiBhMnMobyk7XG5cdFx0Y2FzZSBcImJhc2U2NFwiOiByZXR1cm4gQmFzZTY0X2VuY29kZSh0eXBlb2YgbyA9PSBcInN0cmluZ1wiID8gbyA6IGEycyhvKSk7XG5cdFx0Y2FzZSBcImJ1ZmZlclwiOiBpZihoYXNfYnVmKSByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKG8pID8gbyA6IEJ1ZmZlcl9mcm9tKG8pO1xuXHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdGNhc2UgXCJhcnJheVwiOiByZXR1cm4gdHlwZW9mIG8gPT0gXCJzdHJpbmdcIiA/IHMyYShvKSA6IG87XG5cdH1cblx0cmV0dXJuIG87XG59XG4vKiBub2RlIDwgOC4xIHpsaWIgZG9lcyBub3QgZXhwb3NlIGJ5dGVzUmVhZCwgc28gZGVmYXVsdCB0byBwdXJlIEpTICovXG52YXIgX3psaWI7XG5mdW5jdGlvbiB1c2VfemxpYih6bGliKSB7IHRyeSB7XG5cdHZhciBJbmZsYXRlUmF3ID0gemxpYi5JbmZsYXRlUmF3O1xuXHR2YXIgSW5mbFJhdyA9IG5ldyBJbmZsYXRlUmF3KCk7XG5cdEluZmxSYXcuX3Byb2Nlc3NDaHVuayhuZXcgVWludDhBcnJheShbMywgMF0pLCBJbmZsUmF3Ll9maW5pc2hGbHVzaEZsYWcpO1xuXHRpZihJbmZsUmF3LmJ5dGVzUmVhZCkgX3psaWIgPSB6bGliO1xuXHRlbHNlIHRocm93IG5ldyBFcnJvcihcInpsaWIgZG9lcyBub3QgZXhwb3NlIGJ5dGVzUmVhZFwiKTtcbn0gY2F0Y2goZSkge2NvbnNvbGUuZXJyb3IoXCJjYW5ub3QgdXNlIG5hdGl2ZSB6bGliOiBcIiArIChlLm1lc3NhZ2UgfHwgZSkpOyB9IH1cblxuZnVuY3Rpb24gX2luZmxhdGVSYXdTeW5jKHBheWxvYWQsIHVzeikge1xuXHRpZighX3psaWIpIHJldHVybiBfaW5mbGF0ZShwYXlsb2FkLCB1c3opO1xuXHR2YXIgSW5mbGF0ZVJhdyA9IF96bGliLkluZmxhdGVSYXc7XG5cdHZhciBJbmZsUmF3ID0gbmV3IEluZmxhdGVSYXcoKTtcblx0dmFyIG91dCA9IEluZmxSYXcuX3Byb2Nlc3NDaHVuayhwYXlsb2FkLnNsaWNlKHBheWxvYWQubCksIEluZmxSYXcuX2ZpbmlzaEZsdXNoRmxhZyk7XG5cdHBheWxvYWQubCArPSBJbmZsUmF3LmJ5dGVzUmVhZDtcblx0cmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gX2RlZmxhdGVSYXdTeW5jKHBheWxvYWQpIHtcblx0cmV0dXJuIF96bGliID8gX3psaWIuZGVmbGF0ZVJhd1N5bmMocGF5bG9hZCkgOiBfZGVmbGF0ZShwYXlsb2FkKTtcbn1cbnZhciBDTEVOX09SREVSID0gWyAxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1IF07XG5cbi8qICBMRU5fSUQgPSBbIDI1NywgMjU4LCAyNTksIDI2MCwgMjYxLCAyNjIsIDI2MywgMjY0LCAyNjUsIDI2NiwgMjY3LCAyNjgsIDI2OSwgMjcwLCAyNzEsIDI3MiwgMjczLCAyNzQsIDI3NSwgMjc2LCAyNzcsIDI3OCwgMjc5LCAyODAsIDI4MSwgMjgyLCAyODMsIDI4NCwgMjg1IF07ICovXG52YXIgTEVOX0xOID0gWyAgIDMsICAgNCwgICA1LCAgIDYsICAgNywgICA4LCAgIDksICAxMCwgIDExLCAgMTMgLCAxNSwgIDE3LCAgMTksICAyMywgIDI3LCAgMzEsICAzNSwgIDQzLCAgNTEsICA1OSwgIDY3LCAgODMsICA5OSwgMTE1LCAxMzEsIDE2MywgMTk1LCAyMjcsIDI1OCBdO1xuXG4vKiAgRFNUX0lEID0gWyAgMCwgIDEsICAyLCAgMywgIDQsICA1LCAgNiwgIDcsICA4LCAgOSwgMTAsIDExLCAxMiwgMTMsICAxNCwgIDE1LCAgMTYsICAxNywgIDE4LCAgMTksICAgMjAsICAgMjEsICAgMjIsICAgMjMsICAgMjQsICAgMjUsICAgMjYsICAgIDI3LCAgICAyOCwgICAgMjkgXTsgKi9cbnZhciBEU1RfTE4gPSBbICAxLCAgMiwgIDMsICA0LCAgNSwgIDcsICA5LCAxMywgMTcsIDI1LCAzMywgNDksIDY1LCA5NywgMTI5LCAxOTMsIDI1NywgMzg1LCA1MTMsIDc2OSwgMTAyNSwgMTUzNywgMjA0OSwgMzA3MywgNDA5NywgNjE0NSwgODE5MywgMTIyODksIDE2Mzg1LCAyNDU3NyBdO1xuXG5mdW5jdGlvbiBiaXRfc3dhcF84KG4pIHsgdmFyIHQgPSAoKCgoKG48PDEpfChuPDwxMSkpICYgMHgyMjExMCkgfCAoKChuPDw1KXwobjw8MTUpKSAmIDB4ODg0NDApKSk7IHJldHVybiAoKHQ+PjE2KSB8ICh0Pj44KSB8dCkmMHhGRjsgfVxuXG52YXIgdXNlX3R5cGVkX2FycmF5cyA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJztcblxudmFyIGJpdHN3YXA4ID0gdXNlX3R5cGVkX2FycmF5cyA/IG5ldyBVaW50OEFycmF5KDE8PDgpIDogW107XG5mb3IodmFyIHEgPSAwOyBxIDwgKDE8PDgpOyArK3EpIGJpdHN3YXA4W3FdID0gYml0X3N3YXBfOChxKTtcblxuZnVuY3Rpb24gYml0X3N3YXBfbihuLCBiKSB7XG5cdHZhciByZXYgPSBiaXRzd2FwOFtuICYgMHhGRl07XG5cdGlmKGIgPD0gOCkgcmV0dXJuIHJldiA+Pj4gKDgtYik7XG5cdHJldiA9IChyZXYgPDwgOCkgfCBiaXRzd2FwOFsobj4+OCkmMHhGRl07XG5cdGlmKGIgPD0gMTYpIHJldHVybiByZXYgPj4+ICgxNi1iKTtcblx0cmV2ID0gKHJldiA8PCA4KSB8IGJpdHN3YXA4WyhuPj4xNikmMHhGRl07XG5cdHJldHVybiByZXYgPj4+ICgyNC1iKTtcbn1cblxuLyogaGVscGVycyBmb3IgdW5hbGlnbmVkIGJpdCByZWFkcyAqL1xuZnVuY3Rpb24gcmVhZF9iaXRzXzIoYnVmLCBibCkgeyB2YXIgdyA9IChibCY3KSwgaCA9IChibD4+PjMpOyByZXR1cm4gKChidWZbaF18KHcgPD0gNiA/IDAgOiBidWZbaCsxXTw8OCkpPj4+dykmIDB4MDM7IH1cbmZ1bmN0aW9uIHJlYWRfYml0c18zKGJ1ZiwgYmwpIHsgdmFyIHcgPSAoYmwmNyksIGggPSAoYmw+Pj4zKTsgcmV0dXJuICgoYnVmW2hdfCh3IDw9IDUgPyAwIDogYnVmW2grMV08PDgpKT4+PncpJiAweDA3OyB9XG5mdW5jdGlvbiByZWFkX2JpdHNfNChidWYsIGJsKSB7IHZhciB3ID0gKGJsJjcpLCBoID0gKGJsPj4+Myk7IHJldHVybiAoKGJ1ZltoXXwodyA8PSA0ID8gMCA6IGJ1ZltoKzFdPDw4KSk+Pj53KSYgMHgwRjsgfVxuZnVuY3Rpb24gcmVhZF9iaXRzXzUoYnVmLCBibCkgeyB2YXIgdyA9IChibCY3KSwgaCA9IChibD4+PjMpOyByZXR1cm4gKChidWZbaF18KHcgPD0gMyA/IDAgOiBidWZbaCsxXTw8OCkpPj4+dykmIDB4MUY7IH1cbmZ1bmN0aW9uIHJlYWRfYml0c183KGJ1ZiwgYmwpIHsgdmFyIHcgPSAoYmwmNyksIGggPSAoYmw+Pj4zKTsgcmV0dXJuICgoYnVmW2hdfCh3IDw9IDEgPyAwIDogYnVmW2grMV08PDgpKT4+PncpJiAweDdGOyB9XG5cbi8qIHdvcmtzIHVwIHRvIG4gPSAzICogOCArIDEgPSAyNSAqL1xuZnVuY3Rpb24gcmVhZF9iaXRzX24oYnVmLCBibCwgbikge1xuXHR2YXIgdyA9IChibCY3KSwgaCA9IChibD4+PjMpLCBmID0gKCgxPDxuKS0xKTtcblx0dmFyIHYgPSBidWZbaF0gPj4+IHc7XG5cdGlmKG4gPCA4IC0gdykgcmV0dXJuIHYgJiBmO1xuXHR2IHw9IGJ1ZltoKzFdPDwoOC13KTtcblx0aWYobiA8IDE2IC0gdykgcmV0dXJuIHYgJiBmO1xuXHR2IHw9IGJ1ZltoKzJdPDwoMTYtdyk7XG5cdGlmKG4gPCAyNCAtIHcpIHJldHVybiB2ICYgZjtcblx0diB8PSBidWZbaCszXTw8KDI0LXcpO1xuXHRyZXR1cm4gdiAmIGY7XG59XG5cbi8qIGhlbHBlcnMgZm9yIHVuYWxpZ25lZCBiaXQgd3JpdGVzICovXG5mdW5jdGlvbiB3cml0ZV9iaXRzXzMoYnVmLCBibCwgdikgeyB2YXIgdyA9IGJsICYgNywgaCA9IGJsID4+PiAzO1xuXHRpZih3IDw9IDUpIGJ1ZltoXSB8PSAodiAmIDcpIDw8IHc7XG5cdGVsc2Uge1xuXHRcdGJ1ZltoXSB8PSAodiA8PCB3KSAmIDB4RkY7XG5cdFx0YnVmW2grMV0gPSAodiY3KSA+PiAoOC13KTtcblx0fVxuXHRyZXR1cm4gYmwgKyAzO1xufVxuXG5mdW5jdGlvbiB3cml0ZV9iaXRzXzEoYnVmLCBibCwgdikge1xuXHR2YXIgdyA9IGJsICYgNywgaCA9IGJsID4+PiAzO1xuXHR2ID0gKHYmMSkgPDwgdztcblx0YnVmW2hdIHw9IHY7XG5cdHJldHVybiBibCArIDE7XG59XG5mdW5jdGlvbiB3cml0ZV9iaXRzXzgoYnVmLCBibCwgdikge1xuXHR2YXIgdyA9IGJsICYgNywgaCA9IGJsID4+PiAzO1xuXHR2IDw8PSB3O1xuXHRidWZbaF0gfD0gIHYgJiAweEZGOyB2ID4+Pj0gODtcblx0YnVmW2grMV0gPSB2O1xuXHRyZXR1cm4gYmwgKyA4O1xufVxuZnVuY3Rpb24gd3JpdGVfYml0c18xNihidWYsIGJsLCB2KSB7XG5cdHZhciB3ID0gYmwgJiA3LCBoID0gYmwgPj4+IDM7XG5cdHYgPDw9IHc7XG5cdGJ1ZltoXSB8PSAgdiAmIDB4RkY7IHYgPj4+PSA4O1xuXHRidWZbaCsxXSA9IHYgJiAweEZGO1xuXHRidWZbaCsyXSA9IHYgPj4+IDg7XG5cdHJldHVybiBibCArIDE2O1xufVxuXG4vKiB1bnRpbCBBcnJheUJ1ZmZlciNyZWFsbG9jIGlzIGEgdGhpbmcsIGZha2UgYSByZWFsbG9jICovXG5mdW5jdGlvbiByZWFsbG9jKGIsIHN6Lyo6bnVtYmVyKi8pIHtcblx0dmFyIEwgPSBiLmxlbmd0aCwgTSA9IDIqTCA+IHN6ID8gMipMIDogc3ogKyA1LCBpID0gMDtcblx0aWYoTCA+PSBzeikgcmV0dXJuIGI7XG5cdGlmKGhhc19idWYpIHtcblx0XHR2YXIgbyA9IG5ld191bnNhZmVfYnVmKE0pO1xuXHRcdC8vICRGbG93SWdub3JlXG5cdFx0aWYoYi5jb3B5KSBiLmNvcHkobyk7XG5cdFx0ZWxzZSBmb3IoOyBpIDwgYi5sZW5ndGg7ICsraSkgb1tpXSA9IGJbaV07XG5cdFx0cmV0dXJuIG87XG5cdH0gZWxzZSBpZih1c2VfdHlwZWRfYXJyYXlzKSB7XG5cdFx0dmFyIGEgPSBuZXcgVWludDhBcnJheShNKTtcblx0XHRpZihhLnNldCkgYS5zZXQoYik7XG5cdFx0ZWxzZSBmb3IoOyBpIDwgTDsgKytpKSBhW2ldID0gYltpXTtcblx0XHRyZXR1cm4gYTtcblx0fVxuXHRiLmxlbmd0aCA9IE07XG5cdHJldHVybiBiO1xufVxuXG4vKiB6ZXJvLWZpbGxlZCBhcnJheXMgZm9yIG9sZGVyIGJyb3dzZXJzICovXG5mdW5jdGlvbiB6ZXJvX2ZpbGxfYXJyYXkobikge1xuXHR2YXIgbyA9IG5ldyBBcnJheShuKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IG47ICsraSkgb1tpXSA9IDA7XG5cdHJldHVybiBvO1xufVxuXG4vKiBidWlsZCB0cmVlICh1c2VkIGZvciBsaXRlcmFscyBhbmQgbGVuZ3RocykgKi9cbmZ1bmN0aW9uIGJ1aWxkX3RyZWUoY2xlbnMsIGNtYXAsIE1BWC8qOm51bWJlciovKS8qOm51bWJlciovIHtcblx0dmFyIG1heGxlbiA9IDEsIHcgPSAwLCBpID0gMCwgaiA9IDAsIGNjb2RlID0gMCwgTCA9IGNsZW5zLmxlbmd0aDtcblxuXHR2YXIgYmxfY291bnQgID0gdXNlX3R5cGVkX2FycmF5cyA/IG5ldyBVaW50MTZBcnJheSgzMikgOiB6ZXJvX2ZpbGxfYXJyYXkoMzIpO1xuXHRmb3IoaSA9IDA7IGkgPCAzMjsgKytpKSBibF9jb3VudFtpXSA9IDA7XG5cblx0Zm9yKGkgPSBMOyBpIDwgTUFYOyArK2kpIGNsZW5zW2ldID0gMDtcblx0TCA9IGNsZW5zLmxlbmd0aDtcblxuXHR2YXIgY3RyZWUgPSB1c2VfdHlwZWRfYXJyYXlzID8gbmV3IFVpbnQxNkFycmF5KEwpIDogemVyb19maWxsX2FycmF5KEwpOyAvLyBbXVxuXG5cdC8qIGJ1aWxkIGNvZGUgdHJlZSAqL1xuXHRmb3IoaSA9IDA7IGkgPCBMOyArK2kpIHtcblx0XHRibF9jb3VudFsodyA9IGNsZW5zW2ldKV0rKztcblx0XHRpZihtYXhsZW4gPCB3KSBtYXhsZW4gPSB3O1xuXHRcdGN0cmVlW2ldID0gMDtcblx0fVxuXHRibF9jb3VudFswXSA9IDA7XG5cdGZvcihpID0gMTsgaSA8PSBtYXhsZW47ICsraSkgYmxfY291bnRbaSsxNl0gPSAoY2NvZGUgPSAoY2NvZGUgKyBibF9jb3VudFtpLTFdKTw8MSk7XG5cdGZvcihpID0gMDsgaSA8IEw7ICsraSkge1xuXHRcdGNjb2RlID0gY2xlbnNbaV07XG5cdFx0aWYoY2NvZGUgIT0gMCkgY3RyZWVbaV0gPSBibF9jb3VudFtjY29kZSsxNl0rKztcblx0fVxuXG5cdC8qIGNtYXBbbWF4bGVuICsgNCBiaXRzXSA9IChvZmYmMTUpICsgKGxpdDw8NCkgcmV2ZXJzZSBtYXBwaW5nICovXG5cdHZhciBjbGVuaSA9IDA7XG5cdGZvcihpID0gMDsgaSA8IEw7ICsraSkge1xuXHRcdGNsZW5pID0gY2xlbnNbaV07XG5cdFx0aWYoY2xlbmkgIT0gMCkge1xuXHRcdFx0Y2NvZGUgPSBiaXRfc3dhcF9uKGN0cmVlW2ldLCBtYXhsZW4pPj4obWF4bGVuLWNsZW5pKTtcblx0XHRcdGZvcihqID0gKDE8PChtYXhsZW4gKyA0IC0gY2xlbmkpKSAtIDE7IGo+PTA7IC0tailcblx0XHRcdFx0Y21hcFtjY29kZXwoajw8Y2xlbmkpXSA9IChjbGVuaSYxNSkgfCAoaTw8NCk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtYXhsZW47XG59XG5cbi8qIEZpeGVkIEh1ZmZtYW4gKi9cbnZhciBmaXhfbG1hcCA9IHVzZV90eXBlZF9hcnJheXMgPyBuZXcgVWludDE2QXJyYXkoNTEyKSA6IHplcm9fZmlsbF9hcnJheSg1MTIpO1xudmFyIGZpeF9kbWFwID0gdXNlX3R5cGVkX2FycmF5cyA/IG5ldyBVaW50MTZBcnJheSgzMikgIDogemVyb19maWxsX2FycmF5KDMyKTtcbmlmKCF1c2VfdHlwZWRfYXJyYXlzKSB7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCA1MTI7ICsraSkgZml4X2xtYXBbaV0gPSAwO1xuXHRmb3IoaSA9IDA7IGkgPCAzMjsgKytpKSBmaXhfZG1hcFtpXSA9IDA7XG59XG4oZnVuY3Rpb24oKSB7XG5cdHZhciBkbGVucy8qOkFycmF5PG51bWJlcj4qLyA9IFtdO1xuXHR2YXIgaSA9IDA7XG5cdGZvcig7aTwzMjsgaSsrKSBkbGVucy5wdXNoKDUpO1xuXHRidWlsZF90cmVlKGRsZW5zLCBmaXhfZG1hcCwgMzIpO1xuXG5cdHZhciBjbGVucy8qOkFycmF5PG51bWJlcj4qLyA9IFtdO1xuXHRpID0gMDtcblx0Zm9yKDsgaTw9MTQzOyBpKyspIGNsZW5zLnB1c2goOCk7XG5cdGZvcig7IGk8PTI1NTsgaSsrKSBjbGVucy5wdXNoKDkpO1xuXHRmb3IoOyBpPD0yNzk7IGkrKykgY2xlbnMucHVzaCg3KTtcblx0Zm9yKDsgaTw9Mjg3OyBpKyspIGNsZW5zLnB1c2goOCk7XG5cdGJ1aWxkX3RyZWUoY2xlbnMsIGZpeF9sbWFwLCAyODgpO1xufSkoKTt2YXIgX2RlZmxhdGVSYXcgPSAvKiNfX1BVUkVfXyovKGZ1bmN0aW9uIF9kZWZsYXRlUmF3SUlGRSgpIHtcblx0dmFyIERTVF9MTl9SRSA9IHVzZV90eXBlZF9hcnJheXMgPyBuZXcgVWludDhBcnJheSgweDgwMDApIDogW107XG5cdHZhciBqID0gMCwgayA9IDA7XG5cdGZvcig7IGogPCBEU1RfTE4ubGVuZ3RoIC0gMTsgKytqKSB7XG5cdFx0Zm9yKDsgayA8IERTVF9MTltqKzFdOyArK2spIERTVF9MTl9SRVtrXSA9IGo7XG5cdH1cblx0Zm9yKDtrIDwgMzI3Njg7ICsraykgRFNUX0xOX1JFW2tdID0gMjk7XG5cblx0dmFyIExFTl9MTl9SRSA9IHVzZV90eXBlZF9hcnJheXMgPyBuZXcgVWludDhBcnJheSgweDEwMykgOiBbXTtcblx0Zm9yKGogPSAwLCBrID0gMDsgaiA8IExFTl9MTi5sZW5ndGggLSAxOyArK2opIHtcblx0XHRmb3IoOyBrIDwgTEVOX0xOW2orMV07ICsraykgTEVOX0xOX1JFW2tdID0gajtcblx0fVxuXG5cdGZ1bmN0aW9uIHdyaXRlX3N0b3JlZChkYXRhLCBvdXQpIHtcblx0XHR2YXIgYm9mZiA9IDA7XG5cdFx0d2hpbGUoYm9mZiA8IGRhdGEubGVuZ3RoKSB7XG5cdFx0XHR2YXIgTCA9IE1hdGgubWluKDB4RkZGRiwgZGF0YS5sZW5ndGggLSBib2ZmKTtcblx0XHRcdHZhciBoID0gYm9mZiArIEwgPT0gZGF0YS5sZW5ndGg7XG5cdFx0XHRvdXQud3JpdGVfc2hpZnQoMSwgK2gpO1xuXHRcdFx0b3V0LndyaXRlX3NoaWZ0KDIsIEwpO1xuXHRcdFx0b3V0LndyaXRlX3NoaWZ0KDIsICh+TCkgJiAweEZGRkYpO1xuXHRcdFx0d2hpbGUoTC0tID4gMCkgb3V0W291dC5sKytdID0gZGF0YVtib2ZmKytdO1xuXHRcdH1cblx0XHRyZXR1cm4gb3V0Lmw7XG5cdH1cblxuXHQvKiBGaXhlZCBIdWZmbWFuICovXG5cdGZ1bmN0aW9uIHdyaXRlX2h1ZmZfZml4ZWQoZGF0YSwgb3V0KSB7XG5cdFx0dmFyIGJsID0gMDtcblx0XHR2YXIgYm9mZiA9IDA7XG5cdFx0dmFyIGFkZHJzID0gdXNlX3R5cGVkX2FycmF5cyA/IG5ldyBVaW50MTZBcnJheSgweDgwMDApIDogW107XG5cdFx0d2hpbGUoYm9mZiA8IGRhdGEubGVuZ3RoKSB7XG5cdFx0XHR2YXIgTCA9IC8qIGRhdGEubGVuZ3RoIC0gYm9mZjsgKi8gTWF0aC5taW4oMHhGRkZGLCBkYXRhLmxlbmd0aCAtIGJvZmYpO1xuXG5cdFx0XHQvKiB3cml0ZSBhIHN0b3JlZCBibG9jayBmb3Igc2hvcnQgZGF0YSAqL1xuXHRcdFx0aWYoTCA8IDEwKSB7XG5cdFx0XHRcdGJsID0gd3JpdGVfYml0c18zKG91dCwgYmwsICshIShib2ZmICsgTCA9PSBkYXRhLmxlbmd0aCkpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblx0XHRcdFx0aWYoYmwgJiA3KSBibCArPSA4IC0gKGJsICYgNyk7XG5cdFx0XHRcdG91dC5sID0gKGJsIC8gOCkgfCAwO1xuXHRcdFx0XHRvdXQud3JpdGVfc2hpZnQoMiwgTCk7XG5cdFx0XHRcdG91dC53cml0ZV9zaGlmdCgyLCAofkwpICYgMHhGRkZGKTtcblx0XHRcdFx0d2hpbGUoTC0tID4gMCkgb3V0W291dC5sKytdID0gZGF0YVtib2ZmKytdO1xuXHRcdFx0XHRibCA9IG91dC5sICogODtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGJsID0gd3JpdGVfYml0c18zKG91dCwgYmwsICshIShib2ZmICsgTCA9PSBkYXRhLmxlbmd0aCkgKyAyKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cdFx0XHR2YXIgaGFzaCA9IDA7XG5cdFx0XHR3aGlsZShMLS0gPiAwKSB7XG5cdFx0XHRcdHZhciBkID0gZGF0YVtib2ZmXTtcblx0XHRcdFx0aGFzaCA9ICgoaGFzaCA8PCA1KSBeIGQpICYgMHg3RkZGO1xuXG5cdFx0XHRcdHZhciBtYXRjaCA9IC0xLCBtbGVuID0gMDtcblxuXHRcdFx0XHRpZigobWF0Y2ggPSBhZGRyc1toYXNoXSkpIHtcblx0XHRcdFx0XHRtYXRjaCB8PSBib2ZmICYgfjB4N0ZGRjtcblx0XHRcdFx0XHRpZihtYXRjaCA+IGJvZmYpIG1hdGNoIC09IDB4ODAwMDtcblx0XHRcdFx0XHRpZihtYXRjaCA8IGJvZmYpIHdoaWxlKGRhdGFbbWF0Y2ggKyBtbGVuXSA9PSBkYXRhW2JvZmYgKyBtbGVuXSAmJiBtbGVuIDwgMjUwKSArK21sZW47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihtbGVuID4gMikge1xuXHRcdFx0XHRcdC8qIENvcHkgVG9rZW4gICovXG5cdFx0XHRcdFx0ZCA9IExFTl9MTl9SRVttbGVuXTtcblx0XHRcdFx0XHRpZihkIDw9IDIyKSBibCA9IHdyaXRlX2JpdHNfOChvdXQsIGJsLCBiaXRzd2FwOFtkKzFdPj4xKSAtIDE7XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHR3cml0ZV9iaXRzXzgob3V0LCBibCwgMyk7XG5cdFx0XHRcdFx0XHRibCArPSA1O1xuXHRcdFx0XHRcdFx0d3JpdGVfYml0c184KG91dCwgYmwsIGJpdHN3YXA4W2QtMjNdPj41KTtcblx0XHRcdFx0XHRcdGJsICs9IDM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBsZW5fZWIgPSAoZCA8IDgpID8gMCA6ICgoZCAtIDQpPj4yKTtcblx0XHRcdFx0XHRpZihsZW5fZWIgPiAwKSB7XG5cdFx0XHRcdFx0XHR3cml0ZV9iaXRzXzE2KG91dCwgYmwsIG1sZW4gLSBMRU5fTE5bZF0pO1xuXHRcdFx0XHRcdFx0YmwgKz0gbGVuX2ViO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGQgPSBEU1RfTE5fUkVbYm9mZiAtIG1hdGNoXTtcblx0XHRcdFx0XHRibCA9IHdyaXRlX2JpdHNfOChvdXQsIGJsLCBiaXRzd2FwOFtkXT4+Myk7XG5cdFx0XHRcdFx0YmwgLT0gMztcblxuXHRcdFx0XHRcdHZhciBkc3RfZWIgPSBkIDwgNCA/IDAgOiAoZC0yKT4+MTtcblx0XHRcdFx0XHRpZihkc3RfZWIgPiAwKSB7XG5cdFx0XHRcdFx0XHR3cml0ZV9iaXRzXzE2KG91dCwgYmwsIGJvZmYgLSBtYXRjaCAtIERTVF9MTltkXSk7XG5cdFx0XHRcdFx0XHRibCArPSBkc3RfZWI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZvcih2YXIgcSA9IDA7IHEgPCBtbGVuOyArK3EpIHtcblx0XHRcdFx0XHRcdGFkZHJzW2hhc2hdID0gYm9mZiAmIDB4N0ZGRjtcblx0XHRcdFx0XHRcdGhhc2ggPSAoKGhhc2ggPDwgNSkgXiBkYXRhW2JvZmZdKSAmIDB4N0ZGRjtcblx0XHRcdFx0XHRcdCsrYm9mZjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0TC09IG1sZW4gLSAxO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8qIExpdGVyYWwgVG9rZW4gKi9cblx0XHRcdFx0XHRpZihkIDw9IDE0MykgZCA9IGQgKyA0ODtcblx0XHRcdFx0XHRlbHNlIGJsID0gd3JpdGVfYml0c18xKG91dCwgYmwsIDEpO1xuXHRcdFx0XHRcdGJsID0gd3JpdGVfYml0c184KG91dCwgYmwsIGJpdHN3YXA4W2RdKTtcblx0XHRcdFx0XHRhZGRyc1toYXNoXSA9IGJvZmYgJiAweDdGRkY7XG5cdFx0XHRcdFx0Kytib2ZmO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGJsID0gd3JpdGVfYml0c184KG91dCwgYmwsIDApIC0gMTtcblx0XHR9XG5cdFx0b3V0LmwgPSAoKGJsICsgNykvOCl8MDtcblx0XHRyZXR1cm4gb3V0Lmw7XG5cdH1cblx0cmV0dXJuIGZ1bmN0aW9uIF9kZWZsYXRlUmF3KGRhdGEsIG91dCkge1xuXHRcdGlmKGRhdGEubGVuZ3RoIDwgOCkgcmV0dXJuIHdyaXRlX3N0b3JlZChkYXRhLCBvdXQpO1xuXHRcdHJldHVybiB3cml0ZV9odWZmX2ZpeGVkKGRhdGEsIG91dCk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBfZGVmbGF0ZShkYXRhKSB7XG5cdHZhciBidWYgPSBuZXdfYnVmKDUwK01hdGguZmxvb3IoZGF0YS5sZW5ndGgqMS4xKSk7XG5cdHZhciBvZmYgPSBfZGVmbGF0ZVJhdyhkYXRhLCBidWYpO1xuXHRyZXR1cm4gYnVmLnNsaWNlKDAsIG9mZik7XG59XG4vKiBtb2RpZmllZCBpbmZsYXRlIGZ1bmN0aW9uIGFsc28gbW92ZXMgb3JpZ2luYWwgcmVhZCBoZWFkICovXG5cbnZhciBkeW5fbG1hcCA9IHVzZV90eXBlZF9hcnJheXMgPyBuZXcgVWludDE2QXJyYXkoMzI3NjgpIDogemVyb19maWxsX2FycmF5KDMyNzY4KTtcbnZhciBkeW5fZG1hcCA9IHVzZV90eXBlZF9hcnJheXMgPyBuZXcgVWludDE2QXJyYXkoMzI3NjgpIDogemVyb19maWxsX2FycmF5KDMyNzY4KTtcbnZhciBkeW5fY21hcCA9IHVzZV90eXBlZF9hcnJheXMgPyBuZXcgVWludDE2QXJyYXkoMTI4KSAgIDogemVyb19maWxsX2FycmF5KDEyOCk7XG52YXIgZHluX2xlbl8xID0gMSwgZHluX2xlbl8yID0gMTtcblxuLyogNS41LjMgRXhwYW5kaW5nIEh1ZmZtYW4gQ29kZXMgKi9cbmZ1bmN0aW9uIGR5bihkYXRhLCBib2ZmLyo6bnVtYmVyKi8pIHtcblx0Lyogbm9tZW5jbGF0dXJlIGZyb20gUkZDMTk1MSByZWZlcnMgdG8gYml0IHZhbHVlczsgdGhlc2UgYXJlIG9mZnNldCBieSB0aGUgaW1wbGljaXQgY29uc3RhbnQgKi9cblx0dmFyIF9ITElUID0gcmVhZF9iaXRzXzUoZGF0YSwgYm9mZikgKyAyNTc7IGJvZmYgKz0gNTtcblx0dmFyIF9IRElTVCA9IHJlYWRfYml0c181KGRhdGEsIGJvZmYpICsgMTsgYm9mZiArPSA1O1xuXHR2YXIgX0hDTEVOID0gcmVhZF9iaXRzXzQoZGF0YSwgYm9mZikgKyA0OyBib2ZmICs9IDQ7XG5cdHZhciB3ID0gMDtcblxuXHQvKiBncmFiIGFuZCBzdG9yZSBjb2RlIGxlbmd0aHMgKi9cblx0dmFyIGNsZW5zID0gdXNlX3R5cGVkX2FycmF5cyA/IG5ldyBVaW50OEFycmF5KDE5KSA6IHplcm9fZmlsbF9hcnJheSgxOSk7XG5cdHZhciBjdHJlZSA9IFsgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCBdO1xuXHR2YXIgbWF4bGVuID0gMTtcblx0dmFyIGJsX2NvdW50ID0gIHVzZV90eXBlZF9hcnJheXMgPyBuZXcgVWludDhBcnJheSg4KSA6IHplcm9fZmlsbF9hcnJheSg4KTtcblx0dmFyIG5leHRfY29kZSA9IHVzZV90eXBlZF9hcnJheXMgPyBuZXcgVWludDhBcnJheSg4KSA6IHplcm9fZmlsbF9hcnJheSg4KTtcblx0dmFyIEwgPSBjbGVucy5sZW5ndGg7IC8qIDE5ICovXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBfSENMRU47ICsraSkge1xuXHRcdGNsZW5zW0NMRU5fT1JERVJbaV1dID0gdyA9IHJlYWRfYml0c18zKGRhdGEsIGJvZmYpO1xuXHRcdGlmKG1heGxlbiA8IHcpIG1heGxlbiA9IHc7XG5cdFx0YmxfY291bnRbd10rKztcblx0XHRib2ZmICs9IDM7XG5cdH1cblxuXHQvKiBidWlsZCBjb2RlIHRyZWUgKi9cblx0dmFyIGNjb2RlID0gMDtcblx0YmxfY291bnRbMF0gPSAwO1xuXHRmb3IoaSA9IDE7IGkgPD0gbWF4bGVuOyArK2kpIG5leHRfY29kZVtpXSA9IGNjb2RlID0gKGNjb2RlICsgYmxfY291bnRbaS0xXSk8PDE7XG5cdGZvcihpID0gMDsgaSA8IEw7ICsraSkgaWYoKGNjb2RlID0gY2xlbnNbaV0pICE9IDApIGN0cmVlW2ldID0gbmV4dF9jb2RlW2Njb2RlXSsrO1xuXHQvKiBjbWFwWzcgYml0cyBmcm9tIHN0cmVhbV0gPSAob2ZmJjcpICsgKGxpdDw8MykgKi9cblx0dmFyIGNsZW5pID0gMDtcblx0Zm9yKGkgPSAwOyBpIDwgTDsgKytpKSB7XG5cdFx0Y2xlbmkgPSBjbGVuc1tpXTtcblx0XHRpZihjbGVuaSAhPSAwKSB7XG5cdFx0XHRjY29kZSA9IGJpdHN3YXA4W2N0cmVlW2ldXT4+KDgtY2xlbmkpO1xuXHRcdFx0Zm9yKHZhciBqID0gKDE8PCg3LWNsZW5pKSktMTsgaj49MDsgLS1qKSBkeW5fY21hcFtjY29kZXwoajw8Y2xlbmkpXSA9IChjbGVuaSY3KSB8IChpPDwzKTtcblx0XHR9XG5cdH1cblxuXHQvKiByZWFkIGxpdGVyYWwgYW5kIGRpc3QgY29kZXMgYXQgb25jZSAqL1xuXHR2YXIgaGNvZGVzLyo6QXJyYXk8bnVtYmVyPiovID0gW107XG5cdG1heGxlbiA9IDE7XG5cdGZvcig7IGhjb2Rlcy5sZW5ndGggPCBfSExJVCArIF9IRElTVDspIHtcblx0XHRjY29kZSA9IGR5bl9jbWFwW3JlYWRfYml0c183KGRhdGEsIGJvZmYpXTtcblx0XHRib2ZmICs9IGNjb2RlICYgNztcblx0XHRzd2l0Y2goKGNjb2RlID4+Pj0gMykpIHtcblx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdHcgPSAzICsgcmVhZF9iaXRzXzIoZGF0YSwgYm9mZik7IGJvZmYgKz0gMjtcblx0XHRcdFx0Y2NvZGUgPSBoY29kZXNbaGNvZGVzLmxlbmd0aCAtIDFdO1xuXHRcdFx0XHR3aGlsZSh3LS0gPiAwKSBoY29kZXMucHVzaChjY29kZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0dyA9IDMgKyByZWFkX2JpdHNfMyhkYXRhLCBib2ZmKTsgYm9mZiArPSAzO1xuXHRcdFx0XHR3aGlsZSh3LS0gPiAwKSBoY29kZXMucHVzaCgwKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHR3ID0gMTEgKyByZWFkX2JpdHNfNyhkYXRhLCBib2ZmKTsgYm9mZiArPSA3O1xuXHRcdFx0XHR3aGlsZSh3IC0tID4gMCkgaGNvZGVzLnB1c2goMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aGNvZGVzLnB1c2goY2NvZGUpO1xuXHRcdFx0XHRpZihtYXhsZW4gPCBjY29kZSkgbWF4bGVuID0gY2NvZGU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8qIGJ1aWxkIGxpdGVyYWwgLyBsZW5ndGggdHJlZXMgKi9cblx0dmFyIGgxID0gaGNvZGVzLnNsaWNlKDAsIF9ITElUKSwgaDIgPSBoY29kZXMuc2xpY2UoX0hMSVQpO1xuXHRmb3IoaSA9IF9ITElUOyBpIDwgMjg2OyArK2kpIGgxW2ldID0gMDtcblx0Zm9yKGkgPSBfSERJU1Q7IGkgPCAzMDsgKytpKSBoMltpXSA9IDA7XG5cdGR5bl9sZW5fMSA9IGJ1aWxkX3RyZWUoaDEsIGR5bl9sbWFwLCAyODYpO1xuXHRkeW5fbGVuXzIgPSBidWlsZF90cmVlKGgyLCBkeW5fZG1hcCwgMzApO1xuXHRyZXR1cm4gYm9mZjtcbn1cblxuLyogcmV0dXJuIFsgZGF0YSwgYnl0ZXNSZWFkIF0gKi9cbmZ1bmN0aW9uIGluZmxhdGUoZGF0YSwgdXN6Lyo6bnVtYmVyKi8pIHtcblx0Lyogc2hvcnRjaXJjdWl0IGZvciBlbXB0eSBidWZmZXIgWzB4MDMsIDB4MDBdICovXG5cdGlmKGRhdGFbMF0gPT0gMyAmJiAhKGRhdGFbMV0gJiAweDMpKSB7IHJldHVybiBbbmV3X3Jhd19idWYodXN6KSwgMl07IH1cblxuXHQvKiBiaXQgb2Zmc2V0ICovXG5cdHZhciBib2ZmID0gMDtcblxuXHQvKiBoZWFkZXIgaW5jbHVkZXMgZmluYWwgYml0IGFuZCB0eXBlIGJpdHMgKi9cblx0dmFyIGhlYWRlciA9IDA7XG5cblx0dmFyIG91dGJ1ZiA9IG5ld191bnNhZmVfYnVmKHVzeiA/IHVzeiA6ICgxPDwxOCkpO1xuXHR2YXIgd29mZiA9IDA7XG5cdHZhciBPTCA9IG91dGJ1Zi5sZW5ndGg+Pj4wO1xuXHR2YXIgbWF4X2xlbl8xID0gMCwgbWF4X2xlbl8yID0gMDtcblxuXHR3aGlsZSgoaGVhZGVyJjEpID09IDApIHtcblx0XHRoZWFkZXIgPSByZWFkX2JpdHNfMyhkYXRhLCBib2ZmKTsgYm9mZiArPSAzO1xuXHRcdGlmKChoZWFkZXIgPj4+IDEpID09IDApIHtcblx0XHRcdC8qIFN0b3JlZCBibG9jayAqL1xuXHRcdFx0aWYoYm9mZiAmIDcpIGJvZmYgKz0gOCAtIChib2ZmJjcpO1xuXHRcdFx0LyogMiBieXRlcyBzeiwgMiBieXRlcyBiaXQgaW52ZXJzZSAqL1xuXHRcdFx0dmFyIHN6ID0gZGF0YVtib2ZmPj4+M10gfCBkYXRhWyhib2ZmPj4+MykrMV08PDg7XG5cdFx0XHRib2ZmICs9IDMyO1xuXHRcdFx0LyogcHVzaCBzeiBieXRlcyAqL1xuXHRcdFx0aWYoc3ogPiAwKSB7XG5cdFx0XHRcdGlmKCF1c3ogJiYgT0wgPCB3b2ZmICsgc3opIHsgb3V0YnVmID0gcmVhbGxvYyhvdXRidWYsIHdvZmYgKyBzeik7IE9MID0gb3V0YnVmLmxlbmd0aDsgfVxuXHRcdFx0XHR3aGlsZShzei0tID4gMCkgeyBvdXRidWZbd29mZisrXSA9IGRhdGFbYm9mZj4+PjNdOyBib2ZmICs9IDg7IH1cblx0XHRcdH1cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH0gZWxzZSBpZigoaGVhZGVyID4+IDEpID09IDEpIHtcblx0XHRcdC8qIEZpeGVkIEh1ZmZtYW4gKi9cblx0XHRcdG1heF9sZW5fMSA9IDk7IG1heF9sZW5fMiA9IDU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8qIER5bmFtaWMgSHVmZm1hbiAqL1xuXHRcdFx0Ym9mZiA9IGR5bihkYXRhLCBib2ZmKTtcblx0XHRcdG1heF9sZW5fMSA9IGR5bl9sZW5fMTsgbWF4X2xlbl8yID0gZHluX2xlbl8yO1xuXHRcdH1cblx0XHRmb3IoOzspIHsgLy8gd2hpbGUodHJ1ZSkgaXMgYXBwYXJlbnRseSBvdXQgb2Ygdm9ndWUgaW4gbW9kZXJuIEpTIGNpcmNsZXNcblx0XHRcdGlmKCF1c3ogJiYgKE9MIDwgd29mZiArIDMyNzY3KSkgeyBvdXRidWYgPSByZWFsbG9jKG91dGJ1Ziwgd29mZiArIDMyNzY3KTsgT0wgPSBvdXRidWYubGVuZ3RoOyB9XG5cdFx0XHQvKiBpbmdlc3QgY29kZSBhbmQgbW92ZSByZWFkIGhlYWQgKi9cblx0XHRcdHZhciBiaXRzID0gcmVhZF9iaXRzX24oZGF0YSwgYm9mZiwgbWF4X2xlbl8xKTtcblx0XHRcdHZhciBjb2RlID0gKGhlYWRlcj4+PjEpID09IDEgPyBmaXhfbG1hcFtiaXRzXSA6IGR5bl9sbWFwW2JpdHNdO1xuXHRcdFx0Ym9mZiArPSBjb2RlICYgMTU7IGNvZGUgPj4+PSA0O1xuXHRcdFx0LyogMC0yNTUgYXJlIGxpdGVyYWxzLCAyNTYgaXMgZW5kIG9mIGJsb2NrIHRva2VuLCAyNTcrIGFyZSBjb3B5IHRva2VucyAqL1xuXHRcdFx0aWYoKChjb2RlPj4+OCkmMHhGRikgPT09IDApIG91dGJ1Zlt3b2ZmKytdID0gY29kZTtcblx0XHRcdGVsc2UgaWYoY29kZSA9PSAyNTYpIGJyZWFrO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNvZGUgLT0gMjU3O1xuXHRcdFx0XHR2YXIgbGVuX2ViID0gKGNvZGUgPCA4KSA/IDAgOiAoKGNvZGUtNCk+PjIpOyBpZihsZW5fZWIgPiA1KSBsZW5fZWIgPSAwO1xuXHRcdFx0XHR2YXIgdGd0ID0gd29mZiArIExFTl9MTltjb2RlXTtcblx0XHRcdFx0LyogbGVuZ3RoIGV4dHJhIGJpdHMgKi9cblx0XHRcdFx0aWYobGVuX2ViID4gMCkge1xuXHRcdFx0XHRcdHRndCArPSByZWFkX2JpdHNfbihkYXRhLCBib2ZmLCBsZW5fZWIpO1xuXHRcdFx0XHRcdGJvZmYgKz0gbGVuX2ViO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0LyogZGlzdCBjb2RlICovXG5cdFx0XHRcdGJpdHMgPSByZWFkX2JpdHNfbihkYXRhLCBib2ZmLCBtYXhfbGVuXzIpO1xuXHRcdFx0XHRjb2RlID0gKGhlYWRlcj4+PjEpID09IDEgPyBmaXhfZG1hcFtiaXRzXSA6IGR5bl9kbWFwW2JpdHNdO1xuXHRcdFx0XHRib2ZmICs9IGNvZGUgJiAxNTsgY29kZSA+Pj49IDQ7XG5cdFx0XHRcdHZhciBkc3RfZWIgPSAoY29kZSA8IDQgPyAwIDogKGNvZGUtMik+PjEpO1xuXHRcdFx0XHR2YXIgZHN0ID0gRFNUX0xOW2NvZGVdO1xuXHRcdFx0XHQvKiBkaXN0IGV4dHJhIGJpdHMgKi9cblx0XHRcdFx0aWYoZHN0X2ViID4gMCkge1xuXHRcdFx0XHRcdGRzdCArPSByZWFkX2JpdHNfbihkYXRhLCBib2ZmLCBkc3RfZWIpO1xuXHRcdFx0XHRcdGJvZmYgKz0gZHN0X2ViO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0LyogaW4gdGhlIGNvbW1vbiBjYXNlLCBtYW51YWwgYnl0ZSBjb3B5IGlzIGZhc3RlciB0aGFuIFRBIHNldCAvIEJ1ZmZlciBjb3B5ICovXG5cdFx0XHRcdGlmKCF1c3ogJiYgT0wgPCB0Z3QpIHsgb3V0YnVmID0gcmVhbGxvYyhvdXRidWYsIHRndCArIDEwMCk7IE9MID0gb3V0YnVmLmxlbmd0aDsgfVxuXHRcdFx0XHR3aGlsZSh3b2ZmIDwgdGd0KSB7IG91dGJ1Zlt3b2ZmXSA9IG91dGJ1Zlt3b2ZmIC0gZHN0XTsgKyt3b2ZmOyB9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGlmKHVzeikgcmV0dXJuIFtvdXRidWYsIChib2ZmKzcpPj4+M107XG5cdHJldHVybiBbb3V0YnVmLnNsaWNlKDAsIHdvZmYpLCAoYm9mZis3KT4+PjNdO1xufVxuXG5mdW5jdGlvbiBfaW5mbGF0ZShwYXlsb2FkLCB1c3opIHtcblx0dmFyIGRhdGEgPSBwYXlsb2FkLnNsaWNlKHBheWxvYWQubHx8MCk7XG5cdHZhciBvdXQgPSBpbmZsYXRlKGRhdGEsIHVzeik7XG5cdHBheWxvYWQubCArPSBvdXRbMV07XG5cdHJldHVybiBvdXRbMF07XG59XG5cbmZ1bmN0aW9uIHdhcm5fb3JfdGhyb3cod3JuLCBtc2cpIHtcblx0aWYod3JuKSB7IGlmKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykgY29uc29sZS5lcnJvcihtc2cpOyB9XG5cdGVsc2UgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX3ppcChmaWxlLyo6UmF3Qnl0ZXMqLywgb3B0aW9ucy8qOkNGQlJlYWRPcHRzKi8pLyo6Q0ZCQ29udGFpbmVyKi8ge1xuXHR2YXIgYmxvYi8qOkNGQmxvYiovID0gLyo6OigqL2ZpbGUvKjo6IDphbnkpKi87XG5cdHByZXBfYmxvYihibG9iLCAwKTtcblxuXHR2YXIgRmlsZUluZGV4Lyo6Q0ZCRmlsZUluZGV4Ki8gPSBbXSwgRnVsbFBhdGhzLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHZhciBvID0ge1xuXHRcdEZpbGVJbmRleDogRmlsZUluZGV4LFxuXHRcdEZ1bGxQYXRoczogRnVsbFBhdGhzXG5cdH07XG5cdGluaXRfY2ZiKG8sIHsgcm9vdDogb3B0aW9ucy5yb290IH0pO1xuXG5cdC8qIGZpbmQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5LCBzdGFydCBqdXN0IGFmdGVyIHNpZ25hdHVyZSAqL1xuXHR2YXIgaSA9IGJsb2IubGVuZ3RoIC0gNDtcblx0d2hpbGUoKGJsb2JbaV0gIT0gMHg1MCB8fCBibG9iW2krMV0gIT0gMHg0YiB8fCBibG9iW2krMl0gIT0gMHgwNSB8fCBibG9iW2krM10gIT0gMHgwNikgJiYgaSA+PSAwKSAtLWk7XG5cdGJsb2IubCA9IGkgKyA0O1xuXG5cdC8qIHBhcnNlIGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSAqL1xuXHRibG9iLmwgKz0gNDtcblx0dmFyIGZjbnQgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGJsb2IubCArPSA2O1xuXHR2YXIgc3RhcnRfY2QgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cblx0LyogcGFyc2UgY2VudHJhbCBkaXJlY3RvcnkgKi9cblx0YmxvYi5sID0gc3RhcnRfY2Q7XG5cblx0Zm9yKGkgPSAwOyBpIDwgZmNudDsgKytpKSB7XG5cdFx0LyogdHJ1c3QgbG9jYWwgZmlsZSBoZWFkZXIgaW5zdGVhZCBvZiBDRCBlbnRyeSAqL1xuXHRcdGJsb2IubCArPSAyMDtcblx0XHR2YXIgY3N6ID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRcdHZhciB1c3ogPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdFx0dmFyIG5hbWVsZW4gPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0dmFyIGVmc3ogPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0dmFyIGZjc3ogPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0YmxvYi5sICs9IDg7XG5cdFx0dmFyIG9mZnNldCA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0XHR2YXIgRUYgPSBwYXJzZV9leHRyYV9maWVsZCgvKjo6KCovYmxvYi5zbGljZShibG9iLmwrbmFtZWxlbiwgYmxvYi5sK25hbWVsZW4rZWZzeikvKjo6IDphbnkpKi8pO1xuXHRcdGJsb2IubCArPSBuYW1lbGVuICsgZWZzeiArIGZjc3o7XG5cblx0XHR2YXIgTCA9IGJsb2IubDtcblx0XHRibG9iLmwgPSBvZmZzZXQgKyA0O1xuXHRcdC8qIFpJUDY0IGxlbmd0aHMgKi9cblx0XHRpZihFRiAmJiBFRlsweDAwMDFdKSB7XG5cdFx0XHRpZigoRUZbMHgwMDAxXXx8e30pLnVzeikgdXN6ID0gRUZbMHgwMDAxXS51c3o7XG5cdFx0XHRpZigoRUZbMHgwMDAxXXx8e30pLmNzeikgY3N6ID0gRUZbMHgwMDAxXS5jc3o7XG5cdFx0fVxuXHRcdHBhcnNlX2xvY2FsX2ZpbGUoYmxvYiwgY3N6LCB1c3osIG8sIEVGKTtcblx0XHRibG9iLmwgPSBMO1xuXHR9XG5cblx0cmV0dXJuIG87XG59XG5cblxuLyogaGVhZCBzdGFydHMganVzdCBhZnRlciBsb2NhbCBmaWxlIGhlYWRlciBzaWduYXR1cmUgKi9cbmZ1bmN0aW9uIHBhcnNlX2xvY2FsX2ZpbGUoYmxvYi8qOkNGQmxvYiovLCBjc3ovKjpudW1iZXIqLywgdXN6Lyo6bnVtYmVyKi8sIG8vKjpDRkJDb250YWluZXIqLywgRUYpIHtcblx0LyogW2xvY2FsIGZpbGUgaGVhZGVyXSAqL1xuXHRibG9iLmwgKz0gMjtcblx0dmFyIGZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgbWV0aCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGRhdGUgPSBwYXJzZV9kb3NfZGF0ZShibG9iKTtcblxuXHRpZihmbGFncyAmIDB4MjA0MSkgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgWklQIGVuY3J5cHRpb25cIik7XG5cdHZhciBjcmMzMiA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIF9jc3ogPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHZhciBfdXN6ID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXG5cdHZhciBuYW1lbGVuID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgZWZzeiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblxuXHQvLyBUT0RPOiBmbGFncyAmICgxPDwxMSkgLy8gVVRGOFxuXHR2YXIgbmFtZSA9IFwiXCI7IGZvcih2YXIgaSA9IDA7IGkgPCBuYW1lbGVuOyArK2kpIG5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShibG9iW2Jsb2IubCsrXSk7XG5cdGlmKGVmc3opIHtcblx0XHR2YXIgZWYgPSBwYXJzZV9leHRyYV9maWVsZCgvKjo6KCovYmxvYi5zbGljZShibG9iLmwsIGJsb2IubCArIGVmc3opLyo6OiA6YW55KSovKTtcblx0XHRpZigoZWZbMHg1NDU1XXx8e30pLm10KSBkYXRlID0gZWZbMHg1NDU1XS5tdDtcblx0XHRpZigoZWZbMHgwMDAxXXx8e30pLnVzeikgX3VzeiA9IGVmWzB4MDAwMV0udXN6O1xuXHRcdGlmKChlZlsweDAwMDFdfHx7fSkuY3N6KSBfY3N6ID0gZWZbMHgwMDAxXS5jc3o7XG5cdFx0aWYoRUYpIHtcblx0XHRcdGlmKChFRlsweDU0NTVdfHx7fSkubXQpIGRhdGUgPSBFRlsweDU0NTVdLm10O1xuXHRcdFx0aWYoKEVGWzB4MDAwMV18fHt9KS51c3opIF91c3ogPSBFRlsweDAwMDFdLnVzejtcblx0XHRcdGlmKChFRlsweDAwMDFdfHx7fSkuY3N6KSBfY3N6ID0gRUZbMHgwMDAxXS5jc3o7XG5cdFx0fVxuXHR9XG5cdGJsb2IubCArPSBlZnN6O1xuXG5cdC8qIFtlbmNyeXB0aW9uIGhlYWRlcl0gKi9cblxuXHQvKiBbZmlsZSBkYXRhXSAqL1xuXHR2YXIgZGF0YSA9IGJsb2Iuc2xpY2UoYmxvYi5sLCBibG9iLmwgKyBfY3N6KTtcblx0c3dpdGNoKG1ldGgpIHtcblx0XHRjYXNlIDg6IGRhdGEgPSBfaW5mbGF0ZVJhd1N5bmMoYmxvYiwgX3Vzeik7IGJyZWFrO1xuXHRcdGNhc2UgMDogYmxvYi5sICs9IF9jc3o7IGJyZWFrOyAvLyBUT0RPOiBzY2FuIGZvciBtYWdpYyBudW1iZXJcblx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBaSVAgQ29tcHJlc3Npb24gbWV0aG9kIFwiICsgbWV0aCk7XG5cdH1cblxuXHQvKiBbZGF0YSBkZXNjcmlwdG9yXSAqL1xuXHR2YXIgd3JuID0gZmFsc2U7XG5cdGlmKGZsYWdzICYgOCkge1xuXHRcdGNyYzMyID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRcdGlmKGNyYzMyID09IDB4MDgwNzRiNTApIHsgY3JjMzIgPSBibG9iLnJlYWRfc2hpZnQoNCk7IHdybiA9IHRydWU7IH1cblx0XHRfY3N6ID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRcdF91c3ogPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdH1cblxuXHRpZihfY3N6ICE9IGNzeikgd2Fybl9vcl90aHJvdyh3cm4sIFwiQmFkIGNvbXByZXNzZWQgc2l6ZTogXCIgKyBjc3ogKyBcIiAhPSBcIiArIF9jc3opO1xuXHRpZihfdXN6ICE9IHVzeikgd2Fybl9vcl90aHJvdyh3cm4sIFwiQmFkIHVuY29tcHJlc3NlZCBzaXplOiBcIiArIHVzeiArIFwiICE9IFwiICsgX3Vzeik7XG5cdC8vdmFyIF9jcmMzMiA9IENSQzMyLmJ1ZihkYXRhLCAwKTtcblx0Ly9pZigoY3JjMzI+PjApICE9IChfY3JjMzI+PjApKSB3YXJuX29yX3Rocm93KHdybiwgXCJCYWQgQ1JDMzIgY2hlY2tzdW06IFwiICsgY3JjMzIgKyBcIiAhPSBcIiArIF9jcmMzMik7XG5cdGNmYl9hZGQobywgbmFtZSwgZGF0YSwge3Vuc2FmZTogdHJ1ZSwgbXQ6IGRhdGV9KTtcbn1cbmZ1bmN0aW9uIHdyaXRlX3ppcChjZmIvKjpDRkJDb250YWluZXIqLywgb3B0aW9ucy8qOkNGQldyaXRlT3B0cyovKS8qOlJhd0J5dGVzKi8ge1xuXHR2YXIgX29wdHMgPSBvcHRpb25zIHx8IHt9O1xuXHR2YXIgb3V0ID0gW10sIGNkaXJzID0gW107XG5cdHZhciBvLyo6Q0ZCbG9iKi8gPSBuZXdfYnVmKDEpO1xuXHR2YXIgbWV0aG9kID0gKF9vcHRzLmNvbXByZXNzaW9uID8gOCA6IDApLCBmbGFncyA9IDA7XG5cdHZhciBkZXNjID0gZmFsc2U7XG5cdGlmKGRlc2MpIGZsYWdzIHw9IDg7XG5cdHZhciBpID0gMCwgaiA9IDA7XG5cblx0dmFyIHN0YXJ0X2NkID0gMCwgZmNudCA9IDA7XG5cdHZhciByb290ID0gY2ZiLkZ1bGxQYXRoc1swXSwgZnAgPSByb290LCBmaSA9IGNmYi5GaWxlSW5kZXhbMF07XG5cdHZhciBjcmNzID0gW107XG5cdHZhciBzel9jZCA9IDA7XG5cblx0Zm9yKGkgPSAxOyBpIDwgY2ZiLkZ1bGxQYXRocy5sZW5ndGg7ICsraSkge1xuXHRcdGZwID0gY2ZiLkZ1bGxQYXRoc1tpXS5zbGljZShyb290Lmxlbmd0aCk7IGZpID0gY2ZiLkZpbGVJbmRleFtpXTtcblx0XHRpZighZmkuc2l6ZSB8fCAhZmkuY29udGVudCB8fCAoQXJyYXkuaXNBcnJheShmaS5jb250ZW50KSAmJiBmaS5jb250ZW50Lmxlbmd0aCA9PSAwKSB8fCBmcCA9PSBcIlxcdTAwMDFTaDMzdEo1XCIpIGNvbnRpbnVlO1xuXHRcdHZhciBzdGFydCA9IHN0YXJ0X2NkO1xuXG5cblx0XHQvKiBUT0RPOiBDUDQzNyBmaWxlbmFtZSAqL1xuXHRcdHZhciBuYW1lYnVmID0gbmV3X2J1ZihmcC5sZW5ndGgpO1xuXHRcdGZvcihqID0gMDsgaiA8IGZwLmxlbmd0aDsgKytqKSBuYW1lYnVmLndyaXRlX3NoaWZ0KDEsIGZwLmNoYXJDb2RlQXQoaikgJiAweDdGKTtcblx0XHRuYW1lYnVmID0gbmFtZWJ1Zi5zbGljZSgwLCBuYW1lYnVmLmwpO1xuXHRcdGNyY3NbZmNudF0gPSB0eXBlb2YgZmkuY29udGVudCA9PSBcInN0cmluZ1wiID8gQ1JDMzIuYnN0cihmaS5jb250ZW50LCAwKSA6IENSQzMyLmJ1ZigvKjo6KCgqL2ZpLmNvbnRlbnQvKjo6fHxbXSk6YW55KSovLCAwKTtcblxuXHRcdHZhciBvdXRidWYgPSB0eXBlb2YgZmkuY29udGVudCA9PSBcInN0cmluZ1wiID8gczJhKGZpLmNvbnRlbnQpIDogZmkuY29udGVudC8qOjp8fFtdKi87XG5cdFx0aWYobWV0aG9kID09IDgpIG91dGJ1ZiA9IF9kZWZsYXRlUmF3U3luYyhvdXRidWYpO1xuXG5cdFx0LyogbG9jYWwgZmlsZSBoZWFkZXIgKi9cblx0XHRvID0gbmV3X2J1ZigzMCk7XG5cdFx0by53cml0ZV9zaGlmdCg0LCAweDA0MDM0YjUwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIDIwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIGZsYWdzKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIG1ldGhvZCk7XG5cdFx0LyogVE9ETzogbGFzdCBtb2QgZmlsZSB0aW1lL2RhdGUgKi9cblx0XHRpZihmaS5tdCkgd3JpdGVfZG9zX2RhdGUobywgZmkubXQpO1xuXHRcdGVsc2Ugby53cml0ZV9zaGlmdCg0LCAwKTtcblx0XHRvLndyaXRlX3NoaWZ0KC00LCAoZmxhZ3MgJiA4KSA/IDAgOiBjcmNzW2ZjbnRdKTtcblx0XHRvLndyaXRlX3NoaWZ0KDQsICAoZmxhZ3MgJiA4KSA/IDAgOiBvdXRidWYubGVuZ3RoKTtcblx0XHRvLndyaXRlX3NoaWZ0KDQsICAoZmxhZ3MgJiA4KSA/IDAgOiAvKjo6KCovZmkuY29udGVudC8qOjp8fFtdKSovLmxlbmd0aCk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCBuYW1lYnVmLmxlbmd0aCk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCAwKTtcblxuXHRcdHN0YXJ0X2NkICs9IG8ubGVuZ3RoO1xuXHRcdG91dC5wdXNoKG8pO1xuXHRcdHN0YXJ0X2NkICs9IG5hbWVidWYubGVuZ3RoO1xuXHRcdG91dC5wdXNoKG5hbWVidWYpO1xuXG5cdFx0LyogVE9ETzogZXh0cmEgZmllbGRzPyAqL1xuXG5cdFx0LyogVE9ETzogZW5jcnlwdGlvbiBoZWFkZXIgPyAqL1xuXG5cdFx0c3RhcnRfY2QgKz0gb3V0YnVmLmxlbmd0aDtcblx0XHRvdXQucHVzaChvdXRidWYpO1xuXG5cdFx0LyogZGF0YSBkZXNjcmlwdG9yICovXG5cdFx0aWYoZmxhZ3MgJiA4KSB7XG5cdFx0XHRvID0gbmV3X2J1ZigxMik7XG5cdFx0XHRvLndyaXRlX3NoaWZ0KC00LCBjcmNzW2ZjbnRdKTtcblx0XHRcdG8ud3JpdGVfc2hpZnQoNCwgb3V0YnVmLmxlbmd0aCk7XG5cdFx0XHRvLndyaXRlX3NoaWZ0KDQsIC8qOjooKi9maS5jb250ZW50Lyo6Onx8W10pKi8ubGVuZ3RoKTtcblx0XHRcdHN0YXJ0X2NkICs9IG8ubDtcblx0XHRcdG91dC5wdXNoKG8pO1xuXHRcdH1cblxuXHRcdC8qIGNlbnRyYWwgZGlyZWN0b3J5ICovXG5cdFx0byA9IG5ld19idWYoNDYpO1xuXHRcdG8ud3JpdGVfc2hpZnQoNCwgMHgwMjAxNGI1MCk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIDIwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIGZsYWdzKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIG1ldGhvZCk7XG5cdFx0by53cml0ZV9zaGlmdCg0LCAwKTsgLyogVE9ETzogbGFzdCBtb2QgZmlsZSB0aW1lL2RhdGUgKi9cblx0XHRvLndyaXRlX3NoaWZ0KC00LCBjcmNzW2ZjbnRdKTtcblxuXHRcdG8ud3JpdGVfc2hpZnQoNCwgb3V0YnVmLmxlbmd0aCk7XG5cdFx0by53cml0ZV9zaGlmdCg0LCAvKjo6KCovZmkuY29udGVudC8qOjp8fFtdKSovLmxlbmd0aCk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCBuYW1lYnVmLmxlbmd0aCk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIDApO1xuXHRcdG8ud3JpdGVfc2hpZnQoMiwgMCk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRcdG8ud3JpdGVfc2hpZnQoNCwgc3RhcnQpO1xuXG5cdFx0c3pfY2QgKz0gby5sO1xuXHRcdGNkaXJzLnB1c2gobyk7XG5cdFx0c3pfY2QgKz0gbmFtZWJ1Zi5sZW5ndGg7XG5cdFx0Y2RpcnMucHVzaChuYW1lYnVmKTtcblx0XHQrK2ZjbnQ7XG5cdH1cblxuXHQvKiBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgKi9cblx0byA9IG5ld19idWYoMjIpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIDB4MDYwNTRiNTApO1xuXHRvLndyaXRlX3NoaWZ0KDIsIDApO1xuXHRvLndyaXRlX3NoaWZ0KDIsIDApO1xuXHRvLndyaXRlX3NoaWZ0KDIsIGZjbnQpO1xuXHRvLndyaXRlX3NoaWZ0KDIsIGZjbnQpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIHN6X2NkKTtcblx0by53cml0ZV9zaGlmdCg0LCBzdGFydF9jZCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7XG5cblx0cmV0dXJuIGJjb25jYXQoKFtiY29uY2F0KChvdXQvKjphbnkqLykpLCBiY29uY2F0KGNkaXJzKSwgb10vKjphbnkqLykpO1xufVxudmFyIENvbnRlbnRUeXBlTWFwID0gKHtcblx0XCJodG1cIjogXCJ0ZXh0L2h0bWxcIixcblx0XCJ4bWxcIjogXCJ0ZXh0L3htbFwiLFxuXG5cdFwiZ2lmXCI6IFwiaW1hZ2UvZ2lmXCIsXG5cdFwianBnXCI6IFwiaW1hZ2UvanBlZ1wiLFxuXHRcInBuZ1wiOiBcImltYWdlL3BuZ1wiLFxuXG5cdFwibXNvXCI6IFwiYXBwbGljYXRpb24veC1tc29cIixcblx0XCJ0aG14XCI6IFwiYXBwbGljYXRpb24vdm5kLm1zLW9mZmljZXRoZW1lXCIsXG5cdFwic2gzM3RqNVwiOiBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXG59Lyo6YW55Ki8pO1xuXG5mdW5jdGlvbiBnZXRfY29udGVudF90eXBlKGZpLyo6Q0ZCRW50cnkqLywgZnAvKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7XG5cdGlmKGZpLmN0eXBlKSByZXR1cm4gZmkuY3R5cGU7XG5cblx0dmFyIGV4dCA9IGZpLm5hbWUgfHwgXCJcIiwgbSA9IGV4dC5tYXRjaCgvXFwuKFteXFwuXSspJC8pO1xuXHRpZihtICYmIENvbnRlbnRUeXBlTWFwW21bMV1dKSByZXR1cm4gQ29udGVudFR5cGVNYXBbbVsxXV07XG5cblx0aWYoZnApIHtcblx0XHRtID0gKGV4dCA9IGZwKS5tYXRjaCgvW1xcLlxcXFxdKFteXFwuXFxcXF0pKyQvKTtcblx0XHRpZihtICYmIENvbnRlbnRUeXBlTWFwW21bMV1dKSByZXR1cm4gQ29udGVudFR5cGVNYXBbbVsxXV07XG5cdH1cblxuXHRyZXR1cm4gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjtcbn1cblxuLyogNzYgY2hhcmFjdGVyIGNodW5rcyBUT0RPOiBpbnRlcnR3aW5lIGVuY29kaW5nICovXG5mdW5jdGlvbiB3cml0ZV9iYXNlNjRfNzYoYnN0ci8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0dmFyIGRhdGEgPSBCYXNlNjRfZW5jb2RlKGJzdHIpO1xuXHR2YXIgbyA9IFtdO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrPSA3Nikgby5wdXNoKGRhdGEuc2xpY2UoaSwgaSs3NikpO1xuXHRyZXR1cm4gby5qb2luKFwiXFxyXFxuXCIpICsgXCJcXHJcXG5cIjtcbn1cblxuLypcblJ1bGVzIGZvciBRUDpcblx0LSBlc2NhcGUgPSMjIGFwcGxpZXMgZm9yIGFsbCBub24tZGlzcGxheSBjaGFyYWN0ZXJzIGFuZCBsaXRlcmFsIFwiPVwiXG5cdC0gc3BhY2Ugb3IgdGFiIGF0IGVuZCBvZiBsaW5lIG11c3QgYmUgZW5jb2RlZFxuXHQtIFxcclxcbiBuZXdsaW5lcyBjYW4gYmUgcHJlc2VydmVkLCBidXQgYmFyZSBcXHIgYW5kIFxcbiBtdXN0IGJlIGVzY2FwZWRcblx0LSBsaW5lcyBtdXN0IG5vdCBleGNlZWQgNzYgY2hhcmFjdGVycywgdXNlIHNvZnQgYnJlYWtzID1cXHJcXG5cblxuVE9ETzogU29tZSBmaWxlcyBmcm9tIHdvcmQgYXBwZWFyIHRvIHdyaXRlIGxpbmUgZXh0ZW5zaW9ucyB3aXRoIGJhcmUgZXF1YWxzOlxuXG5gYGBcbjx0YWJsZSBjbGFzcz0zRE1zb1RhYmxlR3JpZCBib3JkZXI9M0QxIGNlbGxzcGFjaW5nPTNEMCBjZWxscGFkZGluZz0zRDAgd2lkdGg9XG49XCI3MCVcIlxuYGBgXG4qL1xuZnVuY3Rpb24gd3JpdGVfcXVvdGVkX3ByaW50YWJsZSh0ZXh0Lyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgZW5jb2RlZCA9IHRleHQucmVwbGFjZSgvW1xceDAwLVxceDA4XFx4MEJcXHgwQ1xceDBFLVxceDFGXFx4N0UtXFx4RkY9XS9nLCBmdW5jdGlvbihjKSB7XG5cdFx0dmFyIHcgPSBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cdFx0cmV0dXJuIFwiPVwiICsgKHcubGVuZ3RoID09IDEgPyBcIjBcIiArIHcgOiB3KTtcblx0fSk7XG5cblx0ZW5jb2RlZCA9IGVuY29kZWQucmVwbGFjZSgvICQvbWcsIFwiPTIwXCIpLnJlcGxhY2UoL1xcdCQvbWcsIFwiPTA5XCIpO1xuXG5cdGlmKGVuY29kZWQuY2hhckF0KDApID09IFwiXFxuXCIpIGVuY29kZWQgPSBcIj0wRFwiICsgZW5jb2RlZC5zbGljZSgxKTtcblx0ZW5jb2RlZCA9IGVuY29kZWQucmVwbGFjZSgvXFxyKD8hXFxuKS9tZywgXCI9MERcIikucmVwbGFjZSgvXFxuXFxuL21nLCBcIlxcbj0wQVwiKS5yZXBsYWNlKC8oW15cXHJcXG5dKVxcbi9tZywgXCIkMT0wQVwiKTtcblxuXHR2YXIgby8qOkFycmF5PHN0cmluZz4qLyA9IFtdLCBzcGxpdCA9IGVuY29kZWQuc3BsaXQoXCJcXHJcXG5cIik7XG5cdGZvcih2YXIgc2kgPSAwOyBzaSA8IHNwbGl0Lmxlbmd0aDsgKytzaSkge1xuXHRcdHZhciBzdHIgPSBzcGxpdFtzaV07XG5cdFx0aWYoc3RyLmxlbmd0aCA9PSAwKSB7IG8ucHVzaChcIlwiKTsgY29udGludWU7IH1cblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDspIHtcblx0XHRcdHZhciBlbmQgPSA3Njtcblx0XHRcdHZhciB0bXAgPSBzdHIuc2xpY2UoaSwgaSArIGVuZCk7XG5cdFx0XHRpZih0bXAuY2hhckF0KGVuZCAtIDEpID09IFwiPVwiKSBlbmQgLS07XG5cdFx0XHRlbHNlIGlmKHRtcC5jaGFyQXQoZW5kIC0gMikgPT0gXCI9XCIpIGVuZCAtPSAyO1xuXHRcdFx0ZWxzZSBpZih0bXAuY2hhckF0KGVuZCAtIDMpID09IFwiPVwiKSBlbmQgLT0gMztcblx0XHRcdHRtcCA9IHN0ci5zbGljZShpLCBpICsgZW5kKTtcblx0XHRcdGkgKz0gZW5kO1xuXHRcdFx0aWYoaSA8IHN0ci5sZW5ndGgpIHRtcCArPSBcIj1cIjtcblx0XHRcdG8ucHVzaCh0bXApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBvLmpvaW4oXCJcXHJcXG5cIik7XG59XG5mdW5jdGlvbiBwYXJzZV9xdW90ZWRfcHJpbnRhYmxlKGRhdGEvKjpBcnJheTxzdHJpbmc+Ki8pLyo6UmF3Qnl0ZXMqLyB7XG5cdHZhciBvID0gW107XG5cblx0LyogdW5pZnkgbG9uZyBsaW5lcyAqL1xuXHRmb3IodmFyIGRpID0gMDsgZGkgPCBkYXRhLmxlbmd0aDsgKytkaSkge1xuXHRcdHZhciBsaW5lID0gZGF0YVtkaV07XG5cdFx0d2hpbGUoZGkgPD0gZGF0YS5sZW5ndGggJiYgbGluZS5jaGFyQXQobGluZS5sZW5ndGggLSAxKSA9PSBcIj1cIikgbGluZSA9IGxpbmUuc2xpY2UoMCwgbGluZS5sZW5ndGggLSAxKSArIGRhdGFbKytkaV07XG5cdFx0by5wdXNoKGxpbmUpO1xuXHR9XG5cblx0LyogZGVjb2RlICovXG5cdGZvcih2YXIgb2kgPSAwOyBvaSA8IG8ubGVuZ3RoOyArK29pKSBvW29pXSA9IG9bb2ldLnJlcGxhY2UoL1s9XVswLTlBLUZhLWZdezJ9L2csIGZ1bmN0aW9uKCQkKSB7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KCQkLnNsaWNlKDEpLCAxNikpOyB9KTtcblx0cmV0dXJuIHMyYShvLmpvaW4oXCJcXHJcXG5cIikpO1xufVxuXG5cbmZ1bmN0aW9uIHBhcnNlX21pbWUoY2ZiLyo6Q0ZCQ29udGFpbmVyKi8sIGRhdGEvKjpBcnJheTxzdHJpbmc+Ki8sIHJvb3QvKjpzdHJpbmcqLykvKjp2b2lkKi8ge1xuXHR2YXIgZm5hbWUgPSBcIlwiLCBjdGUgPSBcIlwiLCBjdHlwZSA9IFwiXCIsIGZkYXRhO1xuXHR2YXIgZGkgPSAwO1xuXHRmb3IoO2RpIDwgMTA7ICsrZGkpIHtcblx0XHR2YXIgbGluZSA9IGRhdGFbZGldO1xuXHRcdGlmKCFsaW5lIHx8IGxpbmUubWF0Y2goL15cXHMqJC8pKSBicmVhaztcblx0XHR2YXIgbSA9IGxpbmUubWF0Y2goL14oW146XSo/KTpcXHMqKFteXFxzXS4qKSQvKTtcblx0XHRpZihtKSBzd2l0Y2gobVsxXS50b0xvd2VyQ2FzZSgpKSB7XG5cdFx0XHRjYXNlIFwiY29udGVudC1sb2NhdGlvblwiOiBmbmFtZSA9IG1bMl0udHJpbSgpOyBicmVhaztcblx0XHRcdGNhc2UgXCJjb250ZW50LXR5cGVcIjogY3R5cGUgPSBtWzJdLnRyaW0oKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiY29udGVudC10cmFuc2Zlci1lbmNvZGluZ1wiOiBjdGUgPSBtWzJdLnRyaW0oKTsgYnJlYWs7XG5cdFx0fVxuXHR9XG5cdCsrZGk7XG5cdHN3aXRjaChjdGUudG9Mb3dlckNhc2UoKSkge1xuXHRcdGNhc2UgJ2Jhc2U2NCc6IGZkYXRhID0gczJhKEJhc2U2NF9kZWNvZGUoZGF0YS5zbGljZShkaSkuam9pbihcIlwiKSkpOyBicmVhaztcblx0XHRjYXNlICdxdW90ZWQtcHJpbnRhYmxlJzogZmRhdGEgPSBwYXJzZV9xdW90ZWRfcHJpbnRhYmxlKGRhdGEuc2xpY2UoZGkpKTsgYnJlYWs7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZyBcIiArIGN0ZSk7XG5cdH1cblx0dmFyIGZpbGUgPSBjZmJfYWRkKGNmYiwgZm5hbWUuc2xpY2Uocm9vdC5sZW5ndGgpLCBmZGF0YSwge3Vuc2FmZTogdHJ1ZX0pO1xuXHRpZihjdHlwZSkgZmlsZS5jdHlwZSA9IGN0eXBlO1xufVxuXG5mdW5jdGlvbiBwYXJzZV9tYWQoZmlsZS8qOlJhd0J5dGVzKi8sIG9wdGlvbnMvKjpDRkJSZWFkT3B0cyovKS8qOkNGQkNvbnRhaW5lciovIHtcblx0aWYoYTJzKGZpbGUuc2xpY2UoMCwxMykpLnRvTG93ZXJDYXNlKCkgIT0gXCJtaW1lLXZlcnNpb246XCIpIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIE1BRCBoZWFkZXJcIik7XG5cdHZhciByb290ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5yb290IHx8IFwiXCIpO1xuXHQvLyAkRmxvd0lnbm9yZVxuXHR2YXIgZGF0YSA9IChoYXNfYnVmICYmIEJ1ZmZlci5pc0J1ZmZlcihmaWxlKSA/IGZpbGUudG9TdHJpbmcoXCJiaW5hcnlcIikgOiBhMnMoZmlsZSkpLnNwbGl0KFwiXFxyXFxuXCIpO1xuXHR2YXIgZGkgPSAwLCByb3cgPSBcIlwiO1xuXG5cdC8qIGlmIHJvb3QgaXMgbm90IHNwZWNpZmllZCwgc2NhbiBmb3IgdGhlIGNvbW1vbiBwcmVmaXggKi9cblx0Zm9yKGRpID0gMDsgZGkgPCBkYXRhLmxlbmd0aDsgKytkaSkge1xuXHRcdHJvdyA9IGRhdGFbZGldO1xuXHRcdGlmKCEvXkNvbnRlbnQtTG9jYXRpb246L2kudGVzdChyb3cpKSBjb250aW51ZTtcblx0XHRyb3cgPSByb3cuc2xpY2Uocm93LmluZGV4T2YoXCJmaWxlXCIpKTtcblx0XHRpZighcm9vdCkgcm9vdCA9IHJvdy5zbGljZSgwLCByb3cubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG5cdFx0aWYocm93LnNsaWNlKDAsIHJvb3QubGVuZ3RoKSA9PSByb290KSBjb250aW51ZTtcblx0XHR3aGlsZShyb290Lmxlbmd0aCA+IDApIHtcblx0XHRcdHJvb3QgPSByb290LnNsaWNlKDAsIHJvb3QubGVuZ3RoIC0gMSk7XG5cdFx0XHRyb290ID0gcm9vdC5zbGljZSgwLCByb290Lmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xuXHRcdFx0aWYocm93LnNsaWNlKDAscm9vdC5sZW5ndGgpID09IHJvb3QpIGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHZhciBtYm91bmRhcnkgPSAoZGF0YVsxXSB8fCBcIlwiKS5tYXRjaCgvYm91bmRhcnk9XCIoLio/KVwiLyk7XG5cdGlmKCFtYm91bmRhcnkpIHRocm93IG5ldyBFcnJvcihcIk1BRCBjYW5ub3QgZmluZCBib3VuZGFyeVwiKTtcblx0dmFyIGJvdW5kYXJ5ID0gXCItLVwiICsgKG1ib3VuZGFyeVsxXSB8fCBcIlwiKTtcblxuXHR2YXIgRmlsZUluZGV4Lyo6Q0ZCRmlsZUluZGV4Ki8gPSBbXSwgRnVsbFBhdGhzLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHZhciBvID0ge1xuXHRcdEZpbGVJbmRleDogRmlsZUluZGV4LFxuXHRcdEZ1bGxQYXRoczogRnVsbFBhdGhzXG5cdH07XG5cdGluaXRfY2ZiKG8pO1xuXHR2YXIgc3RhcnRfZGksIGZjbnQgPSAwO1xuXHRmb3IoZGkgPSAwOyBkaSA8IGRhdGEubGVuZ3RoOyArK2RpKSB7XG5cdFx0dmFyIGxpbmUgPSBkYXRhW2RpXTtcblx0XHRpZihsaW5lICE9PSBib3VuZGFyeSAmJiBsaW5lICE9PSBib3VuZGFyeSArIFwiLS1cIikgY29udGludWU7XG5cdFx0aWYoZmNudCsrKSBwYXJzZV9taW1lKG8sIGRhdGEuc2xpY2Uoc3RhcnRfZGksIGRpKSwgcm9vdCk7XG5cdFx0c3RhcnRfZGkgPSBkaTtcblx0fVxuXHRyZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gd3JpdGVfbWFkKGNmYi8qOkNGQkNvbnRhaW5lciovLCBvcHRpb25zLyo6Q0ZCV3JpdGVPcHRzKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgb3B0cyA9IG9wdGlvbnMgfHwge307XG5cdHZhciBib3VuZGFyeSA9IG9wdHMuYm91bmRhcnkgfHwgXCJTaGVldEpTXCI7XG5cdGJvdW5kYXJ5ID0gJy0tLS0tLT0nICsgYm91bmRhcnk7XG5cblx0dmFyIG91dCA9IFtcblx0XHQnTUlNRS1WZXJzaW9uOiAxLjAnLFxuXHRcdCdDb250ZW50LVR5cGU6IG11bHRpcGFydC9yZWxhdGVkOyBib3VuZGFyeT1cIicgKyBib3VuZGFyeS5zbGljZSgyKSArICdcIicsXG5cdFx0JycsXG5cdFx0JycsXG5cdFx0Jydcblx0XTtcblxuXHR2YXIgcm9vdCA9IGNmYi5GdWxsUGF0aHNbMF0sIGZwID0gcm9vdCwgZmkgPSBjZmIuRmlsZUluZGV4WzBdO1xuXHRmb3IodmFyIGkgPSAxOyBpIDwgY2ZiLkZ1bGxQYXRocy5sZW5ndGg7ICsraSkge1xuXHRcdGZwID0gY2ZiLkZ1bGxQYXRoc1tpXS5zbGljZShyb290Lmxlbmd0aCk7XG5cdFx0ZmkgPSBjZmIuRmlsZUluZGV4W2ldO1xuXHRcdGlmKCFmaS5zaXplIHx8ICFmaS5jb250ZW50IHx8IGZwID09IFwiXFx1MDAwMVNoMzN0SjVcIikgY29udGludWU7XG5cblx0XHQvKiBOb3JtYWxpemUgZmlsZW5hbWUgKi9cblx0XHRmcCA9IGZwLnJlcGxhY2UoL1tcXHgwMC1cXHgwOFxceDBCXFx4MENcXHgwRS1cXHgxRlxceDdFLVxceEZGXS9nLCBmdW5jdGlvbihjKSB7XG5cdFx0XHRyZXR1cm4gXCJfeFwiICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSArIFwiX1wiO1xuXHRcdH0pLnJlcGxhY2UoL1tcXHUwMDgwLVxcdUZGRkZdL2csIGZ1bmN0aW9uKHUpIHtcblx0XHRcdHJldHVybiBcIl91XCIgKyB1LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpICsgXCJfXCI7XG5cdFx0fSk7XG5cblx0XHQvKiBFeHRyYWN0IGNvbnRlbnQgYXMgYmluYXJ5IHN0cmluZyAqL1xuXHRcdHZhciBjYSA9IGZpLmNvbnRlbnQ7XG5cdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHR2YXIgY3N0ciA9IGhhc19idWYgJiYgQnVmZmVyLmlzQnVmZmVyKGNhKSA/IGNhLnRvU3RyaW5nKFwiYmluYXJ5XCIpIDogYTJzKGNhKTtcblxuXHRcdC8qIDQvNSBvZiBmaXJzdCAxMDI0IGNoYXJzIGFzY2lpIC0+IHF1b3RlZCBwcmludGFibGUsIGVsc2UgYmFzZTY0ICovXG5cdFx0dmFyIGRpc3BjbnQgPSAwLCBMID0gTWF0aC5taW4oMTAyNCwgY3N0ci5sZW5ndGgpLCBjYyA9IDA7XG5cdFx0Zm9yKHZhciBjc2wgPSAwOyBjc2wgPD0gTDsgKytjc2wpIGlmKChjYz1jc3RyLmNoYXJDb2RlQXQoY3NsKSkgPj0gMHgyMCAmJiBjYyA8IDB4ODApICsrZGlzcGNudDtcblx0XHR2YXIgcXAgPSBkaXNwY250ID49IEwgKiA0IC8gNTtcblxuXHRcdG91dC5wdXNoKGJvdW5kYXJ5KTtcblx0XHRvdXQucHVzaCgnQ29udGVudC1Mb2NhdGlvbjogJyArIChvcHRzLnJvb3QgfHwgJ2ZpbGU6Ly8vQzovU2hlZXRKUy8nKSArIGZwKTtcblx0XHRvdXQucHVzaCgnQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogJyArIChxcCA/ICdxdW90ZWQtcHJpbnRhYmxlJyA6ICdiYXNlNjQnKSk7XG5cdFx0b3V0LnB1c2goJ0NvbnRlbnQtVHlwZTogJyArIGdldF9jb250ZW50X3R5cGUoZmksIGZwKSk7XG5cdFx0b3V0LnB1c2goJycpO1xuXG5cdFx0b3V0LnB1c2gocXAgPyB3cml0ZV9xdW90ZWRfcHJpbnRhYmxlKGNzdHIpIDogd3JpdGVfYmFzZTY0Xzc2KGNzdHIpKTtcblx0fVxuXHRvdXQucHVzaChib3VuZGFyeSArICctLVxcclxcbicpO1xuXHRyZXR1cm4gb3V0LmpvaW4oXCJcXHJcXG5cIik7XG59XG5mdW5jdGlvbiBjZmJfbmV3KG9wdHMvKjo/YW55Ki8pLyo6Q0ZCQ29udGFpbmVyKi8ge1xuXHR2YXIgby8qOkNGQkNvbnRhaW5lciovID0gKHt9Lyo6YW55Ki8pO1xuXHRpbml0X2NmYihvLCBvcHRzKTtcblx0cmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIGNmYl9hZGQoY2ZiLyo6Q0ZCQ29udGFpbmVyKi8sIG5hbWUvKjpzdHJpbmcqLywgY29udGVudC8qOj9SYXdCeXRlcyovLCBvcHRzLyo6P2FueSovKS8qOkNGQkVudHJ5Ki8ge1xuXHR2YXIgdW5zYWZlID0gb3B0cyAmJiBvcHRzLnVuc2FmZTtcblx0aWYoIXVuc2FmZSkgaW5pdF9jZmIoY2ZiKTtcblx0dmFyIGZpbGUgPSAhdW5zYWZlICYmIENGQi5maW5kKGNmYiwgbmFtZSk7XG5cdGlmKCFmaWxlKSB7XG5cdFx0dmFyIGZwYXRoLyo6c3RyaW5nKi8gPSBjZmIuRnVsbFBhdGhzWzBdO1xuXHRcdGlmKG5hbWUuc2xpY2UoMCwgZnBhdGgubGVuZ3RoKSA9PSBmcGF0aCkgZnBhdGggPSBuYW1lO1xuXHRcdGVsc2Uge1xuXHRcdFx0aWYoZnBhdGguc2xpY2UoLTEpICE9IFwiL1wiKSBmcGF0aCArPSBcIi9cIjtcblx0XHRcdGZwYXRoID0gKGZwYXRoICsgbmFtZSkucmVwbGFjZShcIi8vXCIsXCIvXCIpO1xuXHRcdH1cblx0XHRmaWxlID0gKHtuYW1lOiBmaWxlbmFtZShuYW1lKSwgdHlwZTogMn0vKjphbnkqLyk7XG5cdFx0Y2ZiLkZpbGVJbmRleC5wdXNoKGZpbGUpO1xuXHRcdGNmYi5GdWxsUGF0aHMucHVzaChmcGF0aCk7XG5cdFx0aWYoIXVuc2FmZSkgQ0ZCLnV0aWxzLmNmYl9nYyhjZmIpO1xuXHR9XG5cdC8qOjogaWYoIWZpbGUpIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpOyAqL1xuXHRmaWxlLmNvbnRlbnQgPSAoY29udGVudC8qOmFueSovKTtcblx0ZmlsZS5zaXplID0gY29udGVudCA/IGNvbnRlbnQubGVuZ3RoIDogMDtcblx0aWYob3B0cykge1xuXHRcdGlmKG9wdHMuQ0xTSUQpIGZpbGUuY2xzaWQgPSBvcHRzLkNMU0lEO1xuXHRcdGlmKG9wdHMubXQpIGZpbGUubXQgPSBvcHRzLm10O1xuXHRcdGlmKG9wdHMuY3QpIGZpbGUuY3QgPSBvcHRzLmN0O1xuXHR9XG5cdHJldHVybiBmaWxlO1xufVxuXG5mdW5jdGlvbiBjZmJfZGVsKGNmYi8qOkNGQkNvbnRhaW5lciovLCBuYW1lLyo6c3RyaW5nKi8pLyo6Ym9vbGVhbiovIHtcblx0aW5pdF9jZmIoY2ZiKTtcblx0dmFyIGZpbGUgPSBDRkIuZmluZChjZmIsIG5hbWUpO1xuXHRpZihmaWxlKSBmb3IodmFyIGogPSAwOyBqIDwgY2ZiLkZpbGVJbmRleC5sZW5ndGg7ICsraikgaWYoY2ZiLkZpbGVJbmRleFtqXSA9PSBmaWxlKSB7XG5cdFx0Y2ZiLkZpbGVJbmRleC5zcGxpY2UoaiwgMSk7XG5cdFx0Y2ZiLkZ1bGxQYXRocy5zcGxpY2UoaiwgMSk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjZmJfbW92KGNmYi8qOkNGQkNvbnRhaW5lciovLCBvbGRfbmFtZS8qOnN0cmluZyovLCBuZXdfbmFtZS8qOnN0cmluZyovKS8qOmJvb2xlYW4qLyB7XG5cdGluaXRfY2ZiKGNmYik7XG5cdHZhciBmaWxlID0gQ0ZCLmZpbmQoY2ZiLCBvbGRfbmFtZSk7XG5cdGlmKGZpbGUpIGZvcih2YXIgaiA9IDA7IGogPCBjZmIuRmlsZUluZGV4Lmxlbmd0aDsgKytqKSBpZihjZmIuRmlsZUluZGV4W2pdID09IGZpbGUpIHtcblx0XHRjZmIuRmlsZUluZGV4W2pdLm5hbWUgPSBmaWxlbmFtZShuZXdfbmFtZSk7XG5cdFx0Y2ZiLkZ1bGxQYXRoc1tqXSA9IG5ld19uYW1lO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gY2ZiX2djKGNmYi8qOkNGQkNvbnRhaW5lciovKS8qOnZvaWQqLyB7IHJlYnVpbGRfY2ZiKGNmYiwgdHJ1ZSk7IH1cblxuZXhwb3J0cy5maW5kID0gZmluZDtcbmV4cG9ydHMucmVhZCA9IHJlYWQ7XG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5leHBvcnRzLndyaXRlID0gd3JpdGU7XG5leHBvcnRzLndyaXRlRmlsZSA9IHdyaXRlX2ZpbGU7XG5leHBvcnRzLnV0aWxzID0ge1xuXHRjZmJfbmV3OiBjZmJfbmV3LFxuXHRjZmJfYWRkOiBjZmJfYWRkLFxuXHRjZmJfZGVsOiBjZmJfZGVsLFxuXHRjZmJfbW92OiBjZmJfbW92LFxuXHRjZmJfZ2M6IGNmYl9nYyxcblx0UmVhZFNoaWZ0OiBSZWFkU2hpZnQsXG5cdENoZWNrRmllbGQ6IENoZWNrRmllbGQsXG5cdHByZXBfYmxvYjogcHJlcF9ibG9iLFxuXHRiY29uY2F0OiBiY29uY2F0LFxuXHR1c2VfemxpYjogdXNlX3psaWIsXG5cdF9kZWZsYXRlUmF3OiBfZGVmbGF0ZSxcblx0X2luZmxhdGVSYXc6IF9pbmZsYXRlLFxuXHRjb25zdHM6IGNvbnN0c1xufTtcblxucmV0dXJuIGV4cG9ydHM7XG59KSgpO1xuXG52YXIgX2ZzO1xuZnVuY3Rpb24gc2V0X2ZzKGZzKSB7IF9mcyA9IGZzOyB9XG5cbi8qIG5vcm1hbGl6ZSBkYXRhIGZvciBibG9iIGN0b3IgKi9cbmZ1bmN0aW9uIGJsb2JpZnkoZGF0YSkge1xuXHRpZih0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHMyYWIoZGF0YSk7XG5cdGlmKEFycmF5LmlzQXJyYXkoZGF0YSkpIHJldHVybiBhMnUoZGF0YSk7XG5cdHJldHVybiBkYXRhO1xufVxuLyogd3JpdGUgb3IgZG93bmxvYWQgZmlsZSAqL1xuZnVuY3Rpb24gd3JpdGVfZGwoZm5hbWUvKjpzdHJpbmcqLywgcGF5bG9hZC8qOmFueSovLCBlbmMvKjo/c3RyaW5nKi8pIHtcblx0LypnbG9iYWwgSUVfU2F2ZUZpbGUsIEJsb2IsIG5hdmlnYXRvciwgc2F2ZUFzLCBkb2N1bWVudCwgRmlsZSwgY2hyb21lICovXG5cdGlmKHR5cGVvZiBfZnMgIT09ICd1bmRlZmluZWQnICYmIF9mcy53cml0ZUZpbGVTeW5jKSByZXR1cm4gZW5jID8gX2ZzLndyaXRlRmlsZVN5bmMoZm5hbWUsIHBheWxvYWQsIGVuYykgOiBfZnMud3JpdGVGaWxlU3luYyhmbmFtZSwgcGF5bG9hZCk7XG5cdGlmKHR5cGVvZiBEZW5vICE9PSAndW5kZWZpbmVkJykge1xuXHRcdC8qIGluIHRoaXMgc3BvdCwgaXQncyBzYWZlIHRvIGFzc3VtZSB0eXBlZCBhcnJheXMgYW5kIFRleHRFbmNvZGVyL1RleHREZWNvZGVyIGV4aXN0ICovXG5cdFx0aWYoZW5jICYmIHR5cGVvZiBwYXlsb2FkID09IFwic3RyaW5nXCIpIHN3aXRjaChlbmMpIHtcblx0XHRcdGNhc2UgXCJ1dGY4XCI6IHBheWxvYWQgPSBuZXcgVGV4dEVuY29kZXIoZW5jKS5lbmNvZGUocGF5bG9hZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcImJpbmFyeVwiOiBwYXlsb2FkID0gczJhYihwYXlsb2FkKTsgYnJlYWs7XG5cdFx0XHQvKiBUT0RPOiBiaW5hcnkgZXF1aXZhbGVudCAqL1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIgKyBlbmMpO1xuXHRcdH1cblx0XHRyZXR1cm4gRGVuby53cml0ZUZpbGVTeW5jKGZuYW1lLCBwYXlsb2FkKTtcblx0fVxuXHR2YXIgZGF0YSA9IChlbmMgPT0gXCJ1dGY4XCIpID8gdXRmOHdyaXRlKHBheWxvYWQpIDogcGF5bG9hZDtcblx0Lyo6OiBkZWNsYXJlIHZhciBJRV9TYXZlRmlsZTogYW55OyAqL1xuXHRpZih0eXBlb2YgSUVfU2F2ZUZpbGUgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gSUVfU2F2ZUZpbGUoZGF0YSwgZm5hbWUpO1xuXHRpZih0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtibG9iaWZ5KGRhdGEpXSwge3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pO1xuXHRcdC8qOjogZGVjbGFyZSB2YXIgbmF2aWdhdG9yOiBhbnk7ICovXG5cdFx0aWYodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLm1zU2F2ZUJsb2IpIHJldHVybiBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmbmFtZSk7XG5cdFx0Lyo6OiBkZWNsYXJlIHZhciBzYXZlQXM6IGFueTsgKi9cblx0XHRpZih0eXBlb2Ygc2F2ZUFzICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHNhdmVBcyhibG9iLCBmbmFtZSk7XG5cdFx0aWYodHlwZW9mIFVSTCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICYmIFVSTC5jcmVhdGVPYmplY3RVUkwpIHtcblx0XHRcdHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0Lyo6OiBkZWNsYXJlIHZhciBjaHJvbWU6IGFueTsgKi9cblx0XHRcdGlmKHR5cGVvZiBjaHJvbWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiAoY2hyb21lLmRvd25sb2Fkc3x8e30pLmRvd25sb2FkID09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRpZihVUkwucmV2b2tlT2JqZWN0VVJMICYmIHR5cGVvZiBzZXRUaW1lb3V0ICE9PSAndW5kZWZpbmVkJykgc2V0VGltZW91dChmdW5jdGlvbigpIHsgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOyB9LCA2MDAwMCk7XG5cdFx0XHRcdHJldHVybiBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkKHsgdXJsOiB1cmwsIGZpbGVuYW1lOiBmbmFtZSwgc2F2ZUFzOiB0cnVlIH0pO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcblx0XHRcdGlmKGEuZG93bmxvYWQgIT0gbnVsbCkge1xuXHRcdFx0XHQvKjo6IGlmKGRvY3VtZW50LmJvZHkgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGVcIik7ICovXG5cdFx0XHRcdGEuZG93bmxvYWQgPSBmbmFtZTsgYS5ocmVmID0gdXJsOyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOyBhLmNsaWNrKCk7XG5cdFx0XHRcdC8qOjogaWYoZG9jdW1lbnQuYm9keSA9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bnJlYWNoYWJsZVwiKTsgKi8gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcblx0XHRcdFx0aWYoVVJMLnJldm9rZU9iamVjdFVSTCAmJiB0eXBlb2Ygc2V0VGltZW91dCAhPT0gJ3VuZGVmaW5lZCcpIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsgfSwgNjAwMDApO1xuXHRcdFx0XHRyZXR1cm4gdXJsO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZih0eXBlb2YgVVJMICE9PSAndW5kZWZpbmVkJyAmJiAhVVJMLmNyZWF0ZU9iamVjdFVSTCAmJiB0eXBlb2YgY2hyb21lID09PSAnb2JqZWN0Jykge1xuXHRcdFx0LyogbWFuaWZlc3QgdjMgZXh0ZW5zaW9ucyAtLSBubyBVUkwuY3JlYXRlT2JqZWN0VVJMICovXG5cdFx0XHR2YXIgYjY0ID0gXCJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsXCIgKyBCYXNlNjRfZW5jb2RlX2FycihuZXcgVWludDhBcnJheShibG9iaWZ5KGRhdGEpKSk7XG5cdFx0XHRyZXR1cm4gY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7IHVybDogYjY0LCBmaWxlbmFtZTogZm5hbWUsIHNhdmVBczogdHJ1ZSB9KTtcblx0XHR9XG5cdH1cblx0Ly8gJEZsb3dJZ25vcmVcblx0aWYodHlwZW9mICQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBGaWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgRm9sZGVyICE9PSAndW5kZWZpbmVkJykgdHJ5IHsgLy8gZXh0ZW5kc2NyaXB0XG5cdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHR2YXIgb3V0ID0gRmlsZShmbmFtZSk7IG91dC5vcGVuKFwid1wiKTsgb3V0LmVuY29kaW5nID0gXCJiaW5hcnlcIjtcblx0XHRpZihBcnJheS5pc0FycmF5KHBheWxvYWQpKSBwYXlsb2FkID0gYTJzKHBheWxvYWQpO1xuXHRcdG91dC53cml0ZShwYXlsb2FkKTsgb3V0LmNsb3NlKCk7IHJldHVybiBwYXlsb2FkO1xuXHR9IGNhdGNoKGUpIHsgaWYoIWUubWVzc2FnZSB8fCBlLm1lc3NhZ2UuaW5kZXhPZihcIm9uc3RydWN0XCIpID09IC0xKSB0aHJvdyBlOyB9XG5cdHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBzYXZlIGZpbGUgXCIgKyBmbmFtZSk7XG59XG5cbi8qIHJlYWQgYmluYXJ5IGRhdGEgZnJvbSBmaWxlICovXG5mdW5jdGlvbiByZWFkX2JpbmFyeShwYXRoLyo6c3RyaW5nKi8pIHtcblx0aWYodHlwZW9mIF9mcyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBfZnMucmVhZEZpbGVTeW5jKHBhdGgpO1xuXHRpZih0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBEZW5vLnJlYWRGaWxlU3luYyhwYXRoKTtcblx0Ly8gJEZsb3dJZ25vcmVcblx0aWYodHlwZW9mICQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBGaWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgRm9sZGVyICE9PSAndW5kZWZpbmVkJykgdHJ5IHsgLy8gZXh0ZW5kc2NyaXB0XG5cdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHR2YXIgaW5maWxlID0gRmlsZShwYXRoKTsgaW5maWxlLm9wZW4oXCJyXCIpOyBpbmZpbGUuZW5jb2RpbmcgPSBcImJpbmFyeVwiO1xuXHRcdHZhciBkYXRhID0gaW5maWxlLnJlYWQoKTsgaW5maWxlLmNsb3NlKCk7XG5cdFx0cmV0dXJuIGRhdGE7XG5cdH0gY2F0Y2goZSkgeyBpZighZS5tZXNzYWdlIHx8IGUubWVzc2FnZS5pbmRleE9mKFwib25zdHJ1Y3RcIikgPT0gLTEpIHRocm93IGU7IH1cblx0dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFjY2VzcyBmaWxlIFwiICsgcGF0aCk7XG59XG5mdW5jdGlvbiBrZXlzKG8vKjphbnkqLykvKjpBcnJheTxhbnk+Ki8ge1xuXHR2YXIga3MgPSBPYmplY3Qua2V5cyhvKSwgbzIgPSBbXTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGtzLmxlbmd0aDsgKytpKSBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywga3NbaV0pKSBvMi5wdXNoKGtzW2ldKTtcblx0cmV0dXJuIG8yO1xufVxuXG5mdW5jdGlvbiBldmVydF9rZXkob2JqLyo6YW55Ki8sIGtleS8qOnN0cmluZyovKS8qOkV2ZXJ0VHlwZSovIHtcblx0dmFyIG8gPSAoW10vKjphbnkqLyksIEsgPSBrZXlzKG9iaik7XG5cdGZvcih2YXIgaSA9IDA7IGkgIT09IEsubGVuZ3RoOyArK2kpIGlmKG9bb2JqW0tbaV1dW2tleV1dID09IG51bGwpIG9bb2JqW0tbaV1dW2tleV1dID0gS1tpXTtcblx0cmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIGV2ZXJ0KG9iai8qOmFueSovKS8qOkV2ZXJ0VHlwZSovIHtcblx0dmFyIG8gPSAoW10vKjphbnkqLyksIEsgPSBrZXlzKG9iaik7XG5cdGZvcih2YXIgaSA9IDA7IGkgIT09IEsubGVuZ3RoOyArK2kpIG9bb2JqW0tbaV1dXSA9IEtbaV07XG5cdHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBldmVydF9udW0ob2JqLyo6YW55Ki8pLyo6RXZlcnROdW1UeXBlKi8ge1xuXHR2YXIgbyA9IChbXS8qOmFueSovKSwgSyA9IGtleXMob2JqKTtcblx0Zm9yKHZhciBpID0gMDsgaSAhPT0gSy5sZW5ndGg7ICsraSkgb1tvYmpbS1tpXV1dID0gcGFyc2VJbnQoS1tpXSwxMCk7XG5cdHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBldmVydF9hcnIob2JqLyo6YW55Ki8pLyo6RXZlcnRBcnJUeXBlKi8ge1xuXHR2YXIgby8qOkV2ZXJ0QXJyVHlwZSovID0gKFtdLyo6YW55Ki8pLCBLID0ga2V5cyhvYmopO1xuXHRmb3IodmFyIGkgPSAwOyBpICE9PSBLLmxlbmd0aDsgKytpKSB7XG5cdFx0aWYob1tvYmpbS1tpXV1dID09IG51bGwpIG9bb2JqW0tbaV1dXSA9IFtdO1xuXHRcdG9bb2JqW0tbaV1dXS5wdXNoKEtbaV0pO1xuXHR9XG5cdHJldHVybiBvO1xufVxuXG52YXIgZG50aHJlc2ggID0gLyojX19QVVJFX18qL0RhdGUuVVRDKDE4OTksIDExLCAzMCwgMCwgMCwgMCk7IC8vIC0yMjA5MTYxNjAwMDAwXG52YXIgZG50aHJlc2gxID0gLyojX19QVVJFX18qL0RhdGUuVVRDKDE4OTksIDExLCAzMSwgMCwgMCwgMCk7IC8vIC0yMjA5MDc1MjAwMDAwXG52YXIgZG50aHJlc2gyID0gLyojX19QVVJFX18qL0RhdGUuVVRDKDE5MDQsIDAsIDEsIDAsIDAsIDApOyAvLyAtMjIwOTA3NTIwMDAwMFxuZnVuY3Rpb24gZGF0ZW51bSh2Lyo6RGF0ZSovLCBkYXRlMTkwNC8qOj9ib29sZWFuKi8pLyo6bnVtYmVyKi8ge1xuXHR2YXIgZXBvY2ggPSAvKiNfX1BVUkVfXyovdi5nZXRUaW1lKCk7XG5cdHZhciByZXMgPSAoZXBvY2ggLSBkbnRocmVzaCkgLyAoMjQgKiA2MCAqIDYwICogMTAwMCk7XG5cdGlmKGRhdGUxOTA0KSB7IHJlcyAtPSAxNDYyOyByZXR1cm4gcmVzIDwgLTE0MDIgPyByZXMgLSAxIDogcmVzOyB9XG5cdHJldHVybiByZXMgPCA2MCA/IHJlcyAtIDEgOiByZXM7XG59XG5mdW5jdGlvbiBudW1kYXRlKHYvKjpudW1iZXIqLykvKjpEYXRlfG51bWJlciovIHtcblx0aWYodiA+PSA2MCAmJiB2IDwgNjEpIHJldHVybiB2O1xuXHR2YXIgb3V0ID0gbmV3IERhdGUoKTtcblx0b3V0LnNldFRpbWUoKHY+NjAgPyB2IDogKHYrMSkpICogMjQgKiA2MCAqIDYwICogMTAwMCArIGRudGhyZXNoKTtcblx0cmV0dXJuIG91dDtcbn1cblxuLyogSVNPIDg2MDEgRHVyYXRpb24gKi9cbmZ1bmN0aW9uIHBhcnNlX2lzb2R1cihzKSB7XG5cdHZhciBzZWMgPSAwLCBtdCA9IDAsIHRpbWUgPSBmYWxzZTtcblx0dmFyIG0gPSBzLm1hdGNoKC9QKFswLTlcXC5dK1kpPyhbMC05XFwuXStNKT8oWzAtOVxcLl0rRCk/VChbMC05XFwuXStIKT8oWzAtOVxcLl0rTSk/KFswLTlcXC5dK1MpPy8pO1xuXHRpZighbSkgdGhyb3cgbmV3IEVycm9yKFwifFwiICsgcyArIFwifCBpcyBub3QgYW4gSVNPODYwMSBEdXJhdGlvblwiKTtcblx0Zm9yKHZhciBpID0gMTsgaSAhPSBtLmxlbmd0aDsgKytpKSB7XG5cdFx0aWYoIW1baV0pIGNvbnRpbnVlO1xuXHRcdG10ID0gMTtcblx0XHRpZihpID4gMykgdGltZSA9IHRydWU7XG5cdFx0c3dpdGNoKG1baV0uc2xpY2UobVtpXS5sZW5ndGgtMSkpIHtcblx0XHRcdGNhc2UgJ1knOlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBJU08gRHVyYXRpb24gRmllbGQ6IFwiICsgbVtpXS5zbGljZShtW2ldLmxlbmd0aC0xKSk7XG5cdFx0XHRjYXNlICdEJzogbXQgKj0gMjQ7XG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJ0gnOiBtdCAqPSA2MDtcblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnTSc6XG5cdFx0XHRcdGlmKCF0aW1lKSB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBJU08gRHVyYXRpb24gRmllbGQ6IE1cIik7XG5cdFx0XHRcdGVsc2UgbXQgKj0gNjA7XG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJ1MnOiBicmVhaztcblx0XHR9XG5cdFx0c2VjICs9IG10ICogcGFyc2VJbnQobVtpXSwgMTApO1xuXHR9XG5cdHJldHVybiBzZWM7XG59XG5cbi8qIEJsYW1lIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTc4NjMgZm9yIHRoZSByZWdleGlkZSAqL1xudmFyIHBkcmUxID0gL14oXFxkKyk6KFxcZCspKDpcXGQrKT8oXFwuXFxkKyk/JC87IC8vIEhIOk1NWzpTU1suVVVVXV1cbnZhciBwZHJlMiA9IC9eKFxcZCspLShcXGQrKS0oXFxkKykkLzsgLy8gWVlZWS1tbS1kZFxudmFyIHBkcmUzID0gL14oXFxkKyktKFxcZCspLShcXGQrKVtUIF0oXFxkKyk6KFxcZCspKDpcXGQrKT8oXFwuXFxkKyk/JC87IC8vIFlZWVktbW0tZGQoVCBvciBzcGFjZSlISDpNTVs6U1NbLlVVVV1dLCBzYW5zIFwiWlwiXG4vKiBwYXJzZXMgYSBkYXRlIHN0cmluZyBhcyBhIFVUQyBkYXRlICovXG5mdW5jdGlvbiBwYXJzZURhdGUoc3RyLyo6c3RyaW5nKi8sIGRhdGUxOTA0Lyo6Ym9vbGVhbiovKS8qOkRhdGUqLyB7XG5cdGlmKHN0ciBpbnN0YW5jZW9mIERhdGUpIHJldHVybiBzdHI7XG5cdHZhciBtID0gc3RyLm1hdGNoKHBkcmUxKTtcblx0aWYobSkgcmV0dXJuIG5ldyBEYXRlKChkYXRlMTkwNCA/IGRudGhyZXNoMiA6IGRudGhyZXNoMSkgKyAoKHBhcnNlSW50KG1bMV0sIDEwKSo2MCArIHBhcnNlSW50KG1bMl0sIDEwKSkqNjAgKyAobVszXSA/IHBhcnNlSW50KG1bM10uc2xpY2UoMSksIDEwKSA6IDApKSoxMDAwICsgKG1bNF0gPyBwYXJzZUludCgobVs0XStcIjAwMFwiKS5zbGljZSgxLDQpLCAxMCkgOiAwKSk7XG5cdG0gPSBzdHIubWF0Y2gocGRyZTIpO1xuXHRpZihtKSByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoK21bMV0sICttWzJdLTEsICttWzNdLCAwLCAwLCAwLCAwKSk7XG5cdC8qIFRPRE86IDE5MDAtMDItMjlUMDA6MDA6MDAuMDAwIHNob3VsZCByZXR1cm4gYSBmbGFnIHRvIHRyZWF0IGFzIGEgZGF0ZSBjb2RlIChhZmZlY3RzIHhsbWwpICovXG5cdG0gPSBzdHIubWF0Y2gocGRyZTMpO1xuXHRpZihtKSByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoK21bMV0sICttWzJdLTEsICttWzNdLCArbVs0XSwgK21bNV0sICgobVs2XSAmJiBwYXJzZUludChtWzZdLnNsaWNlKDEpLCAxMCkpfHwgMCksICgobVs3XSAmJiBwYXJzZUludCgobVs3XSArIFwiMDAwMFwiKS5zbGljZSgxLDQpLCAxMCkpfHwwKSkpO1xuXHR2YXIgZCA9IG5ldyBEYXRlKHN0cik7XG5cdHJldHVybiBkO1xufVxuXG5mdW5jdGlvbiBjYzJzdHIoYXJyLyo6QXJyYXk8bnVtYmVyPiovLCBkZWJvbWl0KS8qOnN0cmluZyovIHtcblx0aWYoaGFzX2J1ZiAmJiBCdWZmZXIuaXNCdWZmZXIoYXJyKSkge1xuXHRcdGlmKGRlYm9taXQgJiYgYnVmX3V0ZjE2bGUpIHtcblx0XHRcdC8vIFRPRE86IHRlbXBvcmFyeSBwYXRjaFxuXHRcdFx0aWYoYXJyWzBdID09IDB4RkYgJiYgYXJyWzFdID09IDB4RkUpIHJldHVybiB1dGY4d3JpdGUoYXJyLnNsaWNlKDIpLnRvU3RyaW5nKFwidXRmMTZsZVwiKSk7XG5cdFx0XHRpZihhcnJbMV0gPT0gMHhGRSAmJiBhcnJbMl0gPT0gMHhGRikgcmV0dXJuIHV0Zjh3cml0ZSh1dGYxNmJlcmVhZChhcnIuc2xpY2UoMikudG9TdHJpbmcoXCJiaW5hcnlcIikpKTtcblx0XHR9XG5cdFx0cmV0dXJuIGFyci50b1N0cmluZyhcImJpbmFyeVwiKTtcblx0fVxuXG5cdGlmKHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gXCJ1bmRlZmluZWRcIikgdHJ5IHtcblx0XHRpZihkZWJvbWl0KSB7XG5cdFx0XHRpZihhcnJbMF0gPT0gMHhGRiAmJiBhcnJbMV0gPT0gMHhGRSkgcmV0dXJuIHV0Zjh3cml0ZShuZXcgVGV4dERlY29kZXIoXCJ1dGYtMTZsZVwiKS5kZWNvZGUoYXJyLnNsaWNlKDIpKSk7XG5cdFx0XHRpZihhcnJbMF0gPT0gMHhGRSAmJiBhcnJbMV0gPT0gMHhGRikgcmV0dXJuIHV0Zjh3cml0ZShuZXcgVGV4dERlY29kZXIoXCJ1dGYtMTZiZVwiKS5kZWNvZGUoYXJyLnNsaWNlKDIpKSk7XG5cdFx0fVxuXHRcdHZhciByZXYgPSB7XG5cdFx0XHRcIlxcdTIwYWNcIjogXCJcXHg4MFwiLCBcIlxcdTIwMWFcIjogXCJcXHg4MlwiLCBcIlxcdTAxOTJcIjogXCJcXHg4M1wiLCBcIlxcdTIwMWVcIjogXCJcXHg4NFwiLFxuXHRcdFx0XCJcXHUyMDI2XCI6IFwiXFx4ODVcIiwgXCJcXHUyMDIwXCI6IFwiXFx4ODZcIiwgXCJcXHUyMDIxXCI6IFwiXFx4ODdcIiwgXCJcXHUwMmM2XCI6IFwiXFx4ODhcIixcblx0XHRcdFwiXFx1MjAzMFwiOiBcIlxceDg5XCIsIFwiXFx1MDE2MFwiOiBcIlxceDhhXCIsIFwiXFx1MjAzOVwiOiBcIlxceDhiXCIsIFwiXFx1MDE1MlwiOiBcIlxceDhjXCIsXG5cdFx0XHRcIlxcdTAxN2RcIjogXCJcXHg4ZVwiLCBcIlxcdTIwMThcIjogXCJcXHg5MVwiLCBcIlxcdTIwMTlcIjogXCJcXHg5MlwiLCBcIlxcdTIwMWNcIjogXCJcXHg5M1wiLFxuXHRcdFx0XCJcXHUyMDFkXCI6IFwiXFx4OTRcIiwgXCJcXHUyMDIyXCI6IFwiXFx4OTVcIiwgXCJcXHUyMDEzXCI6IFwiXFx4OTZcIiwgXCJcXHUyMDE0XCI6IFwiXFx4OTdcIixcblx0XHRcdFwiXFx1MDJkY1wiOiBcIlxceDk4XCIsIFwiXFx1MjEyMlwiOiBcIlxceDk5XCIsIFwiXFx1MDE2MVwiOiBcIlxceDlhXCIsIFwiXFx1MjAzYVwiOiBcIlxceDliXCIsXG5cdFx0XHRcIlxcdTAxNTNcIjogXCJcXHg5Y1wiLCBcIlxcdTAxN2VcIjogXCJcXHg5ZVwiLCBcIlxcdTAxNzhcIjogXCJcXHg5ZlwiXG5cdFx0fTtcblx0XHRpZihBcnJheS5pc0FycmF5KGFycikpIGFyciA9IG5ldyBVaW50OEFycmF5KGFycik7XG5cdFx0cmV0dXJuIG5ldyBUZXh0RGVjb2RlcihcImxhdGluMVwiKS5kZWNvZGUoYXJyKS5yZXBsYWNlKC9b4oKs4oCaxpLigJ7igKbigKDigKHLhuKAsMWg4oC5xZLFveKAmOKAmeKAnOKAneKAouKAk+KAlMuc4oSixaHigLrFk8W+xbhdL2csIGZ1bmN0aW9uKGMpIHsgcmV0dXJuIHJldltjXSB8fCBjOyB9KTtcblx0fSBjYXRjaChlKSB7fVxuXG5cdHZhciBvID0gW10sIGkgPSAwO1xuXHQvLyB0aGlzIGNhc2NhZGUgaXMgZm9yIHRoZSBicm93c2VycyBhbmQgcnVudGltZXMgb2YgYW50aXF1aXR5IChhbmQgZm9yIG1vZGVybiBydW50aW1lcyB0aGF0IGxhY2sgVGV4dEVuY29kZXIpXG5cdHRyeSB7XG5cdFx0Zm9yKGkgPSAwOyBpIDwgYXJyLmxlbmd0aCAtIDY1NTM2OyBpKz02NTUzNikgby5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCwgYXJyLnNsaWNlKGksIGkgKyA2NTUzNikpKTtcblx0XHRvLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseSgwLCBhcnIuc2xpY2UoaSkpKTtcblx0fSBjYXRjaChlKSB7IHRyeSB7XG5cdFx0XHRmb3IoOyBpIDwgYXJyLmxlbmd0aCAtIDE2Mzg0OyBpKz0xNjM4NCkgby5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCwgYXJyLnNsaWNlKGksIGkgKyAxNjM4NCkpKTtcblx0XHRcdG8ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KDAsIGFyci5zbGljZShpKSkpO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0Zm9yKDsgaSAhPSBhcnIubGVuZ3RoOyArK2kpIG8ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGFycltpXSkpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gby5qb2luKFwiXCIpO1xufVxuXG5mdW5jdGlvbiBkdXAoby8qOmFueSovKS8qOmFueSovIHtcblx0aWYodHlwZW9mIEpTT04gIT0gJ3VuZGVmaW5lZCcgJiYgIUFycmF5LmlzQXJyYXkobykpIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG8pKTtcblx0aWYodHlwZW9mIG8gIT0gJ29iamVjdCcgfHwgbyA9PSBudWxsKSByZXR1cm4gbztcblx0aWYobyBpbnN0YW5jZW9mIERhdGUpIHJldHVybiBuZXcgRGF0ZShvLmdldFRpbWUoKSk7XG5cdHZhciBvdXQgPSB7fTtcblx0Zm9yKHZhciBrIGluIG8pIGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgb3V0W2tdID0gZHVwKG9ba10pO1xuXHRyZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBmaWxsKGMvKjpzdHJpbmcqLyxsLyo6bnVtYmVyKi8pLyo6c3RyaW5nKi8geyB2YXIgbyA9IFwiXCI7IHdoaWxlKG8ubGVuZ3RoIDwgbCkgbys9YzsgcmV0dXJuIG87IH1cblxuLyogVE9ETzogc3RyZXNzIHRlc3QgKi9cbmZ1bmN0aW9uIGZ1enp5bnVtKHMvKjpzdHJpbmcqLykvKjpudW1iZXIqLyB7XG5cdHZhciB2Lyo6bnVtYmVyKi8gPSBOdW1iZXIocyk7XG5cdGlmKCFpc05hTih2KSkgcmV0dXJuIGlzRmluaXRlKHYpID8gdiA6IE5hTjtcblx0aWYoIS9cXGQvLnRlc3QocykpIHJldHVybiB2O1xuXHR2YXIgd3QgPSAxO1xuXHR2YXIgc3MgPSBzLnJlcGxhY2UoLyhbXFxkXSksKFtcXGRdKS9nLFwiJDEkMlwiKS5yZXBsYWNlKC9bJF0vZyxcIlwiKS5yZXBsYWNlKC9bJV0vZywgZnVuY3Rpb24oKSB7IHd0ICo9IDEwMDsgcmV0dXJuIFwiXCI7fSk7XG5cdGlmKCFpc05hTih2ID0gTnVtYmVyKHNzKSkpIHJldHVybiB2IC8gd3Q7XG5cdHNzID0gc3MucmVwbGFjZSgvWyhdKFteKCldKilbKV0vLGZ1bmN0aW9uKCQkLCAkMSkgeyB3dCA9IC13dDsgcmV0dXJuICQxO30pO1xuXHRpZighaXNOYU4odiA9IE51bWJlcihzcykpKSByZXR1cm4gdiAvIHd0O1xuXHRyZXR1cm4gdjtcbn1cblxuLyogTk9URTogQ2hyb21lIHJlamVjdHMgYmFyZSB0aW1lcyBsaWtlIDE6MjMgUE0gKi9cbnZhciBGRFJFMSA9IC9eKDA/XFxkfDFbMC0yXSkoPzp8OihbMC01XT9cXGQpKD86fChcXC5cXGQrKSg/Onw6KFswLTVdP1xcZCkpfDooWzAtNV0/XFxkKSh8XFwuXFxkKykpKVxccysoW2FwXSltPyQvO1xudmFyIEZEUkUyID0gL14oWzAxXT9cXGR8MlswLTNdKSg/Onw6KFswLTVdP1xcZCkoPzp8KFxcLlxcZCspKD86fDooWzAtNV0/XFxkKSl8OihbMC01XT9cXGQpKHxcXC5cXGQrKSkpJC87XG52YXIgRkRJU08gPSAvXihcXGQrKS0oXFxkKyktKFxcZCspW1QgXShcXGQrKTooXFxkKykoOlxcZCspKFxcLlxcZCspP1taXT8kLzsgLy8gWVlZWS1tbS1kZChUIG9yIHNwYWNlKUhIOk1NOlNTWy5VVVVdW1pdXG5cbi8qIFRPRE86IDE5MDQgYWRqdXN0bWVudCAqL1xudmFyIHV0Y19hcHBlbmRfd29ya3MgPSBuZXcgRGF0ZShcIjYvOS82OSAwMDowMCBVVENcIikudmFsdWVPZigpID09IC0xNzc5ODQwMDAwMDtcbmZ1bmN0aW9uIGZ1enp5dGltZTEoTSkgLyo6RGF0ZSovIHtcblx0aWYoIU1bMl0pIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQygxODk5LDExLDMxLCgrTVsxXSUxMikgKyAoTVs3XSA9PSBcInBcIiA/IDEyIDogMCksIDAsIDAsIDApKTtcblx0aWYoTVszXSkge1xuXHRcdFx0aWYoTVs0XSkgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKDE4OTksMTEsMzEsKCtNWzFdJTEyKSArIChNWzddID09IFwicFwiID8gMTIgOiAwKSwgK01bMl0sICtNWzRdLCBwYXJzZUZsb2F0KE1bM10pKjEwMDApKTtcblx0XHRcdGVsc2UgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKDE4OTksMTEsMzEsKE1bN10gPT0gXCJwXCIgPyAxMiA6IDApLCArTVsxXSwgK01bMl0sIHBhcnNlRmxvYXQoTVszXSkqMTAwMCkpO1xuXHR9XG5cdGVsc2UgaWYoTVs1XSkgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKDE4OTksMTEsMzEsICgrTVsxXSUxMikgKyAoTVs3XSA9PSBcInBcIiA/IDEyIDogMCksICtNWzJdLCArTVs1XSwgTVs2XSA/IHBhcnNlRmxvYXQoTVs2XSkgKiAxMDAwIDogMCkpO1xuXHRlbHNlIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQygxODk5LDExLDMxLCgrTVsxXSUxMikgKyAoTVs3XSA9PSBcInBcIiA/IDEyIDogMCksICtNWzJdLCAwLCAwKSk7XG59XG5mdW5jdGlvbiBmdXp6eXRpbWUyKE0pIC8qOkRhdGUqLyB7XG5cdGlmKCFNWzJdKSByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoMTg5OSwxMSwzMSwrTVsxXSwgMCwgMCwgMCkpO1xuXHRpZihNWzNdKSB7XG5cdFx0XHRpZihNWzRdKSByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoMTg5OSwxMSwzMSwrTVsxXSwgK01bMl0sICtNWzRdLCBwYXJzZUZsb2F0KE1bM10pKjEwMDApKTtcblx0XHRcdGVsc2UgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKDE4OTksMTEsMzEsMCwgK01bMV0sICtNWzJdLCBwYXJzZUZsb2F0KE1bM10pKjEwMDApKTtcblx0fVxuXHRlbHNlIGlmKE1bNV0pIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQygxODk5LDExLDMxLCArTVsxXSwgK01bMl0sICtNWzVdLCBNWzZdID8gcGFyc2VGbG9hdChNWzZdKSAqIDEwMDAgOiAwKSk7XG5cdGVsc2UgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKDE4OTksMTEsMzEsK01bMV0sICtNWzJdLCAwLCAwKSk7XG59XG52YXIgbG93ZXJfbW9udGhzID0gWydqYW51YXJ5JywgJ2ZlYnJ1YXJ5JywgJ21hcmNoJywgJ2FwcmlsJywgJ21heScsICdqdW5lJywgJ2p1bHknLCAnYXVndXN0JywgJ3NlcHRlbWJlcicsICdvY3RvYmVyJywgJ25vdmVtYmVyJywgJ2RlY2VtYmVyJ107XG5mdW5jdGlvbiBmdXp6eWRhdGUocy8qOnN0cmluZyovKS8qOkRhdGUqLyB7XG5cdC8vIFNlZSBpc3N1ZSAyODYzIC0tIHRoaXMgaXMgdGVjaG5pY2FsbHkgbm90IHN1cHBvcnRlZCBpbiBFeGNlbCBidXQgaXMgb3RoZXJ3aXNlIHVzZWZ1bFxuXHRpZihGRElTTy50ZXN0KHMpKSByZXR1cm4gcy5pbmRleE9mKFwiWlwiKSA9PSAtMSA/IGxvY2FsX3RvX3V0YyhuZXcgRGF0ZShzKSkgOiBuZXcgRGF0ZShzKTtcblx0dmFyIGxvd2VyID0gcy50b0xvd2VyQ2FzZSgpO1xuXHR2YXIgbG5vcyA9IGxvd2VyLnJlcGxhY2UoL1xccysvZywgXCIgXCIpLnRyaW0oKTtcblx0dmFyIE0gPSBsbm9zLm1hdGNoKEZEUkUxKTtcblx0aWYoTSkgcmV0dXJuIGZ1enp5dGltZTEoTSk7XG5cdE0gPSBsbm9zLm1hdGNoKEZEUkUyKTtcblx0aWYoTSkgcmV0dXJuIGZ1enp5dGltZTIoTSk7XG5cdE0gPSBsbm9zLm1hdGNoKHBkcmUzKTtcblx0aWYoTSkgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKCtNWzFdLCArTVsyXS0xLCArTVszXSwgK01bNF0sICtNWzVdLCAoKE1bNl0gJiYgcGFyc2VJbnQoTVs2XS5zbGljZSgxKSwgMTApKXx8IDApLCAoKE1bN10gJiYgcGFyc2VJbnQoKE1bN10gKyBcIjAwMDBcIikuc2xpY2UoMSw0KSwgMTApKXx8MCkpKTtcblx0dmFyIG8gPSBuZXcgRGF0ZSh1dGNfYXBwZW5kX3dvcmtzICYmIHMuaW5kZXhPZihcIlVUQ1wiKSA9PSAtMSA/IHMgKyBcIiBVVENcIjogcyksIG4gPSBuZXcgRGF0ZShOYU4pO1xuXHR2YXIgeSA9IG8uZ2V0WWVhcigpLCBtID0gby5nZXRNb250aCgpLCBkID0gby5nZXREYXRlKCk7XG5cdGlmKGlzTmFOKGQpKSByZXR1cm4gbjtcblx0aWYobG93ZXIubWF0Y2goL2phbnxmZWJ8bWFyfGFwcnxtYXl8anVufGp1bHxhdWd8c2VwfG9jdHxub3Z8ZGVjLykpIHtcblx0XHRsb3dlciA9IGxvd2VyLnJlcGxhY2UoL1teYS16XS9nLFwiXCIpLnJlcGxhY2UoLyhbXmEtel18XilbYXBdbT8oW15hLXpdfCQpLyxcIlwiKTtcblx0XHRpZihsb3dlci5sZW5ndGggPiAzICYmIGxvd2VyX21vbnRocy5pbmRleE9mKGxvd2VyKSA9PSAtMSkgcmV0dXJuIG47XG5cdH0gZWxzZSBpZihsb3dlci5yZXBsYWNlKC9bYXBdbT8vLCBcIlwiKS5tYXRjaCgvW2Etel0vKSkgcmV0dXJuIG47XG5cdGlmKHkgPCAwIHx8IHkgPiA4MDk5IHx8IHMubWF0Y2goL1teLTAtOTosXFwvXFxcXFxcIF0vKSkgcmV0dXJuIG47XG5cdHJldHVybiBvO1xufVxuXG52YXIgc3BsaXRfcmVnZXggPSAvKiNfX1BVUkVfXyovKGZ1bmN0aW9uKCkge1xuXHR2YXIgc2FmZV9zcGxpdF9yZWdleCA9IFwiYWJhY2FiYVwiLnNwbGl0KC8oOj9iKS9pKS5sZW5ndGggPT0gNTtcblx0cmV0dXJuIGZ1bmN0aW9uIHNwbGl0X3JlZ2V4KHN0ci8qOnN0cmluZyovLCByZSwgZGVmLyo6c3RyaW5nKi8pLyo6QXJyYXk8c3RyaW5nPiovIHtcblx0XHRpZihzYWZlX3NwbGl0X3JlZ2V4IHx8IHR5cGVvZiByZSA9PSBcInN0cmluZ1wiKSByZXR1cm4gc3RyLnNwbGl0KHJlKTtcblx0XHR2YXIgcCA9IHN0ci5zcGxpdChyZSksIG8gPSBbcFswXV07XG5cdFx0Zm9yKHZhciBpID0gMTsgaSA8IHAubGVuZ3RoOyArK2kpIHsgby5wdXNoKGRlZik7IG8ucHVzaChwW2ldKTsgfVxuXHRcdHJldHVybiBvO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gdXRjX3RvX2xvY2FsKHV0Yykge1xuXHRyZXR1cm4gbmV3IERhdGUodXRjLmdldFVUQ0Z1bGxZZWFyKCksIHV0Yy5nZXRVVENNb250aCgpLCB1dGMuZ2V0VVRDRGF0ZSgpLCB1dGMuZ2V0VVRDSG91cnMoKSwgdXRjLmdldFVUQ01pbnV0ZXMoKSwgdXRjLmdldFVUQ1NlY29uZHMoKSwgdXRjLmdldFVUQ01pbGxpc2Vjb25kcygpKTtcbn1cbmZ1bmN0aW9uIGxvY2FsX3RvX3V0Yyhsb2NhbCkge1xuXHRyZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMobG9jYWwuZ2V0RnVsbFllYXIoKSwgbG9jYWwuZ2V0TW9udGgoKSwgbG9jYWwuZ2V0RGF0ZSgpLCBsb2NhbC5nZXRIb3VycygpLCBsb2NhbC5nZXRNaW51dGVzKCksIGxvY2FsLmdldFNlY29uZHMoKSwgbG9jYWwuZ2V0TWlsbGlzZWNvbmRzKCkpKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlX2RvY3R5cGUoc3RyKSB7XG5cdHZhciBwcmVhbWJsZSA9IHN0ci5zbGljZSgwLCAxMDI0KTtcblx0dmFyIHNpID0gcHJlYW1ibGUuaW5kZXhPZihcIjwhRE9DVFlQRVwiKTtcblx0aWYoc2kgPT0gLTEpIHJldHVybiBzdHI7XG5cdHZhciBtID0gc3RyLm1hdGNoKC88W1xcd10vKTtcblx0aWYoIW0pIHJldHVybiBzdHI7XG5cdHJldHVybiBzdHIuc2xpY2UoMCwgc2kpICsgc3RyLnNsaWNlKG0uaW5kZXgpO1xufVxuXG4vKiBzdHIubWF0Y2goLzwhLS1bXFxzXFxTXSo/LS0+L2cpIC0tPiBzdHJfbWF0Y2hfbmcoc3RyLCBcIjwhLS1cIiwgXCItLT5cIikgKi9cbmZ1bmN0aW9uIHN0cl9tYXRjaF9uZyhzdHIsIHMsIGUpIHtcbiAgdmFyIG91dCA9IFtdO1xuXG4gIHZhciBzaSA9IHN0ci5pbmRleE9mKHMpO1xuICB3aGlsZShzaSA+IC0xKSB7XG4gICAgdmFyIGVpID0gc3RyLmluZGV4T2YoZSwgc2kgKyBzLmxlbmd0aCk7XG5cdFx0aWYoZWkgPT0gLTEpIGJyZWFrO1xuXG5cdFx0b3V0LnB1c2goc3RyLnNsaWNlKHNpLCBlaSArIGUubGVuZ3RoKSk7XG5cdFx0c2kgPSBzdHIuaW5kZXhPZihzLCBlaSArIGUubGVuZ3RoKTtcblx0fVxuXG4gIHJldHVybiBvdXQubGVuZ3RoID4gMCA/IG91dCA6IG51bGw7XG59XG5cbi8qIHN0ci5yZXBsYWNlKC88IS0tW1xcc1xcU10qPy0tPi9nLCBcIlwiKSAtLT4gc3RyX3JlbW92ZV9uZyhzdHIsIFwiPCEtLVwiLCBcIi0tPlwiKSAqL1xuZnVuY3Rpb24gc3RyX3JlbW92ZV9uZyhzdHIsIHMsIGUpIHtcbiAgdmFyIG91dCA9IFtdLCBsYXN0ID0gMDtcblxuICB2YXIgc2kgPSBzdHIuaW5kZXhPZihzKTtcblx0aWYoc2kgPT0gLTEpIHJldHVybiBzdHI7XG4gIHdoaWxlKHNpID4gLTEpIHtcblx0XHRvdXQucHVzaChzdHIuc2xpY2UobGFzdCwgc2kpKTtcbiAgICB2YXIgZWkgPSBzdHIuaW5kZXhPZihlLCBzaSArIHMubGVuZ3RoKTtcblx0XHRpZihlaSA9PSAtMSkgYnJlYWs7XG5cblx0XHRpZigoc2kgPSBzdHIuaW5kZXhPZihzLCAobGFzdCA9IGVpICsgZS5sZW5ndGgpKSkgPT0gLTEpIG91dC5wdXNoKHN0ci5zbGljZShsYXN0KSk7XG5cdH1cblxuICByZXR1cm4gb3V0LmpvaW4oXCJcIik7XG59XG5cbi8qIHN0ci5tYXRjaCgvPHRhZ1xcYltePl0qPz4oW1xcc1xcU10qPyk8L3RhZz4vKSAtLT4gc3RyX21hdGNoX3htbChzdHIsIFwidGFnXCIpICovXG52YXIgeG1sX2JvdW5kYXJ5ID0geyBcIiBcIjogMSwgXCJcXHRcIjogMSwgXCJcXHJcIjogMSwgXCJcXG5cIjogMSwgXCI+XCI6IDEgfTtcbmZ1bmN0aW9uIHN0cl9tYXRjaF94bWwoc3RyLCB0YWcpIHtcblx0dmFyIHNpID0gc3RyLmluZGV4T2YoJzwnICsgdGFnKSwgdyA9IHRhZy5sZW5ndGggKyAxLCBMID0gc3RyLmxlbmd0aDtcblx0d2hpbGUoc2kgPj0gMCAmJiBzaSA8PSBMIC0gdyAmJiAheG1sX2JvdW5kYXJ5W3N0ci5jaGFyQXQoc2kgKyB3KV0pIHNpID0gc3RyLmluZGV4T2YoJzwnICsgdGFnLCBzaSsxKTtcblx0aWYoc2kgPT09IC0xKSByZXR1cm4gbnVsbDtcblx0dmFyIHNmID0gc3RyLmluZGV4T2YoXCI+XCIsIHNpICsgdGFnLmxlbmd0aCk7XG5cdGlmKHNmID09PSAtMSkgcmV0dXJuIG51bGw7XG5cdHZhciBldCA9IFwiPC9cIiArIHRhZyArIFwiPlwiO1xuXHR2YXIgZWkgPSBzdHIuaW5kZXhPZihldCwgc2YpO1xuXHRpZihlaSA9PSAtMSkgcmV0dXJuIG51bGw7XG5cdHJldHVybiBbc3RyLnNsaWNlKHNpLCBlaSArIGV0Lmxlbmd0aCksIHN0ci5zbGljZShzZiArIDEsIGVpKV07XG59XG5cbi8qIHN0ci5tYXRjaCgvPCg/Olxcdys6KT90YWdcXGJbXjw+XSo/PihbXFxzXFxTXSo/KTxcXC8oPzpcXHcrOik/dGFnPi8pIC0tPiBzdHJfbWF0Y2hfeG1sKHN0ciwgXCJ0YWdcIikgKi9cbnZhciBzdHJfbWF0Y2hfeG1sX25zID0gLyojX19QVVJFX18qLyhmdW5jdGlvbigpIHtcblx0dmFyIHN0cl9tYXRjaF94bWxfbnNfY2FjaGUgPSB7fTtcblx0cmV0dXJuIGZ1bmN0aW9uIHN0cl9tYXRjaF94bWxfbnMoc3RyLCB0YWcpIHtcblx0XHR2YXIgcmVzID0gc3RyX21hdGNoX3htbF9uc19jYWNoZVt0YWddO1xuXHRcdGlmKCFyZXMpIHN0cl9tYXRjaF94bWxfbnNfY2FjaGVbdGFnXSA9IHJlcyA9IFtcblx0XHRcdG5ldyBSZWdFeHAoJzwoPzpcXFxcdys6KT8nK3RhZysnXFxcXGJbXjw+XSo+JywgXCJnXCIpLFxuXHRcdFx0bmV3IFJlZ0V4cCgnPC8oPzpcXFxcdys6KT8nK3RhZysnPicsIFwiZ1wiKVxuXHRcdF07XG5cdFx0cmVzWzBdLmxhc3RJbmRleCA9IHJlc1sxXS5sYXN0SW5kZXggPSAwO1xuXHRcdHZhciBtID0gcmVzWzBdLmV4ZWMoc3RyKTtcblx0XHRpZighbSkgcmV0dXJuIG51bGw7XG5cdFx0dmFyIHNpID0gbS5pbmRleDtcblx0XHR2YXIgc2YgPSByZXNbMF0ubGFzdEluZGV4O1xuXHRcdHJlc1sxXS5sYXN0SW5kZXggPSByZXNbMF0ubGFzdEluZGV4O1xuXHRcdG0gPSByZXNbMV0uZXhlYyhzdHIpO1xuXHRcdGlmKCFtKSByZXR1cm4gbnVsbDtcblx0XHR2YXIgZWkgPSBtLmluZGV4O1xuXHRcdHZhciBlZiA9IHJlc1sxXS5sYXN0SW5kZXg7XG5cdFx0cmV0dXJuIFtzdHIuc2xpY2Uoc2ksIGVmKSwgc3RyLnNsaWNlKHNmLCBlaSldO1xuXHR9O1xufSkoKTtcblxuLyogc3RyLm1hdGNoKC88KD86XFx3KzopP3RhZ1xcYltePD5dKj8+KFtcXHNcXFNdKj8pPFxcLyg/Olxcdys6KT90YWc+L2cpIC0tPiBzdHJfbWF0Y2hfeG1sX25zX2coc3RyLCBcInRhZ1wiKSAqL1xudmFyIHN0cl9tYXRjaF94bWxfbnNfZyA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKSB7XG5cdHZhciBzdHJfbWF0Y2hfeG1sX25zX2NhY2hlID0ge307XG5cdHJldHVybiBmdW5jdGlvbiBzdHJfbWF0Y2hfeG1sX25zKHN0ciwgdGFnKSB7XG5cdFx0dmFyIG91dCA9IFtdO1xuXHRcdHZhciByZXMgPSBzdHJfbWF0Y2hfeG1sX25zX2NhY2hlW3RhZ107XG5cdFx0aWYoIXJlcykgc3RyX21hdGNoX3htbF9uc19jYWNoZVt0YWddID0gcmVzID0gW1xuXHRcdFx0bmV3IFJlZ0V4cCgnPCg/OlxcXFx3KzopPycrdGFnKydcXFxcYltePD5dKj4nLCBcImdcIiksXG5cdFx0XHRuZXcgUmVnRXhwKCc8Lyg/OlxcXFx3KzopPycrdGFnKyc+JywgXCJnXCIpXG5cdFx0XTtcblx0XHRyZXNbMF0ubGFzdEluZGV4ID0gcmVzWzFdLmxhc3RJbmRleCA9IDA7XG5cdFx0dmFyIG07XG5cdFx0d2hpbGUoKG0gPSByZXNbMF0uZXhlYyhzdHIpKSkge1xuXHRcdFx0dmFyIHNpID0gbS5pbmRleDtcblx0XHRcdHJlc1sxXS5sYXN0SW5kZXggPSByZXNbMF0ubGFzdEluZGV4O1xuXHRcdFx0bSA9IHJlc1sxXS5leGVjKHN0cik7XG5cdFx0XHRpZighbSkgcmV0dXJuIG51bGw7XG5cdFx0XHR2YXIgZWYgPSByZXNbMV0ubGFzdEluZGV4O1xuXHRcdFx0b3V0LnB1c2goc3RyLnNsaWNlKHNpLCBlZikpO1xuXHRcdFx0cmVzWzBdLmxhc3RJbmRleCA9IHJlc1sxXS5sYXN0SW5kZXg7XG5cdFx0fVxuXHRcdHJldHVybiBvdXQubGVuZ3RoID09IDAgPyBudWxsIDogb3V0O1xuXHR9O1xufSkoKTtcbnZhciBzdHJfcmVtb3ZlX3htbF9uc19nID0gLyojX19QVVJFX18qLyhmdW5jdGlvbigpIHtcblx0dmFyIHN0cl9yZW1vdmVfeG1sX25zX2NhY2hlID0ge307XG5cdHJldHVybiBmdW5jdGlvbiBzdHJfcmVtb3ZlX3htbF9uc19nKHN0ciwgdGFnKSB7XG5cdFx0dmFyIG91dCA9IFtdO1xuXHRcdHZhciByZXMgPSBzdHJfcmVtb3ZlX3htbF9uc19jYWNoZVt0YWddO1xuXHRcdGlmKCFyZXMpIHN0cl9yZW1vdmVfeG1sX25zX2NhY2hlW3RhZ10gPSByZXMgPSBbXG5cdFx0XHRuZXcgUmVnRXhwKCc8KD86XFxcXHcrOik/Jyt0YWcrJ1xcXFxiW148Pl0qPicsIFwiZ1wiKSxcblx0XHRcdG5ldyBSZWdFeHAoJzwvKD86XFxcXHcrOik/Jyt0YWcrJz4nLCBcImdcIilcblx0XHRdO1xuXHRcdHJlc1swXS5sYXN0SW5kZXggPSByZXNbMV0ubGFzdEluZGV4ID0gMDtcblx0XHR2YXIgbTtcblx0XHR2YXIgc2kgPSAwLCBlZiA9IDA7XG5cdFx0d2hpbGUoKG0gPSByZXNbMF0uZXhlYyhzdHIpKSkge1xuXHRcdFx0c2kgPSBtLmluZGV4O1xuXHRcdFx0b3V0LnB1c2goc3RyLnNsaWNlKGVmLCBzaSkpO1xuXHRcdFx0ZWYgPSBzaTtcblx0XHRcdHJlc1sxXS5sYXN0SW5kZXggPSByZXNbMF0ubGFzdEluZGV4O1xuXHRcdFx0bSA9IHJlc1sxXS5leGVjKHN0cik7XG5cdFx0XHRpZighbSkgcmV0dXJuIG51bGw7XG5cdFx0XHRlZiA9IHJlc1sxXS5sYXN0SW5kZXg7XG5cdFx0XHRyZXNbMF0ubGFzdEluZGV4ID0gcmVzWzFdLmxhc3RJbmRleDtcblx0XHR9XG5cdFx0b3V0LnB1c2goc3RyLnNsaWNlKGVmKSk7XG5cdFx0cmV0dXJuIG91dC5sZW5ndGggPT0gMCA/IFwiXCIgOiBvdXQuam9pbihcIlwiKTtcblx0fTtcbn0pKCk7XG5cbi8qIHN0ci5tYXRjaCgvPCg/Olxcdys6KT90YWdcXGJbXj5dKj8+KFtcXHNcXFNdKj8pPFxcLyg/Olxcdys6KT90YWc+L2dpKSAtLT4gc3RyX21hdGNoX3htbF9uc19pZyhzdHIsIFwidGFnXCIpICovXG52YXIgc3RyX21hdGNoX3htbF9pZyA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKSB7XG5cdHZhciBzdHJfbWF0Y2hfeG1sX25zX2NhY2hlID0ge307XG5cdHJldHVybiBmdW5jdGlvbiBzdHJfbWF0Y2hfeG1sX25zKHN0ciwgdGFnKSB7XG5cdFx0dmFyIG91dCA9IFtdO1xuXHRcdHZhciByZXMgPSBzdHJfbWF0Y2hfeG1sX25zX2NhY2hlW3RhZ107XG5cdFx0aWYoIXJlcykgc3RyX21hdGNoX3htbF9uc19jYWNoZVt0YWddID0gcmVzID0gW1xuXHRcdFx0bmV3IFJlZ0V4cCgnPCcrdGFnKydcXFxcYltePD5dKj4nLCBcImlnXCIpLFxuXHRcdFx0bmV3IFJlZ0V4cCgnPC8nK3RhZysnPicsIFwiaWdcIilcblx0XHRdO1xuXHRcdHJlc1swXS5sYXN0SW5kZXggPSByZXNbMV0ubGFzdEluZGV4ID0gMDtcblx0XHR2YXIgbTtcblx0XHR3aGlsZSgobSA9IHJlc1swXS5leGVjKHN0cikpKSB7XG5cdFx0XHR2YXIgc2kgPSBtLmluZGV4O1xuXHRcdFx0cmVzWzFdLmxhc3RJbmRleCA9IHJlc1swXS5sYXN0SW5kZXg7XG5cdFx0XHRtID0gcmVzWzFdLmV4ZWMoc3RyKTtcblx0XHRcdGlmKCFtKSByZXR1cm4gbnVsbDtcblx0XHRcdHZhciBlZiA9IHJlc1sxXS5sYXN0SW5kZXg7XG5cdFx0XHRvdXQucHVzaChzdHIuc2xpY2Uoc2ksIGVmKSk7XG5cdFx0XHRyZXNbMF0ubGFzdEluZGV4ID0gcmVzWzFdLmxhc3RJbmRleDtcblx0XHR9XG5cdFx0cmV0dXJuIG91dC5sZW5ndGggPT0gMCA/IG51bGwgOiBvdXQ7XG5cdH07XG59KSgpO1xuZnVuY3Rpb24gZ2V0ZGF0YXN0cihkYXRhKS8qOj9zdHJpbmcqLyB7XG5cdGlmKCFkYXRhKSByZXR1cm4gbnVsbDtcblx0aWYoZGF0YS5jb250ZW50ICYmIGRhdGEudHlwZSkgcmV0dXJuIGNjMnN0cihkYXRhLmNvbnRlbnQsIHRydWUpO1xuXHRpZihkYXRhLmRhdGEpIHJldHVybiBkZWJvbShkYXRhLmRhdGEpO1xuXHRpZihkYXRhLmFzTm9kZUJ1ZmZlciAmJiBoYXNfYnVmKSByZXR1cm4gZGVib20oZGF0YS5hc05vZGVCdWZmZXIoKS50b1N0cmluZygnYmluYXJ5JykpO1xuXHRpZihkYXRhLmFzQmluYXJ5KSByZXR1cm4gZGVib20oZGF0YS5hc0JpbmFyeSgpKTtcblx0aWYoZGF0YS5fZGF0YSAmJiBkYXRhLl9kYXRhLmdldENvbnRlbnQpIHJldHVybiBkZWJvbShjYzJzdHIoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGF0YS5fZGF0YS5nZXRDb250ZW50KCksMCkpKTtcblx0cmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldGRhdGFiaW4oZGF0YSkge1xuXHRpZighZGF0YSkgcmV0dXJuIG51bGw7XG5cdGlmKGRhdGEuZGF0YSkgcmV0dXJuIGNoYXJfY29kZXMoZGF0YS5kYXRhKTtcblx0aWYoZGF0YS5hc05vZGVCdWZmZXIgJiYgaGFzX2J1ZikgcmV0dXJuIGRhdGEuYXNOb2RlQnVmZmVyKCk7XG5cdGlmKGRhdGEuX2RhdGEgJiYgZGF0YS5fZGF0YS5nZXRDb250ZW50KSB7XG5cdFx0dmFyIG8gPSBkYXRhLl9kYXRhLmdldENvbnRlbnQoKTtcblx0XHRpZih0eXBlb2YgbyA9PSBcInN0cmluZ1wiKSByZXR1cm4gY2hhcl9jb2RlcyhvKTtcblx0XHRyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobyk7XG5cdH1cblx0aWYoZGF0YS5jb250ZW50ICYmIGRhdGEudHlwZSkgcmV0dXJuIGRhdGEuY29udGVudDtcblx0cmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldGRhdGEoZGF0YSkgeyByZXR1cm4gKGRhdGEgJiYgZGF0YS5uYW1lLnNsaWNlKC00KSA9PT0gXCIuYmluXCIpID8gZ2V0ZGF0YWJpbihkYXRhKSA6IGdldGRhdGFzdHIoZGF0YSk7IH1cblxuLyogUGFydCAyIFNlY3Rpb24gMTAuMS4yIFwiTWFwcGluZyBDb250ZW50IFR5cGVzXCIgTmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgKi9cbi8qIE9BU0lTIGRvZXMgbm90IGNvbW1lbnQgb24gZmlsZW5hbWUgY2FzZSBzZW5zaXRpdml0eSAqL1xuZnVuY3Rpb24gc2FmZWdldHppcGZpbGUoemlwLCBmaWxlLyo6c3RyaW5nKi8pIHtcblx0dmFyIGsgPSB6aXAuRnVsbFBhdGhzIHx8IGtleXMoemlwLmZpbGVzKTtcblx0dmFyIGYgPSBmaWxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW1xcL10vZywgJ1xcXFwnKSwgZyA9IGYucmVwbGFjZSgvXFxcXC9nLCdcXC8nKTtcblx0Zm9yKHZhciBpPTA7IGk8ay5sZW5ndGg7ICsraSkge1xuXHRcdHZhciBuID0ga1tpXS5yZXBsYWNlKC9eUm9vdCBFbnRyeVtcXC9dLyxcIlwiKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGlmKGYgPT0gbiB8fCBnID09IG4pIHJldHVybiB6aXAuZmlsZXMgPyB6aXAuZmlsZXNba1tpXV0gOiB6aXAuRmlsZUluZGV4W2ldO1xuXHR9XG5cdHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXR6aXBmaWxlKHppcCwgZmlsZS8qOnN0cmluZyovKSB7XG5cdHZhciBvID0gc2FmZWdldHppcGZpbGUoemlwLCBmaWxlKTtcblx0aWYobyA9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBmaWxlIFwiICsgZmlsZSArIFwiIGluIHppcFwiKTtcblx0cmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIGdldHppcGRhdGEoemlwLCBmaWxlLyo6c3RyaW5nKi8sIHNhZmUvKjo/Ym9vbGVhbiovKS8qOmFueSovIHtcblx0aWYoIXNhZmUpIHJldHVybiBnZXRkYXRhKGdldHppcGZpbGUoemlwLCBmaWxlKSk7XG5cdGlmKCFmaWxlKSByZXR1cm4gbnVsbDtcblx0dHJ5IHsgcmV0dXJuIGdldHppcGRhdGEoemlwLCBmaWxlKTsgfSBjYXRjaChlKSB7IHJldHVybiBudWxsOyB9XG59XG5cbmZ1bmN0aW9uIGdldHppcHN0cih6aXAsIGZpbGUvKjpzdHJpbmcqLywgc2FmZS8qOj9ib29sZWFuKi8pLyo6P3N0cmluZyovIHtcblx0aWYoIXNhZmUpIHJldHVybiBnZXRkYXRhc3RyKGdldHppcGZpbGUoemlwLCBmaWxlKSk7XG5cdGlmKCFmaWxlKSByZXR1cm4gbnVsbDtcblx0dHJ5IHsgcmV0dXJuIGdldHppcHN0cih6aXAsIGZpbGUpOyB9IGNhdGNoKGUpIHsgcmV0dXJuIG51bGw7IH1cbn1cblxuZnVuY3Rpb24gZ2V0emlwYmluKHppcCwgZmlsZS8qOnN0cmluZyovLCBzYWZlLyo6P2Jvb2xlYW4qLykvKjphbnkqLyB7XG5cdGlmKCFzYWZlKSByZXR1cm4gZ2V0ZGF0YWJpbihnZXR6aXBmaWxlKHppcCwgZmlsZSkpO1xuXHRpZighZmlsZSkgcmV0dXJuIG51bGw7XG5cdHRyeSB7IHJldHVybiBnZXR6aXBiaW4oemlwLCBmaWxlKTsgfSBjYXRjaChlKSB7IHJldHVybiBudWxsOyB9XG59XG5cbmZ1bmN0aW9uIHppcGVudHJpZXMoemlwKSB7XG5cdHZhciBrID0gemlwLkZ1bGxQYXRocyB8fCBrZXlzKHppcC5maWxlcyksIG8gPSBbXTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGsubGVuZ3RoOyArK2kpIGlmKGtbaV0uc2xpY2UoLTEpICE9ICcvJykgby5wdXNoKGtbaV0ucmVwbGFjZSgvXlJvb3QgRW50cnlbXFwvXS8sIFwiXCIpKTtcblx0cmV0dXJuIG8uc29ydCgpO1xufVxuXG5mdW5jdGlvbiB6aXBfYWRkX2ZpbGUoemlwLCBwYXRoLCBjb250ZW50KSB7XG5cdGlmKHppcC5GdWxsUGF0aHMpIHtcblx0XHRpZihBcnJheS5pc0FycmF5KGNvbnRlbnQpICYmIHR5cGVvZiBjb250ZW50WzBdID09IFwic3RyaW5nXCIpIHtcblx0XHRcdGNvbnRlbnQgPSBjb250ZW50LmpvaW4oXCJcIik7XG5cdFx0fVxuXHRcdGlmKHR5cGVvZiBjb250ZW50ID09IFwic3RyaW5nXCIpIHtcblx0XHRcdHZhciByZXM7XG5cdFx0XHRpZihoYXNfYnVmKSByZXMgPSBCdWZmZXJfZnJvbShjb250ZW50KTtcblx0XHRcdC8qIFRPRE86IGludmVzdGlnYXRlIHBlcmZvcm1hbmNlIGluIEVkZ2UgMTMgKi9cblx0XHRcdC8vZWxzZSBpZih0eXBlb2YgVGV4dEVuY29kZXIgIT09IFwidW5kZWZpbmVkXCIpIHJlcyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShjb250ZW50KTtcblx0XHRcdGVsc2UgcmVzID0gdXRmOGRlY29kZShjb250ZW50KTtcblx0XHRcdHJldHVybiBDRkIudXRpbHMuY2ZiX2FkZCh6aXAsIHBhdGgsIHJlcyk7XG5cdFx0fVxuXHRcdENGQi51dGlscy5jZmJfYWRkKHppcCwgcGF0aCwgY29udGVudCk7XG5cdH1cblx0ZWxzZSB6aXAuZmlsZShwYXRoLCBjb250ZW50KTtcbn1cblxuZnVuY3Rpb24gemlwX25ldygpIHsgcmV0dXJuIENGQi51dGlscy5jZmJfbmV3KCk7IH1cblxuZnVuY3Rpb24gemlwX3JlYWQoZCwgbykge1xuXHRzd2l0Y2goby50eXBlKSB7XG5cdFx0Y2FzZSBcImJhc2U2NFwiOiByZXR1cm4gQ0ZCLnJlYWQoZCwgeyB0eXBlOiBcImJhc2U2NFwiIH0pO1xuXHRcdGNhc2UgXCJiaW5hcnlcIjogcmV0dXJuIENGQi5yZWFkKGQsIHsgdHlwZTogXCJiaW5hcnlcIiB9KTtcblx0XHRjYXNlIFwiYnVmZmVyXCI6IGNhc2UgXCJhcnJheVwiOiByZXR1cm4gQ0ZCLnJlYWQoZCwgeyB0eXBlOiBcImJ1ZmZlclwiIH0pO1xuXHR9XG5cdHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCB0eXBlIFwiICsgby50eXBlKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZV9wYXRoKHBhdGgvKjpzdHJpbmcqLywgYmFzZS8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0aWYocGF0aC5jaGFyQXQoMCkgPT0gXCIvXCIpIHJldHVybiBwYXRoLnNsaWNlKDEpO1xuXHR2YXIgcmVzdWx0ID0gYmFzZS5zcGxpdCgnLycpO1xuXHRpZihiYXNlLnNsaWNlKC0xKSAhPSBcIi9cIikgcmVzdWx0LnBvcCgpOyAvLyBmb2xkZXIgcGF0aFxuXHR2YXIgdGFyZ2V0ID0gcGF0aC5zcGxpdCgnLycpO1xuXHR3aGlsZSAodGFyZ2V0Lmxlbmd0aCAhPT0gMCkge1xuXHRcdHZhciBzdGVwID0gdGFyZ2V0LnNoaWZ0KCk7XG5cdFx0aWYgKHN0ZXAgPT09ICcuLicpIHJlc3VsdC5wb3AoKTtcblx0XHRlbHNlIGlmIChzdGVwICE9PSAnLicpIHJlc3VsdC5wdXNoKHN0ZXApO1xuXHR9XG5cdHJldHVybiByZXN1bHQuam9pbignLycpO1xufVxudmFyIFhNTF9IRUFERVIgPSAnPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwieWVzXCI/Plxcclxcbic7XG52YXIgYXR0cmVnZXhnPS9cXHMoW15cIlxccz8+XFwvXSspXFxzKj1cXHMqKCg/OlwiKShbXlwiXSopKD86XCIpfCg/OicpKFteJ10qKSg/OicpfChbXidcIj5cXHNdKykpL2c7XG52YXIgdGFncmVnZXgxPS88W1xcL1xcP10/W2EtekEtWjAtOTpfLV0rKD86XFxzK1teXCJcXHM/PD5cXC9dK1xccyo9XFxzKig/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXidcIjw+XFxzPV0rKSkqXFxzKltcXC9cXD9dPz4vbWcsIHRhZ3JlZ2V4MiA9IC88W148Pl0qPi9nO1xudmFyIHRhZ3JlZ2V4ID0gLyojX19QVVJFX18qL1hNTF9IRUFERVIubWF0Y2godGFncmVnZXgxKSA/IHRhZ3JlZ2V4MSA6IHRhZ3JlZ2V4MjtcbnZhciBuc3JlZ2V4PS88XFx3KjovLCBuc3JlZ2V4MiA9IC88KFxcLz8pXFx3KzovO1xuZnVuY3Rpb24gcGFyc2V4bWx0YWcodGFnLyo6c3RyaW5nKi8sIHNraXBfcm9vdC8qOj9ib29sZWFuKi8sIHNraXBfTEMvKjo/Ym9vbGVhbiovKS8qOmFueSovIHtcblx0dmFyIHogPSAoe30vKjphbnkqLyk7XG5cdHZhciBlcSA9IDAsIGMgPSAwO1xuXHRmb3IoOyBlcSAhPT0gdGFnLmxlbmd0aDsgKytlcSkgaWYoKGMgPSB0YWcuY2hhckNvZGVBdChlcSkpID09PSAzMiB8fCBjID09PSAxMCB8fCBjID09PSAxMykgYnJlYWs7XG5cdGlmKCFza2lwX3Jvb3QpIHpbMF0gPSB0YWcuc2xpY2UoMCwgZXEpO1xuXHRpZihlcSA9PT0gdGFnLmxlbmd0aCkgcmV0dXJuIHo7XG5cdHZhciBtID0gdGFnLm1hdGNoKGF0dHJlZ2V4ZyksIGo9MCwgdj1cIlwiLCBpPTAsIHE9XCJcIiwgY2M9XCJcIiwgcXVvdCA9IDE7XG5cdGlmKG0pIGZvcihpID0gMDsgaSAhPSBtLmxlbmd0aDsgKytpKSB7XG5cdFx0Y2MgPSBtW2ldLnNsaWNlKDEpO1xuXHRcdGZvcihjPTA7IGMgIT0gY2MubGVuZ3RoOyArK2MpIGlmKGNjLmNoYXJDb2RlQXQoYykgPT09IDYxKSBicmVhaztcblx0XHRxID0gY2Muc2xpY2UoMCxjKS50cmltKCk7XG5cdFx0d2hpbGUoY2MuY2hhckNvZGVBdChjKzEpID09IDMyKSArK2M7XG5cdFx0cXVvdCA9ICgoZXE9Y2MuY2hhckNvZGVBdChjKzEpKSA9PSAzNCB8fCBlcSA9PSAzOSkgPyAxIDogMDtcblx0XHR2ID0gY2Muc2xpY2UoYysxK3F1b3QsIGNjLmxlbmd0aC1xdW90KTtcblx0XHRmb3Ioaj0wO2ohPXEubGVuZ3RoOysraikgaWYocS5jaGFyQ29kZUF0KGopID09PSA1OCkgYnJlYWs7XG5cdFx0aWYoaj09PXEubGVuZ3RoKSB7XG5cdFx0XHRpZihxLmluZGV4T2YoXCJfXCIpID4gMCkgcSA9IHEuc2xpY2UoMCwgcS5pbmRleE9mKFwiX1wiKSk7IC8vIGZyb20gb2RzXG5cdFx0XHR6W3FdID0gdjtcblx0XHRcdGlmKCFza2lwX0xDKSB6W3EudG9Mb3dlckNhc2UoKV0gPSB2O1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHZhciBrID0gKGo9PT01ICYmIHEuc2xpY2UoMCw1KT09PVwieG1sbnNcIj9cInhtbG5zXCI6XCJcIikrcS5zbGljZShqKzEpO1xuXHRcdFx0aWYoeltrXSAmJiBxLnNsaWNlKGotMyxqKSA9PSBcImV4dFwiKSBjb250aW51ZTsgLy8gZnJvbSBvZHNcblx0XHRcdHpba10gPSB2O1xuXHRcdFx0aWYoIXNraXBfTEMpIHpbay50b0xvd2VyQ2FzZSgpXSA9IHY7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB6O1xufVxuZnVuY3Rpb24gcGFyc2V4bWx0YWdyYXcodGFnLyo6c3RyaW5nKi8sIHNraXBfcm9vdC8qOj9ib29sZWFuKi8sIHNraXBfTEMvKjo/Ym9vbGVhbiovKS8qOmFueSovIHtcblx0dmFyIHogPSAoe30vKjphbnkqLyk7XG5cdHZhciBlcSA9IDAsIGMgPSAwO1xuXHRmb3IoOyBlcSAhPT0gdGFnLmxlbmd0aDsgKytlcSkgaWYoKGMgPSB0YWcuY2hhckNvZGVBdChlcSkpID09PSAzMiB8fCBjID09PSAxMCB8fCBjID09PSAxMykgYnJlYWs7XG5cdGlmKCFza2lwX3Jvb3QpIHpbMF0gPSB0YWcuc2xpY2UoMCwgZXEpO1xuXHRpZihlcSA9PT0gdGFnLmxlbmd0aCkgcmV0dXJuIHo7XG5cdHZhciBtID0gdGFnLm1hdGNoKGF0dHJlZ2V4ZyksIGo9MCwgdj1cIlwiLCBpPTAsIHE9XCJcIiwgY2M9XCJcIiwgcXVvdCA9IDE7XG5cdGlmKG0pIGZvcihpID0gMDsgaSAhPSBtLmxlbmd0aDsgKytpKSB7XG5cdFx0Y2MgPSBtW2ldLnNsaWNlKDEpO1xuXHRcdGZvcihjPTA7IGMgIT0gY2MubGVuZ3RoOyArK2MpIGlmKGNjLmNoYXJDb2RlQXQoYykgPT09IDYxKSBicmVhaztcblx0XHRxID0gY2Muc2xpY2UoMCxjKS50cmltKCk7XG5cdFx0d2hpbGUoY2MuY2hhckNvZGVBdChjKzEpID09IDMyKSArK2M7XG5cdFx0cXVvdCA9ICgoZXE9Y2MuY2hhckNvZGVBdChjKzEpKSA9PSAzNCB8fCBlcSA9PSAzOSkgPyAxIDogMDtcblx0XHR2ID0gY2Muc2xpY2UoYysxK3F1b3QsIGNjLmxlbmd0aC1xdW90KTtcblx0XHRpZihxLmluZGV4T2YoXCJfXCIpID4gMCkgcSA9IHEuc2xpY2UoMCwgcS5pbmRleE9mKFwiX1wiKSk7IC8vIGZyb20gb2RzXG5cdFx0eltxXSA9IHY7XG5cdFx0aWYoIXNraXBfTEMpIHpbcS50b0xvd2VyQ2FzZSgpXSA9IHY7XG5cdH1cblx0cmV0dXJuIHo7XG59XG5mdW5jdGlvbiBzdHJpcF9ucyh4Lyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8geyByZXR1cm4geC5yZXBsYWNlKG5zcmVnZXgyLCBcIjwkMVwiKTsgfVxuXG52YXIgZW5jb2RpbmdzID0ge1xuXHQnJnF1b3Q7JzogJ1wiJyxcblx0JyZhcG9zOyc6IFwiJ1wiLFxuXHQnJmd0Oyc6ICc+Jyxcblx0JyZsdDsnOiAnPCcsXG5cdCcmYW1wOyc6ICcmJ1xufTtcbnZhciByZW5jb2RpbmcgPSAvKiNfX1BVUkVfXyovZXZlcnQoZW5jb2RpbmdzKTtcbi8vdmFyIHJlbmNzdHIgPSBcIiY8PidcXFwiXCIuc3BsaXQoXCJcIik7XG5cbi8vIFRPRE86IENQIHJlbWFwIChuZWVkIHRvIHJlYWQgZmlsZSB2ZXJzaW9uIHRvIGRldGVybWluZSBPUylcbnZhciB1bmVzY2FwZXhtbC8qOlN0cmluZ0NvbnYqLyA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKSB7XG5cdC8qIDIyLjQuMi40IGJzdHIgKEJhc2ljIFN0cmluZykgKi9cblx0dmFyIGVuY3JlZ2V4ID0gLyYoPzpxdW90fGFwb3N8Z3R8bHR8YW1wfCN4PyhbXFxkYS1mQS1GXSspKTsvaWcsIGNvZGVyZWdleCA9IC9feChbXFxkYS1mQS1GXXs0fSlfL2lnO1xuXHRmdW5jdGlvbiByYXdfdW5lc2NhcGV4bWwodGV4dC8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0XHR2YXIgcyA9IHRleHQgKyAnJywgaSA9IHMuaW5kZXhPZihcIjwhW0NEQVRBW1wiKTtcblx0XHRpZihpID09IC0xKSByZXR1cm4gcy5yZXBsYWNlKGVuY3JlZ2V4LCBmdW5jdGlvbigkJCwgJDEpIHsgcmV0dXJuIGVuY29kaW5nc1skJF18fFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoJDEsJCQuaW5kZXhPZihcInhcIik+LTE/MTY6MTApKXx8JCQ7IH0pLnJlcGxhY2UoY29kZXJlZ2V4LGZ1bmN0aW9uKG0sYykge3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGMsMTYpKTt9KTtcblx0XHR2YXIgaiA9IHMuaW5kZXhPZihcIl1dPlwiKTtcblx0XHRyZXR1cm4gcmF3X3VuZXNjYXBleG1sKHMuc2xpY2UoMCwgaSkpICsgcy5zbGljZShpKzksaikgKyByYXdfdW5lc2NhcGV4bWwocy5zbGljZShqKzMpKTtcblx0fVxuXHRyZXR1cm4gZnVuY3Rpb24gdW5lc2NhcGV4bWwodGV4dC8qOnN0cmluZyovLCB4bHN4Lyo6Ym9vbGVhbiovKSB7XG5cdFx0dmFyIG91dCA9IHJhd191bmVzY2FwZXhtbCh0ZXh0KTtcblx0XHRyZXR1cm4geGxzeCA/IG91dC5yZXBsYWNlKC9cXHJcXG4vZywgXCJcXG5cIikgOiBvdXQ7XG5cdH07XG59KSgpO1xuXG52YXIgZGVjcmVnZXg9L1smPD4nXCJdL2csIGNoYXJlZ2V4ID0gL1tcXHUwMDAwLVxcdTAwMDhcXHUwMDBiLVxcdTAwMWZcXHVGRkZFLVxcdUZGRkZdL2c7XG5mdW5jdGlvbiBlc2NhcGV4bWwodGV4dC8qOnN0cmluZyovKS8qOnN0cmluZyove1xuXHR2YXIgcyA9IHRleHQgKyAnJztcblx0cmV0dXJuIHMucmVwbGFjZShkZWNyZWdleCwgZnVuY3Rpb24oeSkgeyByZXR1cm4gcmVuY29kaW5nW3ldOyB9KS5yZXBsYWNlKGNoYXJlZ2V4LGZ1bmN0aW9uKHMpIHsgcmV0dXJuIFwiX3hcIiArIChcIjAwMFwiK3MuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KSArIFwiX1wiO30pO1xufVxuZnVuY3Rpb24gZXNjYXBleG1sdGFnKHRleHQvKjpzdHJpbmcqLykvKjpzdHJpbmcqL3sgcmV0dXJuIGVzY2FwZXhtbCh0ZXh0KS5yZXBsYWNlKC8gL2csXCJfeDAwMjBfXCIpOyB9XG5cbnZhciBodG1sY2hhcmVnZXggPSAvW1xcdTAwMDAtXFx1MDAxZl0vZztcbmZ1bmN0aW9uIGVzY2FwZWh0bWwodGV4dC8qOnN0cmluZyovKS8qOnN0cmluZyove1xuXHR2YXIgcyA9IHRleHQgKyAnJztcblx0cmV0dXJuIHMucmVwbGFjZShkZWNyZWdleCwgZnVuY3Rpb24oeSkgeyByZXR1cm4gcmVuY29kaW5nW3ldOyB9KS5yZXBsYWNlKC9cXG4vZywgXCI8YnIvPlwiKS5yZXBsYWNlKGh0bWxjaGFyZWdleCxmdW5jdGlvbihzKSB7IHJldHVybiBcIiYjeFwiICsgKFwiMDAwXCIrcy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpICsgXCI7XCI7IH0pO1xufVxuXG5mdW5jdGlvbiBlc2NhcGV4bG1sKHRleHQvKjpzdHJpbmcqLykvKjpzdHJpbmcqL3tcblx0dmFyIHMgPSB0ZXh0ICsgJyc7XG5cdHJldHVybiBzLnJlcGxhY2UoZGVjcmVnZXgsIGZ1bmN0aW9uKHkpIHsgcmV0dXJuIHJlbmNvZGluZ1t5XTsgfSkucmVwbGFjZShodG1sY2hhcmVnZXgsZnVuY3Rpb24ocykgeyByZXR1cm4gXCImI3hcIiArIChzLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS50b1VwcGVyQ2FzZSgpICsgXCI7XCI7IH0pO1xufVxuXG4vKiBUT0RPOiBoYW5kbGUgY29kZXBhZ2VzICovXG52YXIgeGxtbF9maXhzdHIvKjpTdHJpbmdDb252Ki8gPSAvKiNfX1BVUkVfXyovKGZ1bmN0aW9uKCkge1xuXHR2YXIgZW50cmVnZXggPSAvJiMoXFxkKyk7L2c7XG5cdGZ1bmN0aW9uIGVudHJlcGwoJCQvKjpzdHJpbmcqLywkMS8qOnN0cmluZyovKS8qOnN0cmluZyovIHsgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoJDEsMTApKTsgfVxuXHRyZXR1cm4gZnVuY3Rpb24geGxtbF9maXhzdHIoc3RyLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8geyByZXR1cm4gc3RyLnJlcGxhY2UoZW50cmVnZXgsZW50cmVwbCk7IH07XG59KSgpO1xuZnVuY3Rpb24geGxtbF91bmZpeHN0cihzdHIvKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7IHJldHVybiBzdHIucmVwbGFjZSgvKFxcclxcbnxbXFxyXFxuXSkvZyxcIlxcJiMxMDtcIik7IH1cblxuLyogbm90ZTogeHNkOmJvb2xlYW4gdmFsaWQgdmFsdWVzOiB0cnVlIC8gMSAvIGZhbHNlIC8gMCAqL1xuZnVuY3Rpb24gcGFyc2V4bWxib29sKHZhbHVlLyo6YW55Ki8pLyo6Ym9vbGVhbiovIHtcblx0c3dpdGNoKHZhbHVlKSB7XG5cdFx0Y2FzZSAxOiBjYXNlIHRydWU6ICBjYXNlICcxJzogY2FzZSAndHJ1ZSc6ICByZXR1cm4gdHJ1ZTtcblx0XHRjYXNlIDA6IGNhc2UgZmFsc2U6IGNhc2UgJzAnOiBjYXNlICdmYWxzZSc6IHJldHVybiBmYWxzZTtcblx0XHQvL2RlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgeHNkOmJvb2xlYW4gXCIgKyB2YWx1ZSk7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiB1dGY4cmVhZGEob3JpZy8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0dmFyIG91dCA9IFwiXCIsIGkgPSAwLCBjID0gMCwgZCA9IDAsIGUgPSAwLCBmID0gMCwgdyA9IDA7XG5cdHdoaWxlIChpIDwgb3JpZy5sZW5ndGgpIHtcblx0XHRjID0gb3JpZy5jaGFyQ29kZUF0KGkrKyk7XG5cdFx0aWYgKGMgPCAxMjgpIHsgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7IGNvbnRpbnVlOyB9XG5cdFx0ZCA9IG9yaWcuY2hhckNvZGVBdChpKyspO1xuXHRcdGlmIChjPjE5MSAmJiBjPDIyNCkgeyBmID0gKChjICYgMzEpIDw8IDYpOyBmIHw9IChkICYgNjMpOyBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShmKTsgY29udGludWU7IH1cblx0XHRlID0gb3JpZy5jaGFyQ29kZUF0KGkrKyk7XG5cdFx0aWYgKGMgPCAyNDApIHsgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMTUpIDw8IDEyKSB8ICgoZCAmIDYzKSA8PCA2KSB8IChlICYgNjMpKTsgY29udGludWU7IH1cblx0XHRmID0gb3JpZy5jaGFyQ29kZUF0KGkrKyk7XG5cdFx0dyA9ICgoKGMgJiA3KSA8PCAxOCkgfCAoKGQgJiA2MykgPDwgMTIpIHwgKChlICYgNjMpIDw8IDYpIHwgKGYgJiA2MykpLTY1NTM2O1xuXHRcdG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RDgwMCArICgodz4+PjEwKSYxMDIzKSk7XG5cdFx0b3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhEQzAwICsgKHcmMTAyMykpO1xuXHR9XG5cdHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHV0ZjhyZWFkYihkYXRhKSB7XG5cdHZhciBvdXQgPSBuZXdfcmF3X2J1ZigyKmRhdGEubGVuZ3RoKSwgdywgaSwgaiA9IDEsIGsgPSAwLCB3dz0wLCBjO1xuXHRmb3IoaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSs9aikge1xuXHRcdGogPSAxO1xuXHRcdGlmKChjPWRhdGEuY2hhckNvZGVBdChpKSkgPCAxMjgpIHcgPSBjO1xuXHRcdGVsc2UgaWYoYyA8IDIyNCkgeyB3ID0gKGMmMzEpKjY0KyhkYXRhLmNoYXJDb2RlQXQoaSsxKSY2Myk7IGo9MjsgfVxuXHRcdGVsc2UgaWYoYyA8IDI0MCkgeyB3PShjJjE1KSo0MDk2KyhkYXRhLmNoYXJDb2RlQXQoaSsxKSY2MykqNjQrKGRhdGEuY2hhckNvZGVBdChpKzIpJjYzKTsgaj0zOyB9XG5cdFx0ZWxzZSB7IGogPSA0O1xuXHRcdFx0dyA9IChjICYgNykqMjYyMTQ0KyhkYXRhLmNoYXJDb2RlQXQoaSsxKSY2MykqNDA5NisoZGF0YS5jaGFyQ29kZUF0KGkrMikmNjMpKjY0KyhkYXRhLmNoYXJDb2RlQXQoaSszKSY2Myk7XG5cdFx0XHR3IC09IDY1NTM2OyB3dyA9IDB4RDgwMCArICgodz4+PjEwKSYxMDIzKTsgdyA9IDB4REMwMCArICh3JjEwMjMpO1xuXHRcdH1cblx0XHRpZih3dyAhPT0gMCkgeyBvdXRbaysrXSA9IHd3JjI1NTsgb3V0W2srK10gPSB3dz4+Pjg7IHd3ID0gMDsgfVxuXHRcdG91dFtrKytdID0gdyUyNTY7IG91dFtrKytdID0gdz4+Pjg7XG5cdH1cblx0cmV0dXJuIG91dC5zbGljZSgwLGspLnRvU3RyaW5nKCd1Y3MyJyk7XG59XG5cbmZ1bmN0aW9uIHV0ZjhyZWFkYyhkYXRhKSB7IHJldHVybiBCdWZmZXJfZnJvbShkYXRhLCAnYmluYXJ5JykudG9TdHJpbmcoJ3V0ZjgnKTsgfVxuXG52YXIgdXRmOGNvcnB1cyA9IFwiZm9vIGJhciBiYXpcXHUwMGUyXFx1MDA5OFxcdTAwODNcXHUwMGYwXFx1MDA5ZlxcdTAwOGRcXHUwMGEzXCI7XG52YXIgdXRmOHJlYWQgPSBoYXNfYnVmICYmICgvKiNfX1BVUkVfXyovdXRmOHJlYWRjKHV0Zjhjb3JwdXMpID09IC8qI19fUFVSRV9fKi91dGY4cmVhZGEodXRmOGNvcnB1cykgJiYgdXRmOHJlYWRjIHx8IC8qI19fUFVSRV9fKi91dGY4cmVhZGIodXRmOGNvcnB1cykgPT0gLyojX19QVVJFX18qL3V0ZjhyZWFkYSh1dGY4Y29ycHVzKSAmJiB1dGY4cmVhZGIpIHx8IHV0ZjhyZWFkYTtcblxudmFyIHV0Zjh3cml0ZS8qOlN0cmluZ0NvbnYqLyA9IGhhc19idWYgPyBmdW5jdGlvbihkYXRhKSB7IHJldHVybiBCdWZmZXJfZnJvbShkYXRhLCAndXRmOCcpLnRvU3RyaW5nKFwiYmluYXJ5XCIpOyB9IDogZnVuY3Rpb24ob3JpZy8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0dmFyIG91dC8qOkFycmF5PHN0cmluZz4qLyA9IFtdLCBpID0gMCwgYyA9IDAsIGQgPSAwO1xuXHR3aGlsZShpIDwgb3JpZy5sZW5ndGgpIHtcblx0XHRjID0gb3JpZy5jaGFyQ29kZUF0KGkrKyk7XG5cdFx0c3dpdGNoKHRydWUpIHtcblx0XHRcdGNhc2UgYyA8IDEyODogb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShjKSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBjIDwgMjA0ODpcblx0XHRcdFx0b3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgxOTIgKyAoYyA+PiA2KSkpO1xuXHRcdFx0XHRvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDEyOCArIChjICYgNjMpKSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBjID49IDU1Mjk2ICYmIGMgPCA1NzM0NDpcblx0XHRcdFx0YyAtPSA1NTI5NjsgZCA9IG9yaWcuY2hhckNvZGVBdChpKyspIC0gNTYzMjAgKyAoYzw8MTApO1xuXHRcdFx0XHRvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDI0MCArICgoZCA+PjE4KSAmIDcpKSk7XG5cdFx0XHRcdG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoMTQ0ICsgKChkID4+MTIpICYgNjMpKSk7XG5cdFx0XHRcdG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoMTI4ICsgKChkID4+IDYpICYgNjMpKSk7XG5cdFx0XHRcdG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoMTI4ICsgKGQgJiA2MykpKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDIyNCArIChjID4+IDEyKSkpO1xuXHRcdFx0XHRvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDEyOCArICgoYyA+PiA2KSAmIDYzKSkpO1xuXHRcdFx0XHRvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDEyOCArIChjICYgNjMpKSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBvdXQuam9pbihcIlwiKTtcbn07XG5cbnZhciBodG1sZGVjb2RlLyo6eyhzOnN0cmluZyk6c3RyaW5nfSovID0gLyojX19QVVJFX18qLyhmdW5jdGlvbigpIHtcblx0dmFyIGVudGl0aWVzLyo6QXJyYXk8W1JlZ0V4cCwgc3RyaW5nXT4qLyA9IFtcblx0XHRbJ25ic3AnLCAnICddLCBbJ21pZGRvdCcsICfCtyddLFxuXHRcdFsncXVvdCcsICdcIiddLCBbJ2Fwb3MnLCBcIidcIl0sIFsnZ3QnLCAgICc+J10sIFsnbHQnLCAgICc8J10sIFsnYW1wJywgICcmJ11cblx0XS5tYXAoZnVuY3Rpb24oeC8qOltzdHJpbmcsIHN0cmluZ10qLykgeyByZXR1cm4gW25ldyBSZWdFeHAoJyYnICsgeFswXSArICc7JywgXCJpZ1wiKSwgeFsxXV07IH0pO1xuXHRyZXR1cm4gZnVuY3Rpb24gaHRtbGRlY29kZShzdHIvKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7XG5cdFx0dmFyIG8gPSBzdHJcblx0XHRcdFx0Ly8gUmVtb3ZlIG5ldyBsaW5lcyBhbmQgc3BhY2VzIGZyb20gc3RhcnQgb2YgY29udGVudFxuXHRcdFx0XHQucmVwbGFjZSgvXltcXHRcXG5cXHIgXSsvLCBcIlwiKVxuXHRcdFx0XHQvLyBSZW1vdmUgbmV3IGxpbmVzIGFuZCBzcGFjZXMgZnJvbSBlbmQgb2YgY29udGVudFxuXHRcdFx0XHQucmVwbGFjZSgvKF58W15cXHRcXG5cXHIgXSlbXFx0XFxuXFxyIF0rJC8sXCIkMVwiKVxuXHRcdFx0XHQvLyBBZGRlZCBsaW5lIHdoaWNoIHJlbW92ZXMgYW55IHdoaXRlIHNwYWNlIGNoYXJhY3RlcnMgYWZ0ZXIgYW5kIGJlZm9yZSBodG1sIHRhZ3Ncblx0XHRcdFx0LnJlcGxhY2UoLz5cXHMrL2csXCI+XCIpLnJlcGxhY2UoL1xcYlxccys8L2csXCI8XCIpXG5cdFx0XHRcdC8vIFJlcGxhY2UgcmVtYWluaW5nIG5ldyBsaW5lcyBhbmQgc3BhY2VzIHdpdGggc3BhY2Vcblx0XHRcdFx0LnJlcGxhY2UoL1tcXHRcXG5cXHIgXSsvZywgXCIgXCIpXG5cdFx0XHRcdC8vIFJlcGxhY2UgPGJyPiB0YWdzIHdpdGggbmV3IGxpbmVzXG5cdFx0XHRcdC5yZXBsYWNlKC88XFxzKltiQl1bclJdXFxzKlxcLz8+L2csXCJcXG5cIilcblx0XHRcdFx0Ly8gU3RyaXAgSFRNTCBlbGVtZW50c1xuXHRcdFx0XHQucmVwbGFjZSgvPFtePD5dKj4vZyxcIlwiKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZW50aXRpZXMubGVuZ3RoOyArK2kpIG8gPSBvLnJlcGxhY2UoZW50aXRpZXNbaV1bMF0sIGVudGl0aWVzW2ldWzFdKTtcblx0XHRyZXR1cm4gbztcblx0fTtcbn0pKCk7XG5cbnZhciB2dHZyZWdleCA9IC88XFwvPyg/OnZ0Oik/dmFyaWFudD4vZywgdnRtcmVnZXggPSAvPCg/OnZ0OikoW148XCInPl0qKT4oW1xcc1xcU10qKTwvO1xuZnVuY3Rpb24gcGFyc2VWZWN0b3IoZGF0YS8qOnN0cmluZyovLCBvcHRzKS8qOkFycmF5PHt2OnN0cmluZyx0OnN0cmluZ30+Ki8ge1xuXHR2YXIgaCA9IHBhcnNleG1sdGFnKGRhdGEpO1xuXG5cdHZhciBtYXRjaGVzLyo6QXJyYXk8c3RyaW5nPiovID0gc3RyX21hdGNoX3htbF9uc19nKGRhdGEsIGguYmFzZVR5cGUpfHxbXTtcblx0dmFyIHJlcy8qOkFycmF5PGFueT4qLyA9IFtdO1xuXHRpZihtYXRjaGVzLmxlbmd0aCAhPSBoLnNpemUpIHtcblx0XHRpZihvcHRzLldURikgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCB2ZWN0b3IgbGVuZ3RoIFwiICsgbWF0Y2hlcy5sZW5ndGggKyBcIiAhPSBcIiArIGguc2l6ZSk7XG5cdFx0cmV0dXJuIHJlcztcblx0fVxuXHRtYXRjaGVzLmZvckVhY2goZnVuY3Rpb24oeC8qOnN0cmluZyovKSB7XG5cdFx0dmFyIHYgPSB4LnJlcGxhY2UodnR2cmVnZXgsXCJcIikubWF0Y2godnRtcmVnZXgpO1xuXHRcdGlmKHYpIHJlcy5wdXNoKHt2OnV0ZjhyZWFkKHZbMl0pLCB0OnZbMV19KTtcblx0fSk7XG5cdHJldHVybiByZXM7XG59XG5cbnZhciB3dHJlZ2V4ID0gLyheXFxzfFxccyR8XFxuKS87XG5mdW5jdGlvbiB3cml0ZXRhZyhmLyo6c3RyaW5nKi8sZy8qOnN0cmluZyovKS8qOnN0cmluZyovIHsgcmV0dXJuICc8JyArIGYgKyAoZy5tYXRjaCh3dHJlZ2V4KT8nIHhtbDpzcGFjZT1cInByZXNlcnZlXCInIDogXCJcIikgKyAnPicgKyBnICsgJzwvJyArIGYgKyAnPic7IH1cblxuZnVuY3Rpb24gd3h0X2hlbHBlcihoKS8qOnN0cmluZyovIHsgcmV0dXJuIGtleXMoaCkubWFwKGZ1bmN0aW9uKGspIHsgcmV0dXJuIFwiIFwiICsgayArICc9XCInICsgaFtrXSArICdcIic7fSkuam9pbihcIlwiKTsgfVxuZnVuY3Rpb24gd3JpdGV4dGFnKGYvKjpzdHJpbmcqLyxnLyo6P3N0cmluZyovLGgpIHsgcmV0dXJuICc8JyArIGYgKyAoKGggIT0gbnVsbCkgPyB3eHRfaGVscGVyKGgpIDogXCJcIikgKyAoKGcgIT0gbnVsbCkgPyAoZy5tYXRjaCh3dHJlZ2V4KT8nIHhtbDpzcGFjZT1cInByZXNlcnZlXCInIDogXCJcIikgKyAnPicgKyBnICsgJzwvJyArIGYgOiBcIi9cIikgKyAnPic7fVxuXG5mdW5jdGlvbiB3cml0ZV93M2NkdGYoZC8qOkRhdGUqLywgdC8qOj9ib29sZWFuKi8pLyo6c3RyaW5nKi8geyB0cnkgeyByZXR1cm4gZC50b0lTT1N0cmluZygpLnJlcGxhY2UoL1xcLlxcZCovLFwiXCIpOyB9IGNhdGNoKGUpIHsgaWYodCkgdGhyb3cgZTsgfSByZXR1cm4gXCJcIjsgfVxuXG5mdW5jdGlvbiB3cml0ZV92dChzLCB4bHN4Lyo6P2Jvb2xlYW4qLykvKjpzdHJpbmcqLyB7XG5cdHN3aXRjaCh0eXBlb2Ygcykge1xuXHRcdGNhc2UgJ3N0cmluZyc6XG5cdFx0XHR2YXIgbyA9IHdyaXRleHRhZygndnQ6bHB3c3RyJywgZXNjYXBleG1sKHMpKTtcblx0XHRcdGlmKHhsc3gpIG8gPSBvLnJlcGxhY2UoLyZxdW90Oy9nLCBcIl94MDAyMl9cIik7XG5cdFx0XHRyZXR1cm4gbztcblx0XHRjYXNlICdudW1iZXInOiByZXR1cm4gd3JpdGV4dGFnKChzfDApPT1zPyd2dDppNCc6J3Z0OnI4JywgZXNjYXBleG1sKFN0cmluZyhzKSkpO1xuXHRcdGNhc2UgJ2Jvb2xlYW4nOiByZXR1cm4gd3JpdGV4dGFnKCd2dDpib29sJyxzPyd0cnVlJzonZmFsc2UnKTtcblx0fVxuXHRpZihzIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHdyaXRleHRhZygndnQ6ZmlsZXRpbWUnLCB3cml0ZV93M2NkdGYocykpO1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gc2VyaWFsaXplIFwiICsgcyk7XG59XG5cbmZ1bmN0aW9uIHhsbWxfbm9ybWFsaXplKGQpLyo6c3RyaW5nKi8ge1xuXHRpZihoYXNfYnVmICYmLyo6OnR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgZCAhPSBudWxsICYmIGQgaW5zdGFuY2VvZiBCdWZmZXIgJiYqLyBCdWZmZXIuaXNCdWZmZXIoZCkpIHJldHVybiBkLnRvU3RyaW5nKCd1dGY4Jyk7XG5cdGlmKHR5cGVvZiBkID09PSAnc3RyaW5nJykgcmV0dXJuIGQ7XG5cdC8qIGR1a3RhcGUgKi9cblx0aWYodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSByZXR1cm4gdXRmOHJlYWQoYTJzKGFiMmEoZCkpKTtcblx0dGhyb3cgbmV3IEVycm9yKFwiQmFkIGlucHV0IGZvcm1hdDogZXhwZWN0ZWQgQnVmZmVyIG9yIHN0cmluZ1wiKTtcbn1cbi8qIFVPUyB1c2VzIENKSyBpbiB0YWdzLCBPRFMgdXNlcyBpbnZhbGlkIFhNTCAqL1xudmFyIHhsbWxyZWdleCA9IC88KFtcXC9dPykoW15cXHM/PjwhXFwvOlwiXSo6fCkoW15cXHM/PD46XFwvXCJdKykoPzpcXHMrW148Pj0/XCInXFxzXSs9XCJbXlwiXSo/XCIpKlxccypbXFwvXT8+L21nO1xuXG52YXIgWE1MTlMgPSAoe1xuXHRDT1JFX1BST1BTOiAnaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3BhY2thZ2UvMjAwNi9tZXRhZGF0YS9jb3JlLXByb3BlcnRpZXMnLFxuXHRDVVNUX1BST1BTOiBcImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L2N1c3RvbS1wcm9wZXJ0aWVzXCIsXG5cdEVYVF9QUk9QUzogXCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9leHRlbmRlZC1wcm9wZXJ0aWVzXCIsXG5cdENUOiAnaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3BhY2thZ2UvMjAwNi9jb250ZW50LXR5cGVzJyxcblx0UkVMUzogJ2h0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvcmVsYXRpb25zaGlwcycsXG5cdFRDTU5UOiAnaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9vZmZpY2Uvc3ByZWFkc2hlZXRtbC8yMDE4L3RocmVhZGVkY29tbWVudHMnLFxuXHQnZGMnOiAnaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8nLFxuXHQnZGN0ZXJtcyc6ICdodHRwOi8vcHVybC5vcmcvZGMvdGVybXMvJyxcblx0J2RjbWl0eXBlJzogJ2h0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS8nLFxuXHQnbXgnOiAnaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9vZmZpY2UvbWFjL2V4Y2VsLzIwMDgvbWFpbicsXG5cdCdyJzogJ2h0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMnLFxuXHQnc2pzJzogJ2h0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvc2hlZXRqcy9jb3JlLXByb3BlcnRpZXMnLFxuXHQndnQnOiAnaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvZG9jUHJvcHNWVHlwZXMnLFxuXHQneHNpJzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlJyxcblx0J3hzZCc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSdcbn0vKjphbnkqLyk7XG5cbnZhciBYTUxOU19tYWluID0gW1xuXHQnaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3NwcmVhZHNoZWV0bWwvMjAwNi9tYWluJyxcblx0J2h0dHA6Ly9wdXJsLm9jbGMub3JnL29veG1sL3NwcmVhZHNoZWV0bWwvbWFpbicsXG5cdCdodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL29mZmljZS9leGNlbC8yMDA2L21haW4nLFxuXHQnaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9vZmZpY2UvZXhjZWwvMjAwNi8yJ1xuXTtcblxudmFyIFhMTUxOUyA9ICh7XG5cdCdvJzogICAgJ3VybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZScsXG5cdCd4JzogICAgJ3VybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOmV4Y2VsJyxcblx0J3NzJzogICAndXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6c3ByZWFkc2hlZXQnLFxuXHQnZHQnOiAgICd1dWlkOkMyRjQxMDEwLTY1QjMtMTFkMS1BMjlGLTAwQUEwMEMxNDg4MicsXG5cdCdtdic6ICAgJ2h0dHA6Ly9tYWNWbWxTY2hlbWFVcmknLFxuXHQndic6ICAgICd1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCcsXG5cdCdodG1sJzogJ2h0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAnXG59Lyo6YW55Ki8pO1xuZnVuY3Rpb24gcmVhZF9kb3VibGVfbGUoYi8qOlJhd0J5dGVzfENGQmxvYiovLCBpZHgvKjpudW1iZXIqLykvKjpudW1iZXIqLyB7XG5cdHZhciBzID0gMSAtIDIgKiAoYltpZHggKyA3XSA+Pj4gNyk7XG5cdHZhciBlID0gKChiW2lkeCArIDddICYgMHg3ZikgPDwgNCkgKyAoKGJbaWR4ICsgNl0gPj4+IDQpICYgMHgwZik7XG5cdHZhciBtID0gKGJbaWR4KzZdJjB4MGYpO1xuXHRmb3IodmFyIGkgPSA1OyBpID49IDA7IC0taSkgbSA9IG0gKiAyNTYgKyBiW2lkeCArIGldO1xuXHRpZihlID09IDB4N2ZmKSByZXR1cm4gbSA9PSAwID8gKHMgKiBJbmZpbml0eSkgOiBOYU47XG5cdGlmKGUgPT0gMCkgZSA9IC0xMDIyO1xuXHRlbHNlIHsgZSAtPSAxMDIzOyBtICs9IE1hdGgucG93KDIsNTIpOyB9XG5cdHJldHVybiBzICogTWF0aC5wb3coMiwgZSAtIDUyKSAqIG07XG59XG5cbmZ1bmN0aW9uIHdyaXRlX2RvdWJsZV9sZShiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8sIHYvKjpudW1iZXIqLywgaWR4Lyo6bnVtYmVyKi8pIHtcblx0dmFyIGJzID0gKCgoKHYgPCAwKSB8fCAoMS92ID09IC1JbmZpbml0eSkpID8gMSA6IDApIDw8IDcpLCBlID0gMCwgbSA9IDA7XG5cdHZhciBhdiA9IGJzID8gKC12KSA6IHY7XG5cdGlmKCFpc0Zpbml0ZShhdikpIHsgZSA9IDB4N2ZmOyBtID0gaXNOYU4odikgPyAweDY5NjkgOiAwOyB9XG5cdGVsc2UgaWYoYXYgPT0gMCkgZSA9IG0gPSAwO1xuXHRlbHNlIHtcblx0XHRlID0gTWF0aC5mbG9vcihNYXRoLmxvZyhhdikgLyBNYXRoLkxOMik7XG5cdFx0bSA9IGF2ICogTWF0aC5wb3coMiwgNTIgLSBlKTtcblx0XHRpZigoZSA8PSAtMTAyMykgJiYgKCFpc0Zpbml0ZShtKSB8fCAobSA8IE1hdGgucG93KDIsNTIpKSkpIHsgZSA9IC0xMDIyOyB9XG5cdFx0ZWxzZSB7IG0gLT0gTWF0aC5wb3coMiw1Mik7IGUrPTEwMjM7IH1cblx0fVxuXHRmb3IodmFyIGkgPSAwOyBpIDw9IDU7ICsraSwgbS89MjU2KSBiW2lkeCArIGldID0gbSAmIDB4ZmY7XG5cdGJbaWR4ICsgNl0gPSAoKGUgJiAweDBmKSA8PCA0KSB8IChtICYgMHhmKTtcblx0YltpZHggKyA3XSA9IChlID4+IDQpIHwgYnM7XG59XG5cbnZhciBfX190b0J1ZmZlciA9IGZ1bmN0aW9uKGJ1ZnMvKjpBcnJheTxBcnJheTxSYXdCeXRlcz4gPiovKS8qOlJhd0J5dGVzKi8geyB2YXIgeD1bXSx3PTEwMjQwOyBmb3IodmFyIGk9MDtpPGJ1ZnNbMF0ubGVuZ3RoOysraSkgaWYoYnVmc1swXVtpXSkgZm9yKHZhciBqPTAsTD1idWZzWzBdW2ldLmxlbmd0aDtqPEw7ais9dykgeC5wdXNoLmFwcGx5KHgsIGJ1ZnNbMF1baV0uc2xpY2UoaixqK3cpKTsgcmV0dXJuIHg7IH07XG52YXIgX190b0J1ZmZlciA9IGhhc19idWYgPyBmdW5jdGlvbihidWZzKSB7IHJldHVybiAoYnVmc1swXS5sZW5ndGggPiAwICYmIEJ1ZmZlci5pc0J1ZmZlcihidWZzWzBdWzBdKSkgPyBCdWZmZXIuY29uY2F0KGJ1ZnNbMF0ubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcih4KSA/IHggOiBCdWZmZXJfZnJvbSh4KTsgfSkpIDogX19fdG9CdWZmZXIoYnVmcyk7fSA6IF9fX3RvQnVmZmVyO1xuXG52YXIgX19fdXRmMTZsZSA9IGZ1bmN0aW9uKGIvKjpSYXdCeXRlc3xDRkJsb2IqLyxzLyo6bnVtYmVyKi8sZS8qOm51bWJlciovKS8qOnN0cmluZyovIHsgdmFyIHNzLyo6QXJyYXk8c3RyaW5nPiovPVtdOyBmb3IodmFyIGk9czsgaTxlOyBpKz0yKSBzcy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoX19yZWFkVUludDE2TEUoYixpKSkpOyByZXR1cm4gc3Muam9pbihcIlwiKS5yZXBsYWNlKGNocjAsJycpOyB9O1xudmFyIF9fdXRmMTZsZSA9IGhhc19idWYgPyBmdW5jdGlvbihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8scy8qOm51bWJlciovLGUvKjpudW1iZXIqLykvKjpzdHJpbmcqLyB7IGlmKCFCdWZmZXIuaXNCdWZmZXIoYikvKjo6IHx8ICEoYiBpbnN0YW5jZW9mIEJ1ZmZlcikqLyB8fCAhYnVmX3V0ZjE2bGUpIHJldHVybiBfX191dGYxNmxlKGIscyxlKTsgcmV0dXJuIGIudG9TdHJpbmcoJ3V0ZjE2bGUnLHMsZSkucmVwbGFjZShjaHIwLCcnKS8qLnJlcGxhY2UoY2hyMSwnIScpKi87IH0gOiBfX191dGYxNmxlO1xuXG52YXIgX19faGV4bGlmeSA9IGZ1bmN0aW9uKGIvKjpSYXdCeXRlc3xDRkJsb2IqLyxzLyo6bnVtYmVyKi8sbC8qOm51bWJlciovKS8qOnN0cmluZyovIHsgdmFyIHNzLyo6QXJyYXk8c3RyaW5nPiovPVtdOyBmb3IodmFyIGk9czsgaTxzK2w7ICsraSkgc3MucHVzaCgoXCIwXCIgKyBiW2ldLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpKTsgcmV0dXJuIHNzLmpvaW4oXCJcIik7IH07XG52YXIgX19oZXhsaWZ5ID0gaGFzX2J1ZiA/IGZ1bmN0aW9uKGIvKjpSYXdCeXRlc3xDRkJsb2IqLyxzLyo6bnVtYmVyKi8sbC8qOm51bWJlciovKS8qOnN0cmluZyovIHsgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihiKS8qOjogJiYgYiBpbnN0YW5jZW9mIEJ1ZmZlciovID8gYi50b1N0cmluZygnaGV4JyxzLHMrbCkgOiBfX19oZXhsaWZ5KGIscyxsKTsgfSA6IF9fX2hleGxpZnk7XG5cbnZhciBfX191dGY4ID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLHMvKjpudW1iZXIqLyxlLyo6bnVtYmVyKi8pIHsgdmFyIHNzPVtdOyBmb3IodmFyIGk9czsgaTxlOyBpKyspIHNzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShfX3JlYWRVSW50OChiLGkpKSk7IHJldHVybiBzcy5qb2luKFwiXCIpOyB9O1xudmFyIF9fdXRmOCA9IGhhc19idWYgPyBmdW5jdGlvbiB1dGY4X2IoYi8qOlJhd0J5dGVzfENGQmxvYiovLCBzLyo6bnVtYmVyKi8sIGUvKjpudW1iZXIqLykgeyByZXR1cm4gKEJ1ZmZlci5pc0J1ZmZlcihiKS8qOjogJiYgKGIgaW5zdGFuY2VvZiBCdWZmZXIpKi8pID8gYi50b1N0cmluZygndXRmOCcscyxlKSA6IF9fX3V0ZjgoYixzLGUpOyB9IDogX19fdXRmODtcblxudmFyIF9fX2xwc3RyID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLGkvKjpudW1iZXIqLykgeyB2YXIgbGVuID0gX19yZWFkVUludDMyTEUoYixpKTsgcmV0dXJuIGxlbiA+IDAgPyBfX3V0ZjgoYiwgaSs0LGkrNCtsZW4tMSkgOiBcIlwiO307XG52YXIgX19scHN0ciA9IF9fX2xwc3RyO1xuXG52YXIgX19fY3BzdHIgPSBmdW5jdGlvbihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8saS8qOm51bWJlciovKSB7IHZhciBsZW4gPSBfX3JlYWRVSW50MzJMRShiLGkpOyByZXR1cm4gbGVuID4gMCA/IF9fdXRmOChiLCBpKzQsaSs0K2xlbi0xKSA6IFwiXCI7fTtcbnZhciBfX2Nwc3RyID0gX19fY3BzdHI7XG5cbnZhciBfX19scHdzdHIgPSBmdW5jdGlvbihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8saS8qOm51bWJlciovKSB7IHZhciBsZW4gPSAyKl9fcmVhZFVJbnQzMkxFKGIsaSk7IHJldHVybiBsZW4gPiAwID8gX191dGY4KGIsIGkrNCxpKzQrbGVuLTEpIDogXCJcIjt9O1xudmFyIF9fbHB3c3RyID0gX19fbHB3c3RyO1xuXG52YXIgX19fbHBwNCA9IGZ1bmN0aW9uIGxwcDRfKGIvKjpSYXdCeXRlc3xDRkJsb2IqLyxpLyo6bnVtYmVyKi8pIHsgdmFyIGxlbiA9IF9fcmVhZFVJbnQzMkxFKGIsaSk7IHJldHVybiBsZW4gPiAwID8gX191dGYxNmxlKGIsIGkrNCxpKzQrbGVuKSA6IFwiXCI7fTtcbnZhciBfX2xwcDQgPSBfX19scHA0O1xuXG52YXIgX19fOGxwcDQgPSBmdW5jdGlvbihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8saS8qOm51bWJlciovKSB7IHZhciBsZW4gPSBfX3JlYWRVSW50MzJMRShiLGkpOyByZXR1cm4gbGVuID4gMCA/IF9fdXRmOChiLCBpKzQsaSs0K2xlbikgOiBcIlwiO307XG52YXIgX184bHBwNCA9IF9fXzhscHA0O1xuXG52YXIgX19fZG91YmxlID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLCBpZHgvKjpudW1iZXIqLykgeyByZXR1cm4gcmVhZF9kb3VibGVfbGUoYiwgaWR4KTt9O1xudmFyIF9fZG91YmxlID0gX19fZG91YmxlO1xuXG52YXIgaXNfYnVmID0gZnVuY3Rpb24gaXNfYnVmX2EoYSkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShhKSB8fCAodHlwZW9mIFVpbnQ4QXJyYXkgIT09IFwidW5kZWZpbmVkXCIgJiYgYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpOyB9O1xuXG5pZihoYXNfYnVmLyo6OiAmJiB0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJyovKSB7XG5cdF9fbHBzdHIgPSBmdW5jdGlvbiBscHN0cl9iKGIvKjpSYXdCeXRlc3xDRkJsb2IqLywgaS8qOm51bWJlciovKSB7IGlmKCFCdWZmZXIuaXNCdWZmZXIoYikvKjo6IHx8ICEoYiBpbnN0YW5jZW9mIEJ1ZmZlcikqLykgcmV0dXJuIF9fX2xwc3RyKGIsIGkpOyB2YXIgbGVuID0gYi5yZWFkVUludDMyTEUoaSk7IHJldHVybiBsZW4gPiAwID8gYi50b1N0cmluZygndXRmOCcsaSs0LGkrNCtsZW4tMSkgOiBcIlwiO307XG5cdF9fY3BzdHIgPSBmdW5jdGlvbiBjcHN0cl9iKGIvKjpSYXdCeXRlc3xDRkJsb2IqLywgaS8qOm51bWJlciovKSB7IGlmKCFCdWZmZXIuaXNCdWZmZXIoYikvKjo6IHx8ICEoYiBpbnN0YW5jZW9mIEJ1ZmZlcikqLykgcmV0dXJuIF9fX2Nwc3RyKGIsIGkpOyB2YXIgbGVuID0gYi5yZWFkVUludDMyTEUoaSk7IHJldHVybiBsZW4gPiAwID8gYi50b1N0cmluZygndXRmOCcsaSs0LGkrNCtsZW4tMSkgOiBcIlwiO307XG5cdF9fbHB3c3RyID0gZnVuY3Rpb24gbHB3c3RyX2IoYi8qOlJhd0J5dGVzfENGQmxvYiovLCBpLyo6bnVtYmVyKi8pIHsgaWYoIUJ1ZmZlci5pc0J1ZmZlcihiKS8qOjogfHwgIShiIGluc3RhbmNlb2YgQnVmZmVyKSovIHx8ICFidWZfdXRmMTZsZSkgcmV0dXJuIF9fX2xwd3N0cihiLCBpKTsgdmFyIGxlbiA9IDIqYi5yZWFkVUludDMyTEUoaSk7IHJldHVybiBiLnRvU3RyaW5nKCd1dGYxNmxlJyxpKzQsaSs0K2xlbi0xKTt9O1xuXHRfX2xwcDQgPSBmdW5jdGlvbiBscHA0X2IoYi8qOlJhd0J5dGVzfENGQmxvYiovLCBpLyo6bnVtYmVyKi8pIHsgaWYoIUJ1ZmZlci5pc0J1ZmZlcihiKS8qOjogfHwgIShiIGluc3RhbmNlb2YgQnVmZmVyKSovIHx8ICFidWZfdXRmMTZsZSkgcmV0dXJuIF9fX2xwcDQoYiwgaSk7IHZhciBsZW4gPSBiLnJlYWRVSW50MzJMRShpKTsgcmV0dXJuIGIudG9TdHJpbmcoJ3V0ZjE2bGUnLGkrNCxpKzQrbGVuKTt9O1xuXHRfXzhscHA0ID0gZnVuY3Rpb24gbHBwNF84YihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8sIGkvKjpudW1iZXIqLykgeyBpZighQnVmZmVyLmlzQnVmZmVyKGIpLyo6OiB8fCAhKGIgaW5zdGFuY2VvZiBCdWZmZXIpKi8pIHJldHVybiBfX184bHBwNChiLCBpKTsgdmFyIGxlbiA9IGIucmVhZFVJbnQzMkxFKGkpOyByZXR1cm4gYi50b1N0cmluZygndXRmOCcsaSs0LGkrNCtsZW4pO307XG5cdF9fZG91YmxlID0gZnVuY3Rpb24gZG91YmxlXyhiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8sIGkvKjpudW1iZXIqLykgeyBpZihCdWZmZXIuaXNCdWZmZXIoYikvKjo6JiYgYiBpbnN0YW5jZW9mIEJ1ZmZlciovKSByZXR1cm4gYi5yZWFkRG91YmxlTEUoaSk7IHJldHVybiBfX19kb3VibGUoYixpKTsgfTtcblx0aXNfYnVmID0gZnVuY3Rpb24gaXNfYnVmX2IoYSkgeyByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKGEpIHx8IEFycmF5LmlzQXJyYXkoYSkgfHwgKHR5cGVvZiBVaW50OEFycmF5ICE9PSBcInVuZGVmaW5lZFwiICYmIGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KTsgfTtcbn1cblxuLyogZnJvbSBqcy14bHMgKi9cbmZ1bmN0aW9uIGNwZG9pdCgpIHtcblx0X191dGYxNmxlID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLHMvKjpudW1iZXIqLyxlLyo6bnVtYmVyKi8pIHsgcmV0dXJuICRjcHRhYmxlLnV0aWxzLmRlY29kZSgxMjAwLCBiLnNsaWNlKHMsZSkpLnJlcGxhY2UoY2hyMCwgJycpOyB9O1xuXHRfX3V0ZjggPSBmdW5jdGlvbihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8scy8qOm51bWJlciovLGUvKjpudW1iZXIqLykgeyByZXR1cm4gJGNwdGFibGUudXRpbHMuZGVjb2RlKDY1MDAxLCBiLnNsaWNlKHMsZSkpOyB9O1xuXHRfX2xwc3RyID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLGkvKjpudW1iZXIqLykgeyB2YXIgbGVuID0gX19yZWFkVUludDMyTEUoYixpKTsgcmV0dXJuIGxlbiA+IDAgPyAkY3B0YWJsZS51dGlscy5kZWNvZGUoY3VycmVudF9hbnNpLCBiLnNsaWNlKGkrNCwgaSs0K2xlbi0xKSkgOiBcIlwiO307XG5cdF9fY3BzdHIgPSBmdW5jdGlvbihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8saS8qOm51bWJlciovKSB7IHZhciBsZW4gPSBfX3JlYWRVSW50MzJMRShiLGkpOyByZXR1cm4gbGVuID4gMCA/ICRjcHRhYmxlLnV0aWxzLmRlY29kZShjdXJyZW50X2NvZGVwYWdlLCBiLnNsaWNlKGkrNCwgaSs0K2xlbi0xKSkgOiBcIlwiO307XG5cdF9fbHB3c3RyID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLGkvKjpudW1iZXIqLykgeyB2YXIgbGVuID0gMipfX3JlYWRVSW50MzJMRShiLGkpOyByZXR1cm4gbGVuID4gMCA/ICRjcHRhYmxlLnV0aWxzLmRlY29kZSgxMjAwLCBiLnNsaWNlKGkrNCxpKzQrbGVuLTEpKSA6IFwiXCI7fTtcblx0X19scHA0ID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLGkvKjpudW1iZXIqLykgeyB2YXIgbGVuID0gX19yZWFkVUludDMyTEUoYixpKTsgcmV0dXJuIGxlbiA+IDAgPyAkY3B0YWJsZS51dGlscy5kZWNvZGUoMTIwMCwgYi5zbGljZShpKzQsaSs0K2xlbikpIDogXCJcIjt9O1xuXHRfXzhscHA0ID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLGkvKjpudW1iZXIqLykgeyB2YXIgbGVuID0gX19yZWFkVUludDMyTEUoYixpKTsgcmV0dXJuIGxlbiA+IDAgPyAkY3B0YWJsZS51dGlscy5kZWNvZGUoNjUwMDEsIGIuc2xpY2UoaSs0LGkrNCtsZW4pKSA6IFwiXCI7fTtcbn1cbmlmKHR5cGVvZiAkY3B0YWJsZSAhPT0gJ3VuZGVmaW5lZCcpIGNwZG9pdCgpO1xuXG52YXIgX19yZWFkVUludDggPSBmdW5jdGlvbihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8sIGlkeC8qOm51bWJlciovKS8qOm51bWJlciovIHsgcmV0dXJuIGJbaWR4XTsgfTtcbnZhciBfX3JlYWRVSW50MTZMRSA9IGZ1bmN0aW9uKGIvKjpSYXdCeXRlc3xDRkJsb2IqLywgaWR4Lyo6bnVtYmVyKi8pLyo6bnVtYmVyKi8geyByZXR1cm4gKGJbaWR4KzFdKigxPDw4KSkrYltpZHhdOyB9O1xudmFyIF9fcmVhZEludDE2TEUgPSBmdW5jdGlvbihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8sIGlkeC8qOm51bWJlciovKS8qOm51bWJlciovIHsgdmFyIHUgPSAoYltpZHgrMV0qKDE8PDgpKStiW2lkeF07IHJldHVybiAodSA8IDB4ODAwMCkgPyB1IDogKCgweGZmZmYgLSB1ICsgMSkgKiAtMSk7IH07XG52YXIgX19yZWFkVUludDMyTEUgPSBmdW5jdGlvbihiLyo6UmF3Qnl0ZXN8Q0ZCbG9iKi8sIGlkeC8qOm51bWJlciovKS8qOm51bWJlciovIHsgcmV0dXJuIGJbaWR4KzNdKigxPDwyNCkrKGJbaWR4KzJdPDwxNikrKGJbaWR4KzFdPDw4KStiW2lkeF07IH07XG52YXIgX19yZWFkSW50MzJMRSA9IGZ1bmN0aW9uKGIvKjpSYXdCeXRlc3xDRkJsb2IqLywgaWR4Lyo6bnVtYmVyKi8pLyo6bnVtYmVyKi8geyByZXR1cm4gKGJbaWR4KzNdPDwyNCl8KGJbaWR4KzJdPDwxNil8KGJbaWR4KzFdPDw4KXxiW2lkeF07IH07XG52YXIgX19yZWFkSW50MzJCRSA9IGZ1bmN0aW9uKGIvKjpSYXdCeXRlc3xDRkJsb2IqLywgaWR4Lyo6bnVtYmVyKi8pLyo6bnVtYmVyKi8geyByZXR1cm4gKGJbaWR4XTw8MjQpfChiW2lkeCsxXTw8MTYpfChiW2lkeCsyXTw8OCl8YltpZHgrM107IH07XG5cbmZ1bmN0aW9uIFJlYWRTaGlmdChzaXplLyo6bnVtYmVyKi8sIHQvKjo/c3RyaW5nKi8pLyo6bnVtYmVyfHN0cmluZyovIHtcblx0dmFyIG89XCJcIiwgb0kvKjo6IDpudW1iZXIgPSAwKi8sIG9SLCBvbz1bXSwgdywgdnYsIGksIGxvYztcblx0c3dpdGNoKHQpIHtcblx0XHRjYXNlICdkYmNzJzpcblx0XHRcdGxvYyA9IHRoaXMubDtcblx0XHRcdGlmKGhhc19idWYgJiYgQnVmZmVyLmlzQnVmZmVyKHRoaXMpICAmJiBidWZfdXRmMTZsZSkgbyA9IHRoaXMuc2xpY2UodGhpcy5sLCB0aGlzLmwrMipzaXplKS50b1N0cmluZyhcInV0ZjE2bGVcIik7XG5cdFx0XHRlbHNlIGZvcihpID0gMDsgaSA8IHNpemU7ICsraSkgeyBvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKF9fcmVhZFVJbnQxNkxFKHRoaXMsIGxvYykpOyBsb2MrPTI7IH1cblx0XHRcdHNpemUgKj0gMjtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAndXRmOCc6IG8gPSBfX3V0ZjgodGhpcywgdGhpcy5sLCB0aGlzLmwgKyBzaXplKTsgYnJlYWs7XG5cdFx0Y2FzZSAndXRmMTZsZSc6IHNpemUgKj0gMjsgbyA9IF9fdXRmMTZsZSh0aGlzLCB0aGlzLmwsIHRoaXMubCArIHNpemUpOyBicmVhaztcblxuXHRcdGNhc2UgJ3dzdHInOlxuXHRcdFx0aWYodHlwZW9mICRjcHRhYmxlICE9PSAndW5kZWZpbmVkJykgbyA9ICRjcHRhYmxlLnV0aWxzLmRlY29kZShjdXJyZW50X2NvZGVwYWdlLCB0aGlzLnNsaWNlKHRoaXMubCwgdGhpcy5sKzIqc2l6ZSkpO1xuXHRcdFx0ZWxzZSByZXR1cm4gUmVhZFNoaWZ0LmNhbGwodGhpcywgc2l6ZSwgJ2RiY3MnKTtcblx0XHRcdHNpemUgPSAyICogc2l6ZTsgYnJlYWs7XG5cblx0XHQvKiBbTVMtT0xFRFNdIDIuMS40IExlbmd0aFByZWZpeGVkQW5zaVN0cmluZyAqL1xuXHRcdGNhc2UgJ2xwc3RyLWFuc2knOiBvID0gX19scHN0cih0aGlzLCB0aGlzLmwpOyBzaXplID0gNCArIF9fcmVhZFVJbnQzMkxFKHRoaXMsIHRoaXMubCk7IGJyZWFrO1xuXHRcdGNhc2UgJ2xwc3RyLWNwJzogbyA9IF9fY3BzdHIodGhpcywgdGhpcy5sKTsgc2l6ZSA9IDQgKyBfX3JlYWRVSW50MzJMRSh0aGlzLCB0aGlzLmwpOyBicmVhaztcblx0XHQvKiBbTVMtT0xFRFNdIDIuMS41IExlbmd0aFByZWZpeGVkVW5pY29kZVN0cmluZyAqL1xuXHRcdGNhc2UgJ2xwd3N0cic6IG8gPSBfX2xwd3N0cih0aGlzLCB0aGlzLmwpOyBzaXplID0gNCArIDIgKiBfX3JlYWRVSW50MzJMRSh0aGlzLCB0aGlzLmwpOyBicmVhaztcblx0XHQvKiBbTVMtT0ZGQ1JZUFRPXSAyLjEuMiBMZW5ndGgtUHJlZml4ZWQgUGFkZGVkIFVuaWNvZGUgU3RyaW5nIChVTklDT0RFLUxQLVA0KSAqL1xuXHRcdGNhc2UgJ2xwcDQnOiBzaXplID0gNCArICBfX3JlYWRVSW50MzJMRSh0aGlzLCB0aGlzLmwpOyBvID0gX19scHA0KHRoaXMsIHRoaXMubCk7IGlmKHNpemUgJiAweDAyKSBzaXplICs9IDI7IGJyZWFrO1xuXHRcdC8qIFtNUy1PRkZDUllQVE9dIDIuMS4zIExlbmd0aC1QcmVmaXhlZCBVVEYtOCBTdHJpbmcgKFVURi04LUxQLVA0KSAqL1xuXHRcdGNhc2UgJzhscHA0Jzogc2l6ZSA9IDQgKyAgX19yZWFkVUludDMyTEUodGhpcywgdGhpcy5sKTsgbyA9IF9fOGxwcDQodGhpcywgdGhpcy5sKTsgaWYoc2l6ZSAmIDB4MDMpIHNpemUgKz0gNCAtIChzaXplICYgMHgwMyk7IGJyZWFrO1xuXG5cdFx0Y2FzZSAnY3N0cic6IHNpemUgPSAwOyBvID0gXCJcIjtcblx0XHRcdHdoaWxlKCh3PV9fcmVhZFVJbnQ4KHRoaXMsIHRoaXMubCArIHNpemUrKykpIT09MCkgb28ucHVzaChfZ2V0Y2hhcih3KSk7XG5cdFx0XHRvID0gb28uam9pbihcIlwiKTsgYnJlYWs7XG5cdFx0Y2FzZSAnX3dzdHInOiBzaXplID0gMDsgbyA9IFwiXCI7XG5cdFx0XHR3aGlsZSgodz1fX3JlYWRVSW50MTZMRSh0aGlzLHRoaXMubCArc2l6ZSkpIT09MCl7b28ucHVzaChfZ2V0Y2hhcih3KSk7c2l6ZSs9Mjt9XG5cdFx0XHRzaXplKz0yOyBvID0gb28uam9pbihcIlwiKTsgYnJlYWs7XG5cblx0XHQvKiBzYmNzIGFuZCBkYmNzIHN1cHBvcnQgY29udGludWUgcmVjb3JkcyBpbiB0aGUgU1NUIHdheSBUT0RPIGNvZGVwYWdlcyAqL1xuXHRcdGNhc2UgJ2RiY3MtY29udCc6IG8gPSBcIlwiOyBsb2MgPSB0aGlzLmw7XG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcblx0XHRcdFx0aWYodGhpcy5sZW5zICYmIHRoaXMubGVucy5pbmRleE9mKGxvYykgIT09IC0xKSB7XG5cdFx0XHRcdFx0dyA9IF9fcmVhZFVJbnQ4KHRoaXMsIGxvYyk7XG5cdFx0XHRcdFx0dGhpcy5sID0gbG9jICsgMTtcblx0XHRcdFx0XHR2diA9IFJlYWRTaGlmdC5jYWxsKHRoaXMsIHNpemUtaSwgdyA/ICdkYmNzLWNvbnQnIDogJ3NiY3MtY29udCcpO1xuXHRcdFx0XHRcdHJldHVybiBvby5qb2luKFwiXCIpICsgdnY7XG5cdFx0XHRcdH1cblx0XHRcdFx0b28ucHVzaChfZ2V0Y2hhcihfX3JlYWRVSW50MTZMRSh0aGlzLCBsb2MpKSk7XG5cdFx0XHRcdGxvYys9Mjtcblx0XHRcdH0gbyA9IG9vLmpvaW4oXCJcIik7IHNpemUgKj0gMjsgYnJlYWs7XG5cblx0XHRjYXNlICdjcHN0cic6XG5cdFx0XHRpZih0eXBlb2YgJGNwdGFibGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdG8gPSAkY3B0YWJsZS51dGlscy5kZWNvZGUoY3VycmVudF9jb2RlcGFnZSwgdGhpcy5zbGljZSh0aGlzLmwsIHRoaXMubCArIHNpemUpKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdGNhc2UgJ3NiY3MtY29udCc6IG8gPSBcIlwiOyBsb2MgPSB0aGlzLmw7XG5cdFx0XHRmb3IoaSA9IDA7IGkgIT0gc2l6ZTsgKytpKSB7XG5cdFx0XHRcdGlmKHRoaXMubGVucyAmJiB0aGlzLmxlbnMuaW5kZXhPZihsb2MpICE9PSAtMSkge1xuXHRcdFx0XHRcdHcgPSBfX3JlYWRVSW50OCh0aGlzLCBsb2MpO1xuXHRcdFx0XHRcdHRoaXMubCA9IGxvYyArIDE7XG5cdFx0XHRcdFx0dnYgPSBSZWFkU2hpZnQuY2FsbCh0aGlzLCBzaXplLWksIHcgPyAnZGJjcy1jb250JyA6ICdzYmNzLWNvbnQnKTtcblx0XHRcdFx0XHRyZXR1cm4gb28uam9pbihcIlwiKSArIHZ2O1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9vLnB1c2goX2dldGNoYXIoX19yZWFkVUludDgodGhpcywgbG9jKSkpO1xuXHRcdFx0XHRsb2MrPTE7XG5cdFx0XHR9IG8gPSBvby5qb2luKFwiXCIpOyBicmVhaztcblxuXHRcdGRlZmF1bHQ6XG5cdHN3aXRjaChzaXplKSB7XG5cdFx0Y2FzZSAxOiBvSSA9IF9fcmVhZFVJbnQ4KHRoaXMsIHRoaXMubCk7IHRoaXMubCsrOyByZXR1cm4gb0k7XG5cdFx0Y2FzZSAyOiBvSSA9ICh0ID09PSAnaScgPyBfX3JlYWRJbnQxNkxFIDogX19yZWFkVUludDE2TEUpKHRoaXMsIHRoaXMubCk7IHRoaXMubCArPSAyOyByZXR1cm4gb0k7XG5cdFx0Y2FzZSA0OiBjYXNlIC00OlxuXHRcdFx0aWYodCA9PT0gJ2knIHx8ICgodGhpc1t0aGlzLmwrM10gJiAweDgwKT09PTApKSB7IG9JID0gKChzaXplID4gMCkgPyBfX3JlYWRJbnQzMkxFIDogX19yZWFkSW50MzJCRSkodGhpcywgdGhpcy5sKTsgdGhpcy5sICs9IDQ7IHJldHVybiBvSTsgfVxuXHRcdFx0ZWxzZSB7IG9SID0gX19yZWFkVUludDMyTEUodGhpcywgdGhpcy5sKTsgdGhpcy5sICs9IDQ7IH0gcmV0dXJuIG9SO1xuXHRcdGNhc2UgODogY2FzZSAtODpcblx0XHRcdGlmKHQgPT09ICdmJykge1xuXHRcdFx0XHRpZihzaXplID09IDgpIG9SID0gX19kb3VibGUodGhpcywgdGhpcy5sKTtcblx0XHRcdFx0ZWxzZSBvUiA9IF9fZG91YmxlKFt0aGlzW3RoaXMubCs3XSx0aGlzW3RoaXMubCs2XSx0aGlzW3RoaXMubCs1XSx0aGlzW3RoaXMubCs0XSx0aGlzW3RoaXMubCszXSx0aGlzW3RoaXMubCsyXSx0aGlzW3RoaXMubCsxXSx0aGlzW3RoaXMubCswXV0sIDApO1xuXHRcdFx0XHR0aGlzLmwgKz0gODsgcmV0dXJuIG9SO1xuXHRcdFx0fSBlbHNlIHNpemUgPSA4O1xuXHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRjYXNlIDE2OiBvID0gX19oZXhsaWZ5KHRoaXMsIHRoaXMubCwgc2l6ZSk7IGJyZWFrO1xuXHR9fVxuXHR0aGlzLmwrPXNpemU7IHJldHVybiBvO1xufVxuXG52YXIgX193cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLCB2YWwvKjpudW1iZXIqLywgaWR4Lyo6bnVtYmVyKi8pLyo6dm9pZCovIHsgYltpZHhdID0gKHZhbCAmIDB4RkYpOyBiW2lkeCsxXSA9ICgodmFsID4+PiA4KSAmIDB4RkYpOyBiW2lkeCsyXSA9ICgodmFsID4+PiAxNikgJiAweEZGKTsgYltpZHgrM10gPSAoKHZhbCA+Pj4gMjQpICYgMHhGRik7IH07XG52YXIgX193cml0ZUludDMyTEUgID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLCB2YWwvKjpudW1iZXIqLywgaWR4Lyo6bnVtYmVyKi8pLyo6dm9pZCovIHsgYltpZHhdID0gKHZhbCAmIDB4RkYpOyBiW2lkeCsxXSA9ICgodmFsID4+IDgpICYgMHhGRik7IGJbaWR4KzJdID0gKCh2YWwgPj4gMTYpICYgMHhGRik7IGJbaWR4KzNdID0gKCh2YWwgPj4gMjQpICYgMHhGRik7IH07XG52YXIgX193cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24oYi8qOlJhd0J5dGVzfENGQmxvYiovLCB2YWwvKjpudW1iZXIqLywgaWR4Lyo6bnVtYmVyKi8pLyo6dm9pZCovIHsgYltpZHhdID0gKHZhbCAmIDB4RkYpOyBiW2lkeCsxXSA9ICgodmFsID4+PiA4KSAmIDB4RkYpOyB9O1xuXG5mdW5jdGlvbiBXcml0ZVNoaWZ0KHQvKjpudW1iZXIqLywgdmFsLyo6c3RyaW5nfG51bWJlciovLCBmLyo6P3N0cmluZyovKS8qOmFueSovIHtcblx0dmFyIHNpemUgPSAwLCBpID0gMDtcblx0aWYoZiA9PT0gJ2RiY3MnKSB7XG5cdFx0Lyo6OiBpZih0eXBlb2YgdmFsICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGVcIik7ICovXG5cdFx0Zm9yKGkgPSAwOyBpICE9IHZhbC5sZW5ndGg7ICsraSkgX193cml0ZVVJbnQxNkxFKHRoaXMsIHZhbC5jaGFyQ29kZUF0KGkpLCB0aGlzLmwgKyAyICogaSk7XG5cdFx0c2l6ZSA9IDIgKiB2YWwubGVuZ3RoO1xuXHR9IGVsc2UgaWYoZiA9PT0gJ3NiY3MnIHx8IGYgPT0gJ2Nwc3RyJykge1xuXHRcdGlmKHR5cGVvZiAkY3B0YWJsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY3VycmVudF9hbnNpID09IDg3NCkge1xuXHRcdFx0LyogVE9ETzogdXNlIHRhYmxlcyBkaXJlY3RseSwgZG9uJ3QgZW5jb2RlICovXG5cdFx0XHQvKjo6IGlmKHR5cGVvZiB2YWwgIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpOyAqL1xuXHRcdFx0Zm9yKGkgPSAwOyBpICE9IHZhbC5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHR2YXIgY3BwID0gJGNwdGFibGUudXRpbHMuZW5jb2RlKGN1cnJlbnRfYW5zaSwgdmFsLmNoYXJBdChpKSk7XG5cdFx0XHRcdHRoaXNbdGhpcy5sICsgaV0gPSBjcHBbMF07XG5cdFx0XHR9XG5cdFx0XHRzaXplID0gdmFsLmxlbmd0aDtcblx0XHR9IGVsc2UgaWYodHlwZW9mICRjcHRhYmxlICE9PSAndW5kZWZpbmVkJyAmJiBmID09ICdjcHN0cicpIHtcblx0XHRcdGNwcCA9ICRjcHRhYmxlLnV0aWxzLmVuY29kZShjdXJyZW50X2NvZGVwYWdlLCB2YWwpO1xuXHRcdFx0LyogcmVwbGFjZSBudWxsIGJ5dGVzIHdpdGggXyB3aGVuIHJlbGV2YW50ICovXG4gICAgICBpZihjcHAubGVuZ3RoID09IHZhbC5sZW5ndGgpIGZvcihpID0gMDsgaSA8IHZhbC5sZW5ndGg7ICsraSkgaWYoY3BwW2ldID09IDAgJiYgdmFsLmNoYXJDb2RlQXQoaSkgIT0gMCkgY3BwW2ldID0gMHg1RjtcbiAgICAgIGlmKGNwcC5sZW5ndGggPT0gMiAqIHZhbC5sZW5ndGgpIGZvcihpID0gMDsgaSA8IHZhbC5sZW5ndGg7ICsraSkgaWYoY3BwWzIqaV0gPT0gMCAmJiBjcHBbMippKzFdID09IDAgJiYgdmFsLmNoYXJDb2RlQXQoaSkgIT0gMCkgY3BwWzIqaV0gPSAweDVGO1xuXHRcdFx0Zm9yKGkgPSAwOyBpIDwgY3BwLmxlbmd0aDsgKytpKSB0aGlzW3RoaXMubCArIGldID0gY3BwW2ldO1xuXHRcdFx0c2l6ZSA9IGNwcC5sZW5ndGg7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8qOjogaWYodHlwZW9mIHZhbCAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpOyAqL1xuXHRcdFx0dmFsID0gdmFsLnJlcGxhY2UoL1teXFx4MDAtXFx4N0ZdL2csIFwiX1wiKTtcblx0XHRcdC8qOjogaWYodHlwZW9mIHZhbCAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpOyAqL1xuXHRcdFx0Zm9yKGkgPSAwOyBpICE9IHZhbC5sZW5ndGg7ICsraSkgdGhpc1t0aGlzLmwgKyBpXSA9ICh2YWwuY2hhckNvZGVBdChpKSAmIDB4RkYpO1xuXHRcdFx0c2l6ZSA9IHZhbC5sZW5ndGg7XG5cdFx0fVxuXHR9IGVsc2UgaWYoZiA9PT0gJ2hleCcpIHtcblx0XHRmb3IoOyBpIDwgdDsgKytpKSB7XG5cdFx0XHQvKjo6IGlmKHR5cGVvZiB2YWwgIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpOyAqL1xuXHRcdFx0dGhpc1t0aGlzLmwrK10gPSAocGFyc2VJbnQodmFsLnNsaWNlKDIqaSwgMippKzIpLCAxNil8fDApO1xuXHRcdH0gcmV0dXJuIHRoaXM7XG5cdH0gZWxzZSBpZihmID09PSAndXRmMTZsZScpIHtcblx0XHRcdC8qOjogaWYodHlwZW9mIHZhbCAhPT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGVcIik7ICovXG5cdFx0XHR2YXIgZW5kLyo6bnVtYmVyKi8gPSBNYXRoLm1pbih0aGlzLmwgKyB0LCB0aGlzLmxlbmd0aCk7XG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBNYXRoLm1pbih2YWwubGVuZ3RoLCB0KTsgKytpKSB7XG5cdFx0XHRcdHZhciBjYyA9IHZhbC5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0XHR0aGlzW3RoaXMubCsrXSA9IChjYyAmIDB4ZmYpO1xuXHRcdFx0XHR0aGlzW3RoaXMubCsrXSA9IChjYyA+PiA4KTtcblx0XHRcdH1cblx0XHRcdHdoaWxlKHRoaXMubCA8IGVuZCkgdGhpc1t0aGlzLmwrK10gPSAwO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdH0gZWxzZSAvKjo6IGlmKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSAqLyBzd2l0Y2godCkge1xuXHRcdGNhc2UgIDE6IHNpemUgPSAxOyB0aGlzW3RoaXMubF0gPSB2YWwmMHhGRjsgYnJlYWs7XG5cdFx0Y2FzZSAgMjogc2l6ZSA9IDI7IHRoaXNbdGhpcy5sXSA9IHZhbCYweEZGOyB2YWwgPj4+PSA4OyB0aGlzW3RoaXMubCsxXSA9IHZhbCYweEZGOyBicmVhaztcblx0XHRjYXNlICAzOiBzaXplID0gMzsgdGhpc1t0aGlzLmxdID0gdmFsJjB4RkY7IHZhbCA+Pj49IDg7IHRoaXNbdGhpcy5sKzFdID0gdmFsJjB4RkY7IHZhbCA+Pj49IDg7IHRoaXNbdGhpcy5sKzJdID0gdmFsJjB4RkY7IGJyZWFrO1xuXHRcdGNhc2UgIDQ6IHNpemUgPSA0OyBfX3dyaXRlVUludDMyTEUodGhpcywgdmFsLCB0aGlzLmwpOyBicmVhaztcblx0XHRjYXNlICA4OiBzaXplID0gODsgaWYoZiA9PT0gJ2YnKSB7IHdyaXRlX2RvdWJsZV9sZSh0aGlzLCB2YWwsIHRoaXMubCk7IGJyZWFrOyB9XG5cdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdGNhc2UgMTY6IGJyZWFrO1xuXHRcdGNhc2UgLTQ6IHNpemUgPSA0OyBfX3dyaXRlSW50MzJMRSh0aGlzLCB2YWwsIHRoaXMubCk7IGJyZWFrO1xuXHR9XG5cdHRoaXMubCArPSBzaXplOyByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gQ2hlY2tGaWVsZChoZXhzdHIvKjpzdHJpbmcqLywgZmxkLyo6c3RyaW5nKi8pLyo6dm9pZCovIHtcblx0dmFyIG0gPSBfX2hleGxpZnkodGhpcyx0aGlzLmwsaGV4c3RyLmxlbmd0aD4+MSk7XG5cdGlmKG0gIT09IGhleHN0cikgdGhyb3cgbmV3IEVycm9yKGZsZCArICdFeHBlY3RlZCAnICsgaGV4c3RyICsgJyBzYXcgJyArIG0pO1xuXHR0aGlzLmwgKz0gaGV4c3RyLmxlbmd0aD4+MTtcbn1cblxuZnVuY3Rpb24gcHJlcF9ibG9iKGJsb2IsIHBvcy8qOm51bWJlciovKS8qOnZvaWQqLyB7XG5cdGJsb2IubCA9IHBvcztcblx0YmxvYi5yZWFkX3NoaWZ0ID0gLyo6OigqL1JlYWRTaGlmdC8qOjogOmFueSkqLztcblx0YmxvYi5jaGsgPSBDaGVja0ZpZWxkO1xuXHRibG9iLndyaXRlX3NoaWZ0ID0gV3JpdGVTaGlmdDtcbn1cblxuZnVuY3Rpb24gcGFyc2Vub29wKGJsb2IsIGxlbmd0aC8qOjogOm51bWJlciwgb3B0cz86YW55ICovKSB7IGJsb2IubCArPSBsZW5ndGg7IH1cblxuZnVuY3Rpb24gbmV3X2J1Zihzei8qOm51bWJlciovKS8qOkJsb2NrKi8ge1xuXHR2YXIgbyA9IG5ld19yYXdfYnVmKHN6KTtcblx0cHJlcF9ibG9iKG8sIDApO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuMS40IFJlY29yZCAqL1xuZnVuY3Rpb24gcmVjb3JkaG9wcGVyKGRhdGEsIGNiLyo6UmVjb3JkSG9wcGVyQ0IqLywgb3B0cy8qOj9hbnkqLykge1xuXHRpZighZGF0YSkgcmV0dXJuO1xuXHR2YXIgdG1wYnl0ZSwgY250Ynl0ZSwgbGVuZ3RoO1xuXHRwcmVwX2Jsb2IoZGF0YSwgZGF0YS5sIHx8IDApO1xuXHR2YXIgTCA9IGRhdGEubGVuZ3RoLCBSVCA9IDAsIHRndCA9IDA7XG5cdHdoaWxlKGRhdGEubCA8IEwpIHtcblx0XHRSVCA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0XHRpZihSVCAmIDB4ODApIFJUID0gKFJUICYgMHg3RikgKyAoKGRhdGEucmVhZF9zaGlmdCgxKSAmIDB4N0YpPDw3KTtcblx0XHR2YXIgUiA9IFhMU0JSZWNvcmRFbnVtW1JUXSB8fCBYTFNCUmVjb3JkRW51bVsweEZGRkZdO1xuXHRcdHRtcGJ5dGUgPSBkYXRhLnJlYWRfc2hpZnQoMSk7XG5cdFx0bGVuZ3RoID0gdG1wYnl0ZSAmIDB4N0Y7XG5cdFx0Zm9yKGNudGJ5dGUgPSAxOyBjbnRieXRlIDw0ICYmICh0bXBieXRlICYgMHg4MCk7ICsrY250Ynl0ZSkgbGVuZ3RoICs9ICgodG1wYnl0ZSA9IGRhdGEucmVhZF9zaGlmdCgxKSkgJiAweDdGKTw8KDcqY250Ynl0ZSk7XG5cdFx0dGd0ID0gZGF0YS5sICsgbGVuZ3RoO1xuXHRcdHZhciBkID0gUi5mICYmIFIuZihkYXRhLCBsZW5ndGgsIG9wdHMpO1xuXHRcdGRhdGEubCA9IHRndDtcblx0XHRpZihjYihkLCBSLCBSVCkpIHJldHVybjtcblx0fVxufVxuXG4vKiBjb250cm9sIGJ1ZmZlciB1c2FnZSBmb3IgZml4ZWQtbGVuZ3RoIGJ1ZmZlcnMgKi9cbmZ1bmN0aW9uIGJ1Zl9hcnJheSgpLyo6QnVmQXJyYXkqLyB7XG5cdHZhciBidWZzLyo6QXJyYXk8QmxvY2s+Ki8gPSBbXSwgYmxrc3ogPSBoYXNfYnVmID8gMTYzODQgOiAyMDQ4O1xuXHR2YXIgaGFzX2J1Zl9jb3B5ID0gaGFzX2J1ZiAmJiAodHlwZW9mIG5ld19idWYoYmxrc3opLmNvcHkgPT0gXCJmdW5jdGlvblwiKTtcblx0dmFyIG5ld2JsayA9IGZ1bmN0aW9uIGJhX25ld2Jsayhzei8qOm51bWJlciovKS8qOkJsb2NrKi8ge1xuXHRcdHZhciBvLyo6QmxvY2sqLyA9IChuZXdfYnVmKHN6KS8qOmFueSovKTtcblx0XHRwcmVwX2Jsb2IobywgMCk7XG5cdFx0cmV0dXJuIG87XG5cdH07XG5cblx0dmFyIGN1cmJ1Zi8qOkJsb2NrKi8gPSBuZXdibGsoYmxrc3opO1xuXG5cdHZhciBlbmRidWYgPSBmdW5jdGlvbiBiYV9lbmRidWYoKSB7XG5cdFx0aWYoIWN1cmJ1ZikgcmV0dXJuO1xuXHRcdC8vIHdvcmthcm91bmQgZm9yIG5ldyBCdWZmZXIoMykuc2xpY2UoMCwwKSBidWcgaW4gYnVuIDAuMS4zXG5cdFx0aWYoY3VyYnVmLmwpIHtcblx0XHRcdGlmKGN1cmJ1Zi5sZW5ndGggPiBjdXJidWYubCkgeyBjdXJidWYgPSBjdXJidWYuc2xpY2UoMCwgY3VyYnVmLmwpOyBjdXJidWYubCA9IGN1cmJ1Zi5sZW5ndGg7IH1cblx0XHRcdGlmKGN1cmJ1Zi5sZW5ndGggPiAwKSBidWZzLnB1c2goY3VyYnVmKTtcblx0XHR9XG5cdFx0Y3VyYnVmID0gbnVsbDtcblx0fTtcblxuXHR2YXIgbmV4dCA9IGZ1bmN0aW9uIGJhX25leHQoc3ovKjpudW1iZXIqLykvKjpCbG9jayovIHtcblx0XHRpZihjdXJidWYgJiYgKHN6IDwgKGN1cmJ1Zi5sZW5ndGggLSBjdXJidWYubCkpKSByZXR1cm4gY3VyYnVmO1xuXHRcdGVuZGJ1ZigpO1xuXHRcdHJldHVybiAoY3VyYnVmID0gbmV3YmxrKE1hdGgubWF4KHN6KzEsIGJsa3N6KSkpO1xuXHR9O1xuXG5cdHZhciBlbmQgPSBmdW5jdGlvbiBiYV9lbmQoKSB7XG5cdFx0ZW5kYnVmKCk7XG5cdFx0cmV0dXJuIGJjb25jYXQoYnVmcyk7XG5cdH07XG5cdHZhciBlbmQyID0gZnVuY3Rpb24oKSB7XG5cdFx0ZW5kYnVmKCk7IHJldHVybiBidWZzO1xuXHR9O1xuXG5cdHZhciBwdXNoID0gZnVuY3Rpb24gYmFfcHVzaChidWYpIHtcblx0XHRlbmRidWYoKTsgY3VyYnVmID0gYnVmOyBpZihjdXJidWYubCA9PSBudWxsKSBjdXJidWYubCA9IGN1cmJ1Zi5sZW5ndGg7IG5leHQoYmxrc3opO1xuXHR9O1xuXG5cdHJldHVybiAoeyBuZXh0Om5leHQsIHB1c2g6cHVzaCwgZW5kOmVuZCwgX2J1ZnM6YnVmcywgZW5kMjplbmQyIH0vKjphbnkqLyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3JlY29yZChiYS8qOkJ1ZkFycmF5Ki8sIHR5cGUvKjpudW1iZXIqLywgcGF5bG9hZCwgbGVuZ3RoLyo6P251bWJlciovKSB7XG5cdHZhciB0Lyo6bnVtYmVyKi8gPSArdHlwZSwgbDtcblx0aWYoaXNOYU4odCkpIHJldHVybjsgLy8gVE9ETzogdGhyb3cgc29tZXRoaW5nIGhlcmU/XG5cdGlmKCFsZW5ndGgpIGxlbmd0aCA9IFhMU0JSZWNvcmRFbnVtW3RdLnAgfHwgKHBheWxvYWR8fFtdKS5sZW5ndGggfHwgMDtcblx0bCA9IDEgKyAodCA+PSAweDgwID8gMSA6IDApICsgMS8qICsgbGVuZ3RoKi87XG5cdGlmKGxlbmd0aCA+PSAweDgwKSArK2w7IGlmKGxlbmd0aCA+PSAweDQwMDApICsrbDsgaWYobGVuZ3RoID49IDB4MjAwMDAwKSArK2w7XG5cdHZhciBvID0gYmEubmV4dChsKTtcblx0aWYodCA8PSAweDdGKSBvLndyaXRlX3NoaWZ0KDEsIHQpO1xuXHRlbHNlIHtcblx0XHRvLndyaXRlX3NoaWZ0KDEsICh0ICYgMHg3RikgKyAweDgwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsICh0ID4+IDcpKTtcblx0fVxuXHRmb3IodmFyIGkgPSAwOyBpICE9IDQ7ICsraSkge1xuXHRcdGlmKGxlbmd0aCA+PSAweDgwKSB7IG8ud3JpdGVfc2hpZnQoMSwgKGxlbmd0aCAmIDB4N0YpKzB4ODApOyBsZW5ndGggPj49IDc7IH1cblx0XHRlbHNlIHsgby53cml0ZV9zaGlmdCgxLCBsZW5ndGgpOyBicmVhazsgfVxuXHR9XG5cdGlmKC8qOjogbGVuZ3RoICE9IG51bGwgJiYqL2xlbmd0aCA+IDAgJiYgaXNfYnVmKHBheWxvYWQpKSBiYS5wdXNoKHBheWxvYWQpO1xufVxuLyogWExTIHJhbmdlcyBlbmZvcmNlZCAqL1xuZnVuY3Rpb24gc2hpZnRfY2VsbF94bHMoY2VsbC8qOkNlbGxBZGRyZXNzKi8sIHRndC8qOmFueSovLCBvcHRzLyo6P2FueSovKS8qOkNlbGxBZGRyZXNzKi8ge1xuXHR2YXIgb3V0ID0gZHVwKGNlbGwpO1xuXHRpZih0Z3Qucykge1xuXHRcdGlmKG91dC5jUmVsKSBvdXQuYyArPSB0Z3Qucy5jO1xuXHRcdGlmKG91dC5yUmVsKSBvdXQuciArPSB0Z3Qucy5yO1xuXHR9IGVsc2Uge1xuXHRcdGlmKG91dC5jUmVsKSBvdXQuYyArPSB0Z3QuYztcblx0XHRpZihvdXQuclJlbCkgb3V0LnIgKz0gdGd0LnI7XG5cdH1cblx0aWYoIW9wdHMgfHwgb3B0cy5iaWZmIDwgMTIpIHtcblx0XHR3aGlsZShvdXQuYyA+PSAweDEwMCkgb3V0LmMgLT0gMHgxMDA7XG5cdFx0d2hpbGUob3V0LnIgPj0gMHgxMDAwMCkgb3V0LnIgLT0gMHgxMDAwMDtcblx0fVxuXHRyZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBzaGlmdF9yYW5nZV94bHMoY2VsbCwgcmFuZ2UsIG9wdHMpIHtcblx0dmFyIG91dCA9IGR1cChjZWxsKTtcblx0b3V0LnMgPSBzaGlmdF9jZWxsX3hscyhvdXQucywgcmFuZ2Uucywgb3B0cyk7XG5cdG91dC5lID0gc2hpZnRfY2VsbF94bHMob3V0LmUsIHJhbmdlLnMsIG9wdHMpO1xuXHRyZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBlbmNvZGVfY2VsbF94bHMoYy8qOkNlbGxBZGRyZXNzKi8sIGJpZmYvKjpudW1iZXIqLykvKjpzdHJpbmcqLyB7XG5cdGlmKGMuY1JlbCAmJiBjLmMgPCAwKSB7IGMgPSBkdXAoYyk7IHdoaWxlKGMuYyA8IDApIGMuYyArPSAoYmlmZiA+IDgpID8gMHg0MDAwIDogMHgxMDA7IH1cblx0aWYoYy5yUmVsICYmIGMuciA8IDApIHsgYyA9IGR1cChjKTsgd2hpbGUoYy5yIDwgMCkgYy5yICs9IChiaWZmID4gOCkgPyAweDEwMDAwMCA6ICgoYmlmZiA+IDUpID8gMHgxMDAwMCA6IDB4NDAwMCk7IH1cblx0dmFyIHMgPSBlbmNvZGVfY2VsbChjKTtcblx0aWYoIWMuY1JlbCAmJiBjLmNSZWwgIT0gbnVsbCkgcyA9IGZpeF9jb2wocyk7XG5cdGlmKCFjLnJSZWwgJiYgYy5yUmVsICE9IG51bGwpIHMgPSBmaXhfcm93KHMpO1xuXHRyZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gZW5jb2RlX3JhbmdlX3hscyhyLCBvcHRzKS8qOnN0cmluZyovIHtcblx0aWYoci5zLnIgPT0gMCAmJiAhci5zLnJSZWwpIHtcblx0XHRpZihyLmUuciA9PSAob3B0cy5iaWZmID49IDEyID8gMHhGRkZGRiA6IChvcHRzLmJpZmYgPj0gOCA/IDB4MTAwMDAgOiAweDQwMDApKSAmJiAhci5lLnJSZWwpIHtcblx0XHRcdHJldHVybiAoci5zLmNSZWwgPyBcIlwiIDogXCIkXCIpICsgZW5jb2RlX2NvbChyLnMuYykgKyBcIjpcIiArIChyLmUuY1JlbCA/IFwiXCIgOiBcIiRcIikgKyBlbmNvZGVfY29sKHIuZS5jKTtcblx0XHR9XG5cdH1cblx0aWYoci5zLmMgPT0gMCAmJiAhci5zLmNSZWwpIHtcblx0XHRpZihyLmUuYyA9PSAob3B0cy5iaWZmID49IDEyID8gMHgzRkZGIDogMHhGRikgJiYgIXIuZS5jUmVsKSB7XG5cdFx0XHRyZXR1cm4gKHIucy5yUmVsID8gXCJcIiA6IFwiJFwiKSArIGVuY29kZV9yb3coci5zLnIpICsgXCI6XCIgKyAoci5lLnJSZWwgPyBcIlwiIDogXCIkXCIpICsgZW5jb2RlX3JvdyhyLmUucik7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBlbmNvZGVfY2VsbF94bHMoci5zLCBvcHRzLmJpZmYpICsgXCI6XCIgKyBlbmNvZGVfY2VsbF94bHMoci5lLCBvcHRzLmJpZmYpO1xufVxuZnVuY3Rpb24gZGVjb2RlX3Jvdyhyb3dzdHIvKjpzdHJpbmcqLykvKjpudW1iZXIqLyB7IHJldHVybiBwYXJzZUludCh1bmZpeF9yb3cocm93c3RyKSwxMCkgLSAxOyB9XG5mdW5jdGlvbiBlbmNvZGVfcm93KHJvdy8qOm51bWJlciovKS8qOnN0cmluZyovIHsgcmV0dXJuIFwiXCIgKyAocm93ICsgMSk7IH1cbmZ1bmN0aW9uIGZpeF9yb3coY3N0ci8qOnN0cmluZyovKS8qOnN0cmluZyovIHsgcmV0dXJuIGNzdHIucmVwbGFjZSgvKFtBLVpdfF4pKFxcZCspJC8sXCIkMSQkJDJcIik7IH1cbmZ1bmN0aW9uIHVuZml4X3Jvdyhjc3RyLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8geyByZXR1cm4gY3N0ci5yZXBsYWNlKC9cXCQoXFxkKykkLyxcIiQxXCIpOyB9XG5cbmZ1bmN0aW9uIGRlY29kZV9jb2woY29sc3RyLyo6c3RyaW5nKi8pLyo6bnVtYmVyKi8geyB2YXIgYyA9IHVuZml4X2NvbChjb2xzdHIpLCBkID0gMCwgaSA9IDA7IGZvcig7IGkgIT09IGMubGVuZ3RoOyArK2kpIGQgPSAyNipkICsgYy5jaGFyQ29kZUF0KGkpIC0gNjQ7IHJldHVybiBkIC0gMTsgfVxuZnVuY3Rpb24gZW5jb2RlX2NvbChjb2wvKjpudW1iZXIqLykvKjpzdHJpbmcqLyB7IGlmKGNvbCA8IDApIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgY29sdW1uIFwiICsgY29sKTsgdmFyIHM9XCJcIjsgZm9yKCsrY29sOyBjb2w7IGNvbD1NYXRoLmZsb29yKChjb2wtMSkvMjYpKSBzID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGNvbC0xKSUyNikgKyA2NSkgKyBzOyByZXR1cm4gczsgfVxuZnVuY3Rpb24gZml4X2NvbChjc3RyLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8geyByZXR1cm4gY3N0ci5yZXBsYWNlKC9eKFtBLVpdKS8sXCIkJCQxXCIpOyB9XG5mdW5jdGlvbiB1bmZpeF9jb2woY3N0ci8qOnN0cmluZyovKS8qOnN0cmluZyovIHsgcmV0dXJuIGNzdHIucmVwbGFjZSgvXlxcJChbQS1aXSkvLFwiJDFcIik7IH1cblxuZnVuY3Rpb24gc3BsaXRfY2VsbChjc3RyLyo6c3RyaW5nKi8pLyo6QXJyYXk8c3RyaW5nPiovIHsgcmV0dXJuIGNzdHIucmVwbGFjZSgvKFxcJD9bQS1aXSopKFxcJD9cXGQqKS8sXCIkMSwkMlwiKS5zcGxpdChcIixcIik7IH1cbmZ1bmN0aW9uIGRlY29kZV9jZWxsKGNzdHIvKjpzdHJpbmcqLykvKjpDZWxsQWRkcmVzcyovIHtcblx0dmFyIFIgPSAwLCBDID0gMDtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGNzdHIubGVuZ3RoOyArK2kpIHtcblx0XHR2YXIgY2MgPSBjc3RyLmNoYXJDb2RlQXQoaSk7XG5cdFx0aWYoY2MgPj0gNDggJiYgY2MgPD0gNTcpIFIgPSAxMCAqIFIgKyAoY2MgLSA0OCk7XG5cdFx0ZWxzZSBpZihjYyA+PSA2NSAmJiBjYyA8PSA5MCkgQyA9IDI2ICogQyArIChjYyAtIDY0KTtcblx0fVxuXHRyZXR1cm4geyBjOiBDIC0gMSwgcjpSIC0gMSB9O1xufVxuZnVuY3Rpb24gZW5jb2RlX2NlbGwoY2VsbC8qOkNlbGxBZGRyZXNzKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgY29sID0gY2VsbC5jICsgMTtcblx0dmFyIHM9XCJcIjtcblx0Zm9yKDsgY29sOyBjb2w9KChjb2wtMSkvMjYpfDApIHMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoY29sLTEpJTI2KSArIDY1KSArIHM7XG5cdHJldHVybiBzICsgKGNlbGwuciArIDEpO1xufVxuZnVuY3Rpb24gZGVjb2RlX3JhbmdlKHJhbmdlLyo6c3RyaW5nKi8pLyo6UmFuZ2UqLyB7XG5cdHZhciBpZHggPSByYW5nZS5pbmRleE9mKFwiOlwiKTtcblx0aWYoaWR4ID09IC0xKSByZXR1cm4geyBzOiBkZWNvZGVfY2VsbChyYW5nZSksIGU6IGRlY29kZV9jZWxsKHJhbmdlKSB9O1xuXHRyZXR1cm4geyBzOiBkZWNvZGVfY2VsbChyYW5nZS5zbGljZSgwLCBpZHgpKSwgZTogZGVjb2RlX2NlbGwocmFuZ2Uuc2xpY2UoaWR4ICsgMSkpIH07XG59XG4vKiMgaWYgb25seSBvbmUgYXJnLCBpdCBpcyBhc3N1bWVkIHRvIGJlIGEgUmFuZ2UuICBJZiAyIGFyZ3MsIGJvdGggYXJlIGNlbGwgYWRkcmVzc2VzICovXG5mdW5jdGlvbiBlbmNvZGVfcmFuZ2UoY3MvKjpDZWxsQWRkclNwZWN8UmFuZ2UqLyxjZS8qOj9DZWxsQWRkclNwZWMqLykvKjpzdHJpbmcqLyB7XG5cdGlmKHR5cGVvZiBjZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGNlID09PSAnbnVtYmVyJykge1xuLyo6OiBpZighKGNzIGluc3RhbmNlb2YgUmFuZ2UpKSB0aHJvdyBcInVucmVhY2hhYmxlXCI7ICovXG5cdFx0cmV0dXJuIGVuY29kZV9yYW5nZShjcy5zLCBjcy5lKTtcblx0fVxuLyo6OiBpZigoY3MgaW5zdGFuY2VvZiBSYW5nZSkpIHRocm93IFwidW5yZWFjaGFibGVcIjsgKi9cblx0aWYodHlwZW9mIGNzICE9PSAnc3RyaW5nJykgY3MgPSBlbmNvZGVfY2VsbCgoY3MvKjphbnkqLykpO1xuXHRpZih0eXBlb2YgY2UgIT09ICdzdHJpbmcnKSBjZSA9IGVuY29kZV9jZWxsKChjZS8qOmFueSovKSk7XG4vKjo6IGlmKHR5cGVvZiBjcyAhPT0gJ3N0cmluZycpIHRocm93IFwidW5yZWFjaGFibGVcIjsgKi9cbi8qOjogaWYodHlwZW9mIGNlICE9PSAnc3RyaW5nJykgdGhyb3cgXCJ1bnJlYWNoYWJsZVwiOyAqL1xuXHRyZXR1cm4gY3MgPT0gY2UgPyBjcyA6IGNzICsgXCI6XCIgKyBjZTtcbn1cbmZ1bmN0aW9uIGZpeF9yYW5nZShhMS8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0dmFyIHMgPSBkZWNvZGVfcmFuZ2UoYTEpO1xuXHRyZXR1cm4gXCIkXCIgKyBlbmNvZGVfY29sKHMucy5jKSArIFwiJFwiICsgZW5jb2RlX3JvdyhzLnMucikgKyBcIjokXCIgKyBlbmNvZGVfY29sKHMuZS5jKSArIFwiJFwiICsgZW5jb2RlX3JvdyhzLmUucik7XG59XG5cbi8vIExpc3Qgb2YgaW52YWxpZCBjaGFyYWN0ZXJzIG5lZWRzIHRvIGJlIHRlc3RlZCBmdXJ0aGVyXG5mdW5jdGlvbiBmb3JtdWxhX3F1b3RlX3NoZWV0X25hbWUoc25hbWUvKjpzdHJpbmcqLywgb3B0cykvKjpzdHJpbmcqLyB7XG5cdGlmKCFzbmFtZSAmJiAhKG9wdHMgJiYgb3B0cy5iaWZmIDw9IDUgJiYgb3B0cy5iaWZmID49IDIpKSB0aHJvdyBuZXcgRXJyb3IoXCJlbXB0eSBzaGVldCBuYW1lXCIpO1xuXHRpZiAoL1teXFx3XFx1NEUwMC1cXHU5RkZGXFx1MzA0MC1cXHUzMEZGXS8udGVzdChzbmFtZSkpIHJldHVybiBcIidcIiArIHNuYW1lLnJlcGxhY2UoLycvZywgXCInJ1wiKSArIFwiJ1wiO1xuXHRyZXR1cm4gc25hbWU7XG59XG5cbmZ1bmN0aW9uIHNhZmVfZGVjb2RlX3JhbmdlKHJhbmdlLyo6c3RyaW5nKi8pLyo6UmFuZ2UqLyB7XG5cdHZhciBvID0ge3M6e2M6MCxyOjB9LGU6e2M6MCxyOjB9fTtcblx0dmFyIGlkeCA9IDAsIGkgPSAwLCBjYyA9IDA7XG5cdHZhciBsZW4gPSByYW5nZS5sZW5ndGg7XG5cdGZvcihpZHggPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0XHRpZigoY2M9cmFuZ2UuY2hhckNvZGVBdChpKS02NCkgPCAxIHx8IGNjID4gMjYpIGJyZWFrO1xuXHRcdGlkeCA9IDI2KmlkeCArIGNjO1xuXHR9XG5cdG8ucy5jID0gLS1pZHg7XG5cblx0Zm9yKGlkeCA9IDA7IGkgPCBsZW47ICsraSkge1xuXHRcdGlmKChjYz1yYW5nZS5jaGFyQ29kZUF0KGkpLTQ4KSA8IDAgfHwgY2MgPiA5KSBicmVhaztcblx0XHRpZHggPSAxMCppZHggKyBjYztcblx0fVxuXHRvLnMuciA9IC0taWR4O1xuXG5cdGlmKGkgPT09IGxlbiB8fCBjYyAhPSAxMCkgeyBvLmUuYz1vLnMuYzsgby5lLnI9by5zLnI7IHJldHVybiBvOyB9XG5cdCsraTtcblxuXHRmb3IoaWR4ID0gMDsgaSAhPSBsZW47ICsraSkge1xuXHRcdGlmKChjYz1yYW5nZS5jaGFyQ29kZUF0KGkpLTY0KSA8IDEgfHwgY2MgPiAyNikgYnJlYWs7XG5cdFx0aWR4ID0gMjYqaWR4ICsgY2M7XG5cdH1cblx0by5lLmMgPSAtLWlkeDtcblxuXHRmb3IoaWR4ID0gMDsgaSAhPSBsZW47ICsraSkge1xuXHRcdGlmKChjYz1yYW5nZS5jaGFyQ29kZUF0KGkpLTQ4KSA8IDAgfHwgY2MgPiA5KSBicmVhaztcblx0XHRpZHggPSAxMCppZHggKyBjYztcblx0fVxuXHRvLmUuciA9IC0taWR4O1xuXHRyZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gc2FmZV9mb3JtYXRfY2VsbChjZWxsLyo6Q2VsbCovLCB2Lyo6YW55Ki8pIHtcblx0dmFyIHEgPSAoY2VsbC50ID09ICdkJyAmJiB2IGluc3RhbmNlb2YgRGF0ZSk7XG5cdGlmKGNlbGwueiAhPSBudWxsKSB0cnkgeyByZXR1cm4gKGNlbGwudyA9IFNTRl9mb3JtYXQoY2VsbC56LCBxID8gZGF0ZW51bSh2KSA6IHYpKTsgfSBjYXRjaChlKSB7IH1cblx0dHJ5IHsgcmV0dXJuIChjZWxsLncgPSBTU0ZfZm9ybWF0KChjZWxsLlhGfHx7fSkubnVtRm10SWR8fChxID8gMTQgOiAwKSwgIHEgPyBkYXRlbnVtKHYpIDogdikpOyB9IGNhdGNoKGUpIHsgcmV0dXJuICcnK3Y7IH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0X2NlbGwoY2VsbC8qOkNlbGwqLywgdi8qOmFueSovLCBvLyo6YW55Ki8pIHtcblx0aWYoY2VsbCA9PSBudWxsIHx8IGNlbGwudCA9PSBudWxsIHx8IGNlbGwudCA9PSAneicpIHJldHVybiBcIlwiO1xuXHRpZihjZWxsLncgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGNlbGwudztcblx0aWYoY2VsbC50ID09ICdkJyAmJiAhY2VsbC56ICYmIG8gJiYgby5kYXRlTkYpIGNlbGwueiA9IG8uZGF0ZU5GO1xuXHRpZihjZWxsLnQgPT0gXCJlXCIpIHJldHVybiBCRXJyW2NlbGwudl0gfHwgY2VsbC52O1xuXHRpZih2ID09IHVuZGVmaW5lZCkgcmV0dXJuIHNhZmVfZm9ybWF0X2NlbGwoY2VsbCwgY2VsbC52KTtcblx0cmV0dXJuIHNhZmVfZm9ybWF0X2NlbGwoY2VsbCwgdik7XG59XG5cbmZ1bmN0aW9uIHNoZWV0X3RvX3dvcmtib29rKHNoZWV0Lyo6V29ya3NoZWV0Ki8sIG9wdHMpLyo6V29ya2Jvb2sqLyB7XG5cdHZhciBuID0gb3B0cyAmJiBvcHRzLnNoZWV0ID8gb3B0cy5zaGVldCA6IFwiU2hlZXQxXCI7XG5cdHZhciBzaGVldHMgPSB7fTsgc2hlZXRzW25dID0gc2hlZXQ7XG5cdHJldHVybiB7IFNoZWV0TmFtZXM6IFtuXSwgU2hlZXRzOiBzaGVldHMgfTtcbn1cblxuZnVuY3Rpb24gc2hlZXRfbmV3KG9wdHMpIHtcblx0dmFyIG91dCA9IHt9O1xuXHR2YXIgbyA9IG9wdHMgfHwge307XG5cdGlmKG8uZGVuc2UpIG91dFtcIiFkYXRhXCJdID0gW107XG5cdHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHNoZWV0X2FkZF9hb2EoX3dzLyo6P1dvcmtzaGVldCovLCBkYXRhLyo6QU9BKi8sIG9wdHMvKjo/YW55Ki8pLyo6V29ya3NoZWV0Ki8ge1xuXHR2YXIgbyA9IG9wdHMgfHwge307XG5cdHZhciBkZW5zZSA9IF93cyA/IChfd3NbXCIhZGF0YVwiXSAhPSBudWxsKSA6IG8uZGVuc2U7XG5cdGlmKERFTlNFICE9IG51bGwgJiYgZGVuc2UgPT0gbnVsbCkgZGVuc2UgPSBERU5TRTtcblx0dmFyIHdzLyo6V29ya3NoZWV0Ki8gPSBfd3MgfHwgKGRlbnNlID8gKHtcIiFkYXRhXCI6IFtdfSkgOiAoe30vKjphbnkqLykpO1xuXHRpZihkZW5zZSAmJiAhd3NbXCIhZGF0YVwiXSkgd3NbXCIhZGF0YVwiXSA9IFtdO1xuXHR2YXIgX1IgPSAwLCBfQyA9IDA7XG5cdGlmKHdzICYmIG8ub3JpZ2luICE9IG51bGwpIHtcblx0XHRpZih0eXBlb2Ygby5vcmlnaW4gPT0gJ251bWJlcicpIF9SID0gby5vcmlnaW47XG5cdFx0ZWxzZSB7XG5cdFx0XHR2YXIgX29yaWdpbi8qOkNlbGxBZGRyZXNzKi8gPSB0eXBlb2Ygby5vcmlnaW4gPT0gXCJzdHJpbmdcIiA/IGRlY29kZV9jZWxsKG8ub3JpZ2luKSA6IG8ub3JpZ2luO1xuXHRcdFx0X1IgPSBfb3JpZ2luLnI7IF9DID0gX29yaWdpbi5jO1xuXHRcdH1cblx0fVxuXHR2YXIgcmFuZ2UvKjpSYW5nZSovID0gKHtzOiB7YzoxMDAwMDAwMCwgcjoxMDAwMDAwMH0sIGU6IHtjOjAsIHI6MH19Lyo6YW55Ki8pO1xuXHRpZih3c1tcIiFyZWZcIl0pe1xuXHRcdHZhciBfcmFuZ2UgPSBzYWZlX2RlY29kZV9yYW5nZSh3c1snIXJlZiddKTtcblx0XHRyYW5nZS5zLmMgPSBfcmFuZ2Uucy5jO1xuXHRcdHJhbmdlLnMuciA9IF9yYW5nZS5zLnI7XG5cdFx0cmFuZ2UuZS5jID0gTWF0aC5tYXgocmFuZ2UuZS5jLCBfcmFuZ2UuZS5jKTtcblx0XHRyYW5nZS5lLnIgPSBNYXRoLm1heChyYW5nZS5lLnIsIF9yYW5nZS5lLnIpO1xuXHRcdGlmKF9SID09IC0xKSByYW5nZS5lLnIgPSBfUiA9ICh3c1tcIiFyZWZcIl0gPyBfcmFuZ2UuZS5yICsgMSA6IDApO1xuXHR9IGVsc2Uge1xuXHRcdHJhbmdlLnMuYyA9IHJhbmdlLmUuYyA9IHJhbmdlLnMuciA9IHJhbmdlLmUuciA9IDA7XG5cdH1cblx0dmFyIHJvdyA9IFtdLCBzZWVuID0gZmFsc2U7XG5cdGZvcih2YXIgUiA9IDA7IFIgIT0gZGF0YS5sZW5ndGg7ICsrUikge1xuXHRcdGlmKCFkYXRhW1JdKSBjb250aW51ZTtcblx0XHRpZighQXJyYXkuaXNBcnJheShkYXRhW1JdKSkgdGhyb3cgbmV3IEVycm9yKFwiYW9hX3RvX3NoZWV0IGV4cGVjdHMgYW4gYXJyYXkgb2YgYXJyYXlzXCIpO1xuXHRcdHZhciBfX1IgPSBfUiArIFI7XG5cdFx0aWYoZGVuc2UpIHtcblx0XHRcdGlmKCF3c1tcIiFkYXRhXCJdW19fUl0pIHdzW1wiIWRhdGFcIl1bX19SXSA9IFtdO1xuXHRcdFx0cm93ID0gd3NbXCIhZGF0YVwiXVtfX1JdO1xuXHRcdH1cblx0XHR2YXIgZGF0YV9SID0gZGF0YVtSXTtcblx0XHRmb3IodmFyIEMgPSAwOyBDICE9IGRhdGFfUi5sZW5ndGg7ICsrQykge1xuXHRcdFx0aWYodHlwZW9mIGRhdGFfUltDXSA9PT0gJ3VuZGVmaW5lZCcpIGNvbnRpbnVlO1xuXHRcdFx0dmFyIGNlbGwvKjpDZWxsKi8gPSAoe3Y6IGRhdGFfUltDXSwgdDpcIlwiIH0vKjphbnkqLyk7XG5cdFx0XHR2YXIgX19DID0gX0MgKyBDO1xuXHRcdFx0aWYocmFuZ2Uucy5yID4gX19SKSByYW5nZS5zLnIgPSBfX1I7XG5cdFx0XHRpZihyYW5nZS5zLmMgPiBfX0MpIHJhbmdlLnMuYyA9IF9fQztcblx0XHRcdGlmKHJhbmdlLmUuciA8IF9fUikgcmFuZ2UuZS5yID0gX19SO1xuXHRcdFx0aWYocmFuZ2UuZS5jIDwgX19DKSByYW5nZS5lLmMgPSBfX0M7XG5cdFx0XHRzZWVuID0gdHJ1ZTtcblx0XHRcdGlmKGRhdGFfUltDXSAmJiB0eXBlb2YgZGF0YV9SW0NdID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShkYXRhX1JbQ10pICYmICEoZGF0YV9SW0NdIGluc3RhbmNlb2YgRGF0ZSkpIGNlbGwgPSBkYXRhX1JbQ107XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYoQXJyYXkuaXNBcnJheShjZWxsLnYpKSB7IGNlbGwuZiA9IGRhdGFfUltDXVsxXTsgY2VsbC52ID0gY2VsbC52WzBdOyB9XG5cdFx0XHRcdGlmKGNlbGwudiA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdGlmKGNlbGwuZikgY2VsbC50ID0gJ24nO1xuXHRcdFx0XHRcdGVsc2UgaWYoby5udWxsRXJyb3IpIHsgY2VsbC50ID0gJ2UnOyBjZWxsLnYgPSAwOyB9XG5cdFx0XHRcdFx0ZWxzZSBpZighby5zaGVldFN0dWJzKSBjb250aW51ZTtcblx0XHRcdFx0XHRlbHNlIGNlbGwudCA9ICd6Jztcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBjZWxsLnYgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdFx0aWYoaXNGaW5pdGUoY2VsbC52KSkgY2VsbC50ID0gJ24nO1xuXHRcdFx0XHRcdGVsc2UgaWYoaXNOYU4oY2VsbC52KSkgeyBjZWxsLnQgPSAnZSc7IGNlbGwudiA9IDB4MEY7IC8qICNWQUxVRSEgKi8gfVxuXHRcdFx0XHRcdGVsc2UgeyBjZWxsLnQgPSAnZSc7IGNlbGwudiA9IDB4MDc7IC8qIyBESVYvMCAqLyB9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgY2VsbC52ID09PSAnYm9vbGVhbicpIGNlbGwudCA9ICdiJztcblx0XHRcdFx0ZWxzZSBpZihjZWxsLnYgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdFx0XHRcdFx0Y2VsbC56ID0gby5kYXRlTkYgfHwgdGFibGVfZm10WzE0XTtcblx0XHRcdFx0XHRpZighby5VVEMpIGNlbGwudiA9IGxvY2FsX3RvX3V0YyhjZWxsLnYpO1xuXHRcdFx0XHRcdGlmKG8uY2VsbERhdGVzKSB7IGNlbGwudCA9ICdkJzsgY2VsbC53ID0gU1NGX2Zvcm1hdChjZWxsLnosIGRhdGVudW0oY2VsbC52LCBvLmRhdGUxOTA0KSk7IH1cblx0XHRcdFx0XHRlbHNlIHsgY2VsbC50ID0gJ24nOyBjZWxsLnYgPSBkYXRlbnVtKGNlbGwudiwgby5kYXRlMTkwNCk7IGNlbGwudyA9IFNTRl9mb3JtYXQoY2VsbC56LCBjZWxsLnYpOyB9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBjZWxsLnQgPSAncyc7XG5cdFx0XHR9XG5cdFx0XHRpZihkZW5zZSkge1xuXHRcdFx0XHRpZihyb3dbX19DXSAmJiByb3dbX19DXS56KSBjZWxsLnogPSByb3dbX19DXS56O1xuXHRcdFx0XHRyb3dbX19DXSA9IGNlbGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgY2VsbF9yZWYgPSBlbmNvZGVfY29sKF9fQykgKyAoX19SICsgMSkvKjphbnkqLztcblx0XHRcdFx0aWYod3NbY2VsbF9yZWZdICYmIHdzW2NlbGxfcmVmXS56KSBjZWxsLnogPSB3c1tjZWxsX3JlZl0uejtcblx0XHRcdFx0d3NbY2VsbF9yZWZdID0gY2VsbDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYoc2VlbiAmJiByYW5nZS5zLmMgPCAxMDQwMDAwMCkgd3NbJyFyZWYnXSA9IGVuY29kZV9yYW5nZShyYW5nZSk7XG5cdHJldHVybiB3cztcbn1cbmZ1bmN0aW9uIGFvYV90b19zaGVldChkYXRhLyo6QU9BKi8sIG9wdHMvKjo/YW55Ki8pLyo6V29ya3NoZWV0Ki8geyByZXR1cm4gc2hlZXRfYWRkX2FvYShudWxsLCBkYXRhLCBvcHRzKTsgfVxuZnVuY3Rpb24gcGFyc2VfSW50MzJMRShkYXRhKSB7XG5cdHJldHVybiBkYXRhLnJlYWRfc2hpZnQoNCwgJ2knKTtcbn1cbmZ1bmN0aW9uIHdyaXRlX1VJbnQzMkxFKHgvKjpudW1iZXIqLywgbykge1xuXHRpZiAoIW8pIG8gPSBuZXdfYnVmKDQpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIHgpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNS4xNjggKi9cbmZ1bmN0aW9uIHBhcnNlX1hMV2lkZVN0cmluZyhkYXRhLyo6OiwgbGVuZ3RoKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgY2NoQ2hhcmFjdGVycyA9IGRhdGEucmVhZF9zaGlmdCg0KTtcblx0cmV0dXJuIGNjaENoYXJhY3RlcnMgPT09IDAgPyBcIlwiIDogZGF0YS5yZWFkX3NoaWZ0KGNjaENoYXJhY3RlcnMsICdkYmNzJyk7XG59XG5mdW5jdGlvbiB3cml0ZV9YTFdpZGVTdHJpbmcoZGF0YS8qOnN0cmluZyovLCBvKSB7XG5cdHZhciBfbnVsbCA9IGZhbHNlOyBpZiAobyA9PSBudWxsKSB7IF9udWxsID0gdHJ1ZTsgbyA9IG5ld19idWYoNCArIDIgKiBkYXRhLmxlbmd0aCk7IH1cblx0by53cml0ZV9zaGlmdCg0LCBkYXRhLmxlbmd0aCk7XG5cdGlmIChkYXRhLmxlbmd0aCA+IDApIG8ud3JpdGVfc2hpZnQoMCwgZGF0YSwgJ2RiY3MnKTtcblx0cmV0dXJuIF9udWxsID8gby5zbGljZSgwLCBvLmwpIDogbztcbn1cblxuLyogW01TLVhMU0JdIDIuNS45MSAqL1xuLy9mdW5jdGlvbiBwYXJzZV9MUFdpZGVTdHJpbmcoZGF0YS8qOjosIGxlbmd0aCovKS8qOnN0cmluZyovIHtcbi8vXHR2YXIgY2NoQ2hhcmFjdGVycyA9IGRhdGEucmVhZF9zaGlmdCgyKTtcbi8vXHRyZXR1cm4gY2NoQ2hhcmFjdGVycyA9PT0gMCA/IFwiXCIgOiBkYXRhLnJlYWRfc2hpZnQoY2NoQ2hhcmFjdGVycywgXCJ1dGYxNmxlXCIpO1xuLy99XG5cbi8qIFtNUy1YTFNCXSAyLjUuMTQzICovXG5mdW5jdGlvbiBwYXJzZV9TdHJSdW4oZGF0YSkge1xuXHRyZXR1cm4geyBpY2g6IGRhdGEucmVhZF9zaGlmdCgyKSwgaWZudDogZGF0YS5yZWFkX3NoaWZ0KDIpIH07XG59XG5mdW5jdGlvbiB3cml0ZV9TdHJSdW4ocnVuLCBvKSB7XG5cdGlmICghbykgbyA9IG5ld19idWYoNCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgcnVuLmljaCB8fCAwKTtcblx0by53cml0ZV9zaGlmdCgyLCBydW4uaWZudCB8fCAwKTtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNCXSAyLjUuMTIxICovXG5mdW5jdGlvbiBwYXJzZV9SaWNoU3RyKGRhdGEsIGxlbmd0aC8qOm51bWJlciovKS8qOlhMU3RyaW5nKi8ge1xuXHR2YXIgc3RhcnQgPSBkYXRhLmw7XG5cdHZhciBmbGFncyA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0dmFyIHN0ciA9IHBhcnNlX1hMV2lkZVN0cmluZyhkYXRhKTtcblx0dmFyIHJnc1N0clJ1biA9IFtdO1xuXHR2YXIgeiA9ICh7IHQ6IHN0ciwgaDogc3RyIH0vKjphbnkqLyk7XG5cdGlmICgoZmxhZ3MgJiAxKSAhPT0gMCkgeyAvKiBmUmljaFN0ciAqL1xuXHRcdC8qIFRPRE86IGZvcm1hdHRlZCBzdHJpbmcgKi9cblx0XHR2YXIgZHdTaXplU3RyUnVuID0gZGF0YS5yZWFkX3NoaWZ0KDQpO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpICE9IGR3U2l6ZVN0clJ1bjsgKytpKSByZ3NTdHJSdW4ucHVzaChwYXJzZV9TdHJSdW4oZGF0YSkpO1xuXHRcdHouciA9IHJnc1N0clJ1bjtcblx0fVxuXHRlbHNlIHouciA9IFt7IGljaDogMCwgaWZudDogMCB9XTtcblx0Ly9pZigoZmxhZ3MgJiAyKSAhPT0gMCkgeyAvKiBmRXh0U3RyICovXG5cdC8vXHQvKiBUT0RPOiBwaG9uZXRpYyBzdHJpbmcgKi9cblx0Ly99XG5cdGRhdGEubCA9IHN0YXJ0ICsgbGVuZ3RoO1xuXHRyZXR1cm4gejtcbn1cbmZ1bmN0aW9uIHdyaXRlX1JpY2hTdHIoc3RyLyo6WExTdHJpbmcqLywgby8qOj9CbG9jayovKS8qOkJsb2NrKi8ge1xuXHQvKiBUT0RPOiBmb3JtYXR0ZWQgc3RyaW5nICovXG5cdHZhciBfbnVsbCA9IGZhbHNlOyBpZiAobyA9PSBudWxsKSB7IF9udWxsID0gdHJ1ZTsgbyA9IG5ld19idWYoMTUgKyA0ICogc3RyLnQubGVuZ3RoKTsgfVxuXHRvLndyaXRlX3NoaWZ0KDEsIDApO1xuXHR3cml0ZV9YTFdpZGVTdHJpbmcoc3RyLnQsIG8pO1xuXHRyZXR1cm4gX251bGwgPyBvLnNsaWNlKDAsIG8ubCkgOiBvO1xufVxuLyogW01TLVhMU0JdIDIuNC4zMjggQnJ0Q29tbWVudFRleHQgKFJpY2hTdHIgdy8xIHJ1bikgKi9cbnZhciBwYXJzZV9CcnRDb21tZW50VGV4dCA9IHBhcnNlX1JpY2hTdHI7XG5mdW5jdGlvbiB3cml0ZV9CcnRDb21tZW50VGV4dChzdHIvKjpYTFN0cmluZyovLCBvLyo6P0Jsb2NrKi8pLyo6QmxvY2sqLyB7XG5cdC8qIFRPRE86IGZvcm1hdHRlZCBzdHJpbmcgKi9cblx0dmFyIF9udWxsID0gZmFsc2U7IGlmIChvID09IG51bGwpIHsgX251bGwgPSB0cnVlOyBvID0gbmV3X2J1ZigyMyArIDQgKiBzdHIudC5sZW5ndGgpOyB9XG5cdG8ud3JpdGVfc2hpZnQoMSwgMSk7XG5cdHdyaXRlX1hMV2lkZVN0cmluZyhzdHIudCwgbyk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMSk7XG5cdHdyaXRlX1N0clJ1bih7IGljaDogMCwgaWZudDogMCB9LCBvKTtcblx0cmV0dXJuIF9udWxsID8gby5zbGljZSgwLCBvLmwpIDogbztcbn1cblxuLyogW01TLVhMU0JdIDIuNS45ICovXG5mdW5jdGlvbiBwYXJzZV9YTFNCQ2VsbChkYXRhKS8qOmFueSovIHtcblx0dmFyIGNvbCA9IGRhdGEucmVhZF9zaGlmdCg0KTtcblx0dmFyIGlTdHlsZVJlZiA9IGRhdGEucmVhZF9zaGlmdCgyKTtcblx0aVN0eWxlUmVmICs9IGRhdGEucmVhZF9zaGlmdCgxKSA8PCAxNjtcblx0ZGF0YS5sKys7IC8vdmFyIGZQaFNob3cgPSBkYXRhLnJlYWRfc2hpZnQoMSk7XG5cdHJldHVybiB7IGM6IGNvbCwgaVN0eWxlUmVmOiBpU3R5bGVSZWYgfTtcbn1cbmZ1bmN0aW9uIHdyaXRlX1hMU0JDZWxsKGNlbGwvKjphbnkqLywgby8qOj9CbG9jayovKSB7XG5cdGlmIChvID09IG51bGwpIG8gPSBuZXdfYnVmKDgpO1xuXHRvLndyaXRlX3NoaWZ0KC00LCBjZWxsLmMpO1xuXHRvLndyaXRlX3NoaWZ0KDMsIGNlbGwuaVN0eWxlUmVmIHx8IGNlbGwucyk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgMCk7IC8qIGZQaFNob3cgKi9cblx0cmV0dXJuIG87XG59XG5cbi8qIFNob3J0IFhMU0IgQ2VsbCBkb2VzIG5vdCBpbmNsdWRlIGNvbHVtbiAqL1xuZnVuY3Rpb24gcGFyc2VfWExTQlNob3J0Q2VsbChkYXRhKS8qOmFueSovIHtcblx0dmFyIGlTdHlsZVJlZiA9IGRhdGEucmVhZF9zaGlmdCgyKTtcblx0aVN0eWxlUmVmICs9IGRhdGEucmVhZF9zaGlmdCgxKSA8PDE2O1xuXHRkYXRhLmwrKzsgLy92YXIgZlBoU2hvdyA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0cmV0dXJuIHsgYzotMSwgaVN0eWxlUmVmOiBpU3R5bGVSZWYgfTtcbn1cbmZ1bmN0aW9uIHdyaXRlX1hMU0JTaG9ydENlbGwoY2VsbC8qOmFueSovLCBvLyo6P0Jsb2NrKi8pIHtcblx0aWYobyA9PSBudWxsKSBvID0gbmV3X2J1Zig0KTtcblx0by53cml0ZV9zaGlmdCgzLCBjZWxsLmlTdHlsZVJlZiB8fCBjZWxsLnMpO1xuXHRvLndyaXRlX3NoaWZ0KDEsIDApOyAvKiBmUGhTaG93ICovXG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTQl0gMi41LjIxICovXG52YXIgcGFyc2VfWExTQkNvZGVOYW1lID0gcGFyc2VfWExXaWRlU3RyaW5nO1xudmFyIHdyaXRlX1hMU0JDb2RlTmFtZSA9IHdyaXRlX1hMV2lkZVN0cmluZztcblxuLyogW01TLVhMU0JdIDIuNS4xNjYgKi9cbmZ1bmN0aW9uIHBhcnNlX1hMTnVsbGFibGVXaWRlU3RyaW5nKGRhdGEvKjo6LCBsZW5ndGgqLykvKjpzdHJpbmcqLyB7XG5cdHZhciBjY2hDaGFyYWN0ZXJzID0gZGF0YS5yZWFkX3NoaWZ0KDQpO1xuXHRyZXR1cm4gY2NoQ2hhcmFjdGVycyA9PT0gMCB8fCBjY2hDaGFyYWN0ZXJzID09PSAweEZGRkZGRkZGID8gXCJcIiA6IGRhdGEucmVhZF9zaGlmdChjY2hDaGFyYWN0ZXJzLCAnZGJjcycpO1xufVxuZnVuY3Rpb24gd3JpdGVfWExOdWxsYWJsZVdpZGVTdHJpbmcoZGF0YS8qOnN0cmluZyovLCBvKSB7XG5cdHZhciBfbnVsbCA9IGZhbHNlOyBpZiAobyA9PSBudWxsKSB7IF9udWxsID0gdHJ1ZTsgbyA9IG5ld19idWYoMTI3KTsgfVxuXHRvLndyaXRlX3NoaWZ0KDQsIGRhdGEubGVuZ3RoID4gMCA/IGRhdGEubGVuZ3RoIDogMHhGRkZGRkZGRik7XG5cdGlmIChkYXRhLmxlbmd0aCA+IDApIG8ud3JpdGVfc2hpZnQoMCwgZGF0YSwgJ2RiY3MnKTtcblx0cmV0dXJuIF9udWxsID8gby5zbGljZSgwLCBvLmwpIDogbztcbn1cblxuLyogW01TLVhMU0JdIDIuNS4xNjUgKi9cbnZhciBwYXJzZV9YTE5hbWVXaWRlU3RyaW5nID0gcGFyc2VfWExXaWRlU3RyaW5nO1xuLy92YXIgd3JpdGVfWExOYW1lV2lkZVN0cmluZyA9IHdyaXRlX1hMV2lkZVN0cmluZztcblxuLyogW01TLVhMU0JdIDIuNS4xMTQgKi9cbnZhciBwYXJzZV9SZWxJRCA9IHBhcnNlX1hMTnVsbGFibGVXaWRlU3RyaW5nO1xudmFyIHdyaXRlX1JlbElEID0gd3JpdGVfWExOdWxsYWJsZVdpZGVTdHJpbmc7XG5cblxuLyogW01TLVhMU10gMi41LjIxNyA7IFtNUy1YTFNCXSAyLjUuMTIyICovXG5mdW5jdGlvbiBwYXJzZV9Sa051bWJlcihkYXRhKS8qOm51bWJlciovIHtcblx0dmFyIGIgPSBkYXRhLnNsaWNlKGRhdGEubCwgZGF0YS5sICsgNCk7XG5cdHZhciBmWDEwMCA9IChiWzBdICYgMSksIGZJbnQgPSAoYlswXSAmIDIpO1xuXHRkYXRhLmwgKz0gNDtcblx0dmFyIFJLID0gZkludCA9PT0gMCA/IF9fZG91YmxlKFswLCAwLCAwLCAwLCAoYlswXSAmIDB4RkMpLCBiWzFdLCBiWzJdLCBiWzNdXSwgMCkgOiBfX3JlYWRJbnQzMkxFKGIsIDApID4+IDI7XG5cdHJldHVybiBmWDEwMCA/IChSSyAvIDEwMCkgOiBSSztcbn1cbmZ1bmN0aW9uIHdyaXRlX1JrTnVtYmVyKGRhdGEvKjpudW1iZXIqLywgbykge1xuXHRpZiAobyA9PSBudWxsKSBvID0gbmV3X2J1Zig0KTtcblx0dmFyIGZYMTAwID0gMCwgZkludCA9IDAsIGQxMDAgPSBkYXRhICogMTAwO1xuXHRpZiAoKGRhdGEgPT0gKGRhdGEgfCAwKSkgJiYgKGRhdGEgPj0gLSgxIDw8IDI5KSkgJiYgKGRhdGEgPCAoMSA8PCAyOSkpKSB7IGZJbnQgPSAxOyB9XG5cdGVsc2UgaWYgKChkMTAwID09IChkMTAwIHwgMCkpICYmIChkMTAwID49IC0oMSA8PCAyOSkpICYmIChkMTAwIDwgKDEgPDwgMjkpKSkgeyBmSW50ID0gMTsgZlgxMDAgPSAxOyB9XG5cdGlmIChmSW50KSBvLndyaXRlX3NoaWZ0KC00LCAoKGZYMTAwID8gZDEwMCA6IGRhdGEpIDw8IDIpICsgKGZYMTAwICsgMikpO1xuXHRlbHNlIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIFJrTnVtYmVyIFwiICsgZGF0YSk7IC8vIFRPRE9cbn1cblxuXG4vKiBbTVMtWExTQl0gMi41LjExNyBSZlggKi9cbmZ1bmN0aW9uIHBhcnNlX1JmWChkYXRhIC8qOjosIGxlbmd0aCovKS8qOlJhbmdlKi8ge1xuXHR2YXIgY2VsbC8qOlJhbmdlKi8gPSAoeyBzOiB7fSwgZToge30gfS8qOmFueSovKTtcblx0Y2VsbC5zLnIgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG5cdGNlbGwuZS5yID0gZGF0YS5yZWFkX3NoaWZ0KDQpO1xuXHRjZWxsLnMuYyA9IGRhdGEucmVhZF9zaGlmdCg0KTtcblx0Y2VsbC5lLmMgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG5cdHJldHVybiBjZWxsO1xufVxuZnVuY3Rpb24gd3JpdGVfUmZYKHIvKjpSYW5nZSovLCBvKSB7XG5cdGlmICghbykgbyA9IG5ld19idWYoMTYpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIHIucy5yKTtcblx0by53cml0ZV9zaGlmdCg0LCByLmUucik7XG5cdG8ud3JpdGVfc2hpZnQoNCwgci5zLmMpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIHIuZS5jKTtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNCXSAyLjUuMTUzIFVuY2hlY2tlZFJmWCAqL1xudmFyIHBhcnNlX1VuY2hlY2tlZFJmWCA9IHBhcnNlX1JmWDtcbnZhciB3cml0ZV9VbmNoZWNrZWRSZlggPSB3cml0ZV9SZlg7XG5cbi8qIFtNUy1YTFNCXSAyLjUuMTU1IFVuY2hlY2tlZFNxUmZYICovXG4vL2Z1bmN0aW9uIHBhcnNlX1VuY2hlY2tlZFNxUmZYKGRhdGEpIHtcbi8vXHR2YXIgY250ID0gZGF0YS5yZWFkX3NoaWZ0KDQpO1xuLy9cdHZhciBvdXQgPSBbXTtcbi8vXHRmb3IodmFyIGkgPSAwOyBpIDwgY250OyArK2kpIHtcbi8vXHRcdHZhciBybmcgPSBwYXJzZV9VbmNoZWNrZWRSZlgoZGF0YSk7XG4vL1x0XHRvdXQucHVzaChlbmNvZGVfcmFuZ2Uocm5nKSk7XG4vL1x0fVxuLy9cdHJldHVybiBvdXQuam9pbihcIixcIik7XG4vL31cbi8vZnVuY3Rpb24gd3JpdGVfVW5jaGVja2VkU3FSZlgoc3FyZngvKjpzdHJpbmcqLykge1xuLy9cdHZhciBwYXJ0cyA9IHNxcmZ4LnNwbGl0KC9cXHMqLFxccyovKTtcbi8vXHR2YXIgbyA9IG5ld19idWYoNCk7IG8ud3JpdGVfc2hpZnQoNCwgcGFydHMubGVuZ3RoKTtcbi8vXHR2YXIgb3V0ID0gW29dO1xuLy9cdHBhcnRzLmZvckVhY2goZnVuY3Rpb24ocm5nKSB7XG4vL1x0XHRvdXQucHVzaCh3cml0ZV9VbmNoZWNrZWRSZlgoc2FmZV9kZWNvZGVfcmFuZ2Uocm5nKSkpO1xuLy9cdH0pO1xuLy9cdHJldHVybiBiY29uY2F0KG91dCk7XG4vL31cblxuLyogW01TLVhMU10gMi41LjM0MiA7IFtNUy1YTFNCXSAyLjUuMTcxICovXG4vKiBUT0RPOiBlcnJvciBjaGVja2luZywgTmFOIGFuZCBJbmZpbml0eSB2YWx1ZXMgYXJlIG5vdCB2YWxpZCBYbnVtICovXG5mdW5jdGlvbiBwYXJzZV9YbnVtKGRhdGEvKjo6LCBsZW5ndGgqLykge1xuXHRpZihkYXRhLmxlbmd0aCAtIGRhdGEubCA8IDgpIHRocm93IFwiWExTIFhudW0gQnVmZmVyIHVuZGVyZmxvd1wiO1xuXHRyZXR1cm4gZGF0YS5yZWFkX3NoaWZ0KDgsICdmJyk7XG59XG5mdW5jdGlvbiB3cml0ZV9YbnVtKGRhdGEsIG8pIHsgcmV0dXJuIChvIHx8IG5ld19idWYoOCkpLndyaXRlX3NoaWZ0KDgsIGRhdGEsICdmJyk7IH1cblxuLyogW01TLVhMU0JdIDIuNC4zMjQgQnJ0Q29sb3IgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydENvbG9yKGRhdGEvKjo6LCBsZW5ndGgqLykge1xuXHR2YXIgb3V0ID0ge307XG5cdHZhciBkID0gZGF0YS5yZWFkX3NoaWZ0KDEpO1xuXG5cdC8vdmFyIGZWYWxpZFJHQiA9IGQgJiAxO1xuXHR2YXIgeENvbG9yVHlwZSA9IGQgPj4+IDE7XG5cblx0dmFyIGluZGV4ID0gZGF0YS5yZWFkX3NoaWZ0KDEpO1xuXHR2YXIgblRTID0gZGF0YS5yZWFkX3NoaWZ0KDIsICdpJyk7XG5cdHZhciBiUiA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0dmFyIGJHID0gZGF0YS5yZWFkX3NoaWZ0KDEpO1xuXHR2YXIgYkIgPSBkYXRhLnJlYWRfc2hpZnQoMSk7XG5cdGRhdGEubCsrOyAvL3ZhciBiQWxwaGEgPSBkYXRhLnJlYWRfc2hpZnQoMSk7XG5cblx0c3dpdGNoICh4Q29sb3JUeXBlKSB7XG5cdFx0Y2FzZSAwOiBvdXQuYXV0byA9IDE7IGJyZWFrO1xuXHRcdGNhc2UgMTpcblx0XHRcdG91dC5pbmRleCA9IGluZGV4O1xuXHRcdFx0dmFyIGljdiA9IFhMU0ljdltpbmRleF07XG5cdFx0XHQvKiBhdXRvbWF0aWMgcHNldWRvIGluZGV4IDgxICovXG5cdFx0XHRpZiAoaWN2KSBvdXQucmdiID0gcmdiMkhleChpY3YpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0LyogaWYoIWZWYWxpZFJHQikgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZFwiKTsgKi9cblx0XHRcdG91dC5yZ2IgPSByZ2IySGV4KFtiUiwgYkcsIGJCXSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIDM6IG91dC50aGVtZSA9IGluZGV4OyBicmVhaztcblx0fVxuXHRpZiAoblRTICE9IDApIG91dC50aW50ID0gblRTID4gMCA/IG5UUyAvIDMyNzY3IDogblRTIC8gMzI3Njg7XG5cblx0cmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydENvbG9yKGNvbG9yLCBvKSB7XG5cdGlmICghbykgbyA9IG5ld19idWYoOCk7XG5cdGlmICghY29sb3IgfHwgY29sb3IuYXV0bykgeyBvLndyaXRlX3NoaWZ0KDQsIDApOyBvLndyaXRlX3NoaWZ0KDQsIDApOyByZXR1cm4gbzsgfVxuXHRpZiAoY29sb3IuaW5kZXggIT0gbnVsbCkge1xuXHRcdG8ud3JpdGVfc2hpZnQoMSwgMHgwMik7XG5cdFx0by53cml0ZV9zaGlmdCgxLCBjb2xvci5pbmRleCk7XG5cdH0gZWxzZSBpZiAoY29sb3IudGhlbWUgIT0gbnVsbCkge1xuXHRcdG8ud3JpdGVfc2hpZnQoMSwgMHgwNik7XG5cdFx0by53cml0ZV9zaGlmdCgxLCBjb2xvci50aGVtZSk7XG5cdH0gZWxzZSB7XG5cdFx0by53cml0ZV9zaGlmdCgxLCAweDA1KTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIDApO1xuXHR9XG5cdHZhciBuVFMgPSBjb2xvci50aW50IHx8IDA7XG5cdGlmIChuVFMgPiAwKSBuVFMgKj0gMzI3Njc7XG5cdGVsc2UgaWYgKG5UUyA8IDApIG5UUyAqPSAzMjc2ODtcblx0by53cml0ZV9zaGlmdCgyLCBuVFMpO1xuXHRpZiAoIWNvbG9yLnJnYiB8fCBjb2xvci50aGVtZSAhPSBudWxsKSB7XG5cdFx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIDApO1xuXHRcdG8ud3JpdGVfc2hpZnQoMSwgMCk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHJnYiA9IChjb2xvci5yZ2IgfHwgJ0ZGRkZGRicpO1xuXHRcdGlmICh0eXBlb2YgcmdiID09ICdudW1iZXInKSByZ2IgPSAoXCIwMDAwMDBcIiArIHJnYi50b1N0cmluZygxNikpLnNsaWNlKC02KTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIHBhcnNlSW50KHJnYi5zbGljZSgwLCAyKSwgMTYpKTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIHBhcnNlSW50KHJnYi5zbGljZSgyLCA0KSwgMTYpKTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIHBhcnNlSW50KHJnYi5zbGljZSg0LCA2KSwgMTYpKTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIDB4RkYpO1xuXHR9XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTQl0gMi41LjUyICovXG5mdW5jdGlvbiBwYXJzZV9Gb250RmxhZ3MoZGF0YS8qOjosIGxlbmd0aCwgb3B0cyovKSB7XG5cdHZhciBkID0gZGF0YS5yZWFkX3NoaWZ0KDEpO1xuXHRkYXRhLmwrKztcblx0dmFyIG91dCA9IHtcblx0XHRmQm9sZDogZCAmIDB4MDEsXG5cdFx0Zkl0YWxpYzogZCAmIDB4MDIsXG5cdFx0ZlVuZGVybGluZTogZCAmIDB4MDQsXG5cdFx0ZlN0cmlrZW91dDogZCAmIDB4MDgsXG5cdFx0Zk91dGxpbmU6IGQgJiAweDEwLFxuXHRcdGZTaGFkb3c6IGQgJiAweDIwLFxuXHRcdGZDb25kZW5zZTogZCAmIDB4NDAsXG5cdFx0ZkV4dGVuZDogZCAmIDB4ODBcblx0fTtcblx0cmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHdyaXRlX0ZvbnRGbGFncyhmb250LCBvKSB7XG5cdGlmICghbykgbyA9IG5ld19idWYoMik7XG5cdHZhciBncmJpdCA9XG5cdFx0KGZvbnQuaXRhbGljID8gMHgwMiA6IDApIHxcblx0XHQoZm9udC5zdHJpa2UgPyAweDA4IDogMCkgfFxuXHRcdChmb250Lm91dGxpbmUgPyAweDEwIDogMCkgfFxuXHRcdChmb250LnNoYWRvdyA/IDB4MjAgOiAwKSB8XG5cdFx0KGZvbnQuY29uZGVuc2UgPyAweDQwIDogMCkgfFxuXHRcdChmb250LmV4dGVuZCA/IDB4ODAgOiAwKTtcblx0by53cml0ZV9zaGlmdCgxLCBncmJpdCk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgMCk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtT0xFRFNdIDIuMy4xIGFuZCAyLjMuMiAqL1xuZnVuY3Rpb24gcGFyc2VfQ2xpcGJvYXJkRm9ybWF0T3JTdHJpbmcobywgdy8qOm51bWJlciovKS8qOnN0cmluZyovIHtcblx0Ly8gJEZsb3dJZ25vcmVcblx0dmFyIENsaXBGbXQgPSB7IDI6IFwiQklUTUFQXCIsIDM6IFwiTUVUQUZJTEVQSUNUXCIsIDg6IFwiRElCXCIsIDE0OiBcIkVOSE1FVEFGSUxFXCIgfTtcblx0dmFyIG0vKjpudW1iZXIqLyA9IG8ucmVhZF9zaGlmdCg0KTtcblx0c3dpdGNoIChtKSB7XG5cdFx0Y2FzZSAweDAwMDAwMDAwOiByZXR1cm4gXCJcIjtcblx0XHRjYXNlIDB4ZmZmZmZmZmY6IGNhc2UgMHhmZmZmZmZmZTogcmV0dXJuIENsaXBGbXRbby5yZWFkX3NoaWZ0KDQpXSB8fCBcIlwiO1xuXHR9XG5cdGlmIChtID4gMHgxOTApIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIENsaXBib2FyZDogXCIgKyBtLnRvU3RyaW5nKDE2KSk7XG5cdG8ubCAtPSA0O1xuXHRyZXR1cm4gby5yZWFkX3NoaWZ0KDAsIHcgPT0gMSA/IFwibHBzdHJcIiA6IFwibHB3c3RyXCIpO1xufVxuZnVuY3Rpb24gcGFyc2VfQ2xpcGJvYXJkRm9ybWF0T3JBbnNpU3RyaW5nKG8pIHsgcmV0dXJuIHBhcnNlX0NsaXBib2FyZEZvcm1hdE9yU3RyaW5nKG8sIDEpOyB9XG5mdW5jdGlvbiBwYXJzZV9DbGlwYm9hcmRGb3JtYXRPclVuaWNvZGVTdHJpbmcobykgeyByZXR1cm4gcGFyc2VfQ2xpcGJvYXJkRm9ybWF0T3JTdHJpbmcobywgMik7IH1cblxuLyogW01TLU9MRVBTXSAyLjIgUHJvcGVydHlUeXBlICovXG4vLyBOb3RlOiBzb21lIHRyZWUgc2hha2VycyBjYW5ub3QgaGFuZGxlIFZUX1ZFQ1RPUiB8ICRDT05TVCwgaGVuY2UgZXh0cmEgdmFyc1xuLy92YXIgVlRfRU1QVFkgICAgPSAweDAwMDA7XG4vL3ZhciBWVF9OVUxMICAgICA9IDB4MDAwMTtcbnZhciBWVF9JMiAgICAgICA9IDB4MDAwMjtcbnZhciBWVF9JNCAgICAgICA9IDB4MDAwMztcbi8vdmFyIFZUX1I0ICAgICAgID0gMHgwMDA0O1xuLy92YXIgVlRfUjggICAgICAgPSAweDAwMDU7XG4vL3ZhciBWVF9DWSAgICAgICA9IDB4MDAwNjtcbi8vdmFyIFZUX0RBVEUgICAgID0gMHgwMDA3O1xuLy92YXIgVlRfQlNUUiAgICAgPSAweDAwMDg7XG4vL3ZhciBWVF9FUlJPUiAgICA9IDB4MDAwQTtcbnZhciBWVF9CT09MICAgICA9IDB4MDAwQjtcbnZhciBWVF9WQVJJQU5UICA9IDB4MDAwQztcbi8vdmFyIFZUX0RFQ0lNQUwgID0gMHgwMDBFO1xuLy92YXIgVlRfSTEgICAgICAgPSAweDAwMTA7XG4vL3ZhciBWVF9VSTEgICAgICA9IDB4MDAxMTtcbi8vdmFyIFZUX1VJMiAgICAgID0gMHgwMDEyO1xudmFyIFZUX1VJNCAgICAgID0gMHgwMDEzO1xuLy92YXIgVlRfSTggICAgICAgPSAweDAwMTQ7XG4vL3ZhciBWVF9VSTggICAgICA9IDB4MDAxNTtcbi8vdmFyIFZUX0lOVCAgICAgID0gMHgwMDE2O1xuLy92YXIgVlRfVUlOVCAgICAgPSAweDAwMTc7XG4vL3ZhciBWVF9MUFNUUiAgICA9IDB4MDAxRTtcbi8vdmFyIFZUX0xQV1NUUiAgID0gMHgwMDFGO1xudmFyIFZUX0ZJTEVUSU1FID0gMHgwMDQwO1xudmFyIFZUX0JMT0IgICAgID0gMHgwMDQxO1xuLy92YXIgVlRfU1RSRUFNICAgPSAweDAwNDI7XG4vL3ZhciBWVF9TVE9SQUdFICA9IDB4MDA0Mztcbi8vdmFyIFZUX1NUUkVBTUVEX09iamVjdCAgPSAweDAwNDQ7XG4vL3ZhciBWVF9TVE9SRURfT2JqZWN0ICAgID0gMHgwMDQ1O1xuLy92YXIgVlRfQkxPQl9PYmplY3QgICAgICA9IDB4MDA0NjtcbnZhciBWVF9DRiAgICAgICA9IDB4MDA0Nztcbi8vdmFyIFZUX0NMU0lEICAgID0gMHgwMDQ4O1xuLy92YXIgVlRfVkVSU0lPTkVEX1NUUkVBTSA9IDB4MDA0OTtcbi8vdmFyIFZUX1ZFQ1RPUiAgID0gMHgxMDAwO1xudmFyIFZUX1ZFQ1RPUl9WQVJJQU5UID0gMHgxMDBDO1xudmFyIFZUX1ZFQ1RPUl9MUFNUUiAgID0gMHgxMDFFO1xuLy92YXIgVlRfQVJSQVkgICAgPSAweDIwMDA7XG5cbnZhciBWVF9TVFJJTkcgICA9IDB4MDA1MDsgLy8gMi4zLjMuMS4xMSBWdFN0cmluZ1xudmFyIFZUX1VTVFIgICAgID0gMHgwMDUxOyAvLyAyLjMuMy4xLjEyIFZ0VW5hbGlnbmVkU3RyaW5nXG52YXIgVlRfQ1VTVE9NICAgPSBbVlRfU1RSSU5HLCBWVF9VU1RSXTtcblxuLyogW01TLU9TSEFSRURdIDIuMy4zLjIuMi4xIERvY3VtZW50IFN1bW1hcnkgSW5mb3JtYXRpb24gUElERFNJICovXG52YXIgRG9jU3VtbWFyeVBJRERTSSA9IHtcblx0MHgwMTogeyBuOiAnQ29kZVBhZ2UnLCB0OiBWVF9JMiB9LFxuXHQweDAyOiB7IG46ICdDYXRlZ29yeScsIHQ6IFZUX1NUUklORyB9LFxuXHQweDAzOiB7IG46ICdQcmVzZW50YXRpb25Gb3JtYXQnLCB0OiBWVF9TVFJJTkcgfSxcblx0MHgwNDogeyBuOiAnQnl0ZUNvdW50JywgdDogVlRfSTQgfSxcblx0MHgwNTogeyBuOiAnTGluZUNvdW50JywgdDogVlRfSTQgfSxcblx0MHgwNjogeyBuOiAnUGFyYWdyYXBoQ291bnQnLCB0OiBWVF9JNCB9LFxuXHQweDA3OiB7IG46ICdTbGlkZUNvdW50JywgdDogVlRfSTQgfSxcblx0MHgwODogeyBuOiAnTm90ZUNvdW50JywgdDogVlRfSTQgfSxcblx0MHgwOTogeyBuOiAnSGlkZGVuQ291bnQnLCB0OiBWVF9JNCB9LFxuXHQweDBhOiB7IG46ICdNdWx0aW1lZGlhQ2xpcENvdW50JywgdDogVlRfSTQgfSxcblx0MHgwYjogeyBuOiAnU2NhbGVDcm9wJywgdDogVlRfQk9PTCB9LFxuXHQweDBjOiB7IG46ICdIZWFkaW5nUGFpcnMnLCB0OiBWVF9WRUNUT1JfVkFSSUFOVCAvKiBWVF9WRUNUT1IgfCBWVF9WQVJJQU5UICovIH0sXG5cdDB4MGQ6IHsgbjogJ1RpdGxlc09mUGFydHMnLCB0OiBWVF9WRUNUT1JfTFBTVFIgLyogVlRfVkVDVE9SIHwgVlRfTFBTVFIgKi8gfSxcblx0MHgwZTogeyBuOiAnTWFuYWdlcicsIHQ6IFZUX1NUUklORyB9LFxuXHQweDBmOiB7IG46ICdDb21wYW55JywgdDogVlRfU1RSSU5HIH0sXG5cdDB4MTA6IHsgbjogJ0xpbmtzVXBUb0RhdGUnLCB0OiBWVF9CT09MIH0sXG5cdDB4MTE6IHsgbjogJ0NoYXJhY3RlckNvdW50JywgdDogVlRfSTQgfSxcblx0MHgxMzogeyBuOiAnU2hhcmVkRG9jJywgdDogVlRfQk9PTCB9LFxuXHQweDE2OiB7IG46ICdIeXBlcmxpbmtzQ2hhbmdlZCcsIHQ6IFZUX0JPT0wgfSxcblx0MHgxNzogeyBuOiAnQXBwVmVyc2lvbicsIHQ6IFZUX0k0LCBwOiAndmVyc2lvbicgfSxcblx0MHgxODogeyBuOiAnRGlnU2lnJywgdDogVlRfQkxPQiB9LFxuXHQweDFBOiB7IG46ICdDb250ZW50VHlwZScsIHQ6IFZUX1NUUklORyB9LFxuXHQweDFCOiB7IG46ICdDb250ZW50U3RhdHVzJywgdDogVlRfU1RSSU5HIH0sXG5cdDB4MUM6IHsgbjogJ0xhbmd1YWdlJywgdDogVlRfU1RSSU5HIH0sXG5cdDB4MUQ6IHsgbjogJ1ZlcnNpb24nLCB0OiBWVF9TVFJJTkcgfSxcblx0MHhGRjoge30sXG5cdC8qIFtNUy1PTEVQU10gMi4xOCAqL1xuXHQweDgwMDAwMDAwOiB7IG46ICdMb2NhbGUnLCB0OiBWVF9VSTQgfSxcblx0MHg4MDAwMDAwMzogeyBuOiAnQmVoYXZpb3InLCB0OiBWVF9VSTQgfSxcblx0MHg3MjYyNzI2Mjoge31cbn07XG5cbi8qIFtNUy1PU0hBUkVEXSAyLjMuMy4yLjEuMSBTdW1tYXJ5IEluZm9ybWF0aW9uIFByb3BlcnR5IFNldCBQSURTSSAqL1xudmFyIFN1bW1hcnlQSURTSSA9IHtcblx0MHgwMTogeyBuOiAnQ29kZVBhZ2UnLCB0OiBWVF9JMiB9LFxuXHQweDAyOiB7IG46ICdUaXRsZScsIHQ6IFZUX1NUUklORyB9LFxuXHQweDAzOiB7IG46ICdTdWJqZWN0JywgdDogVlRfU1RSSU5HIH0sXG5cdDB4MDQ6IHsgbjogJ0F1dGhvcicsIHQ6IFZUX1NUUklORyB9LFxuXHQweDA1OiB7IG46ICdLZXl3b3JkcycsIHQ6IFZUX1NUUklORyB9LFxuXHQweDA2OiB7IG46ICdDb21tZW50cycsIHQ6IFZUX1NUUklORyB9LFxuXHQweDA3OiB7IG46ICdUZW1wbGF0ZScsIHQ6IFZUX1NUUklORyB9LFxuXHQweDA4OiB7IG46ICdMYXN0QXV0aG9yJywgdDogVlRfU1RSSU5HIH0sXG5cdDB4MDk6IHsgbjogJ1Jldk51bWJlcicsIHQ6IFZUX1NUUklORyB9LFxuXHQweDBBOiB7IG46ICdFZGl0VGltZScsIHQ6IFZUX0ZJTEVUSU1FIH0sXG5cdDB4MEI6IHsgbjogJ0xhc3RQcmludGVkJywgdDogVlRfRklMRVRJTUUgfSxcblx0MHgwQzogeyBuOiAnQ3JlYXRlZERhdGUnLCB0OiBWVF9GSUxFVElNRSB9LFxuXHQweDBEOiB7IG46ICdNb2RpZmllZERhdGUnLCB0OiBWVF9GSUxFVElNRSB9LFxuXHQweDBFOiB7IG46ICdQYWdlQ291bnQnLCB0OiBWVF9JNCB9LFxuXHQweDBGOiB7IG46ICdXb3JkQ291bnQnLCB0OiBWVF9JNCB9LFxuXHQweDEwOiB7IG46ICdDaGFyQ291bnQnLCB0OiBWVF9JNCB9LFxuXHQweDExOiB7IG46ICdUaHVtYm5haWwnLCB0OiBWVF9DRiB9LFxuXHQweDEyOiB7IG46ICdBcHBsaWNhdGlvbicsIHQ6IFZUX1NUUklORyB9LFxuXHQweDEzOiB7IG46ICdEb2NTZWN1cml0eScsIHQ6IFZUX0k0IH0sXG5cdDB4RkY6IHt9LFxuXHQvKiBbTVMtT0xFUFNdIDIuMTggKi9cblx0MHg4MDAwMDAwMDogeyBuOiAnTG9jYWxlJywgdDogVlRfVUk0IH0sXG5cdDB4ODAwMDAwMDM6IHsgbjogJ0JlaGF2aW9yJywgdDogVlRfVUk0IH0sXG5cdDB4NzI2MjcyNjI6IHt9XG59O1xuXG4vKiBbTVMtWExTXSAyLjQuNjMgQ291bnRyeS9SZWdpb24gY29kZXMgKi9cbnZhciBDb3VudHJ5RW51bSA9IHtcblx0MHgwMDAxOiBcIlVTXCIsIC8vIFVuaXRlZCBTdGF0ZXNcblx0MHgwMDAyOiBcIkNBXCIsIC8vIENhbmFkYVxuXHQweDAwMDM6IFwiXCIsIC8vIExhdGluIEFtZXJpY2EgKGV4Y2VwdCBCcmF6aWwpXG5cdDB4MDAwNzogXCJSVVwiLCAvLyBSdXNzaWFcblx0MHgwMDE0OiBcIkVHXCIsIC8vIEVneXB0XG5cdDB4MDAxRTogXCJHUlwiLCAvLyBHcmVlY2Vcblx0MHgwMDFGOiBcIk5MXCIsIC8vIE5ldGhlcmxhbmRzXG5cdDB4MDAyMDogXCJCRVwiLCAvLyBCZWxnaXVtXG5cdDB4MDAyMTogXCJGUlwiLCAvLyBGcmFuY2Vcblx0MHgwMDIyOiBcIkVTXCIsIC8vIFNwYWluXG5cdDB4MDAyNDogXCJIVVwiLCAvLyBIdW5nYXJ5XG5cdDB4MDAyNzogXCJJVFwiLCAvLyBJdGFseVxuXHQweDAwMjk6IFwiQ0hcIiwgLy8gU3dpdHplcmxhbmRcblx0MHgwMDJCOiBcIkFUXCIsIC8vIEF1c3RyaWFcblx0MHgwMDJDOiBcIkdCXCIsIC8vIFVuaXRlZCBLaW5nZG9tXG5cdDB4MDAyRDogXCJES1wiLCAvLyBEZW5tYXJrXG5cdDB4MDAyRTogXCJTRVwiLCAvLyBTd2VkZW5cblx0MHgwMDJGOiBcIk5PXCIsIC8vIE5vcndheVxuXHQweDAwMzA6IFwiUExcIiwgLy8gUG9sYW5kXG5cdDB4MDAzMTogXCJERVwiLCAvLyBHZXJtYW55XG5cdDB4MDAzNDogXCJNWFwiLCAvLyBNZXhpY29cblx0MHgwMDM3OiBcIkJSXCIsIC8vIEJyYXppbFxuXHQweDAwM2Q6IFwiQVVcIiwgLy8gQXVzdHJhbGlhXG5cdDB4MDA0MDogXCJOWlwiLCAvLyBOZXcgWmVhbGFuZFxuXHQweDAwNDI6IFwiVEhcIiwgLy8gVGhhaWxhbmRcblx0MHgwMDUxOiBcIkpQXCIsIC8vIEphcGFuXG5cdDB4MDA1MjogXCJLUlwiLCAvLyBLb3JlYVxuXHQweDAwNTQ6IFwiVk5cIiwgLy8gVmlldCBOYW1cblx0MHgwMDU2OiBcIkNOXCIsIC8vIENoaW5hXG5cdDB4MDA1QTogXCJUUlwiLCAvLyBUdXJrZXlcblx0MHgwMDY5OiBcIkpTXCIsIC8vIFJhbWFzdGFuXG5cdDB4MDBENTogXCJEWlwiLCAvLyBBbGdlcmlhXG5cdDB4MDBEODogXCJNQVwiLCAvLyBNb3JvY2NvXG5cdDB4MDBEQTogXCJMWVwiLCAvLyBMaWJ5YVxuXHQweDAxNUY6IFwiUFRcIiwgLy8gUG9ydHVnYWxcblx0MHgwMTYyOiBcIklTXCIsIC8vIEljZWxhbmRcblx0MHgwMTY2OiBcIkZJXCIsIC8vIEZpbmxhbmRcblx0MHgwMUE0OiBcIkNaXCIsIC8vIEN6ZWNoIFJlcHVibGljXG5cdDB4MDM3NjogXCJUV1wiLCAvLyBUYWl3YW5cblx0MHgwM0MxOiBcIkxCXCIsIC8vIExlYmFub25cblx0MHgwM0MyOiBcIkpPXCIsIC8vIEpvcmRhblxuXHQweDAzQzM6IFwiU1lcIiwgLy8gU3lyaWFcblx0MHgwM0M0OiBcIklRXCIsIC8vIElyYXFcblx0MHgwM0M1OiBcIktXXCIsIC8vIEt1d2FpdFxuXHQweDAzQzY6IFwiU0FcIiwgLy8gU2F1ZGkgQXJhYmlhXG5cdDB4MDNDQjogXCJBRVwiLCAvLyBVbml0ZWQgQXJhYiBFbWlyYXRlc1xuXHQweDAzQ0M6IFwiSUxcIiwgLy8gSXNyYWVsXG5cdDB4MDNDRTogXCJRQVwiLCAvLyBRYXRhclxuXHQweDAzRDU6IFwiSVJcIiwgLy8gSXJhblxuXHQweEZGRkY6IFwiVVNcIiAgLy8gVW5pdGVkIFN0YXRlc1xufTtcblxuLyogW01TLVhMU10gMi41LjEyNyAqL1xudmFyIFhMU0ZpbGxQYXR0ZXJuID0gW1xuXHRudWxsLFxuXHQnc29saWQnLFxuXHQnbWVkaXVtR3JheScsXG5cdCdkYXJrR3JheScsXG5cdCdsaWdodEdyYXknLFxuXHQnZGFya0hvcml6b250YWwnLFxuXHQnZGFya1ZlcnRpY2FsJyxcblx0J2RhcmtEb3duJyxcblx0J2RhcmtVcCcsXG5cdCdkYXJrR3JpZCcsXG5cdCdkYXJrVHJlbGxpcycsXG5cdCdsaWdodEhvcml6b250YWwnLFxuXHQnbGlnaHRWZXJ0aWNhbCcsXG5cdCdsaWdodERvd24nLFxuXHQnbGlnaHRVcCcsXG5cdCdsaWdodEdyaWQnLFxuXHQnbGlnaHRUcmVsbGlzJyxcblx0J2dyYXkxMjUnLFxuXHQnZ3JheTA2MjUnXG5dO1xuXG5mdW5jdGlvbiByZ2JpZnkoYXJyLyo6QXJyYXk8bnVtYmVyPiovKS8qOkFycmF5PFtudW1iZXIsIG51bWJlciwgbnVtYmVyXT4qLyB7IHJldHVybiBhcnIubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIFsoeD4+MTYpJjI1NSwoeD4+OCkmMjU1LHgmMjU1XTsgfSk7IH1cblxuLyogW01TLVhMU10gMi41LjE2MSAqL1xuLyogW01TLVhMU0JdIDIuNS43NSBJY3YgKi9cbnZhciBfWExTSWN2ID0gLyojX19QVVJFX18qLyByZ2JpZnkoW1xuXHQvKiBDb2xvciBDb25zdGFudHMgKi9cblx0MHgwMDAwMDAsXG5cdDB4RkZGRkZGLFxuXHQweEZGMDAwMCxcblx0MHgwMEZGMDAsXG5cdDB4MDAwMEZGLFxuXHQweEZGRkYwMCxcblx0MHhGRjAwRkYsXG5cdDB4MDBGRkZGLFxuXG5cdC8qIE92ZXJyaWRhYmxlIERlZmF1bHRzICovXG5cdDB4MDAwMDAwLFxuXHQweEZGRkZGRixcblx0MHhGRjAwMDAsXG5cdDB4MDBGRjAwLFxuXHQweDAwMDBGRixcblx0MHhGRkZGMDAsXG5cdDB4RkYwMEZGLFxuXHQweDAwRkZGRixcblxuXHQweDgwMDAwMCxcblx0MHgwMDgwMDAsXG5cdDB4MDAwMDgwLFxuXHQweDgwODAwMCxcblx0MHg4MDAwODAsXG5cdDB4MDA4MDgwLFxuXHQweEMwQzBDMCxcblx0MHg4MDgwODAsXG5cdDB4OTk5OUZGLFxuXHQweDk5MzM2Nixcblx0MHhGRkZGQ0MsXG5cdDB4Q0NGRkZGLFxuXHQweDY2MDA2Nixcblx0MHhGRjgwODAsXG5cdDB4MDA2NkNDLFxuXHQweENDQ0NGRixcblxuXHQweDAwMDA4MCxcblx0MHhGRjAwRkYsXG5cdDB4RkZGRjAwLFxuXHQweDAwRkZGRixcblx0MHg4MDAwODAsXG5cdDB4ODAwMDAwLFxuXHQweDAwODA4MCxcblx0MHgwMDAwRkYsXG5cdDB4MDBDQ0ZGLFxuXHQweENDRkZGRixcblx0MHhDQ0ZGQ0MsXG5cdDB4RkZGRjk5LFxuXHQweDk5Q0NGRixcblx0MHhGRjk5Q0MsXG5cdDB4Q0M5OUZGLFxuXHQweEZGQ0M5OSxcblxuXHQweDMzNjZGRixcblx0MHgzM0NDQ0MsXG5cdDB4OTlDQzAwLFxuXHQweEZGQ0MwMCxcblx0MHhGRjk5MDAsXG5cdDB4RkY2NjAwLFxuXHQweDY2NjY5OSxcblx0MHg5Njk2OTYsXG5cdDB4MDAzMzY2LFxuXHQweDMzOTk2Nixcblx0MHgwMDMzMDAsXG5cdDB4MzMzMzAwLFxuXHQweDk5MzMwMCxcblx0MHg5OTMzNjYsXG5cdDB4MzMzMzk5LFxuXHQweDMzMzMzMyxcblxuXHQvKiBPdGhlciBlbnRyaWVzIHRvIGFwcGVhc2UgQklGRjgvMTIgKi9cblx0MHgwMDAwMDAsIC8qIDB4NDAgaWN2Rm9yZWdyb3VuZCA/PyAqL1xuXHQweEZGRkZGRiwgLyogMHg0MSBpY3ZCYWNrZ3JvdW5kID8/ICovXG5cdDB4MDAwMDAwLCAvKiAweDQyIGljdkZyYW1lID8/ICovXG5cdDB4MDAwMDAwLCAvKiAweDQzIGljdjNEID8/ICovXG5cdDB4MDAwMDAwLCAvKiAweDQ0IGljdjNEVGV4dCA/PyAqL1xuXHQweDAwMDAwMCwgLyogMHg0NSBpY3YzREhpbGl0ZSA/PyAqL1xuXHQweDAwMDAwMCwgLyogMHg0NiBpY3YzRFNoYWRvdyA/PyAqL1xuXHQweDAwMDAwMCwgLyogMHg0NyBpY3ZIaWxpdGUgPz8gKi9cblx0MHgwMDAwMDAsIC8qIDB4NDggaWN2Q3RsVGV4dCA/PyAqL1xuXHQweDAwMDAwMCwgLyogMHg0OSBpY3ZDdGxTY3JsID8/ICovXG5cdDB4MDAwMDAwLCAvKiAweDRBIGljdkN0bEludiA/PyAqL1xuXHQweDAwMDAwMCwgLyogMHg0QiBpY3ZDdGxCb2R5ID8/ICovXG5cdDB4MDAwMDAwLCAvKiAweDRDIGljdkN0bEZyYW1lID8/ICovXG5cdDB4MDAwMDAwLCAvKiAweDREIGljdkN0bEZvcmUgPz8gKi9cblx0MHgwMDAwMDAsIC8qIDB4NEUgaWN2Q3RsQmFjayA/PyAqL1xuXHQweDAwMDAwMCwgLyogMHg0RiBpY3ZDdGxOZXV0cmFsICovXG5cdDB4MDAwMDAwLCAvKiAweDUwIGljdkluZm9CayA/PyAqL1xuXHQweDAwMDAwMCAvKiAweDUxIGljdkluZm9UZXh0ID8/ICovXG5dKTtcbnZhciBYTFNJY3YgPSAvKiNfX1BVUkVfXyovZHVwKF9YTFNJY3YpO1xuXG4vKiBbTVMtWExTQl0gMi41Ljk3LjIgKi9cbnZhciBCRXJyID0ge1xuXHQweDAwOiBcIiNOVUxMIVwiLFxuXHQweDA3OiBcIiNESVYvMCFcIixcblx0MHgwRjogXCIjVkFMVUUhXCIsXG5cdDB4MTc6IFwiI1JFRiFcIixcblx0MHgxRDogXCIjTkFNRT9cIixcblx0MHgyNDogXCIjTlVNIVwiLFxuXHQweDJBOiBcIiNOL0FcIixcblx0MHgyQjogXCIjR0VUVElOR19EQVRBXCIsXG5cdDB4RkY6IFwiI1dURj9cIlxufTtcbi8vdmFyIFJCRXJyID0gZXZlcnRfbnVtKEJFcnIpO1xudmFyIFJCRXJyID0ge1xuXHRcIiNOVUxMIVwiOiAgICAgICAgMHgwMCxcblx0XCIjRElWLzAhXCI6ICAgICAgIDB4MDcsXG5cdFwiI1ZBTFVFIVwiOiAgICAgICAweDBGLFxuXHRcIiNSRUYhXCI6ICAgICAgICAgMHgxNyxcblx0XCIjTkFNRT9cIjogICAgICAgIDB4MUQsXG5cdFwiI05VTSFcIjogICAgICAgICAweDI0LFxuXHRcIiNOL0FcIjogICAgICAgICAgMHgyQSxcblx0XCIjR0VUVElOR19EQVRBXCI6IDB4MkIsXG5cdFwiI1dURj9cIjogICAgICAgICAweEZGXG59O1xuXG52YXIgWExTTGJsQnVpbHRJbiA9IFtcblx0XCJfeGxubS5Db25zb2xpZGF0ZV9BcmVhXCIsXG5cdFwiX3hsbm0uQXV0b19PcGVuXCIsXG5cdFwiX3hsbm0uQXV0b19DbG9zZVwiLFxuXHRcIl94bG5tLkV4dHJhY3RcIixcblx0XCJfeGxubS5EYXRhYmFzZVwiLFxuXHRcIl94bG5tLkNyaXRlcmlhXCIsXG5cdFwiX3hsbm0uUHJpbnRfQXJlYVwiLFxuXHRcIl94bG5tLlByaW50X1RpdGxlc1wiLFxuXHRcIl94bG5tLlJlY29yZGVyXCIsXG5cdFwiX3hsbm0uRGF0YV9Gb3JtXCIsXG5cdFwiX3hsbm0uQXV0b19BY3RpdmF0ZVwiLFxuXHRcIl94bG5tLkF1dG9fRGVhY3RpdmF0ZVwiLFxuXHRcIl94bG5tLlNoZWV0X1RpdGxlXCIsXG5cdFwiX3hsbm0uX0ZpbHRlckRhdGFiYXNlXCJcbl07XG5cbi8qIFBhcnRzIGVudW1lcmF0ZWQgaW4gT1BDIHNwZWMsIE1TLVhMU0IgYW5kIE1TLVhMU1ggKi9cbi8qIDEyLjMgUGFydCBTdW1tYXJ5IDxTcHJlYWRzaGVldE1MPiAqL1xuLyogMTQuMiBQYXJ0IFN1bW1hcnkgPERyYXdpbmdNTD4gKi9cbi8qIFtNUy1YTFNYXSAyLjEgUGFydCBFbnVtZXJhdGlvbnMgOyBbTVMtWExTQl0gMi4xLjcgUGFydCBFbnVtZXJhdGlvbiAqL1xudmFyIGN0MnR5cGUvKntbc3RyaW5nXTpzdHJpbmd9Ki8gPSAoe1xuXHQvKiBXb3JrYm9vayAqL1xuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0Lm1haW4reG1sXCI6IFwid29ya2Jvb2tzXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnNoZWV0Lm1hY3JvRW5hYmxlZC5tYWluK3htbFwiOiBcIndvcmtib29rc1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5zaGVldC5iaW5hcnkubWFjcm9FbmFibGVkLm1haW5cIjogXCJ3b3JrYm9va3NcIixcblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuYWRkaW4ubWFjcm9FbmFibGVkLm1haW4reG1sXCI6IFwid29ya2Jvb2tzXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwudGVtcGxhdGUubWFpbit4bWxcIjogXCJ3b3JrYm9va3NcIixcblxuXHQvKiBXb3Jrc2hlZXQgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC53b3Jrc2hlZXQreG1sXCI6IFwic2hlZXRzXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLndvcmtzaGVldFwiOiBcInNoZWV0c1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5iaW5JbmRleFdzXCI6IFwiVE9ET1wiLCAvKiBCaW5hcnkgSW5kZXggKi9cblxuXHQvKiBDaGFydHNoZWV0ICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuY2hhcnRzaGVldCt4bWxcIjogXCJjaGFydHNcIixcblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuY2hhcnRzaGVldFwiOiBcImNoYXJ0c1wiLFxuXG5cdC8qIE1hY3Jvc2hlZXQgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwubWFjcm9zaGVldCt4bWxcIjogXCJtYWNyb3NcIixcblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwubWFjcm9zaGVldFwiOiBcIm1hY3Jvc1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5pbnRsbWFjcm9zaGVldFwiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuYmluSW5kZXhNc1wiOiBcIlRPRE9cIiwgLyogQmluYXJ5IEluZGV4ICovXG5cblx0LyogRGlhbG9nc2hlZXQgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5kaWFsb2dzaGVldCt4bWxcIjogXCJkaWFsb2dzXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLmRpYWxvZ3NoZWV0XCI6IFwiZGlhbG9nc1wiLFxuXG5cdC8qIFNoYXJlZCBTdHJpbmdzICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hhcmVkU3RyaW5ncyt4bWxcIjogXCJzdHJzXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnNoYXJlZFN0cmluZ3NcIjogXCJzdHJzXCIsXG5cblx0LyogU3R5bGVzICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc3R5bGVzK3htbFwiOiBcInN0eWxlc1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5zdHlsZXNcIjogXCJzdHlsZXNcIixcblxuXHQvKiBGaWxlIFByb3BlcnRpZXMgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtcGFja2FnZS5jb3JlLXByb3BlcnRpZXMreG1sXCI6IFwiY29yZXByb3BzXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LmN1c3RvbS1wcm9wZXJ0aWVzK3htbFwiOiBcImN1c3Rwcm9wc1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5leHRlbmRlZC1wcm9wZXJ0aWVzK3htbFwiOiBcImV4dHByb3BzXCIsXG5cblx0LyogQ3VzdG9tIERhdGEgUHJvcGVydGllcyAqL1xuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5jdXN0b21YbWxQcm9wZXJ0aWVzK3htbFwiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5jdXN0b21Qcm9wZXJ0eVwiOiBcIlRPRE9cIixcblxuXHQvKiBDb21tZW50cyAqL1xuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLmNvbW1lbnRzK3htbFwiOiBcImNvbW1lbnRzXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLmNvbW1lbnRzXCI6IFwiY29tbWVudHNcIixcblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwudGhyZWFkZWRjb21tZW50cyt4bWxcIjogXCJ0aHJlYWRlZGNvbW1lbnRzXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnBlcnNvbit4bWxcIjogXCJwZW9wbGVcIixcblxuXHQvKiBNZXRhZGF0YSAoU3RvY2svR2VvZ3JhcGh5IGFuZCBEeW5hbWljIEFycmF5KSAqL1xuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0TWV0YWRhdGEreG1sXCI6IFwibWV0YWRhdGFcIixcblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hlZXRNZXRhZGF0YVwiOiBcIm1ldGFkYXRhXCIsXG5cblx0LyogUGl2b3RUYWJsZSAqL1xuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5waXZvdFRhYmxlXCI6IFwiVE9ET1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnBpdm90VGFibGUreG1sXCI6IFwiVE9ET1wiLFxuXG5cdC8qIENoYXJ0IE9iamVjdHMgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuZHJhd2luZ21sLmNoYXJ0K3htbFwiOiBcIlRPRE9cIixcblxuXHQvKiBDaGFydCBDb2xvcnMgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtb2ZmaWNlLmNoYXJ0Y29sb3JzdHlsZSt4bWxcIjogXCJUT0RPXCIsXG5cblx0LyogQ2hhcnQgU3R5bGUgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtb2ZmaWNlLmNoYXJ0c3R5bGUreG1sXCI6IFwiVE9ET1wiLFxuXG5cdC8qIENoYXJ0IEFkdmFuY2VkICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLW9mZmljZS5jaGFydGV4K3htbFwiOiBcIlRPRE9cIixcblxuXHQvKiBDYWxjdWxhdGlvbiBDaGFpbiAqL1xuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5jYWxjQ2hhaW5cIjogXCJjYWxjY2hhaW5zXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuY2FsY0NoYWluK3htbFwiOiBcImNhbGNjaGFpbnNcIixcblxuXHQvKiBQcmludGVyIFNldHRpbmdzICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwucHJpbnRlclNldHRpbmdzXCI6IFwiVE9ET1wiLFxuXG5cdC8qIEFjdGl2ZVggKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtb2ZmaWNlLmFjdGl2ZVhcIjogXCJUT0RPXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLW9mZmljZS5hY3RpdmVYK3htbFwiOiBcIlRPRE9cIixcblxuXHQvKiBDdXN0b20gVG9vbGJhcnMgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuYXR0YWNoZWRUb29sYmFyc1wiOiBcIlRPRE9cIixcblxuXHQvKiBFeHRlcm5hbCBEYXRhIENvbm5lY3Rpb25zICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLmNvbm5lY3Rpb25zXCI6IFwiVE9ET1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLmNvbm5lY3Rpb25zK3htbFwiOiBcIlRPRE9cIixcblxuXHQvKiBFeHRlcm5hbCBMaW5rcyAqL1xuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5leHRlcm5hbExpbmtcIjogXCJsaW5rc1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLmV4dGVybmFsTGluayt4bWxcIjogXCJsaW5rc1wiLFxuXG5cdC8qIFBpdm90Q2FjaGUgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwucGl2b3RDYWNoZURlZmluaXRpb25cIjogXCJUT0RPXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnBpdm90Q2FjaGVSZWNvcmRzXCI6IFwiVE9ET1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnBpdm90Q2FjaGVEZWZpbml0aW9uK3htbFwiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5waXZvdENhY2hlUmVjb3Jkcyt4bWxcIjogXCJUT0RPXCIsXG5cblx0LyogUXVlcnkgVGFibGUgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwucXVlcnlUYWJsZVwiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5xdWVyeVRhYmxlK3htbFwiOiBcIlRPRE9cIixcblxuXHQvKiBTaGFyZWQgV29ya2Jvb2sgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwudXNlck5hbWVzXCI6IFwiVE9ET1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5yZXZpc2lvbkhlYWRlcnNcIjogXCJUT0RPXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnJldmlzaW9uTG9nXCI6IFwiVE9ET1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnJldmlzaW9uSGVhZGVycyt4bWxcIjogXCJUT0RPXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwucmV2aXNpb25Mb2creG1sXCI6IFwiVE9ET1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnVzZXJOYW1lcyt4bWxcIjogXCJUT0RPXCIsXG5cblx0LyogU2luZ2xlIENlbGwgVGFibGUgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwudGFibGVTaW5nbGVDZWxsc1wiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC50YWJsZVNpbmdsZUNlbGxzK3htbFwiOiBcIlRPRE9cIixcblxuXHQvKiBTbGljZXIgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2xpY2VyXCI6IFwiVE9ET1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5zbGljZXJDYWNoZVwiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2xpY2VyK3htbFwiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2xpY2VyQ2FjaGUreG1sXCI6IFwiVE9ET1wiLFxuXG5cdC8qIFNvcnQgTWFwICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLndzU29ydE1hcFwiOiBcIlRPRE9cIixcblxuXHQvKiBUYWJsZSAqL1xuXHRcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC50YWJsZVwiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC50YWJsZSt4bWxcIjogXCJUT0RPXCIsXG5cblx0LyogVGhlbWVzICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnRoZW1lK3htbFwiOiBcInRoZW1lc1wiLFxuXG5cdC8qIFRoZW1lIE92ZXJyaWRlICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnRoZW1lT3ZlcnJpZGUreG1sXCI6IFwiVE9ET1wiLFxuXG5cdC8qIFRpbWVsaW5lICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLlRpbWVsaW5lK3htbFwiOiBcIlRPRE9cIiwgLyogdmVyaWZ5ICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLlRpbWVsaW5lQ2FjaGUreG1sXCI6IFwiVE9ET1wiLCAvKiB2ZXJpZnkgKi9cblxuXHQvKiBWQkEgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQubXMtb2ZmaWNlLnZiYVByb2plY3RcIjogXCJ2YmFcIixcblx0XCJhcHBsaWNhdGlvbi92bmQubXMtb2ZmaWNlLnZiYVByb2plY3RTaWduYXR1cmVcIjogXCJUT0RPXCIsXG5cblx0LyogVm9sYXRpbGUgRGVwZW5kZW5jaWVzICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLW9mZmljZS52b2xhdGlsZURlcGVuZGVuY2llc1wiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC52b2xhdGlsZURlcGVuZGVuY2llcyt4bWxcIjogXCJUT0RPXCIsXG5cblx0LyogQ29udHJvbCBQcm9wZXJ0aWVzICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLmNvbnRyb2xwcm9wZXJ0aWVzK3htbFwiOiBcIlRPRE9cIixcblxuXHQvKiBEYXRhIE1vZGVsICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50Lm1vZGVsK2RhdGFcIjogXCJUT0RPXCIsXG5cblx0LyogU3VydmV5ICovXG5cdFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLlN1cnZleSt4bWxcIjogXCJUT0RPXCIsXG5cblx0LyogRHJhd2luZyAqL1xuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5kcmF3aW5nK3htbFwiOiBcImRyYXdpbmdzXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LmRyYXdpbmdtbC5jaGFydHNoYXBlcyt4bWxcIjogXCJUT0RPXCIsXG5cdFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LmRyYXdpbmdtbC5kaWFncmFtQ29sb3JzK3htbFwiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuZHJhd2luZ21sLmRpYWdyYW1EYXRhK3htbFwiOiBcIlRPRE9cIixcblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuZHJhd2luZ21sLmRpYWdyYW1MYXlvdXQreG1sXCI6IFwiVE9ET1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5kcmF3aW5nbWwuZGlhZ3JhbVN0eWxlK3htbFwiOiBcIlRPRE9cIixcblxuXHQvKiBWTUwgKi9cblx0XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQudm1sRHJhd2luZ1wiOiBcIlRPRE9cIixcblxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1wYWNrYWdlLnJlbGF0aW9uc2hpcHMreG1sXCI6IFwicmVsc1wiLFxuXHRcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5vbGVPYmplY3RcIjogXCJUT0RPXCIsXG5cblx0LyogSW1hZ2UgKi9cblx0XCJpbWFnZS9wbmdcIjogXCJUT0RPXCIsXG5cblx0XCJzaGVldFwiOiBcImpzXCJcbn0vKjphbnkqLyk7XG5cbnZhciBDVF9MSVNUID0ge1xuXHR3b3JrYm9va3M6IHtcblx0XHR4bHN4OiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0Lm1haW4reG1sXCIsXG5cdFx0eGxzbTogXCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hlZXQubWFjcm9FbmFibGVkLm1haW4reG1sXCIsXG5cdFx0eGxzYjogXCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hlZXQuYmluYXJ5Lm1hY3JvRW5hYmxlZC5tYWluXCIsXG5cdFx0eGxhbTogXCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuYWRkaW4ubWFjcm9FbmFibGVkLm1haW4reG1sXCIsXG5cdFx0eGx0eDogXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC50ZW1wbGF0ZS5tYWluK3htbFwiXG5cdH0sXG5cdHN0cnM6IHsgLyogU2hhcmVkIFN0cmluZ3MgKi9cblx0XHR4bHN4OiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoYXJlZFN0cmluZ3MreG1sXCIsXG5cdFx0eGxzYjogXCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hhcmVkU3RyaW5nc1wiXG5cdH0sXG5cdGNvbW1lbnRzOiB7IC8qIENvbW1lbnRzICovXG5cdFx0eGxzeDogXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5jb21tZW50cyt4bWxcIixcblx0XHR4bHNiOiBcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5jb21tZW50c1wiXG5cdH0sXG5cdHNoZWV0czogeyAvKiBXb3Jrc2hlZXQgKi9cblx0XHR4bHN4OiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLndvcmtzaGVldCt4bWxcIixcblx0XHR4bHNiOiBcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC53b3Jrc2hlZXRcIlxuXHR9LFxuXHRjaGFydHM6IHsgLyogQ2hhcnRzaGVldCAqL1xuXHRcdHhsc3g6IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuY2hhcnRzaGVldCt4bWxcIixcblx0XHR4bHNiOiBcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5jaGFydHNoZWV0XCJcblx0fSxcblx0ZGlhbG9nczogeyAvKiBEaWFsb2dzaGVldCAqL1xuXHRcdHhsc3g6IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuZGlhbG9nc2hlZXQreG1sXCIsXG5cdFx0eGxzYjogXCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuZGlhbG9nc2hlZXRcIlxuXHR9LFxuXHRtYWNyb3M6IHsgLyogTWFjcm9zaGVldCAoRXhjZWwgNC4wIE1hY3JvcykgKi9cblx0XHR4bHN4OiBcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5tYWNyb3NoZWV0K3htbFwiLFxuXHRcdHhsc2I6IFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLm1hY3Jvc2hlZXRcIlxuXHR9LFxuXHRtZXRhZGF0YTogeyAvKiBNZXRhZGF0YSAoU3RvY2svR2VvZ3JhcGh5IGFuZCBEeW5hbWljIEFycmF5KSAqL1xuXHRcdHhsc3g6IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXRNZXRhZGF0YSt4bWxcIixcblx0XHR4bHNiOiBcImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5zaGVldE1ldGFkYXRhXCJcblx0fSxcblx0c3R5bGVzOiB7IC8qIFN0eWxlcyAqL1xuXHRcdHhsc3g6IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc3R5bGVzK3htbFwiLFxuXHRcdHhsc2I6IFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnN0eWxlc1wiXG5cdH1cbn07XG5cbmZ1bmN0aW9uIG5ld19jdCgpLyo6YW55Ki8ge1xuXHRyZXR1cm4gKHtcblx0XHR3b3JrYm9va3M6W10sIHNoZWV0czpbXSwgY2hhcnRzOltdLCBkaWFsb2dzOltdLCBtYWNyb3M6W10sXG5cdFx0cmVsczpbXSwgc3RyczpbXSwgY29tbWVudHM6W10sIHRocmVhZGVkY29tbWVudHM6W10sIGxpbmtzOltdLFxuXHRcdGNvcmVwcm9wczpbXSwgZXh0cHJvcHM6W10sIGN1c3Rwcm9wczpbXSwgdGhlbWVzOltdLCBzdHlsZXM6W10sXG5cdFx0Y2FsY2NoYWluczpbXSwgdmJhOiBbXSwgZHJhd2luZ3M6IFtdLCBtZXRhZGF0YTogW10sIHBlb3BsZTpbXSxcblx0XHRUT0RPOltdLCB4bWxuczogXCJcIiB9Lyo6YW55Ki8pO1xufVxuXG5mdW5jdGlvbiBwYXJzZV9jdChkYXRhLyo6P3N0cmluZyovKSB7XG5cdHZhciBjdCA9IG5ld19jdCgpO1xuXHRpZighZGF0YSB8fCAhZGF0YS5tYXRjaCkgcmV0dXJuIGN0O1xuXHR2YXIgY3RleHQgPSB7fTtcblx0KGRhdGEubWF0Y2godGFncmVnZXgpfHxbXSkuZm9yRWFjaChmdW5jdGlvbih4KSB7XG5cdFx0dmFyIHkgPSBwYXJzZXhtbHRhZyh4KTtcblx0XHRzd2l0Y2goeVswXS5yZXBsYWNlKG5zcmVnZXgsXCI8XCIpKSB7XG5cdFx0XHRjYXNlICc8P3htbCc6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPFR5cGVzJzogY3QueG1sbnMgPSB5Wyd4bWxucycgKyAoeVswXS5tYXRjaCgvPChcXHcrKTovKXx8W1wiXCIsXCJcIl0pWzFdIF07IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPERlZmF1bHQnOiBjdGV4dFt5LkV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpXSA9IHkuQ29udGVudFR5cGU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPE92ZXJyaWRlJzpcblx0XHRcdFx0aWYoY3RbY3QydHlwZVt5LkNvbnRlbnRUeXBlXV0gIT09IHVuZGVmaW5lZCkgY3RbY3QydHlwZVt5LkNvbnRlbnRUeXBlXV0ucHVzaCh5LlBhcnROYW1lKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9KTtcblx0aWYoY3QueG1sbnMgIT09IFhNTE5TLkNUKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIE5hbWVzcGFjZTogXCIgKyBjdC54bWxucyk7XG5cdGN0LmNhbGNjaGFpbiA9IGN0LmNhbGNjaGFpbnMubGVuZ3RoID4gMCA/IGN0LmNhbGNjaGFpbnNbMF0gOiBcIlwiO1xuXHRjdC5zc3QgPSBjdC5zdHJzLmxlbmd0aCA+IDAgPyBjdC5zdHJzWzBdIDogXCJcIjtcblx0Y3Quc3R5bGUgPSBjdC5zdHlsZXMubGVuZ3RoID4gMCA/IGN0LnN0eWxlc1swXSA6IFwiXCI7XG5cdGN0LmRlZmF1bHRzID0gY3RleHQ7XG5cdGRlbGV0ZSBjdC5jYWxjY2hhaW5zO1xuXHRyZXR1cm4gY3Q7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX2N0KGN0LCBvcHRzLCByYXcpLyo6c3RyaW5nKi8ge1xuXHR2YXIgdHlwZTJjdC8qe1tzdHJpbmddOkFycmF5PHN0cmluZz59Ki8gPSBldmVydF9hcnIoY3QydHlwZSk7XG5cblx0dmFyIG8vKjpBcnJheTxzdHJpbmc+Ki8gPSBbXSwgdjtcblxuXHRpZighcmF3KSB7XG5cdFx0b1tvLmxlbmd0aF0gPSAoWE1MX0hFQURFUik7XG5cdFx0b1tvLmxlbmd0aF0gPSB3cml0ZXh0YWcoJ1R5cGVzJywgbnVsbCwge1xuXHRcdFx0J3htbG5zJzogWE1MTlMuQ1QsXG5cdFx0XHQneG1sbnM6eHNkJzogWE1MTlMueHNkLFxuXHRcdFx0J3htbG5zOnhzaSc6IFhNTE5TLnhzaVxuXHRcdH0pO1xuXHRcdG8gPSBvLmNvbmNhdChbXG5cdFx0XHRbJ3htbCcsICdhcHBsaWNhdGlvbi94bWwnXSxcblx0XHRcdFsnYmluJywgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5zaGVldC5iaW5hcnkubWFjcm9FbmFibGVkLm1haW4nXSxcblx0XHRcdFsndm1sJywgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC52bWxEcmF3aW5nJ10sXG5cdFx0XHRbJ2RhdGEnLCAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50Lm1vZGVsK2RhdGEnXSxcblx0XHRcdC8qIGZyb20gdGVzdCBmaWxlcyAqL1xuXHRcdFx0WydibXAnLCAnaW1hZ2UvYm1wJ10sXG5cdFx0XHRbJ3BuZycsICdpbWFnZS9wbmcnXSxcblx0XHRcdFsnZ2lmJywgJ2ltYWdlL2dpZiddLFxuXHRcdFx0WydlbWYnLCAnaW1hZ2UveC1lbWYnXSxcblx0XHRcdFsnd21mJywgJ2ltYWdlL3gtd21mJ10sXG5cdFx0XHRbJ2pwZycsICdpbWFnZS9qcGVnJ10sIFsnanBlZycsICdpbWFnZS9qcGVnJ10sXG5cdFx0XHRbJ3RpZicsICdpbWFnZS90aWZmJ10sIFsndGlmZicsICdpbWFnZS90aWZmJ10sXG5cdFx0XHRbJ3BkZicsICdhcHBsaWNhdGlvbi9wZGYnXSxcblx0XHRcdFsncmVscycsICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtcGFja2FnZS5yZWxhdGlvbnNoaXBzK3htbCddXG5cdFx0XS5tYXAoZnVuY3Rpb24oeCkge1xuXHRcdFx0cmV0dXJuIHdyaXRleHRhZygnRGVmYXVsdCcsIG51bGwsIHsnRXh0ZW5zaW9uJzp4WzBdLCAnQ29udGVudFR5cGUnOiB4WzFdfSk7XG5cdFx0fSkpO1xuXHR9XG5cblx0Lyogb25seSB3cml0ZSBmaXJzdCBpbnN0YW5jZSAqL1xuXHR2YXIgZjEgPSBmdW5jdGlvbih3KSB7XG5cdFx0aWYoY3Rbd10gJiYgY3Rbd10ubGVuZ3RoID4gMCkge1xuXHRcdFx0diA9IGN0W3ddWzBdO1xuXHRcdFx0b1tvLmxlbmd0aF0gPSAod3JpdGV4dGFnKCdPdmVycmlkZScsIG51bGwsIHtcblx0XHRcdFx0J1BhcnROYW1lJzogKHZbMF0gPT0gJy8nID8gXCJcIjpcIi9cIikgKyB2LFxuXHRcdFx0XHQnQ29udGVudFR5cGUnOiBDVF9MSVNUW3ddW29wdHMuYm9va1R5cGVdIHx8IENUX0xJU1Rbd11bJ3hsc3gnXVxuXHRcdFx0fSkpO1xuXHRcdH1cblx0fTtcblxuXHQvKiBib29rIHR5cGUtc3BlY2lmaWMgKi9cblx0dmFyIGYyID0gZnVuY3Rpb24odykge1xuXHRcdChjdFt3XXx8W10pLmZvckVhY2goZnVuY3Rpb24odikge1xuXHRcdFx0b1tvLmxlbmd0aF0gPSAod3JpdGV4dGFnKCdPdmVycmlkZScsIG51bGwsIHtcblx0XHRcdFx0J1BhcnROYW1lJzogKHZbMF0gPT0gJy8nID8gXCJcIjpcIi9cIikgKyB2LFxuXHRcdFx0XHQnQ29udGVudFR5cGUnOiBDVF9MSVNUW3ddW29wdHMuYm9va1R5cGVdIHx8IENUX0xJU1Rbd11bJ3hsc3gnXVxuXHRcdFx0fSkpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdC8qIHN0YW5kYXJkIHR5cGUgKi9cblx0dmFyIGYzID0gZnVuY3Rpb24odCkge1xuXHRcdChjdFt0XXx8W10pLmZvckVhY2goZnVuY3Rpb24odikge1xuXHRcdFx0b1tvLmxlbmd0aF0gPSAod3JpdGV4dGFnKCdPdmVycmlkZScsIG51bGwsIHtcblx0XHRcdFx0J1BhcnROYW1lJzogKHZbMF0gPT0gJy8nID8gXCJcIjpcIi9cIikgKyB2LFxuXHRcdFx0XHQnQ29udGVudFR5cGUnOiB0eXBlMmN0W3RdWzBdXG5cdFx0XHR9KSk7XG5cdFx0fSk7XG5cdH07XG5cblx0ZjEoJ3dvcmtib29rcycpO1xuXHRmMignc2hlZXRzJyk7XG5cdGYyKCdjaGFydHMnKTtcblx0ZjMoJ3RoZW1lcycpO1xuXHRbJ3N0cnMnLCAnc3R5bGVzJ10uZm9yRWFjaChmMSk7XG5cdFsnY29yZXByb3BzJywgJ2V4dHByb3BzJywgJ2N1c3Rwcm9wcyddLmZvckVhY2goZjMpO1xuXHRmMygndmJhJyk7XG5cdGYzKCdjb21tZW50cycpO1xuXHRmMygndGhyZWFkZWRjb21tZW50cycpO1xuXHRmMygnZHJhd2luZ3MnKTtcblx0ZjIoJ21ldGFkYXRhJyk7XG5cdGYzKCdwZW9wbGUnKTtcblx0aWYoIXJhdyAmJiBvLmxlbmd0aD4yKXsgb1tvLmxlbmd0aF0gPSAoJzwvVHlwZXM+Jyk7IG9bMV09b1sxXS5yZXBsYWNlKFwiLz5cIixcIj5cIik7IH1cblx0cmV0dXJuIG8uam9pbihcIlwiKTtcbn1cbi8qIDkuMyBSZWxhdGlvbnNoaXBzICovXG52YXIgUkVMUyA9ICh7XG5cdFdCOiBcImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvb2ZmaWNlRG9jdW1lbnRcIixcblx0U0hFRVQ6IFwiaHR0cDovL3NoZWV0anMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9vZmZpY2VEb2N1bWVudFwiLFxuXHRITElOSzogXCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL2h5cGVybGlua1wiLFxuXHRWTUw6IFwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy92bWxEcmF3aW5nXCIsXG5cdFhQQVRIOiBcImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvZXh0ZXJuYWxMaW5rUGF0aFwiLFxuXHRYTUlTUzogXCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL29mZmljZS8yMDA2L3JlbGF0aW9uc2hpcHMveGxFeHRlcm5hbExpbmtQYXRoL3hsUGF0aE1pc3NpbmdcIixcblx0WExJTks6IFwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9leHRlcm5hbExpbmtcIixcblx0Q1hNTDogXCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL2N1c3RvbVhtbFwiLFxuXHRDWE1MUDogXCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL2N1c3RvbVhtbFByb3BzXCIsXG5cdENNTlQ6IFwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9jb21tZW50c1wiLFxuXHRDT1JFX1BST1BTOiBcImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvcmVsYXRpb25zaGlwcy9tZXRhZGF0YS9jb3JlLXByb3BlcnRpZXNcIixcblx0RVhUX1BST1BTOiAnaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9leHRlbmRlZC1wcm9wZXJ0aWVzJyxcblx0Q1VTVF9QUk9QUzogJ2h0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvY3VzdG9tLXByb3BlcnRpZXMnLFxuXHRTU1Q6IFwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9zaGFyZWRTdHJpbmdzXCIsXG5cdFNUWTogXCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL3N0eWxlc1wiLFxuXHRUSEVNRTogXCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL3RoZW1lXCIsXG5cdENIQVJUOiBcImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvY2hhcnRcIixcblx0Q0hBUlRFWDogXCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL29mZmljZS8yMDE0L3JlbGF0aW9uc2hpcHMvY2hhcnRFeFwiLFxuXHRDUzogXCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL2NoYXJ0c2hlZXRcIixcblx0V1M6IFtcblx0XHRcImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvd29ya3NoZWV0XCIsXG5cdFx0XCJodHRwOi8vcHVybC5vY2xjLm9yZy9vb3htbC9vZmZpY2VEb2N1bWVudC9yZWxhdGlvbnNoaXBzL3dvcmtzaGVldFwiXG5cdF0sXG5cdERTOiBcImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvZGlhbG9nc2hlZXRcIixcblx0TVM6IFwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9vZmZpY2UvMjAwNi9yZWxhdGlvbnNoaXBzL3hsTWFjcm9zaGVldFwiLFxuXHRJTUc6IFwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9pbWFnZVwiLFxuXHREUkFXOiBcImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvZHJhd2luZ1wiLFxuXHRYTE1FVEE6IFwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9zaGVldE1ldGFkYXRhXCIsXG5cdFRDTU5UOiBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vb2ZmaWNlLzIwMTcvMTAvcmVsYXRpb25zaGlwcy90aHJlYWRlZENvbW1lbnRcIixcblx0UEVPUExFOiBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vb2ZmaWNlLzIwMTcvMTAvcmVsYXRpb25zaGlwcy9wZXJzb25cIixcblx0Q09OTjogXCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL2Nvbm5lY3Rpb25zXCIsXG5cdFZCQTogXCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL29mZmljZS8yMDA2L3JlbGF0aW9uc2hpcHMvdmJhUHJvamVjdFwiXG59Lyo6YW55Ki8pO1xuXG4vKiA5LjMuMyBSZXByZXNlbnRpbmcgUmVsYXRpb25zaGlwcyAqL1xuZnVuY3Rpb24gZ2V0X3JlbHNfcGF0aChmaWxlLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgbiA9IGZpbGUubGFzdEluZGV4T2YoXCIvXCIpO1xuXHRyZXR1cm4gZmlsZS5zbGljZSgwLG4rMSkgKyAnX3JlbHMvJyArIGZpbGUuc2xpY2UobisxKSArIFwiLnJlbHNcIjtcbn1cblxuZnVuY3Rpb24gcGFyc2VfcmVscyhkYXRhLyo6P3N0cmluZyovLCBjdXJyZW50RmlsZVBhdGgvKjpzdHJpbmcqLykge1xuXHR2YXIgcmVscyA9IHtcIiFpZFwiOnt9fTtcblx0aWYgKCFkYXRhKSByZXR1cm4gcmVscztcblx0aWYgKGN1cnJlbnRGaWxlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xuXHRcdGN1cnJlbnRGaWxlUGF0aCA9ICcvJytjdXJyZW50RmlsZVBhdGg7XG5cdH1cblx0dmFyIGhhc2ggPSB7fTtcblxuXHQoZGF0YS5tYXRjaCh0YWdyZWdleCl8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHgpIHtcblx0XHR2YXIgeSA9IHBhcnNleG1sdGFnKHgpO1xuXHRcdC8qIDkuMy4yLjIgT1BDX1JlbGF0aW9uc2hpcHMgKi9cblx0XHRpZiAoeVswXSA9PT0gJzxSZWxhdGlvbnNoaXAnKSB7XG5cdFx0XHR2YXIgcmVsID0ge307IHJlbC5UeXBlID0geS5UeXBlOyByZWwuVGFyZ2V0ID0gdW5lc2NhcGV4bWwoeS5UYXJnZXQpOyByZWwuSWQgPSB5LklkOyBpZih5LlRhcmdldE1vZGUpIHJlbC5UYXJnZXRNb2RlID0geS5UYXJnZXRNb2RlO1xuXHRcdFx0dmFyIGNhbm9uaWN0YXJnZXQgPSB5LlRhcmdldE1vZGUgPT09ICdFeHRlcm5hbCcgPyB5LlRhcmdldCA6IHJlc29sdmVfcGF0aCh5LlRhcmdldCwgY3VycmVudEZpbGVQYXRoKTtcblx0XHRcdHJlbHNbY2Fub25pY3RhcmdldF0gPSByZWw7XG5cdFx0XHRoYXNoW3kuSWRdID0gcmVsO1xuXHRcdH1cblx0fSk7XG5cdHJlbHNbXCIhaWRcIl0gPSBoYXNoO1xuXHRyZXR1cm4gcmVscztcbn1cblxuXG4vKiBUT0RPICovXG5mdW5jdGlvbiB3cml0ZV9yZWxzKHJlbHMpLyo6c3RyaW5nKi8ge1xuXHR2YXIgbyA9IFtYTUxfSEVBREVSLCB3cml0ZXh0YWcoJ1JlbGF0aW9uc2hpcHMnLCBudWxsLCB7XG5cdFx0Ly8neG1sbnM6bnMwJzogWE1MTlMuUkVMUyxcblx0XHQneG1sbnMnOiBYTUxOUy5SRUxTXG5cdH0pXTtcblx0a2V5cyhyZWxzWychaWQnXSkuZm9yRWFjaChmdW5jdGlvbihyaWQpIHtcblx0XHRvW28ubGVuZ3RoXSA9ICh3cml0ZXh0YWcoJ1JlbGF0aW9uc2hpcCcsIG51bGwsIHJlbHNbJyFpZCddW3JpZF0pKTtcblx0fSk7XG5cdGlmKG8ubGVuZ3RoPjIpeyBvW28ubGVuZ3RoXSA9ICgnPC9SZWxhdGlvbnNoaXBzPicpOyBvWzFdPW9bMV0ucmVwbGFjZShcIi8+XCIsXCI+XCIpOyB9XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIGFkZF9yZWxzKHJlbHMsIHJJZC8qOm51bWJlciovLCBmLCB0eXBlLCByZWxvYmosIHRhcmdldG1vZGUvKjo/c3RyaW5nKi8pLyo6bnVtYmVyKi8ge1xuXHRpZighcmVsb2JqKSByZWxvYmogPSB7fTtcblx0aWYoIXJlbHNbJyFpZCddKSByZWxzWychaWQnXSA9IHt9O1xuXHRpZighcmVsc1snIWlkeCddKSByZWxzWychaWR4J10gPSAxO1xuXHRpZihySWQgPCAwKSBmb3IocklkID0gcmVsc1snIWlkeCddOyByZWxzWychaWQnXVsncklkJyArIHJJZF07ICsrcklkKXsvKiBlbXB0eSAqL31cblx0cmVsc1snIWlkeCddID0gcklkICsgMTtcblx0cmVsb2JqLklkID0gJ3JJZCcgKyBySWQ7XG5cdHJlbG9iai5UeXBlID0gdHlwZTtcblx0cmVsb2JqLlRhcmdldCA9IGY7XG5cdGlmKHRhcmdldG1vZGUpIHJlbG9iai5UYXJnZXRNb2RlID0gdGFyZ2V0bW9kZTtcblx0ZWxzZSBpZihbUkVMUy5ITElOSywgUkVMUy5YUEFUSCwgUkVMUy5YTUlTU10uaW5kZXhPZihyZWxvYmouVHlwZSkgPiAtMSkgcmVsb2JqLlRhcmdldE1vZGUgPSBcIkV4dGVybmFsXCI7XG5cdGlmKHJlbHNbJyFpZCddW3JlbG9iai5JZF0pIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXdyaXRlIHJJZCBcIiArIHJJZCk7XG5cdHJlbHNbJyFpZCddW3JlbG9iai5JZF0gPSByZWxvYmo7XG5cdHJlbHNbKCcvJyArIHJlbG9iai5UYXJnZXQpLnJlcGxhY2UoXCIvL1wiLFwiL1wiKV0gPSByZWxvYmo7XG5cdHJldHVybiBySWQ7XG59XG52YXIgQ1RfT0RTID0gXCJhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0XCI7XG5mdW5jdGlvbiBwYXJzZV9tYW5pZmVzdChkLCBvcHRzKSB7XG4gIHZhciBzdHIgPSB4bG1sX25vcm1hbGl6ZShkKTtcbiAgdmFyIFJuO1xuICB2YXIgRkV0YWc7XG4gIHdoaWxlIChSbiA9IHhsbWxyZWdleC5leGVjKHN0cikpXG4gICAgc3dpdGNoIChSblszXSkge1xuICAgICAgY2FzZSBcIm1hbmlmZXN0XCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZpbGUtZW50cnlcIjpcbiAgICAgICAgRkV0YWcgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuICAgICAgICBpZiAoRkV0YWcucGF0aCA9PSBcIi9cIiAmJiBGRXRhZy50eXBlICE9PSBDVF9PRFMpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBPcGVuRG9jdW1lbnQgaXMgbm90IGEgc3ByZWFkc2hlZXRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVuY3J5cHRpb24tZGF0YVwiOlxuICAgICAgY2FzZSBcImFsZ29yaXRobVwiOlxuICAgICAgY2FzZSBcInN0YXJ0LWtleS1nZW5lcmF0aW9uXCI6XG4gICAgICBjYXNlIFwia2V5LWRlcml2YXRpb25cIjpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgT0RTIEVuY3J5cHRpb25cIik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAob3B0cyAmJiBvcHRzLldURilcbiAgICAgICAgICB0aHJvdyBSbjtcbiAgICB9XG59XG5mdW5jdGlvbiB3cml0ZV9tYW5pZmVzdChtYW5pZmVzdCkge1xuICB2YXIgbyA9IFtYTUxfSEVBREVSXTtcbiAgby5wdXNoKCc8bWFuaWZlc3Q6bWFuaWZlc3QgeG1sbnM6bWFuaWZlc3Q9XCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOm1hbmlmZXN0OjEuMFwiIG1hbmlmZXN0OnZlcnNpb249XCIxLjJcIj5cXG4nKTtcbiAgby5wdXNoKCcgIDxtYW5pZmVzdDpmaWxlLWVudHJ5IG1hbmlmZXN0OmZ1bGwtcGF0aD1cIi9cIiBtYW5pZmVzdDp2ZXJzaW9uPVwiMS4yXCIgbWFuaWZlc3Q6bWVkaWEtdHlwZT1cImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXRcIi8+XFxuJyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuaWZlc3QubGVuZ3RoOyArK2kpXG4gICAgby5wdXNoKCcgIDxtYW5pZmVzdDpmaWxlLWVudHJ5IG1hbmlmZXN0OmZ1bGwtcGF0aD1cIicgKyBtYW5pZmVzdFtpXVswXSArICdcIiBtYW5pZmVzdDptZWRpYS10eXBlPVwiJyArIG1hbmlmZXN0W2ldWzFdICsgJ1wiLz5cXG4nKTtcbiAgby5wdXNoKFwiPC9tYW5pZmVzdDptYW5pZmVzdD5cIik7XG4gIHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiB3cml0ZV9yZGZfdHlwZShmaWxlLCByZXMsIHRhZykge1xuICByZXR1cm4gW1xuICAgICcgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PVwiJyArIGZpbGUgKyAnXCI+XFxuJyxcbiAgICAnICAgIDxyZGY6dHlwZSByZGY6cmVzb3VyY2U9XCJodHRwOi8vZG9jcy5vYXNpcy1vcGVuLm9yZy9ucy9vZmZpY2UvMS4yL21ldGEvJyArICh0YWcgfHwgXCJvZGZcIikgKyBcIiNcIiArIHJlcyArICdcIi8+XFxuJyxcbiAgICBcIiAgPC9yZGY6RGVzY3JpcHRpb24+XFxuXCJcbiAgXS5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gd3JpdGVfcmRmX2hhcyhiYXNlLCBmaWxlKSB7XG4gIHJldHVybiBbXG4gICAgJyAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9XCInICsgYmFzZSArICdcIj5cXG4nLFxuICAgICcgICAgPG5zMDpoYXNQYXJ0IHhtbG5zOm5zMD1cImh0dHA6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL25zL29mZmljZS8xLjIvbWV0YS9wa2cjXCIgcmRmOnJlc291cmNlPVwiJyArIGZpbGUgKyAnXCIvPlxcbicsXG4gICAgXCIgIDwvcmRmOkRlc2NyaXB0aW9uPlxcblwiXG4gIF0uam9pbihcIlwiKTtcbn1cbmZ1bmN0aW9uIHdyaXRlX3JkZihyZGYpIHtcbiAgdmFyIG8gPSBbWE1MX0hFQURFUl07XG4gIG8ucHVzaCgnPHJkZjpSREYgeG1sbnM6cmRmPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI1wiPlxcbicpO1xuICBmb3IgKHZhciBpID0gMDsgaSAhPSByZGYubGVuZ3RoOyArK2kpIHtcbiAgICBvLnB1c2god3JpdGVfcmRmX3R5cGUocmRmW2ldWzBdLCByZGZbaV1bMV0pKTtcbiAgICBvLnB1c2god3JpdGVfcmRmX2hhcyhcIlwiLCByZGZbaV1bMF0pKTtcbiAgfVxuICBvLnB1c2god3JpdGVfcmRmX3R5cGUoXCJcIiwgXCJEb2N1bWVudFwiLCBcInBrZ1wiKSk7XG4gIG8ucHVzaChcIjwvcmRmOlJERj5cIik7XG4gIHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiB3cml0ZV9tZXRhX29kcyh3Yiwgb3B0cykge1xuICByZXR1cm4gJzxvZmZpY2U6ZG9jdW1lbnQtbWV0YSB4bWxuczpvZmZpY2U9XCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOm9mZmljZToxLjBcIiB4bWxuczptZXRhPVwidXJuOm9hc2lzOm5hbWVzOnRjOm9wZW5kb2N1bWVudDp4bWxuczptZXRhOjEuMFwiIHhtbG5zOmRjPVwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiBvZmZpY2U6dmVyc2lvbj1cIjEuMlwiPjxvZmZpY2U6bWV0YT48bWV0YTpnZW5lcmF0b3I+U2hlZXRKUyAnICsgWExTWC52ZXJzaW9uICsgXCI8L21ldGE6Z2VuZXJhdG9yPjwvb2ZmaWNlOm1ldGE+PC9vZmZpY2U6ZG9jdW1lbnQtbWV0YT5cIjtcbn1cbi8qIEVDTUEtMzc2IFBhcnQgSUkgMTEuMSBDb3JlIFByb3BlcnRpZXMgUGFydCAqL1xuLyogW01TLU9TSEFSRURdIDIuMy4zLjIuWzEtMl0uMSAoUElEU0kvUElERFNJKSAqL1xudmFyIENPUkVfUFJPUFMvKjpBcnJheTxBcnJheTxzdHJpbmc+ID4qLyA9IFtcblx0W1wiY3A6Y2F0ZWdvcnlcIiwgXCJDYXRlZ29yeVwiXSxcblx0W1wiY3A6Y29udGVudFN0YXR1c1wiLCBcIkNvbnRlbnRTdGF0dXNcIl0sXG5cdFtcImNwOmtleXdvcmRzXCIsIFwiS2V5d29yZHNcIl0sXG5cdFtcImNwOmxhc3RNb2RpZmllZEJ5XCIsIFwiTGFzdEF1dGhvclwiXSxcblx0W1wiY3A6bGFzdFByaW50ZWRcIiwgXCJMYXN0UHJpbnRlZFwiXSxcblx0W1wiY3A6cmV2aXNpb25cIiwgXCJSZXZOdW1iZXJcIl0sXG5cdFtcImNwOnZlcnNpb25cIiwgXCJWZXJzaW9uXCJdLFxuXHRbXCJkYzpjcmVhdG9yXCIsIFwiQXV0aG9yXCJdLFxuXHRbXCJkYzpkZXNjcmlwdGlvblwiLCBcIkNvbW1lbnRzXCJdLFxuXHRbXCJkYzppZGVudGlmaWVyXCIsIFwiSWRlbnRpZmllclwiXSxcblx0W1wiZGM6bGFuZ3VhZ2VcIiwgXCJMYW5ndWFnZVwiXSxcblx0W1wiZGM6c3ViamVjdFwiLCBcIlN1YmplY3RcIl0sXG5cdFtcImRjOnRpdGxlXCIsIFwiVGl0bGVcIl0sXG5cdFtcImRjdGVybXM6Y3JlYXRlZFwiLCBcIkNyZWF0ZWREYXRlXCIsICdkYXRlJ10sXG5cdFtcImRjdGVybXM6bW9kaWZpZWRcIiwgXCJNb2RpZmllZERhdGVcIiwgJ2RhdGUnXVxuXTtcblxuZnVuY3Rpb24gcGFyc2VfY29yZV9wcm9wcyhkYXRhKSB7XG5cdHZhciBwID0ge307XG5cdGRhdGEgPSB1dGY4cmVhZChkYXRhKTtcblxuXHRmb3IodmFyIGkgPSAwOyBpIDwgQ09SRV9QUk9QUy5sZW5ndGg7ICsraSkge1xuXHRcdHZhciBmID0gQ09SRV9QUk9QU1tpXSwgY3VyID0gc3RyX21hdGNoX3htbChkYXRhLCBmWzBdKTtcblx0XHRpZihjdXIgIT0gbnVsbCAmJiBjdXIubGVuZ3RoID4gMCkgcFtmWzFdXSA9IHVuZXNjYXBleG1sKGN1clsxXSk7XG5cdFx0aWYoZlsyXSA9PT0gJ2RhdGUnICYmIHBbZlsxXV0pIHBbZlsxXV0gPSBwYXJzZURhdGUocFtmWzFdXSk7XG5cdH1cblxuXHRyZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gY3BfZG9pdChmLCBnLCBoLCBvLCBwKSB7XG5cdGlmKHBbZl0gIT0gbnVsbCB8fCBnID09IG51bGwgfHwgZyA9PT0gXCJcIikgcmV0dXJuO1xuXHRwW2ZdID0gZztcblx0ZyA9IGVzY2FwZXhtbChnKTtcblx0b1tvLmxlbmd0aF0gPSAoaCA/IHdyaXRleHRhZyhmLGcsaCkgOiB3cml0ZXRhZyhmLGcpKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfY29yZV9wcm9wcyhjcCwgX29wdHMpIHtcblx0dmFyIG9wdHMgPSBfb3B0cyB8fCB7fTtcblx0dmFyIG8gPSBbWE1MX0hFQURFUiwgd3JpdGV4dGFnKCdjcDpjb3JlUHJvcGVydGllcycsIG51bGwsIHtcblx0XHQvLyd4bWxucyc6IFhNTE5TLkNPUkVfUFJPUFMsXG5cdFx0J3htbG5zOmNwJzogWE1MTlMuQ09SRV9QUk9QUyxcblx0XHQneG1sbnM6ZGMnOiBYTUxOUy5kYyxcblx0XHQneG1sbnM6ZGN0ZXJtcyc6IFhNTE5TLmRjdGVybXMsXG5cdFx0J3htbG5zOmRjbWl0eXBlJzogWE1MTlMuZGNtaXR5cGUsXG5cdFx0J3htbG5zOnhzaSc6IFhNTE5TLnhzaVxuXHR9KV0sIHAgPSB7fTtcblx0aWYoIWNwICYmICFvcHRzLlByb3BzKSByZXR1cm4gby5qb2luKFwiXCIpO1xuXG5cdGlmKGNwKSB7XG5cdFx0aWYoY3AuQ3JlYXRlZERhdGUgIT0gbnVsbCkgY3BfZG9pdChcImRjdGVybXM6Y3JlYXRlZFwiLCB0eXBlb2YgY3AuQ3JlYXRlZERhdGUgPT09IFwic3RyaW5nXCIgPyBjcC5DcmVhdGVkRGF0ZSA6IHdyaXRlX3czY2R0ZihjcC5DcmVhdGVkRGF0ZSwgb3B0cy5XVEYpLCB7XCJ4c2k6dHlwZVwiOlwiZGN0ZXJtczpXM0NEVEZcIn0sIG8sIHApO1xuXHRcdGlmKGNwLk1vZGlmaWVkRGF0ZSAhPSBudWxsKSBjcF9kb2l0KFwiZGN0ZXJtczptb2RpZmllZFwiLCB0eXBlb2YgY3AuTW9kaWZpZWREYXRlID09PSBcInN0cmluZ1wiID8gY3AuTW9kaWZpZWREYXRlIDogd3JpdGVfdzNjZHRmKGNwLk1vZGlmaWVkRGF0ZSwgb3B0cy5XVEYpLCB7XCJ4c2k6dHlwZVwiOlwiZGN0ZXJtczpXM0NEVEZcIn0sIG8sIHApO1xuXHR9XG5cblx0Zm9yKHZhciBpID0gMDsgaSAhPSBDT1JFX1BST1BTLmxlbmd0aDsgKytpKSB7XG5cdFx0dmFyIGYgPSBDT1JFX1BST1BTW2ldO1xuXHRcdHZhciB2ID0gb3B0cy5Qcm9wcyAmJiBvcHRzLlByb3BzW2ZbMV1dICE9IG51bGwgPyBvcHRzLlByb3BzW2ZbMV1dIDogY3AgPyBjcFtmWzFdXSA6IG51bGw7XG5cdFx0aWYodiA9PT0gdHJ1ZSkgdiA9IFwiMVwiO1xuXHRcdGVsc2UgaWYodiA9PT0gZmFsc2UpIHYgPSBcIjBcIjtcblx0XHRlbHNlIGlmKHR5cGVvZiB2ID09IFwibnVtYmVyXCIpIHYgPSBTdHJpbmcodik7XG5cdFx0aWYodiAhPSBudWxsKSBjcF9kb2l0KGZbMF0sIHYsIG51bGwsIG8sIHApO1xuXHR9XG5cdGlmKG8ubGVuZ3RoPjIpeyBvW28ubGVuZ3RoXSA9ICgnPC9jcDpjb3JlUHJvcGVydGllcz4nKTsgb1sxXT1vWzFdLnJlcGxhY2UoXCIvPlwiLFwiPlwiKTsgfVxuXHRyZXR1cm4gby5qb2luKFwiXCIpO1xufVxuLyogMTUuMi4xMi4zIEV4dGVuZGVkIEZpbGUgUHJvcGVydGllcyBQYXJ0ICovXG4vKiBbTVMtT1NIQVJFRF0gMi4zLjMuMi5bMS0yXS4xIChQSURTSS9QSUREU0kpICovXG52YXIgRVhUX1BST1BTLyo6QXJyYXk8QXJyYXk8c3RyaW5nPiA+Ki8gPSBbXG5cdFtcIkFwcGxpY2F0aW9uXCIsIFwiQXBwbGljYXRpb25cIiwgXCJzdHJpbmdcIl0sXG5cdFtcIkFwcFZlcnNpb25cIiwgXCJBcHBWZXJzaW9uXCIsIFwic3RyaW5nXCJdLFxuXHRbXCJDb21wYW55XCIsIFwiQ29tcGFueVwiLCBcInN0cmluZ1wiXSxcblx0W1wiRG9jU2VjdXJpdHlcIiwgXCJEb2NTZWN1cml0eVwiLCBcInN0cmluZ1wiXSxcblx0W1wiTWFuYWdlclwiLCBcIk1hbmFnZXJcIiwgXCJzdHJpbmdcIl0sXG5cdFtcIkh5cGVybGlua3NDaGFuZ2VkXCIsIFwiSHlwZXJsaW5rc0NoYW5nZWRcIiwgXCJib29sXCJdLFxuXHRbXCJTaGFyZWREb2NcIiwgXCJTaGFyZWREb2NcIiwgXCJib29sXCJdLFxuXHRbXCJMaW5rc1VwVG9EYXRlXCIsIFwiTGlua3NVcFRvRGF0ZVwiLCBcImJvb2xcIl0sXG5cdFtcIlNjYWxlQ3JvcFwiLCBcIlNjYWxlQ3JvcFwiLCBcImJvb2xcIl0sXG5cdFtcIkhlYWRpbmdQYWlyc1wiLCBcIkhlYWRpbmdQYWlyc1wiLCBcInJhd1wiXSxcblx0W1wiVGl0bGVzT2ZQYXJ0c1wiLCBcIlRpdGxlc09mUGFydHNcIiwgXCJyYXdcIl1cbl07XG5cbnZhciBQc2V1ZG9Qcm9wc1BhaXJzID0gW1xuXHRcIldvcmtzaGVldHNcIiwgIFwiU2hlZXROYW1lc1wiLFxuXHRcIk5hbWVkUmFuZ2VzXCIsIFwiRGVmaW5lZE5hbWVzXCIsXG5cdFwiQ2hhcnRzaGVldHNcIiwgXCJDaGFydE5hbWVzXCJcbl07XG5mdW5jdGlvbiBsb2FkX3Byb3BzX3BhaXJzKEhQLyo6c3RyaW5nfEFycmF5PEFycmF5PGFueT4+Ki8sIFRPUCwgcHJvcHMsIG9wdHMpIHtcblx0dmFyIHYgPSBbXTtcblx0aWYodHlwZW9mIEhQID09IFwic3RyaW5nXCIpIHYgPSBwYXJzZVZlY3RvcihIUCwgb3B0cyk7XG5cdGVsc2UgZm9yKHZhciBqID0gMDsgaiA8IEhQLmxlbmd0aDsgKytqKSB2ID0gdi5jb25jYXQoSFBbal0ubWFwKGZ1bmN0aW9uKGhwKSB7IHJldHVybiB7djpocH07IH0pKTtcblx0dmFyIHBhcnRzID0gKHR5cGVvZiBUT1AgPT0gXCJzdHJpbmdcIikgPyBwYXJzZVZlY3RvcihUT1AsIG9wdHMpLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC52OyB9KSA6IFRPUDtcblx0dmFyIGlkeCA9IDAsIGxlbiA9IDA7XG5cdGlmKHBhcnRzLmxlbmd0aCA+IDApIGZvcih2YXIgaSA9IDA7IGkgIT09IHYubGVuZ3RoOyBpICs9IDIpIHtcblx0XHRsZW4gPSArKHZbaSsxXS52KTtcblx0XHRzd2l0Y2godltpXS52KSB7XG5cdFx0XHRjYXNlIFwiV29ya3NoZWV0c1wiOlxuXHRcdFx0Y2FzZSBcIuW3peS9nOihqFwiOlxuXHRcdFx0Y2FzZSBcItCb0LjRgdGC0YtcIjpcblx0XHRcdGNhc2UgXCLYo9mI2LHYp9mCINin2YTYudmF2YRcIjpcblx0XHRcdGNhc2UgXCLjg6/jg7zjgq/jgrfjg7zjg4hcIjpcblx0XHRcdGNhc2UgXCLXktec15nXldeg15XXqiDXoteR15XXk9eUXCI6XG5cdFx0XHRjYXNlIFwiQXJiZWl0c2Jsw6R0dGVyXCI6XG5cdFx0XHRjYXNlIFwiw4dhbMSxxZ9tYSBTYXlmYWxhcsSxXCI6XG5cdFx0XHRjYXNlIFwiRmV1aWxsZXMgZGUgY2FsY3VsXCI6XG5cdFx0XHRjYXNlIFwiRm9nbGkgZGkgbGF2b3JvXCI6XG5cdFx0XHRjYXNlIFwiRm9saGFzIGRlIGPDoWxjdWxvXCI6XG5cdFx0XHRjYXNlIFwiUGxhbmlsaGFzXCI6XG5cdFx0XHRjYXNlIFwiUmVnbmVhcmtcIjpcblx0XHRcdGNhc2UgXCJIb2phcyBkZSBjw6FsY3Vsb1wiOlxuXHRcdFx0Y2FzZSBcIldlcmtibGFkZW5cIjpcblx0XHRcdFx0cHJvcHMuV29ya3NoZWV0cyA9IGxlbjtcblx0XHRcdFx0cHJvcHMuU2hlZXROYW1lcyA9IHBhcnRzLnNsaWNlKGlkeCwgaWR4ICsgbGVuKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgXCJOYW1lZCBSYW5nZXNcIjpcblx0XHRcdGNhc2UgXCJSYW5nb3MgY29uIG5vbWJyZVwiOlxuXHRcdFx0Y2FzZSBcIuWQjeWJjeS7mOOBjeS4gOimp1wiOlxuXHRcdFx0Y2FzZSBcIkJlbmFubnRlIEJlcmVpY2hlXCI6XG5cdFx0XHRjYXNlIFwiTmF2bmdpdm5lIG9tcsOlZGVyXCI6XG5cdFx0XHRcdHByb3BzLk5hbWVkUmFuZ2VzID0gbGVuO1xuXHRcdFx0XHRwcm9wcy5EZWZpbmVkTmFtZXMgPSBwYXJ0cy5zbGljZShpZHgsIGlkeCArIGxlbik7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFwiQ2hhcnRzXCI6XG5cdFx0XHRjYXNlIFwiRGlhZ3JhbW1lXCI6XG5cdFx0XHRcdHByb3BzLkNoYXJ0c2hlZXRzID0gbGVuO1xuXHRcdFx0XHRwcm9wcy5DaGFydE5hbWVzID0gcGFydHMuc2xpY2UoaWR4LCBpZHggKyBsZW4pO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdFx0aWR4ICs9IGxlbjtcblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZV9leHRfcHJvcHMoZGF0YSwgcCwgb3B0cykge1xuXHR2YXIgcSA9IHt9OyBpZighcCkgcCA9IHt9O1xuXHRkYXRhID0gdXRmOHJlYWQoZGF0YSk7XG5cblx0RVhUX1BST1BTLmZvckVhY2goZnVuY3Rpb24oZikge1xuXHRcdHZhciB4bWwgPSAoc3RyX21hdGNoX3htbF9ucyhkYXRhLCBmWzBdKXx8W10pWzFdO1xuXHRcdHN3aXRjaChmWzJdKSB7XG5cdFx0XHRjYXNlIFwic3RyaW5nXCI6IGlmKHhtbCkgcFtmWzFdXSA9IHVuZXNjYXBleG1sKHhtbCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcImJvb2xcIjogcFtmWzFdXSA9IHhtbCA9PT0gXCJ0cnVlXCI7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcInJhd1wiOlxuXHRcdFx0XHR2YXIgY3VyID0gc3RyX21hdGNoX3htbChkYXRhLCBmWzBdKTtcblx0XHRcdFx0aWYoY3VyICYmIGN1ci5sZW5ndGggPiAwKSBxW2ZbMV1dID0gY3VyWzFdO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0pO1xuXG5cdGlmKHEuSGVhZGluZ1BhaXJzICYmIHEuVGl0bGVzT2ZQYXJ0cykgbG9hZF9wcm9wc19wYWlycyhxLkhlYWRpbmdQYWlycywgcS5UaXRsZXNPZlBhcnRzLCBwLCBvcHRzKTtcblxuXHRyZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gd3JpdGVfZXh0X3Byb3BzKGNwLyo6Oiwgb3B0cyovKS8qOnN0cmluZyovIHtcblx0dmFyIG8vKjpBcnJheTxzdHJpbmc+Ki8gPSBbXSwgVyA9IHdyaXRleHRhZztcblx0aWYoIWNwKSBjcCA9IHt9O1xuXHRjcC5BcHBsaWNhdGlvbiA9IFwiU2hlZXRKU1wiO1xuXHRvW28ubGVuZ3RoXSA9IChYTUxfSEVBREVSKTtcblx0b1tvLmxlbmd0aF0gPSAod3JpdGV4dGFnKCdQcm9wZXJ0aWVzJywgbnVsbCwge1xuXHRcdCd4bWxucyc6IFhNTE5TLkVYVF9QUk9QUyxcblx0XHQneG1sbnM6dnQnOiBYTUxOUy52dFxuXHR9KSk7XG5cblx0RVhUX1BST1BTLmZvckVhY2goZnVuY3Rpb24oZikge1xuXHRcdGlmKGNwW2ZbMV1dID09PSB1bmRlZmluZWQpIHJldHVybjtcblx0XHR2YXIgdjtcblx0XHRzd2l0Y2goZlsyXSkge1xuXHRcdFx0Y2FzZSAnc3RyaW5nJzogdiA9IGVzY2FwZXhtbChTdHJpbmcoY3BbZlsxXV0pKTsgYnJlYWs7XG5cdFx0XHRjYXNlICdib29sJzogdiA9IGNwW2ZbMV1dID8gJ3RydWUnIDogJ2ZhbHNlJzsgYnJlYWs7XG5cdFx0fVxuXHRcdGlmKHYgIT09IHVuZGVmaW5lZCkgb1tvLmxlbmd0aF0gPSAoVyhmWzBdLCB2KSk7XG5cdH0pO1xuXG5cdC8qIFRPRE86IEhlYWRpbmdQYWlycywgVGl0bGVzT2ZQYXJ0cyAqL1xuXHRvW28ubGVuZ3RoXSA9IChXKCdIZWFkaW5nUGFpcnMnLCBXKCd2dDp2ZWN0b3InLCBXKCd2dDp2YXJpYW50JywgJzx2dDpscHN0cj5Xb3Jrc2hlZXRzPC92dDpscHN0cj4nKStXKCd2dDp2YXJpYW50JywgVygndnQ6aTQnLCBTdHJpbmcoY3AuV29ya3NoZWV0cykpKSwge3NpemU6MiwgYmFzZVR5cGU6XCJ2YXJpYW50XCJ9KSkpO1xuXHRvW28ubGVuZ3RoXSA9IChXKCdUaXRsZXNPZlBhcnRzJywgVygndnQ6dmVjdG9yJywgY3AuU2hlZXROYW1lcy5tYXAoZnVuY3Rpb24ocykgeyByZXR1cm4gXCI8dnQ6bHBzdHI+XCIgKyBlc2NhcGV4bWwocykgKyBcIjwvdnQ6bHBzdHI+XCI7IH0pLmpvaW4oXCJcIiksIHtzaXplOiBjcC5Xb3Jrc2hlZXRzLCBiYXNlVHlwZTpcImxwc3RyXCJ9KSkpO1xuXHRpZihvLmxlbmd0aD4yKXsgb1tvLmxlbmd0aF0gPSAoJzwvUHJvcGVydGllcz4nKTsgb1sxXT1vWzFdLnJlcGxhY2UoXCIvPlwiLFwiPlwiKTsgfVxuXHRyZXR1cm4gby5qb2luKFwiXCIpO1xufVxuLyogMTUuMi4xMi4yIEN1c3RvbSBGaWxlIFByb3BlcnRpZXMgUGFydCAqL1xudmFyIGN1c3RyZWdleCA9IC88W148Pl0rPltePF0qL2c7XG5mdW5jdGlvbiBwYXJzZV9jdXN0X3Byb3BzKGRhdGEvKjpzdHJpbmcqLywgb3B0cykge1xuXHR2YXIgcCA9IHt9LCBuYW1lID0gXCJcIjtcblx0dmFyIG0gPSBkYXRhLm1hdGNoKGN1c3RyZWdleCk7XG5cdGlmKG0pIGZvcih2YXIgaSA9IDA7IGkgIT0gbS5sZW5ndGg7ICsraSkge1xuXHRcdHZhciB4ID0gbVtpXSwgeSA9IHBhcnNleG1sdGFnKHgpO1xuXHRcdHN3aXRjaChzdHJpcF9ucyh5WzBdKSkge1xuXHRcdFx0Y2FzZSAnPD94bWwnOiBicmVhaztcblx0XHRcdGNhc2UgJzxQcm9wZXJ0aWVzJzogYnJlYWs7XG5cdFx0XHRjYXNlICc8cHJvcGVydHknOiBuYW1lID0gdW5lc2NhcGV4bWwoeS5uYW1lKTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L3Byb3BlcnR5Pic6IG5hbWUgPSBudWxsOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IGlmICh4LmluZGV4T2YoJzx2dDonKSA9PT0gMCkge1xuXHRcdFx0XHR2YXIgdG9rcyA9IHguc3BsaXQoJz4nKTtcblx0XHRcdFx0dmFyIHR5cGUgPSB0b2tzWzBdLnNsaWNlKDQpLCB0ZXh0ID0gdG9rc1sxXTtcblx0XHRcdFx0LyogMjIuNC4yLjMyIChDVF9WYXJpYW50KS4gT21pdCB0aGUgYmluYXJ5IHR5cGVzIGZyb20gMjIuNCAoVmFyaWFudCBUeXBlcykgKi9cblx0XHRcdFx0c3dpdGNoKHR5cGUpIHtcblx0XHRcdFx0XHRjYXNlICdscHN0cic6IGNhc2UgJ2JzdHInOiBjYXNlICdscHdzdHInOlxuXHRcdFx0XHRcdFx0cFtuYW1lXSA9IHVuZXNjYXBleG1sKHRleHQpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYm9vbCc6XG5cdFx0XHRcdFx0XHRwW25hbWVdID0gcGFyc2V4bWxib29sKHRleHQpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnaTEnOiBjYXNlICdpMic6IGNhc2UgJ2k0JzogY2FzZSAnaTgnOiBjYXNlICdpbnQnOiBjYXNlICd1aW50Jzpcblx0XHRcdFx0XHRcdHBbbmFtZV0gPSBwYXJzZUludCh0ZXh0LCAxMCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdyNCc6IGNhc2UgJ3I4JzogY2FzZSAnZGVjaW1hbCc6XG5cdFx0XHRcdFx0XHRwW25hbWVdID0gcGFyc2VGbG9hdCh0ZXh0KTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2ZpbGV0aW1lJzogY2FzZSAnZGF0ZSc6XG5cdFx0XHRcdFx0XHRwW25hbWVdID0gcGFyc2VEYXRlKHRleHQpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY3knOiBjYXNlICdlcnJvcic6XG5cdFx0XHRcdFx0XHRwW25hbWVdID0gdW5lc2NhcGV4bWwodGV4dCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0aWYodHlwZS5zbGljZSgtMSkgPT0gJy8nKSBicmVhaztcblx0XHRcdFx0XHRcdGlmKG9wdHMuV1RGICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykgY29uc29sZS53YXJuKCdVbmV4cGVjdGVkJywgeCwgdHlwZSwgdG9rcyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZih4LnNsaWNlKDAsMikgPT09IFwiPC9cIikgey8qIGVtcHR5ICovXG5cdFx0XHR9IGVsc2UgaWYob3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcih4KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX2N1c3RfcHJvcHMoY3AvKjo6LCBvcHRzKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgbyA9IFtYTUxfSEVBREVSLCB3cml0ZXh0YWcoJ1Byb3BlcnRpZXMnLCBudWxsLCB7XG5cdFx0J3htbG5zJzogWE1MTlMuQ1VTVF9QUk9QUyxcblx0XHQneG1sbnM6dnQnOiBYTUxOUy52dFxuXHR9KV07XG5cdGlmKCFjcCkgcmV0dXJuIG8uam9pbihcIlwiKTtcblx0dmFyIHBpZCA9IDE7XG5cdGtleXMoY3ApLmZvckVhY2goZnVuY3Rpb24gY3VzdHByb3AoaykgeyArK3BpZDtcblx0XHRvW28ubGVuZ3RoXSA9ICh3cml0ZXh0YWcoJ3Byb3BlcnR5Jywgd3JpdGVfdnQoY3Bba10sIHRydWUpLCB7XG5cdFx0XHQnZm10aWQnOiAne0Q1Q0RENTA1LTJFOUMtMTAxQi05Mzk3LTA4MDAyQjJDRjlBRX0nLFxuXHRcdFx0J3BpZCc6IHBpZCxcblx0XHRcdCduYW1lJzogZXNjYXBleG1sKGspXG5cdFx0fSkpO1xuXHR9KTtcblx0aWYoby5sZW5ndGg+Mil7IG9bby5sZW5ndGhdID0gJzwvUHJvcGVydGllcz4nOyBvWzFdPW9bMV0ucmVwbGFjZShcIi8+XCIsXCI+XCIpOyB9XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG4vKiBDb21tb24gTmFtZSAtPiBYTE1MIE5hbWUgKi9cbnZhciBYTE1MRG9jUHJvcHNNYXAgPSB7XG5cdFRpdGxlOiAnVGl0bGUnLFxuXHRTdWJqZWN0OiAnU3ViamVjdCcsXG5cdEF1dGhvcjogJ0F1dGhvcicsXG5cdEtleXdvcmRzOiAnS2V5d29yZHMnLFxuXHRDb21tZW50czogJ0Rlc2NyaXB0aW9uJyxcblx0TGFzdEF1dGhvcjogJ0xhc3RBdXRob3InLFxuXHRSZXZOdW1iZXI6ICdSZXZpc2lvbicsXG5cdEFwcGxpY2F0aW9uOiAnQXBwTmFtZScsXG5cdC8qIFRvdGFsVGltZTogJ1RvdGFsVGltZScsICovXG5cdExhc3RQcmludGVkOiAnTGFzdFByaW50ZWQnLFxuXHRDcmVhdGVkRGF0ZTogJ0NyZWF0ZWQnLFxuXHRNb2RpZmllZERhdGU6ICdMYXN0U2F2ZWQnLFxuXHQvKiBQYWdlcyAqL1xuXHQvKiBXb3JkcyAqL1xuXHQvKiBDaGFyYWN0ZXJzICovXG5cdENhdGVnb3J5OiAnQ2F0ZWdvcnknLFxuXHQvKiBQcmVzZW50YXRpb25Gb3JtYXQgKi9cblx0TWFuYWdlcjogJ01hbmFnZXInLFxuXHRDb21wYW55OiAnQ29tcGFueScsXG5cdC8qIEd1aWQgKi9cblx0LyogSHlwZXJsaW5rQmFzZSAqL1xuXHQvKiBCeXRlcyAqL1xuXHQvKiBMaW5lcyAqL1xuXHQvKiBQYXJhZ3JhcGhzICovXG5cdC8qIENoYXJhY3RlcnNXaXRoU3BhY2VzICovXG5cdEFwcFZlcnNpb246ICdWZXJzaW9uJyxcblxuXHRDb250ZW50U3RhdHVzOiAnQ29udGVudFN0YXR1cycsIC8qIE5PVEU6IG1pc3NpbmcgZnJvbSBzY2hlbWEgKi9cblx0SWRlbnRpZmllcjogJ0lkZW50aWZpZXInLCAvKiBOT1RFOiBtaXNzaW5nIGZyb20gc2NoZW1hICovXG5cdExhbmd1YWdlOiAnTGFuZ3VhZ2UnIC8qIE5PVEU6IG1pc3NpbmcgZnJvbSBzY2hlbWEgKi9cbn07XG52YXIgZXZlcnRfWExNTERQTTtcblxuZnVuY3Rpb24geGxtbF9zZXRfcHJvcChQcm9wcywgdGFnLyo6c3RyaW5nKi8sIHZhbCkge1xuXHRpZighZXZlcnRfWExNTERQTSkgZXZlcnRfWExNTERQTSA9IGV2ZXJ0KFhMTUxEb2NQcm9wc01hcCk7XG5cdHRhZyA9IGV2ZXJ0X1hMTUxEUE1bdGFnXSB8fCB0YWc7XG5cdFByb3BzW3RhZ10gPSB2YWw7XG59XG5cbmZ1bmN0aW9uIHhsbWxfd3JpdGVfZG9jcHJvcHMoUHJvcHMsIG9wdHMpIHtcblx0dmFyIG8vKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0a2V5cyhYTE1MRG9jUHJvcHNNYXApLm1hcChmdW5jdGlvbihtKSB7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IENPUkVfUFJPUFMubGVuZ3RoOyArK2kpIGlmKENPUkVfUFJPUFNbaV1bMV0gPT0gbSkgcmV0dXJuIENPUkVfUFJPUFNbaV07XG5cdFx0Zm9yKGkgPSAwOyBpIDwgRVhUX1BST1BTLmxlbmd0aDsgKytpKSBpZihFWFRfUFJPUFNbaV1bMV0gPT0gbSkgcmV0dXJuIEVYVF9QUk9QU1tpXTtcblx0XHR0aHJvdyBtO1xuXHR9KS5mb3JFYWNoKGZ1bmN0aW9uKHApIHtcblx0XHRpZihQcm9wc1twWzFdXSA9PSBudWxsKSByZXR1cm47XG5cdFx0dmFyIG0gPSBvcHRzICYmIG9wdHMuUHJvcHMgJiYgb3B0cy5Qcm9wc1twWzFdXSAhPSBudWxsID8gb3B0cy5Qcm9wc1twWzFdXSA6IFByb3BzW3BbMV1dO1xuXHRcdHN3aXRjaChwWzJdKSB7XG5cdFx0XHRjYXNlICdkYXRlJzogbSA9IG5ldyBEYXRlKG0pLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvXFwuXFxkKlovLFwiWlwiKTsgYnJlYWs7XG5cdFx0fVxuXHRcdGlmKHR5cGVvZiBtID09ICdudW1iZXInKSBtID0gU3RyaW5nKG0pO1xuXHRcdGVsc2UgaWYobSA9PT0gdHJ1ZSB8fCBtID09PSBmYWxzZSkgeyBtID0gbSA/IFwiMVwiIDogXCIwXCI7IH1cblx0XHRlbHNlIGlmKG0gaW5zdGFuY2VvZiBEYXRlKSBtID0gbmV3IERhdGUobSkudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9cXC5cXGQqWi8sXCJcIik7XG5cdFx0by5wdXNoKHdyaXRldGFnKFhMTUxEb2NQcm9wc01hcFtwWzFdXSB8fCBwWzFdLCBtKSk7XG5cdH0pO1xuXHRyZXR1cm4gd3JpdGV4dGFnKCdEb2N1bWVudFByb3BlcnRpZXMnLCBvLmpvaW4oXCJcIiksIHt4bWxuczpYTE1MTlMubyB9KTtcbn1cbmZ1bmN0aW9uIHhsbWxfd3JpdGVfY3VzdHByb3BzKFByb3BzLCBDdXN0cHJvcHMvKjo6LCBvcHRzKi8pIHtcblx0dmFyIEJMQUNLTElTVCA9IFtcIldvcmtzaGVldHNcIixcIlNoZWV0TmFtZXNcIl07XG5cdHZhciBUID0gJ0N1c3RvbURvY3VtZW50UHJvcGVydGllcyc7XG5cdHZhciBvLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdGlmKFByb3BzKSBrZXlzKFByb3BzKS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcblx0XHQvKjo6IGlmKCFQcm9wcykgcmV0dXJuOyAqL1xuXHRcdGlmKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUHJvcHMsIGspKSByZXR1cm47XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IENPUkVfUFJPUFMubGVuZ3RoOyArK2kpIGlmKGsgPT0gQ09SRV9QUk9QU1tpXVsxXSkgcmV0dXJuO1xuXHRcdGZvcihpID0gMDsgaSA8IEVYVF9QUk9QUy5sZW5ndGg7ICsraSkgaWYoayA9PSBFWFRfUFJPUFNbaV1bMV0pIHJldHVybjtcblx0XHRmb3IoaSA9IDA7IGkgPCBCTEFDS0xJU1QubGVuZ3RoOyArK2kpIGlmKGsgPT0gQkxBQ0tMSVNUW2ldKSByZXR1cm47XG5cblx0XHR2YXIgbSA9IFByb3BzW2tdO1xuXHRcdHZhciB0ID0gXCJzdHJpbmdcIjtcblx0XHRpZih0eXBlb2YgbSA9PSAnbnVtYmVyJykgeyB0ID0gXCJmbG9hdFwiOyBtID0gU3RyaW5nKG0pOyB9XG5cdFx0ZWxzZSBpZihtID09PSB0cnVlIHx8IG0gPT09IGZhbHNlKSB7IHQgPSBcImJvb2xlYW5cIjsgbSA9IG0gPyBcIjFcIiA6IFwiMFwiOyB9XG5cdFx0ZWxzZSBtID0gU3RyaW5nKG0pO1xuXHRcdG8ucHVzaCh3cml0ZXh0YWcoZXNjYXBleG1sdGFnKGspLCBtLCB7XCJkdDpkdFwiOnR9KSk7XG5cdH0pO1xuXHRpZihDdXN0cHJvcHMpIGtleXMoQ3VzdHByb3BzKS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcblx0XHQvKjo6IGlmKCFDdXN0cHJvcHMpIHJldHVybjsgKi9cblx0XHRpZighT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKEN1c3Rwcm9wcywgaykpIHJldHVybjtcblx0XHRpZihQcm9wcyAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUHJvcHMsIGspKSByZXR1cm47XG5cdFx0dmFyIG0gPSBDdXN0cHJvcHNba107XG5cdFx0dmFyIHQgPSBcInN0cmluZ1wiO1xuXHRcdGlmKHR5cGVvZiBtID09ICdudW1iZXInKSB7IHQgPSBcImZsb2F0XCI7IG0gPSBTdHJpbmcobSk7IH1cblx0XHRlbHNlIGlmKG0gPT09IHRydWUgfHwgbSA9PT0gZmFsc2UpIHsgdCA9IFwiYm9vbGVhblwiOyBtID0gbSA/IFwiMVwiIDogXCIwXCI7IH1cblx0XHRlbHNlIGlmKG0gaW5zdGFuY2VvZiBEYXRlKSB7IHQgPSBcImRhdGVUaW1lLnR6XCI7IG0gPSBtLnRvSVNPU3RyaW5nKCk7IH1cblx0XHRlbHNlIG0gPSBTdHJpbmcobSk7XG5cdFx0by5wdXNoKHdyaXRleHRhZyhlc2NhcGV4bWx0YWcoayksIG0sIHtcImR0OmR0XCI6dH0pKTtcblx0fSk7XG5cdHJldHVybiAnPCcgKyBUICsgJyB4bWxucz1cIicgKyBYTE1MTlMubyArICdcIj4nICsgby5qb2luKFwiXCIpICsgJzwvJyArIFQgKyAnPic7XG59XG4vKiBbTVMtRFRZUF0gMi4zLjMgRklMRVRJTUUgKi9cbi8qIFtNUy1PTEVEU10gMi4xLjMgRklMRVRJTUUgKFBhY2tldCBWZXJzaW9uKSAqL1xuLyogW01TLU9MRVBTXSAyLjggRklMRVRJTUUgKFBhY2tldCBWZXJzaW9uKSAqL1xuZnVuY3Rpb24gcGFyc2VfRklMRVRJTUUoYmxvYikge1xuXHR2YXIgZHdMb3dEYXRlVGltZSA9IGJsb2IucmVhZF9zaGlmdCg0KSwgZHdIaWdoRGF0ZVRpbWUgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHJldHVybiBuZXcgRGF0ZSgoKGR3SGlnaERhdGVUaW1lLzFlNypNYXRoLnBvdygyLDMyKSArIGR3TG93RGF0ZVRpbWUvMWU3KSAtIDExNjQ0NDczNjAwKSoxMDAwKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1xcLjAwMC8sXCJcIik7XG59XG5mdW5jdGlvbiB3cml0ZV9GSUxFVElNRSh0aW1lLyo6c3RyaW5nfERhdGUqLykge1xuXHR2YXIgZGF0ZSA9ICh0eXBlb2YgdGltZSA9PSBcInN0cmluZ1wiKSA/IG5ldyBEYXRlKERhdGUucGFyc2UodGltZSkpIDogdGltZTtcblx0dmFyIHQgPSBkYXRlLmdldFRpbWUoKSAvIDEwMDAgKyAxMTY0NDQ3MzYwMDtcblx0dmFyIGwgPSB0ICUgTWF0aC5wb3coMiwzMiksIGggPSAodCAtIGwpIC8gTWF0aC5wb3coMiwzMik7XG5cdGwgKj0gMWU3OyBoICo9IDFlNztcblx0dmFyIHcgPSAobCAvIE1hdGgucG93KDIsMzIpKSB8IDA7XG5cdGlmKHcgPiAwKSB7IGwgPSBsICUgTWF0aC5wb3coMiwzMik7IGggKz0gdzsgfVxuXHR2YXIgbyA9IG5ld19idWYoOCk7IG8ud3JpdGVfc2hpZnQoNCwgbCk7IG8ud3JpdGVfc2hpZnQoNCwgaCk7IHJldHVybiBvO1xufVxuXG4vKiBbTVMtT1NIQVJFRF0gMi4zLjMuMS40IExwc3RyICovXG5mdW5jdGlvbiBwYXJzZV9scHN0cihibG9iLCB0eXBlLCBwYWQvKjo/bnVtYmVyKi8pIHtcblx0dmFyIHN0YXJ0ID0gYmxvYi5sO1xuXHR2YXIgc3RyID0gYmxvYi5yZWFkX3NoaWZ0KDAsICdscHN0ci1jcCcpO1xuXHRpZihwYWQpIHdoaWxlKChibG9iLmwgLSBzdGFydCkgJiAzKSArK2Jsb2IubDtcblx0cmV0dXJuIHN0cjtcbn1cblxuLyogW01TLU9TSEFSRURdIDIuMy4zLjEuNiBMcHdzdHIgKi9cbmZ1bmN0aW9uIHBhcnNlX2xwd3N0cihibG9iLCB0eXBlLCBwYWQpIHtcblx0dmFyIHN0ciA9IGJsb2IucmVhZF9zaGlmdCgwLCAnbHB3c3RyJyk7XG5cdGlmKHBhZCkgYmxvYi5sICs9ICg0IC0gKChzdHIubGVuZ3RoKzEpICYgMykpICYgMztcblx0cmV0dXJuIHN0cjtcbn1cblxuXG4vKiBbTVMtT1NIQVJFRF0gMi4zLjMuMS4xMSBWdFN0cmluZyAqL1xuLyogW01TLU9TSEFSRURdIDIuMy4zLjEuMTIgVnRVbmFsaWduZWRTdHJpbmcgKi9cbmZ1bmN0aW9uIHBhcnNlX1Z0U3RyaW5nQmFzZShibG9iLCBzdHJpbmdUeXBlLCBwYWQpIHtcblx0aWYoc3RyaW5nVHlwZSA9PT0gMHgxRiAvKlZUX0xQV1NUUiovKSByZXR1cm4gcGFyc2VfbHB3c3RyKGJsb2IpO1xuXHRyZXR1cm4gcGFyc2VfbHBzdHIoYmxvYiwgc3RyaW5nVHlwZSwgcGFkKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VfVnRTdHJpbmcoYmxvYiwgdC8qOm51bWJlciovLCBwYWQvKjo/Ym9vbGVhbiovKSB7IHJldHVybiBwYXJzZV9WdFN0cmluZ0Jhc2UoYmxvYiwgdCwgcGFkID09PSBmYWxzZSA/IDA6IDQpOyB9XG5mdW5jdGlvbiBwYXJzZV9WdFVuYWxpZ25lZFN0cmluZyhibG9iLCB0Lyo6bnVtYmVyKi8pIHsgaWYoIXQpIHRocm93IG5ldyBFcnJvcihcIlZ0VW5hbGlnbmVkU3RyaW5nIG11c3QgaGF2ZSBwb3NpdGl2ZSBsZW5ndGhcIik7IHJldHVybiBwYXJzZV9WdFN0cmluZ0Jhc2UoYmxvYiwgdCwgMCk7IH1cblxuLyogW01TLU9TSEFSRURdIDIuMy4zLjEuNyBWdFZlY0xwd3N0clZhbHVlICovXG5mdW5jdGlvbiBwYXJzZV9WdFZlY0xwd3N0clZhbHVlKGJsb2IpLyo6QXJyYXk8c3RyaW5nPiovIHtcblx0dmFyIGxlbmd0aCA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIHJldC8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHRmb3IodmFyIGkgPSAwOyBpICE9IGxlbmd0aDsgKytpKSB7XG5cdFx0dmFyIHN0YXJ0ID0gYmxvYi5sO1xuXHRcdHJldFtpXSA9IGJsb2IucmVhZF9zaGlmdCgwLCAnbHB3c3RyJykucmVwbGFjZShjaHIwLCcnKTtcblx0XHRpZigoYmxvYi5sIC0gc3RhcnQpICYgMHgwMikgYmxvYi5sICs9IDI7XG5cdH1cblx0cmV0dXJuIHJldDtcbn1cblxuLyogW01TLU9TSEFSRURdIDIuMy4zLjEuOSBWdFZlY1VuYWxpZ25lZExwc3RyVmFsdWUgKi9cbmZ1bmN0aW9uIHBhcnNlX1Z0VmVjVW5hbGlnbmVkTHBzdHJWYWx1ZShibG9iKS8qOkFycmF5PHN0cmluZz4qLyB7XG5cdHZhciBsZW5ndGggPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHZhciByZXQvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0Zm9yKHZhciBpID0gMDsgaSAhPSBsZW5ndGg7ICsraSkgcmV0W2ldID0gYmxvYi5yZWFkX3NoaWZ0KDAsICdscHN0ci1jcCcpLnJlcGxhY2UoY2hyMCwnJyk7XG5cdHJldHVybiByZXQ7XG59XG5cblxuLyogW01TLU9TSEFSRURdIDIuMy4zLjEuMTMgVnRIZWFkaW5nUGFpciAqL1xuZnVuY3Rpb24gcGFyc2VfVnRIZWFkaW5nUGFpcihibG9iKSB7XG5cdHZhciBzdGFydCA9IGJsb2IubDtcblx0dmFyIGhlYWRpbmdTdHJpbmcgPSBwYXJzZV9UeXBlZFByb3BlcnR5VmFsdWUoYmxvYiwgVlRfVVNUUik7XG5cdGlmKGJsb2JbYmxvYi5sXSA9PSAweDAwICYmIGJsb2JbYmxvYi5sKzFdID09IDB4MDAgJiYgKChibG9iLmwgLSBzdGFydCkgJiAweDAyKSkgYmxvYi5sICs9IDI7XG5cdHZhciBoZWFkZXJQYXJ0cyA9IHBhcnNlX1R5cGVkUHJvcGVydHlWYWx1ZShibG9iLCBWVF9JNCk7XG5cdHJldHVybiBbaGVhZGluZ1N0cmluZywgaGVhZGVyUGFydHNdO1xufVxuXG4vKiBbTVMtT1NIQVJFRF0gMi4zLjMuMS4xNCBWdFZlY0hlYWRpbmdQYWlyVmFsdWUgKi9cbmZ1bmN0aW9uIHBhcnNlX1Z0VmVjSGVhZGluZ1BhaXJWYWx1ZShibG9iKSB7XG5cdHZhciBjRWxlbWVudHMgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHZhciBvdXQgPSBbXTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGNFbGVtZW50cyAvIDI7ICsraSkgb3V0LnB1c2gocGFyc2VfVnRIZWFkaW5nUGFpcihibG9iKSk7XG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIFtNUy1PTEVQU10gMi4xOC4xIERpY3Rpb25hcnkgKHVzZXMgMi4xNywgMi4xNikgKi9cbmZ1bmN0aW9uIHBhcnNlX2RpY3Rpb25hcnkoYmxvYixDb2RlUGFnZSkge1xuXHR2YXIgY250ID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHR2YXIgZGljdC8qOntbbnVtYmVyXTpzdHJpbmd9Ki8gPSAoe30vKjphbnkqLyk7XG5cdGZvcih2YXIgaiA9IDA7IGogIT0gY250OyArK2opIHtcblx0XHR2YXIgcGlkID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRcdHZhciBsZW4gPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdFx0ZGljdFtwaWRdID0gYmxvYi5yZWFkX3NoaWZ0KGxlbiwgKENvZGVQYWdlID09PSAweDRCMCA/J3V0ZjE2bGUnOid1dGY4JykpLnJlcGxhY2UoY2hyMCwnJykucmVwbGFjZShjaHIxLCchJyk7XG5cdFx0aWYoQ29kZVBhZ2UgPT09IDB4NEIwICYmIChsZW4gJSAyKSkgYmxvYi5sICs9IDI7XG5cdH1cblx0aWYoYmxvYi5sICYgMykgYmxvYi5sID0gKGJsb2IubD4+MisxKTw8Mjtcblx0cmV0dXJuIGRpY3Q7XG59XG5cbi8qIFtNUy1PTEVQU10gMi45IEJMT0IgKi9cbmZ1bmN0aW9uIHBhcnNlX0JMT0IoYmxvYikge1xuXHR2YXIgc2l6ZSA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIGJ5dGVzID0gYmxvYi5zbGljZShibG9iLmwsYmxvYi5sK3NpemUpO1xuXHRibG9iLmwgKz0gc2l6ZTtcblx0aWYoKHNpemUgJiAzKSA+IDApIGJsb2IubCArPSAoNCAtIChzaXplICYgMykpICYgMztcblx0cmV0dXJuIGJ5dGVzO1xufVxuXG4vKiBbTVMtT0xFUFNdIDIuMTEgQ2xpcGJvYXJkRGF0YSAqL1xuZnVuY3Rpb24gcGFyc2VfQ2xpcGJvYXJkRGF0YShibG9iKSB7XG5cdC8vIFRPRE9cblx0dmFyIG8gPSB7fTtcblx0by5TaXplID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHQvL28uRm9ybWF0ID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRibG9iLmwgKz0gby5TaXplICsgMyAtIChvLlNpemUgLSAxKSAlIDQ7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtT0xFUFNdIDIuMTUgVHlwZWRQcm9wZXJ0eVZhbHVlICovXG5mdW5jdGlvbiBwYXJzZV9UeXBlZFByb3BlcnR5VmFsdWUoYmxvYiwgdHlwZS8qOm51bWJlciovLCBfb3B0cykvKjphbnkqLyB7XG5cdHZhciB0ID0gYmxvYi5yZWFkX3NoaWZ0KDIpLCByZXQsIG9wdHMgPSBfb3B0c3x8e307XG5cdGJsb2IubCArPSAyO1xuXHRpZih0eXBlICE9PSBWVF9WQVJJQU5UKVxuXHRpZih0ICE9PSB0eXBlICYmIFZUX0NVU1RPTS5pbmRleE9mKHR5cGUpPT09LTEgJiYgISgodHlwZSAmIDB4RkZGRSkgPT0gMHgxMDFFICYmICh0ICYgMHhGRkZFKSA9PSAweDEwMUUpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHR5cGUgJyArIHR5cGUgKyAnIHNhdyAnICsgdCk7XG5cdHN3aXRjaCh0eXBlID09PSBWVF9WQVJJQU5UID8gdCA6IHR5cGUpIHtcblx0XHRjYXNlIDB4MDIgLypWVF9JMiovOiByZXQgPSBibG9iLnJlYWRfc2hpZnQoMiwgJ2knKTsgaWYoIW9wdHMucmF3KSBibG9iLmwgKz0gMjsgcmV0dXJuIHJldDtcblx0XHRjYXNlIDB4MDMgLypWVF9JNCovOiByZXQgPSBibG9iLnJlYWRfc2hpZnQoNCwgJ2knKTsgcmV0dXJuIHJldDtcblx0XHRjYXNlIDB4MEIgLypWVF9CT09MKi86IHJldHVybiBibG9iLnJlYWRfc2hpZnQoNCkgIT09IDB4MDtcblx0XHRjYXNlIDB4MTMgLypWVF9VSTQqLzogcmV0ID0gYmxvYi5yZWFkX3NoaWZ0KDQpOyByZXR1cm4gcmV0O1xuXHRcdGNhc2UgMHgxRSAvKlZUX0xQU1RSKi86IGJsb2IubCArPSA0OyB2YWwgPSBwYXJzZV9WdFN0cmluZyhibG9iLCBibG9iW2Jsb2IubC00XSkucmVwbGFjZSgvKF58W15cXHUwMDAwXSlcXHUwMDAwKyQvLFwiJDFcIik7IGJyZWFrO1xuXHRcdGNhc2UgMHgxRiAvKlZUX0xQV1NUUiovOiBibG9iLmwgKz0gNDsgdmFsID0gcGFyc2VfVnRTdHJpbmcoYmxvYiwgYmxvYltibG9iLmwtNF0pLnJlcGxhY2UoLyhefFteXFx1MDAwMF0pXFx1MDAwMCskLyxcIiQxXCIpOyBicmVhaztcblx0XHRjYXNlIDB4NDAgLypWVF9GSUxFVElNRSovOiByZXR1cm4gcGFyc2VfRklMRVRJTUUoYmxvYik7XG5cdFx0Y2FzZSAweDQxIC8qVlRfQkxPQiovOiByZXR1cm4gcGFyc2VfQkxPQihibG9iKTtcblx0XHRjYXNlIDB4NDcgLypWVF9DRiovOiByZXR1cm4gcGFyc2VfQ2xpcGJvYXJkRGF0YShibG9iKTtcblx0XHRjYXNlIDB4NTAgLypWVF9TVFJJTkcqLzogcmV0dXJuIHBhcnNlX1Z0U3RyaW5nKGJsb2IsIHQsICFvcHRzLnJhdykucmVwbGFjZShjaHIwLCcnKTtcblx0XHRjYXNlIDB4NTEgLypWVF9VU1RSKi86IHJldHVybiBwYXJzZV9WdFVuYWxpZ25lZFN0cmluZyhibG9iLCB0LyosIDQqLykucmVwbGFjZShjaHIwLCcnKTtcblx0XHRjYXNlIDB4MTAwQyAvKlZUX1ZFQ1RPUnxWVF9WQVJJQU5UKi86IHJldHVybiBwYXJzZV9WdFZlY0hlYWRpbmdQYWlyVmFsdWUoYmxvYik7XG5cdFx0Y2FzZSAweDEwMUUgLypWVF9WRUNUT1J8VlRfTFBTVFIqLzpcblx0XHRjYXNlIDB4MTAxRiAvKlZUX1ZFQ1RPUnxWVF9MUFdTVFIqLzpcblx0XHRcdHJldHVybiB0ID09IDB4MTAxRiA/IHBhcnNlX1Z0VmVjTHB3c3RyVmFsdWUoYmxvYikgOiBwYXJzZV9WdFZlY1VuYWxpZ25lZExwc3RyVmFsdWUoYmxvYik7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiVHlwZWRQcm9wZXJ0eVZhbHVlIHVucmVjb2duaXplZCB0eXBlIFwiICsgdHlwZSArIFwiIFwiICsgdCk7XG5cdH1cbn1cbmZ1bmN0aW9uIHdyaXRlX1R5cGVkUHJvcGVydHlWYWx1ZSh0eXBlLyo6bnVtYmVyKi8sIHZhbHVlKSB7XG5cdHZhciBvID0gbmV3X2J1Zig0KSwgcCA9IG5ld19idWYoNCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgdHlwZSA9PSAweDUwID8gMHgxRiA6IHR5cGUpO1xuXHRzd2l0Y2godHlwZSkge1xuXHRcdGNhc2UgMHgwMyAvKlZUX0k0Ki86IHAud3JpdGVfc2hpZnQoLTQsIHZhbHVlKTsgYnJlYWs7XG5cdFx0Y2FzZSAweDA1IC8qVlRfSTQqLzogcCA9IG5ld19idWYoOCk7IHAud3JpdGVfc2hpZnQoOCwgdmFsdWUsICdmJyk7IGJyZWFrO1xuXHRcdGNhc2UgMHgwQiAvKlZUX0JPT0wqLzogcC53cml0ZV9zaGlmdCg0LCB2YWx1ZSA/IDB4MDEgOiAweDAwKTsgYnJlYWs7XG5cdFx0Y2FzZSAweDQwIC8qVlRfRklMRVRJTUUqLzogLyo6OiBpZih0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpKSB0aHJvdyBcInVucmVhY2hhYmxlXCI7ICovIHAgPSB3cml0ZV9GSUxFVElNRSh2YWx1ZSk7IGJyZWFrO1xuXHRcdGNhc2UgMHgxRiAvKlZUX0xQV1NUUiovOlxuXHRcdGNhc2UgMHg1MCAvKlZUX1NUUklORyovOlxuXHRcdFx0Lyo6OiBpZih0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHRocm93IFwidW5yZWFjaGFibGVcIjsgKi9cblx0XHRcdHAgPSBuZXdfYnVmKDQgKyAyICogKHZhbHVlLmxlbmd0aCArIDEpICsgKHZhbHVlLmxlbmd0aCAlIDIgPyAwIDogMikpO1xuXHRcdFx0cC53cml0ZV9zaGlmdCg0LCB2YWx1ZS5sZW5ndGggKyAxKTtcblx0XHRcdHAud3JpdGVfc2hpZnQoMCwgdmFsdWUsIFwiZGJjc1wiKTtcblx0XHRcdHdoaWxlKHAubCAhPSBwLmxlbmd0aCkgcC53cml0ZV9zaGlmdCgxLCAwKTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcIlR5cGVkUHJvcGVydHlWYWx1ZSB1bnJlY29nbml6ZWQgdHlwZSBcIiArIHR5cGUgKyBcIiBcIiArIHZhbHVlKTtcblx0fVxuXHRyZXR1cm4gYmNvbmNhdChbbywgcF0pO1xufVxuXG4vKiBbTVMtT0xFUFNdIDIuMjAgUHJvcGVydHlTZXQgKi9cbmZ1bmN0aW9uIHBhcnNlX1Byb3BlcnR5U2V0KGJsb2IsIFBJRFNJKSB7XG5cdHZhciBzdGFydF9hZGRyID0gYmxvYi5sO1xuXHR2YXIgc2l6ZSA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIE51bVByb3BzID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHR2YXIgUHJvcHMgPSBbXSwgaSA9IDA7XG5cdHZhciBDb2RlUGFnZSA9IDA7XG5cdHZhciBEaWN0aW9uYXJ5ID0gLTEsIERpY3RPYmovKjp7W251bWJlcl06c3RyaW5nfSovID0gKHt9Lyo6YW55Ki8pO1xuXHRmb3IoaSA9IDA7IGkgIT0gTnVtUHJvcHM7ICsraSkge1xuXHRcdHZhciBQcm9wSUQgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdFx0dmFyIE9mZnNldCA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0XHRQcm9wc1tpXSA9IFtQcm9wSUQsIE9mZnNldCArIHN0YXJ0X2FkZHJdO1xuXHR9XG5cdFByb3BzLnNvcnQoZnVuY3Rpb24oeCx5KSB7IHJldHVybiB4WzFdIC0geVsxXTsgfSk7XG5cdHZhciBQcm9wSCA9IHt9O1xuXHRmb3IoaSA9IDA7IGkgIT0gTnVtUHJvcHM7ICsraSkge1xuXHRcdGlmKGJsb2IubCAhPT0gUHJvcHNbaV1bMV0pIHtcblx0XHRcdHZhciBmYWlsID0gdHJ1ZTtcblx0XHRcdGlmKGk+MCAmJiBQSURTSSkgc3dpdGNoKFBJRFNJW1Byb3BzW2ktMV1bMF1dLnQpIHtcblx0XHRcdFx0Y2FzZSAweDAyIC8qVlRfSTIqLzogaWYoYmxvYi5sKzIgPT09IFByb3BzW2ldWzFdKSB7IGJsb2IubCs9MjsgZmFpbCA9IGZhbHNlOyB9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4NTAgLypWVF9TVFJJTkcqLzogaWYoYmxvYi5sIDw9IFByb3BzW2ldWzFdKSB7IGJsb2IubD1Qcm9wc1tpXVsxXTsgZmFpbCA9IGZhbHNlOyB9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MTAwQyAvKlZUX1ZFQ1RPUnxWVF9WQVJJQU5UKi86IGlmKGJsb2IubCA8PSBQcm9wc1tpXVsxXSkgeyBibG9iLmw9UHJvcHNbaV1bMV07IGZhaWwgPSBmYWxzZTsgfSBicmVhaztcblx0XHRcdH1cblx0XHRcdGlmKCghUElEU0l8fGk9PTApICYmIGJsb2IubCA8PSBQcm9wc1tpXVsxXSkgeyBmYWlsPWZhbHNlOyBibG9iLmwgPSBQcm9wc1tpXVsxXTsgfVxuXHRcdFx0aWYoZmFpbCkgdGhyb3cgbmV3IEVycm9yKFwiUmVhZCBFcnJvcjogRXhwZWN0ZWQgYWRkcmVzcyBcIiArIFByb3BzW2ldWzFdICsgJyBhdCAnICsgYmxvYi5sICsgJyA6JyArIGkpO1xuXHRcdH1cblx0XHRpZihQSURTSSkge1xuXHRcdFx0aWYoUHJvcHNbaV1bMF0gPT0gMCAmJiBQcm9wcy5sZW5ndGggPiBpKzEgJiYgUHJvcHNbaV1bMV0gPT0gUHJvcHNbaSsxXVsxXSkgY29udGludWU7IC8vIFI5XG5cdFx0XHR2YXIgcGlkZHNpID0gUElEU0lbUHJvcHNbaV1bMF1dO1xuXHRcdFx0UHJvcEhbcGlkZHNpLm5dID0gcGFyc2VfVHlwZWRQcm9wZXJ0eVZhbHVlKGJsb2IsIHBpZGRzaS50LCB7cmF3OnRydWV9KTtcblx0XHRcdGlmKHBpZGRzaS5wID09PSAndmVyc2lvbicpIFByb3BIW3BpZGRzaS5uXSA9IFN0cmluZyhQcm9wSFtwaWRkc2kubl0gPj4gMTYpICsgXCIuXCIgKyAoXCIwMDAwXCIgKyBTdHJpbmcoUHJvcEhbcGlkZHNpLm5dICYgMHhGRkZGKSkuc2xpY2UoLTQpO1xuXHRcdFx0aWYocGlkZHNpLm4gPT0gXCJDb2RlUGFnZVwiKSBzd2l0Y2goUHJvcEhbcGlkZHNpLm5dKSB7XG5cdFx0XHRcdGNhc2UgMDogUHJvcEhbcGlkZHNpLm5dID0gMTI1Mjtcblx0XHRcdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRcdGNhc2UgODc0OlxuXHRcdFx0XHRjYXNlIDkzMjpcblx0XHRcdFx0Y2FzZSA5MzY6XG5cdFx0XHRcdGNhc2UgOTQ5OlxuXHRcdFx0XHRjYXNlIDk1MDpcblx0XHRcdFx0Y2FzZSAxMjUwOlxuXHRcdFx0XHRjYXNlIDEyNTE6XG5cdFx0XHRcdGNhc2UgMTI1Mzpcblx0XHRcdFx0Y2FzZSAxMjU0OlxuXHRcdFx0XHRjYXNlIDEyNTU6XG5cdFx0XHRcdGNhc2UgMTI1Njpcblx0XHRcdFx0Y2FzZSAxMjU3OlxuXHRcdFx0XHRjYXNlIDEyNTg6XG5cdFx0XHRcdGNhc2UgMTAwMDA6XG5cdFx0XHRcdGNhc2UgMTIwMDpcblx0XHRcdFx0Y2FzZSAxMjAxOlxuXHRcdFx0XHRjYXNlIDEyNTI6XG5cdFx0XHRcdGNhc2UgNjUwMDA6IGNhc2UgLTUzNjpcblx0XHRcdFx0Y2FzZSA2NTAwMTogY2FzZSAtNTM1OlxuXHRcdFx0XHRcdHNldF9jcChDb2RlUGFnZSA9IChQcm9wSFtwaWRkc2kubl0+Pj4wKSAmIDB4RkZGRik7IGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBDb2RlUGFnZTogXCIgKyBQcm9wSFtwaWRkc2kubl0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZihQcm9wc1tpXVswXSA9PT0gMHgxKSB7XG5cdFx0XHRcdENvZGVQYWdlID0gUHJvcEguQ29kZVBhZ2UgPSAocGFyc2VfVHlwZWRQcm9wZXJ0eVZhbHVlKGJsb2IsIFZUX0kyKS8qOm51bWJlciovKTtcblx0XHRcdFx0c2V0X2NwKENvZGVQYWdlKTtcblx0XHRcdFx0aWYoRGljdGlvbmFyeSAhPT0gLTEpIHtcblx0XHRcdFx0XHR2YXIgb2xkcG9zID0gYmxvYi5sO1xuXHRcdFx0XHRcdGJsb2IubCA9IFByb3BzW0RpY3Rpb25hcnldWzFdO1xuXHRcdFx0XHRcdERpY3RPYmogPSBwYXJzZV9kaWN0aW9uYXJ5KGJsb2IsQ29kZVBhZ2UpO1xuXHRcdFx0XHRcdGJsb2IubCA9IG9sZHBvcztcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmKFByb3BzW2ldWzBdID09PSAwKSB7XG5cdFx0XHRcdGlmKENvZGVQYWdlID09PSAwKSB7IERpY3Rpb25hcnkgPSBpOyBibG9iLmwgPSBQcm9wc1tpKzFdWzFdOyBjb250aW51ZTsgfVxuXHRcdFx0XHREaWN0T2JqID0gcGFyc2VfZGljdGlvbmFyeShibG9iLENvZGVQYWdlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBuYW1lID0gRGljdE9ialtQcm9wc1tpXVswXV07XG5cdFx0XHRcdHZhciB2YWw7XG5cdFx0XHRcdC8qIFtNUy1PU0hBUkVEXSAyLjMuMy4yLjMuMS4yICsgUFJPUFZBUklBTlQgKi9cblx0XHRcdFx0c3dpdGNoKGJsb2JbYmxvYi5sXSkge1xuXHRcdFx0XHRcdGNhc2UgMHg0MSAvKlZUX0JMT0IqLzogYmxvYi5sICs9IDQ7IHZhbCA9IHBhcnNlX0JMT0IoYmxvYik7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgMHgxRSAvKlZUX0xQU1RSKi86IGJsb2IubCArPSA0OyB2YWwgPSBwYXJzZV9WdFN0cmluZyhibG9iLCBibG9iW2Jsb2IubC00XSkucmVwbGFjZSgvKF58W15cXHUwMDAwXSlcXHUwMDAwKyQvLFwiJDFcIik7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgMHgxRiAvKlZUX0xQV1NUUiovOiBibG9iLmwgKz0gNDsgdmFsID0gcGFyc2VfVnRTdHJpbmcoYmxvYiwgYmxvYltibG9iLmwtNF0pLnJlcGxhY2UoLyhefFteXFx1MDAwMF0pXFx1MDAwMCskLyxcIiQxXCIpOyBicmVhaztcblx0XHRcdFx0XHRjYXNlIDB4MDMgLypWVF9JNCovOiBibG9iLmwgKz0gNDsgdmFsID0gYmxvYi5yZWFkX3NoaWZ0KDQsICdpJyk7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgMHgxMyAvKlZUX1VJNCovOiBibG9iLmwgKz0gNDsgdmFsID0gYmxvYi5yZWFkX3NoaWZ0KDQpOyBicmVhaztcblx0XHRcdFx0XHRjYXNlIDB4MDUgLypWVF9SOCovOiBibG9iLmwgKz0gNDsgdmFsID0gYmxvYi5yZWFkX3NoaWZ0KDgsICdmJyk7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgMHgwQiAvKlZUX0JPT0wqLzogYmxvYi5sICs9IDQ7IHZhbCA9IHBhcnNlYm9vbChibG9iLCA0KTsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAweDQwIC8qVlRfRklMRVRJTUUqLzogYmxvYi5sICs9IDQ7IHZhbCA9IHBhcnNlRGF0ZShwYXJzZV9GSUxFVElNRShibG9iKSk7IGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcInVucGFyc2VkIHZhbHVlOiBcIiArIGJsb2JbYmxvYi5sXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0UHJvcEhbbmFtZV0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGJsb2IubCA9IHN0YXJ0X2FkZHIgKyBzaXplOyAvKiBzdGVwIGFoZWFkIHRvIHNraXAgcGFkZGluZyAqL1xuXHRyZXR1cm4gUHJvcEg7XG59XG52YXIgWExTUFNTa2lwID0gWyBcIkNvZGVQYWdlXCIsIFwiVGh1bWJuYWlsXCIsIFwiX1BJRF9MSU5LQkFTRVwiLCBcIl9QSURfSExJTktTXCIsIFwiU3lzdGVtSWRlbnRpZmllclwiLCBcIkZNVElEXCIgXTtcbmZ1bmN0aW9uIGd1ZXNzX3Byb3BlcnR5X3R5cGUodmFsLyo6YW55Ki8pLyo6bnVtYmVyKi8ge1xuXHRzd2l0Y2godHlwZW9mIHZhbCkge1xuXHRcdGNhc2UgXCJib29sZWFuXCI6IHJldHVybiAweDBCO1xuXHRcdGNhc2UgXCJudW1iZXJcIjogcmV0dXJuICgodmFsfDApPT12YWwpID8gMHgwMyA6IDB4MDU7XG5cdFx0Y2FzZSBcInN0cmluZ1wiOiByZXR1cm4gMHgxRjtcblx0XHRjYXNlIFwib2JqZWN0XCI6IGlmKHZhbCBpbnN0YW5jZW9mIERhdGUpIHJldHVybiAweDQwOyBicmVhaztcblx0fVxuXHRyZXR1cm4gLTE7XG59XG5mdW5jdGlvbiB3cml0ZV9Qcm9wZXJ0eVNldChlbnRyaWVzLCBSRSwgUElEU0kpIHtcblx0dmFyIGhkciA9IG5ld19idWYoOCksIHBpYW8gPSBbXSwgcHJvcCA9IFtdO1xuXHR2YXIgc3ogPSA4LCBpID0gMDtcblxuXHR2YXIgcHIgPSBuZXdfYnVmKDgpLCBwaW8gPSBuZXdfYnVmKDgpO1xuXHRwci53cml0ZV9zaGlmdCg0LCAweDAwMDIpO1xuXHRwci53cml0ZV9zaGlmdCg0LCAweDA0QjApO1xuXHRwaW8ud3JpdGVfc2hpZnQoNCwgMHgwMDAxKTtcblx0cHJvcC5wdXNoKHByKTsgcGlhby5wdXNoKHBpbyk7XG5cdHN6ICs9IDggKyBwci5sZW5ndGg7XG5cblx0aWYoIVJFKSB7XG5cdFx0cGlvID0gbmV3X2J1Zig4KTtcblx0XHRwaW8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdFx0cGlhby51bnNoaWZ0KHBpbyk7XG5cblx0XHR2YXIgYnVmcyA9IFtuZXdfYnVmKDQpXTtcblx0XHRidWZzWzBdLndyaXRlX3NoaWZ0KDQsIGVudHJpZXMubGVuZ3RoKTtcblx0XHRmb3IoaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgKytpKSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBlbnRyaWVzW2ldWzBdO1xuXHRcdFx0cHIgPSBuZXdfYnVmKDQgKyA0ICsgMiAqICh2YWx1ZS5sZW5ndGggKyAxKSArICh2YWx1ZS5sZW5ndGggJSAyID8gMCA6IDIpKTtcblx0XHRcdHByLndyaXRlX3NoaWZ0KDQsIGkrMik7XG5cdFx0XHRwci53cml0ZV9zaGlmdCg0LCB2YWx1ZS5sZW5ndGggKyAxKTtcblx0XHRcdHByLndyaXRlX3NoaWZ0KDAsIHZhbHVlLCBcImRiY3NcIik7XG5cdFx0XHR3aGlsZShwci5sICE9IHByLmxlbmd0aCkgcHIud3JpdGVfc2hpZnQoMSwgMCk7XG5cdFx0XHRidWZzLnB1c2gocHIpO1xuXHRcdH1cblx0XHRwciA9IGJjb25jYXQoYnVmcyk7XG5cdFx0cHJvcC51bnNoaWZ0KHByKTtcblx0XHRzeiArPSA4ICsgcHIubGVuZ3RoO1xuXHR9XG5cblx0Zm9yKGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7ICsraSkge1xuXHRcdGlmKFJFICYmICFSRVtlbnRyaWVzW2ldWzBdXSkgY29udGludWU7XG5cdFx0aWYoWExTUFNTa2lwLmluZGV4T2YoZW50cmllc1tpXVswXSkgPiAtMSB8fCBQc2V1ZG9Qcm9wc1BhaXJzLmluZGV4T2YoZW50cmllc1tpXVswXSkgPiAtMSkgY29udGludWU7XG5cdFx0aWYoZW50cmllc1tpXVsxXSA9PSBudWxsKSBjb250aW51ZTtcblxuXHRcdHZhciB2YWwgPSBlbnRyaWVzW2ldWzFdLCBpZHggPSAwO1xuXHRcdGlmKFJFKSB7XG5cdFx0XHRpZHggPSArUkVbZW50cmllc1tpXVswXV07XG5cdFx0XHR2YXIgcGluZm8gPSAoUElEU0kvKjo6IHx8IHt9Ki8pW2lkeF0vKjo6IHx8IHt9ICovO1xuXHRcdFx0aWYocGluZm8ucCA9PSBcInZlcnNpb25cIiAmJiB0eXBlb2YgdmFsID09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0Lyo6OiBpZih0eXBlb2YgdmFsICE9PSBcInN0cmluZ1wiKSB0aHJvdyBcInVucmVhY2hhYmxlXCI7ICovXG5cdFx0XHRcdHZhciBhcnIgPSB2YWwuc3BsaXQoXCIuXCIpO1xuXHRcdFx0XHR2YWwgPSAoKCthcnJbMF0pPDwxNikgKyAoKCthcnJbMV0pfHwwKTtcblx0XHRcdH1cblx0XHRcdHByID0gd3JpdGVfVHlwZWRQcm9wZXJ0eVZhbHVlKHBpbmZvLnQsIHZhbCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBUID0gZ3Vlc3NfcHJvcGVydHlfdHlwZSh2YWwpO1xuXHRcdFx0aWYoVCA9PSAtMSkgeyBUID0gMHgxRjsgdmFsID0gU3RyaW5nKHZhbCk7IH1cblx0XHRcdHByID0gd3JpdGVfVHlwZWRQcm9wZXJ0eVZhbHVlKFQsIHZhbCk7XG5cdFx0fVxuXHRcdHByb3AucHVzaChwcik7XG5cblx0XHRwaW8gPSBuZXdfYnVmKDgpO1xuXHRcdHBpby53cml0ZV9zaGlmdCg0LCAhUkUgPyAyK2kgOiBpZHgpO1xuXHRcdHBpYW8ucHVzaChwaW8pO1xuXG5cdFx0c3ogKz0gOCArIHByLmxlbmd0aDtcblx0fVxuXG5cdHZhciB3ID0gOCAqIChwcm9wLmxlbmd0aCArIDEpO1xuXHRmb3IoaSA9IDA7IGkgPCBwcm9wLmxlbmd0aDsgKytpKSB7IHBpYW9baV0ud3JpdGVfc2hpZnQoNCwgdyk7IHcgKz0gcHJvcFtpXS5sZW5ndGg7IH1cblx0aGRyLndyaXRlX3NoaWZ0KDQsIHN6KTtcblx0aGRyLndyaXRlX3NoaWZ0KDQsIHByb3AubGVuZ3RoKTtcblx0cmV0dXJuIGJjb25jYXQoW2hkcl0uY29uY2F0KHBpYW8pLmNvbmNhdChwcm9wKSk7XG59XG5cbi8qIFtNUy1PTEVQU10gMi4yMSBQcm9wZXJ0eVNldFN0cmVhbSAqL1xuZnVuY3Rpb24gcGFyc2VfUHJvcGVydHlTZXRTdHJlYW0oZmlsZSwgUElEU0ksIGNsc2lkKSB7XG5cdHZhciBibG9iID0gZmlsZS5jb250ZW50O1xuXHRpZighYmxvYikgcmV0dXJuICh7fS8qOmFueSovKTtcblx0cHJlcF9ibG9iKGJsb2IsIDApO1xuXG5cdHZhciBOdW1TZXRzLCBGTVRJRDAsIEZNVElEMSwgT2Zmc2V0MCwgT2Zmc2V0MSA9IDA7XG5cdGJsb2IuY2hrKCdmZWZmJywgJ0J5dGUgT3JkZXI6ICcpO1xuXG5cdC8qdmFyIHZlcnMgPSAqL2Jsb2IucmVhZF9zaGlmdCgyKTsgLy8gVE9ETzogY2hlY2sgdmVyc2lvblxuXHR2YXIgU3lzdGVtSWRlbnRpZmllciA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIENMU0lEID0gYmxvYi5yZWFkX3NoaWZ0KDE2KTtcblx0aWYoQ0xTSUQgIT09IENGQi51dGlscy5jb25zdHMuSEVBREVSX0NMU0lEICYmIENMU0lEICE9PSBjbHNpZCkgdGhyb3cgbmV3IEVycm9yKFwiQmFkIFByb3BlcnR5U2V0IENMU0lEIFwiICsgQ0xTSUQpO1xuXHROdW1TZXRzID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRpZihOdW1TZXRzICE9PSAxICYmIE51bVNldHMgIT09IDIpIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCAjU2V0czogXCIgKyBOdW1TZXRzKTtcblx0Rk1USUQwID0gYmxvYi5yZWFkX3NoaWZ0KDE2KTsgT2Zmc2V0MCA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblxuXHRpZihOdW1TZXRzID09PSAxICYmIE9mZnNldDAgIT09IGJsb2IubCkgdGhyb3cgbmV3IEVycm9yKFwiTGVuZ3RoIG1pc21hdGNoOiBcIiArIE9mZnNldDAgKyBcIiAhPT0gXCIgKyBibG9iLmwpO1xuXHRlbHNlIGlmKE51bVNldHMgPT09IDIpIHsgRk1USUQxID0gYmxvYi5yZWFkX3NoaWZ0KDE2KTsgT2Zmc2V0MSA9IGJsb2IucmVhZF9zaGlmdCg0KTsgfVxuXHR2YXIgUFNldDAgPSBwYXJzZV9Qcm9wZXJ0eVNldChibG9iLCBQSURTSSk7XG5cblx0dmFyIHJ2YWwgPSAoeyBTeXN0ZW1JZGVudGlmaWVyOiBTeXN0ZW1JZGVudGlmaWVyIH0vKjphbnkqLyk7XG5cdGZvcih2YXIgeSBpbiBQU2V0MCkgcnZhbFt5XSA9IFBTZXQwW3ldO1xuXHQvL3J2YWwuYmxvYiA9IGJsb2I7XG5cdHJ2YWwuRk1USUQgPSBGTVRJRDA7XG5cdC8vcnZhbC5QU2V0MCA9IFBTZXQwO1xuXHRpZihOdW1TZXRzID09PSAxKSByZXR1cm4gcnZhbDtcblx0aWYoT2Zmc2V0MSAtIGJsb2IubCA9PSAyKSBibG9iLmwgKz0gMjtcblx0aWYoYmxvYi5sICE9PSBPZmZzZXQxKSB0aHJvdyBuZXcgRXJyb3IoXCJMZW5ndGggbWlzbWF0Y2ggMjogXCIgKyBibG9iLmwgKyBcIiAhPT0gXCIgKyBPZmZzZXQxKTtcblx0dmFyIFBTZXQxO1xuXHR0cnkgeyBQU2V0MSA9IHBhcnNlX1Byb3BlcnR5U2V0KGJsb2IsIG51bGwpOyB9IGNhdGNoKGUpIHsvKiBlbXB0eSAqL31cblx0Zm9yKHkgaW4gUFNldDEpIHJ2YWxbeV0gPSBQU2V0MVt5XTtcblx0cnZhbC5GTVRJRCA9IFtGTVRJRDAsIEZNVElEMV07IC8vIFRPRE86IHZlcmlmeSBGTVRJRDAvMVxuXHRyZXR1cm4gcnZhbDtcbn1cbmZ1bmN0aW9uIHdyaXRlX1Byb3BlcnR5U2V0U3RyZWFtKGVudHJpZXMsIGNsc2lkLCBSRSwgUElEU0kvKjp7W2tleTpzdHJpbmd8bnVtYmVyXTphbnl9Ki8sIGVudHJpZXMyLyo6P2FueSovLCBjbHNpZDIvKjo/YW55Ki8pIHtcblx0dmFyIGhkciA9IG5ld19idWYoZW50cmllczIgPyA2OCA6IDQ4KTtcblx0dmFyIGJ1ZnMgPSBbaGRyXTtcblx0aGRyLndyaXRlX3NoaWZ0KDIsIDB4RkZGRSk7XG5cdGhkci53cml0ZV9zaGlmdCgyLCAweDAwMDApOyAvKiBUT0RPOiB0eXBlIDEgcHJvcHMgKi9cblx0aGRyLndyaXRlX3NoaWZ0KDQsIDB4MzIzNjMyMzcpO1xuXHRoZHIud3JpdGVfc2hpZnQoMTYsIENGQi51dGlscy5jb25zdHMuSEVBREVSX0NMU0lELCBcImhleFwiKTtcblx0aGRyLndyaXRlX3NoaWZ0KDQsIChlbnRyaWVzMiA/IDIgOiAxKSk7XG5cdGhkci53cml0ZV9zaGlmdCgxNiwgY2xzaWQsIFwiaGV4XCIpO1xuXHRoZHIud3JpdGVfc2hpZnQoNCwgKGVudHJpZXMyID8gNjggOiA0OCkpO1xuXHR2YXIgcHMwID0gd3JpdGVfUHJvcGVydHlTZXQoZW50cmllcywgUkUsIFBJRFNJKTtcblx0YnVmcy5wdXNoKHBzMCk7XG5cblx0aWYoZW50cmllczIpIHtcblx0XHR2YXIgcHMxID0gd3JpdGVfUHJvcGVydHlTZXQoZW50cmllczIsIG51bGwsIG51bGwpO1xuXHRcdGhkci53cml0ZV9zaGlmdCgxNiwgY2xzaWQyLCBcImhleFwiKTtcblx0XHRoZHIud3JpdGVfc2hpZnQoNCwgNjggKyBwczAubGVuZ3RoKTtcblx0XHRidWZzLnB1c2gocHMxKTtcblx0fVxuXHRyZXR1cm4gYmNvbmNhdChidWZzKTtcbn1cblxuZnVuY3Rpb24gcGFyc2Vub29wMihibG9iLCBsZW5ndGgpIHsgYmxvYi5yZWFkX3NoaWZ0KGxlbmd0aCk7IHJldHVybiBudWxsOyB9XG5mdW5jdGlvbiB3cml0ZXplcm9lcyhuLCBvKSB7IGlmKCFvKSBvPW5ld19idWYobik7IGZvcih2YXIgaj0wOyBqPG47ICsraikgby53cml0ZV9zaGlmdCgxLCAwKTsgcmV0dXJuIG87IH1cblxuZnVuY3Rpb24gcGFyc2x1cnAoYmxvYiwgbGVuZ3RoLCBjYikge1xuXHR2YXIgYXJyID0gW10sIHRhcmdldCA9IGJsb2IubCArIGxlbmd0aDtcblx0d2hpbGUoYmxvYi5sIDwgdGFyZ2V0KSBhcnIucHVzaChjYihibG9iLCB0YXJnZXQgLSBibG9iLmwpKTtcblx0aWYodGFyZ2V0ICE9PSBibG9iLmwpIHRocm93IG5ldyBFcnJvcihcIlNsdXJwIGVycm9yXCIpO1xuXHRyZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBwYXJzZWJvb2woYmxvYiwgbGVuZ3RoLyo6bnVtYmVyKi8pIHsgcmV0dXJuIGJsb2IucmVhZF9zaGlmdChsZW5ndGgpID09PSAweDE7IH1cbmZ1bmN0aW9uIHdyaXRlYm9vbCh2Lyo6YW55Ki8sIG8pIHsgaWYoIW8pIG89bmV3X2J1ZigyKTsgby53cml0ZV9zaGlmdCgyLCArISF2KTsgcmV0dXJuIG87IH1cblxuZnVuY3Rpb24gcGFyc2V1aW50MTYoYmxvYi8qOjosIGxlbmd0aDo/bnVtYmVyLCBvcHRzOj9hbnkqLykgeyByZXR1cm4gYmxvYi5yZWFkX3NoaWZ0KDIsICd1Jyk7IH1cbmZ1bmN0aW9uIHdyaXRldWludDE2KHYvKjpudW1iZXIqLywgbykgeyBpZighbykgbz1uZXdfYnVmKDIpOyBvLndyaXRlX3NoaWZ0KDIsIHYpOyByZXR1cm4gbzsgfVxuZnVuY3Rpb24gcGFyc2V1aW50MTZhKGJsb2IsIGxlbmd0aC8qOjogOj9udW1iZXIsIG9wdHM6P2FueSovKSB7IHJldHVybiBwYXJzbHVycChibG9iLGxlbmd0aCxwYXJzZXVpbnQxNik7fVxuXG4vKiAtLS0gMi41IFN0cnVjdHVyZXMgLS0tICovXG5cbi8qIFtNUy1YTFNdIDIuNS4xMCBCZXMgKGJvb2xlYW4gb3IgZXJyb3IpICovXG5mdW5jdGlvbiBwYXJzZV9CZXMoYmxvYi8qOjosIGxlbmd0aCovKSB7XG5cdHZhciB2ID0gYmxvYi5yZWFkX3NoaWZ0KDEpLCB0ID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRyZXR1cm4gdCA9PT0gMHgwMSA/IHYgOiB2ID09PSAweDAxO1xufVxuZnVuY3Rpb24gd3JpdGVfQmVzKHYsIHQvKjpzdHJpbmcqLywgbykge1xuXHRpZighbykgbyA9IG5ld19idWYoMik7XG5cdG8ud3JpdGVfc2hpZnQoMSwgKCh0ID09ICdlJykgPyArdiA6ICshIXYpKTtcblx0by53cml0ZV9zaGlmdCgxLCAoKHQgPT0gJ2UnKSA/IDEgOiAwKSk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMjQwIFNob3J0WExVbmljb2RlU3RyaW5nICovXG5mdW5jdGlvbiBwYXJzZV9TaG9ydFhMVW5pY29kZVN0cmluZyhibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIGNjaCA9IGJsb2IucmVhZF9zaGlmdChvcHRzICYmIG9wdHMuYmlmZiA+PSAxMiA/IDIgOiAxKTtcblx0dmFyIGVuY29kaW5nID0gJ3NiY3MtY29udCc7XG5cdHZhciBjcCA9IGN1cnJlbnRfY29kZXBhZ2U7XG5cdGlmKG9wdHMgJiYgb3B0cy5iaWZmID49IDgpIGN1cnJlbnRfY29kZXBhZ2UgPSAxMjAwO1xuXHRpZighb3B0cyB8fCBvcHRzLmJpZmYgPT0gOCApIHtcblx0XHR2YXIgZkhpZ2hCeXRlID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRcdGlmKGZIaWdoQnl0ZSkgeyBlbmNvZGluZyA9ICdkYmNzLWNvbnQnOyB9XG5cdH0gZWxzZSBpZihvcHRzLmJpZmYgPT0gMTIpIHtcblx0XHRlbmNvZGluZyA9ICd3c3RyJztcblx0fVxuXHRpZihvcHRzLmJpZmYgPj0gMiAmJiBvcHRzLmJpZmYgPD0gNSkgZW5jb2RpbmcgPSAnY3BzdHInO1xuXHR2YXIgbyA9IGNjaCA/IGJsb2IucmVhZF9zaGlmdChjY2gsIGVuY29kaW5nKSA6IFwiXCI7XG5cdGN1cnJlbnRfY29kZXBhZ2UgPSBjcDtcblx0cmV0dXJuIG87XG59XG5cbi8qIDIuNS4yOTMgWExVbmljb2RlUmljaEV4dGVuZGVkU3RyaW5nICovXG5mdW5jdGlvbiBwYXJzZV9YTFVuaWNvZGVSaWNoRXh0ZW5kZWRTdHJpbmcoYmxvYikge1xuXHR2YXIgY3AgPSBjdXJyZW50X2NvZGVwYWdlO1xuXHRjdXJyZW50X2NvZGVwYWdlID0gMTIwMDtcblx0dmFyIGNjaCA9IGJsb2IucmVhZF9zaGlmdCgyKSwgZmxhZ3MgPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdHZhciAvKmZIaWdoQnl0ZSA9IGZsYWdzICYgMHgxLCovIGZFeHRTdCA9IGZsYWdzICYgMHg0LCBmUmljaFN0ID0gZmxhZ3MgJiAweDg7XG5cdHZhciB3aWR0aCA9IDEgKyAoZmxhZ3MgJiAweDEpOyAvLyAweDAgLT4gdXRmOCwgMHgxIC0+IGRiY3Ncblx0dmFyIGNSdW4gPSAwLCBjYkV4dFJzdDtcblx0dmFyIHogPSB7fTtcblx0aWYoZlJpY2hTdCkgY1J1biA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0aWYoZkV4dFN0KSBjYkV4dFJzdCA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIGVuY29kaW5nID0gd2lkdGggPT0gMiA/ICdkYmNzLWNvbnQnIDogJ3NiY3MtY29udCc7XG5cdHZhciBtc2cgPSBjY2ggPT09IDAgPyBcIlwiIDogYmxvYi5yZWFkX3NoaWZ0KGNjaCwgZW5jb2RpbmcpO1xuXHRpZihmUmljaFN0KSBibG9iLmwgKz0gNCAqIGNSdW47IC8vVE9ETzogcGFyc2UgdGhpc1xuXHRpZihmRXh0U3QpIGJsb2IubCArPSBjYkV4dFJzdDsgLy9UT0RPOiBwYXJzZSB0aGlzXG5cdHoudCA9IG1zZztcblx0aWYoIWZSaWNoU3QpIHsgei5yYXcgPSBcIjx0PlwiICsgei50ICsgXCI8L3Q+XCI7IHouciA9IHoudDsgfVxuXHRjdXJyZW50X2NvZGVwYWdlID0gY3A7XG5cdHJldHVybiB6O1xufVxuZnVuY3Rpb24gd3JpdGVfWExVbmljb2RlUmljaEV4dGVuZGVkU3RyaW5nKHhsc3RyLyo6OiA6WExTdHJpbmcsIG9wdHMqLykge1xuXHR2YXIgc3RyID0gKHhsc3RyLnR8fFwiXCIpLCBuZm10cyA9IDE7XG5cblx0dmFyIGhkciA9IG5ld19idWYoMyArIChuZm10cyA+IDEgPyAyIDogMCkpO1xuXHRoZHIud3JpdGVfc2hpZnQoMiwgc3RyLmxlbmd0aCk7XG5cdGhkci53cml0ZV9zaGlmdCgxLCAobmZtdHMgPiAxID8gMHgwOCA6IDB4MDApIHwgMHgwMSk7XG5cdGlmKG5mbXRzID4gMSkgaGRyLndyaXRlX3NoaWZ0KDIsIG5mbXRzKTtcblxuXHR2YXIgb3RleHQgPSBuZXdfYnVmKDIgKiBzdHIubGVuZ3RoKTtcblx0b3RleHQud3JpdGVfc2hpZnQoMiAqIHN0ci5sZW5ndGgsIHN0ciwgJ3V0ZjE2bGUnKTtcblxuXHR2YXIgb3V0ID0gW2hkciwgb3RleHRdO1xuXG5cdHJldHVybiBiY29uY2F0KG91dCk7XG59XG5cbi8qIDIuNS4yOTYgWExVbmljb2RlU3RyaW5nTm9DY2ggKi9cbmZ1bmN0aW9uIHBhcnNlX1hMVW5pY29kZVN0cmluZ05vQ2NoKGJsb2IsIGNjaCwgb3B0cykge1xuXHR2YXIgcmV0dmFsO1xuXHRpZihvcHRzKSB7XG5cdFx0aWYob3B0cy5iaWZmID49IDIgJiYgb3B0cy5iaWZmIDw9IDUpIHJldHVybiBibG9iLnJlYWRfc2hpZnQoY2NoLCAnY3BzdHInKTtcblx0XHRpZihvcHRzLmJpZmYgPj0gMTIpIHJldHVybiBibG9iLnJlYWRfc2hpZnQoY2NoLCAnZGJjcy1jb250Jyk7XG5cdH1cblx0dmFyIGZIaWdoQnl0ZSA9IGJsb2IucmVhZF9zaGlmdCgxKTtcblx0aWYoZkhpZ2hCeXRlPT09MCkgeyByZXR2YWwgPSBibG9iLnJlYWRfc2hpZnQoY2NoLCAnc2Jjcy1jb250Jyk7IH1cblx0ZWxzZSB7IHJldHZhbCA9IGJsb2IucmVhZF9zaGlmdChjY2gsICdkYmNzLWNvbnQnKTsgfVxuXHRyZXR1cm4gcmV0dmFsO1xufVxuXG4vKiAyLjUuMjk0IFhMVW5pY29kZVN0cmluZyAqL1xuZnVuY3Rpb24gcGFyc2VfWExVbmljb2RlU3RyaW5nKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgY2NoID0gYmxvYi5yZWFkX3NoaWZ0KG9wdHMgJiYgb3B0cy5iaWZmID09IDIgPyAxIDogMik7XG5cdGlmKGNjaCA9PT0gMCkgeyBibG9iLmwrKzsgcmV0dXJuIFwiXCI7IH1cblx0cmV0dXJuIHBhcnNlX1hMVW5pY29kZVN0cmluZ05vQ2NoKGJsb2IsIGNjaCwgb3B0cyk7XG59XG4vKiBCSUZGNSBvdmVycmlkZSAqL1xuZnVuY3Rpb24gcGFyc2VfWExVbmljb2RlU3RyaW5nMihibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0aWYob3B0cy5iaWZmID4gNSkgcmV0dXJuIHBhcnNlX1hMVW5pY29kZVN0cmluZyhibG9iLCBsZW5ndGgsIG9wdHMpO1xuXHR2YXIgY2NoID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRpZihjY2ggPT09IDApIHsgYmxvYi5sKys7IHJldHVybiBcIlwiOyB9XG5cdHJldHVybiBibG9iLnJlYWRfc2hpZnQoY2NoLCAob3B0cy5iaWZmIDw9IDQgfHwgIWJsb2IubGVucyApID8gJ2Nwc3RyJyA6ICdzYmNzLWNvbnQnKTtcbn1cbi8qIFRPRE86IEJJRkY1IGFuZCBsb3dlciwgY29kZXBhZ2UgYXdhcmVuZXNzICovXG5mdW5jdGlvbiB3cml0ZV9YTFVuaWNvZGVTdHJpbmcoc3RyLCBvcHRzLCBvKSB7XG5cdGlmKCFvKSBvID0gbmV3X2J1ZigzICsgMiAqIHN0ci5sZW5ndGgpO1xuXHRvLndyaXRlX3NoaWZ0KDIsIHN0ci5sZW5ndGgpO1xuXHRvLndyaXRlX3NoaWZ0KDEsIDEpO1xuXHRvLndyaXRlX3NoaWZ0KDMxLCBzdHIsICd1dGYxNmxlJyk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuNjEgQ29udHJvbEluZm8gKi9cbmZ1bmN0aW9uIHBhcnNlX0NvbnRyb2xJbmZvKGJsb2IvKjo6LCBsZW5ndGgsIG9wdHMqLykge1xuXHR2YXIgZmxhZ3MgPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdGJsb2IubCsrO1xuXHR2YXIgYWNjZWwgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGJsb2IubCArPSAyO1xuXHRyZXR1cm4gW2ZsYWdzLCBhY2NlbF07XG59XG5cbi8qIFtNUy1PU0hBUkVEXSAyLjMuNy42IFVSTE1vbmlrZXIgVE9ETzogZmxhZ3MgKi9cbmZ1bmN0aW9uIHBhcnNlX1VSTE1vbmlrZXIoYmxvYi8qOjosIGxlbmd0aCwgb3B0cyovKSB7XG5cdHZhciBsZW4gPSBibG9iLnJlYWRfc2hpZnQoNCksIHN0YXJ0ID0gYmxvYi5sO1xuXHR2YXIgZXh0cmEgPSBmYWxzZTtcblx0aWYobGVuID4gMjQpIHtcblx0XHQvKiBsb29rIGFoZWFkICovXG5cdFx0YmxvYi5sICs9IGxlbiAtIDI0O1xuXHRcdGlmKGJsb2IucmVhZF9zaGlmdCgxNikgPT09IFwiNzk1ODgxZjQzYjFkN2Y0OGFmMmM4MjVkYzQ4NTI3NjNcIikgZXh0cmEgPSB0cnVlO1xuXHRcdGJsb2IubCA9IHN0YXJ0O1xuXHR9XG5cdHZhciB1cmwgPSBibG9iLnJlYWRfc2hpZnQoKGV4dHJhP2xlbi0yNDpsZW4pPj4xLCAndXRmMTZsZScpLnJlcGxhY2UoY2hyMCxcIlwiKTtcblx0aWYoZXh0cmEpIGJsb2IubCArPSAyNDtcblx0cmV0dXJuIHVybDtcbn1cblxuLyogW01TLU9TSEFSRURdIDIuMy43LjggRmlsZU1vbmlrZXIgVE9ETzogYWxsIGZpZWxkcyAqL1xuZnVuY3Rpb24gcGFyc2VfRmlsZU1vbmlrZXIoYmxvYi8qOjosIGxlbmd0aCovKSB7XG5cdHZhciBjQW50aSA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIHByZWFtYmxlID0gXCJcIjsgd2hpbGUoY0FudGktLSA+IDApIHByZWFtYmxlICs9IFwiLi4vXCI7XG5cdHZhciBhbnNpUGF0aCA9IGJsb2IucmVhZF9zaGlmdCgwLCAnbHBzdHItYW5zaScpO1xuXHRibG9iLmwgKz0gMjsgLy92YXIgZW5kU2VydmVyID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRpZihibG9iLnJlYWRfc2hpZnQoMikgIT0gMHhERUFEKSB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgRmlsZU1vbmlrZXJcIik7XG5cdHZhciBzeiA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0aWYoc3ogPT09IDApIHJldHVybiBwcmVhbWJsZSArIGFuc2lQYXRoLnJlcGxhY2UoL1xcXFwvZyxcIi9cIik7XG5cdHZhciBieXRlcyA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0aWYoYmxvYi5yZWFkX3NoaWZ0KDIpICE9IDMpIHRocm93IG5ldyBFcnJvcihcIkJhZCBGaWxlTW9uaWtlclwiKTtcblx0dmFyIHVuaWNvZGVQYXRoID0gYmxvYi5yZWFkX3NoaWZ0KGJ5dGVzPj4xLCAndXRmMTZsZScpLnJlcGxhY2UoY2hyMCxcIlwiKTtcblx0cmV0dXJuIHByZWFtYmxlICsgdW5pY29kZVBhdGg7XG59XG5cbi8qIFtNUy1PU0hBUkVEXSAyLjMuNy4yIEh5cGVybGlua01vbmlrZXIgVE9ETzogYWxsIHRoZSBtb25pa2VycyAqL1xuZnVuY3Rpb24gcGFyc2VfSHlwZXJsaW5rTW9uaWtlcihibG9iLCBsZW5ndGgpIHtcblx0dmFyIGNsc2lkID0gYmxvYi5yZWFkX3NoaWZ0KDE2KTsgbGVuZ3RoIC09IDE2O1xuXHRzd2l0Y2goY2xzaWQpIHtcblx0XHRjYXNlIFwiZTBjOWVhNzlmOWJhY2UxMThjODIwMGFhMDA0YmE5MGJcIjogcmV0dXJuIHBhcnNlX1VSTE1vbmlrZXIoYmxvYiwgbGVuZ3RoKTtcblx0XHRjYXNlIFwiMDMwMzAwMDAwMDAwMDAwMGMwMDAwMDAwMDAwMDAwNDZcIjogcmV0dXJuIHBhcnNlX0ZpbGVNb25pa2VyKGJsb2IsIGxlbmd0aCk7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgTW9uaWtlciBcIiArIGNsc2lkKTtcblx0fVxufVxuXG4vKiBbTVMtT1NIQVJFRF0gMi4zLjcuOSBIeXBlcmxpbmtTdHJpbmcgKi9cbmZ1bmN0aW9uIHBhcnNlX0h5cGVybGlua1N0cmluZyhibG9iLyo6OiwgbGVuZ3RoKi8pIHtcblx0dmFyIGxlbiA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIG8gPSBsZW4gPiAwID8gYmxvYi5yZWFkX3NoaWZ0KGxlbiwgJ3V0ZjE2bGUnKS5yZXBsYWNlKGNocjAsIFwiXCIpIDogXCJcIjtcblx0cmV0dXJuIG87XG59XG5mdW5jdGlvbiB3cml0ZV9IeXBlcmxpbmtTdHJpbmcoc3RyLyo6c3RyaW5nKi8sIG8pIHtcblx0aWYoIW8pIG8gPSBuZXdfYnVmKDYgKyBzdHIubGVuZ3RoICogMik7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMSArIHN0ci5sZW5ndGgpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSBvLndyaXRlX3NoaWZ0KDIsIHN0ci5jaGFyQ29kZUF0KGkpKTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1PU0hBUkVEXSAyLjMuNy4xIEh5cGVybGluayBPYmplY3QgKi9cbmZ1bmN0aW9uIHBhcnNlX0h5cGVybGluayhibG9iLCBsZW5ndGgpLyo6SHlwZXJsaW5rKi8ge1xuXHR2YXIgZW5kID0gYmxvYi5sICsgbGVuZ3RoO1xuXHR2YXIgc1ZlciA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0aWYoc1ZlciAhPT0gMikgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHN0cmVhbVZlcnNpb246IFwiICsgc1Zlcik7XG5cdHZhciBmbGFncyA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0YmxvYi5sICs9IDI7XG5cdHZhciBkaXNwbGF5TmFtZSwgdGFyZ2V0RnJhbWVOYW1lLCBtb25pa2VyLCBvbGVNb25pa2VyLCBMb2M9XCJcIiwgZ3VpZCwgZmlsZVRpbWU7XG5cdGlmKGZsYWdzICYgMHgwMDEwKSBkaXNwbGF5TmFtZSA9IHBhcnNlX0h5cGVybGlua1N0cmluZyhibG9iLCBlbmQgLSBibG9iLmwpO1xuXHRpZihmbGFncyAmIDB4MDA4MCkgdGFyZ2V0RnJhbWVOYW1lID0gcGFyc2VfSHlwZXJsaW5rU3RyaW5nKGJsb2IsIGVuZCAtIGJsb2IubCk7XG5cdGlmKChmbGFncyAmIDB4MDEwMSkgPT09IDB4MDEwMSkgbW9uaWtlciA9IHBhcnNlX0h5cGVybGlua1N0cmluZyhibG9iLCBlbmQgLSBibG9iLmwpO1xuXHRpZigoZmxhZ3MgJiAweDAxMDEpID09PSAweDAwMDEpIG9sZU1vbmlrZXIgPSBwYXJzZV9IeXBlcmxpbmtNb25pa2VyKGJsb2IsIGVuZCAtIGJsb2IubCk7XG5cdGlmKGZsYWdzICYgMHgwMDA4KSBMb2MgPSBwYXJzZV9IeXBlcmxpbmtTdHJpbmcoYmxvYiwgZW5kIC0gYmxvYi5sKTtcblx0aWYoZmxhZ3MgJiAweDAwMjApIGd1aWQgPSBibG9iLnJlYWRfc2hpZnQoMTYpO1xuXHRpZihmbGFncyAmIDB4MDA0MCkgZmlsZVRpbWUgPSBwYXJzZV9GSUxFVElNRShibG9iLyosIDgqLyk7XG5cdGJsb2IubCA9IGVuZDtcblx0dmFyIHRhcmdldCA9IHRhcmdldEZyYW1lTmFtZXx8bW9uaWtlcnx8b2xlTW9uaWtlcnx8XCJcIjtcblx0aWYodGFyZ2V0ICYmIExvYykgdGFyZ2V0Kz1cIiNcIitMb2M7XG5cdGlmKCF0YXJnZXQpIHRhcmdldCA9IFwiI1wiICsgTG9jO1xuXHRpZigoZmxhZ3MgJiAweDAwMDIpICYmIHRhcmdldC5jaGFyQXQoMCkgPT0gXCIvXCIgJiYgdGFyZ2V0LmNoYXJBdCgxKSAhPSBcIi9cIikgdGFyZ2V0ID0gXCJmaWxlOi8vXCIgKyB0YXJnZXQ7XG5cdHZhciBvdXQgPSAoe1RhcmdldDp0YXJnZXR9Lyo6YW55Ki8pO1xuXHRpZihndWlkKSBvdXQuZ3VpZCA9IGd1aWQ7XG5cdGlmKGZpbGVUaW1lKSBvdXQudGltZSA9IGZpbGVUaW1lO1xuXHRpZihkaXNwbGF5TmFtZSkgb3V0LlRvb2x0aXAgPSBkaXNwbGF5TmFtZTtcblx0cmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHdyaXRlX0h5cGVybGluayhobCkge1xuXHR2YXIgb3V0ID0gbmV3X2J1Zig1MTIpLCBpID0gMDtcblx0dmFyIFRhcmdldCA9IGhsLlRhcmdldDtcblx0aWYoVGFyZ2V0LnNsaWNlKDAsNykgPT0gXCJmaWxlOi8vXCIpIFRhcmdldCA9IFRhcmdldC5zbGljZSg3KTtcblx0dmFyIGhhc2hpZHggPSBUYXJnZXQuaW5kZXhPZihcIiNcIik7XG5cdHZhciBGID0gaGFzaGlkeCA+IC0xID8gMHgxZiA6IDB4MTc7XG5cdHN3aXRjaChUYXJnZXQuY2hhckF0KDApKSB7IGNhc2UgXCIjXCI6IEY9MHgxYzsgYnJlYWs7IGNhc2UgXCIuXCI6IEYmPX4yOyBicmVhazsgfVxuXHRvdXQud3JpdGVfc2hpZnQoNCwyKTsgb3V0LndyaXRlX3NoaWZ0KDQsIEYpO1xuXHR2YXIgZGF0YSA9IFs4LDY4MTU4MjcsNjYxOTIzNyw0ODQ5NzgwLDgzXTsgZm9yKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkgb3V0LndyaXRlX3NoaWZ0KDQsIGRhdGFbaV0pO1xuXHRpZihGID09IDB4MUMpIHtcblx0XHRUYXJnZXQgPSBUYXJnZXQuc2xpY2UoMSk7XG5cdFx0d3JpdGVfSHlwZXJsaW5rU3RyaW5nKFRhcmdldCwgb3V0KTtcblx0fSBlbHNlIGlmKEYgJiAweDAyKSB7XG5cdFx0ZGF0YSA9IFwiZTAgYzkgZWEgNzkgZjkgYmEgY2UgMTEgOGMgODIgMDAgYWEgMDAgNGIgYTkgMGJcIi5zcGxpdChcIiBcIik7XG5cdFx0Zm9yKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkgb3V0LndyaXRlX3NoaWZ0KDEsIHBhcnNlSW50KGRhdGFbaV0sIDE2KSk7XG5cdFx0dmFyIFByZXRhcmdldCA9IGhhc2hpZHggPiAtMSA/IFRhcmdldC5zbGljZSgwLCBoYXNoaWR4KSA6IFRhcmdldDtcblx0XHRvdXQud3JpdGVfc2hpZnQoNCwgMiooUHJldGFyZ2V0Lmxlbmd0aCArIDEpKTtcblx0XHRmb3IoaSA9IDA7IGkgPCBQcmV0YXJnZXQubGVuZ3RoOyArK2kpIG91dC53cml0ZV9zaGlmdCgyLCBQcmV0YXJnZXQuY2hhckNvZGVBdChpKSk7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDIsIDApO1xuXHRcdGlmKEYgJiAweDA4KSB3cml0ZV9IeXBlcmxpbmtTdHJpbmcoaGFzaGlkeCA+IC0xID8gVGFyZ2V0LnNsaWNlKGhhc2hpZHgrMSk6IFwiXCIsIG91dCk7XG5cdH0gZWxzZSB7XG5cdFx0ZGF0YSA9IFwiMDMgMDMgMDAgMDAgMDAgMDAgMDAgMDAgYzAgMDAgMDAgMDAgMDAgMDAgMDAgNDZcIi5zcGxpdChcIiBcIik7XG5cdFx0Zm9yKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkgb3V0LndyaXRlX3NoaWZ0KDEsIHBhcnNlSW50KGRhdGFbaV0sIDE2KSk7XG5cdFx0dmFyIFAgPSAwO1xuXHRcdHdoaWxlKFRhcmdldC5zbGljZShQKjMsUCozKzMpPT1cIi4uL1wifHxUYXJnZXQuc2xpY2UoUCozLFAqMyszKT09XCIuLlxcXFxcIikgKytQO1xuXHRcdG91dC53cml0ZV9zaGlmdCgyLCBQKTtcblx0XHRvdXQud3JpdGVfc2hpZnQoNCwgVGFyZ2V0Lmxlbmd0aCAtIDMgKiBQICsgMSk7XG5cdFx0Zm9yKGkgPSAwOyBpIDwgVGFyZ2V0Lmxlbmd0aCAtIDMgKiBQOyArK2kpIG91dC53cml0ZV9zaGlmdCgxLCBUYXJnZXQuY2hhckNvZGVBdChpICsgMyAqIFApICYgMHhGRik7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDEsIDApO1xuXHRcdG91dC53cml0ZV9zaGlmdCgyLCAweEZGRkYpO1xuXHRcdG91dC53cml0ZV9zaGlmdCgyLCAweERFQUQpO1xuXHRcdGZvcihpID0gMDsgaSA8IDY7ICsraSkgb3V0LndyaXRlX3NoaWZ0KDQsIDApO1xuXHR9XG5cdHJldHVybiBvdXQuc2xpY2UoMCwgb3V0LmwpO1xufVxuXG4vKiAyLjUuMTc4IExvbmdSR0JBICovXG5mdW5jdGlvbiBwYXJzZV9Mb25nUkdCQShibG9iLyo6OiwgbGVuZ3RoKi8pIHsgdmFyIHIgPSBibG9iLnJlYWRfc2hpZnQoMSksIGcgPSBibG9iLnJlYWRfc2hpZnQoMSksIGIgPSBibG9iLnJlYWRfc2hpZnQoMSksIGEgPSBibG9iLnJlYWRfc2hpZnQoMSk7IHJldHVybiBbcixnLGIsYV07IH1cblxuLyogMi41LjE3NyBMb25nUkdCICovXG5mdW5jdGlvbiBwYXJzZV9Mb25nUkdCKGJsb2IsIGxlbmd0aCkgeyB2YXIgeCA9IHBhcnNlX0xvbmdSR0JBKGJsb2IsIGxlbmd0aCk7IHhbM10gPSAwOyByZXR1cm4geDsgfVxuXG5cbi8qIFtNUy1YTFNdIDIuNS4xOSAqL1xuZnVuY3Rpb24gcGFyc2VfWExTQ2VsbChibG9iLCBsZW5ndGgsIG9wdHMpLyo6Q2VsbCovIHtcblx0dmFyIHJ3ID0gYmxvYi5yZWFkX3NoaWZ0KDIpOyAvLyAwLWluZGV4ZWRcblx0dmFyIGNvbCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIHJldCA9ICh7cjpydywgYzpjb2wsIGl4ZmU6MH0vKjphbnkqLyk7XG5cdGlmKG9wdHMgJiYgb3B0cy5iaWZmID09IDIgfHwgbGVuZ3RoID09IDcpIHtcblx0XHQvKiBUT0RPOiBwYXNzIGJhY2sgZmxhZ3MgKi9cblx0XHR2YXIgZmxhZ3MgPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdFx0cmV0Lml4ZmUgPSBmbGFncyAmIDB4M0Y7XG5cdFx0YmxvYi5sICs9IDI7XG5cdFx0Lypcblx0XHR2YXIgaWZudGlmbXQgPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdFx0dmFyIGlmbXQgPSBpZm50aWZtdCAmIDB4M2YsIGlmbnQgPSBpZm50aWZtdCA+PiA2O1xuXHRcdHZhciBmbGFnczMgPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdFx0Ki9cblx0fSBlbHNlIHJldC5peGZlID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRyZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gd3JpdGVfWExTQ2VsbChSLyo6bnVtYmVyKi8sIEMvKjpudW1iZXIqLywgaXhmZS8qOj9udW1iZXIqLywgbykge1xuXHRpZighbykgbyA9IG5ld19idWYoNik7XG5cdG8ud3JpdGVfc2hpZnQoMiwgUik7XG5cdG8ud3JpdGVfc2hpZnQoMiwgQyk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgaXhmZXx8MCk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTM0ICovXG5mdW5jdGlvbiBwYXJzZV9mcnRIZWFkZXIoYmxvYikge1xuXHR2YXIgcnQgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBmbGFncyA9IGJsb2IucmVhZF9zaGlmdCgyKTsgLy8gVE9ETzogcGFyc2UgdGhlc2UgZmxhZ3Ncblx0YmxvYi5sICs9IDg7XG5cdHJldHVybiB7dHlwZTogcnQsIGZsYWdzOiBmbGFnc307XG59XG5cblxuXG5mdW5jdGlvbiBwYXJzZV9PcHRYTFVuaWNvZGVTdHJpbmcoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7IHJldHVybiBsZW5ndGggPT09IDAgPyBcIlwiIDogcGFyc2VfWExVbmljb2RlU3RyaW5nMihibG9iLCBsZW5ndGgsIG9wdHMpOyB9XG5cbi8qIFtNUy1YTFNdIDIuNS4zNDQgKi9cbmZ1bmN0aW9uIHBhcnNlX1hUSShibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHcgPSBvcHRzLmJpZmYgPiA4ID8gNCA6IDI7XG5cdHZhciBpU3VwQm9vayA9IGJsb2IucmVhZF9zaGlmdCh3KSwgaXRhYkZpcnN0ID0gYmxvYi5yZWFkX3NoaWZ0KHcsJ2knKSwgaXRhYkxhc3QgPSBibG9iLnJlYWRfc2hpZnQodywnaScpO1xuXHRyZXR1cm4gW2lTdXBCb29rLCBpdGFiRmlyc3QsIGl0YWJMYXN0XTtcbn1cblxuLyogW01TLVhMU10gMi41LjIxOCAqL1xuZnVuY3Rpb24gcGFyc2VfUmtSZWMoYmxvYikge1xuXHR2YXIgaXhmZSA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIFJLID0gcGFyc2VfUmtOdW1iZXIoYmxvYik7XG5cdHJldHVybiBbaXhmZSwgUktdO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMSAqL1xuZnVuY3Rpb24gcGFyc2VfQWRkaW5VZGYoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGJsb2IubCArPSA0OyBsZW5ndGggLT0gNDtcblx0dmFyIGwgPSBibG9iLmwgKyBsZW5ndGg7XG5cdHZhciB1ZGZOYW1lID0gcGFyc2VfU2hvcnRYTFVuaWNvZGVTdHJpbmcoYmxvYiwgbGVuZ3RoLCBvcHRzKTtcblx0dmFyIGNiID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRsIC09IGJsb2IubDtcblx0aWYoY2IgIT09IGwpIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBBZGRpblVkZjogcGFkZGluZyA9IFwiICsgbCArIFwiICE9IFwiICsgY2IpO1xuXHRibG9iLmwgKz0gY2I7XG5cdHJldHVybiB1ZGZOYW1lO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMjA5IFRPRE86IENoZWNrIHNpemVzICovXG5mdW5jdGlvbiBwYXJzZV9SZWY4VShibG9iLyo6OiwgbGVuZ3RoKi8pIHtcblx0dmFyIHJ3Rmlyc3QgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciByd0xhc3QgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBjb2xGaXJzdCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGNvbExhc3QgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHJldHVybiB7czp7Yzpjb2xGaXJzdCwgcjpyd0ZpcnN0fSwgZTp7Yzpjb2xMYXN0LHI6cndMYXN0fX07XG59XG5mdW5jdGlvbiB3cml0ZV9SZWY4VShyLyo6UmFuZ2UqLywgbykge1xuXHRpZighbykgbyA9IG5ld19idWYoOCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgci5zLnIpO1xuXHRvLndyaXRlX3NoaWZ0KDIsIHIuZS5yKTtcblx0by53cml0ZV9zaGlmdCgyLCByLnMuYyk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgci5lLmMpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU10gMi41LjIxMSAqL1xuZnVuY3Rpb24gcGFyc2VfUmVmVShibG9iLyo6OiwgbGVuZ3RoKi8pIHtcblx0dmFyIHJ3Rmlyc3QgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciByd0xhc3QgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBjb2xGaXJzdCA9IGJsb2IucmVhZF9zaGlmdCgxKTtcblx0dmFyIGNvbExhc3QgPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdHJldHVybiB7czp7Yzpjb2xGaXJzdCwgcjpyd0ZpcnN0fSwgZTp7Yzpjb2xMYXN0LHI6cndMYXN0fX07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4yMDcgKi9cbnZhciBwYXJzZV9SZWYgPSBwYXJzZV9SZWZVO1xuXG4vKiBbTVMtWExTXSAyLjUuMTQzICovXG5mdW5jdGlvbiBwYXJzZV9GdENtbyhibG9iLyo6OiwgbGVuZ3RoKi8pIHtcblx0YmxvYi5sICs9IDQ7XG5cdHZhciBvdCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGlkID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgZmxhZ3MgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGJsb2IubCs9MTI7XG5cdHJldHVybiBbaWQsIG90LCBmbGFnc107XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xNDkgKi9cbmZ1bmN0aW9uIHBhcnNlX0Z0TnRzKGJsb2IpIHtcblx0dmFyIG91dCA9IHt9O1xuXHRibG9iLmwgKz0gNDtcblx0YmxvYi5sICs9IDE2OyAvLyBHVUlEIFRPRE9cblx0b3V0LmZTaGFyZWROb3RlID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gNDtcblx0cmV0dXJuIG91dDtcbn1cblxuLyogW01TLVhMU10gMi41LjE0MiAqL1xuZnVuY3Rpb24gcGFyc2VfRnRDZihibG9iKSB7XG5cdHZhciBvdXQgPSB7fTtcblx0YmxvYi5sICs9IDQ7XG5cdGJsb2IuY2YgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xNDAgLSAyLjUuMTU0IGFuZCBmcmllbmRzICovXG5mdW5jdGlvbiBwYXJzZV9GdFNraXAoYmxvYikgeyBibG9iLmwgKz0gMjsgYmxvYi5sICs9IGJsb2IucmVhZF9zaGlmdCgyKTsgfVxudmFyIEZ0VGFiID0ge1xuXHQweDAwOiBwYXJzZV9GdFNraXAsICAgICAgLyogRnRFbmQgKi9cblx0MHgwNDogcGFyc2VfRnRTa2lwLCAgICAgIC8qIEZ0TWFjcm8gKi9cblx0MHgwNTogcGFyc2VfRnRTa2lwLCAgICAgIC8qIEZ0QnV0dG9uICovXG5cdDB4MDY6IHBhcnNlX0Z0U2tpcCwgICAgICAvKiBGdEdtbyAqL1xuXHQweDA3OiBwYXJzZV9GdENmLCAgICAgICAgLyogRnRDZiAqL1xuXHQweDA4OiBwYXJzZV9GdFNraXAsICAgICAgLyogRnRQaW9HcmJpdCAqL1xuXHQweDA5OiBwYXJzZV9GdFNraXAsICAgICAgLyogRnRQaWN0Rm1sYSAqL1xuXHQweDBBOiBwYXJzZV9GdFNraXAsICAgICAgLyogRnRDYmxzICovXG5cdDB4MEI6IHBhcnNlX0Z0U2tpcCwgICAgICAvKiBGdFJibyAqL1xuXHQweDBDOiBwYXJzZV9GdFNraXAsICAgICAgLyogRnRTYnMgKi9cblx0MHgwRDogcGFyc2VfRnROdHMsICAgICAgIC8qIEZ0TnRzICovXG5cdDB4MEU6IHBhcnNlX0Z0U2tpcCwgICAgICAvKiBGdFNic0ZtbGEgKi9cblx0MHgwRjogcGFyc2VfRnRTa2lwLCAgICAgIC8qIEZ0R2JvRGF0YSAqL1xuXHQweDEwOiBwYXJzZV9GdFNraXAsICAgICAgLyogRnRFZG9EYXRhICovXG5cdDB4MTE6IHBhcnNlX0Z0U2tpcCwgICAgICAvKiBGdFJib0RhdGEgKi9cblx0MHgxMjogcGFyc2VfRnRTa2lwLCAgICAgIC8qIEZ0Q2Jsc0RhdGEgKi9cblx0MHgxMzogcGFyc2VfRnRTa2lwLCAgICAgIC8qIEZ0TGJzRGF0YSAqL1xuXHQweDE0OiBwYXJzZV9GdFNraXAsICAgICAgLyogRnRDYmxzRm1sYSAqL1xuXHQweDE1OiBwYXJzZV9GdENtb1xufTtcbmZ1bmN0aW9uIHBhcnNlX0Z0QXJyYXkoYmxvYiwgbGVuZ3RoLyo6Oiwgb3QqLykge1xuXHR2YXIgdGd0ID0gYmxvYi5sICsgbGVuZ3RoO1xuXHR2YXIgZnRzID0gW107XG5cdHdoaWxlKGJsb2IubCA8IHRndCkge1xuXHRcdHZhciBmdCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0XHRibG9iLmwtPTI7XG5cdFx0dHJ5IHtcblx0XHRcdGZ0c1tmdF0gPSBGdFRhYltmdF0oYmxvYiwgdGd0IC0gYmxvYi5sKTtcblx0XHR9IGNhdGNoKGUpIHsgYmxvYi5sID0gdGd0OyByZXR1cm4gZnRzOyB9XG5cdH1cblx0aWYoYmxvYi5sICE9IHRndCkgYmxvYi5sID0gdGd0OyAvL3Rocm93IG5ldyBFcnJvcihcImJhZCBPYmplY3QgRnQtc2VxdWVuY2VcIik7XG5cdHJldHVybiBmdHM7XG59XG5cbi8qIC0tLSAyLjQgUmVjb3JkcyAtLS0gKi9cblxuLyogW01TLVhMU10gMi40LjIxICovXG5mdW5jdGlvbiBwYXJzZV9CT0YoYmxvYiwgbGVuZ3RoKSB7XG5cdHZhciBvID0ge0JJRkZWZXI6MCwgZHQ6MH07XG5cdG8uQklGRlZlciA9IGJsb2IucmVhZF9zaGlmdCgyKTsgbGVuZ3RoIC09IDI7XG5cdGlmKGxlbmd0aCA+PSAyKSB7IG8uZHQgPSBibG9iLnJlYWRfc2hpZnQoMik7IGJsb2IubCAtPSAyOyB9XG5cdHN3aXRjaChvLkJJRkZWZXIpIHtcblx0XHRjYXNlIDB4MDYwMDogLyogQklGRjggKi9cblx0XHRjYXNlIDB4MDUwMDogLyogQklGRjUgKi9cblx0XHRjYXNlIDB4MDQwMDogLyogQklGRjQgKi9cblx0XHRjYXNlIDB4MDMwMDogLyogQklGRjMgKi9cblx0XHRjYXNlIDB4MDIwMDogLyogQklGRjIgKi9cblx0XHRjYXNlIDB4MDAwMjogY2FzZSAweDAwMDc6IC8qIEJJRkYyICovXG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OiBpZihsZW5ndGggPiA2KSB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIEJJRkYgVmVyIFwiICsgby5CSUZGVmVyKTtcblx0fVxuXG5cdGJsb2IucmVhZF9zaGlmdChsZW5ndGgpO1xuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHdyaXRlX0JPRih3Yi8qOldvcmtib29rKi8sIHQvKjpudW1iZXIqLywgbykge1xuXHR2YXIgaCA9IDB4MDYwMCwgdyA9IDE2O1xuXHRzd2l0Y2goby5ib29rVHlwZSkge1xuXHRcdGNhc2UgJ2JpZmY4JzogYnJlYWs7XG5cdFx0Y2FzZSAnYmlmZjUnOiBoID0gMHgwNTAwOyB3ID0gODsgYnJlYWs7XG5cdFx0Y2FzZSAnYmlmZjQnOiBoID0gMHgwMDA0OyB3ID0gNjsgYnJlYWs7XG5cdFx0Y2FzZSAnYmlmZjMnOiBoID0gMHgwMDAzOyB3ID0gNjsgYnJlYWs7XG5cdFx0Y2FzZSAnYmlmZjInOiBoID0gMHgwMDAyOyB3ID0gNDsgYnJlYWs7XG5cdFx0Y2FzZSAneGxhJzogYnJlYWs7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgQklGRiB2ZXJzaW9uXCIpO1xuXHR9XG5cdHZhciBvdXQgPSBuZXdfYnVmKHcpO1xuXHRvdXQud3JpdGVfc2hpZnQoMiwgaCk7XG5cdG91dC53cml0ZV9zaGlmdCgyLCB0KTtcblx0aWYodyA+IDQpIG91dC53cml0ZV9zaGlmdCgyLCAweDcyNjIpO1xuXHRpZih3ID4gNikgb3V0LndyaXRlX3NoaWZ0KDIsIDB4MDdDRCk7XG5cdGlmKHcgPiA4KSB7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDIsIDB4QzAwOSk7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDIsIDB4MDAwMSk7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDIsIDB4MDcwNik7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDIsIDB4MDAwMCk7XG5cdH1cblx0cmV0dXJuIG91dDtcbn1cblxuXG4vKiBbTVMtWExTXSAyLjQuMTQ2ICovXG5mdW5jdGlvbiBwYXJzZV9JbnRlcmZhY2VIZHIoYmxvYiwgbGVuZ3RoKSB7XG5cdGlmKGxlbmd0aCA9PT0gMCkgcmV0dXJuIDB4MDRiMDtcblx0aWYoKGJsb2IucmVhZF9zaGlmdCgyKSkhPT0weDA0YjApey8qIGVtcHR5ICovfVxuXHRyZXR1cm4gMHgwNGIwO1xufVxuXG5cbi8qIFtNUy1YTFNdIDIuNC4zNDkgKi9cbmZ1bmN0aW9uIHBhcnNlX1dyaXRlQWNjZXNzKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHRpZihvcHRzLmVuYykgeyBibG9iLmwgKz0gbGVuZ3RoOyByZXR1cm4gXCJcIjsgfVxuXHR2YXIgbCA9IGJsb2IubDtcblx0Ly8gVE9ETzogbWFrZSBzdXJlIFhMVW5pY29kZVN0cmluZyBkb2VzbnQgb3ZlcnJ1blxuXHR2YXIgVXNlck5hbWUgPSBwYXJzZV9YTFVuaWNvZGVTdHJpbmcyKGJsb2IsIDAsIG9wdHMpO1xuXHRibG9iLnJlYWRfc2hpZnQobGVuZ3RoICsgbCAtIGJsb2IubCk7XG5cdHJldHVybiBVc2VyTmFtZTtcbn1cbmZ1bmN0aW9uIHdyaXRlX1dyaXRlQWNjZXNzKHMvKjpzdHJpbmcqLywgb3B0cykge1xuXHR2YXIgYjggPSAhb3B0cyB8fCBvcHRzLmJpZmYgPT0gODtcblx0dmFyIG8gPSBuZXdfYnVmKGI4ID8gMTEyIDogNTQpO1xuXHRvLndyaXRlX3NoaWZ0KG9wdHMuYmlmZiA9PSA4ID8gMiA6IDEsIDcpO1xuXHRpZihiOCkgby53cml0ZV9zaGlmdCgxLCAwKTtcblx0by53cml0ZV9zaGlmdCg0LCAweDMzMzM2ODUzKTtcblx0by53cml0ZV9zaGlmdCg0LCAoMHgwMDUzNEE3NCB8IChiOCA/IDAgOiAweDIwMDAwMDAwKSkpO1xuXHR3aGlsZShvLmwgPCBvLmxlbmd0aCkgby53cml0ZV9zaGlmdCgxLCAoYjggPyAwIDogMzIpKTtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4zNTEgKi9cbmZ1bmN0aW9uIHBhcnNlX1dzQm9vbChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIGZsYWdzID0gb3B0cyAmJiBvcHRzLmJpZmYgPT0gOCB8fCBsZW5ndGggPT0gMiA/IGJsb2IucmVhZF9zaGlmdCgyKSA6IChibG9iLmwgKz0gbGVuZ3RoLCAwKTtcblx0cmV0dXJuIHsgZkRpYWxvZzogZmxhZ3MgJiAweDEwLCBmQmVsb3c6IGZsYWdzICYgMHg0MCwgZlJpZ2h0OiBmbGFncyAmIDB4ODAgfTtcbn1cblxuLyogW01TLVhMU10gMi40LjI4ICovXG5mdW5jdGlvbiBwYXJzZV9Cb3VuZFNoZWV0OChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIG5hbWUgPSBcIlwiO1xuXHRpZihvcHRzLmJpZmYgPT0gNCkge1xuXHRcdG5hbWUgPSBwYXJzZV9TaG9ydFhMVW5pY29kZVN0cmluZyhibG9iLCAwLCBvcHRzKTtcblx0XHRpZihuYW1lLmxlbmd0aCA9PT0gMCkgbmFtZSA9IFwiU2hlZXQxXCI7XG5cdFx0cmV0dXJuIHsgbmFtZTpuYW1lIH07XG5cdH1cblx0dmFyIHBvcyA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIGhpZGRlbiA9IGJsb2IucmVhZF9zaGlmdCgxKSAmIDB4MDM7XG5cdHZhciBkdCA9IGJsb2IucmVhZF9zaGlmdCgxKTtcblx0c3dpdGNoKGR0KSB7XG5cdFx0Y2FzZSAwOiBkdCA9ICdXb3Jrc2hlZXQnOyBicmVhaztcblx0XHRjYXNlIDE6IGR0ID0gJ01hY3Jvc2hlZXQnOyBicmVhaztcblx0XHRjYXNlIDI6IGR0ID0gJ0NoYXJ0c2hlZXQnOyBicmVhaztcblx0XHRjYXNlIDY6IGR0ID0gJ1ZCQU1vZHVsZSc7IGJyZWFrO1xuXHR9XG5cdG5hbWUgPSBwYXJzZV9TaG9ydFhMVW5pY29kZVN0cmluZyhibG9iLCAwLCBvcHRzKTtcblx0aWYobmFtZS5sZW5ndGggPT09IDApIG5hbWUgPSBcIlNoZWV0MVwiO1xuXHRyZXR1cm4geyBwb3M6cG9zLCBoczpoaWRkZW4sIGR0OmR0LCBuYW1lOm5hbWUgfTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JvdW5kU2hlZXQ4KGRhdGEsIG9wdHMpIHtcblx0dmFyIHcgPSAoIW9wdHMgfHwgb3B0cy5iaWZmID49IDggPyAyIDogMSk7XG5cdHZhciBvID0gbmV3X2J1Zig4ICsgdyAqIGRhdGEubmFtZS5sZW5ndGgpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIGRhdGEucG9zKTtcblx0by53cml0ZV9zaGlmdCgxLCBkYXRhLmhzIHx8IDApO1xuXHRvLndyaXRlX3NoaWZ0KDEsIGRhdGEuZHQpO1xuXHRvLndyaXRlX3NoaWZ0KDEsIGRhdGEubmFtZS5sZW5ndGgpO1xuXHRpZihvcHRzLmJpZmYgPj0gOCkgby53cml0ZV9zaGlmdCgxLCAxKTtcblx0by53cml0ZV9zaGlmdCh3ICogZGF0YS5uYW1lLmxlbmd0aCwgZGF0YS5uYW1lLCBvcHRzLmJpZmYgPCA4ID8gJ3NiY3MnIDogJ3V0ZjE2bGUnKTtcblx0dmFyIG91dCA9IG8uc2xpY2UoMCwgby5sKTtcblx0b3V0LmwgPSBvLmw7IHJldHVybiBvdXQ7XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4yNjUgVE9ETyAqL1xuZnVuY3Rpb24gcGFyc2VfU1NUKGJsb2IsIGxlbmd0aCkvKjpTU1QqLyB7XG5cdHZhciBlbmQgPSBibG9iLmwgKyBsZW5ndGg7XG5cdHZhciBjbnQgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHZhciB1Y250ID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHR2YXIgc3Rycy8qOlNTVCovID0gKFtdLyo6YW55Ki8pO1xuXHRmb3IodmFyIGkgPSAwOyBpICE9IHVjbnQgJiYgYmxvYi5sIDwgZW5kOyArK2kpIHtcblx0XHRzdHJzLnB1c2gocGFyc2VfWExVbmljb2RlUmljaEV4dGVuZGVkU3RyaW5nKGJsb2IpKTtcblx0fVxuXHRzdHJzLkNvdW50ID0gY250OyBzdHJzLlVuaXF1ZSA9IHVjbnQ7XG5cdHJldHVybiBzdHJzO1xufVxuZnVuY3Rpb24gd3JpdGVfU1NUKHNzdCwgb3B0cykge1xuXHR2YXIgaGVhZGVyID0gbmV3X2J1Zig4KTtcblx0aGVhZGVyLndyaXRlX3NoaWZ0KDQsIHNzdC5Db3VudCk7XG5cdGhlYWRlci53cml0ZV9zaGlmdCg0LCBzc3QuVW5pcXVlKTtcblx0dmFyIHN0cnMgPSBbXTtcblx0Zm9yKHZhciBqID0gMDsgaiA8IHNzdC5sZW5ndGg7ICsraikgc3Ryc1tqXSA9IHdyaXRlX1hMVW5pY29kZVJpY2hFeHRlbmRlZFN0cmluZyhzc3Rbal0sIG9wdHMpO1xuXHR2YXIgbyA9IGJjb25jYXQoW2hlYWRlcl0uY29uY2F0KHN0cnMpKTtcblx0Lyo6OigqL28vKjo6IDphbnkpKi8ucGFydHMgPSBbaGVhZGVyLmxlbmd0aF0uY29uY2F0KHN0cnMubWFwKGZ1bmN0aW9uKHN0cikgeyByZXR1cm4gc3RyLmxlbmd0aDsgfSkpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU10gMi40LjEwNyAqL1xuZnVuY3Rpb24gcGFyc2VfRXh0U1NUKGJsb2IsIGxlbmd0aCkge1xuXHR2YXIgZXh0c3N0ID0ge307XG5cdGV4dHNzdC5kc3N0ID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gbGVuZ3RoLTI7XG5cdHJldHVybiBleHRzc3Q7XG59XG5cblxuLyogW01TLVhMU10gMi40LjIyMSBUT0RPOiBjaGVjayBCSUZGMi00ICovXG5mdW5jdGlvbiBwYXJzZV9Sb3coYmxvYikge1xuXHR2YXIgeiA9ICh7fS8qOmFueSovKTtcblx0ei5yID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR6LmMgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHouY250ID0gYmxvYi5yZWFkX3NoaWZ0KDIpIC0gei5jO1xuXHR2YXIgbWl5UncgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGJsb2IubCArPSA0OyAvLyByZXNlcnZlZCgyKSwgdW51c2VkKDIpXG5cdHZhciBmbGFncyA9IGJsb2IucmVhZF9zaGlmdCgxKTsgLy8gdmFyaW91cyBmbGFnc1xuXHRibG9iLmwgKz0gMzsgLy8gcmVzZXJ2ZWQoOCksIGl4ZmUoMTIpLCBmbGFncyg0KVxuXHRpZihmbGFncyAmIDB4MDcpIHoubGV2ZWwgPSBmbGFncyAmIDB4MDc7XG5cdC8vIGNvbGxhcHNlZDogZmxhZ3MgJiAweDEwXG5cdGlmKGZsYWdzICYgMHgyMCkgei5oaWRkZW4gPSB0cnVlO1xuXHRpZihmbGFncyAmIDB4NDApIHouaHB0ID0gbWl5UncgLyAyMDtcblx0cmV0dXJuIHo7XG59XG5cblxuLyogW01TLVhMU10gMi40LjEyNSAqL1xuZnVuY3Rpb24gcGFyc2VfRm9yY2VGdWxsQ2FsY3VsYXRpb24oYmxvYikge1xuXHR2YXIgaGVhZGVyID0gcGFyc2VfZnJ0SGVhZGVyKGJsb2IpO1xuXHRpZihoZWFkZXIudHlwZSAhPSAweDA4QTMpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgRnV0dXJlIFJlY29yZCBcIiArIGhlYWRlci50eXBlKTtcblx0dmFyIGZ1bGxjYWxjID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRyZXR1cm4gZnVsbGNhbGMgIT09IDB4MDtcbn1cblxuXG5cblxuXG4vKiBbTVMtWExTXSAyLjQuMjE1IHJ0ICovXG5mdW5jdGlvbiBwYXJzZV9SZWNhbGNJZChibG9iKSB7XG5cdGJsb2IucmVhZF9zaGlmdCgyKTtcblx0cmV0dXJuIGJsb2IucmVhZF9zaGlmdCg0KTtcbn1cblxuLyogW01TLVhMU10gMi40Ljg3ICovXG5mdW5jdGlvbiBwYXJzZV9EZWZhdWx0Um93SGVpZ2h0KGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgZiA9IDA7XG5cdGlmKCEob3B0cyAmJiBvcHRzLmJpZmYgPT0gMikpIHtcblx0XHRmID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR9XG5cdHZhciBtaXlSdyA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0aWYoKG9wdHMgJiYgb3B0cy5iaWZmID09IDIpKSB7XG5cdFx0ZiA9IDEgLSAobWl5UncgPj4gMTUpOyBtaXlSdyAmPSAweDdmZmY7XG5cdH1cblx0dmFyIGZsID0ge1Vuc3luY2VkOmYmMSxEeVplcm86KGYmMik+PjEsRXhBc2M6KGYmNCk+PjIsRXhEc2M6KGYmOCk+PjN9O1xuXHRyZXR1cm4gW2ZsLCBtaXlSd107XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4zNDUgVE9ETyAqL1xuZnVuY3Rpb24gcGFyc2VfV2luZG93MShibG9iKSB7XG5cdHZhciB4V24gPSBibG9iLnJlYWRfc2hpZnQoMiksIHlXbiA9IGJsb2IucmVhZF9zaGlmdCgyKSwgZHhXbiA9IGJsb2IucmVhZF9zaGlmdCgyKSwgZHlXbiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDIpLCBpVGFiQ3VyID0gYmxvYi5yZWFkX3NoaWZ0KDIpLCBpVGFiRmlyc3QgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBjdGFiU2VsID0gYmxvYi5yZWFkX3NoaWZ0KDIpLCB3VGFiUmF0aW8gPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHJldHVybiB7IFBvczogW3hXbiwgeVduXSwgRGltOiBbZHhXbiwgZHlXbl0sIEZsYWdzOiBmbGFncywgQ3VyVGFiOiBpVGFiQ3VyLFxuXHRcdEZpcnN0VGFiOiBpVGFiRmlyc3QsIFNlbGVjdGVkOiBjdGFiU2VsLCBUYWJSYXRpbzogd1RhYlJhdGlvIH07XG59XG5mdW5jdGlvbiB3cml0ZV9XaW5kb3cxKC8qOjpvcHRzKi8pIHtcblx0dmFyIG8gPSBuZXdfYnVmKDE4KTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0by53cml0ZV9zaGlmdCgyLCAweDcyNjApO1xuXHRvLndyaXRlX3NoaWZ0KDIsIDB4NDRjMCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMHgzOCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMSk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMHgwMWY0KTtcblx0cmV0dXJuIG87XG59XG4vKiBbTVMtWExTXSAyLjQuMzQ2IFRPRE8gKi9cbmZ1bmN0aW9uIHBhcnNlX1dpbmRvdzIoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGlmKG9wdHMgJiYgb3B0cy5iaWZmID49IDIgJiYgb3B0cy5iaWZmIDwgNSkgcmV0dXJuIHt9O1xuXHR2YXIgZiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0cmV0dXJuIHsgUlRMOiBmICYgMHg0MCB9O1xufVxuZnVuY3Rpb24gd3JpdGVfV2luZG93Mih2aWV3KSB7XG5cdHZhciBvID0gbmV3X2J1ZigxOCksIGYgPSAweDZiNjtcblx0aWYodmlldyAmJiB2aWV3LlJUTCkgZiB8PSAweDQwO1xuXHRvLndyaXRlX3NoaWZ0KDIsIGYpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRvLndyaXRlX3NoaWZ0KDQsIDY0KTtcblx0by53cml0ZV9zaGlmdCg0LCAwKTtcblx0by53cml0ZV9zaGlmdCg0LCAwKTtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4xODkgVE9ETyAqL1xuZnVuY3Rpb24gcGFyc2VfUGFuZSgvKmJsb2IsIGxlbmd0aCwgb3B0cyovKSB7XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4xMjIgVE9ETyAqL1xuZnVuY3Rpb24gcGFyc2VfRm9udChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIG8vKjphbnkqLyA9IHtcblx0XHRkeUhlaWdodDogYmxvYi5yZWFkX3NoaWZ0KDIpLFxuXHRcdGZsOiBibG9iLnJlYWRfc2hpZnQoMilcblx0fTtcblx0c3dpdGNoKChvcHRzICYmIG9wdHMuYmlmZikgfHwgOCkge1xuXHRcdGNhc2UgMjogYnJlYWs7XG5cdFx0Y2FzZSAzOiBjYXNlIDQ6IGJsb2IubCArPSAyOyBicmVhaztcblx0XHRkZWZhdWx0OiBibG9iLmwgKz0gMTA7IGJyZWFrO1xuXHR9XG5cdG8ubmFtZSA9IHBhcnNlX1Nob3J0WExVbmljb2RlU3RyaW5nKGJsb2IsIDAsIG9wdHMpO1xuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHdyaXRlX0ZvbnQoZGF0YSwgb3B0cykge1xuXHR2YXIgbmFtZSA9IGRhdGEubmFtZSB8fCBcIkFyaWFsXCI7XG5cdHZhciBiNSA9IChvcHRzICYmIChvcHRzLmJpZmYgPT0gNSkpLCB3ID0gKGI1ID8gKDE1ICsgbmFtZS5sZW5ndGgpIDogKDE2ICsgMiAqIG5hbWUubGVuZ3RoKSk7XG5cdHZhciBvID0gbmV3X2J1Zih3KTtcblx0by53cml0ZV9zaGlmdCgyLCAoZGF0YS5zeiB8fCAxMikgKiAyMCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgNDAwKTtcblx0by53cml0ZV9zaGlmdCg0LCAwKTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0by53cml0ZV9zaGlmdCgxLCBuYW1lLmxlbmd0aCk7XG5cdGlmKCFiNSkgby53cml0ZV9zaGlmdCgxLCAxKTtcblx0by53cml0ZV9zaGlmdCgoYjUgPyAxIDogMikgKiBuYW1lLmxlbmd0aCwgbmFtZSwgKGI1ID8gXCJzYmNzXCIgOiBcInV0ZjE2bGVcIikpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU10gMi40LjE0OSAqL1xuZnVuY3Rpb24gcGFyc2VfTGFiZWxTc3QoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBjZWxsID0gcGFyc2VfWExTQ2VsbChibG9iLCBsZW5ndGgsIG9wdHMpO1xuXHRjZWxsLmlzc3QgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHJldHVybiBjZWxsO1xufVxuZnVuY3Rpb24gd3JpdGVfTGFiZWxTc3QoUi8qOm51bWJlciovLCBDLyo6bnVtYmVyKi8sIHYvKjpudW1iZXIqLywgb3MvKjpudW1iZXIqLyAvKjo6LCBvcHRzKi8pIHtcblx0dmFyIG8gPSBuZXdfYnVmKDEwKTtcblx0d3JpdGVfWExTQ2VsbChSLCBDLCBvcywgbyk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgdik7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuMTQ4ICovXG5mdW5jdGlvbiBwYXJzZV9MYWJlbChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0aWYob3B0cy5iaWZmZ3Vlc3MgJiYgb3B0cy5iaWZmID09IDIpIG9wdHMuYmlmZiA9IDU7XG5cdHZhciB0YXJnZXQgPSBibG9iLmwgKyBsZW5ndGg7XG5cdHZhciBjZWxsID0gcGFyc2VfWExTQ2VsbChibG9iLCBsZW5ndGgsIG9wdHMpO1xuXHR2YXIgc3RyID0gcGFyc2VfWExVbmljb2RlU3RyaW5nKGJsb2IsIHRhcmdldCAtIGJsb2IubCwgb3B0cyk7XG5cdGNlbGwudmFsID0gc3RyO1xuXHRyZXR1cm4gY2VsbDtcbn1cbmZ1bmN0aW9uIHdyaXRlX0xhYmVsKFIvKjpudW1iZXIqLywgQy8qOm51bWJlciovLCB2Lyo6c3RyaW5nKi8sIG9zLyo6bnVtYmVyKi8sIG9wdHMpIHtcblx0dmFyIGI4ID0gIW9wdHMgfHwgb3B0cy5iaWZmID09IDg7XG5cdHZhciBvID0gbmV3X2J1Zig2ICsgMiArICgrYjgpICsgKDEgKyBiOCkgKiB2Lmxlbmd0aCk7XG5cdHdyaXRlX1hMU0NlbGwoUiwgQywgb3MsIG8pO1xuXHRvLndyaXRlX3NoaWZ0KDIsIHYubGVuZ3RoKTtcblx0aWYoYjgpIG8ud3JpdGVfc2hpZnQoMSwgMSk7XG5cdG8ud3JpdGVfc2hpZnQoKDEgKyBiOCkgKiB2Lmxlbmd0aCwgdiwgYjggPyAndXRmMTZsZScgOiAnc2JjcycpO1xuXHRyZXR1cm4gbztcbn1cblxuXG4vKiBbTVMtWExTXSAyLjQuMTI2IE51bWJlciBGb3JtYXRzICovXG5mdW5jdGlvbiBwYXJzZV9Gb3JtYXQoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBudW1GbXRJZCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGZtdHN0ciA9IHBhcnNlX1hMVW5pY29kZVN0cmluZzIoYmxvYiwgMCwgb3B0cyk7XG5cdHJldHVybiBbbnVtRm10SWQsIGZtdHN0cl07XG59XG5mdW5jdGlvbiB3cml0ZV9Gb3JtYXQoaS8qOm51bWJlciovLCBmLyo6c3RyaW5nKi8sIG9wdHMsIG8pIHtcblx0dmFyIGI1ID0gKG9wdHMgJiYgKG9wdHMuYmlmZiA9PSA1KSk7XG5cdGlmKCFvKSBvID0gbmV3X2J1ZihiNSA/ICgzICsgZi5sZW5ndGgpIDogKDUgKyAyICogZi5sZW5ndGgpKTtcblx0by53cml0ZV9zaGlmdCgyLCBpKTtcblx0by53cml0ZV9zaGlmdCgoYjUgPyAxIDogMiksIGYubGVuZ3RoKTtcblx0aWYoIWI1KSBvLndyaXRlX3NoaWZ0KDEsIDEpO1xuXHRvLndyaXRlX3NoaWZ0KChiNSA/IDEgOiAyKSAqIGYubGVuZ3RoLCBmLCAoYjUgPyAnc2JjcycgOiAndXRmMTZsZScpKTtcblx0dmFyIG91dCA9IChvLmxlbmd0aCA+IG8ubCkgPyBvLnNsaWNlKDAsIG8ubCkgOiBvO1xuXHRpZihvdXQubCA9PSBudWxsKSBvdXQubCA9IG91dC5sZW5ndGg7XG5cdHJldHVybiBvdXQ7XG59XG52YXIgcGFyc2VfQklGRjJGb3JtYXQgPSBwYXJzZV9YTFVuaWNvZGVTdHJpbmcyO1xuZnVuY3Rpb24gd3JpdGVfQklGRjJGb3JtYXQoZi8qOnN0cmluZyovKSB7XG5cdHZhciBvID0gbmV3X2J1ZigxICsgZi5sZW5ndGgpO1xuXHRvLndyaXRlX3NoaWZ0KDEsIGYubGVuZ3RoKTtcblx0by53cml0ZV9zaGlmdChmLmxlbmd0aCwgZiwgXCJzYmNzXCIpO1xuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHdyaXRlX0JJRkY0Rm9ybWF0KGYvKjpzdHJpbmcqLykge1xuXHR2YXIgbyA9IG5ld19idWYoMyArIGYubGVuZ3RoKTtcblx0by5sICs9IDI7XG5cdG8ud3JpdGVfc2hpZnQoMSwgZi5sZW5ndGgpO1xuXHRvLndyaXRlX3NoaWZ0KGYubGVuZ3RoLCBmLCBcInNiY3NcIik7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuOTAgKi9cbmZ1bmN0aW9uIHBhcnNlX0RpbWVuc2lvbnMoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBlbmQgPSBibG9iLmwgKyBsZW5ndGg7XG5cdHZhciB3ID0gb3B0cy5iaWZmID09IDggfHwgIW9wdHMuYmlmZiA/IDQgOiAyO1xuXHR2YXIgciA9IGJsb2IucmVhZF9zaGlmdCh3KSwgUiA9IGJsb2IucmVhZF9zaGlmdCh3KTtcblx0dmFyIGMgPSBibG9iLnJlYWRfc2hpZnQoMiksIEMgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGJsb2IubCA9IGVuZDtcblx0cmV0dXJuIHtzOiB7cjpyLCBjOmN9LCBlOiB7cjpSLCBjOkN9fTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0RpbWVuc2lvbnMocmFuZ2UsIG9wdHMpIHtcblx0dmFyIHcgPSBvcHRzLmJpZmYgPT0gOCB8fCAhb3B0cy5iaWZmID8gNCA6IDI7XG5cdHZhciBvID0gbmV3X2J1ZigyKncgKyA2KTtcblx0by53cml0ZV9zaGlmdCh3LCByYW5nZS5zLnIpO1xuXHRvLndyaXRlX3NoaWZ0KHcsIHJhbmdlLmUuciArIDEpO1xuXHRvLndyaXRlX3NoaWZ0KDIsIHJhbmdlLnMuYyk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgcmFuZ2UuZS5jICsgMSk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuMjIwICovXG5mdW5jdGlvbiBwYXJzZV9SSyhibG9iKSB7XG5cdHZhciBydyA9IGJsb2IucmVhZF9zaGlmdCgyKSwgY29sID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgcmtyZWMgPSBwYXJzZV9Sa1JlYyhibG9iKTtcblx0cmV0dXJuIHtyOnJ3LCBjOmNvbCwgaXhmZTpya3JlY1swXSwgcmtudW06cmtyZWNbMV19O1xufVxuXG4vKiBbTVMtWExTXSAyLjQuMTc1ICovXG5mdW5jdGlvbiBwYXJzZV9NdWxSayhibG9iLCBsZW5ndGgpIHtcblx0dmFyIHRhcmdldCA9IGJsb2IubCArIGxlbmd0aCAtIDI7XG5cdHZhciBydyA9IGJsb2IucmVhZF9zaGlmdCgyKSwgY29sID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgcmtyZWNzID0gW107XG5cdHdoaWxlKGJsb2IubCA8IHRhcmdldCkgcmtyZWNzLnB1c2gocGFyc2VfUmtSZWMoYmxvYikpO1xuXHRpZihibG9iLmwgIT09IHRhcmdldCkgdGhyb3cgbmV3IEVycm9yKFwiTXVsUksgcmVhZCBlcnJvclwiKTtcblx0dmFyIGxhc3Rjb2wgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGlmKHJrcmVjcy5sZW5ndGggIT0gbGFzdGNvbCAtIGNvbCArIDEpIHRocm93IG5ldyBFcnJvcihcIk11bFJLIGxlbmd0aCBtaXNtYXRjaFwiKTtcblx0cmV0dXJuIHtyOnJ3LCBjOmNvbCwgQzpsYXN0Y29sLCBya3JlYzpya3JlY3N9O1xufVxuLyogW01TLVhMU10gMi40LjE3NCAqL1xuZnVuY3Rpb24gcGFyc2VfTXVsQmxhbmsoYmxvYiwgbGVuZ3RoKSB7XG5cdHZhciB0YXJnZXQgPSBibG9iLmwgKyBsZW5ndGggLSAyO1xuXHR2YXIgcncgPSBibG9iLnJlYWRfc2hpZnQoMiksIGNvbCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGl4ZmVzID0gW107XG5cdHdoaWxlKGJsb2IubCA8IHRhcmdldCkgaXhmZXMucHVzaChibG9iLnJlYWRfc2hpZnQoMikpO1xuXHRpZihibG9iLmwgIT09IHRhcmdldCkgdGhyb3cgbmV3IEVycm9yKFwiTXVsQmxhbmsgcmVhZCBlcnJvclwiKTtcblx0dmFyIGxhc3Rjb2wgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGlmKGl4ZmVzLmxlbmd0aCAhPSBsYXN0Y29sIC0gY29sICsgMSkgdGhyb3cgbmV3IEVycm9yKFwiTXVsQmxhbmsgbGVuZ3RoIG1pc21hdGNoXCIpO1xuXHRyZXR1cm4ge3I6cncsIGM6Y29sLCBDOmxhc3Rjb2wsIGl4ZmU6aXhmZXN9O1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMjAgMi41LjI0OSBUT0RPOiBpbnRlcnByZXQgdmFsdWVzIGhlcmUgKi9cbmZ1bmN0aW9uIHBhcnNlX0NlbGxTdHlsZVhGKGJsb2IsIGxlbmd0aCwgc3R5bGUsIG9wdHMpIHtcblx0dmFyIG8gPSB7fTtcblx0dmFyIGEgPSBibG9iLnJlYWRfc2hpZnQoNCksIGIgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHZhciBjID0gYmxvYi5yZWFkX3NoaWZ0KDQpLCBkID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRvLnBhdHRlcm5UeXBlID0gWExTRmlsbFBhdHRlcm5bYyA+PiAyNl07XG5cblx0aWYoIW9wdHMuY2VsbFN0eWxlcykgcmV0dXJuIG87XG5cdG8uYWxjID0gYSAmIDB4MDc7XG5cdG8uZldyYXAgPSAoYSA+PiAzKSAmIDB4MDE7XG5cdG8uYWxjViA9IChhID4+IDQpICYgMHgwNztcblx0by5mSnVzdExhc3QgPSAoYSA+PiA3KSAmIDB4MDE7XG5cdG8udHJvdCA9IChhID4+IDgpICYgMHhGRjtcblx0by5jSW5kZW50ID0gKGEgPj4gMTYpICYgMHgwRjtcblx0by5mU2hyaW5rVG9GaXQgPSAoYSA+PiAyMCkgJiAweDAxO1xuXHRvLmlSZWFkT3JkZXIgPSAoYSA+PiAyMikgJiAweDAyO1xuXHRvLmZBdHJOdW0gPSAoYSA+PiAyNikgJiAweDAxO1xuXHRvLmZBdHJGbnQgPSAoYSA+PiAyNykgJiAweDAxO1xuXHRvLmZBdHJBbGMgPSAoYSA+PiAyOCkgJiAweDAxO1xuXHRvLmZBdHJCZHIgPSAoYSA+PiAyOSkgJiAweDAxO1xuXHRvLmZBdHJQYXQgPSAoYSA+PiAzMCkgJiAweDAxO1xuXHRvLmZBdHJQcm90ID0gKGEgPj4gMzEpICYgMHgwMTtcblxuXHRvLmRnTGVmdCA9IGIgJiAweDBGO1xuXHRvLmRnUmlnaHQgPSAoYiA+PiA0KSAmIDB4MEY7XG5cdG8uZGdUb3AgPSAoYiA+PiA4KSAmIDB4MEY7XG5cdG8uZGdCb3R0b20gPSAoYiA+PiAxMikgJiAweDBGO1xuXHRvLmljdkxlZnQgPSAoYiA+PiAxNikgJiAweDdGO1xuXHRvLmljdlJpZ2h0ID0gKGIgPj4gMjMpICYgMHg3Rjtcblx0by5ncmJpdERpYWcgPSAoYiA+PiAzMCkgJiAweDAzO1xuXG5cdG8uaWN2VG9wID0gYyAmIDB4N0Y7XG5cdG8uaWN2Qm90dG9tID0gKGMgPj4gNykgJiAweDdGO1xuXHRvLmljdkRpYWcgPSAoYyA+PiAxNCkgJiAweDdGO1xuXHRvLmRnRGlhZyA9IChjID4+IDIxKSAmIDB4MEY7XG5cblx0by5pY3ZGb3JlID0gZCAmIDB4N0Y7XG5cdG8uaWN2QmFjayA9IChkID4+IDcpICYgMHg3Rjtcblx0by5mc3hCdXR0b24gPSAoZCA+PiAxNCkgJiAweDAxO1xuXHRyZXR1cm4gbztcbn1cbi8vZnVuY3Rpb24gcGFyc2VfQ2VsbFhGKGJsb2IsIGxlbmd0aCwgb3B0cykge3JldHVybiBwYXJzZV9DZWxsU3R5bGVYRihibG9iLGxlbmd0aCwwLCBvcHRzKTt9XG4vL2Z1bmN0aW9uIHBhcnNlX1N0eWxlWEYoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7cmV0dXJuIHBhcnNlX0NlbGxTdHlsZVhGKGJsb2IsbGVuZ3RoLDEsIG9wdHMpO31cblxuLyogW01TLVhMU10gMi40LjM1MyBUT0RPOiBhY3R1YWxseSBkbyB0aGlzIHJpZ2h0ICovXG5mdW5jdGlvbiBwYXJzZV9YRihibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIG8gPSB7fTtcblx0by5pZm50ID0gYmxvYi5yZWFkX3NoaWZ0KDIpOyBvLm51bUZtdElkID0gYmxvYi5yZWFkX3NoaWZ0KDIpOyBvLmZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRvLmZTdHlsZSA9IChvLmZsYWdzID4+IDIpICYgMHgwMTtcblx0bGVuZ3RoIC09IDY7XG5cdG8uZGF0YSA9IHBhcnNlX0NlbGxTdHlsZVhGKGJsb2IsIGxlbmd0aCwgby5mU3R5bGUsIG9wdHMpO1xuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHdyaXRlX1hGKGRhdGEsIGl4ZmVQLCBvcHRzLCBvKSB7XG5cdHZhciBiNSA9IChvcHRzICYmIChvcHRzLmJpZmYgPT0gNSkpO1xuXHRpZighbykgbyA9IG5ld19idWYoYjUgPyAxNiA6IDIwKTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0aWYoZGF0YS5zdHlsZSkge1xuXHRcdG8ud3JpdGVfc2hpZnQoMiwgKGRhdGEubnVtRm10SWR8fDApKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIDB4RkZGNCk7XG5cdH0gZWxzZSB7XG5cdFx0by53cml0ZV9zaGlmdCgyLCAoZGF0YS5udW1GbXRJZHx8MCkpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMiwgKGl4ZmVQPDw0KSk7XG5cdH1cblx0dmFyIGYgPSAwO1xuXHRpZihkYXRhLm51bUZtdElkID4gMCAmJiBiNSkgZiB8PSAweDA0MDA7XG5cdG8ud3JpdGVfc2hpZnQoNCwgZik7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdGlmKCFiNSkgby53cml0ZV9zaGlmdCg0LCAwKTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0cmV0dXJuIG87XG59XG5mdW5jdGlvbiBwYXJzZV9CSUZGMlhGKGJsb2IvKjo6LCBsZW5ndGgsIG9wdHMqLykge1xuXHR2YXIgbyA9IHt9O1xuXHRvLmlmbnQgPSBibG9iLnJlYWRfc2hpZnQoMSk7IGJsb2IubCsrOyBvLmZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRvLm51bUZtdElkID0gby5mbGFncyAmIDB4M0Y7IG8uZmxhZ3M+Pj02O1xuXHRvLmZTdHlsZSA9IDA7XG5cdG8uZGF0YSA9IHt9OyAvLyBUT0RPXG5cdHJldHVybiBvO1xufVxuZnVuY3Rpb24gd3JpdGVfQklGRjJYRih4Zikge1xuXHR2YXIgbyA9IG5ld19idWYoNCk7XG5cdG8ubCs9Mjtcblx0by53cml0ZV9zaGlmdCgxLCB4Zi5udW1GbXRJZCk7XG5cdG8ubCsrO1xuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHdyaXRlX0JJRkYzWEYoeGYpIHtcblx0dmFyIG8gPSBuZXdfYnVmKDEyKTtcblx0by5sKys7XG5cdG8ud3JpdGVfc2hpZnQoMSwgeGYubnVtRm10SWQpO1xuXHRvLmwgKz0gMTA7XG5cdHJldHVybiBvO1xufVxuLyogVE9ETzogY2hlY2sgb3RoZXIgZmllbGRzICovXG52YXIgd3JpdGVfQklGRjRYRiA9IHdyaXRlX0JJRkYzWEY7XG5mdW5jdGlvbiBwYXJzZV9CSUZGM1hGKGJsb2IvKjo6LCBsZW5ndGgsIG9wdHMqLykge1xuXHR2YXIgbyA9IHt9O1xuXHRvLmlmbnQgPSBibG9iLnJlYWRfc2hpZnQoMSk7IG8ubnVtRm10SWQgPSBibG9iLnJlYWRfc2hpZnQoMSk7IG8uZmxhZ3MgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdG8uZlN0eWxlID0gKG8uZmxhZ3MgPj4gMikgJiAweDAxO1xuXHRvLmRhdGEgPSB7fTsgLy8gVE9ET1xuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHBhcnNlX0JJRkY0WEYoYmxvYi8qOjosIGxlbmd0aCwgb3B0cyovKSB7XG5cdHZhciBvID0ge307XG5cdG8uaWZudCA9IGJsb2IucmVhZF9zaGlmdCgxKTsgby5udW1GbXRJZCA9IGJsb2IucmVhZF9zaGlmdCgxKTsgby5mbGFncyA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0by5mU3R5bGUgPSAoby5mbGFncyA+PiAyKSAmIDB4MDE7XG5cdG8uZGF0YSA9IHt9OyAvLyBUT0RPXG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuMTM0ICovXG5mdW5jdGlvbiBwYXJzZV9HdXRzKGJsb2IpIHtcblx0YmxvYi5sICs9IDQ7XG5cdHZhciBvdXQgPSBbYmxvYi5yZWFkX3NoaWZ0KDIpLCBibG9iLnJlYWRfc2hpZnQoMildO1xuXHRpZihvdXRbMF0gIT09IDApIG91dFswXS0tO1xuXHRpZihvdXRbMV0gIT09IDApIG91dFsxXS0tO1xuXHRpZihvdXRbMF0gPiA3IHx8IG91dFsxXSA+IDcpIHRocm93IG5ldyBFcnJvcihcIkJhZCBHdXR0ZXJzOiBcIiArIG91dC5qb2luKFwifFwiKSk7XG5cdHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiB3cml0ZV9HdXRzKGd1dHMvKjpBcnJheTxudW1iZXI+Ki8pIHtcblx0dmFyIG8gPSBuZXdfYnVmKDgpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRvLndyaXRlX3NoaWZ0KDIsIGd1dHNbMF0gPyBndXRzWzBdICsgMSA6IDApO1xuXHRvLndyaXRlX3NoaWZ0KDIsIGd1dHNbMV0gPyBndXRzWzFdICsgMSA6IDApO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU10gMi40LjI0ICovXG5mdW5jdGlvbiBwYXJzZV9Cb29sRXJyKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgY2VsbCA9IHBhcnNlX1hMU0NlbGwoYmxvYiwgNiwgb3B0cyk7XG5cdHZhciB2YWwgPSBwYXJzZV9CZXMoYmxvYiwgMik7XG5cdGNlbGwudmFsID0gdmFsO1xuXHRjZWxsLnQgPSAodmFsID09PSB0cnVlIHx8IHZhbCA9PT0gZmFsc2UpID8gJ2InIDogJ2UnO1xuXHRyZXR1cm4gY2VsbDtcbn1cbmZ1bmN0aW9uIHdyaXRlX0Jvb2xFcnIoUi8qOm51bWJlciovLCBDLyo6bnVtYmVyKi8sIHYsIG9zLyo6bnVtYmVyKi8sIG9wdHMsIHQvKjpzdHJpbmcqLykge1xuXHR2YXIgbyA9IG5ld19idWYoOCk7XG5cdHdyaXRlX1hMU0NlbGwoUiwgQywgb3MsIG8pO1xuXHR3cml0ZV9CZXModiwgdCwgbyk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuMTgwIE51bWJlciAqL1xuZnVuY3Rpb24gcGFyc2VfTnVtYmVyKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHRpZihvcHRzLmJpZmZndWVzcyAmJiBvcHRzLmJpZmYgPT0gMikgb3B0cy5iaWZmID0gNTtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNDZWxsKGJsb2IsIDYsIG9wdHMpO1xuXHR2YXIgeG51bSA9IHBhcnNlX1hudW0oYmxvYiwgOCk7XG5cdGNlbGwudmFsID0geG51bTtcblx0cmV0dXJuIGNlbGw7XG59XG5mdW5jdGlvbiB3cml0ZV9OdW1iZXIoUi8qOm51bWJlciovLCBDLyo6bnVtYmVyKi8sIHYsIG9zLyo6OiA6bnVtYmVyLCBvcHRzKi8pIHtcblx0dmFyIG8gPSBuZXdfYnVmKDE0KTtcblx0d3JpdGVfWExTQ2VsbChSLCBDLCBvcywgbyk7XG5cdHdyaXRlX1hudW0odiwgbyk7XG5cdHJldHVybiBvO1xufVxuXG52YXIgcGFyc2VfWExIZWFkZXJGb290ZXIgPSBwYXJzZV9PcHRYTFVuaWNvZGVTdHJpbmc7IC8vIFRPRE86IHBhcnNlIDIuNC4xMzZcblxuLyogW01TLVhMU10gMi40LjI3MSAqL1xuZnVuY3Rpb24gcGFyc2VfU3VwQm9vayhibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIGVuZCA9IGJsb2IubCArIGxlbmd0aDtcblx0dmFyIGN0YWIgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBjY2ggPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdG9wdHMuc2JjY2ggPSBjY2g7XG5cdGlmKGNjaCA9PSAweDA0MDEgfHwgY2NoID09IDB4M0EwMSkgcmV0dXJuIFtjY2gsIGN0YWJdO1xuXHRpZihjY2ggPCAweDAxIHx8IGNjaCA+MHhmZikgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBTdXBCb29rIHR5cGU6IFwiK2NjaCk7XG5cdHZhciB2aXJ0UGF0aCA9IHBhcnNlX1hMVW5pY29kZVN0cmluZ05vQ2NoKGJsb2IsIGNjaCk7XG5cdC8qIFRPRE86IDIuNS4yNzcgVmlydHVhbCBQYXRoICovXG5cdHZhciByZ3N0ID0gW107XG5cdHdoaWxlKGVuZCA+IGJsb2IubCkgcmdzdC5wdXNoKHBhcnNlX1hMVW5pY29kZVN0cmluZyhibG9iKSk7XG5cdHJldHVybiBbY2NoLCBjdGFiLCB2aXJ0UGF0aCwgcmdzdF07XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4xMDUgVE9ETyAqL1xuZnVuY3Rpb24gcGFyc2VfRXh0ZXJuTmFtZShibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIGZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgYm9keTtcblx0dmFyIG8gPSAoe1xuXHRcdGZCdWlsdEluOiBmbGFncyAmIDB4MDEsXG5cdFx0ZldhbnRBZHZpc2U6IChmbGFncyA+Pj4gMSkgJiAweDAxLFxuXHRcdGZXYW50UGljdDogKGZsYWdzID4+PiAyKSAmIDB4MDEsXG5cdFx0Zk9sZTogKGZsYWdzID4+PiAzKSAmIDB4MDEsXG5cdFx0Zk9sZUxpbms6IChmbGFncyA+Pj4gNCkgJiAweDAxLFxuXHRcdGNmOiAoZmxhZ3MgPj4+IDUpICYgMHgzRkYsXG5cdFx0Zkljb246IGZsYWdzID4+PiAxNSAmIDB4MDFcblx0fS8qOmFueSovKTtcblx0aWYob3B0cy5zYmNjaCA9PT0gMHgzQTAxKSBib2R5ID0gcGFyc2VfQWRkaW5VZGYoYmxvYiwgbGVuZ3RoLTIsIG9wdHMpO1xuXHQvL2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgU3VwQm9vayBjY2g6IFwiICsgb3B0cy5zYmNjaCk7XG5cdG8uYm9keSA9IGJvZHkgfHwgYmxvYi5yZWFkX3NoaWZ0KGxlbmd0aC0yKTtcblx0aWYodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIpIG8uTmFtZSA9IGJvZHk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuMTUwIFRPRE8gKi9cbmZ1bmN0aW9uIHBhcnNlX0xibChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHRhcmdldCA9IGJsb2IubCArIGxlbmd0aDtcblx0dmFyIGZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgY2hLZXkgPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdHZhciBjY2ggPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdHZhciBjY2UgPSBibG9iLnJlYWRfc2hpZnQob3B0cyAmJiBvcHRzLmJpZmYgPT0gMiA/IDEgOiAyKTtcblx0dmFyIGl0YWIgPSAwO1xuXHRpZighb3B0cyB8fCBvcHRzLmJpZmYgPj0gNSkge1xuXHRcdGlmKG9wdHMuYmlmZiAhPSA1KSBibG9iLmwgKz0gMjtcblx0XHRpdGFiID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRcdGlmKG9wdHMuYmlmZiA9PSA1KSBibG9iLmwgKz0gMjtcblx0XHRibG9iLmwgKz0gNDtcblx0fVxuXHR2YXIgbmFtZSA9IHBhcnNlX1hMVW5pY29kZVN0cmluZ05vQ2NoKGJsb2IsIGNjaCwgb3B0cyk7XG5cdGlmKGZsYWdzICYgMHgyMCkgbmFtZSA9IFhMU0xibEJ1aWx0SW5bbmFtZS5jaGFyQ29kZUF0KDApXTtcblx0dmFyIG5wZmxlbiA9IHRhcmdldCAtIGJsb2IubDsgaWYob3B0cyAmJiBvcHRzLmJpZmYgPT0gMikgLS1ucGZsZW47XG5cdC8qanNoaW50IC1XMDE4ICovXG5cdHZhciByZ2NlID0gKHRhcmdldCA9PSBibG9iLmwgfHwgY2NlID09PSAwIHx8ICEobnBmbGVuID4gMCkpID8gW10gOiBwYXJzZV9OYW1lUGFyc2VkRm9ybXVsYShibG9iLCBucGZsZW4sIG9wdHMsIGNjZSk7XG5cdC8qanNoaW50ICtXMDE4ICovXG5cdHJldHVybiB7XG5cdFx0Y2hLZXk6IGNoS2V5LFxuXHRcdE5hbWU6IG5hbWUsXG5cdFx0aXRhYjogaXRhYixcblx0XHRyZ2NlOiByZ2NlXG5cdH07XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4xMDYgVE9ETzogbGVnYWN5IHJlY29yZCBmaWxlbmFtZSBlbmNvZGluZyAqL1xuZnVuY3Rpb24gcGFyc2VfRXh0ZXJuU2hlZXQoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGlmKG9wdHMuYmlmZiA8IDgpIHJldHVybiBwYXJzZV9CSUZGNUV4dGVyblNoZWV0KGJsb2IsIGxlbmd0aCwgb3B0cyk7XG5cdC8qIHNlZSBpc3N1ZSAyOTA3ICovXG5cdGlmKCEob3B0cy5iaWZmID4gOCkgJiYgKGxlbmd0aCA9PSBibG9iW2Jsb2IubF0gKyAoYmxvYltibG9iLmwrMV0gPT0gMHgwMyA/IDEgOiAwKSArIDEpKSByZXR1cm4gcGFyc2VfQklGRjVFeHRlcm5TaGVldChibG9iLCBsZW5ndGgsIG9wdHMpO1xuXHR2YXIgbyA9IFtdLCB0YXJnZXQgPSBibG9iLmwgKyBsZW5ndGgsIGxlbiA9IGJsb2IucmVhZF9zaGlmdChvcHRzLmJpZmYgPiA4ID8gNCA6IDIpO1xuXHR3aGlsZShsZW4tLSAhPT0gMCkgby5wdXNoKHBhcnNlX1hUSShibG9iLCBvcHRzLmJpZmYgPiA4ID8gMTIgOiA2LCBvcHRzKSk7XG5cdFx0Ly8gW2lTdXBCb29rLCBpdGFiRmlyc3QsIGl0YWJMYXN0XTtcblx0aWYoYmxvYi5sICE9IHRhcmdldCkgdGhyb3cgbmV3IEVycm9yKFwiQmFkIEV4dGVyblNoZWV0OiBcIiArIGJsb2IubCArIFwiICE9IFwiICsgdGFyZ2V0KTtcblx0cmV0dXJuIG87XG59XG5mdW5jdGlvbiBwYXJzZV9CSUZGNUV4dGVyblNoZWV0KGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHRpZihibG9iW2Jsb2IubCArIDFdID09IDB4MDMpIGJsb2JbYmxvYi5sXSsrO1xuXHR2YXIgbyA9IHBhcnNlX1Nob3J0WExVbmljb2RlU3RyaW5nKGJsb2IsIGxlbmd0aCwgb3B0cyk7XG5cdHJldHVybiBvLmNoYXJDb2RlQXQoMCkgPT0gMHgwMyA/IG8uc2xpY2UoMSkgOiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuMTc2IFRPRE86IGNoZWNrIG9sZGVyIGJpZmYgKi9cbmZ1bmN0aW9uIHBhcnNlX05hbWVDbXQoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGlmKG9wdHMuYmlmZiA8IDgpIHsgYmxvYi5sICs9IGxlbmd0aDsgcmV0dXJuOyB9XG5cdHZhciBjY2hOYW1lID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgY2NoQ29tbWVudCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIG5hbWUgPSBwYXJzZV9YTFVuaWNvZGVTdHJpbmdOb0NjaChibG9iLCBjY2hOYW1lLCBvcHRzKTtcblx0dmFyIGNvbW1lbnQgPSBwYXJzZV9YTFVuaWNvZGVTdHJpbmdOb0NjaChibG9iLCBjY2hDb21tZW50LCBvcHRzKTtcblx0cmV0dXJuIFtuYW1lLCBjb21tZW50XTtcbn1cblxuLyogW01TLVhMU10gMi40LjI2MCAqL1xuZnVuY3Rpb24gcGFyc2VfU2hyRm1sYShibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHJlZiA9IHBhcnNlX1JlZlUoYmxvYiwgNik7XG5cdGJsb2IubCsrO1xuXHR2YXIgY1VzZSA9IGJsb2IucmVhZF9zaGlmdCgxKTtcblx0bGVuZ3RoIC09IDg7XG5cdHJldHVybiBbcGFyc2VfU2hhcmVkUGFyc2VkRm9ybXVsYShibG9iLCBsZW5ndGgsIG9wdHMpLCBjVXNlLCByZWZdO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuNCBUT0RPICovXG5mdW5jdGlvbiBwYXJzZV9BcnJheShibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHJlZiA9IHBhcnNlX1JlZihibG9iLCA2KTtcblx0LyogVE9ETzogZkFsd2F5c0NhbGMgKi9cblx0c3dpdGNoKG9wdHMuYmlmZikge1xuXHRcdGNhc2UgMjogYmxvYi5sICsrOyBsZW5ndGggLT0gNzsgYnJlYWs7XG5cdFx0Y2FzZSAzOiBjYXNlIDQ6IGJsb2IubCArPSAyOyBsZW5ndGggLT0gODsgYnJlYWs7XG5cdFx0ZGVmYXVsdDogYmxvYi5sICs9IDY7IGxlbmd0aCAtPSAxMjtcblx0fVxuXHRyZXR1cm4gW3JlZiwgcGFyc2VfQXJyYXlQYXJzZWRGb3JtdWxhKGJsb2IsIGxlbmd0aCwgb3B0cywgcmVmKV07XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4xNzMgKi9cbmZ1bmN0aW9uIHBhcnNlX01UUlNldHRpbmdzKGJsb2IpIHtcblx0dmFyIGZNVFJFbmFibGVkID0gYmxvYi5yZWFkX3NoaWZ0KDQpICE9PSAweDAwO1xuXHR2YXIgZlVzZXJTZXRUaHJlYWRDb3VudCA9IGJsb2IucmVhZF9zaGlmdCg0KSAhPT0gMHgwMDtcblx0dmFyIGNVc2VyVGhyZWFkQ291bnQgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHJldHVybiBbZk1UUkVuYWJsZWQsIGZVc2VyU2V0VGhyZWFkQ291bnQsIGNVc2VyVGhyZWFkQ291bnRdO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTg2ICovXG5mdW5jdGlvbiBwYXJzZV9Ob3RlU2goYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciByb3cgPSBibG9iLnJlYWRfc2hpZnQoMiksIGNvbCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDIpLCBpZE9iaiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIHN0QXV0aG9yID0gcGFyc2VfWExVbmljb2RlU3RyaW5nMihibG9iLCAwLCBvcHRzKTtcblx0cmV0dXJuIFt7cjpyb3csYzpjb2x9LCBzdEF1dGhvciwgaWRPYmosIGZsYWdzXTtcbn1cblxuLyogW01TLVhMU10gMi40LjE3OSAqL1xuZnVuY3Rpb24gcGFyc2VfTm90ZShibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0aWYob3B0cyAmJiAob3B0cy5iaWZmIDwgOCkpIHtcblx0XHR2YXIgcm93ID0gYmxvYi5yZWFkX3NoaWZ0KDIpLCBjb2wgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0aWYocm93ID09IDB4RkZGRiB8fCByb3cgPT0gLTEpIHJldHVybjsgLy8gVE9ETzogdGVzdCBjb250aW51YXRpb25cblx0XHR2YXIgY2NoID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRcdHZhciBjbW50ID0gYmxvYi5yZWFkX3NoaWZ0KE1hdGgubWluKGNjaCwyMDQ4KSwgJ2Nwc3RyJyk7XG5cdFx0cmV0dXJuIFt7cjpyb3csIGM6Y29sfSwgY21udF07XG5cdH1cblx0LyogVE9ETzogU3VwcG9ydCByZXZpc2lvbnMgKi9cblx0cmV0dXJuIHBhcnNlX05vdGVTaChibG9iLCBsZW5ndGgsIG9wdHMpO1xufVxuZnVuY3Rpb24gd3JpdGVfTk9URV9CSUZGMih0ZXh0Lyo6c3RyaW5nKi8sIFIvKjpudW1iZXIqLywgQy8qOm51bWJlciovLCBsZW4vKj86bnVtYmVyKi8pIHtcblx0dmFyIG8gPSBuZXdfYnVmKDYgKyAobGVuIHx8IHRleHQubGVuZ3RoKSk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgUik7XG5cdG8ud3JpdGVfc2hpZnQoMiwgQyk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgbGVuIHx8IHRleHQubGVuZ3RoKTtcblx0by53cml0ZV9zaGlmdCh0ZXh0Lmxlbmd0aCwgdGV4dCwgXCJzYmNzXCIpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU10gMi40LjE2OCAqL1xuZnVuY3Rpb24gcGFyc2VfTWVyZ2VDZWxscyhibG9iLCBsZW5ndGgpLyo6QXJyYXk8UmFuZ2U+Ki8ge1xuXHR2YXIgbWVyZ2VzLyo6QXJyYXk8UmFuZ2U+Ki8gPSBbXTtcblx0dmFyIGNtY3MgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHdoaWxlIChjbWNzLS0pIG1lcmdlcy5wdXNoKHBhcnNlX1JlZjhVKGJsb2IsbGVuZ3RoKSk7XG5cdHJldHVybiBtZXJnZXM7XG59XG5mdW5jdGlvbiB3cml0ZV9NZXJnZUNlbGxzKG1lcmdlcy8qOkFycmF5PFJhbmdlPiovKSB7XG5cdHZhciBvID0gbmV3X2J1ZigyICsgbWVyZ2VzLmxlbmd0aCAqIDgpO1xuXHRvLndyaXRlX3NoaWZ0KDIsIG1lcmdlcy5sZW5ndGgpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgbWVyZ2VzLmxlbmd0aDsgKytpKSB3cml0ZV9SZWY4VShtZXJnZXNbaV0sIG8pO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU10gMi40LjE4MSBUT0RPOiBwYXJzZSBhbGwgdGhlIHRoaW5ncyEgKi9cbmZ1bmN0aW9uIHBhcnNlX09iaihibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0aWYob3B0cyAmJiBvcHRzLmJpZmYgPCA4KSByZXR1cm4gcGFyc2VfQklGRjVPYmooYmxvYiwgbGVuZ3RoLCBvcHRzKTtcblx0dmFyIGNtbyA9IHBhcnNlX0Z0Q21vKGJsb2IsIDIyKTsgLy8gaWQsIG90LCBmbGFnc1xuXHR2YXIgZnRzID0gcGFyc2VfRnRBcnJheShibG9iLCBsZW5ndGgtMjIsIGNtb1sxXSk7XG5cdHJldHVybiB7IGNtbzogY21vLCBmdDpmdHMgfTtcbn1cbi8qIGZyb20gb2xkZXIgc3BlYyAqL1xudmFyIHBhcnNlX0JJRkY1T1QgPSB7XG4weDA4OiBmdW5jdGlvbihibG9iLCBsZW5ndGgpIHtcblx0dmFyIHRndCA9IGJsb2IubCArIGxlbmd0aDtcblx0YmxvYi5sICs9IDEwOyAvLyB0b2RvXG5cdHZhciBjZiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0YmxvYi5sICs9IDQ7XG5cdGJsb2IubCArPSAyOyAvL3ZhciBjYlBpY3RGbWxhID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gMjtcblx0YmxvYi5sICs9IDI7IC8vdmFyIGdyYml0ID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gNDtcblx0dmFyIGNjaE5hbWUgPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdGJsb2IubCArPSBjY2hOYW1lOyAvLyBUT0RPOiBzdE5hbWVcblx0YmxvYi5sID0gdGd0OyAvLyBUT0RPOiBmbWxhXG5cdHJldHVybiB7IGZtdDpjZiB9O1xufVxufTtcblxuZnVuY3Rpb24gcGFyc2VfQklGRjVPYmooYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGJsb2IubCArPSA0OyAvL3ZhciBjbnQgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHZhciBvdCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGlkID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgZ3JiaXQgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGJsb2IubCArPSAyOyAvL3ZhciBjb2xMID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gMjsgLy92YXIgZHhMID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gMjsgLy92YXIgcndUID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gMjsgLy92YXIgZHlUID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gMjsgLy92YXIgY29sUiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0YmxvYi5sICs9IDI7IC8vdmFyIGR4UiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0YmxvYi5sICs9IDI7IC8vdmFyIHJ3QiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0YmxvYi5sICs9IDI7IC8vdmFyIGR5QiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0YmxvYi5sICs9IDI7IC8vdmFyIGNiTWFjcm8gPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGJsb2IubCArPSA2O1xuXHRsZW5ndGggLT0gMzY7XG5cdHZhciBmdHMgPSBbXTtcblx0ZnRzLnB1c2goKHBhcnNlX0JJRkY1T1Rbb3RdfHxwYXJzZW5vb3ApKGJsb2IsIGxlbmd0aCwgb3B0cykpO1xuXHRyZXR1cm4geyBjbW86IFtpZCwgb3QsIGdyYml0XSwgZnQ6ZnRzIH07XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4zMjkgVE9ETzogcGFyc2UgcHJvcGVybHkgKi9cbmZ1bmN0aW9uIHBhcnNlX1R4TyhibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHMgPSBibG9iLmw7XG5cdHZhciB0ZXh0cyA9IFwiXCI7XG50cnkge1xuXHRibG9iLmwgKz0gNDtcblx0dmFyIG90ID0gKG9wdHMubGFzdG9ianx8e2NtbzpbMCwwXX0pLmNtb1sxXTtcblx0dmFyIGNvbnRyb2xJbmZvOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdGlmKFswLDUsNywxMSwxMiwxNF0uaW5kZXhPZihvdCkgPT0gLTEpIGJsb2IubCArPSA2O1xuXHRlbHNlIGNvbnRyb2xJbmZvID0gcGFyc2VfQ29udHJvbEluZm8oYmxvYiwgNiwgb3B0cyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0dmFyIGNjaFRleHQgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdC8qdmFyIGNiUnVucyA9ICovYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHQvKnZhciBpZm50RW1wdHkgPSAqL3BhcnNldWludDE2KGJsb2IsIDIpO1xuXHR2YXIgbGVuID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gbGVuO1xuXHQvL3ZhciBmbWxhID0gcGFyc2VfT2JqRm1sYShibG9iLCBzICsgbGVuZ3RoIC0gYmxvYi5sKTtcblxuXHRmb3IodmFyIGkgPSAxOyBpIDwgYmxvYi5sZW5zLmxlbmd0aC0xOyArK2kpIHtcblx0XHRpZihibG9iLmwtcyAhPSBibG9iLmxlbnNbaV0pIHRocm93IG5ldyBFcnJvcihcIlR4TzogYmFkIGNvbnRpbnVlIHJlY29yZFwiKTtcblx0XHR2YXIgaGRyID0gYmxvYltibG9iLmxdO1xuXHRcdHZhciB0ID0gcGFyc2VfWExVbmljb2RlU3RyaW5nTm9DY2goYmxvYiwgYmxvYi5sZW5zW2krMV0tYmxvYi5sZW5zW2ldLTEpO1xuXHRcdHRleHRzICs9IHQ7XG5cdFx0aWYodGV4dHMubGVuZ3RoID49IChoZHIgPyBjY2hUZXh0IDogMipjY2hUZXh0KSkgYnJlYWs7XG5cdH1cblx0aWYodGV4dHMubGVuZ3RoICE9PSBjY2hUZXh0ICYmIHRleHRzLmxlbmd0aCAhPT0gY2NoVGV4dCoyKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiY2NoVGV4dDogXCIgKyBjY2hUZXh0ICsgXCIgIT0gXCIgKyB0ZXh0cy5sZW5ndGgpO1xuXHR9XG5cblx0YmxvYi5sID0gcyArIGxlbmd0aDtcblx0LyogW01TLVhMU10gMi41LjI3MiBUeE9SdW5zICovXG4vL1x0dmFyIHJnVHhvUnVucyA9IFtdO1xuLy9cdGZvcih2YXIgaiA9IDA7IGogIT0gY2JSdW5zLzgtMTsgKytqKSBibG9iLmwgKz0gODtcbi8vXHR2YXIgY2NoVGV4dDIgPSBibG9iLnJlYWRfc2hpZnQoMik7XG4vL1x0aWYoY2NoVGV4dDIgIT09IGNjaFRleHQpIHRocm93IG5ldyBFcnJvcihcIlR4T0xhc3RSdW4gbWlzbWF0Y2g6IFwiICsgY2NoVGV4dDIgKyBcIiBcIiArIGNjaFRleHQpO1xuLy9cdGJsb2IubCArPSA2O1xuLy9cdGlmKHMgKyBsZW5ndGggIT0gYmxvYi5sKSB0aHJvdyBuZXcgRXJyb3IoXCJUeE8gXCIgKyAocyArIGxlbmd0aCkgKyBcIiwgYXQgXCIgKyBibG9iLmwpO1xuXHRyZXR1cm4geyB0OiB0ZXh0cyB9O1xufSBjYXRjaChlKSB7IGJsb2IubCA9IHMgKyBsZW5ndGg7IHJldHVybiB7IHQ6IHRleHRzIH07IH1cbn1cblxuLyogW01TLVhMU10gMi40LjE0MCAqL1xuZnVuY3Rpb24gcGFyc2VfSExpbmsoYmxvYiwgbGVuZ3RoKSB7XG5cdHZhciByZWYgPSBwYXJzZV9SZWY4VShibG9iLCA4KTtcblx0YmxvYi5sICs9IDE2OyAvKiBDTFNJRCAqL1xuXHR2YXIgaGxpbmsgPSBwYXJzZV9IeXBlcmxpbmsoYmxvYiwgbGVuZ3RoLTI0KTtcblx0cmV0dXJuIFtyZWYsIGhsaW5rXTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0hMaW5rKGhsKSB7XG5cdHZhciBPID0gbmV3X2J1ZigyNCk7XG5cdHZhciByZWYgPSBkZWNvZGVfY2VsbChobFswXSk7XG5cdE8ud3JpdGVfc2hpZnQoMiwgcmVmLnIpOyBPLndyaXRlX3NoaWZ0KDIsIHJlZi5yKTtcblx0Ty53cml0ZV9zaGlmdCgyLCByZWYuYyk7IE8ud3JpdGVfc2hpZnQoMiwgcmVmLmMpO1xuXHR2YXIgY2xzaWQgPSBcImQwIGM5IGVhIDc5IGY5IGJhIGNlIDExIDhjIDgyIDAwIGFhIDAwIDRiIGE5IDBiXCIuc3BsaXQoXCIgXCIpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkgTy53cml0ZV9zaGlmdCgxLCBwYXJzZUludChjbHNpZFtpXSwgMTYpKTtcblx0cmV0dXJuIGJjb25jYXQoW08sIHdyaXRlX0h5cGVybGluayhobFsxXSldKTtcbn1cblxuXG4vKiBbTVMtWExTXSAyLjQuMTQxICovXG5mdW5jdGlvbiBwYXJzZV9ITGlua1Rvb2x0aXAoYmxvYiwgbGVuZ3RoKSB7XG5cdGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIHJlZiA9IHBhcnNlX1JlZjhVKGJsb2IsIDgpO1xuXHR2YXIgd3pUb29sdGlwID0gYmxvYi5yZWFkX3NoaWZ0KChsZW5ndGgtMTApLzIsICdkYmNzLWNvbnQnKTtcblx0d3pUb29sdGlwID0gd3pUb29sdGlwLnJlcGxhY2UoY2hyMCxcIlwiKTtcblx0cmV0dXJuIFtyZWYsIHd6VG9vbHRpcF07XG59XG5mdW5jdGlvbiB3cml0ZV9ITGlua1Rvb2x0aXAoaGwpIHtcblx0dmFyIFRUID0gaGxbMV0uVG9vbHRpcDtcblx0dmFyIE8gPSBuZXdfYnVmKDEwICsgMiAqIChUVC5sZW5ndGggKyAxKSk7XG5cdE8ud3JpdGVfc2hpZnQoMiwgMHgwODAwKTtcblx0dmFyIHJlZiA9IGRlY29kZV9jZWxsKGhsWzBdKTtcblx0Ty53cml0ZV9zaGlmdCgyLCByZWYucik7IE8ud3JpdGVfc2hpZnQoMiwgcmVmLnIpO1xuXHRPLndyaXRlX3NoaWZ0KDIsIHJlZi5jKTsgTy53cml0ZV9zaGlmdCgyLCByZWYuYyk7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBUVC5sZW5ndGg7ICsraSkgTy53cml0ZV9zaGlmdCgyLCBUVC5jaGFyQ29kZUF0KGkpKTtcblx0Ty53cml0ZV9zaGlmdCgyLCAwKTtcblx0cmV0dXJuIE87XG59XG5cbi8qIFtNUy1YTFNdIDIuNC42MyAqL1xuZnVuY3Rpb24gcGFyc2VfQ291bnRyeShibG9iKS8qOltzdHJpbmd8bnVtYmVyLCBzdHJpbmd8bnVtYmVyXSovIHtcblx0dmFyIG8gPSBbMCwwXSwgZDtcblx0ZCA9IGJsb2IucmVhZF9zaGlmdCgyKTsgb1swXSA9IENvdW50cnlFbnVtW2RdIHx8IGQ7XG5cdGQgPSBibG9iLnJlYWRfc2hpZnQoMik7IG9bMV0gPSBDb3VudHJ5RW51bVtkXSB8fCBkO1xuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHdyaXRlX0NvdW50cnkobykge1xuXHRpZighbykgbyA9IG5ld19idWYoNCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMHgwMSk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMHgwMSk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuNTAgQ2xydENsaWVudCAqL1xuZnVuY3Rpb24gcGFyc2VfQ2xydENsaWVudChibG9iKSB7XG5cdHZhciBjY3YgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBvID0gW107XG5cdHdoaWxlKGNjdi0tPjApIG8ucHVzaChwYXJzZV9Mb25nUkdCKGJsb2IsIDgpKTtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4xODggKi9cbmZ1bmN0aW9uIHBhcnNlX1BhbGV0dGUoYmxvYikge1xuXHR2YXIgY2N2ID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgbyA9IFtdO1xuXHR3aGlsZShjY3YtLT4wKSBvLnB1c2gocGFyc2VfTG9uZ1JHQihibG9iLCA4KSk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjQuMzU0ICovXG5mdW5jdGlvbiBwYXJzZV9YRkNSQyhibG9iKSB7XG5cdGJsb2IubCArPSAyO1xuXHR2YXIgbyA9IHtjeGZzOjAsIGNyYzowfTtcblx0by5jeGZzID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRvLmNyYyA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNdIDIuNC41MyBUT0RPOiBwYXJzZSBmbGFncyAqL1xuLyogW01TLVhMU0JdIDIuNC4zMjMgVE9ETzogcGFyc2UgZmxhZ3MgKi9cbmZ1bmN0aW9uIHBhcnNlX0NvbEluZm8oYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGlmKCFvcHRzLmNlbGxTdHlsZXMpIHJldHVybiBwYXJzZW5vb3AoYmxvYiwgbGVuZ3RoKTtcblx0dmFyIHcgPSBvcHRzICYmIG9wdHMuYmlmZiA+PSAxMiA/IDQgOiAyO1xuXHR2YXIgY29sRmlyc3QgPSBibG9iLnJlYWRfc2hpZnQodyk7XG5cdHZhciBjb2xMYXN0ID0gYmxvYi5yZWFkX3NoaWZ0KHcpO1xuXHR2YXIgY29sZHggPSBibG9iLnJlYWRfc2hpZnQodyk7XG5cdHZhciBpeGZlID0gYmxvYi5yZWFkX3NoaWZ0KHcpO1xuXHR2YXIgZmxhZ3MgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGlmKHcgPT0gMikgYmxvYi5sICs9IDI7XG5cdHZhciBvID0gKHtzOmNvbEZpcnN0LCBlOmNvbExhc3QsIHc6Y29sZHgsIGl4ZmU6aXhmZSwgZmxhZ3M6ZmxhZ3N9Lyo6YW55Ki8pO1xuXHRpZihvcHRzLmJpZmYgPj0gNSB8fCAhb3B0cy5iaWZmKSBvLmxldmVsID0gKGZsYWdzID4+IDgpICYgMHg3O1xuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHdyaXRlX0NvbEluZm8oY29sLCBpZHgpIHtcblx0dmFyIG8gPSBuZXdfYnVmKDEyKTtcblx0by53cml0ZV9zaGlmdCgyLCBpZHgpO1xuXHRvLndyaXRlX3NoaWZ0KDIsIGlkeCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgY29sLndpZHRoICogMjU2KTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0dmFyIGYgPSAwO1xuXHRpZihjb2wuaGlkZGVuKSBmIHw9IDE7XG5cdG8ud3JpdGVfc2hpZnQoMSwgZik7XG5cdGYgPSBjb2wubGV2ZWwgfHwgMDtcblx0by53cml0ZV9zaGlmdCgxLCBmKTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4yNTcgKi9cbmZ1bmN0aW9uIHBhcnNlX1NldHVwKGJsb2IsIGxlbmd0aCkge1xuXHR2YXIgbyA9IHt9O1xuXHRpZihsZW5ndGggPCAzMikgcmV0dXJuIG87XG5cdGJsb2IubCArPSAxNjtcblx0by5oZWFkZXIgPSBwYXJzZV9YbnVtKGJsb2IsIDgpO1xuXHRvLmZvb3RlciA9IHBhcnNlX1hudW0oYmxvYiwgOCk7XG5cdGJsb2IubCArPSAyO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU10gMi40LjI2MSAqL1xuZnVuY3Rpb24gcGFyc2VfU2h0UHJvcHMoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBkZWYgPSB7YXJlYTpmYWxzZX07XG5cdGlmKG9wdHMuYmlmZiAhPSA1KSB7IGJsb2IubCArPSBsZW5ndGg7IHJldHVybiBkZWY7IH1cblx0dmFyIGQgPSBibG9iLnJlYWRfc2hpZnQoMSk7IGJsb2IubCArPSAzO1xuXHRpZigoZCAmIDB4MTApKSBkZWYuYXJlYSA9IHRydWU7XG5cdHJldHVybiBkZWY7XG59XG5cbi8qIFtNUy1YTFNdIDIuNC4yNDEgKi9cbmZ1bmN0aW9uIHdyaXRlX1JSVGFiSWQobi8qOm51bWJlciovKSB7XG5cdHZhciBvdXQgPSBuZXdfYnVmKDIgKiBuKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IG47ICsraSkgb3V0LndyaXRlX3NoaWZ0KDIsIGkrMSk7XG5cdHJldHVybiBvdXQ7XG59XG5cbnZhciBwYXJzZV9CbGFuayA9IHBhcnNlX1hMU0NlbGw7IC8qIFtNUy1YTFNdIDIuNC4yMCBKdXN0IHRoZSBjZWxsICovXG52YXIgcGFyc2VfU2NsID0gcGFyc2V1aW50MTZhOyAvKiBbTVMtWExTXSAyLjQuMjQ3IG51bSwgZGVuICovXG52YXIgcGFyc2VfU3RyaW5nID0gcGFyc2VfWExVbmljb2RlU3RyaW5nOyAvKiBbTVMtWExTXSAyLjQuMjY4ICovXG5cbi8qIC0tLSBTcGVjaWZpYyB0byB2ZXJzaW9ucyBiZWZvcmUgQklGRjggLS0tICovXG5mdW5jdGlvbiBwYXJzZV9JbURhdGEoYmxvYikge1xuXHR2YXIgY2YgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBlbnYgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBsY2IgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHZhciBvID0ge2ZtdDpjZiwgZW52OmVudiwgbGVuOmxjYiwgZGF0YTpibG9iLnNsaWNlKGJsb2IubCxibG9iLmwrbGNiKX07XG5cdGJsb2IubCArPSBsY2I7XG5cdHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiB3cml0ZV9CSUZGMkNlbGwob3V0LCByLyo6bnVtYmVyKi8sIGMvKjpudW1iZXIqLywgaXhmZS8qOm51bWJlciovLCBpZm10Lyo6bnVtYmVyKi8pIHtcblx0aWYoIW91dCkgb3V0ID0gbmV3X2J1Zig3KTtcblx0b3V0LndyaXRlX3NoaWZ0KDIsIHIpO1xuXHRvdXQud3JpdGVfc2hpZnQoMiwgYyk7XG5cdG91dC53cml0ZV9zaGlmdCgxLCBpeGZlfHwwLyogJiAweDNGICovKTtcblx0b3V0LndyaXRlX3NoaWZ0KDEsIGlmbXR8fDAvKiAmIDB4M0YgKi8pO1xuXHRvdXQud3JpdGVfc2hpZnQoMSwgMCk7XG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIEJJRkYyXz8/PyB3aGVyZSA/Pz8gaXMgdGhlIG5hbWUgZnJvbSBbWExTXSAqL1xuZnVuY3Rpb24gcGFyc2VfQklGRjJTVFIoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGlmKG9wdHMuYmlmZmd1ZXNzICYmIG9wdHMuYmlmZiA9PSA1KSBvcHRzLmJpZmYgPSAyO1xuXHR2YXIgY2VsbCA9IHBhcnNlX1hMU0NlbGwoYmxvYiwgNywgb3B0cyk7XG5cdHZhciBzdHIgPSBwYXJzZV9YTFVuaWNvZGVTdHJpbmcyKGJsb2IsIGxlbmd0aC03LCBvcHRzKTtcblx0Y2VsbC50ID0gJ3N0cic7XG5cdGNlbGwudmFsID0gc3RyO1xuXHRyZXR1cm4gY2VsbDtcbn1cblxuZnVuY3Rpb24gcGFyc2VfQklGRjJOVU0oYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBjZWxsID0gcGFyc2VfWExTQ2VsbChibG9iLCA3LCBvcHRzKTtcblx0dmFyIG51bSA9IHBhcnNlX1hudW0oYmxvYiwgOCk7XG5cdGNlbGwudCA9ICduJztcblx0Y2VsbC52YWwgPSBudW07XG5cdHJldHVybiBjZWxsO1xufVxuZnVuY3Rpb24gd3JpdGVfQklGRjJOVU0oci8qOm51bWJlciovLCBjLyo6bnVtYmVyKi8sIHZhbC8qOm51bWJlciovLCBpeGZlLCBpZm10KSB7XG5cdHZhciBvdXQgPSBuZXdfYnVmKDE1KTtcblx0d3JpdGVfQklGRjJDZWxsKG91dCwgciwgYywgaXhmZXx8MCwgaWZtdHx8MCk7XG5cdG91dC53cml0ZV9zaGlmdCg4LCB2YWwsICdmJyk7XG5cdHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX0JJRkYySU5UKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgY2VsbCA9IHBhcnNlX1hMU0NlbGwoYmxvYiwgNywgb3B0cyk7XG5cdHZhciBudW0gPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdGNlbGwudCA9ICduJztcblx0Y2VsbC52YWwgPSBudW07XG5cdHJldHVybiBjZWxsO1xufVxuZnVuY3Rpb24gd3JpdGVfQklGRjJJTlQoci8qOm51bWJlciovLCBjLyo6bnVtYmVyKi8sIHZhbC8qOm51bWJlciovLCBpeGZlLyo6bnVtYmVyKi8sIGlmbXQvKjpudW1iZXIqLykge1xuXHR2YXIgb3V0ID0gbmV3X2J1Zig5KTtcblx0d3JpdGVfQklGRjJDZWxsKG91dCwgciwgYywgaXhmZXx8MCwgaWZtdHx8MCk7XG5cdG91dC53cml0ZV9zaGlmdCgyLCB2YWwpO1xuXHRyZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBwYXJzZV9CSUZGMlNUUklORyhibG9iKSB7XG5cdHZhciBjY2ggPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdGlmKGNjaCA9PT0gMCkgeyBibG9iLmwrKzsgcmV0dXJuIFwiXCI7IH1cblx0cmV0dXJuIGJsb2IucmVhZF9zaGlmdChjY2gsICdzYmNzLWNvbnQnKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VfQklGRjJCT09MRVJSKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgYmVzdGFydCA9IGJsb2IubCArIDc7XG5cdHZhciBjZWxsID0gcGFyc2VfWExTQ2VsbChibG9iLCA2LCBvcHRzKTtcblx0YmxvYi5sID0gYmVzdGFydDtcblx0dmFyIHZhbCA9IHBhcnNlX0JlcyhibG9iLCAyKTtcblx0Y2VsbC52YWwgPSB2YWw7XG5cdGNlbGwudCA9ICh2YWwgPT09IHRydWUgfHwgdmFsID09PSBmYWxzZSkgPyAnYicgOiAnZSc7XG5cdHJldHVybiBjZWxsO1xufVxuXG4vKiBUT0RPOiBjb252ZXJ0IHRvIEJJRkY4IGZvbnQgc3RydWN0ICovXG5mdW5jdGlvbiBwYXJzZV9CSUZGMkZPTlRYVFJBKGJsb2IsIGxlbmd0aCkge1xuXHRibG9iLmwgKz0gNjsgLy8gdW5rbm93blxuXHRibG9iLmwgKz0gMjsgLy8gZm9udCB3ZWlnaHQgXCJibHNcIlxuXHRibG9iLmwgKz0gMTsgLy8gY2hhcnNldFxuXHRibG9iLmwgKz0gMzsgLy8gdW5rbm93blxuXHRibG9iLmwgKz0gMTsgLy8gZm9udCBmYW1pbHlcblx0YmxvYi5sICs9IGxlbmd0aCAtIDEzO1xufVxuXG4vKiBUT0RPOiBwYXJzZSByaWNoIHRleHQgcnVucyAqL1xuZnVuY3Rpb24gcGFyc2VfUlN0cmluZyhibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIGVuZCA9IGJsb2IubCArIGxlbmd0aDtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNDZWxsKGJsb2IsIDYsIG9wdHMpO1xuXHR2YXIgY2NoID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgc3RyID0gcGFyc2VfWExVbmljb2RlU3RyaW5nTm9DY2goYmxvYiwgY2NoLCBvcHRzKTtcblx0YmxvYi5sID0gZW5kO1xuXHRjZWxsLnQgPSAnc3RyJztcblx0Y2VsbC52YWwgPSBzdHI7XG5cdHJldHVybiBjZWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZV9CSUZGNFNoZWV0SW5mbyhibG9iLyo6OiwgbGVuZ3RoLCBvcHRzKi8pIHtcblx0dmFyIGZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHR2YXIgY2NoID0gYmxvYi5yZWFkX3NoaWZ0KDEpLCBuYW1lID0gYmxvYi5yZWFkX3NoaWZ0KGNjaCwgXCJzYmNzXCIpO1xuXHRpZihuYW1lLmxlbmd0aCA9PT0gMCkgbmFtZSA9IFwiU2hlZXQxXCI7XG5cdHJldHVybiB7IGZsYWdzOiBmbGFncywgbmFtZTpuYW1lIH07XG59dmFyIERCRl9TVVBQT1JURURfVkVSU0lPTlMgPSBbMHgwMiwgMHgwMywgMHgzMCwgMHgzMSwgMHg4MywgMHg4QiwgMHg4QywgMHhGNV07XG52YXIgREJGID0gLyojX19QVVJFX18qLyhmdW5jdGlvbigpIHtcbnZhciBkYmZfY29kZXBhZ2VfbWFwID0ge1xuXHQvKiBDb2RlIFBhZ2VzIFN1cHBvcnRlZCBieSBWaXN1YWwgRm94UHJvICovXG5cdDB4MDE6ICAgNDM3LCAgICAgICAgICAgMHgwMjogICA4NTAsXG5cdDB4MDM6ICAxMjUyLCAgICAgICAgICAgMHgwNDogMTAwMDAsXG5cdDB4NjQ6ICAgODUyLCAgICAgICAgICAgMHg2NTogICA4NjYsXG5cdDB4NjY6ICAgODY1LCAgICAgICAgICAgMHg2NzogICA4NjEsXG5cdDB4Njg6ICAgODk1LCAgICAgICAgICAgMHg2OTogICA2MjAsXG5cdDB4NkE6ICAgNzM3LCAgICAgICAgICAgMHg2QjogICA4NTcsXG5cdDB4Nzg6ICAgOTUwLCAgICAgICAgICAgMHg3OTogICA5NDksXG5cdDB4N0E6ICAgOTM2LCAgICAgICAgICAgMHg3QjogICA5MzIsXG5cdDB4N0M6ICAgODc0LCAgICAgICAgICAgMHg3RDogIDEyNTUsXG5cdDB4N0U6ICAxMjU2LCAgICAgICAgICAgMHg5NjogMTAwMDcsXG5cdDB4OTc6IDEwMDI5LCAgICAgICAgICAgMHg5ODogMTAwMDYsXG5cdDB4Qzg6ICAxMjUwLCAgICAgICAgICAgMHhDOTogIDEyNTEsXG5cdDB4Q0E6ICAxMjU0LCAgICAgICAgICAgMHhDQjogIDEyNTMsXG5cblx0Lyogc2hhcGVmaWxlIERCRiBleHRlbnNpb24gKi9cblx0MHgwMDogMjAxMjcsICAgICAgICAgICAweDA4OiAgIDg2NSxcblx0MHgwOTogICA0MzcsICAgICAgICAgICAweDBBOiAgIDg1MCxcblx0MHgwQjogICA0MzcsICAgICAgICAgICAweDBEOiAgIDQzNyxcblx0MHgwRTogICA4NTAsICAgICAgICAgICAweDBGOiAgIDQzNyxcblx0MHgxMDogICA4NTAsICAgICAgICAgICAweDExOiAgIDQzNyxcblx0MHgxMjogICA4NTAsICAgICAgICAgICAweDEzOiAgIDkzMixcblx0MHgxNDogICA4NTAsICAgICAgICAgICAweDE1OiAgIDQzNyxcblx0MHgxNjogICA4NTAsICAgICAgICAgICAweDE3OiAgIDg2NSxcblx0MHgxODogICA0MzcsICAgICAgICAgICAweDE5OiAgIDQzNyxcblx0MHgxQTogICA4NTAsICAgICAgICAgICAweDFCOiAgIDQzNyxcblx0MHgxQzogICA4NjMsICAgICAgICAgICAweDFEOiAgIDg1MCxcblx0MHgxRjogICA4NTIsICAgICAgICAgICAweDIyOiAgIDg1Mixcblx0MHgyMzogICA4NTIsICAgICAgICAgICAweDI0OiAgIDg2MCxcblx0MHgyNTogICA4NTAsICAgICAgICAgICAweDI2OiAgIDg2Nixcblx0MHgzNzogICA4NTAsICAgICAgICAgICAweDQwOiAgIDg1Mixcblx0MHg0RDogICA5MzYsICAgICAgICAgICAweDRFOiAgIDk0OSxcblx0MHg0RjogICA5NTAsICAgICAgICAgICAweDUwOiAgIDg3NCxcblx0MHg1NzogIDEyNTIsICAgICAgICAgICAweDU4OiAgMTI1Mixcblx0MHg1OTogIDEyNTIsICAgICAgICAgICAweDZDOiAgIDg2Myxcblx0MHg4NjogICA3MzcsICAgICAgICAgICAweDg3OiAgIDg1Mixcblx0MHg4ODogICA4NTcsICAgICAgICAgICAweENDOiAgMTI1NyxcblxuXHQweEZGOiAxNjk2OVxufTtcbnZhciBkYmZfcmV2ZXJzZV9tYXAgPSBldmVydCh7XG5cdDB4MDE6ICAgNDM3LCAgICAgICAgICAgMHgwMjogICA4NTAsXG5cdDB4MDM6ICAxMjUyLCAgICAgICAgICAgMHgwNDogMTAwMDAsXG5cdDB4NjQ6ICAgODUyLCAgICAgICAgICAgMHg2NTogICA4NjYsXG5cdDB4NjY6ICAgODY1LCAgICAgICAgICAgMHg2NzogICA4NjEsXG5cdDB4Njg6ICAgODk1LCAgICAgICAgICAgMHg2OTogICA2MjAsXG5cdDB4NkE6ICAgNzM3LCAgICAgICAgICAgMHg2QjogICA4NTcsXG5cdDB4Nzg6ICAgOTUwLCAgICAgICAgICAgMHg3OTogICA5NDksXG5cdDB4N0E6ICAgOTM2LCAgICAgICAgICAgMHg3QjogICA5MzIsXG5cdDB4N0M6ICAgODc0LCAgICAgICAgICAgMHg3RDogIDEyNTUsXG5cdDB4N0U6ICAxMjU2LCAgICAgICAgICAgMHg5NjogMTAwMDcsXG5cdDB4OTc6IDEwMDI5LCAgICAgICAgICAgMHg5ODogMTAwMDYsXG5cdDB4Qzg6ICAxMjUwLCAgICAgICAgICAgMHhDOTogIDEyNTEsXG5cdDB4Q0E6ICAxMjU0LCAgICAgICAgICAgMHhDQjogIDEyNTMsXG5cdDB4MDA6IDIwMTI3XG59KTtcbi8qIFRPRE86IGZpbmQgYW4gYWN0dWFsIHNwZWNpZmljYXRpb24gKi9cbmZ1bmN0aW9uIGRiZl90b19hb2EoYnVmLCBvcHRzKS8qOkFPQSovIHtcblx0dmFyIG91dC8qOkFPQSovID0gW107XG5cdHZhciBkLyo6QmxvY2sqLyA9IChuZXdfcmF3X2J1ZigxKS8qOmFueSovKTtcblx0c3dpdGNoKG9wdHMudHlwZSkge1xuXHRcdGNhc2UgJ2Jhc2U2NCc6IGQgPSBzMmEoQmFzZTY0X2RlY29kZShidWYpKTsgYnJlYWs7XG5cdFx0Y2FzZSAnYmluYXJ5JzogZCA9IHMyYShidWYpOyBicmVhaztcblx0XHRjYXNlICdidWZmZXInOlxuXHRcdGNhc2UgJ2FycmF5JzogZCA9IGJ1ZjsgYnJlYWs7XG5cdH1cblx0cHJlcF9ibG9iKGQsIDApO1xuXG5cdC8qIGhlYWRlciAqL1xuXHR2YXIgZnQgPSBkLnJlYWRfc2hpZnQoMSk7XG5cdHZhciBtZW1vID0gISEoZnQgJiAweDg4KTtcblx0dmFyIHZmcCA9IGZhbHNlLCBsNyA9IGZhbHNlO1xuXHRzd2l0Y2goZnQpIHtcblx0XHRjYXNlIDB4MDI6IGJyZWFrOyAvLyBkQkFTRSBJSVxuXHRcdGNhc2UgMHgwMzogYnJlYWs7IC8vIGRCQVNFIElJSVxuXHRcdGNhc2UgMHgzMDogdmZwID0gdHJ1ZTsgbWVtbyA9IHRydWU7IGJyZWFrOyAvLyBWRlBcblx0XHRjYXNlIDB4MzE6IHZmcCA9IHRydWU7IG1lbW8gPSB0cnVlOyBicmVhazsgLy8gVkZQIHdpdGggYXV0b2luY3JlbWVudFxuXHRcdC8vIDB4NDMgZEJBU0UgSVYgU1FMIHRhYmxlIGZpbGVzXG5cdFx0Ly8gMHg2MyBkQkFTRSBJViBTUUwgc3lzdGVtIGZpbGVzXG5cdFx0Y2FzZSAweDgzOiBicmVhazsgLy8gZEJBU0UgSUlJIHdpdGggbWVtb1xuXHRcdGNhc2UgMHg4QjogYnJlYWs7IC8vIGRCQVNFIElWIHdpdGggbWVtb1xuXHRcdGNhc2UgMHg4QzogbDcgPSB0cnVlOyBicmVhazsgLy8gZEJBU0UgTGV2ZWwgNyB3aXRoIG1lbW9cblx0XHQvLyBjYXNlIDB4Q0IgZEJBU0UgSVYgU1FMIHRhYmxlIGZpbGVzIHdpdGggbWVtb1xuXHRcdGNhc2UgMHhGNTogYnJlYWs7IC8vIEZveFBybyAyLnggd2l0aCBtZW1vXG5cdFx0Ly8gY2FzZSAweEZCIEZveEJBU0Vcblx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoXCJEQkYgVW5zdXBwb3J0ZWQgVmVyc2lvbjogXCIgKyBmdC50b1N0cmluZygxNikpO1xuXHR9XG5cblx0dmFyIG5yb3cgPSAwLCBmcG9zID0gMHgwMjA5O1xuXHRpZihmdCA9PSAweDAyKSBucm93ID0gZC5yZWFkX3NoaWZ0KDIpO1xuXHRkLmwgKz0gMzsgLy8gZEJBU0UgSUkgc3RvcmVzIERETU1ZWSBkYXRlLCBvdGhlcnMgdXNlIFlZTU1ERFxuXHRpZihmdCAhPSAweDAyKSBucm93ID0gZC5yZWFkX3NoaWZ0KDQpO1xuXHRpZihucm93ID4gMTA0ODU3NikgbnJvdyA9IDFlNjtcblxuXHRpZihmdCAhPSAweDAyKSBmcG9zID0gZC5yZWFkX3NoaWZ0KDIpOyAvLyBoZWFkZXIgbGVuZ3RoXG5cdHZhciBybGVuID0gZC5yZWFkX3NoaWZ0KDIpOyAvLyByZWNvcmQgbGVuZ3RoXG5cblx0dmFyIC8qZmxhZ3MgPSAwLCovIGN1cnJlbnRfY3AgPSBvcHRzLmNvZGVwYWdlIHx8IDEyNTI7XG5cdGlmKGZ0ICE9IDB4MDIpIHsgLy8gMjAgcmVzZXJ2ZWQgYnl0ZXNcblx0XHRkLmwrPTE2O1xuXHRcdC8qZmxhZ3MgPSAqL2QucmVhZF9zaGlmdCgxKTtcblx0XHQvL2lmKG1lbW8gJiYgKChmbGFncyAmIDB4MDIpID09PSAwKSkgdGhyb3cgbmV3IEVycm9yKFwiREJGIEZsYWdzIFwiICsgZmxhZ3MudG9TdHJpbmcoMTYpICsgXCIgZnQgXCIgKyBmdC50b1N0cmluZygxNikpO1xuXG5cdFx0LyogY29kZXBhZ2UgcHJlc2VudCBpbiBGb3hQcm8gYW5kIGRCQVNFIExldmVsIDcgKi9cblx0XHRpZihkW2QubF0gIT09IDApIGN1cnJlbnRfY3AgPSBkYmZfY29kZXBhZ2VfbWFwW2RbZC5sXV07XG5cdFx0ZC5sKz0xO1xuXG5cdFx0ZC5sKz0yO1xuXHR9XG5cdGlmKGw3KSBkLmwgKz0gMzY7IC8vIExldmVsIDc6IDMyIGJ5dGUgXCJMYW5ndWFnZSBkcml2ZXIgbmFtZVwiLCA0IGJ5dGUgcmVzZXJ2ZWRcblxuLyo6OiB0eXBlIERCRkZpZWxkID0geyBuYW1lOnN0cmluZzsgbGVuOm51bWJlcjsgdHlwZTpzdHJpbmc7IH0gKi9cblx0dmFyIGZpZWxkcy8qOkFycmF5PERCRkZpZWxkPiovID0gW10sIGZpZWxkLyo6REJGRmllbGQqLyA9ICh7fS8qOmFueSovKTtcblx0dmFyIGhlbmQgPSBNYXRoLm1pbihkLmxlbmd0aCwgKGZ0ID09IDB4MDIgPyAweDIwOSA6IChmcG9zIC0gMTAgLSAodmZwID8gMjY0IDogMCkpKSk7XG5cdHZhciB3dyA9IGw3ID8gMzIgOiAxMTtcblx0d2hpbGUoZC5sIDwgaGVuZCAmJiBkW2QubF0gIT0gMHgwZCkge1xuXHRcdGZpZWxkID0gKHt9Lyo6YW55Ki8pO1xuXHRcdGZpZWxkLm5hbWUgPSAodHlwZW9mICRjcHRhYmxlICE9PSBcInVuZGVmaW5lZFwiID8gJGNwdGFibGUudXRpbHMuZGVjb2RlKGN1cnJlbnRfY3AsIGQuc2xpY2UoZC5sLCBkLmwrd3cpKSA6IGEycyhkLnNsaWNlKGQubCwgZC5sICsgd3cpKSkucmVwbGFjZSgvW1xcdTAwMDBcXHJcXG5dW1xcU1xcc10qJC9nLFwiXCIpO1xuXHRcdGQubCArPSB3dztcblx0XHRmaWVsZC50eXBlID0gU3RyaW5nLmZyb21DaGFyQ29kZShkLnJlYWRfc2hpZnQoMSkpO1xuXHRcdGlmKGZ0ICE9IDB4MDIgJiYgIWw3KSBmaWVsZC5vZmZzZXQgPSBkLnJlYWRfc2hpZnQoNCk7XG5cdFx0ZmllbGQubGVuID0gZC5yZWFkX3NoaWZ0KDEpO1xuXHRcdGlmKGZ0ID09IDB4MDIpIGZpZWxkLm9mZnNldCA9IGQucmVhZF9zaGlmdCgyKTtcblx0XHRmaWVsZC5kZWMgPSBkLnJlYWRfc2hpZnQoMSk7XG5cdFx0aWYoZmllbGQubmFtZS5sZW5ndGgpIGZpZWxkcy5wdXNoKGZpZWxkKTtcblx0XHRpZihmdCAhPSAweDAyKSBkLmwgKz0gbDcgPyAxMyA6IDE0O1xuXHRcdHN3aXRjaChmaWVsZC50eXBlKSB7XG5cdFx0XHRjYXNlICdCJzogLy8gRG91YmxlIChWRlApIC8gQmluYXJ5IChkQkFTRSBMNylcblx0XHRcdFx0aWYoKCF2ZnAgfHwgZmllbGQubGVuICE9IDgpICYmIG9wdHMuV1RGKSBjb25zb2xlLmxvZygnU2tpcHBpbmcgJyArIGZpZWxkLm5hbWUgKyAnOicgKyBmaWVsZC50eXBlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdHJzogLy8gR2VuZXJhbCAoRm94UHJvIGFuZCBkQkFTRSBMNylcblx0XHRcdGNhc2UgJ1AnOiAvLyBQaWN0dXJlIChGb3hQcm8gYW5kIGRCQVNFIEw3KVxuXHRcdFx0XHRpZihvcHRzLldURikgY29uc29sZS5sb2coJ1NraXBwaW5nICcgKyBmaWVsZC5uYW1lICsgJzonICsgZmllbGQudHlwZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnKyc6IC8vIEF1dG9pbmNyZW1lbnQgKGRCQVNFIEw3IG9ubHkpXG5cdFx0XHRjYXNlICcwJzogLy8gX051bGxGbGFncyAoVkZQIG9ubHkpXG5cdFx0XHRjYXNlICdAJzogLy8gVGltZXN0YW1wIChkQkFTRSBMNyBvbmx5KVxuXHRcdFx0Y2FzZSAnQyc6IC8vIENoYXJhY3RlciAoZEJBU0UgSUkpXG5cdFx0XHRjYXNlICdEJzogLy8gRGF0ZSAoZEJBU0UgSUlJKVxuXHRcdFx0Y2FzZSAnRic6IC8vIEZsb2F0IChkQkFTRSBJVilcblx0XHRcdGNhc2UgJ0knOiAvLyBMb25nIChWRlAgYW5kIGRCQVNFIEw3KVxuXHRcdFx0Y2FzZSAnTCc6IC8vIExvZ2ljYWwgKGRCQVNFIElJKVxuXHRcdFx0Y2FzZSAnTSc6IC8vIE1lbW8gKGRCQVNFIElJSSlcblx0XHRcdGNhc2UgJ04nOiAvLyBOdW1iZXIgKGRCQVNFIElJKVxuXHRcdFx0Y2FzZSAnTyc6IC8vIERvdWJsZSAoZEJBU0UgTDcgb25seSlcblx0XHRcdGNhc2UgJ1QnOiAvLyBEYXRldGltZSAoVkZQIG9ubHkpXG5cdFx0XHRjYXNlICdZJzogLy8gQ3VycmVuY3kgKFZGUCBvbmx5KVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biBGaWVsZCBUeXBlOiAnICsgZmllbGQudHlwZSk7XG5cdFx0fVxuXHR9XG5cblx0aWYoZFtkLmxdICE9PSAweDBEKSBkLmwgPSBmcG9zLTE7XG5cdGlmKGQucmVhZF9zaGlmdCgxKSAhPT0gMHgwRCkgdGhyb3cgbmV3IEVycm9yKFwiREJGIFRlcm1pbmF0b3Igbm90IGZvdW5kIFwiICsgZC5sICsgXCIgXCIgKyBkW2QubF0pO1xuXHRkLmwgPSBmcG9zO1xuXG5cdC8qIGRhdGEgKi9cblx0dmFyIFIgPSAwLCBDID0gMDtcblx0b3V0WzBdID0gW107XG5cdGZvcihDID0gMDsgQyAhPSBmaWVsZHMubGVuZ3RoOyArK0MpIG91dFswXVtDXSA9IGZpZWxkc1tDXS5uYW1lO1xuXHR3aGlsZShucm93LS0gPiAwKSB7XG5cdFx0aWYoZFtkLmxdID09PSAweDJBKSB7XG5cdFx0XHQvLyBUT0RPOiByZWNvcmQgbWFya2VkIGFzIGRlbGV0ZWQgLS0gY3JlYXRlIGEgaGlkZGVuIHJvdz9cblx0XHRcdGQubCs9cmxlbjtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHQrK2QubDtcblx0XHRvdXRbKytSXSA9IFtdOyBDID0gMDtcblx0XHRmb3IoQyA9IDA7IEMgIT0gZmllbGRzLmxlbmd0aDsgKytDKSB7XG5cdFx0XHR2YXIgZGQgPSBkLnNsaWNlKGQubCwgZC5sK2ZpZWxkc1tDXS5sZW4pOyBkLmwrPWZpZWxkc1tDXS5sZW47XG5cdFx0XHRwcmVwX2Jsb2IoZGQsIDApO1xuXHRcdFx0dmFyIHMgPSB0eXBlb2YgJGNwdGFibGUgIT09IFwidW5kZWZpbmVkXCIgPyAkY3B0YWJsZS51dGlscy5kZWNvZGUoY3VycmVudF9jcCwgZGQpIDogYTJzKGRkKTtcblx0XHRcdHN3aXRjaChmaWVsZHNbQ10udHlwZSkge1xuXHRcdFx0XHRjYXNlICdDJzpcblx0XHRcdFx0XHQvLyBOT1RFOiBpdCBpcyBjb252ZW50aW9uYWwgdG8gd3JpdGUgJyAgLyAgLyAgJyBmb3IgZW1wdHkgZGF0ZXNcblx0XHRcdFx0XHRpZihzLnRyaW0oKS5sZW5ndGgpIG91dFtSXVtDXSA9IHMucmVwbGFjZSgvKFteXFxzXSlcXHMrJC8sXCIkMVwiKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnRCc6XG5cdFx0XHRcdFx0aWYocy5sZW5ndGggPT09IDgpIHtcblx0XHRcdFx0XHRcdG91dFtSXVtDXSA9IG5ldyBEYXRlKERhdGUuVVRDKCtzLnNsaWNlKDAsNCksICtzLnNsaWNlKDQsNiktMSwgK3Muc2xpY2UoNiw4KSwgMCwgMCwgMCwgMCkpO1xuXHRcdFx0XHRcdFx0aWYoIShvcHRzICYmIG9wdHMuVVRDKSkgeyBvdXRbUl1bQ10gPSB1dGNfdG9fbG9jYWwob3V0W1JdW0NdKTsgfVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIG91dFtSXVtDXSA9IHM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0YnOiBvdXRbUl1bQ10gPSBwYXJzZUZsb2F0KHMudHJpbSgpKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJysnOiBjYXNlICdJJzogb3V0W1JdW0NdID0gbDcgPyBkZC5yZWFkX3NoaWZ0KC00LCAnaScpIF4gMHg4MDAwMDAwMCA6IGRkLnJlYWRfc2hpZnQoNCwgJ2knKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0wnOiBzd2l0Y2gocy50cmltKCkudG9VcHBlckNhc2UoKSkge1xuXHRcdFx0XHRcdGNhc2UgJ1knOiBjYXNlICdUJzogb3V0W1JdW0NdID0gdHJ1ZTsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnTic6IGNhc2UgJ0YnOiBvdXRbUl1bQ10gPSBmYWxzZTsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnJzogY2FzZSAnXFx4MDAnOiBjYXNlICc/JzogYnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiREJGIFVucmVjb2duaXplZCBMOnxcIiArIHMgKyBcInxcIik7XG5cdFx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAnTSc6IC8qIFRPRE86IGhhbmRsZSBtZW1vIGZpbGVzICovXG5cdFx0XHRcdFx0aWYoIW1lbW8pIHRocm93IG5ldyBFcnJvcihcIkRCRiBVbmV4cGVjdGVkIE1FTU8gZm9yIHR5cGUgXCIgKyBmdC50b1N0cmluZygxNikpO1xuXHRcdFx0XHRcdG91dFtSXVtDXSA9IFwiIyNNRU1PIyNcIiArIChsNyA/IHBhcnNlSW50KHMudHJpbSgpLCAxMCk6IGRkLnJlYWRfc2hpZnQoNCkpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdOJzpcblx0XHRcdFx0XHRzID0gcy5yZXBsYWNlKC9cXHUwMDAwL2csXCJcIikudHJpbSgpO1xuXHRcdFx0XHRcdC8vIE5PVEU6IGRCQVNFIElJIGludGVycHJldHMgXCIgIC4gIFwiIGFzIDBcblx0XHRcdFx0XHRpZihzICYmIHMgIT0gXCIuXCIpIG91dFtSXVtDXSA9ICtzIHx8IDA7IGJyZWFrO1xuXHRcdFx0XHRjYXNlICdAJzpcblx0XHRcdFx0XHQvLyBOT1RFOiBkQkFTRSBzcGVjcyBhcHBlYXIgdG8gYmUgaW5jb3JyZWN0XG5cdFx0XHRcdFx0b3V0W1JdW0NdID0gbmV3IERhdGUoZGQucmVhZF9zaGlmdCgtOCwgJ2YnKSAtIDB4Mzg4MzE3NTMzNDAwKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnVCc6IHtcblx0XHRcdFx0XHR2YXIgaGkgPSBkZC5yZWFkX3NoaWZ0KDQpLCBsbyA9IGRkLnJlYWRfc2hpZnQoNCk7XG5cdFx0XHRcdFx0aWYoaGkgPT0gMCAmJiBsbyA9PSAwKSBicmVhaztcblx0XHRcdFx0XHRvdXRbUl1bQ10gPSBuZXcgRGF0ZSgoaGkgLSAweDI1M0Q4QykgKiAweDUyNjVDMDAgKyBsbyk7XG5cdFx0XHRcdFx0aWYoIShvcHRzICYmIG9wdHMuVVRDKSkgb3V0W1JdW0NdID0gdXRjX3RvX2xvY2FsKG91dFtSXVtDXSk7XG5cdFx0XHRcdH0gYnJlYWs7XG5cdFx0XHRcdGNhc2UgJ1knOiBvdXRbUl1bQ10gPSBkZC5yZWFkX3NoaWZ0KDQsJ2knKS8xZTQgKyAoZGQucmVhZF9zaGlmdCg0LCAnaScpLzFlNCkqTWF0aC5wb3coMiwzMik7IGJyZWFrO1xuXHRcdFx0XHRjYXNlICdPJzogb3V0W1JdW0NdID0gLWRkLnJlYWRfc2hpZnQoLTgsICdmJyk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlICdCJzogaWYodmZwICYmIGZpZWxkc1tDXS5sZW4gPT0gOCkgeyBvdXRbUl1bQ10gPSBkZC5yZWFkX3NoaWZ0KDgsJ2YnKTsgYnJlYWs7IH1cblx0XHRcdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRcdGNhc2UgJ0cnOiBjYXNlICdQJzogZGQubCArPSBmaWVsZHNbQ10ubGVuOyBicmVhaztcblx0XHRcdFx0Y2FzZSAnMCc6XG5cdFx0XHRcdFx0aWYoZmllbGRzW0NdLm5hbWUgPT09ICdfTnVsbEZsYWdzJykgYnJlYWs7XG5cdFx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoXCJEQkYgVW5zdXBwb3J0ZWQgZGF0YSB0eXBlIFwiICsgZmllbGRzW0NdLnR5cGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRpZihmdCAhPSAweDAyKSBpZihkLmwgPCBkLmxlbmd0aCAmJiBkW2QubCsrXSAhPSAweDFBKSB0aHJvdyBuZXcgRXJyb3IoXCJEQkYgRU9GIE1hcmtlciBtaXNzaW5nIFwiICsgKGQubC0xKSArIFwiIG9mIFwiICsgZC5sZW5ndGggKyBcIiBcIiArIGRbZC5sLTFdLnRvU3RyaW5nKDE2KSk7XG5cdGlmKG9wdHMgJiYgb3B0cy5zaGVldFJvd3MpIG91dCA9IG91dC5zbGljZSgwLCBvcHRzLnNoZWV0Um93cyk7XG5cdG9wdHMuREJGID0gZmllbGRzO1xuXHRyZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBkYmZfdG9fc2hlZXQoYnVmLCBvcHRzKS8qOldvcmtzaGVldCovIHtcblx0dmFyIG8gPSBvcHRzIHx8IHt9O1xuXHRpZighby5kYXRlTkYpIG8uZGF0ZU5GID0gXCJ5eXl5bW1kZFwiO1xuXHR2YXIgd3MgPSBhb2FfdG9fc2hlZXQoZGJmX3RvX2FvYShidWYsIG8pLCBvKTtcblx0d3NbXCIhY29sc1wiXSA9IG8uREJGLm1hcChmdW5jdGlvbihmaWVsZCkgeyByZXR1cm4ge1xuXHRcdHdjaDogZmllbGQubGVuLFxuXHRcdERCRjogZmllbGRcblx0fTt9KTtcblx0ZGVsZXRlIG8uREJGO1xuXHRyZXR1cm4gd3M7XG59XG5cbmZ1bmN0aW9uIGRiZl90b193b3JrYm9vayhidWYsIG9wdHMpLyo6V29ya2Jvb2sqLyB7XG5cdHRyeSB7XG5cdFx0dmFyIG8gPSBzaGVldF90b193b3JrYm9vayhkYmZfdG9fc2hlZXQoYnVmLCBvcHRzKSwgb3B0cyk7XG5cdFx0by5ib29rVHlwZSA9IFwiZGJmXCI7XG5cdFx0cmV0dXJuIG87XG5cdH0gY2F0Y2goZSkgeyBpZihvcHRzICYmIG9wdHMuV1RGKSB0aHJvdyBlOyB9XG5cdHJldHVybiAoe1NoZWV0TmFtZXM6W10sU2hlZXRzOnt9fSk7XG59XG5cbnZhciBfUkxFTiA9IHsgJ0InOiA4LCAnQyc6IDI1MCwgJ0wnOiAxLCAnRCc6IDgsICc/JzogMCwgJyc6IDAgfTtcbmZ1bmN0aW9uIHNoZWV0X3RvX2RiZih3cy8qOldvcmtzaGVldCovLCBvcHRzLyo6V3JpdGVPcHRzKi8pIHtcblx0aWYoIXdzW1wiIXJlZlwiXSkgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4cG9ydCBlbXB0eSBzaGVldCB0byBEQkZcIik7XG5cdHZhciBvID0gb3B0cyB8fCB7fTtcblx0dmFyIG9sZF9jcCA9IGN1cnJlbnRfY29kZXBhZ2U7XG5cdGlmKCtvLmNvZGVwYWdlID49IDApIHNldF9jcCgrby5jb2RlcGFnZSk7XG5cdGlmKG8udHlwZSA9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgd3JpdGUgREJGIHRvIEpTIHN0cmluZ1wiKTtcblx0dmFyIGJhID0gYnVmX2FycmF5KCk7XG5cdHZhciBhb2EvKjpBT0EqLyA9IHNoZWV0X3RvX2pzb24od3MsIHtoZWFkZXI6MSwgcmF3OnRydWUsIGNlbGxEYXRlczp0cnVlfSk7XG5cdHZhciBoZWFkZXJzID0gYW9hWzBdLCBkYXRhID0gYW9hLnNsaWNlKDEpLCBjb2xzID0gd3NbXCIhY29sc1wiXSB8fCBbXTtcblx0dmFyIGkgPSAwLCBqID0gMCwgaGNudCA9IDAsIHJsZW4gPSAxO1xuXHRmb3IoaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgKytpKSB7XG5cdFx0aWYoKChjb2xzW2ldfHx7fSkuREJGfHx7fSkubmFtZSkgeyBoZWFkZXJzW2ldID0gY29sc1tpXS5EQkYubmFtZTsgKytoY250OyBjb250aW51ZTsgfVxuXHRcdGlmKGhlYWRlcnNbaV0gPT0gbnVsbCkgY29udGludWU7XG5cdFx0KytoY250O1xuXHRcdGlmKHR5cGVvZiBoZWFkZXJzW2ldID09PSAnbnVtYmVyJykgaGVhZGVyc1tpXSA9IGhlYWRlcnNbaV0udG9TdHJpbmcoMTApO1xuXHRcdGlmKHR5cGVvZiBoZWFkZXJzW2ldICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IEVycm9yKFwiREJGIEludmFsaWQgY29sdW1uIG5hbWUgXCIgKyBoZWFkZXJzW2ldICsgXCIgfFwiICsgKHR5cGVvZiBoZWFkZXJzW2ldKSArIFwifFwiKTtcblx0XHRpZihoZWFkZXJzLmluZGV4T2YoaGVhZGVyc1tpXSkgIT09IGkpIGZvcihqPTA7IGo8MTAyNDsrK2opXG5cdFx0XHRpZihoZWFkZXJzLmluZGV4T2YoaGVhZGVyc1tpXSArIFwiX1wiICsgaikgPT0gLTEpIHsgaGVhZGVyc1tpXSArPSBcIl9cIiArIGo7IGJyZWFrOyB9XG5cdH1cblx0dmFyIHJhbmdlID0gc2FmZV9kZWNvZGVfcmFuZ2Uod3NbJyFyZWYnXSk7XG5cdHZhciBjb2x0eXBlcy8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHR2YXIgY29sd2lkdGhzLyo6QXJyYXk8bnVtYmVyPiovID0gW107XG5cdHZhciBjb2xkZWNpbWFscy8qOkFycmF5PG51bWJlcj4qLyA9IFtdO1xuXHRmb3IoaSA9IDA7IGkgPD0gcmFuZ2UuZS5jIC0gcmFuZ2Uucy5jOyArK2kpIHtcblx0XHR2YXIgZ3Vlc3MgPSAnJywgX2d1ZXNzID0gJycsIG1heGxlbiA9IDA7XG5cdFx0dmFyIGNvbC8qOkFycmF5PGFueT4qLyA9IFtdO1xuXHRcdGZvcihqPTA7IGogPCBkYXRhLmxlbmd0aDsgKytqKSB7XG5cdFx0XHRpZihkYXRhW2pdW2ldICE9IG51bGwpIGNvbC5wdXNoKGRhdGFbal1baV0pO1xuXHRcdH1cblx0XHRpZihjb2wubGVuZ3RoID09IDAgfHwgaGVhZGVyc1tpXSA9PSBudWxsKSB7IGNvbHR5cGVzW2ldID0gJz8nOyBjb250aW51ZTsgfVxuXHRcdGZvcihqID0gMDsgaiA8IGNvbC5sZW5ndGg7ICsraikge1xuXHRcdFx0c3dpdGNoKHR5cGVvZiBjb2xbal0pIHtcblx0XHRcdFx0LyogVE9ETzogY2hlY2sgaWYgTDIgY29tcGF0IGlzIGRlc2lyZWQgKi9cblx0XHRcdFx0Y2FzZSAnbnVtYmVyJzogX2d1ZXNzID0gJ0InOyBicmVhaztcblx0XHRcdFx0Y2FzZSAnc3RyaW5nJzogX2d1ZXNzID0gJ0MnOyBicmVhaztcblx0XHRcdFx0Y2FzZSAnYm9vbGVhbic6IF9ndWVzcyA9ICdMJzsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJ29iamVjdCc6IF9ndWVzcyA9IGNvbFtqXSBpbnN0YW5jZW9mIERhdGUgPyAnRCcgOiAnQyc7IGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OiBfZ3Vlc3MgPSAnQyc7XG5cdFx0XHR9XG5cdFx0XHQvKiBUT0RPOiBjYWNoZSB0aGUgdmFsdWVzIGluc3RlYWQgb2YgZW5jb2RpbmcgdHdpY2UgKi9cblx0XHRcdG1heGxlbiA9IE1hdGgubWF4KG1heGxlbiwgKHR5cGVvZiAkY3B0YWJsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgY29sW2pdID09IFwic3RyaW5nXCIgPyAkY3B0YWJsZS51dGlscy5lbmNvZGUoY3VycmVudF9hbnNpLCBjb2xbal0pOiBTdHJpbmcoY29sW2pdKSkubGVuZ3RoKTtcblx0XHRcdGd1ZXNzID0gZ3Vlc3MgJiYgZ3Vlc3MgIT0gX2d1ZXNzID8gJ0MnIDogX2d1ZXNzO1xuXHRcdFx0Ly9pZihndWVzcyA9PSAnQycpIGJyZWFrO1xuXHRcdH1cblx0XHRpZihtYXhsZW4gPiAyNTApIG1heGxlbiA9IDI1MDtcblx0XHRfZ3Vlc3MgPSAoKGNvbHNbaV18fHt9KS5EQkZ8fHt9KS50eXBlO1xuXHRcdC8qIFRPRE86IG1vcmUgZmluZSBncmFpbmVkIGNvbnRyb2wgb3ZlciBEQkYgdHlwZSByZXNvbHV0aW9uICovXG5cdFx0aWYoX2d1ZXNzID09ICdDJykge1xuXHRcdFx0aWYoY29sc1tpXS5EQkYubGVuID4gbWF4bGVuKSBtYXhsZW4gPSBjb2xzW2ldLkRCRi5sZW47XG5cdFx0fVxuXHRcdGlmKGd1ZXNzID09ICdCJyAmJiBfZ3Vlc3MgPT0gJ04nKSB7XG5cdFx0XHRndWVzcyA9ICdOJztcblx0XHRcdGNvbGRlY2ltYWxzW2ldID0gY29sc1tpXS5EQkYuZGVjO1xuXHRcdFx0bWF4bGVuID0gY29sc1tpXS5EQkYubGVuO1xuXHRcdH1cblx0XHRjb2x3aWR0aHNbaV0gPSBndWVzcyA9PSAnQycgfHwgX2d1ZXNzID09ICdOJyA/IG1heGxlbiA6IChfUkxFTltndWVzc10gfHwgMCk7XG5cdFx0cmxlbiArPSBjb2x3aWR0aHNbaV07XG5cdFx0Y29sdHlwZXNbaV0gPSBndWVzcztcblx0fVxuXG5cdHZhciBoID0gYmEubmV4dCgzMik7XG5cdGgud3JpdGVfc2hpZnQoNCwgMHgxMzAyMTEzMCk7XG5cdGgud3JpdGVfc2hpZnQoNCwgZGF0YS5sZW5ndGgpO1xuXHRoLndyaXRlX3NoaWZ0KDIsIDI5NiArIDMyICogaGNudCk7XG5cdGgud3JpdGVfc2hpZnQoMiwgcmxlbik7XG5cdGZvcihpPTA7IGkgPCA0OyArK2kpIGgud3JpdGVfc2hpZnQoNCwgMCk7XG5cdHZhciBjcCA9ICtkYmZfcmV2ZXJzZV9tYXBbLyo6OlN0cmluZygqL2N1cnJlbnRfY29kZXBhZ2UvKjo6KSovXSB8fCAweDAzO1xuXHRoLndyaXRlX3NoaWZ0KDQsIDB4MDAwMDAwMDAgfCAoY3A8PDgpKTtcblx0aWYoZGJmX2NvZGVwYWdlX21hcFtjcF0gIT0gK28uY29kZXBhZ2UpIHtcblx0XHRpZihvLmNvZGVwYWdlKSBjb25zb2xlLmVycm9yKFwiREJGIFVuc3VwcG9ydGVkIGNvZGVwYWdlIFwiICsgY3VycmVudF9jb2RlcGFnZSArIFwiLCB1c2luZyAxMjUyXCIpO1xuXHRcdGN1cnJlbnRfY29kZXBhZ2UgPSAxMjUyO1xuXHR9XG5cblx0Zm9yKGkgPSAwLCBqID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyArK2kpIHtcblx0XHRpZihoZWFkZXJzW2ldID09IG51bGwpIGNvbnRpbnVlO1xuXHRcdHZhciBoZiA9IGJhLm5leHQoMzIpO1xuXHRcdC8qIFRPRE86IHRlc3QgaG93IGFwcGxpY2F0aW9ucyBoYW5kbGUgbm9uLUFTQ0lJIGZpZWxkIG5hbWVzICovXG5cdFx0dmFyIF9mID0gKGhlYWRlcnNbaV0uc2xpY2UoLTEwKSArIFwiXFx4MDBcXHgwMFxceDAwXFx4MDBcXHgwMFxceDAwXFx4MDBcXHgwMFxceDAwXFx4MDBcXHgwMFwiKS5zbGljZSgwLCAxMSk7XG5cdFx0aGYud3JpdGVfc2hpZnQoMSwgX2YsIFwic2Jjc1wiKTtcblx0XHRoZi53cml0ZV9zaGlmdCgxLCBjb2x0eXBlc1tpXSA9PSAnPycgPyAnQycgOiBjb2x0eXBlc1tpXSwgXCJzYmNzXCIpO1xuXHRcdGhmLndyaXRlX3NoaWZ0KDQsIGopO1xuXHRcdGhmLndyaXRlX3NoaWZ0KDEsIGNvbHdpZHRoc1tpXSB8fCBfUkxFTltjb2x0eXBlc1tpXV0gfHwgMCk7XG5cdFx0aGYud3JpdGVfc2hpZnQoMSwgY29sZGVjaW1hbHNbaV0gfHwgMCk7XG5cdFx0aGYud3JpdGVfc2hpZnQoMSwgMHgwMik7XG5cdFx0aGYud3JpdGVfc2hpZnQoNCwgMCk7XG5cdFx0aGYud3JpdGVfc2hpZnQoMSwgMCk7XG5cdFx0aGYud3JpdGVfc2hpZnQoNCwgMCk7XG5cdFx0aGYud3JpdGVfc2hpZnQoNCwgMCk7XG5cdFx0aiArPSAoY29sd2lkdGhzW2ldIHx8IF9STEVOW2NvbHR5cGVzW2ldXSB8fCAwKTtcblx0fVxuXG5cdHZhciBoYiA9IGJhLm5leHQoMjY0KTtcblx0aGIud3JpdGVfc2hpZnQoNCwgMHgwMDAwMDAwRCk7XG5cdGZvcihpPTA7IGkgPCA2NTsrK2kpIGhiLndyaXRlX3NoaWZ0KDQsIDB4MDAwMDAwMDApO1xuXHRmb3IoaT0wOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkge1xuXHRcdHZhciByb3V0ID0gYmEubmV4dChybGVuKTtcblx0XHRyb3V0LndyaXRlX3NoaWZ0KDEsIDApO1xuXHRcdGZvcihqPTA7IGo8aGVhZGVycy5sZW5ndGg7ICsraikge1xuXHRcdFx0aWYoaGVhZGVyc1tqXSA9PSBudWxsKSBjb250aW51ZTtcblx0XHRcdHN3aXRjaChjb2x0eXBlc1tqXSkge1xuXHRcdFx0XHRjYXNlICdMJzogcm91dC53cml0ZV9zaGlmdCgxLCBkYXRhW2ldW2pdID09IG51bGwgPyAweDNGIDogZGF0YVtpXVtqXSA/IDB4NTQgOiAweDQ2KTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0InOiByb3V0LndyaXRlX3NoaWZ0KDgsIGRhdGFbaV1bal18fDAsICdmJyk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlICdOJzpcblx0XHRcdFx0XHR2YXIgX24gPSBcIjBcIjtcblx0XHRcdFx0XHRpZih0eXBlb2YgZGF0YVtpXVtqXSA9PSBcIm51bWJlclwiKSBfbiA9IGRhdGFbaV1bal0udG9GaXhlZChjb2xkZWNpbWFsc1tqXXx8MCk7XG5cdFx0XHRcdFx0aWYoX24ubGVuZ3RoID4gY29sd2lkdGhzW2pdKSBfbiA9IF9uLnNsaWNlKDAsIGNvbHdpZHRoc1tqXSk7IC8vIGFkZHJlc3NlcyBkZWNpbWFsID4gd2lkdGhcblx0XHRcdFx0XHRmb3IoaGNudD0wOyBoY250IDwgY29sd2lkdGhzW2pdLV9uLmxlbmd0aDsgKytoY250KSByb3V0LndyaXRlX3NoaWZ0KDEsIDB4MjApO1xuXHRcdFx0XHRcdHJvdXQud3JpdGVfc2hpZnQoMSwgX24sIFwic2Jjc1wiKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnRCc6XG5cdFx0XHRcdFx0aWYoIWRhdGFbaV1bal0pIHJvdXQud3JpdGVfc2hpZnQoOCwgXCIwMDAwMDAwMFwiLCBcInNiY3NcIik7XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRyb3V0LndyaXRlX3NoaWZ0KDQsIChcIjAwMDBcIitkYXRhW2ldW2pdLmdldEZ1bGxZZWFyKCkpLnNsaWNlKC00KSwgXCJzYmNzXCIpO1xuXHRcdFx0XHRcdFx0cm91dC53cml0ZV9zaGlmdCgyLCAoXCIwMFwiKyhkYXRhW2ldW2pdLmdldE1vbnRoKCkrMSkpLnNsaWNlKC0yKSwgXCJzYmNzXCIpO1xuXHRcdFx0XHRcdFx0cm91dC53cml0ZV9zaGlmdCgyLCAoXCIwMFwiK2RhdGFbaV1bal0uZ2V0RGF0ZSgpKS5zbGljZSgtMiksIFwic2Jjc1wiKTtcblx0XHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlICdDJzpcblx0XHRcdFx0XHR2YXIgX2wgPSByb3V0Lmw7XG5cdFx0XHRcdFx0dmFyIF9zID0gU3RyaW5nKGRhdGFbaV1bal0gIT0gbnVsbCA/IGRhdGFbaV1bal0gOiBcIlwiKS5zbGljZSgwLCBjb2x3aWR0aHNbal0pO1xuXHRcdFx0XHRcdHJvdXQud3JpdGVfc2hpZnQoMSwgX3MsIFwiY3BzdHJcIik7XG5cdFx0XHRcdFx0X2wgKz0gY29sd2lkdGhzW2pdIC0gcm91dC5sO1xuXHRcdFx0XHRcdGZvcihoY250PTA7IGhjbnQgPCBfbDsgKytoY250KSByb3V0LndyaXRlX3NoaWZ0KDEsIDB4MjApOyBicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gZGF0YVxuXHR9XG5cdGN1cnJlbnRfY29kZXBhZ2UgPSBvbGRfY3A7XG5cdGJhLm5leHQoMSkud3JpdGVfc2hpZnQoMSwgMHgxQSk7XG5cdHJldHVybiBiYS5lbmQoKTtcbn1cblx0cmV0dXJuIHtcblx0XHR0b193b3JrYm9vazogZGJmX3RvX3dvcmtib29rLFxuXHRcdHRvX3NoZWV0OiBkYmZfdG9fc2hlZXQsXG5cdFx0ZnJvbV9zaGVldDogc2hlZXRfdG9fZGJmXG5cdH07XG59KSgpO1xuXG52YXIgU1lMSyA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKSB7XG5cdC8qIFRPRE86IHN0cmVzcyB0ZXN0IHNlcXVlbmNlcyAqL1xuXHR2YXIgc3lsa19lc2NhcGVzID0gKHtcblx0XHRBQTonw4AnLCBCQTonw4EnLCBDQTonw4InLCBEQToxOTUsIEhBOifDhCcsIEpBOjE5Nyxcblx0XHRBRTonw4gnLCBCRTonw4knLCBDRTonw4onLCAgICAgICAgIEhFOifDiycsXG5cdFx0QUk6J8OMJywgQkk6J8ONJywgQ0k6J8OOJywgICAgICAgICBISTonw48nLFxuXHRcdEFPOifDkicsIEJPOifDkycsIENPOifDlCcsIERPOjIxMywgSE86J8OWJyxcblx0XHRBVTonw5knLCBCVTonw5onLCBDVTonw5snLCAgICAgICAgIEhVOifDnCcsXG5cdFx0QWE6J8OgJywgQmE6J8OhJywgQ2E6J8OiJywgRGE6MjI3LCBIYTonw6QnLCBKYToyMjksXG5cdFx0QWU6J8OoJywgQmU6J8OpJywgQ2U6J8OqJywgICAgICAgICBIZTonw6snLFxuXHRcdEFpOifDrCcsIEJpOifDrScsIENpOifDricsICAgICAgICAgSGk6J8OvJyxcblx0XHRBbzonw7InLCBCbzonw7MnLCBDbzonw7QnLCBEbzoyNDUsIEhvOifDticsXG5cdFx0QXU6J8O5JywgQnU6J8O6JywgQ3U6J8O7JywgICAgICAgICBIdTonw7wnLFxuXHRcdEtDOifDhycsIEtjOifDpycsIHE6J8OmJywgIHo6J8WTJywgIGE6J8OGJywgIGo6J8WSJyxcblx0XHRETjoyMDksIERuOjI0MSwgSHk6MjU1LFxuXHRcdFM6MTY5LCAgYzoxNzAsICBSOjE3NCwgIFwiQiBcIjoxODAsXG5cdFx0MDoxNzYsICAxOjE3NywgIDI6MTc4LFxuXHRcdDM6MTc5LCAgNToxODEsICA2OjE4Mixcblx0XHQ3OjE4MywgIFE6MTg1LCAgazoxODYsICBiOjIwOCwgIGk6MjE2LCAgbDoyMjIsICBzOjI0MCwgIHk6MjQ4LFxuXHRcdFwiIVwiOjE2MSwgJ1wiJzoxNjIsIFwiI1wiOjE2MywgXCIoXCI6MTY0LCBcIiVcIjoxNjUsIFwiJ1wiOjE2NywgXCJIIFwiOjE2OCxcblx0XHRcIitcIjoxNzEsIFwiO1wiOjE4NywgXCI8XCI6MTg4LCBcIj1cIjoxODksIFwiPlwiOjE5MCwgXCI/XCI6MTkxLCBcIntcIjoyMjNcblx0fS8qOmFueSovKTtcblx0dmFyIHN5bGtfY2hhcl9yZWdleCA9IG5ldyBSZWdFeHAoXCJcXHUwMDFCTihcIiArIGtleXMoc3lsa19lc2NhcGVzKS5qb2luKFwifFwiKS5yZXBsYWNlKC9cXHxcXHxcXHwvLCBcInxcXFxcfHxcIikucmVwbGFjZSgvKFs/KCkrXSkvZyxcIlxcXFwkMVwiKS5yZXBsYWNlKFwie1wiLCBcIlxcXFx7XCIpICsgXCJ8XFxcXHwpXCIsIFwiZ21cIik7XG5cdHRyeSB7XG5cdFx0c3lsa19jaGFyX3JlZ2V4ID0gbmV3IFJlZ0V4cChcIlxcdTAwMUJOKFwiICsga2V5cyhzeWxrX2VzY2FwZXMpLmpvaW4oXCJ8XCIpLnJlcGxhY2UoL1xcfFxcfFxcfC8sIFwifFxcXFx8fFwiKS5yZXBsYWNlKC8oWz8oKStdKS9nLFwiXFxcXCQxXCIpICsgXCJ8XFxcXHwpXCIsIFwiZ21cIik7XG5cdH0gY2F0Y2goZSkge31cblx0dmFyIHN5bGtfY2hhcl9mbiA9IGZ1bmN0aW9uKF8sICQxKXsgdmFyIG8gPSBzeWxrX2VzY2FwZXNbJDFdOyByZXR1cm4gdHlwZW9mIG8gPT0gXCJudW1iZXJcIiA/IF9nZXRhbnNpKG8pIDogbzsgfTtcblx0dmFyIGRlY29kZV9zeWxrX2NoYXIgPSBmdW5jdGlvbigkJCwgJDEsICQyKSB7IHZhciBuZXdjYyA9ICgoJDEuY2hhckNvZGVBdCgwKSAtIDB4MjApPDw0KSB8ICgkMi5jaGFyQ29kZUF0KDApIC0gMHgzMCk7IHJldHVybiBuZXdjYyA9PSA1OSA/ICQkIDogX2dldGFuc2kobmV3Y2MpOyB9O1xuXHRzeWxrX2VzY2FwZXNbXCJ8XCJdID0gMjU0O1xuXHQvKiBUT0RPOiBldmVydCB0aGUgZXNjYXBlIG1hcCAqL1xuXHR2YXIgZW5jb2RlX3N5bGtfc3RyID0gZnVuY3Rpb24oJCQpIHsgcmV0dXJuICQkLnJlcGxhY2UoL1xcbi9nLCBcIlxceDFiIDpcIikucmVwbGFjZSgvXFxyL2csIFwiXFx4MWIgPVwiKTsgfTtcblx0LyogaHR0cHM6Ly9vc3Muc2hlZXRqcy5jb20vbm90ZXMvc3lsay8gZm9yIG1vcmUgZGV0YWlscyAqL1xuXHRmdW5jdGlvbiBzeWxrX3RvX2FvYShkLyo6UmF3RGF0YSovLCBvcHRzKS8qOltBT0EsIFdvcmtzaGVldF0qLyB7XG5cdFx0c3dpdGNoKG9wdHMudHlwZSkge1xuXHRcdFx0Y2FzZSAnYmFzZTY0JzogcmV0dXJuIHN5bGtfdG9fYW9hX3N0cihCYXNlNjRfZGVjb2RlKGQpLCBvcHRzKTtcblx0XHRcdGNhc2UgJ2JpbmFyeSc6IHJldHVybiBzeWxrX3RvX2FvYV9zdHIoZCwgb3B0cyk7XG5cdFx0XHRjYXNlICdidWZmZXInOiByZXR1cm4gc3lsa190b19hb2Ffc3RyKGhhc19idWYgJiYgQnVmZmVyLmlzQnVmZmVyKGQpID8gZC50b1N0cmluZygnYmluYXJ5JykgOiBhMnMoZCksIG9wdHMpO1xuXHRcdFx0Y2FzZSAnYXJyYXknOiByZXR1cm4gc3lsa190b19hb2Ffc3RyKGNjMnN0cihkKSwgb3B0cyk7XG5cdFx0fVxuXHRcdHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCB0eXBlIFwiICsgb3B0cy50eXBlKTtcblx0fVxuXHRmdW5jdGlvbiBzeWxrX3RvX2FvYV9zdHIoc3RyLyo6c3RyaW5nKi8sIG9wdHMpLyo6W0FPQSwgV29ya3NoZWV0XSovIHtcblx0XHR2YXIgcmVjb3JkcyA9IHN0ci5zcGxpdCgvW1xcblxccl0rLyksIFIgPSAtMSwgQyA9IC0xLCByaSA9IDAsIHJqID0gMCwgYXJyLyo6QU9BKi8gPSBbXTtcblx0XHR2YXIgZm9ybWF0cy8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHRcdHZhciBuZXh0X2NlbGxfZm9ybWF0Lyo6c3RyaW5nfG51bGwqLyA9IG51bGw7XG5cdFx0dmFyIHNodCA9IHt9LCByb3dpbmZvLyo6QXJyYXk8Um93SW5mbz4qLyA9IFtdLCBjb2xpbmZvLyo6QXJyYXk8Q29sSW5mbz4qLyA9IFtdLCBjdy8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHRcdHZhciBNdmFsID0gMCwgajtcblx0XHR2YXIgd2IgPSB7IFdvcmtib29rOiB7IFdCUHJvcHM6IHt9LCBOYW1lczogW10gfSB9O1xuXHRcdGlmKCtvcHRzLmNvZGVwYWdlID49IDApIHNldF9jcCgrb3B0cy5jb2RlcGFnZSk7XG5cdFx0Zm9yICg7IHJpICE9PSByZWNvcmRzLmxlbmd0aDsgKytyaSkge1xuXHRcdFx0TXZhbCA9IDA7XG5cdFx0XHR2YXIgcnN0cj1yZWNvcmRzW3JpXS50cmltKCkucmVwbGFjZSgvXFx4MUIoW1xceDIwLVxceDJGXSkoW1xceDMwLVxceDNGXSkvZywgZGVjb2RlX3N5bGtfY2hhcikucmVwbGFjZShzeWxrX2NoYXJfcmVnZXgsIHN5bGtfY2hhcl9mbik7XG5cdFx0XHR2YXIgcmVjb3JkPXJzdHIucmVwbGFjZSgvOzsvZywgXCJcXHUwMDAwXCIpLnNwbGl0KFwiO1wiKS5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4geC5yZXBsYWNlKC9cXHUwMDAwL2csIFwiO1wiKTsgfSk7XG5cdFx0XHR2YXIgUlQ9cmVjb3JkWzBdLCB2YWw7XG5cdFx0XHRpZihyc3RyLmxlbmd0aCA+IDApIHN3aXRjaChSVCkge1xuXHRcdFx0Y2FzZSAnSUQnOiBicmVhazsgLyogaGVhZGVyICovXG5cdFx0XHRjYXNlICdFJzogYnJlYWs7IC8qIEVPRiAqL1xuXHRcdFx0Y2FzZSAnQic6IGJyZWFrOyAvKiBkaW1lbnNpb25zICovXG5cdFx0XHRjYXNlICdPJzogLyogd29ya2Jvb2sgb3B0aW9ucyAqL1xuXHRcdFx0Zm9yKHJqPTE7IHJqPHJlY29yZC5sZW5ndGg7ICsrcmopIHN3aXRjaChyZWNvcmRbcmpdLmNoYXJBdCgwKSkge1xuXHRcdFx0XHRjYXNlICdWJzoge1xuXHRcdFx0XHRcdHZhciBkMTkwNCA9IHBhcnNlSW50KHJlY29yZFtyal0uc2xpY2UoMSksIDEwKTtcblx0XHRcdFx0XHQvLyBOT1RFOiBpdCBpcyB0ZWNobmljYWxseSBhbiBlcnJvciBpZiBkMTkwNCA+PSA1IG9yIDwgMFxuXHRcdFx0XHRcdGlmKGQxOTA0ID49IDEgJiYgZDE5MDQgPD0gNCkgd2IuV29ya2Jvb2suV0JQcm9wcy5kYXRlMTkwNCA9IHRydWU7XG5cdFx0XHRcdH0gYnJlYWs7XG5cdFx0XHR9IGJyZWFrO1xuXHRcdFx0Y2FzZSAnVyc6IGJyZWFrOyAvKiB3aW5kb3cgKi9cblx0XHRcdGNhc2UgJ1AnOlxuXHRcdFx0XHRzd2l0Y2gocmVjb3JkWzFdLmNoYXJBdCgwKSl7XG5cdFx0XHRcdFx0Y2FzZSAnUCc6IGZvcm1hdHMucHVzaChyc3RyLnNsaWNlKDMpLnJlcGxhY2UoLzs7L2csIFwiO1wiKSk7IGJyZWFrO1xuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0Y2FzZSAnTk4nOiB7IC8qIGRlZmluZWQgbmFtZSAqL1xuXHRcdFx0XHR2YXIgbm4gPSB7U2hlZXQ6IDB9O1xuXHRcdFx0XHRmb3Iocmo9MTsgcmo8cmVjb3JkLmxlbmd0aDsgKytyaikgc3dpdGNoKHJlY29yZFtyal0uY2hhckF0KDApKSB7XG5cdFx0XHRcdFx0Y2FzZSAnTic6IG5uLk5hbWUgPSByZWNvcmRbcmpdLnNsaWNlKDEpOyBicmVhaztcblx0XHRcdFx0XHRjYXNlICdFJzogbm4uUmVmID0gKG9wdHMgJiYgb3B0cy5zaGVldCB8fCBcIlNoZWV0MVwiKSArIFwiIVwiICsgcmNfdG9fYTEocmVjb3JkW3JqXS5zbGljZSgxKSk7IGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHdiLldvcmtib29rLk5hbWVzLnB1c2gobm4pO1xuXHRcdFx0fSBicmVhaztcblx0XHRcdC8vIGNhc2UgJ05FJzogLy8gPz9cblx0XHRcdC8vIGNhc2UgJ05VJzogLy8gPz9cblx0XHRcdGNhc2UgJ0MnOiAvKiBjZWxsICovXG5cdFx0XHR2YXIgQ19zZWVuX0sgPSBmYWxzZSwgQ19zZWVuX1ggPSBmYWxzZSwgQ19zZWVuX1MgPSBmYWxzZSwgQ19zZWVuX0UgPSBmYWxzZSwgX1IgPSAtMSwgX0MgPSAtMSwgZm9ybXVsYSA9IFwiXCIsIGNlbGxfdCA9IFwielwiO1xuXHRcdFx0dmFyIGNtbnQgPSBcIlwiO1xuXHRcdFx0Zm9yKHJqPTE7IHJqPHJlY29yZC5sZW5ndGg7ICsrcmopIHN3aXRjaChyZWNvcmRbcmpdLmNoYXJBdCgwKSkge1xuXHRcdFx0XHRjYXNlICdBJzogY21udCA9IHJlY29yZFtyal0uc2xpY2UoMSk7IGJyZWFrOyAvLyBUT0RPOiBjb21tZW50XG5cdFx0XHRcdGNhc2UgJ1gnOiBDID0gcGFyc2VJbnQocmVjb3JkW3JqXS5zbGljZSgxKSwgMTApLTE7IENfc2Vlbl9YID0gdHJ1ZTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJ1knOlxuXHRcdFx0XHRcdFIgPSBwYXJzZUludChyZWNvcmRbcmpdLnNsaWNlKDEpLCAxMCktMTsgaWYoIUNfc2Vlbl9YKSBDID0gMDtcblx0XHRcdFx0XHRmb3IoaiA9IGFyci5sZW5ndGg7IGogPD0gUjsgKytqKSBhcnJbal0gPSBbXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnSyc6XG5cdFx0XHRcdFx0dmFsID0gcmVjb3JkW3JqXS5zbGljZSgxKTtcblx0XHRcdFx0XHRpZih2YWwuY2hhckF0KDApID09PSAnXCInKSB7IHZhbCA9IHZhbC5zbGljZSgxLHZhbC5sZW5ndGggLSAxKTsgY2VsbF90ID0gXCJzXCI7IH1cblx0XHRcdFx0XHRlbHNlIGlmKHZhbCA9PT0gJ1RSVUUnIHx8IHZhbCA9PT0gJ0ZBTFNFJykgeyB2YWwgPSB2YWwgPT09ICdUUlVFJzsgY2VsbF90ID0gXCJiXCI7IH1cblx0XHRcdFx0XHRlbHNlIGlmKHZhbC5jaGFyQXQoMCkgPT0gXCIjXCIgJiYgUkJFcnJbdmFsXSAhPSBudWxsKSB7IGNlbGxfdCA9IFwiZVwiOyB2YWwgPSBSQkVyclt2YWxdOyB9XG5cdFx0XHRcdFx0ZWxzZSBpZighaXNOYU4oZnV6enludW0odmFsKSkpIHtcblx0XHRcdFx0XHRcdHZhbCA9IGZ1enp5bnVtKHZhbCk7IGNlbGxfdCA9IFwiblwiO1xuXHRcdFx0XHRcdFx0aWYobmV4dF9jZWxsX2Zvcm1hdCAhPT0gbnVsbCAmJiBmbXRfaXNfZGF0ZShuZXh0X2NlbGxfZm9ybWF0KSAmJiBvcHRzLmNlbGxEYXRlcykge1xuXHRcdFx0XHRcdFx0XHR2YWwgPSBudW1kYXRlKHdiLldvcmtib29rLldCUHJvcHMuZGF0ZTE5MDQgPyB2YWwgKyAxNDYyIDogdmFsKTsgY2VsbF90ID0gdHlwZW9mIHZhbCA9PSBcIm51bWJlclwiID8gXCJuXCIgOiBcImRcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYodHlwZW9mICRjcHRhYmxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdmFsID09IFwic3RyaW5nXCIgJiYgKChvcHRzfHx7fSkudHlwZSAhPSBcInN0cmluZ1wiKSAmJiAob3B0c3x8e30pLmNvZGVwYWdlKSB2YWwgPSAkY3B0YWJsZS51dGlscy5kZWNvZGUob3B0cy5jb2RlcGFnZSwgdmFsKTtcblx0XHRcdFx0XHRDX3NlZW5fSyA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0UnOlxuXHRcdFx0XHRcdENfc2Vlbl9FID0gdHJ1ZTtcblx0XHRcdFx0XHRmb3JtdWxhID0gcmNfdG9fYTEocmVjb3JkW3JqXS5zbGljZSgxKSwge3I6UixjOkN9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnUyc6XG5cdFx0XHRcdFx0Q19zZWVuX1MgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdHJzogYnJlYWs7IC8vIHVua25vd25cblx0XHRcdFx0Y2FzZSAnUic6IF9SID0gcGFyc2VJbnQocmVjb3JkW3JqXS5zbGljZSgxKSwgMTApLTE7IGJyZWFrO1xuXHRcdFx0XHRjYXNlICdDJzogX0MgPSBwYXJzZUludChyZWNvcmRbcmpdLnNsaWNlKDEpLCAxMCktMTsgYnJlYWs7XG5cdFx0XHRcdC8vIGNhc2UgJ1AnOiAvLyA/P1xuXHRcdFx0XHQvLyBjYXNlICdEJzogLy8gPz9cblx0XHRcdFx0ZGVmYXVsdDogaWYob3B0cyAmJiBvcHRzLldURikgdGhyb3cgbmV3IEVycm9yKFwiU1lMSyBiYWQgcmVjb3JkIFwiICsgcnN0cik7XG5cdFx0XHR9XG5cdFx0XHRpZihDX3NlZW5fSykge1xuXHRcdFx0XHRpZighYXJyW1JdW0NdKSBhcnJbUl1bQ10gPSB7IHQ6IGNlbGxfdCwgdjogdmFsIH07XG5cdFx0XHRcdGVsc2UgeyBhcnJbUl1bQ10udCA9IGNlbGxfdDsgYXJyW1JdW0NdLnYgPSB2YWw7IH1cblx0XHRcdFx0aWYobmV4dF9jZWxsX2Zvcm1hdCkgYXJyW1JdW0NdLnogPSBuZXh0X2NlbGxfZm9ybWF0O1xuXHRcdFx0XHRpZihvcHRzLmNlbGxUZXh0ICE9PSBmYWxzZSAmJiBuZXh0X2NlbGxfZm9ybWF0KSBhcnJbUl1bQ10udyA9IFNTRl9mb3JtYXQoYXJyW1JdW0NdLnosIGFycltSXVtDXS52LCB7IGRhdGUxOTA0OiB3Yi5Xb3JrYm9vay5XQlByb3BzLmRhdGUxOTA0IH0pO1xuXHRcdFx0XHRuZXh0X2NlbGxfZm9ybWF0ID0gbnVsbDtcblx0XHRcdH1cblx0XHRcdGlmKENfc2Vlbl9TKSB7XG5cdFx0XHRcdGlmKENfc2Vlbl9FKSB0aHJvdyBuZXcgRXJyb3IoXCJTWUxLIHNoYXJlZCBmb3JtdWxhIGNhbm5vdCBoYXZlIG93biBmb3JtdWxhXCIpO1xuXHRcdFx0XHR2YXIgc2hyYmFzZSA9IF9SID4gLTEgJiYgYXJyW19SXVtfQ107XG5cdFx0XHRcdGlmKCFzaHJiYXNlIHx8ICFzaHJiYXNlWzFdKSB0aHJvdyBuZXcgRXJyb3IoXCJTWUxLIHNoYXJlZCBmb3JtdWxhIGNhbm5vdCBmaW5kIGJhc2VcIik7XG5cdFx0XHRcdGZvcm11bGEgPSBzaGlmdF9mb3JtdWxhX3N0cihzaHJiYXNlWzFdLCB7cjogUiAtIF9SLCBjOiBDIC0gX0N9KTtcblx0XHRcdH1cblx0XHRcdGlmKGZvcm11bGEpIHtcblx0XHRcdFx0aWYoIWFycltSXVtDXSkgYXJyW1JdW0NdID0geyB0OiAnbicsIGY6IGZvcm11bGEgfTtcblx0XHRcdFx0ZWxzZSBhcnJbUl1bQ10uZiA9IGZvcm11bGE7XG5cdFx0XHR9XG5cdFx0XHRpZihjbW50KSB7XG5cdFx0XHRcdGlmKCFhcnJbUl1bQ10pIGFycltSXVtDXSA9IHsgdDogJ3onIH07XG5cdFx0XHRcdGFycltSXVtDXS5jID0gW3thOlwiU2hlZXRKU1lMS1wiLCB0OiBjbW50fV07XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ0YnOiAvKiBGb3JtYXQgKi9cblx0XHRcdHZhciBGX3NlZW4gPSAwO1xuXHRcdFx0Zm9yKHJqPTE7IHJqPHJlY29yZC5sZW5ndGg7ICsrcmopIHN3aXRjaChyZWNvcmRbcmpdLmNoYXJBdCgwKSkge1xuXHRcdFx0XHRjYXNlICdYJzogQyA9IHBhcnNlSW50KHJlY29yZFtyal0uc2xpY2UoMSksIDEwKS0xOyArK0Zfc2VlbjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJ1knOlxuXHRcdFx0XHRcdFIgPSBwYXJzZUludChyZWNvcmRbcmpdLnNsaWNlKDEpLCAxMCktMTsgLypDID0gMDsqL1xuXHRcdFx0XHRcdGZvcihqID0gYXJyLmxlbmd0aDsgaiA8PSBSOyArK2opIGFycltqXSA9IFtdO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdNJzogTXZhbCA9IHBhcnNlSW50KHJlY29yZFtyal0uc2xpY2UoMSksIDEwKSAvIDIwOyBicmVhaztcblx0XHRcdFx0Y2FzZSAnRic6IGJyZWFrOyAvKiA/Pz8gKi9cblx0XHRcdFx0Y2FzZSAnRyc6IGJyZWFrOyAvKiBoaWRlIGdyaWQgKi9cblx0XHRcdFx0Y2FzZSAnUCc6XG5cdFx0XHRcdFx0bmV4dF9jZWxsX2Zvcm1hdCA9IGZvcm1hdHNbcGFyc2VJbnQocmVjb3JkW3JqXS5zbGljZSgxKSwgMTApXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnUyc6IGJyZWFrOyAvKiBjZWxsIHN0eWxlICovXG5cdFx0XHRcdGNhc2UgJ0QnOiBicmVhazsgLyogY29sdW1uICovXG5cdFx0XHRcdGNhc2UgJ04nOiBicmVhazsgLyogZm9udCAqL1xuXHRcdFx0XHRjYXNlICdXJzpcblx0XHRcdFx0XHRjdyA9IHJlY29yZFtyal0uc2xpY2UoMSkuc3BsaXQoXCIgXCIpO1xuXHRcdFx0XHRcdGZvcihqID0gcGFyc2VJbnQoY3dbMF0sIDEwKTsgaiA8PSBwYXJzZUludChjd1sxXSwgMTApOyArK2opIHtcblx0XHRcdFx0XHRcdE12YWwgPSBwYXJzZUludChjd1syXSwgMTApO1xuXHRcdFx0XHRcdFx0Y29saW5mb1tqLTFdID0gTXZhbCA9PT0gMCA/IHtoaWRkZW46dHJ1ZX06IHt3Y2g6TXZhbH07XG5cdFx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAnQyc6IC8qIGRlZmF1bHQgY29sdW1uIGZvcm1hdCAqL1xuXHRcdFx0XHRcdEMgPSBwYXJzZUludChyZWNvcmRbcmpdLnNsaWNlKDEpLCAxMCktMTtcblx0XHRcdFx0XHRpZighY29saW5mb1tDXSkgY29saW5mb1tDXSA9IHt9O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdSJzogLyogcm93IHByb3BlcnRpZXMgKi9cblx0XHRcdFx0XHRSID0gcGFyc2VJbnQocmVjb3JkW3JqXS5zbGljZSgxKSwgMTApLTE7XG5cdFx0XHRcdFx0aWYoIXJvd2luZm9bUl0pIHJvd2luZm9bUl0gPSB7fTtcblx0XHRcdFx0XHRpZihNdmFsID4gMCkgeyByb3dpbmZvW1JdLmhwdCA9IE12YWw7IHJvd2luZm9bUl0uaHB4ID0gcHQycHgoTXZhbCk7IH1cblx0XHRcdFx0XHRlbHNlIGlmKE12YWwgPT09IDApIHJvd2luZm9bUl0uaGlkZGVuID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Ly8gY2FzZSAnSyc6IC8vID8/XG5cdFx0XHRcdC8vIGNhc2UgJ0UnOiAvLyA/P1xuXHRcdFx0XHRkZWZhdWx0OiBpZihvcHRzICYmIG9wdHMuV1RGKSB0aHJvdyBuZXcgRXJyb3IoXCJTWUxLIGJhZCByZWNvcmQgXCIgKyByc3RyKTtcblx0XHRcdH1cblx0XHRcdGlmKEZfc2VlbiA8IDEpIG5leHRfY2VsbF9mb3JtYXQgPSBudWxsOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IGlmKG9wdHMgJiYgb3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcihcIlNZTEsgYmFkIHJlY29yZCBcIiArIHJzdHIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihyb3dpbmZvLmxlbmd0aCA+IDApIHNodFsnIXJvd3MnXSA9IHJvd2luZm87XG5cdFx0aWYoY29saW5mby5sZW5ndGggPiAwKSBzaHRbJyFjb2xzJ10gPSBjb2xpbmZvO1xuXHRcdGNvbGluZm8uZm9yRWFjaChmdW5jdGlvbihjb2wpIHsgcHJvY2Vzc19jb2woY29sKTsgfSk7XG5cdFx0aWYob3B0cyAmJiBvcHRzLnNoZWV0Um93cykgYXJyID0gYXJyLnNsaWNlKDAsIG9wdHMuc2hlZXRSb3dzKTtcblx0XHRyZXR1cm4gW2Fyciwgc2h0LCB3Yl07XG5cdH1cblxuXHRmdW5jdGlvbiBzeWxrX3RvX3dvcmtib29rKGQvKjpSYXdEYXRhKi8sIG9wdHMpLyo6V29ya2Jvb2sqLyB7XG5cdFx0dmFyIGFvYXNodCA9IHN5bGtfdG9fYW9hKGQsIG9wdHMpO1xuXHRcdHZhciBhb2EgPSBhb2FzaHRbMF0sIHdzID0gYW9hc2h0WzFdLCB3YiA9IGFvYXNodFsyXTtcblx0XHR2YXIgX29wdHMgPSBkdXAob3B0cyk7IF9vcHRzLmRhdGUxOTA0ID0gKCgod2J8fHt9KS5Xb3JrYm9vayB8fCB7fSkuV0JQcm9wcyB8fCB7fSkuZGF0ZTE5MDQ7XG5cdFx0dmFyIG8gPSBhb2FfdG9fc2hlZXQoYW9hLCBfb3B0cyk7XG5cdFx0a2V5cyh3cykuZm9yRWFjaChmdW5jdGlvbihrKSB7IG9ba10gPSB3c1trXTsgfSk7XG5cdFx0dmFyIG91dHdiID0gc2hlZXRfdG9fd29ya2Jvb2sobywgb3B0cyk7XG5cdFx0a2V5cyh3YikuZm9yRWFjaChmdW5jdGlvbihrKSB7IG91dHdiW2tdID0gd2Jba107IH0pO1xuXHRcdG91dHdiLmJvb2tUeXBlID0gXCJzeWxrXCI7XG5cdFx0cmV0dXJuIG91dHdiO1xuXHR9XG5cblx0ZnVuY3Rpb24gd3JpdGVfd3NfY2VsbF9zeWxrKGNlbGwvKjpDZWxsKi8sIHdzLyo6V29ya3NoZWV0Ki8sIFIvKjpudW1iZXIqLywgQy8qOm51bWJlciovLCBvcHRzLCBkYXRlMTkwNC8qOmJvb2xlYW4qLykvKjpzdHJpbmcqLyB7XG5cdFx0dmFyIG8gPSBcIkM7WVwiICsgKFIrMSkgKyBcIjtYXCIgKyAoQysxKSArIFwiO0tcIjtcblx0XHRzd2l0Y2goY2VsbC50KSB7XG5cdFx0XHRjYXNlICduJzpcblx0XHRcdFx0byArPSBpc0Zpbml0ZShjZWxsLnYpID8gKGNlbGwudnx8MCkgOiBCRXJyW2lzTmFOKGNlbGwudikgPyAweDI0IDogMHgwN107XG5cdFx0XHRcdGlmKGNlbGwuZiAmJiAhY2VsbC5GKSBvICs9IFwiO0VcIiArIGExX3RvX3JjKGNlbGwuZiwge3I6UiwgYzpDfSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnYic6IG8gKz0gY2VsbC52ID8gXCJUUlVFXCIgOiBcIkZBTFNFXCI7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnZSc6IG8gKz0gY2VsbC53IHx8IEJFcnJbY2VsbC52XSB8fCBjZWxsLnY7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnZCc6IG8gKz0gZGF0ZW51bShwYXJzZURhdGUoY2VsbC52LCBkYXRlMTkwNCksIGRhdGUxOTA0KTsgYnJlYWs7XG5cdFx0XHRjYXNlICdzJzogbyArPSAnXCInICsgKGNlbGwudiA9PSBudWxsID8gXCJcIiA6IFN0cmluZyhjZWxsLnYpKS5yZXBsYWNlKC9cIi9nLFwiXCIpLnJlcGxhY2UoLzsvZywgXCI7O1wiKSArICdcIic7IGJyZWFrO1xuXHRcdH1cblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGZ1bmN0aW9uIHdyaXRlX3dzX2NtbnRfc3lsayhjbW50Lyo6Q29tbWVudCovLCBSLyo6bnVtYmVyKi8sIEMvKjpudW1iZXIqLykvKjpzdHJpbmcqLyB7XG5cdFx0dmFyIG8gPSBcIkM7WVwiICsgKFIrMSkgKyBcIjtYXCIgKyAoQysxKSArIFwiO0FcIjtcblx0XHQvKiBUT0RPOiBtYXggbGVuZ3RoPyAqL1xuXHRcdG8gKz0gZW5jb2RlX3N5bGtfc3RyKGNtbnQubWFwKGZ1bmN0aW9uKGMpIHsgcmV0dXJuIGMudDsgfSkuam9pbihcIlwiKSk7XG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiB3cml0ZV93c19jb2xzX3N5bGsob3V0LCBjb2xzKSB7XG5cdFx0Y29scy5mb3JFYWNoKGZ1bmN0aW9uKGNvbCwgaSkge1xuXHRcdFx0dmFyIHJlYyA9IFwiRjtXXCIgKyAoaSsxKSArIFwiIFwiICsgKGkrMSkgKyBcIiBcIjtcblx0XHRcdGlmKGNvbC5oaWRkZW4pIHJlYyArPSBcIjBcIjtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZih0eXBlb2YgY29sLndpZHRoID09ICdudW1iZXInICYmICFjb2wud3B4KSBjb2wud3B4ID0gd2lkdGgycHgoY29sLndpZHRoKTtcblx0XHRcdFx0aWYodHlwZW9mIGNvbC53cHggPT0gJ251bWJlcicgJiYgIWNvbC53Y2gpIGNvbC53Y2ggPSBweDJjaGFyKGNvbC53cHgpO1xuXHRcdFx0XHRpZih0eXBlb2YgY29sLndjaCA9PSAnbnVtYmVyJykgcmVjICs9IE1hdGgucm91bmQoY29sLndjaCk7XG5cdFx0XHR9XG5cdFx0XHRpZihyZWMuY2hhckF0KHJlYy5sZW5ndGggLSAxKSAhPSBcIiBcIikgb3V0LnB1c2gocmVjKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHdyaXRlX3dzX3Jvd3Nfc3lsayhvdXQvKjpBcnJheTxzdHJpbmc+Ki8sIHJvd3MvKjpBcnJheTxSb3dJbmZvPiovKSB7XG5cdFx0cm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdywgaSkge1xuXHRcdFx0dmFyIHJlYyA9IFwiRjtcIjtcblx0XHRcdGlmKHJvdy5oaWRkZW4pIHJlYyArPSBcIk0wO1wiO1xuXHRcdFx0ZWxzZSBpZihyb3cuaHB0KSByZWMgKz0gXCJNXCIgKyAyMCAqIHJvdy5ocHQgKyBcIjtcIjtcblx0XHRcdGVsc2UgaWYocm93LmhweCkgcmVjICs9IFwiTVwiICsgMjAgKiBweDJwdChyb3cuaHB4KSArIFwiO1wiO1xuXHRcdFx0aWYocmVjLmxlbmd0aCA+IDIpIG91dC5wdXNoKHJlYyArIFwiUlwiICsgKGkrMSkpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2hlZXRfdG9fc3lsayh3cy8qOldvcmtzaGVldCovLCBvcHRzLyo6P2FueSovLCB3Yi8qOj9Xb3JrQm9vayovKS8qOnN0cmluZyovIHtcblx0XHRpZighb3B0cykgb3B0cyA9IHt9OyBvcHRzLl9mb3JtYXRzID0gW1wiR2VuZXJhbFwiXTtcblx0XHQvKiBUT0RPOiBjb2RlcGFnZSAqL1xuXHRcdHZhciBwcmVhbWJsZS8qOkFycmF5PHN0cmluZz4qLyA9IFtcIklEO1BTaGVldEpTO047RVwiXSwgby8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHRcdHZhciByID0gc2FmZV9kZWNvZGVfcmFuZ2Uod3NbJyFyZWYnXXx8XCJBMVwiKSwgY2VsbC8qOkNlbGwqLztcblx0XHR2YXIgZGVuc2UgPSB3c1tcIiFkYXRhXCJdICE9IG51bGw7XG5cdFx0dmFyIFJTID0gXCJcXHJcXG5cIjtcblx0XHR2YXIgZDE5MDQgPSAoKCh3Ynx8e30pLldvcmtib29rfHx7fSkuV0JQcm9wc3x8e30pLmRhdGUxOTA0O1xuXG5cdFx0dmFyIF9sYXN0Zm10ID0gXCJHZW5lcmFsXCI7XG5cdFx0cHJlYW1ibGUucHVzaChcIlA7UEdlbmVyYWxcIik7XG5cdFx0LyogRXhjZWwgaGFzIGJlZW4gaW5jb25zaXN0ZW50IGluIGNvbW1lbnQgcGxhY2VtZW50ICovXG5cdFx0dmFyIFIgPSByLnMuciwgQyA9IHIucy5jLCBwID0gW107XG5cdFx0aWYod3NbXCIhcmVmXCJdKSBmb3IoUiA9IHIucy5yOyBSIDw9IHIuZS5yOyArK1IpIHtcblx0XHRcdGlmKGRlbnNlICYmICF3c1tcIiFkYXRhXCJdW1JdKSBjb250aW51ZTtcblx0XHRcdHAgPSBbXTtcblx0XHRcdGZvcihDID0gci5zLmM7IEMgPD0gci5lLmM7ICsrQykge1xuXHRcdFx0XHRjZWxsID0gZGVuc2UgPyB3c1tcIiFkYXRhXCJdW1JdW0NdIDogd3NbZW5jb2RlX2NvbChDKSArIGVuY29kZV9yb3coUildO1xuXHRcdFx0XHRpZighY2VsbCB8fCAhY2VsbC5jKSBjb250aW51ZTtcblx0XHRcdFx0cC5wdXNoKHdyaXRlX3dzX2NtbnRfc3lsayhjZWxsLmMsIFIsIEMpKTtcblx0XHRcdH1cblx0XHRcdGlmKHAubGVuZ3RoKSBvLnB1c2gocC5qb2luKFJTKSk7XG5cdFx0fVxuXHRcdGlmKHdzW1wiIXJlZlwiXSkgZm9yKFIgPSByLnMucjsgUiA8PSByLmUucjsgKytSKSB7XG5cdFx0XHRpZihkZW5zZSAmJiAhd3NbXCIhZGF0YVwiXVtSXSkgY29udGludWU7XG5cdFx0XHRwID0gW107XG5cdFx0XHRmb3IoQyA9IHIucy5jOyBDIDw9IHIuZS5jOyArK0MpIHtcblx0XHRcdFx0Y2VsbCA9IGRlbnNlID8gd3NbXCIhZGF0YVwiXVtSXVtDXSA6IHdzW2VuY29kZV9jb2woQykgKyBlbmNvZGVfcm93KFIpXTtcblx0XHRcdFx0aWYoIWNlbGwgfHwgKGNlbGwudiA9PSBudWxsICYmICghY2VsbC5mIHx8IGNlbGwuRikpKSBjb250aW51ZTtcblx0XHRcdFx0aWYoKGNlbGwuenx8KGNlbGwudCA9PSBcImRcIiA/IHRhYmxlX2ZtdFsxNF0gOiBcIkdlbmVyYWxcIikpICE9IF9sYXN0Zm10KSB7XG5cdFx0XHRcdFx0dmFyIGlmbXQgPSBvcHRzLl9mb3JtYXRzLmluZGV4T2YoY2VsbC56KTtcblx0XHRcdFx0XHRpZihpZm10ID09IC0xKSB7IG9wdHMuX2Zvcm1hdHMucHVzaChjZWxsLnopOyBpZm10ID0gb3B0cy5fZm9ybWF0cy5sZW5ndGggLSAxOyBwcmVhbWJsZS5wdXNoKFwiUDtQXCIgKyBjZWxsLnoucmVwbGFjZSgvOy9nLCBcIjs7XCIpKTsgfVxuXHRcdFx0XHRcdHAucHVzaChcIkY7UFwiICsgaWZtdCArIFwiO1lcIiArIChSKzEpICsgXCI7WFwiICsgKEMrMSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHAucHVzaCh3cml0ZV93c19jZWxsX3N5bGsoY2VsbCwgd3MsIFIsIEMsIG9wdHMsIGQxOTA0KSk7XG5cdFx0XHR9XG5cdFx0XHRvLnB1c2gocC5qb2luKFJTKSk7XG5cdFx0fVxuXG5cdFx0cHJlYW1ibGUucHVzaChcIkY7UDA7REcwRzg7TTI1NVwiKTtcblx0XHRpZih3c1snIWNvbHMnXSkgd3JpdGVfd3NfY29sc19zeWxrKHByZWFtYmxlLCB3c1snIWNvbHMnXSk7XG5cdFx0aWYod3NbJyFyb3dzJ10pIHdyaXRlX3dzX3Jvd3Nfc3lsayhwcmVhbWJsZSwgd3NbJyFyb3dzJ10pO1xuXG5cdFx0aWYod3NbXCIhcmVmXCJdKSBwcmVhbWJsZS5wdXNoKFwiQjtZXCIgKyAoci5lLnIgLSByLnMuciArIDEpICsgXCI7WFwiICsgKHIuZS5jIC0gci5zLmMgKyAxKSArIFwiO0RcIiArIFtyLnMuYyxyLnMucixyLmUuYyxyLmUucl0uam9pbihcIiBcIikpO1xuXHRcdHByZWFtYmxlLnB1c2goXCJPO0w7RDtCXCIgKyAoZDE5MDQgPyBcIjtWNFwiIDogXCJcIikgKyBcIjtLNDc7RzEwMCAwLjAwMVwiKTtcblxuXHRcdGRlbGV0ZSBvcHRzLl9mb3JtYXRzO1xuXHRcdHJldHVybiBwcmVhbWJsZS5qb2luKFJTKSArIFJTICsgby5qb2luKFJTKSArIFJTICsgXCJFXCIgKyBSUztcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dG9fd29ya2Jvb2s6IHN5bGtfdG9fd29ya2Jvb2ssXG5cdFx0ZnJvbV9zaGVldDogc2hlZXRfdG9fc3lsa1xuXHR9O1xufSkoKTtcblxudmFyIERJRiA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKSB7XG5cdGZ1bmN0aW9uIGRpZl90b19hb2EoZC8qOlJhd0RhdGEqLywgb3B0cykvKjpBT0EqLyB7XG5cdFx0c3dpdGNoKG9wdHMudHlwZSkge1xuXHRcdFx0Y2FzZSAnYmFzZTY0JzogcmV0dXJuIGRpZl90b19hb2Ffc3RyKEJhc2U2NF9kZWNvZGUoZCksIG9wdHMpO1xuXHRcdFx0Y2FzZSAnYmluYXJ5JzogcmV0dXJuIGRpZl90b19hb2Ffc3RyKGQsIG9wdHMpO1xuXHRcdFx0Y2FzZSAnYnVmZmVyJzogcmV0dXJuIGRpZl90b19hb2Ffc3RyKGhhc19idWYgJiYgQnVmZmVyLmlzQnVmZmVyKGQpID8gZC50b1N0cmluZygnYmluYXJ5JykgOiBhMnMoZCksIG9wdHMpO1xuXHRcdFx0Y2FzZSAnYXJyYXknOiByZXR1cm4gZGlmX3RvX2FvYV9zdHIoY2Myc3RyKGQpLCBvcHRzKTtcblx0XHR9XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHR5cGUgXCIgKyBvcHRzLnR5cGUpO1xuXHR9XG5cdGZ1bmN0aW9uIGRpZl90b19hb2Ffc3RyKHN0ci8qOnN0cmluZyovLCBvcHRzKS8qOkFPQSovIHtcblx0XHR2YXIgcmVjb3JkcyA9IHN0ci5zcGxpdCgnXFxuJyksIFIgPSAtMSwgQyA9IC0xLCByaSA9IDAsIGFyci8qOkFPQSovID0gW107XG5cdFx0Zm9yICg7IHJpICE9PSByZWNvcmRzLmxlbmd0aDsgKytyaSkge1xuXHRcdFx0aWYgKHJlY29yZHNbcmldLnRyaW0oKSA9PT0gJ0JPVCcpIHsgYXJyWysrUl0gPSBbXTsgQyA9IDA7IGNvbnRpbnVlOyB9XG5cdFx0XHRpZiAoUiA8IDApIGNvbnRpbnVlO1xuXHRcdFx0dmFyIG1ldGFkYXRhID0gcmVjb3Jkc1tyaV0udHJpbSgpLnNwbGl0KFwiLFwiKTtcblx0XHRcdHZhciB0eXBlID0gbWV0YWRhdGFbMF0sIHZhbHVlID0gbWV0YWRhdGFbMV07XG5cdFx0XHQrK3JpO1xuXHRcdFx0dmFyIGRhdGEgPSByZWNvcmRzW3JpXSB8fCBcIlwiO1xuXHRcdFx0d2hpbGUoKChkYXRhLm1hdGNoKC9bXCJdL2cpfHxbXSkubGVuZ3RoICYgMSkgJiYgcmkgPCByZWNvcmRzLmxlbmd0aCAtIDEpIGRhdGEgKz0gXCJcXG5cIiArIHJlY29yZHNbKytyaV07XG5cdFx0XHRkYXRhID0gZGF0YS50cmltKCk7XG5cdFx0XHRzd2l0Y2ggKCt0eXBlKSB7XG5cdFx0XHRcdGNhc2UgLTE6XG5cdFx0XHRcdFx0aWYgKGRhdGEgPT09ICdCT1QnKSB7IGFyclsrK1JdID0gW107IEMgPSAwOyBjb250aW51ZTsgfVxuXHRcdFx0XHRcdGVsc2UgaWYgKGRhdGEgIT09ICdFT0QnKSB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgRElGIHNwZWNpYWwgY29tbWFuZCBcIiArIGRhdGEpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYoZGF0YSA9PT0gJ1RSVUUnKSBhcnJbUl1bQ10gPSB0cnVlO1xuXHRcdFx0XHRcdGVsc2UgaWYoZGF0YSA9PT0gJ0ZBTFNFJykgYXJyW1JdW0NdID0gZmFsc2U7XG5cdFx0XHRcdFx0ZWxzZSBpZighaXNOYU4oZnV6enludW0odmFsdWUpKSkgYXJyW1JdW0NdID0gZnV6enludW0odmFsdWUpO1xuXHRcdFx0XHRcdGVsc2UgaWYoIWlzTmFOKGZ1enp5ZGF0ZSh2YWx1ZSkuZ2V0RGF0ZSgpKSkge1xuXHRcdFx0XHRcdFx0YXJyW1JdW0NdID0gcGFyc2VEYXRlKHZhbHVlKTtcblx0XHRcdFx0XHRcdGlmKCEob3B0cyAmJiBvcHRzLlVUQykpIHsgYXJyW1JdW0NdID0gdXRjX3RvX2xvY2FsKGFycltSXVtDXSk7IH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBhcnJbUl1bQ10gPSB2YWx1ZTtcblx0XHRcdFx0XHQrK0M7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDE6XG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGEuc2xpY2UoMSxkYXRhLmxlbmd0aC0xKTtcblx0XHRcdFx0XHRkYXRhID0gZGF0YS5yZXBsYWNlKC9cIlwiL2csICdcIicpO1xuXHRcdFx0XHRcdGlmKERJRl9YTCAmJiBkYXRhICYmIGRhdGEubWF0Y2goL149XCIuKlwiJC8pKSBkYXRhID0gZGF0YS5zbGljZSgyLCAtMSk7XG5cdFx0XHRcdFx0YXJyW1JdW0MrK10gPSBkYXRhICE9PSAnJyA/IGRhdGEgOiBudWxsO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGRhdGEgPT09ICdFT0QnKSBicmVhaztcblx0XHR9XG5cdFx0aWYob3B0cyAmJiBvcHRzLnNoZWV0Um93cykgYXJyID0gYXJyLnNsaWNlKDAsIG9wdHMuc2hlZXRSb3dzKTtcblx0XHRyZXR1cm4gYXJyO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGlmX3RvX3NoZWV0KHN0ci8qOnN0cmluZyovLCBvcHRzKS8qOldvcmtzaGVldCovIHsgcmV0dXJuIGFvYV90b19zaGVldChkaWZfdG9fYW9hKHN0ciwgb3B0cyksIG9wdHMpOyB9XG5cdGZ1bmN0aW9uIGRpZl90b193b3JrYm9vayhzdHIvKjpzdHJpbmcqLywgb3B0cykvKjpXb3JrYm9vayovIHtcblx0XHR2YXIgbyA9IHNoZWV0X3RvX3dvcmtib29rKGRpZl90b19zaGVldChzdHIsIG9wdHMpLCBvcHRzKTtcblx0XHRvLmJvb2tUeXBlID0gXCJkaWZcIjtcblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGZ1bmN0aW9uIG1ha2VfdmFsdWUodi8qOm51bWJlciovLCBzLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8geyByZXR1cm4gXCIwLFwiICsgU3RyaW5nKHYpICsgXCJcXHJcXG5cIiArIHM7IH1cblx0ZnVuY3Rpb24gbWFrZV92YWx1ZV9zdHIocy8qOnN0cmluZyovKS8qOnN0cmluZyovIHsgcmV0dXJuIFwiMSwwXFxyXFxuXFxcIlwiICsgcy5yZXBsYWNlKC9cIi9nLCdcIlwiJykgKyAnXCInOyB9XG5cdGZ1bmN0aW9uIHNoZWV0X3RvX2RpZih3cy8qOldvcmtzaGVldCovLyo6Oiwgb3B0czo/YW55Ki8pLyo6c3RyaW5nKi8ge1xuXHRcdHZhciBfRElGX1hMID0gRElGX1hMO1xuXHRcdGlmKCF3c1tcIiFyZWZcIl0pIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHBvcnQgZW1wdHkgc2hlZXQgdG8gRElGXCIpO1xuXHRcdHZhciByID0gc2FmZV9kZWNvZGVfcmFuZ2Uod3NbJyFyZWYnXSk7XG5cdFx0dmFyIGRlbnNlID0gd3NbXCIhZGF0YVwiXSAhPSBudWxsO1xuXHRcdHZhciBvLyo6QXJyYXk8c3RyaW5nPiovID0gW1xuXHRcdFx0XCJUQUJMRVxcclxcbjAsMVxcclxcblxcXCJzaGVldGpzXFxcIlxcclxcblwiLFxuXHRcdFx0XCJWRUNUT1JTXFxyXFxuMCxcIiArIChyLmUuciAtIHIucy5yICsgMSkgKyBcIlxcclxcblxcXCJcXFwiXFxyXFxuXCIsXG5cdFx0XHRcIlRVUExFU1xcclxcbjAsXCIgKyAoci5lLmMgLSByLnMuYyArIDEpICsgXCJcXHJcXG5cXFwiXFxcIlxcclxcblwiLFxuXHRcdFx0XCJEQVRBXFxyXFxuMCwwXFxyXFxuXFxcIlxcXCJcXHJcXG5cIlxuXHRcdF07XG5cdFx0Zm9yKHZhciBSID0gci5zLnI7IFIgPD0gci5lLnI7ICsrUikge1xuXHRcdFx0dmFyIHJvdyA9IGRlbnNlID8gd3NbXCIhZGF0YVwiXVtSXSA6IFtdO1xuXHRcdFx0dmFyIHAgPSBcIi0xLDBcXHJcXG5CT1RcXHJcXG5cIjtcblx0XHRcdGZvcih2YXIgQyA9IHIucy5jOyBDIDw9IHIuZS5jOyArK0MpIHtcblx0XHRcdFx0dmFyIGNlbGwvKjpDZWxsKi8gPSBkZW5zZSA/IChyb3cgJiYgcm93W0NdKSA6IHdzW2VuY29kZV9jZWxsKHtyOlIsYzpDfSldO1xuXHRcdFx0XHRpZihjZWxsID09IG51bGwpIHsgcCArPShcIjEsMFxcclxcblxcXCJcXFwiXFxyXFxuXCIpOyBjb250aW51ZTt9XG5cdFx0XHRcdHN3aXRjaChjZWxsLnQpIHtcblx0XHRcdFx0XHRjYXNlICduJzpcblx0XHRcdFx0XHRcdGlmKF9ESUZfWEwpIHtcblx0XHRcdFx0XHRcdFx0aWYoY2VsbC53ICE9IG51bGwpIHAgKz0oXCIwLFwiICsgY2VsbC53ICsgXCJcXHJcXG5WXCIpO1xuXHRcdFx0XHRcdFx0XHRlbHNlIGlmKGNlbGwudiAhPSBudWxsKSBwICs9KG1ha2VfdmFsdWUoY2VsbC52LCBcIlZcIikpOyAvLyBUT0RPOiBzaG91bGQgdGhpcyBjYWxsIFNTRl9mb3JtYXQ/XG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYoY2VsbC5mICE9IG51bGwgJiYgIWNlbGwuRikgcCArPShtYWtlX3ZhbHVlX3N0cihcIj1cIiArIGNlbGwuZikpO1xuXHRcdFx0XHRcdFx0XHRlbHNlIHAgKz0oXCIxLDBcXHJcXG5cXFwiXFxcIlwiKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGlmKGNlbGwudiA9PSBudWxsKSBwICs9KFwiMSwwXFxyXFxuXFxcIlxcXCJcIik7XG5cdFx0XHRcdFx0XHRcdGVsc2UgcCArPShtYWtlX3ZhbHVlKGNlbGwudiwgXCJWXCIpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2InOlxuXHRcdFx0XHRcdFx0cCArPShjZWxsLnYgPyBtYWtlX3ZhbHVlKDEsIFwiVFJVRVwiKSA6IG1ha2VfdmFsdWUoMCwgXCJGQUxTRVwiKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdzJzpcblx0XHRcdFx0XHRcdHAgKz0obWFrZV92YWx1ZV9zdHIoKCFfRElGX1hMIHx8IGlzTmFOKCtjZWxsLnYpKSA/IGNlbGwudiA6ICc9XCInICsgY2VsbC52ICsgJ1wiJykpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZCc6XG5cdFx0XHRcdFx0XHRpZighY2VsbC53KSBjZWxsLncgPSBTU0ZfZm9ybWF0KGNlbGwueiB8fCB0YWJsZV9mbXRbMTRdLCBkYXRlbnVtKHBhcnNlRGF0ZShjZWxsLnYpKSk7XG5cdFx0XHRcdFx0XHRpZihfRElGX1hMKSBwICs9KG1ha2VfdmFsdWUoY2VsbC53LCBcIlZcIikpO1xuXHRcdFx0XHRcdFx0ZWxzZSBwICs9KG1ha2VfdmFsdWVfc3RyKGNlbGwudykpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDogcCArPShcIjEsMFxcclxcblxcXCJcXFwiXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHAgKz0gXCJcXHJcXG5cIjtcblx0XHRcdH1cblx0XHRcdG8ucHVzaChwKTtcblx0XHR9XG5cdFx0cmV0dXJuIG8uam9pbihcIlwiKSArIFwiLTEsMFxcclxcbkVPRFwiO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0dG9fd29ya2Jvb2s6IGRpZl90b193b3JrYm9vayxcblx0XHR0b19zaGVldDogZGlmX3RvX3NoZWV0LFxuXHRcdGZyb21fc2hlZXQ6IHNoZWV0X3RvX2RpZlxuXHR9O1xufSkoKTtcblxudmFyIEVUSCA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKSB7XG5cdGZ1bmN0aW9uIGRlY29kZShzLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8geyByZXR1cm4gcy5yZXBsYWNlKC9cXFxcYi9nLFwiXFxcXFwiKS5yZXBsYWNlKC9cXFxcYy9nLFwiOlwiKS5yZXBsYWNlKC9cXFxcbi9nLFwiXFxuXCIpOyB9XG5cdGZ1bmN0aW9uIGVuY29kZShzLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8geyByZXR1cm4gcy5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXGJcIikucmVwbGFjZSgvOi9nLCBcIlxcXFxjXCIpLnJlcGxhY2UoL1xcbi9nLFwiXFxcXG5cIik7IH1cblxuXHRmdW5jdGlvbiBldGhfdG9fYW9hKHN0ci8qOnN0cmluZyovLCBvcHRzKS8qOkFPQSovIHtcblx0XHR2YXIgcmVjb3JkcyA9IHN0ci5zcGxpdCgnXFxuJyksIFIgPSAtMSwgQyA9IC0xLCByaSA9IDAsIGFyci8qOkFPQSovID0gW107XG5cdFx0Zm9yICg7IHJpICE9PSByZWNvcmRzLmxlbmd0aDsgKytyaSkge1xuXHRcdFx0dmFyIHJlY29yZCA9IHJlY29yZHNbcmldLnRyaW0oKS5zcGxpdChcIjpcIik7XG5cdFx0XHRpZihyZWNvcmRbMF0gIT09ICdjZWxsJykgY29udGludWU7XG5cdFx0XHR2YXIgYWRkciA9IGRlY29kZV9jZWxsKHJlY29yZFsxXSk7XG5cdFx0XHRpZihhcnIubGVuZ3RoIDw9IGFkZHIucikgZm9yKFIgPSBhcnIubGVuZ3RoOyBSIDw9IGFkZHIucjsgKytSKSBpZighYXJyW1JdKSBhcnJbUl0gPSBbXTtcblx0XHRcdFIgPSBhZGRyLnI7IEMgPSBhZGRyLmM7XG5cdFx0XHRzd2l0Y2gocmVjb3JkWzJdKSB7XG5cdFx0XHRcdGNhc2UgJ3QnOiBhcnJbUl1bQ10gPSBkZWNvZGUocmVjb3JkWzNdKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJ3YnOiBhcnJbUl1bQ10gPSArcmVjb3JkWzNdOyBicmVhaztcblx0XHRcdFx0Y2FzZSAndnRmJzogdmFyIF9mID0gcmVjb3JkW3JlY29yZC5sZW5ndGggLSAxXTtcblx0XHRcdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRcdGNhc2UgJ3Z0Yyc6XG5cdFx0XHRcdFx0c3dpdGNoKHJlY29yZFszXSkge1xuXHRcdFx0XHRcdFx0Y2FzZSAnbmwnOiBhcnJbUl1bQ10gPSArcmVjb3JkWzRdID8gdHJ1ZSA6IGZhbHNlOyBicmVhaztcblx0XHRcdFx0XHRcdGRlZmF1bHQ6IGFycltSXVtDXSA9IHJlY29yZFtyZWNvcmQubGVuZ3RoLTFdLmNoYXJBdCgwKSA9PSBcIiNcIiA/ICh7dDogXCJlXCIsIHY6IFJCRXJyW3JlY29yZFtyZWNvcmQubGVuZ3RoLTFdXSB9KSA6ICtyZWNvcmRbNF07IGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZihyZWNvcmRbMl0gPT0gJ3Z0ZicpIGFycltSXVtDXSA9IFthcnJbUl1bQ10sIF9mXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYob3B0cyAmJiBvcHRzLnNoZWV0Um93cykgYXJyID0gYXJyLnNsaWNlKDAsIG9wdHMuc2hlZXRSb3dzKTtcblx0XHRyZXR1cm4gYXJyO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXRoX3RvX3NoZWV0KGQvKjpzdHJpbmcqLywgb3B0cykvKjpXb3Jrc2hlZXQqLyB7IHJldHVybiBhb2FfdG9fc2hlZXQoZXRoX3RvX2FvYShkLCBvcHRzKSwgb3B0cyk7IH1cblx0ZnVuY3Rpb24gZXRoX3RvX3dvcmtib29rKGQvKjpzdHJpbmcqLywgb3B0cykvKjpXb3JrYm9vayovIHsgcmV0dXJuIHNoZWV0X3RvX3dvcmtib29rKGV0aF90b19zaGVldChkLCBvcHRzKSwgb3B0cyk7IH1cblxuXHR2YXIgaGVhZGVyID0gW1xuXHRcdFwic29jaWFsY2FsYzp2ZXJzaW9uOjEuNVwiLFxuXHRcdFwiTUlNRS1WZXJzaW9uOiAxLjBcIixcblx0XHRcIkNvbnRlbnQtVHlwZTogbXVsdGlwYXJ0L21peGVkOyBib3VuZGFyeT1Tb2NpYWxDYWxjU3ByZWFkc2hlZXRDb250cm9sU2F2ZVwiXG5cdF0uam9pbihcIlxcblwiKTtcblxuXHR2YXIgc2VwID0gW1xuXHRcdFwiLS1Tb2NpYWxDYWxjU3ByZWFkc2hlZXRDb250cm9sU2F2ZVwiLFxuXHRcdFwiQ29udGVudC10eXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PVVURi04XCJcblx0XS5qb2luKFwiXFxuXCIpICsgXCJcXG5cIjtcblxuXHQvKiBUT0RPOiB0aGUgb3RoZXIgcGFydHMgKi9cblx0dmFyIG1ldGEgPSBbXG5cdFx0XCIjIFNvY2lhbENhbGMgU3ByZWFkc2hlZXQgQ29udHJvbCBTYXZlXCIsXG5cdFx0XCJwYXJ0OnNoZWV0XCJcblx0XS5qb2luKFwiXFxuXCIpO1xuXG5cdHZhciBlbmQgPSBcIi0tU29jaWFsQ2FsY1NwcmVhZHNoZWV0Q29udHJvbFNhdmUtLVwiO1xuXG5cdGZ1bmN0aW9uIHNoZWV0X3RvX2V0aF9kYXRhKHdzLyo6V29ya3NoZWV0Ki8pLyo6c3RyaW5nKi8ge1xuXHRcdGlmKCF3cyB8fCAhd3NbJyFyZWYnXSkgcmV0dXJuIFwiXCI7XG5cdFx0dmFyIG8vKjpBcnJheTxzdHJpbmc+Ki8gPSBbXSwgb28vKjpBcnJheTxzdHJpbmc+Ki8gPSBbXSwgY2VsbCwgY29vcmQgPSBcIlwiO1xuXHRcdHZhciByID0gZGVjb2RlX3JhbmdlKHdzWychcmVmJ10pO1xuXHRcdHZhciBkZW5zZSA9IHdzW1wiIWRhdGFcIl0gIT0gbnVsbDtcblx0XHRmb3IodmFyIFIgPSByLnMucjsgUiA8PSByLmUucjsgKytSKSB7XG5cdFx0XHRmb3IodmFyIEMgPSByLnMuYzsgQyA8PSByLmUuYzsgKytDKSB7XG5cdFx0XHRcdGNvb3JkID0gZW5jb2RlX2NlbGwoe3I6UixjOkN9KTtcblx0XHRcdFx0Y2VsbCA9IGRlbnNlID8gKHdzW1wiIWRhdGFcIl1bUl18fFtdKVtDXSA6IHdzW2Nvb3JkXTtcblx0XHRcdFx0aWYoIWNlbGwgfHwgY2VsbC52ID09IG51bGwgfHwgY2VsbC50ID09PSAneicpIGNvbnRpbnVlO1xuXHRcdFx0XHRvbyA9IFtcImNlbGxcIiwgY29vcmQsICd0J107XG5cdFx0XHRcdHN3aXRjaChjZWxsLnQpIHtcblx0XHRcdFx0XHRjYXNlICdzJzogb28ucHVzaChlbmNvZGUoY2VsbC52KSk7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2InOlxuXHRcdFx0XHRcdFx0b29bMl0gPSAndnQnKyhjZWxsLmY/J2YnOidjJyk7IG9vWzNdPSdubCc7IG9vWzRdPWNlbGwudj9cIjFcIjpcIjBcIjtcblx0XHRcdFx0XHRcdG9vWzVdID0gZW5jb2RlKGNlbGwuZnx8KGNlbGwudj8nVFJVRSc6J0ZBTFNFJykpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZCc6XG5cdFx0XHRcdFx0XHR2YXIgdCA9IGRhdGVudW0ocGFyc2VEYXRlKGNlbGwudikpO1xuXHRcdFx0XHRcdFx0b29bMl0gPSAndnRjJzsgb29bM10gPSAnbmQnOyBvb1s0XSA9IFwiXCIrdDtcblx0XHRcdFx0XHRcdG9vWzVdID0gY2VsbC53IHx8IFNTRl9mb3JtYXQoY2VsbC56IHx8IHRhYmxlX2ZtdFsxNF0sIHQpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbic6XG5cdFx0XHRcdFx0XHRpZihpc0Zpbml0ZShjZWxsLnYpKSB7XG5cdFx0XHRcdFx0XHRcdGlmKCFjZWxsLmYpIHsgb29bMl09J3YnOyBvb1szXT1jZWxsLnY7IH1cblx0XHRcdFx0XHRcdFx0ZWxzZSB7IG9vWzJdPSd2dGYnOyBvb1szXT0nbic7IG9vWzRdPWNlbGwudjsgb29bNV09ZW5jb2RlKGNlbGwuZik7IH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdG9vWzJdID0gJ3Z0JyArIChjZWxsLmYgPyAnZicgOiAnYycpO1xuXHRcdFx0XHRcdFx0XHRvb1szXSA9IFwiZVwiICsgQkVycltpc05hTihjZWxsLnYpID8gMHgyNCA6IDB4MDddO1xuXHRcdFx0XHRcdFx0XHRvb1s0XSA9IFwiMFwiO1xuXHRcdFx0XHRcdFx0XHRvb1s1XSA9IGNlbGwuZiB8fCBvb1szXS5zbGljZSgxKTtcblx0XHRcdFx0XHRcdFx0b29bNl0gPSBcImVcIjtcblx0XHRcdFx0XHRcdFx0b29bN10gPSBvb1szXS5zbGljZSgxKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2UnOiBjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRvLnB1c2gob28uam9pbihcIjpcIikpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRvLnB1c2goXCJzaGVldDpjOlwiICsgKHIuZS5jLXIucy5jKzEpICsgXCI6cjpcIiArIChyLmUuci1yLnMucisxKSArIFwiOnR2ZjoxXCIpO1xuXHRcdG8ucHVzaChcInZhbHVlZm9ybWF0OjE6dGV4dC13aWtpXCIpO1xuXHRcdC8vby5wdXNoKFwiY29waWVkZnJvbTpcIiArIHdzWychcmVmJ10pOyAvLyBjbGlwYm9hcmQgb25seVxuXHRcdHJldHVybiBvLmpvaW4oXCJcXG5cIik7XG5cdH1cblxuXHRmdW5jdGlvbiBzaGVldF90b19ldGgod3MvKjpXb3Jrc2hlZXQqLy8qOjosIG9wdHM6P2FueSovKS8qOnN0cmluZyovIHtcblx0XHRyZXR1cm4gW2hlYWRlciwgc2VwLCBtZXRhLCBzZXAsIHNoZWV0X3RvX2V0aF9kYXRhKHdzKSwgZW5kXS5qb2luKFwiXFxuXCIpO1xuXHRcdC8vIHJldHVybiBbXCJ2ZXJzaW9uOjEuNVwiLCBzaGVldF90b19ldGhfZGF0YSh3cyldLmpvaW4oXCJcXG5cIik7IC8vIGNsaXBib2FyZCBmb3JtXG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHRvX3dvcmtib29rOiBldGhfdG9fd29ya2Jvb2ssXG5cdFx0dG9fc2hlZXQ6IGV0aF90b19zaGVldCxcblx0XHRmcm9tX3NoZWV0OiBzaGVldF90b19ldGhcblx0fTtcbn0pKCk7XG5cbnZhciBQUk4gPSAvKiNfX1BVUkVfXyovKGZ1bmN0aW9uKCkge1xuXHRmdW5jdGlvbiBzZXRfdGV4dF9hcnIoZGF0YS8qOnN0cmluZyovLCBhcnIvKjpBT0EqLywgUi8qOm51bWJlciovLCBDLyo6bnVtYmVyKi8sIG8vKjphbnkqLykge1xuXHRcdGlmKG8ucmF3KSBhcnJbUl1bQ10gPSBkYXRhO1xuXHRcdGVsc2UgaWYoZGF0YSA9PT0gXCJcIil7LyogZW1wdHkgKi99XG5cdFx0ZWxzZSBpZihkYXRhID09PSAnVFJVRScpIGFycltSXVtDXSA9IHRydWU7XG5cdFx0ZWxzZSBpZihkYXRhID09PSAnRkFMU0UnKSBhcnJbUl1bQ10gPSBmYWxzZTtcblx0XHRlbHNlIGlmKCFpc05hTihmdXp6eW51bShkYXRhKSkpIGFycltSXVtDXSA9IGZ1enp5bnVtKGRhdGEpO1xuXHRcdGVsc2UgaWYoIWlzTmFOKGZ1enp5ZGF0ZShkYXRhKS5nZXREYXRlKCkpKSBhcnJbUl1bQ10gPSBwYXJzZURhdGUoZGF0YSk7XG5cdFx0ZWxzZSBpZihkYXRhLmNoYXJDb2RlQXQoMCkgPT0gMzUgLyogIyAqLyAmJiBSQkVycltkYXRhXSAhPSBudWxsKSBhcnJbUl1bQ10gPSAoeyB0OiAnZScsIHY6IFJCRXJyW2RhdGFdLCB3OiBkYXRhIH0pO1xuXHRcdGVsc2UgYXJyW1JdW0NdID0gZGF0YTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBybl90b19hb2Ffc3RyKGYvKjpzdHJpbmcqLywgb3B0cykvKjpBT0EqLyB7XG5cdFx0dmFyIG8gPSBvcHRzIHx8IHt9O1xuXHRcdHZhciBhcnIvKjpBT0EqLyA9IChbXS8qOmFueSovKTtcblx0XHRpZighZiB8fCBmLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycjtcblx0XHR2YXIgbGluZXMgPSBmLnNwbGl0KC9bXFxyXFxuXS8pO1xuXHRcdHZhciBMID0gbGluZXMubGVuZ3RoIC0gMTtcblx0XHR3aGlsZShMID49IDAgJiYgbGluZXNbTF0ubGVuZ3RoID09PSAwKSAtLUw7XG5cdFx0dmFyIHN0YXJ0ID0gMTAsIGlkeCA9IDA7XG5cdFx0dmFyIFIgPSAwO1xuXHRcdGZvcig7IFIgPD0gTDsgKytSKSB7XG5cdFx0XHRpZHggPSBsaW5lc1tSXS5pbmRleE9mKFwiIFwiKTtcblx0XHRcdGlmKGlkeCA9PSAtMSkgaWR4ID0gbGluZXNbUl0ubGVuZ3RoOyBlbHNlIGlkeCsrO1xuXHRcdFx0c3RhcnQgPSBNYXRoLm1heChzdGFydCwgaWR4KTtcblx0XHR9XG5cdFx0Zm9yKFIgPSAwOyBSIDw9IEw7ICsrUikge1xuXHRcdFx0YXJyW1JdID0gW107XG5cdFx0XHQvKiBUT0RPOiBjb25maXJtIHRoYXQgd2lkdGhzIGFyZSBhbHdheXMgMTAgKi9cblx0XHRcdHZhciBDID0gMDtcblx0XHRcdHNldF90ZXh0X2FycihsaW5lc1tSXS5zbGljZSgwLCBzdGFydCkudHJpbSgpLCBhcnIsIFIsIEMsIG8pO1xuXHRcdFx0Zm9yKEMgPSAxOyBDIDw9IChsaW5lc1tSXS5sZW5ndGggLSBzdGFydCkvMTAgKyAxOyArK0MpXG5cdFx0XHRcdHNldF90ZXh0X2FycihsaW5lc1tSXS5zbGljZShzdGFydCsoQy0xKSoxMCxzdGFydCtDKjEwKS50cmltKCksYXJyLFIsQyxvKTtcblx0XHR9XG5cdFx0aWYoby5zaGVldFJvd3MpIGFyciA9IGFyci5zbGljZSgwLCBvLnNoZWV0Um93cyk7XG5cdFx0cmV0dXJuIGFycjtcblx0fVxuXG5cdC8vIExpc3Qgb2YgYWNjZXB0ZWQgQ1NWIHNlcGFyYXRvcnNcblx0dmFyIGd1ZXNzX3NlcHMgPSB7XG5cdFx0MHgyQzogJywnLFxuXHRcdDB4MDk6IFwiXFx0XCIsXG5cdFx0MHgzQjogJzsnLFxuXHRcdDB4N0M6ICd8J1xuXHR9O1xuXG5cdC8vIENTViBzZXBhcmF0b3Igd2VpZ2h0cyB0byBiZSB1c2VkIGluIGNhc2Ugb2YgZXF1YWwgbnVtYmVyc1xuXHR2YXIgZ3Vlc3Nfc2VwX3dlaWdodHMgPSB7XG5cdFx0MHgyQzogMyxcblx0XHQweDA5OiAyLFxuXHRcdDB4M0I6IDEsXG5cdFx0MHg3QzogMFxuXHR9O1xuXG5cdGZ1bmN0aW9uIGd1ZXNzX3NlcChzdHIpIHtcblx0XHR2YXIgY250ID0ge30sIGluc3RyID0gZmFsc2UsIGVuZCA9IDAsIGNjID0gMDtcblx0XHRmb3IoO2VuZCA8IHN0ci5sZW5ndGg7KytlbmQpIHtcblx0XHRcdGlmKChjYz1zdHIuY2hhckNvZGVBdChlbmQpKSA9PSAweDIyKSBpbnN0ciA9ICFpbnN0cjtcblx0XHRcdGVsc2UgaWYoIWluc3RyICYmIGNjIGluIGd1ZXNzX3NlcHMpIGNudFtjY10gPSAoY250W2NjXXx8MCkrMTtcblx0XHR9XG5cblx0XHRjYyA9IFtdO1xuXHRcdGZvcihlbmQgaW4gY250KSBpZiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjbnQsIGVuZCkgKSB7XG5cdFx0XHRjYy5wdXNoKFsgY250W2VuZF0sIGVuZCBdKTtcblx0XHR9XG5cblx0XHRpZiAoICFjYy5sZW5ndGggKSB7XG5cdFx0XHRjbnQgPSBndWVzc19zZXBfd2VpZ2h0cztcblx0XHRcdGZvcihlbmQgaW4gY250KSBpZiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjbnQsIGVuZCkgKSB7XG5cdFx0XHRcdGNjLnB1c2goWyBjbnRbZW5kXSwgZW5kIF0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNjLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF0gfHwgZ3Vlc3Nfc2VwX3dlaWdodHNbYVsxXV0gLSBndWVzc19zZXBfd2VpZ2h0c1tiWzFdXTsgfSk7XG5cblx0XHRyZXR1cm4gZ3Vlc3Nfc2Vwc1tjYy5wb3AoKVsxXV0gfHwgMHgyQztcblx0fVxuXG5cdGZ1bmN0aW9uIGRzdl90b19zaGVldF9zdHIoc3RyLyo6c3RyaW5nKi8sIG9wdHMpLyo6V29ya3NoZWV0Ki8ge1xuXHRcdHZhciBvID0gb3B0cyB8fCB7fTtcblx0XHR2YXIgc2VwID0gXCJcIjtcblx0XHRpZihERU5TRSAhPSBudWxsICYmIG8uZGVuc2UgPT0gbnVsbCkgby5kZW5zZSA9IERFTlNFO1xuXHRcdHZhciB3cy8qOldvcmtzaGVldCovID0gKHt9Lyo6YW55Ki8pO1xuXHRcdGlmKG8uZGVuc2UpIHdzW1wiIWRhdGFcIl0gPSBbXTtcblx0XHR2YXIgcmFuZ2UvKjpSYW5nZSovID0gKHtzOiB7YzowLCByOjB9LCBlOiB7YzowLCByOjB9fS8qOmFueSovKTtcblxuXHRcdGlmKHN0ci5zbGljZSgwLDQpID09IFwic2VwPVwiKSB7XG5cdFx0XHQvLyBJZiB0aGUgbGluZSBlbmRzIGluIFxcclxcblxuXHRcdFx0aWYoc3RyLmNoYXJDb2RlQXQoNSkgPT0gMTMgJiYgc3RyLmNoYXJDb2RlQXQoNikgPT0gMTAgKSB7XG5cdFx0XHRcdHNlcCA9IHN0ci5jaGFyQXQoNCk7IHN0ciA9IHN0ci5zbGljZSg3KTtcblx0XHRcdH1cblx0XHRcdC8vIElmIGxpbmUgZW5kcyBpbiBcXHIgT1IgXFxuXG5cdFx0XHRlbHNlIGlmKHN0ci5jaGFyQ29kZUF0KDUpID09IDEzIHx8IHN0ci5jaGFyQ29kZUF0KDUpID09IDEwICkge1xuXHRcdFx0XHRzZXAgPSBzdHIuY2hhckF0KDQpOyBzdHIgPSBzdHIuc2xpY2UoNik7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHNlcCA9IGd1ZXNzX3NlcChzdHIuc2xpY2UoMCwxMDI0KSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYobyAmJiBvLkZTKSBzZXAgPSBvLkZTO1xuXHRcdGVsc2Ugc2VwID0gZ3Vlc3Nfc2VwKHN0ci5zbGljZSgwLDEwMjQpKTtcblx0XHR2YXIgUiA9IDAsIEMgPSAwLCB2ID0gMDtcblx0XHR2YXIgc3RhcnQgPSAwLCBlbmQgPSAwLCBzZXBjYyA9IHNlcC5jaGFyQ29kZUF0KDApLCBpbnN0ciA9IGZhbHNlLCBjYz0wLCBzdGFydGNjPXN0ci5jaGFyQ29kZUF0KDApO1xuXHRcdHZhciBfcmUvKjo/UmVnRXhwKi8gPSBvLmRhdGVORiAhPSBudWxsID8gZGF0ZU5GX3JlZ2V4KG8uZGF0ZU5GKSA6IG51bGw7XG5cdFx0ZnVuY3Rpb24gZmluaXNoX2NlbGwoKSB7XG5cdFx0XHQvKiBUT0RPOiBmdXp6eSBwYXJzZXJzIHNob3VsZCBwYXNzIGJhY2sgYXNzdW1lZCBudW1iZXIgZm9ybWF0ICovXG5cdFx0XHR2YXIgcyA9IHN0ci5zbGljZShzdGFydCwgZW5kKTsgaWYocy5zbGljZSgtMSkgPT0gXCJcXHJcIikgcyA9IHMuc2xpY2UoMCwgLTEpO1xuXHRcdFx0dmFyIGNlbGwgPSAoe30vKjphbnkqLyk7XG5cdFx0XHRpZihzLmNoYXJBdCgwKSA9PSAnXCInICYmIHMuY2hhckF0KHMubGVuZ3RoIC0gMSkgPT0gJ1wiJykgcyA9IHMuc2xpY2UoMSwtMSkucmVwbGFjZSgvXCJcIi9nLCdcIicpO1xuXHRcdFx0aWYoby5jZWxsVGV4dCAhPT0gZmFsc2UpIGNlbGwudyA9IHM7XG5cdFx0XHRpZihzLmxlbmd0aCA9PT0gMCkgY2VsbC50ID0gJ3onO1xuXHRcdFx0ZWxzZSBpZihvLnJhdykgeyBjZWxsLnQgPSAncyc7IGNlbGwudiA9IHM7IH1cblx0XHRcdGVsc2UgaWYocy50cmltKCkubGVuZ3RoID09PSAwKSB7IGNlbGwudCA9ICdzJzsgY2VsbC52ID0gczsgfVxuXHRcdFx0ZWxzZSBpZihzLmNoYXJDb2RlQXQoMCkgPT0gMHgzRCkge1xuXHRcdFx0XHRpZihzLmNoYXJDb2RlQXQoMSkgPT0gMHgyMiAmJiBzLmNoYXJDb2RlQXQocy5sZW5ndGggLSAxKSA9PSAweDIyKSB7IGNlbGwudCA9ICdzJzsgY2VsbC52ID0gcy5zbGljZSgyLC0xKS5yZXBsYWNlKC9cIlwiL2csJ1wiJyk7IH1cblx0XHRcdFx0ZWxzZSBpZihmdXp6eWZtbGEocykpIHsgY2VsbC50ID0gJ3MnOyBjZWxsLmYgPSBzLnNsaWNlKDEpOyBjZWxsLnYgPSBzOyB9XG5cdFx0XHRcdGVsc2UgeyBjZWxsLnQgPSAncyc7IGNlbGwudiA9IHM7IH0gfVxuXHRcdFx0ZWxzZSBpZihzID09IFwiVFJVRVwiKSB7IGNlbGwudCA9ICdiJzsgY2VsbC52ID0gdHJ1ZTsgfVxuXHRcdFx0ZWxzZSBpZihzID09IFwiRkFMU0VcIikgeyBjZWxsLnQgPSAnYic7IGNlbGwudiA9IGZhbHNlOyB9XG5cdFx0XHRlbHNlIGlmKCFpc05hTih2ID0gZnV6enludW0ocykpKSB7IGNlbGwudCA9ICduJzsgY2VsbC52ID0gdjsgfVxuXHRcdFx0ZWxzZSBpZighaXNOYU4oKHYgPSBmdXp6eWRhdGUocykpLmdldERhdGUoKSkgfHwgX3JlICYmIHMubWF0Y2goX3JlKSkge1xuXHRcdFx0XHRjZWxsLnogPSBvLmRhdGVORiB8fCB0YWJsZV9mbXRbMTRdO1xuXHRcdFx0XHRpZihfcmUgJiYgcy5tYXRjaChfcmUpKXsgdmFyIG5ld3M9ZGF0ZU5GX2ZpeChzLCBvLmRhdGVORiwgKHMubWF0Y2goX3JlKXx8W10pKTsgdiA9IHBhcnNlRGF0ZShuZXdzKTsgaWYobyAmJiBvLlVUQyA9PT0gZmFsc2UpIHYgPSB1dGNfdG9fbG9jYWwodik7IH1cblx0XHRcdFx0ZWxzZSBpZihvICYmIG8uVVRDID09PSBmYWxzZSkgdiA9IHV0Y190b19sb2NhbCh2KTtcblx0XHRcdFx0ZWxzZSBpZihvLmNlbGxUZXh0ICE9PSBmYWxzZSAmJiBvLmRhdGVORikgY2VsbC53ID0gU1NGX2Zvcm1hdChjZWxsLnosIHYpO1xuXHRcdFx0XHRpZihvLmNlbGxEYXRlcykgeyBjZWxsLnQgPSAnZCc7IGNlbGwudiA9IHY7IH1cblx0XHRcdFx0ZWxzZSB7IGNlbGwudCA9ICduJzsgY2VsbC52ID0gZGF0ZW51bSh2KTsgfVxuXHRcdFx0XHRpZighby5jZWxsTkYpIGRlbGV0ZSBjZWxsLno7XG5cdFx0XHR9IGVsc2UgaWYocy5jaGFyQ29kZUF0KDApID09IDM1IC8qICMgKi8gJiYgUkJFcnJbc10gIT0gbnVsbCkge1xuXHRcdFx0XHRjZWxsLnQgPSAnZSc7IGNlbGwudyA9IHM7IGNlbGwudiA9IFJCRXJyW3NdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2VsbC50ID0gJ3MnO1xuXHRcdFx0XHRjZWxsLnYgPSBzO1xuXHRcdFx0fVxuXHRcdFx0aWYoY2VsbC50ID09ICd6Jyl7fVxuXHRcdFx0ZWxzZSBpZihvLmRlbnNlKSB7IGlmKCF3c1tcIiFkYXRhXCJdW1JdKSB3c1tcIiFkYXRhXCJdW1JdID0gW107IHdzW1wiIWRhdGFcIl1bUl1bQ10gPSBjZWxsOyB9XG5cdFx0XHRlbHNlIHdzW2VuY29kZV9jZWxsKHtjOkMscjpSfSldID0gY2VsbDtcblx0XHRcdHN0YXJ0ID0gZW5kKzE7IHN0YXJ0Y2MgPSBzdHIuY2hhckNvZGVBdChzdGFydCk7XG5cdFx0XHRpZihyYW5nZS5lLmMgPCBDKSByYW5nZS5lLmMgPSBDO1xuXHRcdFx0aWYocmFuZ2UuZS5yIDwgUikgcmFuZ2UuZS5yID0gUjtcblx0XHRcdGlmKGNjID09IHNlcGNjKSArK0M7IGVsc2UgeyBDID0gMDsgKytSOyBpZihvLnNoZWV0Um93cyAmJiBvLnNoZWV0Um93cyA8PSBSKSByZXR1cm4gdHJ1ZTsgfVxuXHRcdH1cblx0XHRvdXRlcjogZm9yKDtlbmQgPCBzdHIubGVuZ3RoOysrZW5kKSBzd2l0Y2goKGNjPXN0ci5jaGFyQ29kZUF0KGVuZCkpKSB7XG5cdFx0XHRjYXNlIDB4MjI6IGlmKHN0YXJ0Y2MgPT09IDB4MjIpIGluc3RyID0gIWluc3RyOyBicmVhaztcblx0XHRcdGNhc2UgMHgwZDpcblx0XHRcdFx0aWYoaW5zdHIpIGJyZWFrO1xuXHRcdFx0XHRpZihzdHIuY2hhckNvZGVBdChlbmQrMSkgPT0gMHgwYSkgKytlbmQ7XG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2Ugc2VwY2M6IGNhc2UgMHgwYTogaWYoIWluc3RyICYmIGZpbmlzaF9jZWxsKCkpIGJyZWFrIG91dGVyOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IGJyZWFrO1xuXHRcdH1cblx0XHRpZihlbmQgLSBzdGFydCA+IDApIGZpbmlzaF9jZWxsKCk7XG5cblx0XHR3c1snIXJlZiddID0gZW5jb2RlX3JhbmdlKHJhbmdlKTtcblx0XHRyZXR1cm4gd3M7XG5cdH1cblxuXHRmdW5jdGlvbiBwcm5fdG9fc2hlZXRfc3RyKHN0ci8qOnN0cmluZyovLCBvcHRzKS8qOldvcmtzaGVldCovIHtcblx0XHRpZighKG9wdHMgJiYgb3B0cy5QUk4pKSByZXR1cm4gZHN2X3RvX3NoZWV0X3N0cihzdHIsIG9wdHMpO1xuXHRcdGlmKG9wdHMuRlMpIHJldHVybiBkc3ZfdG9fc2hlZXRfc3RyKHN0ciwgb3B0cyk7XG5cdFx0aWYoc3RyLnNsaWNlKDAsNCkgPT0gXCJzZXA9XCIpIHJldHVybiBkc3ZfdG9fc2hlZXRfc3RyKHN0ciwgb3B0cyk7XG5cdFx0aWYoc3RyLmluZGV4T2YoXCJcXHRcIikgPj0gMCB8fCBzdHIuaW5kZXhPZihcIixcIikgPj0gMCB8fCBzdHIuaW5kZXhPZihcIjtcIikgPj0gMCkgcmV0dXJuIGRzdl90b19zaGVldF9zdHIoc3RyLCBvcHRzKTtcblx0XHRyZXR1cm4gYW9hX3RvX3NoZWV0KHBybl90b19hb2Ffc3RyKHN0ciwgb3B0cyksIG9wdHMpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJuX3RvX3NoZWV0KGQvKjpSYXdEYXRhKi8sIG9wdHMpLyo6V29ya3NoZWV0Ki8ge1xuXHRcdHZhciBzdHIgPSBcIlwiLCBieXRlcyA9IG9wdHMudHlwZSA9PSAnc3RyaW5nJyA/IFswLDAsMCwwXSA6IGZpcnN0Ynl0ZShkLCBvcHRzKTtcblx0XHRzd2l0Y2gob3B0cy50eXBlKSB7XG5cdFx0XHRjYXNlICdiYXNlNjQnOiBzdHIgPSBCYXNlNjRfZGVjb2RlKGQpOyBicmVhaztcblx0XHRcdGNhc2UgJ2JpbmFyeSc6IHN0ciA9IGQ7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnYnVmZmVyJzpcblx0XHRcdFx0aWYob3B0cy5jb2RlcGFnZSA9PSA2NTAwMSkgc3RyID0gZC50b1N0cmluZygndXRmOCcpOyAvLyBUT0RPOiB0ZXN0IGlmIGJ1ZlxuXHRcdFx0XHRlbHNlIGlmKG9wdHMuY29kZXBhZ2UgJiYgdHlwZW9mICRjcHRhYmxlICE9PSAndW5kZWZpbmVkJykgc3RyID0gJGNwdGFibGUudXRpbHMuZGVjb2RlKG9wdHMuY29kZXBhZ2UsIGQpO1xuXHRcdFx0XHRlbHNlIHN0ciA9IGhhc19idWYgJiYgQnVmZmVyLmlzQnVmZmVyKGQpID8gZC50b1N0cmluZygnYmluYXJ5JykgOiBhMnMoZCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnYXJyYXknOiBzdHIgPSBjYzJzdHIoZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnc3RyaW5nJzogc3RyID0gZDsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgdHlwZSBcIiArIG9wdHMudHlwZSk7XG5cdFx0fVxuXHRcdGlmKGJ5dGVzWzBdID09IDB4RUYgJiYgYnl0ZXNbMV0gPT0gMHhCQiAmJiBieXRlc1syXSA9PSAweEJGKSBzdHIgPSB1dGY4cmVhZChzdHIuc2xpY2UoMykpO1xuXHRcdGVsc2UgaWYob3B0cy50eXBlICE9ICdzdHJpbmcnICYmIG9wdHMudHlwZSAhPSAnYnVmZmVyJyAmJiBvcHRzLmNvZGVwYWdlID09IDY1MDAxKSBzdHIgPSB1dGY4cmVhZChzdHIpO1xuXHRcdGVsc2UgaWYoKG9wdHMudHlwZSA9PSAnYmluYXJ5JykgJiYgdHlwZW9mICRjcHRhYmxlICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNvZGVwYWdlKSAgc3RyID0gJGNwdGFibGUudXRpbHMuZGVjb2RlKG9wdHMuY29kZXBhZ2UsICRjcHRhYmxlLnV0aWxzLmVuY29kZSgyODU5MSxzdHIpKTtcblx0XHRpZihzdHIuc2xpY2UoMCwxOSkgPT0gXCJzb2NpYWxjYWxjOnZlcnNpb246XCIpIHJldHVybiBFVEgudG9fc2hlZXQob3B0cy50eXBlID09ICdzdHJpbmcnID8gc3RyIDogdXRmOHJlYWQoc3RyKSwgb3B0cyk7XG5cdFx0cmV0dXJuIHBybl90b19zaGVldF9zdHIoc3RyLCBvcHRzKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBybl90b193b3JrYm9vayhkLyo6UmF3RGF0YSovLCBvcHRzKS8qOldvcmtib29rKi8geyByZXR1cm4gc2hlZXRfdG9fd29ya2Jvb2socHJuX3RvX3NoZWV0KGQsIG9wdHMpLCBvcHRzKTsgfVxuXG5cdGZ1bmN0aW9uIHNoZWV0X3RvX3Bybih3cy8qOldvcmtzaGVldCovLyo6Oiwgb3B0czo/YW55Ki8pLyo6c3RyaW5nKi8ge1xuXHRcdHZhciBvLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdFx0aWYoIXdzW1wiIXJlZlwiXSkgcmV0dXJuIFwiXCI7XG5cdFx0dmFyIHIgPSBzYWZlX2RlY29kZV9yYW5nZSh3c1snIXJlZiddKSwgY2VsbC8qOkNlbGwqLztcblx0XHR2YXIgZGVuc2UgPSB3c1tcIiFkYXRhXCJdICE9IG51bGw7XG5cdFx0Zm9yKHZhciBSID0gci5zLnI7IFIgPD0gci5lLnI7ICsrUikge1xuXHRcdFx0dmFyIG9vLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdFx0XHRmb3IodmFyIEMgPSByLnMuYzsgQyA8PSByLmUuYzsgKytDKSB7XG5cdFx0XHRcdHZhciBjb29yZCA9IGVuY29kZV9jZWxsKHtyOlIsYzpDfSk7XG5cdFx0XHRcdGNlbGwgPSBkZW5zZSA/ICh3c1tcIiFkYXRhXCJdW1JdfHxbXSlbQ10gOiB3c1tjb29yZF07XG5cdFx0XHRcdGlmKCFjZWxsIHx8IGNlbGwudiA9PSBudWxsKSB7IG9vLnB1c2goXCIgICAgICAgICAgXCIpOyBjb250aW51ZTsgfVxuXHRcdFx0XHR2YXIgdyA9IChjZWxsLncgfHwgKGZvcm1hdF9jZWxsKGNlbGwpLCBjZWxsLncpIHx8IFwiXCIpLnNsaWNlKDAsMTApO1xuXHRcdFx0XHR3aGlsZSh3Lmxlbmd0aCA8IDEwKSB3ICs9IFwiIFwiO1xuXHRcdFx0XHRvby5wdXNoKHcgKyAoQyA9PT0gMCA/IFwiIFwiIDogXCJcIikpO1xuXHRcdFx0fVxuXHRcdFx0by5wdXNoKG9vLmpvaW4oXCJcIikpO1xuXHRcdH1cblx0XHRyZXR1cm4gby5qb2luKFwiXFxuXCIpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHR0b193b3JrYm9vazogcHJuX3RvX3dvcmtib29rLFxuXHRcdHRvX3NoZWV0OiBwcm5fdG9fc2hlZXQsXG5cdFx0ZnJvbV9zaGVldDogc2hlZXRfdG9fcHJuXG5cdH07XG59KSgpO1xuXG4vKiBFeGNlbCBkZWZhdWx0cyB0byBTWUxLIGJ1dCB3YXJucyBpZiBkYXRhIGlzIG5vdCB2YWxpZCAqL1xuZnVuY3Rpb24gcmVhZF93Yl9JRChkLCBvcHRzKSB7XG5cdHZhciBvID0gb3B0cyB8fCB7fSwgT0xEX1dURiA9ICEhby5XVEY7IG8uV1RGID0gdHJ1ZTtcblx0dHJ5IHtcblx0XHR2YXIgb3V0ID0gU1lMSy50b193b3JrYm9vayhkLCBvKTtcblx0XHRvLldURiA9IE9MRF9XVEY7XG5cdFx0cmV0dXJuIG91dDtcblx0fSBjYXRjaChlKSB7XG5cdFx0by5XVEYgPSBPTERfV1RGO1xuXHRcdGlmKChlLm1lc3NhZ2UuaW5kZXhPZihcIlNZTEsgYmFkIHJlY29yZCBJRFwiKSA9PSAtMSkgJiYgT0xEX1dURikgdGhyb3cgZTtcblx0XHRyZXR1cm4gUFJOLnRvX3dvcmtib29rKGQsIG9wdHMpO1xuXHR9XG59XG5cbnZhciBXS18gPSAvKiNfX1BVUkVfXyovKGZ1bmN0aW9uKCkge1xuXHRmdW5jdGlvbiBsb3R1c2hvcHBlcihkYXRhLCBjYi8qOlJlY29yZEhvcHBlckNCKi8sIG9wdHMvKjphbnkqLykge1xuXHRcdGlmKCFkYXRhKSByZXR1cm47XG5cdFx0cHJlcF9ibG9iKGRhdGEsIGRhdGEubCB8fCAwKTtcblx0XHR2YXIgRW51bSA9IG9wdHMuRW51bSB8fCBXSzFFbnVtO1xuXHRcdHdoaWxlKGRhdGEubCA8IGRhdGEubGVuZ3RoKSB7XG5cdFx0XHR2YXIgUlQgPSBkYXRhLnJlYWRfc2hpZnQoMik7XG5cdFx0XHR2YXIgUiA9IEVudW1bUlRdIHx8IEVudW1bMHhGRkZGXTtcblx0XHRcdHZhciBsZW5ndGggPSBkYXRhLnJlYWRfc2hpZnQoMik7XG5cdFx0XHR2YXIgdGd0ID0gZGF0YS5sICsgbGVuZ3RoO1xuXHRcdFx0dmFyIGQgPSBSLmYgJiYgUi5mKGRhdGEsIGxlbmd0aCwgb3B0cyk7XG5cdFx0XHRkYXRhLmwgPSB0Z3Q7XG5cdFx0XHRpZihjYihkLCBSLCBSVCkpIHJldHVybjtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBsb3R1c190b193b3JrYm9vayhkLyo6UmF3RGF0YSovLCBvcHRzKSB7XG5cdFx0c3dpdGNoKG9wdHMudHlwZSkge1xuXHRcdFx0Y2FzZSAnYmFzZTY0JzogcmV0dXJuIGxvdHVzX3RvX3dvcmtib29rX2J1ZihzMmEoQmFzZTY0X2RlY29kZShkKSksIG9wdHMpO1xuXHRcdFx0Y2FzZSAnYmluYXJ5JzogcmV0dXJuIGxvdHVzX3RvX3dvcmtib29rX2J1ZihzMmEoZCksIG9wdHMpO1xuXHRcdFx0Y2FzZSAnYnVmZmVyJzpcblx0XHRcdGNhc2UgJ2FycmF5JzogcmV0dXJuIGxvdHVzX3RvX3dvcmtib29rX2J1ZihkLCBvcHRzKTtcblx0XHR9XG5cdFx0dGhyb3cgXCJVbnN1cHBvcnRlZCB0eXBlIFwiICsgb3B0cy50eXBlO1xuXHR9XG5cblx0LyogTk9URTogdGhpcyBsaXN0IGludGVudGlvbmFsbHkgc3RhcnRzIGF0IDEgKi9cblx0dmFyIExPVFVTX0RBVEVfRk1UUyA9IFtcblx0XHRcIm1tbW1cIixcblx0XHRcImRkLW1tbS15eXl5XCIsXG5cdFx0XCJkZC1tbW1cIixcblx0XHRcIm1tbS15eXl5XCIsXG5cdFx0XCJAXCIsIC8vIFwidGV4dFwiP1xuXHRcdFwibW0vZGRcIixcblx0XHRcImhoOm1tOnNzIEFNL1BNXCIsIC8vIDdcblx0XHRcImhoOm1tIEFNL1BNXCIsXG5cdFx0XCJtbS9kZC95eXl5XCIsXG5cdFx0XCJtbS9kZFwiLFxuXHRcdFwiaGg6bW06c3NcIixcblx0XHRcImhoOm1tXCIgLy8gMTJcblx0XTtcblxuXHRmdW5jdGlvbiBsb3R1c190b193b3JrYm9va19idWYoZCwgb3B0cykvKjpXb3JrYm9vayovIHtcblx0XHRpZighZCkgcmV0dXJuIGQ7XG5cdFx0dmFyIG8gPSBvcHRzIHx8IHt9O1xuXHRcdGlmKERFTlNFICE9IG51bGwgJiYgby5kZW5zZSA9PSBudWxsKSBvLmRlbnNlID0gREVOU0U7XG5cdFx0dmFyIHMvKjpXb3Jrc2hlZXQqLyA9ICh7fS8qOmFueSovKSwgbiA9IFwiU2hlZXQxXCIsIG5leHRfbiA9IFwiXCIsIHNpZHggPSAwO1xuXHRcdHZhciBzaGVldHMgPSB7fSwgc25hbWVzID0gW10sIHJlYWxuYW1lcyA9IFtdLCBzZGF0YSA9IFtdO1xuXHRcdGlmKG8uZGVuc2UpIHNkYXRhID0gc1tcIiFkYXRhXCJdID0gW107XG5cblx0XHR2YXIgcmVmZ3Vlc3MgPSB7czoge3I6MCwgYzowfSwgZToge3I6MCwgYzowfSB9O1xuXHRcdHZhciBzaGVldFJvd3MgPSBvLnNoZWV0Um93cyB8fCAwO1xuXHRcdHZhciBsYXN0Y2VsbCA9IHt9O1xuXG5cdFx0aWYoZFs0XSA9PSAweDUxICYmIGRbNV0gPT0gMHg1MCAmJiBkWzZdID09IDB4NTcpIHJldHVybiBxcHdfdG9fd29ya2Jvb2tfYnVmKGQsIG9wdHMpO1xuXHRcdGlmKGRbMl0gPT0gMHgwMCkge1xuXHRcdFx0aWYoZFszXSA9PSAweDA4IHx8IGRbM10gPT0gMHgwOSkge1xuXHRcdFx0XHRpZihkLmxlbmd0aCA+PSAxNiAmJiBkWzE0XSA9PSAweDA1ICYmIGRbMTVdID09PSAweDZjKSB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBXb3JrcyAzIGZvciBNYWMgZmlsZVwiKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZihkWzJdID09IDB4MDIpIHtcblx0XHRcdG8uRW51bSA9IFdLMUVudW07XG5cdFx0XHRsb3R1c2hvcHBlcihkLCBmdW5jdGlvbih2YWwsIFIsIFJUKSB7IHN3aXRjaChSVCkge1xuXHRcdFx0XHRjYXNlIDB4MDA6IC8qIEJPRiAqL1xuXHRcdFx0XHRcdG8udmVycyA9IHZhbDtcblx0XHRcdFx0XHRpZih2YWwgPj0gMHgxMDAwKSBvLnFwcm8gPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4RkY6IC8qIEJPRiAod29ya3MgMyspICovXG5cdFx0XHRcdFx0by52ZXJzID0gdmFsO1xuXHRcdFx0XHRcdG8ud29ya3MgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDY6IHJlZmd1ZXNzID0gdmFsOyBicmVhazsgLyogUkFOR0UgKi9cblx0XHRcdFx0Y2FzZSAweENDOiBpZih2YWwpIG5leHRfbiA9IHZhbDsgYnJlYWs7IC8qIFNIRUVUTkFNRUNTICovXG5cdFx0XHRcdGNhc2UgMHhERTogbmV4dF9uID0gdmFsOyBicmVhazsgLyogU0hFRVROQU1FTFAgKi9cblx0XHRcdFx0Y2FzZSAweDBGOiAvKiBMQUJFTCAqL1xuXHRcdFx0XHRjYXNlIDB4MzM6IC8qIFNUUklORyAqL1xuXHRcdFx0XHRcdGlmKCghby5xcHJvICYmICFvLndvcmtzIHx8IFJUID09IDB4MzMpICYmIHZhbFsxXS52LmNoYXJDb2RlQXQoMCkgPCAweDMwKSB2YWxbMV0udiA9IHZhbFsxXS52LnNsaWNlKDEpO1xuXHRcdFx0XHRcdGlmKG8ud29ya3MgfHwgby53b3JrczIpIHZhbFsxXS52ID0gdmFsWzFdLnYucmVwbGFjZSgvXFxyXFxuL2csIFwiXFxuXCIpO1xuXHRcdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdFx0Y2FzZSAweDBEOiAvKiBJTlRFR0VSICovXG5cdFx0XHRcdGNhc2UgMHgwRTogLyogTlVNQkVSICovXG5cdFx0XHRcdGNhc2UgMHgxMDogLyogRk9STVVMQSAqL1xuXHRcdFx0XHRcdC8qIFRPRE86IGFjdHVhbCB0cmFuc2xhdGlvbiBvZiB0aGUgZm9ybWF0IGNvZGUgKi9cblx0XHRcdFx0XHRpZigodmFsWzJdICYgMHg3MCkgPT0gMHg3MCAmJiAodmFsWzJdICYgMHgwRikgPiAxICYmICh2YWxbMl0gJiAweDBGKSA8IDE1KSB7XG5cdFx0XHRcdFx0XHR2YWxbMV0ueiA9IG8uZGF0ZU5GIHx8IExPVFVTX0RBVEVfRk1UU1sodmFsWzJdICYgMHgwRiktMV0gfHwgdGFibGVfZm10WzE0XTtcblx0XHRcdFx0XHRcdGlmKG8uY2VsbERhdGVzKSB7IHZhbFsxXS52ID0gbnVtZGF0ZSh2YWxbMV0udik7IHZhbFsxXS50ID0gdHlwZW9mIHZhbFsxXS52ID09IFwibnVtYmVyXCIgPyAnbicgOiAnZCc7IH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZihvLnFwcm8pIHtcblx0XHRcdFx0XHRcdGlmKHZhbFszXSA+IHNpZHgpIHtcblx0XHRcdFx0XHRcdFx0c1tcIiFyZWZcIl0gPSBlbmNvZGVfcmFuZ2UocmVmZ3Vlc3MpO1xuXHRcdFx0XHRcdFx0XHRzaGVldHNbbl0gPSBzO1xuXHRcdFx0XHRcdFx0XHRzbmFtZXMucHVzaChuKTtcblx0XHRcdFx0XHRcdFx0cyA9ICh7fS8qOmFueSovKTsgaWYoby5kZW5zZSkgc2RhdGEgPSBzW1wiIWRhdGFcIl0gPSBbXTtcblx0XHRcdFx0XHRcdFx0cmVmZ3Vlc3MgPSB7czoge3I6MCwgYzowfSwgZToge3I6MCwgYzowfSB9O1xuXHRcdFx0XHRcdFx0XHRzaWR4ID0gdmFsWzNdOyBuID0gbmV4dF9uIHx8IFwiU2hlZXRcIiArIChzaWR4ICsgMSk7IG5leHRfbiA9IFwiXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFyIHRtcGNlbGwgPSBvLmRlbnNlID8gKHNkYXRhW3ZhbFswXS5yXXx8W10pW3ZhbFswXS5jXSA6IHNbZW5jb2RlX2NlbGwodmFsWzBdKV07XG5cdFx0XHRcdFx0aWYodG1wY2VsbCkge1xuXHRcdFx0XHRcdFx0dG1wY2VsbC50ID0gdmFsWzFdLnQ7IHRtcGNlbGwudiA9IHZhbFsxXS52O1xuXHRcdFx0XHRcdFx0aWYodmFsWzFdLnogIT0gbnVsbCkgdG1wY2VsbC56ID0gdmFsWzFdLno7XG5cdFx0XHRcdFx0XHRpZih2YWxbMV0uZiAhPSBudWxsKSB0bXBjZWxsLmYgPSB2YWxbMV0uZjtcblx0XHRcdFx0XHRcdGxhc3RjZWxsID0gdG1wY2VsbDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZihvLmRlbnNlKSB7XG5cdFx0XHRcdFx0XHRpZighc2RhdGFbdmFsWzBdLnJdKSBzZGF0YVt2YWxbMF0ucl0gPSBbXTtcblx0XHRcdFx0XHRcdHNkYXRhW3ZhbFswXS5yXVt2YWxbMF0uY10gPSB2YWxbMV07XG5cdFx0XHRcdFx0fSBlbHNlIHNbZW5jb2RlX2NlbGwodmFsWzBdKV0gPSB2YWxbMV07XG5cdFx0XHRcdFx0bGFzdGNlbGwgPSB2YWxbMV07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgMHg1NDA1OiBvLndvcmtzMiA9IHRydWU7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4NTQwMjoge1xuXHRcdFx0XHRcdC8qIFRPRE86IGVudW1lcmF0ZSBhbGwgZXh0ZW5kZWQgbnVtYmVyIGZvcm1hdHMgKi9cblx0XHRcdFx0XHRpZih2YWwgPT0gMHgxNGExKSB7XG5cdFx0XHRcdFx0XHRsYXN0Y2VsbC56ID0gXCJoaDptbTpzc1wiO1xuXHRcdFx0XHRcdFx0aWYoby5jZWxsRGF0ZXMgJiYgbGFzdGNlbGwudCA9PSBcIm5cIikge1xuXHRcdFx0XHRcdFx0XHRsYXN0Y2VsbC52ID0gbnVtZGF0ZShsYXN0Y2VsbC52KTsgbGFzdGNlbGwudCA9IHR5cGVvZiBsYXN0Y2VsbC52ID09IFwibnVtYmVyXCIgPyAnbicgOiAnZCc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0fX0sIG8pO1xuXHRcdH0gZWxzZSBpZihkWzJdID09IDB4MUEgfHwgZFsyXSA9PSAweDBFKSB7XG5cdFx0XHRvLkVudW0gPSBXSzNFbnVtO1xuXHRcdFx0aWYoZFsyXSA9PSAweDBFKSB7IG8ucXBybyA9IHRydWU7IGQubCA9IDA7IH1cblx0XHRcdGxvdHVzaG9wcGVyKGQsIGZ1bmN0aW9uKHZhbCwgUiwgUlQpIHsgc3dpdGNoKFJUKSB7XG5cdFx0XHRcdGNhc2UgMHhDQzogbiA9IHZhbDsgYnJlYWs7IC8qIFNIRUVUTkFNRUNTICovXG5cdFx0XHRcdGNhc2UgMHgxNjogLyogTEFCRUwxNiAqL1xuXHRcdFx0XHRcdGlmKHZhbFsxXS52LmNoYXJDb2RlQXQoMCkgPCAweDMwKSB2YWxbMV0udiA9IHZhbFsxXS52LnNsaWNlKDEpO1xuXHRcdFx0XHRcdC8vIFRPRE86IFI5IGFwcGVhcnMgdG8gZW5jb2RlIGNvbnRyb2wgY29kZXMgdGhpcyB3YXkgLS0gdmVyaWZ5IGFnYWluc3Qgb3RoZXIgdmVyc2lvbnNcblx0XHRcdFx0XHR2YWxbMV0udiA9IHZhbFsxXS52LnJlcGxhY2UoL1xceDBGLi9nLCBmdW5jdGlvbigkJCkgeyByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgkJC5jaGFyQ29kZUF0KDEpIC0gMHgyMCk7IH0pLnJlcGxhY2UoL1xcclxcbi9nLCBcIlxcblwiKTtcblx0XHRcdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRcdGNhc2UgMHgxNzogLyogTlVNQkVSMTcgKi9cblx0XHRcdFx0Y2FzZSAweDE4OiAvKiBOVU1CRVIxOCAqL1xuXHRcdFx0XHRjYXNlIDB4MTk6IC8qIEZPUk1VTEExOSAqL1xuXHRcdFx0XHRjYXNlIDB4MjU6IC8qIE5VTUJFUjI1ICovXG5cdFx0XHRcdGNhc2UgMHgyNzogLyogTlVNQkVSMjcgKi9cblx0XHRcdFx0Y2FzZSAweDI4OiAvKiBGT1JNVUxBMjggKi9cblx0XHRcdFx0XHRpZih2YWxbM10gPiBzaWR4KSB7XG5cdFx0XHRcdFx0XHRzW1wiIXJlZlwiXSA9IGVuY29kZV9yYW5nZShyZWZndWVzcyk7XG5cdFx0XHRcdFx0XHRzaGVldHNbbl0gPSBzO1xuXHRcdFx0XHRcdFx0c25hbWVzLnB1c2gobik7XG5cdFx0XHRcdFx0XHRzID0gKHt9Lyo6YW55Ki8pOyBpZihvLmRlbnNlKSBzZGF0YSA9IHNbXCIhZGF0YVwiXSA9IFtdO1xuXHRcdFx0XHRcdFx0cmVmZ3Vlc3MgPSB7czoge3I6MCwgYzowfSwgZToge3I6MCwgYzowfSB9O1xuXHRcdFx0XHRcdFx0c2lkeCA9IHZhbFszXTsgbiA9IFwiU2hlZXRcIiArIChzaWR4ICsgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKHNoZWV0Um93cyA+IDAgJiYgdmFsWzBdLnIgPj0gc2hlZXRSb3dzKSBicmVhaztcblx0XHRcdFx0XHRpZihvLmRlbnNlKSB7XG5cdFx0XHRcdFx0XHRpZighc2RhdGFbdmFsWzBdLnJdKSBzZGF0YVt2YWxbMF0ucl0gPSBbXTtcblx0XHRcdFx0XHRcdHNkYXRhW3ZhbFswXS5yXVt2YWxbMF0uY10gPSB2YWxbMV07XG5cdFx0XHRcdFx0fSBlbHNlIHNbZW5jb2RlX2NlbGwodmFsWzBdKV0gPSB2YWxbMV07XG5cdFx0XHRcdFx0aWYocmVmZ3Vlc3MuZS5jIDwgdmFsWzBdLmMpIHJlZmd1ZXNzLmUuYyA9IHZhbFswXS5jO1xuXHRcdFx0XHRcdGlmKHJlZmd1ZXNzLmUuciA8IHZhbFswXS5yKSByZWZndWVzcy5lLnIgPSB2YWxbMF0ucjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAweDFCOiAvKiBYRk9STUFUICovXG5cdFx0XHRcdFx0aWYodmFsWzB4MzZiMF0pIHJlYWxuYW1lc1t2YWxbMHgzNmIwXVswXV0gPSB2YWxbMHgzNmIwXVsxXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAweDA2MDE6IC8qIFNIRUVUSU5GT1FQICovXG5cdFx0XHRcdFx0cmVhbG5hbWVzW3ZhbFswXV0gPSB2YWxbMV07IGlmKHZhbFswXSA9PSBzaWR4KSBuID0gdmFsWzFdOyBicmVhaztcblx0XHRcdFx0ZGVmYXVsdDogYnJlYWs7XG5cdFx0XHR9fSwgbyk7XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBMT1RVUyBCT0YgXCIgKyBkWzJdKTtcblx0XHRzW1wiIXJlZlwiXSA9IGVuY29kZV9yYW5nZShyZWZndWVzcyk7XG5cdFx0c2hlZXRzW25leHRfbiB8fCBuXSA9IHM7XG5cdFx0c25hbWVzLnB1c2gobmV4dF9uIHx8IG4pO1xuXHRcdGlmKCFyZWFsbmFtZXMubGVuZ3RoKSByZXR1cm4geyBTaGVldE5hbWVzOiBzbmFtZXMsIFNoZWV0czogc2hlZXRzIH07XG5cdFx0dmFyIG9zaGVldHMgPSB7fSwgcm5hbWVzID0gW107XG5cdFx0LyogVE9ETzogdmVyaWZ5IG5vIGNvbGxpc2lvbnMgKi9cblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgcmVhbG5hbWVzLmxlbmd0aDsgKytpKSBpZihzaGVldHNbc25hbWVzW2ldXSkge1xuXHRcdFx0cm5hbWVzLnB1c2gocmVhbG5hbWVzW2ldIHx8IHNuYW1lc1tpXSk7XG5cdFx0XHRvc2hlZXRzW3JlYWxuYW1lc1tpXV0gPSBzaGVldHNbcmVhbG5hbWVzW2ldXSB8fCBzaGVldHNbc25hbWVzW2ldXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cm5hbWVzLnB1c2gocmVhbG5hbWVzW2ldKTtcblx0XHRcdG9zaGVldHNbcmVhbG5hbWVzW2ldXSA9ICh7IFwiIXJlZlwiOiBcIkExXCIgfSk7XG5cdFx0fVxuXHRcdHJldHVybiB7IFNoZWV0TmFtZXM6IHJuYW1lcywgU2hlZXRzOiBvc2hlZXRzIH07XG5cdH1cblxuXHRmdW5jdGlvbiBzaGVldF90b193azEod3MvKjpXb3Jrc2hlZXQqLywgb3B0cy8qOldyaXRlT3B0cyovKSB7XG5cdFx0dmFyIG8gPSBvcHRzIHx8IHt9O1xuXHRcdGlmKCtvLmNvZGVwYWdlID49IDApIHNldF9jcCgrby5jb2RlcGFnZSk7XG5cdFx0aWYoby50eXBlID09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB3cml0ZSBXSzEgdG8gSlMgc3RyaW5nXCIpO1xuXHRcdHZhciBiYSA9IGJ1Zl9hcnJheSgpO1xuXHRcdGlmKCF3c1tcIiFyZWZcIl0pIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHBvcnQgZW1wdHkgc2hlZXQgdG8gV0sxXCIpO1xuXHRcdHZhciByYW5nZSA9IHNhZmVfZGVjb2RlX3JhbmdlKHdzW1wiIXJlZlwiXSk7XG5cdFx0dmFyIGRlbnNlID0gd3NbXCIhZGF0YVwiXSAhPSBudWxsO1xuXHRcdHZhciBjb2xzID0gW107XG5cblx0XHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMCwgd3JpdGVfQk9GX1dLMSgweDA0MDYpKTtcblx0XHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwNiwgd3JpdGVfUkFOR0UocmFuZ2UpKTtcblx0XHR2YXIgbWF4X1IgPSBNYXRoLm1pbihyYW5nZS5lLnIsIDgxOTEpO1xuXHRcdGZvcih2YXIgQyA9IHJhbmdlLnMuYzsgQyA8PSByYW5nZS5lLmM7ICsrQykgY29sc1tDXSA9IGVuY29kZV9jb2woQyk7XG5cdFx0Zm9yKHZhciBSID0gcmFuZ2Uucy5yOyBSIDw9IG1heF9SOyArK1IpIHtcblx0XHRcdHZhciByciA9IGVuY29kZV9yb3coUik7XG5cdFx0XHRmb3IoQyA9IHJhbmdlLnMuYzsgQyA8PSByYW5nZS5lLmM7ICsrQykge1xuXHRcdFx0XHR2YXIgY2VsbCA9IGRlbnNlID8gKHdzW1wiIWRhdGFcIl1bUl18fFtdKVtDXSA6IHdzW2NvbHNbQ10gKyBycl07XG5cdFx0XHRcdGlmKCFjZWxsIHx8IGNlbGwudCA9PSBcInpcIikgY29udGludWU7XG5cdFx0XHRcdC8qIFRPRE86IGZvcm11bGEgcmVjb3JkcyAqL1xuXHRcdFx0XHRzd2l0Y2goY2VsbC50KSB7XG5cdFx0XHRcdGNhc2UgXCJuXCI6XG5cdFx0XHRcdFx0aWYoKGNlbGwudnwwKT09Y2VsbC52ICYmIGNlbGwudiA+PSAtMzI3NjggJiYgY2VsbC52IDw9IDMyNzY3KSB3cml0ZV9iaWZmX3JlYyhiYSwgMHgwZCwgd3JpdGVfSU5URUdFUihSLCBDLCBjZWxsKSk7XG5cdFx0XHRcdFx0ZWxzZSB3cml0ZV9iaWZmX3JlYyhiYSwgMHgwZSwgd3JpdGVfTlVNQkVSKFIsIEMsIGNlbGwpKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImRcIjpcblx0XHRcdFx0XHR2YXIgZGMgPSBkYXRlbnVtKGNlbGwudik7XG5cdFx0XHRcdFx0aWYoKGRjfDApPT1kYyAmJiBkYyA+PSAtMzI3NjggJiYgZGMgPD0gMzI3NjcpIHdyaXRlX2JpZmZfcmVjKGJhLCAweDBkLCB3cml0ZV9JTlRFR0VSKFIsIEMsIHt0OlwiblwiLCB2OmRjLCB6OmNlbGwueiB8fCB0YWJsZV9mbXRbMTRdfSkpO1xuXHRcdFx0XHRcdGVsc2Ugd3JpdGVfYmlmZl9yZWMoYmEsIDB4MGUsIHdyaXRlX05VTUJFUihSLCBDLCB7dDpcIm5cIiwgdjpkYywgejpjZWxsLnogfHwgdGFibGVfZm10WzE0XX0pKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR2YXIgc3RyID0gZm9ybWF0X2NlbGwoY2VsbCk7XG5cdFx0XHRcdFx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MEYsIHdyaXRlX0xBQkVMKFIsIEMsIHN0ci5zbGljZSgwLCAyMzkpKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMSk7XG5cdFx0cmV0dXJuIGJhLmVuZCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYm9va190b193azMod2IvKjpXb3JrYm9vayovLCBvcHRzLyo6V3JpdGVPcHRzKi8pIHtcblx0XHR2YXIgbyA9IG9wdHMgfHwge307XG5cdFx0aWYoK28uY29kZXBhZ2UgPj0gMCkgc2V0X2NwKCtvLmNvZGVwYWdlKTtcblx0XHRpZihvLnR5cGUgPT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHdyaXRlIFdLMyB0byBKUyBzdHJpbmdcIik7XG5cdFx0dmFyIGJhID0gYnVmX2FycmF5KCk7XG5cblx0XHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMCwgd3JpdGVfQk9GX1dLMyh3YikpO1xuXG5cdFx0Zm9yKHZhciBpID0gMCwgY250ID0gMDsgaSA8IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK2kpIGlmKCh3Yi5TaGVldHNbd2IuU2hlZXROYW1lc1tpXV0gfHwge30pW1wiIXJlZlwiXSkgd3JpdGVfYmlmZl9yZWMoYmEsIDB4MWIsIHdyaXRlX1hGT1JNQVRfU0hFRVROQU1FKHdiLlNoZWV0TmFtZXNbaV0sIGNudCsrKSk7XG5cblx0XHR2YXIgd3NpZHggPSAwO1xuXHRcdGZvcihpID0gMDsgaSA8IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK2kpIHtcblx0XHRcdHZhciB3cyA9IHdiLlNoZWV0c1t3Yi5TaGVldE5hbWVzW2ldXTtcblx0XHRcdGlmKCF3cyB8fCAhd3NbXCIhcmVmXCJdKSBjb250aW51ZTtcblx0XHRcdHZhciByYW5nZSA9IHNhZmVfZGVjb2RlX3JhbmdlKHdzW1wiIXJlZlwiXSk7XG5cdFx0XHR2YXIgZGVuc2UgPSB3c1tcIiFkYXRhXCJdICE9IG51bGw7XG5cdFx0XHR2YXIgY29scyA9IFtdO1xuXHRcdFx0dmFyIG1heF9SID0gTWF0aC5taW4ocmFuZ2UuZS5yLCA4MTkxKTtcblx0XHRcdGZvcih2YXIgUiA9IHJhbmdlLnMucjsgUiA8PSBtYXhfUjsgKytSKSB7XG5cdFx0XHRcdHZhciByciA9IGVuY29kZV9yb3coUik7XG5cdFx0XHRcdGZvcih2YXIgQyA9IHJhbmdlLnMuYzsgQyA8PSByYW5nZS5lLmM7ICsrQykge1xuXHRcdFx0XHRcdGlmKFIgPT09IHJhbmdlLnMucikgY29sc1tDXSA9IGVuY29kZV9jb2woQyk7XG5cdFx0XHRcdFx0dmFyIHJlZiA9IGNvbHNbQ10gKyBycjtcblx0XHRcdFx0XHR2YXIgY2VsbCA9IGRlbnNlID8gKHdzW1wiIWRhdGFcIl1bUl18fFtdKVtDXSA6IHdzW3JlZl07XG5cdFx0XHRcdFx0aWYoIWNlbGwgfHwgY2VsbC50ID09IFwielwiKSBjb250aW51ZTtcblx0XHRcdFx0XHQvKiBUT0RPOiBGT1JNVUxBMTkgTlVNQkVSMTggcmVjb3JkcyAqL1xuXHRcdFx0XHRcdGlmKGNlbGwudCA9PSBcIm5cIikge1xuXHRcdFx0XHRcdFx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MTcsIHdyaXRlX05VTUJFUl8xNyhSLCBDLCB3c2lkeCwgY2VsbC52KSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhciBzdHIgPSBmb3JtYXRfY2VsbChjZWxsKTtcblx0XHRcdFx0XHRcdC8qIFRPRE86IG1heCBsZW4/ICovXG5cdFx0XHRcdFx0XHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgxNiwgd3JpdGVfTEFCRUxfMTYoUiwgQywgd3NpZHgsIHN0ci5zbGljZSgwLCAyMzkpKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQrK3dzaWR4O1xuXHRcdH1cblxuXHRcdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAxKTtcblx0XHRyZXR1cm4gYmEuZW5kKCk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIHdyaXRlX0JPRl9XSzEodi8qOm51bWJlciovKSB7XG5cdFx0dmFyIG91dCA9IG5ld19idWYoMik7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDIsIHYpO1xuXHRcdHJldHVybiBvdXQ7XG5cdH1cblxuXHRmdW5jdGlvbiB3cml0ZV9CT0ZfV0szKHdiLyo6V29ya2Jvb2sqLykge1xuXHRcdHZhciBvdXQgPSBuZXdfYnVmKDI2KTtcblx0XHRvdXQud3JpdGVfc2hpZnQoMiwgMHgxMDAwKTtcblx0XHRvdXQud3JpdGVfc2hpZnQoMiwgMHgwMDA0KTtcblx0XHRvdXQud3JpdGVfc2hpZnQoNCwgMHgwMDAwKTtcblx0XHR2YXIgcm93cyA9IDAsIGNvbHMgPSAwLCB3c2NudCA9IDA7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK2kpIHtcblx0XHRcdHZhciBuYW1lID0gd2IuU2hlZXROYW1lc1tpXTtcblx0XHRcdHZhciB3cyA9IHdiLlNoZWV0c1tuYW1lXTtcblx0XHRcdGlmKCF3cyB8fCAhd3NbXCIhcmVmXCJdKSBjb250aW51ZTtcblx0XHRcdCsrd3NjbnQ7XG5cdFx0XHR2YXIgcmFuZ2UgPSBkZWNvZGVfcmFuZ2Uod3NbXCIhcmVmXCJdKTtcblx0XHRcdGlmKHJvd3MgPCByYW5nZS5lLnIpIHJvd3MgPSByYW5nZS5lLnI7XG5cdFx0XHRpZihjb2xzIDwgcmFuZ2UuZS5jKSBjb2xzID0gcmFuZ2UuZS5jO1xuXHRcdH1cblx0XHRpZihyb3dzID4gODE5MSkgcm93cyA9IDgxOTE7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDIsIHJvd3MpO1xuXHRcdG91dC53cml0ZV9zaGlmdCgxLCB3c2NudCk7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDEsIGNvbHMpO1xuXHRcdG91dC53cml0ZV9zaGlmdCgyLCAweDAwKTtcblx0XHRvdXQud3JpdGVfc2hpZnQoMiwgMHgwMCk7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDEsIDB4MDEpO1xuXHRcdG91dC53cml0ZV9zaGlmdCgxLCAweDAyKTtcblx0XHRvdXQud3JpdGVfc2hpZnQoNCwgMCk7XG5cdFx0b3V0LndyaXRlX3NoaWZ0KDQsIDApO1xuXHRcdHJldHVybiBvdXQ7XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9SQU5HRShibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0XHR2YXIgbyA9IHtzOntjOjAscjowfSxlOntjOjAscjowfX07XG5cdFx0aWYobGVuZ3RoID09IDggJiYgb3B0cy5xcHJvKSB7XG5cdFx0XHRvLnMuYyA9IGJsb2IucmVhZF9zaGlmdCgxKTtcblx0XHRcdGJsb2IubCsrO1xuXHRcdFx0by5zLnIgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0XHRvLmUuYyA9IGJsb2IucmVhZF9zaGlmdCgxKTtcblx0XHRcdGJsb2IubCsrO1xuXHRcdFx0by5lLnIgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0XHRyZXR1cm4gbztcblx0XHR9XG5cdFx0by5zLmMgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0by5zLnIgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0aWYobGVuZ3RoID09IDEyICYmIG9wdHMucXBybykgYmxvYi5sICs9IDI7XG5cdFx0by5lLmMgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0by5lLnIgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0aWYobGVuZ3RoID09IDEyICYmIG9wdHMucXBybykgYmxvYi5sICs9IDI7XG5cdFx0aWYoby5zLmMgPT0gMHhGRkZGKSBvLnMuYyA9IG8uZS5jID0gby5zLnIgPSBvLmUuciA9IDA7XG5cdFx0cmV0dXJuIG87XG5cdH1cblx0ZnVuY3Rpb24gd3JpdGVfUkFOR0UocmFuZ2UpIHtcblx0XHR2YXIgb3V0ID0gbmV3X2J1Zig4KTtcblx0XHRvdXQud3JpdGVfc2hpZnQoMiwgcmFuZ2Uucy5jKTtcblx0XHRvdXQud3JpdGVfc2hpZnQoMiwgcmFuZ2Uucy5yKTtcblx0XHRvdXQud3JpdGVfc2hpZnQoMiwgcmFuZ2UuZS5jKTtcblx0XHRvdXQud3JpdGVfc2hpZnQoMiwgcmFuZ2UuZS5yKTtcblx0XHRyZXR1cm4gb3V0O1xuXHR9XG5cblx0ZnVuY3Rpb24gcGFyc2VfY2VsbChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0XHR2YXIgbyA9IFt7YzowLHI6MH0sIHt0OiduJyx2OjB9LCAwLCAwXTtcblx0XHRpZihvcHRzLnFwcm8gJiYgb3B0cy52ZXJzICE9IDB4NTEyMCkge1xuXHRcdFx0b1swXS5jID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRcdFx0b1szXSA9IGJsb2IucmVhZF9zaGlmdCgxKTtcblx0XHRcdG9bMF0uciA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0XHRcdGJsb2IubCs9Mjtcblx0XHR9IGVsc2UgaWYob3B0cy53b3JrcykgeyAvLyBUT0RPOiB2ZXJpZnkgd2l0aCBtb3JlIGNvbXBsZXggd29ya3MzLTQgZXhhbXBsZXNcblx0XHRcdG9bMF0uYyA9IGJsb2IucmVhZF9zaGlmdCgyKTsgb1swXS5yID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRcdFx0b1syXSA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b1syXSA9IGJsb2IucmVhZF9zaGlmdCgxKTtcblx0XHRcdG9bMF0uYyA9IGJsb2IucmVhZF9zaGlmdCgyKTsgb1swXS5yID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRcdH1cblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldF93azFfZm10KGNlbGwpLyo6bnVtYmVyKi8ge1xuXHRcdC8qIFRPRE86IHNvbWUgZnV6enkgbWF0Y2hpbmcgb24gdGhlIG51bWJlciBmb3JtYXQgKi9cblx0XHRpZihjZWxsLnogJiYgZm10X2lzX2RhdGUoY2VsbC56KSkge1xuXHRcdFx0cmV0dXJuIDB4ZjAgfCAoTE9UVVNfREFURV9GTVRTLmluZGV4T2YoY2VsbC56KSArIDEgfHwgMik7XG5cdFx0fVxuXHRcdHJldHVybiAweEZGO1xuXHR9XG5cdGZ1bmN0aW9uIHBhcnNlX0xBQkVMKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHRcdHZhciB0Z3QgPSBibG9iLmwgKyBsZW5ndGg7XG5cdFx0dmFyIG8gPSBwYXJzZV9jZWxsKGJsb2IsIGxlbmd0aCwgb3B0cyk7XG5cdFx0b1sxXS50ID0gJ3MnO1xuXHRcdGlmKChvcHRzLnZlcnMgJiAweEZGRkUpID09IDB4NTEyMCkgeyAvLyBXUTEgLyBXUTJcblx0XHRcdGJsb2IubCsrO1xuXHRcdFx0dmFyIGxlbiA9IGJsb2IucmVhZF9zaGlmdCgxKTtcblx0XHRcdG9bMV0udiA9IGJsb2IucmVhZF9zaGlmdChsZW4sICd1dGY4Jyk7XG5cdFx0XHRyZXR1cm4gbztcblx0XHR9XG5cdFx0aWYob3B0cy5xcHJvKSBibG9iLmwrKztcblx0XHRvWzFdLnYgPSBibG9iLnJlYWRfc2hpZnQodGd0IC0gYmxvYi5sLCAnY3N0cicpO1xuXHRcdHJldHVybiBvO1xuXHR9XG5cdGZ1bmN0aW9uIHdyaXRlX0xBQkVMKFIsIEMsIHMpIHtcblx0XHQvKiBUT0RPOiBlbmNvZGluZyAqL1xuXHRcdHZhciBvID0gbmV3X2J1Zig3ICsgcy5sZW5ndGgpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMSwgMHhGRik7XG5cdFx0by53cml0ZV9zaGlmdCgyLCBDKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIFIpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMSwgMHgyNyk7IC8vID8/XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyArK2kpIHtcblx0XHRcdHZhciBjYyA9IHMuY2hhckNvZGVBdChpKTtcblx0XHRcdG8ud3JpdGVfc2hpZnQoMSwgY2MgPj0gMHg4MCA/IDB4NUYgOiBjYyk7XG5cdFx0fVxuXHRcdG8ud3JpdGVfc2hpZnQoMSwgMCk7XG5cdFx0cmV0dXJuIG87XG5cdH1cblx0ZnVuY3Rpb24gcGFyc2VfU1RSSU5HKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHRcdHZhciB0Z3QgPSBibG9iLmwgKyBsZW5ndGg7XG5cdFx0dmFyIG8gPSBwYXJzZV9jZWxsKGJsb2IsIGxlbmd0aCwgb3B0cyk7XG5cdFx0b1sxXS50ID0gJ3MnO1xuXHRcdGlmKG9wdHMudmVycyA9PSAweDUxMjApIHtcblx0XHRcdHZhciBsZW4gPSBibG9iLnJlYWRfc2hpZnQoMSk7XG5cdFx0XHRvWzFdLnYgPSBibG9iLnJlYWRfc2hpZnQobGVuLCAndXRmOCcpO1xuXHRcdFx0cmV0dXJuIG87XG5cdFx0fVxuXHRcdG9bMV0udiA9IGJsb2IucmVhZF9zaGlmdCh0Z3QgLSBibG9iLmwsICdjc3RyJyk7XG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9JTlRFR0VSKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHRcdHZhciBvID0gcGFyc2VfY2VsbChibG9iLCBsZW5ndGgsIG9wdHMpO1xuXHRcdG9bMV0udiA9IGJsb2IucmVhZF9zaGlmdCgyLCAnaScpO1xuXHRcdHJldHVybiBvO1xuXHR9XG5cdGZ1bmN0aW9uIHdyaXRlX0lOVEVHRVIoUiwgQywgY2VsbCkge1xuXHRcdHZhciBvID0gbmV3X2J1Zig3KTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIGdldF93azFfZm10KGNlbGwpKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIEMpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMiwgUik7XG5cdFx0by53cml0ZV9zaGlmdCgyLCBjZWxsLnYsICdpJyk7XG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9OVU1CRVIoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdFx0dmFyIG8gPSBwYXJzZV9jZWxsKGJsb2IsIGxlbmd0aCwgb3B0cyk7XG5cdFx0b1sxXS52ID0gYmxvYi5yZWFkX3NoaWZ0KDgsICdmJyk7XG5cdFx0cmV0dXJuIG87XG5cdH1cblx0ZnVuY3Rpb24gd3JpdGVfTlVNQkVSKFIsIEMsIGNlbGwpIHtcblx0XHR2YXIgbyA9IG5ld19idWYoMTMpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMSwgZ2V0X3drMV9mbXQoY2VsbCkpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMiwgQyk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCBSKTtcblx0XHRvLndyaXRlX3NoaWZ0KDgsIGNlbGwudiwgJ2YnKTtcblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGZ1bmN0aW9uIHBhcnNlX0ZPUk1VTEEoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdFx0dmFyIHRndCA9IGJsb2IubCArIGxlbmd0aDtcblx0XHR2YXIgbyA9IHBhcnNlX2NlbGwoYmxvYiwgbGVuZ3RoLCBvcHRzKTtcblx0XHQvKiBUT0RPOiBmb3JtdWxhICovXG5cdFx0b1sxXS52ID0gYmxvYi5yZWFkX3NoaWZ0KDgsICdmJyk7XG5cdFx0aWYob3B0cy5xcHJvKSBibG9iLmwgPSB0Z3Q7XG5cdFx0ZWxzZSB7XG5cdFx0XHR2YXIgZmxlbiA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0XHRcdHdrMV9mbWxhX3RvX2NzZihibG9iLnNsaWNlKGJsb2IubCwgYmxvYi5sICsgZmxlbiksIG8pO1xuXHRcdFx0YmxvYi5sICs9IGZsZW47XG5cdFx0fVxuXHRcdHJldHVybiBvO1xuXHR9XG5cblx0ZnVuY3Rpb24gd2sxX3BhcnNlX3JjKEIsIFYsIGNvbCkge1xuXHRcdHZhciByZWwgPSBWICYgMHg4MDAwO1xuXHRcdFYgJj0gfjB4ODAwMDtcblx0XHRWID0gKHJlbCA/IEIgOiAwKSArICgoViA+PSAweDIwMDApID8gViAtIDB4NDAwMCA6IFYpO1xuXHRcdHJldHVybiAocmVsID8gXCJcIiA6IFwiJFwiKSArIChjb2wgPyBlbmNvZGVfY29sKFYpIDogZW5jb2RlX3JvdyhWKSk7XG5cdH1cblx0LyogdmFyIG9wcmVjID0gW1xuXHRcdDgsIDgsIDgsIDgsIDgsIDgsIDgsIDgsIDYsIDQsIDQsIDUsIDUsIDcsIDMsIDMsXG5cdFx0MywgMywgMywgMywgMSwgMSwgMiwgNiwgOCwgOCwgOCwgOCwgOCwgOCwgOCwgOFxuXHRdOyAqL1xuXHQvKiBUT0RPOiBmbGVzaCBvdXQgKi9cblx0dmFyIEZ1bmNUYWIgPSB7XG5cdFx0MHgxRjogW1wiTkFcIiwgMF0sXG5cdFx0Ly8gMHgyMDogW1wiRVJSXCIsIDBdLFxuXHRcdDB4MjE6IFtcIkFCU1wiLCAxXSxcblx0XHQweDIyOiBbXCJUUlVOQ1wiLCAxXSxcblx0XHQweDIzOiBbXCJTUVJUXCIsIDFdLFxuXHRcdDB4MjQ6IFtcIkxPR1wiLCAxXSxcblx0XHQweDI1OiBbXCJMTlwiLCAxXSxcblx0XHQweDI2OiBbXCJQSVwiLCAwXSxcblx0XHQweDI3OiBbXCJTSU5cIiwgMV0sXG5cdFx0MHgyODogW1wiQ09TXCIsIDFdLFxuXHRcdDB4Mjk6IFtcIlRBTlwiLCAxXSxcblx0XHQweDJBOiBbXCJBVEFOMlwiLCAyXSxcblx0XHQweDJCOiBbXCJBVEFOXCIsIDFdLFxuXHRcdDB4MkM6IFtcIkFTSU5cIiwgMV0sXG5cdFx0MHgyRDogW1wiQUNPU1wiLCAxXSxcblx0XHQweDJFOiBbXCJFWFBcIiwgMV0sXG5cdFx0MHgyRjogW1wiTU9EXCIsIDJdLFxuXHRcdC8vIDB4MzBcblx0XHQweDMxOiBbXCJJU05BXCIsIDFdLFxuXHRcdDB4MzI6IFtcIklTRVJSXCIsIDFdLFxuXHRcdDB4MzM6IFtcIkZBTFNFXCIsIDBdLFxuXHRcdDB4MzQ6IFtcIlRSVUVcIiwgMF0sXG5cdFx0MHgzNTogW1wiUkFORFwiLCAwXSxcblx0XHQweDM2OiBbXCJEQVRFXCIsIDNdLFxuXHRcdC8vIDB4MzcgTk9XXG5cdFx0Ly8gMHgzOCBQTVRcblx0XHQvLyAweDM5IFBWXG5cdFx0Ly8gMHgzQSBGVlxuXHRcdC8vIDB4M0IgSUZcblx0XHQvLyAweDNDIERBWVxuXHRcdC8vIDB4M0QgTU9OVEhcblx0XHQvLyAweDNFIFlFQVJcblx0XHQweDNGOiBbXCJST1VORFwiLCAyXSxcblx0XHQweDQwOiBbXCJUSU1FXCIsIDNdLFxuXHRcdC8vIDB4NDEgSE9VUlxuXHRcdC8vIDB4NDIgTUlOVVRFXG5cdFx0Ly8gMHg0MyBTRUNPTkRcblx0XHQweDQ0OiBbXCJJU05VTUJFUlwiLCAxXSxcblx0XHQweDQ1OiBbXCJJU1RFWFRcIiwgMV0sXG5cdFx0MHg0NjogW1wiTEVOXCIsIDFdLFxuXHRcdDB4NDc6IFtcIlZBTFVFXCIsIDFdLFxuXHRcdC8vIDB4NDg6IFtcIkZJWEVEXCIsID8/IDFdLFxuXHRcdDB4NDk6IFtcIk1JRFwiLCAzXSxcblx0XHQweDRBOiBbXCJDSEFSXCIsIDFdLFxuXHRcdC8vIDB4NEJcblx0XHQvLyAweDRDIEZJTkRcblx0XHQvLyAweDREIERBVEVWQUxVRVxuXHRcdC8vIDB4NEUgVElNRVZBTFVFXG5cdFx0Ly8gMHg0RiBDRUxMXG5cdFx0MHg1MDogW1wiU1VNXCIsIDY5XSxcblx0XHQweDUxOiBbXCJBVkVSQUdFQVwiLCA2OV0sXG5cdFx0MHg1MjogW1wiQ09VTlRBXCIsIDY5XSxcblx0XHQweDUzOiBbXCJNSU5BXCIsIDY5XSxcblx0XHQweDU0OiBbXCJNQVhBXCIsIDY5XSxcblx0XHQvLyAweDU1IFZMT09LVVBcblx0XHQvLyAweDU2IE5QVlxuXHRcdC8vIDB4NTcgVkFSXG5cdFx0Ly8gMHg1OCBTVERcblx0XHQvLyAweDU5IElSUlxuXHRcdC8vIDB4NUEgSExPT0tVUFxuXHRcdC8vIDB4NUIgRFNVTVxuXHRcdC8vIDB4NUMgREFWRVJBR0Vcblx0XHQvLyAweDVEIERDT1VOVEFcblx0XHQvLyAweDVFIERNSU5cblx0XHQvLyAweDVGIERNQVhcblx0XHQvLyAweDYwIERWQVJQXG5cdFx0Ly8gMHg2MSBEU1RERVZQXG5cdFx0Ly8gMHg2MiBJTkRFWFxuXHRcdC8vIDB4NjMgQ09MU1xuXHRcdC8vIDB4NjQgUk9XU1xuXHRcdC8vIDB4NjUgUkVQRUFUXG5cdFx0MHg2NjogW1wiVVBQRVJcIiwgMV0sXG5cdFx0MHg2NzogW1wiTE9XRVJcIiwgMV0sXG5cdFx0Ly8gMHg2OCBMRUZUXG5cdFx0Ly8gMHg2OSBSSUdIVFxuXHRcdC8vIDB4NkEgUkVQTEFDRVxuXHRcdDB4NkI6IFtcIlBST1BFUlwiLCAxXSxcblx0XHQvLyAweDZDIENFTExcblx0XHQweDZEOiBbXCJUUklNXCIsIDFdLFxuXHRcdC8vIDB4NkUgQ0xFQU5cblx0XHQweDZGOiBbXCJUXCIsIDFdXG5cdFx0Ly8gMHg3MCBWXG5cdH07XG5cdHZhciBCaW5PcFRhYiA9IFtcblx0XHQgIFwiXCIsICAgXCJcIiwgICBcIlwiLCAgIFwiXCIsICAgXCJcIiwgICBcIlwiLCAgIFwiXCIsICAgXCJcIiwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1taXhlZC1zcGFjZXMtYW5kLXRhYnNcblx0XHQgIFwiXCIsICBcIitcIiwgIFwiLVwiLCAgXCIqXCIsICBcIi9cIiwgIFwiXlwiLCAgXCI9XCIsIFwiPD5cIiwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1taXhlZC1zcGFjZXMtYW5kLXRhYnNcblx0XHRcIjw9XCIsIFwiPj1cIiwgIFwiPFwiLCAgXCI+XCIsICAgXCJcIiwgICBcIlwiLCAgIFwiXCIsICAgXCJcIiwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1taXhlZC1zcGFjZXMtYW5kLXRhYnNcblx0XHQgXCImXCIsICAgXCJcIiwgICBcIlwiLCAgIFwiXCIsICAgXCJcIiwgICBcIlwiLCAgIFwiXCIsICAgXCJcIiAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1taXhlZC1zcGFjZXMtYW5kLXRhYnNcblx0XTtcblxuXHRmdW5jdGlvbiB3azFfZm1sYV90b19jc2YoYmxvYiwgbykge1xuXHRcdHByZXBfYmxvYihibG9iLCAwKTtcblx0XHR2YXIgb3V0ID0gW10sIGFyZ2MgPSAwLCBSID0gXCJcIiwgQyA9IFwiXCIsIGFyZ0wgPSBcIlwiLCBhcmdSID0gXCJcIjtcblx0XHR3aGlsZShibG9iLmwgPCBibG9iLmxlbmd0aCkge1xuXHRcdFx0dmFyIGNjID0gYmxvYltibG9iLmwrK107XG5cdFx0XHRzd2l0Y2goY2MpIHtcblx0XHRcdFx0Y2FzZSAweDAwOiBvdXQucHVzaChibG9iLnJlYWRfc2hpZnQoOCwgJ2YnKSk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDE6IHtcblx0XHRcdFx0XHRDID0gd2sxX3BhcnNlX3JjKG9bMF0uYywgYmxvYi5yZWFkX3NoaWZ0KDIpLCB0cnVlKTtcblx0XHRcdFx0XHRSID0gd2sxX3BhcnNlX3JjKG9bMF0uciwgYmxvYi5yZWFkX3NoaWZ0KDIpLCBmYWxzZSk7XG5cdFx0XHRcdFx0b3V0LnB1c2goQyArIFIpO1xuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDI6IHtcblx0XHRcdFx0XHR2YXIgYyA9IHdrMV9wYXJzZV9yYyhvWzBdLmMsIGJsb2IucmVhZF9zaGlmdCgyKSwgdHJ1ZSk7XG5cdFx0XHRcdFx0dmFyIHIgPSB3azFfcGFyc2VfcmMob1swXS5yLCBibG9iLnJlYWRfc2hpZnQoMiksIGZhbHNlKTtcblx0XHRcdFx0XHRDID0gd2sxX3BhcnNlX3JjKG9bMF0uYywgYmxvYi5yZWFkX3NoaWZ0KDIpLCB0cnVlKTtcblx0XHRcdFx0XHRSID0gd2sxX3BhcnNlX3JjKG9bMF0uciwgYmxvYi5yZWFkX3NoaWZ0KDIpLCBmYWxzZSk7XG5cdFx0XHRcdFx0b3V0LnB1c2goYyArIHIgKyBcIjpcIiArIEMgKyBSKTtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAzOlxuXHRcdFx0XHRcdGlmKGJsb2IubCA8IGJsb2IubGVuZ3RoKSB7IGNvbnNvbGUuZXJyb3IoXCJXSzEgcHJlbWF0dXJlIGZvcm11bGEgZW5kXCIpOyByZXR1cm47IH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAweDA0OiBvdXQucHVzaChcIihcIiArIG91dC5wb3AoKSArIFwiKVwiKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwNTogb3V0LnB1c2goYmxvYi5yZWFkX3NoaWZ0KDIpKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwNjoge1xuXHRcdFx0XHRcdC8qIFRPRE86IHRleHQgZW5jb2RpbmcgKi9cblx0XHRcdFx0XHR2YXIgWiA9IFwiXCI7IHdoaWxlKChjYyA9IGJsb2JbYmxvYi5sKytdKSkgWiArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNjKTtcblx0XHRcdFx0XHRvdXQucHVzaCgnXCInICsgWi5yZXBsYWNlKC9cIi9nLCAnXCJcIicpICsgJ1wiJyk7XG5cdFx0XHRcdH0gYnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAweDA4OiBvdXQucHVzaChcIi1cIiArIG91dC5wb3AoKSk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MTc6IG91dC5wdXNoKFwiK1wiICsgb3V0LnBvcCgpKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgxNjogb3V0LnB1c2goXCJOT1QoXCIgKyBvdXQucG9wKCkgKyBcIilcIik7IGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMHgxNDogY2FzZSAweDE1OiB7XG5cdFx0XHRcdFx0YXJnUiA9IG91dC5wb3AoKTsgYXJnTCA9IG91dC5wb3AoKTtcblx0XHRcdFx0XHRvdXQucHVzaChbXCJBTkRcIiwgXCJPUlwiXVtjYyAtIDB4MTRdICsgXCIoXCIgKyBhcmdMICsgXCIsXCIgKyBhcmdSICsgXCIpXCIpO1xuXHRcdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0aWYoY2MgPCAweDIwICYmIEJpbk9wVGFiW2NjXSkge1xuXHRcdFx0XHRcdFx0YXJnUiA9IG91dC5wb3AoKTsgYXJnTCA9IG91dC5wb3AoKTtcblx0XHRcdFx0XHRcdG91dC5wdXNoKGFyZ0wgKyBCaW5PcFRhYltjY10gKyBhcmdSKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYoRnVuY1RhYltjY10pIHtcblx0XHRcdFx0XHRcdGFyZ2MgPSBGdW5jVGFiW2NjXVsxXTtcblx0XHRcdFx0XHRcdGlmKGFyZ2MgPT0gNjkpIGFyZ2MgPSBibG9iW2Jsb2IubCsrXTtcblx0XHRcdFx0XHRcdGlmKGFyZ2MgPiBvdXQubGVuZ3RoKSB7IGNvbnNvbGUuZXJyb3IoXCJXSzEgYmFkIGZvcm11bGEgcGFyc2UgMHhcIiArIGNjLnRvU3RyaW5nKDE2KSArIFwiOnxcIiArIG91dC5qb2luKFwifFwiKSArIFwifFwiKTsgcmV0dXJuOyB9XG5cdFx0XHRcdFx0XHR2YXIgYXJncyA9IG91dC5zbGljZSgtYXJnYyk7XG5cdFx0XHRcdFx0XHRvdXQubGVuZ3RoIC09IGFyZ2M7XG5cdFx0XHRcdFx0XHRvdXQucHVzaChGdW5jVGFiW2NjXVswXSArIFwiKFwiICsgYXJncy5qb2luKFwiLFwiKSArIFwiKVwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZihjYyA8PSAweDA3KSByZXR1cm4gY29uc29sZS5lcnJvcihcIldLMSBpbnZhbGlkIG9wY29kZSBcIiArIGNjLnRvU3RyaW5nKDE2KSk7XG5cdFx0XHRcdFx0ZWxzZSBpZihjYyA8PSAweDE4KSByZXR1cm4gY29uc29sZS5lcnJvcihcIldLMSB1bnN1cHBvcnRlZCBvcCBcIiArIGNjLnRvU3RyaW5nKDE2KSk7XG5cdFx0XHRcdFx0ZWxzZSBpZihjYyA8PSAweDFFKSByZXR1cm4gY29uc29sZS5lcnJvcihcIldLMSBpbnZhbGlkIG9wY29kZSBcIiArIGNjLnRvU3RyaW5nKDE2KSk7XG5cdFx0XHRcdFx0ZWxzZSBpZihjYyA8PSAweDczKSByZXR1cm4gY29uc29sZS5lcnJvcihcIldLMSB1bnN1cHBvcnRlZCBmdW5jdGlvbiBvcGNvZGUgXCIgKyBjYy50b1N0cmluZygxNikpO1xuXHRcdFx0XHRcdC8vIHBvc3NpYmxlIGZ1dHVyZSBmdW5jdGlvbnMgPz9cblx0XHRcdFx0XHRlbHNlIHJldHVybiBjb25zb2xlLmVycm9yKFwiV0sxIHVucmVjb2duaXplZCBvcGNvZGUgXCIgKyBjYy50b1N0cmluZygxNikpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihvdXQubGVuZ3RoID09IDEpIG9bMV0uZiA9IFwiXCIgKyBvdXRbMF07XG5cdFx0ZWxzZSBjb25zb2xlLmVycm9yKFwiV0sxIGJhZCBmb3JtdWxhIHBhcnNlIHxcIiArIG91dC5qb2luKFwifFwiKSArIFwifFwiKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBhcnNlX2NlbGxfMyhibG9iLyo6OiwgbGVuZ3RoKi8pIHtcblx0XHR2YXIgbyA9IFt7YzowLHI6MH0sIHt0OiduJyx2OjB9LCAwXTtcblx0XHRvWzBdLnIgPSBibG9iLnJlYWRfc2hpZnQoMik7IG9bM10gPSBibG9iW2Jsb2IubCsrXTsgb1swXS5jID0gYmxvYltibG9iLmwrK107XG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9MQUJFTF8xNihibG9iLCBsZW5ndGgpIHtcblx0XHR2YXIgbyA9IHBhcnNlX2NlbGxfMyhibG9iLCBsZW5ndGgpO1xuXHRcdG9bMV0udCA9ICdzJztcblx0XHRvWzFdLnYgPSBibG9iLnJlYWRfc2hpZnQobGVuZ3RoIC0gNCwgJ2NzdHInKTtcblx0XHRyZXR1cm4gbztcblx0fVxuXHRmdW5jdGlvbiB3cml0ZV9MQUJFTF8xNihSLCBDLCB3c2lkeCwgcykge1xuXHRcdC8qIFRPRE86IGVuY29kaW5nICovXG5cdFx0dmFyIG8gPSBuZXdfYnVmKDYgKyBzLmxlbmd0aCk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCBSKTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIHdzaWR4KTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIEMpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMSwgMHgyNyk7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyArK2kpIHtcblx0XHRcdHZhciBjYyA9IHMuY2hhckNvZGVBdChpKTtcblx0XHRcdG8ud3JpdGVfc2hpZnQoMSwgY2MgPj0gMHg4MCA/IDB4NUYgOiBjYyk7XG5cdFx0fVxuXHRcdG8ud3JpdGVfc2hpZnQoMSwgMCk7XG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9OVU1CRVJfMTgoYmxvYiwgbGVuZ3RoKSB7XG5cdFx0dmFyIG8gPSBwYXJzZV9jZWxsXzMoYmxvYiwgbGVuZ3RoKTtcblx0XHRvWzFdLnYgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0dmFyIHYgPSBvWzFdLnYgPj4gMTtcblx0XHRpZihvWzFdLnYgJiAweDEpIHtcblx0XHRcdHN3aXRjaCh2ICYgMHgwNykge1xuXHRcdFx0XHRjYXNlIDA6IHYgPSAodiA+PiAzKSAqIDUwMDA7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDE6IHYgPSAodiA+PiAzKSAqIDUwMDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMjogdiA9ICh2ID4+IDMpIC8gMjA7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDM6IHYgPSAodiA+PiAzKSAvIDIwMDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgNDogdiA9ICh2ID4+IDMpIC8gMjAwMDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgNTogdiA9ICh2ID4+IDMpIC8gMjAwMDA7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDY6IHYgPSAodiA+PiAzKSAvIDE2OyBicmVhaztcblx0XHRcdFx0Y2FzZSA3OiB2ID0gKHYgPj4gMykgLyA2NDsgYnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdG9bMV0udiA9IHY7XG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9OVU1CRVJfMTcoYmxvYiwgbGVuZ3RoKSB7XG5cdFx0dmFyIG8gPSBwYXJzZV9jZWxsXzMoYmxvYiwgbGVuZ3RoKTtcblx0XHR2YXIgdjEgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdFx0dmFyIHYyID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRcdHZhciBlID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRcdGlmKGUgPT0gMHhGRkZGKSB7XG5cdFx0XHRpZih2MSA9PT0gMCAmJiB2MiA9PT0gMHhDMDAwMDAwMCkgeyBvWzFdLnQgPSBcImVcIjsgb1sxXS52ID0gMHgwRjsgfSAvLyBFUlIgLT4gI1ZBTFVFIVxuXHRcdFx0ZWxzZSBpZih2MSA9PT0gMCAmJiB2MiA9PT0gMHhEMDAwMDAwMCkgeyBvWzFdLnQgPSBcImVcIjsgb1sxXS52ID0gMHgyQTsgfSAvLyBOQSAtPiAjTi9BXG5cdFx0XHRlbHNlIG9bMV0udiA9IDA7XG5cdFx0XHRyZXR1cm4gbztcblx0XHR9XG5cdFx0dmFyIHMgPSBlICYgMHg4MDAwOyBlID0gKGUmMHg3RkZGKSAtIDE2NDQ2O1xuXHRcdG9bMV0udiA9ICgxIC0gcyoyKSAqICh2MiAqIE1hdGgucG93KDIsIGUrMzIpICsgdjEgKiBNYXRoLnBvdygyLCBlKSk7XG5cdFx0cmV0dXJuIG87XG5cdH1cblx0ZnVuY3Rpb24gd3JpdGVfTlVNQkVSXzE3KFIsIEMsIHdzaWR4LCB2KSB7XG5cdFx0dmFyIG8gPSBuZXdfYnVmKDE0KTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIFIpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMSwgd3NpZHgpO1xuXHRcdG8ud3JpdGVfc2hpZnQoMSwgQyk7XG5cdFx0aWYodiA9PSAwKSB7XG5cdFx0XHRvLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRcdFx0by53cml0ZV9zaGlmdCg0LCAwKTtcblx0XHRcdG8ud3JpdGVfc2hpZnQoMiwgMHhGRkZGKTtcblx0XHRcdHJldHVybiBvO1xuXHRcdH1cblx0XHR2YXIgcyA9IDAsIGUgPSAwLCB2MSA9IDAsIHYyID0gMDtcblx0XHRpZih2IDwgMCkgeyBzID0gMTsgdiA9IC12OyB9XG5cdFx0ZSA9IE1hdGgubG9nMih2KSB8IDA7XG5cdFx0diAvPSBNYXRoLnBvdygyLCBlLTMxKTtcblx0XHR2MiA9ICh2KT4+PjA7XG5cdFx0aWYoKHYyJjB4ODAwMDAwMDApID09IDApIHsgdi89MjsgKytlOyB2MiA9IHYgPj4+IDA7IH1cblx0XHR2IC09IHYyO1xuXHRcdHYyIHw9IDB4ODAwMDAwMDA7XG5cdFx0djIgPj4+PSAwO1xuXHRcdHYgKj0gTWF0aC5wb3coMiwgMzIpO1xuXHRcdHYxID0gdj4+PjA7XG5cdFx0by53cml0ZV9zaGlmdCg0LCB2MSk7XG5cdFx0by53cml0ZV9zaGlmdCg0LCB2Mik7XG5cdFx0ZSArPSAweDNGRkYgKyAocyA/IDB4ODAwMCA6IDApO1xuXHRcdG8ud3JpdGVfc2hpZnQoMiwgZSk7XG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9GT1JNVUxBXzE5KGJsb2IsIGxlbmd0aCkge1xuXHRcdHZhciBvID0gcGFyc2VfTlVNQkVSXzE3KGJsb2IsIDE0KTtcblx0XHRibG9iLmwgKz0gbGVuZ3RoIC0gMTQ7IC8qIFRPRE86IFdLMyBmb3JtdWxhICovXG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9OVU1CRVJfMjUoYmxvYiwgbGVuZ3RoKSB7XG5cdFx0dmFyIG8gPSBwYXJzZV9jZWxsXzMoYmxvYiwgbGVuZ3RoKTtcblx0XHR2YXIgdjEgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdFx0b1sxXS52ID0gdjEgPj4gNjtcblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGZ1bmN0aW9uIHBhcnNlX05VTUJFUl8yNyhibG9iLCBsZW5ndGgpIHtcblx0XHR2YXIgbyA9IHBhcnNlX2NlbGxfMyhibG9iLCBsZW5ndGgpO1xuXHRcdHZhciB2MSA9IGJsb2IucmVhZF9zaGlmdCg4LCdmJyk7XG5cdFx0b1sxXS52ID0gdjE7XG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9GT1JNVUxBXzI4KGJsb2IsIGxlbmd0aCkge1xuXHRcdHZhciBvID0gcGFyc2VfTlVNQkVSXzI3KGJsb2IsIDEyKTtcblx0XHRibG9iLmwgKz0gbGVuZ3RoIC0gMTI7IC8qIFRPRE86IGZvcm11bGEgKi9cblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGZ1bmN0aW9uIHBhcnNlX1NIRUVUTkFNRUNTKGJsb2IsIGxlbmd0aCkge1xuXHRcdHJldHVybiBibG9iW2Jsb2IubCArIGxlbmd0aCAtIDFdID09IDAgPyBibG9iLnJlYWRfc2hpZnQobGVuZ3RoLCAnY3N0cicpIDogXCJcIjtcblx0fVxuXG5cdGZ1bmN0aW9uIHBhcnNlX1NIRUVUTkFNRUxQKGJsb2IsIGxlbmd0aCkge1xuXHRcdHZhciBsZW4gPSBibG9iW2Jsb2IubCsrXTtcblx0XHRpZihsZW4gPiBsZW5ndGggLSAxKSBsZW4gPSBsZW5ndGggLSAxO1xuXHRcdHZhciBvID0gXCJcIjsgd2hpbGUoby5sZW5ndGggPCBsZW4pIG8gKz0gU3RyaW5nLmZyb21DaGFyQ29kZShibG9iW2Jsb2IubCsrXSk7XG5cdFx0cmV0dXJuIG87XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9TSEVFVElORk9RUChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0XHRpZighb3B0cy5xcHJvIHx8IGxlbmd0aCA8IDIxKSByZXR1cm47XG5cdFx0dmFyIGlkID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRcdGJsb2IubCArPSAxNztcblx0XHRibG9iLmwgKz0gMTsgLy92YXIgbGVuID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRcdGJsb2IubCArPSAyO1xuXHRcdHZhciBubSA9IGJsb2IucmVhZF9zaGlmdChsZW5ndGggLSAyMSwgJ2NzdHInKTtcblx0XHRyZXR1cm4gW2lkLCBubV07XG5cdH1cblxuXHRmdW5jdGlvbiBwYXJzZV9YRk9STUFUKGJsb2IsIGxlbmd0aCkge1xuXHRcdHZhciBvID0ge30sIHRndCA9IGJsb2IubCArIGxlbmd0aDtcblx0XHR3aGlsZShibG9iLmwgPCB0Z3QpIHtcblx0XHRcdHZhciBkdCA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0XHRcdGlmKGR0ID09IDB4MzZiMCkge1xuXHRcdFx0XHRvW2R0XSA9IFswLCBcIlwiXTtcblx0XHRcdFx0b1tkdF1bMF0gPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdFx0XHRcdHdoaWxlKGJsb2JbYmxvYi5sXSkgeyBvW2R0XVsxXSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJsb2JbYmxvYi5sXSk7IGJsb2IubCsrOyB9IGJsb2IubCsrO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVE9ETzogMHgzYTk5ID8/XG5cdFx0fVxuXHRcdHJldHVybiBvO1xuXHR9XG5cdGZ1bmN0aW9uIHdyaXRlX1hGT1JNQVRfU0hFRVROQU1FKG5hbWUsIHdzaWR4KSB7XG5cdFx0dmFyIG91dCA9IG5ld19idWYoNSArIG5hbWUubGVuZ3RoKTtcblx0XHRvdXQud3JpdGVfc2hpZnQoMiwgMHgzNmIwKTtcblx0XHRvdXQud3JpdGVfc2hpZnQoMiwgd3NpZHgpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgKytpKSB7XG5cdFx0XHR2YXIgY2MgPSBuYW1lLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRvdXRbb3V0LmwrK10gPSBjYyA+IDB4N0YgPyAweDVGIDogY2M7XG5cdFx0fVxuXHRcdG91dFtvdXQubCsrXSA9IDA7XG5cdFx0cmV0dXJuIG91dDtcblx0fVxuXG5cdHZhciBXSzFFbnVtID0ge1xuXHRcdDB4MDAwMDogeyBuOlwiQk9GXCIsIGY6cGFyc2V1aW50MTYgfSxcblx0XHQweDAwMDE6IHsgbjpcIkVPRlwiIH0sXG5cdFx0MHgwMDAyOiB7IG46XCJDQUxDTU9ERVwiIH0sXG5cdFx0MHgwMDAzOiB7IG46XCJDQUxDT1JERVJcIiB9LFxuXHRcdDB4MDAwNDogeyBuOlwiU1BMSVRcIiB9LFxuXHRcdDB4MDAwNTogeyBuOlwiU1lOQ1wiIH0sXG5cdFx0MHgwMDA2OiB7IG46XCJSQU5HRVwiLCBmOnBhcnNlX1JBTkdFIH0sXG5cdFx0MHgwMDA3OiB7IG46XCJXSU5ET1cxXCIgfSxcblx0XHQweDAwMDg6IHsgbjpcIkNPTFcxXCIgfSxcblx0XHQweDAwMDk6IHsgbjpcIldJTlRXT1wiIH0sXG5cdFx0MHgwMDBBOiB7IG46XCJDT0xXMlwiIH0sXG5cdFx0MHgwMDBCOiB7IG46XCJOQU1FXCIgfSxcblx0XHQweDAwMEM6IHsgbjpcIkJMQU5LXCIgfSxcblx0XHQweDAwMEQ6IHsgbjpcIklOVEVHRVJcIiwgZjpwYXJzZV9JTlRFR0VSIH0sXG5cdFx0MHgwMDBFOiB7IG46XCJOVU1CRVJcIiwgZjpwYXJzZV9OVU1CRVIgfSxcblx0XHQweDAwMEY6IHsgbjpcIkxBQkVMXCIsIGY6cGFyc2VfTEFCRUwgfSxcblx0XHQweDAwMTA6IHsgbjpcIkZPUk1VTEFcIiwgZjpwYXJzZV9GT1JNVUxBIH0sXG5cdFx0MHgwMDE4OiB7IG46XCJUQUJMRVwiIH0sXG5cdFx0MHgwMDE5OiB7IG46XCJPUkFOR0VcIiB9LFxuXHRcdDB4MDAxQTogeyBuOlwiUFJBTkdFXCIgfSxcblx0XHQweDAwMUI6IHsgbjpcIlNSQU5HRVwiIH0sXG5cdFx0MHgwMDFDOiB7IG46XCJGUkFOR0VcIiB9LFxuXHRcdDB4MDAxRDogeyBuOlwiS1JBTkdFMVwiIH0sXG5cdFx0MHgwMDIwOiB7IG46XCJIUkFOR0VcIiB9LFxuXHRcdDB4MDAyMzogeyBuOlwiS1JBTkdFMlwiIH0sXG5cdFx0MHgwMDI0OiB7IG46XCJQUk9URUNcIiB9LFxuXHRcdDB4MDAyNTogeyBuOlwiRk9PVEVSXCIgfSxcblx0XHQweDAwMjY6IHsgbjpcIkhFQURFUlwiIH0sXG5cdFx0MHgwMDI3OiB7IG46XCJTRVRVUFwiIH0sXG5cdFx0MHgwMDI4OiB7IG46XCJNQVJHSU5TXCIgfSxcblx0XHQweDAwMjk6IHsgbjpcIkxBQkVMRk1UXCIgfSxcblx0XHQweDAwMkE6IHsgbjpcIlRJVExFU1wiIH0sXG5cdFx0MHgwMDJCOiB7IG46XCJTSEVFVEpTXCIgfSxcblx0XHQweDAwMkQ6IHsgbjpcIkdSQVBIXCIgfSxcblx0XHQweDAwMkU6IHsgbjpcIk5HUkFQSFwiIH0sXG5cdFx0MHgwMDJGOiB7IG46XCJDQUxDQ09VTlRcIiB9LFxuXHRcdDB4MDAzMDogeyBuOlwiVU5GT1JNQVRURURcIiB9LFxuXHRcdDB4MDAzMTogeyBuOlwiQ1VSU09SVzEyXCIgfSxcblx0XHQweDAwMzI6IHsgbjpcIldJTkRPV1wiIH0sXG5cdFx0MHgwMDMzOiB7IG46XCJTVFJJTkdcIiwgZjpwYXJzZV9TVFJJTkcgfSxcblx0XHQweDAwMzc6IHsgbjpcIlBBU1NXT1JEXCIgfSxcblx0XHQweDAwMzg6IHsgbjpcIkxPQ0tFRFwiIH0sXG5cdFx0MHgwMDNDOiB7IG46XCJRVUVSWVwiIH0sXG5cdFx0MHgwMDNEOiB7IG46XCJRVUVSWU5BTUVcIiB9LFxuXHRcdDB4MDAzRTogeyBuOlwiUFJJTlRcIiB9LFxuXHRcdDB4MDAzRjogeyBuOlwiUFJJTlROQU1FXCIgfSxcblx0XHQweDAwNDA6IHsgbjpcIkdSQVBIMlwiIH0sXG5cdFx0MHgwMDQxOiB7IG46XCJHUkFQSE5BTUVcIiB9LFxuXHRcdDB4MDA0MjogeyBuOlwiWk9PTVwiIH0sXG5cdFx0MHgwMDQzOiB7IG46XCJTWU1TUExJVFwiIH0sXG5cdFx0MHgwMDQ0OiB7IG46XCJOU1JPV1NcIiB9LFxuXHRcdDB4MDA0NTogeyBuOlwiTlNDT0xTXCIgfSxcblx0XHQweDAwNDY6IHsgbjpcIlJVTEVSXCIgfSxcblx0XHQweDAwNDc6IHsgbjpcIk5OQU1FXCIgfSxcblx0XHQweDAwNDg6IHsgbjpcIkFDT01NXCIgfSxcblx0XHQweDAwNDk6IHsgbjpcIkFNQUNST1wiIH0sXG5cdFx0MHgwMDRBOiB7IG46XCJQQVJTRVwiIH0sXG5cdFx0Ly8gMHgwMDY0XG5cdFx0MHgwMDY2OiB7IG46XCJQUkFOR0VTPz9cIiB9LFxuXHRcdDB4MDA2NzogeyBuOlwiUlJBTkdFUz8/XCIgfSxcblx0XHQweDAwNjg6IHsgbjpcIkZOQU1FPz9cIiB9LFxuXHRcdDB4MDA2OTogeyBuOlwiTVJBTkdFUz8/XCIgfSxcblx0XHQvLyAweDAwOTZcblx0XHQvLyAweDAwOTlcblx0XHQvLyAweDAwOUFcblx0XHQvLyAweDAwOUJcblx0XHQvLyAweDAwOUNcblx0XHQvLyAweDAwQzBcblx0XHQvLyAweDAwQzdcblx0XHQvLyAweDAwQzlcblx0XHQweDAwQ0M6IHsgbjpcIlNIRUVUTkFNRUNTXCIsIGY6cGFyc2VfU0hFRVROQU1FQ1MgfSxcblx0XHQvLyAweDAwQ0Rcblx0XHQweDAwREU6IHsgbjpcIlNIRUVUTkFNRUxQXCIsIGY6cGFyc2VfU0hFRVROQU1FTFAgfSxcblx0XHQweDAwRkY6IHsgbjpcIkJPRlwiLCBmOnBhcnNldWludDE2IH0sXG5cdFx0MHg1NDAyOiB7IG46XCJXS1NORlwiLCBmOnBhcnNldWludDE2IH0sXG5cdFx0MHhGRkZGOiB7IG46XCJcIiB9XG5cdH07XG5cblx0dmFyIFdLM0VudW0gPSB7XG5cdFx0MHgwMDAwOiB7IG46XCJCT0ZcIiB9LFxuXHRcdDB4MDAwMTogeyBuOlwiRU9GXCIgfSxcblx0XHQweDAwMDI6IHsgbjpcIlBBU1NXT1JEXCIgfSxcblx0XHQweDAwMDM6IHsgbjpcIkNBTENTRVRcIiB9LFxuXHRcdDB4MDAwNDogeyBuOlwiV0lORE9XU0VUXCIgfSxcblx0XHQweDAwMDU6IHsgbjpcIlNIRUVUQ0VMTFBUUlwiIH0sXG5cdFx0MHgwMDA2OiB7IG46XCJTSEVFVExBWU9VVFwiIH0sXG5cdFx0MHgwMDA3OiB7IG46XCJDT0xVTU5XSURUSFwiIH0sXG5cdFx0MHgwMDA4OiB7IG46XCJISURERU5DT0xVTU5cIiB9LFxuXHRcdDB4MDAwOTogeyBuOlwiVVNFUlJBTkdFXCIgfSxcblx0XHQweDAwMEE6IHsgbjpcIlNZU1RFTVJBTkdFXCIgfSxcblx0XHQweDAwMEI6IHsgbjpcIlpFUk9GT1JDRVwiIH0sXG5cdFx0MHgwMDBDOiB7IG46XCJTT1JUS0VZRElSXCIgfSxcblx0XHQweDAwMEQ6IHsgbjpcIkZJTEVTRUFMXCIgfSxcblx0XHQweDAwMEU6IHsgbjpcIkRBVEFGSUxMTlVNU1wiIH0sXG5cdFx0MHgwMDBGOiB7IG46XCJQUklOVE1BSU5cIiB9LFxuXHRcdDB4MDAxMDogeyBuOlwiUFJJTlRTVFJJTkdcIiB9LFxuXHRcdDB4MDAxMTogeyBuOlwiR1JBUEhNQUlOXCIgfSxcblx0XHQweDAwMTI6IHsgbjpcIkdSQVBIU1RSSU5HXCIgfSxcblx0XHQweDAwMTM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwMTQ6IHsgbjpcIkVSUkNFTExcIiB9LFxuXHRcdDB4MDAxNTogeyBuOlwiTkFDRUxMXCIgfSxcblx0XHQweDAwMTY6IHsgbjpcIkxBQkVMMTZcIiwgZjpwYXJzZV9MQUJFTF8xNn0sXG5cdFx0MHgwMDE3OiB7IG46XCJOVU1CRVIxN1wiLCBmOnBhcnNlX05VTUJFUl8xNyB9LFxuXHRcdDB4MDAxODogeyBuOlwiTlVNQkVSMThcIiwgZjpwYXJzZV9OVU1CRVJfMTggfSxcblx0XHQweDAwMTk6IHsgbjpcIkZPUk1VTEExOVwiLCBmOnBhcnNlX0ZPUk1VTEFfMTl9LFxuXHRcdDB4MDAxQTogeyBuOlwiRk9STVVMQTFBXCIgfSxcblx0XHQweDAwMUI6IHsgbjpcIlhGT1JNQVRcIiwgZjpwYXJzZV9YRk9STUFUIH0sXG5cdFx0MHgwMDFDOiB7IG46XCJEVExBQkVMTUlTQ1wiIH0sXG5cdFx0MHgwMDFEOiB7IG46XCJEVExBQkVMQ0VMTFwiIH0sXG5cdFx0MHgwMDFFOiB7IG46XCJHUkFQSFdJTkRPV1wiIH0sXG5cdFx0MHgwMDFGOiB7IG46XCJDUEFcIiB9LFxuXHRcdDB4MDAyMDogeyBuOlwiTFBMQVVUT1wiIH0sXG5cdFx0MHgwMDIxOiB7IG46XCJRVUVSWVwiIH0sXG5cdFx0MHgwMDIyOiB7IG46XCJISURERU5TSEVFVFwiIH0sXG5cdFx0MHgwMDIzOiB7IG46XCI/P1wiIH0sXG5cdFx0MHgwMDI1OiB7IG46XCJOVU1CRVIyNVwiLCBmOnBhcnNlX05VTUJFUl8yNSB9LFxuXHRcdDB4MDAyNjogeyBuOlwiPz9cIiB9LFxuXHRcdDB4MDAyNzogeyBuOlwiTlVNQkVSMjdcIiwgZjpwYXJzZV9OVU1CRVJfMjcgfSxcblx0XHQweDAwMjg6IHsgbjpcIkZPUk1VTEEyOFwiLCBmOnBhcnNlX0ZPUk1VTEFfMjggfSxcblx0XHQweDAwOEU6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwOTM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwOTY6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwOTc6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwOTg6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwOTk6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwOUE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwOUI6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwOUM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQTM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQUU6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQUY6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQjA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQjE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQjg6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQjk6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQkE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQkI6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQkM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQzM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQzk6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQ0M6IHsgbjpcIlNIRUVUTkFNRUNTXCIsIGY6cGFyc2VfU0hFRVROQU1FQ1MgfSxcblx0XHQweDAwQ0Q6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQ0U6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwQ0Y6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAwRDA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMDA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMDM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMDQ6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMDU6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMDY6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMDc6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMDk6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMEE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMEI6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMEM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMEU6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxMEY6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxODA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxODU6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxODY6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxODk6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAxOEM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyMDA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyMDI6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyMDE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyMDQ6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyMDU6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyODA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyODE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyODI6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyODM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyODQ6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyODU6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyODY6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyODc6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyODg6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyOTI6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyOTM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyOTQ6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyOTU6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyOTY6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyOTk6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAyOUE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAzMDA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDAzMDQ6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA2MDE6IHsgbjpcIlNIRUVUSU5GT1FQXCIsIGY6cGFyc2VfU0hFRVRJTkZPUVAgfSxcblx0XHQweDA2NDA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA2NDI6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA3MDE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA3MDI6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA3MDM6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA3MDQ6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA3ODA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA4MDA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA4MDE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDA4MDQ6IHsgbjpcIj8/XCIgfSxcblx0XHQweDBBODA6IHsgbjpcIj8/XCIgfSxcblx0XHQweDJBRjY6IHsgbjpcIj8/XCIgfSxcblx0XHQweDMyMzE6IHsgbjpcIj8/XCIgfSxcblx0XHQweDZFNDk6IHsgbjpcIj8/XCIgfSxcblx0XHQweDZGNDQ6IHsgbjpcIj8/XCIgfSxcblx0XHQweEZGRkY6IHsgbjpcIlwiIH1cblx0fTtcblxuXHQvKiBUT0RPOiBmaWxsIG91dCBhbmQgdmVyaWZ5IHRoaXMgdGFibGUgYWNyb3NzIFFQIHZlcnNpb25zICovXG5cdHZhciBRUFdORlRhYmxlID0ge1xuXHRcdDB4MDU6IFwiZGQtbW1tLXl5XCIsXG5cdFx0MHgwNjogXCJkZC1tbW1cIixcblx0XHQweDA3OiBcIm1tbS15eVwiLFxuXHRcdDB4MDg6IFwibW0vZGQveXlcIiwgLy8gTG9uZyBEYXRlIEludGxcblx0XHQweDBBOiBcImhoOm1tOnNzIEFNL1BNXCIsXG5cdFx0MHgwQjogXCJoaDptbSBBTS9QTVwiLFxuXHRcdDB4MEU6IFwiZGQtbW1tLXl5eXlcIixcblx0XHQweDBGOiBcIm1tbS15eXl5XCIsXG5cblx0XHQvKiBJdCBpcyBzdXNwZWN0ZWQgdGhhdCB0aGUgdGhlIGxvdyBueWJibGUgc3BlY2lmaWVzIGRlY2ltYWwgcGxhY2VzICovXG5cdFx0MHgwMDIyOiBcIjAuMDBcIixcblx0XHQweDAwMzI6IFwiMC4wMDtbUmVkXTAuMDBcIixcblx0XHQweDAwNDI6IFwiMC4wMDtcXCgwLjAwXFwpXCIsXG5cdFx0MHgwMDUyOiBcIjAuMDA7W1JlZF1cXCgwLjAwXFwpXCIsXG5cdFx0MHgwMEEyOiAnXCIkXCIjLCMjMC4wMDtcXFxcKFwiJFwiIywjIzAuMDBcXFxcKScsXG5cdFx0MHgwMTIwOiAnMCUnLFxuXHRcdDB4MDEzMDogJzBFKzAwJyxcblx0XHQweDAxNDA6ICcjID8vPydcblx0fTtcblxuXHRmdW5jdGlvbiBwYXJzZV9xcHdfc3RyKHApIHtcblx0XHR2YXIgY2NoID0gcC5yZWFkX3NoaWZ0KDIpO1xuXHRcdHZhciBmbGFncyA9IHAucmVhZF9zaGlmdCgxKTtcblx0XHQvKiBUT0RPOiBmaW5kIGV4YW1wbGVzIHdpdGggbm9uemVybyBmbGFncyAqL1xuXHRcdGlmKGZsYWdzICE9IDApIHRocm93IFwidW5zdXBwb3J0ZWQgUVBXIHN0cmluZyB0eXBlIFwiICsgZmxhZ3MudG9TdHJpbmcoMTYpO1xuXHRcdHJldHVybiBwLnJlYWRfc2hpZnQoY2NoLCBcInNiY3MtY29udFwiKTtcblx0fVxuXG5cdC8qIFFQVyB1c2VzIGEgZGlmZmVyZW50IHNldCBvZiByZWNvcmQgdHlwZXMgKi9cblx0ZnVuY3Rpb24gcXB3X3RvX3dvcmtib29rX2J1ZihkLCBvcHRzKS8qOldvcmtib29rKi8ge1xuXHRcdHByZXBfYmxvYihkLCAwKTtcblx0XHR2YXIgbyA9IG9wdHMgfHwge307XG5cdFx0aWYoREVOU0UgIT0gbnVsbCAmJiBvLmRlbnNlID09IG51bGwpIG8uZGVuc2UgPSBERU5TRTtcblx0XHR2YXIgcy8qOldvcmtzaGVldCovID0gKHt9Lyo6YW55Ki8pOyBpZihvLmRlbnNlKSBzW1wiIWRhdGFcIl0gPSBbXTtcblx0XHR2YXIgU1NUID0gW10sIHNuYW1lID0gXCJcIiwgZm9ybXVsYWUgPSBbXTtcblx0XHR2YXIgcmFuZ2UgPSB7czp7cjotMSxjOi0xfSwgZTp7cjotMSxjOi0xfX07XG5cdFx0dmFyIGNudCA9IDAsIHR5cGUgPSAwLCBDID0gMCwgUiA9IDA7XG5cdFx0dmFyIHdiID0geyBTaGVldE5hbWVzOiBbXSwgU2hlZXRzOiB7fSB9O1xuXHRcdHZhciBGTVRTID0gW107XG5cdFx0b3V0ZXI6IHdoaWxlKGQubCA8IGQubGVuZ3RoKSB7XG5cdFx0XHR2YXIgUlQgPSBkLnJlYWRfc2hpZnQoMiksIGxlbmd0aCA9IGQucmVhZF9zaGlmdCgyKTtcblx0XHRcdHZhciBwID0gZC5zbGljZShkLmwsIGQubCArIGxlbmd0aCk7XG5cdFx0XHRwcmVwX2Jsb2IocCwgMCk7XG5cdFx0XHRzd2l0Y2goUlQpIHtcblx0XHRcdFx0Y2FzZSAweDAxOiAvKiBCT0YgKi9cblx0XHRcdFx0XHRpZihwLnJlYWRfc2hpZnQoNCkgIT0gMHgzOTU3NTA1MSkgdGhyb3cgXCJCYWQgUVBXOSBCT0YhXCI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMjogLyogRU9GICovIGJyZWFrIG91dGVyO1xuXG5cdFx0XHRcdGNhc2UgMHgwODogLyogTkYgKi8gYnJlYWs7IC8vIFRPRE86IHRoaXMgaXMgdGllZCB0byBjdXN0b20gbnVtYmVyIGZvcm1hdHNcblxuXHRcdFx0XHRjYXNlIDB4MEE6IC8qIEZPUk1BVFMgKi8ge1xuXHRcdFx0XHRcdHZhciBmY250ID0gcC5yZWFkX3NoaWZ0KDQpO1xuXHRcdFx0XHRcdHZhciBzdGVwID0gKChwLmxlbmd0aCAtIHAubCkvIGZjbnQpfDA7XG5cdFx0XHRcdFx0Zm9yKHZhciBpZm10ID0gMDsgaWZtdCA8IGZjbnQ7ICsraWZtdCkge1xuXHRcdFx0XHRcdFx0dmFyIGVuZCA9IHAubCArIHN0ZXA7XG5cdFx0XHRcdFx0XHR2YXIgZm10ID0ge307XG5cdFx0XHRcdFx0XHRwLmwgKz0gMjtcblx0XHRcdFx0XHRcdGZtdC5udW1GbXRJZCA9IHAucmVhZF9zaGlmdCgyKTtcblx0XHRcdFx0XHRcdGlmKFFQV05GVGFibGVbZm10Lm51bUZtdElkXSkgZm10LnogPSBRUFdORlRhYmxlW2ZtdC5udW1GbXRJZF07XG5cdFx0XHRcdFx0XHRwLmwgPSBlbmQ7XG5cdFx0XHRcdFx0XHRGTVRTLnB1c2goZm10KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gYnJlYWs7XG5cblx0XHRcdFx0LyogVE9ETzogVGhlIGJlaGF2aW9yIGhlcmUgc2hvdWxkIGJlIGNvbnNpc3RlbnQgd2l0aCBOdW1iZXJzOiBRUCBOb3RlYm9vayB+IC5UTi5TaGVldEFyY2hpdmUsIFFQIFNoZWV0IH4gLlRTVC5UYWJsZU1vZGVsQXJjaGl2ZSAqL1xuXHRcdFx0XHRjYXNlIDB4MDQwMTogLyogQk9OICovIGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDQwMjogLyogRU9OICovIC8qIFRPRE86IGJhY2tmaWxsIG1pc3Npbmcgc2hlZXRzIGJhc2VkIG9uIEJPTiBjbnQgKi8gYnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAweDA0MDc6IHsgLyogU1NUICovXG5cdFx0XHRcdFx0cC5sICs9IDEyO1xuXHRcdFx0XHRcdHdoaWxlKHAubCA8IHAubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRjbnQgPSBwLnJlYWRfc2hpZnQoMik7XG5cdFx0XHRcdFx0XHR0eXBlID0gcC5yZWFkX3NoaWZ0KDEpO1xuXHRcdFx0XHRcdFx0U1NULnB1c2gocC5yZWFkX3NoaWZ0KGNudCwgJ2NzdHInKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDQwODogeyAvKiBGT1JNVUxBRSAqL1xuXHRcdFx0XHRcdC8vcC5sICs9IDEyO1xuXHRcdFx0XHRcdC8vd2hpbGUocC5sIDwgcC5sZW5ndGgpIHtcblx0XHRcdFx0XHQvL1x0Y250ID0gcC5yZWFkX3NoaWZ0KDIpO1xuXHRcdFx0XHRcdC8vXHRmb3JtdWxhZS5wdXNoKHAuc2xpY2UocC5sLCBwLmwgKyBjbnQgKyAxKSk7IHAubCArPSBjbnQgKyAxO1xuXHRcdFx0XHRcdC8vfVxuXHRcdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMHgwNjAxOiB7IC8qIEJPUyAqL1xuXHRcdFx0XHRcdHZhciBzaWR4ID0gcC5yZWFkX3NoaWZ0KDIpO1xuXHRcdFx0XHRcdHMgPSAoe30vKjphbnkqLyk7IGlmKG8uZGVuc2UpIHNbXCIhZGF0YVwiXSA9IFtdO1xuXHRcdFx0XHRcdHJhbmdlLnMuYyA9IHAucmVhZF9zaGlmdCgyKTtcblx0XHRcdFx0XHRyYW5nZS5lLmMgPSBwLnJlYWRfc2hpZnQoMik7XG5cdFx0XHRcdFx0cmFuZ2Uucy5yID0gcC5yZWFkX3NoaWZ0KDQpO1xuXHRcdFx0XHRcdHJhbmdlLmUuciA9IHAucmVhZF9zaGlmdCg0KTtcblx0XHRcdFx0XHRwLmwgKz0gNDtcblx0XHRcdFx0XHRpZihwLmwgKyAyIDwgcC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNudCA9IHAucmVhZF9zaGlmdCgyKTtcblx0XHRcdFx0XHRcdHR5cGUgPSBwLnJlYWRfc2hpZnQoMSk7XG5cdFx0XHRcdFx0XHRzbmFtZSA9IGNudCA9PSAwID8gXCJcIiA6IHAucmVhZF9zaGlmdChjbnQsICdjc3RyJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKCFzbmFtZSkgc25hbWUgPSBlbmNvZGVfY29sKHNpZHgpO1xuXHRcdFx0XHRcdC8qIFRPRE86IGJhY2tmaWxsIGVtcHR5IHNoZWV0cyAqL1xuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDYwMjogeyAvKiBFT1MgKi9cblx0XHRcdFx0XHQvKiBOT1RFOiBRUCB2YWxpZCByYW5nZSBBMTpJVjEwMDAwMDAgKi9cblx0XHRcdFx0XHRpZihyYW5nZS5zLmMgPiAweEZGIHx8IHJhbmdlLnMuciA+IDk5OTk5OSkgYnJlYWs7XG5cdFx0XHRcdFx0aWYocmFuZ2UuZS5jIDwgcmFuZ2Uucy5jKSByYW5nZS5lLmMgPSByYW5nZS5zLmM7XG5cdFx0XHRcdFx0aWYocmFuZ2UuZS5yIDwgcmFuZ2Uucy5yKSByYW5nZS5lLnIgPSByYW5nZS5zLnI7XG5cdFx0XHRcdFx0c1tcIiFyZWZcIl0gPSBlbmNvZGVfcmFuZ2UocmFuZ2UpO1xuXHRcdFx0XHRcdGJvb2tfYXBwZW5kX3NoZWV0KHdiLCBzLCBzbmFtZSk7IC8vIFRPRE86IGEgYmFycmVsIHJvbGxcblx0XHRcdFx0fSBicmVhaztcblxuXHRcdFx0XHRjYXNlIDB4MEEwMTogeyAvKiBDT0wgKGxpa2UgWExTIFJvdywgbW9kdWxvIHRoZSBsYXlvdXQgdHJhbnNwb3NpdGlvbikgKi9cblx0XHRcdFx0XHRDID0gcC5yZWFkX3NoaWZ0KDIpO1xuXHRcdFx0XHRcdGlmKHJhbmdlLmUuYyA8IEMpIHJhbmdlLmUuYyA9IEM7XG5cdFx0XHRcdFx0aWYocmFuZ2Uucy5jID4gQykgcmFuZ2Uucy5jID0gQztcblx0XHRcdFx0XHRSID0gcC5yZWFkX3NoaWZ0KDQpO1xuXHRcdFx0XHRcdGlmKHJhbmdlLnMuciA+IFIpIHJhbmdlLnMuciA9IFI7XG5cdFx0XHRcdFx0UiA9IHAucmVhZF9zaGlmdCg0KTtcblx0XHRcdFx0XHRpZihyYW5nZS5lLnIgPCBSKSByYW5nZS5lLnIgPSBSO1xuXHRcdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMHgwQzAxOiB7IC8qIE11bENlbGxzIChsaWtlIFhMUyBNdWxSSywgYnV0IHRha2VzIGFkdmFudGFnZSBvZiBjb21tb24gY29sdW1uIGRhdGEgcGF0dGVybnMpICovXG5cdFx0XHRcdFx0UiA9IHAucmVhZF9zaGlmdCg0KSwgY250ID0gcC5yZWFkX3NoaWZ0KDQpO1xuXHRcdFx0XHRcdGlmKHJhbmdlLnMuciA+IFIpIHJhbmdlLnMuciA9IFI7XG5cdFx0XHRcdFx0aWYocmFuZ2UuZS5yIDwgUiArIGNudCAtIDEpIHJhbmdlLmUuciA9IFIgKyBjbnQgLSAxO1xuXHRcdFx0XHRcdHZhciBDQyA9IGVuY29kZV9jb2woQyk7XG5cdFx0XHRcdFx0d2hpbGUocC5sIDwgcC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHZhciBjZWxsID0geyB0OiBcInpcIiB9O1xuXHRcdFx0XHRcdFx0dmFyIGZsYWdzID0gcC5yZWFkX3NoaWZ0KDEpLCBmbXRpZHggPSAtMTtcblx0XHRcdFx0XHRcdGlmKGZsYWdzICYgMHg4MCkgZm10aWR4ID0gcC5yZWFkX3NoaWZ0KDIpO1xuXHRcdFx0XHRcdFx0dmFyIG11bCA9IChmbGFncyAmIDB4NDApID8gcC5yZWFkX3NoaWZ0KDIpIC0gMTogMDtcblx0XHRcdFx0XHRcdHN3aXRjaChmbGFncyAmIDB4MUYpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOiBicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAxOiBicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAyOiBjZWxsID0geyB0OiBcIm5cIiwgdjogcC5yZWFkX3NoaWZ0KDIpIH07IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlIDM6IGNlbGwgPSB7IHQ6IFwiblwiLCB2OiBwLnJlYWRfc2hpZnQoMiwgJ2knKSB9OyBicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSA0OiBjZWxsID0geyB0OiBcIm5cIiwgdjogcGFyc2VfUmtOdW1iZXIocCkgfTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdGNhc2UgNTogY2VsbCA9IHsgdDogXCJuXCIsIHY6IHAucmVhZF9zaGlmdCg4LCAnZicpIH07IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlIDc6IGNlbGwgPSB7IHQ6IFwic1wiLCB2OiBTU1RbdHlwZSA9IHAucmVhZF9zaGlmdCg0KSAtIDFdIH07IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdFx0Y2VsbCA9IHsgdDogXCJuXCIsIHY6IHAucmVhZF9zaGlmdCg4LCAnZicpIH07XG5cdFx0XHRcdFx0XHRcdFx0cC5sICs9IDI7IC8qIGNlbGwuZiA9IGZvcm11bGFlW3AucmVhZF9zaGlmdCg0KV07ICovIHAubCArPSA0O1xuXHRcdFx0XHRcdFx0XHRcdGlmKGlzTmFOKGNlbGwudikpIGNlbGwgPSB7IHQ6IFwiZVwiLCB2OiAweDBGIH07IC8vICNWQUxVRSFcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0ZGVmYXVsdDogdGhyb3cgXCJVbnJlY29nbml6ZWQgUVBXIGNlbGwgdHlwZSBcIiArIChmbGFncyAmIDB4MUYpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYoZm10aWR4ICE9IC0xICYmIChGTVRTW2ZtdGlkeCAtIDFdfHx7fSkueikgY2VsbC56ID0gRk1UU1tmbXRpZHgtMV0uejtcblx0XHRcdFx0XHRcdHZhciBkZWx0YSA9IDA7XG5cdFx0XHRcdFx0XHRpZihmbGFncyAmIDB4MjApIHN3aXRjaChmbGFncyAmIDB4MUYpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAyOiBkZWx0YSA9IHAucmVhZF9zaGlmdCgyKTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMzogZGVsdGEgPSBwLnJlYWRfc2hpZnQoMiwgJ2knKTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdGNhc2UgNzogZGVsdGEgPSBwLnJlYWRfc2hpZnQoMik7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRkZWZhdWx0OiB0aHJvdyBcIlVuc3VwcG9ydGVkIGRlbHRhIGZvciBRUFcgY2VsbCB0eXBlIFwiICsgKGZsYWdzICYgMHgxRik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZighKCFvLnNoZWV0U3R1YnMgJiYgY2VsbC50ID09IFwielwiKSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgbmV3Y2VsbCA9IGR1cChjZWxsKTtcblx0XHRcdFx0XHRcdFx0aWYoY2VsbC50ID09IFwiblwiICYmIGNlbGwueiAmJiBmbXRfaXNfZGF0ZShjZWxsLnopICYmIG8uY2VsbERhdGVzKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3Y2VsbC52ID0gbnVtZGF0ZShjZWxsLnYpOyBuZXdjZWxsLnQgPSB0eXBlb2YgbmV3Y2VsbC52ID09IFwibnVtYmVyXCIgPyAnbicgOiAnZCc7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYoc1tcIiFkYXRhXCJdICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHRpZighc1tcIiFkYXRhXCJdW1JdKSBzW1wiIWRhdGFcIl1bUl0gPSBbXTtcblx0XHRcdFx0XHRcdFx0XHRzW1wiIWRhdGFcIl1bUl1bQ10gPSBuZXdjZWxsO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Ugc1tDQyArIGVuY29kZV9yb3coUildID0gbmV3Y2VsbDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCsrUjsgLS1jbnQ7XG5cdFx0XHRcdFx0XHR3aGlsZShtdWwtLSA+IDAgJiYgY250ID49IDApIHtcblx0XHRcdFx0XHRcdFx0aWYoZmxhZ3MgJiAweDIwKSBzd2l0Y2goZmxhZ3MgJiAweDFGKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOiBjZWxsID0geyB0OiBcIm5cIiwgdjogKGNlbGwudiArIGRlbHRhKSAmIDB4RkZGRiB9OyBicmVhaztcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6IGNlbGwgPSB7IHQ6IFwiblwiLCB2OiAoY2VsbC52ICsgZGVsdGEpICYgMHhGRkZGIH07IGlmKGNlbGwudiA+IDB4N0ZGRikgY2VsbC52IC09IDB4MTAwMDA7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNzogY2VsbCA9IHsgdDogXCJzXCIsIHY6IFNTVFt0eXBlID0gKHR5cGUgKyBkZWx0YSkgPj4+IDBdIH07IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6IHRocm93IFwiQ2Fubm90IGFwcGx5IGRlbHRhIGZvciBRUFcgY2VsbCB0eXBlIFwiICsgKGZsYWdzICYgMHgxRik7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBzd2l0Y2goZmxhZ3MgJiAweDFGKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAxOiBjZWxsID0geyB0OiBcInpcIiB9OyBicmVhaztcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6IGNlbGwgPSB7IHQ6IFwiblwiLCB2OiBwLnJlYWRfc2hpZnQoMikgfTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA3OiBjZWxsID0geyB0OiBcInNcIiwgdjogU1NUW3R5cGUgPSBwLnJlYWRfc2hpZnQoNCkgLSAxXSB9OyBicmVhaztcblx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0OiB0aHJvdyBcIkNhbm5vdCBhcHBseSByZXBlYXQgZm9yIFFQVyBjZWxsIHR5cGUgXCIgKyAoZmxhZ3MgJiAweDFGKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZihmbXRpZHggIT0gLTEpO1xuXHRcdFx0XHRcdFx0XHRpZighKCFvLnNoZWV0U3R1YnMgJiYgY2VsbC50ID09IFwielwiKSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmKHNbXCIhZGF0YVwiXSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZighc1tcIiFkYXRhXCJdW1JdKSBzW1wiIWRhdGFcIl1bUl0gPSBbXTtcblx0XHRcdFx0XHRcdFx0XHRcdHNbXCIhZGF0YVwiXVtSXVtDXSA9IGNlbGw7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHNbQ0MgKyBlbmNvZGVfcm93KFIpXSA9IGNlbGw7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0KytSOyAtLWNudDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gYnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAweDBDMDI6IHsgLyogU3RyaW5nIChyZXN1bHQgb2Ygc3RyaW5nIGZvcm11bGEgZXhwcmVzc2lvbikgKi9cblx0XHRcdFx0XHRDID0gcC5yZWFkX3NoaWZ0KDIpO1xuXHRcdFx0XHRcdFIgPSBwLnJlYWRfc2hpZnQoNCk7XG5cdFx0XHRcdFx0dmFyIHN0ciA9IHBhcnNlX3Fwd19zdHIocCk7XG5cdFx0XHRcdFx0LyogVE9ETzogUVAxMCByZWNvcmQgaGFzIGFuIGFkZGl0aW9uYWwgdW5rbm93biBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIHN0cmluZyAqL1xuXHRcdFx0XHRcdGlmKHNbXCIhZGF0YVwiXSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0XHRpZighc1tcIiFkYXRhXCJdW1JdKSBzW1wiIWRhdGFcIl1bUl0gPSBbXTtcblx0XHRcdFx0XHRcdHNbXCIhZGF0YVwiXVtSXVtDXSA9IHsgdDpcInNcIiwgdjpzdHIgfTtcblx0XHRcdFx0XHR9IGVsc2Ugc1tlbmNvZGVfY29sKEMpICsgZW5jb2RlX3JvdyhSKV0gPSB7IHQ6XCJzXCIsIHY6c3RyIH07XG5cdFx0XHRcdH0gYnJlYWs7XG5cblx0XHRcdFx0ZGVmYXVsdDogYnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRkLmwgKz0gbGVuZ3RoO1xuXHRcdH1cblx0XHRyZXR1cm4gd2I7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHNoZWV0X3RvX3drMTogc2hlZXRfdG9fd2sxLFxuXHRcdGJvb2tfdG9fd2szOiBib29rX3RvX3drMyxcblx0XHR0b193b3JrYm9vazogbG90dXNfdG9fd29ya2Jvb2tcblx0fTtcbn0pKCk7XG4vKiAxOC40LjcgclByIENUX1JQckVsdCAqL1xuZnVuY3Rpb24gcGFyc2VfcnByKHJwcikge1xuXHR2YXIgZm9udCA9IHt9LCBtID0gcnByLm1hdGNoKHRhZ3JlZ2V4KSwgaSA9IDA7XG5cdHZhciBwYXNzID0gZmFsc2U7XG5cdGlmKG0pIGZvcig7aSE9bS5sZW5ndGg7ICsraSkge1xuXHRcdHZhciB5ID0gcGFyc2V4bWx0YWcobVtpXSk7XG5cdFx0c3dpdGNoKHlbMF0ucmVwbGFjZSgvPFxcdyo6L2csXCI8XCIpKSB7XG5cdFx0XHQvKiAxOC44LjEyIGNvbmRlbnNlIENUX0Jvb2xlYW5Qcm9wZXJ0eSAqL1xuXHRcdFx0LyogKiogbm90IHJlcXVpcmVkIC4gKi9cblx0XHRcdGNhc2UgJzxjb25kZW5zZSc6IGJyZWFrO1xuXHRcdFx0LyogMTguOC4xNyBleHRlbmQgQ1RfQm9vbGVhblByb3BlcnR5ICovXG5cdFx0XHQvKiAqKiBub3QgcmVxdWlyZWQgLiAqL1xuXHRcdFx0Y2FzZSAnPGV4dGVuZCc6IGJyZWFrO1xuXHRcdFx0LyogMTguOC4zNiBzaGFkb3cgQ1RfQm9vbGVhblByb3BlcnR5ICovXG5cdFx0XHQvKiAqKiBub3QgcmVxdWlyZWQgLiAqL1xuXHRcdFx0Y2FzZSAnPHNoYWRvdyc6XG5cdFx0XHRcdGlmKCF5LnZhbCkgYnJlYWs7XG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJzxzaGFkb3c+Jzpcblx0XHRcdGNhc2UgJzxzaGFkb3cvPic6IGZvbnQuc2hhZG93ID0gMTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L3NoYWRvdz4nOiBicmVhaztcblxuXHRcdFx0LyogMTguNC4xIGNoYXJzZXQgQ1RfSW50UHJvcGVydHkgVE9ETyAqL1xuXHRcdFx0Y2FzZSAnPGNoYXJzZXQnOlxuXHRcdFx0XHRpZih5LnZhbCA9PSAnMScpIGJyZWFrO1xuXHRcdFx0XHRmb250LmNwID0gQ1MyQ1BbcGFyc2VJbnQoeS52YWwsIDEwKV07XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHQvKiAxOC40LjIgb3V0bGluZSBDVF9Cb29sZWFuUHJvcGVydHkgVE9ETyAqL1xuXHRcdFx0Y2FzZSAnPG91dGxpbmUnOlxuXHRcdFx0XHRpZigheS52YWwpIGJyZWFrO1xuXHRcdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRjYXNlICc8b3V0bGluZT4nOlxuXHRcdFx0Y2FzZSAnPG91dGxpbmUvPic6IGZvbnQub3V0bGluZSA9IDE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9vdXRsaW5lPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC40LjUgckZvbnQgQ1RfRm9udE5hbWUgKi9cblx0XHRcdGNhc2UgJzxyRm9udCc6IGZvbnQubmFtZSA9IHkudmFsOyBicmVhaztcblxuXHRcdFx0LyogMTguNC4xMSBzeiBDVF9Gb250U2l6ZSAqL1xuXHRcdFx0Y2FzZSAnPHN6JzogZm9udC5zeiA9IHkudmFsOyBicmVhaztcblxuXHRcdFx0LyogMTguNC4xMCBzdHJpa2UgQ1RfQm9vbGVhblByb3BlcnR5ICovXG5cdFx0XHRjYXNlICc8c3RyaWtlJzpcblx0XHRcdFx0aWYoIXkudmFsKSBicmVhaztcblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnPHN0cmlrZT4nOlxuXHRcdFx0Y2FzZSAnPHN0cmlrZS8+JzogZm9udC5zdHJpa2UgPSAxOyBicmVhaztcblx0XHRcdGNhc2UgJzwvc3RyaWtlPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC40LjEzIHUgQ1RfVW5kZXJsaW5lUHJvcGVydHkgKi9cblx0XHRcdGNhc2UgJzx1Jzpcblx0XHRcdFx0aWYoIXkudmFsKSBicmVhaztcblx0XHRcdFx0c3dpdGNoKHkudmFsKSB7XG5cdFx0XHRcdFx0Y2FzZSAnZG91YmxlJzogZm9udC51dmFsID0gXCJkb3VibGVcIjsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc2luZ2xlQWNjb3VudGluZyc6IGZvbnQudXZhbCA9IFwic2luZ2xlLWFjY291bnRpbmdcIjsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZG91YmxlQWNjb3VudGluZyc6IGZvbnQudXZhbCA9IFwiZG91YmxlLWFjY291bnRpbmdcIjsgYnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnPHU+Jzpcblx0XHRcdGNhc2UgJzx1Lz4nOiBmb250LnUgPSAxOyBicmVhaztcblx0XHRcdGNhc2UgJzwvdT4nOiBicmVhaztcblxuXHRcdFx0LyogMTguOC4yIGIgKi9cblx0XHRcdGNhc2UgJzxiJzpcblx0XHRcdFx0aWYoeS52YWwgPT0gJzAnKSBicmVhaztcblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnPGI+Jzpcblx0XHRcdGNhc2UgJzxiLz4nOiBmb250LmIgPSAxOyBicmVhaztcblx0XHRcdGNhc2UgJzwvYj4nOiBicmVhaztcblxuXHRcdFx0LyogMTguOC4yNiBpICovXG5cdFx0XHRjYXNlICc8aSc6XG5cdFx0XHRcdGlmKHkudmFsID09ICcwJykgYnJlYWs7XG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJzxpPic6XG5cdFx0XHRjYXNlICc8aS8+JzogZm9udC5pID0gMTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L2k+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjMuMS4xNSBjb2xvciBDVF9Db2xvciBUT0RPOiB0aW50LCB0aGVtZSwgYXV0bywgaW5kZXhlZCAqL1xuXHRcdFx0Y2FzZSAnPGNvbG9yJzpcblx0XHRcdFx0aWYoeS5yZ2IpIGZvbnQuY29sb3IgPSB5LnJnYi5zbGljZSgyLDgpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJzxjb2xvcj4nOiBjYXNlICc8Y29sb3IvPic6IGNhc2UgJzwvY29sb3I+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguMTggZmFtaWx5IFNUX0ZvbnRGYW1pbHkgKi9cblx0XHRcdGNhc2UgJzxmYW1pbHknOiBmb250LmZhbWlseSA9IHkudmFsOyBicmVhaztcblx0XHRcdGNhc2UgJzxmYW1pbHk+JzogY2FzZSAnPGZhbWlseS8+JzogY2FzZSAnPC9mYW1pbHk+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjQuMTQgdmVydEFsaWduIENUX1ZlcnRpY2FsQWxpZ25Gb250UHJvcGVydHkgVE9ETyAqL1xuXHRcdFx0Y2FzZSAnPHZlcnRBbGlnbic6IGZvbnQudmFsaWduID0geS52YWw7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPHZlcnRBbGlnbj4nOiBjYXNlICc8dmVydEFsaWduLz4nOiBjYXNlICc8L3ZlcnRBbGlnbj4nOiBicmVhaztcblxuXHRcdFx0LyogMTguOC4zNSBzY2hlbWUgQ1RfRm9udFNjaGVtZSBUT0RPICovXG5cdFx0XHRjYXNlICc8c2NoZW1lJzogYnJlYWs7XG5cdFx0XHRjYXNlICc8c2NoZW1lPic6IGNhc2UgJzxzY2hlbWUvPic6IGNhc2UgJzwvc2NoZW1lPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjEwIGV4dExzdCBDVF9FeHRlbnNpb25MaXN0ID8gKi9cblx0XHRcdGNhc2UgJzxleHRMc3QnOiBjYXNlICc8ZXh0THN0Pic6IGNhc2UgJzwvZXh0THN0Pic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPGV4dCc6IHBhc3MgPSB0cnVlOyBicmVhaztcblx0XHRcdGNhc2UgJzwvZXh0Pic6IHBhc3MgPSBmYWxzZTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRpZih5WzBdLmNoYXJDb2RlQXQoMSkgIT09IDQ3ICYmICFwYXNzKSB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCByaWNoIGZvcm1hdCAnICsgeVswXSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBmb250O1xufVxuXG52YXIgcGFyc2VfcnMgPSAvKiNfX1BVUkVfXyovKGZ1bmN0aW9uKCkge1xuXHQvKiAxOC40LjQgciBDVF9SRWx0ICovXG5cdGZ1bmN0aW9uIHBhcnNlX3Iocikge1xuXHRcdC8qIDE4LjQuMTIgdCBTVF9Yc3RyaW5nICovXG5cdFx0dmFyIHQgPSBzdHJfbWF0Y2hfeG1sX25zKHIsIFwidFwiKS8qLCBjcCA9IDY1MDAxKi87XG5cdFx0aWYoIXQpIHJldHVybiB7dDpcInNcIiwgdjpcIlwifTtcblxuXHRcdHZhciBvLyo6Q2VsbCovID0gKHt0OidzJywgdjp1bmVzY2FwZXhtbCh0WzFdKX0vKjphbnkqLyk7XG5cdFx0dmFyIHJwciA9IHN0cl9tYXRjaF94bWxfbnMociwgXCJyUHJcIik7XG5cdFx0aWYocnByKSBvLnMgPSBwYXJzZV9ycHIocnByWzFdKTtcblx0XHRyZXR1cm4gbztcblx0fVxuXHR2YXIgcnJlZ2V4ID0gLzwoPzpcXHcrOik/cj4vZywgcmVuZCA9IC88XFwvKD86XFx3KzopP3I+Lztcblx0cmV0dXJuIGZ1bmN0aW9uIHBhcnNlX3JzKHJzKSB7XG5cdFx0cmV0dXJuIHJzLnJlcGxhY2UocnJlZ2V4LFwiXCIpLnNwbGl0KHJlbmQpLm1hcChwYXJzZV9yKS5maWx0ZXIoZnVuY3Rpb24ocikgeyByZXR1cm4gci52OyB9KTtcblx0fTtcbn0pKCk7XG5cblxuLyogUGFyc2UgYSBsaXN0IG9mIDxyPiB0YWdzICovXG52YXIgcnNfdG9faHRtbCA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24gcGFyc2VfcnNfZmFjdG9yeSgpIHtcblx0dmFyIG5scmVnZXggPSAvKFxcclxcbnxcXG4pL2c7XG5cdGZ1bmN0aW9uIHBhcnNlX3JwcjIoZm9udCwgaW50cm8sIG91dHJvKSB7XG5cdFx0dmFyIHN0eWxlLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cblx0XHRpZihmb250LnUpIHN0eWxlLnB1c2goXCJ0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcIik7XG5cdFx0aWYoZm9udC51dmFsKSBzdHlsZS5wdXNoKFwidGV4dC11bmRlcmxpbmUtc3R5bGU6XCIgKyBmb250LnV2YWwgKyBcIjtcIik7XG5cdFx0aWYoZm9udC5zeikgc3R5bGUucHVzaChcImZvbnQtc2l6ZTpcIiArIGZvbnQuc3ogKyBcInB0O1wiKTtcblx0XHRpZihmb250Lm91dGxpbmUpIHN0eWxlLnB1c2goXCJ0ZXh0LWVmZmVjdDogb3V0bGluZTtcIik7XG5cdFx0aWYoZm9udC5zaGFkb3cpIHN0eWxlLnB1c2goXCJ0ZXh0LXNoYWRvdzogYXV0bztcIik7XG5cdFx0aW50cm8ucHVzaCgnPHNwYW4gc3R5bGU9XCInICsgc3R5bGUuam9pbihcIlwiKSArICdcIj4nKTtcblxuXHRcdGlmKGZvbnQuYikgeyBpbnRyby5wdXNoKFwiPGI+XCIpOyBvdXRyby5wdXNoKFwiPC9iPlwiKTsgfVxuXHRcdGlmKGZvbnQuaSkgeyBpbnRyby5wdXNoKFwiPGk+XCIpOyBvdXRyby5wdXNoKFwiPC9pPlwiKTsgfVxuXHRcdGlmKGZvbnQuc3RyaWtlKSB7IGludHJvLnB1c2goXCI8cz5cIik7IG91dHJvLnB1c2goXCI8L3M+XCIpOyB9XG5cblx0XHR2YXIgYWxpZ24gPSBmb250LnZhbGlnbiB8fCBcIlwiO1xuXHRcdGlmKGFsaWduID09IFwic3VwZXJzY3JpcHRcIiB8fCBhbGlnbiA9PSBcInN1cGVyXCIpIGFsaWduID0gXCJzdXBcIjtcblx0XHRlbHNlIGlmKGFsaWduID09IFwic3Vic2NyaXB0XCIpIGFsaWduID0gXCJzdWJcIjtcblx0XHRpZihhbGlnbiAhPSBcIlwiKSB7IGludHJvLnB1c2goXCI8XCIgKyBhbGlnbiArIFwiPlwiKTsgb3V0cm8ucHVzaChcIjwvXCIgKyBhbGlnbiArIFwiPlwiKTsgfVxuXG5cdFx0b3V0cm8ucHVzaChcIjwvc3Bhbj5cIik7XG5cdFx0cmV0dXJuIGZvbnQ7XG5cdH1cblxuXHQvKiAxOC40LjQgciBDVF9SRWx0ICovXG5cdGZ1bmN0aW9uIHJfdG9faHRtbChyKSB7XG5cdFx0dmFyIHRlcm1zLyo6W0FycmF5PHN0cmluZz4sIHN0cmluZywgQXJyYXk8c3RyaW5nPl0qLyA9IFtbXSxyLnYsW11dO1xuXHRcdGlmKCFyLnYpIHJldHVybiBcIlwiO1xuXG5cdFx0aWYoci5zKSBwYXJzZV9ycHIyKHIucywgdGVybXNbMF0sIHRlcm1zWzJdKTtcblxuXHRcdHJldHVybiB0ZXJtc1swXS5qb2luKFwiXCIpICsgdGVybXNbMV0ucmVwbGFjZShubHJlZ2V4LCc8YnIvPicpICsgdGVybXNbMl0uam9pbihcIlwiKTtcblx0fVxuXG5cdHJldHVybiBmdW5jdGlvbiBwYXJzZV9ycyhycykge1xuXHRcdHJldHVybiBycy5tYXAocl90b19odG1sKS5qb2luKFwiXCIpO1xuXHR9O1xufSkoKTtcblxuLyogMTguNC44IHNpIENUX1JzdCAqL1xudmFyIHNpdHJlZ2V4ID0gLzwoPzpcXHcrOik/dFxcYltePD5dKj4oW148XSopPFxcLyg/Olxcdys6KT90Pi9nLCBzaXJyZWdleCA9IC88KD86XFx3KzopP3JcXGJbXjw+XSo+LztcbmZ1bmN0aW9uIHBhcnNlX3NpKHgsIG9wdHMpIHtcblx0dmFyIGh0bWwgPSBvcHRzID8gb3B0cy5jZWxsSFRNTCA6IHRydWU7XG5cdHZhciB6ID0ge307XG5cdGlmKCF4KSByZXR1cm4geyB0OiBcIlwiIH07XG5cdC8vdmFyIHk7XG5cdC8qIDE4LjQuMTIgdCBTVF9Yc3RyaW5nIChQbGFpbnRleHQgU3RyaW5nKSAqL1xuXHQvLyBUT0RPOiBpcyB3aGl0ZXNwYWNlIGFjdHVhbGx5IHZhbGlkIGhlcmU/XG5cdGlmKHgubWF0Y2goL15cXHMqPCg/Olxcdys6KT90W14+XSo+LykpIHtcblx0XHR6LnQgPSB1bmVzY2FwZXhtbCh1dGY4cmVhZCh4LnNsaWNlKHguaW5kZXhPZihcIj5cIikrMSkuc3BsaXQoLzxcXC8oPzpcXHcrOik/dD4vKVswXXx8XCJcIiksIHRydWUpO1xuXHRcdHouciA9IHV0ZjhyZWFkKHgpO1xuXHRcdGlmKGh0bWwpIHouaCA9IGVzY2FwZWh0bWwoei50KTtcblx0fVxuXHQvKiAxOC40LjQgciBDVF9SRWx0IChSaWNoIFRleHQgUnVuKSAqL1xuXHRlbHNlIGlmKCgvKnkgPSAqL3gubWF0Y2goc2lycmVnZXgpKSkge1xuXHRcdHouciA9IHV0ZjhyZWFkKHgpO1xuXHRcdHoudCA9IHVuZXNjYXBleG1sKHV0ZjhyZWFkKChzdHJfcmVtb3ZlX3htbF9uc19nKHgsIFwiclBoXCIpLm1hdGNoKHNpdHJlZ2V4KXx8W10pLmpvaW4oXCJcIikucmVwbGFjZSh0YWdyZWdleCxcIlwiKSksIHRydWUpO1xuXHRcdGlmKGh0bWwpIHouaCA9IHJzX3RvX2h0bWwocGFyc2VfcnMoei5yKSk7XG5cdH1cblx0LyogMTguNC4zIHBob25ldGljUHIgQ1RfUGhvbmV0aWNQciAoVE9ETzogbmVlZGVkIGZvciBBc2lhbiBzdXBwb3J0KSAqL1xuXHQvKiAxOC40LjYgclBoIENUX1Bob25ldGljUnVuIChUT0RPOiBuZWVkZWQgZm9yIEFzaWFuIHN1cHBvcnQpICovXG5cdHJldHVybiB6O1xufVxuXG4vKiAxOC40IFNoYXJlZCBTdHJpbmcgVGFibGUgKi9cbnZhciBzc3RyMSA9IC88KD86XFx3KzopPyg/OnNpfHNzdEl0ZW0pPi9nO1xudmFyIHNzdHIyID0gLzxcXC8oPzpcXHcrOik/KD86c2l8c3N0SXRlbSk+LztcbmZ1bmN0aW9uIHBhcnNlX3NzdF94bWwoZGF0YS8qOnN0cmluZyovLCBvcHRzKS8qOlNTVCovIHtcblx0dmFyIHMvKjpTU1QqLyA9IChbXS8qOmFueSovKSwgc3MgPSBcIlwiO1xuXHRpZighZGF0YSkgcmV0dXJuIHM7XG5cdC8qIDE4LjQuOSBzc3QgQ1RfU3N0ICovXG5cdHZhciBzc3QgPSBzdHJfbWF0Y2hfeG1sX25zKGRhdGEsIFwic3N0XCIpO1xuXHRpZihzc3QpIHtcblx0XHRzcyA9IHNzdFsxXS5yZXBsYWNlKHNzdHIxLFwiXCIpLnNwbGl0KHNzdHIyKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpICE9IHNzLmxlbmd0aDsgKytpKSB7XG5cdFx0XHR2YXIgbyA9IHBhcnNlX3NpKHNzW2ldLnRyaW0oKSwgb3B0cyk7XG5cdFx0XHRpZihvICE9IG51bGwpIHNbcy5sZW5ndGhdID0gbztcblx0XHR9XG5cdFx0c3N0ID0gcGFyc2V4bWx0YWcoc3N0WzBdLnNsaWNlKDAsIHNzdFswXS5pbmRleE9mKFwiPlwiKSkpOyBzLkNvdW50ID0gc3N0LmNvdW50OyBzLlVuaXF1ZSA9IHNzdC51bmlxdWVDb3VudDtcblx0fVxuXHRyZXR1cm4gcztcbn1cblxudmFyIHN0cmF5d3NyZWdleCA9IC9eXFxzfFxccyR8W1xcdFxcblxccl0vO1xuZnVuY3Rpb24gd3JpdGVfc3N0X3htbChzc3QvKjpTU1QqLywgb3B0cykvKjpzdHJpbmcqLyB7XG5cdGlmKCFvcHRzLmJvb2tTU1QpIHJldHVybiBcIlwiO1xuXHR2YXIgbyA9IFtYTUxfSEVBREVSXTtcblx0b1tvLmxlbmd0aF0gPSAod3JpdGV4dGFnKCdzc3QnLCBudWxsLCB7XG5cdFx0eG1sbnM6IFhNTE5TX21haW5bMF0sXG5cdFx0Y291bnQ6IHNzdC5Db3VudCxcblx0XHR1bmlxdWVDb3VudDogc3N0LlVuaXF1ZVxuXHR9KSk7XG5cdGZvcih2YXIgaSA9IDA7IGkgIT0gc3N0Lmxlbmd0aDsgKytpKSB7IGlmKHNzdFtpXSA9PSBudWxsKSBjb250aW51ZTtcblx0XHR2YXIgcy8qOlhMU3RyaW5nKi8gPSBzc3RbaV07XG5cdFx0dmFyIHNpdGFnID0gXCI8c2k+XCI7XG5cdFx0aWYocy5yKSBzaXRhZyArPSBzLnI7XG5cdFx0ZWxzZSB7XG5cdFx0XHRzaXRhZyArPSBcIjx0XCI7XG5cdFx0XHRpZighcy50KSBzLnQgPSBcIlwiO1xuXHRcdFx0aWYodHlwZW9mIHMudCAhPT0gXCJzdHJpbmdcIikgcy50ID0gU3RyaW5nKHMudCk7XG5cdFx0XHRpZihzLnQubWF0Y2goc3RyYXl3c3JlZ2V4KSkgc2l0YWcgKz0gJyB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiJztcblx0XHRcdHNpdGFnICs9IFwiPlwiICsgZXNjYXBleG1sKHMudCkgKyBcIjwvdD5cIjtcblx0XHR9XG5cdFx0c2l0YWcgKz0gXCI8L3NpPlwiO1xuXHRcdG9bby5sZW5ndGhdID0gKHNpdGFnKTtcblx0fVxuXHRpZihvLmxlbmd0aD4yKXsgb1tvLmxlbmd0aF0gPSAoJzwvc3N0PicpOyBvWzFdPW9bMV0ucmVwbGFjZShcIi8+XCIsXCI+XCIpOyB9XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG4vKiBbTVMtWExTQl0gMi40LjIyMSBCcnRCZWdpblNzdCAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0QmVnaW5Tc3QoZGF0YSkge1xuXHRyZXR1cm4gW2RhdGEucmVhZF9zaGlmdCg0KSwgZGF0YS5yZWFkX3NoaWZ0KDQpXTtcbn1cblxuLyogW01TLVhMU0JdIDIuMS43LjQ1IFNoYXJlZCBTdHJpbmdzICovXG5mdW5jdGlvbiBwYXJzZV9zc3RfYmluKGRhdGEsIG9wdHMpLyo6U1NUKi8ge1xuXHR2YXIgcy8qOlNTVCovID0gKFtdLyo6YW55Ki8pO1xuXHR2YXIgcGFzcyA9IGZhbHNlO1xuXHRyZWNvcmRob3BwZXIoZGF0YSwgZnVuY3Rpb24gaG9wcGVyX3NzdCh2YWwsIFIsIFJUKSB7XG5cdFx0c3dpdGNoKFJUKSB7XG5cdFx0XHRjYXNlIDB4MDA5RjogLyogQnJ0QmVnaW5Tc3QgKi9cblx0XHRcdFx0cy5Db3VudCA9IHZhbFswXTsgcy5VbmlxdWUgPSB2YWxbMV07IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwMTM6IC8qIEJydFNTVEl0ZW0gKi9cblx0XHRcdFx0cy5wdXNoKHZhbCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwQTA6IC8qIEJydEVuZFNzdCAqL1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0Y2FzZSAweDAwMjM6IC8qIEJydEZSVEJlZ2luICovXG5cdFx0XHRcdHBhc3MgPSB0cnVlOyBicmVhaztcblx0XHRcdGNhc2UgMHgwMDI0OiAvKiBCcnRGUlRFbmQgKi9cblx0XHRcdFx0cGFzcyA9IGZhbHNlOyBicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aWYoUi5UKXt9XG5cdFx0XHRcdGlmKCFwYXNzIHx8IG9wdHMuV1RGKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHJlY29yZCAweFwiICsgUlQudG9TdHJpbmcoMTYpKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gd3JpdGVfQnJ0QmVnaW5Tc3Qoc3N0LCBvKSB7XG5cdGlmKCFvKSBvID0gbmV3X2J1Zig4KTtcblx0by53cml0ZV9zaGlmdCg0LCBzc3QuQ291bnQpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIHNzdC5VbmlxdWUpO1xuXHRyZXR1cm4gbztcbn1cblxudmFyIHdyaXRlX0JydFNTVEl0ZW0gPSB3cml0ZV9SaWNoU3RyO1xuXG5mdW5jdGlvbiB3cml0ZV9zc3RfYmluKHNzdC8qOjosIG9wdHMqLykge1xuXHR2YXIgYmEgPSBidWZfYXJyYXkoKTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAwOUYgLyogQnJ0QmVnaW5Tc3QgKi8sIHdyaXRlX0JydEJlZ2luU3N0KHNzdCkpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgc3N0Lmxlbmd0aDsgKytpKSB3cml0ZV9yZWNvcmQoYmEsIDB4MDAxMyAvKiBCcnRTU1RJdGVtICovLCB3cml0ZV9CcnRTU1RJdGVtKHNzdFtpXSkpO1xuXHQvKiBGUlRTU1QgKi9cblx0d3JpdGVfcmVjb3JkKGJhLCAweDAwQTAgLyogQnJ0RW5kU3N0ICovKTtcblx0cmV0dXJuIGJhLmVuZCgpO1xufVxuZnVuY3Rpb24gX0pTMkFOU0koc3RyLyo6c3RyaW5nKi8pLyo6QXJyYXk8bnVtYmVyPiovIHtcblx0aWYodHlwZW9mICRjcHRhYmxlICE9PSAndW5kZWZpbmVkJykgcmV0dXJuICRjcHRhYmxlLnV0aWxzLmVuY29kZShjdXJyZW50X2Fuc2ksIHN0cik7XG5cdHZhciBvLyo6QXJyYXk8bnVtYmVyPiovID0gW10sIG9vID0gc3RyLnNwbGl0KFwiXCIpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgb28ubGVuZ3RoOyArK2kpIG9baV0gPSBvb1tpXS5jaGFyQ29kZUF0KDApO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLU9GRkNSWVBUT10gMi4xLjQgVmVyc2lvbiAqL1xuZnVuY3Rpb24gcGFyc2VfQ1JZUFRPVmVyc2lvbihibG9iLCBsZW5ndGgvKjo/bnVtYmVyKi8pIHtcblx0dmFyIG8vKjphbnkqLyA9IHt9O1xuXHRvLk1ham9yID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRvLk1pbm9yID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHQvKjo6IGlmKGxlbmd0aCA9PSBudWxsKSByZXR1cm4gbzsgKi9cblx0aWYobGVuZ3RoID49IDQpIGJsb2IubCArPSBsZW5ndGggLSA0O1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLU9GRkNSWVBUT10gMi4xLjUgRGF0YVNwYWNlVmVyc2lvbkluZm8gKi9cbmZ1bmN0aW9uIHBhcnNlX0RhdGFTcGFjZVZlcnNpb25JbmZvKGJsb2IpIHtcblx0dmFyIG8gPSB7fTtcblx0by5pZCA9IGJsb2IucmVhZF9zaGlmdCgwLCAnbHBwNCcpO1xuXHRvLlIgPSBwYXJzZV9DUllQVE9WZXJzaW9uKGJsb2IsIDQpO1xuXHRvLlUgPSBwYXJzZV9DUllQVE9WZXJzaW9uKGJsb2IsIDQpO1xuXHRvLlcgPSBwYXJzZV9DUllQVE9WZXJzaW9uKGJsb2IsIDQpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLU9GRkNSWVBUT10gMi4xLjYuMSBEYXRhU3BhY2VNYXBFbnRyeSBTdHJ1Y3R1cmUgKi9cbmZ1bmN0aW9uIHBhcnNlX0RhdGFTcGFjZU1hcEVudHJ5KGJsb2IpIHtcblx0dmFyIGxlbiA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIGVuZCA9IGJsb2IubCArIGxlbiAtIDQ7XG5cdHZhciBvID0ge307XG5cdHZhciBjbnQgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdHZhciBjb21wcy8qOkFycmF5PHt0Om51bWJlciwgdjpzdHJpbmd9PiovID0gW107XG5cdC8qIFtNUy1PRkZDUllQVE9dIDIuMS42LjIgRGF0YVNwYWNlUmVmZXJlbmNlQ29tcG9uZW50IFN0cnVjdHVyZSAqL1xuXHR3aGlsZShjbnQtLSA+IDApIGNvbXBzLnB1c2goeyB0OiBibG9iLnJlYWRfc2hpZnQoNCksIHY6IGJsb2IucmVhZF9zaGlmdCgwLCAnbHBwNCcpIH0pO1xuXHRvLm5hbWUgPSBibG9iLnJlYWRfc2hpZnQoMCwgJ2xwcDQnKTtcblx0by5jb21wcyA9IGNvbXBzO1xuXHRpZihibG9iLmwgIT0gZW5kKSB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgRGF0YVNwYWNlTWFwRW50cnk6IFwiICsgYmxvYi5sICsgXCIgIT0gXCIgKyBlbmQpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLU9GRkNSWVBUT10gMi4xLjYgRGF0YVNwYWNlTWFwICovXG5mdW5jdGlvbiBwYXJzZV9EYXRhU3BhY2VNYXAoYmxvYikge1xuXHR2YXIgbyA9IFtdO1xuXHRibG9iLmwgKz0gNDsgLy8gbXVzdCBiZSAweDhcblx0dmFyIGNudCA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0d2hpbGUoY250LS0gPiAwKSBvLnB1c2gocGFyc2VfRGF0YVNwYWNlTWFwRW50cnkoYmxvYikpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLU9GRkNSWVBUT10gMi4xLjcgRGF0YVNwYWNlRGVmaW5pdGlvbiAqL1xuZnVuY3Rpb24gcGFyc2VfRGF0YVNwYWNlRGVmaW5pdGlvbihibG9iKS8qOkFycmF5PHN0cmluZz4qLyB7XG5cdHZhciBvLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdGJsb2IubCArPSA0OyAvLyBtdXN0IGJlIDB4OFxuXHR2YXIgY250ID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHR3aGlsZShjbnQtLSA+IDApIG8ucHVzaChibG9iLnJlYWRfc2hpZnQoMCwgJ2xwcDQnKSk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtT0ZGQ1JZUFRPXSAyLjEuOCBEYXRhU3BhY2VEZWZpbml0aW9uICovXG5mdW5jdGlvbiBwYXJzZV9UcmFuc2Zvcm1JbmZvSGVhZGVyKGJsb2IpIHtcblx0dmFyIG8gPSB7fTtcblx0Lyp2YXIgbGVuID0gKi9ibG9iLnJlYWRfc2hpZnQoNCk7XG5cdGJsb2IubCArPSA0OyAvLyBtdXN0IGJlIDB4MVxuXHRvLmlkID0gYmxvYi5yZWFkX3NoaWZ0KDAsICdscHA0Jyk7XG5cdG8ubmFtZSA9IGJsb2IucmVhZF9zaGlmdCgwLCAnbHBwNCcpO1xuXHRvLlIgPSBwYXJzZV9DUllQVE9WZXJzaW9uKGJsb2IsIDQpO1xuXHRvLlUgPSBwYXJzZV9DUllQVE9WZXJzaW9uKGJsb2IsIDQpO1xuXHRvLlcgPSBwYXJzZV9DUllQVE9WZXJzaW9uKGJsb2IsIDQpO1xuXHRyZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gcGFyc2VfUHJpbWFyeShibG9iKSB7XG5cdC8qIFtNUy1PRkZDUllQVE9dIDIuMi42IElSTURTVHJhbnNmb3JtSW5mbyAqL1xuXHR2YXIgaGRyID0gcGFyc2VfVHJhbnNmb3JtSW5mb0hlYWRlcihibG9iKTtcblx0LyogW01TLU9GRkNSWVBUT10gMi4xLjkgRW5jcnlwdGlvblRyYW5zZm9ybUluZm8gKi9cblx0aGRyLmVuYW1lID0gYmxvYi5yZWFkX3NoaWZ0KDAsICc4bHBwNCcpO1xuXHRoZHIuYmxrc3ogPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdGhkci5jbW9kZSA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0aWYoYmxvYi5yZWFkX3NoaWZ0KDQpICE9IDB4MDQpIHRocm93IG5ldyBFcnJvcihcIkJhZCAhUHJpbWFyeSByZWNvcmRcIik7XG5cdHJldHVybiBoZHI7XG59XG5cbi8qIFtNUy1PRkZDUllQVE9dIDIuMy4yIEVuY3J5cHRpb24gSGVhZGVyICovXG5mdW5jdGlvbiBwYXJzZV9FbmNyeXB0aW9uSGVhZGVyKGJsb2IsIGxlbmd0aC8qOm51bWJlciovKSB7XG5cdHZhciB0Z3QgPSBibG9iLmwgKyBsZW5ndGg7XG5cdHZhciBvID0ge307XG5cdG8uRmxhZ3MgPSAoYmxvYi5yZWFkX3NoaWZ0KDQpICYgMHgzRik7XG5cdGJsb2IubCArPSA0O1xuXHRvLkFsZ0lEID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHR2YXIgdmFsaWQgPSBmYWxzZTtcblx0c3dpdGNoKG8uQWxnSUQpIHtcblx0XHRjYXNlIDB4NjYwRTogY2FzZSAweDY2MEY6IGNhc2UgMHg2NjEwOiB2YWxpZCA9IChvLkZsYWdzID09IDB4MjQpOyBicmVhaztcblx0XHRjYXNlIDB4NjgwMTogdmFsaWQgPSAoby5GbGFncyA9PSAweDA0KTsgYnJlYWs7XG5cdFx0Y2FzZSAwOiB2YWxpZCA9IChvLkZsYWdzID09IDB4MTAgfHwgby5GbGFncyA9PSAweDA0IHx8IG8uRmxhZ3MgPT0gMHgyNCk7IGJyZWFrO1xuXHRcdGRlZmF1bHQ6IHRocm93ICdVbnJlY29nbml6ZWQgZW5jcnlwdGlvbiBhbGdvcml0aG06ICcgKyBvLkFsZ0lEO1xuXHR9XG5cdGlmKCF2YWxpZCkgdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGlvbiBGbGFncy9BbGdJRCBtaXNtYXRjaFwiKTtcblx0by5BbGdJREhhc2ggPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdG8uS2V5U2l6ZSA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0by5Qcm92aWRlclR5cGUgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdGJsb2IubCArPSA4O1xuXHRvLkNTUE5hbWUgPSBibG9iLnJlYWRfc2hpZnQoKHRndC1ibG9iLmwpPj4xLCAndXRmMTZsZScpO1xuXHRibG9iLmwgPSB0Z3Q7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtT0ZGQ1JZUFRPXSAyLjMuMyBFbmNyeXB0aW9uIFZlcmlmaWVyICovXG5mdW5jdGlvbiBwYXJzZV9FbmNyeXB0aW9uVmVyaWZpZXIoYmxvYiwgbGVuZ3RoLyo6bnVtYmVyKi8pIHtcblx0dmFyIG8gPSB7fSwgdGd0ID0gYmxvYi5sICsgbGVuZ3RoO1xuXHRibG9iLmwgKz0gNDsgLy8gU2FsdFNpemUgbXVzdCBiZSAweDEwXG5cdG8uU2FsdCA9IGJsb2Iuc2xpY2UoYmxvYi5sLCBibG9iLmwrMTYpOyBibG9iLmwgKz0gMTY7XG5cdG8uVmVyaWZpZXIgPSBibG9iLnNsaWNlKGJsb2IubCwgYmxvYi5sKzE2KTsgYmxvYi5sICs9IDE2O1xuXHQvKnZhciBzeiA9ICovYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRvLlZlcmlmaWVySGFzaCA9IGJsb2Iuc2xpY2UoYmxvYi5sLCB0Z3QpOyBibG9iLmwgPSB0Z3Q7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtT0ZGQ1JZUFRPXSAyLjMuNC4qIEVuY3J5cHRpb25JbmZvIFN0cmVhbSAqL1xuZnVuY3Rpb24gcGFyc2VfRW5jcnlwdGlvbkluZm8oYmxvYikge1xuXHR2YXIgdmVycyA9IHBhcnNlX0NSWVBUT1ZlcnNpb24oYmxvYik7XG5cdHN3aXRjaCh2ZXJzLk1pbm9yKSB7XG5cdFx0Y2FzZSAweDAyOiByZXR1cm4gW3ZlcnMuTWlub3IsIHBhcnNlX0VuY0luZm9TdGQoYmxvYiwgdmVycyldO1xuXHRcdGNhc2UgMHgwMzogcmV0dXJuIFt2ZXJzLk1pbm9yLCBwYXJzZV9FbmNJbmZvRXh0KGJsb2IsIHZlcnMpXTtcblx0XHRjYXNlIDB4MDQ6IHJldHVybiBbdmVycy5NaW5vciwgcGFyc2VfRW5jSW5mb0FnbChibG9iLCB2ZXJzKV07XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKFwiRUNNQS0zNzYgRW5jcnlwdGVkIGZpbGUgdW5yZWNvZ25pemVkIFZlcnNpb246IFwiICsgdmVycy5NaW5vcik7XG59XG5cbi8qIFtNUy1PRkZDUllQVE9dIDIuMy40LjUgIEVuY3J5cHRpb25JbmZvIFN0cmVhbSAoU3RhbmRhcmQgRW5jcnlwdGlvbikgKi9cbmZ1bmN0aW9uIHBhcnNlX0VuY0luZm9TdGQoYmxvYi8qOjosIHZlcnMqLykge1xuXHR2YXIgZmxhZ3MgPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdGlmKChmbGFncyAmIDB4M0YpICE9IDB4MjQpIHRocm93IG5ldyBFcnJvcihcIkVuY3J5cHRpb25JbmZvIG1pc21hdGNoXCIpO1xuXHR2YXIgc3ogPSBibG9iLnJlYWRfc2hpZnQoNCk7XG5cdC8vdmFyIHRndCA9IGJsb2IubCArIHN6O1xuXHR2YXIgaGRyID0gcGFyc2VfRW5jcnlwdGlvbkhlYWRlcihibG9iLCBzeik7XG5cdHZhciB2ZXJpZmllciA9IHBhcnNlX0VuY3J5cHRpb25WZXJpZmllcihibG9iLCBibG9iLmxlbmd0aCAtIGJsb2IubCk7XG5cdHJldHVybiB7IHQ6XCJTdGRcIiwgaDpoZHIsIHY6dmVyaWZpZXIgfTtcbn1cbi8qIFtNUy1PRkZDUllQVE9dIDIuMy40LjYgIEVuY3J5cHRpb25JbmZvIFN0cmVhbSAoRXh0ZW5zaWJsZSBFbmNyeXB0aW9uKSAqL1xuZnVuY3Rpb24gcGFyc2VfRW5jSW5mb0V4dCgvKjo6YmxvYiwgdmVycyovKSB7IHRocm93IG5ldyBFcnJvcihcIkZpbGUgaXMgcGFzc3dvcmQtcHJvdGVjdGVkOiBFQ01BLTM3NiBFeHRlbnNpYmxlXCIpOyB9XG4vKiBbTVMtT0ZGQ1JZUFRPXSAyLjMuNC4xMCBFbmNyeXB0aW9uSW5mbyBTdHJlYW0gKEFnaWxlIEVuY3J5cHRpb24pICovXG5mdW5jdGlvbiBwYXJzZV9FbmNJbmZvQWdsKGJsb2IvKjo6LCB2ZXJzKi8pIHtcblx0dmFyIEtleURhdGEgPSBbXCJzYWx0U2l6ZVwiLFwiYmxvY2tTaXplXCIsXCJrZXlCaXRzXCIsXCJoYXNoU2l6ZVwiLFwiY2lwaGVyQWxnb3JpdGhtXCIsXCJjaXBoZXJDaGFpbmluZ1wiLFwiaGFzaEFsZ29yaXRobVwiLFwic2FsdFZhbHVlXCJdO1xuXHRibG9iLmwrPTQ7XG5cdHZhciB4bWwgPSBibG9iLnJlYWRfc2hpZnQoYmxvYi5sZW5ndGggLSBibG9iLmwsICd1dGY4Jyk7XG5cdHZhciBvID0ge307XG5cdHhtbC5yZXBsYWNlKHRhZ3JlZ2V4LCBmdW5jdGlvbiB4bWxfYWdpbGUoeCkge1xuXHRcdHZhciB5Lyo6YW55Ki8gPSBwYXJzZXhtbHRhZyh4KTtcblx0XHRzd2l0Y2goc3RyaXBfbnMoeVswXSkpIHtcblx0XHRcdGNhc2UgJzw/eG1sJzogYnJlYWs7XG5cdFx0XHRjYXNlICc8ZW5jcnlwdGlvbic6IGNhc2UgJzwvZW5jcnlwdGlvbj4nOiBicmVhaztcblx0XHRcdGNhc2UgJzxrZXlEYXRhJzogS2V5RGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGspIHsgb1trXSA9IHlba107IH0pOyBicmVhaztcblx0XHRcdGNhc2UgJzxkYXRhSW50ZWdyaXR5Jzogby5lbmNyeXB0ZWRIbWFjS2V5ID0geS5lbmNyeXB0ZWRIbWFjS2V5OyBvLmVuY3J5cHRlZEhtYWNWYWx1ZSA9IHkuZW5jcnlwdGVkSG1hY1ZhbHVlOyBicmVhaztcblx0XHRcdGNhc2UgJzxrZXlFbmNyeXB0b3JzPic6IGNhc2UgJzxrZXlFbmNyeXB0b3JzJzogby5lbmNzID0gW107IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9rZXlFbmNyeXB0b3JzPic6IGJyZWFrO1xuXG5cdFx0XHRjYXNlICc8a2V5RW5jcnlwdG9yJzogby51cmkgPSB5LnVyaTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L2tleUVuY3J5cHRvcj4nOiBicmVhaztcblx0XHRcdGNhc2UgJzxlbmNyeXB0ZWRLZXknOiBvLmVuY3MucHVzaCh5KTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyB5WzBdO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtT0ZGQ1JZUFRPXSAyLjMuNS4xIFJDNCBDcnlwdG9BUEkgRW5jcnlwdGlvbiBIZWFkZXIgKi9cbmZ1bmN0aW9uIHBhcnNlX1JDNENyeXB0b0hlYWRlcihibG9iLCBsZW5ndGgvKjpudW1iZXIqLykge1xuXHR2YXIgbyA9IHt9O1xuXHR2YXIgdmVycyA9IG8uRW5jcnlwdGlvblZlcnNpb25JbmZvID0gcGFyc2VfQ1JZUFRPVmVyc2lvbihibG9iLCA0KTsgbGVuZ3RoIC09IDQ7XG5cdGlmKHZlcnMuTWlub3IgIT0gMikgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgbWlub3IgdmVyc2lvbiBjb2RlOiAnICsgdmVycy5NaW5vcik7XG5cdGlmKHZlcnMuTWFqb3IgPiA0IHx8IHZlcnMuTWFqb3IgPCAyKSB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCBtYWpvciB2ZXJzaW9uIGNvZGU6ICcgKyB2ZXJzLk1ham9yKTtcblx0by5GbGFncyA9IGJsb2IucmVhZF9zaGlmdCg0KTsgbGVuZ3RoIC09IDQ7XG5cdHZhciBzeiA9IGJsb2IucmVhZF9zaGlmdCg0KTsgbGVuZ3RoIC09IDQ7XG5cdG8uRW5jcnlwdGlvbkhlYWRlciA9IHBhcnNlX0VuY3J5cHRpb25IZWFkZXIoYmxvYiwgc3opOyBsZW5ndGggLT0gc3o7XG5cdG8uRW5jcnlwdGlvblZlcmlmaWVyID0gcGFyc2VfRW5jcnlwdGlvblZlcmlmaWVyKGJsb2IsIGxlbmd0aCk7XG5cdHJldHVybiBvO1xufVxuLyogW01TLU9GRkNSWVBUT10gMi4zLjYuMSBSQzQgRW5jcnlwdGlvbiBIZWFkZXIgKi9cbmZ1bmN0aW9uIHBhcnNlX1JDNEhlYWRlcihibG9iLyo6OiwgbGVuZ3RoKi8pIHtcblx0dmFyIG8gPSB7fTtcblx0dmFyIHZlcnMgPSBvLkVuY3J5cHRpb25WZXJzaW9uSW5mbyA9IHBhcnNlX0NSWVBUT1ZlcnNpb24oYmxvYiwgNCk7XG5cdGlmKHZlcnMuTWFqb3IgIT0gMSB8fCB2ZXJzLk1pbm9yICE9IDEpIHRocm93ICd1bnJlY29nbml6ZWQgdmVyc2lvbiBjb2RlICcgKyB2ZXJzLk1ham9yICsgJyA6ICcgKyB2ZXJzLk1pbm9yO1xuXHRvLlNhbHQgPSBibG9iLnJlYWRfc2hpZnQoMTYpO1xuXHRvLkVuY3J5cHRlZFZlcmlmaWVyID0gYmxvYi5yZWFkX3NoaWZ0KDE2KTtcblx0by5FbmNyeXB0ZWRWZXJpZmllckhhc2ggPSBibG9iLnJlYWRfc2hpZnQoMTYpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLU9GRkNSWVBUT10gMi4zLjcuMSBCaW5hcnkgRG9jdW1lbnQgUGFzc3dvcmQgVmVyaWZpZXIgRGVyaXZhdGlvbiAqL1xuZnVuY3Rpb24gY3J5cHRvX0NyZWF0ZVBhc3N3b3JkVmVyaWZpZXJfTWV0aG9kMShQYXNzd29yZC8qOnN0cmluZyovKSB7XG5cdHZhciBWZXJpZmllciA9IDB4MDAwMCwgUGFzc3dvcmRBcnJheTtcblx0dmFyIFBhc3N3b3JkRGVjb2RlZCA9IF9KUzJBTlNJKFBhc3N3b3JkKTtcblx0dmFyIGxlbiA9IFBhc3N3b3JkRGVjb2RlZC5sZW5ndGggKyAxLCBpLCBQYXNzd29yZEJ5dGU7XG5cdHZhciBJbnRlcm1lZGlhdGUxLCBJbnRlcm1lZGlhdGUyLCBJbnRlcm1lZGlhdGUzO1xuXHRQYXNzd29yZEFycmF5ID0gbmV3X3Jhd19idWYobGVuKTtcblx0UGFzc3dvcmRBcnJheVswXSA9IFBhc3N3b3JkRGVjb2RlZC5sZW5ndGg7XG5cdGZvcihpID0gMTsgaSAhPSBsZW47ICsraSkgUGFzc3dvcmRBcnJheVtpXSA9IFBhc3N3b3JkRGVjb2RlZFtpLTFdO1xuXHRmb3IoaSA9IGxlbi0xOyBpID49IDA7IC0taSkge1xuXHRcdFBhc3N3b3JkQnl0ZSA9IFBhc3N3b3JkQXJyYXlbaV07XG5cdFx0SW50ZXJtZWRpYXRlMSA9ICgoVmVyaWZpZXIgJiAweDQwMDApID09PSAweDAwMDApID8gMCA6IDE7XG5cdFx0SW50ZXJtZWRpYXRlMiA9IChWZXJpZmllciA8PCAxKSAmIDB4N0ZGRjtcblx0XHRJbnRlcm1lZGlhdGUzID0gSW50ZXJtZWRpYXRlMSB8IEludGVybWVkaWF0ZTI7XG5cdFx0VmVyaWZpZXIgPSBJbnRlcm1lZGlhdGUzIF4gUGFzc3dvcmRCeXRlO1xuXHR9XG5cdHJldHVybiBWZXJpZmllciBeIDB4Q0U0Qjtcbn1cblxuLyogW01TLU9GRkNSWVBUT10gMi4zLjcuMiBCaW5hcnkgRG9jdW1lbnQgWE9SIEFycmF5IEluaXRpYWxpemF0aW9uICovXG52YXIgY3J5cHRvX0NyZWF0ZVhvckFycmF5X01ldGhvZDEgPSAvKiNfX1BVUkVfXyovKGZ1bmN0aW9uKCkge1xuXHR2YXIgUGFkQXJyYXkgPSBbMHhCQiwgMHhGRiwgMHhGRiwgMHhCQSwgMHhGRiwgMHhGRiwgMHhCOSwgMHg4MCwgMHgwMCwgMHhCRSwgMHgwRiwgMHgwMCwgMHhCRiwgMHgwRiwgMHgwMF07XG5cdHZhciBJbml0aWFsQ29kZSA9IFsweEUxRjAsIDB4MUQwRiwgMHhDQzlDLCAweDg0QzAsIDB4MTEwQywgMHgwRTEwLCAweEYxQ0UsIDB4MzEzRSwgMHgxODcyLCAweEUxMzksIDB4RDQwRiwgMHg4NEY5LCAweDI4MEMsIDB4QTk2QSwgMHg0RUMzXTtcblx0dmFyIFhvck1hdHJpeCA9IFsweEFFRkMsIDB4NEREOSwgMHg5QkIyLCAweDI3NDUsIDB4NEU4QSwgMHg5RDE0LCAweDJBMDksIDB4N0I2MSwgMHhGNkMyLCAweEZEQTUsIDB4RUI2QiwgMHhDNkY3LCAweDlEQ0YsIDB4MkJCRiwgMHg0NTYzLCAweDhBQzYsIDB4MDVBRCwgMHgwQjVBLCAweDE2QjQsIDB4MkQ2OCwgMHg1QUQwLCAweDAzNzUsIDB4MDZFQSwgMHgwREQ0LCAweDFCQTgsIDB4Mzc1MCwgMHg2RUEwLCAweERENDAsIDB4RDg0OSwgMHhBMEIzLCAweDUxNDcsIDB4QTI4RSwgMHg1NTNELCAweEFBN0EsIDB4NDRENSwgMHg2RjQ1LCAweERFOEEsIDB4QUQzNSwgMHg0QTRCLCAweDk0OTYsIDB4MzkwRCwgMHg3MjFBLCAweEVCMjMsIDB4QzY2NywgMHg5Q0VGLCAweDI5RkYsIDB4NTNGRSwgMHhBN0ZDLCAweDVGRDksIDB4NDdEMywgMHg4RkE2LCAweDBGNkQsIDB4MUVEQSwgMHgzREI0LCAweDdCNjgsIDB4RjZEMCwgMHhCODYxLCAweDYwRTMsIDB4QzFDNiwgMHg5M0FELCAweDM3N0IsIDB4NkVGNiwgMHhEREVDLCAweDQ1QTAsIDB4OEI0MCwgMHgwNkExLCAweDBENDIsIDB4MUE4NCwgMHgzNTA4LCAweDZBMTAsIDB4QUE1MSwgMHg0NDgzLCAweDg5MDYsIDB4MDIyRCwgMHgwNDVBLCAweDA4QjQsIDB4MTE2OCwgMHg3NkI0LCAweEVENjgsIDB4Q0FGMSwgMHg4NUMzLCAweDFCQTcsIDB4Mzc0RSwgMHg2RTlDLCAweDM3MzAsIDB4NkU2MCwgMHhEQ0MwLCAweEE5QTEsIDB4NDM2MywgMHg4NkM2LCAweDFEQUQsIDB4MzMzMSwgMHg2NjYyLCAweENDQzQsIDB4ODlBOSwgMHgwMzczLCAweDA2RTYsIDB4MERDQywgMHgxMDIxLCAweDIwNDIsIDB4NDA4NCwgMHg4MTA4LCAweDEyMzEsIDB4MjQ2MiwgMHg0OEM0XTtcblx0dmFyIFJvciA9IGZ1bmN0aW9uKEJ5dGUpIHsgcmV0dXJuICgoQnl0ZS8yKSB8IChCeXRlKjEyOCkpICYgMHhGRjsgfTtcblx0dmFyIFhvclJvciA9IGZ1bmN0aW9uKGJ5dGUxLCBieXRlMikgeyByZXR1cm4gUm9yKGJ5dGUxIF4gYnl0ZTIpOyB9O1xuXHR2YXIgQ3JlYXRlWG9yS2V5X01ldGhvZDEgPSBmdW5jdGlvbihQYXNzd29yZCkge1xuXHRcdHZhciBYb3JLZXkgPSBJbml0aWFsQ29kZVtQYXNzd29yZC5sZW5ndGggLSAxXTtcblx0XHR2YXIgQ3VycmVudEVsZW1lbnQgPSAweDY4O1xuXHRcdGZvcih2YXIgaSA9IFBhc3N3b3JkLmxlbmd0aC0xOyBpID49IDA7IC0taSkge1xuXHRcdFx0dmFyIENoYXIgPSBQYXNzd29yZFtpXTtcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogIT0gNzsgKytqKSB7XG5cdFx0XHRcdGlmKENoYXIgJiAweDQwKSBYb3JLZXkgXj0gWG9yTWF0cml4W0N1cnJlbnRFbGVtZW50XTtcblx0XHRcdFx0Q2hhciAqPSAyOyAtLUN1cnJlbnRFbGVtZW50O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gWG9yS2V5O1xuXHR9O1xuXHRyZXR1cm4gZnVuY3Rpb24ocGFzc3dvcmQvKjpzdHJpbmcqLykge1xuXHRcdHZhciBQYXNzd29yZCA9IF9KUzJBTlNJKHBhc3N3b3JkKTtcblx0XHR2YXIgWG9yS2V5ID0gQ3JlYXRlWG9yS2V5X01ldGhvZDEoUGFzc3dvcmQpO1xuXHRcdHZhciBJbmRleCA9IFBhc3N3b3JkLmxlbmd0aDtcblx0XHR2YXIgT2JmdXNjYXRpb25BcnJheSA9IG5ld19yYXdfYnVmKDE2KTtcblx0XHRmb3IodmFyIGkgPSAwOyBpICE9IDE2OyArK2kpIE9iZnVzY2F0aW9uQXJyYXlbaV0gPSAweDAwO1xuXHRcdHZhciBUZW1wLCBQYXNzd29yZExhc3RDaGFyLCBQYWRJbmRleDtcblx0XHRpZigoSW5kZXggJiAxKSA9PT0gMSkge1xuXHRcdFx0VGVtcCA9IFhvcktleSA+PiA4O1xuXHRcdFx0T2JmdXNjYXRpb25BcnJheVtJbmRleF0gPSBYb3JSb3IoUGFkQXJyYXlbMF0sIFRlbXApO1xuXHRcdFx0LS1JbmRleDtcblx0XHRcdFRlbXAgPSBYb3JLZXkgJiAweEZGO1xuXHRcdFx0UGFzc3dvcmRMYXN0Q2hhciA9IFBhc3N3b3JkW1Bhc3N3b3JkLmxlbmd0aCAtIDFdO1xuXHRcdFx0T2JmdXNjYXRpb25BcnJheVtJbmRleF0gPSBYb3JSb3IoUGFzc3dvcmRMYXN0Q2hhciwgVGVtcCk7XG5cdFx0fVxuXHRcdHdoaWxlKEluZGV4ID4gMCkge1xuXHRcdFx0LS1JbmRleDtcblx0XHRcdFRlbXAgPSBYb3JLZXkgPj4gODtcblx0XHRcdE9iZnVzY2F0aW9uQXJyYXlbSW5kZXhdID0gWG9yUm9yKFBhc3N3b3JkW0luZGV4XSwgVGVtcCk7XG5cdFx0XHQtLUluZGV4O1xuXHRcdFx0VGVtcCA9IFhvcktleSAmIDB4RkY7XG5cdFx0XHRPYmZ1c2NhdGlvbkFycmF5W0luZGV4XSA9IFhvclJvcihQYXNzd29yZFtJbmRleF0sIFRlbXApO1xuXHRcdH1cblx0XHRJbmRleCA9IDE1O1xuXHRcdFBhZEluZGV4ID0gMTUgLSBQYXNzd29yZC5sZW5ndGg7XG5cdFx0d2hpbGUoUGFkSW5kZXggPiAwKSB7XG5cdFx0XHRUZW1wID0gWG9yS2V5ID4+IDg7XG5cdFx0XHRPYmZ1c2NhdGlvbkFycmF5W0luZGV4XSA9IFhvclJvcihQYWRBcnJheVtQYWRJbmRleF0sIFRlbXApO1xuXHRcdFx0LS1JbmRleDtcblx0XHRcdC0tUGFkSW5kZXg7XG5cdFx0XHRUZW1wID0gWG9yS2V5ICYgMHhGRjtcblx0XHRcdE9iZnVzY2F0aW9uQXJyYXlbSW5kZXhdID0gWG9yUm9yKFBhc3N3b3JkW0luZGV4XSwgVGVtcCk7XG5cdFx0XHQtLUluZGV4O1xuXHRcdFx0LS1QYWRJbmRleDtcblx0XHR9XG5cdFx0cmV0dXJuIE9iZnVzY2F0aW9uQXJyYXk7XG5cdH07XG59KSgpO1xuXG4vKiBbTVMtT0ZGQ1JZUFRPXSAyLjMuNy4zIEJpbmFyeSBEb2N1bWVudCBYT1IgRGF0YSBUcmFuc2Zvcm1hdGlvbiBNZXRob2QgMSAqL1xudmFyIGNyeXB0b19EZWNyeXB0RGF0YV9NZXRob2QxID0gZnVuY3Rpb24ocGFzc3dvcmQvKjpzdHJpbmcqLywgRGF0YSwgWG9yQXJyYXlJbmRleCwgWG9yQXJyYXksIE8pIHtcblx0LyogSWYgWG9yQXJyYXkgaXMgc2V0LCB1c2UgaXQ7IGlmIE8gaXMgbm90IHNldCwgbWFrZSBjaGFuZ2VzIGluLXBsYWNlICovXG5cdGlmKCFPKSBPID0gRGF0YTtcblx0aWYoIVhvckFycmF5KSBYb3JBcnJheSA9IGNyeXB0b19DcmVhdGVYb3JBcnJheV9NZXRob2QxKHBhc3N3b3JkKTtcblx0dmFyIEluZGV4LCBWYWx1ZTtcblx0Zm9yKEluZGV4ID0gMDsgSW5kZXggIT0gRGF0YS5sZW5ndGg7ICsrSW5kZXgpIHtcblx0XHRWYWx1ZSA9IERhdGFbSW5kZXhdO1xuXHRcdFZhbHVlIF49IFhvckFycmF5W1hvckFycmF5SW5kZXhdO1xuXHRcdFZhbHVlID0gKChWYWx1ZT4+NSkgfCAoVmFsdWU8PDMpKSAmIDB4RkY7XG5cdFx0T1tJbmRleF0gPSBWYWx1ZTtcblx0XHQrK1hvckFycmF5SW5kZXg7XG5cdH1cblx0cmV0dXJuIFtPLCBYb3JBcnJheUluZGV4LCBYb3JBcnJheV07XG59O1xuXG52YXIgY3J5cHRvX01ha2VYb3JEZWNyeXB0b3IgPSBmdW5jdGlvbihwYXNzd29yZC8qOnN0cmluZyovKSB7XG5cdHZhciBYb3JBcnJheUluZGV4ID0gMCwgWG9yQXJyYXkgPSBjcnlwdG9fQ3JlYXRlWG9yQXJyYXlfTWV0aG9kMShwYXNzd29yZCk7XG5cdHJldHVybiBmdW5jdGlvbihEYXRhKSB7XG5cdFx0dmFyIE8gPSBjcnlwdG9fRGVjcnlwdERhdGFfTWV0aG9kMShcIlwiLCBEYXRhLCBYb3JBcnJheUluZGV4LCBYb3JBcnJheSk7XG5cdFx0WG9yQXJyYXlJbmRleCA9IE9bMV07XG5cdFx0cmV0dXJuIE9bMF07XG5cdH07XG59O1xuXG4vKiAyLjUuMzQzICovXG5mdW5jdGlvbiBwYXJzZV9YT1JPYmZ1c2NhdGlvbihibG9iLCBsZW5ndGgsIG9wdHMsIG91dCkge1xuXHR2YXIgbyA9ICh7IGtleTogcGFyc2V1aW50MTYoYmxvYiksIHZlcmlmaWNhdGlvbkJ5dGVzOiBwYXJzZXVpbnQxNihibG9iKSB9Lyo6YW55Ki8pO1xuXHRpZihvcHRzLnBhc3N3b3JkKSBvLnZlcmlmaWVyID0gY3J5cHRvX0NyZWF0ZVBhc3N3b3JkVmVyaWZpZXJfTWV0aG9kMShvcHRzLnBhc3N3b3JkKTtcblx0b3V0LnZhbGlkID0gby52ZXJpZmljYXRpb25CeXRlcyA9PT0gby52ZXJpZmllcjtcblx0aWYob3V0LnZhbGlkKSBvdXQuaW5zaXR1ID0gY3J5cHRvX01ha2VYb3JEZWNyeXB0b3Iob3B0cy5wYXNzd29yZCk7XG5cdHJldHVybiBvO1xufVxuXG4vKiAyLjQuMTE3ICovXG5mdW5jdGlvbiBwYXJzZV9GaWxlUGFzc0hlYWRlcihibG9iLCBsZW5ndGgvKjpudW1iZXIqLywgb28pIHtcblx0dmFyIG8gPSBvbyB8fCB7fTsgby5JbmZvID0gYmxvYi5yZWFkX3NoaWZ0KDIpOyBibG9iLmwgLT0gMjtcblx0aWYoby5JbmZvID09PSAxKSBvLkRhdGEgPSBwYXJzZV9SQzRIZWFkZXIoYmxvYiwgbGVuZ3RoKTtcblx0ZWxzZSBvLkRhdGEgPSBwYXJzZV9SQzRDcnlwdG9IZWFkZXIoYmxvYiwgbGVuZ3RoKTtcblx0cmV0dXJuIG87XG59XG5mdW5jdGlvbiBwYXJzZV9GaWxlUGFzcyhibG9iLCBsZW5ndGgvKjpudW1iZXIqLywgb3B0cykge1xuXHR2YXIgbyA9ICh7IFR5cGU6IG9wdHMuYmlmZiA+PSA4ID8gYmxvYi5yZWFkX3NoaWZ0KDIpIDogMCB9Lyo6YW55Ki8pOyAvKiB3RW5jcnlwdGlvblR5cGUgKi9cblx0aWYoby5UeXBlKSBwYXJzZV9GaWxlUGFzc0hlYWRlcihibG9iLCBsZW5ndGgtMiwgbyk7XG5cdGVsc2UgcGFyc2VfWE9ST2JmdXNjYXRpb24oYmxvYiwgb3B0cy5iaWZmID49IDggPyBsZW5ndGggOiBsZW5ndGggLSAyLCBvcHRzLCBvKTtcblx0cmV0dXJuIG87XG59XG5cblxuZnVuY3Rpb24gcnRmX3RvX3NoZWV0KGQsIG9wdHMpIHtcbiAgc3dpdGNoIChvcHRzLnR5cGUpIHtcbiAgICBjYXNlIFwiYmFzZTY0XCI6XG4gICAgICByZXR1cm4gcnRmX3RvX3NoZWV0X3N0cihCYXNlNjRfZGVjb2RlKGQpLCBvcHRzKTtcbiAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICByZXR1cm4gcnRmX3RvX3NoZWV0X3N0cihkLCBvcHRzKTtcbiAgICBjYXNlIFwiYnVmZmVyXCI6XG4gICAgICByZXR1cm4gcnRmX3RvX3NoZWV0X3N0cihoYXNfYnVmICYmIEJ1ZmZlci5pc0J1ZmZlcihkKSA/IGQudG9TdHJpbmcoXCJiaW5hcnlcIikgOiBhMnMoZCksIG9wdHMpO1xuICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgcmV0dXJuIHJ0Zl90b19zaGVldF9zdHIoY2Myc3RyKGQpLCBvcHRzKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgdHlwZSBcIiArIG9wdHMudHlwZSk7XG59XG5mdW5jdGlvbiBydGZfdG9fc2hlZXRfc3RyKHN0ciwgb3B0cykge1xuICB2YXIgbyA9IG9wdHMgfHwge307XG4gIHZhciB3cyA9IHt9O1xuICB2YXIgZGVuc2UgPSBvLmRlbnNlO1xuICBpZiAoZGVuc2UpXG4gICAgd3NbXCIhZGF0YVwiXSA9IFtdO1xuICB2YXIgcm93cyA9IHN0cl9tYXRjaF9uZyhzdHIsIFwiXFxcXHRyb3dkXCIsIFwiXFxcXHJvd1wiKTtcbiAgaWYgKCFyb3dzKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlJURiBtaXNzaW5nIHRhYmxlXCIpO1xuICB2YXIgcmFuZ2UgPSB7IHM6IHsgYzogMCwgcjogMCB9LCBlOiB7IGM6IDAsIHI6IHJvd3MubGVuZ3RoIC0gMSB9IH07XG4gIHZhciByb3cgPSBbXTtcbiAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvd3RmLCBSKSB7XG4gICAgaWYgKGRlbnNlKVxuICAgICAgcm93ID0gd3NbXCIhZGF0YVwiXVtSXSA9IFtdO1xuICAgIHZhciBydGZyZSA9IC9cXFxcW1xcd1xcLV0rXFxiL2c7XG4gICAgdmFyIGxhc3RfaW5kZXggPSAwO1xuICAgIHZhciByZXM7XG4gICAgdmFyIEMgPSAtMTtcbiAgICB2YXIgcGF5bG9hZCA9IFtdO1xuICAgIHdoaWxlICgocmVzID0gcnRmcmUuZXhlYyhyb3d0ZikpICE9IG51bGwpIHtcbiAgICAgIHZhciBkYXRhID0gcm93dGYuc2xpY2UobGFzdF9pbmRleCwgcnRmcmUubGFzdEluZGV4IC0gcmVzWzBdLmxlbmd0aCk7XG4gICAgICBpZiAoZGF0YS5jaGFyQ29kZUF0KDApID09IDMyKVxuICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgxKTtcbiAgICAgIGlmIChkYXRhLmxlbmd0aClcbiAgICAgICAgcGF5bG9hZC5wdXNoKGRhdGEpO1xuICAgICAgc3dpdGNoIChyZXNbMF0pIHtcbiAgICAgICAgY2FzZSBcIlxcXFxjZWxsXCI6XG4gICAgICAgICAgKytDO1xuICAgICAgICAgIGlmIChwYXlsb2FkLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGNlbGwgPSB7IHY6IHBheWxvYWQuam9pbihcIlwiKSwgdDogXCJzXCIgfTtcbiAgICAgICAgICAgIGlmIChjZWxsLnYgPT0gXCJUUlVFXCIgfHwgY2VsbC52ID09IFwiRkFMU0VcIikge1xuICAgICAgICAgICAgICBjZWxsLnYgPSBjZWxsLnYgPT0gXCJUUlVFXCI7XG4gICAgICAgICAgICAgIGNlbGwudCA9IFwiYlwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oZnV6enludW0oY2VsbC52KSkpIHtcbiAgICAgICAgICAgICAgY2VsbC50ID0gXCJuXCI7XG4gICAgICAgICAgICAgIGlmIChvLmNlbGxUZXh0ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICBjZWxsLncgPSBjZWxsLnY7XG4gICAgICAgICAgICAgIGNlbGwudiA9IGZ1enp5bnVtKGNlbGwudik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFJCRXJyW2NlbGwudl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjZWxsLnQgPSBcImVcIjtcbiAgICAgICAgICAgICAgY2VsbC53ID0gY2VsbC52O1xuICAgICAgICAgICAgICBjZWxsLnYgPSBSQkVycltjZWxsLnZdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlbnNlKVxuICAgICAgICAgICAgICByb3dbQ10gPSBjZWxsO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICB3c1tlbmNvZGVfY2VsbCh7IHI6IFIsIGM6IEMgfSldID0gY2VsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF5bG9hZCA9IFtdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiXFxcXHBhclwiOlxuICAgICAgICAgIHBheWxvYWQucHVzaChcIlxcblwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxhc3RfaW5kZXggPSBydGZyZS5sYXN0SW5kZXg7XG4gICAgfVxuICAgIGlmIChDID4gcmFuZ2UuZS5jKVxuICAgICAgcmFuZ2UuZS5jID0gQztcbiAgfSk7XG4gIHdzW1wiIXJlZlwiXSA9IGVuY29kZV9yYW5nZShyYW5nZSk7XG4gIHJldHVybiB3cztcbn1cbmZ1bmN0aW9uIHJ0Zl90b193b3JrYm9vayhkLCBvcHRzKSB7XG4gIHZhciB3YiA9IHNoZWV0X3RvX3dvcmtib29rKHJ0Zl90b19zaGVldChkLCBvcHRzKSwgb3B0cyk7XG4gIHdiLmJvb2tUeXBlID0gXCJydGZcIjtcbiAgcmV0dXJuIHdiO1xufVxuZnVuY3Rpb24gc2hlZXRfdG9fcnRmKHdzLCBvcHRzKSB7XG4gIHZhciBvID0gW1wie1xcXFxydGYxXFxcXGFuc2lcIl07XG4gIGlmICghd3NbXCIhcmVmXCJdKVxuICAgIHJldHVybiBvWzBdICsgXCJ9XCI7XG4gIHZhciByID0gc2FmZV9kZWNvZGVfcmFuZ2Uod3NbXCIhcmVmXCJdKSwgY2VsbDtcbiAgdmFyIGRlbnNlID0gd3NbXCIhZGF0YVwiXSAhPSBudWxsLCByb3cgPSBbXTtcbiAgZm9yICh2YXIgUiA9IHIucy5yOyBSIDw9IHIuZS5yOyArK1IpIHtcbiAgICBvLnB1c2goXCJcXFxcdHJvd2RcXFxcdHJhdXRvZml0MVwiKTtcbiAgICBmb3IgKHZhciBDID0gci5zLmM7IEMgPD0gci5lLmM7ICsrQylcbiAgICAgIG8ucHVzaChcIlxcXFxjZWxseFwiICsgKEMgKyAxKSk7XG4gICAgby5wdXNoKFwiXFxcXHBhcmRcXFxcaW50YmxcIik7XG4gICAgaWYgKGRlbnNlKVxuICAgICAgcm93ID0gd3NbXCIhZGF0YVwiXVtSXSB8fCBbXTtcbiAgICBmb3IgKEMgPSByLnMuYzsgQyA8PSByLmUuYzsgKytDKSB7XG4gICAgICB2YXIgY29vcmQgPSBlbmNvZGVfY2VsbCh7IHI6IFIsIGM6IEMgfSk7XG4gICAgICBjZWxsID0gZGVuc2UgPyByb3dbQ10gOiB3c1tjb29yZF07XG4gICAgICBpZiAoIWNlbGwgfHwgY2VsbC52ID09IG51bGwgJiYgKCFjZWxsLmYgfHwgY2VsbC5GKSkge1xuICAgICAgICBvLnB1c2goXCIgXFxcXGNlbGxcIik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgby5wdXNoKFwiIFwiICsgKGNlbGwudyB8fCAoZm9ybWF0X2NlbGwoY2VsbCksIGNlbGwudykgfHwgXCJcIikucmVwbGFjZSgvW1xcclxcbl0vZywgXCJcXFxccGFyIFwiKSk7XG4gICAgICBvLnB1c2goXCJcXFxcY2VsbFwiKTtcbiAgICB9XG4gICAgby5wdXNoKFwiXFxcXHBhcmRcXFxcaW50YmxcXFxccm93XCIpO1xuICB9XG4gIHJldHVybiBvLmpvaW4oXCJcIikgKyBcIn1cIjtcbn1cbmZ1bmN0aW9uIGhleDJSR0IoaCkge1xuXHR2YXIgbyA9IGguc2xpY2UoaFswXT09PVwiI1wiPzE6MCkuc2xpY2UoMCw2KTtcblx0cmV0dXJuIFtwYXJzZUludChvLnNsaWNlKDAsMiksMTYpLHBhcnNlSW50KG8uc2xpY2UoMiw0KSwxNikscGFyc2VJbnQoby5zbGljZSg0LDYpLDE2KV07XG59XG5mdW5jdGlvbiByZ2IySGV4KHJnYikge1xuXHRmb3IodmFyIGk9MCxvPTE7IGkhPTM7ICsraSkgbyA9IG8qMjU2ICsgKHJnYltpXT4yNTU/MjU1OnJnYltpXTwwPzA6cmdiW2ldKTtcblx0cmV0dXJuIG8udG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkuc2xpY2UoMSk7XG59XG5cbmZ1bmN0aW9uIHJnYjJIU0wocmdiKSB7XG5cdHZhciBSID0gcmdiWzBdLzI1NSwgRyA9IHJnYlsxXS8yNTUsIEI9cmdiWzJdLzI1NTtcblx0dmFyIE0gPSBNYXRoLm1heChSLCBHLCBCKSwgbSA9IE1hdGgubWluKFIsIEcsIEIpLCBDID0gTSAtIG07XG5cdGlmKEMgPT09IDApIHJldHVybiBbMCwgMCwgUl07XG5cblx0dmFyIEg2ID0gMCwgUyA9IDAsIEwyID0gKE0gKyBtKTtcblx0UyA9IEMgLyAoTDIgPiAxID8gMiAtIEwyIDogTDIpO1xuXHRzd2l0Y2goTSl7XG5cdFx0Y2FzZSBSOiBINiA9ICgoRyAtIEIpIC8gQyArIDYpJTY7IGJyZWFrO1xuXHRcdGNhc2UgRzogSDYgPSAoKEIgLSBSKSAvIEMgKyAyKTsgYnJlYWs7XG5cdFx0Y2FzZSBCOiBINiA9ICgoUiAtIEcpIC8gQyArIDQpOyBicmVhaztcblx0fVxuXHRyZXR1cm4gW0g2IC8gNiwgUywgTDIgLyAyXTtcbn1cblxuZnVuY3Rpb24gaHNsMlJHQihoc2wpe1xuXHR2YXIgSCA9IGhzbFswXSwgUyA9IGhzbFsxXSwgTCA9IGhzbFsyXTtcblx0dmFyIEMgPSBTICogMiAqIChMIDwgMC41ID8gTCA6IDEgLSBMKSwgbSA9IEwgLSBDLzI7XG5cdHZhciByZ2IgPSBbbSxtLG1dLCBoNiA9IDYqSDtcblxuXHR2YXIgWDtcblx0aWYoUyAhPT0gMCkgc3dpdGNoKGg2fDApIHtcblx0XHRjYXNlIDA6IGNhc2UgNjogWCA9IEMgKiBoNjsgcmdiWzBdICs9IEM7IHJnYlsxXSArPSBYOyBicmVhaztcblx0XHRjYXNlIDE6IFggPSBDICogKDIgLSBoNik7ICAgcmdiWzBdICs9IFg7IHJnYlsxXSArPSBDOyBicmVhaztcblx0XHRjYXNlIDI6IFggPSBDICogKGg2IC0gMik7ICAgcmdiWzFdICs9IEM7IHJnYlsyXSArPSBYOyBicmVhaztcblx0XHRjYXNlIDM6IFggPSBDICogKDQgLSBoNik7ICAgcmdiWzFdICs9IFg7IHJnYlsyXSArPSBDOyBicmVhaztcblx0XHRjYXNlIDQ6IFggPSBDICogKGg2IC0gNCk7ICAgcmdiWzJdICs9IEM7IHJnYlswXSArPSBYOyBicmVhaztcblx0XHRjYXNlIDU6IFggPSBDICogKDYgLSBoNik7ICAgcmdiWzJdICs9IFg7IHJnYlswXSArPSBDOyBicmVhaztcblx0fVxuXHRmb3IodmFyIGkgPSAwOyBpICE9IDM7ICsraSkgcmdiW2ldID0gTWF0aC5yb3VuZChyZ2JbaV0qMjU1KTtcblx0cmV0dXJuIHJnYjtcbn1cblxuLyogMTguOC4zIGJnQ29sb3IgdGludCBhbGdvcml0aG0gKi9cbmZ1bmN0aW9uIHJnYl90aW50KGhleCwgdGludCkge1xuXHRpZih0aW50ID09PSAwKSByZXR1cm4gaGV4O1xuXHR2YXIgaHNsID0gcmdiMkhTTChoZXgyUkdCKGhleCkpO1xuXHRpZiAodGludCA8IDApIGhzbFsyXSA9IGhzbFsyXSAqICgxICsgdGludCk7XG5cdGVsc2UgaHNsWzJdID0gMSAtICgxIC0gaHNsWzJdKSAqICgxIC0gdGludCk7XG5cdHJldHVybiByZ2IySGV4KGhzbDJSR0IoaHNsKSk7XG59XG5cbi8qIDE4LjMuMS4xMyB3aWR0aCBjYWxjdWxhdGlvbnMgKi9cbi8qIFtNUy1PSTI5NTAwXSAyLjEuNTk1IENvbHVtbiBXaWR0aCAmIEZvcm1hdHRpbmcgKi9cbnZhciBERUZfTURXID0gNiwgTUFYX01EVyA9IDE1LCBNSU5fTURXID0gMSwgTURXID0gREVGX01EVztcbmZ1bmN0aW9uIHdpZHRoMnB4KHdpZHRoKSB7IHJldHVybiBNYXRoLmZsb29yKCggd2lkdGggKyAoTWF0aC5yb3VuZCgxMjgvTURXKSkvMjU2ICkqIE1EVyApOyB9XG5mdW5jdGlvbiBweDJjaGFyKHB4KSB7IHJldHVybiAoTWF0aC5mbG9vcigocHggLSA1KS9NRFcgKiAxMDAgKyAwLjUpKS8xMDA7IH1cbmZ1bmN0aW9uIGNoYXIyd2lkdGgoY2hyKSB7IHJldHVybiAoTWF0aC5yb3VuZCgoY2hyICogTURXICsgNSkvTURXKjI1NikpLzI1NjsgfVxuLy9mdW5jdGlvbiBweDJjaGFyXyhweCkgeyByZXR1cm4gKCgocHggLSA1KS9NRFcgKiAxMDAgKyAwLjUpKS8xMDA7IH1cbi8vZnVuY3Rpb24gY2hhcjJ3aWR0aF8oY2hyKSB7IHJldHVybiAoKChjaHIgKiBNRFcgKyA1KS9NRFcqMjU2KSkvMjU2OyB9XG5mdW5jdGlvbiBjeWNsZV93aWR0aChjb2xsdykgeyByZXR1cm4gY2hhcjJ3aWR0aChweDJjaGFyKHdpZHRoMnB4KGNvbGx3KSkpOyB9XG4vKiBYTFNYL1hMU0IvWExTIHNwZWNpZnkgd2lkdGggaW4gdW5pdHMgb2YgTURXICovXG5mdW5jdGlvbiBmaW5kX21kd19jb2x3KGNvbGx3KSB7XG5cdHZhciBkZWx0YSA9IE1hdGguYWJzKGNvbGx3IC0gY3ljbGVfd2lkdGgoY29sbHcpKSwgX01EVyA9IE1EVztcblx0aWYoZGVsdGEgPiAwLjAwNSkgZm9yKE1EVz1NSU5fTURXOyBNRFc8TUFYX01EVzsgKytNRFcpIGlmKE1hdGguYWJzKGNvbGx3IC0gY3ljbGVfd2lkdGgoY29sbHcpKSA8PSBkZWx0YSkgeyBkZWx0YSA9IE1hdGguYWJzKGNvbGx3IC0gY3ljbGVfd2lkdGgoY29sbHcpKTsgX01EVyA9IE1EVzsgfVxuXHRNRFcgPSBfTURXO1xufVxuLyogWExNTCBzcGVjaWZpZXMgd2lkdGggaW4gdGVybXMgb2YgcGl4ZWxzICovXG4vKmZ1bmN0aW9uIGZpbmRfbWR3X3dweCh3cHgpIHtcblx0dmFyIGRlbHRhID0gSW5maW5pdHksIGd1ZXNzID0gMCwgX01EVyA9IE1JTl9NRFc7XG5cdGZvcihNRFc9TUlOX01EVzsgTURXPE1BWF9NRFc7ICsrTURXKSB7XG5cdFx0Z3Vlc3MgPSBjaGFyMndpZHRoXyhweDJjaGFyXyh3cHgpKSoyNTY7XG5cdFx0Z3Vlc3MgPSAoZ3Vlc3MpICUgMTtcblx0XHRpZihndWVzcyA+IDAuNSkgZ3Vlc3MtLTtcblx0XHRpZihNYXRoLmFicyhndWVzcykgPCBkZWx0YSkgeyBkZWx0YSA9IE1hdGguYWJzKGd1ZXNzKTsgX01EVyA9IE1EVzsgfVxuXHR9XG5cdE1EVyA9IF9NRFc7XG59Ki9cblxuZnVuY3Rpb24gcHJvY2Vzc19jb2woY29sbC8qOkNvbEluZm8qLykge1xuXHRpZihjb2xsLndpZHRoKSB7XG5cdFx0Y29sbC53cHggPSB3aWR0aDJweChjb2xsLndpZHRoKTtcblx0XHRjb2xsLndjaCA9IHB4MmNoYXIoY29sbC53cHgpO1xuXHRcdGNvbGwuTURXID0gTURXO1xuXHR9IGVsc2UgaWYoY29sbC53cHgpIHtcblx0XHRjb2xsLndjaCA9IHB4MmNoYXIoY29sbC53cHgpO1xuXHRcdGNvbGwud2lkdGggPSBjaGFyMndpZHRoKGNvbGwud2NoKTtcblx0XHRjb2xsLk1EVyA9IE1EVztcblx0fSBlbHNlIGlmKHR5cGVvZiBjb2xsLndjaCA9PSAnbnVtYmVyJykge1xuXHRcdGNvbGwud2lkdGggPSBjaGFyMndpZHRoKGNvbGwud2NoKTtcblx0XHRjb2xsLndweCA9IHdpZHRoMnB4KGNvbGwud2lkdGgpO1xuXHRcdGNvbGwuTURXID0gTURXO1xuXHR9XG5cdGlmKGNvbGwuY3VzdG9tV2lkdGgpIGRlbGV0ZSBjb2xsLmN1c3RvbVdpZHRoO1xufVxuXG52YXIgREVGX1BQSSA9IDk2LCBQUEkgPSBERUZfUFBJO1xuZnVuY3Rpb24gcHgycHQocHgpIHsgcmV0dXJuIHB4ICogOTYgLyBQUEk7IH1cbmZ1bmN0aW9uIHB0MnB4KHB0KSB7IHJldHVybiBwdCAqIFBQSSAvIDk2OyB9XG5cbi8qIFtNUy1FWFNQWE1MM10gMi40LjU0IFNUX2VubVBhdHRlcm4gKi9cbnZhciBYTE1MUGF0dGVyblR5cGVNYXAgPSB7XG5cdFwiTm9uZVwiOiBcIm5vbmVcIixcblx0XCJTb2xpZFwiOiBcInNvbGlkXCIsXG5cdFwiR3JheTUwXCI6IFwibWVkaXVtR3JheVwiLFxuXHRcIkdyYXk3NVwiOiBcImRhcmtHcmF5XCIsXG5cdFwiR3JheTI1XCI6IFwibGlnaHRHcmF5XCIsXG5cdFwiSG9yelN0cmlwZVwiOiBcImRhcmtIb3Jpem9udGFsXCIsXG5cdFwiVmVydFN0cmlwZVwiOiBcImRhcmtWZXJ0aWNhbFwiLFxuXHRcIlJldmVyc2VEaWFnU3RyaXBlXCI6IFwiZGFya0Rvd25cIixcblx0XCJEaWFnU3RyaXBlXCI6IFwiZGFya1VwXCIsXG5cdFwiRGlhZ0Nyb3NzXCI6IFwiZGFya0dyaWRcIixcblx0XCJUaGlja0RpYWdDcm9zc1wiOiBcImRhcmtUcmVsbGlzXCIsXG5cdFwiVGhpbkhvcnpTdHJpcGVcIjogXCJsaWdodEhvcml6b250YWxcIixcblx0XCJUaGluVmVydFN0cmlwZVwiOiBcImxpZ2h0VmVydGljYWxcIixcblx0XCJUaGluUmV2ZXJzZURpYWdTdHJpcGVcIjogXCJsaWdodERvd25cIixcblx0XCJUaGluSG9yekNyb3NzXCI6IFwibGlnaHRHcmlkXCJcbn07XG5cbi8qIDE4LjguNSBib3JkZXJzIENUX0JvcmRlcnMgKi9cbmZ1bmN0aW9uIHBhcnNlX2JvcmRlcnModCwgc3R5bGVzLCB0aGVtZXMsIG9wdHMpIHtcblx0c3R5bGVzLkJvcmRlcnMgPSBbXTtcblx0dmFyIGJvcmRlciA9IHt9O1xuXHR2YXIgcGFzcyA9IGZhbHNlO1xuXHQodC5tYXRjaCh0YWdyZWdleCl8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHgpIHtcblx0XHR2YXIgeSA9IHBhcnNleG1sdGFnKHgpO1xuXHRcdHN3aXRjaChzdHJpcF9ucyh5WzBdKSkge1xuXHRcdFx0Y2FzZSAnPGJvcmRlcnMnOiBjYXNlICc8Ym9yZGVycz4nOiBjYXNlICc8L2JvcmRlcnM+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguNCBib3JkZXIgQ1RfQm9yZGVyICovXG5cdFx0XHRjYXNlICc8Ym9yZGVyJzogY2FzZSAnPGJvcmRlcj4nOiBjYXNlICc8Ym9yZGVyLz4nOlxuXHRcdFx0XHRib3JkZXIgPSAvKjo6KCove30vKjo6IDphbnkpKi87XG5cdFx0XHRcdGlmKHkuZGlhZ29uYWxVcCkgYm9yZGVyLmRpYWdvbmFsVXAgPSBwYXJzZXhtbGJvb2woeS5kaWFnb25hbFVwKTtcblx0XHRcdFx0aWYoeS5kaWFnb25hbERvd24pIGJvcmRlci5kaWFnb25hbERvd24gPSBwYXJzZXhtbGJvb2woeS5kaWFnb25hbERvd24pO1xuXHRcdFx0XHRzdHlsZXMuQm9yZGVycy5wdXNoKGJvcmRlcik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9ib3JkZXI+JzogYnJlYWs7XG5cblx0XHRcdC8qIG5vdGU6IG5vdCBpbiBzcGVjLCBhcHBlYXJzIHRvIGJlIENUX0JvcmRlclByICovXG5cdFx0XHRjYXNlICc8bGVmdC8+JzogYnJlYWs7XG5cdFx0XHRjYXNlICc8bGVmdCc6IGNhc2UgJzxsZWZ0Pic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9sZWZ0Pic6IGJyZWFrO1xuXG5cdFx0XHQvKiBub3RlOiBub3QgaW4gc3BlYywgYXBwZWFycyB0byBiZSBDVF9Cb3JkZXJQciAqL1xuXHRcdFx0Y2FzZSAnPHJpZ2h0Lz4nOiBicmVhaztcblx0XHRcdGNhc2UgJzxyaWdodCc6IGNhc2UgJzxyaWdodD4nOiBicmVhaztcblx0XHRcdGNhc2UgJzwvcmlnaHQ+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguNDMgdG9wIENUX0JvcmRlclByICovXG5cdFx0XHRjYXNlICc8dG9wLz4nOiBicmVhaztcblx0XHRcdGNhc2UgJzx0b3AnOiBjYXNlICc8dG9wPic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC90b3A+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguNiBib3R0b20gQ1RfQm9yZGVyUHIgKi9cblx0XHRcdGNhc2UgJzxib3R0b20vPic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPGJvdHRvbSc6IGNhc2UgJzxib3R0b20+JzogYnJlYWs7XG5cdFx0XHRjYXNlICc8L2JvdHRvbT4nOiBicmVhaztcblxuXHRcdFx0LyogMTguOC4xMyBkaWFnb25hbCBDVF9Cb3JkZXJQciAqL1xuXHRcdFx0Y2FzZSAnPGRpYWdvbmFsJzogY2FzZSAnPGRpYWdvbmFsPic6IGNhc2UgJzxkaWFnb25hbC8+JzogYnJlYWs7XG5cdFx0XHRjYXNlICc8L2RpYWdvbmFsPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjI1IGhvcml6b250YWwgQ1RfQm9yZGVyUHIgKi9cblx0XHRcdGNhc2UgJzxob3Jpem9udGFsJzogY2FzZSAnPGhvcml6b250YWw+JzogY2FzZSAnPGhvcml6b250YWwvPic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9ob3Jpem9udGFsPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjQ0IHZlcnRpY2FsIENUX0JvcmRlclByICovXG5cdFx0XHRjYXNlICc8dmVydGljYWwnOiBjYXNlICc8dmVydGljYWw+JzogY2FzZSAnPHZlcnRpY2FsLz4nOiBicmVhaztcblx0XHRcdGNhc2UgJzwvdmVydGljYWw+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguMzcgc3RhcnQgQ1RfQm9yZGVyUHIgKi9cblx0XHRcdGNhc2UgJzxzdGFydCc6IGNhc2UgJzxzdGFydD4nOiBjYXNlICc8c3RhcnQvPic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9zdGFydD4nOiBicmVhaztcblxuXHRcdFx0LyogMTguOC4xNiBlbmQgQ1RfQm9yZGVyUHIgKi9cblx0XHRcdGNhc2UgJzxlbmQnOiBjYXNlICc8ZW5kPic6IGNhc2UgJzxlbmQvPic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9lbmQ+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguPyBjb2xvciBDVF9Db2xvciAqL1xuXHRcdFx0Y2FzZSAnPGNvbG9yJzogY2FzZSAnPGNvbG9yPic6XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnPGNvbG9yLz4nOiBjYXNlICc8L2NvbG9yPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjEwIGV4dExzdCBDVF9FeHRlbnNpb25MaXN0ID8gKi9cblx0XHRcdGNhc2UgJzxleHRMc3QnOiBjYXNlICc8ZXh0THN0Pic6IGNhc2UgJzwvZXh0THN0Pic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPGV4dCc6IHBhc3MgPSB0cnVlOyBicmVhaztcblx0XHRcdGNhc2UgJzwvZXh0Pic6IHBhc3MgPSBmYWxzZTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiBpZihvcHRzICYmIG9wdHMuV1RGKSB7XG5cdFx0XHRcdGlmKCFwYXNzKSB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCAnICsgeVswXSArICcgaW4gYm9yZGVycycpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbi8qIDE4LjguMjEgZmlsbHMgQ1RfRmlsbHMgKi9cbmZ1bmN0aW9uIHBhcnNlX2ZpbGxzKHQsIHN0eWxlcywgdGhlbWVzLCBvcHRzKSB7XG5cdHN0eWxlcy5GaWxscyA9IFtdO1xuXHR2YXIgZmlsbCA9IHt9O1xuXHR2YXIgcGFzcyA9IGZhbHNlO1xuXHQodC5tYXRjaCh0YWdyZWdleCl8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHgpIHtcblx0XHR2YXIgeSA9IHBhcnNleG1sdGFnKHgpO1xuXHRcdHN3aXRjaChzdHJpcF9ucyh5WzBdKSkge1xuXHRcdFx0Y2FzZSAnPGZpbGxzJzogY2FzZSAnPGZpbGxzPic6IGNhc2UgJzwvZmlsbHM+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguMjAgZmlsbCBDVF9GaWxsICovXG5cdFx0XHRjYXNlICc8ZmlsbD4nOiBjYXNlICc8ZmlsbCc6IGNhc2UgJzxmaWxsLz4nOlxuXHRcdFx0XHRmaWxsID0ge307IHN0eWxlcy5GaWxscy5wdXNoKGZpbGwpOyBicmVhaztcblx0XHRcdGNhc2UgJzwvZmlsbD4nOiBicmVhaztcblxuXHRcdFx0LyogMTguOC4yNCBncmFkaWVudEZpbGwgQ1RfR3JhZGllbnRGaWxsICovXG5cdFx0XHRjYXNlICc8Z3JhZGllbnRGaWxsPic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPGdyYWRpZW50RmlsbCc6XG5cdFx0XHRjYXNlICc8L2dyYWRpZW50RmlsbD4nOiBzdHlsZXMuRmlsbHMucHVzaChmaWxsKTsgZmlsbCA9IHt9OyBicmVhaztcblxuXHRcdFx0LyogMTguOC4zMiBwYXR0ZXJuRmlsbCBDVF9QYXR0ZXJuRmlsbCAqL1xuXHRcdFx0Y2FzZSAnPHBhdHRlcm5GaWxsJzogY2FzZSAnPHBhdHRlcm5GaWxsPic6XG5cdFx0XHRcdGlmKHkucGF0dGVyblR5cGUpIGZpbGwucGF0dGVyblR5cGUgPSB5LnBhdHRlcm5UeXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJzxwYXR0ZXJuRmlsbC8+JzogY2FzZSAnPC9wYXR0ZXJuRmlsbD4nOiBicmVhaztcblxuXHRcdFx0LyogMTguOC4zIGJnQ29sb3IgQ1RfQ29sb3IgKi9cblx0XHRcdGNhc2UgJzxiZ0NvbG9yJzpcblx0XHRcdFx0aWYoIWZpbGwuYmdDb2xvcikgZmlsbC5iZ0NvbG9yID0ge307XG5cdFx0XHRcdGlmKHkuaW5kZXhlZCkgZmlsbC5iZ0NvbG9yLmluZGV4ZWQgPSBwYXJzZUludCh5LmluZGV4ZWQsIDEwKTtcblx0XHRcdFx0aWYoeS50aGVtZSkgZmlsbC5iZ0NvbG9yLnRoZW1lID0gcGFyc2VJbnQoeS50aGVtZSwgMTApO1xuXHRcdFx0XHRpZih5LnRpbnQpIGZpbGwuYmdDb2xvci50aW50ID0gcGFyc2VGbG9hdCh5LnRpbnQpO1xuXHRcdFx0XHQvKiBFeGNlbCB1c2VzIEFSR0Igc3RyaW5ncyAqL1xuXHRcdFx0XHRpZih5LnJnYikgZmlsbC5iZ0NvbG9yLnJnYiA9IHkucmdiLnNsaWNlKC02KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICc8YmdDb2xvci8+JzogY2FzZSAnPC9iZ0NvbG9yPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjE5IGZnQ29sb3IgQ1RfQ29sb3IgKi9cblx0XHRcdGNhc2UgJzxmZ0NvbG9yJzpcblx0XHRcdFx0aWYoIWZpbGwuZmdDb2xvcikgZmlsbC5mZ0NvbG9yID0ge307XG5cdFx0XHRcdGlmKHkudGhlbWUpIGZpbGwuZmdDb2xvci50aGVtZSA9IHBhcnNlSW50KHkudGhlbWUsIDEwKTtcblx0XHRcdFx0aWYoeS50aW50KSBmaWxsLmZnQ29sb3IudGludCA9IHBhcnNlRmxvYXQoeS50aW50KTtcblx0XHRcdFx0LyogRXhjZWwgdXNlcyBBUkdCIHN0cmluZ3MgKi9cblx0XHRcdFx0aWYoeS5yZ2IgIT0gbnVsbCkgZmlsbC5mZ0NvbG9yLnJnYiA9IHkucmdiLnNsaWNlKC02KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICc8ZmdDb2xvci8+JzogY2FzZSAnPC9mZ0NvbG9yPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjM4IHN0b3AgQ1RfR3JhZGllbnRTdG9wICovXG5cdFx0XHRjYXNlICc8c3RvcCc6IGNhc2UgJzxzdG9wLz4nOiBicmVhaztcblx0XHRcdGNhc2UgJzwvc3RvcD4nOiBicmVhaztcblxuXHRcdFx0LyogMTguOC4/IGNvbG9yIENUX0NvbG9yICovXG5cdFx0XHRjYXNlICc8Y29sb3InOiBjYXNlICc8Y29sb3IvPic6IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9jb2xvcj4nOiBicmVhaztcblxuXHRcdFx0LyogMTguMi4xMCBleHRMc3QgQ1RfRXh0ZW5zaW9uTGlzdCA/ICovXG5cdFx0XHRjYXNlICc8ZXh0THN0JzogY2FzZSAnPGV4dExzdD4nOiBjYXNlICc8L2V4dExzdD4nOiBicmVhaztcblx0XHRcdGNhc2UgJzxleHQnOiBwYXNzID0gdHJ1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L2V4dD4nOiBwYXNzID0gZmFsc2U7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogaWYob3B0cyAmJiBvcHRzLldURikge1xuXHRcdFx0XHRpZighcGFzcykgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgJyArIHlbMF0gKyAnIGluIGZpbGxzJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuLyogMTguOC4yMyBmb250cyBDVF9Gb250cyAqL1xuZnVuY3Rpb24gcGFyc2VfZm9udHModCwgc3R5bGVzLCB0aGVtZXMsIG9wdHMpIHtcblx0c3R5bGVzLkZvbnRzID0gW107XG5cdHZhciBmb250ID0ge307XG5cdHZhciBwYXNzID0gZmFsc2U7XG5cdCh0Lm1hdGNoKHRhZ3JlZ2V4KXx8W10pLmZvckVhY2goZnVuY3Rpb24oeCkge1xuXHRcdHZhciB5ID0gcGFyc2V4bWx0YWcoeCk7XG5cdFx0c3dpdGNoKHN0cmlwX25zKHlbMF0pKSB7XG5cdFx0XHRjYXNlICc8Zm9udHMnOiBjYXNlICc8Zm9udHM+JzogY2FzZSAnPC9mb250cz4nOiBicmVhaztcblxuXHRcdFx0LyogMTguOC4yMiBmb250IENUX0ZvbnQgKi9cblx0XHRcdGNhc2UgJzxmb250JzogY2FzZSAnPGZvbnQ+JzogYnJlYWs7XG5cdFx0XHRjYXNlICc8L2ZvbnQ+JzogY2FzZSAnPGZvbnQvPic6XG5cdFx0XHRcdHN0eWxlcy5Gb250cy5wdXNoKGZvbnQpO1xuXHRcdFx0XHRmb250ID0ge307XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjI5IG5hbWUgQ1RfRm9udE5hbWUgKi9cblx0XHRcdGNhc2UgJzxuYW1lJzogaWYoeS52YWwpIGZvbnQubmFtZSA9IHV0ZjhyZWFkKHkudmFsKTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8bmFtZS8+JzogY2FzZSAnPC9uYW1lPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjIgIGIgQ1RfQm9vbGVhblByb3BlcnR5ICovXG5cdFx0XHRjYXNlICc8Yic6IGZvbnQuYm9sZCA9IHkudmFsID8gcGFyc2V4bWxib29sKHkudmFsKSA6IDE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPGIvPic6IGZvbnQuYm9sZCA9IDE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9iPic6IGNhc2UgJzwvYic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjI2IGkgQ1RfQm9vbGVhblByb3BlcnR5ICovXG5cdFx0XHRjYXNlICc8aSc6IGZvbnQuaXRhbGljID0geS52YWwgPyBwYXJzZXhtbGJvb2woeS52YWwpIDogMTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8aS8+JzogZm9udC5pdGFsaWMgPSAxOyBicmVhaztcblx0XHRcdGNhc2UgJzwvaT4nOiBjYXNlICc8L2knOiBicmVhaztcblxuXHRcdFx0LyogMTguNC4xMyB1IENUX1VuZGVybGluZVByb3BlcnR5ICovXG5cdFx0XHRjYXNlICc8dSc6XG5cdFx0XHRcdHN3aXRjaCh5LnZhbCkge1xuXHRcdFx0XHRcdGNhc2UgXCJub25lXCI6IGZvbnQudW5kZXJsaW5lID0gMHgwMDsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcInNpbmdsZVwiOiBmb250LnVuZGVybGluZSA9IDB4MDE7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJkb3VibGVcIjogZm9udC51bmRlcmxpbmUgPSAweDAyOyBicmVhaztcblx0XHRcdFx0XHRjYXNlIFwic2luZ2xlQWNjb3VudGluZ1wiOiBmb250LnVuZGVybGluZSA9IDB4MjE7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJkb3VibGVBY2NvdW50aW5nXCI6IGZvbnQudW5kZXJsaW5lID0gMHgyMjsgYnJlYWs7XG5cdFx0XHRcdH0gYnJlYWs7XG5cdFx0XHRjYXNlICc8dS8+JzogZm9udC51bmRlcmxpbmUgPSAxOyBicmVhaztcblx0XHRcdGNhc2UgJzwvdT4nOiBjYXNlICc8L3UnOiBicmVhaztcblxuXHRcdFx0LyogMTguNC4xMCBzdHJpa2UgQ1RfQm9vbGVhblByb3BlcnR5ICovXG5cdFx0XHRjYXNlICc8c3RyaWtlJzogZm9udC5zdHJpa2UgPSB5LnZhbCA/IHBhcnNleG1sYm9vbCh5LnZhbCkgOiAxOyBicmVhaztcblx0XHRcdGNhc2UgJzxzdHJpa2UvPic6IGZvbnQuc3RyaWtlID0gMTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L3N0cmlrZT4nOiBjYXNlICc8L3N0cmlrZSc6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC40LjIgIG91dGxpbmUgQ1RfQm9vbGVhblByb3BlcnR5ICovXG5cdFx0XHRjYXNlICc8b3V0bGluZSc6IGZvbnQub3V0bGluZSA9IHkudmFsID8gcGFyc2V4bWxib29sKHkudmFsKSA6IDE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPG91dGxpbmUvPic6IGZvbnQub3V0bGluZSA9IDE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9vdXRsaW5lPic6IGNhc2UgJzwvb3V0bGluZSc6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjM2IHNoYWRvdyBDVF9Cb29sZWFuUHJvcGVydHkgKi9cblx0XHRcdGNhc2UgJzxzaGFkb3cnOiBmb250LnNoYWRvdyA9IHkudmFsID8gcGFyc2V4bWxib29sKHkudmFsKSA6IDE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPHNoYWRvdy8+JzogZm9udC5zaGFkb3cgPSAxOyBicmVhaztcblx0XHRcdGNhc2UgJzwvc2hhZG93Pic6IGNhc2UgJzwvc2hhZG93JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguMTIgY29uZGVuc2UgQ1RfQm9vbGVhblByb3BlcnR5ICovXG5cdFx0XHRjYXNlICc8Y29uZGVuc2UnOiBmb250LmNvbmRlbnNlID0geS52YWwgPyBwYXJzZXhtbGJvb2woeS52YWwpIDogMTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8Y29uZGVuc2UvPic6IGZvbnQuY29uZGVuc2UgPSAxOyBicmVhaztcblx0XHRcdGNhc2UgJzwvY29uZGVuc2U+JzogY2FzZSAnPC9jb25kZW5zZSc6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjE3IGV4dGVuZCBDVF9Cb29sZWFuUHJvcGVydHkgKi9cblx0XHRcdGNhc2UgJzxleHRlbmQnOiBmb250LmV4dGVuZCA9IHkudmFsID8gcGFyc2V4bWxib29sKHkudmFsKSA6IDE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPGV4dGVuZC8+JzogZm9udC5leHRlbmQgPSAxOyBicmVhaztcblx0XHRcdGNhc2UgJzwvZXh0ZW5kPic6IGNhc2UgJzwvZXh0ZW5kJzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjQuMTEgc3ogQ1RfRm9udFNpemUgKi9cblx0XHRcdGNhc2UgJzxzeic6IGlmKHkudmFsKSBmb250LnN6ID0gK3kudmFsOyBicmVhaztcblx0XHRcdGNhc2UgJzxzei8+JzogY2FzZSAnPC9zej4nOiBjYXNlICc8L3N6JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjQuMTQgdmVydEFsaWduIENUX1ZlcnRpY2FsQWxpZ25Gb250UHJvcGVydHkgKi9cblx0XHRcdGNhc2UgJzx2ZXJ0QWxpZ24nOiBpZih5LnZhbCkgZm9udC52ZXJ0QWxpZ24gPSB5LnZhbDsgYnJlYWs7XG5cdFx0XHRjYXNlICc8dmVydEFsaWduLz4nOiBjYXNlICc8L3ZlcnRBbGlnbj4nOiBjYXNlICc8L3ZlcnRBbGlnbic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjE4IGZhbWlseSBDVF9Gb250RmFtaWx5ICovXG5cdFx0XHRjYXNlICc8ZmFtaWx5JzogaWYoeS52YWwpIGZvbnQuZmFtaWx5ID0gcGFyc2VJbnQoeS52YWwsMTApOyBicmVhaztcblx0XHRcdGNhc2UgJzxmYW1pbHkvPic6IGNhc2UgJzwvZmFtaWx5Pic6IGNhc2UgJzwvZmFtaWx5JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguMzUgc2NoZW1lIENUX0ZvbnRTY2hlbWUgKi9cblx0XHRcdGNhc2UgJzxzY2hlbWUnOiBpZih5LnZhbCkgZm9udC5zY2hlbWUgPSB5LnZhbDsgYnJlYWs7XG5cdFx0XHRjYXNlICc8c2NoZW1lLz4nOiBjYXNlICc8L3NjaGVtZT4nOiBjYXNlICc8L3NjaGVtZSc6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC40LjEgY2hhcnNldCBDVF9JbnRQcm9wZXJ0eSAqL1xuXHRcdFx0Y2FzZSAnPGNoYXJzZXQnOlxuXHRcdFx0XHRpZih5LnZhbCA9PSAnMScpIGJyZWFrO1xuXHRcdFx0XHR5LmNvZGVwYWdlID0gQ1MyQ1BbcGFyc2VJbnQoeS52YWwsIDEwKV07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnPGNoYXJzZXQvPic6IGNhc2UgJzwvY2hhcnNldD4nOiBjYXNlICc8L2NoYXJzZXQnOiBicmVhaztcblxuXHRcdFx0LyogMTguPy4/IGNvbG9yIENUX0NvbG9yICovXG5cdFx0XHRjYXNlICc8Y29sb3InOlxuXHRcdFx0XHRpZighZm9udC5jb2xvcikgZm9udC5jb2xvciA9IHt9O1xuXHRcdFx0XHRpZih5LmF1dG8pIGZvbnQuY29sb3IuYXV0byA9IHBhcnNleG1sYm9vbCh5LmF1dG8pO1xuXG5cdFx0XHRcdGlmKHkucmdiKSBmb250LmNvbG9yLnJnYiA9IHkucmdiLnNsaWNlKC02KTtcblx0XHRcdFx0ZWxzZSBpZih5LmluZGV4ZWQpIHtcblx0XHRcdFx0XHRmb250LmNvbG9yLmluZGV4ID0gcGFyc2VJbnQoeS5pbmRleGVkLCAxMCk7XG5cdFx0XHRcdFx0dmFyIGljdiA9IFhMU0ljdltmb250LmNvbG9yLmluZGV4XTtcblx0XHRcdFx0XHRpZihmb250LmNvbG9yLmluZGV4ID09IDgxKSBpY3YgPSBYTFNJY3ZbMV07XG5cdFx0XHRcdFx0aWYoIWljdikgaWN2ID0gWExTSWN2WzFdOyAvL3Rocm93IG5ldyBFcnJvcih4KTsgLy8gbm90ZTogMjA2IGlzIHZhbGlkXG5cdFx0XHRcdFx0Zm9udC5jb2xvci5yZ2IgPSBpY3ZbMF0udG9TdHJpbmcoMTYpICsgaWN2WzFdLnRvU3RyaW5nKDE2KSArIGljdlsyXS50b1N0cmluZygxNik7XG5cdFx0XHRcdH0gZWxzZSBpZih5LnRoZW1lKSB7XG5cdFx0XHRcdFx0Zm9udC5jb2xvci50aGVtZSA9IHBhcnNlSW50KHkudGhlbWUsIDEwKTtcblx0XHRcdFx0XHRpZih5LnRpbnQpIGZvbnQuY29sb3IudGludCA9IHBhcnNlRmxvYXQoeS50aW50KTtcblx0XHRcdFx0XHRpZih5LnRoZW1lICYmIHRoZW1lcy50aGVtZUVsZW1lbnRzICYmIHRoZW1lcy50aGVtZUVsZW1lbnRzLmNsclNjaGVtZSkge1xuXHRcdFx0XHRcdFx0Zm9udC5jb2xvci5yZ2IgPSByZ2JfdGludCh0aGVtZXMudGhlbWVFbGVtZW50cy5jbHJTY2hlbWVbZm9udC5jb2xvci50aGVtZV0ucmdiLCBmb250LmNvbG9yLnRpbnQgfHwgMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICc8Y29sb3IvPic6IGNhc2UgJzwvY29sb3I+JzogY2FzZSAnPC9jb2xvcic6IGJyZWFrO1xuXG5cdFx0XHQvKiBub3RlOiBzb21ldGltZXMgbWM6QWx0ZXJuYXRlQ29udGVudCBhcHBlYXJzIGJhcmUgKi9cblx0XHRcdGNhc2UgJzxBbHRlcm5hdGVDb250ZW50JzogcGFzcyA9IHRydWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9BbHRlcm5hdGVDb250ZW50Pic6IGNhc2UgJzwvQWx0ZXJuYXRlQ29udGVudCc6IHBhc3MgPSBmYWxzZTsgYnJlYWs7XG5cblx0XHRcdC8qIDE4LjIuMTAgZXh0THN0IENUX0V4dGVuc2lvbkxpc3QgPyAqL1xuXHRcdFx0Y2FzZSAnPGV4dExzdCc6IGNhc2UgJzxleHRMc3Q+JzogY2FzZSAnPC9leHRMc3Q+JzogYnJlYWs7XG5cdFx0XHRjYXNlICc8ZXh0JzogcGFzcyA9IHRydWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9leHQ+JzogcGFzcyA9IGZhbHNlOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IGlmKG9wdHMgJiYgb3B0cy5XVEYpIHtcblx0XHRcdFx0aWYoIXBhc3MpIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkICcgKyB5WzBdICsgJyBpbiBmb250cycpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbi8qIDE4LjguMzEgbnVtRm10cyBDVF9OdW1GbXRzICovXG5mdW5jdGlvbiBwYXJzZV9udW1GbXRzKHQsIHN0eWxlcywgb3B0cykge1xuXHRzdHlsZXMuTnVtYmVyRm10ID0gW107XG5cdHZhciBrLypBcnJheTxudW1iZXI+Ki8gPSAoa2V5cyh0YWJsZV9mbXQpLyo6YW55Ki8pO1xuXHRmb3IodmFyIGk9MDsgaSA8IGsubGVuZ3RoOyArK2kpIHN0eWxlcy5OdW1iZXJGbXRba1tpXV0gPSB0YWJsZV9mbXRba1tpXV07XG5cdHZhciBtID0gdC5tYXRjaCh0YWdyZWdleCk7XG5cdGlmKCFtKSByZXR1cm47XG5cdGZvcihpPTA7IGkgPCBtLmxlbmd0aDsgKytpKSB7XG5cdFx0dmFyIHkgPSBwYXJzZXhtbHRhZyhtW2ldKTtcblx0XHRzd2l0Y2goc3RyaXBfbnMoeVswXSkpIHtcblx0XHRcdGNhc2UgJzxudW1GbXRzJzogY2FzZSAnPC9udW1GbXRzPic6IGNhc2UgJzxudW1GbXRzLz4nOiBjYXNlICc8bnVtRm10cz4nOiBicmVhaztcblx0XHRcdGNhc2UgJzxudW1GbXQnOiB7XG5cdFx0XHRcdHZhciBmPXVuZXNjYXBleG1sKHV0ZjhyZWFkKHkuZm9ybWF0Q29kZSkpLCBqPXBhcnNlSW50KHkubnVtRm10SWQsMTApO1xuXHRcdFx0XHRzdHlsZXMuTnVtYmVyRm10W2pdID0gZjtcblx0XHRcdFx0aWYoaj4wKSB7XG5cdFx0XHRcdFx0aWYoaiA+IDB4MTg4KSB7XG5cdFx0XHRcdFx0XHRmb3IoaiA9IDB4MTg4OyBqID4gMHgzYzsgLS1qKSBpZihzdHlsZXMuTnVtYmVyRm10W2pdID09IG51bGwpIGJyZWFrO1xuXHRcdFx0XHRcdFx0c3R5bGVzLk51bWJlckZtdFtqXSA9IGY7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFNTRl9fbG9hZChmLGopO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9udW1GbXQ+JzogYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiBpZihvcHRzLldURikgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgJyArIHlbMF0gKyAnIGluIG51bUZtdHMnKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gd3JpdGVfbnVtRm10cyhORi8qOntbbjpudW1iZXJ8c3RyaW5nXTpzdHJpbmd9Ki8vKjo6LCBvcHRzKi8pIHtcblx0dmFyIG8gPSBbXCI8bnVtRm10cz5cIl07XG5cdFtbNSw4XSxbMjMsMjZdLFs0MSw0NF0sWy8qNjMqLzUwLC8qNjZdLFsxNjQsKi8zOTJdXS5mb3JFYWNoKGZ1bmN0aW9uKHIpIHtcblx0XHRmb3IodmFyIGkgPSByWzBdOyBpIDw9IHJbMV07ICsraSkgaWYoTkZbaV0gIT0gbnVsbCkgb1tvLmxlbmd0aF0gPSAod3JpdGV4dGFnKCdudW1GbXQnLG51bGwse251bUZtdElkOmksZm9ybWF0Q29kZTplc2NhcGV4bWwoTkZbaV0pfSkpO1xuXHR9KTtcblx0aWYoby5sZW5ndGggPT09IDEpIHJldHVybiBcIlwiO1xuXHRvW28ubGVuZ3RoXSA9IChcIjwvbnVtRm10cz5cIik7XG5cdG9bMF0gPSB3cml0ZXh0YWcoJ251bUZtdHMnLCBudWxsLCB7IGNvdW50Om8ubGVuZ3RoLTIgfSkucmVwbGFjZShcIi8+XCIsIFwiPlwiKTtcblx0cmV0dXJuIG8uam9pbihcIlwiKTtcbn1cblxuLyogMTguOC4xMCBjZWxsWGZzIENUX0NlbGxYZnMgKi9cbnZhciBjZWxsWEZfdWludCA9IFsgXCJudW1GbXRJZFwiLCBcImZpbGxJZFwiLCBcImZvbnRJZFwiLCBcImJvcmRlcklkXCIsIFwieGZJZFwiIF07XG52YXIgY2VsbFhGX2Jvb2wgPSBbIFwiYXBwbHlBbGlnbm1lbnRcIiwgXCJhcHBseUJvcmRlclwiLCBcImFwcGx5RmlsbFwiLCBcImFwcGx5Rm9udFwiLCBcImFwcGx5TnVtYmVyRm9ybWF0XCIsIFwiYXBwbHlQcm90ZWN0aW9uXCIsIFwicGl2b3RCdXR0b25cIiwgXCJxdW90ZVByZWZpeFwiIF07XG5mdW5jdGlvbiBwYXJzZV9jZWxsWGZzKHQsIHN0eWxlcywgb3B0cykge1xuXHRzdHlsZXMuQ2VsbFhmID0gW107XG5cdHZhciB4Zjtcblx0dmFyIHBhc3MgPSBmYWxzZTtcblx0KHQubWF0Y2godGFncmVnZXgpfHxbXSkuZm9yRWFjaChmdW5jdGlvbih4KSB7XG5cdFx0dmFyIHkgPSBwYXJzZXhtbHRhZyh4KSwgaSA9IDA7XG5cdFx0c3dpdGNoKHN0cmlwX25zKHlbMF0pKSB7XG5cdFx0XHRjYXNlICc8Y2VsbFhmcyc6IGNhc2UgJzxjZWxsWGZzPic6IGNhc2UgJzxjZWxsWGZzLz4nOiBjYXNlICc8L2NlbGxYZnM+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguNDUgeGYgQ1RfWGYgKi9cblx0XHRcdGNhc2UgJzx4Zic6IGNhc2UgJzx4Zi8+JzogY2FzZSAnPHhmPic6XG5cdFx0XHRcdHhmID0geTtcblx0XHRcdFx0ZGVsZXRlIHhmWzBdO1xuXHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBjZWxsWEZfdWludC5sZW5ndGg7ICsraSkgaWYoeGZbY2VsbFhGX3VpbnRbaV1dKVxuXHRcdFx0XHRcdHhmW2NlbGxYRl91aW50W2ldXSA9IHBhcnNlSW50KHhmW2NlbGxYRl91aW50W2ldXSwgMTApO1xuXHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBjZWxsWEZfYm9vbC5sZW5ndGg7ICsraSkgaWYoeGZbY2VsbFhGX2Jvb2xbaV1dKVxuXHRcdFx0XHRcdHhmW2NlbGxYRl9ib29sW2ldXSA9IHBhcnNleG1sYm9vbCh4ZltjZWxsWEZfYm9vbFtpXV0pO1xuXHRcdFx0XHRpZihzdHlsZXMuTnVtYmVyRm10ICYmIHhmLm51bUZtdElkID4gMHgxODgpIHtcblx0XHRcdFx0XHRmb3IoaSA9IDB4MTg4OyBpID4gMHgzYzsgLS1pKSBpZihzdHlsZXMuTnVtYmVyRm10W3hmLm51bUZtdElkXSA9PSBzdHlsZXMuTnVtYmVyRm10W2ldKSB7IHhmLm51bUZtdElkID0gaTsgYnJlYWs7IH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzdHlsZXMuQ2VsbFhmLnB1c2goeGYpOyBicmVhaztcblx0XHRcdGNhc2UgJzwveGY+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjguMSBhbGlnbm1lbnQgQ1RfQ2VsbEFsaWdubWVudCAqL1xuXHRcdFx0Y2FzZSAnPGFsaWdubWVudCc6IGNhc2UgJzxhbGlnbm1lbnQvPic6IGNhc2UgJzxhbGlnbm1lbnQ+Jzpcblx0XHRcdFx0dmFyIGFsaWdubWVudCA9IHt9O1xuXHRcdFx0XHRpZih5LnZlcnRpY2FsKSBhbGlnbm1lbnQudmVydGljYWwgPSB5LnZlcnRpY2FsO1xuXHRcdFx0XHRpZih5Lmhvcml6b250YWwpIGFsaWdubWVudC5ob3Jpem9udGFsID0geS5ob3Jpem9udGFsO1xuXHRcdFx0XHRpZih5LnRleHRSb3RhdGlvbiAhPSBudWxsKSBhbGlnbm1lbnQudGV4dFJvdGF0aW9uID0geS50ZXh0Um90YXRpb247XG5cdFx0XHRcdGlmKHkuaW5kZW50KSBhbGlnbm1lbnQuaW5kZW50ID0geS5pbmRlbnQ7XG5cdFx0XHRcdGlmKHkud3JhcFRleHQpIGFsaWdubWVudC53cmFwVGV4dCA9IHBhcnNleG1sYm9vbCh5LndyYXBUZXh0KTtcblx0XHRcdFx0eGYuYWxpZ25tZW50ID0gYWxpZ25tZW50O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJzwvYWxpZ25tZW50Pic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC44LjMzIHByb3RlY3Rpb24gQ1RfQ2VsbFByb3RlY3Rpb24gKi9cblx0XHRcdGNhc2UgJzxwcm90ZWN0aW9uJzogY2FzZSAnPHByb3RlY3Rpb24+Jzpcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICc8L3Byb3RlY3Rpb24+JzogY2FzZSAnPHByb3RlY3Rpb24vPic6IGJyZWFrO1xuXG5cdFx0XHQvKiBub3RlOiBzb21ldGltZXMgbWM6QWx0ZXJuYXRlQ29udGVudCBhcHBlYXJzIGJhcmUgKi9cblx0XHRcdGNhc2UgJzxBbHRlcm5hdGVDb250ZW50JzogY2FzZSAnPEFsdGVybmF0ZUNvbnRlbnQ+JzogcGFzcyA9IHRydWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9BbHRlcm5hdGVDb250ZW50Pic6IHBhc3MgPSBmYWxzZTsgYnJlYWs7XG5cblx0XHRcdC8qIDE4LjIuMTAgZXh0THN0IENUX0V4dGVuc2lvbkxpc3QgPyAqL1xuXHRcdFx0Y2FzZSAnPGV4dExzdCc6IGNhc2UgJzxleHRMc3Q+JzogY2FzZSAnPC9leHRMc3Q+JzogYnJlYWs7XG5cdFx0XHRjYXNlICc8ZXh0JzogcGFzcyA9IHRydWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9leHQ+JzogcGFzcyA9IGZhbHNlOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IGlmKG9wdHMgJiYgb3B0cy5XVEYpIHtcblx0XHRcdFx0aWYoIXBhc3MpIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkICcgKyB5WzBdICsgJyBpbiBjZWxsWGZzJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfY2VsbFhmcyhjZWxsWGZzKS8qOnN0cmluZyovIHtcblx0dmFyIG8vKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0b1tvLmxlbmd0aF0gPSAod3JpdGV4dGFnKCdjZWxsWGZzJyxudWxsKSk7XG5cdGNlbGxYZnMuZm9yRWFjaChmdW5jdGlvbihjKSB7XG5cdFx0b1tvLmxlbmd0aF0gPSAod3JpdGV4dGFnKCd4ZicsIG51bGwsIGMpKTtcblx0fSk7XG5cdG9bby5sZW5ndGhdID0gKFwiPC9jZWxsWGZzPlwiKTtcblx0aWYoby5sZW5ndGggPT09IDIpIHJldHVybiBcIlwiO1xuXHRvWzBdID0gd3JpdGV4dGFnKCdjZWxsWGZzJyxudWxsLCB7Y291bnQ6by5sZW5ndGgtMn0pLnJlcGxhY2UoXCIvPlwiLFwiPlwiKTtcblx0cmV0dXJuIG8uam9pbihcIlwiKTtcbn1cblxuLyogMTguOCBTdHlsZXMgQ1RfU3R5bGVzaGVldCovXG52YXIgcGFyc2Vfc3R5X3htbD0gLyojX19QVVJFX18qLyhmdW5jdGlvbiBtYWtlX3BzdHl4KCkge1xuXG5yZXR1cm4gZnVuY3Rpb24gcGFyc2Vfc3R5X3htbChkYXRhLCB0aGVtZXMsIG9wdHMpIHtcblx0dmFyIHN0eWxlcyA9IHt9O1xuXHRpZighZGF0YSkgcmV0dXJuIHN0eWxlcztcblx0ZGF0YSA9IHJlbW92ZV9kb2N0eXBlKHN0cl9yZW1vdmVfbmcoZGF0YSwgXCI8IS0tXCIsIFwiLS0+XCIpKTtcblx0LyogMTguOC4zOSBzdHlsZVNoZWV0IENUX1N0eWxlc2hlZXQgKi9cblx0dmFyIHQ7XG5cblx0LyogMTguOC4zMSBudW1GbXRzIENUX051bUZtdHMgPyAqL1xuXHRpZigodD1zdHJfbWF0Y2hfeG1sX25zKGRhdGEsIFwibnVtRm10c1wiKSkpIHBhcnNlX251bUZtdHModFswXSwgc3R5bGVzLCBvcHRzKTtcblxuXHQvKiAxOC44LjIzIGZvbnRzIENUX0ZvbnRzID8gKi9cblx0aWYoKHQ9c3RyX21hdGNoX3htbF9ucyhkYXRhLCBcImZvbnRzXCIpKSkgcGFyc2VfZm9udHModFswXSwgc3R5bGVzLCB0aGVtZXMsIG9wdHMpO1xuXG5cdC8qIDE4LjguMjEgZmlsbHMgQ1RfRmlsbHMgPyAqL1xuXHRpZigodD1zdHJfbWF0Y2hfeG1sX25zKGRhdGEsIFwiZmlsbHNcIikpKSBwYXJzZV9maWxscyh0WzBdLCBzdHlsZXMsIHRoZW1lcywgb3B0cyk7XG5cblx0LyogMTguOC41ICBib3JkZXJzIENUX0JvcmRlcnMgPyAqL1xuXHRpZigodD1zdHJfbWF0Y2hfeG1sX25zKGRhdGEsIFwiYm9yZGVyc1wiKSkpIHBhcnNlX2JvcmRlcnModFswXSwgc3R5bGVzLCB0aGVtZXMsIG9wdHMpO1xuXG5cdC8qIDE4LjguOSAgY2VsbFN0eWxlWGZzIENUX0NlbGxTdHlsZVhmcyA/ICovXG5cdC8qIDE4LjguOCAgY2VsbFN0eWxlcyBDVF9DZWxsU3R5bGVzID8gKi9cblxuXHQvKiAxOC44LjEwIGNlbGxYZnMgQ1RfQ2VsbFhmcyA/ICovXG5cdGlmKCh0PXN0cl9tYXRjaF94bWxfbnMoZGF0YSwgXCJjZWxsWGZzXCIpKSkgcGFyc2VfY2VsbFhmcyh0WzBdLCBzdHlsZXMsIG9wdHMpO1xuXG5cdC8qIDE4LjguMTUgZHhmcyBDVF9EeGZzID8gKi9cblx0LyogMTguOC40MiB0YWJsZVN0eWxlcyBDVF9UYWJsZVN0eWxlcyA/ICovXG5cdC8qIDE4LjguMTEgY29sb3JzIENUX0NvbG9ycyA/ICovXG5cdC8qIDE4LjIuMTAgZXh0THN0IENUX0V4dGVuc2lvbkxpc3QgPyAqL1xuXG5cdHJldHVybiBzdHlsZXM7XG59O1xufSkoKTtcblxuZnVuY3Rpb24gd3JpdGVfc3R5X3htbCh3Yi8qOldvcmtib29rKi8sIG9wdHMpLyo6c3RyaW5nKi8ge1xuXHR2YXIgbyA9IFtYTUxfSEVBREVSLCB3cml0ZXh0YWcoJ3N0eWxlU2hlZXQnLCBudWxsLCB7XG5cdFx0J3htbG5zJzogWE1MTlNfbWFpblswXSxcblx0XHQneG1sbnM6dnQnOiBYTUxOUy52dFxuXHR9KV0sIHc7XG5cdGlmKHdiLlNTRiAmJiAodyA9IHdyaXRlX251bUZtdHMod2IuU1NGKSkgIT0gbnVsbCkgb1tvLmxlbmd0aF0gPSB3O1xuXHRvW28ubGVuZ3RoXSA9ICgnPGZvbnRzIGNvdW50PVwiMVwiPjxmb250PjxzeiB2YWw9XCIxMlwiLz48Y29sb3IgdGhlbWU9XCIxXCIvPjxuYW1lIHZhbD1cIkNhbGlicmlcIi8+PGZhbWlseSB2YWw9XCIyXCIvPjxzY2hlbWUgdmFsPVwibWlub3JcIi8+PC9mb250PjwvZm9udHM+Jyk7XG5cdG9bby5sZW5ndGhdID0gKCc8ZmlsbHMgY291bnQ9XCIyXCI+PGZpbGw+PHBhdHRlcm5GaWxsIHBhdHRlcm5UeXBlPVwibm9uZVwiLz48L2ZpbGw+PGZpbGw+PHBhdHRlcm5GaWxsIHBhdHRlcm5UeXBlPVwiZ3JheTEyNVwiLz48L2ZpbGw+PC9maWxscz4nKTtcblx0b1tvLmxlbmd0aF0gPSAoJzxib3JkZXJzIGNvdW50PVwiMVwiPjxib3JkZXI+PGxlZnQvPjxyaWdodC8+PHRvcC8+PGJvdHRvbS8+PGRpYWdvbmFsLz48L2JvcmRlcj48L2JvcmRlcnM+Jyk7XG5cdG9bby5sZW5ndGhdID0gKCc8Y2VsbFN0eWxlWGZzIGNvdW50PVwiMVwiPjx4ZiBudW1GbXRJZD1cIjBcIiBmb250SWQ9XCIwXCIgZmlsbElkPVwiMFwiIGJvcmRlcklkPVwiMFwiLz48L2NlbGxTdHlsZVhmcz4nKTtcblx0aWYoKHcgPSB3cml0ZV9jZWxsWGZzKG9wdHMuY2VsbFhmcykpKSBvW28ubGVuZ3RoXSA9ICh3KTtcblx0b1tvLmxlbmd0aF0gPSAoJzxjZWxsU3R5bGVzIGNvdW50PVwiMVwiPjxjZWxsU3R5bGUgbmFtZT1cIk5vcm1hbFwiIHhmSWQ9XCIwXCIgYnVpbHRpbklkPVwiMFwiLz48L2NlbGxTdHlsZXM+Jyk7XG5cdG9bby5sZW5ndGhdID0gKCc8ZHhmcyBjb3VudD1cIjBcIi8+Jyk7XG5cdG9bby5sZW5ndGhdID0gKCc8dGFibGVTdHlsZXMgY291bnQ9XCIwXCIgZGVmYXVsdFRhYmxlU3R5bGU9XCJUYWJsZVN0eWxlTWVkaXVtOVwiIGRlZmF1bHRQaXZvdFN0eWxlPVwiUGl2b3RTdHlsZU1lZGl1bTRcIi8+Jyk7XG5cblx0aWYoby5sZW5ndGg+Mil7IG9bby5sZW5ndGhdID0gKCc8L3N0eWxlU2hlZXQ+Jyk7IG9bMV09b1sxXS5yZXBsYWNlKFwiLz5cIixcIj5cIik7IH1cblx0cmV0dXJuIG8uam9pbihcIlwiKTtcbn1cbi8qIFtNUy1YTFNCXSAyLjQuNjU3IEJydEZtdCAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0Rm10KGRhdGEsIGxlbmd0aC8qOm51bWJlciovKSB7XG5cdHZhciBudW1GbXRJZCA9IGRhdGEucmVhZF9zaGlmdCgyKTtcblx0dmFyIHN0Rm10Q29kZSA9IHBhcnNlX1hMV2lkZVN0cmluZyhkYXRhLGxlbmd0aC0yKTtcblx0cmV0dXJuIFtudW1GbXRJZCwgc3RGbXRDb2RlXTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydEZtdChpLyo6bnVtYmVyKi8sIGYvKjpzdHJpbmcqLywgbykge1xuXHRpZighbykgbyA9IG5ld19idWYoNiArIDQgKiBmLmxlbmd0aCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgaSk7XG5cdHdyaXRlX1hMV2lkZVN0cmluZyhmLCBvKTtcblx0dmFyIG91dCA9IChvLmxlbmd0aCA+IG8ubCkgPyBvLnNsaWNlKDAsIG8ubCkgOiBvO1xuXHRpZihvLmwgPT0gbnVsbCkgby5sID0gby5sZW5ndGg7XG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuNjU5IEJydEZvbnQgVE9ETyAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0Rm9udChkYXRhLCBsZW5ndGgvKjpudW1iZXIqLywgb3B0cykge1xuXHR2YXIgb3V0ID0gKHt9Lyo6YW55Ki8pO1xuXG5cdG91dC5zeiA9IGRhdGEucmVhZF9zaGlmdCgyKSAvIDIwO1xuXG5cdHZhciBncmJpdCA9IHBhcnNlX0ZvbnRGbGFncyhkYXRhLCAyLCBvcHRzKTtcblx0aWYoZ3JiaXQuZkl0YWxpYykgb3V0Lml0YWxpYyA9IDE7XG5cdGlmKGdyYml0LmZDb25kZW5zZSkgb3V0LmNvbmRlbnNlID0gMTtcblx0aWYoZ3JiaXQuZkV4dGVuZCkgb3V0LmV4dGVuZCA9IDE7XG5cdGlmKGdyYml0LmZTaGFkb3cpIG91dC5zaGFkb3cgPSAxO1xuXHRpZihncmJpdC5mT3V0bGluZSkgb3V0Lm91dGxpbmUgPSAxO1xuXHRpZihncmJpdC5mU3RyaWtlb3V0KSBvdXQuc3RyaWtlID0gMTtcblxuXHR2YXIgYmxzID0gZGF0YS5yZWFkX3NoaWZ0KDIpO1xuXHRpZihibHMgPT09IDB4MDJCQykgb3V0LmJvbGQgPSAxO1xuXG5cdHN3aXRjaChkYXRhLnJlYWRfc2hpZnQoMikpIHtcblx0XHQvKiBjYXNlIDA6IG91dC52ZXJ0QWxpZ24gPSBcImJhc2VsaW5lXCI7IGJyZWFrOyAqL1xuXHRcdGNhc2UgMTogb3V0LnZlcnRBbGlnbiA9IFwic3VwZXJzY3JpcHRcIjsgYnJlYWs7XG5cdFx0Y2FzZSAyOiBvdXQudmVydEFsaWduID0gXCJzdWJzY3JpcHRcIjsgYnJlYWs7XG5cdH1cblxuXHR2YXIgdW5kZXJsaW5lID0gZGF0YS5yZWFkX3NoaWZ0KDEpO1xuXHRpZih1bmRlcmxpbmUgIT0gMCkgb3V0LnVuZGVybGluZSA9IHVuZGVybGluZTtcblxuXHR2YXIgZmFtaWx5ID0gZGF0YS5yZWFkX3NoaWZ0KDEpO1xuXHRpZihmYW1pbHkgPiAwKSBvdXQuZmFtaWx5ID0gZmFtaWx5O1xuXG5cdHZhciBiQ2hhclNldCA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0aWYoYkNoYXJTZXQgPiAwKSBvdXQuY2hhcnNldCA9IGJDaGFyU2V0O1xuXG5cdGRhdGEubCsrO1xuXHRvdXQuY29sb3IgPSBwYXJzZV9CcnRDb2xvcihkYXRhLCA4KTtcblxuXHRzd2l0Y2goZGF0YS5yZWFkX3NoaWZ0KDEpKSB7XG5cdFx0LyogY2FzZSAwOiBvdXQuc2NoZW1lID0gXCJub25lXCI6IGJyZWFrOyAqL1xuXHRcdGNhc2UgMTogb3V0LnNjaGVtZSA9IFwibWFqb3JcIjsgYnJlYWs7XG5cdFx0Y2FzZSAyOiBvdXQuc2NoZW1lID0gXCJtaW5vclwiOyBicmVhaztcblx0fVxuXG5cdG91dC5uYW1lID0gcGFyc2VfWExXaWRlU3RyaW5nKGRhdGEsIGxlbmd0aCAtIDIxKTtcblxuXHRyZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gd3JpdGVfQnJ0Rm9udChmb250Lyo6YW55Ki8sIG8pIHtcblx0aWYoIW8pIG8gPSBuZXdfYnVmKDI1KzQqMzIpO1xuXHRvLndyaXRlX3NoaWZ0KDIsIGZvbnQuc3ogKiAyMCk7XG5cdHdyaXRlX0ZvbnRGbGFncyhmb250LCBvKTtcblx0by53cml0ZV9zaGlmdCgyLCBmb250LmJvbGQgPyAweDAyQkMgOiAweDAxOTApO1xuXHR2YXIgc3NzID0gMDtcblx0aWYoZm9udC52ZXJ0QWxpZ24gPT0gXCJzdXBlcnNjcmlwdFwiKSBzc3MgPSAxO1xuXHRlbHNlIGlmKGZvbnQudmVydEFsaWduID09IFwic3Vic2NyaXB0XCIpIHNzcyA9IDI7XG5cdG8ud3JpdGVfc2hpZnQoMiwgc3NzKTtcblx0by53cml0ZV9zaGlmdCgxLCBmb250LnVuZGVybGluZSB8fCAwKTtcblx0by53cml0ZV9zaGlmdCgxLCBmb250LmZhbWlseSB8fCAwKTtcblx0by53cml0ZV9zaGlmdCgxLCBmb250LmNoYXJzZXQgfHwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgMCk7XG5cdHdyaXRlX0JydENvbG9yKGZvbnQuY29sb3IsIG8pO1xuXHR2YXIgc2NoZW1lID0gMDtcblx0aWYoZm9udC5zY2hlbWUgPT0gXCJtYWpvclwiKSBzY2hlbWUgPSAxO1xuXHRpZihmb250LnNjaGVtZSA9PSBcIm1pbm9yXCIpIHNjaGVtZSA9IDI7XG5cdG8ud3JpdGVfc2hpZnQoMSwgc2NoZW1lKTtcblx0d3JpdGVfWExXaWRlU3RyaW5nKGZvbnQubmFtZSwgbyk7XG5cdHJldHVybiBvLmxlbmd0aCA+IG8ubCA/IG8uc2xpY2UoMCwgby5sKSA6IG87XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuNjUwIEJydEZpbGwgKi9cbnZhciBYTFNCRmlsbFBUTmFtZXMgPSBbXG5cdFwibm9uZVwiLFxuXHRcInNvbGlkXCIsXG5cdFwibWVkaXVtR3JheVwiLFxuXHRcImRhcmtHcmF5XCIsXG5cdFwibGlnaHRHcmF5XCIsXG5cdFwiZGFya0hvcml6b250YWxcIixcblx0XCJkYXJrVmVydGljYWxcIixcblx0XCJkYXJrRG93blwiLFxuXHRcImRhcmtVcFwiLFxuXHRcImRhcmtHcmlkXCIsXG5cdFwiZGFya1RyZWxsaXNcIixcblx0XCJsaWdodEhvcml6b250YWxcIixcblx0XCJsaWdodFZlcnRpY2FsXCIsXG5cdFwibGlnaHREb3duXCIsXG5cdFwibGlnaHRVcFwiLFxuXHRcImxpZ2h0R3JpZFwiLFxuXHRcImxpZ2h0VHJlbGxpc1wiLFxuXHRcImdyYXkxMjVcIixcblx0XCJncmF5MDYyNVwiXG5dO1xudmFyIHJldl9YTFNCRmlsbFBUTmFtZXMvKjpFdmVydE51bVR5cGUqLztcbi8qIFRPRE86IGdyYWRpZW50IGZpbGwgcmVwcmVzZW50YXRpb24gKi9cbnZhciBwYXJzZV9CcnRGaWxsID0gcGFyc2Vub29wO1xuZnVuY3Rpb24gd3JpdGVfQnJ0RmlsbChmaWxsLCBvKSB7XG5cdGlmKCFvKSBvID0gbmV3X2J1Zig0KjMgKyA4KjcgKyAxNioxKTtcblx0aWYoIXJldl9YTFNCRmlsbFBUTmFtZXMpIHJldl9YTFNCRmlsbFBUTmFtZXMgPSAoZXZlcnQoWExTQkZpbGxQVE5hbWVzKS8qOmFueSovKTtcblx0dmFyIGZscy8qOm51bWJlciovID0gcmV2X1hMU0JGaWxsUFROYW1lc1tmaWxsLnBhdHRlcm5UeXBlXTtcblx0aWYoZmxzID09IG51bGwpIGZscyA9IDB4Mjg7XG5cdG8ud3JpdGVfc2hpZnQoNCwgZmxzKTtcblx0dmFyIGogPSAwO1xuXHRpZihmbHMgIT0gMHgyOCkge1xuXHRcdC8qIFRPRE86IGN1c3RvbSBGRyBDb2xvciAqL1xuXHRcdHdyaXRlX0JydENvbG9yKHthdXRvOjF9LCBvKTtcblx0XHQvKiBUT0RPOiBjdXN0b20gQkcgQ29sb3IgKi9cblx0XHR3cml0ZV9CcnRDb2xvcih7YXV0bzoxfSwgbyk7XG5cblx0XHRmb3IoOyBqIDwgMTI7ICsraikgby53cml0ZV9zaGlmdCg0LCAwKTtcblx0fSBlbHNlIHtcblx0XHRmb3IoOyBqIDwgNDsgKytqKSBvLndyaXRlX3NoaWZ0KDQsIDApO1xuXG5cdFx0Zm9yKDsgaiA8IDEyOyArK2opIG8ud3JpdGVfc2hpZnQoNCwgMCk7IC8qIFRPRE8gKi9cblx0XHQvKiBpR3JhZGllbnRUeXBlICovXG5cdFx0LyogeG51bURlZ3JlZSAqL1xuXHRcdC8qIHhudW1GaWxsVG9MZWZ0ICovXG5cdFx0LyogeG51bUZpbGxUb1JpZ2h0ICovXG5cdFx0LyogeG51bUZpbGxUb1RvcCAqL1xuXHRcdC8qIHhudW1GaWxsVG9Cb3R0b20gKi9cblx0XHQvKiBjTnVtU3RvcCAqL1xuXHRcdC8qIHhmaWxsR3JhZGllbnRTdG9wICovXG5cdH1cblx0cmV0dXJuIG8ubGVuZ3RoID4gby5sID8gby5zbGljZSgwLCBvLmwpIDogbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC44MjQgQnJ0WEYgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydFhGKGRhdGEsIGxlbmd0aC8qOm51bWJlciovKSB7XG5cdHZhciB0Z3QgPSBkYXRhLmwgKyBsZW5ndGg7XG5cdHZhciBpeGZlUGFyZW50ID0gZGF0YS5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgaWZtdCA9IGRhdGEucmVhZF9zaGlmdCgyKTtcblx0ZGF0YS5sID0gdGd0O1xuXHRyZXR1cm4ge2l4ZmU6aXhmZVBhcmVudCwgbnVtRm10SWQ6aWZtdCB9O1xufVxuZnVuY3Rpb24gd3JpdGVfQnJ0WEYoZGF0YSwgaXhmZVAsIG8pIHtcblx0aWYoIW8pIG8gPSBuZXdfYnVmKDE2KTtcblx0by53cml0ZV9zaGlmdCgyLCBpeGZlUHx8MCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgZGF0YS5udW1GbXRJZHx8MCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7IC8qIGlGb250ICovXG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7IC8qIGlGaWxsICovXG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7IC8qIGl4Qm9yZGVyICovXG5cdG8ud3JpdGVfc2hpZnQoMSwgMCk7IC8qIHRyb3QgKi9cblx0by53cml0ZV9zaGlmdCgxLCAwKTsgLyogaW5kZW50ICovXG5cdHZhciBmbG93ID0gMDtcblx0by53cml0ZV9zaGlmdCgxLCBmbG93KTsgLyogZmxhZ3MgKi9cblx0by53cml0ZV9zaGlmdCgxLCAwKTsgLyogZmxhZ3MgKi9cblx0by53cml0ZV9zaGlmdCgxLCAwKTsgLyogeGZHcmJpdEF0ciAqL1xuXHRvLndyaXRlX3NoaWZ0KDEsIDApO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNS40IEJseGYgVE9ETyAqL1xuZnVuY3Rpb24gd3JpdGVfQmx4ZihkYXRhLCBvKSB7XG5cdGlmKCFvKSBvID0gbmV3X2J1ZigxMCk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgMCk7IC8qIGRnICovXG5cdG8ud3JpdGVfc2hpZnQoMSwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7IC8qIGNvbG9yICovXG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7IC8qIGNvbG9yICovXG5cdHJldHVybiBvO1xufVxuLyogW01TLVhMU0JdIDIuNC4zMDIgQnJ0Qm9yZGVyIFRPRE8gKi9cbnZhciBwYXJzZV9CcnRCb3JkZXIgPSBwYXJzZW5vb3A7XG5mdW5jdGlvbiB3cml0ZV9CcnRCb3JkZXIoYm9yZGVyLCBvKSB7XG5cdGlmKCFvKSBvID0gbmV3X2J1Zig1MSk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgMCk7IC8qIGRpYWdvbmFsICovXG5cdHdyaXRlX0JseGYobnVsbCwgbyk7IC8qIHRvcCAqL1xuXHR3cml0ZV9CbHhmKG51bGwsIG8pOyAvKiBib3R0b20gKi9cblx0d3JpdGVfQmx4ZihudWxsLCBvKTsgLyogbGVmdCAqL1xuXHR3cml0ZV9CbHhmKG51bGwsIG8pOyAvKiByaWdodCAqL1xuXHR3cml0ZV9CbHhmKG51bGwsIG8pOyAvKiBkaWFnICovXG5cdHJldHVybiBvLmxlbmd0aCA+IG8ubCA/IG8uc2xpY2UoMCwgby5sKSA6IG87XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuNzYzIEJydFN0eWxlIFRPRE8gKi9cbmZ1bmN0aW9uIHdyaXRlX0JydFN0eWxlKHN0eWxlLCBvKSB7XG5cdGlmKCFvKSBvID0gbmV3X2J1ZigxMis0KjEwKTtcblx0by53cml0ZV9zaGlmdCg0LCBzdHlsZS54ZklkKTtcblx0by53cml0ZV9zaGlmdCgyLCAxKTtcblx0by53cml0ZV9zaGlmdCgxLCArc3R5bGUuYnVpbHRpbklkKTtcblx0by53cml0ZV9zaGlmdCgxLCAwKTsgLyogaUxldmVsICovXG5cdHdyaXRlX1hMTnVsbGFibGVXaWRlU3RyaW5nKHN0eWxlLm5hbWUgfHwgXCJcIiwgbyk7XG5cdHJldHVybiBvLmxlbmd0aCA+IG8ubCA/IG8uc2xpY2UoMCwgby5sKSA6IG87XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuMjcyIEJydEJlZ2luVGFibGVTdHlsZXMgKi9cbmZ1bmN0aW9uIHdyaXRlX0JydEJlZ2luVGFibGVTdHlsZXMoY250LCBkZWZUYWJsZVN0eWxlLCBkZWZQaXZvdFN0eWxlKSB7XG5cdHZhciBvID0gbmV3X2J1Zig0KzI1NioyKjQpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIGNudCk7XG5cdHdyaXRlX1hMTnVsbGFibGVXaWRlU3RyaW5nKGRlZlRhYmxlU3R5bGUsIG8pO1xuXHR3cml0ZV9YTE51bGxhYmxlV2lkZVN0cmluZyhkZWZQaXZvdFN0eWxlLCBvKTtcblx0cmV0dXJuIG8ubGVuZ3RoID4gby5sID8gby5zbGljZSgwLCBvLmwpIDogbztcbn1cblxuLyogW01TLVhMU0JdIDIuMS43LjUwIFN0eWxlcyAqL1xuZnVuY3Rpb24gcGFyc2Vfc3R5X2JpbihkYXRhLCB0aGVtZXMsIG9wdHMpIHtcblx0dmFyIHN0eWxlcyA9IHt9O1xuXHRzdHlsZXMuTnVtYmVyRm10ID0gKFtdLyo6YW55Ki8pO1xuXHRmb3IodmFyIHkgaW4gdGFibGVfZm10KSBzdHlsZXMuTnVtYmVyRm10W3ldID0gdGFibGVfZm10W3ldO1xuXG5cdHN0eWxlcy5DZWxsWGYgPSBbXTtcblx0c3R5bGVzLkZvbnRzID0gW107XG5cdHZhciBzdGF0ZS8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHR2YXIgcGFzcyA9IGZhbHNlO1xuXHRyZWNvcmRob3BwZXIoZGF0YSwgZnVuY3Rpb24gaG9wcGVyX3N0eSh2YWwsIFIsIFJUKSB7XG5cdFx0c3dpdGNoKFJUKSB7XG5cdFx0XHRjYXNlIDB4MDAyQzogLyogQnJ0Rm10ICovXG5cdFx0XHRcdHN0eWxlcy5OdW1iZXJGbXRbdmFsWzBdXSA9IHZhbFsxXTsgU1NGX19sb2FkKHZhbFsxXSwgdmFsWzBdKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDB4MDAyQjogLyogQnJ0Rm9udCAqL1xuXHRcdFx0XHRzdHlsZXMuRm9udHMucHVzaCh2YWwpO1xuXHRcdFx0XHRpZih2YWwuY29sb3IudGhlbWUgIT0gbnVsbCAmJiB0aGVtZXMgJiYgdGhlbWVzLnRoZW1lRWxlbWVudHMgJiYgdGhlbWVzLnRoZW1lRWxlbWVudHMuY2xyU2NoZW1lKSB7XG5cdFx0XHRcdFx0dmFsLmNvbG9yLnJnYiA9IHJnYl90aW50KHRoZW1lcy50aGVtZUVsZW1lbnRzLmNsclNjaGVtZVt2YWwuY29sb3IudGhlbWVdLnJnYiwgdmFsLmNvbG9yLnRpbnQgfHwgMCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDB4MDQwMTogLyogQnJ0S25vd25Gb250cyAqLyBicmVhaztcblx0XHRcdGNhc2UgMHgwMDJEOiAvKiBCcnRGaWxsICovXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwMkU6IC8qIEJydEJvcmRlciAqL1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMHgwMDJGOiAvKiBCcnRYRiAqL1xuXHRcdFx0XHRpZihzdGF0ZVtzdGF0ZS5sZW5ndGggLSAxXSA9PSAweDAyNjkgLyogQnJ0QmVnaW5DZWxsWEZzICovKSB7XG5cdFx0XHRcdFx0c3R5bGVzLkNlbGxYZi5wdXNoKHZhbCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDB4MDAzMDogLyogQnJ0U3R5bGUgKi9cblx0XHRcdGNhc2UgMHgwMUZCOiAvKiBCcnREWEYgKi9cblx0XHRcdGNhc2UgMHgwMjNDOiAvKiBCcnRNUlVDb2xvciAqL1xuXHRcdFx0Y2FzZSAweDAxREI6IC8qIEJydEluZGV4ZWRDb2xvciAqL1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAweDA0OTM6IC8qIEJydERYRjE0ICovXG5cdFx0XHRjYXNlIDB4MDgzNjogLyogQnJ0RFhGMTUgKi9cblx0XHRcdGNhc2UgMHgwNDZBOiAvKiBCcnRTbGljZXJTdHlsZUVsZW1lbnQgKi9cblx0XHRcdGNhc2UgMHgwMjAwOiAvKiBCcnRUYWJsZVN0eWxlRWxlbWVudCAqL1xuXHRcdFx0Y2FzZSAweDA4MkY6IC8qIEJydFRpbWVsaW5lU3R5bGVFbGVtZW50ICovXG5cdFx0XHRjYXNlIDB4MEMwMDogLyogQnJ0VWlkICovXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDB4MDAyMzogLyogQnJ0RlJUQmVnaW4gKi9cblx0XHRcdFx0cGFzcyA9IHRydWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwMjQ6IC8qIEJydEZSVEVuZCAqL1xuXHRcdFx0XHRwYXNzID0gZmFsc2U7IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwMjU6IC8qIEJydEFDQmVnaW4gKi9cblx0XHRcdFx0c3RhdGUucHVzaChSVCk7IHBhc3MgPSB0cnVlOyBicmVhaztcblx0XHRcdGNhc2UgMHgwMDI2OiAvKiBCcnRBQ0VuZCAqL1xuXHRcdFx0XHRzdGF0ZS5wb3AoKTsgcGFzcyA9IGZhbHNlOyBicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aWYoUi5UID4gMCkgc3RhdGUucHVzaChSVCk7XG5cdFx0XHRcdGVsc2UgaWYoUi5UIDwgMCkgc3RhdGUucG9wKCk7XG5cdFx0XHRcdGVsc2UgaWYoIXBhc3MgfHwgKG9wdHMuV1RGICYmIHN0YXRlW3N0YXRlLmxlbmd0aC0xXSAhPSAweDAwMjUgLyogQnJ0QUNCZWdpbiAqLykpIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgcmVjb3JkIDB4XCIgKyBSVC50b1N0cmluZygxNikpO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX0ZNVFNfYmluKGJhLCBORi8qOj9TU0ZUYWJsZSovKSB7XG5cdGlmKCFORikgcmV0dXJuO1xuXHR2YXIgY250ID0gMDtcblx0W1s1LDhdLFsyMywyNl0sWzQxLDQ0XSxbLyo2MyovNTAsLyo2Nl0sWzE2NCwqLzM5Ml1dLmZvckVhY2goZnVuY3Rpb24ocikge1xuXHRcdC8qOjogaWYoIU5GKSByZXR1cm47ICovXG5cdFx0Zm9yKHZhciBpID0gclswXTsgaSA8PSByWzFdOyArK2kpIGlmKE5GW2ldICE9IG51bGwpICsrY250O1xuXHR9KTtcblxuXHRpZihjbnQgPT0gMCkgcmV0dXJuO1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDI2NyAvKiBCcnRCZWdpbkZtdHMgKi8sIHdyaXRlX1VJbnQzMkxFKGNudCkpO1xuXHRbWzUsOF0sWzIzLDI2XSxbNDEsNDRdLFsvKjYzKi81MCwvKjY2XSxbMTY0LCovMzkyXV0uZm9yRWFjaChmdW5jdGlvbihyKSB7XG5cdFx0Lyo6OiBpZighTkYpIHJldHVybjsgKi9cblx0XHRmb3IodmFyIGkgPSByWzBdOyBpIDw9IHJbMV07ICsraSkgaWYoTkZbaV0gIT0gbnVsbCkgd3JpdGVfcmVjb3JkKGJhLCAweDAwMkMgLyogQnJ0Rm10ICovLCB3cml0ZV9CcnRGbXQoaSwgTkZbaV0pKTtcblx0fSk7XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMjY4IC8qIEJydEVuZEZtdHMgKi8pO1xufVxuXG5mdW5jdGlvbiB3cml0ZV9GT05UU19iaW4oYmEvKjo6LCBkYXRhKi8pIHtcblx0dmFyIGNudCA9IDE7XG5cblx0aWYoY250ID09IDApIHJldHVybjtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyNjMgLyogQnJ0QmVnaW5Gb250cyAqLywgd3JpdGVfVUludDMyTEUoY250KSk7XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMDJCIC8qIEJydEZvbnQgKi8sIHdyaXRlX0JydEZvbnQoe1xuXHRcdHN6OjEyLFxuXHRcdGNvbG9yOiB7dGhlbWU6MX0sXG5cdFx0bmFtZTogXCJDYWxpYnJpXCIsXG5cdFx0ZmFtaWx5OiAyLFxuXHRcdHNjaGVtZTogXCJtaW5vclwiXG5cdH0pKTtcblx0LyogMSo2NTQ5MUJydEZvbnQgW0FDRk9OVFNdICovXG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMjY0IC8qIEJydEVuZEZvbnRzICovKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfRklMTFNfYmluKGJhLyo6OiwgZGF0YSovKSB7XG5cdHZhciBjbnQgPSAyO1xuXG5cdGlmKGNudCA9PSAwKSByZXR1cm47XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMjVCIC8qIEJydEJlZ2luRmlsbHMgKi8sIHdyaXRlX1VJbnQzMkxFKGNudCkpO1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDAyRCAvKiBCcnRGaWxsICovLCB3cml0ZV9CcnRGaWxsKHtwYXR0ZXJuVHlwZTpcIm5vbmVcIn0pKTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAwMkQgLyogQnJ0RmlsbCAqLywgd3JpdGVfQnJ0RmlsbCh7cGF0dGVyblR5cGU6XCJncmF5MTI1XCJ9KSk7XG5cdC8qIDEqNjU0MzFCcnRGaWxsICovXG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMjVDIC8qIEJydEVuZEZpbGxzICovKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfQk9SREVSU19iaW4oYmEvKjo6LCBkYXRhKi8pIHtcblx0dmFyIGNudCA9IDE7XG5cblx0aWYoY250ID09IDApIHJldHVybjtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyNjUgLyogQnJ0QmVnaW5Cb3JkZXJzICovLCB3cml0ZV9VSW50MzJMRShjbnQpKTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAwMkUgLyogQnJ0Qm9yZGVyICovLCB3cml0ZV9CcnRCb3JkZXIoe30pKTtcblx0LyogMSo2NTQzMEJydEJvcmRlciAqL1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDI2NiAvKiBCcnRFbmRCb3JkZXJzICovKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfQ0VMTFNUWUxFWEZTX2JpbihiYS8qOjosIGRhdGEqLykge1xuXHR2YXIgY250ID0gMTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyNzIgLyogQnJ0QmVnaW5DZWxsU3R5bGVYRnMgKi8sIHdyaXRlX1VJbnQzMkxFKGNudCkpO1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDAyRiAvKiBCcnRYRiAqLywgd3JpdGVfQnJ0WEYoe1xuXHRcdG51bUZtdElkOiAwLFxuXHRcdGZvbnRJZDogICAwLFxuXHRcdGZpbGxJZDogICAwLFxuXHRcdGJvcmRlcklkOiAwXG5cdH0sIDB4RkZGRikpO1xuXHQvKiAxKjY1NDMwKEJydFhGICpGUlQpICovXG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMjczIC8qIEJydEVuZENlbGxTdHlsZVhGcyAqLyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX0NFTExYRlNfYmluKGJhLCBkYXRhKSB7XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMjY5IC8qIEJydEJlZ2luQ2VsbFhGcyAqLywgd3JpdGVfVUludDMyTEUoZGF0YS5sZW5ndGgpKTtcblx0ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHsgd3JpdGVfcmVjb3JkKGJhLCAweDAwMkYgLyogQnJ0WEYgKi8sIHdyaXRlX0JydFhGKGMsMCkpOyB9KTtcblx0LyogMSo2NTQzMChCcnRYRiAqRlJUKSAqL1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDI2QSAvKiBCcnRFbmRDZWxsWEZzICovKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfU1RZTEVTX2JpbihiYS8qOjosIGRhdGEqLykge1xuXHR2YXIgY250ID0gMTtcblxuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDI2QiAvKiBCcnRCZWdpblN0eWxlcyAqLywgd3JpdGVfVUludDMyTEUoY250KSk7XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMDMwIC8qIEJydFN0eWxlICovLCB3cml0ZV9CcnRTdHlsZSh7XG5cdFx0eGZJZDowLFxuXHRcdGJ1aWx0aW5JZDowLFxuXHRcdG5hbWU6XCJOb3JtYWxcIlxuXHR9KSk7XG5cdC8qIDEqNjU0MzAoQnJ0U3R5bGUgKkZSVCkgKi9cblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyNkMgLyogQnJ0RW5kU3R5bGVzICovKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfRFhGU19iaW4oYmEvKjo6LCBkYXRhKi8pIHtcblx0dmFyIGNudCA9IDA7XG5cblx0d3JpdGVfcmVjb3JkKGJhLCAweDAxRjkgLyogQnJ0QmVnaW5EWEZzICovLCB3cml0ZV9VSW50MzJMRShjbnQpKTtcblx0LyogKjIxNDc0ODM2NDcoQnJ0RFhGICpGUlQpICovXG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMUZBIC8qIEJydEVuZERYRnMgKi8pO1xufVxuXG5mdW5jdGlvbiB3cml0ZV9UQUJMRVNUWUxFU19iaW4oYmEvKjo6LCBkYXRhKi8pIHtcblx0dmFyIGNudCA9IDA7XG5cblx0d3JpdGVfcmVjb3JkKGJhLCAweDAxRkMgLyogQnJ0QmVnaW5UYWJsZVN0eWxlcyAqLywgd3JpdGVfQnJ0QmVnaW5UYWJsZVN0eWxlcyhjbnQsIFwiVGFibGVTdHlsZU1lZGl1bTlcIiwgXCJQaXZvdFN0eWxlTWVkaXVtNFwiKSk7XG5cdC8qICpUQUJMRVNUWUxFICovXG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMUZEIC8qIEJydEVuZFRhYmxlU3R5bGVzICovKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfQ09MT1JQQUxFVFRFX2JpbigvKjo6YmEsIGRhdGEqLykge1xuXHRyZXR1cm47XG5cdC8qIEJydEJlZ2luQ29sb3JQYWxldHRlIFtJTkRFWEVEQ09MT1JTXSBbTVJVQ09MT1JTXSBCcnRFbmRDb2xvclBhbGV0dGUgKi9cbn1cblxuLyogW01TLVhMU0JdIDIuMS43LjUwIFN0eWxlcyAqL1xuZnVuY3Rpb24gd3JpdGVfc3R5X2Jpbih3Yiwgb3B0cykge1xuXHR2YXIgYmEgPSBidWZfYXJyYXkoKTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAxMTYgLyogQnJ0QmVnaW5TdHlsZVNoZWV0ICovKTtcblx0d3JpdGVfRk1UU19iaW4oYmEsIHdiLlNTRik7XG5cdHdyaXRlX0ZPTlRTX2JpbihiYSwgd2IpO1xuXHR3cml0ZV9GSUxMU19iaW4oYmEsIHdiKTtcblx0d3JpdGVfQk9SREVSU19iaW4oYmEsIHdiKTtcblx0d3JpdGVfQ0VMTFNUWUxFWEZTX2JpbihiYSwgd2IpO1xuXHR3cml0ZV9DRUxMWEZTX2JpbihiYSwgb3B0cy5jZWxsWGZzKTtcblx0d3JpdGVfU1RZTEVTX2JpbihiYSwgd2IpO1xuXHR3cml0ZV9EWEZTX2JpbihiYSwgd2IpO1xuXHR3cml0ZV9UQUJMRVNUWUxFU19iaW4oYmEsIHdiKTtcblx0d3JpdGVfQ09MT1JQQUxFVFRFX2JpbihiYSwgd2IpO1xuXHQvKiBGUlRTVFlMRVNIRUVUKi9cblx0d3JpdGVfcmVjb3JkKGJhLCAweDAxMTcgLyogQnJ0RW5kU3R5bGVTaGVldCAqLyk7XG5cdHJldHVybiBiYS5lbmQoKTtcbn1cbi8qIEV2ZW4gdGhvdWdoIHRoZW1lIGxheW91dCBpcyBkazEgbHQxIGRrMiBsdDIsIHRydWUgb3JkZXIgaXMgbHQxIGRrMSBsdDIgZGsyICovXG52YXIgWExTWFRoZW1lQ2xyU2NoZW1lID0gW1xuXHQnPC9hOmx0MT4nLCAnPC9hOmRrMT4nLCAnPC9hOmx0Mj4nLCAnPC9hOmRrMj4nLFxuXHQnPC9hOmFjY2VudDE+JywgJzwvYTphY2NlbnQyPicsICc8L2E6YWNjZW50Mz4nLFxuXHQnPC9hOmFjY2VudDQ+JywgJzwvYTphY2NlbnQ1PicsICc8L2E6YWNjZW50Nj4nLFxuXHQnPC9hOmhsaW5rPicsICc8L2E6Zm9sSGxpbms+J1xuXTtcbi8qIDIwLjEuNi4yIGNsclNjaGVtZSBDVF9Db2xvclNjaGVtZSAqL1xuZnVuY3Rpb24gcGFyc2VfY2xyU2NoZW1lKHQsIHRoZW1lcywgb3B0cykge1xuXHR0aGVtZXMudGhlbWVFbGVtZW50cy5jbHJTY2hlbWUgPSBbXTtcblx0dmFyIGNvbG9yID0ge307XG5cdCh0WzBdLm1hdGNoKHRhZ3JlZ2V4KXx8W10pLmZvckVhY2goZnVuY3Rpb24oeCkge1xuXHRcdHZhciB5ID0gcGFyc2V4bWx0YWcoeCk7XG5cdFx0c3dpdGNoKHlbMF0pIHtcblx0XHRcdC8qIDIwLjEuNi4yIGNsclNjaGVtZSAoQ29sb3IgU2NoZW1lKSBDVF9Db2xvclNjaGVtZSAqL1xuXHRcdFx0Y2FzZSAnPGE6Y2xyU2NoZW1lJzogY2FzZSAnPC9hOmNsclNjaGVtZT4nOiBicmVhaztcblxuXHRcdFx0LyogMjAuMS4yLjMuMzIgc3JnYkNsciBDVF9TUmdiQ29sb3IgKi9cblx0XHRcdGNhc2UgJzxhOnNyZ2JDbHInOlxuXHRcdFx0XHRjb2xvci5yZ2IgPSB5LnZhbDsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L2E6c3JnYkNscj4nOiBicmVhaztcblxuXHRcdFx0LyogMjAuMS4yLjMuMzMgc3lzQ2xyIENUX1N5c3RlbUNvbG9yICovXG5cdFx0XHRjYXNlICc8YTpzeXNDbHInOlxuXHRcdFx0XHRjb2xvci5yZ2IgPSB5Lmxhc3RDbHI7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9hOnN5c0Nscj4nOiBicmVhaztcblxuXHRcdFx0LyogMjAuMS40LjEuMSBhY2NlbnQxIChBY2NlbnQgMSkgKi9cblx0XHRcdC8qIDIwLjEuNC4xLjIgYWNjZW50MiAoQWNjZW50IDIpICovXG5cdFx0XHQvKiAyMC4xLjQuMS4zIGFjY2VudDMgKEFjY2VudCAzKSAqL1xuXHRcdFx0LyogMjAuMS40LjEuNCBhY2NlbnQ0IChBY2NlbnQgNCkgKi9cblx0XHRcdC8qIDIwLjEuNC4xLjUgYWNjZW50NSAoQWNjZW50IDUpICovXG5cdFx0XHQvKiAyMC4xLjQuMS42IGFjY2VudDYgKEFjY2VudCA2KSAqL1xuXHRcdFx0LyogMjAuMS40LjEuOSBkazEgKERhcmsgMSkgKi9cblx0XHRcdC8qIDIwLjEuNC4xLjEwIGRrMiAoRGFyayAyKSAqL1xuXHRcdFx0LyogMjAuMS40LjEuMTUgZm9sSGxpbmsgKEZvbGxvd2VkIEh5cGVybGluaykgKi9cblx0XHRcdC8qIDIwLjEuNC4xLjE5IGhsaW5rIChIeXBlcmxpbmspICovXG5cdFx0XHQvKiAyMC4xLjQuMS4yMiBsdDEgKExpZ2h0IDEpICovXG5cdFx0XHQvKiAyMC4xLjQuMS4yMyBsdDIgKExpZ2h0IDIpICovXG5cdFx0XHRjYXNlICc8L2E6ZGsxPic6XG5cdFx0XHRjYXNlICc8L2E6bHQxPic6XG5cdFx0XHRjYXNlICc8YTpkazE+Jzpcblx0XHRcdGNhc2UgJzxhOmx0MT4nOlxuXHRcdFx0Y2FzZSAnPGE6ZGsyPic6IGNhc2UgJzwvYTpkazI+Jzpcblx0XHRcdGNhc2UgJzxhOmx0Mj4nOiBjYXNlICc8L2E6bHQyPic6XG5cdFx0XHRjYXNlICc8YTphY2NlbnQxPic6IGNhc2UgJzwvYTphY2NlbnQxPic6XG5cdFx0XHRjYXNlICc8YTphY2NlbnQyPic6IGNhc2UgJzwvYTphY2NlbnQyPic6XG5cdFx0XHRjYXNlICc8YTphY2NlbnQzPic6IGNhc2UgJzwvYTphY2NlbnQzPic6XG5cdFx0XHRjYXNlICc8YTphY2NlbnQ0Pic6IGNhc2UgJzwvYTphY2NlbnQ0Pic6XG5cdFx0XHRjYXNlICc8YTphY2NlbnQ1Pic6IGNhc2UgJzwvYTphY2NlbnQ1Pic6XG5cdFx0XHRjYXNlICc8YTphY2NlbnQ2Pic6IGNhc2UgJzwvYTphY2NlbnQ2Pic6XG5cdFx0XHRjYXNlICc8YTpobGluaz4nOiBjYXNlICc8L2E6aGxpbms+Jzpcblx0XHRcdGNhc2UgJzxhOmZvbEhsaW5rPic6IGNhc2UgJzwvYTpmb2xIbGluaz4nOlxuXHRcdFx0XHRpZiAoeVswXS5jaGFyQXQoMSkgPT09ICcvJykge1xuXHRcdFx0XHRcdHRoZW1lcy50aGVtZUVsZW1lbnRzLmNsclNjaGVtZVtYTFNYVGhlbWVDbHJTY2hlbWUuaW5kZXhPZih5WzBdKV0gPSBjb2xvcjtcblx0XHRcdFx0XHRjb2xvciA9IHt9O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbG9yLm5hbWUgPSB5WzBdLnNsaWNlKDMsIHlbMF0ubGVuZ3RoIC0gMSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6IGlmKG9wdHMgJiYgb3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkICcgKyB5WzBdICsgJyBpbiBjbHJTY2hlbWUnKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKiAyMC4xLjQuMS4xOCBmb250U2NoZW1lIENUX0ZvbnRTY2hlbWUgKi9cbmZ1bmN0aW9uIHBhcnNlX2ZvbnRTY2hlbWUoLyo6OnQsIHRoZW1lcywgb3B0cyovKSB7IH1cblxuLyogMjAuMS40LjEuMTUgZm10U2NoZW1lIENUX1N0eWxlTWF0cml4ICovXG5mdW5jdGlvbiBwYXJzZV9mbXRTY2hlbWUoLyo6OnQsIHRoZW1lcywgb3B0cyovKSB7IH1cblxuLyogMjAuMS42LjEwIHRoZW1lRWxlbWVudHMgQ1RfQmFzZVN0eWxlcyAqL1xuZnVuY3Rpb24gcGFyc2VfdGhlbWVFbGVtZW50cyhkYXRhLCB0aGVtZXMsIG9wdHMpIHtcblx0dGhlbWVzLnRoZW1lRWxlbWVudHMgPSB7fTtcblxuXHR2YXIgdDtcblxuXHQvKiBjbHJTY2hlbWUgQ1RfQ29sb3JTY2hlbWUgKi9cblx0aWYoISh0PXN0cl9tYXRjaF94bWwoZGF0YSwgXCJhOmNsclNjaGVtZVwiKSkpIHRocm93IG5ldyBFcnJvcignY2xyU2NoZW1lIG5vdCBmb3VuZCBpbiB0aGVtZUVsZW1lbnRzJyk7XG5cdHBhcnNlX2NsclNjaGVtZSh0LCB0aGVtZXMsIG9wdHMpO1xuXG5cdC8qIGZvbnRTY2hlbWUgQ1RfRm9udFNjaGVtZSAqL1xuXHRpZighKHQ9c3RyX21hdGNoX3htbChkYXRhLCBcImE6Zm9udFNjaGVtZVwiKSkpIHRocm93IG5ldyBFcnJvcignZm9udFNjaGVtZSBub3QgZm91bmQgaW4gdGhlbWVFbGVtZW50cycpO1xuXHRwYXJzZV9mb250U2NoZW1lKHQsIHRoZW1lcywgb3B0cyk7XG5cblx0LyogZm10U2NoZW1lIENUX1N0eWxlTWF0cml4ICovXG5cdGlmKCEodD1zdHJfbWF0Y2hfeG1sKGRhdGEsIFwiYTpmbXRTY2hlbWVcIikpKSB0aHJvdyBuZXcgRXJyb3IoJ2ZtdFNjaGVtZSBub3QgZm91bmQgaW4gdGhlbWVFbGVtZW50cycpO1xuXHRwYXJzZV9mbXRTY2hlbWUodCwgdGhlbWVzLCBvcHRzKTtcbn1cblxuLyogMTQuMi43IFRoZW1lIFBhcnQgKi9cbmZ1bmN0aW9uIHBhcnNlX3RoZW1lX3htbChkYXRhLyo6c3RyaW5nKi8sIG9wdHMpIHtcblx0LyogMjAuMS42LjkgdGhlbWUgQ1RfT2ZmaWNlU3R5bGVTaGVldCAqL1xuXHRpZighZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkgZGF0YSA9IHdyaXRlX3RoZW1lKCk7XG5cblx0dmFyIHQ7XG5cdHZhciB0aGVtZXMgPSB7fTtcblxuXHQvKiB0aGVtZUVsZW1lbnRzIENUX0Jhc2VTdHlsZXMgKi9cblx0aWYoISh0PXN0cl9tYXRjaF94bWwoZGF0YSwgXCJhOnRoZW1lRWxlbWVudHNcIikpKSB0aHJvdyBuZXcgRXJyb3IoJ3RoZW1lRWxlbWVudHMgbm90IGZvdW5kIGluIHRoZW1lJyk7XG5cdHBhcnNlX3RoZW1lRWxlbWVudHModFswXSwgdGhlbWVzLCBvcHRzKTtcblx0dGhlbWVzLnJhdyA9IGRhdGE7XG5cdHJldHVybiB0aGVtZXM7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3RoZW1lKFRoZW1lcywgb3B0cykvKjpzdHJpbmcqLyB7XG5cdGlmKG9wdHMgJiYgb3B0cy50aGVtZVhMU1gpIHJldHVybiBvcHRzLnRoZW1lWExTWDtcblx0aWYoVGhlbWVzICYmIHR5cGVvZiBUaGVtZXMucmF3ID09IFwic3RyaW5nXCIpIHJldHVybiBUaGVtZXMucmF3O1xuXHR2YXIgbyA9IFtYTUxfSEVBREVSXTtcblx0b1tvLmxlbmd0aF0gPSAnPGE6dGhlbWUgeG1sbnM6YT1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9kcmF3aW5nbWwvMjAwNi9tYWluXCIgbmFtZT1cIk9mZmljZSBUaGVtZVwiPic7XG5cdG9bby5sZW5ndGhdID0gICc8YTp0aGVtZUVsZW1lbnRzPic7XG5cblx0b1tvLmxlbmd0aF0gPSAgICc8YTpjbHJTY2hlbWUgbmFtZT1cIk9mZmljZVwiPic7XG5cdG9bby5sZW5ndGhdID0gICAgJzxhOmRrMT48YTpzeXNDbHIgdmFsPVwid2luZG93VGV4dFwiIGxhc3RDbHI9XCIwMDAwMDBcIi8+PC9hOmRrMT4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICc8YTpsdDE+PGE6c3lzQ2xyIHZhbD1cIndpbmRvd1wiIGxhc3RDbHI9XCJGRkZGRkZcIi8+PC9hOmx0MT4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICc8YTpkazI+PGE6c3JnYkNsciB2YWw9XCIxRjQ5N0RcIi8+PC9hOmRrMj4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICc8YTpsdDI+PGE6c3JnYkNsciB2YWw9XCJFRUVDRTFcIi8+PC9hOmx0Mj4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICc8YTphY2NlbnQxPjxhOnNyZ2JDbHIgdmFsPVwiNEY4MUJEXCIvPjwvYTphY2NlbnQxPic7XG5cdG9bby5sZW5ndGhdID0gICAgJzxhOmFjY2VudDI+PGE6c3JnYkNsciB2YWw9XCJDMDUwNERcIi8+PC9hOmFjY2VudDI+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAnPGE6YWNjZW50Mz48YTpzcmdiQ2xyIHZhbD1cIjlCQkI1OVwiLz48L2E6YWNjZW50Mz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICc8YTphY2NlbnQ0PjxhOnNyZ2JDbHIgdmFsPVwiODA2NEEyXCIvPjwvYTphY2NlbnQ0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgJzxhOmFjY2VudDU+PGE6c3JnYkNsciB2YWw9XCI0QkFDQzZcIi8+PC9hOmFjY2VudDU+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAnPGE6YWNjZW50Nj48YTpzcmdiQ2xyIHZhbD1cIkY3OTY0NlwiLz48L2E6YWNjZW50Nj4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICc8YTpobGluaz48YTpzcmdiQ2xyIHZhbD1cIjAwMDBGRlwiLz48L2E6aGxpbms+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAnPGE6Zm9sSGxpbms+PGE6c3JnYkNsciB2YWw9XCI4MDAwODBcIi8+PC9hOmZvbEhsaW5rPic7XG5cdG9bby5sZW5ndGhdID0gICAnPC9hOmNsclNjaGVtZT4nO1xuXG5cdG9bby5sZW5ndGhdID0gICAnPGE6Zm9udFNjaGVtZSBuYW1lPVwiT2ZmaWNlXCI+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAnPGE6bWFqb3JGb250Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpsYXRpbiB0eXBlZmFjZT1cIkNhbWJyaWFcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmVhIHR5cGVmYWNlPVwiXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpjcyB0eXBlZmFjZT1cIlwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJKcGFuXCIgdHlwZWZhY2U9XCLvvK3vvLMg77yw44K044K344OD44KvXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkhhbmdcIiB0eXBlZmFjZT1cIuunkeydgCDqs6DrlJVcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiSGFuc1wiIHR5cGVmYWNlPVwi5a6L5L2TXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkhhbnRcIiB0eXBlZmFjZT1cIuaWsOe0sOaYjumrlFwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJBcmFiXCIgdHlwZWZhY2U9XCJUaW1lcyBOZXcgUm9tYW5cIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiSGViclwiIHR5cGVmYWNlPVwiVGltZXMgTmV3IFJvbWFuXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIlRoYWlcIiB0eXBlZmFjZT1cIlRhaG9tYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJFdGhpXCIgdHlwZWZhY2U9XCJOeWFsYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJCZW5nXCIgdHlwZWZhY2U9XCJWcmluZGFcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiR3VqclwiIHR5cGVmYWNlPVwiU2hydXRpXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIktobXJcIiB0eXBlZmFjZT1cIk1vb2xCb3JhblwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJLbmRhXCIgdHlwZWZhY2U9XCJUdW5nYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJHdXJ1XCIgdHlwZWZhY2U9XCJSYWF2aVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJDYW5zXCIgdHlwZWZhY2U9XCJFdXBoZW1pYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJDaGVyXCIgdHlwZWZhY2U9XCJQbGFudGFnZW5ldCBDaGVyb2tlZVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJZaWlpXCIgdHlwZWZhY2U9XCJNaWNyb3NvZnQgWWkgQmFpdGlcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiVGlidFwiIHR5cGVmYWNlPVwiTWljcm9zb2Z0IEhpbWFsYXlhXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIlRoYWFcIiB0eXBlZmFjZT1cIk1WIEJvbGlcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiRGV2YVwiIHR5cGVmYWNlPVwiTWFuZ2FsXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIlRlbHVcIiB0eXBlZmFjZT1cIkdhdXRhbWlcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiVGFtbFwiIHR5cGVmYWNlPVwiTGF0aGFcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiU3lyY1wiIHR5cGVmYWNlPVwiRXN0cmFuZ2VsbyBFZGVzc2FcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiT3J5YVwiIHR5cGVmYWNlPVwiS2FsaW5nYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJNbHltXCIgdHlwZWZhY2U9XCJLYXJ0aWthXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkxhb29cIiB0eXBlZmFjZT1cIkRva0NoYW1wYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJTaW5oXCIgdHlwZWZhY2U9XCJJc2tvb2xhIFBvdGFcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiTW9uZ1wiIHR5cGVmYWNlPVwiTW9uZ29saWFuIEJhaXRpXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIlZpZXRcIiB0eXBlZmFjZT1cIlRpbWVzIE5ldyBSb21hblwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJVaWdoXCIgdHlwZWZhY2U9XCJNaWNyb3NvZnQgVWlnaHVyXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkdlb3JcIiB0eXBlZmFjZT1cIlN5bGZhZW5cIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAnPC9hOm1ham9yRm9udD4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICc8YTptaW5vckZvbnQ+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmxhdGluIHR5cGVmYWNlPVwiQ2FsaWJyaVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6ZWEgdHlwZWZhY2U9XCJcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmNzIHR5cGVmYWNlPVwiXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkpwYW5cIiB0eXBlZmFjZT1cIu+8re+8syDvvLDjgrTjgrfjg4Pjgq9cIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiSGFuZ1wiIHR5cGVmYWNlPVwi66eR7J2AIOqzoOuUlVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJIYW5zXCIgdHlwZWZhY2U9XCLlrovkvZNcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiSGFudFwiIHR5cGVmYWNlPVwi5paw57Sw5piO6auUXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkFyYWJcIiB0eXBlZmFjZT1cIkFyaWFsXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkhlYnJcIiB0eXBlZmFjZT1cIkFyaWFsXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIlRoYWlcIiB0eXBlZmFjZT1cIlRhaG9tYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJFdGhpXCIgdHlwZWZhY2U9XCJOeWFsYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJCZW5nXCIgdHlwZWZhY2U9XCJWcmluZGFcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiR3VqclwiIHR5cGVmYWNlPVwiU2hydXRpXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIktobXJcIiB0eXBlZmFjZT1cIkRhdW5QZW5oXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIktuZGFcIiB0eXBlZmFjZT1cIlR1bmdhXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkd1cnVcIiB0eXBlZmFjZT1cIlJhYXZpXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkNhbnNcIiB0eXBlZmFjZT1cIkV1cGhlbWlhXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIkNoZXJcIiB0eXBlZmFjZT1cIlBsYW50YWdlbmV0IENoZXJva2VlXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIllpaWlcIiB0eXBlZmFjZT1cIk1pY3Jvc29mdCBZaSBCYWl0aVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJUaWJ0XCIgdHlwZWZhY2U9XCJNaWNyb3NvZnQgSGltYWxheWFcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiVGhhYVwiIHR5cGVmYWNlPVwiTVYgQm9saVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJEZXZhXCIgdHlwZWZhY2U9XCJNYW5nYWxcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiVGVsdVwiIHR5cGVmYWNlPVwiR2F1dGFtaVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJUYW1sXCIgdHlwZWZhY2U9XCJMYXRoYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJTeXJjXCIgdHlwZWZhY2U9XCJFc3RyYW5nZWxvIEVkZXNzYVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJPcnlhXCIgdHlwZWZhY2U9XCJLYWxpbmdhXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIk1seW1cIiB0eXBlZmFjZT1cIkthcnRpa2FcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiTGFvb1wiIHR5cGVmYWNlPVwiRG9rQ2hhbXBhXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpmb250IHNjcmlwdD1cIlNpbmhcIiB0eXBlZmFjZT1cIklza29vbGEgUG90YVwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJNb25nXCIgdHlwZWZhY2U9XCJNb25nb2xpYW4gQmFpdGlcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiVmlldFwiIHR5cGVmYWNlPVwiQXJpYWxcIi8+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmZvbnQgc2NyaXB0PVwiVWlnaFwiIHR5cGVmYWNlPVwiTWljcm9zb2Z0IFVpZ2h1clwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Zm9udCBzY3JpcHQ9XCJHZW9yXCIgdHlwZWZhY2U9XCJTeWxmYWVuXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgJzwvYTptaW5vckZvbnQ+Jztcblx0b1tvLmxlbmd0aF0gPSAgICc8L2E6Zm9udFNjaGVtZT4nO1xuXG5cdG9bby5sZW5ndGhdID0gICAnPGE6Zm10U2NoZW1lIG5hbWU9XCJPZmZpY2VcIj4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICc8YTpmaWxsU3R5bGVMc3Q+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOnNvbGlkRmlsbD48YTpzY2hlbWVDbHIgdmFsPVwicGhDbHJcIi8+PC9hOnNvbGlkRmlsbD4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Z3JhZEZpbGwgcm90V2l0aFNoYXBlPVwiMVwiPic7XG5cdG9bby5sZW5ndGhdID0gICAgICAnPGE6Z3NMc3Q+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgICAnPGE6Z3MgcG9zPVwiMFwiPjxhOnNjaGVtZUNsciB2YWw9XCJwaENsclwiPjxhOnRpbnQgdmFsPVwiNTAwMDBcIi8+PGE6c2F0TW9kIHZhbD1cIjMwMDAwMFwiLz48L2E6c2NoZW1lQ2xyPjwvYTpncz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgICc8YTpncyBwb3M9XCIzNTAwMFwiPjxhOnNjaGVtZUNsciB2YWw9XCJwaENsclwiPjxhOnRpbnQgdmFsPVwiMzcwMDBcIi8+PGE6c2F0TW9kIHZhbD1cIjMwMDAwMFwiLz48L2E6c2NoZW1lQ2xyPjwvYTpncz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgICc8YTpncyBwb3M9XCIxMDAwMDBcIj48YTpzY2hlbWVDbHIgdmFsPVwicGhDbHJcIj48YTp0aW50IHZhbD1cIjE1MDAwXCIvPjxhOnNhdE1vZCB2YWw9XCIzNTAwMDBcIi8+PC9hOnNjaGVtZUNscj48L2E6Z3M+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgICc8L2E6Z3NMc3Q+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgICc8YTpsaW4gYW5nPVwiMTYyMDAwMDBcIiBzY2FsZWQ9XCIxXCIvPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8L2E6Z3JhZEZpbGw+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmdyYWRGaWxsIHJvdFdpdGhTaGFwZT1cIjFcIj4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgJzxhOmdzTHN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICAgJzxhOmdzIHBvcz1cIjBcIj48YTpzY2hlbWVDbHIgdmFsPVwicGhDbHJcIj48YTp0aW50IHZhbD1cIjEwMDAwMFwiLz48YTpzaGFkZSB2YWw9XCIxMDAwMDBcIi8+PGE6c2F0TW9kIHZhbD1cIjEzMDAwMFwiLz48L2E6c2NoZW1lQ2xyPjwvYTpncz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgICc8YTpncyBwb3M9XCIxMDAwMDBcIj48YTpzY2hlbWVDbHIgdmFsPVwicGhDbHJcIj48YTp0aW50IHZhbD1cIjUwMDAwXCIvPjxhOnNoYWRlIHZhbD1cIjEwMDAwMFwiLz48YTpzYXRNb2QgdmFsPVwiMzUwMDAwXCIvPjwvYTpzY2hlbWVDbHI+PC9hOmdzPic7XG5cdG9bby5sZW5ndGhdID0gICAgICAnPC9hOmdzTHN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICAnPGE6bGluIGFuZz1cIjE2MjAwMDAwXCIgc2NhbGVkPVwiMFwiLz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPC9hOmdyYWRGaWxsPic7XG5cdG9bby5sZW5ndGhdID0gICAgJzwvYTpmaWxsU3R5bGVMc3Q+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAnPGE6bG5TdHlsZUxzdD4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6bG4gdz1cIjk1MjVcIiBjYXA9XCJmbGF0XCIgY21wZD1cInNuZ1wiIGFsZ249XCJjdHJcIj48YTpzb2xpZEZpbGw+PGE6c2NoZW1lQ2xyIHZhbD1cInBoQ2xyXCI+PGE6c2hhZGUgdmFsPVwiOTUwMDBcIi8+PGE6c2F0TW9kIHZhbD1cIjEwNTAwMFwiLz48L2E6c2NoZW1lQ2xyPjwvYTpzb2xpZEZpbGw+PGE6cHJzdERhc2ggdmFsPVwic29saWRcIi8+PC9hOmxuPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpsbiB3PVwiMjU0MDBcIiBjYXA9XCJmbGF0XCIgY21wZD1cInNuZ1wiIGFsZ249XCJjdHJcIj48YTpzb2xpZEZpbGw+PGE6c2NoZW1lQ2xyIHZhbD1cInBoQ2xyXCIvPjwvYTpzb2xpZEZpbGw+PGE6cHJzdERhc2ggdmFsPVwic29saWRcIi8+PC9hOmxuPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpsbiB3PVwiMzgxMDBcIiBjYXA9XCJmbGF0XCIgY21wZD1cInNuZ1wiIGFsZ249XCJjdHJcIj48YTpzb2xpZEZpbGw+PGE6c2NoZW1lQ2xyIHZhbD1cInBoQ2xyXCIvPjwvYTpzb2xpZEZpbGw+PGE6cHJzdERhc2ggdmFsPVwic29saWRcIi8+PC9hOmxuPic7XG5cdG9bby5sZW5ndGhdID0gICAgJzwvYTpsblN0eWxlTHN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgJzxhOmVmZmVjdFN0eWxlTHN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTplZmZlY3RTdHlsZT4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgJzxhOmVmZmVjdExzdD4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgICc8YTpvdXRlclNoZHcgYmx1clJhZD1cIjQwMDAwXCIgZGlzdD1cIjIwMDAwXCIgZGlyPVwiNTQwMDAwMFwiIHJvdFdpdGhTaGFwZT1cIjBcIj48YTpzcmdiQ2xyIHZhbD1cIjAwMDAwMFwiPjxhOmFscGhhIHZhbD1cIjM4MDAwXCIvPjwvYTpzcmdiQ2xyPjwvYTpvdXRlclNoZHc+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgICc8L2E6ZWZmZWN0THN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8L2E6ZWZmZWN0U3R5bGU+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmVmZmVjdFN0eWxlPic7XG5cdG9bby5sZW5ndGhdID0gICAgICAnPGE6ZWZmZWN0THN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICAgJzxhOm91dGVyU2hkdyBibHVyUmFkPVwiNDAwMDBcIiBkaXN0PVwiMjMwMDBcIiBkaXI9XCI1NDAwMDAwXCIgcm90V2l0aFNoYXBlPVwiMFwiPjxhOnNyZ2JDbHIgdmFsPVwiMDAwMDAwXCI+PGE6YWxwaGEgdmFsPVwiMzUwMDBcIi8+PC9hOnNyZ2JDbHI+PC9hOm91dGVyU2hkdz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgJzwvYTplZmZlY3RMc3Q+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzwvYTplZmZlY3RTdHlsZT4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6ZWZmZWN0U3R5bGU+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgICc8YTplZmZlY3RMc3Q+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgICAnPGE6b3V0ZXJTaGR3IGJsdXJSYWQ9XCI0MDAwMFwiIGRpc3Q9XCIyMzAwMFwiIGRpcj1cIjU0MDAwMDBcIiByb3RXaXRoU2hhcGU9XCIwXCI+PGE6c3JnYkNsciB2YWw9XCIwMDAwMDBcIj48YTphbHBoYSB2YWw9XCIzNTAwMFwiLz48L2E6c3JnYkNscj48L2E6b3V0ZXJTaGR3Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICAnPC9hOmVmZmVjdExzdD4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgJzxhOnNjZW5lM2Q+PGE6Y2FtZXJhIHByc3Q9XCJvcnRob2dyYXBoaWNGcm9udFwiPjxhOnJvdCBsYXQ9XCIwXCIgbG9uPVwiMFwiIHJldj1cIjBcIi8+PC9hOmNhbWVyYT48YTpsaWdodFJpZyByaWc9XCJ0aHJlZVB0XCIgZGlyPVwidFwiPjxhOnJvdCBsYXQ9XCIwXCIgbG9uPVwiMFwiIHJldj1cIjEyMDAwMDBcIi8+PC9hOmxpZ2h0UmlnPjwvYTpzY2VuZTNkPic7XG5cdG9bby5sZW5ndGhdID0gICAgICAnPGE6c3AzZD48YTpiZXZlbFQgdz1cIjYzNTAwXCIgaD1cIjI1NDAwXCIvPjwvYTpzcDNkPic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8L2E6ZWZmZWN0U3R5bGU+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAnPC9hOmVmZmVjdFN0eWxlTHN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgJzxhOmJnRmlsbFN0eWxlTHN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICc8YTpzb2xpZEZpbGw+PGE6c2NoZW1lQ2xyIHZhbD1cInBoQ2xyXCIvPjwvYTpzb2xpZEZpbGw+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzxhOmdyYWRGaWxsIHJvdFdpdGhTaGFwZT1cIjFcIj4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgJzxhOmdzTHN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICAgJzxhOmdzIHBvcz1cIjBcIj48YTpzY2hlbWVDbHIgdmFsPVwicGhDbHJcIj48YTp0aW50IHZhbD1cIjQwMDAwXCIvPjxhOnNhdE1vZCB2YWw9XCIzNTAwMDBcIi8+PC9hOnNjaGVtZUNscj48L2E6Z3M+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgICAnPGE6Z3MgcG9zPVwiNDAwMDBcIj48YTpzY2hlbWVDbHIgdmFsPVwicGhDbHJcIj48YTp0aW50IHZhbD1cIjQ1MDAwXCIvPjxhOnNoYWRlIHZhbD1cIjk5MDAwXCIvPjxhOnNhdE1vZCB2YWw9XCIzNTAwMDBcIi8+PC9hOnNjaGVtZUNscj48L2E6Z3M+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgICAnPGE6Z3MgcG9zPVwiMTAwMDAwXCI+PGE6c2NoZW1lQ2xyIHZhbD1cInBoQ2xyXCI+PGE6c2hhZGUgdmFsPVwiMjAwMDBcIi8+PGE6c2F0TW9kIHZhbD1cIjI1NTAwMFwiLz48L2E6c2NoZW1lQ2xyPjwvYTpncz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgJzwvYTpnc0xzdD4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgJzxhOnBhdGggcGF0aD1cImNpcmNsZVwiPjxhOmZpbGxUb1JlY3QgbD1cIjUwMDAwXCIgdD1cIi04MDAwMFwiIHI9XCI1MDAwMFwiIGI9XCIxODAwMDBcIi8+PC9hOnBhdGg+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzwvYTpncmFkRmlsbD4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAnPGE6Z3JhZEZpbGwgcm90V2l0aFNoYXBlPVwiMVwiPic7XG5cdG9bby5sZW5ndGhdID0gICAgICAnPGE6Z3NMc3Q+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgICAnPGE6Z3MgcG9zPVwiMFwiPjxhOnNjaGVtZUNsciB2YWw9XCJwaENsclwiPjxhOnRpbnQgdmFsPVwiODAwMDBcIi8+PGE6c2F0TW9kIHZhbD1cIjMwMDAwMFwiLz48L2E6c2NoZW1lQ2xyPjwvYTpncz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICAgICc8YTpncyBwb3M9XCIxMDAwMDBcIj48YTpzY2hlbWVDbHIgdmFsPVwicGhDbHJcIj48YTpzaGFkZSB2YWw9XCIzMDAwMFwiLz48YTpzYXRNb2QgdmFsPVwiMjAwMDAwXCIvPjwvYTpzY2hlbWVDbHI+PC9hOmdzPic7XG5cdG9bby5sZW5ndGhdID0gICAgICAnPC9hOmdzTHN0Pic7XG5cdG9bby5sZW5ndGhdID0gICAgICAnPGE6cGF0aCBwYXRoPVwiY2lyY2xlXCI+PGE6ZmlsbFRvUmVjdCBsPVwiNTAwMDBcIiB0PVwiNTAwMDBcIiByPVwiNTAwMDBcIiBiPVwiNTAwMDBcIi8+PC9hOnBhdGg+Jztcblx0b1tvLmxlbmd0aF0gPSAgICAgJzwvYTpncmFkRmlsbD4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgICc8L2E6YmdGaWxsU3R5bGVMc3Q+Jztcblx0b1tvLmxlbmd0aF0gPSAgICc8L2E6Zm10U2NoZW1lPic7XG5cdG9bby5sZW5ndGhdID0gICc8L2E6dGhlbWVFbGVtZW50cz4nO1xuXG5cdG9bby5sZW5ndGhdID0gICc8YTpvYmplY3REZWZhdWx0cz4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgJzxhOnNwRGVmPic7XG5cdG9bby5sZW5ndGhdID0gICAgJzxhOnNwUHIvPjxhOmJvZHlQci8+PGE6bHN0U3R5bGUvPjxhOnN0eWxlPjxhOmxuUmVmIGlkeD1cIjFcIj48YTpzY2hlbWVDbHIgdmFsPVwiYWNjZW50MVwiLz48L2E6bG5SZWY+PGE6ZmlsbFJlZiBpZHg9XCIzXCI+PGE6c2NoZW1lQ2xyIHZhbD1cImFjY2VudDFcIi8+PC9hOmZpbGxSZWY+PGE6ZWZmZWN0UmVmIGlkeD1cIjJcIj48YTpzY2hlbWVDbHIgdmFsPVwiYWNjZW50MVwiLz48L2E6ZWZmZWN0UmVmPjxhOmZvbnRSZWYgaWR4PVwibWlub3JcIj48YTpzY2hlbWVDbHIgdmFsPVwibHQxXCIvPjwvYTpmb250UmVmPjwvYTpzdHlsZT4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgJzwvYTpzcERlZj4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgJzxhOmxuRGVmPic7XG5cdG9bby5sZW5ndGhdID0gICAgJzxhOnNwUHIvPjxhOmJvZHlQci8+PGE6bHN0U3R5bGUvPjxhOnN0eWxlPjxhOmxuUmVmIGlkeD1cIjJcIj48YTpzY2hlbWVDbHIgdmFsPVwiYWNjZW50MVwiLz48L2E6bG5SZWY+PGE6ZmlsbFJlZiBpZHg9XCIwXCI+PGE6c2NoZW1lQ2xyIHZhbD1cImFjY2VudDFcIi8+PC9hOmZpbGxSZWY+PGE6ZWZmZWN0UmVmIGlkeD1cIjFcIj48YTpzY2hlbWVDbHIgdmFsPVwiYWNjZW50MVwiLz48L2E6ZWZmZWN0UmVmPjxhOmZvbnRSZWYgaWR4PVwibWlub3JcIj48YTpzY2hlbWVDbHIgdmFsPVwidHgxXCIvPjwvYTpmb250UmVmPjwvYTpzdHlsZT4nO1xuXHRvW28ubGVuZ3RoXSA9ICAgJzwvYTpsbkRlZj4nO1xuXHRvW28ubGVuZ3RoXSA9ICAnPC9hOm9iamVjdERlZmF1bHRzPic7XG5cdG9bby5sZW5ndGhdID0gICc8YTpleHRyYUNsclNjaGVtZUxzdC8+Jztcblx0b1tvLmxlbmd0aF0gPSAnPC9hOnRoZW1lPic7XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG4vKiBbTVMtWExTXSAyLjQuMzI2IFRPRE86IHBheWxvYWQgaXMgYSB6aXAgZmlsZSAqL1xuZnVuY3Rpb24gcGFyc2VfVGhlbWUoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBlbmQgPSBibG9iLmwgKyBsZW5ndGg7XG5cdHZhciBkd1RoZW1lVmVyc2lvbiA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0aWYoZHdUaGVtZVZlcnNpb24gPT09IDEyNDIyNikgcmV0dXJuO1xuXHRpZighb3B0cy5jZWxsU3R5bGVzKSB7IGJsb2IubCA9IGVuZDsgcmV0dXJuOyB9XG5cdHZhciBkYXRhID0gYmxvYi5zbGljZShibG9iLmwpO1xuXHRibG9iLmwgPSBlbmQ7XG5cdHZhciB6aXA7IHRyeSB7IHppcCA9IHppcF9yZWFkKGRhdGEsIHt0eXBlOiBcImFycmF5XCJ9KTsgfSBjYXRjaChlKSB7IHJldHVybjsgfVxuXHR2YXIgdGhlbWVYTUwgPSBnZXR6aXBzdHIoemlwLCBcInRoZW1lL3RoZW1lL3RoZW1lMS54bWxcIiwgdHJ1ZSk7XG5cdGlmKCF0aGVtZVhNTCkgcmV0dXJuO1xuXHRyZXR1cm4gcGFyc2VfdGhlbWVfeG1sKHRoZW1lWE1MLCBvcHRzKTtcbn1cblxuLyogMi41LjQ5ICovXG5mdW5jdGlvbiBwYXJzZV9Db2xvclRoZW1lKGJsb2IvKjo6LCBsZW5ndGgqLykgeyByZXR1cm4gYmxvYi5yZWFkX3NoaWZ0KDQpOyB9XG5cbi8qIDIuNS4xNTUgKi9cbmZ1bmN0aW9uIHBhcnNlX0Z1bGxDb2xvckV4dChibG9iLyo6OiwgbGVuZ3RoKi8pIHtcblx0dmFyIG8gPSB7fTtcblx0by54Y2xyVHlwZSA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0by5uVGludFNoYWRlID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRzd2l0Y2goby54Y2xyVHlwZSkge1xuXHRcdGNhc2UgMDogYmxvYi5sICs9IDQ7IGJyZWFrO1xuXHRcdGNhc2UgMTogby54Y2xyVmFsdWUgPSBwYXJzZV9JY3ZYRihibG9iLCA0KTsgYnJlYWs7XG5cdFx0Y2FzZSAyOiBvLnhjbHJWYWx1ZSA9IHBhcnNlX0xvbmdSR0JBKGJsb2IsIDQpOyBicmVhaztcblx0XHRjYXNlIDM6IG8ueGNsclZhbHVlID0gcGFyc2VfQ29sb3JUaGVtZShibG9iLCA0KTsgYnJlYWs7XG5cdFx0Y2FzZSA0OiBibG9iLmwgKz0gNDsgYnJlYWs7XG5cdH1cblx0YmxvYi5sICs9IDg7XG5cdHJldHVybiBvO1xufVxuXG4vKiAyLjUuMTY0IFRPRE86IHJlYWQgNyBiaXRzKi9cbmZ1bmN0aW9uIHBhcnNlX0ljdlhGKGJsb2IsIGxlbmd0aCkge1xuXHRyZXR1cm4gcGFyc2Vub29wKGJsb2IsIGxlbmd0aCk7XG59XG5cbi8qIDIuNS4yODAgKi9cbmZ1bmN0aW9uIHBhcnNlX1hGRXh0R3JhZGllbnQoYmxvYiwgbGVuZ3RoKSB7XG5cdHJldHVybiBwYXJzZW5vb3AoYmxvYiwgbGVuZ3RoKTtcbn1cblxuLyogW01TLVhMU10gMi41LjEwOCAqL1xuZnVuY3Rpb24gcGFyc2VfRXh0UHJvcChibG9iLyo6OiwgbGVuZ3RoKi8pLyo6QXJyYXk8YW55PiovIHtcblx0dmFyIGV4dFR5cGUgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBjYiA9IGJsb2IucmVhZF9zaGlmdCgyKSAtIDQ7XG5cdHZhciBvID0gW2V4dFR5cGVdO1xuXHRzd2l0Y2goZXh0VHlwZSkge1xuXHRcdGNhc2UgMHgwNDogY2FzZSAweDA1OiBjYXNlIDB4MDc6IGNhc2UgMHgwODpcblx0XHRjYXNlIDB4MDk6IGNhc2UgMHgwQTogY2FzZSAweDBCOiBjYXNlIDB4MEQ6XG5cdFx0XHRvWzFdID0gcGFyc2VfRnVsbENvbG9yRXh0KGJsb2IsIGNiKTsgYnJlYWs7XG5cdFx0Y2FzZSAweDA2OiBvWzFdID0gcGFyc2VfWEZFeHRHcmFkaWVudChibG9iLCBjYik7IGJyZWFrO1xuXHRcdGNhc2UgMHgwRTogY2FzZSAweDBGOiBvWzFdID0gYmxvYi5yZWFkX3NoaWZ0KGNiID09PSAxID8gMSA6IDIpOyBicmVhaztcblx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgRXh0UHJvcCB0eXBlOiBcIiArIGV4dFR5cGUgKyBcIiBcIiArIGNiKTtcblx0fVxuXHRyZXR1cm4gbztcbn1cblxuLyogMi40LjM1NSAqL1xuZnVuY3Rpb24gcGFyc2VfWEZFeHQoYmxvYiwgbGVuZ3RoKSB7XG5cdHZhciBlbmQgPSBibG9iLmwgKyBsZW5ndGg7XG5cdGJsb2IubCArPSAyO1xuXHR2YXIgaXhmZSA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0YmxvYi5sICs9IDI7XG5cdHZhciBjZXh0cyA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGV4dC8qOkFPQSovID0gW107XG5cdHdoaWxlKGNleHRzLS0gPiAwKSBleHQucHVzaChwYXJzZV9FeHRQcm9wKGJsb2IsIGVuZC1ibG9iLmwpKTtcblx0cmV0dXJuIHtpeGZlOml4ZmUsIGV4dDpleHR9O1xufVxuXG4vKiB4ZiBpcyBhbiBYRiwgc2VlIHBhcnNlX1hGRXh0IGZvciB4ZmV4dCAqL1xuZnVuY3Rpb24gdXBkYXRlX3hmZXh0KHhmLCB4ZmV4dCkge1xuXHR4ZmV4dC5mb3JFYWNoKGZ1bmN0aW9uKHhmZSkge1xuXHRcdHN3aXRjaCh4ZmVbMF0pIHsgLyogMi41LjEwOCBleHRQcm9wRGF0YSAqL1xuXHRcdFx0Y2FzZSAweDA0OiBicmVhazsgLyogZm9yZWdyb3VuZCBjb2xvciAqL1xuXHRcdFx0Y2FzZSAweDA1OiBicmVhazsgLyogYmFja2dyb3VuZCBjb2xvciAqL1xuXHRcdFx0Y2FzZSAweDA2OiBicmVhazsgLyogZ3JhZGllbnQgZmlsbCAqL1xuXHRcdFx0Y2FzZSAweDA3OiBicmVhazsgLyogdG9wIGNlbGwgYm9yZGVyIGNvbG9yICovXG5cdFx0XHRjYXNlIDB4MDg6IGJyZWFrOyAvKiBib3R0b20gY2VsbCBib3JkZXIgY29sb3IgKi9cblx0XHRcdGNhc2UgMHgwOTogYnJlYWs7IC8qIGxlZnQgY2VsbCBib3JkZXIgY29sb3IgKi9cblx0XHRcdGNhc2UgMHgwYTogYnJlYWs7IC8qIHJpZ2h0IGNlbGwgYm9yZGVyIGNvbG9yICovXG5cdFx0XHRjYXNlIDB4MGI6IGJyZWFrOyAvKiBkaWFnb25hbCBjZWxsIGJvcmRlciBjb2xvciAqL1xuXHRcdFx0Y2FzZSAweDBkOiAvKiB0ZXh0IGNvbG9yICovXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAweDBlOiBicmVhazsgLyogZm9udCBzY2hlbWUgKi9cblx0XHRcdGNhc2UgMHgwZjogYnJlYWs7IC8qIGluZGVudGF0aW9uIGxldmVsICovXG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gcGFyc2VfQnJ0TWR0aW5mbyhkYXRhLCBsZW5ndGgpIHtcbiAgcmV0dXJuIHtcbiAgICBmbGFnczogZGF0YS5yZWFkX3NoaWZ0KDQpLFxuICAgIHZlcnNpb246IGRhdGEucmVhZF9zaGlmdCg0KSxcbiAgICBuYW1lOiBwYXJzZV9YTFdpZGVTdHJpbmcoZGF0YSwgbGVuZ3RoIC0gOClcbiAgfTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydE1kdGluZm8oZGF0YSkge1xuICB2YXIgbyA9IG5ld19idWYoMTIgKyAyICogZGF0YS5uYW1lLmxlbmd0aCk7XG4gIG8ud3JpdGVfc2hpZnQoNCwgZGF0YS5mbGFncyk7XG4gIG8ud3JpdGVfc2hpZnQoNCwgZGF0YS52ZXJzaW9uKTtcbiAgd3JpdGVfWExXaWRlU3RyaW5nKGRhdGEubmFtZSwgbyk7XG4gIHJldHVybiBvLnNsaWNlKDAsIG8ubCk7XG59XG5mdW5jdGlvbiBwYXJzZV9CcnRNZGIoZGF0YSkge1xuICB2YXIgb3V0ID0gW107XG4gIHZhciBjbnQgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG4gIHdoaWxlIChjbnQtLSA+IDApXG4gICAgb3V0LnB1c2goW2RhdGEucmVhZF9zaGlmdCg0KSwgZGF0YS5yZWFkX3NoaWZ0KDQpXSk7XG4gIHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRNZGIobWRiKSB7XG4gIHZhciBvID0gbmV3X2J1Zig0ICsgOCAqIG1kYi5sZW5ndGgpO1xuICBvLndyaXRlX3NoaWZ0KDQsIG1kYi5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1kYi5sZW5ndGg7ICsraSkge1xuICAgIG8ud3JpdGVfc2hpZnQoNCwgbWRiW2ldWzBdKTtcbiAgICBvLndyaXRlX3NoaWZ0KDQsIG1kYltpXVsxXSk7XG4gIH1cbiAgcmV0dXJuIG87XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRCZWdpbkVzZm1kKGNudCwgbmFtZSkge1xuICB2YXIgbyA9IG5ld19idWYoOCArIDIgKiBuYW1lLmxlbmd0aCk7XG4gIG8ud3JpdGVfc2hpZnQoNCwgY250KTtcbiAgd3JpdGVfWExXaWRlU3RyaW5nKG5hbWUsIG8pO1xuICByZXR1cm4gby5zbGljZSgwLCBvLmwpO1xufVxuZnVuY3Rpb24gcGFyc2VfQnJ0QmVnaW5Fc21kYihkYXRhKSB7XG4gIGRhdGEubCArPSA0O1xuICByZXR1cm4gZGF0YS5yZWFkX3NoaWZ0KDQpICE9IDA7XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRCZWdpbkVzbWRiKGNudCwgY20pIHtcbiAgdmFyIG8gPSBuZXdfYnVmKDgpO1xuICBvLndyaXRlX3NoaWZ0KDQsIGNudCk7XG4gIG8ud3JpdGVfc2hpZnQoNCwgY20gPyAxIDogMCk7XG4gIHJldHVybiBvO1xufVxuZnVuY3Rpb24gcGFyc2VfeGxtZXRhX2JpbihkYXRhLCBuYW1lLCBfb3B0cykge1xuICB2YXIgb3V0ID0geyBUeXBlczogW10sIENlbGw6IFtdLCBWYWx1ZTogW10gfTtcbiAgdmFyIG9wdHMgPSBfb3B0cyB8fCB7fTtcbiAgdmFyIHN0YXRlID0gW107XG4gIHZhciBwYXNzID0gZmFsc2U7XG4gIHZhciBtZXRhdHlwZSA9IDI7XG4gIHJlY29yZGhvcHBlcihkYXRhLCBmdW5jdGlvbih2YWwsIFIsIFJUKSB7XG4gICAgc3dpdGNoIChSVCkge1xuICAgICAgY2FzZSAzMzU6XG4gICAgICAgIG91dC5UeXBlcy5wdXNoKHsgbmFtZTogdmFsLm5hbWUgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MTpcbiAgICAgICAgdmFsLmZvckVhY2goZnVuY3Rpb24ocikge1xuICAgICAgICAgIGlmIChtZXRhdHlwZSA9PSAxKVxuICAgICAgICAgICAgb3V0LkNlbGwucHVzaCh7IHR5cGU6IG91dC5UeXBlc1tyWzBdIC0gMV0ubmFtZSwgaW5kZXg6IHJbMV0gfSk7XG4gICAgICAgICAgZWxzZSBpZiAobWV0YXR5cGUgPT0gMClcbiAgICAgICAgICAgIG91dC5WYWx1ZS5wdXNoKHsgdHlwZTogb3V0LlR5cGVzW3JbMF0gLSAxXS5uYW1lLCBpbmRleDogclsxXSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzMzc6XG4gICAgICAgIG1ldGF0eXBlID0gdmFsID8gMSA6IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzMzg6XG4gICAgICAgIG1ldGF0eXBlID0gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM1OlxuICAgICAgICBzdGF0ZS5wdXNoKFJUKTtcbiAgICAgICAgcGFzcyA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzNjpcbiAgICAgICAgc3RhdGUucG9wKCk7XG4gICAgICAgIHBhc3MgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoUi5UKSB7XG4gICAgICAgIH0gZWxzZSBpZiAoIXBhc3MgfHwgb3B0cy5XVEYgJiYgc3RhdGVbc3RhdGUubGVuZ3RoIC0gMV0gIT0gMzUpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCByZWNvcmQgMHhcIiArIFJULnRvU3RyaW5nKDE2KSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHdyaXRlX3hsbWV0YV9iaW4oKSB7XG4gIHZhciBiYSA9IGJ1Zl9hcnJheSgpO1xuICB3cml0ZV9yZWNvcmQoYmEsIDMzMik7XG4gIHdyaXRlX3JlY29yZChiYSwgMzM0LCB3cml0ZV9VSW50MzJMRSgxKSk7XG4gIHdyaXRlX3JlY29yZChiYSwgMzM1LCB3cml0ZV9CcnRNZHRpbmZvKHtcbiAgICBuYW1lOiBcIlhMREFQUlwiLFxuICAgIHZlcnNpb246IDEyZTQsXG4gICAgZmxhZ3M6IDM0OTY2NTcwNzJcbiAgfSkpO1xuICB3cml0ZV9yZWNvcmQoYmEsIDMzNik7XG4gIHdyaXRlX3JlY29yZChiYSwgMzM5LCB3cml0ZV9CcnRCZWdpbkVzZm1kKDEsIFwiWExEQVBSXCIpKTtcbiAgd3JpdGVfcmVjb3JkKGJhLCA1Mik7XG4gIHdyaXRlX3JlY29yZChiYSwgMzUsIHdyaXRlX1VJbnQzMkxFKDUxNCkpO1xuICB3cml0ZV9yZWNvcmQoYmEsIDQwOTYsIHdyaXRlX1VJbnQzMkxFKDApKTtcbiAgd3JpdGVfcmVjb3JkKGJhLCA0MDk3LCB3cml0ZXVpbnQxNigxKSk7XG4gIHdyaXRlX3JlY29yZChiYSwgMzYpO1xuICB3cml0ZV9yZWNvcmQoYmEsIDUzKTtcbiAgd3JpdGVfcmVjb3JkKGJhLCAzNDApO1xuICB3cml0ZV9yZWNvcmQoYmEsIDMzNywgd3JpdGVfQnJ0QmVnaW5Fc21kYigxLCB0cnVlKSk7XG4gIHdyaXRlX3JlY29yZChiYSwgNTEsIHdyaXRlX0JydE1kYihbWzEsIDBdXSkpO1xuICB3cml0ZV9yZWNvcmQoYmEsIDMzOCk7XG4gIHdyaXRlX3JlY29yZChiYSwgMzMzKTtcbiAgcmV0dXJuIGJhLmVuZCgpO1xufVxuZnVuY3Rpb24gcGFyc2VfeGxtZXRhX3htbChkYXRhLCBuYW1lLCBvcHRzKSB7XG4gIHZhciBvdXQgPSB7IFR5cGVzOiBbXSwgQ2VsbDogW10sIFZhbHVlOiBbXSB9O1xuICBpZiAoIWRhdGEpXG4gICAgcmV0dXJuIG91dDtcbiAgdmFyIHBhc3MgPSBmYWxzZTtcbiAgdmFyIG1ldGF0eXBlID0gMjtcbiAgdmFyIGxhc3RtZXRhO1xuICBkYXRhLnJlcGxhY2UodGFncmVnZXgsIGZ1bmN0aW9uKHgpIHtcbiAgICB2YXIgeSA9IHBhcnNleG1sdGFnKHgpO1xuICAgIHN3aXRjaCAoc3RyaXBfbnMoeVswXSkpIHtcbiAgICAgIGNhc2UgXCI8P3htbFwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCI8bWV0YWRhdGFcIjpcbiAgICAgIGNhc2UgXCI8L21ldGFkYXRhPlwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCI8bWV0YWRhdGFUeXBlc1wiOlxuICAgICAgY2FzZSBcIjwvbWV0YWRhdGFUeXBlcz5cIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiPG1ldGFkYXRhVHlwZVwiOlxuICAgICAgICBvdXQuVHlwZXMucHVzaCh7IG5hbWU6IHkubmFtZSB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiPC9tZXRhZGF0YVR5cGU+XCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIjxmdXR1cmVNZXRhZGF0YVwiOlxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG91dC5UeXBlcy5sZW5ndGg7ICsrailcbiAgICAgICAgICBpZiAob3V0LlR5cGVzW2pdLm5hbWUgPT0geS5uYW1lKVxuICAgICAgICAgICAgbGFzdG1ldGEgPSBvdXQuVHlwZXNbal07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIjwvZnV0dXJlTWV0YWRhdGE+XCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIjxiaz5cIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiPC9iaz5cIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiPHJjXCI6XG4gICAgICAgIGlmIChtZXRhdHlwZSA9PSAxKVxuICAgICAgICAgIG91dC5DZWxsLnB1c2goeyB0eXBlOiBvdXQuVHlwZXNbeS50IC0gMV0ubmFtZSwgaW5kZXg6ICt5LnYgfSk7XG4gICAgICAgIGVsc2UgaWYgKG1ldGF0eXBlID09IDApXG4gICAgICAgICAgb3V0LlZhbHVlLnB1c2goeyB0eXBlOiBvdXQuVHlwZXNbeS50IC0gMV0ubmFtZSwgaW5kZXg6ICt5LnYgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIjwvcmM+XCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIjxjZWxsTWV0YWRhdGFcIjpcbiAgICAgICAgbWV0YXR5cGUgPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCI8L2NlbGxNZXRhZGF0YT5cIjpcbiAgICAgICAgbWV0YXR5cGUgPSAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCI8dmFsdWVNZXRhZGF0YVwiOlxuICAgICAgICBtZXRhdHlwZSA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIjwvdmFsdWVNZXRhZGF0YT5cIjpcbiAgICAgICAgbWV0YXR5cGUgPSAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCI8ZXh0THN0XCI6XG4gICAgICBjYXNlIFwiPGV4dExzdD5cIjpcbiAgICAgIGNhc2UgXCI8L2V4dExzdD5cIjpcbiAgICAgIGNhc2UgXCI8ZXh0THN0Lz5cIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiPGV4dFwiOlxuICAgICAgICBwYXNzID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiPC9leHQ+XCI6XG4gICAgICAgIHBhc3MgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiPHJ2YlwiOlxuICAgICAgICBpZiAoIWxhc3RtZXRhKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAoIWxhc3RtZXRhLm9mZnNldHMpXG4gICAgICAgICAgbGFzdG1ldGEub2Zmc2V0cyA9IFtdO1xuICAgICAgICBsYXN0bWV0YS5vZmZzZXRzLnB1c2goK3kuaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKCFwYXNzICYmIChvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLldURikpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5yZWNvZ25pemVkIFwiICsgeVswXSArIFwiIGluIG1ldGFkYXRhXCIpO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfSk7XG4gIHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiB3cml0ZV94bG1ldGFfeG1sKCkge1xuICB2YXIgbyA9IFtYTUxfSEVBREVSXTtcbiAgby5wdXNoKCc8bWV0YWRhdGEgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvc3ByZWFkc2hlZXRtbC8yMDA2L21haW5cIiB4bWxuczp4bHJkPVwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9vZmZpY2Uvc3ByZWFkc2hlZXRtbC8yMDE3L3JpY2hkYXRhXCIgeG1sbnM6eGRhPVwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9vZmZpY2Uvc3ByZWFkc2hlZXRtbC8yMDE3L2R5bmFtaWNhcnJheVwiPlxcbiAgPG1ldGFkYXRhVHlwZXMgY291bnQ9XCIxXCI+XFxuICAgIDxtZXRhZGF0YVR5cGUgbmFtZT1cIlhMREFQUlwiIG1pblN1cHBvcnRlZFZlcnNpb249XCIxMjAwMDBcIiBjb3B5PVwiMVwiIHBhc3RlQWxsPVwiMVwiIHBhc3RlVmFsdWVzPVwiMVwiIG1lcmdlPVwiMVwiIHNwbGl0Rmlyc3Q9XCIxXCIgcm93Q29sU2hpZnQ9XCIxXCIgY2xlYXJGb3JtYXRzPVwiMVwiIGNsZWFyQ29tbWVudHM9XCIxXCIgYXNzaWduPVwiMVwiIGNvZXJjZT1cIjFcIiBjZWxsTWV0YT1cIjFcIi8+XFxuICA8L21ldGFkYXRhVHlwZXM+XFxuICA8ZnV0dXJlTWV0YWRhdGEgbmFtZT1cIlhMREFQUlwiIGNvdW50PVwiMVwiPlxcbiAgICA8Yms+XFxuICAgICAgPGV4dExzdD5cXG4gICAgICAgIDxleHQgdXJpPVwie2JkYmI4Y2RjLWZhMWUtNDk2ZS1hODU3LTNjM2YzMGMwMjljM31cIj5cXG4gICAgICAgICAgPHhkYTpkeW5hbWljQXJyYXlQcm9wZXJ0aWVzIGZEeW5hbWljPVwiMVwiIGZDb2xsYXBzZWQ9XCIwXCIvPlxcbiAgICAgICAgPC9leHQ+XFxuICAgICAgPC9leHRMc3Q+XFxuICAgIDwvYms+XFxuICA8L2Z1dHVyZU1ldGFkYXRhPlxcbiAgPGNlbGxNZXRhZGF0YSBjb3VudD1cIjFcIj5cXG4gICAgPGJrPlxcbiAgICAgIDxyYyB0PVwiMVwiIHY9XCIwXCIvPlxcbiAgICA8L2JrPlxcbiAgPC9jZWxsTWV0YWRhdGE+XFxuPC9tZXRhZGF0YT4nKTtcbiAgcmV0dXJuIG8uam9pbihcIlwiKTtcbn1cbi8qIDE4LjYgQ2FsY3VsYXRpb24gQ2hhaW4gKi9cbmZ1bmN0aW9uIHBhcnNlX2NjX3htbChkYXRhLyo6OiwgbmFtZSwgb3B0cyovKS8qOkFycmF5PGFueT4qLyB7XG5cdHZhciBkID0gW107XG5cdGlmKCFkYXRhKSByZXR1cm4gZDtcblx0dmFyIGkgPSAxO1xuXHQoZGF0YS5tYXRjaCh0YWdyZWdleCl8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHgpIHtcblx0XHR2YXIgeSA9IHBhcnNleG1sdGFnKHgpO1xuXHRcdHN3aXRjaCh5WzBdKSB7XG5cdFx0XHRjYXNlICc8P3htbCc6IGJyZWFrO1xuXHRcdFx0LyogMTguNi4yICBjYWxjQ2hhaW4gQ1RfQ2FsY0NoYWluIDEgKi9cblx0XHRcdGNhc2UgJzxjYWxjQ2hhaW4nOiBjYXNlICc8Y2FsY0NoYWluPic6IGNhc2UgJzwvY2FsY0NoYWluPic6IGJyZWFrO1xuXHRcdFx0LyogMTguNi4xICBjIENUX0NhbGNDZWxsIDEgKi9cblx0XHRcdGNhc2UgJzxjJzogZGVsZXRlIHlbMF07IGlmKHkuaSkgaSA9IHkuaTsgZWxzZSB5LmkgPSBpOyBkLnB1c2goeSk7IGJyZWFrO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBkO1xufVxuXG4vL2Z1bmN0aW9uIHdyaXRlX2NjX3htbChkYXRhLCBvcHRzKSB7IH1cblxuLyogW01TLVhMU0JdIDIuNi40LjEgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydENhbGNDaGFpbkl0ZW0kKGRhdGEpIHtcblx0dmFyIG91dCA9IHt9O1xuXHRvdXQuaSA9IGRhdGEucmVhZF9zaGlmdCg0KTtcblx0dmFyIGNlbGwgPSB7fTtcblx0Y2VsbC5yID0gZGF0YS5yZWFkX3NoaWZ0KDQpO1xuXHRjZWxsLmMgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG5cdG91dC5yID0gZW5jb2RlX2NlbGwoY2VsbCk7XG5cdHZhciBmbGFncyA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0aWYoZmxhZ3MgJiAweDIpIG91dC5sID0gJzEnO1xuXHRpZihmbGFncyAmIDB4OCkgb3V0LmEgPSAnMSc7XG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIDE4LjYgQ2FsY3VsYXRpb24gQ2hhaW4gKi9cbmZ1bmN0aW9uIHBhcnNlX2NjX2JpbihkYXRhLCBuYW1lLCBvcHRzKSB7XG5cdHZhciBvdXQgPSBbXTtcblx0dmFyIHBhc3MgPSBmYWxzZTtcblx0cmVjb3JkaG9wcGVyKGRhdGEsIGZ1bmN0aW9uIGhvcHBlcl9jYyh2YWwsIFIsIFJUKSB7XG5cdFx0c3dpdGNoKFJUKSB7XG5cdFx0XHRjYXNlIDB4MDAzRjogLyogJ0JydENhbGNDaGFpbkl0ZW0kJyAqL1xuXHRcdFx0XHRvdXQucHVzaCh2YWwpOyBicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aWYoUi5UKXsvKiBlbXB0eSAqL31cblx0XHRcdFx0ZWxzZSBpZighcGFzcyB8fCBvcHRzLldURikgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCByZWNvcmQgMHhcIiArIFJULnRvU3RyaW5nKDE2KSk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIG91dDtcbn1cblxuLy9mdW5jdGlvbiB3cml0ZV9jY19iaW4oZGF0YSwgb3B0cykgeyB9XG4vKiAxOC4xNCBTdXBwbGVtZW50YXJ5IFdvcmtib29rIERhdGEgKi9cbmZ1bmN0aW9uIHBhcnNlX3hsaW5rX3htbCgvKjo6ZGF0YSwgcmVsLCBuYW1lOnN0cmluZywgX29wdHMqLykge1xuXHQvL3ZhciBvcHRzID0gX29wdHMgfHwge307XG5cdC8vaWYob3B0cy5XVEYpIHRocm93IFwiWExTWCBFeHRlcm5hbCBMaW5rXCI7XG59XG5cbi8qIFtNUy1YTFNCXSAyLjEuNy4yNSBFeHRlcm5hbCBMaW5rICovXG5mdW5jdGlvbiBwYXJzZV94bGlua19iaW4oZGF0YSwgcmVsLCBuYW1lLyo6c3RyaW5nKi8sIF9vcHRzKSB7XG5cdGlmKCFkYXRhKSByZXR1cm4gZGF0YTtcblx0dmFyIG9wdHMgPSBfb3B0cyB8fCB7fTtcblxuXHR2YXIgcGFzcyA9IGZhbHNlLCBlbmQgPSBmYWxzZTtcblxuXHRyZWNvcmRob3BwZXIoZGF0YSwgZnVuY3Rpb24geGxpbmtfcGFyc2UodmFsLCBSLCBSVCkge1xuXHRcdGlmKGVuZCkgcmV0dXJuO1xuXHRcdHN3aXRjaChSVCkge1xuXHRcdFx0Y2FzZSAweDAxNjc6IC8qICdCcnRTdXBUYWJzJyAqL1xuXHRcdFx0Y2FzZSAweDAxNkI6IC8qICdCcnRFeHRlcm5UYWJsZVN0YXJ0JyAqL1xuXHRcdFx0Y2FzZSAweDAxNkM6IC8qICdCcnRFeHRlcm5UYWJsZUVuZCcgKi9cblx0XHRcdGNhc2UgMHgwMTZFOiAvKiAnQnJ0RXh0ZXJuUm93SGRyJyAqL1xuXHRcdFx0Y2FzZSAweDAxNkY6IC8qICdCcnRFeHRlcm5DZWxsQmxhbmsnICovXG5cdFx0XHRjYXNlIDB4MDE3MDogLyogJ0JydEV4dGVybkNlbGxSZWFsJyAqL1xuXHRcdFx0Y2FzZSAweDAxNzE6IC8qICdCcnRFeHRlcm5DZWxsQm9vbCcgKi9cblx0XHRcdGNhc2UgMHgwMTcyOiAvKiAnQnJ0RXh0ZXJuQ2VsbEVycm9yJyAqL1xuXHRcdFx0Y2FzZSAweDAxNzM6IC8qICdCcnRFeHRlcm5DZWxsU3RyaW5nJyAqL1xuXHRcdFx0Y2FzZSAweDAxRDg6IC8qICdCcnRFeHRlcm5WYWx1ZU1ldGEnICovXG5cdFx0XHRjYXNlIDB4MDI0MTogLyogJ0JydFN1cE5hbWVTdGFydCcgKi9cblx0XHRcdGNhc2UgMHgwMjQyOiAvKiAnQnJ0U3VwTmFtZVZhbHVlU3RhcnQnICovXG5cdFx0XHRjYXNlIDB4MDI0MzogLyogJ0JydFN1cE5hbWVWYWx1ZUVuZCcgKi9cblx0XHRcdGNhc2UgMHgwMjQ0OiAvKiAnQnJ0U3VwTmFtZU51bScgKi9cblx0XHRcdGNhc2UgMHgwMjQ1OiAvKiAnQnJ0U3VwTmFtZUVycicgKi9cblx0XHRcdGNhc2UgMHgwMjQ2OiAvKiAnQnJ0U3VwTmFtZVN0JyAqL1xuXHRcdFx0Y2FzZSAweDAyNDc6IC8qICdCcnRTdXBOYW1lTmlsJyAqL1xuXHRcdFx0Y2FzZSAweDAyNDg6IC8qICdCcnRTdXBOYW1lQm9vbCcgKi9cblx0XHRcdGNhc2UgMHgwMjQ5OiAvKiAnQnJ0U3VwTmFtZUZtbGEnICovXG5cdFx0XHRjYXNlIDB4MDI0QTogLyogJ0JydFN1cE5hbWVCaXRzJyAqL1xuXHRcdFx0Y2FzZSAweDAyNEI6IC8qICdCcnRTdXBOYW1lRW5kJyAqL1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAweDAwMjM6IC8qICdCcnRGUlRCZWdpbicgKi9cblx0XHRcdFx0cGFzcyA9IHRydWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwMjQ6IC8qICdCcnRGUlRFbmQnICovXG5cdFx0XHRcdHBhc3MgPSBmYWxzZTsgYnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGlmKFIuVCl7LyogZW1wdHkgKi99XG5cdFx0XHRcdGVsc2UgaWYoIXBhc3MgfHwgb3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgcmVjb3JkIDB4XCIgKyBSVC50b1N0cmluZygxNikpO1xuXHRcdH1cblx0fSwgb3B0cyk7XG59XG4vKiAyMC41IERyYXdpbmdNTCAtIFNwcmVhZHNoZWV0TUwgRHJhd2luZyAqL1xuLyogMjAuNS4yLjM1IHdzRHIgQ1RfRHJhd2luZyAqL1xuZnVuY3Rpb24gcGFyc2VfZHJhd2luZyhkYXRhLCByZWxzLyo6YW55Ki8pIHtcblx0aWYoIWRhdGEpIHJldHVybiBcIj8/XCI7XG5cdC8qXG5cdCAgQ2hhcnRzaGVldCBEcmF3aW5nOlxuXHQgICAtIDIwLjUuMi4zNSB3c0RyIENUX0RyYXdpbmdcblx0ICAgIC0gMjAuNS4yLjEgIGFic29sdXRlQW5jaG9yIENUX0Fic29sdXRlQW5jaG9yXG5cdCAgICAgLSAyMC41LjIuMTYgZ3JhcGhpY0ZyYW1lIENUX0dyYXBoaWNhbE9iamVjdEZyYW1lXG5cdCAgICAgIC0gMjAuMS4yLjIuMTYgZ3JhcGhpYyBDVF9HcmFwaGljYWxPYmplY3Rcblx0ICAgICAgIC0gMjAuMS4yLjIuMTcgZ3JhcGhpY0RhdGEgQ1RfR3JhcGhpY2FsT2JqZWN0RGF0YVxuICAgICAgICAgIC0gY2hhcnQgcmVmZXJlbmNlXG5cdCAgIHRoZSBhY3R1YWwgdHlwZSBpcyBiYXNlZCBvbiB0aGUgVVJJIG9mIHRoZSBncmFwaGljRGF0YVxuXHRcdFRPRE86IGhhbmRsZSBlbWJlZGRlZCBjaGFydHMgYW5kIG90aGVyIHR5cGVzIG9mIGdyYXBoaWNzXG5cdCovXG5cdHZhciBpZCA9IChkYXRhLm1hdGNoKC88YzpjaGFydCBbXjw+XSpyOmlkPVwiKFtePD5cIl0qKVwiLyl8fFtcIlwiLFwiXCJdKVsxXTtcblxuXHRyZXR1cm4gcmVsc1snIWlkJ11baWRdLlRhcmdldDtcbn1cblxuLyogTC41LjUuMiBTcHJlYWRzaGVldE1MIENvbW1lbnRzICsgVk1MIFNjaGVtYSAqL1xuZnVuY3Rpb24gcGFyc2Vfdm1sKGRhdGEvKjpzdHJpbmcqLywgc2hlZXQsIGNvbW1lbnRzKSB7XG5cdHZhciBjaWR4ID0gMDtcblx0KHN0cl9tYXRjaF94bWxfbnNfZyhkYXRhLCBcInNoYXBlXCIpfHxbXSkuZm9yRWFjaChmdW5jdGlvbihtKSB7XG5cdFx0dmFyIHR5cGUgPSBcIlwiO1xuXHRcdHZhciBoaWRkZW4gPSB0cnVlO1xuXHRcdHZhciBhaWR4ID0gLTE7XG5cdFx0dmFyIFIgPSAtMSwgQyA9IC0xO1xuXHRcdG0ucmVwbGFjZSh0YWdyZWdleCwgZnVuY3Rpb24oeC8qOnN0cmluZyovLCBpZHgvKjpudW1iZXIqLykge1xuXHRcdFx0dmFyIHkgPSBwYXJzZXhtbHRhZyh4KTtcblx0XHRcdHN3aXRjaChzdHJpcF9ucyh5WzBdKSkge1xuXHRcdFx0XHRjYXNlICc8Q2xpZW50RGF0YSc6IGlmKHkuT2JqZWN0VHlwZSkgdHlwZSA9IHkuT2JqZWN0VHlwZTsgYnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnPFZpc2libGUnOiBjYXNlICc8VmlzaWJsZS8+JzogaGlkZGVuID0gZmFsc2U7IGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJzxSb3cnOiBjYXNlICc8Um93Pic6IGFpZHggPSBpZHggKyB4Lmxlbmd0aDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJzwvUm93Pic6IFIgPSArbS5zbGljZShhaWR4LCBpZHgpLnRyaW0oKTsgYnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnPENvbHVtbic6IGNhc2UgJzxDb2x1bW4+JzogYWlkeCA9IGlkeCArIHgubGVuZ3RoOyBicmVhaztcblx0XHRcdFx0Y2FzZSAnPC9Db2x1bW4+JzogQyA9ICttLnNsaWNlKGFpZHgsIGlkeCkudHJpbSgpOyBicmVhaztcblx0XHRcdH1cblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH0pO1xuXHRcdHN3aXRjaCh0eXBlKSB7XG5cdFx0Y2FzZSAnTm90ZSc6XG5cdFx0XHR2YXIgY2VsbCA9IHdzX2dldF9jZWxsX3N0dWIoc2hlZXQsICgoUj49MCAmJiBDPj0wKSA/IGVuY29kZV9jZWxsKHtyOlIsYzpDfSkgOiBjb21tZW50c1tjaWR4XS5yZWYpKTtcblx0XHRcdGlmKGNlbGwuYykge1xuXHRcdFx0XHRjZWxsLmMuaGlkZGVuID0gaGlkZGVuO1xuXHRcdFx0fVxuXHRcdFx0KytjaWR4O1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdH0pO1xufVxuXG5cbi8qIGNvbW1lbnQgYm94ZXMgKi9cbmZ1bmN0aW9uIHdyaXRlX3ZtbChySWQvKjpudW1iZXIqLywgY29tbWVudHMsIHdzKSB7XG5cdHZhciBjc2l6ZSA9IFsyMTYwMCwgMjE2MDBdO1xuXHQvKiBMLjUuMi4xLjIgUGF0aCBBdHRyaWJ1dGUgKi9cblx0dmFyIGJib3ggPSBbXCJtMCwwbDBcIixjc2l6ZVsxXSxjc2l6ZVswXSxjc2l6ZVsxXSxjc2l6ZVswXSxcIjB4ZVwiXS5qb2luKFwiLFwiKTtcblx0dmFyIG8gPSBbXG5cdFx0d3JpdGV4dGFnKFwieG1sXCIsIG51bGwsIHsgJ3htbG5zOnYnOiBYTE1MTlMudiwgJ3htbG5zOm8nOiBYTE1MTlMubywgJ3htbG5zOngnOiBYTE1MTlMueCwgJ3htbG5zOm12JzogWExNTE5TLm12IH0pLnJlcGxhY2UoL1xcLz4vLFwiPlwiKSxcblx0XHR3cml0ZXh0YWcoXCJvOnNoYXBlbGF5b3V0XCIsIHdyaXRleHRhZyhcIm86aWRtYXBcIiwgbnVsbCwgeyd2OmV4dCc6XCJlZGl0XCIsICdkYXRhJzpySWR9KSwgeyd2OmV4dCc6XCJlZGl0XCJ9KVxuXHRdO1xuXG5cdHZhciBfc2hhcGVpZCA9IDY1NTM2ICogcklkO1xuXG5cdHZhciBfY29tbWVudHMgPSBjb21tZW50cyB8fCBbXTtcblx0aWYoX2NvbW1lbnRzLmxlbmd0aCA+IDApIG8ucHVzaCh3cml0ZXh0YWcoXCJ2OnNoYXBldHlwZVwiLCBbXG5cdFx0d3JpdGV4dGFnKFwidjpzdHJva2VcIiwgbnVsbCwge2pvaW5zdHlsZTpcIm1pdGVyXCJ9KSxcblx0XHR3cml0ZXh0YWcoXCJ2OnBhdGhcIiwgbnVsbCwge2dyYWRpZW50c2hhcGVvazpcInRcIiwgJ286Y29ubmVjdHR5cGUnOlwicmVjdFwifSlcblx0XS5qb2luKFwiXCIpLCB7aWQ6XCJfeDAwMDBfdDIwMlwiLCBjb29yZHNpemU6Y3NpemUuam9pbihcIixcIiksICdvOnNwdCc6MjAyLCBwYXRoOmJib3h9KSk7XG5cblx0X2NvbW1lbnRzLmZvckVhY2goZnVuY3Rpb24oeCkgeyArK19zaGFwZWlkOyBvLnB1c2god3JpdGVfdm1sX2NvbW1lbnQoeCwgX3NoYXBlaWQpKTsgfSk7XG5cdG8ucHVzaCgnPC94bWw+Jyk7XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3ZtbF9jb21tZW50KHgsIF9zaGFwZWlkLCB3cykvKjpzdHJpbmcqLyB7XG5cdHZhciBjID0gZGVjb2RlX2NlbGwoeFswXSk7XG5cdHZhciBmaWxsb3B0cyA9IC8qOjooKi97J2NvbG9yMic6XCIjQkVGRjgyXCIsICd0eXBlJzpcImdyYWRpZW50XCJ9Lyo6OiA6YW55KSovO1xuXHRpZihmaWxsb3B0cy50eXBlID09IFwiZ3JhZGllbnRcIikgZmlsbG9wdHMuYW5nbGUgPSBcIi0xODBcIjtcblx0dmFyIGZpbGxwYXJtID0gZmlsbG9wdHMudHlwZSA9PSBcImdyYWRpZW50XCIgPyB3cml0ZXh0YWcoXCJvOmZpbGxcIiwgbnVsbCwge3R5cGU6XCJncmFkaWVudFVuc2NhbGVkXCIsICd2OmV4dCc6XCJ2aWV3XCJ9KSA6IG51bGw7XG5cdHZhciBmaWxseG1sID0gd3JpdGV4dGFnKCd2OmZpbGwnLCBmaWxscGFybSwgZmlsbG9wdHMpO1xuXG5cdHZhciBzaGFkYXRhID0gKHtvbjpcInRcIiwgJ29ic2N1cmVkJzpcInRcIn0vKjphbnkqLyk7XG5cblx0cmV0dXJuIFtcblx0Jzx2OnNoYXBlJyArIHd4dF9oZWxwZXIoe1xuXHRcdGlkOidfeDAwMDBfcycgKyBfc2hhcGVpZCxcblx0XHR0eXBlOlwiI194MDAwMF90MjAyXCIsXG5cdFx0c3R5bGU6XCJwb3NpdGlvbjphYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6ODBwdDttYXJnaW4tdG9wOjVwdDt3aWR0aDoxMDRwdDtoZWlnaHQ6NjRwdDt6LWluZGV4OjEwXCIgKyAoeFsxXS5oaWRkZW4gPyBcIjt2aXNpYmlsaXR5OmhpZGRlblwiIDogXCJcIikgLFxuXHRcdGZpbGxjb2xvcjpcIiNFQ0ZBRDRcIixcblx0XHRzdHJva2Vjb2xvcjpcIiNlZGVhYTFcIlxuXHR9KSArICc+Jyxcblx0XHRmaWxseG1sLFxuXHRcdHdyaXRleHRhZyhcInY6c2hhZG93XCIsIG51bGwsIHNoYWRhdGEpLFxuXHRcdHdyaXRleHRhZyhcInY6cGF0aFwiLCBudWxsLCB7J286Y29ubmVjdHR5cGUnOlwibm9uZVwifSksXG5cdFx0Jzx2OnRleHRib3g+PGRpdiBzdHlsZT1cInRleHQtYWxpZ246bGVmdFwiPjwvZGl2Pjwvdjp0ZXh0Ym94PicsXG5cdFx0Jzx4OkNsaWVudERhdGEgT2JqZWN0VHlwZT1cIk5vdGVcIj4nLFxuXHRcdFx0Jzx4Ok1vdmVXaXRoQ2VsbHMvPicsXG5cdFx0XHQnPHg6U2l6ZVdpdGhDZWxscy8+Jyxcblx0XHRcdC8qIFBhcnQgNCAxOS40LjIuMyBBbmNob3IgKEFuY2hvcikgKi9cblx0XHRcdHdyaXRldGFnKCd4OkFuY2hvcicsIFtjLmMrMSwgMCwgYy5yKzEsIDAsIGMuYyszLCAyMCwgYy5yKzUsIDIwXS5qb2luKFwiLFwiKSksXG5cdFx0XHR3cml0ZXRhZygneDpBdXRvRmlsbCcsIFwiRmFsc2VcIiksXG5cdFx0XHR3cml0ZXRhZygneDpSb3cnLCBTdHJpbmcoYy5yKSksXG5cdFx0XHR3cml0ZXRhZygneDpDb2x1bW4nLCBTdHJpbmcoYy5jKSksXG5cdFx0XHR4WzFdLmhpZGRlbiA/ICcnIDogJzx4OlZpc2libGUvPicsXG5cdFx0JzwveDpDbGllbnREYXRhPicsXG5cdCc8L3Y6c2hhcGU+J1xuXHRdLmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiBzaGVldF9pbnNlcnRfY29tbWVudHMoc2hlZXQvKjpXb3JrU2hlZXQqLywgY29tbWVudHMvKjpBcnJheTxSYXdDb21tZW50PiovLCB0aHJlYWRlZC8qOmJvb2xlYW4qLywgcGVvcGxlLyo6P0FycmF5PGFueT4qLykge1xuXHR2YXIgZGVuc2UgPSBzaGVldFtcIiFkYXRhXCJdICE9IG51bGw7XG5cdHZhciBjZWxsLyo6Q2VsbCovO1xuXHRjb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNvbW1lbnQpIHtcblx0XHR2YXIgciA9IGRlY29kZV9jZWxsKGNvbW1lbnQucmVmKTtcblx0XHRpZihyLnIgPCAwIHx8IHIuYyA8IDApIHJldHVybjtcblx0XHRpZihkZW5zZSkge1xuXHRcdFx0aWYoIXNoZWV0W1wiIWRhdGFcIl1bci5yXSkgc2hlZXRbXCIhZGF0YVwiXVtyLnJdID0gW107XG5cdFx0XHRjZWxsID0gc2hlZXRbXCIhZGF0YVwiXVtyLnJdW3IuY107XG5cdFx0fSBlbHNlIGNlbGwgPSBzaGVldFtjb21tZW50LnJlZl07XG5cdFx0aWYgKCFjZWxsKSB7XG5cdFx0XHRjZWxsID0gKHt0OlwielwifS8qOmFueSovKTtcblx0XHRcdGlmKGRlbnNlKSBzaGVldFtcIiFkYXRhXCJdW3Iucl1bci5jXSA9IGNlbGw7XG5cdFx0XHRlbHNlIHNoZWV0W2NvbW1lbnQucmVmXSA9IGNlbGw7XG5cdFx0XHR2YXIgcmFuZ2UgPSBzYWZlX2RlY29kZV9yYW5nZShzaGVldFtcIiFyZWZcIl18fFwiQkRXR08xMDAwMDAxOkExXCIpO1xuXHRcdFx0aWYocmFuZ2Uucy5yID4gci5yKSByYW5nZS5zLnIgPSByLnI7XG5cdFx0XHRpZihyYW5nZS5lLnIgPCByLnIpIHJhbmdlLmUuciA9IHIucjtcblx0XHRcdGlmKHJhbmdlLnMuYyA+IHIuYykgcmFuZ2Uucy5jID0gci5jO1xuXHRcdFx0aWYocmFuZ2UuZS5jIDwgci5jKSByYW5nZS5lLmMgPSByLmM7XG5cdFx0XHR2YXIgZW5jb2RlZCA9IGVuY29kZV9yYW5nZShyYW5nZSk7XG5cdFx0XHRzaGVldFtcIiFyZWZcIl0gPSBlbmNvZGVkO1xuXHRcdH1cblxuXHRcdGlmICghY2VsbC5jKSBjZWxsLmMgPSBbXTtcblx0XHR2YXIgby8qOkNvbW1lbnQqLyA9ICh7YTogY29tbWVudC5hdXRob3IsIHQ6IGNvbW1lbnQudCwgcjogY29tbWVudC5yLCBUOiB0aHJlYWRlZH0pO1xuXHRcdGlmKGNvbW1lbnQuaCkgby5oID0gY29tbWVudC5oO1xuXG5cdFx0LyogdGhyZWFkZWQgY29tbWVudHMgYWx3YXlzIG92ZXJyaWRlICovXG5cdFx0Zm9yKHZhciBpID0gY2VsbC5jLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG5cdFx0XHRpZighdGhyZWFkZWQgJiYgY2VsbC5jW2ldLlQpIHJldHVybjtcblx0XHRcdGlmKHRocmVhZGVkICYmICFjZWxsLmNbaV0uVCkgY2VsbC5jLnNwbGljZShpLCAxKTtcblx0XHR9XG5cdFx0aWYodGhyZWFkZWQgJiYgcGVvcGxlKSBmb3IoaSA9IDA7IGkgPCBwZW9wbGUubGVuZ3RoOyArK2kpIHtcblx0XHRcdGlmKG8uYSA9PSBwZW9wbGVbaV0uaWQpIHsgby5hID0gcGVvcGxlW2ldLm5hbWUgfHwgby5hOyBicmVhazsgfVxuXHRcdH1cblx0XHRjZWxsLmMucHVzaChvKTtcblx0fSk7XG59XG4vKiAxOC43IENvbW1lbnRzICovXG5mdW5jdGlvbiBwYXJzZV9jb21tZW50c194bWwoZGF0YS8qOnN0cmluZyovLCBvcHRzKS8qOkFycmF5PFJhd0NvbW1lbnQ+Ki8ge1xuXHQvKiAxOC43LjYgQ1RfQ29tbWVudHMgKi9cblx0aWYoZGF0YS5tYXRjaCgvPCg/Olxcdys6KT9jb21tZW50cyAqXFwvPi8pKSByZXR1cm4gW107XG5cdHZhciBhdXRob3JzLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHZhciBjb21tZW50TGlzdC8qOkFycmF5PFJhd0NvbW1lbnQ+Ki8gPSBbXTtcblx0dmFyIGF1dGh0YWcgPSBzdHJfbWF0Y2hfeG1sX25zKGRhdGEsIFwiYXV0aG9yc1wiKTtcblx0aWYoYXV0aHRhZyAmJiBhdXRodGFnWzFdKSBhdXRodGFnWzFdLnNwbGl0KC88XFwvXFx3Kjo/YXV0aG9yPi8pLmZvckVhY2goZnVuY3Rpb24oeCkge1xuXHRcdGlmKHggPT09IFwiXCIgfHwgeC50cmltKCkgPT09IFwiXCIpIHJldHVybjtcblx0XHR2YXIgYSA9IHgubWF0Y2goLzwoPzpcXHcrOik/YXV0aG9yW148Pl0qPiguKikvKTtcblx0XHRpZihhKSBhdXRob3JzLnB1c2goYVsxXSk7XG5cdH0pO1xuXHR2YXIgY21udHRhZyA9IHN0cl9tYXRjaF94bWxfbnMoZGF0YSwgXCJjb21tZW50TGlzdFwiKTtcblx0aWYoY21udHRhZyAmJiBjbW50dGFnWzFdKSBjbW50dGFnWzFdLnNwbGl0KC88XFwvXFx3Kjo/Y29tbWVudD4vKS5mb3JFYWNoKGZ1bmN0aW9uKHgpIHtcblx0XHRpZih4ID09PSBcIlwiIHx8IHgudHJpbSgpID09PSBcIlwiKSByZXR1cm47XG5cdFx0dmFyIGNtID0geC5tYXRjaCgvPCg/Olxcdys6KT9jb21tZW50W148Pl0qPi8pO1xuXHRcdGlmKCFjbSkgcmV0dXJuO1xuXHRcdHZhciB5ID0gcGFyc2V4bWx0YWcoY21bMF0pO1xuXHRcdHZhciBjb21tZW50Lyo6UmF3Q29tbWVudCovID0gKHsgYXV0aG9yOiB5LmF1dGhvcklkICYmIGF1dGhvcnNbeS5hdXRob3JJZF0gfHwgXCJzaGVldGpzZ2hvc3RcIiwgcmVmOiB5LnJlZiwgZ3VpZDogeS5ndWlkIH0vKjphbnkqLyk7XG5cdFx0dmFyIGNlbGwgPSBkZWNvZGVfY2VsbCh5LnJlZik7XG5cdFx0aWYob3B0cy5zaGVldFJvd3MgJiYgb3B0cy5zaGVldFJvd3MgPD0gY2VsbC5yKSByZXR1cm47XG5cdFx0dmFyIHRleHRNYXRjaCA9IHN0cl9tYXRjaF94bWxfbnMoeCwgXCJ0ZXh0XCIpO1xuXHRcdHZhciBydCA9ICEhdGV4dE1hdGNoICYmICEhdGV4dE1hdGNoWzFdICYmIHBhcnNlX3NpKHRleHRNYXRjaFsxXSkgfHwge3I6XCJcIix0OlwiXCIsaDpcIlwifTtcblx0XHRjb21tZW50LnIgPSBydC5yO1xuXHRcdGlmKHJ0LnIgPT0gXCI8dD48L3Q+XCIpIHJ0LnQgPSBydC5oID0gXCJcIjtcblx0XHRjb21tZW50LnQgPSAocnQudHx8XCJcIikucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikucmVwbGFjZSgvXFxyL2csXCJcXG5cIik7XG5cdFx0aWYob3B0cy5jZWxsSFRNTCkgY29tbWVudC5oID0gcnQuaDtcblx0XHRjb21tZW50TGlzdC5wdXNoKGNvbW1lbnQpO1xuXHR9KTtcblx0cmV0dXJuIGNvbW1lbnRMaXN0O1xufVxuXG5mdW5jdGlvbiB3cml0ZV9jb21tZW50c194bWwoZGF0YS8qOjosIG9wdHMqLykge1xuXHR2YXIgbyA9IFtYTUxfSEVBREVSLCB3cml0ZXh0YWcoJ2NvbW1lbnRzJywgbnVsbCwgeyAneG1sbnMnOiBYTUxOU19tYWluWzBdIH0pXTtcblxuXHR2YXIgaWF1dGhvci8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHRvLnB1c2goXCI8YXV0aG9ycz5cIik7XG5cdGRhdGEuZm9yRWFjaChmdW5jdGlvbih4KSB7IHhbMV0uZm9yRWFjaChmdW5jdGlvbih3KSB7IHZhciBhID0gZXNjYXBleG1sKHcuYSk7XG5cdFx0aWYoaWF1dGhvci5pbmRleE9mKGEpID09IC0xKSB7XG5cdFx0XHRpYXV0aG9yLnB1c2goYSk7XG5cdFx0XHRvLnB1c2goXCI8YXV0aG9yPlwiICsgYSArIFwiPC9hdXRob3I+XCIpO1xuXHRcdH1cblx0XHRpZih3LlQgJiYgdy5JRCAmJiBpYXV0aG9yLmluZGV4T2YoXCJ0Yz1cIiArIHcuSUQpID09IC0xKSB7XG5cdFx0XHRpYXV0aG9yLnB1c2goXCJ0Yz1cIiArIHcuSUQpO1xuXHRcdFx0by5wdXNoKFwiPGF1dGhvcj5cIiArIFwidGM9XCIgKyB3LklEICsgXCI8L2F1dGhvcj5cIik7XG5cdFx0fVxuXHR9KTsgfSk7XG5cdGlmKGlhdXRob3IubGVuZ3RoID09IDApIHsgaWF1dGhvci5wdXNoKFwiU2hlZXRKNVwiKTsgby5wdXNoKFwiPGF1dGhvcj5TaGVldEo1PC9hdXRob3I+XCIpOyB9XG5cdG8ucHVzaChcIjwvYXV0aG9ycz5cIik7XG5cdG8ucHVzaChcIjxjb21tZW50TGlzdD5cIik7XG5cdGRhdGEuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdFx0LyogMTguNy4zIENUX0NvbW1lbnQgKi9cblx0XHR2YXIgbGFzdGF1dGhvciA9IDAsIHRzID0gW10sIHRjbnQgPSAwO1xuXHRcdGlmKGRbMV1bMF0gJiYgZFsxXVswXS5UICYmIGRbMV1bMF0uSUQpIGxhc3RhdXRob3IgPSBpYXV0aG9yLmluZGV4T2YoXCJ0Yz1cIiArIGRbMV1bMF0uSUQpO1xuXHRcdGRbMV0uZm9yRWFjaChmdW5jdGlvbihjKSB7XG5cdFx0XHRpZihjLmEpIGxhc3RhdXRob3IgPSBpYXV0aG9yLmluZGV4T2YoZXNjYXBleG1sKGMuYSkpO1xuXHRcdFx0aWYoYy5UKSArK3RjbnQ7XG5cdFx0XHR0cy5wdXNoKGMudCA9PSBudWxsID8gXCJcIiA6IGVzY2FwZXhtbChjLnQpKTtcblx0XHR9KTtcblx0XHRpZih0Y250ID09PSAwKSB7XG5cdFx0XHRkWzFdLmZvckVhY2goZnVuY3Rpb24oYykge1xuXHRcdFx0XHRvLnB1c2goJzxjb21tZW50IHJlZj1cIicgKyBkWzBdICsgJ1wiIGF1dGhvcklkPVwiJyArIGlhdXRob3IuaW5kZXhPZihlc2NhcGV4bWwoYy5hKSkgKyAnXCI+PHRleHQ+Jyk7XG5cdFx0XHRcdG8ucHVzaCh3cml0ZXRhZyhcInRcIiwgYy50ID09IG51bGwgPyBcIlwiIDogZXNjYXBleG1sKGMudCkpKTtcblx0XHRcdFx0by5wdXNoKCc8L3RleHQ+PC9jb21tZW50PicpO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmKGRbMV1bMF0gJiYgZFsxXVswXS5UICYmIGRbMV1bMF0uSUQpIGxhc3RhdXRob3IgPSBpYXV0aG9yLmluZGV4T2YoXCJ0Yz1cIiArIGRbMV1bMF0uSUQpO1xuXHRcdFx0LyogYmFzZWQgb24gVGhyZWFkZWQgQ29tbWVudHMgLT4gQ29tbWVudHMgcHJvamVjdGlvbiAqL1xuXHRcdFx0by5wdXNoKCc8Y29tbWVudCByZWY9XCInICsgZFswXSArICdcIiBhdXRob3JJZD1cIicgKyBsYXN0YXV0aG9yICsgJ1wiPjx0ZXh0PicpO1xuXHRcdFx0dmFyIHQgPSBcIkNvbW1lbnQ6XFxuICAgIFwiICsgKHRzWzBdKSArIFwiXFxuXCI7XG5cdFx0XHRmb3IodmFyIGkgPSAxOyBpIDwgdHMubGVuZ3RoOyArK2kpIHQgKz0gXCJSZXBseTpcXG4gICAgXCIgKyB0c1tpXSArIFwiXFxuXCI7XG5cdFx0XHRvLnB1c2god3JpdGV0YWcoXCJ0XCIsIGVzY2FwZXhtbCh0KSkpO1xuXHRcdFx0by5wdXNoKCc8L3RleHQ+PC9jb21tZW50PicpO1xuXHRcdH1cblx0fSk7XG5cdG8ucHVzaChcIjwvY29tbWVudExpc3Q+XCIpO1xuXHRpZihvLmxlbmd0aD4yKSB7IG9bby5sZW5ndGhdID0gKCc8L2NvbW1lbnRzPicpOyBvWzFdPW9bMV0ucmVwbGFjZShcIi8+XCIsXCI+XCIpOyB9XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5cbi8qIFtNUy1YTFNYXSAyLjEuMTcgKi9cbmZ1bmN0aW9uIHBhcnNlX3RjbW50X3htbChkYXRhLyo6c3RyaW5nKi8sIG9wdHMpLyo6QXJyYXk8UmF3Q29tbWVudD4qLyB7XG5cdHZhciBvdXQgPSBbXTtcblx0dmFyIHBhc3MgPSBmYWxzZSwgY29tbWVudCA9IHt9LCB0aWR4ID0gMDtcblx0ZGF0YS5yZXBsYWNlKHRhZ3JlZ2V4LCBmdW5jdGlvbiB4bWxfdGNtbnQoeCwgaWR4KSB7XG5cdFx0dmFyIHkvKjphbnkqLyA9IHBhcnNleG1sdGFnKHgpO1xuXHRcdHN3aXRjaChzdHJpcF9ucyh5WzBdKSkge1xuXHRcdFx0Y2FzZSAnPD94bWwnOiBicmVhaztcblxuXHRcdFx0LyogMi42LjIwNyBUaHJlYWRlZENvbW1lbnRzIENUX1RocmVhZGVkQ29tbWVudHMgKi9cblx0XHRcdGNhc2UgJzxUaHJlYWRlZENvbW1lbnRzJzogYnJlYWs7XG5cdFx0XHRjYXNlICc8L1RocmVhZGVkQ29tbWVudHM+JzogYnJlYWs7XG5cblx0XHRcdC8qIDIuNi4yMDUgdGhyZWFkZWRDb21tZW50IENUX1RocmVhZGVkQ29tbWVudCAqL1xuXHRcdFx0Y2FzZSAnPHRocmVhZGVkQ29tbWVudCc6IGNvbW1lbnQgPSB7YXV0aG9yOiB5LnBlcnNvbklkLCBndWlkOiB5LmlkLCByZWY6IHkucmVmLCBUOiAxfTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L3RocmVhZGVkQ29tbWVudD4nOiBpZihjb21tZW50LnQgIT0gbnVsbCkgb3V0LnB1c2goY29tbWVudCk7IGJyZWFrO1xuXG5cdFx0XHRjYXNlICc8dGV4dD4nOiBjYXNlICc8dGV4dCc6IHRpZHggPSBpZHggKyB4Lmxlbmd0aDsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L3RleHQ+JzogY29tbWVudC50ID0gZGF0YS5zbGljZSh0aWR4LCBpZHgpLnJlcGxhY2UoL1xcclxcbi9nLCBcIlxcblwiKS5yZXBsYWNlKC9cXHIvZywgXCJcXG5cIik7IGJyZWFrO1xuXG5cdFx0XHQvKiAyLjYuMjA2IG1lbnRpb25zIENUX1RocmVhZGVkQ29tbWVudE1lbnRpb25zIFRPRE8gKi9cblx0XHRcdGNhc2UgJzxtZW50aW9ucyc6IGNhc2UgJzxtZW50aW9ucz4nOiBwYXNzID0gdHJ1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L21lbnRpb25zPic6IHBhc3MgPSBmYWxzZTsgYnJlYWs7XG5cblx0XHRcdC8qIDIuNi4yMDIgbWVudGlvbiBDVF9NZW50aW9uIFRPRE8gKi9cblxuXHRcdFx0LyogMTguMi4xMCBleHRMc3QgQ1RfRXh0ZW5zaW9uTGlzdCA/ICovXG5cdFx0XHRjYXNlICc8ZXh0THN0JzogY2FzZSAnPGV4dExzdD4nOiBjYXNlICc8L2V4dExzdD4nOiBjYXNlICc8ZXh0THN0Lz4nOiBicmVhaztcblx0XHRcdC8qIDE4LjIuNyAgZXh0IENUX0V4dGVuc2lvbiArICovXG5cdFx0XHRjYXNlICc8ZXh0JzogcGFzcz10cnVlOyBicmVhaztcblx0XHRcdGNhc2UgJzwvZXh0Pic6IHBhc3M9ZmFsc2U7IGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OiBpZighcGFzcyAmJiBvcHRzLldURikgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgJyArIHlbMF0gKyAnIGluIHRocmVhZGVkIGNvbW1lbnRzJyk7XG5cdFx0fVxuXHRcdHJldHVybiB4O1xuXHR9KTtcblx0cmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gd3JpdGVfdGNtbnRfeG1sKGNvbW1lbnRzLCBwZW9wbGUsIG9wdHMpIHtcblx0dmFyIG8gPSBbWE1MX0hFQURFUiwgd3JpdGV4dGFnKCdUaHJlYWRlZENvbW1lbnRzJywgbnVsbCwgeyAneG1sbnMnOiBYTUxOUy5UQ01OVCB9KS5yZXBsYWNlKC9bXFwvXT4vLCBcIj5cIildO1xuXHRjb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNhcnIpIHtcblx0XHR2YXIgcm9vdGlkID0gXCJcIjtcblx0XHQoY2FyclsxXSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbihjLCBpZHgpIHtcblx0XHRcdGlmKCFjLlQpIHsgZGVsZXRlIGMuSUQ7IHJldHVybjsgfVxuXHRcdFx0aWYoYy5hICYmIHBlb3BsZS5pbmRleE9mKGMuYSkgPT0gLTEpIHBlb3BsZS5wdXNoKGMuYSk7XG5cdFx0XHR2YXIgdGNvcHRzID0ge1xuXHRcdFx0XHRyZWY6IGNhcnJbMF0sXG5cdFx0XHRcdGlkOiBcIns1NEVFNzk1MS03MjYyLTQyMDAtNjk2OS1cIiArIChcIjAwMDAwMDAwMDAwMFwiICsgb3B0cy50Y2lkKyspLnNsaWNlKC0xMikgKyBcIn1cIlxuXHRcdFx0fTtcblx0XHRcdGlmKGlkeCA9PSAwKSByb290aWQgPSB0Y29wdHMuaWQ7XG5cdFx0XHRlbHNlIHRjb3B0cy5wYXJlbnRJZCA9IHJvb3RpZDtcblx0XHRcdGMuSUQgPSB0Y29wdHMuaWQ7XG5cdFx0XHRpZihjLmEpIHRjb3B0cy5wZXJzb25JZCA9IFwiezU0RUU3OTUwLTcyNjItNDIwMC02OTY5LVwiICsgKFwiMDAwMDAwMDAwMDAwXCIgKyBwZW9wbGUuaW5kZXhPZihjLmEpKS5zbGljZSgtMTIpICsgXCJ9XCI7XG5cdFx0XHRvLnB1c2god3JpdGV4dGFnKCd0aHJlYWRlZENvbW1lbnQnLCB3cml0ZXRhZygndGV4dCcsIGMudHx8XCJcIiksIHRjb3B0cykpO1xuXHRcdH0pO1xuXHR9KTtcblx0by5wdXNoKCc8L1RocmVhZGVkQ29tbWVudHM+Jyk7XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5cbi8qIFtNUy1YTFNYXSAyLjEuMTggKi9cbmZ1bmN0aW9uIHBhcnNlX3Blb3BsZV94bWwoZGF0YS8qOnN0cmluZyovLCBvcHRzKSB7XG5cdHZhciBvdXQgPSBbXTtcblx0dmFyIHBhc3MgPSBmYWxzZTtcblx0ZGF0YS5yZXBsYWNlKHRhZ3JlZ2V4LCBmdW5jdGlvbiB4bWxfdGNtbnQoeCkge1xuXHRcdHZhciB5Lyo6YW55Ki8gPSBwYXJzZXhtbHRhZyh4KTtcblx0XHRzd2l0Y2goc3RyaXBfbnMoeVswXSkpIHtcblx0XHRcdGNhc2UgJzw/eG1sJzogYnJlYWs7XG5cblx0XHRcdC8qIDIuNC44NSBwZXJzb25MaXN0IENUX1BlcnNvbkxpc3QgKi9cblx0XHRcdGNhc2UgJzxwZXJzb25MaXN0JzogYnJlYWs7XG5cdFx0XHRjYXNlICc8L3BlcnNvbkxpc3Q+JzogYnJlYWs7XG5cblx0XHRcdC8qIDIuNi4yMDMgcGVyc29uIENUX1BlcnNvbiBUT0RPOiBwcm92aWRlcnMgKi9cblx0XHRcdGNhc2UgJzxwZXJzb24nOiBvdXQucHVzaCh7bmFtZTogeS5kaXNwbGF5bmFtZSwgaWQ6IHkuaWQgfSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9wZXJzb24+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjIuMTAgZXh0THN0IENUX0V4dGVuc2lvbkxpc3QgPyAqL1xuXHRcdFx0Y2FzZSAnPGV4dExzdCc6IGNhc2UgJzxleHRMc3Q+JzogY2FzZSAnPC9leHRMc3Q+JzogY2FzZSAnPGV4dExzdC8+JzogYnJlYWs7XG5cdFx0XHQvKiAxOC4yLjcgIGV4dCBDVF9FeHRlbnNpb24gKyAqL1xuXHRcdFx0Y2FzZSAnPGV4dCc6IHBhc3M9dHJ1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L2V4dD4nOiBwYXNzPWZhbHNlOyBicmVhaztcblxuXHRcdFx0ZGVmYXVsdDogaWYoIXBhc3MgJiYgb3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkICcgKyB5WzBdICsgJyBpbiB0aHJlYWRlZCBjb21tZW50cycpO1xuXHRcdH1cblx0XHRyZXR1cm4geDtcblx0fSk7XG5cdHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiB3cml0ZV9wZW9wbGVfeG1sKHBlb3BsZS8qLCBvcHRzKi8pIHtcblx0dmFyIG8gPSBbWE1MX0hFQURFUiwgd3JpdGV4dGFnKCdwZXJzb25MaXN0JywgbnVsbCwge1xuXHRcdCd4bWxucyc6IFhNTE5TLlRDTU5ULFxuXHRcdCd4bWxuczp4JzogWE1MTlNfbWFpblswXVxuXHR9KS5yZXBsYWNlKC9bXFwvXT4vLCBcIj5cIildO1xuXHRwZW9wbGUuZm9yRWFjaChmdW5jdGlvbihwZXJzb24sIGlkeCkge1xuXHRcdG8ucHVzaCh3cml0ZXh0YWcoJ3BlcnNvbicsIG51bGwsIHtcblx0XHRcdGRpc3BsYXlOYW1lOiBwZXJzb24sXG5cdFx0XHRpZDogXCJ7NTRFRTc5NTAtNzI2Mi00MjAwLTY5NjktXCIgKyAoXCIwMDAwMDAwMDAwMDBcIiArIGlkeCkuc2xpY2UoLTEyKSArIFwifVwiLFxuXHRcdFx0dXNlcklkOiBwZXJzb24sXG5cdFx0XHRwcm92aWRlcklkOiBcIk5vbmVcIlxuXHRcdH0pKTtcblx0fSk7XG5cdG8ucHVzaChcIjwvcGVyc29uTGlzdD5cIik7XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG4vKiBbTVMtWExTQl0gMi40LjI4IEJydEJlZ2luQ29tbWVudCAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0QmVnaW5Db21tZW50KGRhdGEpIHtcblx0dmFyIG91dCA9IHt9O1xuXHRvdXQuaWF1dGhvciA9IGRhdGEucmVhZF9zaGlmdCg0KTtcblx0dmFyIHJmeCA9IHBhcnNlX1VuY2hlY2tlZFJmWChkYXRhLCAxNik7XG5cdG91dC5yZnggPSByZngucztcblx0b3V0LnJlZiA9IGVuY29kZV9jZWxsKHJmeC5zKTtcblx0ZGF0YS5sICs9IDE2OyAvKnZhciBndWlkID0gcGFyc2VfR1VJRChkYXRhKTsgKi9cblx0cmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydEJlZ2luQ29tbWVudChkYXRhLCBvKSB7XG5cdGlmKG8gPT0gbnVsbCkgbyA9IG5ld19idWYoMzYpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIGRhdGFbMV0uaWF1dGhvcik7XG5cdHdyaXRlX1VuY2hlY2tlZFJmWCgoZGF0YVswXS8qOmFueSovKSwgbyk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjMyNyBCcnRDb21tZW50QXV0aG9yICovXG52YXIgcGFyc2VfQnJ0Q29tbWVudEF1dGhvciA9IHBhcnNlX1hMV2lkZVN0cmluZztcbmZ1bmN0aW9uIHdyaXRlX0JydENvbW1lbnRBdXRob3IoZGF0YSkgeyByZXR1cm4gd3JpdGVfWExXaWRlU3RyaW5nKGRhdGEuc2xpY2UoMCwgNTQpKTsgfVxuXG4vKiBbTVMtWExTQl0gMi4xLjcuOCBDb21tZW50cyAqL1xuZnVuY3Rpb24gcGFyc2VfY29tbWVudHNfYmluKGRhdGEsIG9wdHMpLyo6QXJyYXk8UmF3Q29tbWVudD4qLyB7XG5cdHZhciBvdXQvKjpBcnJheTxSYXdDb21tZW50PiovID0gW107XG5cdHZhciBhdXRob3JzLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHZhciBjID0ge307XG5cdHZhciBwYXNzID0gZmFsc2U7XG5cdHJlY29yZGhvcHBlcihkYXRhLCBmdW5jdGlvbiBob3BwZXJfY21udCh2YWwsIFIsIFJUKSB7XG5cdFx0c3dpdGNoKFJUKSB7XG5cdFx0XHRjYXNlIDB4MDI3ODogLyogJ0JydENvbW1lbnRBdXRob3InICovXG5cdFx0XHRcdGF1dGhvcnMucHVzaCh2YWwpOyBicmVhaztcblx0XHRcdGNhc2UgMHgwMjdCOiAvKiAnQnJ0QmVnaW5Db21tZW50JyAqL1xuXHRcdFx0XHRjID0gdmFsOyBicmVhaztcblx0XHRcdGNhc2UgMHgwMjdEOiAvKiAnQnJ0Q29tbWVudFRleHQnICovXG5cdFx0XHRcdGMudCA9IHZhbC50OyBjLmggPSB2YWwuaDsgYy5yID0gdmFsLnI7IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAyN0M6IC8qICdCcnRFbmRDb21tZW50JyAqL1xuXHRcdFx0XHRjLmF1dGhvciA9IGF1dGhvcnNbYy5pYXV0aG9yXTtcblx0XHRcdFx0ZGVsZXRlIChjLyo6YW55Ki8pLmlhdXRob3I7XG5cdFx0XHRcdGlmKG9wdHMuc2hlZXRSb3dzICYmIGMucmZ4ICYmIG9wdHMuc2hlZXRSb3dzIDw9IGMucmZ4LnIpIGJyZWFrO1xuXHRcdFx0XHRpZighYy50KSBjLnQgPSBcIlwiO1xuXHRcdFx0XHRkZWxldGUgYy5yZng7IG91dC5wdXNoKGMpOyBicmVhaztcblxuXHRcdFx0Y2FzZSAweDBDMDA6IC8qICdCcnRVaWQnICovXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDB4MDAyMzogLyogJ0JydEZSVEJlZ2luJyAqL1xuXHRcdFx0XHRwYXNzID0gdHJ1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDB4MDAyNDogLyogJ0JydEZSVEVuZCcgKi9cblx0XHRcdFx0cGFzcyA9IGZhbHNlOyBicmVhaztcblx0XHRcdGNhc2UgMHgwMDI1OiAvKiAnQnJ0QUNCZWdpbicgKi8gYnJlYWs7XG5cdFx0XHRjYXNlIDB4MDAyNjogLyogJ0JydEFDRW5kJyAqLyBicmVhaztcblxuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRpZihSLlQpey8qIGVtcHR5ICovfVxuXHRcdFx0XHRlbHNlIGlmKCFwYXNzIHx8IG9wdHMuV1RGKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHJlY29yZCAweFwiICsgUlQudG9TdHJpbmcoMTYpKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiB3cml0ZV9jb21tZW50c19iaW4oZGF0YS8qOjosIG9wdHMqLykge1xuXHR2YXIgYmEgPSBidWZfYXJyYXkoKTtcblx0dmFyIGlhdXRob3IvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyNzQgLyogQnJ0QmVnaW5Db21tZW50cyAqLyk7XG5cblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyNzYgLyogQnJ0QmVnaW5Db21tZW50QXV0aG9ycyAqLyk7XG5cdGRhdGEuZm9yRWFjaChmdW5jdGlvbihjb21tZW50KSB7XG5cdFx0Y29tbWVudFsxXS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcblx0XHRcdGlmKGlhdXRob3IuaW5kZXhPZihjLmEpID4gLTEpIHJldHVybjtcblx0XHRcdGlhdXRob3IucHVzaChjLmEuc2xpY2UoMCw1NCkpO1xuXHRcdFx0d3JpdGVfcmVjb3JkKGJhLCAweDAyNzggLyogQnJ0Q29tbWVudEF1dGhvciAqLywgd3JpdGVfQnJ0Q29tbWVudEF1dGhvcihjLmEpKTtcblx0XHRcdGlmKGMuVCAmJiBjLklEICYmIGlhdXRob3IuaW5kZXhPZihcInRjPVwiICsgYy5JRCkgPT0gLTEpIHtcblx0XHRcdFx0aWF1dGhvci5wdXNoKFwidGM9XCIgKyBjLklEKTtcblx0XHRcdFx0d3JpdGVfcmVjb3JkKGJhLCAweDAyNzggLyogQnJ0Q29tbWVudEF1dGhvciAqLywgd3JpdGVfQnJ0Q29tbWVudEF1dGhvcihcInRjPVwiICsgYy5JRCkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyNzcgLyogQnJ0RW5kQ29tbWVudEF1dGhvcnMgKi8pO1xuXG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMjc5IC8qIEJydEJlZ2luQ29tbWVudExpc3QgKi8pO1xuXHRkYXRhLmZvckVhY2goZnVuY3Rpb24oY29tbWVudCkge1xuXHRcdGNvbW1lbnRbMV0uZm9yRWFjaChmdW5jdGlvbihjKSB7XG5cdFx0XHR2YXIgX2lhID0gLTE7XG5cdFx0XHRpZihjLklEKSBfaWEgPSBpYXV0aG9yLmluZGV4T2YoXCJ0Yz1cIiArIGMuSUQpO1xuXHRcdFx0aWYoX2lhID09IC0xICYmIGNvbW1lbnRbMV1bMF0uVCAmJiBjb21tZW50WzFdWzBdLklEKSBfaWEgPSBpYXV0aG9yLmluZGV4T2YoXCJ0Yz1cIiArIGNvbW1lbnRbMV1bMF0uSUQpO1xuXHRcdFx0aWYoX2lhID09IC0xKSBfaWEgPSBpYXV0aG9yLmluZGV4T2YoYy5hKTtcblx0XHRcdGMuaWF1dGhvciA9IF9pYTtcblx0XHRcdHZhciByYW5nZSA9IHtzOmRlY29kZV9jZWxsKGNvbW1lbnRbMF0pLGU6ZGVjb2RlX2NlbGwoY29tbWVudFswXSl9O1xuXHRcdFx0d3JpdGVfcmVjb3JkKGJhLCAweDAyN0IgLyogQnJ0QmVnaW5Db21tZW50ICovLCB3cml0ZV9CcnRCZWdpbkNvbW1lbnQoW3JhbmdlLCBjXSkpO1xuXHRcdFx0aWYoYy50ICYmIGMudC5sZW5ndGggPiAwKSB3cml0ZV9yZWNvcmQoYmEsIDB4MDI3RCAvKiBCcnRDb21tZW50VGV4dCAqLywgd3JpdGVfQnJ0Q29tbWVudFRleHQoYykpO1xuXHRcdFx0d3JpdGVfcmVjb3JkKGJhLCAweDAyN0MgLyogQnJ0RW5kQ29tbWVudCAqLyk7XG5cdFx0XHRkZWxldGUgYy5pYXV0aG9yO1xuXHRcdH0pO1xuXHR9KTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyN0EgLyogQnJ0RW5kQ29tbWVudExpc3QgKi8pO1xuXG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMjc1IC8qIEJydEVuZENvbW1lbnRzICovKTtcblx0cmV0dXJuIGJhLmVuZCgpO1xufVxudmFyIENUX1ZCQSA9IFwiYXBwbGljYXRpb24vdm5kLm1zLW9mZmljZS52YmFQcm9qZWN0XCI7XG5mdW5jdGlvbiBtYWtlX3ZiYV94bHMoY2ZiKSB7XG4gIHZhciBuZXdjZmIgPSBDRkIudXRpbHMuY2ZiX25ldyh7IHJvb3Q6IFwiUlwiIH0pO1xuICBjZmIuRnVsbFBhdGhzLmZvckVhY2goZnVuY3Rpb24ocCwgaSkge1xuICAgIGlmIChwLnNsaWNlKC0xKSA9PT0gXCIvXCIgfHwgIXAubWF0Y2goL19WQkFfUFJPSkVDVF9DVVIvKSlcbiAgICAgIHJldHVybjtcbiAgICB2YXIgbmV3cGF0aCA9IHAucmVwbGFjZSgvXlteXFwvXSovLCBcIlJcIikucmVwbGFjZSgvXFwvX1ZCQV9QUk9KRUNUX0NVUlxcdTAwMDAqLywgXCJcIik7XG4gICAgQ0ZCLnV0aWxzLmNmYl9hZGQobmV3Y2ZiLCBuZXdwYXRoLCBjZmIuRmlsZUluZGV4W2ldLmNvbnRlbnQpO1xuICB9KTtcbiAgcmV0dXJuIENGQi53cml0ZShuZXdjZmIpO1xufVxuZnVuY3Rpb24gZmlsbF92YmFfeGxzKGNmYiwgdmJhKSB7XG4gIHZiYS5GdWxsUGF0aHMuZm9yRWFjaChmdW5jdGlvbihwLCBpKSB7XG4gICAgaWYgKGkgPT0gMClcbiAgICAgIHJldHVybjtcbiAgICB2YXIgbmV3cGF0aCA9IHAucmVwbGFjZSgvXltcXC9dKlteXFwvXSpbXFwvXS8sIFwiL19WQkFfUFJPSkVDVF9DVVIvXCIpO1xuICAgIGlmIChuZXdwYXRoLnNsaWNlKC0xKSAhPT0gXCIvXCIpXG4gICAgICBDRkIudXRpbHMuY2ZiX2FkZChjZmIsIG5ld3BhdGgsIHZiYS5GaWxlSW5kZXhbaV0uY29udGVudCk7XG4gIH0pO1xufVxudmFyIFZCQUZNVFMgPSBbXCJ4bHNiXCIsIFwieGxzbVwiLCBcInhsYW1cIiwgXCJiaWZmOFwiLCBcInhsYVwiXTtcbi8qIG1hY3JvIGFuZCBkaWFsb2cgc2hlZXQgc3R1YnMgKi9cbmZ1bmN0aW9uIHBhcnNlX2RzX2JpbigvKjo6ZGF0YTphbnksIG9wdHMsIGlkeDpudW1iZXIsIHJlbHMsIHdiLCB0aGVtZXMsIHN0eWxlcyovKS8qOldvcmtzaGVldCovIHsgcmV0dXJuIHsnIXR5cGUnOidkaWFsb2cnfTsgfVxuZnVuY3Rpb24gcGFyc2VfZHNfeG1sKC8qOjpkYXRhOmFueSwgb3B0cywgaWR4Om51bWJlciwgcmVscywgd2IsIHRoZW1lcywgc3R5bGVzKi8pLyo6V29ya3NoZWV0Ki8geyByZXR1cm4geychdHlwZSc6J2RpYWxvZyd9OyB9XG5mdW5jdGlvbiBwYXJzZV9tc19iaW4oLyo6OmRhdGE6YW55LCBvcHRzLCBpZHg6bnVtYmVyLCByZWxzLCB3YiwgdGhlbWVzLCBzdHlsZXMqLykvKjpXb3Jrc2hlZXQqLyB7IHJldHVybiB7JyF0eXBlJzonbWFjcm8nfTsgfVxuZnVuY3Rpb24gcGFyc2VfbXNfeG1sKC8qOjpkYXRhOmFueSwgb3B0cywgaWR4Om51bWJlciwgcmVscywgd2IsIHRoZW1lcywgc3R5bGVzKi8pLyo6V29ya3NoZWV0Ki8geyByZXR1cm4geychdHlwZSc6J21hY3JvJ307IH1cbi8qIFRPRE86IGl0IHdpbGwgYmUgdXNlZnVsIHRvIHBhcnNlIHRoZSBmdW5jdGlvbiBzdHIgKi9cbnZhciByY190b19hMSA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKXtcblx0dmFyIHJjcmVnZXggPSAvKF58W15BLVphLXpfXSlSKFxcWz8tP1xcZCtcXF18WzEtOV1cXGQqfClDKFxcWz8tP1xcZCtcXF18WzEtOV1cXGQqfCkoPyFbQS1aYS16MC05X10pL2c7XG5cdHZhciByY2Jhc2UvKjpDZWxsKi8gPSAoe3I6MCxjOjB9Lyo6YW55Ki8pO1xuXHRmdW5jdGlvbiByY2Z1bmMoJCQsJDEsJDIsJDMpIHtcblx0XHR2YXIgY1JlbCA9IGZhbHNlLCByUmVsID0gZmFsc2U7XG5cblx0XHRpZigkMi5sZW5ndGggPT0gMCkgclJlbCA9IHRydWU7XG5cdFx0ZWxzZSBpZigkMi5jaGFyQXQoMCkgPT0gXCJbXCIpIHsgclJlbCA9IHRydWU7ICQyID0gJDIuc2xpY2UoMSwgLTEpOyB9XG5cblx0XHRpZigkMy5sZW5ndGggPT0gMCkgY1JlbCA9IHRydWU7XG5cdFx0ZWxzZSBpZigkMy5jaGFyQXQoMCkgPT0gXCJbXCIpIHsgY1JlbCA9IHRydWU7ICQzID0gJDMuc2xpY2UoMSwgLTEpOyB9XG5cblx0XHR2YXIgUiA9ICQyLmxlbmd0aD4wP3BhcnNlSW50KCQyLDEwKXwwOjAsIEMgPSAkMy5sZW5ndGg+MD9wYXJzZUludCgkMywxMCl8MDowO1xuXG5cdFx0aWYoY1JlbCkgQyArPSByY2Jhc2UuYzsgZWxzZSAtLUM7XG5cdFx0aWYoclJlbCkgUiArPSByY2Jhc2UucjsgZWxzZSAtLVI7XG5cdFx0cmV0dXJuICQxICsgKGNSZWwgPyBcIlwiIDogXCIkXCIpICsgZW5jb2RlX2NvbChDKSArIChyUmVsID8gXCJcIiA6IFwiJFwiKSArIGVuY29kZV9yb3coUik7XG5cdH1cblx0cmV0dXJuIGZ1bmN0aW9uIHJjX3RvX2ExKGZzdHIvKjpzdHJpbmcqLywgYmFzZS8qOkNlbGwqLykvKjpzdHJpbmcqLyB7XG5cdFx0cmNiYXNlID0gYmFzZTtcblx0XHRyZXR1cm4gZnN0ci5yZXBsYWNlKHJjcmVnZXgsIHJjZnVuYyk7XG5cdH07XG59KSgpO1xuXG52YXIgY3JlZnJlZ2V4ID0gLyhefFteLl9BLVowLTldKShcXCQ/KShbQS1aXXsxLDJ9fFtBLVddW0EtWl17Mn18WFtBLUVdW0EtWl18WEZbQS1EXSkoXFwkPykoXFxkezEsN30pKD8hW18uXFwoQS1aYS16MC05XSkvZztcbnRyeSB7XG5cdGNyZWZyZWdleCA9IC8oXnxbXi5fQS1aMC05XSkoWyRdPykoW0EtWl17MSwyfXxbQS1XXVtBLVpdezJ9fFhbQS1FXVtBLVpdfFhGW0EtRF0pKFskXT8pKDEwWzAtM11cXGR7NH18MTA0WzAtN11cXGR7M318MTA0OFswLTRdXFxkezJ9fDEwNDg1WzAtNl1cXGR8MTA0ODU3WzAtNl18WzEtOV1cXGR7MCw1fSkoPyFbXy5cXChBLVphLXowLTldKS9nO1xufWNhdGNoKGUpe31cbnZhciBhMV90b19yYyA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKXtcblx0cmV0dXJuIGZ1bmN0aW9uIGExX3RvX3JjKGZzdHIvKjpzdHJpbmcqLywgYmFzZS8qOkNlbGxBZGRyZXNzKi8pIHtcblx0XHRyZXR1cm4gZnN0ci5yZXBsYWNlKGNyZWZyZWdleCwgZnVuY3Rpb24oJDAsICQxLCAkMiwgJDMsICQ0LCAkNSkge1xuXHRcdFx0dmFyIGMgPSBkZWNvZGVfY29sKCQzKSAtICgkMiA/IDAgOiBiYXNlLmMpO1xuXHRcdFx0dmFyIHIgPSBkZWNvZGVfcm93KCQ1KSAtICgkNCA/IDAgOiBiYXNlLnIpO1xuXHRcdFx0dmFyIFIgPSAkNCA9PSBcIiRcIiA/IChyKzEpIDogKHIgPT0gMCA/IFwiXCIgOiBcIltcIiArIHIgKyBcIl1cIik7XG5cdFx0XHR2YXIgQyA9ICQyID09IFwiJFwiID8gKGMrMSkgOiAoYyA9PSAwID8gXCJcIiA6IFwiW1wiICsgYyArIFwiXVwiKTtcblx0XHRcdHJldHVybiAkMSArIFwiUlwiICsgUiArIFwiQ1wiICsgQztcblx0XHR9KTtcblx0fTtcbn0pKCk7XG5cbi8qIG5vIGRlZmluZWQgbmFtZSBjYW4gY29sbGlkZSB3aXRoIGEgdmFsaWQgY2VsbCBhZGRyZXNzIEExOlhGRDEwNDg1NzYgLi4uIGV4Y2VwdCBMT0cxMCEgKi9cbmZ1bmN0aW9uIHNoaWZ0X2Zvcm11bGFfc3RyKGYvKjpzdHJpbmcqLywgZGVsdGEvKjpDZWxsKi8pLyo6c3RyaW5nKi8ge1xuXHRyZXR1cm4gZi5yZXBsYWNlKGNyZWZyZWdleCwgZnVuY3Rpb24oJDAsICQxLCAkMiwgJDMsICQ0LCAkNSkge1xuXHRcdHJldHVybiAkMSsoJDI9PVwiJFwiID8gJDIrJDMgOiBlbmNvZGVfY29sKGRlY29kZV9jb2woJDMpK2RlbHRhLmMpKSsoJDQ9PVwiJFwiID8gJDQrJDUgOiBlbmNvZGVfcm93KGRlY29kZV9yb3coJDUpICsgZGVsdGEucikpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gc2hpZnRfZm9ybXVsYV94bHN4KGYvKjpzdHJpbmcqLywgcmFuZ2UvKjpzdHJpbmcqLywgY2VsbC8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0dmFyIHIgPSBkZWNvZGVfcmFuZ2UocmFuZ2UpLCBzID0gci5zLCBjID0gZGVjb2RlX2NlbGwoY2VsbCk7XG5cdHZhciBkZWx0YSA9IHtyOmMuciAtIHMuciwgYzpjLmMgLSBzLmN9O1xuXHRyZXR1cm4gc2hpZnRfZm9ybXVsYV9zdHIoZiwgZGVsdGEpO1xufVxuXG4vKiBUT0RPOiBwYXJzZSBmb3JtdWxhICovXG5mdW5jdGlvbiBmdXp6eWZtbGEoZi8qOnN0cmluZyovKS8qOmJvb2xlYW4qLyB7XG5cdGlmKGYubGVuZ3RoID09IDEpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIF94bGZuKGYvKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7XG5cdHJldHVybiBmLnJlcGxhY2UoL194bGZuXFwuL2csXCJcIik7XG59XG5mdW5jdGlvbiBwYXJzZXJlYWQxKGJsb2IpIHsgYmxvYi5sKz0xOyByZXR1cm47IH1cblxuLyogW01TLVhMU10gMi41LjUxICovXG5mdW5jdGlvbiBwYXJzZV9Db2xSZWxVKGJsb2IsIGxlbmd0aCkge1xuXHR2YXIgYyA9IGJsb2IucmVhZF9zaGlmdChsZW5ndGggPT0gMSA/IDEgOiAyKTtcblx0cmV0dXJuIFtjICYgMHgzRkZGLCAoYyA+PiAxNCkgJiAxLCAoYyA+PiAxNSkgJiAxXTtcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC4xMDUgOyBbTVMtWExTQl0gMi41Ljk3Ljg5ICovXG5mdW5jdGlvbiBwYXJzZV9SZ2NlQXJlYShibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHcgPSAyO1xuXHRpZihvcHRzKSB7XG5cdFx0aWYob3B0cy5iaWZmID49IDIgJiYgb3B0cy5iaWZmIDw9IDUpIHJldHVybiBwYXJzZV9SZ2NlQXJlYV9CSUZGMihibG9iLCBsZW5ndGgsIG9wdHMpO1xuXHRcdGVsc2UgaWYob3B0cy5iaWZmID09IDEyKSB3ID0gNDtcblx0fVxuXHR2YXIgcj1ibG9iLnJlYWRfc2hpZnQodyksIFI9YmxvYi5yZWFkX3NoaWZ0KHcpO1xuXHR2YXIgYz1wYXJzZV9Db2xSZWxVKGJsb2IsIDIpO1xuXHR2YXIgQz1wYXJzZV9Db2xSZWxVKGJsb2IsIDIpO1xuXHRyZXR1cm4geyBzOntyOnIsIGM6Y1swXSwgY1JlbDpjWzFdLCByUmVsOmNbMl19LCBlOntyOlIsIGM6Q1swXSwgY1JlbDpDWzFdLCByUmVsOkNbMl19IH07XG59XG4vKiBCSUZGIDItNSBlbmNvZGVzIGZsYWdzIGluIHRoZSByb3cgZmllbGQgKi9cbmZ1bmN0aW9uIHBhcnNlX1JnY2VBcmVhX0JJRkYyKGJsb2IvKjo6LCBsZW5ndGgsIG9wdHMqLykge1xuXHR2YXIgcj1wYXJzZV9Db2xSZWxVKGJsb2IsIDIpLCBSPXBhcnNlX0NvbFJlbFUoYmxvYiwgMik7XG5cdHZhciBjPWJsb2IucmVhZF9zaGlmdCgxKTtcblx0dmFyIEM9YmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRyZXR1cm4geyBzOntyOnJbMF0sIGM6YywgY1JlbDpyWzFdLCByUmVsOnJbMl19LCBlOntyOlJbMF0sIGM6QywgY1JlbDpSWzFdLCByUmVsOlJbMl19IH07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMTA1IDsgW01TLVhMU0JdIDIuNS45Ny45MCAqL1xuZnVuY3Rpb24gcGFyc2VfUmdjZUFyZWFSZWwoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGlmKG9wdHMuYmlmZiA8IDgpIHJldHVybiBwYXJzZV9SZ2NlQXJlYV9CSUZGMihibG9iLCBsZW5ndGgsIG9wdHMpO1xuXHR2YXIgcj1ibG9iLnJlYWRfc2hpZnQob3B0cy5iaWZmID09IDEyID8gNCA6IDIpLCBSPWJsb2IucmVhZF9zaGlmdChvcHRzLmJpZmYgPT0gMTIgPyA0IDogMik7XG5cdHZhciBjPXBhcnNlX0NvbFJlbFUoYmxvYiwgMik7XG5cdHZhciBDPXBhcnNlX0NvbFJlbFUoYmxvYiwgMik7XG5cdHJldHVybiB7IHM6e3I6ciwgYzpjWzBdLCBjUmVsOmNbMV0sIHJSZWw6Y1syXX0sIGU6e3I6UiwgYzpDWzBdLCBjUmVsOkNbMV0sIHJSZWw6Q1syXX0gfTtcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC4xMDkgOyBbTVMtWExTQl0gMi41Ljk3LjkxICovXG5mdW5jdGlvbiBwYXJzZV9SZ2NlTG9jKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHRpZihvcHRzICYmIG9wdHMuYmlmZiA+PSAyICYmIG9wdHMuYmlmZiA8PSA1KSByZXR1cm4gcGFyc2VfUmdjZUxvY19CSUZGMihibG9iLCBsZW5ndGgsIG9wdHMpO1xuXHR2YXIgciA9IGJsb2IucmVhZF9zaGlmdChvcHRzICYmIG9wdHMuYmlmZiA9PSAxMiA/IDQgOiAyKTtcblx0dmFyIGMgPSBwYXJzZV9Db2xSZWxVKGJsb2IsIDIpO1xuXHRyZXR1cm4ge3I6ciwgYzpjWzBdLCBjUmVsOmNbMV0sIHJSZWw6Y1syXX07XG59XG5mdW5jdGlvbiBwYXJzZV9SZ2NlTG9jX0JJRkYyKGJsb2IvKjo6LCBsZW5ndGgsIG9wdHMqLykge1xuXHR2YXIgciA9IHBhcnNlX0NvbFJlbFUoYmxvYiwgMik7XG5cdHZhciBjID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRyZXR1cm4ge3I6clswXSwgYzpjLCBjUmVsOnJbMV0sIHJSZWw6clsyXX07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMTA3LCAyLjUuNDcgKi9cbmZ1bmN0aW9uIHBhcnNlX1JnY2VFbGZMb2MoYmxvYi8qOjosIGxlbmd0aCwgb3B0cyovKSB7XG5cdHZhciByID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgYyA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0cmV0dXJuIHtyOnIsIGM6YyAmIDB4RkYsIGZRdW90ZWQ6ISEoYyAmIDB4NDAwMCksIGNSZWw6Yz4+MTUsIHJSZWw6Yz4+MTUgfTtcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC4xMTEgOyBbTVMtWExTQl0gMi41Ljk3LjkyIFRPRE8gKi9cbmZ1bmN0aW9uIHBhcnNlX1JnY2VMb2NSZWwoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBiaWZmID0gb3B0cyAmJiBvcHRzLmJpZmYgPyBvcHRzLmJpZmYgOiA4O1xuXHRpZihiaWZmID49IDIgJiYgYmlmZiA8PSA1KSByZXR1cm4gcGFyc2VfUmdjZUxvY1JlbF9CSUZGMihibG9iLCBsZW5ndGgsIG9wdHMpO1xuXHR2YXIgciA9IGJsb2IucmVhZF9zaGlmdChiaWZmID49IDEyID8gNCA6IDIpO1xuXHR2YXIgY2wgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBjUmVsID0gKGNsICYgMHg0MDAwKSA+PiAxNCwgclJlbCA9IChjbCAmIDB4ODAwMCkgPj4gMTU7XG5cdGNsICY9IDB4M0ZGRjtcblx0aWYoclJlbCA9PSAxKSB3aGlsZShyID4gMHg3RkZGRikgciAtPSAweDEwMDAwMDtcblx0aWYoY1JlbCA9PSAxKSB3aGlsZShjbCA+IDB4MUZGRikgY2wgPSBjbCAtIDB4NDAwMDtcblx0cmV0dXJuIHtyOnIsYzpjbCxjUmVsOmNSZWwsclJlbDpyUmVsfTtcbn1cbmZ1bmN0aW9uIHBhcnNlX1JnY2VMb2NSZWxfQklGRjIoYmxvYi8qOjosIGxlbmd0aDpudW1iZXIsIG9wdHMqLykge1xuXHR2YXIgcmwgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBjID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHR2YXIgclJlbCA9IChybCAmIDB4ODAwMCkgPj4gMTUsIGNSZWwgPSAocmwgJiAweDQwMDApID4+IDE0O1xuXHRybCAmPSAweDNGRkY7XG5cdGlmKHJSZWwgPT0gMSAmJiBybCA+PSAweDIwMDApIHJsID0gcmwgLSAweDQwMDA7XG5cdGlmKGNSZWwgPT0gMSAmJiBjID49IDB4ODApIGMgPSBjIC0gMHgxMDA7XG5cdHJldHVybiB7cjpybCxjOmMsY1JlbDpjUmVsLHJSZWw6clJlbH07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMjcgOyBbTVMtWExTQl0gMi41Ljk3LjE4ICovXG5mdW5jdGlvbiBwYXJzZV9QdGdBcmVhKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgdHlwZSA9IChibG9iW2Jsb2IubCsrXSAmIDB4NjApID4+IDU7XG5cdHZhciBhcmVhID0gcGFyc2VfUmdjZUFyZWEoYmxvYiwgb3B0cy5iaWZmID49IDIgJiYgb3B0cy5iaWZmIDw9IDUgPyA2IDogOCwgb3B0cyk7XG5cdHJldHVybiBbdHlwZSwgYXJlYV07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMjggOyBbTVMtWExTQl0gMi41Ljk3LjE5ICovXG5mdW5jdGlvbiBwYXJzZV9QdGdBcmVhM2QoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciB0eXBlID0gKGJsb2JbYmxvYi5sKytdICYgMHg2MCkgPj4gNTtcblx0dmFyIGl4dGkgPSBibG9iLnJlYWRfc2hpZnQoMiwgJ2knKTtcblx0dmFyIHcgPSA4O1xuXHRpZihvcHRzKSBzd2l0Y2gob3B0cy5iaWZmKSB7XG5cdFx0Y2FzZSA1OiBibG9iLmwgKz0gMTI7IHcgPSA2OyBicmVhaztcblx0XHRjYXNlIDEyOiB3ID0gMTI7IGJyZWFrO1xuXHR9XG5cdHZhciBhcmVhID0gcGFyc2VfUmdjZUFyZWEoYmxvYiwgdywgb3B0cyk7XG5cdHJldHVybiBbdHlwZSwgaXh0aSwgYXJlYV07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMjkgOyBbTVMtWExTQl0gMi41Ljk3LjIwICovXG5mdW5jdGlvbiBwYXJzZV9QdGdBcmVhRXJyKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgdHlwZSA9IChibG9iW2Jsb2IubCsrXSAmIDB4NjApID4+IDU7XG5cdGJsb2IubCArPSBvcHRzICYmIChvcHRzLmJpZmYgPiA4KSA/IDEyIDogKG9wdHMuYmlmZiA8IDggPyA2IDogOCk7XG5cdHJldHVybiBbdHlwZV07XG59XG4vKiBbTVMtWExTXSAyLjUuMTk4LjMwIDsgW01TLVhMU0JdIDIuNS45Ny4yMSAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnQXJlYUVycjNkKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgdHlwZSA9IChibG9iW2Jsb2IubCsrXSAmIDB4NjApID4+IDU7XG5cdHZhciBpeHRpID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgdyA9IDg7XG5cdGlmKG9wdHMpIHN3aXRjaChvcHRzLmJpZmYpIHtcblx0XHRjYXNlIDU6IGJsb2IubCArPSAxMjsgdyA9IDY7IGJyZWFrO1xuXHRcdGNhc2UgMTI6IHcgPSAxMjsgYnJlYWs7XG5cdH1cblx0YmxvYi5sICs9IHc7XG5cdHJldHVybiBbdHlwZSwgaXh0aV07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMzEgOyBbTVMtWExTQl0gMi41Ljk3LjIyICovXG5mdW5jdGlvbiBwYXJzZV9QdGdBcmVhTihibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHR5cGUgPSAoYmxvYltibG9iLmwrK10gJiAweDYwKSA+PiA1O1xuXHR2YXIgYXJlYSA9IHBhcnNlX1JnY2VBcmVhUmVsKGJsb2IsIGxlbmd0aCAtIDEsIG9wdHMpO1xuXHRyZXR1cm4gW3R5cGUsIGFyZWFdO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4LjMyIDsgW01TLVhMU0JdIDIuNS45Ny4yMyAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnQXJyYXkoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciB0eXBlID0gKGJsb2JbYmxvYi5sKytdICYgMHg2MCkgPj4gNTtcblx0YmxvYi5sICs9IG9wdHMuYmlmZiA9PSAyID8gNiA6IG9wdHMuYmlmZiA9PSAxMiA/IDE0IDogNztcblx0cmV0dXJuIFt0eXBlXTtcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC4zMyA7IFtNUy1YTFNCXSAyLjUuOTcuMjQgKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z0F0dHJCYXhjZWwoYmxvYikge1xuXHR2YXIgYml0U2VtaSA9IGJsb2JbYmxvYi5sKzFdICYgMHgwMTsgLyogMSA9IHZvbGF0aWxlICovXG5cdHZhciBiaXRCYXhjZWwgPSAxO1xuXHRibG9iLmwgKz0gNDtcblx0cmV0dXJuIFtiaXRTZW1pLCBiaXRCYXhjZWxdO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4LjM0IDsgW01TLVhMU0JdIDIuNS45Ny4yNSAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnQXR0ckNob29zZShibG9iLCBsZW5ndGgsIG9wdHMpLyo6QXJyYXk8bnVtYmVyPiovIHtcblx0YmxvYi5sICs9Mjtcblx0dmFyIG9mZnNldCA9IGJsb2IucmVhZF9zaGlmdChvcHRzICYmIG9wdHMuYmlmZiA9PSAyID8gMSA6IDIpO1xuXHR2YXIgby8qOkFycmF5PG51bWJlcj4qLyA9IFtdO1xuXHQvKiBvZmZzZXQgaXMgMSBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBlbGVtZW50cyAqL1xuXHRmb3IodmFyIGkgPSAwOyBpIDw9IG9mZnNldDsgKytpKSBvLnB1c2goYmxvYi5yZWFkX3NoaWZ0KG9wdHMgJiYgb3B0cy5iaWZmID09IDIgPyAxIDogMikpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC4zNSA7IFtNUy1YTFNCXSAyLjUuOTcuMjYgKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z0F0dHJHb3RvKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgYml0R290byA9IChibG9iW2Jsb2IubCsxXSAmIDB4RkYpID8gMSA6IDA7XG5cdGJsb2IubCArPSAyO1xuXHRyZXR1cm4gW2JpdEdvdG8sIGJsb2IucmVhZF9zaGlmdChvcHRzICYmIG9wdHMuYmlmZiA9PSAyID8gMSA6IDIpXTtcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC4zNiA7IFtNUy1YTFNCXSAyLjUuOTcuMjcgKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z0F0dHJJZihibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIGJpdElmID0gKGJsb2JbYmxvYi5sKzFdICYgMHhGRikgPyAxIDogMDtcblx0YmxvYi5sICs9IDI7XG5cdHJldHVybiBbYml0SWYsIGJsb2IucmVhZF9zaGlmdChvcHRzICYmIG9wdHMuYmlmZiA9PSAyID8gMSA6IDIpXTtcbn1cblxuLyogW01TLVhMU0JdIDIuNS45Ny4yOCAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnQXR0cklmRXJyb3IoYmxvYikge1xuXHR2YXIgYml0SWYgPSAoYmxvYltibG9iLmwrMV0gJiAweEZGKSA/IDEgOiAwO1xuXHRibG9iLmwgKz0gMjtcblx0cmV0dXJuIFtiaXRJZiwgYmxvYi5yZWFkX3NoaWZ0KDIpXTtcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC4zNyA7IFtNUy1YTFNCXSAyLjUuOTcuMjkgKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z0F0dHJTZW1pKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgYml0U2VtaSA9IChibG9iW2Jsb2IubCsxXSAmIDB4RkYpID8gMSA6IDA7XG5cdGJsb2IubCArPSBvcHRzICYmIG9wdHMuYmlmZiA9PSAyID8gMyA6IDQ7XG5cdHJldHVybiBbYml0U2VtaV07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguNDAgOyBbTVMtWExTQl0gMi41Ljk3LjMyICovXG5mdW5jdGlvbiBwYXJzZV9QdGdBdHRyU3BhY2VUeXBlKGJsb2IvKjo6LCBsZW5ndGgqLykge1xuXHR2YXIgdHlwZSA9IGJsb2IucmVhZF9zaGlmdCgxKSwgY2NoID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRyZXR1cm4gW3R5cGUsIGNjaF07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMzggOyBbTVMtWExTQl0gMi41Ljk3LjMwICovXG5mdW5jdGlvbiBwYXJzZV9QdGdBdHRyU3BhY2UoYmxvYikge1xuXHRibG9iLnJlYWRfc2hpZnQoMik7XG5cdHJldHVybiBwYXJzZV9QdGdBdHRyU3BhY2VUeXBlKGJsb2IsIDIpO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4LjM5IDsgW01TLVhMU0JdIDIuNS45Ny4zMSAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnQXR0clNwYWNlU2VtaShibG9iKSB7XG5cdGJsb2IucmVhZF9zaGlmdCgyKTtcblx0cmV0dXJuIHBhcnNlX1B0Z0F0dHJTcGFjZVR5cGUoYmxvYiwgMik7XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguODQgOyBbTVMtWExTQl0gMi41Ljk3LjY4IFRPRE8gKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z1JlZihibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0Ly92YXIgcHRnID0gYmxvYltibG9iLmxdICYgMHgxRjtcblx0dmFyIHR5cGUgPSAoYmxvYltibG9iLmxdICYgMHg2MCk+PjU7XG5cdGJsb2IubCArPSAxO1xuXHR2YXIgbG9jID0gcGFyc2VfUmdjZUxvYyhibG9iLCAwLCBvcHRzKTtcblx0cmV0dXJuIFt0eXBlLCBsb2NdO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4Ljg4IDsgW01TLVhMU0JdIDIuNS45Ny43MiBUT0RPICovXG5mdW5jdGlvbiBwYXJzZV9QdGdSZWZOKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgdHlwZSA9IChibG9iW2Jsb2IubF0gJiAweDYwKT4+NTtcblx0YmxvYi5sICs9IDE7XG5cdHZhciBsb2MgPSBwYXJzZV9SZ2NlTG9jUmVsKGJsb2IsIDAsIG9wdHMpO1xuXHRyZXR1cm4gW3R5cGUsIGxvY107XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguODUgOyBbTVMtWExTQl0gMi41Ljk3LjY5IFRPRE8gKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z1JlZjNkKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgdHlwZSA9IChibG9iW2Jsb2IubF0gJiAweDYwKT4+NTtcblx0YmxvYi5sICs9IDE7XG5cdHZhciBpeHRpID0gYmxvYi5yZWFkX3NoaWZ0KDIpOyAvLyBYdGlJbmRleFxuXHRpZihvcHRzICYmIG9wdHMuYmlmZiA9PSA1KSBibG9iLmwgKz0gMTI7XG5cdHZhciBsb2MgPSBwYXJzZV9SZ2NlTG9jKGJsb2IsIDAsIG9wdHMpOyAvLyBUT0RPOiBvciBSZ2NlTG9jUmVsXG5cdHJldHVybiBbdHlwZSwgaXh0aSwgbG9jXTtcbn1cblxuXG4vKiBbTVMtWExTXSAyLjUuMTk4LjYyIDsgW01TLVhMU0JdIDIuNS45Ny40NSBUT0RPICovXG5mdW5jdGlvbiBwYXJzZV9QdGdGdW5jKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHQvL3ZhciBwdGcgPSBibG9iW2Jsb2IubF0gJiAweDFGO1xuXHR2YXIgdHlwZSA9IChibG9iW2Jsb2IubF0gJiAweDYwKT4+NTtcblx0YmxvYi5sICs9IDE7XG5cdHZhciBpZnRhYiA9IGJsb2IucmVhZF9zaGlmdChvcHRzICYmIG9wdHMuYmlmZiA8PSAzID8gMSA6IDIpO1xuXHRyZXR1cm4gW0Z0YWJBcmdjW2lmdGFiXSwgRnRhYltpZnRhYl0sIHR5cGVdO1xufVxuLyogW01TLVhMU10gMi41LjE5OC42MyA7IFtNUy1YTFNCXSAyLjUuOTcuNDYgVE9ETyAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnRnVuY1ZhcihibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHR5cGUgPSBibG9iW2Jsb2IubCsrXTtcblx0dmFyIGNwYXJhbXMgPSBibG9iLnJlYWRfc2hpZnQoMSksIHRhYiA9IG9wdHMgJiYgb3B0cy5iaWZmIDw9IDMgPyBbKHR5cGUgPT0gMHg1OCA/IC0xIDogMCksIGJsb2IucmVhZF9zaGlmdCgxKV06IHBhcnNldGFiKGJsb2IpO1xuXHRyZXR1cm4gW2NwYXJhbXMsICh0YWJbMF0gPT09IDAgPyBGdGFiIDogQ2V0YWIpW3RhYlsxXV1dO1xufVxuXG5mdW5jdGlvbiBwYXJzZXRhYihibG9iKSB7XG5cdHJldHVybiBbYmxvYltibG9iLmwrMV0+PjcsIGJsb2IucmVhZF9zaGlmdCgyKSAmIDB4N0ZGRl07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguNDEgOyBbTVMtWExTQl0gMi41Ljk3LjMzICovXG5mdW5jdGlvbiBwYXJzZV9QdGdBdHRyU3VtKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHRibG9iLmwgKz0gb3B0cyAmJiBvcHRzLmJpZmYgPT0gMiA/IDMgOiA0OyByZXR1cm47XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguNTggOyBbTVMtWExTQl0gMi41Ljk3LjQwICovXG5mdW5jdGlvbiBwYXJzZV9QdGdFeHAoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGJsb2IubCsrO1xuXHRpZihvcHRzICYmIG9wdHMuYmlmZiA9PSAxMikgcmV0dXJuIFtibG9iLnJlYWRfc2hpZnQoNCwgJ2knKSwgMF07XG5cdHZhciByb3cgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBjb2wgPSBibG9iLnJlYWRfc2hpZnQob3B0cyAmJiBvcHRzLmJpZmYgPT0gMiA/IDEgOiAyKTtcblx0cmV0dXJuIFtyb3csIGNvbF07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguNTcgOyBbTVMtWExTQl0gMi41Ljk3LjM5ICovXG5mdW5jdGlvbiBwYXJzZV9QdGdFcnIoYmxvYikgeyBibG9iLmwrKzsgcmV0dXJuIEJFcnJbYmxvYi5yZWFkX3NoaWZ0KDEpXTsgfVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4LjY2IDsgW01TLVhMU0JdIDIuNS45Ny40OSAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnSW50KGJsb2IpIHsgYmxvYi5sKys7IHJldHVybiBibG9iLnJlYWRfc2hpZnQoMik7IH1cblxuLyogW01TLVhMU10gMi41LjE5OC40MiA7IFtNUy1YTFNCXSAyLjUuOTcuMzQgKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z0Jvb2woYmxvYikgeyBibG9iLmwrKzsgcmV0dXJuIGJsb2IucmVhZF9zaGlmdCgxKSE9PTA7fVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4Ljc5IDsgW01TLVhMU0JdIDIuNS45Ny42MyAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnTnVtKGJsb2IpIHsgYmxvYi5sKys7IHJldHVybiBwYXJzZV9YbnVtKGJsb2IsIDgpOyB9XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguODkgOyBbTVMtWExTQl0gMi41Ljk3Ljc0ICovXG5mdW5jdGlvbiBwYXJzZV9QdGdTdHIoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7IGJsb2IubCsrOyByZXR1cm4gcGFyc2VfU2hvcnRYTFVuaWNvZGVTdHJpbmcoYmxvYiwgbGVuZ3RoLTEsIG9wdHMpOyB9XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTIuMTEyICsgMi41LjE5Mi4xMXszLDQsNSw2LDd9ICovXG4vKiBbTVMtWExTQl0gMi41Ljk3LjkzICsgMi41Ljk3Ljl7NCw1LDYsN30gKi9cbmZ1bmN0aW9uIHBhcnNlX1NlckFyKGJsb2IsIGJpZmYvKjpudW1iZXIqLykge1xuXHR2YXIgdmFsID0gW2Jsb2IucmVhZF9zaGlmdCgxKV07XG5cdGlmKGJpZmYgPT0gMTIpIHN3aXRjaCh2YWxbMF0pIHtcblx0XHRjYXNlIDB4MDI6IHZhbFswXSA9IDB4MDQ7IGJyZWFrOyAvKiBTZXJCb29sICovXG5cdFx0Y2FzZSAweDA0OiB2YWxbMF0gPSAweDEwOyBicmVhazsgLyogU2VyRXJyICovXG5cdFx0Y2FzZSAweDAwOiB2YWxbMF0gPSAweDAxOyBicmVhazsgLyogU2VyTnVtICovXG5cdFx0Y2FzZSAweDAxOiB2YWxbMF0gPSAweDAyOyBicmVhazsgLyogU2VyU3RyICovXG5cdH1cblx0c3dpdGNoKHZhbFswXSkge1xuXHRcdGNhc2UgMHgwNDogLyogU2VyQm9vbCAtLSBib29sZWFuICovXG5cdFx0XHR2YWxbMV0gPSBwYXJzZWJvb2woYmxvYiwgMSkgPyAnVFJVRScgOiAnRkFMU0UnO1xuXHRcdFx0aWYoYmlmZiAhPSAxMikgYmxvYi5sICs9IDc7IGJyZWFrO1xuXHRcdGNhc2UgMHgyNTogLyogYXBwZWFycyB0byBiZSBhbiBhbGlhcyAqL1xuXHRcdGNhc2UgMHgxMDogLyogU2VyRXJyIC0tIGVycm9yICovXG5cdFx0XHR2YWxbMV0gPSBCRXJyW2Jsb2JbYmxvYi5sXV07XG5cdFx0XHRibG9iLmwgKz0gKChiaWZmID09IDEyKSA/IDQgOiA4KTsgYnJlYWs7XG5cdFx0Y2FzZSAweDAwOiAvKiBTZXJOaWwgLS0gaG9uZXN0bHksIEknbSBub3Qgc3VyZSBob3cgdG8gcmVwcm9kdWNlIHRoaXMgKi9cblx0XHRcdGJsb2IubCArPSA4OyBicmVhaztcblx0XHRjYXNlIDB4MDE6IC8qIFNlck51bSAtLSBYbnVtICovXG5cdFx0XHR2YWxbMV0gPSBwYXJzZV9YbnVtKGJsb2IsIDgpOyBicmVhaztcblx0XHRjYXNlIDB4MDI6IC8qIFNlclN0ciAtLSBYTFVuaWNvZGVTdHJpbmcgKDwyNTYgY2hhcnMpICovXG5cdFx0XHR2YWxbMV0gPSBwYXJzZV9YTFVuaWNvZGVTdHJpbmcyKGJsb2IsIDAsIHtiaWZmOmJpZmYgPiAwICYmIGJpZmYgPCA4ID8gMiA6IGJpZmZ9KTsgYnJlYWs7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiQmFkIFNlckFyOiBcIiArIHZhbFswXSk7IC8qIFVucmVhY2hhYmxlICovXG5cdH1cblx0cmV0dXJuIHZhbDtcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC42MSA7IFtNUy1YTFNCXSAyLjUuOTcuNDQgKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z0V4dHJhTWVtKGJsb2IsIGNjZSwgb3B0cykge1xuXHR2YXIgY291bnQgPSBibG9iLnJlYWRfc2hpZnQoKG9wdHMuYmlmZiA9PSAxMikgPyA0IDogMik7XG5cdHZhciBvdXQvKjpBcnJheTxSYW5nZT4qLyA9IFtdO1xuXHRmb3IodmFyIGkgPSAwOyBpICE9IGNvdW50OyArK2kpIG91dC5wdXNoKCgob3B0cy5iaWZmID09IDEyKSA/IHBhcnNlX1VuY2hlY2tlZFJmWCA6IHBhcnNlX1JlZjhVKShibG9iLCA4KSk7XG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguNTkgOyBbTVMtWExTQl0gMi41Ljk3LjQxICovXG5mdW5jdGlvbiBwYXJzZV9QdGdFeHRyYUFycmF5KGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgcm93cyA9IDAsIGNvbHMgPSAwO1xuXHRpZihvcHRzLmJpZmYgPT0gMTIpIHtcblx0XHRyb3dzID0gYmxvYi5yZWFkX3NoaWZ0KDQpOyAvLyBEUndcblx0XHRjb2xzID0gYmxvYi5yZWFkX3NoaWZ0KDQpOyAvLyBEQ29sXG5cdH0gZWxzZSB7XG5cdFx0Y29scyA9IDEgKyBibG9iLnJlYWRfc2hpZnQoMSk7IC8vRENvbEJ5dGVVXG5cdFx0cm93cyA9IDEgKyBibG9iLnJlYWRfc2hpZnQoMik7IC8vRFJ3XG5cdH1cblx0aWYob3B0cy5iaWZmID49IDIgJiYgb3B0cy5iaWZmIDwgOCkgeyAtLXJvd3M7IGlmKC0tY29scyA9PSAwKSBjb2xzID0gMHgxMDA7IH1cblx0Ly8gJEZsb3dJZ25vcmVcblx0Zm9yKHZhciBpID0gMCwgby8qOkFycmF5PEFycmF5PGFueT4+Ki8gPSBbXTsgaSAhPSByb3dzICYmIChvW2ldID0gW10pOyArK2kpXG5cdFx0Zm9yKHZhciBqID0gMDsgaiAhPSBjb2xzOyArK2opIG9baV1bal0gPSBwYXJzZV9TZXJBcihibG9iLCBvcHRzLmJpZmYpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC43NiA7IFtNUy1YTFNCXSAyLjUuOTcuNjAgKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z05hbWUoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciB0eXBlID0gKGJsb2IucmVhZF9zaGlmdCgxKSA+Pj4gNSkgJiAweDAzO1xuXHR2YXIgdyA9ICghb3B0cyB8fCAob3B0cy5iaWZmID49IDgpKSA/IDQgOiAyO1xuXHR2YXIgbmFtZWluZGV4ID0gYmxvYi5yZWFkX3NoaWZ0KHcpO1xuXHRzd2l0Y2gob3B0cy5iaWZmKSB7XG5cdFx0Y2FzZSAyOiBibG9iLmwgKz0gNTsgYnJlYWs7XG5cdFx0Y2FzZSAzOiBjYXNlIDQ6IGJsb2IubCArPSA4OyBicmVhaztcblx0XHRjYXNlIDU6IGJsb2IubCArPSAxMjsgYnJlYWs7XG5cdH1cblx0cmV0dXJuIFt0eXBlLCAwLCBuYW1laW5kZXhdO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4Ljc3IDsgW01TLVhMU0JdIDIuNS45Ny42MSAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnTmFtZVgoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdGlmKG9wdHMuYmlmZiA9PSA1KSByZXR1cm4gcGFyc2VfUHRnTmFtZVhfQklGRjUoYmxvYiwgbGVuZ3RoLCBvcHRzKTtcblx0dmFyIHR5cGUgPSAoYmxvYi5yZWFkX3NoaWZ0KDEpID4+PiA1KSAmIDB4MDM7XG5cdHZhciBpeHRpID0gYmxvYi5yZWFkX3NoaWZ0KDIpOyAvLyBYdGlJbmRleFxuXHR2YXIgbmFtZWluZGV4ID0gYmxvYi5yZWFkX3NoaWZ0KDQpO1xuXHRyZXR1cm4gW3R5cGUsIGl4dGksIG5hbWVpbmRleF07XG59XG5mdW5jdGlvbiBwYXJzZV9QdGdOYW1lWF9CSUZGNShibG9iLyo6OiwgbGVuZ3RoLCBvcHRzKi8pIHtcblx0dmFyIHR5cGUgPSAoYmxvYi5yZWFkX3NoaWZ0KDEpID4+PiA1KSAmIDB4MDM7XG5cdHZhciBpeHRpID0gYmxvYi5yZWFkX3NoaWZ0KDIsICdpJyk7IC8vIFh0aUluZGV4XG5cdGJsb2IubCArPSA4O1xuXHR2YXIgbmFtZWluZGV4ID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRibG9iLmwgKz0gMTI7XG5cdHJldHVybiBbdHlwZSwgaXh0aSwgbmFtZWluZGV4XTtcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC43MCA7IFtNUy1YTFNCXSAyLjUuOTcuNTQgKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z01lbUFyZWEoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciB0eXBlID0gKGJsb2IucmVhZF9zaGlmdCgxKSA+Pj4gNSkgJiAweDAzO1xuXHRibG9iLmwgKz0gKG9wdHMgJiYgb3B0cy5iaWZmID09IDIgPyAzIDogNCk7XG5cdHZhciBjY2UgPSBibG9iLnJlYWRfc2hpZnQob3B0cyAmJiBvcHRzLmJpZmYgPT0gMiA/IDEgOiAyKTtcblx0cmV0dXJuIFt0eXBlLCBjY2VdO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4LjcyIDsgW01TLVhMU0JdIDIuNS45Ny41NiAqL1xuZnVuY3Rpb24gcGFyc2VfUHRnTWVtRnVuYyhibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHR5cGUgPSAoYmxvYi5yZWFkX3NoaWZ0KDEpID4+PiA1KSAmIDB4MDM7XG5cdHZhciBjY2UgPSBibG9iLnJlYWRfc2hpZnQob3B0cyAmJiBvcHRzLmJpZmYgPT0gMiA/IDEgOiAyKTtcblx0cmV0dXJuIFt0eXBlLCBjY2VdO1xufVxuXG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguODYgOyBbTVMtWExTQl0gMi41Ljk3LjY5ICovXG5mdW5jdGlvbiBwYXJzZV9QdGdSZWZFcnIoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciB0eXBlID0gKGJsb2IucmVhZF9zaGlmdCgxKSA+Pj4gNSkgJiAweDAzO1xuXHRibG9iLmwgKz0gNDtcblx0aWYob3B0cy5iaWZmIDwgOCkgYmxvYi5sLS07XG5cdGlmKG9wdHMuYmlmZiA9PSAxMikgYmxvYi5sICs9IDI7XG5cdHJldHVybiBbdHlwZV07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguODcgOyBbTVMtWExTQl0gMi41Ljk3LjcxICovXG5mdW5jdGlvbiBwYXJzZV9QdGdSZWZFcnIzZChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHR5cGUgPSAoYmxvYltibG9iLmwrK10gJiAweDYwKSA+PiA1O1xuXHR2YXIgaXh0aSA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIHcgPSA0O1xuXHRpZihvcHRzKSBzd2l0Y2gob3B0cy5iaWZmKSB7XG5cdFx0Y2FzZSA1OiB3ID0gMTU7IGJyZWFrO1xuXHRcdGNhc2UgMTI6IHcgPSA2OyBicmVhaztcblx0fVxuXHRibG9iLmwgKz0gdztcblx0cmV0dXJuIFt0eXBlLCBpeHRpXTtcbn1cblxuLyogW01TLVhMU10gMi41LjE5OC43MSA7IFtNUy1YTFNCXSAyLjUuOTcuNTUgKi9cbnZhciBwYXJzZV9QdGdNZW1FcnIgPSBwYXJzZW5vb3A7XG4vKiBbTVMtWExTXSAyLjUuMTk4LjczICA7IFtNUy1YTFNCXSAyLjUuOTcuNTcgKi9cbnZhciBwYXJzZV9QdGdNZW1Ob01lbSA9IHBhcnNlbm9vcDtcbi8qIFtNUy1YTFNdIDIuNS4xOTguOTIgKi9cbnZhciBwYXJzZV9QdGdUYmwgPSBwYXJzZW5vb3A7XG5cbmZ1bmN0aW9uIHBhcnNlX1B0Z0VsZkxvYyhibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0YmxvYi5sICs9IDI7XG5cdHJldHVybiBbcGFyc2VfUmdjZUVsZkxvYyhibG9iLCA0LCBvcHRzKV07XG59XG5mdW5jdGlvbiBwYXJzZV9QdGdFbGZOb29wKGJsb2IvKjo6LCBsZW5ndGgsIG9wdHMqLykge1xuXHRibG9iLmwgKz0gNjtcblx0cmV0dXJuIFtdO1xufVxuLyogW01TLVhMU10gMi41LjE5OC40NiAqL1xudmFyIHBhcnNlX1B0Z0VsZkNvbCA9IHBhcnNlX1B0Z0VsZkxvYztcbi8qIFtNUy1YTFNdIDIuNS4xOTguNDcgKi9cbnZhciBwYXJzZV9QdGdFbGZDb2xTID0gcGFyc2VfUHRnRWxmTm9vcDtcbi8qIFtNUy1YTFNdIDIuNS4xOTguNDggKi9cbnZhciBwYXJzZV9QdGdFbGZDb2xTViA9IHBhcnNlX1B0Z0VsZk5vb3A7XG4vKiBbTVMtWExTXSAyLjUuMTk4LjQ5ICovXG52YXIgcGFyc2VfUHRnRWxmQ29sViA9IHBhcnNlX1B0Z0VsZkxvYztcbi8qIFtNUy1YTFNdIDIuNS4xOTguNTAgKi9cbmZ1bmN0aW9uIHBhcnNlX1B0Z0VsZkxlbChibG9iLyo6OiwgbGVuZ3RoLCBvcHRzKi8pIHtcblx0YmxvYi5sICs9IDI7XG5cdHJldHVybiBbcGFyc2V1aW50MTYoYmxvYiksIGJsb2IucmVhZF9zaGlmdCgyKSAmIDB4MDFdO1xufVxuLyogW01TLVhMU10gMi41LjE5OC41MSAqL1xudmFyIHBhcnNlX1B0Z0VsZlJhZGljYWwgPSBwYXJzZV9QdGdFbGZMb2M7XG4vKiBbTVMtWExTXSAyLjUuMTk4LjUyICovXG52YXIgcGFyc2VfUHRnRWxmUmFkaWNhbExlbCA9IHBhcnNlX1B0Z0VsZkxlbDtcbi8qIFtNUy1YTFNdIDIuNS4xOTguNTMgKi9cbnZhciBwYXJzZV9QdGdFbGZSYWRpY2FsUyA9IHBhcnNlX1B0Z0VsZk5vb3A7XG4vKiBbTVMtWExTXSAyLjUuMTk4LjU0ICovXG52YXIgcGFyc2VfUHRnRWxmUncgPSBwYXJzZV9QdGdFbGZMb2M7XG4vKiBbTVMtWExTXSAyLjUuMTk4LjU1ICovXG52YXIgcGFyc2VfUHRnRWxmUndWID0gcGFyc2VfUHRnRWxmTG9jO1xuXG4vKiBbTVMtWExTQl0gMi41Ljk3LjUyIFRPRE8gKi9cbnZhciBQdGdMaXN0UlQgPSBbXG5cdFwiRGF0YVwiLFxuXHRcIkFsbFwiLFxuXHRcIkhlYWRlcnNcIixcblx0XCI/P1wiLFxuXHRcIj9EYXRhMlwiLFxuXHRcIj8/XCIsXG5cdFwiP0RhdGFIZWFkZXJzXCIsXG5cdFwiPz9cIixcblx0XCJUb3RhbHNcIixcblx0XCI/P1wiLFxuXHRcIj8/XCIsXG5cdFwiPz9cIixcblx0XCI/RGF0YVRvdGFsc1wiLFxuXHRcIj8/XCIsXG5cdFwiPz9cIixcblx0XCI/P1wiLFxuXHRcIj9DdXJyZW50XCJcbl07XG5mdW5jdGlvbiBwYXJzZV9QdGdMaXN0KGJsb2IvKjo6LCBsZW5ndGgsIG9wdHMqLykge1xuXHRibG9iLmwgKz0gMjtcblx0dmFyIGl4dGkgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBmbGFncyA9IGJsb2IucmVhZF9zaGlmdCgyKTtcblx0dmFyIGlkeCA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0dmFyIGMgPSBibG9iLnJlYWRfc2hpZnQoMik7XG5cdHZhciBDID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHR2YXIgcnQgPSBQdGdMaXN0UlRbKGZsYWdzID4+IDIpICYgMHgxRl07XG5cdHJldHVybiB7aXh0aTogaXh0aSwgY29sdHlwZTooZmxhZ3MmMHgzKSwgcnQ6cnQsIGlkeDppZHgsIGM6YywgQzpDfTtcbn1cbi8qIFtNUy1YTFNdIDIuNS4xOTguOTEgOyBbTVMtWExTQl0gMi41Ljk3Ljc2ICovXG5mdW5jdGlvbiBwYXJzZV9QdGdTeE5hbWUoYmxvYi8qOjosIGxlbmd0aCwgb3B0cyovKSB7XG5cdGJsb2IubCArPSAyO1xuXHRyZXR1cm4gW2Jsb2IucmVhZF9zaGlmdCg0KV07XG59XG5cbi8qIFtYTFNdIG9sZCBzcGVjICovXG5mdW5jdGlvbiBwYXJzZV9QdGdTaGVldChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0YmxvYi5sICs9IDU7XG5cdGJsb2IubCArPSAyO1xuXHRibG9iLmwgKz0gKG9wdHMuYmlmZiA9PSAyID8gMSA6IDQpO1xuXHRyZXR1cm4gW1wiUFRHU0hFRVRcIl07XG59XG5mdW5jdGlvbiBwYXJzZV9QdGdFbmRTaGVldChibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0YmxvYi5sICs9IChvcHRzLmJpZmYgPT0gMiA/IDQgOiA1KTtcblx0cmV0dXJuIFtcIlBUR0VORFNIRUVUXCJdO1xufVxuZnVuY3Rpb24gcGFyc2VfUHRnTWVtQXJlYU4oYmxvYi8qOjosIGxlbmd0aCwgb3B0cyovKSB7XG5cdHZhciB0eXBlID0gKGJsb2IucmVhZF9zaGlmdCgxKSA+Pj4gNSkgJiAweDAzO1xuXHR2YXIgY2NlID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRyZXR1cm4gW3R5cGUsIGNjZV07XG59XG5mdW5jdGlvbiBwYXJzZV9QdGdNZW1Ob01lbU4oYmxvYi8qOjosIGxlbmd0aCwgb3B0cyovKSB7XG5cdHZhciB0eXBlID0gKGJsb2IucmVhZF9zaGlmdCgxKSA+Pj4gNSkgJiAweDAzO1xuXHR2YXIgY2NlID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRyZXR1cm4gW3R5cGUsIGNjZV07XG59XG5mdW5jdGlvbiBwYXJzZV9QdGdBdHRyTm9vcChibG9iLyo6OiwgbGVuZ3RoLCBvcHRzKi8pIHtcblx0YmxvYi5sICs9IDQ7XG5cdHJldHVybiBbMCwgMF07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMjUgOyBbTVMtWExTQl0gMi41Ljk3LjE2ICovXG52YXIgUHRnVHlwZXMgPSB7XG5cdDB4MDE6IHsgbjonUHRnRXhwJywgZjpwYXJzZV9QdGdFeHAgfSxcblx0MHgwMjogeyBuOidQdGdUYmwnLCBmOnBhcnNlX1B0Z1RibCB9LFxuXHQweDAzOiB7IG46J1B0Z0FkZCcsIGY6cGFyc2VyZWFkMSB9LFxuXHQweDA0OiB7IG46J1B0Z1N1YicsIGY6cGFyc2VyZWFkMSB9LFxuXHQweDA1OiB7IG46J1B0Z011bCcsIGY6cGFyc2VyZWFkMSB9LFxuXHQweDA2OiB7IG46J1B0Z0RpdicsIGY6cGFyc2VyZWFkMSB9LFxuXHQweDA3OiB7IG46J1B0Z1Bvd2VyJywgZjpwYXJzZXJlYWQxIH0sXG5cdDB4MDg6IHsgbjonUHRnQ29uY2F0JywgZjpwYXJzZXJlYWQxIH0sXG5cdDB4MDk6IHsgbjonUHRnTHQnLCBmOnBhcnNlcmVhZDEgfSxcblx0MHgwQTogeyBuOidQdGdMZScsIGY6cGFyc2VyZWFkMSB9LFxuXHQweDBCOiB7IG46J1B0Z0VxJywgZjpwYXJzZXJlYWQxIH0sXG5cdDB4MEM6IHsgbjonUHRnR2UnLCBmOnBhcnNlcmVhZDEgfSxcblx0MHgwRDogeyBuOidQdGdHdCcsIGY6cGFyc2VyZWFkMSB9LFxuXHQweDBFOiB7IG46J1B0Z05lJywgZjpwYXJzZXJlYWQxIH0sXG5cdDB4MEY6IHsgbjonUHRnSXNlY3QnLCBmOnBhcnNlcmVhZDEgfSxcblx0MHgxMDogeyBuOidQdGdVbmlvbicsIGY6cGFyc2VyZWFkMSB9LFxuXHQweDExOiB7IG46J1B0Z1JhbmdlJywgZjpwYXJzZXJlYWQxIH0sXG5cdDB4MTI6IHsgbjonUHRnVXBsdXMnLCBmOnBhcnNlcmVhZDEgfSxcblx0MHgxMzogeyBuOidQdGdVbWludXMnLCBmOnBhcnNlcmVhZDEgfSxcblx0MHgxNDogeyBuOidQdGdQZXJjZW50JywgZjpwYXJzZXJlYWQxIH0sXG5cdDB4MTU6IHsgbjonUHRnUGFyZW4nLCBmOnBhcnNlcmVhZDEgfSxcblx0MHgxNjogeyBuOidQdGdNaXNzQXJnJywgZjpwYXJzZXJlYWQxIH0sXG5cdDB4MTc6IHsgbjonUHRnU3RyJywgZjpwYXJzZV9QdGdTdHIgfSxcblx0MHgxQTogeyBuOidQdGdTaGVldCcsIGY6cGFyc2VfUHRnU2hlZXQgfSxcblx0MHgxQjogeyBuOidQdGdFbmRTaGVldCcsIGY6cGFyc2VfUHRnRW5kU2hlZXQgfSxcblx0MHgxQzogeyBuOidQdGdFcnInLCBmOnBhcnNlX1B0Z0VyciB9LFxuXHQweDFEOiB7IG46J1B0Z0Jvb2wnLCBmOnBhcnNlX1B0Z0Jvb2wgfSxcblx0MHgxRTogeyBuOidQdGdJbnQnLCBmOnBhcnNlX1B0Z0ludCB9LFxuXHQweDFGOiB7IG46J1B0Z051bScsIGY6cGFyc2VfUHRnTnVtIH0sXG5cdDB4MjA6IHsgbjonUHRnQXJyYXknLCBmOnBhcnNlX1B0Z0FycmF5IH0sXG5cdDB4MjE6IHsgbjonUHRnRnVuYycsIGY6cGFyc2VfUHRnRnVuYyB9LFxuXHQweDIyOiB7IG46J1B0Z0Z1bmNWYXInLCBmOnBhcnNlX1B0Z0Z1bmNWYXIgfSxcblx0MHgyMzogeyBuOidQdGdOYW1lJywgZjpwYXJzZV9QdGdOYW1lIH0sXG5cdDB4MjQ6IHsgbjonUHRnUmVmJywgZjpwYXJzZV9QdGdSZWYgfSxcblx0MHgyNTogeyBuOidQdGdBcmVhJywgZjpwYXJzZV9QdGdBcmVhIH0sXG5cdDB4MjY6IHsgbjonUHRnTWVtQXJlYScsIGY6cGFyc2VfUHRnTWVtQXJlYSB9LFxuXHQweDI3OiB7IG46J1B0Z01lbUVycicsIGY6cGFyc2VfUHRnTWVtRXJyIH0sXG5cdDB4Mjg6IHsgbjonUHRnTWVtTm9NZW0nLCBmOnBhcnNlX1B0Z01lbU5vTWVtIH0sXG5cdDB4Mjk6IHsgbjonUHRnTWVtRnVuYycsIGY6cGFyc2VfUHRnTWVtRnVuYyB9LFxuXHQweDJBOiB7IG46J1B0Z1JlZkVycicsIGY6cGFyc2VfUHRnUmVmRXJyIH0sXG5cdDB4MkI6IHsgbjonUHRnQXJlYUVycicsIGY6cGFyc2VfUHRnQXJlYUVyciB9LFxuXHQweDJDOiB7IG46J1B0Z1JlZk4nLCBmOnBhcnNlX1B0Z1JlZk4gfSxcblx0MHgyRDogeyBuOidQdGdBcmVhTicsIGY6cGFyc2VfUHRnQXJlYU4gfSxcblx0MHgyRTogeyBuOidQdGdNZW1BcmVhTicsIGY6cGFyc2VfUHRnTWVtQXJlYU4gfSxcblx0MHgyRjogeyBuOidQdGdNZW1Ob01lbU4nLCBmOnBhcnNlX1B0Z01lbU5vTWVtTiB9LFxuXHQweDM5OiB7IG46J1B0Z05hbWVYJywgZjpwYXJzZV9QdGdOYW1lWCB9LFxuXHQweDNBOiB7IG46J1B0Z1JlZjNkJywgZjpwYXJzZV9QdGdSZWYzZCB9LFxuXHQweDNCOiB7IG46J1B0Z0FyZWEzZCcsIGY6cGFyc2VfUHRnQXJlYTNkIH0sXG5cdDB4M0M6IHsgbjonUHRnUmVmRXJyM2QnLCBmOnBhcnNlX1B0Z1JlZkVycjNkIH0sXG5cdDB4M0Q6IHsgbjonUHRnQXJlYUVycjNkJywgZjpwYXJzZV9QdGdBcmVhRXJyM2QgfSxcblx0MHhGRjoge31cbn07XG4vKiBUaGVzZSBhcmUgZHVwbGljYXRlZCBpbiB0aGUgUHRnVHlwZXMgdGFibGUgKi9cbnZhciBQdGdEdXBlcyA9IHtcblx0MHg0MDogMHgyMCwgMHg2MDogMHgyMCxcblx0MHg0MTogMHgyMSwgMHg2MTogMHgyMSxcblx0MHg0MjogMHgyMiwgMHg2MjogMHgyMixcblx0MHg0MzogMHgyMywgMHg2MzogMHgyMyxcblx0MHg0NDogMHgyNCwgMHg2NDogMHgyNCxcblx0MHg0NTogMHgyNSwgMHg2NTogMHgyNSxcblx0MHg0NjogMHgyNiwgMHg2NjogMHgyNixcblx0MHg0NzogMHgyNywgMHg2NzogMHgyNyxcblx0MHg0ODogMHgyOCwgMHg2ODogMHgyOCxcblx0MHg0OTogMHgyOSwgMHg2OTogMHgyOSxcblx0MHg0QTogMHgyQSwgMHg2QTogMHgyQSxcblx0MHg0QjogMHgyQiwgMHg2QjogMHgyQixcblx0MHg0QzogMHgyQywgMHg2QzogMHgyQyxcblx0MHg0RDogMHgyRCwgMHg2RDogMHgyRCxcblx0MHg0RTogMHgyRSwgMHg2RTogMHgyRSxcblx0MHg0RjogMHgyRiwgMHg2RjogMHgyRixcblx0MHg1ODogMHgyMiwgMHg3ODogMHgyMixcblx0MHg1OTogMHgzOSwgMHg3OTogMHgzOSxcblx0MHg1QTogMHgzQSwgMHg3QTogMHgzQSxcblx0MHg1QjogMHgzQiwgMHg3QjogMHgzQixcblx0MHg1QzogMHgzQywgMHg3QzogMHgzQyxcblx0MHg1RDogMHgzRCwgMHg3RDogMHgzRFxufTtcblxudmFyIFB0ZzE4ID0ge1xuXHQweDAxOiB7IG46J1B0Z0VsZkxlbCcsIGY6cGFyc2VfUHRnRWxmTGVsIH0sXG5cdDB4MDI6IHsgbjonUHRnRWxmUncnLCBmOnBhcnNlX1B0Z0VsZlJ3IH0sXG5cdDB4MDM6IHsgbjonUHRnRWxmQ29sJywgZjpwYXJzZV9QdGdFbGZDb2wgfSxcblx0MHgwNjogeyBuOidQdGdFbGZSd1YnLCBmOnBhcnNlX1B0Z0VsZlJ3ViB9LFxuXHQweDA3OiB7IG46J1B0Z0VsZkNvbFYnLCBmOnBhcnNlX1B0Z0VsZkNvbFYgfSxcblx0MHgwQTogeyBuOidQdGdFbGZSYWRpY2FsJywgZjpwYXJzZV9QdGdFbGZSYWRpY2FsIH0sXG5cdDB4MEI6IHsgbjonUHRnRWxmUmFkaWNhbFMnLCBmOnBhcnNlX1B0Z0VsZlJhZGljYWxTIH0sXG5cdDB4MEQ6IHsgbjonUHRnRWxmQ29sUycsIGY6cGFyc2VfUHRnRWxmQ29sUyB9LFxuXHQweDBGOiB7IG46J1B0Z0VsZkNvbFNWJywgZjpwYXJzZV9QdGdFbGZDb2xTViB9LFxuXHQweDEwOiB7IG46J1B0Z0VsZlJhZGljYWxMZWwnLCBmOnBhcnNlX1B0Z0VsZlJhZGljYWxMZWwgfSxcblx0MHgxOTogeyBuOidQdGdMaXN0JywgZjpwYXJzZV9QdGdMaXN0IH0sXG5cdDB4MUQ6IHsgbjonUHRnU3hOYW1lJywgZjpwYXJzZV9QdGdTeE5hbWUgfSxcblx0MHhGRjoge31cbn07XG52YXIgUHRnMTkgPSB7XG5cdDB4MDA6IHsgbjonUHRnQXR0ck5vb3AnLCBmOnBhcnNlX1B0Z0F0dHJOb29wIH0sXG5cdDB4MDE6IHsgbjonUHRnQXR0clNlbWknLCBmOnBhcnNlX1B0Z0F0dHJTZW1pIH0sXG5cdDB4MDI6IHsgbjonUHRnQXR0cklmJywgZjpwYXJzZV9QdGdBdHRySWYgfSxcblx0MHgwNDogeyBuOidQdGdBdHRyQ2hvb3NlJywgZjpwYXJzZV9QdGdBdHRyQ2hvb3NlIH0sXG5cdDB4MDg6IHsgbjonUHRnQXR0ckdvdG8nLCBmOnBhcnNlX1B0Z0F0dHJHb3RvIH0sXG5cdDB4MTA6IHsgbjonUHRnQXR0clN1bScsIGY6cGFyc2VfUHRnQXR0clN1bSB9LFxuXHQweDIwOiB7IG46J1B0Z0F0dHJCYXhjZWwnLCBmOnBhcnNlX1B0Z0F0dHJCYXhjZWwgfSxcblx0MHgyMTogeyBuOidQdGdBdHRyQmF4Y2VsJywgZjpwYXJzZV9QdGdBdHRyQmF4Y2VsIH0sXG5cdDB4NDA6IHsgbjonUHRnQXR0clNwYWNlJywgZjpwYXJzZV9QdGdBdHRyU3BhY2UgfSxcblx0MHg0MTogeyBuOidQdGdBdHRyU3BhY2VTZW1pJywgZjpwYXJzZV9QdGdBdHRyU3BhY2VTZW1pIH0sXG5cdDB4ODA6IHsgbjonUHRnQXR0cklmRXJyb3InLCBmOnBhcnNlX1B0Z0F0dHJJZkVycm9yIH0sXG5cdDB4RkY6IHt9XG59O1xuXG4vKiBbTVMtWExTXSAyLjUuMTk4LjEwMyA7IFtNUy1YTFNCXSAyLjUuOTcuODcgKi9cbmZ1bmN0aW9uIHBhcnNlX1JnYkV4dHJhKGJsb2IsIGxlbmd0aCwgcmdjZSwgb3B0cykge1xuXHRpZihvcHRzLmJpZmYgPCA4KSByZXR1cm4gcGFyc2Vub29wKGJsb2IsIGxlbmd0aCk7XG5cdHZhciB0YXJnZXQgPSBibG9iLmwgKyBsZW5ndGg7XG5cdHZhciBvID0gW107XG5cdGZvcih2YXIgaSA9IDA7IGkgIT09IHJnY2UubGVuZ3RoOyArK2kpIHtcblx0XHRzd2l0Y2gocmdjZVtpXVswXSkge1xuXHRcdFx0Y2FzZSAnUHRnQXJyYXknOiAvKiBQdGdBcnJheSAtPiBQdGdFeHRyYUFycmF5ICovXG5cdFx0XHRcdHJnY2VbaV1bMV0gPSBwYXJzZV9QdGdFeHRyYUFycmF5KGJsb2IsIDAsIG9wdHMpO1xuXHRcdFx0XHRvLnB1c2gocmdjZVtpXVsxXSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnUHRnTWVtQXJlYSc6IC8qIFB0Z01lbUFyZWEgLT4gUHRnRXh0cmFNZW0gKi9cblx0XHRcdFx0cmdjZVtpXVsyXSA9IHBhcnNlX1B0Z0V4dHJhTWVtKGJsb2IsIHJnY2VbaV1bMV0sIG9wdHMpO1xuXHRcdFx0XHRvLnB1c2gocmdjZVtpXVsyXSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnUHRnRXhwJzogLyogUHRnRXhwIC0+IFB0Z0V4dHJhQ29sICovXG5cdFx0XHRcdGlmKG9wdHMgJiYgb3B0cy5iaWZmID09IDEyKSB7XG5cdFx0XHRcdFx0cmdjZVtpXVsxXVsxXSA9IGJsb2IucmVhZF9zaGlmdCg0KTtcblx0XHRcdFx0XHRvLnB1c2gocmdjZVtpXVsxXSk7XG5cdFx0XHRcdH0gYnJlYWs7XG5cdFx0XHRjYXNlICdQdGdMaXN0JzogLyogVE9ETzogUHRnTGlzdCAtPiBQdGdFeHRyYUxpc3QgKi9cblx0XHRcdGNhc2UgJ1B0Z0VsZlJhZGljYWxTJzogLyogVE9ETzogUHRnRWxmUmFkaWNhbFMgLT4gUHRnRXh0cmFFbGYgKi9cblx0XHRcdGNhc2UgJ1B0Z0VsZkNvbFMnOiAvKiBUT0RPOiBQdGdFbGZDb2xTIC0+IFB0Z0V4dHJhRWxmICovXG5cdFx0XHRjYXNlICdQdGdFbGZDb2xTVic6IC8qIFRPRE86IFB0Z0VsZkNvbFNWIC0+IFB0Z0V4dHJhRWxmICovXG5cdFx0XHRcdHRocm93IFwiVW5zdXBwb3J0ZWQgXCIgKyByZ2NlW2ldWzBdO1xuXHRcdFx0ZGVmYXVsdDogYnJlYWs7XG5cdFx0fVxuXHR9XG5cdGxlbmd0aCA9IHRhcmdldCAtIGJsb2IubDtcblx0Lyogbm90ZTogdGhpcyBpcyB0ZWNobmljYWxseSBhbiBlcnJvciBidXQgRXhjZWwgZGlzcmVnYXJkcyAqL1xuXHQvL2lmKHRhcmdldCAhPT0gYmxvYi5sICYmIGJsb2IubCAhPT0gdGFyZ2V0IC0gbGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IodGFyZ2V0ICsgXCIgIT0gXCIgKyBibG9iLmwpO1xuXHRpZihsZW5ndGggIT09IDApIG8ucHVzaChwYXJzZW5vb3AoYmxvYiwgbGVuZ3RoKSk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4LjEwNCA7IFtNUy1YTFNCXSAyLjUuOTcuODggKi9cbmZ1bmN0aW9uIHBhcnNlX1JnY2UoYmxvYiwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciB0YXJnZXQgPSBibG9iLmwgKyBsZW5ndGg7XG5cdHZhciBSLCBpZCwgcHRncyA9IFtdO1xuXHR3aGlsZSh0YXJnZXQgIT0gYmxvYi5sKSB7XG5cdFx0bGVuZ3RoID0gdGFyZ2V0IC0gYmxvYi5sO1xuXHRcdGlkID0gYmxvYltibG9iLmxdO1xuXHRcdFIgPSBQdGdUeXBlc1tpZF0gfHwgUHRnVHlwZXNbUHRnRHVwZXNbaWRdXTtcblx0XHRpZihpZCA9PT0gMHgxOCB8fCBpZCA9PT0gMHgxOSkgUiA9IChpZCA9PT0gMHgxOCA/IFB0ZzE4IDogUHRnMTkpW2Jsb2JbYmxvYi5sICsgMV1dO1xuXHRcdGlmKCFSIHx8ICFSLmYpIHsgLypwdGdzLnB1c2gqLyhwYXJzZW5vb3AoYmxvYiwgbGVuZ3RoKSk7IH1cblx0XHRlbHNlIHsgcHRncy5wdXNoKFtSLm4sIFIuZihibG9iLCBsZW5ndGgsIG9wdHMpXSk7IH1cblx0fVxuXHRyZXR1cm4gcHRncztcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5X2FycmF5KGYvKjpBcnJheTxBcnJheTxzdHJpbmc+PiovKS8qOnN0cmluZyovIHtcblx0dmFyIG8vKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGYubGVuZ3RoOyArK2kpIHtcblx0XHR2YXIgeCA9IGZbaV0sIHIvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0XHRmb3IodmFyIGogPSAwOyBqIDwgeC5sZW5ndGg7ICsraikge1xuXHRcdFx0dmFyIHkgPSB4W2pdO1xuXHRcdFx0aWYoeSkgc3dpdGNoKHlbMF0pIHtcblx0XHRcdFx0Ly8gVE9ETzogaGFuZGxlIGVtYmVkZGVkIHF1b3Rlc1xuXHRcdFx0XHRjYXNlIDB4MDI6XG5cdFx0XHRcdFx0Lyo6OiBpZih0eXBlb2YgeVsxXSAhPSAnc3RyaW5nJykgdGhyb3cgXCJ1bnJlYWNoYWJsZVwiOyAqL1xuXHRcdFx0XHRcdHIucHVzaCgnXCInICsgeVsxXS5yZXBsYWNlKC9cIi9nLCdcIlwiJykgKyAnXCInKTsgYnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6IHIucHVzaCh5WzFdKTtcblx0XHRcdH0gZWxzZSByLnB1c2goXCJcIik7XG5cdFx0fVxuXHRcdG8ucHVzaChyLmpvaW4oXCIsXCIpKTtcblx0fVxuXHRyZXR1cm4gby5qb2luKFwiO1wiKTtcbn1cblxuLyogW01TLVhMU10gMi4yLjIgOyBbTVMtWExTQl0gMi4yLjIgVE9ETyAqL1xudmFyIFB0Z0Jpbk9wID0ge1xuXHRQdGdBZGQ6IFwiK1wiLFxuXHRQdGdDb25jYXQ6IFwiJlwiLFxuXHRQdGdEaXY6IFwiL1wiLFxuXHRQdGdFcTogXCI9XCIsXG5cdFB0Z0dlOiBcIj49XCIsXG5cdFB0Z0d0OiBcIj5cIixcblx0UHRnTGU6IFwiPD1cIixcblx0UHRnTHQ6IFwiPFwiLFxuXHRQdGdNdWw6IFwiKlwiLFxuXHRQdGdOZTogXCI8PlwiLFxuXHRQdGdQb3dlcjogXCJeXCIsXG5cdFB0Z1N1YjogXCItXCJcbn07XG5cbi8vIFRPRE86IGV4cGxvcmUgc3BhY2VcbmZ1bmN0aW9uIG1ha2VfM2RfcmFuZ2Uoc3RhcnQsIGVuZCkge1xuXHR2YXIgcyA9IHN0YXJ0Lmxhc3RJbmRleE9mKFwiIVwiKSwgZSA9IGVuZC5sYXN0SW5kZXhPZihcIiFcIik7XG5cdGlmKHMgPT0gLTEgJiYgZSA9PSAtMSkgcmV0dXJuIHN0YXJ0ICsgXCI6XCIgKyBlbmQ7XG5cdGlmKHMgPiAwICYmIGUgPiAwICYmIHN0YXJ0LnNsaWNlKDAsIHMpLnRvTG93ZXJDYXNlKCkgPT0gZW5kLnNsaWNlKDAsIGUpLnRvTG93ZXJDYXNlKCkpIHJldHVybiBzdGFydCArIFwiOlwiICsgZW5kLnNsaWNlKGUrMSk7XG5cdGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgaHlkcmF0ZSByYW5nZVwiLCBzdGFydCwgZW5kKTtcblx0cmV0dXJuIHN0YXJ0ICsgXCI6XCIgKyBlbmQ7XG59XG5cbmZ1bmN0aW9uIGdldF9peHRpX3JhdyhzdXBib29rcywgaXh0aS8qOm51bWJlciovLCBvcHRzKS8qOnN0cmluZyovIHtcblx0aWYoIXN1cGJvb2tzKSByZXR1cm4gXCJTSDMzVEpTRVJSMFwiO1xuXHRpZihvcHRzLmJpZmYgPiA4ICYmICghc3VwYm9va3MuWFRJIHx8ICFzdXBib29rcy5YVElbaXh0aV0pKSByZXR1cm4gc3VwYm9va3MuU2hlZXROYW1lc1tpeHRpXTtcblx0aWYoIXN1cGJvb2tzLlhUSSkgcmV0dXJuIFwiU0gzM1RKU0VSUjZcIjtcblx0dmFyIFhUSSA9IHN1cGJvb2tzLlhUSVtpeHRpXTtcblx0aWYob3B0cy5iaWZmIDwgOCkge1xuXHRcdGlmKGl4dGkgPiAxMDAwMCkgaXh0aS09IDY1NTM2O1xuXHRcdGlmKGl4dGkgPCAwKSBpeHRpID0gLWl4dGk7XG5cdFx0cmV0dXJuIGl4dGkgPT0gMCA/IFwiXCIgOiBzdXBib29rcy5YVElbaXh0aSAtIDFdO1xuXHR9XG5cdGlmKCFYVEkpIHJldHVybiBcIlNIMzNUSlNFUlIxXCI7XG5cdHZhciBvID0gXCJcIjtcblx0aWYob3B0cy5iaWZmID4gOCkgc3dpdGNoKHN1cGJvb2tzW1hUSVswXV1bMF0pIHtcblx0XHRjYXNlIDB4MDE2NTogLyogJ0JydFN1cFNlbGYnICovXG5cdFx0XHRvID0gWFRJWzFdID09IC0xID8gXCIjUkVGXCIgOiBzdXBib29rcy5TaGVldE5hbWVzW1hUSVsxXV07XG5cdFx0XHRyZXR1cm4gWFRJWzFdID09IFhUSVsyXSA/IG8gOiBvICsgXCI6XCIgKyBzdXBib29rcy5TaGVldE5hbWVzW1hUSVsyXV07XG5cdFx0Y2FzZSAweDAxNjY6IC8qICdCcnRTdXBTYW1lJyAqL1xuXHRcdFx0aWYob3B0cy5TSUQgIT0gbnVsbCkgcmV0dXJuIHN1cGJvb2tzLlNoZWV0TmFtZXNbb3B0cy5TSURdO1xuXHRcdFx0cmV0dXJuIFwiU0gzM1RKU1NBTUVcIiArIHN1cGJvb2tzW1hUSVswXV1bMF07XG5cdFx0Y2FzZSAweDAxNjM6IC8qICdCcnRTdXBCb29rU3JjJyAqL1xuXHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdGRlZmF1bHQ6IHJldHVybiBcIlNIMzNUSlNTUkNcIiArIHN1cGJvb2tzW1hUSVswXV1bMF07XG5cdH1cblx0c3dpdGNoKHN1cGJvb2tzW1hUSVswXV1bMF1bMF0pIHtcblx0XHRjYXNlIDB4MDQwMTpcblx0XHRcdG8gPSBYVElbMV0gPT0gLTEgPyBcIiNSRUZcIiA6IChzdXBib29rcy5TaGVldE5hbWVzW1hUSVsxXV0gfHwgXCJTSDMzVEpTRVJSM1wiKTtcblx0XHRcdHJldHVybiBYVElbMV0gPT0gWFRJWzJdID8gbyA6IG8gKyBcIjpcIiArIHN1cGJvb2tzLlNoZWV0TmFtZXNbWFRJWzJdXTtcblx0XHRjYXNlIDB4M0EwMTogcmV0dXJuIHN1cGJvb2tzW1hUSVswXV0uc2xpY2UoMSkubWFwKGZ1bmN0aW9uKG5hbWUpIHsgcmV0dXJuIG5hbWUuTmFtZTsgfSkuam9pbihcIjs7XCIpOyAvL3JldHVybiBcIlNIMzNUSlNFUlI4XCI7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGlmKCFzdXBib29rc1tYVElbMF1dWzBdWzNdKSByZXR1cm4gXCJTSDMzVEpTRVJSMlwiO1xuXHRcdFx0byA9IFhUSVsxXSA9PSAtMSA/IFwiI1JFRlwiIDogKHN1cGJvb2tzW1hUSVswXV1bMF1bM11bWFRJWzFdXSB8fCBcIlNIMzNUSlNFUlI0XCIpO1xuXHRcdFx0cmV0dXJuIFhUSVsxXSA9PSBYVElbMl0gPyBvIDogbyArIFwiOlwiICsgc3VwYm9va3NbWFRJWzBdXVswXVszXVtYVElbMl1dO1xuXHR9XG59XG5mdW5jdGlvbiBnZXRfaXh0aShzdXBib29rcywgaXh0aS8qOm51bWJlciovLCBvcHRzKS8qOnN0cmluZyovIHtcblx0dmFyIGl4dGlyYXcgPSBnZXRfaXh0aV9yYXcoc3VwYm9va3MsIGl4dGksIG9wdHMpO1xuXHRyZXR1cm4gaXh0aXJhdyA9PSBcIiNSRUZcIiA/IGl4dGlyYXcgOiBmb3JtdWxhX3F1b3RlX3NoZWV0X25hbWUoaXh0aXJhdywgb3B0cyk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlfZm9ybXVsYShmb3JtdWxhLypBcnJheTxhbnk+Ki8sIHJhbmdlLCBjZWxsLyo6YW55Ki8sIHN1cGJvb2tzLCBvcHRzKS8qOnN0cmluZyovIHtcblx0dmFyIGJpZmYgPSAob3B0cyAmJiBvcHRzLmJpZmYpIHx8IDg7XG5cdHZhciBfcmFuZ2UgPSAvKnJhbmdlICE9IG51bGwgPyByYW5nZSA6Ki8ge3M6e2M6MCwgcjowfSxlOntjOjAsIHI6MH19O1xuXHR2YXIgc3RhY2svKjpBcnJheTxzdHJpbmc+Ki8gPSBbXSwgZTEsIGUyLCAvKjo6dHlwZSwqLyBjLyo6Q2VsbEFkZHJlc3MqLywgaXh0aT0wLCBuYW1laWR4PTAsIHIsIHNuYW1lPVwiXCI7XG5cdGlmKCFmb3JtdWxhWzBdIHx8ICFmb3JtdWxhWzBdWzBdKSByZXR1cm4gXCJcIjtcblx0dmFyIGxhc3Rfc3AgPSAtMSwgc3AgPSBcIlwiO1xuXHRmb3IodmFyIGZmID0gMCwgZmZsZW4gPSBmb3JtdWxhWzBdLmxlbmd0aDsgZmYgPCBmZmxlbjsgKytmZikge1xuXHRcdHZhciBmID0gZm9ybXVsYVswXVtmZl07XG5cdFx0c3dpdGNoKGZbMF0pIHtcblx0XHRcdGNhc2UgJ1B0Z1VtaW51cyc6IC8qIFtNUy1YTFNdIDIuNS4xOTguOTMgKi9cblx0XHRcdFx0c3RhY2sucHVzaChcIi1cIiArIHN0YWNrLnBvcCgpKTsgYnJlYWs7XG5cdFx0XHRjYXNlICdQdGdVcGx1cyc6IC8qIFtNUy1YTFNdIDIuNS4xOTguOTUgKi9cblx0XHRcdFx0c3RhY2sucHVzaChcIitcIiArIHN0YWNrLnBvcCgpKTsgYnJlYWs7XG5cdFx0XHRjYXNlICdQdGdQZXJjZW50JzogLyogW01TLVhMU10gMi41LjE5OC44MSAqL1xuXHRcdFx0XHRzdGFjay5wdXNoKHN0YWNrLnBvcCgpICsgXCIlXCIpOyBicmVhaztcblxuXHRcdFx0Y2FzZSAnUHRnQWRkJzogICAgLyogW01TLVhMU10gMi41LjE5OC4yNiAqL1xuXHRcdFx0Y2FzZSAnUHRnQ29uY2F0JzogLyogW01TLVhMU10gMi41LjE5OC40MyAqL1xuXHRcdFx0Y2FzZSAnUHRnRGl2JzogICAgLyogW01TLVhMU10gMi41LjE5OC40NSAqL1xuXHRcdFx0Y2FzZSAnUHRnRXEnOiAgICAgLyogW01TLVhMU10gMi41LjE5OC41NiAqL1xuXHRcdFx0Y2FzZSAnUHRnR2UnOiAgICAgLyogW01TLVhMU10gMi41LjE5OC42NCAqL1xuXHRcdFx0Y2FzZSAnUHRnR3QnOiAgICAgLyogW01TLVhMU10gMi41LjE5OC42NSAqL1xuXHRcdFx0Y2FzZSAnUHRnTGUnOiAgICAgLyogW01TLVhMU10gMi41LjE5OC42OCAqL1xuXHRcdFx0Y2FzZSAnUHRnTHQnOiAgICAgLyogW01TLVhMU10gMi41LjE5OC42OSAqL1xuXHRcdFx0Y2FzZSAnUHRnTXVsJzogICAgLyogW01TLVhMU10gMi41LjE5OC43NSAqL1xuXHRcdFx0Y2FzZSAnUHRnTmUnOiAgICAgLyogW01TLVhMU10gMi41LjE5OC43OCAqL1xuXHRcdFx0Y2FzZSAnUHRnUG93ZXInOiAgLyogW01TLVhMU10gMi41LjE5OC44MiAqL1xuXHRcdFx0Y2FzZSAnUHRnU3ViJzogICAgLyogW01TLVhMU10gMi41LjE5OC45MCAqL1xuXHRcdFx0XHRlMSA9IHN0YWNrLnBvcCgpOyBlMiA9IHN0YWNrLnBvcCgpO1xuXHRcdFx0XHRpZihsYXN0X3NwID49IDApIHtcblx0XHRcdFx0XHRzd2l0Y2goZm9ybXVsYVswXVtsYXN0X3NwXVsxXVswXSkge1xuXHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdFx0XHRcdFx0XHRzcCA9IGZpbGwoXCIgXCIsIGZvcm11bGFbMF1bbGFzdF9zcF1bMV1bMV0pOyBicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRcdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHRcdFx0XHRcdFx0c3AgPSBmaWxsKFwiXFxyXCIsIGZvcm11bGFbMF1bbGFzdF9zcF1bMV1bMV0pOyBicmVhaztcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdHNwID0gXCJcIjtcblx0XHRcdFx0XHRcdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHRcdFx0XHRcdFx0aWYob3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgUHRnQXR0clNwYWNlVHlwZSBcIiArIGZvcm11bGFbMF1bbGFzdF9zcF1bMV1bMF0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlMiA9IGUyICsgc3A7XG5cdFx0XHRcdFx0bGFzdF9zcCA9IC0xO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0YWNrLnB1c2goZTIrUHRnQmluT3BbZlswXV0rZTEpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnUHRnSXNlY3QnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjY3ICovXG5cdFx0XHRcdGUxID0gc3RhY2sucG9wKCk7IGUyID0gc3RhY2sucG9wKCk7XG5cdFx0XHRcdHN0YWNrLnB1c2goZTIrXCIgXCIrZTEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1B0Z1VuaW9uJzogLyogW01TLVhMU10gMi41LjE5OC45NCAqL1xuXHRcdFx0XHRlMSA9IHN0YWNrLnBvcCgpOyBlMiA9IHN0YWNrLnBvcCgpO1xuXHRcdFx0XHRzdGFjay5wdXNoKGUyK1wiLFwiK2UxKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdQdGdSYW5nZSc6IC8qIFtNUy1YTFNdIDIuNS4xOTguODMgKi9cblx0XHRcdFx0ZTEgPSBzdGFjay5wb3AoKTsgZTIgPSBzdGFjay5wb3AoKTtcblx0XHRcdFx0c3RhY2sucHVzaChtYWtlXzNkX3JhbmdlKGUyLGUxKSk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdQdGdBdHRyQ2hvb3NlJzogLyogW01TLVhMU10gMi41LjE5OC4zNCAqL1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1B0Z0F0dHJHb3RvJzogLyogW01TLVhMU10gMi41LjE5OC4zNSAqL1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1B0Z0F0dHJJZic6IC8qIFtNUy1YTFNdIDIuNS4xOTguMzYgKi9cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdQdGdBdHRySWZFcnJvcic6IC8qIFtNUy1YTFNCXSAyLjUuOTcuMjggKi9cblx0XHRcdFx0YnJlYWs7XG5cblxuXHRcdFx0Y2FzZSAnUHRnUmVmJzogLyogW01TLVhMU10gMi41LjE5OC44NCAqL1xuXHRcdFx0XHQvKjo6dHlwZSA9IGZbMV1bMF07ICovYyA9IHNoaWZ0X2NlbGxfeGxzKChmWzFdWzFdLyo6YW55Ki8pLCBfcmFuZ2UsIG9wdHMpO1xuXHRcdFx0XHRzdGFjay5wdXNoKGVuY29kZV9jZWxsX3hscyhjLCBiaWZmKSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnUHRnUmVmTic6IC8qIFtNUy1YTFNdIDIuNS4xOTguODggKi9cblx0XHRcdFx0Lyo6OnR5cGUgPSBmWzFdWzBdOyAqL2MgPSBjZWxsID8gc2hpZnRfY2VsbF94bHMoKGZbMV1bMV0vKjphbnkqLyksIGNlbGwsIG9wdHMpIDogKGZbMV1bMV0vKjphbnkqLyk7XG5cdFx0XHRcdHN0YWNrLnB1c2goZW5jb2RlX2NlbGxfeGxzKGMsIGJpZmYpKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdQdGdSZWYzZCc6IC8qIFtNUy1YTFNdIDIuNS4xOTguODUgKi9cblx0XHRcdFx0Lyo6OnR5cGUgPSBmWzFdWzBdOyAqL2l4dGkgPSAvKjo6TnVtYmVyKCovZlsxXVsxXS8qOjopKi87IGMgPSBzaGlmdF9jZWxsX3hscygoZlsxXVsyXS8qOmFueSovKSwgX3JhbmdlLCBvcHRzKTtcblx0XHRcdFx0c25hbWUgPSBnZXRfaXh0aShzdXBib29rcywgaXh0aSwgb3B0cyk7XG5cdFx0XHRcdHZhciB3ID0gc25hbWU7IC8qIElFOSBmYWlscyBvbiBkZWZpbmVkIG5hbWVzICovIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRcdFx0c3RhY2sucHVzaChzbmFtZSArIFwiIVwiICsgZW5jb2RlX2NlbGxfeGxzKGMsIGJpZmYpKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1B0Z0Z1bmMnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjYyICovXG5cdFx0XHRjYXNlICdQdGdGdW5jVmFyJzogLyogW01TLVhMU10gMi41LjE5OC42MyAqL1xuXHRcdFx0XHQvKiBmWzFdID0gW2FyZ2MsIGZ1bmMsIHR5cGVdICovXG5cdFx0XHRcdHZhciBhcmdjLyo6bnVtYmVyKi8gPSAoZlsxXVswXS8qOmFueSovKSwgZnVuYy8qOnN0cmluZyovID0gKGZbMV1bMV0vKjphbnkqLyk7XG5cdFx0XHRcdGlmKCFhcmdjKSBhcmdjID0gMDtcblx0XHRcdFx0YXJnYyAmPSAweDdGO1xuXHRcdFx0XHR2YXIgYXJncyA9IGFyZ2MgPT0gMCA/IFtdIDogc3RhY2suc2xpY2UoLWFyZ2MpO1xuXHRcdFx0XHRzdGFjay5sZW5ndGggLT0gYXJnYztcblx0XHRcdFx0aWYoZnVuYyA9PT0gJ1VzZXInKSBmdW5jID0gYXJncy5zaGlmdCgpO1xuXHRcdFx0XHRzdGFjay5wdXNoKGZ1bmMgKyBcIihcIiArIGFyZ3Muam9pbihcIixcIikgKyBcIilcIik7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdQdGdCb29sJzogLyogW01TLVhMU10gMi41LjE5OC40MiAqL1xuXHRcdFx0XHRzdGFjay5wdXNoKGZbMV0gPyBcIlRSVUVcIiA6IFwiRkFMU0VcIik7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnUHRnSW50JzogLyogW01TLVhMU10gMi41LjE5OC42NiAqL1xuXHRcdFx0XHRzdGFjay5wdXNoKC8qOjpTdHJpbmcoKi9mWzFdLyo6OikqLyk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnUHRnTnVtJzogLyogW01TLVhMU10gMi41LjE5OC43OSBUT0RPOiBwcmVjaXNpb24/ICovXG5cdFx0XHRcdHN0YWNrLnB1c2goU3RyaW5nKGZbMV0pKTsgYnJlYWs7XG5cdFx0XHRjYXNlICdQdGdTdHInOiAvKiBbTVMtWExTXSAyLjUuMTk4Ljg5ICovXG5cdFx0XHRcdC8vICRGbG93SWdub3JlXG5cdFx0XHRcdHN0YWNrLnB1c2goJ1wiJyArIGZbMV0ucmVwbGFjZSgvXCIvZywgJ1wiXCInKSArICdcIicpOyBicmVhaztcblx0XHRcdGNhc2UgJ1B0Z0Vycic6IC8qIFtNUy1YTFNdIDIuNS4xOTguNTcgKi9cblx0XHRcdFx0c3RhY2sucHVzaCgvKjo6U3RyaW5nKCovZlsxXS8qOjopKi8pOyBicmVhaztcblx0XHRcdGNhc2UgJ1B0Z0FyZWFOJzogLyogW01TLVhMU10gMi41LjE5OC4zMSBUT0RPICovXG5cdFx0XHRcdC8qOjp0eXBlID0gZlsxXVswXTsgKi9yID0gc2hpZnRfcmFuZ2VfeGxzKGZbMV1bMV0sIGNlbGwgPyB7czpjZWxsfSA6IF9yYW5nZSwgb3B0cyk7XG5cdFx0XHRcdHN0YWNrLnB1c2goZW5jb2RlX3JhbmdlX3hscygoci8qOmFueSovKSwgb3B0cykpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1B0Z0FyZWEnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjI3IFRPRE86IGZpeGVkIHBvaW50cyAqL1xuXHRcdFx0XHQvKjo6dHlwZSA9IGZbMV1bMF07ICovciA9IHNoaWZ0X3JhbmdlX3hscyhmWzFdWzFdLCBfcmFuZ2UsIG9wdHMpO1xuXHRcdFx0XHRzdGFjay5wdXNoKGVuY29kZV9yYW5nZV94bHMoKHIvKjphbnkqLyksIG9wdHMpKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdQdGdBcmVhM2QnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjI4IFRPRE8gKi9cblx0XHRcdFx0Lyo6OnR5cGUgPSBmWzFdWzBdOyAqL2l4dGkgPSAvKjo6TnVtYmVyKCovZlsxXVsxXS8qOjopKi87IHIgPSBmWzFdWzJdO1xuXHRcdFx0XHRzbmFtZSA9IGdldF9peHRpKHN1cGJvb2tzLCBpeHRpLCBvcHRzKTtcblx0XHRcdFx0c3RhY2sucHVzaChzbmFtZSArIFwiIVwiICsgZW5jb2RlX3JhbmdlX3hscygoci8qOmFueSovKSwgb3B0cykpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1B0Z0F0dHJTdW0nOiAvKiBbTVMtWExTXSAyLjUuMTk4LjQxICovXG5cdFx0XHRcdHN0YWNrLnB1c2goXCJTVU0oXCIgKyBzdGFjay5wb3AoKSArIFwiKVwiKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1B0Z0F0dHJCYXhjZWwnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjMzICovXG5cdFx0XHRjYXNlICdQdGdBdHRyU2VtaSc6IC8qIFtNUy1YTFNdIDIuNS4xOTguMzcgKi9cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1B0Z05hbWUnOiAvKiBbTVMtWExTXSAyLjUuMTk4Ljc2IDsgW01TLVhMU0JdIDIuNS45Ny42MCBUT0RPOiByZXZpc2lvbnMgKi9cblx0XHRcdFx0LyogZlsxXSA9IHR5cGUsIDAsIG5hbWVpbmRleCAqL1xuXHRcdFx0XHRuYW1laWR4ID0gKGZbMV1bMl0vKjphbnkqLyk7XG5cdFx0XHRcdHZhciBsYmwgPSAoc3VwYm9va3MubmFtZXN8fFtdKVtuYW1laWR4LTFdIHx8IChzdXBib29rc1swXXx8W10pW25hbWVpZHhdO1xuXHRcdFx0XHR2YXIgbmFtZSA9IGxibCA/IGxibC5OYW1lIDogXCJTSDMzVEpTTkFNRVwiICsgU3RyaW5nKG5hbWVpZHgpO1xuXHRcdFx0XHQvKiBbTVMtWExTQl0gMi41Ljk3LjEwIEZ0YWIgLS0gbGFzdCB2ZXJpZmllZCAyMDIyMDIwNCAqL1xuXHRcdFx0XHRpZihuYW1lICYmIG5hbWUuc2xpY2UoMCw2KSA9PSBcIl94bGZuLlwiICYmICFvcHRzLnhsZm4pIG5hbWUgPSBuYW1lLnNsaWNlKDYpO1xuXHRcdFx0XHRzdGFjay5wdXNoKG5hbWUpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnUHRnTmFtZVgnOiAvKiBbTVMtWExTXSAyLjUuMTk4Ljc3IDsgW01TLVhMU0JdIDIuNS45Ny42MSBUT0RPOiByZXZpc2lvbnMgKi9cblx0XHRcdFx0LyogZlsxXSA9IHR5cGUsIGl4dGksIG5hbWVpbmRleCAqL1xuXHRcdFx0XHR2YXIgYm9va2lkeC8qOm51bWJlciovID0gKGZbMV1bMV0vKjphbnkqLyk7IG5hbWVpZHggPSAoZlsxXVsyXS8qOmFueSovKTsgdmFyIGV4dGVybmJvb2s7XG5cdFx0XHRcdC8qIFRPRE86IFByb3Blcmx5IGhhbmRsZSBtaXNzaW5nIHZhbHVlcyAtLSB0aGlzIHNob3VsZCBiZSB1c2luZyBnZXRfaXh0aV9yYXcgcHJpbWFyaWx5ICovXG5cdFx0XHRcdGlmKG9wdHMuYmlmZiA8PSA1KSB7XG5cdFx0XHRcdFx0aWYoYm9va2lkeCA8IDApIGJvb2tpZHggPSAtYm9va2lkeDtcblx0XHRcdFx0XHRpZihzdXBib29rc1tib29raWR4XSkgZXh0ZXJuYm9vayA9IHN1cGJvb2tzW2Jvb2tpZHhdW25hbWVpZHhdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhciBvID0gXCJcIjtcblx0XHRcdFx0XHRpZigoKHN1cGJvb2tzW2Jvb2tpZHhdfHxbXSlbMF18fFtdKVswXSA9PSAweDNBMDEpey8qIGVtcHR5ICovfVxuXHRcdFx0XHRcdGVsc2UgaWYoKChzdXBib29rc1tib29raWR4XXx8W10pWzBdfHxbXSlbMF0gPT0gMHgwNDAxKXtcblx0XHRcdFx0XHRcdGlmKHN1cGJvb2tzW2Jvb2tpZHhdW25hbWVpZHhdICYmIHN1cGJvb2tzW2Jvb2tpZHhdW25hbWVpZHhdLml0YWIgPiAwKSB7XG5cdFx0XHRcdFx0XHRcdG8gPSBzdXBib29rcy5TaGVldE5hbWVzW3N1cGJvb2tzW2Jvb2tpZHhdW25hbWVpZHhdLml0YWItMV0gKyBcIiFcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBvID0gc3VwYm9va3MuU2hlZXROYW1lc1tuYW1laWR4LTFdKyBcIiFcIjtcblx0XHRcdFx0XHRpZihzdXBib29rc1tib29raWR4XSAmJiBzdXBib29rc1tib29raWR4XVtuYW1laWR4XSkgbyArPSBzdXBib29rc1tib29raWR4XVtuYW1laWR4XS5OYW1lO1xuXHRcdFx0XHRcdGVsc2UgaWYoc3VwYm9va3NbMF0gJiYgc3VwYm9va3NbMF1bbmFtZWlkeF0pIG8gKz0gc3VwYm9va3NbMF1bbmFtZWlkeF0uTmFtZTtcblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHZhciBpeHRpZGF0YSA9IChnZXRfaXh0aV9yYXcoc3VwYm9va3MsIGJvb2tpZHgsIG9wdHMpfHxcIlwiKS5zcGxpdChcIjs7XCIpO1xuXHRcdFx0XHRcdFx0aWYoaXh0aWRhdGFbbmFtZWlkeCAtIDFdKSBvID0gaXh0aWRhdGFbbmFtZWlkeCAtIDFdOyAvLyBUT0RPOiBjb25maXJtIHRoaXMgaXMgY29ycmVjdFxuXHRcdFx0XHRcdFx0ZWxzZSBvICs9IFwiU0gzM1RKU0VSUlhcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3RhY2sucHVzaChvKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZighZXh0ZXJuYm9vaykgZXh0ZXJuYm9vayA9IHtOYW1lOiBcIlNIMzNUSlNFUlJZXCJ9O1xuXHRcdFx0XHRzdGFjay5wdXNoKGV4dGVybmJvb2suTmFtZSk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdQdGdQYXJlbic6IC8qIFtNUy1YTFNdIDIuNS4xOTguODAgKi9cblx0XHRcdFx0dmFyIGxwID0gJygnLCBycCA9ICcpJztcblx0XHRcdFx0aWYobGFzdF9zcCA+PSAwKSB7XG5cdFx0XHRcdFx0c3AgPSBcIlwiO1xuXHRcdFx0XHRcdHN3aXRjaChmb3JtdWxhWzBdW2xhc3Rfc3BdWzFdWzBdKSB7XG5cdFx0XHRcdFx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdFx0XHRcdFx0Y2FzZSAyOiBscCA9IGZpbGwoXCIgXCIsIGZvcm11bGFbMF1bbGFzdF9zcF1bMV1bMV0pICsgbHA7IGJyZWFrO1xuXHRcdFx0XHRcdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHRcdFx0XHRcdGNhc2UgMzogbHAgPSBmaWxsKFwiXFxyXCIsIGZvcm11bGFbMF1bbGFzdF9zcF1bMV1bMV0pICsgbHA7IGJyZWFrO1xuXHRcdFx0XHRcdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHRcdFx0XHRcdGNhc2UgNDogcnAgPSBmaWxsKFwiIFwiLCBmb3JtdWxhWzBdW2xhc3Rfc3BdWzFdWzFdKSArIHJwOyBicmVhaztcblx0XHRcdFx0XHRcdC8vICRGbG93SWdub3JlXG5cdFx0XHRcdFx0XHRjYXNlIDU6IHJwID0gZmlsbChcIlxcclwiLCBmb3JtdWxhWzBdW2xhc3Rfc3BdWzFdWzFdKSArIHJwOyBicmVhaztcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdC8vICRGbG93SWdub3JlXG5cdFx0XHRcdFx0XHRcdGlmKG9wdHMuV1RGKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIFB0Z0F0dHJTcGFjZVR5cGUgXCIgKyBmb3JtdWxhWzBdW2xhc3Rfc3BdWzFdWzBdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGFzdF9zcCA9IC0xO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0YWNrLnB1c2gobHAgKyBzdGFjay5wb3AoKSArIHJwKTsgYnJlYWs7XG5cblx0XHRcdGNhc2UgJ1B0Z1JlZkVycic6IC8qIFtNUy1YTFNdIDIuNS4xOTguODYgKi9cblx0XHRcdFx0c3RhY2sucHVzaCgnI1JFRiEnKTsgYnJlYWs7XG5cblx0XHRcdGNhc2UgJ1B0Z1JlZkVycjNkJzogLyogW01TLVhMU10gMi41LjE5OC44NyAqL1xuXHRcdFx0XHRzdGFjay5wdXNoKCcjUkVGIScpOyBicmVhaztcblxuXHRcdFx0Y2FzZSAnUHRnRXhwJzogLyogW01TLVhMU10gMi41LjE5OC41OCBUT0RPICovXG5cdFx0XHRcdGMgPSB7YzooZlsxXVsxXS8qOmFueSovKSxyOihmWzFdWzBdLyo6YW55Ki8pfTtcblx0XHRcdFx0dmFyIHEgPSAoe2M6IGNlbGwuYywgcjpjZWxsLnJ9Lyo6YW55Ki8pO1xuXHRcdFx0XHRpZihzdXBib29rcy5zaGFyZWRmW2VuY29kZV9jZWxsKGMpXSkge1xuXHRcdFx0XHRcdHZhciBwYXJzZWRmID0gKHN1cGJvb2tzLnNoYXJlZGZbZW5jb2RlX2NlbGwoYyldKTtcblx0XHRcdFx0XHRzdGFjay5wdXNoKHN0cmluZ2lmeV9mb3JtdWxhKHBhcnNlZGYsIF9yYW5nZSwgcSwgc3VwYm9va3MsIG9wdHMpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YXIgZm5kID0gZmFsc2U7XG5cdFx0XHRcdFx0Zm9yKGUxPTA7ZTEhPXN1cGJvb2tzLmFycmF5Zi5sZW5ndGg7ICsrZTEpIHtcblx0XHRcdFx0XHRcdC8qIFRPRE86IHNob3VsZCBiZSBzb21ldGhpbmcgbGlrZSByYW5nZV9oYXMgKi9cblx0XHRcdFx0XHRcdGUyID0gc3VwYm9va3MuYXJyYXlmW2UxXTtcblx0XHRcdFx0XHRcdGlmKGMuYyA8IGUyWzBdLnMuYyB8fCBjLmMgPiBlMlswXS5lLmMpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0aWYoYy5yIDwgZTJbMF0ucy5yIHx8IGMuciA+IGUyWzBdLmUucikgY29udGludWU7XG5cdFx0XHRcdFx0XHRzdGFjay5wdXNoKHN0cmluZ2lmeV9mb3JtdWxhKGUyWzFdLCBfcmFuZ2UsIHEsIHN1cGJvb2tzLCBvcHRzKSk7XG5cdFx0XHRcdFx0XHRmbmQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKCFmbmQpIHN0YWNrLnB1c2goLyo6OlN0cmluZygqL2ZbMV0vKjo6KSovKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnUHRnQXJyYXknOiAvKiBbTVMtWExTXSAyLjUuMTk4LjMyIFRPRE8gKi9cblx0XHRcdFx0c3RhY2sucHVzaChcIntcIiArIHN0cmluZ2lmeV9hcnJheSgvKjo6KCovZlsxXS8qOjogOmFueSkqLykgKyBcIn1cIik7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdQdGdNZW1BcmVhJzogLyogW01TLVhMU10gMi41LjE5OC43MCBUT0RPOiBjb25maXJtIHRoaXMgaXMgYSBub24tZGlzcGxheSAqL1xuXHRcdFx0XHQvL3N0YWNrLnB1c2goXCIoXCIgKyBmWzJdLm1hcChlbmNvZGVfcmFuZ2UpLmpvaW4oXCIsXCIpICsgXCIpXCIpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnUHRnQXR0clNwYWNlJzogLyogW01TLVhMU10gMi41LjE5OC4zOCAqL1xuXHRcdFx0Y2FzZSAnUHRnQXR0clNwYWNlU2VtaSc6IC8qIFtNUy1YTFNdIDIuNS4xOTguMzkgKi9cblx0XHRcdFx0bGFzdF9zcCA9IGZmO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnUHRnVGJsJzogLyogW01TLVhMU10gMi41LjE5OC45MiBUT0RPICovXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdQdGdNZW1FcnInOiAvKiBbTVMtWExTXSAyLjUuMTk4LjcxICovXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdQdGdNaXNzQXJnJzogLyogW01TLVhMU10gMi41LjE5OC43NCAqL1xuXHRcdFx0XHRzdGFjay5wdXNoKFwiXCIpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnUHRnQXJlYUVycic6IC8qIFtNUy1YTFNdIDIuNS4xOTguMjkgKi9cblx0XHRcdFx0c3RhY2sucHVzaChcIiNSRUYhXCIpOyBicmVhaztcblxuXHRcdFx0Y2FzZSAnUHRnQXJlYUVycjNkJzogLyogW01TLVhMU10gMi41LjE5OC4zMCAqL1xuXHRcdFx0XHRzdGFjay5wdXNoKFwiI1JFRiFcIik7IGJyZWFrO1xuXG5cdFx0XHRjYXNlICdQdGdMaXN0JzogLyogW01TLVhMU0JdIDIuNS45Ny41MiAqL1xuXHRcdFx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdFx0XHRzdGFjay5wdXNoKFwiVGFibGVcIiArIGZbMV0uaWR4ICsgXCJbI1wiICsgZlsxXS5ydCArIFwiXVwiKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1B0Z01lbUFyZWFOJzpcblx0XHRcdGNhc2UgJ1B0Z01lbU5vTWVtTic6XG5cdFx0XHRjYXNlICdQdGdBdHRyTm9vcCc6XG5cdFx0XHRjYXNlICdQdGdTaGVldCc6XG5cdFx0XHRjYXNlICdQdGdFbmRTaGVldCc6XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdQdGdNZW1GdW5jJzogLyogW01TLVhMU10gMi41LjE5OC43MiBUT0RPICovXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnUHRnTWVtTm9NZW0nOiAvKiBbTVMtWExTXSAyLjUuMTk4LjczIFRPRE8gKi9cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1B0Z0VsZkNvbCc6IC8qIFtNUy1YTFNdIDIuNS4xOTguNDYgKi9cblx0XHRcdGNhc2UgJ1B0Z0VsZkNvbFMnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjQ3ICovXG5cdFx0XHRjYXNlICdQdGdFbGZDb2xTVic6IC8qIFtNUy1YTFNdIDIuNS4xOTguNDggKi9cblx0XHRcdGNhc2UgJ1B0Z0VsZkNvbFYnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjQ5ICovXG5cdFx0XHRjYXNlICdQdGdFbGZMZWwnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjUwICovXG5cdFx0XHRjYXNlICdQdGdFbGZSYWRpY2FsJzogLyogW01TLVhMU10gMi41LjE5OC41MSAqL1xuXHRcdFx0Y2FzZSAnUHRnRWxmUmFkaWNhbExlbCc6IC8qIFtNUy1YTFNdIDIuNS4xOTguNTIgKi9cblx0XHRcdGNhc2UgJ1B0Z0VsZlJhZGljYWxTJzogLyogW01TLVhMU10gMi41LjE5OC41MyAqL1xuXHRcdFx0Y2FzZSAnUHRnRWxmUncnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjU0ICovXG5cdFx0XHRjYXNlICdQdGdFbGZSd1YnOiAvKiBbTVMtWExTXSAyLjUuMTk4LjU1ICovXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIEVMRnNcIik7XG5cblx0XHRcdGNhc2UgJ1B0Z1N4TmFtZSc6IC8qIFtNUy1YTFNdIDIuNS4xOTguOTEgVE9ETyAtLSBmaW5kIGEgdGVzdCBjYXNlICovXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIEZvcm11bGEgVG9rZW46ICcgKyBTdHJpbmcoZikpO1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgRm9ybXVsYSBUb2tlbjogJyArIFN0cmluZyhmKSk7XG5cdFx0fVxuXHRcdHZhciBQdGdOb25EaXNwID0gWydQdGdBdHRyU3BhY2UnLCAnUHRnQXR0clNwYWNlU2VtaScsICdQdGdBdHRyR290byddO1xuXHRcdGlmKG9wdHMuYmlmZiAhPSAzKSBpZihsYXN0X3NwID49IDAgJiYgUHRnTm9uRGlzcC5pbmRleE9mKGZvcm11bGFbMF1bZmZdWzBdKSA9PSAtMSkge1xuXHRcdFx0ZiA9IGZvcm11bGFbMF1bbGFzdF9zcF07XG5cdFx0XHR2YXIgX2xlZnQgPSB0cnVlO1xuXHRcdFx0c3dpdGNoKGZbMV1bMF0pIHtcblx0XHRcdFx0Lyogbm90ZTogc29tZSBiYWQgWExTQiBmaWxlcyBvbWl0IHRoZSBQdGdQYXJlbiAqL1xuXHRcdFx0XHRjYXNlIDQ6IF9sZWZ0ID0gZmFsc2U7XG5cdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdC8vICRGbG93SWdub3JlXG5cdFx0XHRcdFx0c3AgPSBmaWxsKFwiIFwiLCBmWzFdWzFdKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgNTogX2xlZnQgPSBmYWxzZTtcblx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0XHRjYXNlIDE6XG5cdFx0XHRcdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHRcdFx0XHRzcCA9IGZpbGwoXCJcXHJcIiwgZlsxXVsxXSk7IGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHNwID0gXCJcIjtcblx0XHRcdFx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdFx0XHRcdGlmKG9wdHMuV1RGKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIFB0Z0F0dHJTcGFjZVR5cGUgXCIgKyBmWzFdWzBdKTtcblx0XHRcdH1cblx0XHRcdHN0YWNrLnB1c2goKF9sZWZ0ID8gc3AgOiBcIlwiKSArIHN0YWNrLnBvcCgpICsgKF9sZWZ0ID8gXCJcIiA6IHNwKSk7XG5cdFx0XHRsYXN0X3NwID0gLTE7XG5cdFx0fVxuXHR9XG5cdGlmKHN0YWNrLmxlbmd0aCA+IDEgJiYgb3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcihcImJhZCBmb3JtdWxhIHN0YWNrXCIpO1xuXHRpZihzdGFja1swXSA9PSBcIlRSVUVcIikgcmV0dXJuIHRydWU7IGlmKHN0YWNrWzBdID09IFwiRkFMU0VcIikgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gc3RhY2tbMF07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMSBUT0RPICovXG5mdW5jdGlvbiBwYXJzZV9BcnJheVBhcnNlZEZvcm11bGEoYmxvYiwgbGVuZ3RoLCBvcHRzLyo6OiwgcmVmKi8pIHtcblx0dmFyIHRhcmdldCA9IGJsb2IubCArIGxlbmd0aCwgbGVuID0gb3B0cy5iaWZmID09IDIgPyAxIDogMjtcblx0dmFyIHJnY2IsIGNjZSA9IGJsb2IucmVhZF9zaGlmdChsZW4pOyAvLyBsZW5ndGggb2YgcmdjZVxuXHRpZihjY2UgPT0gMHhGRkZGKSByZXR1cm4gW1tdLHBhcnNlbm9vcChibG9iLCBsZW5ndGgtMildO1xuXHR2YXIgcmdjZSA9IHBhcnNlX1JnY2UoYmxvYiwgY2NlLCBvcHRzKTtcblx0aWYobGVuZ3RoICE9PSBjY2UgKyBsZW4pIHJnY2IgPSBwYXJzZV9SZ2JFeHRyYShibG9iLCBsZW5ndGggLSBjY2UgLSBsZW4sIHJnY2UsIG9wdHMpO1xuXHRibG9iLmwgPSB0YXJnZXQ7XG5cdHJldHVybiBbcmdjZSwgcmdjYl07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMyBUT0RPICovXG5mdW5jdGlvbiBwYXJzZV9YTFNDZWxsUGFyc2VkRm9ybXVsYShibG9iLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIHRhcmdldCA9IGJsb2IubCArIGxlbmd0aCwgbGVuID0gb3B0cy5iaWZmID09IDIgPyAxIDogMjtcblx0dmFyIHJnY2IsIGNjZSA9IGJsb2IucmVhZF9zaGlmdChsZW4pOyAvLyBsZW5ndGggb2YgcmdjZVxuXHRpZihjY2UgPT0gMHhGRkZGKSByZXR1cm4gW1tdLHBhcnNlbm9vcChibG9iLCBsZW5ndGgtMildO1xuXHR2YXIgcmdjZSA9IHBhcnNlX1JnY2UoYmxvYiwgY2NlLCBvcHRzKTtcblx0aWYobGVuZ3RoICE9PSBjY2UgKyBsZW4pIHJnY2IgPSBwYXJzZV9SZ2JFeHRyYShibG9iLCBsZW5ndGggLSBjY2UgLSBsZW4sIHJnY2UsIG9wdHMpO1xuXHRibG9iLmwgPSB0YXJnZXQ7XG5cdHJldHVybiBbcmdjZSwgcmdjYl07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xOTguMjEgKi9cbmZ1bmN0aW9uIHBhcnNlX05hbWVQYXJzZWRGb3JtdWxhKGJsb2IsIGxlbmd0aCwgb3B0cywgY2NlKSB7XG5cdHZhciB0YXJnZXQgPSBibG9iLmwgKyBsZW5ndGg7XG5cdHZhciByZ2NlID0gcGFyc2VfUmdjZShibG9iLCBjY2UsIG9wdHMpO1xuXHR2YXIgcmdjYjtcblx0aWYodGFyZ2V0ICE9PSBibG9iLmwpIHJnY2IgPSBwYXJzZV9SZ2JFeHRyYShibG9iLCB0YXJnZXQgLSBibG9iLmwsIHJnY2UsIG9wdHMpO1xuXHRyZXR1cm4gW3JnY2UsIHJnY2JdO1xufVxuXG4vKiBbTVMtWExTXSAyLjUuMTk4LjExOCBUT0RPICovXG5mdW5jdGlvbiBwYXJzZV9TaGFyZWRQYXJzZWRGb3JtdWxhKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgdGFyZ2V0ID0gYmxvYi5sICsgbGVuZ3RoO1xuXHR2YXIgcmdjYiwgY2NlID0gYmxvYi5yZWFkX3NoaWZ0KDIpOyAvLyBsZW5ndGggb2YgcmdjZVxuXHR2YXIgcmdjZSA9IHBhcnNlX1JnY2UoYmxvYiwgY2NlLCBvcHRzKTtcblx0aWYoY2NlID09IDB4RkZGRikgcmV0dXJuIFtbXSxwYXJzZW5vb3AoYmxvYiwgbGVuZ3RoLTIpXTtcblx0aWYobGVuZ3RoICE9PSBjY2UgKyAyKSByZ2NiID0gcGFyc2VfUmdiRXh0cmEoYmxvYiwgdGFyZ2V0IC0gY2NlIC0gMiwgcmdjZSwgb3B0cyk7XG5cdHJldHVybiBbcmdjZSwgcmdjYl07XG59XG5cbi8qIFtNUy1YTFNdIDIuNS4xMzMgVE9ETzogaG93IHRvIGVtaXQgZW1wdHkgc3RyaW5ncz8gKi9cbmZ1bmN0aW9uIHBhcnNlX0Zvcm11bGFWYWx1ZShibG9iLyo6OiwgbGVuZ3RoKi8pIHtcblx0dmFyIGI7XG5cdGlmKF9fcmVhZFVJbnQxNkxFKGJsb2IsYmxvYi5sICsgNikgIT09IDB4RkZGRikgcmV0dXJuIFtwYXJzZV9YbnVtKGJsb2IpLCduJ107XG5cdHN3aXRjaChibG9iW2Jsb2IubF0pIHtcblx0XHRjYXNlIDB4MDA6IGJsb2IubCArPSA4OyByZXR1cm4gW1wiU3RyaW5nXCIsICdzJ107XG5cdFx0Y2FzZSAweDAxOiBiID0gYmxvYltibG9iLmwrMl0gPT09IDB4MTsgYmxvYi5sICs9IDg7IHJldHVybiBbYiwnYiddO1xuXHRcdGNhc2UgMHgwMjogYiA9IGJsb2JbYmxvYi5sKzJdOyBibG9iLmwgKz0gODsgcmV0dXJuIFtiLCdlJ107XG5cdFx0Y2FzZSAweDAzOiBibG9iLmwgKz0gODsgcmV0dXJuIFtcIlwiLCdzJ107XG5cdH1cblx0cmV0dXJuIFtdO1xufVxuZnVuY3Rpb24gd3JpdGVfRm9ybXVsYVZhbHVlKHZhbHVlKSB7XG5cdGlmKHZhbHVlID09IG51bGwpIHtcblx0XHQvLyBCbGFuayBTdHJpbmcgVmFsdWVcblx0XHR2YXIgbyA9IG5ld19idWYoOCk7XG5cdFx0by53cml0ZV9zaGlmdCgxLCAweDAzKTtcblx0XHRvLndyaXRlX3NoaWZ0KDEsIDApO1xuXHRcdG8ud3JpdGVfc2hpZnQoMiwgMCk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0XHRvLndyaXRlX3NoaWZ0KDIsIDB4RkZGRik7XG5cdFx0cmV0dXJuIG87XG5cdH0gZWxzZSBpZih0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikgcmV0dXJuIHdyaXRlX1hudW0odmFsdWUpO1xuXHRyZXR1cm4gd3JpdGVfWG51bSgwKTtcbn1cblxuLyogW01TLVhMU10gMi40LjEyNyBUT0RPICovXG5mdW5jdGlvbiBwYXJzZV9Gb3JtdWxhKGJsb2IsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgZW5kID0gYmxvYi5sICsgbGVuZ3RoO1xuXHR2YXIgY2VsbCA9IHBhcnNlX1hMU0NlbGwoYmxvYiwgNiwgb3B0cyk7XG5cdHZhciB2YWwgPSBwYXJzZV9Gb3JtdWxhVmFsdWUoYmxvYiw4KTtcblx0dmFyIGZsYWdzID0gYmxvYi5yZWFkX3NoaWZ0KDEpO1xuXHRpZihvcHRzLmJpZmYgIT0gMikge1xuXHRcdGJsb2IucmVhZF9zaGlmdCgxKTtcblx0XHRpZihvcHRzLmJpZmYgPj0gNSkge1xuXHRcdFx0Lyp2YXIgY2huID0gKi9ibG9iLnJlYWRfc2hpZnQoNCk7XG5cdFx0fVxuXHR9XG5cdHZhciBjYmYgPSBwYXJzZV9YTFNDZWxsUGFyc2VkRm9ybXVsYShibG9iLCBlbmQgLSBibG9iLmwsIG9wdHMpO1xuXHRyZXR1cm4ge2NlbGw6Y2VsbCwgdmFsOnZhbFswXSwgZm9ybXVsYTpjYmYsIHNoYXJlZDogKGZsYWdzID4+IDMpICYgMSwgdHQ6dmFsWzFdfTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0Zvcm11bGEoY2VsbC8qOkNlbGwqLywgUi8qOm51bWJlciovLCBDLyo6bnVtYmVyKi8sIG9wdHMsIG9zLyo6bnVtYmVyKi8pIHtcblx0Ly8gQ2VsbFxuXHR2YXIgbzEgPSB3cml0ZV9YTFNDZWxsKFIsIEMsIG9zKTtcblxuXHQvLyBGb3JtdWxhVmFsdWVcblx0dmFyIG8yID0gd3JpdGVfRm9ybXVsYVZhbHVlKGNlbGwudik7XG5cblx0Ly8gZmxhZ3MgKyBjYWNoZVxuXHR2YXIgbzMgPSBuZXdfYnVmKDYpO1xuXHR2YXIgZmxhZ3MgPSAweDAxIHwgMHgyMDtcblx0bzMud3JpdGVfc2hpZnQoMiwgZmxhZ3MpO1xuXHRvMy53cml0ZV9zaGlmdCg0LCAwKTtcblxuXHQvLyBDZWxsUGFyc2VkRm9ybXVsYVxuXHR2YXIgYmYgPSBuZXdfYnVmKGNlbGwuYmYubGVuZ3RoKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGNlbGwuYmYubGVuZ3RoOyArK2kpIGJmW2ldID0gY2VsbC5iZltpXTtcblxuXHR2YXIgb3V0ID0gYmNvbmNhdChbbzEsIG8yLCBvMywgYmZdKTtcblx0cmV0dXJuIG91dDtcbn1cblxuXG4vKiBYTFNCIFBhcnNlZCBGb3JtdWxhIHJlY29yZHMgaGF2ZSB0aGUgc2FtZSBzaGFwZSAqL1xuZnVuY3Rpb24gcGFyc2VfWExTQlBhcnNlZEZvcm11bGEoZGF0YSwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBjY2UgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG5cdHZhciByZ2NlID0gcGFyc2VfUmdjZShkYXRhLCBjY2UsIG9wdHMpO1xuXHR2YXIgY2IgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG5cdHZhciByZ2NiID0gY2IgPiAwID8gcGFyc2VfUmdiRXh0cmEoZGF0YSwgY2IsIHJnY2UsIG9wdHMpIDogbnVsbDtcblx0cmV0dXJuIFtyZ2NlLCByZ2NiXTtcbn1cblxuLyogW01TLVhMU0JdIDIuNS45Ny4xIEFycmF5UGFyc2VkRm9ybXVsYSAqL1xudmFyIHBhcnNlX1hMU0JBcnJheVBhcnNlZEZvcm11bGEgPSBwYXJzZV9YTFNCUGFyc2VkRm9ybXVsYTtcbi8qIFtNUy1YTFNCXSAyLjUuOTcuNCBDZWxsUGFyc2VkRm9ybXVsYSAqL1xudmFyIHBhcnNlX1hMU0JDZWxsUGFyc2VkRm9ybXVsYSA9IHBhcnNlX1hMU0JQYXJzZWRGb3JtdWxhO1xuLyogW01TLVhMU0JdIDIuNS45Ny44IERWUGFyc2VkRm9ybXVsYSAqL1xuLy92YXIgcGFyc2VfWExTQkRWUGFyc2VkRm9ybXVsYSA9IHBhcnNlX1hMU0JQYXJzZWRGb3JtdWxhO1xuLyogW01TLVhMU0JdIDIuNS45Ny45IEZSVFBhcnNlZEZvcm11bGEgKi9cbi8vdmFyIHBhcnNlX1hMU0JGUlRQYXJzZWRGb3JtdWxhID0gcGFyc2VfWExTQlBhcnNlZEZvcm11bGEyO1xuLyogW01TLVhMU0JdIDIuNS45Ny4xMiBOYW1lUGFyc2VkRm9ybXVsYSAqL1xudmFyIHBhcnNlX1hMU0JOYW1lUGFyc2VkRm9ybXVsYSA9IHBhcnNlX1hMU0JQYXJzZWRGb3JtdWxhO1xuLyogW01TLVhMU0JdIDIuNS45Ny45OCBTaGFyZWRQYXJzZWRGb3JtdWxhICovXG52YXIgcGFyc2VfWExTQlNoYXJlZFBhcnNlZEZvcm11bGEgPSBwYXJzZV9YTFNCUGFyc2VkRm9ybXVsYTtcblxuLyogV3JpdGVzIGEgUHRnTnVtIG9yIFB0Z0ludCAqL1xuZnVuY3Rpb24gd3JpdGVfWExTQkZvcm11bGFOdW0odmFsLyo6bnVtYmVyKi8pIHtcblx0aWYoKHZhbCB8IDApID09IHZhbCAmJiB2YWwgPCBNYXRoLnBvdygyLDE2KSAmJiB2YWwgPj0gMCkge1xuXHRcdHZhciBvaW50ID0gbmV3X2J1ZigxMSk7XG5cdFx0b2ludC53cml0ZV9zaGlmdCg0LCAzKTtcblx0XHRvaW50LndyaXRlX3NoaWZ0KDEsIDB4MWUpO1xuXHRcdG9pbnQud3JpdGVfc2hpZnQoMiwgdmFsKTtcblx0XHRvaW50LndyaXRlX3NoaWZ0KDQsIDApO1xuXHRcdHJldHVybiBvaW50O1xuXHR9XG5cblx0dmFyIG51bSA9IG5ld19idWYoMTcpO1xuXHRudW0ud3JpdGVfc2hpZnQoNCwgMTEpO1xuXHRudW0ud3JpdGVfc2hpZnQoMSwgMHgxZik7XG5cdG51bS53cml0ZV9zaGlmdCg4LCB2YWwpO1xuXHRudW0ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdHJldHVybiBudW07XG59XG4vKiBXcml0ZXMgYSBQdGdFcnIgKi9cbmZ1bmN0aW9uIHdyaXRlX1hMU0JGb3JtdWxhRXJyKHZhbC8qOm51bWJlciovKSB7XG5cdHZhciBvaW50ID0gbmV3X2J1ZigxMCk7XG5cdG9pbnQud3JpdGVfc2hpZnQoNCwgMik7XG5cdG9pbnQud3JpdGVfc2hpZnQoMSwgMHgxQyk7XG5cdG9pbnQud3JpdGVfc2hpZnQoMSwgdmFsKTtcblx0b2ludC53cml0ZV9zaGlmdCg0LCAwKTtcblx0cmV0dXJuIG9pbnQ7XG59XG4vKiBXcml0ZXMgYSBQdGdCb29sICovXG5mdW5jdGlvbiB3cml0ZV9YTFNCRm9ybXVsYUJvb2wodmFsLyo6Ym9vbGVhbiovKSB7XG5cdHZhciBvaW50ID0gbmV3X2J1ZigxMCk7XG5cdG9pbnQud3JpdGVfc2hpZnQoNCwgMik7XG5cdG9pbnQud3JpdGVfc2hpZnQoMSwgMHgxRCk7XG5cdG9pbnQud3JpdGVfc2hpZnQoMSwgdmFsPzE6MCk7XG5cdG9pbnQud3JpdGVfc2hpZnQoNCwgMCk7XG5cdHJldHVybiBvaW50O1xufVxuXG4vKiBXcml0ZXMgYSBQdGdTdHIgKi9cbmZ1bmN0aW9uIHdyaXRlX1hMU0JGb3JtdWxhU3RyKHZhbC8qOnN0cmluZyovKSB7XG5cdHZhciBwcmVhbWJsZSA9IG5ld19idWYoNyk7XG5cdHByZWFtYmxlLndyaXRlX3NoaWZ0KDQsIDMgKyAyICogdmFsLmxlbmd0aCk7XG5cdHByZWFtYmxlLndyaXRlX3NoaWZ0KDEsIDB4MTcpO1xuXHRwcmVhbWJsZS53cml0ZV9zaGlmdCgyLCB2YWwubGVuZ3RoKTtcblxuXHR2YXIgYm9keSA9IG5ld19idWYoMiAqIHZhbC5sZW5ndGgpO1xuXHRib2R5LndyaXRlX3NoaWZ0KDIgKiB2YWwubGVuZ3RoLCB2YWwsIFwidXRmMTZsZVwiKTtcblxuXHR2YXIgcG9zdGFtYmxlID0gbmV3X2J1Zig0KTtcblx0cG9zdGFtYmxlLndyaXRlX3NoaWZ0KDQsIDApO1xuXG5cdHJldHVybiBiY29uY2F0KFtwcmVhbWJsZSwgYm9keSwgcG9zdGFtYmxlXSk7XG59XG5cbi8qIFdyaXRlcyBhIFB0Z1JlZiAqL1xuZnVuY3Rpb24gd3JpdGVfWExTQkZvcm11bGFSZWYoc3RyKSB7XG5cdHZhciBjZWxsID0gZGVjb2RlX2NlbGwoc3RyKTtcblx0dmFyIG91dCA9IG5ld19idWYoMTUpO1xuXHRvdXQud3JpdGVfc2hpZnQoNCwgNyk7XG5cdG91dC53cml0ZV9zaGlmdCgxLCAweDA0IHwgKCgxKTw8NSkpO1xuXHRvdXQud3JpdGVfc2hpZnQoNCwgY2VsbC5yKTtcblx0b3V0LndyaXRlX3NoaWZ0KDIsIGNlbGwuYyB8ICgoc3RyLmNoYXJBdCgwKSA9PSBcIiRcIiA/IDAgOiAxKTw8MTQpIHwgKChzdHIubWF0Y2goL1xcJFxcZC8pID8gMCA6IDEpPDwxNSkpOyAvLyA8PT0gQ29sUmVsU2hvcnRcblx0b3V0LndyaXRlX3NoaWZ0KDQsIDApO1xuXG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIFdyaXRlcyBhIFB0Z1JlZjNkICovXG5mdW5jdGlvbiB3cml0ZV9YTFNCRm9ybXVsYVJlZjNEKHN0ciwgd2IpIHtcblx0dmFyIGxhc3RiYW5nID0gc3RyLmxhc3RJbmRleE9mKFwiIVwiKTtcblx0dmFyIHNuYW1lID0gc3RyLnNsaWNlKDAsIGxhc3RiYW5nKTtcblx0c3RyID0gc3RyLnNsaWNlKGxhc3RiYW5nKzEpO1xuXHR2YXIgY2VsbCA9IGRlY29kZV9jZWxsKHN0cik7XG5cdGlmKHNuYW1lLmNoYXJBdCgwKSA9PSBcIidcIikgc25hbWUgPSBzbmFtZS5zbGljZSgxLCAtMSkucmVwbGFjZSgvJycvZywgXCInXCIpO1xuXG5cdHZhciBvdXQgPSBuZXdfYnVmKDE3KTtcblx0b3V0LndyaXRlX3NoaWZ0KDQsIDkpO1xuXHRvdXQud3JpdGVfc2hpZnQoMSwgMHgxQSB8ICgoMSk8PDUpKTtcblx0b3V0LndyaXRlX3NoaWZ0KDIsIDIgKyB3Yi5TaGVldE5hbWVzLm1hcChmdW5jdGlvbihuKSB7IHJldHVybiBuLnRvTG93ZXJDYXNlKCk7IH0pLmluZGV4T2Yoc25hbWUudG9Mb3dlckNhc2UoKSkpO1xuXHRvdXQud3JpdGVfc2hpZnQoNCwgY2VsbC5yKTtcblx0b3V0LndyaXRlX3NoaWZ0KDIsIGNlbGwuYyB8ICgoc3RyLmNoYXJBdCgwKSA9PSBcIiRcIiA/IDAgOiAxKTw8MTQpIHwgKChzdHIubWF0Y2goL1xcJFxcZC8pID8gMCA6IDEpPDwxNSkpOyAvLyA8PT0gQ29sUmVsU2hvcnRcblx0b3V0LndyaXRlX3NoaWZ0KDQsIDApO1xuXG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIFdyaXRlcyBhIFB0Z1JlZkVycjNkICovXG5mdW5jdGlvbiB3cml0ZV9YTFNCRm9ybXVsYVJlZkVycjNEKHN0ciwgd2IpIHtcblx0dmFyIGxhc3RiYW5nID0gc3RyLmxhc3RJbmRleE9mKFwiIVwiKTtcblx0dmFyIHNuYW1lID0gc3RyLnNsaWNlKDAsIGxhc3RiYW5nKTtcblx0c3RyID0gc3RyLnNsaWNlKGxhc3RiYW5nKzEpO1xuXHRpZihzbmFtZS5jaGFyQXQoMCkgPT0gXCInXCIpIHNuYW1lID0gc25hbWUuc2xpY2UoMSwgLTEpLnJlcGxhY2UoLycnL2csIFwiJ1wiKTtcblxuXHR2YXIgb3V0ID0gbmV3X2J1ZigxNyk7XG5cdG91dC53cml0ZV9zaGlmdCg0LCA5KTtcblx0b3V0LndyaXRlX3NoaWZ0KDEsIDB4MUMgfCAoKDEpPDw1KSk7XG5cdG91dC53cml0ZV9zaGlmdCgyLCAyICsgd2IuU2hlZXROYW1lcy5tYXAoZnVuY3Rpb24obikgeyByZXR1cm4gbi50b0xvd2VyQ2FzZSgpOyB9KS5pbmRleE9mKHNuYW1lLnRvTG93ZXJDYXNlKCkpKTtcblx0b3V0LndyaXRlX3NoaWZ0KDQsIDApO1xuXHRvdXQud3JpdGVfc2hpZnQoMiwgMCk7IC8vIDw9PSBDb2xSZWxTaG9ydFxuXHRvdXQud3JpdGVfc2hpZnQoNCwgMCk7XG5cblx0cmV0dXJuIG91dDtcbn1cblxuLyogV3JpdGVzIGEgc2luZ2xlIHNoZWV0IHJhbmdlIFtQdGdSZWYgUHRnUmVmIFB0Z1JhbmdlXSAqL1xuZnVuY3Rpb24gd3JpdGVfWExTQkZvcm11bGFSYW5nZShfc3RyKSB7XG5cdHZhciBwYXJ0cyA9IF9zdHIuc3BsaXQoXCI6XCIpLCBzdHIgPSBwYXJ0c1swXTtcblxuXHR2YXIgb3V0ID0gbmV3X2J1ZigyMyk7XG5cdG91dC53cml0ZV9zaGlmdCg0LCAxNSk7XG5cblx0Lyogc3RhcnQgY2VsbCAqL1xuXHRzdHIgPSBwYXJ0c1swXTsgdmFyIGNlbGwgPSBkZWNvZGVfY2VsbChzdHIpO1xuXHRvdXQud3JpdGVfc2hpZnQoMSwgMHgwNCB8ICgoMSk8PDUpKTtcblx0b3V0LndyaXRlX3NoaWZ0KDQsIGNlbGwucik7XG5cdG91dC53cml0ZV9zaGlmdCgyLCBjZWxsLmMgfCAoKHN0ci5jaGFyQXQoMCkgPT0gXCIkXCIgPyAwIDogMSk8PDE0KSB8ICgoc3RyLm1hdGNoKC9cXCRcXGQvKSA/IDAgOiAxKTw8MTUpKTsgLy8gPD09IENvbFJlbFNob3J0XG5cdG91dC53cml0ZV9zaGlmdCg0LCAwKTtcblxuXHQvKiBlbmQgY2VsbCAqL1xuXHRzdHIgPSBwYXJ0c1sxXTsgY2VsbCA9IGRlY29kZV9jZWxsKHN0cik7XG5cdG91dC53cml0ZV9zaGlmdCgxLCAweDA0IHwgKCgxKTw8NSkpO1xuXHRvdXQud3JpdGVfc2hpZnQoNCwgY2VsbC5yKTtcblx0b3V0LndyaXRlX3NoaWZ0KDIsIGNlbGwuYyB8ICgoc3RyLmNoYXJBdCgwKSA9PSBcIiRcIiA/IDAgOiAxKTw8MTQpIHwgKChzdHIubWF0Y2goL1xcJFxcZC8pID8gMCA6IDEpPDwxNSkpOyAvLyA8PT0gQ29sUmVsU2hvcnRcblx0b3V0LndyaXRlX3NoaWZ0KDQsIDApO1xuXG5cdC8qIFB0Z1JhbmdlICovXG5cdG91dC53cml0ZV9zaGlmdCgxLCAweDExKTtcblxuXHRvdXQud3JpdGVfc2hpZnQoNCwgMCk7XG5cblx0cmV0dXJuIG91dDtcbn1cblxuLyogV3JpdGVzIGEgcmFuZ2Ugd2l0aCBleHBsaWNpdCBzaGVldCBuYW1lIFtQdGdSZWYzRCBQdGdSZWYzRCBQdGdSYW5nZV0gKi9cbmZ1bmN0aW9uIHdyaXRlX1hMU0JGb3JtdWxhUmFuZ2VXUyhfc3RyLCB3Yikge1xuXHR2YXIgbGFzdGJhbmcgPSBfc3RyLmxhc3RJbmRleE9mKFwiIVwiKTtcblx0dmFyIHNuYW1lID0gX3N0ci5zbGljZSgwLCBsYXN0YmFuZyk7XG5cdF9zdHIgPSBfc3RyLnNsaWNlKGxhc3RiYW5nKzEpO1xuXHRpZihzbmFtZS5jaGFyQXQoMCkgPT0gXCInXCIpIHNuYW1lID0gc25hbWUuc2xpY2UoMSwgLTEpLnJlcGxhY2UoLycnL2csIFwiJ1wiKTtcblx0dmFyIHBhcnRzID0gX3N0ci5zcGxpdChcIjpcIik7XG5cblx0dmFyIG91dCA9IG5ld19idWYoMjcpO1xuXHRvdXQud3JpdGVfc2hpZnQoNCwgMTkpO1xuXG5cdC8qIHN0YXJ0IGNlbGwgKi9cblx0dmFyIHN0ciA9IHBhcnRzWzBdLCBjZWxsID0gZGVjb2RlX2NlbGwoc3RyKTtcblx0b3V0LndyaXRlX3NoaWZ0KDEsIDB4MUEgfCAoKDEpPDw1KSk7XG5cdG91dC53cml0ZV9zaGlmdCgyLCAyICsgd2IuU2hlZXROYW1lcy5tYXAoZnVuY3Rpb24obikgeyByZXR1cm4gbi50b0xvd2VyQ2FzZSgpOyB9KS5pbmRleE9mKHNuYW1lLnRvTG93ZXJDYXNlKCkpKTtcblx0b3V0LndyaXRlX3NoaWZ0KDQsIGNlbGwucik7XG5cdG91dC53cml0ZV9zaGlmdCgyLCBjZWxsLmMgfCAoKHN0ci5jaGFyQXQoMCkgPT0gXCIkXCIgPyAwIDogMSk8PDE0KSB8ICgoc3RyLm1hdGNoKC9cXCRcXGQvKSA/IDAgOiAxKTw8MTUpKTsgLy8gPD09IENvbFJlbFNob3J0XG5cblx0LyogZW5kIGNlbGwgKi9cblx0c3RyID0gcGFydHNbMV07IGNlbGwgPSBkZWNvZGVfY2VsbChzdHIpO1xuXHRvdXQud3JpdGVfc2hpZnQoMSwgMHgxQSB8ICgoMSk8PDUpKTtcblx0b3V0LndyaXRlX3NoaWZ0KDIsIDIgKyB3Yi5TaGVldE5hbWVzLm1hcChmdW5jdGlvbihuKSB7IHJldHVybiBuLnRvTG93ZXJDYXNlKCk7IH0pLmluZGV4T2Yoc25hbWUudG9Mb3dlckNhc2UoKSkpO1xuXHRvdXQud3JpdGVfc2hpZnQoNCwgY2VsbC5yKTtcblx0b3V0LndyaXRlX3NoaWZ0KDIsIGNlbGwuYyB8ICgoc3RyLmNoYXJBdCgwKSA9PSBcIiRcIiA/IDAgOiAxKTw8MTQpIHwgKChzdHIubWF0Y2goL1xcJFxcZC8pID8gMCA6IDEpPDwxNSkpOyAvLyA8PT0gQ29sUmVsU2hvcnRcblxuXHQvKiBQdGdSYW5nZSAqL1xuXHRvdXQud3JpdGVfc2hpZnQoMSwgMHgxMSk7XG5cblx0b3V0LndyaXRlX3NoaWZ0KDQsIDApO1xuXG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIFdyaXRlcyBhIHJhbmdlIHdpdGggZXhwbGljaXQgc2hlZXQgbmFtZSBbUHRnQXJlYTNkXSAqL1xuZnVuY3Rpb24gd3JpdGVfWExTQkZvcm11bGFBcmVhM0QoX3N0ciwgd2IpIHtcblx0dmFyIGxhc3RiYW5nID0gX3N0ci5sYXN0SW5kZXhPZihcIiFcIik7XG5cdHZhciBzbmFtZSA9IF9zdHIuc2xpY2UoMCwgbGFzdGJhbmcpO1xuXHRfc3RyID0gX3N0ci5zbGljZShsYXN0YmFuZysxKTtcblx0aWYoc25hbWUuY2hhckF0KDApID09IFwiJ1wiKSBzbmFtZSA9IHNuYW1lLnNsaWNlKDEsIC0xKS5yZXBsYWNlKC8nJy9nLCBcIidcIik7XG5cdHZhciByYW5nZSA9IGRlY29kZV9yYW5nZShfc3RyKTtcblxuXHR2YXIgb3V0ID0gbmV3X2J1ZigyMyk7XG5cdG91dC53cml0ZV9zaGlmdCg0LCAxNSk7XG5cblx0b3V0LndyaXRlX3NoaWZ0KDEsIDB4MUIgfCAoKDEpPDw1KSk7XG5cdG91dC53cml0ZV9zaGlmdCgyLCAyICsgd2IuU2hlZXROYW1lcy5tYXAoZnVuY3Rpb24obikgeyByZXR1cm4gbi50b0xvd2VyQ2FzZSgpOyB9KS5pbmRleE9mKHNuYW1lLnRvTG93ZXJDYXNlKCkpKTtcblx0b3V0LndyaXRlX3NoaWZ0KDQsIHJhbmdlLnMucik7XG5cdG91dC53cml0ZV9zaGlmdCg0LCByYW5nZS5lLnIpO1xuXHRvdXQud3JpdGVfc2hpZnQoMiwgcmFuZ2Uucy5jKTtcblx0b3V0LndyaXRlX3NoaWZ0KDIsIHJhbmdlLmUuYyk7XG5cblx0b3V0LndyaXRlX3NoaWZ0KDQsIDApO1xuXG5cdHJldHVybiBvdXQ7XG59XG5cblxuLyogR2VuZXJhbCBGb3JtdWxhICovXG5mdW5jdGlvbiB3cml0ZV9YTFNCRm9ybXVsYSh2YWwvKjpzdHJpbmd8bnVtYmVyKi8sIHdiKSB7XG5cdGlmKHR5cGVvZiB2YWwgPT0gXCJudW1iZXJcIikgcmV0dXJuIHdyaXRlX1hMU0JGb3JtdWxhTnVtKHZhbCk7XG5cdGlmKHR5cGVvZiB2YWwgPT0gXCJib29sZWFuXCIpIHJldHVybiB3cml0ZV9YTFNCRm9ybXVsYUJvb2wodmFsKTtcblx0aWYoL14jKERJVlxcLzAhfEdFVFRJTkdfREFUQXxOXFwvQXxOQU1FXFw/fE5VTEwhfE5VTSF8UkVGIXxWQUxVRSEpJC8udGVzdCh2YWwpKSByZXR1cm4gd3JpdGVfWExTQkZvcm11bGFFcnIoK1JCRXJyW3ZhbF0pO1xuXHRpZih2YWwubWF0Y2goL15cXCQ/KD86W0EtV11bQS1aXXsyfXxYW0EtRV1bQS1aXXxYRltBLURdfFtBLVpdezEsMn0pXFwkPyg/OjEwWzAtM11cXGR7NH18MTA0WzAtN11cXGR7M318MTA0OFswLTRdXFxkezJ9fDEwNDg1WzAtNl1cXGR8MTA0ODU3WzAtNl18WzEtOV1cXGR7MCw1fSkkLykpIHJldHVybiB3cml0ZV9YTFNCRm9ybXVsYVJlZih2YWwpO1xuXHRpZih2YWwubWF0Y2goL15cXCQ/KD86W0EtV11bQS1aXXsyfXxYW0EtRV1bQS1aXXxYRltBLURdfFtBLVpdezEsMn0pXFwkPyg/OjEwWzAtM11cXGR7NH18MTA0WzAtN11cXGR7M318MTA0OFswLTRdXFxkezJ9fDEwNDg1WzAtNl1cXGR8MTA0ODU3WzAtNl18WzEtOV1cXGR7MCw1fSk6XFwkPyg/OltBLVddW0EtWl17Mn18WFtBLUVdW0EtWl18WEZbQS1EXXxbQS1aXXsxLDJ9KVxcJD8oPzoxMFswLTNdXFxkezR9fDEwNFswLTddXFxkezN9fDEwNDhbMC00XVxcZHsyfXwxMDQ4NVswLTZdXFxkfDEwNDg1N1swLTZdfFsxLTldXFxkezAsNX0pJC8pKSByZXR1cm4gd3JpdGVfWExTQkZvcm11bGFSYW5nZSh2YWwpO1xuXHRpZih2YWwubWF0Y2goL14jUkVGIVxcJD8oPzpbQS1XXVtBLVpdezJ9fFhbQS1FXVtBLVpdfFhGW0EtRF18W0EtWl17MSwyfSlcXCQ/KD86MTBbMC0zXVxcZHs0fXwxMDRbMC03XVxcZHszfXwxMDQ4WzAtNF1cXGR7Mn18MTA0ODVbMC02XVxcZHwxMDQ4NTdbMC02XXxbMS05XVxcZHswLDV9KTpcXCQ/KD86W0EtV11bQS1aXXsyfXxYW0EtRV1bQS1aXXxYRltBLURdfFtBLVpdezEsMn0pXFwkPyg/OjEwWzAtM11cXGR7NH18MTA0WzAtN11cXGR7M318MTA0OFswLTRdXFxkezJ9fDEwNDg1WzAtNl1cXGR8MTA0ODU3WzAtNl18WzEtOV1cXGR7MCw1fSkkLykpIHJldHVybiB3cml0ZV9YTFNCRm9ybXVsYUFyZWEzRCh2YWwsIHdiKTtcblx0aWYodmFsLm1hdGNoKC9eKD86J1teXFxcXFxcLz8qXFxbXFxdOl0qJ3xbXiddW15cXFxcXFwvPypcXFtcXF06J2B+IUAjJCVeKClcXC09K3t9fDssPC4+XSopIVxcJD8oPzpbQS1XXVtBLVpdezJ9fFhbQS1FXVtBLVpdfFhGW0EtRF18W0EtWl17MSwyfSlcXCQ/KD86MTBbMC0zXVxcZHs0fXwxMDRbMC03XVxcZHszfXwxMDQ4WzAtNF1cXGR7Mn18MTA0ODVbMC02XVxcZHwxMDQ4NTdbMC02XXxbMS05XVxcZHswLDV9KSQvKSkgcmV0dXJuIHdyaXRlX1hMU0JGb3JtdWxhUmVmM0QodmFsLCB3Yik7XG5cdGlmKHZhbC5tYXRjaCgvXig/OidbXlxcXFxcXC8/KlxcW1xcXTpdKid8W14nXVteXFxcXFxcLz8qXFxbXFxdOidgfiFAIyQlXigpXFwtPSt7fXw7LDwuPl0qKSFcXCQ/KD86W0EtV11bQS1aXXsyfXxYW0EtRV1bQS1aXXxYRltBLURdfFtBLVpdezEsMn0pXFwkPyg/OjEwWzAtM11cXGR7NH18MTA0WzAtN11cXGR7M318MTA0OFswLTRdXFxkezJ9fDEwNDg1WzAtNl1cXGR8MTA0ODU3WzAtNl18WzEtOV1cXGR7MCw1fSk6XFwkPyg/OltBLVddW0EtWl17Mn18WFtBLUVdW0EtWl18WEZbQS1EXXxbQS1aXXsxLDJ9KVxcJD8oPzoxMFswLTNdXFxkezR9fDEwNFswLTddXFxkezN9fDEwNDhbMC00XVxcZHsyfXwxMDQ4NVswLTZdXFxkfDEwNDg1N1swLTZdfFsxLTldXFxkezAsNX0pJC8pKSByZXR1cm4gd3JpdGVfWExTQkZvcm11bGFSYW5nZVdTKHZhbCwgd2IpO1xuXHRpZigvXig/OidbXlxcXFxcXC8/KlxcW1xcXTpdKid8W14nXVteXFxcXFxcLz8qXFxbXFxdOidgfiFAIyQlXigpXFwtPSt7fXw7LDwuPl0qKSEjUkVGISQvLnRlc3QodmFsKSkgcmV0dXJuIHdyaXRlX1hMU0JGb3JtdWxhUmVmRXJyM0QodmFsLCB3Yik7XG5cdGlmKC9eXCIuKlwiJC8udGVzdCh2YWwpKSByZXR1cm4gd3JpdGVfWExTQkZvcm11bGFTdHIodmFsKTtcblx0aWYoL15bKy1dXFxkKyQvLnRlc3QodmFsKSkgcmV0dXJuIHdyaXRlX1hMU0JGb3JtdWxhTnVtKHBhcnNlSW50KHZhbCwgMTApKTtcblx0dGhyb3cgXCJGb3JtdWxhIHxcIiArIHZhbCArIFwifCBub3Qgc3VwcG9ydGVkIGZvciBYTFNCXCI7XG59XG52YXIgd3JpdGVfWExTQk5hbWVQYXJzZWRGb3JtdWxhID0gd3JpdGVfWExTQkZvcm11bGE7XG52YXIgQ2V0YWIgPSB7XG4gIDA6IFwiQkVFUFwiLFxuICAxOiBcIk9QRU5cIixcbiAgMjogXCJPUEVOLkxJTktTXCIsXG4gIDM6IFwiQ0xPU0UuQUxMXCIsXG4gIDQ6IFwiU0FWRVwiLFxuICA1OiBcIlNBVkUuQVNcIixcbiAgNjogXCJGSUxFLkRFTEVURVwiLFxuICA3OiBcIlBBR0UuU0VUVVBcIixcbiAgODogXCJQUklOVFwiLFxuICA5OiBcIlBSSU5URVIuU0VUVVBcIixcbiAgMTA6IFwiUVVJVFwiLFxuICAxMTogXCJORVcuV0lORE9XXCIsXG4gIDEyOiBcIkFSUkFOR0UuQUxMXCIsXG4gIDEzOiBcIldJTkRPVy5TSVpFXCIsXG4gIDE0OiBcIldJTkRPVy5NT1ZFXCIsXG4gIDE1OiBcIkZVTExcIixcbiAgMTY6IFwiQ0xPU0VcIixcbiAgMTc6IFwiUlVOXCIsXG4gIDIyOiBcIlNFVC5QUklOVC5BUkVBXCIsXG4gIDIzOiBcIlNFVC5QUklOVC5USVRMRVNcIixcbiAgMjQ6IFwiU0VULlBBR0UuQlJFQUtcIixcbiAgMjU6IFwiUkVNT1ZFLlBBR0UuQlJFQUtcIixcbiAgMjY6IFwiRk9OVFwiLFxuICAyNzogXCJESVNQTEFZXCIsXG4gIDI4OiBcIlBST1RFQ1QuRE9DVU1FTlRcIixcbiAgMjk6IFwiUFJFQ0lTSU9OXCIsXG4gIDMwOiBcIkExLlIxQzFcIixcbiAgMzE6IFwiQ0FMQ1VMQVRFLk5PV1wiLFxuICAzMjogXCJDQUxDVUxBVElPTlwiLFxuICAzNDogXCJEQVRBLkZJTkRcIixcbiAgMzU6IFwiRVhUUkFDVFwiLFxuICAzNjogXCJEQVRBLkRFTEVURVwiLFxuICAzNzogXCJTRVQuREFUQUJBU0VcIixcbiAgMzg6IFwiU0VULkNSSVRFUklBXCIsXG4gIDM5OiBcIlNPUlRcIixcbiAgNDA6IFwiREFUQS5TRVJJRVNcIixcbiAgNDE6IFwiVEFCTEVcIixcbiAgNDI6IFwiRk9STUFULk5VTUJFUlwiLFxuICA0MzogXCJBTElHTk1FTlRcIixcbiAgNDQ6IFwiU1RZTEVcIixcbiAgNDU6IFwiQk9SREVSXCIsXG4gIDQ2OiBcIkNFTEwuUFJPVEVDVElPTlwiLFxuICA0NzogXCJDT0xVTU4uV0lEVEhcIixcbiAgNDg6IFwiVU5ET1wiLFxuICA0OTogXCJDVVRcIixcbiAgNTA6IFwiQ09QWVwiLFxuICA1MTogXCJQQVNURVwiLFxuICA1MjogXCJDTEVBUlwiLFxuICA1MzogXCJQQVNURS5TUEVDSUFMXCIsXG4gIDU0OiBcIkVESVQuREVMRVRFXCIsXG4gIDU1OiBcIklOU0VSVFwiLFxuICA1NjogXCJGSUxMLlJJR0hUXCIsXG4gIDU3OiBcIkZJTEwuRE9XTlwiLFxuICA2MTogXCJERUZJTkUuTkFNRVwiLFxuICA2MjogXCJDUkVBVEUuTkFNRVNcIixcbiAgNjM6IFwiRk9STVVMQS5HT1RPXCIsXG4gIDY0OiBcIkZPUk1VTEEuRklORFwiLFxuICA2NTogXCJTRUxFQ1QuTEFTVC5DRUxMXCIsXG4gIDY2OiBcIlNIT1cuQUNUSVZFLkNFTExcIixcbiAgNjc6IFwiR0FMTEVSWS5BUkVBXCIsXG4gIDY4OiBcIkdBTExFUlkuQkFSXCIsXG4gIDY5OiBcIkdBTExFUlkuQ09MVU1OXCIsXG4gIDcwOiBcIkdBTExFUlkuTElORVwiLFxuICA3MTogXCJHQUxMRVJZLlBJRVwiLFxuICA3MjogXCJHQUxMRVJZLlNDQVRURVJcIixcbiAgNzM6IFwiQ09NQklOQVRJT05cIixcbiAgNzQ6IFwiUFJFRkVSUkVEXCIsXG4gIDc1OiBcIkFERC5PVkVSTEFZXCIsXG4gIDc2OiBcIkdSSURMSU5FU1wiLFxuICA3NzogXCJTRVQuUFJFRkVSUkVEXCIsXG4gIDc4OiBcIkFYRVNcIixcbiAgNzk6IFwiTEVHRU5EXCIsXG4gIDgwOiBcIkFUVEFDSC5URVhUXCIsXG4gIDgxOiBcIkFERC5BUlJPV1wiLFxuICA4MjogXCJTRUxFQ1QuQ0hBUlRcIixcbiAgODM6IFwiU0VMRUNULlBMT1QuQVJFQVwiLFxuICA4NDogXCJQQVRURVJOU1wiLFxuICA4NTogXCJNQUlOLkNIQVJUXCIsXG4gIDg2OiBcIk9WRVJMQVlcIixcbiAgODc6IFwiU0NBTEVcIixcbiAgODg6IFwiRk9STUFULkxFR0VORFwiLFxuICA4OTogXCJGT1JNQVQuVEVYVFwiLFxuICA5MDogXCJFRElULlJFUEVBVFwiLFxuICA5MTogXCJQQVJTRVwiLFxuICA5MjogXCJKVVNUSUZZXCIsXG4gIDkzOiBcIkhJREVcIixcbiAgOTQ6IFwiVU5ISURFXCIsXG4gIDk1OiBcIldPUktTUEFDRVwiLFxuICA5NjogXCJGT1JNVUxBXCIsXG4gIDk3OiBcIkZPUk1VTEEuRklMTFwiLFxuICA5ODogXCJGT1JNVUxBLkFSUkFZXCIsXG4gIDk5OiBcIkRBVEEuRklORC5ORVhUXCIsXG4gIDEwMDogXCJEQVRBLkZJTkQuUFJFVlwiLFxuICAxMDE6IFwiRk9STVVMQS5GSU5ELk5FWFRcIixcbiAgMTAyOiBcIkZPUk1VTEEuRklORC5QUkVWXCIsXG4gIDEwMzogXCJBQ1RJVkFURVwiLFxuICAxMDQ6IFwiQUNUSVZBVEUuTkVYVFwiLFxuICAxMDU6IFwiQUNUSVZBVEUuUFJFVlwiLFxuICAxMDY6IFwiVU5MT0NLRUQuTkVYVFwiLFxuICAxMDc6IFwiVU5MT0NLRUQuUFJFVlwiLFxuICAxMDg6IFwiQ09QWS5QSUNUVVJFXCIsXG4gIDEwOTogXCJTRUxFQ1RcIixcbiAgMTEwOiBcIkRFTEVURS5OQU1FXCIsXG4gIDExMTogXCJERUxFVEUuRk9STUFUXCIsXG4gIDExMjogXCJWTElORVwiLFxuICAxMTM6IFwiSExJTkVcIixcbiAgMTE0OiBcIlZQQUdFXCIsXG4gIDExNTogXCJIUEFHRVwiLFxuICAxMTY6IFwiVlNDUk9MTFwiLFxuICAxMTc6IFwiSFNDUk9MTFwiLFxuICAxMTg6IFwiQUxFUlRcIixcbiAgMTE5OiBcIk5FV1wiLFxuICAxMjA6IFwiQ0FOQ0VMLkNPUFlcIixcbiAgMTIxOiBcIlNIT1cuQ0xJUEJPQVJEXCIsXG4gIDEyMjogXCJNRVNTQUdFXCIsXG4gIDEyNDogXCJQQVNURS5MSU5LXCIsXG4gIDEyNTogXCJBUFAuQUNUSVZBVEVcIixcbiAgMTI2OiBcIkRFTEVURS5BUlJPV1wiLFxuICAxMjc6IFwiUk9XLkhFSUdIVFwiLFxuICAxMjg6IFwiRk9STUFULk1PVkVcIixcbiAgMTI5OiBcIkZPUk1BVC5TSVpFXCIsXG4gIDEzMDogXCJGT1JNVUxBLlJFUExBQ0VcIixcbiAgMTMxOiBcIlNFTkQuS0VZU1wiLFxuICAxMzI6IFwiU0VMRUNULlNQRUNJQUxcIixcbiAgMTMzOiBcIkFQUExZLk5BTUVTXCIsXG4gIDEzNDogXCJSRVBMQUNFLkZPTlRcIixcbiAgMTM1OiBcIkZSRUVaRS5QQU5FU1wiLFxuICAxMzY6IFwiU0hPVy5JTkZPXCIsXG4gIDEzNzogXCJTUExJVFwiLFxuICAxMzg6IFwiT04uV0lORE9XXCIsXG4gIDEzOTogXCJPTi5EQVRBXCIsXG4gIDE0MDogXCJESVNBQkxFLklOUFVUXCIsXG4gIDE0MjogXCJPVVRMSU5FXCIsXG4gIDE0MzogXCJMSVNULk5BTUVTXCIsXG4gIDE0NDogXCJGSUxFLkNMT1NFXCIsXG4gIDE0NTogXCJTQVZFLldPUktCT09LXCIsXG4gIDE0NjogXCJEQVRBLkZPUk1cIixcbiAgMTQ3OiBcIkNPUFkuQ0hBUlRcIixcbiAgMTQ4OiBcIk9OLlRJTUVcIixcbiAgMTQ5OiBcIldBSVRcIixcbiAgMTUwOiBcIkZPUk1BVC5GT05UXCIsXG4gIDE1MTogXCJGSUxMLlVQXCIsXG4gIDE1MjogXCJGSUxMLkxFRlRcIixcbiAgMTUzOiBcIkRFTEVURS5PVkVSTEFZXCIsXG4gIDE1NTogXCJTSE9SVC5NRU5VU1wiLFxuICAxNTk6IFwiU0VULlVQREFURS5TVEFUVVNcIixcbiAgMTYxOiBcIkNPTE9SLlBBTEVUVEVcIixcbiAgMTYyOiBcIkRFTEVURS5TVFlMRVwiLFxuICAxNjM6IFwiV0lORE9XLlJFU1RPUkVcIixcbiAgMTY0OiBcIldJTkRPVy5NQVhJTUlaRVwiLFxuICAxNjY6IFwiQ0hBTkdFLkxJTktcIixcbiAgMTY3OiBcIkNBTENVTEFURS5ET0NVTUVOVFwiLFxuICAxNjg6IFwiT04uS0VZXCIsXG4gIDE2OTogXCJBUFAuUkVTVE9SRVwiLFxuICAxNzA6IFwiQVBQLk1PVkVcIixcbiAgMTcxOiBcIkFQUC5TSVpFXCIsXG4gIDE3MjogXCJBUFAuTUlOSU1JWkVcIixcbiAgMTczOiBcIkFQUC5NQVhJTUlaRVwiLFxuICAxNzQ6IFwiQlJJTkcuVE8uRlJPTlRcIixcbiAgMTc1OiBcIlNFTkQuVE8uQkFDS1wiLFxuICAxODU6IFwiTUFJTi5DSEFSVC5UWVBFXCIsXG4gIDE4NjogXCJPVkVSTEFZLkNIQVJULlRZUEVcIixcbiAgMTg3OiBcIlNFTEVDVC5FTkRcIixcbiAgMTg4OiBcIk9QRU4uTUFJTFwiLFxuICAxODk6IFwiU0VORC5NQUlMXCIsXG4gIDE5MDogXCJTVEFOREFSRC5GT05UXCIsXG4gIDE5MTogXCJDT05TT0xJREFURVwiLFxuICAxOTI6IFwiU09SVC5TUEVDSUFMXCIsXG4gIDE5MzogXCJHQUxMRVJZLjNELkFSRUFcIixcbiAgMTk0OiBcIkdBTExFUlkuM0QuQ09MVU1OXCIsXG4gIDE5NTogXCJHQUxMRVJZLjNELkxJTkVcIixcbiAgMTk2OiBcIkdBTExFUlkuM0QuUElFXCIsXG4gIDE5NzogXCJWSUVXLjNEXCIsXG4gIDE5ODogXCJHT0FMLlNFRUtcIixcbiAgMTk5OiBcIldPUktHUk9VUFwiLFxuICAyMDA6IFwiRklMTC5HUk9VUFwiLFxuICAyMDE6IFwiVVBEQVRFLkxJTktcIixcbiAgMjAyOiBcIlBST01PVEVcIixcbiAgMjAzOiBcIkRFTU9URVwiLFxuICAyMDQ6IFwiU0hPVy5ERVRBSUxcIixcbiAgMjA2OiBcIlVOR1JPVVBcIixcbiAgMjA3OiBcIk9CSkVDVC5QUk9QRVJUSUVTXCIsXG4gIDIwODogXCJTQVZFLk5FVy5PQkpFQ1RcIixcbiAgMjA5OiBcIlNIQVJFXCIsXG4gIDIxMDogXCJTSEFSRS5OQU1FXCIsXG4gIDIxMTogXCJEVVBMSUNBVEVcIixcbiAgMjEyOiBcIkFQUExZLlNUWUxFXCIsXG4gIDIxMzogXCJBU1NJR04uVE8uT0JKRUNUXCIsXG4gIDIxNDogXCJPQkpFQ1QuUFJPVEVDVElPTlwiLFxuICAyMTU6IFwiSElERS5PQkpFQ1RcIixcbiAgMjE2OiBcIlNFVC5FWFRSQUNUXCIsXG4gIDIxNzogXCJDUkVBVEUuUFVCTElTSEVSXCIsXG4gIDIxODogXCJTVUJTQ1JJQkUuVE9cIixcbiAgMjE5OiBcIkFUVFJJQlVURVNcIixcbiAgMjIwOiBcIlNIT1cuVE9PTEJBUlwiLFxuICAyMjI6IFwiUFJJTlQuUFJFVklFV1wiLFxuICAyMjM6IFwiRURJVC5DT0xPUlwiLFxuICAyMjQ6IFwiU0hPVy5MRVZFTFNcIixcbiAgMjI1OiBcIkZPUk1BVC5NQUlOXCIsXG4gIDIyNjogXCJGT1JNQVQuT1ZFUkxBWVwiLFxuICAyMjc6IFwiT04uUkVDQUxDXCIsXG4gIDIyODogXCJFRElULlNFUklFU1wiLFxuICAyMjk6IFwiREVGSU5FLlNUWUxFXCIsXG4gIDI0MDogXCJMSU5FLlBSSU5UXCIsXG4gIDI0MzogXCJFTlRFUi5EQVRBXCIsXG4gIDI0OTogXCJHQUxMRVJZLlJBREFSXCIsXG4gIDI1MDogXCJNRVJHRS5TVFlMRVNcIixcbiAgMjUxOiBcIkVESVRJT04uT1BUSU9OU1wiLFxuICAyNTI6IFwiUEFTVEUuUElDVFVSRVwiLFxuICAyNTM6IFwiUEFTVEUuUElDVFVSRS5MSU5LXCIsXG4gIDI1NDogXCJTUEVMTElOR1wiLFxuICAyNTY6IFwiWk9PTVwiLFxuICAyNTk6IFwiSU5TRVJULk9CSkVDVFwiLFxuICAyNjA6IFwiV0lORE9XLk1JTklNSVpFXCIsXG4gIDI2NTogXCJTT1VORC5OT1RFXCIsXG4gIDI2NjogXCJTT1VORC5QTEFZXCIsXG4gIDI2NzogXCJGT1JNQVQuU0hBUEVcIixcbiAgMjY4OiBcIkVYVEVORC5QT0xZR09OXCIsXG4gIDI2OTogXCJGT1JNQVQuQVVUT1wiLFxuICAyNzI6IFwiR0FMTEVSWS4zRC5CQVJcIixcbiAgMjczOiBcIkdBTExFUlkuM0QuU1VSRkFDRVwiLFxuICAyNzQ6IFwiRklMTC5BVVRPXCIsXG4gIDI3NjogXCJDVVNUT01JWkUuVE9PTEJBUlwiLFxuICAyNzc6IFwiQURELlRPT0xcIixcbiAgMjc4OiBcIkVESVQuT0JKRUNUXCIsXG4gIDI3OTogXCJPTi5ET1VCTEVDTElDS1wiLFxuICAyODA6IFwiT04uRU5UUllcIixcbiAgMjgxOiBcIldPUktCT09LLkFERFwiLFxuICAyODI6IFwiV09SS0JPT0suTU9WRVwiLFxuICAyODM6IFwiV09SS0JPT0suQ09QWVwiLFxuICAyODQ6IFwiV09SS0JPT0suT1BUSU9OU1wiLFxuICAyODU6IFwiU0FWRS5XT1JLU1BBQ0VcIixcbiAgMjg4OiBcIkNIQVJULldJWkFSRFwiLFxuICAyODk6IFwiREVMRVRFLlRPT0xcIixcbiAgMjkwOiBcIk1PVkUuVE9PTFwiLFxuICAyOTE6IFwiV09SS0JPT0suU0VMRUNUXCIsXG4gIDI5MjogXCJXT1JLQk9PSy5BQ1RJVkFURVwiLFxuICAyOTM6IFwiQVNTSUdOLlRPLlRPT0xcIixcbiAgMjk1OiBcIkNPUFkuVE9PTFwiLFxuICAyOTY6IFwiUkVTRVQuVE9PTFwiLFxuICAyOTc6IFwiQ09OU1RSQUlOLk5VTUVSSUNcIixcbiAgMjk4OiBcIlBBU1RFLlRPT0xcIixcbiAgMzAyOiBcIldPUktCT09LLk5FV1wiLFxuICAzMDU6IFwiU0NFTkFSSU8uQ0VMTFNcIixcbiAgMzA2OiBcIlNDRU5BUklPLkRFTEVURVwiLFxuICAzMDc6IFwiU0NFTkFSSU8uQUREXCIsXG4gIDMwODogXCJTQ0VOQVJJTy5FRElUXCIsXG4gIDMwOTogXCJTQ0VOQVJJTy5TSE9XXCIsXG4gIDMxMDogXCJTQ0VOQVJJTy5TSE9XLk5FWFRcIixcbiAgMzExOiBcIlNDRU5BUklPLlNVTU1BUllcIixcbiAgMzEyOiBcIlBJVk9ULlRBQkxFLldJWkFSRFwiLFxuICAzMTM6IFwiUElWT1QuRklFTEQuUFJPUEVSVElFU1wiLFxuICAzMTQ6IFwiUElWT1QuRklFTERcIixcbiAgMzE1OiBcIlBJVk9ULklURU1cIixcbiAgMzE2OiBcIlBJVk9ULkFERC5GSUVMRFNcIixcbiAgMzE4OiBcIk9QVElPTlMuQ0FMQ1VMQVRJT05cIixcbiAgMzE5OiBcIk9QVElPTlMuRURJVFwiLFxuICAzMjA6IFwiT1BUSU9OUy5WSUVXXCIsXG4gIDMyMTogXCJBRERJTi5NQU5BR0VSXCIsXG4gIDMyMjogXCJNRU5VLkVESVRPUlwiLFxuICAzMjM6IFwiQVRUQUNILlRPT0xCQVJTXCIsXG4gIDMyNDogXCJWQkFBY3RpdmF0ZVwiLFxuICAzMjU6IFwiT1BUSU9OUy5DSEFSVFwiLFxuICAzMjg6IFwiVkJBLklOU0VSVC5GSUxFXCIsXG4gIDMzMDogXCJWQkEuUFJPQ0VEVVJFLkRFRklOSVRJT05cIixcbiAgMzM2OiBcIlJPVVRJTkcuU0xJUFwiLFxuICAzMzg6IFwiUk9VVEUuRE9DVU1FTlRcIixcbiAgMzM5OiBcIk1BSUwuTE9HT05cIixcbiAgMzQyOiBcIklOU0VSVC5QSUNUVVJFXCIsXG4gIDM0MzogXCJFRElULlRPT0xcIixcbiAgMzQ0OiBcIkdBTExFUlkuRE9VR0hOVVRcIixcbiAgMzUwOiBcIkNIQVJULlRSRU5EXCIsXG4gIDM1MjogXCJQSVZPVC5JVEVNLlBST1BFUlRJRVNcIixcbiAgMzU0OiBcIldPUktCT09LLklOU0VSVFwiLFxuICAzNTU6IFwiT1BUSU9OUy5UUkFOU0lUSU9OXCIsXG4gIDM1NjogXCJPUFRJT05TLkdFTkVSQUxcIixcbiAgMzcwOiBcIkZJTFRFUi5BRFZBTkNFRFwiLFxuICAzNzM6IFwiTUFJTC5BREQuTUFJTEVSXCIsXG4gIDM3NDogXCJNQUlMLkRFTEVURS5NQUlMRVJcIixcbiAgMzc1OiBcIk1BSUwuUkVQTFlcIixcbiAgMzc2OiBcIk1BSUwuUkVQTFkuQUxMXCIsXG4gIDM3NzogXCJNQUlMLkZPUldBUkRcIixcbiAgMzc4OiBcIk1BSUwuTkVYVC5MRVRURVJcIixcbiAgMzc5OiBcIkRBVEEuTEFCRUxcIixcbiAgMzgwOiBcIklOU0VSVC5USVRMRVwiLFxuICAzODE6IFwiRk9OVC5QUk9QRVJUSUVTXCIsXG4gIDM4MjogXCJNQUNSTy5PUFRJT05TXCIsXG4gIDM4MzogXCJXT1JLQk9PSy5ISURFXCIsXG4gIDM4NDogXCJXT1JLQk9PSy5VTkhJREVcIixcbiAgMzg1OiBcIldPUktCT09LLkRFTEVURVwiLFxuICAzODY6IFwiV09SS0JPT0suTkFNRVwiLFxuICAzODg6IFwiR0FMTEVSWS5DVVNUT01cIixcbiAgMzkwOiBcIkFERC5DSEFSVC5BVVRPRk9STUFUXCIsXG4gIDM5MTogXCJERUxFVEUuQ0hBUlQuQVVUT0ZPUk1BVFwiLFxuICAzOTI6IFwiQ0hBUlQuQURELkRBVEFcIixcbiAgMzkzOiBcIkFVVE8uT1VUTElORVwiLFxuICAzOTQ6IFwiVEFCLk9SREVSXCIsXG4gIDM5NTogXCJTSE9XLkRJQUxPR1wiLFxuICAzOTY6IFwiU0VMRUNULkFMTFwiLFxuICAzOTc6IFwiVU5HUk9VUC5TSEVFVFNcIixcbiAgMzk4OiBcIlNVQlRPVEFMLkNSRUFURVwiLFxuICAzOTk6IFwiU1VCVE9UQUwuUkVNT1ZFXCIsXG4gIDQwMDogXCJSRU5BTUUuT0JKRUNUXCIsXG4gIDQxMjogXCJXT1JLQk9PSy5TQ1JPTExcIixcbiAgNDEzOiBcIldPUktCT09LLk5FWFRcIixcbiAgNDE0OiBcIldPUktCT09LLlBSRVZcIixcbiAgNDE1OiBcIldPUktCT09LLlRBQi5TUExJVFwiLFxuICA0MTY6IFwiRlVMTC5TQ1JFRU5cIixcbiAgNDE3OiBcIldPUktCT09LLlBST1RFQ1RcIixcbiAgNDIwOiBcIlNDUk9MTEJBUi5QUk9QRVJUSUVTXCIsXG4gIDQyMTogXCJQSVZPVC5TSE9XLlBBR0VTXCIsXG4gIDQyMjogXCJURVhULlRPLkNPTFVNTlNcIixcbiAgNDIzOiBcIkZPUk1BVC5DSEFSVFRZUEVcIixcbiAgNDI0OiBcIkxJTksuRk9STUFUXCIsXG4gIDQyNTogXCJUUkFDRVIuRElTUExBWVwiLFxuICA0MzA6IFwiVFJBQ0VSLk5BVklHQVRFXCIsXG4gIDQzMTogXCJUUkFDRVIuQ0xFQVJcIixcbiAgNDMyOiBcIlRSQUNFUi5FUlJPUlwiLFxuICA0MzM6IFwiUElWT1QuRklFTEQuR1JPVVBcIixcbiAgNDM0OiBcIlBJVk9ULkZJRUxELlVOR1JPVVBcIixcbiAgNDM1OiBcIkNIRUNLQk9YLlBST1BFUlRJRVNcIixcbiAgNDM2OiBcIkxBQkVMLlBST1BFUlRJRVNcIixcbiAgNDM3OiBcIkxJU1RCT1guUFJPUEVSVElFU1wiLFxuICA0Mzg6IFwiRURJVEJPWC5QUk9QRVJUSUVTXCIsXG4gIDQzOTogXCJQSVZPVC5SRUZSRVNIXCIsXG4gIDQ0MDogXCJMSU5LLkNPTUJPXCIsXG4gIDQ0MTogXCJPUEVOLlRFWFRcIixcbiAgNDQyOiBcIkhJREUuRElBTE9HXCIsXG4gIDQ0MzogXCJTRVQuRElBTE9HLkZPQ1VTXCIsXG4gIDQ0NDogXCJFTkFCTEUuT0JKRUNUXCIsXG4gIDQ0NTogXCJQVVNIQlVUVE9OLlBST1BFUlRJRVNcIixcbiAgNDQ2OiBcIlNFVC5ESUFMT0cuREVGQVVMVFwiLFxuICA0NDc6IFwiRklMVEVSXCIsXG4gIDQ0ODogXCJGSUxURVIuU0hPVy5BTExcIixcbiAgNDQ5OiBcIkNMRUFSLk9VVExJTkVcIixcbiAgNDUwOiBcIkZVTkNUSU9OLldJWkFSRFwiLFxuICA0NTE6IFwiQURELkxJU1QuSVRFTVwiLFxuICA0NTI6IFwiU0VULkxJU1QuSVRFTVwiLFxuICA0NTM6IFwiUkVNT1ZFLkxJU1QuSVRFTVwiLFxuICA0NTQ6IFwiU0VMRUNULkxJU1QuSVRFTVwiLFxuICA0NTU6IFwiU0VULkNPTlRST0wuVkFMVUVcIixcbiAgNDU2OiBcIlNBVkUuQ09QWS5BU1wiLFxuICA0NTg6IFwiT1BUSU9OUy5MSVNUUy5BRERcIixcbiAgNDU5OiBcIk9QVElPTlMuTElTVFMuREVMRVRFXCIsXG4gIDQ2MDogXCJTRVJJRVMuQVhFU1wiLFxuICA0NjE6IFwiU0VSSUVTLlhcIixcbiAgNDYyOiBcIlNFUklFUy5ZXCIsXG4gIDQ2MzogXCJFUlJPUkJBUi5YXCIsXG4gIDQ2NDogXCJFUlJPUkJBUi5ZXCIsXG4gIDQ2NTogXCJGT1JNQVQuQ0hBUlRcIixcbiAgNDY2OiBcIlNFUklFUy5PUkRFUlwiLFxuICA0Njc6IFwiTUFJTC5MT0dPRkZcIixcbiAgNDY4OiBcIkNMRUFSLlJPVVRJTkcuU0xJUFwiLFxuICA0Njk6IFwiQVBQLkFDVElWQVRFLk1JQ1JPU09GVFwiLFxuICA0NzA6IFwiTUFJTC5FRElULk1BSUxFUlwiLFxuICA0NzE6IFwiT04uU0hFRVRcIixcbiAgNDcyOiBcIlNUQU5EQVJELldJRFRIXCIsXG4gIDQ3MzogXCJTQ0VOQVJJTy5NRVJHRVwiLFxuICA0NzQ6IFwiU1VNTUFSWS5JTkZPXCIsXG4gIDQ3NTogXCJGSU5ELkZJTEVcIixcbiAgNDc2OiBcIkFDVElWRS5DRUxMLkZPTlRcIixcbiAgNDc3OiBcIkVOQUJMRS5USVBXSVpBUkRcIixcbiAgNDc4OiBcIlZCQS5NQUtFLkFERElOXCIsXG4gIDQ4MDogXCJJTlNFUlREQVRBVEFCTEVcIixcbiAgNDgxOiBcIldPUktHUk9VUC5PUFRJT05TXCIsXG4gIDQ4MjogXCJNQUlMLlNFTkQuTUFJTEVSXCIsXG4gIDQ4NTogXCJBVVRPQ09SUkVDVFwiLFxuICA0ODk6IFwiUE9TVC5ET0NVTUVOVFwiLFxuICA0OTE6IFwiUElDS0xJU1RcIixcbiAgNDkzOiBcIlZJRVcuU0hPV1wiLFxuICA0OTQ6IFwiVklFVy5ERUZJTkVcIixcbiAgNDk1OiBcIlZJRVcuREVMRVRFXCIsXG4gIDUwOTogXCJTSEVFVC5CQUNLR1JPVU5EXCIsXG4gIDUxMDogXCJJTlNFUlQuTUFQLk9CSkVDVFwiLFxuICA1MTE6IFwiT1BUSU9OUy5NRU5PTk9cIixcbiAgNTE3OiBcIk1TT0NIRUNLU1wiLFxuICA1MTg6IFwiTk9STUFMXCIsXG4gIDUxOTogXCJMQVlPVVRcIixcbiAgNTIwOiBcIlJNLlBSSU5ULkFSRUFcIixcbiAgNTIxOiBcIkNMRUFSLlBSSU5ULkFSRUFcIixcbiAgNTIyOiBcIkFERC5QUklOVC5BUkVBXCIsXG4gIDUyMzogXCJNT1ZFLkJSS1wiLFxuICA1NDU6IFwiSElERUNVUlIuTk9URVwiLFxuICA1NDY6IFwiSElERUFMTC5OT1RFU1wiLFxuICA1NDc6IFwiREVMRVRFLk5PVEVcIixcbiAgNTQ4OiBcIlRSQVZFUlNFLk5PVEVTXCIsXG4gIDU0OTogXCJBQ1RJVkFURS5OT1RFU1wiLFxuICA2MjA6IFwiUFJPVEVDVC5SRVZJU0lPTlNcIixcbiAgNjIxOiBcIlVOUFJPVEVDVC5SRVZJU0lPTlNcIixcbiAgNjQ3OiBcIk9QVElPTlMuTUVcIixcbiAgNjUzOiBcIldFQi5QVUJMSVNIXCIsXG4gIDY2NzogXCJORVdXRUJRVUVSWVwiLFxuICA2NzM6IFwiUElWT1QuVEFCTEUuQ0hBUlRcIixcbiAgNzUzOiBcIk9QVElPTlMuU0FWRVwiLFxuICA3NTU6IFwiT1BUSU9OUy5TUEVMTFwiLFxuICA4MDg6IFwiSElERUFMTC5JTktBTk5PVFNcIlxufTtcbnZhciBGdGFiID0ge1xuICAwOiBcIkNPVU5UXCIsXG4gIDE6IFwiSUZcIixcbiAgMjogXCJJU05BXCIsXG4gIDM6IFwiSVNFUlJPUlwiLFxuICA0OiBcIlNVTVwiLFxuICA1OiBcIkFWRVJBR0VcIixcbiAgNjogXCJNSU5cIixcbiAgNzogXCJNQVhcIixcbiAgODogXCJST1dcIixcbiAgOTogXCJDT0xVTU5cIixcbiAgMTA6IFwiTkFcIixcbiAgMTE6IFwiTlBWXCIsXG4gIDEyOiBcIlNUREVWXCIsXG4gIDEzOiBcIkRPTExBUlwiLFxuICAxNDogXCJGSVhFRFwiLFxuICAxNTogXCJTSU5cIixcbiAgMTY6IFwiQ09TXCIsXG4gIDE3OiBcIlRBTlwiLFxuICAxODogXCJBVEFOXCIsXG4gIDE5OiBcIlBJXCIsXG4gIDIwOiBcIlNRUlRcIixcbiAgMjE6IFwiRVhQXCIsXG4gIDIyOiBcIkxOXCIsXG4gIDIzOiBcIkxPRzEwXCIsXG4gIDI0OiBcIkFCU1wiLFxuICAyNTogXCJJTlRcIixcbiAgMjY6IFwiU0lHTlwiLFxuICAyNzogXCJST1VORFwiLFxuICAyODogXCJMT09LVVBcIixcbiAgMjk6IFwiSU5ERVhcIixcbiAgMzA6IFwiUkVQVFwiLFxuICAzMTogXCJNSURcIixcbiAgMzI6IFwiTEVOXCIsXG4gIDMzOiBcIlZBTFVFXCIsXG4gIDM0OiBcIlRSVUVcIixcbiAgMzU6IFwiRkFMU0VcIixcbiAgMzY6IFwiQU5EXCIsXG4gIDM3OiBcIk9SXCIsXG4gIDM4OiBcIk5PVFwiLFxuICAzOTogXCJNT0RcIixcbiAgNDA6IFwiRENPVU5UXCIsXG4gIDQxOiBcIkRTVU1cIixcbiAgNDI6IFwiREFWRVJBR0VcIixcbiAgNDM6IFwiRE1JTlwiLFxuICA0NDogXCJETUFYXCIsXG4gIDQ1OiBcIkRTVERFVlwiLFxuICA0NjogXCJWQVJcIixcbiAgNDc6IFwiRFZBUlwiLFxuICA0ODogXCJURVhUXCIsXG4gIDQ5OiBcIkxJTkVTVFwiLFxuICA1MDogXCJUUkVORFwiLFxuICA1MTogXCJMT0dFU1RcIixcbiAgNTI6IFwiR1JPV1RIXCIsXG4gIDUzOiBcIkdPVE9cIixcbiAgNTQ6IFwiSEFMVFwiLFxuICA1NTogXCJSRVRVUk5cIixcbiAgNTY6IFwiUFZcIixcbiAgNTc6IFwiRlZcIixcbiAgNTg6IFwiTlBFUlwiLFxuICA1OTogXCJQTVRcIixcbiAgNjA6IFwiUkFURVwiLFxuICA2MTogXCJNSVJSXCIsXG4gIDYyOiBcIklSUlwiLFxuICA2MzogXCJSQU5EXCIsXG4gIDY0OiBcIk1BVENIXCIsXG4gIDY1OiBcIkRBVEVcIixcbiAgNjY6IFwiVElNRVwiLFxuICA2NzogXCJEQVlcIixcbiAgNjg6IFwiTU9OVEhcIixcbiAgNjk6IFwiWUVBUlwiLFxuICA3MDogXCJXRUVLREFZXCIsXG4gIDcxOiBcIkhPVVJcIixcbiAgNzI6IFwiTUlOVVRFXCIsXG4gIDczOiBcIlNFQ09ORFwiLFxuICA3NDogXCJOT1dcIixcbiAgNzU6IFwiQVJFQVNcIixcbiAgNzY6IFwiUk9XU1wiLFxuICA3NzogXCJDT0xVTU5TXCIsXG4gIDc4OiBcIk9GRlNFVFwiLFxuICA3OTogXCJBQlNSRUZcIixcbiAgODA6IFwiUkVMUkVGXCIsXG4gIDgxOiBcIkFSR1VNRU5UXCIsXG4gIDgyOiBcIlNFQVJDSFwiLFxuICA4MzogXCJUUkFOU1BPU0VcIixcbiAgODQ6IFwiRVJST1JcIixcbiAgODU6IFwiU1RFUFwiLFxuICA4NjogXCJUWVBFXCIsXG4gIDg3OiBcIkVDSE9cIixcbiAgODg6IFwiU0VULk5BTUVcIixcbiAgODk6IFwiQ0FMTEVSXCIsXG4gIDkwOiBcIkRFUkVGXCIsXG4gIDkxOiBcIldJTkRPV1NcIixcbiAgOTI6IFwiU0VSSUVTXCIsXG4gIDkzOiBcIkRPQ1VNRU5UU1wiLFxuICA5NDogXCJBQ1RJVkUuQ0VMTFwiLFxuICA5NTogXCJTRUxFQ1RJT05cIixcbiAgOTY6IFwiUkVTVUxUXCIsXG4gIDk3OiBcIkFUQU4yXCIsXG4gIDk4OiBcIkFTSU5cIixcbiAgOTk6IFwiQUNPU1wiLFxuICAxMDA6IFwiQ0hPT1NFXCIsXG4gIDEwMTogXCJITE9PS1VQXCIsXG4gIDEwMjogXCJWTE9PS1VQXCIsXG4gIDEwMzogXCJMSU5LU1wiLFxuICAxMDQ6IFwiSU5QVVRcIixcbiAgMTA1OiBcIklTUkVGXCIsXG4gIDEwNjogXCJHRVQuRk9STVVMQVwiLFxuICAxMDc6IFwiR0VULk5BTUVcIixcbiAgMTA4OiBcIlNFVC5WQUxVRVwiLFxuICAxMDk6IFwiTE9HXCIsXG4gIDExMDogXCJFWEVDXCIsXG4gIDExMTogXCJDSEFSXCIsXG4gIDExMjogXCJMT1dFUlwiLFxuICAxMTM6IFwiVVBQRVJcIixcbiAgMTE0OiBcIlBST1BFUlwiLFxuICAxMTU6IFwiTEVGVFwiLFxuICAxMTY6IFwiUklHSFRcIixcbiAgMTE3OiBcIkVYQUNUXCIsXG4gIDExODogXCJUUklNXCIsXG4gIDExOTogXCJSRVBMQUNFXCIsXG4gIDEyMDogXCJTVUJTVElUVVRFXCIsXG4gIDEyMTogXCJDT0RFXCIsXG4gIDEyMjogXCJOQU1FU1wiLFxuICAxMjM6IFwiRElSRUNUT1JZXCIsXG4gIDEyNDogXCJGSU5EXCIsXG4gIDEyNTogXCJDRUxMXCIsXG4gIDEyNjogXCJJU0VSUlwiLFxuICAxMjc6IFwiSVNURVhUXCIsXG4gIDEyODogXCJJU05VTUJFUlwiLFxuICAxMjk6IFwiSVNCTEFOS1wiLFxuICAxMzA6IFwiVFwiLFxuICAxMzE6IFwiTlwiLFxuICAxMzI6IFwiRk9QRU5cIixcbiAgMTMzOiBcIkZDTE9TRVwiLFxuICAxMzQ6IFwiRlNJWkVcIixcbiAgMTM1OiBcIkZSRUFETE5cIixcbiAgMTM2OiBcIkZSRUFEXCIsXG4gIDEzNzogXCJGV1JJVEVMTlwiLFxuICAxMzg6IFwiRldSSVRFXCIsXG4gIDEzOTogXCJGUE9TXCIsXG4gIDE0MDogXCJEQVRFVkFMVUVcIixcbiAgMTQxOiBcIlRJTUVWQUxVRVwiLFxuICAxNDI6IFwiU0xOXCIsXG4gIDE0MzogXCJTWURcIixcbiAgMTQ0OiBcIkREQlwiLFxuICAxNDU6IFwiR0VULkRFRlwiLFxuICAxNDY6IFwiUkVGVEVYVFwiLFxuICAxNDc6IFwiVEVYVFJFRlwiLFxuICAxNDg6IFwiSU5ESVJFQ1RcIixcbiAgMTQ5OiBcIlJFR0lTVEVSXCIsXG4gIDE1MDogXCJDQUxMXCIsXG4gIDE1MTogXCJBREQuQkFSXCIsXG4gIDE1MjogXCJBREQuTUVOVVwiLFxuICAxNTM6IFwiQURELkNPTU1BTkRcIixcbiAgMTU0OiBcIkVOQUJMRS5DT01NQU5EXCIsXG4gIDE1NTogXCJDSEVDSy5DT01NQU5EXCIsXG4gIDE1NjogXCJSRU5BTUUuQ09NTUFORFwiLFxuICAxNTc6IFwiU0hPVy5CQVJcIixcbiAgMTU4OiBcIkRFTEVURS5NRU5VXCIsXG4gIDE1OTogXCJERUxFVEUuQ09NTUFORFwiLFxuICAxNjA6IFwiR0VULkNIQVJULklURU1cIixcbiAgMTYxOiBcIkRJQUxPRy5CT1hcIixcbiAgMTYyOiBcIkNMRUFOXCIsXG4gIDE2MzogXCJNREVURVJNXCIsXG4gIDE2NDogXCJNSU5WRVJTRVwiLFxuICAxNjU6IFwiTU1VTFRcIixcbiAgMTY2OiBcIkZJTEVTXCIsXG4gIDE2NzogXCJJUE1UXCIsXG4gIDE2ODogXCJQUE1UXCIsXG4gIDE2OTogXCJDT1VOVEFcIixcbiAgMTcwOiBcIkNBTkNFTC5LRVlcIixcbiAgMTcxOiBcIkZPUlwiLFxuICAxNzI6IFwiV0hJTEVcIixcbiAgMTczOiBcIkJSRUFLXCIsXG4gIDE3NDogXCJORVhUXCIsXG4gIDE3NTogXCJJTklUSUFURVwiLFxuICAxNzY6IFwiUkVRVUVTVFwiLFxuICAxNzc6IFwiUE9LRVwiLFxuICAxNzg6IFwiRVhFQ1VURVwiLFxuICAxNzk6IFwiVEVSTUlOQVRFXCIsXG4gIDE4MDogXCJSRVNUQVJUXCIsXG4gIDE4MTogXCJIRUxQXCIsXG4gIDE4MjogXCJHRVQuQkFSXCIsXG4gIDE4MzogXCJQUk9EVUNUXCIsXG4gIDE4NDogXCJGQUNUXCIsXG4gIDE4NTogXCJHRVQuQ0VMTFwiLFxuICAxODY6IFwiR0VULldPUktTUEFDRVwiLFxuICAxODc6IFwiR0VULldJTkRPV1wiLFxuICAxODg6IFwiR0VULkRPQ1VNRU5UXCIsXG4gIDE4OTogXCJEUFJPRFVDVFwiLFxuICAxOTA6IFwiSVNOT05URVhUXCIsXG4gIDE5MTogXCJHRVQuTk9URVwiLFxuICAxOTI6IFwiTk9URVwiLFxuICAxOTM6IFwiU1RERVZQXCIsXG4gIDE5NDogXCJWQVJQXCIsXG4gIDE5NTogXCJEU1RERVZQXCIsXG4gIDE5NjogXCJEVkFSUFwiLFxuICAxOTc6IFwiVFJVTkNcIixcbiAgMTk4OiBcIklTTE9HSUNBTFwiLFxuICAxOTk6IFwiRENPVU5UQVwiLFxuICAyMDA6IFwiREVMRVRFLkJBUlwiLFxuICAyMDE6IFwiVU5SRUdJU1RFUlwiLFxuICAyMDQ6IFwiVVNET0xMQVJcIixcbiAgMjA1OiBcIkZJTkRCXCIsXG4gIDIwNjogXCJTRUFSQ0hCXCIsXG4gIDIwNzogXCJSRVBMQUNFQlwiLFxuICAyMDg6IFwiTEVGVEJcIixcbiAgMjA5OiBcIlJJR0hUQlwiLFxuICAyMTA6IFwiTUlEQlwiLFxuICAyMTE6IFwiTEVOQlwiLFxuICAyMTI6IFwiUk9VTkRVUFwiLFxuICAyMTM6IFwiUk9VTkRET1dOXCIsXG4gIDIxNDogXCJBU0NcIixcbiAgMjE1OiBcIkRCQ1NcIixcbiAgMjE2OiBcIlJBTktcIixcbiAgMjE5OiBcIkFERFJFU1NcIixcbiAgMjIwOiBcIkRBWVMzNjBcIixcbiAgMjIxOiBcIlRPREFZXCIsXG4gIDIyMjogXCJWREJcIixcbiAgMjIzOiBcIkVMU0VcIixcbiAgMjI0OiBcIkVMU0UuSUZcIixcbiAgMjI1OiBcIkVORC5JRlwiLFxuICAyMjY6IFwiRk9SLkNFTExcIixcbiAgMjI3OiBcIk1FRElBTlwiLFxuICAyMjg6IFwiU1VNUFJPRFVDVFwiLFxuICAyMjk6IFwiU0lOSFwiLFxuICAyMzA6IFwiQ09TSFwiLFxuICAyMzE6IFwiVEFOSFwiLFxuICAyMzI6IFwiQVNJTkhcIixcbiAgMjMzOiBcIkFDT1NIXCIsXG4gIDIzNDogXCJBVEFOSFwiLFxuICAyMzU6IFwiREdFVFwiLFxuICAyMzY6IFwiQ1JFQVRFLk9CSkVDVFwiLFxuICAyMzc6IFwiVk9MQVRJTEVcIixcbiAgMjM4OiBcIkxBU1QuRVJST1JcIixcbiAgMjM5OiBcIkNVU1RPTS5VTkRPXCIsXG4gIDI0MDogXCJDVVNUT00uUkVQRUFUXCIsXG4gIDI0MTogXCJGT1JNVUxBLkNPTlZFUlRcIixcbiAgMjQyOiBcIkdFVC5MSU5LLklORk9cIixcbiAgMjQzOiBcIlRFWFQuQk9YXCIsXG4gIDI0NDogXCJJTkZPXCIsXG4gIDI0NTogXCJHUk9VUFwiLFxuICAyNDY6IFwiR0VULk9CSkVDVFwiLFxuICAyNDc6IFwiREJcIixcbiAgMjQ4OiBcIlBBVVNFXCIsXG4gIDI1MTogXCJSRVNVTUVcIixcbiAgMjUyOiBcIkZSRVFVRU5DWVwiLFxuICAyNTM6IFwiQURELlRPT0xCQVJcIixcbiAgMjU0OiBcIkRFTEVURS5UT09MQkFSXCIsXG4gIDI1NTogXCJVc2VyXCIsXG4gIDI1NjogXCJSRVNFVC5UT09MQkFSXCIsXG4gIDI1NzogXCJFVkFMVUFURVwiLFxuICAyNTg6IFwiR0VULlRPT0xCQVJcIixcbiAgMjU5OiBcIkdFVC5UT09MXCIsXG4gIDI2MDogXCJTUEVMTElORy5DSEVDS1wiLFxuICAyNjE6IFwiRVJST1IuVFlQRVwiLFxuICAyNjI6IFwiQVBQLlRJVExFXCIsXG4gIDI2MzogXCJXSU5ET1cuVElUTEVcIixcbiAgMjY0OiBcIlNBVkUuVE9PTEJBUlwiLFxuICAyNjU6IFwiRU5BQkxFLlRPT0xcIixcbiAgMjY2OiBcIlBSRVNTLlRPT0xcIixcbiAgMjY3OiBcIlJFR0lTVEVSLklEXCIsXG4gIDI2ODogXCJHRVQuV09SS0JPT0tcIixcbiAgMjY5OiBcIkFWRURFVlwiLFxuICAyNzA6IFwiQkVUQURJU1RcIixcbiAgMjcxOiBcIkdBTU1BTE5cIixcbiAgMjcyOiBcIkJFVEFJTlZcIixcbiAgMjczOiBcIkJJTk9NRElTVFwiLFxuICAyNzQ6IFwiQ0hJRElTVFwiLFxuICAyNzU6IFwiQ0hJSU5WXCIsXG4gIDI3NjogXCJDT01CSU5cIixcbiAgMjc3OiBcIkNPTkZJREVOQ0VcIixcbiAgMjc4OiBcIkNSSVRCSU5PTVwiLFxuICAyNzk6IFwiRVZFTlwiLFxuICAyODA6IFwiRVhQT05ESVNUXCIsXG4gIDI4MTogXCJGRElTVFwiLFxuICAyODI6IFwiRklOVlwiLFxuICAyODM6IFwiRklTSEVSXCIsXG4gIDI4NDogXCJGSVNIRVJJTlZcIixcbiAgMjg1OiBcIkZMT09SXCIsXG4gIDI4NjogXCJHQU1NQURJU1RcIixcbiAgMjg3OiBcIkdBTU1BSU5WXCIsXG4gIDI4ODogXCJDRUlMSU5HXCIsXG4gIDI4OTogXCJIWVBHRU9NRElTVFwiLFxuICAyOTA6IFwiTE9HTk9STURJU1RcIixcbiAgMjkxOiBcIkxPR0lOVlwiLFxuICAyOTI6IFwiTkVHQklOT01ESVNUXCIsXG4gIDI5MzogXCJOT1JNRElTVFwiLFxuICAyOTQ6IFwiTk9STVNESVNUXCIsXG4gIDI5NTogXCJOT1JNSU5WXCIsXG4gIDI5NjogXCJOT1JNU0lOVlwiLFxuICAyOTc6IFwiU1RBTkRBUkRJWkVcIixcbiAgMjk4OiBcIk9ERFwiLFxuICAyOTk6IFwiUEVSTVVUXCIsXG4gIDMwMDogXCJQT0lTU09OXCIsXG4gIDMwMTogXCJURElTVFwiLFxuICAzMDI6IFwiV0VJQlVMTFwiLFxuICAzMDM6IFwiU1VNWE1ZMlwiLFxuICAzMDQ6IFwiU1VNWDJNWTJcIixcbiAgMzA1OiBcIlNVTVgyUFkyXCIsXG4gIDMwNjogXCJDSElURVNUXCIsXG4gIDMwNzogXCJDT1JSRUxcIixcbiAgMzA4OiBcIkNPVkFSXCIsXG4gIDMwOTogXCJGT1JFQ0FTVFwiLFxuICAzMTA6IFwiRlRFU1RcIixcbiAgMzExOiBcIklOVEVSQ0VQVFwiLFxuICAzMTI6IFwiUEVBUlNPTlwiLFxuICAzMTM6IFwiUlNRXCIsXG4gIDMxNDogXCJTVEVZWFwiLFxuICAzMTU6IFwiU0xPUEVcIixcbiAgMzE2OiBcIlRURVNUXCIsXG4gIDMxNzogXCJQUk9CXCIsXG4gIDMxODogXCJERVZTUVwiLFxuICAzMTk6IFwiR0VPTUVBTlwiLFxuICAzMjA6IFwiSEFSTUVBTlwiLFxuICAzMjE6IFwiU1VNU1FcIixcbiAgMzIyOiBcIktVUlRcIixcbiAgMzIzOiBcIlNLRVdcIixcbiAgMzI0OiBcIlpURVNUXCIsXG4gIDMyNTogXCJMQVJHRVwiLFxuICAzMjY6IFwiU01BTExcIixcbiAgMzI3OiBcIlFVQVJUSUxFXCIsXG4gIDMyODogXCJQRVJDRU5USUxFXCIsXG4gIDMyOTogXCJQRVJDRU5UUkFOS1wiLFxuICAzMzA6IFwiTU9ERVwiLFxuICAzMzE6IFwiVFJJTU1FQU5cIixcbiAgMzMyOiBcIlRJTlZcIixcbiAgMzM0OiBcIk1PVklFLkNPTU1BTkRcIixcbiAgMzM1OiBcIkdFVC5NT1ZJRVwiLFxuICAzMzY6IFwiQ09OQ0FURU5BVEVcIixcbiAgMzM3OiBcIlBPV0VSXCIsXG4gIDMzODogXCJQSVZPVC5BREQuREFUQVwiLFxuICAzMzk6IFwiR0VULlBJVk9ULlRBQkxFXCIsXG4gIDM0MDogXCJHRVQuUElWT1QuRklFTERcIixcbiAgMzQxOiBcIkdFVC5QSVZPVC5JVEVNXCIsXG4gIDM0MjogXCJSQURJQU5TXCIsXG4gIDM0MzogXCJERUdSRUVTXCIsXG4gIDM0NDogXCJTVUJUT1RBTFwiLFxuICAzNDU6IFwiU1VNSUZcIixcbiAgMzQ2OiBcIkNPVU5USUZcIixcbiAgMzQ3OiBcIkNPVU5UQkxBTktcIixcbiAgMzQ4OiBcIlNDRU5BUklPLkdFVFwiLFxuICAzNDk6IFwiT1BUSU9OUy5MSVNUUy5HRVRcIixcbiAgMzUwOiBcIklTUE1UXCIsXG4gIDM1MTogXCJEQVRFRElGXCIsXG4gIDM1MjogXCJEQVRFU1RSSU5HXCIsXG4gIDM1MzogXCJOVU1CRVJTVFJJTkdcIixcbiAgMzU0OiBcIlJPTUFOXCIsXG4gIDM1NTogXCJPUEVOLkRJQUxPR1wiLFxuICAzNTY6IFwiU0FWRS5ESUFMT0dcIixcbiAgMzU3OiBcIlZJRVcuR0VUXCIsXG4gIDM1ODogXCJHRVRQSVZPVERBVEFcIixcbiAgMzU5OiBcIkhZUEVSTElOS1wiLFxuICAzNjA6IFwiUEhPTkVUSUNcIixcbiAgMzYxOiBcIkFWRVJBR0VBXCIsXG4gIDM2MjogXCJNQVhBXCIsXG4gIDM2MzogXCJNSU5BXCIsXG4gIDM2NDogXCJTVERFVlBBXCIsXG4gIDM2NTogXCJWQVJQQVwiLFxuICAzNjY6IFwiU1RERVZBXCIsXG4gIDM2NzogXCJWQVJBXCIsXG4gIDM2ODogXCJCQUhUVEVYVFwiLFxuICAzNjk6IFwiVEhBSURBWU9GV0VFS1wiLFxuICAzNzA6IFwiVEhBSURJR0lUXCIsXG4gIDM3MTogXCJUSEFJTU9OVEhPRllFQVJcIixcbiAgMzcyOiBcIlRIQUlOVU1TT1VORFwiLFxuICAzNzM6IFwiVEhBSU5VTVNUUklOR1wiLFxuICAzNzQ6IFwiVEhBSVNUUklOR0xFTkdUSFwiLFxuICAzNzU6IFwiSVNUSEFJRElHSVRcIixcbiAgMzc2OiBcIlJPVU5EQkFIVERPV05cIixcbiAgMzc3OiBcIlJPVU5EQkFIVFVQXCIsXG4gIDM3ODogXCJUSEFJWUVBUlwiLFxuICAzNzk6IFwiUlREXCIsXG4gIDM4MDogXCJDVUJFVkFMVUVcIixcbiAgMzgxOiBcIkNVQkVNRU1CRVJcIixcbiAgMzgyOiBcIkNVQkVNRU1CRVJQUk9QRVJUWVwiLFxuICAzODM6IFwiQ1VCRVJBTktFRE1FTUJFUlwiLFxuICAzODQ6IFwiSEVYMkJJTlwiLFxuICAzODU6IFwiSEVYMkRFQ1wiLFxuICAzODY6IFwiSEVYMk9DVFwiLFxuICAzODc6IFwiREVDMkJJTlwiLFxuICAzODg6IFwiREVDMkhFWFwiLFxuICAzODk6IFwiREVDMk9DVFwiLFxuICAzOTA6IFwiT0NUMkJJTlwiLFxuICAzOTE6IFwiT0NUMkhFWFwiLFxuICAzOTI6IFwiT0NUMkRFQ1wiLFxuICAzOTM6IFwiQklOMkRFQ1wiLFxuICAzOTQ6IFwiQklOMk9DVFwiLFxuICAzOTU6IFwiQklOMkhFWFwiLFxuICAzOTY6IFwiSU1TVUJcIixcbiAgMzk3OiBcIklNRElWXCIsXG4gIDM5ODogXCJJTVBPV0VSXCIsXG4gIDM5OTogXCJJTUFCU1wiLFxuICA0MDA6IFwiSU1TUVJUXCIsXG4gIDQwMTogXCJJTUxOXCIsXG4gIDQwMjogXCJJTUxPRzJcIixcbiAgNDAzOiBcIklNTE9HMTBcIixcbiAgNDA0OiBcIklNU0lOXCIsXG4gIDQwNTogXCJJTUNPU1wiLFxuICA0MDY6IFwiSU1FWFBcIixcbiAgNDA3OiBcIklNQVJHVU1FTlRcIixcbiAgNDA4OiBcIklNQ09OSlVHQVRFXCIsXG4gIDQwOTogXCJJTUFHSU5BUllcIixcbiAgNDEwOiBcIklNUkVBTFwiLFxuICA0MTE6IFwiQ09NUExFWFwiLFxuICA0MTI6IFwiSU1TVU1cIixcbiAgNDEzOiBcIklNUFJPRFVDVFwiLFxuICA0MTQ6IFwiU0VSSUVTU1VNXCIsXG4gIDQxNTogXCJGQUNURE9VQkxFXCIsXG4gIDQxNjogXCJTUVJUUElcIixcbiAgNDE3OiBcIlFVT1RJRU5UXCIsXG4gIDQxODogXCJERUxUQVwiLFxuICA0MTk6IFwiR0VTVEVQXCIsXG4gIDQyMDogXCJJU0VWRU5cIixcbiAgNDIxOiBcIklTT0REXCIsXG4gIDQyMjogXCJNUk9VTkRcIixcbiAgNDIzOiBcIkVSRlwiLFxuICA0MjQ6IFwiRVJGQ1wiLFxuICA0MjU6IFwiQkVTU0VMSlwiLFxuICA0MjY6IFwiQkVTU0VMS1wiLFxuICA0Mjc6IFwiQkVTU0VMWVwiLFxuICA0Mjg6IFwiQkVTU0VMSVwiLFxuICA0Mjk6IFwiWElSUlwiLFxuICA0MzA6IFwiWE5QVlwiLFxuICA0MzE6IFwiUFJJQ0VNQVRcIixcbiAgNDMyOiBcIllJRUxETUFUXCIsXG4gIDQzMzogXCJJTlRSQVRFXCIsXG4gIDQzNDogXCJSRUNFSVZFRFwiLFxuICA0MzU6IFwiRElTQ1wiLFxuICA0MzY6IFwiUFJJQ0VESVNDXCIsXG4gIDQzNzogXCJZSUVMRERJU0NcIixcbiAgNDM4OiBcIlRCSUxMRVFcIixcbiAgNDM5OiBcIlRCSUxMUFJJQ0VcIixcbiAgNDQwOiBcIlRCSUxMWUlFTERcIixcbiAgNDQxOiBcIlBSSUNFXCIsXG4gIDQ0MjogXCJZSUVMRFwiLFxuICA0NDM6IFwiRE9MTEFSREVcIixcbiAgNDQ0OiBcIkRPTExBUkZSXCIsXG4gIDQ0NTogXCJOT01JTkFMXCIsXG4gIDQ0NjogXCJFRkZFQ1RcIixcbiAgNDQ3OiBcIkNVTVBSSU5DXCIsXG4gIDQ0ODogXCJDVU1JUE1UXCIsXG4gIDQ0OTogXCJFREFURVwiLFxuICA0NTA6IFwiRU9NT05USFwiLFxuICA0NTE6IFwiWUVBUkZSQUNcIixcbiAgNDUyOiBcIkNPVVBEQVlCU1wiLFxuICA0NTM6IFwiQ09VUERBWVNcIixcbiAgNDU0OiBcIkNPVVBEQVlTTkNcIixcbiAgNDU1OiBcIkNPVVBOQ0RcIixcbiAgNDU2OiBcIkNPVVBOVU1cIixcbiAgNDU3OiBcIkNPVVBQQ0RcIixcbiAgNDU4OiBcIkRVUkFUSU9OXCIsXG4gIDQ1OTogXCJNRFVSQVRJT05cIixcbiAgNDYwOiBcIk9ERExQUklDRVwiLFxuICA0NjE6IFwiT0RETFlJRUxEXCIsXG4gIDQ2MjogXCJPRERGUFJJQ0VcIixcbiAgNDYzOiBcIk9EREZZSUVMRFwiLFxuICA0NjQ6IFwiUkFOREJFVFdFRU5cIixcbiAgNDY1OiBcIldFRUtOVU1cIixcbiAgNDY2OiBcIkFNT1JERUdSQ1wiLFxuICA0Njc6IFwiQU1PUkxJTkNcIixcbiAgNDY4OiBcIkNPTlZFUlRcIixcbiAgNzI0OiBcIlNIRUVUSlNcIixcbiAgNDY5OiBcIkFDQ1JJTlRcIixcbiAgNDcwOiBcIkFDQ1JJTlRNXCIsXG4gIDQ3MTogXCJXT1JLREFZXCIsXG4gIDQ3MjogXCJORVRXT1JLREFZU1wiLFxuICA0NzM6IFwiR0NEXCIsXG4gIDQ3NDogXCJNVUxUSU5PTUlBTFwiLFxuICA0NzU6IFwiTENNXCIsXG4gIDQ3NjogXCJGVlNDSEVEVUxFXCIsXG4gIDQ3NzogXCJDVUJFS1BJTUVNQkVSXCIsXG4gIDQ3ODogXCJDVUJFU0VUXCIsXG4gIDQ3OTogXCJDVUJFU0VUQ09VTlRcIixcbiAgNDgwOiBcIklGRVJST1JcIixcbiAgNDgxOiBcIkNPVU5USUZTXCIsXG4gIDQ4MjogXCJTVU1JRlNcIixcbiAgNDgzOiBcIkFWRVJBR0VJRlwiLFxuICA0ODQ6IFwiQVZFUkFHRUlGU1wiXG59O1xudmFyIEZ0YWJBcmdjID0ge1xuICAyOiAxLFxuICAzOiAxLFxuICAxMDogMCxcbiAgMTU6IDEsXG4gIDE2OiAxLFxuICAxNzogMSxcbiAgMTg6IDEsXG4gIDE5OiAwLFxuICAyMDogMSxcbiAgMjE6IDEsXG4gIDIyOiAxLFxuICAyMzogMSxcbiAgMjQ6IDEsXG4gIDI1OiAxLFxuICAyNjogMSxcbiAgMjc6IDIsXG4gIDMwOiAyLFxuICAzMTogMyxcbiAgMzI6IDEsXG4gIDMzOiAxLFxuICAzNDogMCxcbiAgMzU6IDAsXG4gIDM4OiAxLFxuICAzOTogMixcbiAgNDA6IDMsXG4gIDQxOiAzLFxuICA0MjogMyxcbiAgNDM6IDMsXG4gIDQ0OiAzLFxuICA0NTogMyxcbiAgNDc6IDMsXG4gIDQ4OiAyLFxuICA1MzogMSxcbiAgNjE6IDMsXG4gIDYzOiAwLFxuICA2NTogMyxcbiAgNjY6IDMsXG4gIDY3OiAxLFxuICA2ODogMSxcbiAgNjk6IDEsXG4gIDcwOiAxLFxuICA3MTogMSxcbiAgNzI6IDEsXG4gIDczOiAxLFxuICA3NDogMCxcbiAgNzU6IDEsXG4gIDc2OiAxLFxuICA3NzogMSxcbiAgNzk6IDIsXG4gIDgwOiAyLFxuICA4MzogMSxcbiAgODU6IDAsXG4gIDg2OiAxLFxuICA4OTogMCxcbiAgOTA6IDEsXG4gIDk0OiAwLFxuICA5NTogMCxcbiAgOTc6IDIsXG4gIDk4OiAxLFxuICA5OTogMSxcbiAgMTAxOiAzLFxuICAxMDI6IDMsXG4gIDEwNTogMSxcbiAgMTA2OiAxLFxuICAxMDg6IDIsXG4gIDExMTogMSxcbiAgMTEyOiAxLFxuICAxMTM6IDEsXG4gIDExNDogMSxcbiAgMTE3OiAyLFxuICAxMTg6IDEsXG4gIDExOTogNCxcbiAgMTIxOiAxLFxuICAxMjY6IDEsXG4gIDEyNzogMSxcbiAgMTI4OiAxLFxuICAxMjk6IDEsXG4gIDEzMDogMSxcbiAgMTMxOiAxLFxuICAxMzM6IDEsXG4gIDEzNDogMSxcbiAgMTM1OiAxLFxuICAxMzY6IDIsXG4gIDEzNzogMixcbiAgMTM4OiAyLFxuICAxNDA6IDEsXG4gIDE0MTogMSxcbiAgMTQyOiAzLFxuICAxNDM6IDQsXG4gIDE0NDogNCxcbiAgMTYxOiAxLFxuICAxNjI6IDEsXG4gIDE2MzogMSxcbiAgMTY0OiAxLFxuICAxNjU6IDIsXG4gIDE3MjogMSxcbiAgMTc1OiAyLFxuICAxNzY6IDIsXG4gIDE3NzogMyxcbiAgMTc4OiAyLFxuICAxNzk6IDEsXG4gIDE4NDogMSxcbiAgMTg2OiAxLFxuICAxODk6IDMsXG4gIDE5MDogMSxcbiAgMTk1OiAzLFxuICAxOTY6IDMsXG4gIDE5NzogMSxcbiAgMTk4OiAxLFxuICAxOTk6IDMsXG4gIDIwMTogMSxcbiAgMjA3OiA0LFxuICAyMTA6IDMsXG4gIDIxMTogMSxcbiAgMjEyOiAyLFxuICAyMTM6IDIsXG4gIDIxNDogMSxcbiAgMjE1OiAxLFxuICAyMjU6IDAsXG4gIDIyOTogMSxcbiAgMjMwOiAxLFxuICAyMzE6IDEsXG4gIDIzMjogMSxcbiAgMjMzOiAxLFxuICAyMzQ6IDEsXG4gIDIzNTogMyxcbiAgMjQ0OiAxLFxuICAyNDc6IDQsXG4gIDI1MjogMixcbiAgMjU3OiAxLFxuICAyNjE6IDEsXG4gIDI3MTogMSxcbiAgMjczOiA0LFxuICAyNzQ6IDIsXG4gIDI3NTogMixcbiAgMjc2OiAyLFxuICAyNzc6IDMsXG4gIDI3ODogMyxcbiAgMjc5OiAxLFxuICAyODA6IDMsXG4gIDI4MTogMyxcbiAgMjgyOiAzLFxuICAyODM6IDEsXG4gIDI4NDogMSxcbiAgMjg1OiAyLFxuICAyODY6IDQsXG4gIDI4NzogMyxcbiAgMjg4OiAyLFxuICAyODk6IDQsXG4gIDI5MDogMyxcbiAgMjkxOiAzLFxuICAyOTI6IDMsXG4gIDI5MzogNCxcbiAgMjk0OiAxLFxuICAyOTU6IDMsXG4gIDI5NjogMSxcbiAgMjk3OiAzLFxuICAyOTg6IDEsXG4gIDI5OTogMixcbiAgMzAwOiAzLFxuICAzMDE6IDMsXG4gIDMwMjogNCxcbiAgMzAzOiAyLFxuICAzMDQ6IDIsXG4gIDMwNTogMixcbiAgMzA2OiAyLFxuICAzMDc6IDIsXG4gIDMwODogMixcbiAgMzA5OiAzLFxuICAzMTA6IDIsXG4gIDMxMTogMixcbiAgMzEyOiAyLFxuICAzMTM6IDIsXG4gIDMxNDogMixcbiAgMzE1OiAyLFxuICAzMTY6IDQsXG4gIDMyNTogMixcbiAgMzI2OiAyLFxuICAzMjc6IDIsXG4gIDMyODogMixcbiAgMzMxOiAyLFxuICAzMzI6IDIsXG4gIDMzNzogMixcbiAgMzQyOiAxLFxuICAzNDM6IDEsXG4gIDM0NjogMixcbiAgMzQ3OiAxLFxuICAzNTA6IDQsXG4gIDM1MTogMyxcbiAgMzUyOiAxLFxuICAzNTM6IDIsXG4gIDM2MDogMSxcbiAgMzY4OiAxLFxuICAzNjk6IDEsXG4gIDM3MDogMSxcbiAgMzcxOiAxLFxuICAzNzI6IDEsXG4gIDM3MzogMSxcbiAgMzc0OiAxLFxuICAzNzU6IDEsXG4gIDM3NjogMSxcbiAgMzc3OiAxLFxuICAzNzg6IDEsXG4gIDM4MjogMyxcbiAgMzg1OiAxLFxuICAzOTI6IDEsXG4gIDM5MzogMSxcbiAgMzk2OiAyLFxuICAzOTc6IDIsXG4gIDM5ODogMixcbiAgMzk5OiAxLFxuICA0MDA6IDEsXG4gIDQwMTogMSxcbiAgNDAyOiAxLFxuICA0MDM6IDEsXG4gIDQwNDogMSxcbiAgNDA1OiAxLFxuICA0MDY6IDEsXG4gIDQwNzogMSxcbiAgNDA4OiAxLFxuICA0MDk6IDEsXG4gIDQxMDogMSxcbiAgNDE0OiA0LFxuICA0MTU6IDEsXG4gIDQxNjogMSxcbiAgNDE3OiAyLFxuICA0MjA6IDEsXG4gIDQyMTogMSxcbiAgNDIyOiAyLFxuICA0MjQ6IDEsXG4gIDQyNTogMixcbiAgNDI2OiAyLFxuICA0Mjc6IDIsXG4gIDQyODogMixcbiAgNDMwOiAzLFxuICA0Mzg6IDMsXG4gIDQzOTogMyxcbiAgNDQwOiAzLFxuICA0NDM6IDIsXG4gIDQ0NDogMixcbiAgNDQ1OiAyLFxuICA0NDY6IDIsXG4gIDQ0NzogNixcbiAgNDQ4OiA2LFxuICA0NDk6IDIsXG4gIDQ1MDogMixcbiAgNDY0OiAyLFxuICA0Njg6IDMsXG4gIDQ3NjogMixcbiAgNDc5OiAxLFxuICA0ODA6IDIsXG4gIDY1NTM1OiAwXG59O1xuLyogUGFydCAzIFRPRE86IGFjdHVhbGx5IHBhcnNlIGZvcm11bGFlICovXG5mdW5jdGlvbiBvZHNfdG9fY3NmX2Zvcm11bGEoZi8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0aWYoZi5zbGljZSgwLDMpID09IFwib2Y6XCIpIGYgPSBmLnNsaWNlKDMpO1xuXHQvKiA1LjIgQmFzaWMgRXhwcmVzc2lvbnMgKi9cblx0aWYoZi5jaGFyQ29kZUF0KDApID09IDYxKSB7XG5cdFx0ZiA9IGYuc2xpY2UoMSk7XG5cdFx0aWYoZi5jaGFyQ29kZUF0KDApID09IDYxKSBmID0gZi5zbGljZSgxKTtcblx0fVxuXHRmID0gZi5yZXBsYWNlKC9DT01cXC5NSUNST1NPRlRcXC4vZywgXCJcIik7XG5cdC8qIFBhcnQgMyBTZWN0aW9uIDUuOCBSZWZlcmVuY2VzICovXG5cdGYgPSBmLnJlcGxhY2UoL1xcWygoPzpcXC5bQS1aXStbMC05XSspKD86OlxcLltBLVpdK1swLTldKyk/KVxcXS9nLCBmdW5jdGlvbigkJCwgJDEpIHsgcmV0dXJuICQxLnJlcGxhY2UoL1xcLi9nLFwiXCIpOyB9KTtcblx0ZiA9IGYucmVwbGFjZSgvXFwkJyhbXiddfCcnKSsnL2csIGZ1bmN0aW9uKCQkKSB7IHJldHVybiAkJC5zbGljZSgxKTsgfSk7XG5cdGYgPSBmLnJlcGxhY2UoL1xcJChbXlxcXVxcLiAjJF0rKS9nLCBmdW5jdGlvbigkJCwgJDEpIHsgcmV0dXJuICgkMSkubWF0Y2goL14oW0EtWl17MSwyfXxbQS1XXVtBLVpdezJ9fFhbQS1FXVtBLVpdfFhGW0EtRF0pPygxMFswLTNdXFxkezR9fDEwNFswLTddXFxkezN9fDEwNDhbMC00XVxcZHsyfXwxMDQ4NVswLTZdXFxkfDEwNDg1N1swLTZdfFsxLTldXFxkezAsNX0pPyQvKSA/ICQkIDogJDE7IH0pO1xuXHQvKiBUT0RPOiBzb21ldGhpbmcgb3RoZXIgdGhhbiB0aGlzICovXG5cdGYgPSBmLnJlcGxhY2UoL1xcWy4oI1tBLVpdKls/IV0pXFxdL2csIFwiJDFcIik7XG5cdHJldHVybiBmLnJlcGxhY2UoL1s7fl0vZyxcIixcIikucmVwbGFjZSgvXFx8L2csXCI7XCIpO1xufVxuXG5mdW5jdGlvbiBjc2ZfdG9fb2RzX2Zvcm11bGEoZi8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0dmFyIG8gPSBcIm9mOj1cIiArIGYucmVwbGFjZShjcmVmcmVnZXgsIFwiJDFbLiQyJDMkNCQ1XVwiKS5yZXBsYWNlKC9cXF06XFxbL2csXCI6XCIpO1xuXHQvKiBUT0RPOiBzb21ldGhpbmcgb3RoZXIgdGhhbiB0aGlzICovXG5cdHJldHVybiBvLnJlcGxhY2UoLzsvZywgXCJ8XCIpLnJlcGxhY2UoLywvZyxcIjtcIik7XG59XG5cbmZ1bmN0aW9uIG9kc190b19jc2ZfM0Qoci8qOnN0cmluZyovKS8qOltzdHJpbmcsIHN0cmluZ10qLyB7XG5cdHIgPSByLnJlcGxhY2UoL1xcJCcoW14nXXwnJykrJy9nLCBmdW5jdGlvbigkJCkgeyByZXR1cm4gJCQuc2xpY2UoMSk7IH0pO1xuXHRyID0gci5yZXBsYWNlKC9cXCQoW15cXF1cXC4gIyRdKykvZywgZnVuY3Rpb24oJCQsICQxKSB7IHJldHVybiAoJDEpLm1hdGNoKC9eKFtBLVpdezEsMn18W0EtV11bQS1aXXsyfXxYW0EtRV1bQS1aXXxYRltBLURdKT8oMTBbMC0zXVxcZHs0fXwxMDRbMC03XVxcZHszfXwxMDQ4WzAtNF1cXGR7Mn18MTA0ODVbMC02XVxcZHwxMDQ4NTdbMC02XXxbMS05XVxcZHswLDV9KT8kLykgPyAkJCA6ICQxOyB9KTtcblx0dmFyIGEgPSByLnNwbGl0KFwiOlwiKTtcblx0dmFyIHMgPSBhWzBdLnNwbGl0KFwiLlwiKVswXTtcblx0cmV0dXJuIFtzLCBhWzBdLnNwbGl0KFwiLlwiKVsxXSArIChhLmxlbmd0aCA+IDEgPyAoXCI6XCIgKyAoYVsxXS5zcGxpdChcIi5cIilbMV0gfHwgYVsxXS5zcGxpdChcIi5cIilbMF0pKSA6IFwiXCIpXTtcbn1cblxuZnVuY3Rpb24gY3NmX3RvX29kc18zRChyLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8ge1xuXHRyZXR1cm4gci5yZXBsYWNlKC8hLyxcIi5cIikucmVwbGFjZSgvOi8sIFwiOi5cIik7XG59XG5cbnZhciBzdHJzID0ge307IC8vIHNoYXJlZCBzdHJpbmdzXG52YXIgX3NzZm9wdHMgPSB7fTsgLy8gc3ByZWFkc2hlZXQgZm9ybWF0dGluZyBvcHRpb25zXG5cblxuLypnbG9iYWwgTWFwICovXG52YXIgYnJvd3Nlcl9oYXNfTWFwID0gdHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmZ1bmN0aW9uIGdldF9zc3RfaWQoc3N0Lyo6U1NUKi8sIHN0ci8qOnN0cmluZyovLCByZXYpLyo6bnVtYmVyKi8ge1xuXHR2YXIgaSA9IDAsIGxlbiA9IHNzdC5sZW5ndGg7XG5cdGlmKHJldikge1xuXHRcdGlmKGJyb3dzZXJfaGFzX01hcCA/IHJldi5oYXMoc3RyKSA6IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXYsIHN0cikpIHtcblx0XHRcdHZhciByZXZhcnIgPSBicm93c2VyX2hhc19NYXAgPyByZXYuZ2V0KHN0cikgOiByZXZbc3RyXTtcblx0XHRcdGZvcig7IGkgPCByZXZhcnIubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0aWYoc3N0W3JldmFycltpXV0udCA9PT0gc3RyKSB7IHNzdC5Db3VudCArKzsgcmV0dXJuIHJldmFycltpXTsgfVxuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGZvcig7IGkgPCBsZW47ICsraSkge1xuXHRcdGlmKHNzdFtpXS50ID09PSBzdHIpIHsgc3N0LkNvdW50ICsrOyByZXR1cm4gaTsgfVxuXHR9XG5cdHNzdFtsZW5dID0gKHt0OnN0cn0vKjphbnkqLyk7IHNzdC5Db3VudCArKzsgc3N0LlVuaXF1ZSArKztcblx0aWYocmV2KSB7XG5cdFx0aWYoYnJvd3Nlcl9oYXNfTWFwKSB7XG5cdFx0XHRpZighcmV2LmhhcyhzdHIpKSByZXYuc2V0KHN0ciwgW10pO1xuXHRcdFx0cmV2LmdldChzdHIpLnB1c2gobGVuKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXYsIHN0cikpIHJldltzdHJdID0gW107XG5cdFx0XHRyZXZbc3RyXS5wdXNoKGxlbik7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBsZW47XG59XG5cbmZ1bmN0aW9uIGNvbF9vYmpfdyhDLyo6bnVtYmVyKi8sIGNvbCkge1xuXHR2YXIgcCA9ICh7bWluOkMrMSxtYXg6QysxfS8qOmFueSovKTtcblx0Lyogd2NoIChjaGFycyksIHdweCAocGl4ZWxzKSAqL1xuXHR2YXIgd2NoID0gLTE7XG5cdGlmKGNvbC5NRFcpIE1EVyA9IGNvbC5NRFc7XG5cdGlmKGNvbC53aWR0aCAhPSBudWxsKSBwLmN1c3RvbVdpZHRoID0gMTtcblx0ZWxzZSBpZihjb2wud3B4ICE9IG51bGwpIHdjaCA9IHB4MmNoYXIoY29sLndweCk7XG5cdGVsc2UgaWYoY29sLndjaCAhPSBudWxsKSB3Y2ggPSBjb2wud2NoO1xuXHRpZih3Y2ggPiAtMSkgeyBwLndpZHRoID0gY2hhcjJ3aWR0aCh3Y2gpOyBwLmN1c3RvbVdpZHRoID0gMTsgfVxuXHRlbHNlIGlmKGNvbC53aWR0aCAhPSBudWxsKSBwLndpZHRoID0gY29sLndpZHRoO1xuXHRpZihjb2wuaGlkZGVuKSBwLmhpZGRlbiA9IHRydWU7XG5cdGlmKGNvbC5sZXZlbCAhPSBudWxsKSB7IHAub3V0bGluZUxldmVsID0gcC5sZXZlbCA9IGNvbC5sZXZlbDsgfVxuXHRyZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdF9tYXJnaW5zKG1hcmdpbnMvKjpNYXJnaW5zKi8sIG1vZGUvKjo/c3RyaW5nKi8pIHtcblx0aWYoIW1hcmdpbnMpIHJldHVybjtcblx0dmFyIGRlZnMgPSBbMC43LCAwLjcsIDAuNzUsIDAuNzUsIDAuMywgMC4zXTtcblx0aWYobW9kZSA9PSAneGxtbCcpIGRlZnMgPSBbMSwgMSwgMSwgMSwgMC41LCAwLjVdO1xuXHRpZihtYXJnaW5zLmxlZnQgICA9PSBudWxsKSBtYXJnaW5zLmxlZnQgICA9IGRlZnNbMF07XG5cdGlmKG1hcmdpbnMucmlnaHQgID09IG51bGwpIG1hcmdpbnMucmlnaHQgID0gZGVmc1sxXTtcblx0aWYobWFyZ2lucy50b3AgICAgPT0gbnVsbCkgbWFyZ2lucy50b3AgICAgPSBkZWZzWzJdO1xuXHRpZihtYXJnaW5zLmJvdHRvbSA9PSBudWxsKSBtYXJnaW5zLmJvdHRvbSA9IGRlZnNbM107XG5cdGlmKG1hcmdpbnMuaGVhZGVyID09IG51bGwpIG1hcmdpbnMuaGVhZGVyID0gZGVmc1s0XTtcblx0aWYobWFyZ2lucy5mb290ZXIgPT0gbnVsbCkgbWFyZ2lucy5mb290ZXIgPSBkZWZzWzVdO1xufVxuXG5mdW5jdGlvbiBnZXRfY2VsbF9zdHlsZShzdHlsZXMvKjpBcnJheTxhbnk+Ki8sIGNlbGwvKjpDZWxsKi8sIG9wdHMpIHtcblx0dmFyIHogPSBvcHRzLnJldnNzZltjZWxsLnogIT0gbnVsbCA/IGNlbGwueiA6IFwiR2VuZXJhbFwiXTtcblx0dmFyIGkgPSAweDNjLCBsZW4gPSBzdHlsZXMubGVuZ3RoO1xuXHRpZih6ID09IG51bGwgJiYgb3B0cy5zc2YpIHtcblx0XHRmb3IoOyBpIDwgMHgxODg7ICsraSkgaWYob3B0cy5zc2ZbaV0gPT0gbnVsbCkge1xuXHRcdFx0U1NGX19sb2FkKGNlbGwueiwgaSk7XG5cdFx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdFx0b3B0cy5zc2ZbaV0gPSBjZWxsLno7XG5cdFx0XHRvcHRzLnJldnNzZltjZWxsLnpdID0geiA9IGk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblx0Zm9yKGkgPSAwOyBpICE9IGxlbjsgKytpKSBpZihzdHlsZXNbaV0ubnVtRm10SWQgPT09IHopIHJldHVybiBpO1xuXHRzdHlsZXNbbGVuXSA9IHtcblx0XHRudW1GbXRJZDp6LFxuXHRcdGZvbnRJZDowLFxuXHRcdGZpbGxJZDowLFxuXHRcdGJvcmRlcklkOjAsXG5cdFx0eGZJZDowLFxuXHRcdGFwcGx5TnVtYmVyRm9ybWF0OjFcblx0fTtcblx0cmV0dXJuIGxlbjtcbn1cblxuZnVuY3Rpb24gc2FmZV9mb3JtYXQocC8qOkNlbGwqLywgZm10aWQvKjpudW1iZXIqLywgZmlsbGlkLyo6P251bWJlciovLCBvcHRzLCB0aGVtZXMsIHN0eWxlcywgZGF0ZTE5MDQpIHtcblx0dHJ5IHtcblx0XHRpZihvcHRzLmNlbGxORikgcC56ID0gdGFibGVfZm10W2ZtdGlkXTtcblx0fSBjYXRjaChlKSB7IGlmKG9wdHMuV1RGKSB0aHJvdyBlOyB9XG5cdGlmKHAudCA9PT0gJ3onICYmICFvcHRzLmNlbGxTdHlsZXMpIHJldHVybjtcblx0aWYocC50ID09PSAnZCcgJiYgdHlwZW9mIHAudiA9PT0gJ3N0cmluZycpIHAudiA9IHBhcnNlRGF0ZShwLnYpO1xuXHRpZigoIW9wdHMgfHwgb3B0cy5jZWxsVGV4dCAhPT0gZmFsc2UpICYmIHAudCAhPT0gJ3onKSB0cnkge1xuXHRcdGlmKHRhYmxlX2ZtdFtmbXRpZF0gPT0gbnVsbCkgU1NGX19sb2FkKFNTRkltcGxpY2l0W2ZtdGlkXSB8fCBcIkdlbmVyYWxcIiwgZm10aWQpO1xuXHRcdGlmKHAudCA9PT0gJ2UnKSBwLncgPSBwLncgfHwgQkVycltwLnZdO1xuXHRcdGVsc2UgaWYoZm10aWQgPT09IDApIHtcblx0XHRcdGlmKHAudCA9PT0gJ24nKSB7XG5cdFx0XHRcdGlmKChwLnZ8MCkgPT09IHAudikgcC53ID0gcC52LnRvU3RyaW5nKDEwKTtcblx0XHRcdFx0ZWxzZSBwLncgPSBTU0ZfZ2VuZXJhbF9udW0ocC52KTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYocC50ID09PSAnZCcpIHtcblx0XHRcdFx0dmFyIGRkID0gZGF0ZW51bShwLnYsICEhZGF0ZTE5MDQpO1xuXHRcdFx0XHRpZigoZGR8MCkgPT09IGRkKSBwLncgPSBkZC50b1N0cmluZygxMCk7XG5cdFx0XHRcdGVsc2UgcC53ID0gU1NGX2dlbmVyYWxfbnVtKGRkKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYocC52ID09PSB1bmRlZmluZWQpIHJldHVybiBcIlwiO1xuXHRcdFx0ZWxzZSBwLncgPSBTU0ZfZ2VuZXJhbChwLnYsX3NzZm9wdHMpO1xuXHRcdH1cblx0XHRlbHNlIGlmKHAudCA9PT0gJ2QnKSBwLncgPSBTU0ZfZm9ybWF0KGZtdGlkLGRhdGVudW0ocC52LCAhIWRhdGUxOTA0KSxfc3Nmb3B0cyk7XG5cdFx0ZWxzZSBwLncgPSBTU0ZfZm9ybWF0KGZtdGlkLHAudixfc3Nmb3B0cyk7XG5cdH0gY2F0Y2goZSkgeyBpZihvcHRzLldURikgdGhyb3cgZTsgfVxuXHRpZighb3B0cy5jZWxsU3R5bGVzKSByZXR1cm47XG5cdGlmKGZpbGxpZCAhPSBudWxsKSB0cnkge1xuXHRcdHAucyA9IHN0eWxlcy5GaWxsc1tmaWxsaWRdO1xuXHRcdGlmIChwLnMuZmdDb2xvciAmJiBwLnMuZmdDb2xvci50aGVtZSAmJiAhcC5zLmZnQ29sb3IucmdiKSB7XG5cdFx0XHRwLnMuZmdDb2xvci5yZ2IgPSByZ2JfdGludCh0aGVtZXMudGhlbWVFbGVtZW50cy5jbHJTY2hlbWVbcC5zLmZnQ29sb3IudGhlbWVdLnJnYiwgcC5zLmZnQ29sb3IudGludCB8fCAwKTtcblx0XHRcdGlmKG9wdHMuV1RGKSBwLnMuZmdDb2xvci5yYXdfcmdiID0gdGhlbWVzLnRoZW1lRWxlbWVudHMuY2xyU2NoZW1lW3Aucy5mZ0NvbG9yLnRoZW1lXS5yZ2I7XG5cdFx0fVxuXHRcdGlmIChwLnMuYmdDb2xvciAmJiBwLnMuYmdDb2xvci50aGVtZSkge1xuXHRcdFx0cC5zLmJnQ29sb3IucmdiID0gcmdiX3RpbnQodGhlbWVzLnRoZW1lRWxlbWVudHMuY2xyU2NoZW1lW3Aucy5iZ0NvbG9yLnRoZW1lXS5yZ2IsIHAucy5iZ0NvbG9yLnRpbnQgfHwgMCk7XG5cdFx0XHRpZihvcHRzLldURikgcC5zLmJnQ29sb3IucmF3X3JnYiA9IHRoZW1lcy50aGVtZUVsZW1lbnRzLmNsclNjaGVtZVtwLnMuYmdDb2xvci50aGVtZV0ucmdiO1xuXHRcdH1cblx0fSBjYXRjaChlKSB7IGlmKG9wdHMuV1RGICYmIHN0eWxlcy5GaWxscykgdGhyb3cgZTsgfVxufVxuXG5mdW5jdGlvbiBjaGVja193cyh3cy8qOldvcmtzaGVldCovLCBzbmFtZS8qOnN0cmluZyovLCBpLyo6bnVtYmVyKi8pIHtcblx0aWYod3MgJiYgd3NbJyFyZWYnXSkge1xuXHRcdHZhciByYW5nZSA9IHNhZmVfZGVjb2RlX3JhbmdlKHdzWychcmVmJ10pO1xuXHRcdGlmKHJhbmdlLmUuYyA8IHJhbmdlLnMuYyB8fCByYW5nZS5lLnIgPCByYW5nZS5zLnIpIHRocm93IG5ldyBFcnJvcihcIkJhZCByYW5nZSAoXCIgKyBpICsgXCIpOiBcIiArIHdzWychcmVmJ10pO1xuXHR9XG59XG5mdW5jdGlvbiBwYXJzZV93c194bWxfZGltKHdzLyo6V29ya3NoZWV0Ki8sIHMvKjpzdHJpbmcqLykge1xuXHR2YXIgZCA9IHNhZmVfZGVjb2RlX3JhbmdlKHMpO1xuXHRpZihkLnMucjw9ZC5lLnIgJiYgZC5zLmM8PWQuZS5jICYmIGQucy5yPj0wICYmIGQucy5jPj0wKSB3c1tcIiFyZWZcIl0gPSBlbmNvZGVfcmFuZ2UoZCk7XG59XG52YXIgbWVyZ2VjcmVnZXggPSAvPCg/Olxcdys6KT9tZXJnZUNlbGwgcmVmPVtcIiddW0EtWjAtOTpdK1snXCJdXFxzKltcXC9dPz4vZztcbnZhciBobGlua3JlZ2V4ID0gLzwoPzpcXHcrOik/aHlwZXJsaW5rIFtePD5dKj4vbWc7XG52YXIgZGltcmVnZXggPSAvXCIoXFx3KjpcXHcqKVwiLztcbnZhciBjb2xyZWdleCA9IC88KD86XFx3KzopP2NvbFxcYltePD5dKltcXC9dPz4vZztcbnZhciBhZnJlZ2V4ID0gLzwoPzpcXHcrOik/YXV0b0ZpbHRlcltePl0qL2c7XG52YXIgbWFyZ2lucmVnZXg9IC88KD86XFx3KzopP3BhZ2VNYXJnaW5zW148Pl0qXFwvPi9nO1xudmFyIHNoZWV0cHJyZWdleCA9IC88KD86XFx3KzopP3NoZWV0UHJcXGJbXjw+XSo/XFwvPi87XG5cbi8qIDE4LjMgV29ya3NoZWV0cyAqL1xuZnVuY3Rpb24gcGFyc2Vfd3NfeG1sKGRhdGEvKjo/c3RyaW5nKi8sIG9wdHMsIGlkeC8qOm51bWJlciovLCByZWxzLCB3Yi8qOldCV0JQcm9wcyovLCB0aGVtZXMsIHN0eWxlcykvKjpXb3Jrc2hlZXQqLyB7XG5cdGlmKCFkYXRhKSByZXR1cm4gZGF0YTtcblx0aWYoIXJlbHMpIHJlbHMgPSB7JyFpZCc6e319O1xuXHRpZihERU5TRSAhPSBudWxsICYmIG9wdHMuZGVuc2UgPT0gbnVsbCkgb3B0cy5kZW5zZSA9IERFTlNFO1xuXG5cdC8qIDE4LjMuMS45OSB3b3Jrc2hlZXQgQ1RfV29ya3NoZWV0ICovXG5cdHZhciBzID0gKHt9Lyo6YW55Ki8pOyBpZihvcHRzLmRlbnNlKSBzW1wiIWRhdGFcIl0gPSBbXTtcblx0dmFyIHJlZmd1ZXNzLyo6UmFuZ2UqLyA9ICh7czoge3I6MjAwMDAwMCwgYzoyMDAwMDAwfSwgZToge3I6MCwgYzowfSB9Lyo6YW55Ki8pO1xuXG5cdHZhciBkYXRhMSA9IFwiXCIsIGRhdGEyID0gXCJcIjtcblx0dmFyIG10Y2gvKjo/YW55Ki8gPSBzdHJfbWF0Y2hfeG1sX25zKGRhdGEsIFwic2hlZXREYXRhXCIpO1xuXHRpZihtdGNoKSB7XG5cdFx0ZGF0YTEgPSBkYXRhLnNsaWNlKDAsIG10Y2guaW5kZXgpO1xuXHRcdGRhdGEyID0gZGF0YS5zbGljZShtdGNoLmluZGV4ICsgbXRjaFswXS5sZW5ndGgpO1xuXHR9IGVsc2UgZGF0YTEgPSBkYXRhMiA9IGRhdGE7XG5cblx0LyogMTguMy4xLjgyIHNoZWV0UHIgQ1RfU2hlZXRQciAqL1xuXHR2YXIgc2hlZXRQciA9IGRhdGExLm1hdGNoKHNoZWV0cHJyZWdleCk7XG5cdGlmKHNoZWV0UHIpIHBhcnNlX3dzX3htbF9zaGVldHByKHNoZWV0UHJbMF0sIHMsIHdiLCBpZHgpO1xuXHRlbHNlIGlmKChzaGVldFByID0gc3RyX21hdGNoX3htbF9ucyhkYXRhMSwgXCJzaGVldFByXCIpKSkgcGFyc2Vfd3NfeG1sX3NoZWV0cHIyKHNoZWV0UHJbMF0sIHNoZWV0UHJbMV18fFwiXCIsIHMsIHdiLCBpZHgsIHN0eWxlcywgdGhlbWVzKTtcblxuXHQvKiAxOC4zLjEuMzUgZGltZW5zaW9uIENUX1NoZWV0RGltZW5zaW9uICovXG5cdHZhciByaWR4ID0gKGRhdGExLm1hdGNoKC88KD86XFx3KjopP2RpbWVuc2lvbi8pfHx7aW5kZXg6LTF9KS5pbmRleDtcblx0aWYocmlkeCA+IDApIHtcblx0XHR2YXIgcmVmID0gZGF0YTEuc2xpY2UocmlkeCxyaWR4KzUwKS5tYXRjaChkaW1yZWdleCk7XG5cdFx0aWYocmVmICYmICEob3B0cyAmJiBvcHRzLm5vZGltKSkgcGFyc2Vfd3NfeG1sX2RpbShzLCByZWZbMV0pO1xuXHR9XG5cblx0LyogMTguMy4xLjg4IHNoZWV0Vmlld3MgQ1RfU2hlZXRWaWV3cyAqL1xuXHR2YXIgc3ZzID0gc3RyX21hdGNoX3htbF9ucyhkYXRhMSwgXCJzaGVldFZpZXdzXCIpO1xuXHRpZihzdnMgJiYgc3ZzWzFdKSBwYXJzZV93c194bWxfc2hlZXR2aWV3cyhzdnNbMV0sIHdiKTtcblxuXHQvKiAxOC4zLjEuMTcgY29scyBDVF9Db2xzICovXG5cdHZhciBjb2x1bW5zLyo6QXJyYXk8Q29sSW5mbz4qLyA9IFtdO1xuXHRpZihvcHRzLmNlbGxTdHlsZXMpIHtcblx0XHQvKiAxOC4zLjEuMTMgY29sIENUX0NvbCAqL1xuXHRcdHZhciBjb2xzID0gZGF0YTEubWF0Y2goY29scmVnZXgpO1xuXHRcdGlmKGNvbHMpIHBhcnNlX3dzX3htbF9jb2xzKGNvbHVtbnMsIGNvbHMpO1xuXHR9XG5cblx0LyogMTguMy4xLjgwIHNoZWV0RGF0YSBDVF9TaGVldERhdGEgPyAqL1xuXHRpZihtdGNoKSBwYXJzZV93c194bWxfZGF0YShtdGNoWzFdLCBzLCBvcHRzLCByZWZndWVzcywgdGhlbWVzLCBzdHlsZXMsIHdiKTtcblxuXHQvKiAxOC4zLjEuMiAgYXV0b0ZpbHRlciBDVF9BdXRvRmlsdGVyICovXG5cdHZhciBhZmlsdGVyID0gZGF0YTIubWF0Y2goYWZyZWdleCk7XG5cdGlmKGFmaWx0ZXIpIHNbJyFhdXRvZmlsdGVyJ10gPSBwYXJzZV93c194bWxfYXV0b2ZpbHRlcihhZmlsdGVyWzBdKTtcblxuXHQvKiAxOC4zLjEuNTUgbWVyZ2VDZWxscyBDVF9NZXJnZUNlbGxzICovXG5cdHZhciBtZXJnZXMvKjpBcnJheTxSYW5nZT4qLyA9IFtdO1xuXHR2YXIgX21lcmdlID0gZGF0YTIubWF0Y2gobWVyZ2VjcmVnZXgpO1xuXHRpZihfbWVyZ2UpIGZvcihyaWR4ID0gMDsgcmlkeCAhPSBfbWVyZ2UubGVuZ3RoOyArK3JpZHgpXG5cdFx0bWVyZ2VzW3JpZHhdID0gc2FmZV9kZWNvZGVfcmFuZ2UoX21lcmdlW3JpZHhdLnNsaWNlKF9tZXJnZVtyaWR4XS5pbmRleE9mKFwiPVwiKSsyKSk7XG5cblx0LyogMTguMy4xLjQ4IGh5cGVybGlua3MgQ1RfSHlwZXJsaW5rcyAqL1xuXHR2YXIgaGxpbmsgPSBkYXRhMi5tYXRjaChobGlua3JlZ2V4KTtcblx0aWYoaGxpbmspIHBhcnNlX3dzX3htbF9obGlua3MocywgaGxpbmssIHJlbHMpO1xuXG5cdC8qIDE4LjMuMS42MiBwYWdlTWFyZ2lucyBDVF9QYWdlTWFyZ2lucyAqL1xuXHR2YXIgbWFyZ2lucyA9IGRhdGEyLm1hdGNoKG1hcmdpbnJlZ2V4KTtcblx0aWYobWFyZ2lucykgc1snIW1hcmdpbnMnXSA9IHBhcnNlX3dzX3htbF9tYXJnaW5zKHBhcnNleG1sdGFnKG1hcmdpbnNbMF0pKTtcblxuXHQvKiBsZWdhY3lEcmF3aW5nICovXG5cdHZhciBtO1xuXHRpZigobSA9IGRhdGEyLm1hdGNoKC9sZWdhY3lEcmF3aW5nIHI6aWQ9XCIoLio/KVwiLykpKSBzWychbGVncmVsJ10gPSBtWzFdO1xuXG5cdGlmKG9wdHMgJiYgb3B0cy5ub2RpbSkgcmVmZ3Vlc3Mucy5jID0gcmVmZ3Vlc3Mucy5yID0gMDtcblx0aWYoIXNbXCIhcmVmXCJdICYmIHJlZmd1ZXNzLmUuYyA+PSByZWZndWVzcy5zLmMgJiYgcmVmZ3Vlc3MuZS5yID49IHJlZmd1ZXNzLnMucikgc1tcIiFyZWZcIl0gPSBlbmNvZGVfcmFuZ2UocmVmZ3Vlc3MpO1xuXHRpZihvcHRzLnNoZWV0Um93cyA+IDAgJiYgc1tcIiFyZWZcIl0pIHtcblx0XHR2YXIgdG1wcmVmID0gc2FmZV9kZWNvZGVfcmFuZ2Uoc1tcIiFyZWZcIl0pO1xuXHRcdGlmKG9wdHMuc2hlZXRSb3dzIDw9ICt0bXByZWYuZS5yKSB7XG5cdFx0XHR0bXByZWYuZS5yID0gb3B0cy5zaGVldFJvd3MgLSAxO1xuXHRcdFx0aWYodG1wcmVmLmUuciA+IHJlZmd1ZXNzLmUucikgdG1wcmVmLmUuciA9IHJlZmd1ZXNzLmUucjtcblx0XHRcdGlmKHRtcHJlZi5lLnIgPCB0bXByZWYucy5yKSB0bXByZWYucy5yID0gdG1wcmVmLmUucjtcblx0XHRcdGlmKHRtcHJlZi5lLmMgPiByZWZndWVzcy5lLmMpIHRtcHJlZi5lLmMgPSByZWZndWVzcy5lLmM7XG5cdFx0XHRpZih0bXByZWYuZS5jIDwgdG1wcmVmLnMuYykgdG1wcmVmLnMuYyA9IHRtcHJlZi5lLmM7XG5cdFx0XHRzW1wiIWZ1bGxyZWZcIl0gPSBzW1wiIXJlZlwiXTtcblx0XHRcdHNbXCIhcmVmXCJdID0gZW5jb2RlX3JhbmdlKHRtcHJlZik7XG5cdFx0fVxuXHR9XG5cdGlmKGNvbHVtbnMubGVuZ3RoID4gMCkgc1tcIiFjb2xzXCJdID0gY29sdW1ucztcblx0aWYobWVyZ2VzLmxlbmd0aCA+IDApIHNbXCIhbWVyZ2VzXCJdID0gbWVyZ2VzO1xuXHRpZihyZWxzWychaWQnXVtzWychbGVncmVsJ11dKSBzWychbGVnZHJhd2VsJ10gPSByZWxzWychaWQnXVtzWychbGVncmVsJ11dO1xuXHRyZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gd3JpdGVfd3NfeG1sX21lcmdlcyhtZXJnZXMvKjpBcnJheTxSYW5nZT4qLykvKjpzdHJpbmcqLyB7XG5cdGlmKG1lcmdlcy5sZW5ndGggPT09IDApIHJldHVybiBcIlwiO1xuXHR2YXIgbyA9ICc8bWVyZ2VDZWxscyBjb3VudD1cIicgKyBtZXJnZXMubGVuZ3RoICsgJ1wiPic7XG5cdGZvcih2YXIgaSA9IDA7IGkgIT0gbWVyZ2VzLmxlbmd0aDsgKytpKSBvICs9ICc8bWVyZ2VDZWxsIHJlZj1cIicgKyBlbmNvZGVfcmFuZ2UobWVyZ2VzW2ldKSArICdcIi8+Jztcblx0cmV0dXJuIG8gKyAnPC9tZXJnZUNlbGxzPic7XG59XG5cbi8qIDE4LjMuMS44Mi0zIHNoZWV0UHIgQ1RfQ2hhcnRzaGVldFByIC8gQ1RfU2hlZXRQciAqL1xuZnVuY3Rpb24gcGFyc2Vfd3NfeG1sX3NoZWV0cHIoc2hlZXRQci8qOnN0cmluZyovLCBzLCB3Yi8qOldCV0JQcm9wcyovLCBpZHgvKjpudW1iZXIqLykge1xuXHR2YXIgZGF0YSA9IHBhcnNleG1sdGFnKHNoZWV0UHIpO1xuXHRpZighd2IuU2hlZXRzW2lkeF0pIHdiLlNoZWV0c1tpZHhdID0ge307XG5cdGlmKGRhdGEuY29kZU5hbWUpIHdiLlNoZWV0c1tpZHhdLkNvZGVOYW1lID0gdW5lc2NhcGV4bWwodXRmOHJlYWQoZGF0YS5jb2RlTmFtZSkpO1xufVxuZnVuY3Rpb24gcGFyc2Vfd3NfeG1sX3NoZWV0cHIyKHNoZWV0UHIvKjpzdHJpbmcqLywgYm9keS8qOnN0cmluZyovLCBzLCB3Yi8qOldCV0JQcm9wcyovLCBpZHgvKjpudW1iZXIqLykge1xuXHRwYXJzZV93c194bWxfc2hlZXRwcihzaGVldFByLnNsaWNlKDAsIHNoZWV0UHIuaW5kZXhPZihcIj5cIikpLCBzLCB3YiwgaWR4KTtcbn1cbmZ1bmN0aW9uIHdyaXRlX3dzX3htbF9zaGVldHByKHdzLCB3YiwgaWR4LCBvcHRzLCBvKSB7XG5cdHZhciBuZWVkZWQgPSBmYWxzZTtcblx0dmFyIHByb3BzID0ge30sIHBheWxvYWQgPSBudWxsO1xuXHRpZihvcHRzLmJvb2tUeXBlICE9PSAneGxzeCcgJiYgd2IudmJhcmF3KSB7XG5cdFx0dmFyIGNuYW1lID0gd2IuU2hlZXROYW1lc1tpZHhdO1xuXHRcdHRyeSB7IGlmKHdiLldvcmtib29rKSBjbmFtZSA9IHdiLldvcmtib29rLlNoZWV0c1tpZHhdLkNvZGVOYW1lIHx8IGNuYW1lOyB9IGNhdGNoKGUpIHt9XG5cdFx0bmVlZGVkID0gdHJ1ZTtcblx0XHRwcm9wcy5jb2RlTmFtZSA9IHV0Zjh3cml0ZShlc2NhcGV4bWwoY25hbWUpKTtcblx0fVxuXG5cdGlmKHdzICYmIHdzW1wiIW91dGxpbmVcIl0pIHtcblx0XHR2YXIgb3V0bGluZXByb3BzID0ge3N1bW1hcnlCZWxvdzoxLCBzdW1tYXJ5UmlnaHQ6MX07XG5cdFx0aWYod3NbXCIhb3V0bGluZVwiXS5hYm92ZSkgb3V0bGluZXByb3BzLnN1bW1hcnlCZWxvdyA9IDA7XG5cdFx0aWYod3NbXCIhb3V0bGluZVwiXS5sZWZ0KSBvdXRsaW5lcHJvcHMuc3VtbWFyeVJpZ2h0ID0gMDtcblx0XHRwYXlsb2FkID0gKHBheWxvYWR8fFwiXCIpICsgd3JpdGV4dGFnKCdvdXRsaW5lUHInLCBudWxsLCBvdXRsaW5lcHJvcHMpO1xuXHR9XG5cblx0aWYoIW5lZWRlZCAmJiAhcGF5bG9hZCkgcmV0dXJuO1xuXHRvW28ubGVuZ3RoXSA9ICh3cml0ZXh0YWcoJ3NoZWV0UHInLCBwYXlsb2FkLCBwcm9wcykpO1xufVxuXG4vKiAxOC4zLjEuODUgc2hlZXRQcm90ZWN0aW9uIENUX1NoZWV0UHJvdGVjdGlvbiAqL1xudmFyIHNoZWV0cHJvdF9kZWZmYWxzZSA9IFtcIm9iamVjdHNcIiwgXCJzY2VuYXJpb3NcIiwgXCJzZWxlY3RMb2NrZWRDZWxsc1wiLCBcInNlbGVjdFVubG9ja2VkQ2VsbHNcIl07XG52YXIgc2hlZXRwcm90X2RlZnRydWUgPSBbXG5cdFwiZm9ybWF0Q29sdW1uc1wiLCBcImZvcm1hdFJvd3NcIiwgXCJmb3JtYXRDZWxsc1wiLFxuXHRcImluc2VydENvbHVtbnNcIiwgXCJpbnNlcnRSb3dzXCIsIFwiaW5zZXJ0SHlwZXJsaW5rc1wiLFxuXHRcImRlbGV0ZUNvbHVtbnNcIiwgXCJkZWxldGVSb3dzXCIsXG5cdFwic29ydFwiLCBcImF1dG9GaWx0ZXJcIiwgXCJwaXZvdFRhYmxlc1wiXG5dO1xuZnVuY3Rpb24gd3JpdGVfd3NfeG1sX3Byb3RlY3Rpb24oc3ApLyo6c3RyaW5nKi8ge1xuXHQvLyBhbGdvcml0aG1OYW1lLCBoYXNoVmFsdWUsIHNhbHRWYWx1ZSwgc3BpbkNvdW50XG5cdHZhciBvID0gKHtzaGVldDoxfS8qOmFueSovKTtcblx0c2hlZXRwcm90X2RlZmZhbHNlLmZvckVhY2goZnVuY3Rpb24obikgeyBpZihzcFtuXSAhPSBudWxsICYmIHNwW25dKSBvW25dID0gXCIxXCI7IH0pO1xuXHRzaGVldHByb3RfZGVmdHJ1ZS5mb3JFYWNoKGZ1bmN0aW9uKG4pIHsgaWYoc3Bbbl0gIT0gbnVsbCAmJiAhc3Bbbl0pIG9bbl0gPSBcIjBcIjsgfSk7XG5cdC8qIFRPRE86IGFsZ29yaXRobSAqL1xuXHRpZihzcC5wYXNzd29yZCkgby5wYXNzd29yZCA9IGNyeXB0b19DcmVhdGVQYXNzd29yZFZlcmlmaWVyX01ldGhvZDEoc3AucGFzc3dvcmQpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHRyZXR1cm4gd3JpdGV4dGFnKCdzaGVldFByb3RlY3Rpb24nLCBudWxsLCBvKTtcbn1cblxuZnVuY3Rpb24gcGFyc2Vfd3NfeG1sX2hsaW5rcyhzLCBkYXRhLyo6QXJyYXk8c3RyaW5nPiovLCByZWxzKSB7XG5cdHZhciBkZW5zZSA9IHNbXCIhZGF0YVwiXSAhPSBudWxsO1xuXHRmb3IodmFyIGkgPSAwOyBpICE9IGRhdGEubGVuZ3RoOyArK2kpIHtcblx0XHR2YXIgdmFsID0gcGFyc2V4bWx0YWcodXRmOHJlYWQoZGF0YVtpXSksIHRydWUpO1xuXHRcdGlmKCF2YWwucmVmKSByZXR1cm47XG5cdFx0dmFyIHJlbCA9ICgocmVscyB8fCB7fSlbJyFpZCddfHxbXSlbdmFsLmlkXTtcblx0XHRpZihyZWwpIHtcblx0XHRcdHZhbC5UYXJnZXQgPSByZWwuVGFyZ2V0O1xuXHRcdFx0aWYodmFsLmxvY2F0aW9uKSB2YWwuVGFyZ2V0ICs9IFwiI1wiK3VuZXNjYXBleG1sKHZhbC5sb2NhdGlvbik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhbC5UYXJnZXQgPSBcIiNcIiArIHVuZXNjYXBleG1sKHZhbC5sb2NhdGlvbik7XG5cdFx0XHRyZWwgPSB7VGFyZ2V0OiB2YWwuVGFyZ2V0LCBUYXJnZXRNb2RlOiAnSW50ZXJuYWwnfTtcblx0XHR9XG5cdFx0dmFsLlJlbCA9IHJlbDtcblx0XHRpZih2YWwudG9vbHRpcCkgeyB2YWwuVG9vbHRpcCA9IHZhbC50b29sdGlwOyBkZWxldGUgdmFsLnRvb2x0aXA7IH1cblx0XHR2YXIgcm5nID0gc2FmZV9kZWNvZGVfcmFuZ2UodmFsLnJlZik7XG5cdFx0Zm9yKHZhciBSPXJuZy5zLnI7Ujw9cm5nLmUucjsrK1IpIGZvcih2YXIgQz1ybmcucy5jO0M8PXJuZy5lLmM7KytDKSB7XG5cdFx0XHR2YXIgYWRkciA9IGVuY29kZV9jb2woQykgKyBlbmNvZGVfcm93KFIpO1xuXHRcdFx0aWYoZGVuc2UpIHtcblx0XHRcdFx0aWYoIXNbXCIhZGF0YVwiXVtSXSkgc1tcIiFkYXRhXCJdW1JdID0gW107XG5cdFx0XHRcdGlmKCFzW1wiIWRhdGFcIl1bUl1bQ10pIHNbXCIhZGF0YVwiXVtSXVtDXSA9IHt0OlwielwiLHY6dW5kZWZpbmVkfTtcblx0XHRcdFx0c1tcIiFkYXRhXCJdW1JdW0NdLmwgPSB2YWw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZighc1thZGRyXSkgc1thZGRyXSA9IHt0OlwielwiLHY6dW5kZWZpbmVkfTtcblx0XHRcdFx0c1thZGRyXS5sID0gdmFsO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZV93c194bWxfbWFyZ2lucyhtYXJnaW4pIHtcblx0dmFyIG8gPSB7fTtcblx0W1wibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwiYm90dG9tXCIsIFwiaGVhZGVyXCIsIFwiZm9vdGVyXCJdLmZvckVhY2goZnVuY3Rpb24oaykge1xuXHRcdGlmKG1hcmdpbltrXSkgb1trXSA9IHBhcnNlRmxvYXQobWFyZ2luW2tdKTtcblx0fSk7XG5cdHJldHVybiBvO1xufVxuZnVuY3Rpb24gd3JpdGVfd3NfeG1sX21hcmdpbnMobWFyZ2luKS8qOnN0cmluZyovIHtcblx0ZGVmYXVsdF9tYXJnaW5zKG1hcmdpbik7XG5cdHJldHVybiB3cml0ZXh0YWcoJ3BhZ2VNYXJnaW5zJywgbnVsbCwgbWFyZ2luKTtcbn1cblxuZnVuY3Rpb24gcGFyc2Vfd3NfeG1sX2NvbHMoY29sdW1ucywgY29scykge1xuXHR2YXIgc2VlbmNvbCA9IGZhbHNlO1xuXHRmb3IodmFyIGNvbGkgPSAwOyBjb2xpICE9IGNvbHMubGVuZ3RoOyArK2NvbGkpIHtcblx0XHR2YXIgY29sbCA9IHBhcnNleG1sdGFnKGNvbHNbY29saV0sIHRydWUpO1xuXHRcdGlmKGNvbGwuaGlkZGVuKSBjb2xsLmhpZGRlbiA9IHBhcnNleG1sYm9vbChjb2xsLmhpZGRlbik7XG5cdFx0dmFyIGNvbG09cGFyc2VJbnQoY29sbC5taW4sIDEwKS0xLCBjb2xNPXBhcnNlSW50KGNvbGwubWF4LDEwKS0xO1xuXHRcdGlmKGNvbGwub3V0bGluZUxldmVsKSBjb2xsLmxldmVsID0gKCtjb2xsLm91dGxpbmVMZXZlbCB8fCAwKTtcblx0XHRkZWxldGUgY29sbC5taW47IGRlbGV0ZSBjb2xsLm1heDsgY29sbC53aWR0aCA9ICtjb2xsLndpZHRoO1xuXHRcdGlmKCFzZWVuY29sICYmIGNvbGwud2lkdGgpIHsgc2VlbmNvbCA9IHRydWU7IGZpbmRfbWR3X2NvbHcoY29sbC53aWR0aCk7IH1cblx0XHRwcm9jZXNzX2NvbChjb2xsKTtcblx0XHR3aGlsZShjb2xtIDw9IGNvbE0pIGNvbHVtbnNbY29sbSsrXSA9IGR1cChjb2xsKTtcblx0fVxufVxuZnVuY3Rpb24gd3JpdGVfd3NfeG1sX2NvbHMod3MsIGNvbHMpLyo6c3RyaW5nKi8ge1xuXHR2YXIgbyA9IFtcIjxjb2xzPlwiXSwgY29sO1xuXHRmb3IodmFyIGkgPSAwOyBpICE9IGNvbHMubGVuZ3RoOyArK2kpIHtcblx0XHRpZighKGNvbCA9IGNvbHNbaV0pKSBjb250aW51ZTtcblx0XHRvW28ubGVuZ3RoXSA9ICh3cml0ZXh0YWcoJ2NvbCcsIG51bGwsIGNvbF9vYmpfdyhpLCBjb2wpKSk7XG5cdH1cblx0b1tvLmxlbmd0aF0gPSBcIjwvY29scz5cIjtcblx0cmV0dXJuIG8uam9pbihcIlwiKTtcbn1cblxuZnVuY3Rpb24gcGFyc2Vfd3NfeG1sX2F1dG9maWx0ZXIoZGF0YS8qOnN0cmluZyovKSB7XG5cdHZhciBvID0geyByZWY6IChkYXRhLm1hdGNoKC9yZWY9XCIoW15cIl0qKVwiLyl8fFtdKVsxXX07XG5cdHJldHVybiBvO1xufVxuZnVuY3Rpb24gd3JpdGVfd3NfeG1sX2F1dG9maWx0ZXIoZGF0YSwgd3MsIHdiLCBpZHgpLyo6c3RyaW5nKi8ge1xuXHR2YXIgcmVmID0gdHlwZW9mIGRhdGEucmVmID09IFwic3RyaW5nXCIgPyBkYXRhLnJlZiA6IGVuY29kZV9yYW5nZShkYXRhLnJlZik7XG5cdGlmKCF3Yi5Xb3JrYm9vaykgd2IuV29ya2Jvb2sgPSAoe1NoZWV0czpbXX0vKjphbnkqLyk7XG5cdGlmKCF3Yi5Xb3JrYm9vay5OYW1lcykgd2IuV29ya2Jvb2suTmFtZXMgPSBbXTtcblx0dmFyIG5hbWVzLyo6IEFycmF5PGFueT4gKi8gPSB3Yi5Xb3JrYm9vay5OYW1lcztcblx0dmFyIHJhbmdlID0gZGVjb2RlX3JhbmdlKHJlZik7XG5cdGlmKHJhbmdlLnMuciA9PSByYW5nZS5lLnIpIHsgcmFuZ2UuZS5yID0gZGVjb2RlX3JhbmdlKHdzW1wiIXJlZlwiXSkuZS5yOyByZWYgPSBlbmNvZGVfcmFuZ2UocmFuZ2UpOyB9XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xuXHRcdHZhciBuYW1lID0gbmFtZXNbaV07XG5cdFx0aWYobmFtZS5OYW1lICE9ICdfeGxubS5fRmlsdGVyRGF0YWJhc2UnKSBjb250aW51ZTtcblx0XHRpZihuYW1lLlNoZWV0ICE9IGlkeCkgY29udGludWU7XG5cdFx0bmFtZS5SZWYgPSBmb3JtdWxhX3F1b3RlX3NoZWV0X25hbWUod2IuU2hlZXROYW1lc1tpZHhdKSArIFwiIVwiICsgZml4X3JhbmdlKHJlZik7IGJyZWFrO1xuXHR9XG5cdGlmKGkgPT0gbmFtZXMubGVuZ3RoKSBuYW1lcy5wdXNoKHsgTmFtZTogJ194bG5tLl9GaWx0ZXJEYXRhYmFzZScsIFNoZWV0OiBpZHgsIFJlZjogXCInXCIgKyB3Yi5TaGVldE5hbWVzW2lkeF0gKyBcIichXCIgKyByZWYgIH0pO1xuXHRyZXR1cm4gd3JpdGV4dGFnKFwiYXV0b0ZpbHRlclwiLCBudWxsLCB7cmVmOnJlZn0pO1xufVxuXG4vKiAxOC4zLjEuODggc2hlZXRWaWV3cyBDVF9TaGVldFZpZXdzICovXG4vKiAxOC4zLjEuODcgc2hlZXRWaWV3IENUX1NoZWV0VmlldyAqL1xudmFyIHN2aWV3cmVnZXggPSAvPCg/OlxcdzopP3NoZWV0Vmlldyg/OltePD5hLXpdW148Pl0qKT9cXC8/Pi9nO1xuZnVuY3Rpb24gcGFyc2Vfd3NfeG1sX3NoZWV0dmlld3MoZGF0YSwgd2IvKjpXQldCUHJvcHMqLykge1xuXHRpZighd2IuVmlld3MpIHdiLlZpZXdzID0gW3t9XTtcblx0KGRhdGEubWF0Y2goc3ZpZXdyZWdleCl8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHIvKjpzdHJpbmcqLywgaS8qOm51bWJlciovKSB7XG5cdFx0dmFyIHRhZyA9IHBhcnNleG1sdGFnKHIpO1xuXHRcdC8vICRGbG93SWdub3JlXG5cdFx0aWYoIXdiLlZpZXdzW2ldKSB3Yi5WaWV3c1tpXSA9IHt9O1xuXHRcdC8vICRGbG93SWdub3JlXG5cdFx0aWYoK3RhZy56b29tU2NhbGUpIHdiLlZpZXdzW2ldLnpvb20gPSArdGFnLnpvb21TY2FsZTtcblx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdGlmKHRhZy5yaWdodFRvTGVmdCAmJiBwYXJzZXhtbGJvb2wodGFnLnJpZ2h0VG9MZWZ0KSkgd2IuVmlld3NbaV0uUlRMID0gdHJ1ZTtcblx0fSk7XG59XG5mdW5jdGlvbiB3cml0ZV93c194bWxfc2hlZXR2aWV3cyh3cywgb3B0cywgaWR4LCB3YikvKjpzdHJpbmcqLyB7XG5cdHZhciBzdmlldyA9ICh7d29ya2Jvb2tWaWV3SWQ6XCIwXCJ9Lyo6YW55Ki8pO1xuXHQvLyAkRmxvd0lnbm9yZVxuXHRpZigoKCh3Ynx8e30pLldvcmtib29rfHx7fSkuVmlld3N8fFtdKVswXSkgc3ZpZXcucmlnaHRUb0xlZnQgPSB3Yi5Xb3JrYm9vay5WaWV3c1swXS5SVEwgPyBcIjFcIiA6IFwiMFwiO1xuXHRyZXR1cm4gd3JpdGV4dGFnKFwic2hlZXRWaWV3c1wiLCB3cml0ZXh0YWcoXCJzaGVldFZpZXdcIiwgbnVsbCwgc3ZpZXcpLCB7fSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3dzX3htbF9jZWxsKGNlbGwvKjpDZWxsKi8sIHJlZiwgd3MsIG9wdHMsIGlkeCwgd2IsIGRhdGUxOTA0KS8qOnN0cmluZyovIHtcblx0aWYoY2VsbC5jKSB3c1snIWNvbW1lbnRzJ10ucHVzaChbcmVmLCBjZWxsLmNdKTtcblx0aWYoKGNlbGwudiA9PT0gdW5kZWZpbmVkIHx8IGNlbGwudCA9PT0gXCJ6XCIgJiYgIShvcHRzfHx7fSkuc2hlZXRTdHVicykgJiYgdHlwZW9mIGNlbGwuZiAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgY2VsbC56ID09IFwidW5kZWZpbmVkXCIpIHJldHVybiBcIlwiO1xuXHR2YXIgdnYgPSBcIlwiO1xuXHR2YXIgb2xkdCA9IGNlbGwudCwgb2xkdiA9IGNlbGwudjtcblx0aWYoY2VsbC50ICE9PSBcInpcIikgc3dpdGNoKGNlbGwudCkge1xuXHRcdGNhc2UgJ2InOiB2diA9IGNlbGwudiA/IFwiMVwiIDogXCIwXCI7IGJyZWFrO1xuXHRcdGNhc2UgJ24nOlxuXHRcdFx0aWYoaXNOYU4oY2VsbC52KSkgeyBjZWxsLnQgPSBcImVcIjsgdnYgPSBCRXJyW2NlbGwudiA9IDB4MjRdOyB9IC8vICNOVU0hXG5cdFx0XHRlbHNlIGlmKCFpc0Zpbml0ZShjZWxsLnYpKSB7IGNlbGwudCA9IFwiZVwiOyB2diA9IEJFcnJbY2VsbC52ID0gMHgwN107IH0gLy8gI0RJVi8wIVxuXHRcdFx0ZWxzZSB2diA9ICcnK2NlbGwudjsgYnJlYWs7XG5cdFx0Y2FzZSAnZSc6IHZ2ID0gQkVycltjZWxsLnZdOyBicmVhaztcblx0XHRjYXNlICdkJzpcblx0XHRcdGlmKG9wdHMgJiYgb3B0cy5jZWxsRGF0ZXMpIHtcblx0XHRcdFx0dmFyIF92diA9IHBhcnNlRGF0ZShjZWxsLnYsIGRhdGUxOTA0KTtcblx0XHRcdFx0dnYgPSBfdnYudG9JU09TdHJpbmcoKTtcblx0XHRcdFx0aWYoX3Z2LmdldFVUQ0Z1bGxZZWFyKCkgPCAxOTAwKSB2diA9IHZ2LnNsaWNlKHZ2LmluZGV4T2YoXCJUXCIpICsgMSkucmVwbGFjZShcIlpcIixcIlwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNlbGwgPSBkdXAoY2VsbCk7XG5cdFx0XHRcdGNlbGwudCA9ICduJztcblx0XHRcdFx0dnYgPSAnJysoY2VsbC52ID0gZGF0ZW51bShwYXJzZURhdGUoY2VsbC52LCBkYXRlMTkwNCksIGRhdGUxOTA0KSk7XG5cdFx0XHR9XG5cdFx0XHRpZih0eXBlb2YgY2VsbC56ID09PSAndW5kZWZpbmVkJykgY2VsbC56ID0gdGFibGVfZm10WzE0XTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6IHZ2ID0gY2VsbC52OyBicmVhaztcblx0fVxuXHR2YXIgdiA9IChjZWxsLnQgPT0gXCJ6XCIgfHwgY2VsbC52ID09IG51bGwpPyBcIlwiIDogd3JpdGV0YWcoJ3YnLCBlc2NhcGV4bWwodnYpKSwgbyA9ICh7cjpyZWZ9Lyo6YW55Ki8pO1xuXHQvKiBUT0RPOiBjZWxsIHN0eWxlICovXG5cdHZhciBvcyA9IGdldF9jZWxsX3N0eWxlKG9wdHMuY2VsbFhmcywgY2VsbCwgb3B0cyk7XG5cdGlmKG9zICE9PSAwKSBvLnMgPSBvcztcblx0c3dpdGNoKGNlbGwudCkge1xuXHRcdGNhc2UgJ24nOiBicmVhaztcblx0XHRjYXNlICdkJzogby50ID0gXCJkXCI7IGJyZWFrO1xuXHRcdGNhc2UgJ2InOiBvLnQgPSBcImJcIjsgYnJlYWs7XG5cdFx0Y2FzZSAnZSc6IG8udCA9IFwiZVwiOyBicmVhaztcblx0XHRjYXNlICd6JzogYnJlYWs7XG5cdFx0ZGVmYXVsdDogaWYoY2VsbC52ID09IG51bGwpIHsgZGVsZXRlIGNlbGwudDsgYnJlYWs7IH1cblx0XHRcdGlmKGNlbGwudi5sZW5ndGggPiAzMjc2NykgdGhyb3cgbmV3IEVycm9yKFwiVGV4dCBsZW5ndGggbXVzdCBub3QgZXhjZWVkIDMyNzY3IGNoYXJhY3RlcnNcIik7XG5cdFx0XHRpZihvcHRzICYmIG9wdHMuYm9va1NTVCkge1xuXHRcdFx0XHR2ID0gd3JpdGV0YWcoJ3YnLCAnJytnZXRfc3N0X2lkKG9wdHMuU3RyaW5ncywgY2VsbC52LCBvcHRzLnJldlN0cmluZ3MpKTtcblx0XHRcdFx0by50ID0gXCJzXCI7IGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBvLnQgPSBcInN0clwiOyBicmVhaztcblx0fVxuXHRpZihjZWxsLnQgIT0gb2xkdCkgeyBjZWxsLnQgPSBvbGR0OyBjZWxsLnYgPSBvbGR2OyB9XG5cdGlmKHR5cGVvZiBjZWxsLmYgPT0gXCJzdHJpbmdcIiAmJiBjZWxsLmYpIHtcblx0XHR2YXIgZmYgPSBjZWxsLkYgJiYgY2VsbC5GLnNsaWNlKDAsIHJlZi5sZW5ndGgpID09IHJlZiA/IHt0OlwiYXJyYXlcIiwgcmVmOmNlbGwuRn0gOiBudWxsO1xuXHRcdHYgPSB3cml0ZXh0YWcoJ2YnLCBlc2NhcGV4bWwoY2VsbC5mKSwgZmYpICsgKGNlbGwudiAhPSBudWxsID8gdiA6IFwiXCIpO1xuXHR9XG5cdGlmKGNlbGwubCkge1xuXHRcdGNlbGwubC5kaXNwbGF5ID0gZXNjYXBleG1sKHZ2KTtcblx0XHR3c1snIWxpbmtzJ10ucHVzaChbcmVmLCBjZWxsLmxdKTtcblx0fVxuXHRpZihjZWxsLkQpIG8uY20gPSAxO1xuXHRyZXR1cm4gd3JpdGV4dGFnKCdjJywgdiwgbyk7XG59XG5cbnZhciBwYXJzZV93c194bWxfZGF0YSA9IC8qI19fUFVSRV9fKi8oZnVuY3Rpb24oKSB7XG5cdHZhciBjZWxscmVnZXggPSAvPCg/Olxcdys6KT9jWyBcXC8+XS8sIHJvd3JlZ2V4ID0gLzxcXC8oPzpcXHcrOik/cm93Pi87XG5cdHZhciBycmVnZXggPSAvcj1bXCInXShbXlwiJ10qKVtcIiddLztcblx0dmFyIHJlZnJlZ2V4ID0gL3JlZj1bXCInXShbXlwiJ10qKVtcIiddLztcblxucmV0dXJuIGZ1bmN0aW9uIHBhcnNlX3dzX3htbF9kYXRhKHNkYXRhLyo6c3RyaW5nKi8sIHMsIG9wdHMsIGd1ZXNzLyo6UmFuZ2UqLywgdGhlbWVzLCBzdHlsZXMsIHdiKSB7XG5cdHZhciByaSA9IDAsIHggPSBcIlwiLCBjZWxscy8qOkFycmF5PHN0cmluZz4qLyA9IFtdLCBjcmVmLyo6P0FycmF5PHN0cmluZz4qLyA9IFtdLCBpZHg9MCwgaT0wLCBjYz0wLCBkPVwiXCIsIHAvKjphbnkqLztcblx0dmFyIHRhZywgdGFnciA9IDAsIHRhZ2MgPSAwO1xuXHR2YXIgc3N0ciwgZnRhZztcblx0dmFyIGZtdGlkID0gMCwgZmlsbGlkID0gMDtcblx0dmFyIGRvX2Zvcm1hdCA9IEFycmF5LmlzQXJyYXkoc3R5bGVzLkNlbGxYZiksIGNmO1xuXHR2YXIgYXJyYXlmLyo6QXJyYXk8W1JhbmdlLCBzdHJpbmddPiovID0gW107XG5cdHZhciBzaGFyZWRmID0gW107XG5cdHZhciBkZW5zZSA9IHNbXCIhZGF0YVwiXSAhPSBudWxsO1xuXHR2YXIgcm93cy8qOkFycmF5PFJvd0luZm8+Ki8gPSBbXSwgcm93b2JqID0ge30sIHJvd3JpdGUgPSBmYWxzZTtcblx0dmFyIHNoZWV0U3R1YnMgPSAhIW9wdHMuc2hlZXRTdHVicztcblx0dmFyIGRhdGUxOTA0ID0gISEoKHdifHx7fSkuV0JQcm9wc3x8e30pLmRhdGUxOTA0O1xuXHRmb3IodmFyIG1hcnIgPSBzZGF0YS5zcGxpdChyb3dyZWdleCksIG10ID0gMCwgbWFycmxlbiA9IG1hcnIubGVuZ3RoOyBtdCAhPSBtYXJybGVuOyArK210KSB7XG5cdFx0eCA9IG1hcnJbbXRdLnRyaW0oKTtcblx0XHR2YXIgeGxlbiA9IHgubGVuZ3RoO1xuXHRcdGlmKHhsZW4gPT09IDApIGNvbnRpbnVlO1xuXG5cdFx0LyogMTguMy4xLjczIHJvdyBDVF9Sb3cgKi9cblx0XHR2YXIgcnN0YXJ0aSA9IDA7XG5cdFx0b3V0YTogZm9yKHJpID0gMDsgcmkgPCB4bGVuOyArK3JpKSBzd2l0Y2goLyp4LmNoYXJDb2RlQXQocmkpKi94W3JpXSkge1xuXHRcdFx0Y2FzZSBcIj5cIiAvKjYyKi86XG5cdFx0XHRcdGlmKC8qeC5jaGFyQ29kZUF0KHJpLTEpICE9IDQ3Ki94W3JpLTFdICE9IFwiL1wiKSB7ICsrcmk7IGJyZWFrIG91dGE7IH1cblx0XHRcdFx0aWYob3B0cyAmJiBvcHRzLmNlbGxTdHlsZXMpIHtcblx0XHRcdFx0XHQvLyBUT0RPOiBhdm9pZCBkdXBsaWNhdGlvblxuXHRcdFx0XHRcdHRhZyA9IHBhcnNleG1sdGFnKHguc2xpY2UocnN0YXJ0aSxyaSksIHRydWUpO1xuXHRcdFx0XHRcdHRhZ3IgPSB0YWcuciAhPSBudWxsID8gcGFyc2VJbnQodGFnLnIsIDEwKSA6IHRhZ3IrMTsgdGFnYyA9IC0xO1xuXHRcdFx0XHRcdGlmKG9wdHMuc2hlZXRSb3dzICYmIG9wdHMuc2hlZXRSb3dzIDwgdGFncikgY29udGludWU7XG5cdFx0XHRcdFx0cm93b2JqID0ge307IHJvd3JpdGUgPSBmYWxzZTtcblx0XHRcdFx0XHRpZih0YWcuaHQpIHsgcm93cml0ZSA9IHRydWU7IHJvd29iai5ocHQgPSBwYXJzZUZsb2F0KHRhZy5odCk7IHJvd29iai5ocHggPSBwdDJweChyb3dvYmouaHB0KTsgfVxuXHRcdFx0XHRcdGlmKHRhZy5oaWRkZW4gJiYgcGFyc2V4bWxib29sKHRhZy5oaWRkZW4pKSB7IHJvd3JpdGUgPSB0cnVlOyByb3dvYmouaGlkZGVuID0gdHJ1ZTsgfVxuXHRcdFx0XHRcdGlmKHRhZy5vdXRsaW5lTGV2ZWwgIT0gbnVsbCkgeyByb3dyaXRlID0gdHJ1ZTsgcm93b2JqLmxldmVsID0gK3RhZy5vdXRsaW5lTGV2ZWw7IH1cblx0XHRcdFx0XHRpZihyb3dyaXRlKSByb3dzW3RhZ3ItMV0gPSByb3dvYmo7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiPFwiIC8qNjAqLzogcnN0YXJ0aSA9IHJpOyBicmVhaztcblx0XHR9XG5cdFx0aWYocnN0YXJ0aSA+PSByaSkgYnJlYWs7XG5cdFx0dGFnID0gcGFyc2V4bWx0YWcoeC5zbGljZShyc3RhcnRpLHJpKSwgdHJ1ZSk7XG5cdFx0dGFnciA9IHRhZy5yICE9IG51bGwgPyBwYXJzZUludCh0YWcuciwgMTApIDogdGFncisxOyB0YWdjID0gLTE7XG5cdFx0aWYob3B0cy5zaGVldFJvd3MgJiYgb3B0cy5zaGVldFJvd3MgPCB0YWdyKSBjb250aW51ZTtcblx0XHRpZighb3B0cy5ub2RpbSkge1xuXHRcdFx0aWYoZ3Vlc3Mucy5yID4gdGFnciAtIDEpIGd1ZXNzLnMuciA9IHRhZ3IgLSAxO1xuXHRcdFx0aWYoZ3Vlc3MuZS5yIDwgdGFnciAtIDEpIGd1ZXNzLmUuciA9IHRhZ3IgLSAxO1xuXHRcdH1cblxuXHRcdGlmKG9wdHMgJiYgb3B0cy5jZWxsU3R5bGVzKSB7XG5cdFx0XHRyb3dvYmogPSB7fTsgcm93cml0ZSA9IGZhbHNlO1xuXHRcdFx0aWYodGFnLmh0KSB7IHJvd3JpdGUgPSB0cnVlOyByb3dvYmouaHB0ID0gcGFyc2VGbG9hdCh0YWcuaHQpOyByb3dvYmouaHB4ID0gcHQycHgocm93b2JqLmhwdCk7IH1cblx0XHRcdGlmKHRhZy5oaWRkZW4gJiYgcGFyc2V4bWxib29sKHRhZy5oaWRkZW4pKSB7IHJvd3JpdGUgPSB0cnVlOyByb3dvYmouaGlkZGVuID0gdHJ1ZTsgfVxuXHRcdFx0aWYodGFnLm91dGxpbmVMZXZlbCAhPSBudWxsKSB7IHJvd3JpdGUgPSB0cnVlOyByb3dvYmoubGV2ZWwgPSArdGFnLm91dGxpbmVMZXZlbDsgfVxuXHRcdFx0aWYocm93cml0ZSkgcm93c1t0YWdyLTFdID0gcm93b2JqO1xuXHRcdH1cblxuXHRcdC8qIDE4LjMuMS40IGMgQ1RfQ2VsbCAqL1xuXHRcdGNlbGxzID0geC5zbGljZShyaSkuc3BsaXQoY2VsbHJlZ2V4KTtcblx0XHRmb3IodmFyIHJzbGljZSA9IDA7IHJzbGljZSAhPSBjZWxscy5sZW5ndGg7ICsrcnNsaWNlKSBpZihjZWxsc1tyc2xpY2VdLnRyaW0oKS5jaGFyQXQoMCkgIT0gXCI8XCIpIGJyZWFrO1xuXHRcdGNlbGxzID0gY2VsbHMuc2xpY2UocnNsaWNlKTtcblx0XHRmb3IocmkgPSAwOyByaSAhPSBjZWxscy5sZW5ndGg7ICsrcmkpIHtcblx0XHRcdHggPSBjZWxsc1tyaV0udHJpbSgpO1xuXHRcdFx0aWYoeC5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuXHRcdFx0Y3JlZiA9IHgubWF0Y2gocnJlZ2V4KTsgaWR4ID0gcmk7IGk9MDsgY2M9MDtcblx0XHRcdHggPSBcIjxjIFwiICsgKHguc2xpY2UoMCwxKT09XCI8XCI/XCI+XCI6XCJcIikgKyB4O1xuXHRcdFx0aWYoY3JlZiAhPSBudWxsICYmIGNyZWYubGVuZ3RoID09PSAyKSB7XG5cdFx0XHRcdGlkeCA9IDA7IGQ9Y3JlZlsxXTtcblx0XHRcdFx0Zm9yKGk9MDsgaSAhPSBkLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdFx0aWYoKGNjPWQuY2hhckNvZGVBdChpKS02NCkgPCAxIHx8IGNjID4gMjYpIGJyZWFrO1xuXHRcdFx0XHRcdGlkeCA9IDI2KmlkeCArIGNjO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC0taWR4O1xuXHRcdFx0XHR0YWdjID0gaWR4O1xuXHRcdFx0fSBlbHNlICsrdGFnYztcblx0XHRcdGZvcihpID0gMDsgaSAhPSB4Lmxlbmd0aDsgKytpKSBpZih4LmNoYXJDb2RlQXQoaSkgPT09IDYyKSBicmVhazsgKytpO1xuXHRcdFx0dGFnID0gcGFyc2V4bWx0YWcoeC5zbGljZSgwLGkpLCB0cnVlKTtcblx0XHRcdGlmKCF0YWcucikgdGFnLnIgPSBlbmNvZGVfY2VsbCh7cjp0YWdyLTEsIGM6dGFnY30pO1xuXHRcdFx0ZCA9IHguc2xpY2UoaSk7XG5cdFx0XHRwID0gKHt0OlwiXCJ9Lyo6YW55Ki8pO1xuXG5cdFx0XHRpZigoY3JlZj1zdHJfbWF0Y2hfeG1sX25zKGQsIFwidlwiKSkhPSBudWxsICYmIC8qOjpjcmVmICE9IG51bGwgJiYgKi9jcmVmWzFdICE9PSAnJykgcC52PXVuZXNjYXBleG1sKGNyZWZbMV0pO1xuXHRcdFx0aWYob3B0cy5jZWxsRm9ybXVsYSkge1xuXHRcdFx0XHRpZigoY3JlZj1zdHJfbWF0Y2hfeG1sX25zKGQsIFwiZlwiKSkhPSBudWxsIC8qOjogJiYgY3JlZiAhPSBudWxsKi8pIHtcblx0XHRcdFx0XHRpZihjcmVmWzFdID09IFwiXCIpIHtcblx0XHRcdFx0XHRcdGlmKC8qOjpjcmVmICE9IG51bGwgJiYgY3JlZlswXSAhPSBudWxsICYmICovY3JlZlswXS5pbmRleE9mKCd0PVwic2hhcmVkXCInKSA+IC0xKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFRPRE86IHBhcnNlIGZvcm11bGFcblx0XHRcdFx0XHRcdFx0ZnRhZyA9IHBhcnNleG1sdGFnKGNyZWZbMF0pO1xuXHRcdFx0XHRcdFx0XHRpZihzaGFyZWRmW2Z0YWcuc2ldKSBwLmYgPSBzaGlmdF9mb3JtdWxhX3hsc3goc2hhcmVkZltmdGFnLnNpXVsxXSwgc2hhcmVkZltmdGFnLnNpXVsyXS8qWzBdLnJlZiovLCB0YWcucik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8qIFRPRE86IG1hdGNoIGFnYWluc3QgWExTWEZ1dHVyZUZ1bmN0aW9ucyAqL1xuXHRcdFx0XHRcdFx0cC5mPXVuZXNjYXBleG1sKHV0ZjhyZWFkKGNyZWZbMV0pLCB0cnVlKTtcblx0XHRcdFx0XHRcdGlmKCFvcHRzLnhsZm4pIHAuZiA9IF94bGZuKHAuZik7XG5cdFx0XHRcdFx0XHRpZigvKjo6Y3JlZiAhPSBudWxsICYmIGNyZWZbMF0gIT0gbnVsbCAmJiAqL2NyZWZbMF0uaW5kZXhPZigndD1cImFycmF5XCInKSA+IC0xKSB7XG5cdFx0XHRcdFx0XHRcdHAuRiA9IChkLm1hdGNoKHJlZnJlZ2V4KXx8W10pWzFdO1xuXHRcdFx0XHRcdFx0XHRpZihwLkYuaW5kZXhPZihcIjpcIikgPiAtMSkgYXJyYXlmLnB1c2goW3NhZmVfZGVjb2RlX3JhbmdlKHAuRiksIHAuRl0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmKC8qOjpjcmVmICE9IG51bGwgJiYgY3JlZlswXSAhPSBudWxsICYmICovY3JlZlswXS5pbmRleE9mKCd0PVwic2hhcmVkXCInKSA+IC0xKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFRPRE86IHBhcnNlIGZvcm11bGFcblx0XHRcdFx0XHRcdFx0ZnRhZyA9IHBhcnNleG1sdGFnKGNyZWZbMF0pO1xuXHRcdFx0XHRcdFx0XHR2YXIgX19fZiA9IHVuZXNjYXBleG1sKHV0ZjhyZWFkKGNyZWZbMV0pKTtcblx0XHRcdFx0XHRcdFx0aWYoIW9wdHMueGxmbikgX19fZiA9IF94bGZuKF9fX2YpO1xuXHRcdFx0XHRcdFx0XHRzaGFyZWRmW3BhcnNlSW50KGZ0YWcuc2ksIDEwKV0gPSBbZnRhZywgX19fZiwgdGFnLnJdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmKChjcmVmPWQubWF0Y2goLzxmW148Pl0qXFwvPi8pKSkge1xuXHRcdFx0XHRcdGZ0YWcgPSBwYXJzZXhtbHRhZyhjcmVmWzBdKTtcblx0XHRcdFx0XHRpZihzaGFyZWRmW2Z0YWcuc2ldKSBwLmYgPSBzaGlmdF9mb3JtdWxhX3hsc3goc2hhcmVkZltmdGFnLnNpXVsxXSwgc2hhcmVkZltmdGFnLnNpXVsyXS8qWzBdLnJlZiovLCB0YWcucik7XG5cdFx0XHRcdH1cblx0XHRcdFx0LyogVE9ETzogZmFjdG9yIG91dCBjb250YWlucyBsb2dpYyAqL1xuXHRcdFx0XHR2YXIgX3RhZyA9IGRlY29kZV9jZWxsKHRhZy5yKTtcblx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgYXJyYXlmLmxlbmd0aDsgKytpKVxuXHRcdFx0XHRcdGlmKF90YWcuciA+PSBhcnJheWZbaV1bMF0ucy5yICYmIF90YWcuciA8PSBhcnJheWZbaV1bMF0uZS5yKVxuXHRcdFx0XHRcdFx0aWYoX3RhZy5jID49IGFycmF5ZltpXVswXS5zLmMgJiYgX3RhZy5jIDw9IGFycmF5ZltpXVswXS5lLmMpXG5cdFx0XHRcdFx0XHRcdHAuRiA9IGFycmF5ZltpXVsxXTtcblx0XHRcdH1cblxuXHRcdFx0aWYodGFnLnQgPT0gbnVsbCAmJiBwLnYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRpZihwLmYgfHwgcC5GKSB7XG5cdFx0XHRcdFx0cC52ID0gMDsgcC50ID0gXCJuXCI7XG5cdFx0XHRcdH0gZWxzZSBpZighc2hlZXRTdHVicykgY29udGludWU7XG5cdFx0XHRcdGVsc2UgcC50ID0gXCJ6XCI7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHAudCA9IHRhZy50IHx8IFwiblwiO1xuXHRcdFx0aWYoZ3Vlc3Mucy5jID4gdGFnYykgZ3Vlc3Mucy5jID0gdGFnYztcblx0XHRcdGlmKGd1ZXNzLmUuYyA8IHRhZ2MpIGd1ZXNzLmUuYyA9IHRhZ2M7XG5cdFx0XHQvKiAxOC4xOC4xMSB0IFNUX0NlbGxUeXBlICovXG5cdFx0XHRzd2l0Y2gocC50KSB7XG5cdFx0XHRcdGNhc2UgJ24nOlxuXHRcdFx0XHRcdGlmKHAudiA9PSBcIlwiIHx8IHAudiA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRpZighc2hlZXRTdHVicykgY29udGludWU7XG5cdFx0XHRcdFx0XHRwLnQgPSAneic7XG5cdFx0XHRcdFx0fSBlbHNlIHAudiA9IHBhcnNlRmxvYXQocC52KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAncyc6XG5cdFx0XHRcdFx0aWYodHlwZW9mIHAudiA9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0aWYoIXNoZWV0U3R1YnMpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0cC50ID0gJ3onO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzc3RyID0gc3Ryc1twYXJzZUludChwLnYsIDEwKV07XG5cdFx0XHRcdFx0XHRwLnYgPSBzc3RyLnQ7XG5cdFx0XHRcdFx0XHRwLnIgPSBzc3RyLnI7XG5cdFx0XHRcdFx0XHRpZihvcHRzLmNlbGxIVE1MKSBwLmggPSBzc3RyLmg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdzdHInOlxuXHRcdFx0XHRcdHAudCA9IFwic1wiO1xuXHRcdFx0XHRcdHAudiA9IChwLnYhPW51bGwpID8gdW5lc2NhcGV4bWwodXRmOHJlYWQocC52KSwgdHJ1ZSkgOiAnJztcblx0XHRcdFx0XHRpZihvcHRzLmNlbGxIVE1MKSBwLmggPSBlc2NhcGVodG1sKHAudik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2lubGluZVN0cic6XG5cdFx0XHRcdFx0Y3JlZiA9IHN0cl9tYXRjaF94bWxfbnMoZCwgXCJpc1wiKTtcblx0XHRcdFx0XHRwLnQgPSAncyc7XG5cdFx0XHRcdFx0aWYoY3JlZiAhPSBudWxsICYmIChzc3RyID0gcGFyc2Vfc2koY3JlZlsxXSkpKSB7XG5cdFx0XHRcdFx0XHRwLnYgPSBzc3RyLnQ7XG5cdFx0XHRcdFx0XHRpZihvcHRzLmNlbGxIVE1MKSBwLmggPSBzc3RyLmg7XG5cdFx0XHRcdFx0fSBlbHNlIHAudiA9IFwiXCI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2InOiBwLnYgPSBwYXJzZXhtbGJvb2wocC52KTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2QnOlxuXHRcdFx0XHRcdGlmKG9wdHMuY2VsbERhdGVzKSBwLnYgPSBwYXJzZURhdGUocC52LCBkYXRlMTkwNCk7XG5cdFx0XHRcdFx0ZWxzZSB7IHAudiA9IGRhdGVudW0ocGFyc2VEYXRlKHAudiwgZGF0ZTE5MDQpLCBkYXRlMTkwNCk7IHAudCA9ICduJzsgfVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHQvKiBlcnJvciBzdHJpbmcgaW4gLncsIG51bWJlciBpbiAudiAqL1xuXHRcdFx0XHRjYXNlICdlJzpcblx0XHRcdFx0XHRpZighb3B0cyB8fCBvcHRzLmNlbGxUZXh0ICE9PSBmYWxzZSkgcC53ID0gcC52O1xuXHRcdFx0XHRcdHAudiA9IFJCRXJyW3Audl07IGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0LyogZm9ybWF0dGluZyAqL1xuXHRcdFx0Zm10aWQgPSBmaWxsaWQgPSAwO1xuXHRcdFx0Y2YgPSBudWxsO1xuXHRcdFx0aWYoZG9fZm9ybWF0ICYmIHRhZy5zICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y2YgPSBzdHlsZXMuQ2VsbFhmW3RhZy5zXTtcblx0XHRcdFx0aWYoY2YgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGlmKGNmLm51bUZtdElkICE9IG51bGwpIGZtdGlkID0gY2YubnVtRm10SWQ7XG5cdFx0XHRcdFx0aWYob3B0cy5jZWxsU3R5bGVzKSB7XG5cdFx0XHRcdFx0XHRpZihjZi5maWxsSWQgIT0gbnVsbCkgZmlsbGlkID0gY2YuZmlsbElkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0c2FmZV9mb3JtYXQocCwgZm10aWQsIGZpbGxpZCwgb3B0cywgdGhlbWVzLCBzdHlsZXMsIGRhdGUxOTA0KTtcblx0XHRcdGlmKG9wdHMuY2VsbERhdGVzICYmIGRvX2Zvcm1hdCAmJiBwLnQgPT0gJ24nICYmIGZtdF9pc19kYXRlKHRhYmxlX2ZtdFtmbXRpZF0pKSB7IHAudiA9IG51bWRhdGUocC52ICsgKGRhdGUxOTA0ID8gMTQ2MiA6IDApKTsgcC50ID0gdHlwZW9mIHAudiA9PSBcIm51bWJlclwiID8gJ24nIDogJ2QnOyB9XG5cdFx0XHRpZih0YWcuY20gJiYgb3B0cy54bG1ldGEpIHtcblx0XHRcdFx0dmFyIGNtID0gKG9wdHMueGxtZXRhLkNlbGx8fFtdKVsrdGFnLmNtLTFdO1xuXHRcdFx0XHRpZihjbSAmJiBjbS50eXBlID09ICdYTERBUFInKSBwLkQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIF9yO1xuXHRcdFx0aWYob3B0cy5ub2RpbSkge1xuXHRcdFx0XHRfciA9IGRlY29kZV9jZWxsKHRhZy5yKTtcblx0XHRcdFx0aWYoZ3Vlc3Mucy5yID4gX3IucikgZ3Vlc3Mucy5yID0gX3Iucjtcblx0XHRcdFx0aWYoZ3Vlc3MuZS5yIDwgX3IucikgZ3Vlc3MuZS5yID0gX3Iucjtcblx0XHRcdH1cblx0XHRcdGlmKGRlbnNlKSB7XG5cdFx0XHRcdF9yID0gZGVjb2RlX2NlbGwodGFnLnIpO1xuXHRcdFx0XHRpZighc1tcIiFkYXRhXCJdW19yLnJdKSBzW1wiIWRhdGFcIl1bX3Iucl0gPSBbXTtcblx0XHRcdFx0c1tcIiFkYXRhXCJdW19yLnJdW19yLmNdID0gcDtcblx0XHRcdH0gZWxzZSBzW3RhZy5yXSA9IHA7XG5cdFx0fVxuXHR9XG5cdGlmKHJvd3MubGVuZ3RoID4gMCkgc1snIXJvd3MnXSA9IHJvd3M7XG59OyB9KSgpO1xuXG5mdW5jdGlvbiB3cml0ZV93c194bWxfZGF0YSh3cy8qOldvcmtzaGVldCovLCBvcHRzLCBpZHgvKjpudW1iZXIqLywgd2IvKjpXb3JrYm9vayovLyo6OiwgcmVscyovKS8qOnN0cmluZyovIHtcblx0dmFyIG8vKjpBcnJheTxzdHJpbmc+Ki8gPSBbXSwgci8qOkFycmF5PHN0cmluZz4qLyA9IFtdLCByYW5nZSA9IHNhZmVfZGVjb2RlX3JhbmdlKHdzWychcmVmJ10pLCBjZWxsPVwiXCIsIHJlZiwgcnIgPSBcIlwiLCBjb2xzLyo6QXJyYXk8c3RyaW5nPiovID0gW10sIFI9MCwgQz0wLCByb3dzID0gd3NbJyFyb3dzJ107XG5cdHZhciBkZW5zZSA9IHdzW1wiIWRhdGFcIl0gIT0gbnVsbCwgZGF0YSA9IGRlbnNlID8gd3NbXCIhZGF0YVwiXSA6IFtdO1xuXHR2YXIgcGFyYW1zID0gKHtyOnJyfS8qOmFueSovKSwgcm93Lyo6Um93SW5mbyovLCBoZWlnaHQgPSAtMTtcblx0dmFyIGRhdGUxOTA0ID0gKCgod2J8fHt9KS5Xb3JrYm9va3x8e30pLldCUHJvcHN8fHt9KS5kYXRlMTkwNDtcblx0Zm9yKEMgPSByYW5nZS5zLmM7IEMgPD0gcmFuZ2UuZS5jOyArK0MpIGNvbHNbQ10gPSBlbmNvZGVfY29sKEMpO1xuXHRmb3IoUiA9IHJhbmdlLnMucjsgUiA8PSByYW5nZS5lLnI7ICsrUikge1xuXHRcdHIgPSBbXTtcblx0XHRyciA9IGVuY29kZV9yb3coUik7XG5cdFx0dmFyIGRhdGFfUiA9IGRlbnNlID8gZGF0YVtSXSA6IFtdO1xuXHRcdGZvcihDID0gcmFuZ2Uucy5jOyBDIDw9IHJhbmdlLmUuYzsgKytDKSB7XG5cdFx0XHRyZWYgPSBjb2xzW0NdICsgcnI7XG5cdFx0XHR2YXIgX2NlbGwgPSBkZW5zZSA/IGRhdGFfUltDXSA6IHdzW3JlZl07XG5cdFx0XHRpZihfY2VsbCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcblx0XHRcdGlmKChjZWxsID0gd3JpdGVfd3NfeG1sX2NlbGwoX2NlbGwsIHJlZiwgd3MsIG9wdHMsIGlkeCwgd2IsIGRhdGUxOTA0KSkgIT0gbnVsbCkgci5wdXNoKGNlbGwpO1xuXHRcdH1cblx0XHRpZihyLmxlbmd0aCA+IDAgfHwgKHJvd3MgJiYgcm93c1tSXSkpIHtcblx0XHRcdHBhcmFtcyA9ICh7cjpycn0vKjphbnkqLyk7XG5cdFx0XHRpZihyb3dzICYmIHJvd3NbUl0pIHtcblx0XHRcdFx0cm93ID0gcm93c1tSXTtcblx0XHRcdFx0aWYocm93LmhpZGRlbikgcGFyYW1zLmhpZGRlbiA9IDE7XG5cdFx0XHRcdGhlaWdodCA9IC0xO1xuXHRcdFx0XHRpZihyb3cuaHB4KSBoZWlnaHQgPSBweDJwdChyb3cuaHB4KTtcblx0XHRcdFx0ZWxzZSBpZihyb3cuaHB0KSBoZWlnaHQgPSByb3cuaHB0O1xuXHRcdFx0XHRpZihoZWlnaHQgPiAtMSkgeyBwYXJhbXMuaHQgPSBoZWlnaHQ7IHBhcmFtcy5jdXN0b21IZWlnaHQgPSAxOyB9XG5cdFx0XHRcdGlmKHJvdy5sZXZlbCkgeyBwYXJhbXMub3V0bGluZUxldmVsID0gcm93LmxldmVsOyB9XG5cdFx0XHR9XG5cdFx0XHRvW28ubGVuZ3RoXSA9ICh3cml0ZXh0YWcoJ3JvdycsIHIuam9pbihcIlwiKSwgcGFyYW1zKSk7XG5cdFx0fVxuXHR9XG5cdGlmKHJvd3MpIGZvcig7IFIgPCByb3dzLmxlbmd0aDsgKytSKSB7XG5cdFx0aWYocm93cyAmJiByb3dzW1JdKSB7XG5cdFx0XHRwYXJhbXMgPSAoe3I6UisxfS8qOmFueSovKTtcblx0XHRcdHJvdyA9IHJvd3NbUl07XG5cdFx0XHRpZihyb3cuaGlkZGVuKSBwYXJhbXMuaGlkZGVuID0gMTtcblx0XHRcdGhlaWdodCA9IC0xO1xuXHRcdFx0aWYgKHJvdy5ocHgpIGhlaWdodCA9IHB4MnB0KHJvdy5ocHgpO1xuXHRcdFx0ZWxzZSBpZiAocm93LmhwdCkgaGVpZ2h0ID0gcm93LmhwdDtcblx0XHRcdGlmIChoZWlnaHQgPiAtMSkgeyBwYXJhbXMuaHQgPSBoZWlnaHQ7IHBhcmFtcy5jdXN0b21IZWlnaHQgPSAxOyB9XG5cdFx0XHRpZiAocm93LmxldmVsKSB7IHBhcmFtcy5vdXRsaW5lTGV2ZWwgPSByb3cubGV2ZWw7IH1cblx0XHRcdG9bby5sZW5ndGhdID0gKHdyaXRleHRhZygncm93JywgXCJcIiwgcGFyYW1zKSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3dzX3htbChpZHgvKjpudW1iZXIqLywgb3B0cywgd2IvKjpXb3JrYm9vayovLCByZWxzKS8qOnN0cmluZyovIHtcblx0dmFyIG8gPSBbWE1MX0hFQURFUiwgd3JpdGV4dGFnKCd3b3Jrc2hlZXQnLCBudWxsLCB7XG5cdFx0J3htbG5zJzogWE1MTlNfbWFpblswXSxcblx0XHQneG1sbnM6cic6IFhNTE5TLnJcblx0fSldO1xuXHR2YXIgcyA9IHdiLlNoZWV0TmFtZXNbaWR4XSwgc2lkeCA9IDAsIHJkYXRhID0gXCJcIjtcblx0dmFyIHdzID0gd2IuU2hlZXRzW3NdO1xuXHRpZih3cyA9PSBudWxsKSB3cyA9IHt9O1xuXHR2YXIgcmVmID0gd3NbJyFyZWYnXSB8fCAnQTEnO1xuXHR2YXIgcmFuZ2UgPSBzYWZlX2RlY29kZV9yYW5nZShyZWYpO1xuXHRpZihyYW5nZS5lLmMgPiAweDNGRkYgfHwgcmFuZ2UuZS5yID4gMHhGRkZGRikge1xuXHRcdGlmKG9wdHMuV1RGKSB0aHJvdyBuZXcgRXJyb3IoXCJSYW5nZSBcIiArIHJlZiArIFwiIGV4Y2VlZHMgZm9ybWF0IGxpbWl0IEExOlhGRDEwNDg1NzZcIik7XG5cdFx0cmFuZ2UuZS5jID0gTWF0aC5taW4ocmFuZ2UuZS5jLCAweDNGRkYpO1xuXHRcdHJhbmdlLmUuciA9IE1hdGgubWluKHJhbmdlLmUuYywgMHhGRkZGRik7XG5cdFx0cmVmID0gZW5jb2RlX3JhbmdlKHJhbmdlKTtcblx0fVxuXHRpZighcmVscykgcmVscyA9IHt9O1xuXHR3c1snIWNvbW1lbnRzJ10gPSBbXTtcblx0dmFyIF9kcmF3aW5nID0gW107XG5cblx0d3JpdGVfd3NfeG1sX3NoZWV0cHIod3MsIHdiLCBpZHgsIG9wdHMsIG8pO1xuXG5cdG9bby5sZW5ndGhdID0gKHdyaXRleHRhZygnZGltZW5zaW9uJywgbnVsbCwgeydyZWYnOiByZWZ9KSk7XG5cblx0b1tvLmxlbmd0aF0gPSB3cml0ZV93c194bWxfc2hlZXR2aWV3cyh3cywgb3B0cywgaWR4LCB3Yik7XG5cblx0LyogVE9ETzogc3RvcmUgaW4gV0IsIHByb2Nlc3Mgc3R5bGVzICovXG5cdGlmKG9wdHMuc2hlZXRGb3JtYXQpIG9bby5sZW5ndGhdID0gKHdyaXRleHRhZygnc2hlZXRGb3JtYXRQcicsIG51bGwsIHtcblx0XHRkZWZhdWx0Um93SGVpZ2h0Om9wdHMuc2hlZXRGb3JtYXQuZGVmYXVsdFJvd0hlaWdodHx8JzE2Jyxcblx0XHRiYXNlQ29sV2lkdGg6b3B0cy5zaGVldEZvcm1hdC5iYXNlQ29sV2lkdGh8fCcxMCcsXG5cdFx0b3V0bGluZUxldmVsUm93Om9wdHMuc2hlZXRGb3JtYXQub3V0bGluZUxldmVsUm93fHwnNydcblx0fSkpO1xuXG5cdGlmKHdzWychY29scyddICE9IG51bGwgJiYgd3NbJyFjb2xzJ10ubGVuZ3RoID4gMCkgb1tvLmxlbmd0aF0gPSAod3JpdGVfd3NfeG1sX2NvbHMod3MsIHdzWychY29scyddKSk7XG5cblx0b1tzaWR4ID0gby5sZW5ndGhdID0gJzxzaGVldERhdGEvPic7XG5cdHdzWychbGlua3MnXSA9IFtdO1xuXHRpZih3c1snIXJlZiddICE9IG51bGwpIHtcblx0XHRyZGF0YSA9IHdyaXRlX3dzX3htbF9kYXRhKHdzLCBvcHRzLCBpZHgsIHdiLCByZWxzKTtcblx0XHRpZihyZGF0YS5sZW5ndGggPiAwKSBvW28ubGVuZ3RoXSA9IChyZGF0YSk7XG5cdH1cblx0aWYoby5sZW5ndGg+c2lkeCsxKSB7IG9bby5sZW5ndGhdID0gKCc8L3NoZWV0RGF0YT4nKTsgb1tzaWR4XT1vW3NpZHhdLnJlcGxhY2UoXCIvPlwiLFwiPlwiKTsgfVxuXG5cdC8qIHNoZWV0Q2FsY1ByICovXG5cblx0aWYod3NbJyFwcm90ZWN0J10pIG9bby5sZW5ndGhdID0gd3JpdGVfd3NfeG1sX3Byb3RlY3Rpb24od3NbJyFwcm90ZWN0J10pO1xuXG5cdC8qIHByb3RlY3RlZFJhbmdlcyAqL1xuXHQvKiBzY2VuYXJpb3MgKi9cblxuXHRpZih3c1snIWF1dG9maWx0ZXInXSAhPSBudWxsKSBvW28ubGVuZ3RoXSA9IHdyaXRlX3dzX3htbF9hdXRvZmlsdGVyKHdzWychYXV0b2ZpbHRlciddLCB3cywgd2IsIGlkeCk7XG5cblx0Lyogc29ydFN0YXRlICovXG5cdC8qIGRhdGFDb25zb2xpZGF0ZSAqL1xuXHQvKiBjdXN0b21TaGVldFZpZXdzICovXG5cblx0aWYod3NbJyFtZXJnZXMnXSAhPSBudWxsICYmIHdzWychbWVyZ2VzJ10ubGVuZ3RoID4gMCkgb1tvLmxlbmd0aF0gPSAod3JpdGVfd3NfeG1sX21lcmdlcyh3c1snIW1lcmdlcyddKSk7XG5cblx0LyogcGhvbmV0aWNQciAqL1xuXHQvKiBjb25kaXRpb25hbEZvcm1hdHRpbmcgKi9cblx0LyogZGF0YVZhbGlkYXRpb25zICovXG5cblx0dmFyIHJlbGMgPSAtMSwgcmVsLCBySWQgPSAtMTtcblx0aWYoLyo6OigqL3dzWychbGlua3MnXS8qOjp8fFtdKSovLmxlbmd0aCA+IDApIHtcblx0XHRvW28ubGVuZ3RoXSA9IFwiPGh5cGVybGlua3M+XCI7XG5cdFx0Lyo6OigqL3dzWychbGlua3MnXS8qOjp8fFtdKSovLmZvckVhY2goZnVuY3Rpb24obCkge1xuXHRcdFx0aWYoIWxbMV0uVGFyZ2V0KSByZXR1cm47XG5cdFx0XHRyZWwgPSAoe1wicmVmXCI6bFswXX0vKjphbnkqLyk7XG5cdFx0XHRpZihsWzFdLlRhcmdldC5jaGFyQXQoMCkgIT0gXCIjXCIpIHtcblx0XHRcdFx0cklkID0gYWRkX3JlbHMocmVscywgLTEsIGVzY2FwZXhtbChsWzFdLlRhcmdldCkucmVwbGFjZSgvI1tcXHNcXFNdKiQvLCBcIlwiKSwgUkVMUy5ITElOSyk7XG5cdFx0XHRcdHJlbFtcInI6aWRcIl0gPSBcInJJZFwiK3JJZDtcblx0XHRcdH1cblx0XHRcdGlmKChyZWxjID0gbFsxXS5UYXJnZXQuaW5kZXhPZihcIiNcIikpID4gLTEpIHJlbC5sb2NhdGlvbiA9IGVzY2FwZXhtbChsWzFdLlRhcmdldC5zbGljZShyZWxjKzEpKTtcblx0XHRcdGlmKGxbMV0uVG9vbHRpcCkgcmVsLnRvb2x0aXAgPSBlc2NhcGV4bWwobFsxXS5Ub29sdGlwKTtcblx0XHRcdHJlbC5kaXNwbGF5ID0gbFsxXS5kaXNwbGF5O1xuXHRcdFx0b1tvLmxlbmd0aF0gPSB3cml0ZXh0YWcoXCJoeXBlcmxpbmtcIixudWxsLHJlbCk7XG5cdFx0fSk7XG5cdFx0b1tvLmxlbmd0aF0gPSBcIjwvaHlwZXJsaW5rcz5cIjtcblx0fVxuXHRkZWxldGUgd3NbJyFsaW5rcyddO1xuXG5cdC8qIHByaW50T3B0aW9ucyAqL1xuXG5cdGlmKHdzWychbWFyZ2lucyddICE9IG51bGwpIG9bby5sZW5ndGhdID0gIHdyaXRlX3dzX3htbF9tYXJnaW5zKHdzWychbWFyZ2lucyddKTtcblxuXHQvKiBwYWdlU2V0dXAgKi9cblx0LyogaGVhZGVyRm9vdGVyICovXG5cdC8qIHJvd0JyZWFrcyAqL1xuXHQvKiBjb2xCcmVha3MgKi9cblx0LyogY3VzdG9tUHJvcGVydGllcyAqL1xuXHQvKiBjZWxsV2F0Y2hlcyAqL1xuXG5cdGlmKCFvcHRzIHx8IG9wdHMuaWdub3JlRUMgfHwgKG9wdHMuaWdub3JlRUMgPT0gKHZvaWQgMCkpKSBvW28ubGVuZ3RoXSA9IHdyaXRldGFnKFwiaWdub3JlZEVycm9yc1wiLCB3cml0ZXh0YWcoXCJpZ25vcmVkRXJyb3JcIiwgbnVsbCwge251bWJlclN0b3JlZEFzVGV4dDoxLCBzcXJlZjpyZWZ9KSk7XG5cblx0Lyogc21hcnRUYWdzICovXG5cblx0aWYoX2RyYXdpbmcubGVuZ3RoID4gMCkge1xuXHRcdHJJZCA9IGFkZF9yZWxzKHJlbHMsIC0xLCBcIi4uL2RyYXdpbmdzL2RyYXdpbmdcIiArIChpZHgrMSkgKyBcIi54bWxcIiwgUkVMUy5EUkFXKTtcblx0XHRvW28ubGVuZ3RoXSA9IHdyaXRleHRhZyhcImRyYXdpbmdcIiwgbnVsbCwge1wicjppZFwiOlwicklkXCIgKyBySWR9KTtcblx0XHR3c1snIWRyYXdpbmcnXSA9IF9kcmF3aW5nO1xuXHR9XG5cblx0aWYod3NbJyFjb21tZW50cyddLmxlbmd0aCA+IDApIHtcblx0XHRySWQgPSBhZGRfcmVscyhyZWxzLCAtMSwgXCIuLi9kcmF3aW5ncy92bWxEcmF3aW5nXCIgKyAoaWR4KzEpICsgXCIudm1sXCIsIFJFTFMuVk1MKTtcblx0XHRvW28ubGVuZ3RoXSA9IHdyaXRleHRhZyhcImxlZ2FjeURyYXdpbmdcIiwgbnVsbCwge1wicjppZFwiOlwicklkXCIgKyBySWR9KTtcblx0XHR3c1snIWxlZ2FjeSddID0gcklkO1xuXHR9XG5cblx0LyogbGVnYWN5RHJhd2luZ0hGICovXG5cdC8qIHBpY3R1cmUgKi9cblx0Lyogb2xlT2JqZWN0cyAqL1xuXHQvKiBjb250cm9scyAqL1xuXHQvKiB3ZWJQdWJsaXNoSXRlbXMgKi9cblx0LyogdGFibGVQYXJ0cyAqL1xuXHQvKiBleHRMc3QgKi9cblxuXHRpZihvLmxlbmd0aD4xKSB7IG9bby5sZW5ndGhdID0gKCc8L3dvcmtzaGVldD4nKTsgb1sxXT1vWzFdLnJlcGxhY2UoXCIvPlwiLFwiPlwiKTsgfVxuXHRyZXR1cm4gby5qb2luKFwiXCIpO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjcyNiBCcnRSb3dIZHIgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydFJvd0hkcihkYXRhLCBsZW5ndGgpIHtcblx0dmFyIHogPSAoe30vKjphbnkqLyk7XG5cdHZhciB0Z3QgPSBkYXRhLmwgKyBsZW5ndGg7XG5cdHouciA9IGRhdGEucmVhZF9zaGlmdCg0KTtcblx0ZGF0YS5sICs9IDQ7IC8vIFRPRE86IGl4ZmVcblx0dmFyIG1peVJ3ID0gZGF0YS5yZWFkX3NoaWZ0KDIpO1xuXHRkYXRhLmwgKz0gMTsgLy8gVE9ETzogdG9wL2JvdCBwYWRkaW5nXG5cdHZhciBmbGFncyA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0ZGF0YS5sID0gdGd0O1xuXHRpZihmbGFncyAmIDB4MDcpIHoubGV2ZWwgPSBmbGFncyAmIDB4MDc7XG5cdGlmKGZsYWdzICYgMHgxMCkgei5oaWRkZW4gPSB0cnVlO1xuXHRpZihmbGFncyAmIDB4MjApIHouaHB0ID0gbWl5UncgLyAyMDtcblx0cmV0dXJuIHo7XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRSb3dIZHIoUi8qOm51bWJlciovLCByYW5nZSwgd3MpIHtcblx0dmFyIG8gPSBuZXdfYnVmKDE3KzgqMTYpO1xuXHR2YXIgcm93ID0gKHdzWychcm93cyddfHxbXSlbUl18fHt9O1xuXHRvLndyaXRlX3NoaWZ0KDQsIFIpO1xuXG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7IC8qIFRPRE86IGl4ZmUgKi9cblxuXHR2YXIgbWl5UncgPSAweDAxNDA7XG5cdGlmKHJvdy5ocHgpIG1peVJ3ID0gcHgycHQocm93LmhweCkgKiAyMDtcblx0ZWxzZSBpZihyb3cuaHB0KSBtaXlSdyA9IHJvdy5ocHQgKiAyMDtcblx0by53cml0ZV9zaGlmdCgyLCBtaXlSdyk7XG5cblx0by53cml0ZV9zaGlmdCgxLCAwKTsgLyogdG9wL2JvdCBwYWRkaW5nICovXG5cblx0dmFyIGZsYWdzID0gMHgwO1xuXHRpZihyb3cubGV2ZWwpIGZsYWdzIHw9IHJvdy5sZXZlbDtcblx0aWYocm93LmhpZGRlbikgZmxhZ3MgfD0gMHgxMDtcblx0aWYocm93LmhweCB8fCByb3cuaHB0KSBmbGFncyB8PSAweDIwO1xuXHRvLndyaXRlX3NoaWZ0KDEsIGZsYWdzKTtcblxuXHRvLndyaXRlX3NoaWZ0KDEsIDApOyAvKiBwaG9uZXRpYyBndWlkZSAqL1xuXG5cdC8qIFtNUy1YTFNCXSAyLjUuOCBCcnRDb2xTcGFuIGV4cGxhaW5zIHRoZSBtZWNoYW5pc20gKi9cblx0dmFyIG5jb2xzcGFuID0gMCwgbGNzID0gby5sO1xuXHRvLmwgKz0gNDtcblxuXHR2YXIgY2FkZHIgPSB7cjpSLCBjOjB9O1xuXHR2YXIgZGVuc2UgPSB3c1tcIiFkYXRhXCJdICE9IG51bGw7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG5cdFx0aWYoKHJhbmdlLnMuYyA+ICgoaSsxKSA8PCAxMCkpIHx8IChyYW5nZS5lLmMgPCAoaSA8PCAxMCkpKSBjb250aW51ZTtcblx0XHR2YXIgZmlyc3QgPSAtMSwgbGFzdCA9IC0xO1xuXHRcdGZvcih2YXIgaiA9IChpPDwxMCk7IGogPCAoKGkrMSk8PDEwKTsgKytqKSB7XG5cdFx0XHRjYWRkci5jID0gajtcblx0XHRcdHZhciBjZWxsID0gZGVuc2UgPyAod3NbXCIhZGF0YVwiXVtjYWRkci5yXXx8W10pW2NhZGRyLmNdIDogd3NbZW5jb2RlX2NlbGwoY2FkZHIpXTtcblx0XHRcdGlmKGNlbGwpIHsgaWYoZmlyc3QgPCAwKSBmaXJzdCA9IGo7IGxhc3QgPSBqOyB9XG5cdFx0fVxuXHRcdGlmKGZpcnN0IDwgMCkgY29udGludWU7XG5cdFx0KytuY29sc3Bhbjtcblx0XHRvLndyaXRlX3NoaWZ0KDQsIGZpcnN0KTtcblx0XHRvLndyaXRlX3NoaWZ0KDQsIGxhc3QpO1xuXHR9XG5cblx0dmFyIGwgPSBvLmw7XG5cdG8ubCA9IGxjcztcblx0by53cml0ZV9zaGlmdCg0LCBuY29sc3Bhbik7XG5cdG8ubCA9IGw7XG5cblx0cmV0dXJuIG8ubGVuZ3RoID4gby5sID8gby5zbGljZSgwLCBvLmwpIDogbztcbn1cbmZ1bmN0aW9uIHdyaXRlX3Jvd19oZWFkZXIoYmEsIHdzLCByYW5nZSwgUikge1xuXHR2YXIgbyA9IHdyaXRlX0JydFJvd0hkcihSLCByYW5nZSwgd3MpO1xuXHRpZigoby5sZW5ndGggPiAxNykgfHwgKHdzWychcm93cyddfHxbXSlbUl0pIHdyaXRlX3JlY29yZChiYSwgMHgwMDAwIC8qIEJydFJvd0hkciAqLywgbyk7XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuODIwIEJydFdzRGltICovXG52YXIgcGFyc2VfQnJ0V3NEaW0gPSBwYXJzZV9VbmNoZWNrZWRSZlg7XG52YXIgd3JpdGVfQnJ0V3NEaW0gPSB3cml0ZV9VbmNoZWNrZWRSZlg7XG5cbi8qIFtNUy1YTFNCXSAyLjQuODIxIEJydFdzRm10SW5mbyAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0V3NGbXRJbmZvKC8qOjpkYXRhLCBsZW5ndGgqLykge1xufVxuLy9mdW5jdGlvbiB3cml0ZV9CcnRXc0ZtdEluZm8od3MsIG8pIHsgfVxuXG4vKiBbTVMtWExTQl0gMi40LjgyMyBCcnRXc1Byb3AgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydFdzUHJvcChkYXRhLCBsZW5ndGgpIHtcblx0dmFyIHogPSB7fTtcblx0dmFyIGYgPSBkYXRhW2RhdGEubF07ICsrZGF0YS5sO1xuXHR6LmFib3ZlID0gIShmICYgMHg0MCk7XG5cdHoubGVmdCAgPSAhKGYgJiAweDgwKTtcblx0LyogVE9ETzogcHVsbCBmbGFncyAqL1xuXHRkYXRhLmwgKz0gMTg7XG5cdHoubmFtZSA9IHBhcnNlX1hMU0JDb2RlTmFtZShkYXRhLCBsZW5ndGggLSAxOSk7XG5cdHJldHVybiB6O1xufVxuZnVuY3Rpb24gd3JpdGVfQnJ0V3NQcm9wKHN0ciwgb3V0bCwgbykge1xuXHRpZihvID09IG51bGwpIG8gPSBuZXdfYnVmKDg0KzQqc3RyLmxlbmd0aCk7XG5cdHZhciBmID0gMHhDMDtcblx0aWYob3V0bCkge1xuXHRcdGlmKG91dGwuYWJvdmUpIGYgJj0gfjB4NDA7XG5cdFx0aWYob3V0bC5sZWZ0KSAgZiAmPSB+MHg4MDtcblx0fVxuXHRvLndyaXRlX3NoaWZ0KDEsIGYpO1xuXHRmb3IodmFyIGkgPSAxOyBpIDwgMzsgKytpKSBvLndyaXRlX3NoaWZ0KDEsMCk7XG5cdHdyaXRlX0JydENvbG9yKHthdXRvOjF9LCBvKTtcblx0by53cml0ZV9zaGlmdCgtNCwtMSk7XG5cdG8ud3JpdGVfc2hpZnQoLTQsLTEpO1xuXHR3cml0ZV9YTFNCQ29kZU5hbWUoc3RyLCBvKTtcblx0cmV0dXJuIG8uc2xpY2UoMCwgby5sKTtcbn1cblxuLyogW01TLVhMU0JdIDIuNC4zMDYgQnJ0Q2VsbEJsYW5rICovXG5mdW5jdGlvbiBwYXJzZV9CcnRDZWxsQmxhbmsoZGF0YSkge1xuXHR2YXIgY2VsbCA9IHBhcnNlX1hMU0JDZWxsKGRhdGEpO1xuXHRyZXR1cm4gW2NlbGxdO1xufVxuZnVuY3Rpb24gd3JpdGVfQnJ0Q2VsbEJsYW5rKGNlbGwsIG5jZWxsLCBvKSB7XG5cdGlmKG8gPT0gbnVsbCkgbyA9IG5ld19idWYoOCk7XG5cdHJldHVybiB3cml0ZV9YTFNCQ2VsbChuY2VsbCwgbyk7XG59XG5mdW5jdGlvbiBwYXJzZV9CcnRTaG9ydEJsYW5rKGRhdGEpIHtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCU2hvcnRDZWxsKGRhdGEpO1xuXHRyZXR1cm4gW2NlbGxdO1xufVxuZnVuY3Rpb24gd3JpdGVfQnJ0U2hvcnRCbGFuayhjZWxsLCBuY2VsbCwgbykge1xuXHRpZihvID09IG51bGwpIG8gPSBuZXdfYnVmKDQpO1xuXHRyZXR1cm4gd3JpdGVfWExTQlNob3J0Q2VsbChuY2VsbCwgbyk7XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuMzA3IEJydENlbGxCb29sICovXG5mdW5jdGlvbiBwYXJzZV9CcnRDZWxsQm9vbChkYXRhKSB7XG5cdHZhciBjZWxsID0gcGFyc2VfWExTQkNlbGwoZGF0YSk7XG5cdHZhciBmQm9vbCA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0cmV0dXJuIFtjZWxsLCBmQm9vbCwgJ2InXTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydENlbGxCb29sKGNlbGwsIG5jZWxsLCBvKSB7XG5cdGlmKG8gPT0gbnVsbCkgbyA9IG5ld19idWYoOSk7XG5cdHdyaXRlX1hMU0JDZWxsKG5jZWxsLCBvKTtcblx0by53cml0ZV9zaGlmdCgxLCBjZWxsLnYgPyAxIDogMCk7XG5cdHJldHVybiBvO1xufVxuZnVuY3Rpb24gcGFyc2VfQnJ0U2hvcnRCb29sKGRhdGEpIHtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCU2hvcnRDZWxsKGRhdGEpO1xuXHR2YXIgZkJvb2wgPSBkYXRhLnJlYWRfc2hpZnQoMSk7XG5cdHJldHVybiBbY2VsbCwgZkJvb2wsICdiJ107XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRTaG9ydEJvb2woY2VsbCwgbmNlbGwsIG8pIHtcblx0aWYobyA9PSBudWxsKSBvID0gbmV3X2J1Zig1KTtcblx0d3JpdGVfWExTQlNob3J0Q2VsbChuY2VsbCwgbyk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgY2VsbC52ID8gMSA6IDApO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC4zMDggQnJ0Q2VsbEVycm9yICovXG5mdW5jdGlvbiBwYXJzZV9CcnRDZWxsRXJyb3IoZGF0YSkge1xuXHR2YXIgY2VsbCA9IHBhcnNlX1hMU0JDZWxsKGRhdGEpO1xuXHR2YXIgYkVycm9yID0gZGF0YS5yZWFkX3NoaWZ0KDEpO1xuXHRyZXR1cm4gW2NlbGwsIGJFcnJvciwgJ2UnXTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydENlbGxFcnJvcihjZWxsLCBuY2VsbCwgbykge1xuXHRpZihvID09IG51bGwpIG8gPSBuZXdfYnVmKDkpO1xuXHR3cml0ZV9YTFNCQ2VsbChuY2VsbCwgbyk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgY2VsbC52KTtcblx0cmV0dXJuIG87XG59XG5mdW5jdGlvbiBwYXJzZV9CcnRTaG9ydEVycm9yKGRhdGEpIHtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCU2hvcnRDZWxsKGRhdGEpO1xuXHR2YXIgYkVycm9yID0gZGF0YS5yZWFkX3NoaWZ0KDEpO1xuXHRyZXR1cm4gW2NlbGwsIGJFcnJvciwgJ2UnXTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydFNob3J0RXJyb3IoY2VsbCwgbmNlbGwsIG8pIHtcblx0aWYobyA9PSBudWxsKSBvID0gbmV3X2J1Zig4KTtcblx0d3JpdGVfWExTQlNob3J0Q2VsbChuY2VsbCwgbyk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgY2VsbC52KTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0by53cml0ZV9zaGlmdCgxLCAwKTtcblx0cmV0dXJuIG87XG59XG5cblxuLyogW01TLVhMU0JdIDIuNC4zMTEgQnJ0Q2VsbElzc3QgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydENlbGxJc3N0KGRhdGEpIHtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCQ2VsbChkYXRhKTtcblx0dmFyIGlzc3QgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG5cdHJldHVybiBbY2VsbCwgaXNzdCwgJ3MnXTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydENlbGxJc3N0KGNlbGwsIG5jZWxsLCBvKSB7XG5cdGlmKG8gPT0gbnVsbCkgbyA9IG5ld19idWYoMTIpO1xuXHR3cml0ZV9YTFNCQ2VsbChuY2VsbCwgbyk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgbmNlbGwudik7XG5cdHJldHVybiBvO1xufVxuZnVuY3Rpb24gcGFyc2VfQnJ0U2hvcnRJc3N0KGRhdGEpIHtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCU2hvcnRDZWxsKGRhdGEpO1xuXHR2YXIgaXNzdCA9IGRhdGEucmVhZF9zaGlmdCg0KTtcblx0cmV0dXJuIFtjZWxsLCBpc3N0LCAncyddO1xufVxuZnVuY3Rpb24gd3JpdGVfQnJ0U2hvcnRJc3N0KGNlbGwsIG5jZWxsLCBvKSB7XG5cdGlmKG8gPT0gbnVsbCkgbyA9IG5ld19idWYoOCk7XG5cdHdyaXRlX1hMU0JTaG9ydENlbGwobmNlbGwsIG8pO1xuXHRvLndyaXRlX3NoaWZ0KDQsIG5jZWxsLnYpO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC4zMTMgQnJ0Q2VsbFJlYWwgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydENlbGxSZWFsKGRhdGEpIHtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCQ2VsbChkYXRhKTtcblx0dmFyIHZhbHVlID0gcGFyc2VfWG51bShkYXRhKTtcblx0cmV0dXJuIFtjZWxsLCB2YWx1ZSwgJ24nXTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydENlbGxSZWFsKGNlbGwsIG5jZWxsLCBvKSB7XG5cdGlmKG8gPT0gbnVsbCkgbyA9IG5ld19idWYoMTYpO1xuXHR3cml0ZV9YTFNCQ2VsbChuY2VsbCwgbyk7XG5cdHdyaXRlX1hudW0oY2VsbC52LCBvKTtcblx0cmV0dXJuIG87XG59XG5mdW5jdGlvbiBwYXJzZV9CcnRTaG9ydFJlYWwoZGF0YSkge1xuXHR2YXIgY2VsbCA9IHBhcnNlX1hMU0JTaG9ydENlbGwoZGF0YSk7XG5cdHZhciB2YWx1ZSA9IHBhcnNlX1hudW0oZGF0YSk7XG5cdHJldHVybiBbY2VsbCwgdmFsdWUsICduJ107XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRTaG9ydFJlYWwoY2VsbCwgbmNlbGwsIG8pIHtcblx0aWYobyA9PSBudWxsKSBvID0gbmV3X2J1ZigxMik7XG5cdHdyaXRlX1hMU0JTaG9ydENlbGwobmNlbGwsIG8pO1xuXHR3cml0ZV9YbnVtKGNlbGwudiwgbyk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjMxNCBCcnRDZWxsUmsgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydENlbGxSayhkYXRhKSB7XG5cdHZhciBjZWxsID0gcGFyc2VfWExTQkNlbGwoZGF0YSk7XG5cdHZhciB2YWx1ZSA9IHBhcnNlX1JrTnVtYmVyKGRhdGEpO1xuXHRyZXR1cm4gW2NlbGwsIHZhbHVlLCAnbiddO1xufVxuZnVuY3Rpb24gd3JpdGVfQnJ0Q2VsbFJrKGNlbGwsIG5jZWxsLCBvKSB7XG5cdGlmKG8gPT0gbnVsbCkgbyA9IG5ld19idWYoMTIpO1xuXHR3cml0ZV9YTFNCQ2VsbChuY2VsbCwgbyk7XG5cdHdyaXRlX1JrTnVtYmVyKGNlbGwudiwgbyk7XG5cdHJldHVybiBvO1xufVxuZnVuY3Rpb24gcGFyc2VfQnJ0U2hvcnRSayhkYXRhKSB7XG5cdHZhciBjZWxsID0gcGFyc2VfWExTQlNob3J0Q2VsbChkYXRhKTtcblx0dmFyIHZhbHVlID0gcGFyc2VfUmtOdW1iZXIoZGF0YSk7XG5cdHJldHVybiBbY2VsbCwgdmFsdWUsICduJ107XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRTaG9ydFJrKGNlbGwsIG5jZWxsLCBvKSB7XG5cdGlmKG8gPT0gbnVsbCkgbyA9IG5ld19idWYoOCk7XG5cdHdyaXRlX1hMU0JTaG9ydENlbGwobmNlbGwsIG8pO1xuXHR3cml0ZV9Sa051bWJlcihjZWxsLnYsIG8pO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC4zMjMgQnJ0Q2VsbFJTdHJpbmcgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydENlbGxSU3RyaW5nKGRhdGEpIHtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCQ2VsbChkYXRhKTtcblx0dmFyIHZhbHVlID0gcGFyc2VfUmljaFN0cihkYXRhKTtcblx0cmV0dXJuIFtjZWxsLCB2YWx1ZSwgJ2lzJ107XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuMzE3IEJydENlbGxTdCAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0Q2VsbFN0KGRhdGEpIHtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCQ2VsbChkYXRhKTtcblx0dmFyIHZhbHVlID0gcGFyc2VfWExXaWRlU3RyaW5nKGRhdGEpO1xuXHRyZXR1cm4gW2NlbGwsIHZhbHVlLCAnc3RyJ107XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRDZWxsU3QoY2VsbCwgbmNlbGwsIG8pIHtcblx0dmFyIGRhdGEgPSBjZWxsLnYgPT0gbnVsbCA/IFwiXCIgOiBTdHJpbmcoY2VsbC52KTtcblx0aWYobyA9PSBudWxsKSBvID0gbmV3X2J1ZigxMiArIDQgKiBjZWxsLnYubGVuZ3RoKTtcblx0d3JpdGVfWExTQkNlbGwobmNlbGwsIG8pO1xuXHR3cml0ZV9YTFdpZGVTdHJpbmcoZGF0YSwgbyk7XG5cdHJldHVybiBvLmxlbmd0aCA+IG8ubCA/IG8uc2xpY2UoMCwgby5sKSA6IG87XG59XG5mdW5jdGlvbiBwYXJzZV9CcnRTaG9ydFN0KGRhdGEpIHtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCU2hvcnRDZWxsKGRhdGEpO1xuXHR2YXIgdmFsdWUgPSBwYXJzZV9YTFdpZGVTdHJpbmcoZGF0YSk7XG5cdHJldHVybiBbY2VsbCwgdmFsdWUsICdzdHInXTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydFNob3J0U3QoY2VsbCwgbmNlbGwsIG8pIHtcblx0dmFyIGRhdGEgPSBjZWxsLnYgPT0gbnVsbCA/IFwiXCIgOiBTdHJpbmcoY2VsbC52KTtcblx0aWYobyA9PSBudWxsKSBvID0gbmV3X2J1Zig4ICsgNCAqIGRhdGEubGVuZ3RoKTtcblx0d3JpdGVfWExTQlNob3J0Q2VsbChuY2VsbCwgbyk7XG5cdHdyaXRlX1hMV2lkZVN0cmluZyhkYXRhLCBvKTtcblx0cmV0dXJuIG8ubGVuZ3RoID4gby5sID8gby5zbGljZSgwLCBvLmwpIDogbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC42NTMgQnJ0Rm1sYUJvb2wgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydEZtbGFCb29sKGRhdGEsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgZW5kID0gZGF0YS5sICsgbGVuZ3RoO1xuXHR2YXIgY2VsbCA9IHBhcnNlX1hMU0JDZWxsKGRhdGEpO1xuXHRjZWxsLnIgPSBvcHRzWychcm93J107XG5cdHZhciB2YWx1ZSA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0dmFyIG8gPSBbY2VsbCwgdmFsdWUsICdiJ107XG5cdGlmKG9wdHMuY2VsbEZvcm11bGEpIHtcblx0XHRkYXRhLmwgKz0gMjtcblx0XHR2YXIgZm9ybXVsYSA9IHBhcnNlX1hMU0JDZWxsUGFyc2VkRm9ybXVsYShkYXRhLCBlbmQgLSBkYXRhLmwsIG9wdHMpO1xuXHRcdG9bM10gPSBzdHJpbmdpZnlfZm9ybXVsYShmb3JtdWxhLCBudWxsLypyYW5nZSovLCBjZWxsLCBvcHRzLnN1cGJvb2tzLCBvcHRzKTsvKiBUT0RPICovXG5cdH1cblx0ZWxzZSBkYXRhLmwgPSBlbmQ7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjY1NCBCcnRGbWxhRXJyb3IgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydEZtbGFFcnJvcihkYXRhLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIGVuZCA9IGRhdGEubCArIGxlbmd0aDtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCQ2VsbChkYXRhKTtcblx0Y2VsbC5yID0gb3B0c1snIXJvdyddO1xuXHR2YXIgdmFsdWUgPSBkYXRhLnJlYWRfc2hpZnQoMSk7XG5cdHZhciBvID0gW2NlbGwsIHZhbHVlLCAnZSddO1xuXHRpZihvcHRzLmNlbGxGb3JtdWxhKSB7XG5cdFx0ZGF0YS5sICs9IDI7XG5cdFx0dmFyIGZvcm11bGEgPSBwYXJzZV9YTFNCQ2VsbFBhcnNlZEZvcm11bGEoZGF0YSwgZW5kIC0gZGF0YS5sLCBvcHRzKTtcblx0XHRvWzNdID0gc3RyaW5naWZ5X2Zvcm11bGEoZm9ybXVsYSwgbnVsbC8qcmFuZ2UqLywgY2VsbCwgb3B0cy5zdXBib29rcywgb3B0cyk7LyogVE9ETyAqL1xuXHR9XG5cdGVsc2UgZGF0YS5sID0gZW5kO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC42NTUgQnJ0Rm1sYU51bSAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0Rm1sYU51bShkYXRhLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIGVuZCA9IGRhdGEubCArIGxlbmd0aDtcblx0dmFyIGNlbGwgPSBwYXJzZV9YTFNCQ2VsbChkYXRhKTtcblx0Y2VsbC5yID0gb3B0c1snIXJvdyddO1xuXHR2YXIgdmFsdWUgPSBwYXJzZV9YbnVtKGRhdGEpO1xuXHR2YXIgbyA9IFtjZWxsLCB2YWx1ZSwgJ24nXTtcblx0aWYob3B0cy5jZWxsRm9ybXVsYSkge1xuXHRcdGRhdGEubCArPSAyO1xuXHRcdHZhciBmb3JtdWxhID0gcGFyc2VfWExTQkNlbGxQYXJzZWRGb3JtdWxhKGRhdGEsIGVuZCAtIGRhdGEubCwgb3B0cyk7XG5cdFx0b1szXSA9IHN0cmluZ2lmeV9mb3JtdWxhKGZvcm11bGEsIG51bGwvKnJhbmdlKi8sIGNlbGwsIG9wdHMuc3VwYm9va3MsIG9wdHMpOy8qIFRPRE8gKi9cblx0fVxuXHRlbHNlIGRhdGEubCA9IGVuZDtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuNjU2IEJydEZtbGFTdHJpbmcgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydEZtbGFTdHJpbmcoZGF0YSwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBlbmQgPSBkYXRhLmwgKyBsZW5ndGg7XG5cdHZhciBjZWxsID0gcGFyc2VfWExTQkNlbGwoZGF0YSk7XG5cdGNlbGwuciA9IG9wdHNbJyFyb3cnXTtcblx0dmFyIHZhbHVlID0gcGFyc2VfWExXaWRlU3RyaW5nKGRhdGEpO1xuXHR2YXIgbyA9IFtjZWxsLCB2YWx1ZSwgJ3N0ciddO1xuXHRpZihvcHRzLmNlbGxGb3JtdWxhKSB7XG5cdFx0ZGF0YS5sICs9IDI7XG5cdFx0dmFyIGZvcm11bGEgPSBwYXJzZV9YTFNCQ2VsbFBhcnNlZEZvcm11bGEoZGF0YSwgZW5kIC0gZGF0YS5sLCBvcHRzKTtcblx0XHRvWzNdID0gc3RyaW5naWZ5X2Zvcm11bGEoZm9ybXVsYSwgbnVsbC8qcmFuZ2UqLywgY2VsbCwgb3B0cy5zdXBib29rcywgb3B0cyk7LyogVE9ETyAqL1xuXHR9XG5cdGVsc2UgZGF0YS5sID0gZW5kO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC42ODIgQnJ0TWVyZ2VDZWxsICovXG52YXIgcGFyc2VfQnJ0TWVyZ2VDZWxsID0gcGFyc2VfVW5jaGVja2VkUmZYO1xudmFyIHdyaXRlX0JydE1lcmdlQ2VsbCA9IHdyaXRlX1VuY2hlY2tlZFJmWDtcbi8qIFtNUy1YTFNCXSAyLjQuMTA3IEJydEJlZ2luTWVyZ2VDZWxscyAqL1xuZnVuY3Rpb24gd3JpdGVfQnJ0QmVnaW5NZXJnZUNlbGxzKGNudCwgbykge1xuXHRpZihvID09IG51bGwpIG8gPSBuZXdfYnVmKDQpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIGNudCk7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjY2MiBCcnRITGluayAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0SExpbmsoZGF0YSwgbGVuZ3RoLyo6Oiwgb3B0cyovKSB7XG5cdHZhciBlbmQgPSBkYXRhLmwgKyBsZW5ndGg7XG5cdHZhciByZnggPSBwYXJzZV9VbmNoZWNrZWRSZlgoZGF0YSwgMTYpO1xuXHR2YXIgcmVsSWQgPSBwYXJzZV9YTE51bGxhYmxlV2lkZVN0cmluZyhkYXRhKTtcblx0dmFyIGxvYyA9IHBhcnNlX1hMV2lkZVN0cmluZyhkYXRhKTtcblx0dmFyIHRvb2x0aXAgPSBwYXJzZV9YTFdpZGVTdHJpbmcoZGF0YSk7XG5cdHZhciBkaXNwbGF5ID0gcGFyc2VfWExXaWRlU3RyaW5nKGRhdGEpO1xuXHRkYXRhLmwgPSBlbmQ7XG5cdHZhciBvID0gKHtyZng6cmZ4LCByZWxJZDpyZWxJZCwgbG9jOmxvYywgZGlzcGxheTpkaXNwbGF5fS8qOmFueSovKTtcblx0aWYodG9vbHRpcCkgby5Ub29sdGlwID0gdG9vbHRpcDtcblx0cmV0dXJuIG87XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRITGluayhsLCBySWQpIHtcblx0dmFyIG8gPSBuZXdfYnVmKDUwKzQqKGxbMV0uVGFyZ2V0Lmxlbmd0aCArIChsWzFdLlRvb2x0aXAgfHwgXCJcIikubGVuZ3RoKSk7XG5cdHdyaXRlX1VuY2hlY2tlZFJmWCh7czpkZWNvZGVfY2VsbChsWzBdKSwgZTpkZWNvZGVfY2VsbChsWzBdKX0sIG8pO1xuXHR3cml0ZV9SZWxJRChcInJJZFwiICsgcklkLCBvKTtcblx0dmFyIGxvY2lkeCA9IGxbMV0uVGFyZ2V0LmluZGV4T2YoXCIjXCIpO1xuXHR2YXIgbG9jID0gbG9jaWR4ID09IC0xID8gXCJcIiA6IGxbMV0uVGFyZ2V0LnNsaWNlKGxvY2lkeCsxKTtcblx0d3JpdGVfWExXaWRlU3RyaW5nKGxvYyB8fCBcIlwiLCBvKTtcblx0d3JpdGVfWExXaWRlU3RyaW5nKGxbMV0uVG9vbHRpcCB8fCBcIlwiLCBvKTtcblx0d3JpdGVfWExXaWRlU3RyaW5nKFwiXCIsIG8pO1xuXHRyZXR1cm4gby5zbGljZSgwLCBvLmwpO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjY5MiBCcnRQYW5lICovXG5mdW5jdGlvbiBwYXJzZV9CcnRQYW5lKC8qZGF0YSwgbGVuZ3RoLCBvcHRzKi8pIHtcbn1cblxuLyogW01TLVhMU0JdIDIuNC42IEJydEFyckZtbGEgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydEFyckZtbGEoZGF0YSwgbGVuZ3RoLCBvcHRzKSB7XG5cdHZhciBlbmQgPSBkYXRhLmwgKyBsZW5ndGg7XG5cdHZhciByZnggPSBwYXJzZV9SZlgoZGF0YSwgMTYpO1xuXHR2YXIgZkFsd2F5c0NhbGMgPSBkYXRhLnJlYWRfc2hpZnQoMSk7XG5cdHZhciBvID0gW3JmeF07IG9bMl0gPSBmQWx3YXlzQ2FsYztcblx0aWYob3B0cy5jZWxsRm9ybXVsYSkge1xuXHRcdHZhciBmb3JtdWxhID0gcGFyc2VfWExTQkFycmF5UGFyc2VkRm9ybXVsYShkYXRhLCBlbmQgLSBkYXRhLmwsIG9wdHMpO1xuXHRcdG9bMV0gPSBmb3JtdWxhO1xuXHR9IGVsc2UgZGF0YS5sID0gZW5kO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC43NTAgQnJ0U2hyRm1sYSAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0U2hyRm1sYShkYXRhLCBsZW5ndGgsIG9wdHMpIHtcblx0dmFyIGVuZCA9IGRhdGEubCArIGxlbmd0aDtcblx0dmFyIHJmeCA9IHBhcnNlX1VuY2hlY2tlZFJmWChkYXRhLCAxNik7XG5cdHZhciBvID0gW3JmeF07XG5cdGlmKG9wdHMuY2VsbEZvcm11bGEpIHtcblx0XHR2YXIgZm9ybXVsYSA9IHBhcnNlX1hMU0JTaGFyZWRQYXJzZWRGb3JtdWxhKGRhdGEsIGVuZCAtIGRhdGEubCwgb3B0cyk7XG5cdFx0b1sxXSA9IGZvcm11bGE7XG5cdFx0ZGF0YS5sID0gZW5kO1xuXHR9IGVsc2UgZGF0YS5sID0gZW5kO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC4zMjMgQnJ0Q29sSW5mbyAqL1xuLyogVE9ETzogb25jZSBYTFMgQ29sSW5mbyBpcyBzZXQsIGNvbWJpbmUgdGhlIGZ1bmN0aW9ucyAqL1xuZnVuY3Rpb24gd3JpdGVfQnJ0Q29sSW5mbyhDLyo6bnVtYmVyKi8sIGNvbCwgbykge1xuXHRpZihvID09IG51bGwpIG8gPSBuZXdfYnVmKDE4KTtcblx0dmFyIHAgPSBjb2xfb2JqX3coQywgY29sKTtcblx0by53cml0ZV9zaGlmdCgtNCwgQyk7XG5cdG8ud3JpdGVfc2hpZnQoLTQsIEMpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIChwLndpZHRoIHx8IDEwKSAqIDI1Nik7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMC8qaXhmZSovKTsgLy8gc3R5bGVcblx0dmFyIGZsYWdzID0gMDtcblx0aWYoY29sLmhpZGRlbikgZmxhZ3MgfD0gMHgwMTtcblx0aWYodHlwZW9mIHAud2lkdGggPT0gJ251bWJlcicpIGZsYWdzIHw9IDB4MDI7XG5cdGlmKGNvbC5sZXZlbCkgZmxhZ3MgfD0gKGNvbC5sZXZlbCA8PCA4KTtcblx0by53cml0ZV9zaGlmdCgyLCBmbGFncyk7IC8vIGJpdCBmbGFnXG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjY3OCBCcnRNYXJnaW5zICovXG52YXIgQnJ0TWFyZ2luS2V5cyA9IFtcImxlZnRcIixcInJpZ2h0XCIsXCJ0b3BcIixcImJvdHRvbVwiLFwiaGVhZGVyXCIsXCJmb290ZXJcIl07XG5mdW5jdGlvbiBwYXJzZV9CcnRNYXJnaW5zKGRhdGEvKjo6LCBsZW5ndGgsIG9wdHMqLykvKjpNYXJnaW5zKi8ge1xuXHR2YXIgbWFyZ2lucyA9ICh7fS8qOmFueSovKTtcblx0QnJ0TWFyZ2luS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGspIHsgbWFyZ2luc1trXSA9IHBhcnNlX1hudW0oZGF0YSwgOCk7IH0pO1xuXHRyZXR1cm4gbWFyZ2lucztcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydE1hcmdpbnMobWFyZ2lucy8qOk1hcmdpbnMqLywgbykge1xuXHRpZihvID09IG51bGwpIG8gPSBuZXdfYnVmKDYqOCk7XG5cdGRlZmF1bHRfbWFyZ2lucyhtYXJnaW5zKTtcblx0QnJ0TWFyZ2luS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGspIHsgd3JpdGVfWG51bSgobWFyZ2lucy8qOmFueSovKVtrXSwgbyk7IH0pO1xuXHRyZXR1cm4gbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC4yOTkgQnJ0QmVnaW5Xc1ZpZXcgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydEJlZ2luV3NWaWV3KGRhdGEvKjo6LCBsZW5ndGgsIG9wdHMqLykge1xuXHR2YXIgZiA9IGRhdGEucmVhZF9zaGlmdCgyKTtcblx0ZGF0YS5sICs9IDI4O1xuXHRyZXR1cm4geyBSVEw6IGYgJiAweDIwIH07XG59XG5mdW5jdGlvbiB3cml0ZV9CcnRCZWdpbldzVmlldyh3cywgV29ya2Jvb2ssIG8pIHtcblx0aWYobyA9PSBudWxsKSBvID0gbmV3X2J1ZigzMCk7XG5cdHZhciBmID0gMHgzOWM7XG5cdGlmKCgoKFdvcmtib29rfHx7fSkuVmlld3N8fFtdKVswXXx8e30pLlJUTCkgZiB8PSAweDIwO1xuXHRvLndyaXRlX3NoaWZ0KDIsIGYpOyAvLyBiaXQgZmxhZ1xuXHRvLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRvLndyaXRlX3NoaWZ0KDQsIDApOyAvLyB2aWV3IGZpcnN0IHJvd1xuXHRvLndyaXRlX3NoaWZ0KDQsIDApOyAvLyB2aWV3IGZpcnN0IGNvbFxuXHRvLndyaXRlX3NoaWZ0KDEsIDApOyAvLyBncmlkbGluZSBjb2xvciBJQ1Zcblx0by53cml0ZV9zaGlmdCgxLCAwKTtcblx0by53cml0ZV9zaGlmdCgyLCAwKTtcblx0by53cml0ZV9zaGlmdCgyLCAxMDApOyAvLyB6b29tIHNjYWxlXG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgMCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMCk7IC8vIHdvcmtib29rIHZpZXcgaWRcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuMzA5IEJydENlbGxJZ25vcmVFQyAqL1xuZnVuY3Rpb24gd3JpdGVfQnJ0Q2VsbElnbm9yZUVDKHJlZikge1xuXHR2YXIgbyA9IG5ld19idWYoMjQpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIDQpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIDEpO1xuXHR3cml0ZV9VbmNoZWNrZWRSZlgocmVmLCBvKTtcblx0cmV0dXJuIG87XG59XG5cbi8qIFtNUy1YTFNCXSAyLjQuNzQ4IEJydFNoZWV0UHJvdGVjdGlvbiAqL1xuZnVuY3Rpb24gd3JpdGVfQnJ0U2hlZXRQcm90ZWN0aW9uKHNwLCBvKSB7XG5cdGlmKG8gPT0gbnVsbCkgbyA9IG5ld19idWYoMTYqNCsyKTtcblx0by53cml0ZV9zaGlmdCgyLCBzcC5wYXNzd29yZCA/IGNyeXB0b19DcmVhdGVQYXNzd29yZFZlcmlmaWVyX01ldGhvZDEoc3AucGFzc3dvcmQpIDogMCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMSk7IC8vIHRoaXMgcmVjb3JkIHNob3VsZCBub3QgYmUgd3JpdHRlbiBpZiBubyBwcm90ZWN0aW9uXG5cdFtcblx0XHRbXCJvYmplY3RzXCIsICAgICAgICAgICAgIGZhbHNlXSwgLy8gZk9iamVjdHNcblx0XHRbXCJzY2VuYXJpb3NcIiwgICAgICAgICAgIGZhbHNlXSwgLy8gZlNjZW5hcmlvc1xuXHRcdFtcImZvcm1hdENlbGxzXCIsICAgICAgICAgIHRydWVdLCAvLyBmRm9ybWF0Q2VsbHNcblx0XHRbXCJmb3JtYXRDb2x1bW5zXCIsICAgICAgICB0cnVlXSwgLy8gZkZvcm1hdENvbHVtbnNcblx0XHRbXCJmb3JtYXRSb3dzXCIsICAgICAgICAgICB0cnVlXSwgLy8gZkZvcm1hdFJvd3Ncblx0XHRbXCJpbnNlcnRDb2x1bW5zXCIsICAgICAgICB0cnVlXSwgLy8gZkluc2VydENvbHVtbnNcblx0XHRbXCJpbnNlcnRSb3dzXCIsICAgICAgICAgICB0cnVlXSwgLy8gZkluc2VydFJvd3Ncblx0XHRbXCJpbnNlcnRIeXBlcmxpbmtzXCIsICAgICB0cnVlXSwgLy8gZkluc2VydEh5cGVybGlua3Ncblx0XHRbXCJkZWxldGVDb2x1bW5zXCIsICAgICAgICB0cnVlXSwgLy8gZkRlbGV0ZUNvbHVtbnNcblx0XHRbXCJkZWxldGVSb3dzXCIsICAgICAgICAgICB0cnVlXSwgLy8gZkRlbGV0ZVJvd3Ncblx0XHRbXCJzZWxlY3RMb2NrZWRDZWxsc1wiLCAgIGZhbHNlXSwgLy8gZlNlbExvY2tlZENlbGxzXG5cdFx0W1wic29ydFwiLCAgICAgICAgICAgICAgICAgdHJ1ZV0sIC8vIGZTb3J0XG5cdFx0W1wiYXV0b0ZpbHRlclwiLCAgICAgICAgICAgdHJ1ZV0sIC8vIGZBdXRvRmlsdGVyXG5cdFx0W1wicGl2b3RUYWJsZXNcIiwgICAgICAgICAgdHJ1ZV0sIC8vIGZQaXZvdFRhYmxlc1xuXHRcdFtcInNlbGVjdFVubG9ja2VkQ2VsbHNcIiwgZmFsc2VdICAvLyBmU2VsVW5sb2NrZWRDZWxsc1xuXHRdLmZvckVhY2goZnVuY3Rpb24obikge1xuXHRcdC8qOjogaWYobyA9PSBudWxsKSB0aHJvdyBcInVucmVhY2hhYmxlXCI7ICovXG5cdFx0aWYoblsxXSkgby53cml0ZV9zaGlmdCg0LCBzcFtuWzBdXSAhPSBudWxsICYmICFzcFtuWzBdXSA/IDEgOiAwKTtcblx0XHRlbHNlICAgICAgby53cml0ZV9zaGlmdCg0LCBzcFtuWzBdXSAhPSBudWxsICYmIHNwW25bMF1dID8gMCA6IDEpO1xuXHR9KTtcblx0cmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIHBhcnNlX0JydERWYWwoLypkYXRhLCBsZW5ndGgsIG9wdHMqLykge1xufVxuZnVuY3Rpb24gcGFyc2VfQnJ0RFZhbDE0KC8qZGF0YSwgbGVuZ3RoLCBvcHRzKi8pIHtcbn1cbi8qIFtNUy1YTFNCXSAyLjEuNy42MSBXb3Jrc2hlZXQgKi9cbmZ1bmN0aW9uIHBhcnNlX3dzX2JpbihkYXRhLCBfb3B0cywgaWR4LCByZWxzLCB3Yi8qOldCV0JQcm9wcyovLCB0aGVtZXMsIHN0eWxlcykvKjpXb3Jrc2hlZXQqLyB7XG5cdGlmKCFkYXRhKSByZXR1cm4gZGF0YTtcblx0dmFyIG9wdHMgPSBfb3B0cyB8fCB7fTtcblx0aWYoIXJlbHMpIHJlbHMgPSB7JyFpZCc6e319O1xuXHRpZihERU5TRSAhPSBudWxsICYmIG9wdHMuZGVuc2UgPT0gbnVsbCkgb3B0cy5kZW5zZSA9IERFTlNFO1xuXHR2YXIgcy8qOldvcmtzaGVldCovID0gKHt9KTsgaWYob3B0cy5kZW5zZSkgc1tcIiFkYXRhXCJdID0gW107XG5cblx0dmFyIHJlZjtcblx0dmFyIHJlZmd1ZXNzID0ge3M6IHtyOjIwMDAwMDAsIGM6MjAwMDAwMH0sIGU6IHtyOjAsIGM6MH0gfTtcblxuXHR2YXIgc3RhdGUvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0dmFyIHBhc3MgPSBmYWxzZSwgZW5kID0gZmFsc2U7XG5cdHZhciByb3csIHAsIGNmLCBSLCBDLCBhZGRyLCBzc3RyLCByciwgY2VsbC8qOkNlbGwqLztcblx0dmFyIG1lcmdlcy8qOkFycmF5PFJhbmdlPiovID0gW107XG5cdG9wdHMuYmlmZiA9IDEyO1xuXHRvcHRzWychcm93J10gPSAwO1xuXG5cdHZhciBhaSA9IDAsIGFmID0gZmFsc2U7XG5cblx0dmFyIGFycmF5Zi8qOkFycmF5PFtSYW5nZSwgc3RyaW5nXT4qLyA9IFtdO1xuXHR2YXIgc2hhcmVkZiA9IHt9O1xuXHR2YXIgc3VwYm9va3MgPSBvcHRzLnN1cGJvb2tzIHx8IC8qOjooKi93Yi8qOjogOmFueSkqLy5zdXBib29rcyB8fCAoW1tdXS8qOmFueSovKTtcblx0c3VwYm9va3Muc2hhcmVkZiA9IHNoYXJlZGY7XG5cdHN1cGJvb2tzLmFycmF5ZiA9IGFycmF5Zjtcblx0c3VwYm9va3MuU2hlZXROYW1lcyA9IHdiLlNoZWV0TmFtZXMgfHwgd2IuU2hlZXRzLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiB4Lm5hbWU7IH0pO1xuXHRpZighb3B0cy5zdXBib29rcykge1xuXHRcdG9wdHMuc3VwYm9va3MgPSBzdXBib29rcztcblx0XHRpZih3Yi5OYW1lcykgZm9yKHZhciBpID0gMDsgaSA8IHdiLk5hbWVzLmxlbmd0aDsgKytpKSBzdXBib29rc1swXVtpKzFdID0gd2IuTmFtZXNbaV07XG5cdH1cblxuXHR2YXIgY29saW5mby8qOkFycmF5PENvbEluZm8+Ki8gPSBbXSwgcm93aW5mby8qOkFycmF5PFJvd0luZm8+Ki8gPSBbXTtcblx0dmFyIHNlZW5jb2wgPSBmYWxzZTtcblxuXHRYTFNCUmVjb3JkRW51bVsweDAwMTBdID0geyBuOlwiQnJ0U2hvcnRSZWFsXCIsIGY6cGFyc2VfQnJ0U2hvcnRSZWFsIH07XG5cblx0dmFyIGNtLCB2bTtcblx0dmFyIGRhdGUxOTA0ID0gMTQ2MiAqICshISgod2J8fHt9KS5XQlByb3BzfHx7fSkuZGF0ZTE5MDQ7XG5cblx0cmVjb3JkaG9wcGVyKGRhdGEsIGZ1bmN0aW9uIHdzX3BhcnNlKHZhbCwgUlIsIFJUKSB7XG5cdFx0aWYoZW5kKSByZXR1cm47XG5cdFx0c3dpdGNoKFJUKSB7XG5cdFx0XHRjYXNlIDB4MDA5NDogLyogJ0JydFdzRGltJyAqL1xuXHRcdFx0XHRyZWYgPSB2YWw7IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwMDA6IC8qICdCcnRSb3dIZHInICovXG5cdFx0XHRcdHJvdyA9IHZhbDtcblx0XHRcdFx0aWYob3B0cy5zaGVldFJvd3MgJiYgb3B0cy5zaGVldFJvd3MgPD0gcm93LnIpIGVuZD10cnVlO1xuXHRcdFx0XHRyciA9IGVuY29kZV9yb3coUiA9IHJvdy5yKTtcblx0XHRcdFx0b3B0c1snIXJvdyddID0gcm93LnI7XG5cdFx0XHRcdGlmKHZhbC5oaWRkZW4gfHwgdmFsLmhwdCB8fCB2YWwubGV2ZWwgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGlmKHZhbC5ocHQpIHZhbC5ocHggPSBwdDJweCh2YWwuaHB0KTtcblx0XHRcdFx0XHRyb3dpbmZvW3ZhbC5yXSA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAweDAwMDI6IC8qICdCcnRDZWxsUmsnICovXG5cdFx0XHRjYXNlIDB4MDAwMzogLyogJ0JydENlbGxFcnJvcicgKi9cblx0XHRcdGNhc2UgMHgwMDA0OiAvKiAnQnJ0Q2VsbEJvb2wnICovXG5cdFx0XHRjYXNlIDB4MDAwNTogLyogJ0JydENlbGxSZWFsJyAqL1xuXHRcdFx0Y2FzZSAweDAwMDY6IC8qICdCcnRDZWxsU3QnICovXG5cdFx0XHRjYXNlIDB4MDAwNzogLyogJ0JydENlbGxJc3N0JyAqL1xuXHRcdFx0Y2FzZSAweDAwMDg6IC8qICdCcnRGbWxhU3RyaW5nJyAqL1xuXHRcdFx0Y2FzZSAweDAwMDk6IC8qICdCcnRGbWxhTnVtJyAqL1xuXHRcdFx0Y2FzZSAweDAwMEE6IC8qICdCcnRGbWxhQm9vbCcgKi9cblx0XHRcdGNhc2UgMHgwMDBCOiAvKiAnQnJ0Rm1sYUVycm9yJyAqL1xuXHRcdFx0Y2FzZSAweDAwMEQ6IC8qICdCcnRTaG9ydFJrJyAqL1xuXHRcdFx0Y2FzZSAweDAwMEU6IC8qICdCcnRTaG9ydEVycm9yJyAqL1xuXHRcdFx0Y2FzZSAweDAwMEY6IC8qICdCcnRTaG9ydEJvb2wnICovXG5cdFx0XHRjYXNlIDB4MDAxMDogLyogJ0JydFNob3J0UmVhbCcgKi9cblx0XHRcdGNhc2UgMHgwMDExOiAvKiAnQnJ0U2hvcnRTdCcgKi9cblx0XHRcdGNhc2UgMHgwMDEyOiAvKiAnQnJ0U2hvcnRJc3N0JyAqL1xuXHRcdFx0Y2FzZSAweDAwM0U6IC8qICdCcnRDZWxsUlN0cmluZycgKi9cblx0XHRcdFx0cCA9ICh7dDp2YWxbMl19Lyo6YW55Ki8pO1xuXHRcdFx0XHRzd2l0Y2godmFsWzJdKSB7XG5cdFx0XHRcdFx0Y2FzZSAnbic6IHAudiA9IHZhbFsxXTsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncyc6IHNzdHIgPSBzdHJzW3ZhbFsxXV07IHAudiA9IHNzdHIudDsgcC5yID0gc3N0ci5yOyBicmVhaztcblx0XHRcdFx0XHRjYXNlICdiJzogcC52ID0gdmFsWzFdID8gdHJ1ZSA6IGZhbHNlOyBicmVhaztcblx0XHRcdFx0XHRjYXNlICdlJzogcC52ID0gdmFsWzFdOyBpZihvcHRzLmNlbGxUZXh0ICE9PSBmYWxzZSkgcC53ID0gQkVycltwLnZdOyBicmVhaztcblx0XHRcdFx0XHRjYXNlICdzdHInOiBwLnQgPSAncyc7IHAudiA9IHZhbFsxXTsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnaXMnOiBwLnQgPSAncyc7IHAudiA9IHZhbFsxXS50OyBicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZigoY2YgPSBzdHlsZXMuQ2VsbFhmW3ZhbFswXS5pU3R5bGVSZWZdKSkgc2FmZV9mb3JtYXQocCxjZi5udW1GbXRJZCxudWxsLG9wdHMsIHRoZW1lcywgc3R5bGVzLCBkYXRlMTkwND4wKTtcblx0XHRcdFx0QyA9IHZhbFswXS5jID09IC0xID8gQyArIDEgOiB2YWxbMF0uYztcblx0XHRcdFx0aWYob3B0cy5kZW5zZSkgeyBpZighc1tcIiFkYXRhXCJdW1JdKSBzW1wiIWRhdGFcIl1bUl0gPSBbXTsgc1tcIiFkYXRhXCJdW1JdW0NdID0gcDsgfVxuXHRcdFx0XHRlbHNlIHNbZW5jb2RlX2NvbChDKSArIHJyXSA9IHA7XG5cdFx0XHRcdGlmKG9wdHMuY2VsbEZvcm11bGEpIHtcblx0XHRcdFx0XHRhZiA9IGZhbHNlO1xuXHRcdFx0XHRcdGZvcihhaSA9IDA7IGFpIDwgYXJyYXlmLmxlbmd0aDsgKythaSkge1xuXHRcdFx0XHRcdFx0dmFyIGFpaSA9IGFycmF5ZlthaV07XG5cdFx0XHRcdFx0XHRpZihyb3cuciA+PSBhaWlbMF0ucy5yICYmIHJvdy5yIDw9IGFpaVswXS5lLnIpXG5cdFx0XHRcdFx0XHRcdGlmKEMgPj0gYWlpWzBdLnMuYyAmJiBDIDw9IGFpaVswXS5lLmMpIHtcblx0XHRcdFx0XHRcdFx0XHRwLkYgPSBlbmNvZGVfcmFuZ2UoYWlpWzBdKTsgYWYgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKCFhZiAmJiB2YWwubGVuZ3RoID4gMykgcC5mID0gdmFsWzNdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYocmVmZ3Vlc3Mucy5yID4gcm93LnIpIHJlZmd1ZXNzLnMuciA9IHJvdy5yO1xuXHRcdFx0XHRpZihyZWZndWVzcy5zLmMgPiBDKSByZWZndWVzcy5zLmMgPSBDO1xuXHRcdFx0XHRpZihyZWZndWVzcy5lLnIgPCByb3cucikgcmVmZ3Vlc3MuZS5yID0gcm93LnI7XG5cdFx0XHRcdGlmKHJlZmd1ZXNzLmUuYyA8IEMpIHJlZmd1ZXNzLmUuYyA9IEM7XG5cdFx0XHRcdGlmKG9wdHMuY2VsbERhdGVzICYmIGNmICYmIHAudCA9PSAnbicgJiYgZm10X2lzX2RhdGUodGFibGVfZm10W2NmLm51bUZtdElkXSkpIHtcblx0XHRcdFx0XHR2YXIgX2QgPSBTU0ZfcGFyc2VfZGF0ZV9jb2RlKHAudiArIGRhdGUxOTA0KTsgaWYoX2QpIHsgcC50ID0gJ2QnOyBwLnYgPSBuZXcgRGF0ZShEYXRlLlVUQyhfZC55LCBfZC5tLTEsX2QuZCxfZC5ILF9kLk0sX2QuUyxfZC51KSk7IH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZihjbSkge1xuXHRcdFx0XHRcdGlmKGNtLnR5cGUgPT0gJ1hMREFQUicpIHAuRCA9IHRydWU7XG5cdFx0XHRcdFx0Y20gPSB2b2lkIDA7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYodm0pIHZtID0gdm9pZCAwO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAweDAwMDE6IC8qICdCcnRDZWxsQmxhbmsnICovXG5cdFx0XHRjYXNlIDB4MDAwQzogLyogJ0JydFNob3J0QmxhbmsnICovXG5cdFx0XHRcdGlmKCFvcHRzLnNoZWV0U3R1YnMgfHwgcGFzcykgYnJlYWs7XG5cdFx0XHRcdHAgPSAoe3Q6J3onLHY6dm9pZCAwfS8qOmFueSovKTtcblx0XHRcdFx0QyA9IHZhbFswXS5jID09IC0xID8gQyArIDEgOiB2YWxbMF0uYztcblx0XHRcdFx0aWYob3B0cy5kZW5zZSkgeyBpZighc1tcIiFkYXRhXCJdW1JdKSBzW1wiIWRhdGFcIl1bUl0gPSBbXTsgc1tcIiFkYXRhXCJdW1JdW0NdID0gcDsgfVxuXHRcdFx0XHRlbHNlIHNbZW5jb2RlX2NvbChDKSArIHJyXSA9IHA7XG5cdFx0XHRcdGlmKHJlZmd1ZXNzLnMuciA+IHJvdy5yKSByZWZndWVzcy5zLnIgPSByb3cucjtcblx0XHRcdFx0aWYocmVmZ3Vlc3Mucy5jID4gQykgcmVmZ3Vlc3Mucy5jID0gQztcblx0XHRcdFx0aWYocmVmZ3Vlc3MuZS5yIDwgcm93LnIpIHJlZmd1ZXNzLmUuciA9IHJvdy5yO1xuXHRcdFx0XHRpZihyZWZndWVzcy5lLmMgPCBDKSByZWZndWVzcy5lLmMgPSBDO1xuXHRcdFx0XHRpZihjbSkge1xuXHRcdFx0XHRcdGlmKGNtLnR5cGUgPT0gJ1hMREFQUicpIHAuRCA9IHRydWU7XG5cdFx0XHRcdFx0Y20gPSB2b2lkIDA7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYodm0pIHZtID0gdm9pZCAwO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAweDAwQjA6IC8qICdCcnRNZXJnZUNlbGwnICovXG5cdFx0XHRcdG1lcmdlcy5wdXNoKHZhbCk7IGJyZWFrO1xuXG5cdFx0XHRjYXNlIDB4MDAzMTogeyAvKiAnQnJ0Q2VsbE1ldGEnICovXG5cdFx0XHRcdGNtID0gKChvcHRzLnhsbWV0YXx8e30pLkNlbGx8fFtdKVt2YWwtMV07XG5cdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRjYXNlIDB4MDFFRTogLyogJ0JydEhMaW5rJyAqL1xuXHRcdFx0XHR2YXIgcmVsID0gcmVsc1snIWlkJ11bdmFsLnJlbElkXTtcblx0XHRcdFx0aWYocmVsKSB7XG5cdFx0XHRcdFx0dmFsLlRhcmdldCA9IHJlbC5UYXJnZXQ7XG5cdFx0XHRcdFx0aWYodmFsLmxvYykgdmFsLlRhcmdldCArPSBcIiNcIit2YWwubG9jO1xuXHRcdFx0XHRcdHZhbC5SZWwgPSByZWw7XG5cdFx0XHRcdH0gZWxzZSBpZih2YWwucmVsSWQgPT0gJycpIHtcblx0XHRcdFx0XHR2YWwuVGFyZ2V0ID0gXCIjXCIgKyB2YWwubG9jO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZvcihSPXZhbC5yZngucy5yO1I8PXZhbC5yZnguZS5yOysrUikgZm9yKEM9dmFsLnJmeC5zLmM7Qzw9dmFsLnJmeC5lLmM7KytDKSB7XG5cdFx0XHRcdFx0aWYob3B0cy5kZW5zZSkge1xuXHRcdFx0XHRcdFx0aWYoIXNbXCIhZGF0YVwiXVtSXSkgc1tcIiFkYXRhXCJdW1JdID0gW107XG5cdFx0XHRcdFx0XHRpZighc1tcIiFkYXRhXCJdW1JdW0NdKSBzW1wiIWRhdGFcIl1bUl1bQ10gPSB7dDoneicsdjp1bmRlZmluZWR9O1xuXHRcdFx0XHRcdFx0c1tcIiFkYXRhXCJdW1JdW0NdLmwgPSB2YWw7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGFkZHIgPSBlbmNvZGVfY29sKEMpICsgZW5jb2RlX3JvdyhSKTtcblx0XHRcdFx0XHRcdGlmKCFzW2FkZHJdKSBzW2FkZHJdID0ge3Q6J3onLHY6dW5kZWZpbmVkfTtcblx0XHRcdFx0XHRcdHNbYWRkcl0ubCA9IHZhbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMUFBOiAvKiAnQnJ0QXJyRm1sYScgKi9cblx0XHRcdFx0aWYoIW9wdHMuY2VsbEZvcm11bGEpIGJyZWFrO1xuXHRcdFx0XHRhcnJheWYucHVzaCh2YWwpO1xuXHRcdFx0XHRjZWxsID0gKChvcHRzLmRlbnNlID8gc1tcIiFkYXRhXCJdW1JdW0NdIDogc1tlbmNvZGVfY29sKEMpICsgcnJdKS8qOmFueSovKTtcblx0XHRcdFx0Y2VsbC5mID0gc3RyaW5naWZ5X2Zvcm11bGEodmFsWzFdLCByZWZndWVzcywge3I6cm93LnIsIGM6Q30sIHN1cGJvb2tzLCBvcHRzKTtcblx0XHRcdFx0Y2VsbC5GID0gZW5jb2RlX3JhbmdlKHZhbFswXSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAxQUI6IC8qICdCcnRTaHJGbWxhJyAqL1xuXHRcdFx0XHRpZighb3B0cy5jZWxsRm9ybXVsYSkgYnJlYWs7XG5cdFx0XHRcdHNoYXJlZGZbZW5jb2RlX2NlbGwodmFsWzBdLnMpXSA9IHZhbFsxXTtcblx0XHRcdFx0Y2VsbCA9IChvcHRzLmRlbnNlID8gc1tcIiFkYXRhXCJdW1JdW0NdIDogc1tlbmNvZGVfY29sKEMpICsgcnJdKTtcblx0XHRcdFx0Y2VsbC5mID0gc3RyaW5naWZ5X2Zvcm11bGEodmFsWzFdLCByZWZndWVzcywge3I6cm93LnIsIGM6Q30sIHN1cGJvb2tzLCBvcHRzKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8qIGlkZW50aWNhbCB0byAnQ29sSW5mbycgaW4gWExTICovXG5cdFx0XHRjYXNlIDB4MDAzQzogLyogJ0JydENvbEluZm8nICovXG5cdFx0XHRcdGlmKCFvcHRzLmNlbGxTdHlsZXMpIGJyZWFrO1xuXHRcdFx0XHR3aGlsZSh2YWwuZSA+PSB2YWwucykge1xuXHRcdFx0XHRcdGNvbGluZm9bdmFsLmUtLV0gPSB7IHdpZHRoOiB2YWwudy8yNTYsIGhpZGRlbjogISEodmFsLmZsYWdzICYgMHgwMSksIGxldmVsOiB2YWwubGV2ZWwgfTtcblx0XHRcdFx0XHRpZighc2VlbmNvbCkgeyBzZWVuY29sID0gdHJ1ZTsgZmluZF9tZHdfY29sdyh2YWwudy8yNTYpOyB9XG5cdFx0XHRcdFx0cHJvY2Vzc19jb2woY29saW5mb1t2YWwuZSsxXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMjI3OiAvKiAnQnJ0TGVnYWN5RHJhd2luZycgKi9cblx0XHRcdFx0aWYodmFsKSBzW1wiIWxlZ3JlbFwiXSA9IHZhbDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMEExOiAvKiAnQnJ0QmVnaW5BRmlsdGVyJyAqL1xuXHRcdFx0XHRzWychYXV0b2ZpbHRlciddID0geyByZWY6ZW5jb2RlX3JhbmdlKHZhbCkgfTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMURDOiAvKiAnQnJ0TWFyZ2lucycgKi9cblx0XHRcdFx0c1snIW1hcmdpbnMnXSA9IHZhbDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMDkzOiAvKiAnQnJ0V3NQcm9wJyAqL1xuXHRcdFx0XHRpZighd2IuU2hlZXRzW2lkeF0pIHdiLlNoZWV0c1tpZHhdID0ge307XG5cdFx0XHRcdGlmKHZhbC5uYW1lKSB3Yi5TaGVldHNbaWR4XS5Db2RlTmFtZSA9IHZhbC5uYW1lO1xuXHRcdFx0XHRpZih2YWwuYWJvdmUgfHwgdmFsLmxlZnQpIHNbJyFvdXRsaW5lJ10gPSB7IGFib3ZlOiB2YWwuYWJvdmUsIGxlZnQ6IHZhbC5sZWZ0IH07XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDB4MDA4OTogLyogJ0JydEJlZ2luV3NWaWV3JyAqL1xuXHRcdFx0XHRpZighd2IuVmlld3MpIHdiLlZpZXdzID0gW3t9XTtcblx0XHRcdFx0aWYoIXdiLlZpZXdzWzBdKSB3Yi5WaWV3c1swXSA9IHt9O1xuXHRcdFx0XHRpZih2YWwuUlRMKSB3Yi5WaWV3c1swXS5SVEwgPSB0cnVlO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAweDAxRTU6IC8qICdCcnRXc0ZtdEluZm8nICovXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDB4MDA0MDogLyogJ0JydERWYWwnICovXG5cdFx0XHRjYXNlIDB4MDQxRDogLyogJ0JydERWYWwxNCcgKi9cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMDk3OiAvKiAnQnJ0UGFuZScgKi9cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDB4MDA5ODogLyogJ0JydFNlbCcgKi9cblx0XHRcdGNhc2UgMHgwMEFGOiAvKiAnQnJ0QUZpbHRlckRhdGVHcm91cEl0ZW0nICovXG5cdFx0XHRjYXNlIDB4MDI4NDogLyogJ0JydEFjdGl2ZVgnICovXG5cdFx0XHRjYXNlIDB4MDI3MTogLyogJ0JydEJpZ05hbWUnICovXG5cdFx0XHRjYXNlIDB4MDIzMjogLyogJ0JydEJrSGltJyAqL1xuXHRcdFx0Y2FzZSAweDAxOEM6IC8qICdCcnRCcmsnICovXG5cdFx0XHRjYXNlIDB4MDQ1ODogLyogJ0JydENGSWNvbicgKi9cblx0XHRcdGNhc2UgMHgwNDdBOiAvKiAnQnJ0Q0ZSdWxlRXh0JyAqL1xuXHRcdFx0Y2FzZSAweDAxRDc6IC8qICdCcnRDRlZPJyAqL1xuXHRcdFx0Y2FzZSAweDA0MUE6IC8qICdCcnRDRlZPMTQnICovXG5cdFx0XHRjYXNlIDB4MDI4OTogLyogJ0JydENlbGxJZ25vcmVFQycgKi9cblx0XHRcdGNhc2UgMHgwNDUxOiAvKiAnQnJ0Q2VsbElnbm9yZUVDMTQnICovXG5cdFx0XHRjYXNlIDB4MDI0RDogLyogJ0JydENlbGxTbWFydFRhZ1Byb3BlcnR5JyAqL1xuXHRcdFx0Y2FzZSAweDAyNUY6IC8qICdCcnRDZWxsV2F0Y2gnICovXG5cdFx0XHRjYXNlIDB4MDIzNDogLyogJ0JydENvbG9yJyAqL1xuXHRcdFx0Y2FzZSAweDA0MUY6IC8qICdCcnRDb2xvcjE0JyAqL1xuXHRcdFx0Y2FzZSAweDAwQTg6IC8qICdCcnRDb2xvckZpbHRlcicgKi9cblx0XHRcdGNhc2UgMHgwMEFFOiAvKiAnQnJ0Q3VzdG9tRmlsdGVyJyAqL1xuXHRcdFx0Y2FzZSAweDA0OUM6IC8qICdCcnRDdXN0b21GaWx0ZXIxNCcgKi9cblx0XHRcdGNhc2UgMHgwMUYzOiAvKiAnQnJ0RFJlZicgKi9cblx0XHRcdGNhc2UgMHgwMUZCOiAvKiAnQnJ0RFhGJyAqL1xuXHRcdFx0Y2FzZSAweDAyMjY6IC8qICdCcnREcmF3aW5nJyAqL1xuXHRcdFx0Y2FzZSAweDAwQUI6IC8qICdCcnREeW5hbWljRmlsdGVyJyAqL1xuXHRcdFx0Y2FzZSAweDAwQTc6IC8qICdCcnRGaWx0ZXInICovXG5cdFx0XHRjYXNlIDB4MDQ5OTogLyogJ0JydEZpbHRlcjE0JyAqL1xuXHRcdFx0Y2FzZSAweDAwQTk6IC8qICdCcnRJY29uRmlsdGVyJyAqL1xuXHRcdFx0Y2FzZSAweDA0OUQ6IC8qICdCcnRJY29uRmlsdGVyMTQnICovXG5cdFx0XHRjYXNlIDB4MDIyODogLyogJ0JydExlZ2FjeURyYXdpbmdIRicgKi9cblx0XHRcdGNhc2UgMHgwMjk1OiAvKiAnQnJ0TGlzdFBhcnQnICovXG5cdFx0XHRjYXNlIDB4MDI3RjogLyogJ0JydE9sZU9iamVjdCcgKi9cblx0XHRcdGNhc2UgMHgwMURFOiAvKiAnQnJ0UGFnZVNldHVwJyAqL1xuXHRcdFx0Y2FzZSAweDAyMTk6IC8qICdCcnRQaG9uZXRpY0luZm8nICovXG5cdFx0XHRjYXNlIDB4MDFERDogLyogJ0JydFByaW50T3B0aW9ucycgKi9cblx0XHRcdGNhc2UgMHgwMjE4OiAvKiAnQnJ0UmFuZ2VQcm90ZWN0aW9uJyAqL1xuXHRcdFx0Y2FzZSAweDA0NEY6IC8qICdCcnRSYW5nZVByb3RlY3Rpb24xNCcgKi9cblx0XHRcdGNhc2UgMHgwMkE4OiAvKiAnQnJ0UmFuZ2VQcm90ZWN0aW9uSXNvJyAqL1xuXHRcdFx0Y2FzZSAweDA0NTA6IC8qICdCcnRSYW5nZVByb3RlY3Rpb25Jc28xNCcgKi9cblx0XHRcdGNhc2UgMHgwNDAwOiAvKiAnQnJ0UndEZXNjZW50JyAqL1xuXHRcdFx0Y2FzZSAweDAyOTc6IC8qICdCcnRTaGVldENhbGNQcm9wJyAqL1xuXHRcdFx0Y2FzZSAweDAyMTc6IC8qICdCcnRTaGVldFByb3RlY3Rpb24nICovXG5cdFx0XHRjYXNlIDB4MDJBNjogLyogJ0JydFNoZWV0UHJvdGVjdGlvbklzbycgKi9cblx0XHRcdGNhc2UgMHgwMUY4OiAvKiAnQnJ0U2xjJyAqL1xuXHRcdFx0Y2FzZSAweDA0MTM6IC8qICdCcnRTcGFya2xpbmUnICovXG5cdFx0XHRjYXNlIDB4MDFBQzogLyogJ0JydFRhYmxlJyAqL1xuXHRcdFx0Y2FzZSAweDAwQUE6IC8qICdCcnRUb3AxMEZpbHRlcicgKi9cblx0XHRcdGNhc2UgMHgwQzAwOiAvKiAnQnJ0VWlkJyAqL1xuXHRcdFx0Y2FzZSAweDAwMzI6IC8qICdCcnRWYWx1ZU1ldGEnICovXG5cdFx0XHRjYXNlIDB4MDgxNjogLyogJ0JydFdlYkV4dGVuc2lvbicgKi9cblx0XHRcdGNhc2UgMHgwNDE1OiAvKiAnQnJ0V3NGbXRJbmZvRXgxNCcgKi9cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMDIzOiAvKiAnQnJ0RlJUQmVnaW4nICovXG5cdFx0XHRcdHBhc3MgPSB0cnVlOyBicmVhaztcblx0XHRcdGNhc2UgMHgwMDI0OiAvKiAnQnJ0RlJURW5kJyAqL1xuXHRcdFx0XHRwYXNzID0gZmFsc2U7IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwMjU6IC8qICdCcnRBQ0JlZ2luJyAqL1xuXHRcdFx0XHRzdGF0ZS5wdXNoKFJUKTsgcGFzcyA9IHRydWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwMjY6IC8qICdCcnRBQ0VuZCcgKi9cblx0XHRcdFx0c3RhdGUucG9wKCk7IHBhc3MgPSBmYWxzZTsgYnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGlmKFJSLlQpey8qIGVtcHR5ICovfVxuXHRcdFx0XHRlbHNlIGlmKCFwYXNzIHx8IG9wdHMuV1RGKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHJlY29yZCAweFwiICsgUlQudG9TdHJpbmcoMTYpKTtcblx0XHR9XG5cdH0sIG9wdHMpO1xuXG5cdGRlbGV0ZSBvcHRzLnN1cGJvb2tzO1xuXHRkZWxldGUgb3B0c1snIXJvdyddO1xuXG5cdGlmKCFzW1wiIXJlZlwiXSAmJiAocmVmZ3Vlc3Mucy5yIDwgMjAwMDAwMCB8fCByZWYgJiYgKHJlZi5lLnIgPiAwIHx8IHJlZi5lLmMgPiAwIHx8IHJlZi5zLnIgPiAwIHx8IHJlZi5zLmMgPiAwKSkpIHNbXCIhcmVmXCJdID0gZW5jb2RlX3JhbmdlKHJlZiB8fCByZWZndWVzcyk7XG5cdGlmKG9wdHMuc2hlZXRSb3dzICYmIHNbXCIhcmVmXCJdKSB7XG5cdFx0dmFyIHRtcHJlZiA9IHNhZmVfZGVjb2RlX3JhbmdlKHNbXCIhcmVmXCJdKTtcblx0XHRpZihvcHRzLnNoZWV0Um93cyA8PSArdG1wcmVmLmUucikge1xuXHRcdFx0dG1wcmVmLmUuciA9IG9wdHMuc2hlZXRSb3dzIC0gMTtcblx0XHRcdGlmKHRtcHJlZi5lLnIgPiByZWZndWVzcy5lLnIpIHRtcHJlZi5lLnIgPSByZWZndWVzcy5lLnI7XG5cdFx0XHRpZih0bXByZWYuZS5yIDwgdG1wcmVmLnMucikgdG1wcmVmLnMuciA9IHRtcHJlZi5lLnI7XG5cdFx0XHRpZih0bXByZWYuZS5jID4gcmVmZ3Vlc3MuZS5jKSB0bXByZWYuZS5jID0gcmVmZ3Vlc3MuZS5jO1xuXHRcdFx0aWYodG1wcmVmLmUuYyA8IHRtcHJlZi5zLmMpIHRtcHJlZi5zLmMgPSB0bXByZWYuZS5jO1xuXHRcdFx0c1tcIiFmdWxscmVmXCJdID0gc1tcIiFyZWZcIl07XG5cdFx0XHRzW1wiIXJlZlwiXSA9IGVuY29kZV9yYW5nZSh0bXByZWYpO1xuXHRcdH1cblx0fVxuXHRpZihtZXJnZXMubGVuZ3RoID4gMCkgc1tcIiFtZXJnZXNcIl0gPSBtZXJnZXM7XG5cdGlmKGNvbGluZm8ubGVuZ3RoID4gMCkgc1tcIiFjb2xzXCJdID0gY29saW5mbztcblx0aWYocm93aW5mby5sZW5ndGggPiAwKSBzW1wiIXJvd3NcIl0gPSByb3dpbmZvO1xuXHRpZihyZWxzWychaWQnXVtzWychbGVncmVsJ11dKSBzWychbGVnZHJhd2VsJ10gPSByZWxzWychaWQnXVtzWychbGVncmVsJ11dO1xuXHRyZXR1cm4gcztcbn1cblxuLyogVE9ETzogc29tZXRoaW5nIHVzZWZ1bCAtLSB0aGlzIGlzIGEgc3R1YiAqL1xuZnVuY3Rpb24gd3JpdGVfd3NfYmluX2NlbGwoYmEvKjpCdWZBcnJheSovLCBjZWxsLyo6Q2VsbCovLCBSLyo6bnVtYmVyKi8sIEMvKjpudW1iZXIqLywgb3B0cywgd3MvKjpXb3Jrc2hlZXQqLywgbGFzdF9zZWVuLyo6Ym9vbGVhbiovLCBkYXRlMTkwNC8qOmJvb2xlYW4qLykvKjpib29sZWFuKi8ge1xuXHR2YXIgby8qOmFueSovID0gKHtyOlIsIGM6Q30vKjphbnkqLyk7XG5cdGlmKGNlbGwuYykgd3NbJyFjb21tZW50cyddLnB1c2goW2VuY29kZV9jZWxsKG8pLCBjZWxsLmNdKTtcblx0aWYoY2VsbC52ID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblx0dmFyIHZ2ID0gXCJcIjtcblx0c3dpdGNoKGNlbGwudCkge1xuXHRcdGNhc2UgJ2InOiB2diA9IGNlbGwudiA/IFwiMVwiIDogXCIwXCI7IGJyZWFrO1xuXHRcdGNhc2UgJ2QnOiAvLyBubyBCcnRDZWxsRGF0ZSA6KFxuXHRcdFx0Y2VsbCA9IGR1cChjZWxsKTtcblx0XHRcdGNlbGwueiA9IGNlbGwueiB8fCB0YWJsZV9mbXRbMTRdO1xuXHRcdFx0Y2VsbC52ID0gZGF0ZW51bShwYXJzZURhdGUoY2VsbC52LCBkYXRlMTkwNCksIGRhdGUxOTA0KTsgY2VsbC50ID0gJ24nO1xuXHRcdFx0YnJlYWs7XG5cdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdGNhc2UgJ24nOiBjYXNlICdlJzogdnYgPSAnJytjZWxsLnY7IGJyZWFrO1xuXHRcdGRlZmF1bHQ6IHZ2ID0gY2VsbC52OyBicmVhaztcblx0fVxuXHQvKiBUT0RPOiBjZWxsIHN0eWxlICovXG5cdG8ucyA9IGdldF9jZWxsX3N0eWxlKG9wdHMuY2VsbFhmcywgY2VsbCwgb3B0cyk7XG5cdGlmKGNlbGwubCkgd3NbJyFsaW5rcyddLnB1c2goW2VuY29kZV9jZWxsKG8pLCBjZWxsLmxdKTtcblx0c3dpdGNoKGNlbGwudCkge1xuXHRcdGNhc2UgJ3MnOiBjYXNlICdzdHInOlxuXHRcdFx0aWYob3B0cy5ib29rU1NUKSB7XG5cdFx0XHRcdHZ2ID0gZ2V0X3NzdF9pZChvcHRzLlN0cmluZ3MsIChjZWxsLnYgPT0gbnVsbCA/IFwiXCIgOiBTdHJpbmcoY2VsbC52KS8qOmFueSovKSwgb3B0cy5yZXZTdHJpbmdzKTtcblx0XHRcdFx0by50ID0gXCJzXCI7IG8udiA9IHZ2O1xuXHRcdFx0XHRpZihsYXN0X3NlZW4pIHdyaXRlX3JlY29yZChiYSwgMHgwMDEyIC8qIEJydFNob3J0SXNzdCAqLywgd3JpdGVfQnJ0U2hvcnRJc3N0KGNlbGwsIG8pKTtcblx0XHRcdFx0ZWxzZSB3cml0ZV9yZWNvcmQoYmEsIDB4MDAwNyAvKiBCcnRDZWxsSXNzdCAqLywgd3JpdGVfQnJ0Q2VsbElzc3QoY2VsbCwgbykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0by50ID0gXCJzdHJcIjtcblx0XHRcdFx0aWYobGFzdF9zZWVuKSB3cml0ZV9yZWNvcmQoYmEsIDB4MDAxMSAvKiBCcnRTaG9ydFN0ICovLCB3cml0ZV9CcnRTaG9ydFN0KGNlbGwsIG8pKTtcblx0XHRcdFx0ZWxzZSB3cml0ZV9yZWNvcmQoYmEsIDB4MDAwNiAvKiBCcnRDZWxsU3QgKi8sIHdyaXRlX0JydENlbGxTdChjZWxsLCBvKSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRjYXNlICduJzpcblx0XHRcdC8qIFRPRE86IGRldGVybWluZSB0aHJlc2hvbGQgZm9yIFJlYWwgdnMgUksgKi9cblx0XHRcdGlmKGNlbGwudiA9PSAoY2VsbC52IHwgMCkgJiYgY2VsbC52ID4gLTEwMDAgJiYgY2VsbC52IDwgMTAwMCkge1xuXHRcdFx0XHRpZihsYXN0X3NlZW4pIHdyaXRlX3JlY29yZChiYSwgMHgwMDBEIC8qIEJydFNob3J0UmsgKi8sIHdyaXRlX0JydFNob3J0UmsoY2VsbCwgbykpO1xuXHRcdFx0XHRlbHNlIHdyaXRlX3JlY29yZChiYSwgMHgwMDAyIC8qIEJydENlbGxSayAqLywgd3JpdGVfQnJ0Q2VsbFJrKGNlbGwsIG8pKTtcblx0XHRcdH0gZWxzZSBpZighaXNGaW5pdGUoY2VsbC52KSkge1xuXHRcdFx0XHRvLnQgPSBcImVcIjtcblx0XHRcdFx0aWYoaXNOYU4oY2VsbC52KSkge1xuXHRcdFx0XHRcdGlmKGxhc3Rfc2Vlbikgd3JpdGVfcmVjb3JkKGJhLCAweDAwMEUgLyogQnJ0U2hvcnRFcnJvciAqLywgd3JpdGVfQnJ0U2hvcnRFcnJvcih7dDpcImVcIiwgdjogMHgyNH0sIG8pKTsgLy8gI05VTSFcblx0XHRcdFx0XHRlbHNlIHdyaXRlX3JlY29yZChiYSwgMHgwMDAzIC8qIEJydENlbGxFcnJvciAqLywgd3JpdGVfQnJ0Q2VsbEVycm9yKHt0OlwiZVwiLCB2OiAweDI0fSwgbykpOyAvLyAjTlVNIVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmKGxhc3Rfc2Vlbikgd3JpdGVfcmVjb3JkKGJhLCAweDAwMEUgLyogQnJ0U2hvcnRFcnJvciAqLywgd3JpdGVfQnJ0U2hvcnRFcnJvcih7dDpcImVcIiwgdjogMHgwN30sIG8pKTsgLy8gI0RJVi8wIVxuXHRcdFx0XHRcdGVsc2Ugd3JpdGVfcmVjb3JkKGJhLCAweDAwMDMgLyogQnJ0Q2VsbEVycm9yICovLCB3cml0ZV9CcnRDZWxsRXJyb3Ioe3Q6XCJlXCIsIHY6IDB4MDd9LCBvKSk7IC8vICNESVYvMCFcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYobGFzdF9zZWVuKSB3cml0ZV9yZWNvcmQoYmEsIDB4MDAxMCAvKiBCcnRTaG9ydFJlYWwgKi8sIHdyaXRlX0JydFNob3J0UmVhbChjZWxsLCBvKSk7XG5cdFx0XHRcdGVsc2Ugd3JpdGVfcmVjb3JkKGJhLCAweDAwMDUgLyogQnJ0Q2VsbFJlYWwgKi8sIHdyaXRlX0JydENlbGxSZWFsKGNlbGwsIG8pKTtcblx0XHRcdH0gcmV0dXJuIHRydWU7XG5cdFx0Y2FzZSAnYic6XG5cdFx0XHRvLnQgPSBcImJcIjtcblx0XHRcdGlmKGxhc3Rfc2Vlbikgd3JpdGVfcmVjb3JkKGJhLCAweDAwMEYgLyogQnJ0U2hvcnRCb29sICovLCB3cml0ZV9CcnRTaG9ydEJvb2woY2VsbCwgbykpO1xuXHRcdFx0ZWxzZSB3cml0ZV9yZWNvcmQoYmEsIDB4MDAwNCAvKiBCcnRDZWxsQm9vbCAqLywgd3JpdGVfQnJ0Q2VsbEJvb2woY2VsbCwgbykpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0Y2FzZSAnZSc6XG5cdFx0XHRvLnQgPSBcImVcIjtcblx0XHRcdGlmKGxhc3Rfc2Vlbikgd3JpdGVfcmVjb3JkKGJhLCAweDAwMEUgLyogQnJ0U2hvcnRFcnJvciAqLywgd3JpdGVfQnJ0U2hvcnRFcnJvcihjZWxsLCBvKSk7XG5cdFx0XHRlbHNlIHdyaXRlX3JlY29yZChiYSwgMHgwMDAzIC8qIEJydENlbGxFcnJvciAqLywgd3JpdGVfQnJ0Q2VsbEVycm9yKGNlbGwsIG8pKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdGlmKGxhc3Rfc2Vlbikgd3JpdGVfcmVjb3JkKGJhLCAweDAwMEMgLyogQnJ0U2hvcnRCbGFuayAqLywgd3JpdGVfQnJ0U2hvcnRCbGFuayhjZWxsLCBvKSk7XG5cdGVsc2Ugd3JpdGVfcmVjb3JkKGJhLCAweDAwMDEgLyogQnJ0Q2VsbEJsYW5rICovLCB3cml0ZV9CcnRDZWxsQmxhbmsoY2VsbCwgbykpO1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfQ0VMTFRBQkxFKGJhLCB3cy8qOldvcmtzaGVldCovLCBpZHgvKjpudW1iZXIqLywgb3B0cywgd2IvKjpXb3JrYm9vayovKSB7XG5cdHZhciByYW5nZSA9IHNhZmVfZGVjb2RlX3JhbmdlKHdzWychcmVmJ10gfHwgXCJBMVwiKSwgcnIgPSBcIlwiLCBjb2xzLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHZhciBkYXRlMTkwNCA9ICgoKHdifHx7fSkuV29ya2Jvb2t8fHt9KS5XQlByb3BzfHx7fSkuZGF0ZTE5MDQ7XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMDkxIC8qIEJydEJlZ2luU2hlZXREYXRhICovKTtcblx0dmFyIGRlbnNlID0gd3NbXCIhZGF0YVwiXSAhPSBudWxsLCByb3cgPSBkZW5zZSA/IHdzW1wiIWRhdGFcIl1bcmFuZ2Uucy5yXSA6IFtdO1xuXHR2YXIgY2FwID0gcmFuZ2UuZS5yO1xuXHRpZih3c1snIXJvd3MnXSkgY2FwID0gTWF0aC5tYXgocmFuZ2UuZS5yLCB3c1snIXJvd3MnXS5sZW5ndGggLSAxKTtcblx0Zm9yKHZhciBSID0gcmFuZ2Uucy5yOyBSIDw9IGNhcDsgKytSKSB7XG5cdFx0cnIgPSBlbmNvZGVfcm93KFIpO1xuXHRcdGlmKGRlbnNlKSByb3cgPSB3c1tcIiFkYXRhXCJdW1JdO1xuXHRcdC8qIFtBQ0NFTExUQUJMRV0gKi9cblx0XHQvKiBCcnRSb3dIZHIgKi9cblx0XHR3cml0ZV9yb3dfaGVhZGVyKGJhLCB3cywgcmFuZ2UsIFIpO1xuXHRcdGlmKGRlbnNlICYmICFyb3cpIGNvbnRpbnVlO1xuXHRcdHZhciBsYXN0X3NlZW4gPSBmYWxzZTtcblx0XHRpZihSIDw9IHJhbmdlLmUucikgZm9yKHZhciBDID0gcmFuZ2Uucy5jOyBDIDw9IHJhbmdlLmUuYzsgKytDKSB7XG5cdFx0XHQvKiAqMTYzODRDRUxMICovXG5cdFx0XHRpZihSID09PSByYW5nZS5zLnIpIGNvbHNbQ10gPSBlbmNvZGVfY29sKEMpO1xuXHRcdFx0dmFyIGNlbGwgPSBkZW5zZSA/IHJvd1tDXSA6IHdzW2NvbHNbQ10gKyBycl07XG5cdFx0XHRpZighY2VsbCkgeyBsYXN0X3NlZW4gPSBmYWxzZTsgY29udGludWU7IH1cblx0XHRcdC8qIHdyaXRlIGNlbGwgKi9cblx0XHRcdGxhc3Rfc2VlbiA9IHdyaXRlX3dzX2Jpbl9jZWxsKGJhLCBjZWxsLCBSLCBDLCBvcHRzLCB3cywgbGFzdF9zZWVuLCBkYXRlMTkwNCk7XG5cdFx0fVxuXHR9XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMDkyIC8qIEJydEVuZFNoZWV0RGF0YSAqLyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX01FUkdFQ0VMTFMoYmEsIHdzLyo6V29ya3NoZWV0Ki8pIHtcblx0aWYoIXdzIHx8ICF3c1snIW1lcmdlcyddKSByZXR1cm47XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMEIxIC8qIEJydEJlZ2luTWVyZ2VDZWxscyAqLywgd3JpdGVfQnJ0QmVnaW5NZXJnZUNlbGxzKHdzWychbWVyZ2VzJ10ubGVuZ3RoKSk7XG5cdHdzWychbWVyZ2VzJ10uZm9yRWFjaChmdW5jdGlvbihtKSB7IHdyaXRlX3JlY29yZChiYSwgMHgwMEIwIC8qIEJydE1lcmdlQ2VsbCAqLywgd3JpdGVfQnJ0TWVyZ2VDZWxsKG0pKTsgfSk7XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMEIyIC8qIEJydEVuZE1lcmdlQ2VsbHMgKi8pO1xufVxuXG5mdW5jdGlvbiB3cml0ZV9DT0xJTkZPUyhiYSwgd3MvKjpXb3Jrc2hlZXQqLy8qOjosIGlkeDpudW1iZXIsIG9wdHMsIHdiOldvcmtib29rKi8pIHtcblx0aWYoIXdzIHx8ICF3c1snIWNvbHMnXSkgcmV0dXJuO1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDE4NiAvKiBCcnRCZWdpbkNvbEluZm9zICovKTtcblx0d3NbJyFjb2xzJ10uZm9yRWFjaChmdW5jdGlvbihtLCBpKSB7IGlmKG0pIHdyaXRlX3JlY29yZChiYSwgMHgwMDNDIC8qICdCcnRDb2xJbmZvJyAqLywgd3JpdGVfQnJ0Q29sSW5mbyhpLCBtKSk7IH0pO1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDE4NyAvKiBCcnRFbmRDb2xJbmZvcyAqLyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX0lHTk9SRUVDUyhiYSwgd3MvKjpXb3Jrc2hlZXQqLykge1xuXHRpZighd3MgfHwgIXdzWychcmVmJ10pIHJldHVybjtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyODggLyogQnJ0QmVnaW5DZWxsSWdub3JlRUNzICovKTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyODkgLyogQnJ0Q2VsbElnbm9yZUVDICovLCB3cml0ZV9CcnRDZWxsSWdub3JlRUMoc2FmZV9kZWNvZGVfcmFuZ2Uod3NbJyFyZWYnXSkpKTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAyOEEgLyogQnJ0RW5kQ2VsbElnbm9yZUVDcyAqLyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX0hMSU5LUyhiYSwgd3MvKjpXb3Jrc2hlZXQqLywgcmVscykge1xuXHQvKiAqQnJ0SExpbmsgKi9cblx0d3NbJyFsaW5rcyddLmZvckVhY2goZnVuY3Rpb24obCkge1xuXHRcdGlmKCFsWzFdLlRhcmdldCkgcmV0dXJuO1xuXHRcdHZhciBySWQgPSBhZGRfcmVscyhyZWxzLCAtMSwgbFsxXS5UYXJnZXQucmVwbGFjZSgvI1tcXHNcXFNdKiQvLCBcIlwiKSwgUkVMUy5ITElOSyk7XG5cdFx0d3JpdGVfcmVjb3JkKGJhLCAweDAxRUUgLyogQnJ0SExpbmsgKi8sIHdyaXRlX0JydEhMaW5rKGwsIHJJZCkpO1xuXHR9KTtcblx0ZGVsZXRlIHdzWychbGlua3MnXTtcbn1cbmZ1bmN0aW9uIHdyaXRlX0xFR0FDWURSQVdJTkcoYmEsIHdzLyo6V29ya3NoZWV0Ki8sIGlkeC8qOm51bWJlciovLCByZWxzKSB7XG5cdC8qIFtCcnRMZWdhY3lEcmF3aW5nXSAqL1xuXHRpZih3c1snIWNvbW1lbnRzJ10ubGVuZ3RoID4gMCkge1xuXHRcdHZhciBySWQgPSBhZGRfcmVscyhyZWxzLCAtMSwgXCIuLi9kcmF3aW5ncy92bWxEcmF3aW5nXCIgKyAoaWR4KzEpICsgXCIudm1sXCIsIFJFTFMuVk1MKTtcblx0XHR3cml0ZV9yZWNvcmQoYmEsIDB4MDIyNyAvKiBCcnRMZWdhY3lEcmF3aW5nICovLCB3cml0ZV9SZWxJRChcInJJZFwiICsgcklkKSk7XG5cdFx0d3NbJyFsZWdhY3knXSA9IHJJZDtcblx0fVxufVxuXG5mdW5jdGlvbiB3cml0ZV9BVVRPRklMVEVSKGJhLCB3cywgd2IsIGlkeCkge1xuXHRpZighd3NbJyFhdXRvZmlsdGVyJ10pIHJldHVybjtcblx0dmFyIGRhdGEgPSB3c1snIWF1dG9maWx0ZXInXTtcblx0dmFyIHJlZiA9IHR5cGVvZiBkYXRhLnJlZiA9PT0gXCJzdHJpbmdcIiA/IGRhdGEucmVmIDogZW5jb2RlX3JhbmdlKGRhdGEucmVmKTtcblxuXHQvKiBVcGRhdGUgRmlsdGVyRGF0YWJhc2UgZGVmaW5lZCBuYW1lIGZvciB0aGUgd29ya3NoZWV0ICovXG5cdGlmKCF3Yi5Xb3JrYm9vaykgd2IuV29ya2Jvb2sgPSAoe1NoZWV0czpbXX0vKjphbnkqLyk7XG5cdGlmKCF3Yi5Xb3JrYm9vay5OYW1lcykgd2IuV29ya2Jvb2suTmFtZXMgPSBbXTtcblx0dmFyIG5hbWVzLyo6IEFycmF5PGFueT4gKi8gPSB3Yi5Xb3JrYm9vay5OYW1lcztcblx0dmFyIHJhbmdlID0gZGVjb2RlX3JhbmdlKHJlZik7XG5cdGlmKHJhbmdlLnMuciA9PSByYW5nZS5lLnIpIHsgcmFuZ2UuZS5yID0gZGVjb2RlX3JhbmdlKHdzW1wiIXJlZlwiXSkuZS5yOyByZWYgPSBlbmNvZGVfcmFuZ2UocmFuZ2UpOyB9XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xuXHRcdHZhciBuYW1lID0gbmFtZXNbaV07XG5cdFx0aWYobmFtZS5OYW1lICE9ICdfeGxubS5fRmlsdGVyRGF0YWJhc2UnKSBjb250aW51ZTtcblx0XHRpZihuYW1lLlNoZWV0ICE9IGlkeCkgY29udGludWU7XG5cdFx0bmFtZS5SZWYgPSBmb3JtdWxhX3F1b3RlX3NoZWV0X25hbWUod2IuU2hlZXROYW1lc1tpZHhdKSArIFwiIVwiICsgZml4X3JhbmdlKHJlZik7IGJyZWFrO1xuXHR9XG5cdGlmKGkgPT0gbmFtZXMubGVuZ3RoKSBuYW1lcy5wdXNoKHsgTmFtZTogJ194bG5tLl9GaWx0ZXJEYXRhYmFzZScsIFNoZWV0OiBpZHgsIFJlZjogZm9ybXVsYV9xdW90ZV9zaGVldF9uYW1lKHdiLlNoZWV0TmFtZXNbaWR4XSkgKyBcIiFcIiArIGZpeF9yYW5nZShyZWYpICB9KTtcblxuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDBBMSAvKiBCcnRCZWdpbkFGaWx0ZXIgKi8sIHdyaXRlX1VuY2hlY2tlZFJmWChzYWZlX2RlY29kZV9yYW5nZShyZWYpKSk7XG5cdC8qICpGSUxURVJDT0xVTU4gKi9cblx0LyogW1NPUlRTVEFURV0gKi9cblx0LyogQnJ0RW5kQUZpbHRlciAqL1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDBBMiAvKiBCcnRFbmRBRmlsdGVyICovKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfV1NWSUVXUzIoYmEsIHdzLCBXb3JrYm9vaykge1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDA4NSAvKiBCcnRCZWdpbldzVmlld3MgKi8pO1xuXHR7IC8qIDEqV1NWSUVXMiAqL1xuXHRcdC8qIFtBQ1VJRF0gKi9cblx0XHR3cml0ZV9yZWNvcmQoYmEsIDB4MDA4OSAvKiBCcnRCZWdpbldzVmlldyAqLywgd3JpdGVfQnJ0QmVnaW5Xc1ZpZXcod3MsIFdvcmtib29rKSk7XG5cdFx0LyogW0JydFBhbmVdICovXG5cdFx0LyogKjRCcnRTZWwgKi9cblx0XHQvKiAqNFNYU0VMRUNUICovXG5cdFx0LyogKkZSVCAqL1xuXHRcdHdyaXRlX3JlY29yZChiYSwgMHgwMDhBIC8qIEJydEVuZFdzVmlldyAqLyk7XG5cdH1cblx0LyogKkZSVCAqL1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDA4NiAvKiBCcnRFbmRXc1ZpZXdzICovKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfV1NGTVRJTkZPKC8qOjpiYSwgd3MqLykge1xuXHQvKiBbQUNXU0ZNVElORk9dICovXG5cdC8vIHdyaXRlX3JlY29yZChiYSwgMHgwMUU1IC8qIEJydFdzRm10SW5mbyAqLywgd3JpdGVfQnJ0V3NGbXRJbmZvKHdzKSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX1NIRUVUUFJPVEVDVChiYSwgd3MpIHtcblx0aWYoIXdzWychcHJvdGVjdCddKSByZXR1cm47XG5cdC8qIFtCcnRTaGVldFByb3RlY3Rpb25Jc29dICovXG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMjE3IC8qIEJydFNoZWV0UHJvdGVjdGlvbiAqLywgd3JpdGVfQnJ0U2hlZXRQcm90ZWN0aW9uKHdzWychcHJvdGVjdCddKSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3dzX2JpbihpZHgvKjpudW1iZXIqLywgb3B0cywgd2IvKjpXb3JrYm9vayovLCByZWxzKSB7XG5cdHZhciBiYSA9IGJ1Zl9hcnJheSgpO1xuXHR2YXIgcyA9IHdiLlNoZWV0TmFtZXNbaWR4XSwgd3MgPSB3Yi5TaGVldHNbc10gfHwge307XG5cdHZhciBjLyo6c3RyaW5nKi8gPSBzOyB0cnkgeyBpZih3YiAmJiB3Yi5Xb3JrYm9vaykgYyA9IHdiLldvcmtib29rLlNoZWV0c1tpZHhdLkNvZGVOYW1lIHx8IGM7IH0gY2F0Y2goZSkge31cblx0dmFyIHIgPSBzYWZlX2RlY29kZV9yYW5nZSh3c1snIXJlZiddIHx8IFwiQTFcIik7XG5cdGlmKHIuZS5jID4gMHgzRkZGIHx8IHIuZS5yID4gMHhGRkZGRikge1xuXHRcdGlmKG9wdHMuV1RGKSB0aHJvdyBuZXcgRXJyb3IoXCJSYW5nZSBcIiArICh3c1snIXJlZiddIHx8IFwiQTFcIikgKyBcIiBleGNlZWRzIGZvcm1hdCBsaW1pdCBBMTpYRkQxMDQ4NTc2XCIpO1xuXHRcdHIuZS5jID0gTWF0aC5taW4oci5lLmMsIDB4M0ZGRik7XG5cdFx0ci5lLnIgPSBNYXRoLm1pbihyLmUuYywgMHhGRkZGRik7XG5cdH1cblx0d3NbJyFsaW5rcyddID0gW107XG5cdC8qIHBhc3NlZCBiYWNrIHRvIHdyaXRlX3ppcCBhbmQgcmVtb3ZlZCB0aGVyZSAqL1xuXHR3c1snIWNvbW1lbnRzJ10gPSBbXTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAwODEgLyogQnJ0QmVnaW5TaGVldCAqLyk7XG5cdGlmKHdiLnZiYXJhdyB8fCB3c1snIW91dGxpbmUnXSkgd3JpdGVfcmVjb3JkKGJhLCAweDAwOTMgLyogQnJ0V3NQcm9wICovLCB3cml0ZV9CcnRXc1Byb3AoYywgd3NbJyFvdXRsaW5lJ10pKTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAwOTQgLyogQnJ0V3NEaW0gKi8sIHdyaXRlX0JydFdzRGltKHIpKTtcblx0d3JpdGVfV1NWSUVXUzIoYmEsIHdzLCB3Yi5Xb3JrYm9vayk7XG5cdHdyaXRlX1dTRk1USU5GTyhiYSwgd3MpO1xuXHR3cml0ZV9DT0xJTkZPUyhiYSwgd3MsIGlkeCwgb3B0cywgd2IpO1xuXHR3cml0ZV9DRUxMVEFCTEUoYmEsIHdzLCBpZHgsIG9wdHMsIHdiKTtcblx0LyogW0JydFNoZWV0Q2FsY1Byb3BdICovXG5cdHdyaXRlX1NIRUVUUFJPVEVDVChiYSwgd3MpO1xuXHQvKiAqKFtCcnRSYW5nZVByb3RlY3Rpb25Jc29dIEJydFJhbmdlUHJvdGVjdGlvbikgKi9cblx0LyogW1NDRU5NQU5dICovXG5cdHdyaXRlX0FVVE9GSUxURVIoYmEsIHdzLCB3YiwgaWR4KTtcblx0LyogW1NPUlRTVEFURV0gKi9cblx0LyogW0RDT05dICovXG5cdC8qIFtVU0VSU0hWSUVXU10gKi9cblx0d3JpdGVfTUVSR0VDRUxMUyhiYSwgd3MpO1xuXHQvKiBbQnJ0UGhvbmV0aWNJbmZvXSAqL1xuXHQvKiAqQ09ORElUSU9OQUxGT1JNQVRUSU5HICovXG5cdC8qIFtEVkFMU10gKi9cblx0d3JpdGVfSExJTktTKGJhLCB3cywgcmVscyk7XG5cdC8qIFtCcnRQcmludE9wdGlvbnNdICovXG5cdGlmKHdzWychbWFyZ2lucyddKSB3cml0ZV9yZWNvcmQoYmEsIDB4MDFEQyAvKiBCcnRNYXJnaW5zICovLCB3cml0ZV9CcnRNYXJnaW5zKHdzWychbWFyZ2lucyddKSk7XG5cdC8qIFtCcnRQYWdlU2V0dXBdICovXG5cdC8qIFtIRUFERVJGT09URVJdICovXG5cdC8qIFtSV0JSS10gKi9cblx0LyogW0NPTEJSS10gKi9cblx0LyogKkJydEJpZ05hbWUgKi9cblx0LyogW0NFTExXQVRDSEVTXSAqL1xuXHRpZighb3B0cyB8fCBvcHRzLmlnbm9yZUVDIHx8IChvcHRzLmlnbm9yZUVDID09ICh2b2lkIDApKSkgd3JpdGVfSUdOT1JFRUNTKGJhLCB3cyk7XG5cdC8qIFtTTUFSVFRBR1NdICovXG5cdC8qIFtCcnREcmF3aW5nXSAqL1xuXHR3cml0ZV9MRUdBQ1lEUkFXSU5HKGJhLCB3cywgaWR4LCByZWxzKTtcblx0LyogW0JydExlZ2FjeURyYXdpbmdIRl0gKi9cblx0LyogW0JydEJrSGltXSAqL1xuXHQvKiBbT0xFT0JKRUNUU10gKi9cblx0LyogW0FDVElWRVhDT05UUk9MU10gKi9cblx0LyogW1dFQlBVQklURU1TXSAqL1xuXHQvKiBbTElTVFBBUlRTXSAqL1xuXHQvKiBGUlRXT1JLU0hFRVQgKi9cblx0d3JpdGVfcmVjb3JkKGJhLCAweDAwODIgLyogQnJ0RW5kU2hlZXQgKi8pO1xuXHRyZXR1cm4gYmEuZW5kKCk7XG59XG5mdW5jdGlvbiBwYXJzZV9DYWNoZShkYXRhLyo6c3RyaW5nKi8pLyo6W0FycmF5PG51bWJlcnxzdHJpbmc+LCBzdHJpbmcsID9zdHJpbmddKi8ge1xuXHR2YXIgY29sLyo6QXJyYXk8bnVtYmVyfHN0cmluZz4qLyA9IFtdO1xuXHR2YXIgbnVtID0gZGF0YS5tYXRjaCgvXjxjOm51bUNhY2hlPi8pO1xuXHR2YXIgZjtcblxuXHQvKiAyMS4yLjIuMTUwIHB0IENUX051bVZhbCAqL1xuXHQoZGF0YS5tYXRjaCgvPGM6cHQgaWR4PVwiKFxcZCopXCJbXjw+XFwvXSo+PGM6dj4oW148XSk8XFwvYzp2PjxcXC9jOnB0Pi9tZyl8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHB0KSB7XG5cdFx0dmFyIHEgPSBwdC5tYXRjaCgvPGM6cHQgaWR4PVwiKFxcZCopXCJbXjw+XFwvXSo+PGM6dj4oW148XSopPFxcL2M6dj48XFwvYzpwdD4vKTtcblx0XHRpZighcSkgcmV0dXJuO1xuXHRcdGNvbFsrcVsxXV0gPSBudW0gPyArcVsyXSA6IHFbMl07XG5cdH0pO1xuXG5cdC8qIDIxLjIuMi43MSBmb3JtYXRDb2RlIENUX1hzdHJpbmcgKi9cblx0dmFyIG5mID0gdW5lc2NhcGV4bWwoKHN0cl9tYXRjaF94bWwoZGF0YSwgXCJjOmZvcm1hdENvZGVcIikgfHwgW1wiXCIsXCJHZW5lcmFsXCJdKVsxXSk7XG5cblx0KHN0cl9tYXRjaF9uZyhkYXRhLCBcIjxjOmY+XCIsIFwiPC9jOmY+XCIpfHxbXSkuZm9yRWFjaChmdW5jdGlvbihGKSB7IGYgPSBGLnJlcGxhY2UoLzxbXjw+XSo+L2csXCJcIik7IH0pO1xuXG5cdHJldHVybiBbY29sLCBuZiwgZl07XG59XG5cbi8qIDIxLjIgRHJhd2luZ01MIC0gQ2hhcnRzICovXG5mdW5jdGlvbiBwYXJzZV9jaGFydChkYXRhLyo6P3N0cmluZyovLCBuYW1lLyo6c3RyaW5nKi8sIG9wdHMsIHJlbHMsIHdiLCBjc2hlZXQpIHtcblx0dmFyIGNzLyo6V29ya3NoZWV0Ki8gPSAoKGNzaGVldCB8fCB7XCIhdHlwZVwiOlwiY2hhcnRcIn0pLyo6YW55Ki8pO1xuXHRpZighZGF0YSkgcmV0dXJuIGNzaGVldDtcblx0LyogMjEuMi4yLjI3IGNoYXJ0IENUX0NoYXJ0ICovXG5cblx0dmFyIEMgPSAwLCBSID0gMCwgY29sID0gXCJBXCI7XG5cdHZhciByZWZndWVzcyA9IHtzOiB7cjoyMDAwMDAwLCBjOjIwMDAwMDB9LCBlOiB7cjowLCBjOjB9IH07XG5cblx0LyogMjEuMi4yLjEyMCBudW1DYWNoZSBDVF9OdW1EYXRhICovXG5cdChzdHJfbWF0Y2hfbmcoZGF0YSwgXCI8YzpudW1DYWNoZT5cIiwgXCI8L2M6bnVtQ2FjaGU+XCIpfHxbXSkuZm9yRWFjaChmdW5jdGlvbihuYykge1xuXHRcdHZhciBjYWNoZSA9IHBhcnNlX0NhY2hlKG5jKTtcblx0XHRyZWZndWVzcy5zLnIgPSByZWZndWVzcy5zLmMgPSAwO1xuXHRcdHJlZmd1ZXNzLmUuYyA9IEM7XG5cdFx0Y29sID0gZW5jb2RlX2NvbChDKTtcblx0XHRjYWNoZVswXS5mb3JFYWNoKGZ1bmN0aW9uKG4saSkge1xuXHRcdFx0aWYoY3NbXCIhZGF0YVwiXSkge1xuXHRcdFx0XHRpZighY3NbXCIhZGF0YVwiXVtpXSkgY3NbXCIhZGF0YVwiXVtpXSA9IFtdO1xuXHRcdFx0XHRjc1tcIiFkYXRhXCJdW2ldW0NdID0ge3Q6J24nLCB2Om4sIHo6Y2FjaGVbMV0gfTtcblx0XHRcdH0gZWxzZSBjc1tjb2wgKyBlbmNvZGVfcm93KGkpXSA9IHt0OiduJywgdjpuLCB6OmNhY2hlWzFdIH07XG5cdFx0XHRSID0gaTtcblx0XHR9KTtcblx0XHRpZihyZWZndWVzcy5lLnIgPCBSKSByZWZndWVzcy5lLnIgPSBSO1xuXHRcdCsrQztcblx0fSk7XG5cdGlmKEMgPiAwKSBjc1tcIiFyZWZcIl0gPSBlbmNvZGVfcmFuZ2UocmVmZ3Vlc3MpO1xuXHRyZXR1cm4gY3M7XG59XG4vKiAxOC4zIFdvcmtzaGVldHMgYWxzbyBjb3ZlcnMgQ2hhcnRzaGVldHMgKi9cbmZ1bmN0aW9uIHBhcnNlX2NzX3htbChkYXRhLyo6P3N0cmluZyovLCBvcHRzLCBpZHgvKjpudW1iZXIqLywgcmVscywgd2IvKjo6LCB0aGVtZXMsIHN0eWxlcyovKS8qOldvcmtzaGVldCovIHtcblx0aWYoIWRhdGEpIHJldHVybiBkYXRhO1xuXHQvKiAxOC4zLjEuMTIgY2hhcnRzaGVldCBDVF9DaGFydFNoZWV0ICovXG5cdGlmKCFyZWxzKSByZWxzID0geychaWQnOnt9fTtcblx0dmFyIHMgPSAoeychdHlwZSc6XCJjaGFydFwiLCAnIWRyYXdlbCc6bnVsbCwgJyFyZWwnOlwiXCJ9Lyo6YW55Ki8pO1xuXHR2YXIgbTtcblxuXHQvKiAxOC4zLjEuODMgc2hlZXRQciBDVF9DaGFydHNoZWV0UHIgKi9cblx0dmFyIHNoZWV0UHIgPSBkYXRhLm1hdGNoKHNoZWV0cHJyZWdleCk7XG5cdGlmKHNoZWV0UHIpIHBhcnNlX3dzX3htbF9zaGVldHByKHNoZWV0UHJbMF0sIHMsIHdiLCBpZHgpO1xuXG5cdC8qIDE4LjMuMS4zNiBkcmF3aW5nIENUX0RyYXdpbmcgKi9cblx0aWYoKG0gPSBkYXRhLm1hdGNoKC9kcmF3aW5nIHI6aWQ9XCIoLio/KVwiLykpKSBzWychcmVsJ10gPSBtWzFdO1xuXG5cdGlmKHJlbHNbJyFpZCddW3NbJyFyZWwnXV0pIHNbJyFkcmF3ZWwnXSA9IHJlbHNbJyFpZCddW3NbJyFyZWwnXV07XG5cdHJldHVybiBzO1xufVxuLy9mdW5jdGlvbiB3cml0ZV9jc194bWwoaWR4Lyo6bnVtYmVyKi8sIG9wdHMsIHdiLyo6V29ya2Jvb2sqLywgcmVscykvKjpzdHJpbmcqLyB7XG4vL1x0dmFyIG8gPSBbWE1MX0hFQURFUiwgd3JpdGV4dGFnKCdjaGFydHNoZWV0JywgbnVsbCwge1xuLy9cdFx0J3htbG5zJzogWE1MTlNfbWFpblswXSxcbi8vXHRcdCd4bWxuczpyJzogWE1MTlMuclxuLy9cdH0pXTtcbi8vXHRvW28ubGVuZ3RoXSA9IHdyaXRleHRhZyhcImRyYXdpbmdcIiwgbnVsbCwge1wicjppZFwiOiBcInJJZDFcIn0pO1xuLy9cdGFkZF9yZWxzKHJlbHMsIC0xLCBcIi4uL2RyYXdpbmdzL2RyYXdpbmdcIiArIChpZHgrMSkgKyBcIi54bWxcIiwgUkVMUy5EUkFXKTtcbi8vXHRpZihvLmxlbmd0aD4yKSB7IG9bby5sZW5ndGhdID0gKCc8L2NoYXJ0c2hlZXQ+Jyk7IG9bMV09b1sxXS5yZXBsYWNlKFwiLz5cIixcIj5cIik7IH1cbi8vXHRyZXR1cm4gby5qb2luKFwiXCIpO1xuLy99XG5cbi8qIFtNUy1YTFNCXSAyLjQuMzMxIEJydENzUHJvcCAqL1xuZnVuY3Rpb24gcGFyc2VfQnJ0Q3NQcm9wKGRhdGEsIGxlbmd0aC8qOm51bWJlciovKSB7XG5cdGRhdGEubCArPSAxMDtcblx0dmFyIG5hbWUgPSBwYXJzZV9YTFdpZGVTdHJpbmcoZGF0YSwgbGVuZ3RoIC0gMTApO1xuXHRyZXR1cm4geyBuYW1lOiBuYW1lIH07XG59XG5cbi8qIFtNUy1YTFNCXSAyLjEuNy43IENoYXJ0IFNoZWV0ICovXG5mdW5jdGlvbiBwYXJzZV9jc19iaW4oZGF0YSwgb3B0cywgaWR4Lyo6bnVtYmVyKi8sIHJlbHMsIHdiLyo6OiwgdGhlbWVzLCBzdHlsZXMqLykvKjpXb3Jrc2hlZXQqLyB7XG5cdGlmKCFkYXRhKSByZXR1cm4gZGF0YTtcblx0aWYoIXJlbHMpIHJlbHMgPSB7JyFpZCc6e319O1xuXHR2YXIgcyA9IHsnIXR5cGUnOlwiY2hhcnRcIiwgJyFkcmF3ZWwnOm51bGwsICchcmVsJzpcIlwifTtcblx0dmFyIHN0YXRlLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHZhciBwYXNzID0gZmFsc2U7XG5cdHJlY29yZGhvcHBlcihkYXRhLCBmdW5jdGlvbiBjc19wYXJzZSh2YWwsIFIsIFJUKSB7XG5cdFx0c3dpdGNoKFJUKSB7XG5cblx0XHRcdGNhc2UgMHgwMjI2OiAvKiAnQnJ0RHJhd2luZycgKi9cblx0XHRcdFx0c1snIXJlbCddID0gdmFsOyBicmVhaztcblxuXHRcdFx0Y2FzZSAweDAyOEI6IC8qICdCcnRDc1Byb3AnICovXG5cdFx0XHRcdGlmKCF3Yi5TaGVldHNbaWR4XSkgd2IuU2hlZXRzW2lkeF0gPSB7fTtcblx0XHRcdFx0aWYodmFsLm5hbWUpIHdiLlNoZWV0c1tpZHhdLkNvZGVOYW1lID0gdmFsLm5hbWU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDB4MDIzMjogLyogJ0JydEJrSGltJyAqL1xuXHRcdFx0Y2FzZSAweDAyOEM6IC8qICdCcnRDc1BhZ2VTZXR1cCcgKi9cblx0XHRcdGNhc2UgMHgwMjlEOiAvKiAnQnJ0Q3NQcm90ZWN0aW9uJyAqL1xuXHRcdFx0Y2FzZSAweDAyQTc6IC8qICdCcnRDc1Byb3RlY3Rpb25Jc28nICovXG5cdFx0XHRjYXNlIDB4MDIyNzogLyogJ0JydExlZ2FjeURyYXdpbmcnICovXG5cdFx0XHRjYXNlIDB4MDIyODogLyogJ0JydExlZ2FjeURyYXdpbmdIRicgKi9cblx0XHRcdGNhc2UgMHgwMURDOiAvKiAnQnJ0TWFyZ2lucycgKi9cblx0XHRcdGNhc2UgMHgwQzAwOiAvKiAnQnJ0VWlkJyAqL1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAweDAwMjM6IC8qICdCcnRGUlRCZWdpbicgKi9cblx0XHRcdFx0cGFzcyA9IHRydWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAwMjQ6IC8qICdCcnRGUlRFbmQnICovXG5cdFx0XHRcdHBhc3MgPSBmYWxzZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDB4MDAyNTogLyogJ0JydEFDQmVnaW4nICovXG5cdFx0XHRcdHN0YXRlLnB1c2goUlQpOyBicmVhaztcblx0XHRcdGNhc2UgMHgwMDI2OiAvKiAnQnJ0QUNFbmQnICovXG5cdFx0XHRcdHN0YXRlLnBvcCgpOyBicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aWYoUi5UID4gMCkgc3RhdGUucHVzaChSVCk7XG5cdFx0XHRcdGVsc2UgaWYoUi5UIDwgMCkgc3RhdGUucG9wKCk7XG5cdFx0XHRcdGVsc2UgaWYoIXBhc3MgfHwgb3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgcmVjb3JkIDB4XCIgKyBSVC50b1N0cmluZygxNikpO1xuXHRcdH1cblx0fSwgb3B0cyk7XG5cblx0aWYocmVsc1snIWlkJ11bc1snIXJlbCddXSkgc1snIWRyYXdlbCddID0gcmVsc1snIWlkJ11bc1snIXJlbCddXTtcblx0cmV0dXJuIHM7XG59XG4vL2Z1bmN0aW9uIHdyaXRlX2NzX2JpbigvKjo6aWR4Om51bWJlciwgb3B0cywgd2I6V29ya2Jvb2ssIHJlbHMqLykge1xuLy9cdHZhciBiYSA9IGJ1Zl9hcnJheSgpO1xuLy9cdHdyaXRlX3JlY29yZChiYSwgMHgwMDgxIC8qIEJydEJlZ2luU2hlZXQgKi8pO1xuLy9cdC8qIFtCcnRDc1Byb3BdICovXG4vL1x0LyogQ1NWSUVXUyAqL1xuLy9cdC8qIFtbQnJ0Q3NQcm90ZWN0aW9uSXNvXSBCcnRDc1Byb3RlY3Rpb25dICovXG4vL1x0LyogW1VTRVJDU1ZJRVdTXSAqL1xuLy9cdC8qIFtCcnRNYXJnaW5zXSAqL1xuLy9cdC8qIFtCcnRDc1BhZ2VTZXR1cF0gKi9cbi8vXHQvKiBbSEVBREVSRk9PVEVSXSAqL1xuLy9cdC8qIEJydERyYXdpbmcgKi9cbi8vXHQvKiBbQnJ0TGVnYWN5RHJhd2luZ10gKi9cbi8vXHQvKiBbQnJ0TGVnYWN5RHJhd2luZ0hGXSAqL1xuLy9cdC8qIFtCcnRCa0hpbV0gKi9cbi8vXHQvKiBbV0VCUFVCSVRFTVNdICovXG4vL1x0LyogRlJUQ0hBUlRTSEVFVCAqL1xuLy9cdHdyaXRlX3JlY29yZChiYSwgMHgwMDgyIC8qIEJydEVuZFNoZWV0ICovKTtcbi8vXHRyZXR1cm4gYmEuZW5kKCk7XG4vL31cbi8qIDE4LjIuMjggKENUX1dvcmtib29rUHJvdGVjdGlvbikgRGVmYXVsdHMgKi9cbnZhciBXQlByb3BzRGVmID0gW1xuXHRbJ2FsbG93UmVmcmVzaFF1ZXJ5JywgICAgICAgICAgIGZhbHNlLCBcImJvb2xcIl0sXG5cdFsnYXV0b0NvbXByZXNzUGljdHVyZXMnLCAgICAgICAgdHJ1ZSwgIFwiYm9vbFwiXSxcblx0WydiYWNrdXBGaWxlJywgICAgICAgICAgICAgICAgICBmYWxzZSwgXCJib29sXCJdLFxuXHRbJ2NoZWNrQ29tcGF0aWJpbGl0eScsICAgICAgICAgIGZhbHNlLCBcImJvb2xcIl0sXG5cdFsnQ29kZU5hbWUnLCAgICAgICAgICAgICAgICAgICAgJyddLFxuXHRbJ2RhdGUxOTA0JywgICAgICAgICAgICAgICAgICAgIGZhbHNlLCBcImJvb2xcIl0sXG5cdFsnZGVmYXVsdFRoZW1lVmVyc2lvbicsICAgICAgICAgMCwgICAgICBcImludFwiXSxcblx0WydmaWx0ZXJQcml2YWN5JywgICAgICAgICAgICAgICBmYWxzZSwgXCJib29sXCJdLFxuXHRbJ2hpZGVQaXZvdEZpZWxkTGlzdCcsICAgICAgICAgIGZhbHNlLCBcImJvb2xcIl0sXG5cdFsncHJvbXB0ZWRTb2x1dGlvbnMnLCAgICAgICAgICAgZmFsc2UsIFwiYm9vbFwiXSxcblx0WydwdWJsaXNoSXRlbXMnLCAgICAgICAgICAgICAgICBmYWxzZSwgXCJib29sXCJdLFxuXHRbJ3JlZnJlc2hBbGxDb25uZWN0aW9ucycsICAgICAgIGZhbHNlLCBcImJvb2xcIl0sXG5cdFsnc2F2ZUV4dGVybmFsTGlua1ZhbHVlcycsICAgICAgdHJ1ZSwgIFwiYm9vbFwiXSxcblx0WydzaG93Qm9yZGVyVW5zZWxlY3RlZFRhYmxlcycsICB0cnVlLCAgXCJib29sXCJdLFxuXHRbJ3Nob3dJbmtBbm5vdGF0aW9uJywgICAgICAgICAgIHRydWUsICBcImJvb2xcIl0sXG5cdFsnc2hvd09iamVjdHMnLCAgICAgICAgICAgICAgICAgJ2FsbCddLFxuXHRbJ3Nob3dQaXZvdENoYXJ0RmlsdGVyJywgICAgICAgIGZhbHNlLCBcImJvb2xcIl0sXG5cdFsndXBkYXRlTGlua3MnLCAndXNlclNldCddXG5dO1xuXG4vKiAxOC4yLjMwIChDVF9Cb29rVmlldykgRGVmYXVsdHMgKi9cbnZhciBXQlZpZXdEZWYgPSBbXG5cdFsnYWN0aXZlVGFiJywgICAgICAgICAgICAgICAgICAgMCwgICAgICBcImludFwiXSxcblx0WydhdXRvRmlsdGVyRGF0ZUdyb3VwaW5nJywgICAgICB0cnVlLCAgXCJib29sXCJdLFxuXHRbJ2ZpcnN0U2hlZXQnLCAgICAgICAgICAgICAgICAgIDAsICAgICAgXCJpbnRcIl0sXG5cdFsnbWluaW1pemVkJywgICAgICAgICAgICAgICAgICAgZmFsc2UsIFwiYm9vbFwiXSxcblx0WydzaG93SG9yaXpvbnRhbFNjcm9sbCcsICAgICAgICB0cnVlLCAgXCJib29sXCJdLFxuXHRbJ3Nob3dTaGVldFRhYnMnLCAgICAgICAgICAgICAgIHRydWUsICBcImJvb2xcIl0sXG5cdFsnc2hvd1ZlcnRpY2FsU2Nyb2xsJywgICAgICAgICAgdHJ1ZSwgIFwiYm9vbFwiXSxcblx0Wyd0YWJSYXRpbycsICAgICAgICAgICAgICAgICAgICA2MDAsICAgIFwiaW50XCJdLFxuXHRbJ3Zpc2liaWxpdHknLCAgICAgICAgICAgICAgICAgICd2aXNpYmxlJ11cblx0Ly93aW5kb3d7SGVpZ2h0LFdpZHRofSwge3gseX1XaW5kb3dcbl07XG5cbi8qIDE4LjIuMTkgKENUX1NoZWV0KSBEZWZhdWx0cyAqL1xudmFyIFNoZWV0RGVmID0gW1xuXHQvL1snc3RhdGUnLCAndmlzaWJsZSddXG5dO1xuXG4vKiAxOC4yLjIgIChDVF9DYWxjUHIpIERlZmF1bHRzICovXG52YXIgQ2FsY1ByRGVmID0gW1xuXHRbJ2NhbGNDb21wbGV0ZWQnLCAndHJ1ZSddLFxuXHRbJ2NhbGNNb2RlJywgJ2F1dG8nXSxcblx0WydjYWxjT25TYXZlJywgJ3RydWUnXSxcblx0Wydjb25jdXJyZW50Q2FsYycsICd0cnVlJ10sXG5cdFsnZnVsbENhbGNPbkxvYWQnLCAnZmFsc2UnXSxcblx0WydmdWxsUHJlY2lzaW9uJywgJ3RydWUnXSxcblx0WydpdGVyYXRlJywgJ2ZhbHNlJ10sXG5cdFsnaXRlcmF0ZUNvdW50JywgJzEwMCddLFxuXHRbJ2l0ZXJhdGVEZWx0YScsICcwLjAwMSddLFxuXHRbJ3JlZk1vZGUnLCAnQTEnXVxuXTtcblxuLyogMTguMi4zIChDVF9DdXN0b21Xb3JrYm9va1ZpZXcpIERlZmF1bHRzICovXG4vKnZhciBDdXN0b21XQlZpZXdEZWYgPSBbXG5cdFsnYXV0b1VwZGF0ZScsICdmYWxzZSddLFxuXHRbJ2NoYW5nZXNTYXZlZFdpbicsICdmYWxzZSddLFxuXHRbJ2luY2x1ZGVIaWRkZW5Sb3dDb2wnLCAndHJ1ZSddLFxuXHRbJ2luY2x1ZGVQcmludFNldHRpbmdzJywgJ3RydWUnXSxcblx0WydtYXhpbWl6ZWQnLCAnZmFsc2UnXSxcblx0WydtaW5pbWl6ZWQnLCAnZmFsc2UnXSxcblx0Wydvbmx5U3luYycsICdmYWxzZSddLFxuXHRbJ3BlcnNvbmFsVmlldycsICdmYWxzZSddLFxuXHRbJ3Nob3dDb21tZW50cycsICdjb21tSW5kaWNhdG9yJ10sXG5cdFsnc2hvd0Zvcm11bGFCYXInLCAndHJ1ZSddLFxuXHRbJ3Nob3dIb3Jpem9udGFsU2Nyb2xsJywgJ3RydWUnXSxcblx0WydzaG93T2JqZWN0cycsICdhbGwnXSxcblx0WydzaG93U2hlZXRUYWJzJywgJ3RydWUnXSxcblx0WydzaG93U3RhdHVzYmFyJywgJ3RydWUnXSxcblx0WydzaG93VmVydGljYWxTY3JvbGwnLCAndHJ1ZSddLFxuXHRbJ3RhYlJhdGlvJywgJzYwMCddLFxuXHRbJ3hXaW5kb3cnLCAnMCddLFxuXHRbJ3lXaW5kb3cnLCAnMCddXG5dOyovXG5cbmZ1bmN0aW9uIHB1c2hfZGVmYXVsdHNfYXJyYXkodGFyZ2V0LCBkZWZhdWx0cykge1xuXHRmb3IodmFyIGogPSAwOyBqICE9IHRhcmdldC5sZW5ndGg7ICsraikgeyB2YXIgdyA9IHRhcmdldFtqXTtcblx0XHRmb3IodmFyIGk9MDsgaSAhPSBkZWZhdWx0cy5sZW5ndGg7ICsraSkgeyB2YXIgeiA9IGRlZmF1bHRzW2ldO1xuXHRcdFx0aWYod1t6WzBdXSA9PSBudWxsKSB3W3pbMF1dID0gelsxXTtcblx0XHRcdGVsc2Ugc3dpdGNoKHpbMl0pIHtcblx0XHRcdGNhc2UgXCJib29sXCI6IGlmKHR5cGVvZiB3W3pbMF1dID09IFwic3RyaW5nXCIpIHdbelswXV0gPSBwYXJzZXhtbGJvb2wod1t6WzBdXSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcImludFwiOiBpZih0eXBlb2Ygd1t6WzBdXSA9PSBcInN0cmluZ1wiKSB3W3pbMF1dID0gcGFyc2VJbnQod1t6WzBdXSwgMTApOyBicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbmZ1bmN0aW9uIHB1c2hfZGVmYXVsdHModGFyZ2V0LCBkZWZhdWx0cykge1xuXHRmb3IodmFyIGkgPSAwOyBpICE9IGRlZmF1bHRzLmxlbmd0aDsgKytpKSB7IHZhciB6ID0gZGVmYXVsdHNbaV07XG5cdFx0aWYodGFyZ2V0W3pbMF1dID09IG51bGwpIHRhcmdldFt6WzBdXSA9IHpbMV07XG5cdFx0ZWxzZSBzd2l0Y2goelsyXSkge1xuXHRcdFx0Y2FzZSBcImJvb2xcIjogaWYodHlwZW9mIHRhcmdldFt6WzBdXSA9PSBcInN0cmluZ1wiKSB0YXJnZXRbelswXV0gPSBwYXJzZXhtbGJvb2wodGFyZ2V0W3pbMF1dKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiaW50XCI6IGlmKHR5cGVvZiB0YXJnZXRbelswXV0gPT0gXCJzdHJpbmdcIikgdGFyZ2V0W3pbMF1dID0gcGFyc2VJbnQodGFyZ2V0W3pbMF1dLCAxMCk7IGJyZWFrO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZV93Yl9kZWZhdWx0cyh3Yikge1xuXHRwdXNoX2RlZmF1bHRzKHdiLldCUHJvcHMsIFdCUHJvcHNEZWYpO1xuXHRwdXNoX2RlZmF1bHRzKHdiLkNhbGNQciwgQ2FsY1ByRGVmKTtcblxuXHRwdXNoX2RlZmF1bHRzX2FycmF5KHdiLldCVmlldywgV0JWaWV3RGVmKTtcblx0cHVzaF9kZWZhdWx0c19hcnJheSh3Yi5TaGVldHMsIFNoZWV0RGVmKTtcblxuXHRfc3Nmb3B0cy5kYXRlMTkwNCA9IHBhcnNleG1sYm9vbCh3Yi5XQlByb3BzLmRhdGUxOTA0KTtcbn1cblxuZnVuY3Rpb24gc2FmZTE5MDQod2IvKjpXb3JrYm9vayovKS8qOnN0cmluZyovIHtcblx0LyogVE9ETzogc3RvcmUgZGF0ZTE5MDQgc29tZXdoZXJlIGVsc2UgKi9cblx0aWYoIXdiLldvcmtib29rKSByZXR1cm4gXCJmYWxzZVwiO1xuXHRpZighd2IuV29ya2Jvb2suV0JQcm9wcykgcmV0dXJuIFwiZmFsc2VcIjtcblx0cmV0dXJuIHBhcnNleG1sYm9vbCh3Yi5Xb3JrYm9vay5XQlByb3BzLmRhdGUxOTA0KSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xufVxuXG52YXIgYmFkY2hhcnMgPSAvKiNfX1BVUkVfXyovXCI6XVsqP1xcL1xcXFxcIi5zcGxpdChcIlwiKTtcbmZ1bmN0aW9uIGNoZWNrX3dzX25hbWUobi8qOnN0cmluZyovLCBzYWZlLyo6P2Jvb2xlYW4qLykvKjpib29sZWFuKi8ge1xuXHR0cnkge1xuXHRcdGlmKG4gPT0gXCJcIikgdGhyb3cgbmV3IEVycm9yKFwiU2hlZXQgbmFtZSBjYW5ub3QgYmUgYmxhbmtcIik7XG5cdFx0aWYobi5sZW5ndGggPiAzMSkgdGhyb3cgbmV3IEVycm9yKFwiU2hlZXQgbmFtZSBjYW5ub3QgZXhjZWVkIDMxIGNoYXJzXCIpO1xuXHRcdGlmKG4uY2hhckNvZGVBdCgwKSA9PSAweDI3IHx8IG4uY2hhckNvZGVBdChuLmxlbmd0aCAtIDEpID09IDB4MjcpIHRocm93IG5ldyBFcnJvcihcIlNoZWV0IG5hbWUgY2Fubm90IHN0YXJ0IG9yIGVuZCB3aXRoIGFwb3N0cm9waGUgKCcpXCIpO1xuXHRcdGlmKG4udG9Mb3dlckNhc2UoKSA9PSBcImhpc3RvcnlcIikgdGhyb3cgbmV3IEVycm9yKFwiU2hlZXQgbmFtZSBjYW5ub3QgYmUgJ0hpc3RvcnknXCIpO1xuXHRcdGJhZGNoYXJzLmZvckVhY2goZnVuY3Rpb24oYykge1xuXHRcdFx0aWYobi5pbmRleE9mKGMpID09IC0xKSByZXR1cm47XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJTaGVldCBuYW1lIGNhbm5vdCBjb250YWluIDogXFxcXCAvID8gKiBbIF1cIik7XG5cdFx0fSk7XG5cdH0gY2F0Y2goZSkgeyBpZihzYWZlKSByZXR1cm4gZmFsc2U7IHRocm93IGU7IH1cblx0cmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBjaGVja193Yl9uYW1lcyhOLCBTLCBjb2Rlcykge1xuXHROLmZvckVhY2goZnVuY3Rpb24obixpKSB7XG5cdFx0Y2hlY2tfd3NfbmFtZShuKTtcblx0XHRmb3IodmFyIGogPSAwOyBqIDwgaTsgKytqKSBpZihuID09IE5bal0pIHRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBTaGVldCBOYW1lOiBcIiArIG4pO1xuXHRcdGlmKGNvZGVzKSB7XG5cdFx0XHR2YXIgY24gPSAoUyAmJiBTW2ldICYmIFNbaV0uQ29kZU5hbWUpIHx8IG47XG5cdFx0XHRpZihjbi5jaGFyQ29kZUF0KDApID09IDk1ICYmIGNuLmxlbmd0aCA+IDIyKSB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgQ29kZSBOYW1lOiBXb3Jrc2hlZXRcIiArIGNuKTtcblx0XHR9XG5cdH0pO1xufVxuZnVuY3Rpb24gY2hlY2tfd2Iod2IpIHtcblx0aWYoIXdiIHx8ICF3Yi5TaGVldE5hbWVzIHx8ICF3Yi5TaGVldHMpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgV29ya2Jvb2tcIik7XG5cdGlmKCF3Yi5TaGVldE5hbWVzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKFwiV29ya2Jvb2sgaXMgZW1wdHlcIik7XG5cdHZhciBTaGVldHMgPSAod2IuV29ya2Jvb2sgJiYgd2IuV29ya2Jvb2suU2hlZXRzKSB8fCBbXTtcblx0Y2hlY2tfd2JfbmFtZXMod2IuU2hlZXROYW1lcywgU2hlZXRzLCAhIXdiLnZiYXJhdyk7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCB3Yi5TaGVldE5hbWVzLmxlbmd0aDsgKytpKSBjaGVja193cyh3Yi5TaGVldHNbd2IuU2hlZXROYW1lc1tpXV0sIHdiLlNoZWV0TmFtZXNbaV0sIGkpO1xuXHR3Yi5TaGVldE5hbWVzLmZvckVhY2goZnVuY3Rpb24obiwgaSkge1xuXHRcdHZhciB3cyA9IHdiLlNoZWV0c1tuXTtcblx0XHRpZighd3MgfHwgIXdzW1wiIWF1dG9maWx0ZXJcIl0pIHJldHVybjtcblx0XHR2YXIgRE47XG5cdFx0aWYoIXdiLldvcmtib29rKSB3Yi5Xb3JrYm9vayA9IHt9O1xuXHRcdGlmKCF3Yi5Xb3JrYm9vay5OYW1lcykgd2IuV29ya2Jvb2suTmFtZXMgPSBbXTtcblx0XHR3Yi5Xb3JrYm9vay5OYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGRuKSB7IGlmKGRuLk5hbWUgPT0gXCJfeGxubS5fRmlsdGVyRGF0YWJhc2VcIiAmJiBkbi5TaGVldCA9PSBpKSBETiA9IGRuOyB9KTtcblx0XHR2YXIgbm4gPSBmb3JtdWxhX3F1b3RlX3NoZWV0X25hbWUobikgKyBcIiFcIiArIGZpeF9yYW5nZSh3c1tcIiFhdXRvZmlsdGVyXCJdLnJlZik7XG5cdFx0aWYoRE4pIEROLlJlZiA9IG5uO1xuXHRcdGVsc2Ugd2IuV29ya2Jvb2suTmFtZXMucHVzaCh7TmFtZTogXCJfeGxubS5fRmlsdGVyRGF0YWJhc2VcIiwgU2hlZXQ6IGksIFJlZjogbm59KTtcblx0fSk7XG5cdC8qIFRPRE86IHZhbGlkYXRlIHdvcmtib29rICovXG59XG4vKiAxOC4yIFdvcmtib29rICovXG52YXIgd2Juc3JlZ2V4ID0gLzxcXHcrOndvcmtib29rLztcbmZ1bmN0aW9uIHBhcnNlX3diX3htbChkYXRhLCBvcHRzKS8qOldvcmtib29rRmlsZSovIHtcblx0aWYoIWRhdGEpIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIGZpbGVcIik7XG5cdHZhciB3YiA9IC8qOjooKi97IEFwcFZlcnNpb246e30sIFdCUHJvcHM6e30sIFdCVmlldzpbXSwgU2hlZXRzOltdLCBDYWxjUHI6e30sIE5hbWVzOltdLCB4bWxuczogXCJcIiB9Lyo6OikqLztcblx0dmFyIHBhc3MgPSBmYWxzZSwgeG1sbnMgPSBcInhtbG5zXCI7XG5cdHZhciBkbmFtZSA9IHt9LCBkbnN0YXJ0ID0gMDtcblx0ZGF0YS5yZXBsYWNlKHRhZ3JlZ2V4LCBmdW5jdGlvbiB4bWxfd2IoeCwgaWR4KSB7XG5cdFx0dmFyIHkvKjphbnkqLyA9IHBhcnNleG1sdGFnKHgpO1xuXHRcdHN3aXRjaChzdHJpcF9ucyh5WzBdKSkge1xuXHRcdFx0Y2FzZSAnPD94bWwnOiBicmVhaztcblxuXHRcdFx0LyogMTguMi4yNyB3b3JrYm9vayBDVF9Xb3JrYm9vayAxICovXG5cdFx0XHRjYXNlICc8d29ya2Jvb2snOlxuXHRcdFx0XHRpZih4Lm1hdGNoKHdibnNyZWdleCkpIHhtbG5zID0gXCJ4bWxuc1wiICsgeC5tYXRjaCgvPChcXHcrKTovKVsxXTtcblx0XHRcdFx0d2IueG1sbnMgPSB5W3htbG5zXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICc8L3dvcmtib29rPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjEzIGZpbGVWZXJzaW9uIENUX0ZpbGVWZXJzaW9uID8gKi9cblx0XHRcdGNhc2UgJzxmaWxlVmVyc2lvbic6IGRlbGV0ZSB5WzBdOyB3Yi5BcHBWZXJzaW9uID0geTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8ZmlsZVZlcnNpb24vPic6IGNhc2UgJzwvZmlsZVZlcnNpb24+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjIuMTIgZmlsZVNoYXJpbmcgQ1RfRmlsZVNoYXJpbmcgPyAqL1xuXHRcdFx0Y2FzZSAnPGZpbGVTaGFyaW5nJzpcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICc8ZmlsZVNoYXJpbmcvPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjI4IHdvcmtib29rUHIgQ1RfV29ya2Jvb2tQciA/ICovXG5cdFx0XHRjYXNlICc8d29ya2Jvb2tQcic6XG5cdFx0XHRjYXNlICc8d29ya2Jvb2tQci8+Jzpcblx0XHRcdFx0V0JQcm9wc0RlZi5mb3JFYWNoKGZ1bmN0aW9uKHcpIHtcblx0XHRcdFx0XHRpZih5W3dbMF1dID09IG51bGwpIHJldHVybjtcblx0XHRcdFx0XHRzd2l0Y2god1syXSkge1xuXHRcdFx0XHRcdFx0Y2FzZSBcImJvb2xcIjogd2IuV0JQcm9wc1t3WzBdXSA9IHBhcnNleG1sYm9vbCh5W3dbMF1dKTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwiaW50XCI6IHdiLldCUHJvcHNbd1swXV0gPSBwYXJzZUludCh5W3dbMF1dLCAxMCk7IGJyZWFrO1xuXHRcdFx0XHRcdFx0ZGVmYXVsdDogd2IuV0JQcm9wc1t3WzBdXSA9IHlbd1swXV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYoeS5jb2RlTmFtZSkgd2IuV0JQcm9wcy5Db2RlTmFtZSA9IHV0ZjhyZWFkKHkuY29kZU5hbWUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJzwvd29ya2Jvb2tQcj4nOiBicmVhaztcblxuXHRcdFx0LyogMTguMi4yOSB3b3JrYm9va1Byb3RlY3Rpb24gQ1RfV29ya2Jvb2tQcm90ZWN0aW9uID8gKi9cblx0XHRcdGNhc2UgJzx3b3JrYm9va1Byb3RlY3Rpb24nOlxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJzx3b3JrYm9va1Byb3RlY3Rpb24vPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjEgIGJvb2tWaWV3cyBDVF9Cb29rVmlld3MgPyAqL1xuXHRcdFx0Y2FzZSAnPGJvb2tWaWV3cyc6IGNhc2UgJzxib29rVmlld3M+JzogY2FzZSAnPC9ib29rVmlld3M+JzogYnJlYWs7XG5cdFx0XHQvKiAxOC4yLjMwICAgd29ya2Jvb2tWaWV3IENUX0Jvb2tWaWV3ICsgKi9cblx0XHRcdGNhc2UgJzx3b3JrYm9va1ZpZXcnOiBjYXNlICc8d29ya2Jvb2tWaWV3Lz4nOiBkZWxldGUgeVswXTsgd2IuV0JWaWV3LnB1c2goeSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC93b3JrYm9va1ZpZXc+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjIuMjAgc2hlZXRzIENUX1NoZWV0cyAxICovXG5cdFx0XHRjYXNlICc8c2hlZXRzJzogY2FzZSAnPHNoZWV0cz4nOiBjYXNlICc8L3NoZWV0cz4nOiBicmVhazsgLy8gYWdncmVnYXRlIHNoZWV0XG5cdFx0XHQvKiAxOC4yLjE5ICAgc2hlZXQgQ1RfU2hlZXQgKyAqL1xuXHRcdFx0Y2FzZSAnPHNoZWV0Jzpcblx0XHRcdFx0c3dpdGNoKHkuc3RhdGUpIHtcblx0XHRcdFx0XHRjYXNlIFwiaGlkZGVuXCI6IHkuSGlkZGVuID0gMTsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcInZlcnlIaWRkZW5cIjogeS5IaWRkZW4gPSAyOyBicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OiB5LkhpZGRlbiA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGVsZXRlIHkuc3RhdGU7XG5cdFx0XHRcdHkubmFtZSA9IHVuZXNjYXBleG1sKHV0ZjhyZWFkKHkubmFtZSkpO1xuXHRcdFx0XHRkZWxldGUgeVswXTsgd2IuU2hlZXRzLnB1c2goeSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9zaGVldD4nOiBicmVhaztcblxuXHRcdFx0LyogMTguMi4xNSBmdW5jdGlvbkdyb3VwcyBDVF9GdW5jdGlvbkdyb3VwcyA/ICovXG5cdFx0XHRjYXNlICc8ZnVuY3Rpb25Hcm91cHMnOiBjYXNlICc8ZnVuY3Rpb25Hcm91cHMvPic6IGJyZWFrO1xuXHRcdFx0LyogMTguMi4xNCAgIGZ1bmN0aW9uR3JvdXAgQ1RfRnVuY3Rpb25Hcm91cCArICovXG5cdFx0XHRjYXNlICc8ZnVuY3Rpb25Hcm91cCc6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjkgIGV4dGVybmFsUmVmZXJlbmNlcyBDVF9FeHRlcm5hbFJlZmVyZW5jZXMgPyAqL1xuXHRcdFx0Y2FzZSAnPGV4dGVybmFsUmVmZXJlbmNlcyc6IGNhc2UgJzwvZXh0ZXJuYWxSZWZlcmVuY2VzPic6IGNhc2UgJzxleHRlcm5hbFJlZmVyZW5jZXM+JzogYnJlYWs7XG5cdFx0XHQvKiAxOC4yLjggICAgZXh0ZXJuYWxSZWZlcmVuY2UgQ1RfRXh0ZXJuYWxSZWZlcmVuY2UgKyAqL1xuXHRcdFx0Y2FzZSAnPGV4dGVybmFsUmVmZXJlbmNlJzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjIuNiAgZGVmaW5lZE5hbWVzIENUX0RlZmluZWROYW1lcyA/ICovXG5cdFx0XHRjYXNlICc8ZGVmaW5lZE5hbWVzLz4nOiBicmVhaztcblx0XHRcdGNhc2UgJzxkZWZpbmVkTmFtZXM+JzogY2FzZSAnPGRlZmluZWROYW1lcyc6IHBhc3M9dHJ1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlICc8L2RlZmluZWROYW1lcz4nOiBwYXNzPWZhbHNlOyBicmVhaztcblx0XHRcdC8qIDE4LjIuNSAgICBkZWZpbmVkTmFtZSBDVF9EZWZpbmVkTmFtZSArICovXG5cdFx0XHRjYXNlICc8ZGVmaW5lZE5hbWUnOiB7XG5cdFx0XHRcdGRuYW1lID0ge307XG5cdFx0XHRcdGRuYW1lLk5hbWUgPSB1dGY4cmVhZCh5Lm5hbWUpO1xuXHRcdFx0XHRpZih5LmNvbW1lbnQpIGRuYW1lLkNvbW1lbnQgPSB5LmNvbW1lbnQ7XG5cdFx0XHRcdGlmKHkubG9jYWxTaGVldElkKSBkbmFtZS5TaGVldCA9ICt5LmxvY2FsU2hlZXRJZDtcblx0XHRcdFx0aWYocGFyc2V4bWxib29sKHkuaGlkZGVufHxcIjBcIikpIGRuYW1lLkhpZGRlbiA9IHRydWU7XG5cdFx0XHRcdGRuc3RhcnQgPSBpZHggKyB4Lmxlbmd0aDtcblx0XHRcdH1cdGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9kZWZpbmVkTmFtZT4nOiB7XG5cdFx0XHRcdGRuYW1lLlJlZiA9IHVuZXNjYXBleG1sKHV0ZjhyZWFkKGRhdGEuc2xpY2UoZG5zdGFydCwgaWR4KSkpO1xuXHRcdFx0XHR3Yi5OYW1lcy5wdXNoKGRuYW1lKTtcblx0XHRcdH0gYnJlYWs7XG5cdFx0XHRjYXNlICc8ZGVmaW5lZE5hbWUvPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjIgIGNhbGNQciBDVF9DYWxjUHIgPyAqL1xuXHRcdFx0Y2FzZSAnPGNhbGNQcic6IGRlbGV0ZSB5WzBdOyB3Yi5DYWxjUHIgPSB5OyBicmVhaztcblx0XHRcdGNhc2UgJzxjYWxjUHIvPic6IGRlbGV0ZSB5WzBdOyB3Yi5DYWxjUHIgPSB5OyBicmVhaztcblx0XHRcdGNhc2UgJzwvY2FsY1ByPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjE2IG9sZVNpemUgQ1RfT2xlU2l6ZSA/IChyZWYgcmVxdWlyZWQpICovXG5cdFx0XHRjYXNlICc8b2xlU2l6ZSc6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjQgIGN1c3RvbVdvcmtib29rVmlld3MgQ1RfQ3VzdG9tV29ya2Jvb2tWaWV3cyA/ICovXG5cdFx0XHRjYXNlICc8Y3VzdG9tV29ya2Jvb2tWaWV3cz4nOiBjYXNlICc8L2N1c3RvbVdvcmtib29rVmlld3M+JzogY2FzZSAnPGN1c3RvbVdvcmtib29rVmlld3MnOiBicmVhaztcblx0XHRcdC8qIDE4LjIuMyAgY3VzdG9tV29ya2Jvb2tWaWV3IENUX0N1c3RvbVdvcmtib29rVmlldyArICovXG5cdFx0XHRjYXNlICc8Y3VzdG9tV29ya2Jvb2tWaWV3JzogY2FzZSAnPC9jdXN0b21Xb3JrYm9va1ZpZXc+JzogYnJlYWs7XG5cblx0XHRcdC8qIDE4LjIuMTggcGl2b3RDYWNoZXMgQ1RfUGl2b3RDYWNoZXMgPyAqL1xuXHRcdFx0Y2FzZSAnPHBpdm90Q2FjaGVzPic6IGNhc2UgJzwvcGl2b3RDYWNoZXM+JzogY2FzZSAnPHBpdm90Q2FjaGVzJzogYnJlYWs7XG5cdFx0XHQvKiAxOC4yLjE3IHBpdm90Q2FjaGUgQ1RfUGl2b3RDYWNoZSA/ICovXG5cdFx0XHRjYXNlICc8cGl2b3RDYWNoZSc6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjIxIHNtYXJ0VGFnUHIgQ1RfU21hcnRUYWdQciA/ICovXG5cdFx0XHRjYXNlICc8c21hcnRUYWdQcic6IGNhc2UgJzxzbWFydFRhZ1ByLz4nOiBicmVhaztcblxuXHRcdFx0LyogMTguMi4yMyBzbWFydFRhZ1R5cGVzIENUX1NtYXJ0VGFnVHlwZXMgPyAqL1xuXHRcdFx0Y2FzZSAnPHNtYXJ0VGFnVHlwZXMnOiBjYXNlICc8c21hcnRUYWdUeXBlcz4nOiBjYXNlICc8L3NtYXJ0VGFnVHlwZXM+JzogYnJlYWs7XG5cdFx0XHQvKiAxOC4yLjIyIHNtYXJ0VGFnVHlwZSBDVF9TbWFydFRhZ1R5cGUgPyAqL1xuXHRcdFx0Y2FzZSAnPHNtYXJ0VGFnVHlwZSc6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjI0IHdlYlB1Ymxpc2hpbmcgQ1RfV2ViUHVibGlzaGluZyA/ICovXG5cdFx0XHRjYXNlICc8d2ViUHVibGlzaGluZyc6IGNhc2UgJzx3ZWJQdWJsaXNoaW5nLz4nOiBicmVhaztcblxuXHRcdFx0LyogMTguMi4xMSBmaWxlUmVjb3ZlcnlQciBDVF9GaWxlUmVjb3ZlcnlQciA/ICovXG5cdFx0XHRjYXNlICc8ZmlsZVJlY292ZXJ5UHInOiBjYXNlICc8ZmlsZVJlY292ZXJ5UHIvPic6IGJyZWFrO1xuXG5cdFx0XHQvKiAxOC4yLjI2IHdlYlB1Ymxpc2hPYmplY3RzIENUX1dlYlB1Ymxpc2hPYmplY3RzID8gKi9cblx0XHRcdGNhc2UgJzx3ZWJQdWJsaXNoT2JqZWN0cz4nOiBjYXNlICc8d2ViUHVibGlzaE9iamVjdHMnOiBjYXNlICc8L3dlYlB1Ymxpc2hPYmplY3RzPic6IGJyZWFrO1xuXHRcdFx0LyogMTguMi4yNSB3ZWJQdWJsaXNoT2JqZWN0IENUX1dlYlB1Ymxpc2hPYmplY3QgPyAqL1xuXHRcdFx0Y2FzZSAnPHdlYlB1Ymxpc2hPYmplY3QnOiBicmVhaztcblxuXHRcdFx0LyogMTguMi4xMCBleHRMc3QgQ1RfRXh0ZW5zaW9uTGlzdCA/ICovXG5cdFx0XHRjYXNlICc8ZXh0THN0JzogY2FzZSAnPGV4dExzdD4nOiBjYXNlICc8L2V4dExzdD4nOiBjYXNlICc8ZXh0THN0Lz4nOiBicmVhaztcblx0XHRcdC8qIDE4LjIuNyAgZXh0IENUX0V4dGVuc2lvbiArICovXG5cdFx0XHRjYXNlICc8ZXh0JzogcGFzcz10cnVlOyBicmVhazsgLy9UT0RPOiBjaGVjayB3aXRoIHZlcnNpb25zIG9mIGV4Y2VsXG5cdFx0XHRjYXNlICc8L2V4dD4nOiBwYXNzPWZhbHNlOyBicmVhaztcblxuXHRcdFx0LyogT3RoZXJzICovXG5cdFx0XHRjYXNlICc8QXJjaElEJzogYnJlYWs7XG5cdFx0XHRjYXNlICc8QWx0ZXJuYXRlQ29udGVudCc6XG5cdFx0XHRjYXNlICc8QWx0ZXJuYXRlQ29udGVudD4nOiBwYXNzPXRydWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnPC9BbHRlcm5hdGVDb250ZW50Pic6IHBhc3M9ZmFsc2U7IGJyZWFrO1xuXG5cdFx0XHQvKiBUT0RPICovXG5cdFx0XHRjYXNlICc8cmV2aXNpb25QdHInOiBicmVhaztcblxuXHRcdFx0ZGVmYXVsdDogaWYoIXBhc3MgJiYgb3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkICcgKyB5WzBdICsgJyBpbiB3b3JrYm9vaycpO1xuXHRcdH1cblx0XHRyZXR1cm4geDtcblx0fSk7XG5cdGlmKFhNTE5TX21haW4uaW5kZXhPZih3Yi54bWxucykgPT09IC0xKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIE5hbWVzcGFjZTogXCIgKyB3Yi54bWxucyk7XG5cblx0cGFyc2Vfd2JfZGVmYXVsdHMod2IpO1xuXG5cdHJldHVybiB3Yjtcbn1cblxuZnVuY3Rpb24gd3JpdGVfd2JfeG1sKHdiLyo6V29ya2Jvb2sqLy8qOjosIG9wdHM6P1dyaXRlT3B0cyovKS8qOnN0cmluZyovIHtcblx0dmFyIG8gPSBbWE1MX0hFQURFUl07XG5cdG9bby5sZW5ndGhdID0gd3JpdGV4dGFnKCd3b3JrYm9vaycsIG51bGwsIHtcblx0XHQneG1sbnMnOiBYTUxOU19tYWluWzBdLFxuXHRcdC8vJ3htbG5zOm14JzogWE1MTlMubXgsXG5cdFx0Ly8neG1sbnM6cyc6IFhNTE5TX21haW5bMF0sXG5cdFx0J3htbG5zOnInOiBYTUxOUy5yXG5cdH0pO1xuXG5cdHZhciB3cml0ZV9uYW1lcyA9ICh3Yi5Xb3JrYm9vayAmJiAod2IuV29ya2Jvb2suTmFtZXN8fFtdKS5sZW5ndGggPiAwKTtcblxuXHQvKiBmaWxlVmVyc2lvbiAqL1xuXHQvKiBmaWxlU2hhcmluZyAqL1xuXG5cdHZhciB3b3JrYm9va1ByLyo6YW55Ki8gPSAoe2NvZGVOYW1lOlwiVGhpc1dvcmtib29rXCJ9Lyo6YW55Ki8pO1xuXHRpZih3Yi5Xb3JrYm9vayAmJiB3Yi5Xb3JrYm9vay5XQlByb3BzKSB7XG5cdFx0V0JQcm9wc0RlZi5mb3JFYWNoKGZ1bmN0aW9uKHgpIHtcblx0XHRcdC8qOjogaWYoIXdiLldvcmtib29rIHx8ICF3Yi5Xb3JrYm9vay5XQlByb3BzKSB0aHJvdyBcInVucmVhY2hhYmxlXCI7ICovXG5cdFx0XHRpZigod2IuV29ya2Jvb2suV0JQcm9wc1t4WzBdXS8qOmFueSovKSA9PSBudWxsKSByZXR1cm47XG5cdFx0XHRpZigod2IuV29ya2Jvb2suV0JQcm9wc1t4WzBdXS8qOmFueSovKSA9PSB4WzFdKSByZXR1cm47XG5cdFx0XHR3b3JrYm9va1ByW3hbMF1dID0gKHdiLldvcmtib29rLldCUHJvcHNbeFswXV0vKjphbnkqLyk7XG5cdFx0fSk7XG5cdFx0Lyo6OiBpZighd2IuV29ya2Jvb2sgfHwgIXdiLldvcmtib29rLldCUHJvcHMpIHRocm93IFwidW5yZWFjaGFibGVcIjsgKi9cblx0XHRpZih3Yi5Xb3JrYm9vay5XQlByb3BzLkNvZGVOYW1lKSB7IHdvcmtib29rUHIuY29kZU5hbWUgPSB3Yi5Xb3JrYm9vay5XQlByb3BzLkNvZGVOYW1lOyBkZWxldGUgd29ya2Jvb2tQci5Db2RlTmFtZTsgfVxuXHR9XG5cdG9bby5sZW5ndGhdID0gKHdyaXRleHRhZygnd29ya2Jvb2tQcicsIG51bGwsIHdvcmtib29rUHIpKTtcblxuXHQvKiB3b3JrYm9va1Byb3RlY3Rpb24gKi9cblxuXHR2YXIgc2hlZXRzID0gd2IuV29ya2Jvb2sgJiYgd2IuV29ya2Jvb2suU2hlZXRzIHx8IFtdO1xuXHR2YXIgaSA9IDA7XG5cblx0LyogYm9va1ZpZXdzIG9ubHkgd3JpdHRlbiBpZiBmaXJzdCB3b3Jrc2hlZXQgaXMgaGlkZGVuICovXG5cdGlmKHNoZWV0cyAmJiBzaGVldHNbMF0gJiYgISFzaGVldHNbMF0uSGlkZGVuKSB7XG5cdFx0b1tvLmxlbmd0aF0gPSBcIjxib29rVmlld3M+XCI7XG5cdFx0Zm9yKGkgPSAwOyBpICE9IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK2kpIHtcblx0XHRcdGlmKCFzaGVldHNbaV0pIGJyZWFrO1xuXHRcdFx0aWYoIXNoZWV0c1tpXS5IaWRkZW4pIGJyZWFrO1xuXHRcdH1cblx0XHRpZihpID09IHdiLlNoZWV0TmFtZXMubGVuZ3RoKSBpID0gMDtcblx0XHRvW28ubGVuZ3RoXSA9ICc8d29ya2Jvb2tWaWV3IGZpcnN0U2hlZXQ9XCInICsgaSArICdcIiBhY3RpdmVUYWI9XCInICsgaSArICdcIi8+Jztcblx0XHRvW28ubGVuZ3RoXSA9IFwiPC9ib29rVmlld3M+XCI7XG5cdH1cblxuXHRvW28ubGVuZ3RoXSA9IFwiPHNoZWV0cz5cIjtcblx0Zm9yKGkgPSAwOyBpICE9IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK2kpIHtcblx0XHR2YXIgc2h0ID0gKHtuYW1lOmVzY2FwZXhtbCh3Yi5TaGVldE5hbWVzW2ldLnNsaWNlKDAsMzEpKX0vKjphbnkqLyk7XG5cdFx0c2h0LnNoZWV0SWQgPSBcIlwiKyhpKzEpO1xuXHRcdHNodFtcInI6aWRcIl0gPSBcInJJZFwiKyhpKzEpO1xuXHRcdGlmKHNoZWV0c1tpXSkgc3dpdGNoKHNoZWV0c1tpXS5IaWRkZW4pIHtcblx0XHRcdGNhc2UgMTogc2h0LnN0YXRlID0gXCJoaWRkZW5cIjsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6IHNodC5zdGF0ZSA9IFwidmVyeUhpZGRlblwiOyBicmVhaztcblx0XHR9XG5cdFx0b1tvLmxlbmd0aF0gPSAod3JpdGV4dGFnKCdzaGVldCcsbnVsbCxzaHQpKTtcblx0fVxuXHRvW28ubGVuZ3RoXSA9IFwiPC9zaGVldHM+XCI7XG5cblx0LyogZnVuY3Rpb25Hcm91cHMgKi9cblx0LyogZXh0ZXJuYWxSZWZlcmVuY2VzICovXG5cblx0aWYod3JpdGVfbmFtZXMpIHtcblx0XHRvW28ubGVuZ3RoXSA9IFwiPGRlZmluZWROYW1lcz5cIjtcblx0XHRpZih3Yi5Xb3JrYm9vayAmJiB3Yi5Xb3JrYm9vay5OYW1lcykgd2IuV29ya2Jvb2suTmFtZXMuZm9yRWFjaChmdW5jdGlvbihuKSB7XG5cdFx0XHR2YXIgZC8qOmFueSovID0ge25hbWU6bi5OYW1lfTtcblx0XHRcdGlmKG4uQ29tbWVudCkgZC5jb21tZW50ID0gbi5Db21tZW50O1xuXHRcdFx0aWYobi5TaGVldCAhPSBudWxsKSBkLmxvY2FsU2hlZXRJZCA9IFwiXCIrbi5TaGVldDtcblx0XHRcdGlmKG4uSGlkZGVuKSBkLmhpZGRlbiA9IFwiMVwiO1xuXHRcdFx0aWYoIW4uUmVmKSByZXR1cm47XG5cdFx0XHRvW28ubGVuZ3RoXSA9IHdyaXRleHRhZygnZGVmaW5lZE5hbWUnLCBlc2NhcGV4bWwobi5SZWYpLCBkKTtcblx0XHR9KTtcblx0XHRvW28ubGVuZ3RoXSA9IFwiPC9kZWZpbmVkTmFtZXM+XCI7XG5cdH1cblxuXHQvKiBjYWxjUHIgKi9cblx0Lyogb2xlU2l6ZSAqL1xuXHQvKiBjdXN0b21Xb3JrYm9va1ZpZXdzICovXG5cdC8qIHBpdm90Q2FjaGVzICovXG5cdC8qIHNtYXJ0VGFnUHIgKi9cblx0Lyogc21hcnRUYWdUeXBlcyAqL1xuXHQvKiB3ZWJQdWJsaXNoaW5nICovXG5cdC8qIGZpbGVSZWNvdmVyeVByICovXG5cdC8qIHdlYlB1Ymxpc2hPYmplY3RzICovXG5cdC8qIGV4dExzdCAqL1xuXG5cdGlmKG8ubGVuZ3RoPjIpeyBvW28ubGVuZ3RoXSA9ICc8L3dvcmtib29rPic7IG9bMV09b1sxXS5yZXBsYWNlKFwiLz5cIixcIj5cIik7IH1cblx0cmV0dXJuIG8uam9pbihcIlwiKTtcbn1cbi8qIFtNUy1YTFNCXSAyLjQuMzA0IEJydEJ1bmRsZVNoICovXG5mdW5jdGlvbiBwYXJzZV9CcnRCdW5kbGVTaChkYXRhLCBsZW5ndGgvKjpudW1iZXIqLykge1xuXHR2YXIgeiA9IHt9O1xuXHR6LkhpZGRlbiA9IGRhdGEucmVhZF9zaGlmdCg0KTsgLy9oc1N0YXRlIFNUX1NoZWV0U3RhdGVcblx0ei5pVGFiSUQgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG5cdHouc3RyUmVsSUQgPSBwYXJzZV9SZWxJRChkYXRhLGxlbmd0aC04KTtcblx0ei5uYW1lID0gcGFyc2VfWExXaWRlU3RyaW5nKGRhdGEpO1xuXHRyZXR1cm4gejtcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydEJ1bmRsZVNoKGRhdGEsIG8pIHtcblx0aWYoIW8pIG8gPSBuZXdfYnVmKDEyNyk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgZGF0YS5IaWRkZW4pO1xuXHRvLndyaXRlX3NoaWZ0KDQsIGRhdGEuaVRhYklEKTtcblx0d3JpdGVfUmVsSUQoZGF0YS5zdHJSZWxJRCwgbyk7XG5cdHdyaXRlX1hMV2lkZVN0cmluZyhkYXRhLm5hbWUuc2xpY2UoMCwzMSksIG8pO1xuXHRyZXR1cm4gby5sZW5ndGggPiBvLmwgPyBvLnNsaWNlKDAsIG8ubCkgOiBvO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjgxNSBCcnRXYlByb3AgKi9cbmZ1bmN0aW9uIHBhcnNlX0JydFdiUHJvcChkYXRhLCBsZW5ndGgpLyo6V0JQcm9wcyovIHtcblx0dmFyIG8vKjpXQlByb3BzKi8gPSAoe30vKjphbnkqLyk7XG5cdHZhciBmbGFncyA9IGRhdGEucmVhZF9zaGlmdCg0KTtcblx0by5kZWZhdWx0VGhlbWVWZXJzaW9uID0gZGF0YS5yZWFkX3NoaWZ0KDQpO1xuXHR2YXIgc3RyTmFtZSA9IChsZW5ndGggPiA4KSA/IHBhcnNlX1hMV2lkZVN0cmluZyhkYXRhKSA6IFwiXCI7XG5cdGlmKHN0ck5hbWUubGVuZ3RoID4gMCkgby5Db2RlTmFtZSA9IHN0ck5hbWU7XG5cdG8uYXV0b0NvbXByZXNzUGljdHVyZXMgPSAhIShmbGFncyAmIDB4MTAwMDApO1xuXHRvLmJhY2t1cEZpbGUgPSAhIShmbGFncyAmIDB4NDApO1xuXHRvLmNoZWNrQ29tcGF0aWJpbGl0eSA9ICEhKGZsYWdzICYgMHgxMDAwKTtcblx0by5kYXRlMTkwNCA9ICEhKGZsYWdzICYgMHgwMSk7XG5cdG8uZmlsdGVyUHJpdmFjeSA9ICEhKGZsYWdzICYgMHgwOCk7XG5cdG8uaGlkZVBpdm90RmllbGRMaXN0ID0gISEoZmxhZ3MgJiAweDQwMCk7XG5cdG8ucHJvbXB0ZWRTb2x1dGlvbnMgPSAhIShmbGFncyAmIDB4MTApO1xuXHRvLnB1Ymxpc2hJdGVtcyA9ICEhKGZsYWdzICYgMHg4MDApO1xuXHRvLnJlZnJlc2hBbGxDb25uZWN0aW9ucyA9ICEhKGZsYWdzICYgMHg0MDAwMCk7XG5cdG8uc2F2ZUV4dGVybmFsTGlua1ZhbHVlcyA9ICEhKGZsYWdzICYgMHg4MCk7XG5cdG8uc2hvd0JvcmRlclVuc2VsZWN0ZWRUYWJsZXMgPSAhIShmbGFncyAmIDB4MDQpO1xuXHRvLnNob3dJbmtBbm5vdGF0aW9uID0gISEoZmxhZ3MgJiAweDIwKTtcblx0by5zaG93T2JqZWN0cyA9IFtcImFsbFwiLCBcInBsYWNlaG9sZGVyc1wiLCBcIm5vbmVcIl1bKGZsYWdzID4+IDEzKSAmIDB4MDNdO1xuXHRvLnNob3dQaXZvdENoYXJ0RmlsdGVyID0gISEoZmxhZ3MgJiAweDgwMDApO1xuXHRvLnVwZGF0ZUxpbmtzID0gW1widXNlclNldFwiLCBcIm5ldmVyXCIsIFwiYWx3YXlzXCJdWyhmbGFncyA+PiA4KSAmIDB4MDNdO1xuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHdyaXRlX0JydFdiUHJvcChkYXRhLyo6P1dCUHJvcHMqLywgbykge1xuXHRpZighbykgbyA9IG5ld19idWYoNzIpO1xuXHR2YXIgZmxhZ3MgPSAwO1xuXHRpZihkYXRhKSB7XG5cdFx0LyogVE9ETzogbWlycm9yIHBhcnNlX0JydFdiUHJvcCBmaWVsZHMgKi9cblx0XHRpZihkYXRhLmRhdGUxOTA0KSBmbGFncyB8PSAweDAxO1xuXHRcdGlmKGRhdGEuZmlsdGVyUHJpdmFjeSkgZmxhZ3MgfD0gMHgwODtcblx0fVxuXHRvLndyaXRlX3NoaWZ0KDQsIGZsYWdzKTtcblx0by53cml0ZV9zaGlmdCg0LCAwKTtcblx0d3JpdGVfWExTQkNvZGVOYW1lKGRhdGEgJiYgZGF0YS5Db2RlTmFtZSB8fCBcIlRoaXNXb3JrYm9va1wiLCBvKTtcblx0cmV0dXJuIG8uc2xpY2UoMCwgby5sKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VfQnJ0RlJUQXJjaElEJChkYXRhLCBsZW5ndGgpIHtcblx0dmFyIG8gPSB7fTtcblx0ZGF0YS5yZWFkX3NoaWZ0KDQpO1xuXHRvLkFyY2hJRCA9IGRhdGEucmVhZF9zaGlmdCg0KTtcblx0ZGF0YS5sICs9IGxlbmd0aCAtIDg7XG5cdHJldHVybiBvO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjY4NyBCcnROYW1lICovXG5mdW5jdGlvbiBwYXJzZV9CcnROYW1lKGRhdGEsIGxlbmd0aCwgb3B0cykge1xuXHR2YXIgZW5kID0gZGF0YS5sICsgbGVuZ3RoO1xuXHR2YXIgZmxhZ3MgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG5cdGRhdGEubCArPSAxOyAvL3ZhciBjaEtleSA9IGRhdGEucmVhZF9zaGlmdCgxKTtcblx0dmFyIGl0YWIgPSBkYXRhLnJlYWRfc2hpZnQoNCk7XG5cdHZhciBuYW1lID0gcGFyc2VfWExOYW1lV2lkZVN0cmluZyhkYXRhKTtcblx0dmFyIGZvcm11bGE7XG5cdHZhciBjb21tZW50ID0gXCJcIjtcblx0dHJ5IHtcblx0XHRmb3JtdWxhID0gcGFyc2VfWExTQk5hbWVQYXJzZWRGb3JtdWxhKGRhdGEsIDAsIG9wdHMpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb21tZW50ID0gcGFyc2VfWExOdWxsYWJsZVdpZGVTdHJpbmcoZGF0YSk7XG5cdFx0fSBjYXRjaChlKXt9XG5cdH0gY2F0Y2goZSkgeyBjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IHBhcnNlIGRlZmluZWQgbmFtZSBcIiArIG5hbWUpOyB9XG5cdGlmKGZsYWdzICYgMHgyMCkgbmFtZSA9IFwiX3hsbm0uXCIgKyBuYW1lO1xuXHQvL2lmKDAgLyogZlByb2MgKi8pIHtcblx0XHQvLyB1bnVzZWRzdHJpbmcxOiBYTE51bGxhYmxlV2lkZVN0cmluZ1xuXHRcdC8vIGRlc2NyaXB0aW9uOiBYTE51bGxhYmxlV2lkZVN0cmluZ1xuXHRcdC8vIGhlbHBUb3BpYzogWExOdWxsYWJsZVdpZGVTdHJpbmdcblx0XHQvLyB1bnVzZWRzdHJpbmcyOiBYTE51bGxhYmxlV2lkZVN0cmluZ1xuXHQvL31cblx0ZGF0YS5sID0gZW5kO1xuXHR2YXIgb3V0ID0gKHtOYW1lOm5hbWUsIFB0Zzpmb3JtdWxhLCBGbGFnczogZmxhZ3N9Lyo6YW55Ki8pO1xuXHRpZihpdGFiIDwgMHhGRkZGRkZGKSBvdXQuU2hlZXQgPSBpdGFiO1xuXHRpZihjb21tZW50KSBvdXQuQ29tbWVudCA9IGNvbW1lbnQ7XG5cdHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiB3cml0ZV9CcnROYW1lKG5hbWUsIHdiKSB7XG5cdHZhciBvID0gbmV3X2J1Zig5KTtcblx0dmFyIGZsYWdzID0gMDtcblx0dmFyIGRuYW1lID0gbmFtZS5OYW1lO1xuXHRpZihYTFNMYmxCdWlsdEluLmluZGV4T2YoZG5hbWUpID4gLTEpIHsgZmxhZ3MgfD0gMHgyMDsgZG5hbWUgPSBkbmFtZS5zbGljZSg2KTsgfVxuXHRvLndyaXRlX3NoaWZ0KDQsIGZsYWdzKTsgLy8gZmxhZ3Ncblx0by53cml0ZV9zaGlmdCgxLCAwKTsgLy8gY2hLZXlcblx0by53cml0ZV9zaGlmdCg0LCBuYW1lLlNoZWV0ID09IG51bGwgPyAweEZGRkZGRkZGIDogbmFtZS5TaGVldCk7XG5cblx0dmFyIGFyciA9IFtcblx0XHRvLFxuXHRcdHdyaXRlX1hMV2lkZVN0cmluZyhkbmFtZSksXG5cdFx0d3JpdGVfWExTQk5hbWVQYXJzZWRGb3JtdWxhKG5hbWUuUmVmLCB3Yilcblx0XTtcblx0aWYobmFtZS5Db21tZW50KSBhcnIucHVzaCh3cml0ZV9YTE51bGxhYmxlV2lkZVN0cmluZyhuYW1lLkNvbW1lbnQpKTtcblx0ZWxzZSB7XG5cdFx0dmFyIHggPSBuZXdfYnVmKDQpO1xuXHRcdHgud3JpdGVfc2hpZnQoNCwgMHhGRkZGRkZGRik7XG5cdFx0YXJyLnB1c2goeCk7XG5cdH1cblxuXHQvLyBpZiBtYWNybyAoZmxhZ3MgJiAweDBGKTpcblx0Ly8gd3JpdGVfc2hpZnQoNCwgMHhGRkZGRkZGRik7XG5cdC8vIHdyaXRlX1hMTnVsbGFibGVXaWRlU3RyaW5nKGRlc2NyaXB0aW9uKVxuXHQvLyB3cml0ZV9YTE51bGxhYmxlV2lkZVN0cmluZyhoZWxwVG9waWMpXG5cdC8vIHdyaXRlX3NoaWZ0KDQsIDB4RkZGRkZGRkYpO1xuXG5cdHJldHVybiBiY29uY2F0KGFycik7XG59XG5cbi8qIFtNUy1YTFNCXSAyLjEuNy42MSBXb3JrYm9vayAqL1xuZnVuY3Rpb24gcGFyc2Vfd2JfYmluKGRhdGEsIG9wdHMpLyo6V29ya2Jvb2tGaWxlKi8ge1xuXHR2YXIgd2IgPSB7IEFwcFZlcnNpb246e30sIFdCUHJvcHM6e30sIFdCVmlldzpbXSwgU2hlZXRzOltdLCBDYWxjUHI6e30sIHhtbG5zOiBcIlwiIH07XG5cdHZhciBzdGF0ZS8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHR2YXIgcGFzcyA9IGZhbHNlO1xuXG5cdGlmKCFvcHRzKSBvcHRzID0ge307XG5cdG9wdHMuYmlmZiA9IDEyO1xuXG5cdHZhciBOYW1lcyA9IFtdO1xuXHR2YXIgc3VwYm9va3MgPSAoW1tdXS8qOmFueSovKTtcblx0c3VwYm9va3MuU2hlZXROYW1lcyA9IFtdO1xuXHRzdXBib29rcy5YVEkgPSBbXTtcblxuXHRYTFNCUmVjb3JkRW51bVsweDAwMTBdID0geyBuOlwiQnJ0RlJUQXJjaElEJFwiLCBmOnBhcnNlX0JydEZSVEFyY2hJRCQgfTtcblxuXHRyZWNvcmRob3BwZXIoZGF0YSwgZnVuY3Rpb24gaG9wcGVyX3diKHZhbCwgUiwgUlQpIHtcblx0XHRzd2l0Y2goUlQpIHtcblx0XHRcdGNhc2UgMHgwMDlDOiAvKiAnQnJ0QnVuZGxlU2gnICovXG5cdFx0XHRcdHN1cGJvb2tzLlNoZWV0TmFtZXMucHVzaCh2YWwubmFtZSk7XG5cdFx0XHRcdHdiLlNoZWV0cy5wdXNoKHZhbCk7IGJyZWFrO1xuXG5cdFx0XHRjYXNlIDB4MDA5OTogLyogJ0JydFdiUHJvcCcgKi9cblx0XHRcdFx0d2IuV0JQcm9wcyA9IHZhbDsgYnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMDI3OiAvKiAnQnJ0TmFtZScgKi9cblx0XHRcdFx0aWYodmFsLlNoZWV0ICE9IG51bGwpIG9wdHMuU0lEID0gdmFsLlNoZWV0O1xuXHRcdFx0XHR2YWwuUmVmID0gdmFsLlB0ZyA/IHN0cmluZ2lmeV9mb3JtdWxhKHZhbC5QdGcsIG51bGwsIG51bGwsIHN1cGJvb2tzLCBvcHRzKSA6IFwiI1JFRiFcIjtcblx0XHRcdFx0ZGVsZXRlIG9wdHMuU0lEO1xuXHRcdFx0XHRkZWxldGUgdmFsLlB0Zztcblx0XHRcdFx0TmFtZXMucHVzaCh2YWwpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMHgwNDBDOiAvKiAnQnJ0TmFtZUV4dCcgKi8gYnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMTY1OiAvKiAnQnJ0U3VwU2VsZicgKi9cblx0XHRcdGNhc2UgMHgwMTY2OiAvKiAnQnJ0U3VwU2FtZScgKi9cblx0XHRcdGNhc2UgMHgwMTYzOiAvKiAnQnJ0U3VwQm9va1NyYycgKi9cblx0XHRcdGNhc2UgMHgwMjlCOiAvKiAnQnJ0U3VwQWRkaW4nICovXG5cdFx0XHRcdGlmKCFzdXBib29rc1swXS5sZW5ndGgpIHN1cGJvb2tzWzBdID0gW1JULCB2YWxdO1xuXHRcdFx0XHRlbHNlIHN1cGJvb2tzLnB1c2goW1JULCB2YWxdKTtcblx0XHRcdFx0c3VwYm9va3Nbc3VwYm9va3MubGVuZ3RoIC0gMV0uWFRJID0gW107XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAweDAxNkE6IC8qICdCcnRFeHRlcm5TaGVldCcgKi9cblx0XHRcdFx0aWYoc3VwYm9va3MubGVuZ3RoID09PSAwKSB7IHN1cGJvb2tzWzBdID0gW107IHN1cGJvb2tzWzBdLlhUSSA9IFtdOyB9XG5cdFx0XHRcdHN1cGJvb2tzW3N1cGJvb2tzLmxlbmd0aCAtIDFdLlhUSSA9IHN1cGJvb2tzW3N1cGJvb2tzLmxlbmd0aCAtIDFdLlhUSS5jb25jYXQodmFsKTtcblx0XHRcdFx0c3VwYm9va3MuWFRJID0gc3VwYm9va3MuWFRJLmNvbmNhdCh2YWwpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMHgwMTY5OiAvKiAnQnJ0UGxhY2Vob2xkZXJOYW1lJyAqL1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAweDA4MTc6IC8qICdCcnRBYnNQYXRoMTUnICovXG5cdFx0XHRjYXNlIDB4MDA5RTogLyogJ0JydEJvb2tWaWV3JyAqL1xuXHRcdFx0Y2FzZSAweDAwOEY6IC8qICdCcnRCZWdpbkJ1bmRsZVNocycgKi9cblx0XHRcdGNhc2UgMHgwMjk4OiAvKiAnQnJ0QmVnaW5Gbkdyb3VwJyAqL1xuXHRcdFx0Y2FzZSAweDAxNjE6IC8qICdCcnRCZWdpbkV4dGVybmFscycgKi9cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8qIGNhc2UgJ0JydE1vZGVsVGltZUdyb3VwaW5nQ2FsY0NvbCcgKi9cblx0XHRcdGNhc2UgMHgwQzAwOiAvKiAnQnJ0VWlkJyAqL1xuXHRcdFx0Y2FzZSAweDBDMDE6IC8qICdCcnRSZXZpc2lvblB0cicgKi9cblx0XHRcdGNhc2UgMHgwMjE2OiAvKiAnQnJ0Qm9va1Byb3RlY3Rpb24nICovXG5cdFx0XHRjYXNlIDB4MDJBNTogLyogJ0JydEJvb2tQcm90ZWN0aW9uSXNvJyAqL1xuXHRcdFx0Y2FzZSAweDAwOUQ6IC8qICdCcnRDYWxjUHJvcCcgKi9cblx0XHRcdGNhc2UgMHgwMjYyOiAvKiAnQnJ0Q3Jhc2hSZWNFcnInICovXG5cdFx0XHRjYXNlIDB4MDgwMjogLyogJ0JydERlY291cGxlZFBpdm90Q2FjaGVJRCcgKi9cblx0XHRcdGNhc2UgMHgwMDlCOiAvKiAnQnJ0RmlsZVJlY292ZXInICovXG5cdFx0XHRjYXNlIDB4MDIyNDogLyogJ0JydEZpbGVTaGFyaW5nJyAqL1xuXHRcdFx0Y2FzZSAweDAyQTQ6IC8qICdCcnRGaWxlU2hhcmluZ0lzbycgKi9cblx0XHRcdGNhc2UgMHgwMDgwOiAvKiAnQnJ0RmlsZVZlcnNpb24nICovXG5cdFx0XHRjYXNlIDB4MDI5OTogLyogJ0JydEZuR3JvdXAnICovXG5cdFx0XHRjYXNlIDB4MDg1MDogLyogJ0JydE1vZGVsUmVsYXRpb25zaGlwJyAqL1xuXHRcdFx0Y2FzZSAweDA4NEQ6IC8qICdCcnRNb2RlbFRhYmxlJyAqL1xuXHRcdFx0Y2FzZSAweDAyMjU6IC8qICdCcnRPbGVTaXplJyAqL1xuXHRcdFx0Y2FzZSAweDA4MDU6IC8qICdCcnRQaXZvdFRhYmxlUmVmJyAqL1xuXHRcdFx0Y2FzZSAweDAyNTQ6IC8qICdCcnRTbWFydFRhZ1R5cGUnICovXG5cdFx0XHRjYXNlIDB4MDgxQzogLyogJ0JydFRhYmxlU2xpY2VyQ2FjaGVJRCcgKi9cblx0XHRcdGNhc2UgMHgwODFCOiAvKiAnQnJ0VGFibGVTbGljZXJDYWNoZUlEcycgKi9cblx0XHRcdGNhc2UgMHgwODIyOiAvKiAnQnJ0VGltZWxpbmVDYWNoZVBpdm90Q2FjaGVJRCcgKi9cblx0XHRcdGNhc2UgMHgwMThEOiAvKiAnQnJ0VXNlckJvb2tWaWV3JyAqL1xuXHRcdFx0Y2FzZSAweDAwOUE6IC8qICdCcnRXYkZhY3RvaWQnICovXG5cdFx0XHRjYXNlIDB4MDQ1RDogLyogJ0JydFdiUHJvcDE0JyAqL1xuXHRcdFx0Y2FzZSAweDAyMjk6IC8qICdCcnRXZWJPcHQnICovXG5cdFx0XHRjYXNlIDB4MDgyQjogLyogJ0JydFdvcmtCb29rUHIxNScgKi9cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMHgwMDIzOiAvKiAnQnJ0RlJUQmVnaW4nICovXG5cdFx0XHRcdHN0YXRlLnB1c2goUlQpOyBwYXNzID0gdHJ1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDB4MDAyNDogLyogJ0JydEZSVEVuZCcgKi9cblx0XHRcdFx0c3RhdGUucG9wKCk7IHBhc3MgPSBmYWxzZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDB4MDAyNTogLyogJ0JydEFDQmVnaW4nICovXG5cdFx0XHRcdHN0YXRlLnB1c2goUlQpOyBwYXNzID0gdHJ1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDB4MDAyNjogLyogJ0JydEFDRW5kJyAqL1xuXHRcdFx0XHRzdGF0ZS5wb3AoKTsgcGFzcyA9IGZhbHNlOyBicmVhaztcblxuXHRcdFx0Y2FzZSAweDAwMTA6IC8qICdCcnRGUlRBcmNoSUQkJyAqLyBicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aWYoUi5UKXsvKiBlbXB0eSAqL31cblx0XHRcdFx0ZWxzZSBpZighcGFzcyB8fCAob3B0cy5XVEYgJiYgc3RhdGVbc3RhdGUubGVuZ3RoLTFdICE9IDB4MDAyNSAvKiBCcnRBQ0JlZ2luICovICYmIHN0YXRlW3N0YXRlLmxlbmd0aC0xXSAhPSAweDAwMjMgLyogQnJ0RlJUQmVnaW4gKi8pKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHJlY29yZCAweFwiICsgUlQudG9TdHJpbmcoMTYpKTtcblx0XHR9XG5cdH0sIG9wdHMpO1xuXG5cdHBhcnNlX3diX2RlZmF1bHRzKHdiKTtcblxuXHQvLyAkRmxvd0lnbm9yZVxuXHR3Yi5OYW1lcyA9IE5hbWVzO1xuXG5cdCh3Yi8qOmFueSovKS5zdXBib29rcyA9IHN1cGJvb2tzO1xuXHRyZXR1cm4gd2I7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX0JVTkRMRVNIUyhiYSwgd2IvKjo6LCBvcHRzKi8pIHtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAwOEYgLyogQnJ0QmVnaW5CdW5kbGVTaHMgKi8pO1xuXHRmb3IodmFyIGlkeCA9IDA7IGlkeCAhPSB3Yi5TaGVldE5hbWVzLmxlbmd0aDsgKytpZHgpIHtcblx0XHR2YXIgdml6ID0gd2IuV29ya2Jvb2sgJiYgd2IuV29ya2Jvb2suU2hlZXRzICYmIHdiLldvcmtib29rLlNoZWV0c1tpZHhdICYmIHdiLldvcmtib29rLlNoZWV0c1tpZHhdLkhpZGRlbiB8fCAwO1xuXHRcdHZhciBkID0geyBIaWRkZW46IHZpeiwgaVRhYklEOiBpZHgrMSwgc3RyUmVsSUQ6ICdySWQnICsgKGlkeCsxKSwgbmFtZTogd2IuU2hlZXROYW1lc1tpZHhdIH07XG5cdFx0d3JpdGVfcmVjb3JkKGJhLCAweDAwOUMgLyogQnJ0QnVuZGxlU2ggKi8sIHdyaXRlX0JydEJ1bmRsZVNoKGQpKTtcblx0fVxuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDA5MCAvKiBCcnRFbmRCdW5kbGVTaHMgKi8pO1xufVxuXG4vKiBbTVMtWExTQl0gMi40LjY0OSBCcnRGaWxlVmVyc2lvbiAqL1xuZnVuY3Rpb24gd3JpdGVfQnJ0RmlsZVZlcnNpb24oZGF0YSwgbykge1xuXHRpZighbykgbyA9IG5ld19idWYoMTI3KTtcblx0Zm9yKHZhciBpID0gMDsgaSAhPSA0OyArK2kpIG8ud3JpdGVfc2hpZnQoNCwgMCk7XG5cdHdyaXRlX1hMV2lkZVN0cmluZyhcIlNoZWV0SlNcIiwgbyk7XG5cdHdyaXRlX1hMV2lkZVN0cmluZyhYTFNYLnZlcnNpb24sIG8pO1xuXHR3cml0ZV9YTFdpZGVTdHJpbmcoWExTWC52ZXJzaW9uLCBvKTtcblx0d3JpdGVfWExXaWRlU3RyaW5nKFwiNzI2MlwiLCBvKTtcblx0cmV0dXJuIG8ubGVuZ3RoID4gby5sID8gby5zbGljZSgwLCBvLmwpIDogbztcbn1cblxuLyogW01TLVhMU0JdIDIuNC4zMDEgQnJ0Qm9va1ZpZXcgKi9cbmZ1bmN0aW9uIHdyaXRlX0JydEJvb2tWaWV3KGlkeCwgbykge1xuXHRpZighbykgbyA9IG5ld19idWYoMjkpO1xuXHRvLndyaXRlX3NoaWZ0KC00LCAwKTtcblx0by53cml0ZV9zaGlmdCgtNCwgNDYwKTtcblx0by53cml0ZV9zaGlmdCg0LCAgMjg4MDApO1xuXHRvLndyaXRlX3NoaWZ0KDQsICAxNzYwMCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgIDUwMCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgIGlkeCk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgIGlkeCk7XG5cdHZhciBmbGFncyA9IDB4Nzg7XG5cdG8ud3JpdGVfc2hpZnQoMSwgIGZsYWdzKTtcblx0cmV0dXJuIG8ubGVuZ3RoID4gby5sID8gby5zbGljZSgwLCBvLmwpIDogbztcbn1cblxuZnVuY3Rpb24gd3JpdGVfQk9PS1ZJRVdTKGJhLCB3Yi8qOjosIG9wdHMqLykge1xuXHQvKiByZXF1aXJlZCBpZiBoaWRkZW4gdGFiIGFwcGVhcnMgYmVmb3JlIHZpc2libGUgdGFiICovXG5cdGlmKCF3Yi5Xb3JrYm9vayB8fCAhd2IuV29ya2Jvb2suU2hlZXRzKSByZXR1cm47XG5cdHZhciBzaGVldHMgPSB3Yi5Xb3JrYm9vay5TaGVldHM7XG5cdHZhciBpID0gMCwgdmlzdGFiID0gLTEsIGhpZGRlbiA9IC0xO1xuXHRmb3IoOyBpIDwgc2hlZXRzLmxlbmd0aDsgKytpKSB7XG5cdFx0aWYoIXNoZWV0c1tpXSB8fCAhc2hlZXRzW2ldLkhpZGRlbiAmJiB2aXN0YWIgPT0gLTEpIHZpc3RhYiA9IGk7XG5cdFx0ZWxzZSBpZihzaGVldHNbaV0uSGlkZGVuID09IDEgJiYgaGlkZGVuID09IC0xKSBoaWRkZW4gPSBpO1xuXHR9XG5cdGlmKGhpZGRlbiA+IHZpc3RhYikgcmV0dXJuO1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDA4NyAvKiBCcnRCZWdpbkJvb2tWaWV3cyAqLyk7XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMDlFIC8qIEJydEJvb2tWaWV3ICovLCB3cml0ZV9CcnRCb29rVmlldyh2aXN0YWIpKTtcblx0LyogMSooQnJ0Qm9va1ZpZXcgKkZSVCkgKi9cblx0d3JpdGVfcmVjb3JkKGJhLCAweDAwODggLyogQnJ0RW5kQm9va1ZpZXdzICovKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfQlJUTkFNRVMoYmEsIHdiKSB7XG5cdGlmKCF3Yi5Xb3JrYm9vayB8fCAhd2IuV29ya2Jvb2suTmFtZXMpIHJldHVybjtcblx0d2IuV29ya2Jvb2suTmFtZXMuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7IHRyeSB7XG5cdFx0aWYobmFtZS5GbGFncyAmIDB4MGUpIHJldHVybjsgLy8gVE9ETzogbWFjcm8gbmFtZSB3cml0ZVxuXHRcdHdyaXRlX3JlY29yZChiYSwgMHgwMDI3IC8qIEJydE5hbWUgKi8sIHdyaXRlX0JydE5hbWUobmFtZSwgd2IpKTtcblx0fSBjYXRjaChlKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBzZXJpYWxpemUgZGVmaW5lZCBuYW1lIFwiICsgSlNPTi5zdHJpbmdpZnkobmFtZSkpO1xuXHR9IH0pO1xufVxuXG5mdW5jdGlvbiB3cml0ZV9TRUxGX0VYVEVSTlNfeGxzYih3Yikge1xuXHR2YXIgTCA9IHdiLlNoZWV0TmFtZXMubGVuZ3RoO1xuXHR2YXIgbyA9IG5ld19idWYoMTIgKiBMICsgMjgpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIEwgKyAyKTtcblx0by53cml0ZV9zaGlmdCg0LCAwKTsgby53cml0ZV9zaGlmdCg0LCAtMik7IG8ud3JpdGVfc2hpZnQoNCwgLTIpOyAvLyB3b3JrYm9vay1sZXZlbCByZWZlcmVuY2Vcblx0by53cml0ZV9zaGlmdCg0LCAwKTsgby53cml0ZV9zaGlmdCg0LCAtMSk7IG8ud3JpdGVfc2hpZnQoNCwgLTEpOyAvLyAjUkVGIS4uLlxuXHRmb3IodmFyIGkgPSAwOyBpIDwgTDsgKytpKSB7XG5cdFx0by53cml0ZV9zaGlmdCg0LCAwKTsgby53cml0ZV9zaGlmdCg0LCBpKTsgby53cml0ZV9zaGlmdCg0LCBpKTtcblx0fVxuXHRyZXR1cm4gbztcbn1cbmZ1bmN0aW9uIHdyaXRlX0VYVEVSTkFMU194bHNiKGJhLCB3Yikge1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDE2MSAvKiBCcnRCZWdpbkV4dGVybmFscyAqLyk7XG5cdHdyaXRlX3JlY29yZChiYSwgMHgwMTY1IC8qIEJydFN1cFNlbGYgKi8pO1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDE2QSAvKiBCcnRFeHRlcm5TaGVldCAqLywgd3JpdGVfU0VMRl9FWFRFUk5TX3hsc2Iod2IsIDApKTtcblx0d3JpdGVfcmVjb3JkKGJhLCAweDAxNjIgLyogQnJ0RW5kRXh0ZXJuYWxzICovKTtcbn1cblxuLyogW01TLVhMU0JdIDIuNC4zMDUgQnJ0Q2FsY1Byb3AgKi9cbi8qZnVuY3Rpb24gd3JpdGVfQnJ0Q2FsY1Byb3AoZGF0YSwgbykge1xuXHRpZighbykgbyA9IG5ld19idWYoMjYpO1xuXHRvLndyaXRlX3NoaWZ0KDQsMCk7IC8vIGZvcmNlIHJlY2FsY1xuXHRvLndyaXRlX3NoaWZ0KDQsMSk7XG5cdG8ud3JpdGVfc2hpZnQoNCwwKTtcblx0d3JpdGVfWG51bSgwLCBvKTtcblx0by53cml0ZV9zaGlmdCgtNCwgMTAyMyk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgMHgzMyk7XG5cdG8ud3JpdGVfc2hpZnQoMSwgMHgwMCk7XG5cdHJldHVybiBvO1xufSovXG5cbi8qIFtNUy1YTFNCXSAyLjQuNjQ2IEJydEZpbGVSZWNvdmVyICovXG4vKmZ1bmN0aW9uIHdyaXRlX0JydEZpbGVSZWNvdmVyKGRhdGEsIG8pIHtcblx0aWYoIW8pIG8gPSBuZXdfYnVmKDEpO1xuXHRvLndyaXRlX3NoaWZ0KDEsMCk7XG5cdHJldHVybiBvO1xufSovXG5cbi8qIFtNUy1YTFNCXSAyLjEuNy42MSBXb3JrYm9vayAqL1xuZnVuY3Rpb24gd3JpdGVfd2JfYmluKHdiLCBvcHRzKSB7XG5cdHZhciBiYSA9IGJ1Zl9hcnJheSgpO1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDA4MyAvKiBCcnRCZWdpbkJvb2sgKi8pO1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDA4MCAvKiBCcnRGaWxlVmVyc2lvbiAqLywgd3JpdGVfQnJ0RmlsZVZlcnNpb24oKSk7XG5cdC8qIFtbQnJ0RmlsZVNoYXJpbmdJc29dIEJydEZpbGVTaGFyaW5nXSAqL1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDA5OSAvKiBCcnRXYlByb3AgKi8sIHdyaXRlX0JydFdiUHJvcCh3Yi5Xb3JrYm9vayAmJiB3Yi5Xb3JrYm9vay5XQlByb3BzIHx8IG51bGwpKTtcblx0LyogW0FDQUJTUEFUSF0gKi9cblx0LyogW1tCcnRCb29rUHJvdGVjdGlvbklzb10gQnJ0Qm9va1Byb3RlY3Rpb25dICovXG5cdHdyaXRlX0JPT0tWSUVXUyhiYSwgd2IsIG9wdHMpO1xuXHR3cml0ZV9CVU5ETEVTSFMoYmEsIHdiLCBvcHRzKTtcblx0LyogW0ZOR1JPVVBdICovXG5cdHdyaXRlX0VYVEVSTkFMU194bHNiKGJhLCB3Yik7XG5cdGlmKCh3Yi5Xb3JrYm9va3x8e30pLk5hbWVzKSB3cml0ZV9CUlROQU1FUyhiYSwgd2IpO1xuXHQvKiB3cml0ZV9yZWNvcmQoYmEsIDB4MDA5RCBCcnRDYWxjUHJvcCwgd3JpdGVfQnJ0Q2FsY1Byb3AoKSk7ICovXG5cdC8qIFtCcnRPbGVTaXplXSAqL1xuXHQvKiAqKEJydFVzZXJCb29rVmlldyAqRlJUKSAqL1xuXHQvKiBbUElWT1RDQUNIRUlEU10gKi9cblx0LyogW0JydFdiRmFjdG9pZF0gKi9cblx0LyogW1NNQVJUVEFHVFlQRVNdICovXG5cdC8qIFtCcnRXZWJPcHRdICovXG5cdC8qIHdyaXRlX3JlY29yZChiYSwgMHgwMDlCIEJydEZpbGVSZWNvdmVyLCB3cml0ZV9CcnRGaWxlUmVjb3ZlcigpKTsgKi9cblx0LyogW1dFQlBVQklURU1TXSAqL1xuXHQvKiBbQ1JFUlJTXSAqL1xuXHQvKiBGUlRXT1JLQk9PSyAqL1xuXHR3cml0ZV9yZWNvcmQoYmEsIDB4MDA4NCAvKiBCcnRFbmRCb29rICovKTtcblxuXHRyZXR1cm4gYmEuZW5kKCk7XG59XG5mdW5jdGlvbiBwYXJzZV93YihkYXRhLCBuYW1lLyo6c3RyaW5nKi8sIG9wdHMpLyo6V29ya2Jvb2tGaWxlKi8ge1xuXHRpZihuYW1lLnNsaWNlKC00KT09PVwiLmJpblwiKSByZXR1cm4gcGFyc2Vfd2JfYmluKChkYXRhLyo6YW55Ki8pLCBvcHRzKTtcblx0cmV0dXJuIHBhcnNlX3diX3htbCgoZGF0YS8qOmFueSovKSwgb3B0cyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX3dzKGRhdGEsIG5hbWUvKjpzdHJpbmcqLywgaWR4Lyo6bnVtYmVyKi8sIG9wdHMsIHJlbHMsIHdiLCB0aGVtZXMsIHN0eWxlcykvKjpXb3Jrc2hlZXQqLyB7XG5cdGlmKG5hbWUuc2xpY2UoLTQpPT09XCIuYmluXCIpIHJldHVybiBwYXJzZV93c19iaW4oKGRhdGEvKjphbnkqLyksIG9wdHMsIGlkeCwgcmVscywgd2IsIHRoZW1lcywgc3R5bGVzKTtcblx0cmV0dXJuIHBhcnNlX3dzX3htbCgoZGF0YS8qOmFueSovKSwgb3B0cywgaWR4LCByZWxzLCB3YiwgdGhlbWVzLCBzdHlsZXMpO1xufVxuXG5mdW5jdGlvbiBwYXJzZV9jcyhkYXRhLCBuYW1lLyo6c3RyaW5nKi8sIGlkeC8qOm51bWJlciovLCBvcHRzLCByZWxzLCB3YiwgdGhlbWVzLCBzdHlsZXMpLyo6V29ya3NoZWV0Ki8ge1xuXHRpZihuYW1lLnNsaWNlKC00KT09PVwiLmJpblwiKSByZXR1cm4gcGFyc2VfY3NfYmluKChkYXRhLyo6YW55Ki8pLCBvcHRzLCBpZHgsIHJlbHMsIHdiLCB0aGVtZXMsIHN0eWxlcyk7XG5cdHJldHVybiBwYXJzZV9jc194bWwoKGRhdGEvKjphbnkqLyksIG9wdHMsIGlkeCwgcmVscywgd2IsIHRoZW1lcywgc3R5bGVzKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VfbXMoZGF0YSwgbmFtZS8qOnN0cmluZyovLCBpZHgvKjpudW1iZXIqLywgb3B0cywgcmVscywgd2IsIHRoZW1lcywgc3R5bGVzKS8qOldvcmtzaGVldCovIHtcblx0aWYobmFtZS5zbGljZSgtNCk9PT1cIi5iaW5cIikgcmV0dXJuIHBhcnNlX21zX2JpbigoZGF0YS8qOmFueSovKSwgb3B0cywgaWR4LCByZWxzLCB3YiwgdGhlbWVzLCBzdHlsZXMpO1xuXHRyZXR1cm4gcGFyc2VfbXNfeG1sKChkYXRhLyo6YW55Ki8pLCBvcHRzLCBpZHgsIHJlbHMsIHdiLCB0aGVtZXMsIHN0eWxlcyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX2RzKGRhdGEsIG5hbWUvKjpzdHJpbmcqLywgaWR4Lyo6bnVtYmVyKi8sIG9wdHMsIHJlbHMsIHdiLCB0aGVtZXMsIHN0eWxlcykvKjpXb3Jrc2hlZXQqLyB7XG5cdGlmKG5hbWUuc2xpY2UoLTQpPT09XCIuYmluXCIpIHJldHVybiBwYXJzZV9kc19iaW4oKGRhdGEvKjphbnkqLyksIG9wdHMsIGlkeCwgcmVscywgd2IsIHRoZW1lcywgc3R5bGVzKTtcblx0cmV0dXJuIHBhcnNlX2RzX3htbCgoZGF0YS8qOmFueSovKSwgb3B0cywgaWR4LCByZWxzLCB3YiwgdGhlbWVzLCBzdHlsZXMpO1xufVxuXG5mdW5jdGlvbiBwYXJzZV9zdHkoZGF0YSwgbmFtZS8qOnN0cmluZyovLCB0aGVtZXMsIG9wdHMpIHtcblx0aWYobmFtZS5zbGljZSgtNCk9PT1cIi5iaW5cIikgcmV0dXJuIHBhcnNlX3N0eV9iaW4oKGRhdGEvKjphbnkqLyksIHRoZW1lcywgb3B0cyk7XG5cdHJldHVybiBwYXJzZV9zdHlfeG1sKChkYXRhLyo6YW55Ki8pLCB0aGVtZXMsIG9wdHMpO1xufVxuXG5mdW5jdGlvbiBwYXJzZV9zc3QoZGF0YSwgbmFtZS8qOnN0cmluZyovLCBvcHRzKS8qOlNTVCovIHtcblx0aWYobmFtZS5zbGljZSgtNCk9PT1cIi5iaW5cIikgcmV0dXJuIHBhcnNlX3NzdF9iaW4oKGRhdGEvKjphbnkqLyksIG9wdHMpO1xuXHRyZXR1cm4gcGFyc2Vfc3N0X3htbCgoZGF0YS8qOmFueSovKSwgb3B0cyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX2NtbnQoZGF0YSwgbmFtZS8qOnN0cmluZyovLCBvcHRzKS8qOkFycmF5PFJhd0NvbW1lbnQ+Ki8ge1xuXHRpZihuYW1lLnNsaWNlKC00KT09PVwiLmJpblwiKSByZXR1cm4gcGFyc2VfY29tbWVudHNfYmluKChkYXRhLyo6YW55Ki8pLCBvcHRzKTtcblx0cmV0dXJuIHBhcnNlX2NvbW1lbnRzX3htbCgoZGF0YS8qOmFueSovKSwgb3B0cyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX2NjKGRhdGEsIG5hbWUvKjpzdHJpbmcqLywgb3B0cykge1xuXHRpZihuYW1lLnNsaWNlKC00KT09PVwiLmJpblwiKSByZXR1cm4gcGFyc2VfY2NfYmluKChkYXRhLyo6YW55Ki8pLCBuYW1lLCBvcHRzKTtcblx0cmV0dXJuIHBhcnNlX2NjX3htbCgoZGF0YS8qOmFueSovKSwgbmFtZSwgb3B0cyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX3hsaW5rKGRhdGEsIHJlbCwgbmFtZS8qOnN0cmluZyovLCBvcHRzKSB7XG5cdGlmKG5hbWUuc2xpY2UoLTQpPT09XCIuYmluXCIpIHJldHVybiBwYXJzZV94bGlua19iaW4oKGRhdGEvKjphbnkqLyksIHJlbCwgbmFtZSwgb3B0cyk7XG5cdHJldHVybiBwYXJzZV94bGlua194bWwoKGRhdGEvKjphbnkqLyksIHJlbCwgbmFtZSwgb3B0cyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX3hsbWV0YShkYXRhLCBuYW1lLyo6c3RyaW5nKi8sIG9wdHMpIHtcblx0aWYobmFtZS5zbGljZSgtNCk9PT1cIi5iaW5cIikgcmV0dXJuIHBhcnNlX3hsbWV0YV9iaW4oKGRhdGEvKjphbnkqLyksIG5hbWUsIG9wdHMpO1xuXHRyZXR1cm4gcGFyc2VfeGxtZXRhX3htbCgoZGF0YS8qOmFueSovKSwgbmFtZSwgb3B0cyk7XG59XG52YXIgYXR0cmVnZXhnMj0vXFxiKCg/Olxcdys6KT9bXFx3XSspPSgoPzpcIikoW15cIl0qKSg/OlwiKXwoPzonKShbXiddKikoPzonKSkvZztcbnZhciBhdHRyZWdleDI9L1xcYigoPzpcXHcrOik/W1xcd10rKT0oKD86XCIpKD86W15cIl0qKSg/OlwiKXwoPzonKSg/OlteJ10qKSg/OicpKS87XG5mdW5jdGlvbiB4bG1sX3BhcnNleG1sdGFnKHRhZy8qOnN0cmluZyovLCBza2lwX3Jvb3QvKjo/Ym9vbGVhbiovKSB7XG5cdHZhciB3b3JkcyA9IHRhZy5zcGxpdCgvXFxzKy8pO1xuXHR2YXIgei8qOmFueSovID0gKFtdLyo6YW55Ki8pOyBpZighc2tpcF9yb290KSB6WzBdID0gd29yZHNbMF07XG5cdGlmKHdvcmRzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHo7XG5cdHZhciBtID0gdGFnLm1hdGNoKGF0dHJlZ2V4ZzIpLCB5LCBqLCB3LCBpO1xuXHRpZihtKSBmb3IoaSA9IDA7IGkgIT0gbS5sZW5ndGg7ICsraSkge1xuXHRcdHkgPSBtW2ldLm1hdGNoKGF0dHJlZ2V4Mik7XG4vKjo6IGlmKCF5IHx8ICF5WzJdKSBjb250aW51ZTsgKi9cblx0XHRpZigoaj15WzFdLmluZGV4T2YoXCI6XCIpKSA9PT0gLTEpIHpbeVsxXV0gPSB5WzJdLnNsaWNlKDEseVsyXS5sZW5ndGgtMSk7XG5cdFx0ZWxzZSB7XG5cdFx0XHRpZih5WzFdLnNsaWNlKDAsNikgPT09IFwieG1sbnM6XCIpIHcgPSBcInhtbG5zXCIreVsxXS5zbGljZSg2KTtcblx0XHRcdGVsc2UgdyA9IHlbMV0uc2xpY2UoaisxKTtcblx0XHRcdHpbd10gPSB5WzJdLnNsaWNlKDEseVsyXS5sZW5ndGgtMSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB6O1xufVxuZnVuY3Rpb24geGxtbF9wYXJzZXhtbHRhZ29iaih0YWcvKjpzdHJpbmcqLykge1xuXHR2YXIgd29yZHMgPSB0YWcuc3BsaXQoL1xccysvKTtcblx0dmFyIHogPSB7fTtcblx0aWYod29yZHMubGVuZ3RoID09PSAxKSByZXR1cm4gejtcblx0dmFyIG0gPSB0YWcubWF0Y2goYXR0cmVnZXhnMiksIHksIGosIHcsIGk7XG5cdGlmKG0pIGZvcihpID0gMDsgaSAhPSBtLmxlbmd0aDsgKytpKSB7XG5cdFx0eSA9IG1baV0ubWF0Y2goYXR0cmVnZXgyKTtcbi8qOjogaWYoIXkgfHwgIXlbMl0pIGNvbnRpbnVlOyAqL1xuXHRcdGlmKChqPXlbMV0uaW5kZXhPZihcIjpcIikpID09PSAtMSkgelt5WzFdXSA9IHlbMl0uc2xpY2UoMSx5WzJdLmxlbmd0aC0xKTtcblx0XHRlbHNlIHtcblx0XHRcdGlmKHlbMV0uc2xpY2UoMCw2KSA9PT0gXCJ4bWxuczpcIikgdyA9IFwieG1sbnNcIit5WzFdLnNsaWNlKDYpO1xuXHRcdFx0ZWxzZSB3ID0geVsxXS5zbGljZShqKzEpO1xuXHRcdFx0elt3XSA9IHlbMl0uc2xpY2UoMSx5WzJdLmxlbmd0aC0xKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHo7XG59XG5cbi8vIC0tLS1cblxuLyogbWFwIGZyb20geGxtbCBuYW1lZCBmb3JtYXRzIHRvIFNTRiBUT0RPOiBsb2NhbGl6ZSAqL1xudmFyIFhMTUxGb3JtYXRNYXAvKjoge1tzdHJpbmddOnN0cmluZ30qLztcblxuZnVuY3Rpb24geGxtbF9mb3JtYXQoZm9ybWF0LCB2YWx1ZSwgZGF0ZTE5MDQpLyo6c3RyaW5nKi8ge1xuXHR2YXIgZm10ID0gWExNTEZvcm1hdE1hcFtmb3JtYXRdIHx8IHVuZXNjYXBleG1sKGZvcm1hdCk7XG5cdGlmKGZtdCA9PT0gXCJHZW5lcmFsXCIpIHJldHVybiBTU0ZfZ2VuZXJhbCh2YWx1ZSk7XG5cdHJldHVybiBTU0ZfZm9ybWF0KGZtdCwgdmFsdWUsIHtkYXRlMTkwNDogISFkYXRlMTkwNH0pO1xufVxuXG5mdW5jdGlvbiB4bG1sX3NldF9jdXN0cHJvcChDdXN0cHJvcHMsIGtleSwgY3AsIHZhbC8qOnN0cmluZyovKSB7XG5cdHZhciBvdmFsLyo6YW55Ki8gPSB2YWw7XG5cdHN3aXRjaCgoY3BbMF0ubWF0Y2goL2R0OmR0PVwiKFtcXHcuXSspXCIvKXx8W1wiXCIsXCJcIl0pWzFdKSB7XG5cdFx0Y2FzZSBcImJvb2xlYW5cIjogb3ZhbCA9IHBhcnNleG1sYm9vbCh2YWwpOyBicmVhaztcblx0XHRjYXNlIFwiaTJcIjogY2FzZSBcImludFwiOiBvdmFsID0gcGFyc2VJbnQodmFsLCAxMCk7IGJyZWFrO1xuXHRcdGNhc2UgXCJyNFwiOiBjYXNlIFwiZmxvYXRcIjogb3ZhbCA9IHBhcnNlRmxvYXQodmFsKTsgYnJlYWs7XG5cdFx0Y2FzZSBcImRhdGVcIjogY2FzZSBcImRhdGVUaW1lLnR6XCI6IG92YWwgPSBwYXJzZURhdGUodmFsKTsgYnJlYWs7XG5cdFx0Y2FzZSBcImk4XCI6IGNhc2UgXCJzdHJpbmdcIjogY2FzZSBcImZpeGVkXCI6IGNhc2UgXCJ1dWlkXCI6IGNhc2UgXCJiaW4uYmFzZTY0XCI6IGJyZWFrO1xuXHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcImJhZCBjdXN0cHJvcDpcIiArIGNwWzBdKTtcblx0fVxuXHRDdXN0cHJvcHNbdW5lc2NhcGV4bWwoa2V5KV0gPSBvdmFsO1xufVxuXG5mdW5jdGlvbiBzYWZlX2Zvcm1hdF94bG1sKGNlbGwvKjpDZWxsKi8sIG5mLCBvLCBkYXRlMTkwNCkge1xuXHRpZihjZWxsLnQgPT09ICd6JykgcmV0dXJuO1xuXHRpZighbyB8fCBvLmNlbGxUZXh0ICE9PSBmYWxzZSkgdHJ5IHtcblx0XHRpZihjZWxsLnQgPT09ICdlJykgeyBjZWxsLncgPSBjZWxsLncgfHwgQkVycltjZWxsLnZdOyB9XG5cdFx0ZWxzZSBpZihuZiA9PT0gXCJHZW5lcmFsXCIpIHtcblx0XHRcdGlmKGNlbGwudCA9PT0gJ24nKSB7XG5cdFx0XHRcdGlmKChjZWxsLnZ8MCkgPT09IGNlbGwudikgY2VsbC53ID0gY2VsbC52LnRvU3RyaW5nKDEwKTtcblx0XHRcdFx0ZWxzZSBjZWxsLncgPSBTU0ZfZ2VuZXJhbF9udW0oY2VsbC52KTtcblx0XHRcdH1cblx0XHRcdGVsc2UgY2VsbC53ID0gU1NGX2dlbmVyYWwoY2VsbC52KTtcblx0XHR9XG5cdFx0ZWxzZSBjZWxsLncgPSB4bG1sX2Zvcm1hdChuZnx8XCJHZW5lcmFsXCIsIGNlbGwudiwgZGF0ZTE5MDQpO1xuXHR9IGNhdGNoKGUpIHsgaWYoby5XVEYpIHRocm93IGU7IH1cblx0dHJ5IHtcblx0XHR2YXIgeiA9IFhMTUxGb3JtYXRNYXBbbmZdfHxuZnx8XCJHZW5lcmFsXCI7XG5cdFx0aWYoby5jZWxsTkYpIGNlbGwueiA9IHo7XG5cdFx0aWYoby5jZWxsRGF0ZXMgJiYgY2VsbC50ID09ICduJyAmJiBmbXRfaXNfZGF0ZSh6KSkge1xuXHRcdFx0dmFyIF9kID0gU1NGX3BhcnNlX2RhdGVfY29kZShjZWxsLnYgKyAoZGF0ZTE5MDQgPyAxNDYyIDogMCkpOyBpZihfZCkgeyBjZWxsLnQgPSAnZCc7IGNlbGwudiA9IG5ldyBEYXRlKERhdGUuVVRDKF9kLnksIF9kLm0tMSxfZC5kLF9kLkgsX2QuTSxfZC5TLF9kLnUpKTsgfVxuXHRcdH1cblx0fSBjYXRjaChlKSB7IGlmKG8uV1RGKSB0aHJvdyBlOyB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3Nfc3R5bGVfeGxtbChzdHlsZXMsIHN0YWcsIG9wdHMpIHtcblx0aWYob3B0cy5jZWxsU3R5bGVzKSB7XG5cdFx0aWYoc3RhZy5JbnRlcmlvcikge1xuXHRcdFx0dmFyIEkgPSBzdGFnLkludGVyaW9yO1xuXHRcdFx0aWYoSS5QYXR0ZXJuKSBJLnBhdHRlcm5UeXBlID0gWExNTFBhdHRlcm5UeXBlTWFwW0kuUGF0dGVybl0gfHwgSS5QYXR0ZXJuO1xuXHRcdH1cblx0fVxuXHRzdHlsZXNbc3RhZy5JRF0gPSBzdGFnO1xufVxuXG4vKiBUT0RPOiB0aGVyZSBtdXN0IGV4aXN0IHNvbWUgZm9ybSBvZiBPU1AtYmxlc3NlZCBzcGVjICovXG5mdW5jdGlvbiBwYXJzZV94bG1sX2RhdGEoeG1sLCBzcywgZGF0YSwgY2VsbC8qOmFueSovLCBiYXNlLCBzdHlsZXMsIGNzdHksIHJvdywgYXJyYXlmLCBvLCBkYXRlMTkwNCkge1xuXHR2YXIgbmYgPSBcIkdlbmVyYWxcIiwgc2lkID0gY2VsbC5TdHlsZUlELCBTID0ge307IG8gPSBvIHx8IHt9O1xuXHR2YXIgaW50ZXJpb3JzID0gW107XG5cdHZhciBpID0gMDtcblx0aWYoc2lkID09PSB1bmRlZmluZWQgJiYgcm93KSBzaWQgPSByb3cuU3R5bGVJRDtcblx0aWYoc2lkID09PSB1bmRlZmluZWQgJiYgY3N0eSkgc2lkID0gY3N0eS5TdHlsZUlEO1xuXHR3aGlsZShzdHlsZXNbc2lkXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIHNzaWQgPSBzdHlsZXNbc2lkXTtcblx0XHRpZihzc2lkLm5mKSBuZiA9IHNzaWQubmY7XG5cdFx0aWYoc3NpZC5JbnRlcmlvcikgaW50ZXJpb3JzLnB1c2goc3NpZC5JbnRlcmlvcik7XG5cdFx0aWYoIXNzaWQuUGFyZW50KSBicmVhaztcblx0XHRzaWQgPSBzc2lkLlBhcmVudDtcblx0fVxuXHRzd2l0Y2goZGF0YS5UeXBlKSB7XG5cdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRjZWxsLnQgPSAnYic7XG5cdFx0XHRjZWxsLnYgPSBwYXJzZXhtbGJvb2woeG1sKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ1N0cmluZyc6XG5cdFx0XHRjZWxsLnQgPSAncyc7IGNlbGwuciA9IHhsbWxfZml4c3RyKHVuZXNjYXBleG1sKHhtbCkpO1xuXHRcdFx0Y2VsbC52ID0gKHhtbC5pbmRleE9mKFwiPFwiKSA+IC0xID8gdW5lc2NhcGV4bWwoc3N8fHhtbCkucmVwbGFjZSgvPFtePD5dKj4vZywgXCJcIikgOiBjZWxsLnIpOyAvLyB0b2RvOiBCUiBldGNcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ0RhdGVUaW1lJzpcblx0XHRcdGlmKHhtbC5zbGljZSgtMSkgIT0gXCJaXCIpIHhtbCArPSBcIlpcIjtcblx0XHRcdGNlbGwudiA9IGRhdGVudW0ocGFyc2VEYXRlKHhtbCwgZGF0ZTE5MDQpLCBkYXRlMTkwNCk7XG5cdFx0XHRpZihjZWxsLnYgIT09IGNlbGwudikgY2VsbC52ID0gdW5lc2NhcGV4bWwoeG1sKTtcblx0XHRcdGlmKCFuZiB8fCBuZiA9PSBcIkdlbmVyYWxcIikgbmYgPSBcInl5eXktbW0tZGRcIjtcblx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0aWYoY2VsbC52ID09PSB1bmRlZmluZWQpIGNlbGwudj0reG1sO1xuXHRcdFx0aWYoIWNlbGwudCkgY2VsbC50ID0gJ24nO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnRXJyb3InOiBjZWxsLnQgPSAnZSc7IGNlbGwudiA9IFJCRXJyW3htbF07IGlmKG8uY2VsbFRleHQgIT09IGZhbHNlKSBjZWxsLncgPSB4bWw7IGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRpZih4bWwgPT0gXCJcIiAmJiBzcyA9PSBcIlwiKSB7IGNlbGwudCA9ICd6JzsgfVxuXHRcdFx0ZWxzZSB7IGNlbGwudCA9ICdzJzsgY2VsbC52ID0geGxtbF9maXhzdHIoc3N8fHhtbCk7IH1cblx0XHRcdGJyZWFrO1xuXHR9XG5cdHNhZmVfZm9ybWF0X3hsbWwoY2VsbCwgbmYsIG8sIGRhdGUxOTA0KTtcblx0aWYoby5jZWxsRm9ybXVsYSAhPT0gZmFsc2UpIHtcblx0XHRpZihjZWxsLkZvcm11bGEpIHtcblx0XHRcdHZhciBmc3RyID0gdW5lc2NhcGV4bWwoY2VsbC5Gb3JtdWxhKTtcblx0XHRcdC8qIHN0cmljdGx5IHNwZWFraW5nLCB0aGUgbGVhZGluZyA9IGlzIHJlcXVpcmVkIGJ1dCBzb21lIHdyaXRlcnMgb21pdCAqL1xuXHRcdFx0aWYoZnN0ci5jaGFyQ29kZUF0KDApID09IDYxIC8qID0gKi8pIGZzdHIgPSBmc3RyLnNsaWNlKDEpO1xuXHRcdFx0Y2VsbC5mID0gcmNfdG9fYTEoZnN0ciwgYmFzZSk7XG5cdFx0XHRkZWxldGUgY2VsbC5Gb3JtdWxhO1xuXHRcdFx0aWYoY2VsbC5BcnJheVJhbmdlID09IFwiUkNcIikgY2VsbC5GID0gcmNfdG9fYTEoXCJSQzpSQ1wiLCBiYXNlKTtcblx0XHRcdGVsc2UgaWYoY2VsbC5BcnJheVJhbmdlKSB7XG5cdFx0XHRcdGNlbGwuRiA9IHJjX3RvX2ExKGNlbGwuQXJyYXlSYW5nZSwgYmFzZSk7XG5cdFx0XHRcdGFycmF5Zi5wdXNoKFtzYWZlX2RlY29kZV9yYW5nZShjZWxsLkYpLCBjZWxsLkZdKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yKGkgPSAwOyBpIDwgYXJyYXlmLmxlbmd0aDsgKytpKVxuXHRcdFx0XHRpZihiYXNlLnIgPj0gYXJyYXlmW2ldWzBdLnMuciAmJiBiYXNlLnIgPD0gYXJyYXlmW2ldWzBdLmUucilcblx0XHRcdFx0XHRpZihiYXNlLmMgPj0gYXJyYXlmW2ldWzBdLnMuYyAmJiBiYXNlLmMgPD0gYXJyYXlmW2ldWzBdLmUuYylcblx0XHRcdFx0XHRcdGNlbGwuRiA9IGFycmF5ZltpXVsxXTtcblx0XHR9XG5cdH1cblx0aWYoby5jZWxsU3R5bGVzKSB7XG5cdFx0aW50ZXJpb3JzLmZvckVhY2goZnVuY3Rpb24oeCkge1xuXHRcdFx0aWYoIVMucGF0dGVyblR5cGUgJiYgeC5wYXR0ZXJuVHlwZSkgUy5wYXR0ZXJuVHlwZSA9IHgucGF0dGVyblR5cGU7XG5cdFx0fSk7XG5cdFx0Y2VsbC5zID0gUztcblx0fVxuXHRpZihjZWxsLlN0eWxlSUQgIT09IHVuZGVmaW5lZCkgY2VsbC5peGZlID0gY2VsbC5TdHlsZUlEO1xufVxuXG5mdW5jdGlvbiB4bG1sX3ByZWZpeF9kbmFtZShkbmFtZSkge1xuXHRyZXR1cm4gWExTTGJsQnVpbHRJbi5pbmRleE9mKFwiX3hsbm0uXCIgKyBkbmFtZSkgPiAtMSA/IFwiX3hsbm0uXCIgKyBkbmFtZSA6IGRuYW1lO1xufVxuXG5mdW5jdGlvbiB4bG1sX2NsZWFuX2NvbW1lbnQoY29tbWVudC8qOmFueSovKSB7XG5cdGNvbW1lbnQudCA9IGNvbW1lbnQudiB8fCBcIlwiO1xuXHRjb21tZW50LnQgPSBjb21tZW50LnQucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikucmVwbGFjZSgvXFxyL2csXCJcXG5cIik7XG5cdGNvbW1lbnQudiA9IGNvbW1lbnQudyA9IGNvbW1lbnQuaXhmZSA9IHVuZGVmaW5lZDtcbn1cblxuLyogVE9ETzogRXZlcnl0aGluZyAqL1xuZnVuY3Rpb24gcGFyc2VfeGxtbF94bWwoZCwgX29wdHMpLyo6V29ya2Jvb2sqLyB7XG5cdHZhciBvcHRzID0gX29wdHMgfHwge307XG5cdG1ha2Vfc3NmKCk7XG5cdHZhciBzdHIgPSBkZWJvbSh4bG1sX25vcm1hbGl6ZShkKSk7XG5cdGlmKG9wdHMudHlwZSA9PSAnYmluYXJ5JyB8fCBvcHRzLnR5cGUgPT0gJ2FycmF5JyB8fCBvcHRzLnR5cGUgPT0gJ2Jhc2U2NCcpIHtcblx0XHRpZih0eXBlb2YgJGNwdGFibGUgIT09ICd1bmRlZmluZWQnKSBzdHIgPSAkY3B0YWJsZS51dGlscy5kZWNvZGUoNjUwMDEsIGNoYXJfY29kZXMoc3RyKSk7XG5cdFx0ZWxzZSBzdHIgPSB1dGY4cmVhZChzdHIpO1xuXHR9XG5cdHZhciBvcGVuaW5nID0gc3RyLnNsaWNlKDAsIDEwMjQpLnRvTG93ZXJDYXNlKCksIGlzaHRtbCA9IGZhbHNlO1xuXHRvcGVuaW5nID0gb3BlbmluZy5yZXBsYWNlKC9cIi4qP1wiL2csIFwiXCIpO1xuXHRpZigob3BlbmluZy5pbmRleE9mKFwiPlwiKSAmIDEwMjMpID4gTWF0aC5taW4oKG9wZW5pbmcuaW5kZXhPZihcIixcIikgJiAxMDIzKSwgKG9wZW5pbmcuaW5kZXhPZihcIjtcIikmMTAyMykpKSB7IHZhciBfbyA9IGR1cChvcHRzKTsgX28udHlwZSA9IFwic3RyaW5nXCI7IHJldHVybiBQUk4udG9fd29ya2Jvb2soc3RyLCBfbyk7IH1cblx0aWYob3BlbmluZy5pbmRleE9mKFwiPD94bWxcIikgPT0gLTEpIFtcImh0bWxcIiwgXCJ0YWJsZVwiLCBcImhlYWRcIiwgXCJtZXRhXCIsIFwic2NyaXB0XCIsIFwic3R5bGVcIiwgXCJkaXZcIl0uZm9yRWFjaChmdW5jdGlvbih0YWcpIHsgaWYob3BlbmluZy5pbmRleE9mKFwiPFwiICsgdGFnKSA+PSAwKSBpc2h0bWwgPSB0cnVlOyB9KTtcblx0aWYoaXNodG1sKSByZXR1cm4gaHRtbF90b193b3JrYm9vayhzdHIsIG9wdHMpO1xuXG5cdFhMTUxGb3JtYXRNYXAgPSAoe1xuXHRcdFwiR2VuZXJhbCBOdW1iZXJcIjogXCJHZW5lcmFsXCIsXG5cdFx0XCJHZW5lcmFsIERhdGVcIjogdGFibGVfZm10WzIyXSxcblx0XHRcIkxvbmcgRGF0ZVwiOiBcImRkZGQsIG1tbW0gZGQsIHl5eXlcIixcblx0XHRcIk1lZGl1bSBEYXRlXCI6IHRhYmxlX2ZtdFsxNV0sXG5cdFx0XCJTaG9ydCBEYXRlXCI6IHRhYmxlX2ZtdFsxNF0sXG5cdFx0XCJMb25nIFRpbWVcIjogdGFibGVfZm10WzE5XSxcblx0XHRcIk1lZGl1bSBUaW1lXCI6IHRhYmxlX2ZtdFsxOF0sXG5cdFx0XCJTaG9ydCBUaW1lXCI6IHRhYmxlX2ZtdFsyMF0sXG5cdFx0XCJDdXJyZW5jeVwiOiAnXCIkXCIjLCMjMC4wMF8pO1tSZWRdXFxcXChcIiRcIiMsIyMwLjAwXFxcXCknLFxuXHRcdFwiRml4ZWRcIjogdGFibGVfZm10WzJdLFxuXHRcdFwiU3RhbmRhcmRcIjogdGFibGVfZm10WzRdLFxuXHRcdFwiUGVyY2VudFwiOiB0YWJsZV9mbXRbMTBdLFxuXHRcdFwiU2NpZW50aWZpY1wiOiB0YWJsZV9mbXRbMTFdLFxuXHRcdFwiWWVzL05vXCI6ICdcIlllc1wiO1wiWWVzXCI7XCJOb1wiO0AnLFxuXHRcdFwiVHJ1ZS9GYWxzZVwiOiAnXCJUcnVlXCI7XCJUcnVlXCI7XCJGYWxzZVwiO0AnLFxuXHRcdFwiT24vT2ZmXCI6ICdcIlllc1wiO1wiWWVzXCI7XCJOb1wiO0AnXG5cdH0vKjphbnkqLyk7XG5cblxuXHR2YXIgUm47XG5cdHZhciBzdGF0ZSA9IFtdLCB0bXA7XG5cdGlmKERFTlNFICE9IG51bGwgJiYgb3B0cy5kZW5zZSA9PSBudWxsKSBvcHRzLmRlbnNlID0gREVOU0U7XG5cdHZhciBzaGVldHMgPSB7fSwgc2hlZXRuYW1lcy8qOkFycmF5PHN0cmluZz4qLyA9IFtdLCBjdXJzaGVldC8qOldvcmtzaGVldCovID0gKHt9KSwgc2hlZXRuYW1lID0gXCJcIjsgaWYob3B0cy5kZW5zZSkgY3Vyc2hlZXRbXCIhZGF0YVwiXSA9IFtdO1xuXHR2YXIgY2VsbCA9ICh7fS8qOmFueSovKSwgcm93ID0ge307Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHR2YXIgZHRhZyA9IHhsbWxfcGFyc2V4bWx0YWcoJzxEYXRhIHNzOlR5cGU9XCJTdHJpbmdcIj4nKSwgZGlkeCA9IDA7XG5cdHZhciBjID0gMCwgciA9IDA7XG5cdHZhciByZWZndWVzcy8qOlJhbmdlKi8gPSB7czoge3I6MjAwMDAwMCwgYzoyMDAwMDAwfSwgZToge3I6MCwgYzowfSB9O1xuXHR2YXIgc3R5bGVzID0ge30sIHN0YWcgPSB7fTtcblx0dmFyIHNzID0gXCJcIiwgZmlkeCA9IDA7XG5cdHZhciBtZXJnZXMvKjpBcnJheTxSYW5nZT4qLyA9IFtdO1xuXHR2YXIgUHJvcHMgPSB7fSwgQ3VzdHByb3BzID0ge30sIHBpZHggPSAwLCBjcCA9IFtdO1xuXHR2YXIgY29tbWVudHMvKjpBcnJheTxDb21tZW50PiovID0gW10sIGNvbW1lbnQvKjpDb21tZW50Ki8gPSAoe30vKjphbnkqLyk7XG5cdHZhciBjc3R5cyA9IFtdLCBjc3R5LCBzZWVuY29sID0gZmFsc2U7XG5cdHZhciBhcnJheWYvKjpBcnJheTxbUmFuZ2UsIHN0cmluZ10+Ki8gPSBbXTtcblx0dmFyIHJvd2luZm8vKjpBcnJheTxSb3dJbmZvPiovID0gW10sIHJvd29iaiA9IHt9LCBjYyA9IDAsIHJyID0gMDtcblx0dmFyIFdvcmtib29rLyo6V0JXQlByb3BzKi8gPSAoeyBTaGVldHM6W10sIFdCUHJvcHM6e2RhdGUxOTA0OmZhbHNlfSB9Lyo6YW55Ki8pLCB3c3Byb3BzID0ge307XG5cdHhsbWxyZWdleC5sYXN0SW5kZXggPSAwO1xuXHRzdHIgPSBzdHJfcmVtb3ZlX25nKHN0ciwgXCI8IS0tXCIsIFwiLS0+XCIpO1xuXHR2YXIgcmF3X1JuMyA9IFwiXCI7XG5cdHdoaWxlKChSbiA9IHhsbWxyZWdleC5leGVjKHN0cikpKSBzd2l0Y2goKFJuWzNdID0gKHJhd19SbjMgPSBSblszXSkudG9Mb3dlckNhc2UoKSkpIHtcblx0XHRjYXNlICdkYXRhJyAvKmNhc2UgJ0RhdGEnKi86XG5cdFx0XHRpZihyYXdfUm4zID09IFwiZGF0YVwiKSB7XG5cdFx0XHRcdGlmKFJuWzFdPT09Jy8nKXtpZigodG1wPXN0YXRlLnBvcCgpKVswXSE9PVJuWzNdKSB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgc3RhdGU6IFwiK3RtcC5qb2luKFwifFwiKSk7fVxuXHRcdFx0XHRlbHNlIGlmKFJuWzBdLmNoYXJBdChSblswXS5sZW5ndGgtMikgIT09ICcvJykgc3RhdGUucHVzaChbUm5bM10sIHRydWVdKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZihzdGF0ZVtzdGF0ZS5sZW5ndGgtMV1bMV0pIGJyZWFrO1xuXHRcdFx0aWYoUm5bMV09PT0nLycpIHBhcnNlX3hsbWxfZGF0YShzdHIuc2xpY2UoZGlkeCwgUm4uaW5kZXgpLCBzcywgZHRhZywgc3RhdGVbc3RhdGUubGVuZ3RoLTFdWzBdPT0vKlwiQ29tbWVudFwiKi9cImNvbW1lbnRcIj9jb21tZW50OmNlbGwsIHtjOmMscjpyfSwgc3R5bGVzLCBjc3R5c1tjXSwgcm93LCBhcnJheWYsIG9wdHMsIFdvcmtib29rLldCUHJvcHMuZGF0ZTE5MDQpO1xuXHRcdFx0ZWxzZSB7IHNzID0gXCJcIjsgZHRhZyA9IHhsbWxfcGFyc2V4bWx0YWcoUm5bMF0pOyBkaWR4ID0gUm4uaW5kZXggKyBSblswXS5sZW5ndGg7IH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2NlbGwnIC8qY2FzZSAnQ2VsbCcqLzpcblx0XHRcdGlmKFJuWzFdPT09Jy8nKXtcblx0XHRcdFx0aWYoY29tbWVudHMubGVuZ3RoID4gMCkgY2VsbC5jID0gY29tbWVudHM7XG5cdFx0XHRcdGlmKCghb3B0cy5zaGVldFJvd3MgfHwgb3B0cy5zaGVldFJvd3MgPiByKSAmJiBjZWxsLnYgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdGlmKG9wdHMuZGVuc2UpIHtcblx0XHRcdFx0XHRcdGlmKCFjdXJzaGVldFtcIiFkYXRhXCJdW3JdKSBjdXJzaGVldFtcIiFkYXRhXCJdW3JdID0gW107XG5cdFx0XHRcdFx0XHRjdXJzaGVldFtcIiFkYXRhXCJdW3JdW2NdID0gY2VsbDtcblx0XHRcdFx0XHR9IGVsc2UgY3Vyc2hlZXRbZW5jb2RlX2NvbChjKSArIGVuY29kZV9yb3cocildID0gY2VsbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihjZWxsLkhSZWYpIHtcblx0XHRcdFx0XHRjZWxsLmwgPSAoe1RhcmdldDp1bmVzY2FwZXhtbChjZWxsLkhSZWYpfS8qOmFueSovKTtcblx0XHRcdFx0XHRpZihjZWxsLkhSZWZTY3JlZW5UaXApIGNlbGwubC5Ub29sdGlwID0gY2VsbC5IUmVmU2NyZWVuVGlwO1xuXHRcdFx0XHRcdGRlbGV0ZSBjZWxsLkhSZWY7IGRlbGV0ZSBjZWxsLkhSZWZTY3JlZW5UaXA7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoY2VsbC5NZXJnZUFjcm9zcyB8fCBjZWxsLk1lcmdlRG93bikge1xuXHRcdFx0XHRcdGNjID0gYyArIChwYXJzZUludChjZWxsLk1lcmdlQWNyb3NzLDEwKXwwKTtcblx0XHRcdFx0XHRyciA9IHIgKyAocGFyc2VJbnQoY2VsbC5NZXJnZURvd24sMTApfDApO1xuXHRcdFx0XHRcdGlmKGNjID4gYyB8fCByciA+IHIpIG1lcmdlcy5wdXNoKHtzOntjOmMscjpyfSxlOntjOmNjLHI6cnJ9fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoIW9wdHMuc2hlZXRTdHVicykgeyBpZihjZWxsLk1lcmdlQWNyb3NzKSBjID0gY2MgKyAxOyBlbHNlICsrYzsgfVxuXHRcdFx0XHRlbHNlIGlmKGNlbGwuTWVyZ2VBY3Jvc3MgfHwgY2VsbC5NZXJnZURvd24pIHtcblx0XHRcdFx0XHQvKjo6IGlmKCFjYykgY2MgPSAwOyBpZighcnIpIHJyID0gMDsgKi9cblx0XHRcdFx0XHRmb3IodmFyIGNtYSA9IGM7IGNtYSA8PSBjYzsgKytjbWEpIHtcblx0XHRcdFx0XHRcdGZvcih2YXIgY21kID0gcjsgY21kIDw9IHJyOyArK2NtZCkge1xuXHRcdFx0XHRcdFx0XHRpZihjbWEgPiBjIHx8IGNtZCA+IHIpIHtcblx0XHRcdFx0XHRcdFx0XHRpZihvcHRzLmRlbnNlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZighY3Vyc2hlZXRbXCIhZGF0YVwiXVtjbWRdKSBjdXJzaGVldFtcIiFkYXRhXCJdW2NtZF0gPSBbXTtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnNoZWV0W1wiIWRhdGFcIl1bY21kXVtjbWFdID0ge3Q6J3onfTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgY3Vyc2hlZXRbZW5jb2RlX2NvbChjbWEpICsgZW5jb2RlX3JvdyhjbWQpXSA9IHt0Oid6J307XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YyA9IGNjICsgMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlICsrYztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNlbGwgPSB4bG1sX3BhcnNleG1sdGFnb2JqKFJuWzBdKTtcblx0XHRcdFx0aWYoY2VsbC5JbmRleCkgYyA9ICtjZWxsLkluZGV4IC0gMTtcblx0XHRcdFx0aWYoYyA8IHJlZmd1ZXNzLnMuYykgcmVmZ3Vlc3Mucy5jID0gYztcblx0XHRcdFx0aWYoYyA+IHJlZmd1ZXNzLmUuYykgcmVmZ3Vlc3MuZS5jID0gYztcblx0XHRcdFx0aWYoUm5bMF0uc2xpY2UoLTIpID09PSBcIi8+XCIpICsrYztcblx0XHRcdFx0Y29tbWVudHMgPSBbXTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3JvdycgLypjYXNlICdSb3cnKi86XG5cdFx0XHRpZihSblsxXT09PScvJyB8fCBSblswXS5zbGljZSgtMikgPT09IFwiLz5cIikge1xuXHRcdFx0XHRpZihyIDwgcmVmZ3Vlc3Mucy5yKSByZWZndWVzcy5zLnIgPSByO1xuXHRcdFx0XHRpZihyID4gcmVmZ3Vlc3MuZS5yKSByZWZndWVzcy5lLnIgPSByO1xuXHRcdFx0XHRpZihSblswXS5zbGljZSgtMikgPT09IFwiLz5cIikge1xuXHRcdFx0XHRcdHJvdyA9IHhsbWxfcGFyc2V4bWx0YWcoUm5bMF0pO1xuXHRcdFx0XHRcdGlmKHJvdy5JbmRleCkgciA9ICtyb3cuSW5kZXggLSAxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGMgPSAwOyArK3I7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyb3cgPSB4bG1sX3BhcnNleG1sdGFnKFJuWzBdKTtcblx0XHRcdFx0aWYocm93LkluZGV4KSByID0gK3Jvdy5JbmRleCAtIDE7XG5cdFx0XHRcdHJvd29iaiA9IHt9O1xuXHRcdFx0XHRpZihyb3cuQXV0b0ZpdEhlaWdodCA9PSBcIjBcIiB8fCByb3cuSGVpZ2h0KSB7XG5cdFx0XHRcdFx0cm93b2JqLmhweCA9IHBhcnNlSW50KHJvdy5IZWlnaHQsIDEwKTsgcm93b2JqLmhwdCA9IHB4MnB0KHJvd29iai5ocHgpO1xuXHRcdFx0XHRcdHJvd2luZm9bcl0gPSByb3dvYmo7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYocm93LkhpZGRlbiA9PSBcIjFcIikgeyByb3dvYmouaGlkZGVuID0gdHJ1ZTsgcm93aW5mb1tyXSA9IHJvd29iajsgfVxuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnd29ya3NoZWV0JyAvKmNhc2UgJ1dvcmtzaGVldCcqLzogLyogVE9ETzogcmVhZCByYW5nZSBmcm9tIEZ1bGxSb3dzL0Z1bGxDb2x1bW5zICovXG5cdFx0XHRpZihSblsxXT09PScvJyl7XG5cdFx0XHRcdGlmKCh0bXA9c3RhdGUucG9wKCkpWzBdIT09Um5bM10pIHRocm93IG5ldyBFcnJvcihcIkJhZCBzdGF0ZTogXCIrdG1wLmpvaW4oXCJ8XCIpKTtcblx0XHRcdFx0c2hlZXRuYW1lcy5wdXNoKHNoZWV0bmFtZSk7XG5cdFx0XHRcdGlmKHJlZmd1ZXNzLnMuciA8PSByZWZndWVzcy5lLnIgJiYgcmVmZ3Vlc3Mucy5jIDw9IHJlZmd1ZXNzLmUuYykge1xuXHRcdFx0XHRcdGN1cnNoZWV0W1wiIXJlZlwiXSA9IGVuY29kZV9yYW5nZShyZWZndWVzcyk7XG5cdFx0XHRcdFx0aWYob3B0cy5zaGVldFJvd3MgJiYgb3B0cy5zaGVldFJvd3MgPD0gcmVmZ3Vlc3MuZS5yKSB7XG5cdFx0XHRcdFx0XHRjdXJzaGVldFtcIiFmdWxscmVmXCJdID0gY3Vyc2hlZXRbXCIhcmVmXCJdO1xuXHRcdFx0XHRcdFx0cmVmZ3Vlc3MuZS5yID0gb3B0cy5zaGVldFJvd3MgLSAxO1xuXHRcdFx0XHRcdFx0Y3Vyc2hlZXRbXCIhcmVmXCJdID0gZW5jb2RlX3JhbmdlKHJlZmd1ZXNzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYobWVyZ2VzLmxlbmd0aCkgY3Vyc2hlZXRbXCIhbWVyZ2VzXCJdID0gbWVyZ2VzO1xuXHRcdFx0XHRpZihjc3R5cy5sZW5ndGggPiAwKSBjdXJzaGVldFtcIiFjb2xzXCJdID0gY3N0eXM7XG5cdFx0XHRcdGlmKHJvd2luZm8ubGVuZ3RoID4gMCkgY3Vyc2hlZXRbXCIhcm93c1wiXSA9IHJvd2luZm87XG5cdFx0XHRcdHNoZWV0c1tzaGVldG5hbWVdID0gY3Vyc2hlZXQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZWZndWVzcyA9IHtzOiB7cjoyMDAwMDAwLCBjOjIwMDAwMDB9LCBlOiB7cjowLCBjOjB9IH07XG5cdFx0XHRcdHIgPSBjID0gMDtcblx0XHRcdFx0c3RhdGUucHVzaChbUm5bM10sIGZhbHNlXSk7XG5cdFx0XHRcdHRtcCA9IHhsbWxfcGFyc2V4bWx0YWcoUm5bMF0pO1xuXHRcdFx0XHRzaGVldG5hbWUgPSB1bmVzY2FwZXhtbCh0bXAuTmFtZSk7XG5cdFx0XHRcdGN1cnNoZWV0ID0gKHt9KTsgaWYob3B0cy5kZW5zZSkgY3Vyc2hlZXRbXCIhZGF0YVwiXSA9IFtdO1xuXHRcdFx0XHRtZXJnZXMgPSBbXTtcblx0XHRcdFx0YXJyYXlmID0gW107XG5cdFx0XHRcdHJvd2luZm8gPSBbXTtcblx0XHRcdFx0d3Nwcm9wcyA9IHtuYW1lOnNoZWV0bmFtZSwgSGlkZGVuOjB9O1xuXHRcdFx0XHRXb3JrYm9vay5TaGVldHMucHVzaCh3c3Byb3BzKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3RhYmxlJyAvKmNhc2UgJ1RhYmxlJyovOlxuXHRcdFx0aWYoUm5bMV09PT0nLycpe2lmKCh0bXA9c3RhdGUucG9wKCkpWzBdIT09Um5bM10pIHRocm93IG5ldyBFcnJvcihcIkJhZCBzdGF0ZTogXCIrdG1wLmpvaW4oXCJ8XCIpKTt9XG5cdFx0XHRlbHNlIGlmKFJuWzBdLnNsaWNlKC0yKSA9PSBcIi8+XCIpIGJyZWFrO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHN0YXRlLnB1c2goW1JuWzNdLCBmYWxzZV0pO1xuXHRcdFx0XHRjc3R5cyA9IFtdOyBzZWVuY29sID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ3N0eWxlJyAvKmNhc2UgJ1N0eWxlJyovOlxuXHRcdFx0aWYoUm5bMV09PT0nLycpIHByb2Nlc3Nfc3R5bGVfeGxtbChzdHlsZXMsIHN0YWcsIG9wdHMpO1xuXHRcdFx0ZWxzZSBzdGFnID0geGxtbF9wYXJzZXhtbHRhZyhSblswXSk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ251bWJlcmZvcm1hdCcgLypjYXNlICdOdW1iZXJGb3JtYXQnKi86XG5cdFx0XHRzdGFnLm5mID0gdW5lc2NhcGV4bWwoeGxtbF9wYXJzZXhtbHRhZyhSblswXSkuRm9ybWF0IHx8IFwiR2VuZXJhbFwiKTtcblx0XHRcdGlmKFhMTUxGb3JtYXRNYXBbc3RhZy5uZl0pIHN0YWcubmYgPSBYTE1MRm9ybWF0TWFwW3N0YWcubmZdO1xuXHRcdFx0Zm9yKHZhciBzc2ZpZHggPSAwOyBzc2ZpZHggIT0gMHgxODg7ICsrc3NmaWR4KSBpZih0YWJsZV9mbXRbc3NmaWR4XSA9PSBzdGFnLm5mKSBicmVhaztcblx0XHRcdGlmKHNzZmlkeCA9PSAweDE4OCkgZm9yKHNzZmlkeCA9IDB4Mzk7IHNzZmlkeCAhPSAweDE4ODsgKytzc2ZpZHgpIGlmKHRhYmxlX2ZtdFtzc2ZpZHhdID09IG51bGwpIHsgU1NGX19sb2FkKHN0YWcubmYsIHNzZmlkeCk7IGJyZWFrOyB9XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ2NvbHVtbicgLypjYXNlICdDb2x1bW4nKi86XG5cdFx0XHRpZihzdGF0ZVtzdGF0ZS5sZW5ndGgtMV1bMF0gIT09IC8qJ1RhYmxlJyovJ3RhYmxlJykgYnJlYWs7XG5cdFx0XHRpZihSblsxXT09PScvJykgYnJlYWs7XG5cdFx0XHRjc3R5ID0geGxtbF9wYXJzZXhtbHRhZyhSblswXSk7XG5cdFx0XHRpZihjc3R5LkhpZGRlbikgeyBjc3R5LmhpZGRlbiA9IHRydWU7IGRlbGV0ZSBjc3R5LkhpZGRlbjsgfVxuXHRcdFx0aWYoY3N0eS5XaWR0aCkgY3N0eS53cHggPSBwYXJzZUludChjc3R5LldpZHRoLCAxMCk7XG5cdFx0XHRpZighc2VlbmNvbCAmJiBjc3R5LndweCA+IDEwKSB7XG5cdFx0XHRcdHNlZW5jb2wgPSB0cnVlOyBNRFcgPSBERUZfTURXOyAvL2ZpbmRfbWR3X3dweChjc3R5LndweCk7XG5cdFx0XHRcdGZvcih2YXIgX2NvbCA9IDA7IF9jb2wgPCBjc3R5cy5sZW5ndGg7ICsrX2NvbCkgaWYoY3N0eXNbX2NvbF0pIHByb2Nlc3NfY29sKGNzdHlzW19jb2xdKTtcblx0XHRcdH1cblx0XHRcdGlmKHNlZW5jb2wpIHByb2Nlc3NfY29sKGNzdHkpO1xuXHRcdFx0Y3N0eXNbKGNzdHkuSW5kZXgtMXx8Y3N0eXMubGVuZ3RoKV0gPSBjc3R5O1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8ICtjc3R5LlNwYW47ICsraSkgY3N0eXNbY3N0eXMubGVuZ3RoXSA9IGR1cChjc3R5KTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnbmFtZWRyYW5nZScgLypjYXNlICdOYW1lZFJhbmdlJyovOlxuXHRcdFx0aWYoUm5bMV09PT0nLycpIGJyZWFrO1xuXHRcdFx0aWYoIVdvcmtib29rLk5hbWVzKSBXb3JrYm9vay5OYW1lcyA9IFtdO1xuXHRcdFx0dmFyIF9OYW1lZFJhbmdlID0gcGFyc2V4bWx0YWcoUm5bMF0pO1xuXHRcdFx0dmFyIF9EZWZpbmVkTmFtZS8qOkRlZmluZWROYW1lKi8gPSAoe1xuXHRcdFx0XHROYW1lOiB4bG1sX3ByZWZpeF9kbmFtZShfTmFtZWRSYW5nZS5OYW1lKSxcblx0XHRcdFx0UmVmOiByY190b19hMShfTmFtZWRSYW5nZS5SZWZlcnNUby5zbGljZSgxKSwge3I6MCwgYzowfSlcblx0XHRcdH0vKjphbnkqLyk7XG5cdFx0XHRpZihXb3JrYm9vay5TaGVldHMubGVuZ3RoPjApIF9EZWZpbmVkTmFtZS5TaGVldD1Xb3JrYm9vay5TaGVldHMubGVuZ3RoLTE7XG5cdFx0XHQvKjo6IGlmKFdvcmtib29rLk5hbWVzKSAqL1dvcmtib29rLk5hbWVzLnB1c2goX0RlZmluZWROYW1lKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnbmFtZWRjZWxsJyAvKmNhc2UgJ05hbWVkQ2VsbCcqLzogYnJlYWs7XG5cdFx0Y2FzZSAnYicgLypjYXNlICdCJyovOiBicmVhaztcblx0XHRjYXNlICdpJyAvKmNhc2UgJ0knKi86IGJyZWFrO1xuXHRcdGNhc2UgJ3UnIC8qY2FzZSAnVScqLzogYnJlYWs7XG5cdFx0Y2FzZSAncycgLypjYXNlICdTJyovOiBicmVhaztcblx0XHRjYXNlICdlbScgLypjYXNlICdFTScqLzogYnJlYWs7XG5cdFx0Y2FzZSAnaDInIC8qY2FzZSAnSDInKi86IGJyZWFrO1xuXHRcdGNhc2UgJ2gzJyAvKmNhc2UgJ0gzJyovOiBicmVhaztcblx0XHRjYXNlICdzdWInIC8qY2FzZSAnU3ViJyovOiBicmVhaztcblx0XHRjYXNlICdzdXAnIC8qY2FzZSAnU3VwJyovOiBicmVhaztcblx0XHRjYXNlICdzcGFuJyAvKmNhc2UgJ1NwYW4nKi86IGJyZWFrO1xuXHRcdGNhc2UgJ2FsaWdubWVudCcgLypjYXNlICdBbGlnbm1lbnQnKi86XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdib3JkZXJzJyAvKmNhc2UgJ0JvcmRlcnMnKi86IGJyZWFrO1xuXHRcdGNhc2UgJ2JvcmRlcicgLypjYXNlICdCb3JkZXInKi86IGJyZWFrO1xuXHRcdGNhc2UgJ2ZvbnQnIC8qY2FzZSAnRm9udCcqLzpcblx0XHRcdGlmKFJuWzBdLnNsaWNlKC0yKSA9PT0gXCIvPlwiKSBicmVhaztcblx0XHRcdGVsc2UgaWYoUm5bMV09PT1cIi9cIikgc3MgKz0gc3RyLnNsaWNlKGZpZHgsIFJuLmluZGV4KTtcblx0XHRcdGVsc2UgZmlkeCA9IFJuLmluZGV4ICsgUm5bMF0ubGVuZ3RoO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnaW50ZXJpb3InIC8qY2FzZSAnSW50ZXJpb3InKi86XG5cdFx0XHRpZighb3B0cy5jZWxsU3R5bGVzKSBicmVhaztcblx0XHRcdHN0YWcuSW50ZXJpb3IgPSB4bG1sX3BhcnNleG1sdGFnKFJuWzBdKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3Byb3RlY3Rpb24nIC8qY2FzZSAnUHJvdGVjdGlvbicqLzogYnJlYWs7XG5cblx0XHRjYXNlICdhdXRob3InIC8qY2FzZSAnQXV0aG9yJyovOlxuXHRcdGNhc2UgJ3RpdGxlJyAvKmNhc2UgJ1RpdGxlJyovOlxuXHRcdGNhc2UgJ2Rlc2NyaXB0aW9uJyAvKmNhc2UgJ0Rlc2NyaXB0aW9uJyovOlxuXHRcdGNhc2UgJ2NyZWF0ZWQnIC8qY2FzZSAnQ3JlYXRlZCcqLzpcblx0XHRjYXNlICdrZXl3b3JkcycgLypjYXNlICdLZXl3b3JkcycqLzpcblx0XHRjYXNlICdzdWJqZWN0JyAvKmNhc2UgJ1N1YmplY3QnKi86XG5cdFx0Y2FzZSAnY2F0ZWdvcnknIC8qY2FzZSAnQ2F0ZWdvcnknKi86XG5cdFx0Y2FzZSAnY29tcGFueScgLypjYXNlICdDb21wYW55JyovOlxuXHRcdGNhc2UgJ2xhc3RhdXRob3InIC8qY2FzZSAnTGFzdEF1dGhvcicqLzpcblx0XHRjYXNlICdsYXN0c2F2ZWQnIC8qY2FzZSAnTGFzdFNhdmVkJyovOlxuXHRcdGNhc2UgJ2xhc3RwcmludGVkJyAvKmNhc2UgJ0xhc3RQcmludGVkJyovOlxuXHRcdGNhc2UgJ3ZlcnNpb24nIC8qY2FzZSAnVmVyc2lvbicqLzpcblx0XHRjYXNlICdyZXZpc2lvbicgLypjYXNlICdSZXZpc2lvbicqLzpcblx0XHRjYXNlICd0b3RhbHRpbWUnIC8qY2FzZSAnVG90YWxUaW1lJyovOlxuXHRcdGNhc2UgJ2h5cGVybGlua2Jhc2UnIC8qY2FzZSAnSHlwZXJsaW5rQmFzZScqLzpcblx0XHRjYXNlICdtYW5hZ2VyJyAvKmNhc2UgJ01hbmFnZXInKi86XG5cdFx0Y2FzZSAnY29udGVudHN0YXR1cycgLypjYXNlICdDb250ZW50U3RhdHVzJyovOlxuXHRcdGNhc2UgJ2lkZW50aWZpZXInIC8qY2FzZSAnSWRlbnRpZmllcicqLzpcblx0XHRjYXNlICdsYW5ndWFnZScgLypjYXNlICdMYW5ndWFnZScqLzpcblx0XHRjYXNlICdhcHBuYW1lJyAvKmNhc2UgJ0FwcE5hbWUnKi86XG5cdFx0XHRpZihSblswXS5zbGljZSgtMikgPT09IFwiLz5cIikgYnJlYWs7XG5cdFx0XHRlbHNlIGlmKFJuWzFdPT09XCIvXCIpIHhsbWxfc2V0X3Byb3AoUHJvcHMsIHJhd19SbjMsIHN0ci5zbGljZShwaWR4LCBSbi5pbmRleCkpO1xuXHRcdFx0ZWxzZSBwaWR4ID0gUm4uaW5kZXggKyBSblswXS5sZW5ndGg7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdwYXJhZ3JhcGhzJyAvKmNhc2UgJ1BhcmFncmFwaHMnKi86IGJyZWFrO1xuXG5cdFx0Y2FzZSAnc3R5bGVzJyAvKmNhc2UgJ1N0eWxlcycqLzpcblx0XHRjYXNlICd3b3JrYm9vaycgLypjYXNlICdXb3JrYm9vaycqLzpcblx0XHRcdGlmKFJuWzFdPT09Jy8nKXtpZigodG1wPXN0YXRlLnBvcCgpKVswXSE9PVJuWzNdKSB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgc3RhdGU6IFwiK3RtcC5qb2luKFwifFwiKSk7fVxuXHRcdFx0ZWxzZSBzdGF0ZS5wdXNoKFtSblszXSwgZmFsc2VdKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnY29tbWVudCcgLypjYXNlICdDb21tZW50JyovOlxuXHRcdFx0aWYoUm5bMV09PT0nLycpe1xuXHRcdFx0XHRpZigodG1wPXN0YXRlLnBvcCgpKVswXSE9PVJuWzNdKSB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgc3RhdGU6IFwiK3RtcC5qb2luKFwifFwiKSk7XG5cdFx0XHRcdHhsbWxfY2xlYW5fY29tbWVudChjb21tZW50KTtcblx0XHRcdFx0Y29tbWVudHMucHVzaChjb21tZW50KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0YXRlLnB1c2goW1JuWzNdLCBmYWxzZV0pO1xuXHRcdFx0XHR0bXAgPSB4bG1sX3BhcnNleG1sdGFnKFJuWzBdKTtcblx0XHRcdFx0aWYoIXBhcnNleG1sYm9vbCh0bXBbXCJTaG93QWx3YXlzXCJdfHxcIjBcIikpIGNvbW1lbnRzLmhpZGRlbiA9IHRydWU7XG5cdFx0XHRcdGNvbW1lbnQgPSAoe2E6dG1wLkF1dGhvcn0vKjphbnkqLyk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ2F1dG9maWx0ZXInIC8qY2FzZSAnQXV0b0ZpbHRlcicqLzpcblx0XHRcdGlmKFJuWzFdPT09Jy8nKXtpZigodG1wPXN0YXRlLnBvcCgpKVswXSE9PVJuWzNdKSB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgc3RhdGU6IFwiK3RtcC5qb2luKFwifFwiKSk7fVxuXHRcdFx0ZWxzZSBpZihSblswXS5jaGFyQXQoUm5bMF0ubGVuZ3RoLTIpICE9PSAnLycpIHtcblx0XHRcdFx0dmFyIEF1dG9GaWx0ZXIgPSB4bG1sX3BhcnNleG1sdGFnKFJuWzBdKTtcblx0XHRcdFx0Y3Vyc2hlZXRbJyFhdXRvZmlsdGVyJ10gPSB7IHJlZjpyY190b19hMShBdXRvRmlsdGVyLlJhbmdlKS5yZXBsYWNlKC9cXCQvZyxcIlwiKSB9O1xuXHRcdFx0XHRzdGF0ZS5wdXNoKFtSblszXSwgdHJ1ZV0pO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICduYW1lJyAvKmNhc2UgJ05hbWUnKi86IGJyZWFrO1xuXG5cdFx0Y2FzZSAnZGF0YXZhbGlkYXRpb24nIC8qY2FzZSAnRGF0YVZhbGlkYXRpb24nKi86XG5cdFx0XHRpZihSblsxXT09PScvJyl7XG5cdFx0XHRcdGlmKCh0bXA9c3RhdGUucG9wKCkpWzBdIT09Um5bM10pIHRocm93IG5ldyBFcnJvcihcIkJhZCBzdGF0ZTogXCIrdG1wLmpvaW4oXCJ8XCIpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmKFJuWzBdLmNoYXJBdChSblswXS5sZW5ndGgtMikgIT09ICcvJykgc3RhdGUucHVzaChbUm5bM10sIHRydWVdKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAncGl4ZWxzcGVyaW5jaCcgLypjYXNlICdQaXhlbHNQZXJJbmNoJyovOlxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnY29tcG9uZW50b3B0aW9ucycgLypjYXNlICdDb21wb25lbnRPcHRpb25zJyovOlxuXHRcdGNhc2UgJ2RvY3VtZW50cHJvcGVydGllcycgLypjYXNlICdEb2N1bWVudFByb3BlcnRpZXMnKi86XG5cdFx0Y2FzZSAnY3VzdG9tZG9jdW1lbnRwcm9wZXJ0aWVzJyAvKmNhc2UgJ0N1c3RvbURvY3VtZW50UHJvcGVydGllcycqLzpcblx0XHRjYXNlICdvZmZpY2Vkb2N1bWVudHNldHRpbmdzJyAvKmNhc2UgJ09mZmljZURvY3VtZW50U2V0dGluZ3MnKi86XG5cdFx0Y2FzZSAncGl2b3R0YWJsZScgLypjYXNlICdQaXZvdFRhYmxlJyovOlxuXHRcdGNhc2UgJ3Bpdm90Y2FjaGUnIC8qY2FzZSAnUGl2b3RDYWNoZScqLzpcblx0XHRjYXNlICduYW1lcycgLypjYXNlICdOYW1lcycqLzpcblx0XHRjYXNlICdtYXBpbmZvJyAvKmNhc2UgJ01hcEluZm8nKi86XG5cdFx0Y2FzZSAncGFnZWJyZWFrcycgLypjYXNlICdQYWdlQnJlYWtzJyovOlxuXHRcdGNhc2UgJ3F1ZXJ5dGFibGUnIC8qY2FzZSAnUXVlcnlUYWJsZScqLzpcblx0XHRjYXNlICdzb3J0aW5nJyAvKmNhc2UgJ1NvcnRpbmcnKi86XG5cdFx0Y2FzZSAnc2NoZW1hJyAvKmNhc2UgJ1NjaGVtYScqLzogLy9jYXNlICdkYXRhJyAvKmNhc2UgJ2RhdGEnKi86XG5cdFx0Y2FzZSAnY29uZGl0aW9uYWxmb3JtYXR0aW5nJyAvKmNhc2UgJ0NvbmRpdGlvbmFsRm9ybWF0dGluZycqLzpcblx0XHRjYXNlICdzbWFydHRhZ3R5cGUnIC8qY2FzZSAnU21hcnRUYWdUeXBlJyovOlxuXHRcdGNhc2UgJ3NtYXJ0dGFncycgLypjYXNlICdTbWFydFRhZ3MnKi86XG5cdFx0Y2FzZSAnZXhjZWx3b3JrYm9vaycgLypjYXNlICdFeGNlbFdvcmtib29rJyovOlxuXHRcdGNhc2UgJ3dvcmtib29rb3B0aW9ucycgLypjYXNlICdXb3JrYm9va09wdGlvbnMnKi86XG5cdFx0Y2FzZSAnd29ya3NoZWV0b3B0aW9ucycgLypjYXNlICdXb3Jrc2hlZXRPcHRpb25zJyovOlxuXHRcdFx0aWYoUm5bMV09PT0nLycpe2lmKCh0bXA9c3RhdGUucG9wKCkpWzBdIT09Um5bM10pIHRocm93IG5ldyBFcnJvcihcIkJhZCBzdGF0ZTogXCIrdG1wLmpvaW4oXCJ8XCIpKTt9XG5cdFx0XHRlbHNlIGlmKFJuWzBdLmNoYXJBdChSblswXS5sZW5ndGgtMikgIT09ICcvJykgc3RhdGUucHVzaChbUm5bM10sIHRydWVdKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnbnVsbCcgLypjYXNlICdOdWxsJyovOiBicmVhaztcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHQvKiBGT0RTIGZpbGUgcm9vdCBpcyA8b2ZmaWNlOmRvY3VtZW50PiAqL1xuXHRcdFx0aWYoc3RhdGUubGVuZ3RoID09IDAgJiYgUm5bM10gPT0gXCJkb2N1bWVudFwiKSByZXR1cm4gcGFyc2VfZm9kcyhzdHIsIG9wdHMpO1xuXHRcdFx0LyogVU9TIGZpbGUgcm9vdCBpcyA8dW9mOlVPRj4gKi9cblx0XHRcdGlmKHN0YXRlLmxlbmd0aCA9PSAwICYmIFJuWzNdID09IFwidW9mXCIvKlwiVU9GXCIqLykgcmV0dXJuIHBhcnNlX2ZvZHMoc3RyLCBvcHRzKTtcblxuXHRcdFx0dmFyIHNlZW4gPSB0cnVlO1xuXHRcdFx0c3dpdGNoKHN0YXRlW3N0YXRlLmxlbmd0aC0xXVswXSkge1xuXHRcdFx0XHQvKiBPZmZpY2VEb2N1bWVudFNldHRpbmdzICovXG5cdFx0XHRcdGNhc2UgJ29mZmljZWRvY3VtZW50c2V0dGluZ3MnIC8qY2FzZSAnT2ZmaWNlRG9jdW1lbnRTZXR0aW5ncycqLzogc3dpdGNoKFJuWzNdKSB7XG5cdFx0XHRcdFx0Y2FzZSAnYWxsb3dwbmcnIC8qY2FzZSAnQWxsb3dQTkcnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3JlbW92ZXBlcnNvbmFsaW5mb3JtYXRpb24nIC8qY2FzZSAnUmVtb3ZlUGVyc29uYWxJbmZvcm1hdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZG93bmxvYWRjb21wb25lbnRzJyAvKmNhc2UgJ0Rvd25sb2FkQ29tcG9uZW50cycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbG9jYXRpb25vZmNvbXBvbmVudHMnIC8qY2FzZSAnTG9jYXRpb25PZkNvbXBvbmVudHMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2NvbG9ycycgLypjYXNlICdDb2xvcnMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2NvbG9yJyAvKmNhc2UgJ0NvbG9yJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdpbmRleCcgLypjYXNlICdJbmRleCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncmdiJyAvKmNhc2UgJ1JHQicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndGFyZ2V0c2NyZWVuc2l6ZScgLypjYXNlICdUYXJnZXRTY3JlZW5TaXplJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdyZWFkb25seXJlY29tbWVuZGVkJyAvKmNhc2UgJ1JlYWRPbmx5UmVjb21tZW5kZWQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6IHNlZW4gPSBmYWxzZTtcblx0XHRcdFx0fSBicmVhaztcblxuXHRcdFx0XHQvKiBDb21wb25lbnRPcHRpb25zICovXG5cdFx0XHRcdGNhc2UgJ2NvbXBvbmVudG9wdGlvbnMnIC8qY2FzZSAnQ29tcG9uZW50T3B0aW9ucycqLzogc3dpdGNoKFJuWzNdKSB7XG5cdFx0XHRcdFx0Y2FzZSAndG9vbGJhcicgLypjYXNlICdUb29sYmFyJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdoaWRlb2ZmaWNlbG9nbycgLypjYXNlICdIaWRlT2ZmaWNlTG9nbycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc3ByZWFkc2hlZXRhdXRvZml0JyAvKmNhc2UgJ1NwcmVhZHNoZWV0QXV0b0ZpdCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbGFiZWwnIC8qY2FzZSAnTGFiZWwnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2NhcHRpb24nIC8qY2FzZSAnQ2FwdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbWF4aGVpZ2h0JyAvKmNhc2UgJ01heEhlaWdodCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbWF4d2lkdGgnIC8qY2FzZSAnTWF4V2lkdGgnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ25leHRzaGVldG51bWJlcicgLypjYXNlICdOZXh0U2hlZXROdW1iZXInKi86IGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6IHNlZW4gPSBmYWxzZTtcblx0XHRcdFx0fSBicmVhaztcblxuXHRcdFx0XHQvKiBFeGNlbFdvcmtib29rICovXG5cdFx0XHRcdGNhc2UgJ2V4Y2Vsd29ya2Jvb2snIC8qY2FzZSAnRXhjZWxXb3JrYm9vaycqLzogc3dpdGNoKFJuWzNdKSB7XG5cdFx0XHRcdFx0Y2FzZSAnZGF0ZTE5MDQnIC8qY2FzZSAnRGF0ZTE5MDQnKi86XG5cdFx0XHRcdFx0XHQvKjo6IGlmKCFXb3JrYm9vay5XQlByb3BzKSBXb3JrYm9vay5XQlByb3BzID0ge307ICovXG5cdFx0XHRcdFx0XHRXb3JrYm9vay5XQlByb3BzLmRhdGUxOTA0ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2hpZGVob3Jpem9udGFsc2Nyb2xsYmFyJyAvKmNhc2UgJ0hpZGVIb3Jpem9udGFsU2Nyb2xsQmFyJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdoaWRldmVydGljYWxzY3JvbGxiYXInIC8qY2FzZSAnSGlkZVZlcnRpY2FsU2Nyb2xsQmFyJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdoaWRld29ya2Jvb2t0YWJzJyAvKmNhc2UgJ0hpZGVXb3JrYm9va1RhYnMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3dpbmRvd2hlaWdodCcgLypjYXNlICdXaW5kb3dIZWlnaHQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3dpbmRvd3dpZHRoJyAvKmNhc2UgJ1dpbmRvd1dpZHRoJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICd3aW5kb3d0b3B4JyAvKmNhc2UgJ1dpbmRvd1RvcFgnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3dpbmRvd3RvcHknIC8qY2FzZSAnV2luZG93VG9wWScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndGFicmF0aW8nIC8qY2FzZSAnVGFiUmF0aW8nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Byb3RlY3RzdHJ1Y3R1cmUnIC8qY2FzZSAnUHJvdGVjdFN0cnVjdHVyZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncHJvdGVjdHdpbmRvdycgLypjYXNlICdQcm90ZWN0V2luZG93JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdwcm90ZWN0d2luZG93cycgLypjYXNlICdQcm90ZWN0V2luZG93cycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYWN0aXZlc2hlZXQnIC8qY2FzZSAnQWN0aXZlU2hlZXQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Rpc3BsYXlpbmtub3RlcycgLypjYXNlICdEaXNwbGF5SW5rTm90ZXMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2ZpcnN0dmlzaWJsZXNoZWV0JyAvKmNhc2UgJ0ZpcnN0VmlzaWJsZVNoZWV0JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdzdXBib29rJyAvKmNhc2UgJ1N1cEJvb2snKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3NoZWV0bmFtZScgLypjYXNlICdTaGVldE5hbWUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3NoZWV0aW5kZXgnIC8qY2FzZSAnU2hlZXRJbmRleCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc2hlZXRpbmRleGZpcnN0JyAvKmNhc2UgJ1NoZWV0SW5kZXhGaXJzdCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc2hlZXRpbmRleGxhc3QnIC8qY2FzZSAnU2hlZXRJbmRleExhc3QnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2RsbCcgLypjYXNlICdEbGwnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2FjY2VwdGxhYmVsc2luZm9ybXVsYXMnIC8qY2FzZSAnQWNjZXB0TGFiZWxzSW5Gb3JtdWxhcycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZG9ub3RzYXZlbGlua3ZhbHVlcycgLypjYXNlICdEb05vdFNhdmVMaW5rVmFsdWVzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdpdGVyYXRpb24nIC8qY2FzZSAnSXRlcmF0aW9uJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdtYXhpdGVyYXRpb25zJyAvKmNhc2UgJ01heEl0ZXJhdGlvbnMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ21heGNoYW5nZScgLypjYXNlICdNYXhDaGFuZ2UnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3BhdGgnIC8qY2FzZSAnUGF0aCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAneGN0JyAvKmNhc2UgJ1hjdCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY291bnQnIC8qY2FzZSAnQ291bnQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3NlbGVjdGVkc2hlZXRzJyAvKmNhc2UgJ1NlbGVjdGVkU2hlZXRzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdjYWxjdWxhdGlvbicgLypjYXNlICdDYWxjdWxhdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndW5jYWxjZWQnIC8qY2FzZSAnVW5jYWxjZWQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3N0YXJ0dXBwcm9tcHQnIC8qY2FzZSAnU3RhcnR1cFByb21wdCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY3JuJyAvKmNhc2UgJ0NybicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZXh0ZXJubmFtZScgLypjYXNlICdFeHRlcm5OYW1lJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdmb3JtdWxhJyAvKmNhc2UgJ0Zvcm11bGEnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2NvbGZpcnN0JyAvKmNhc2UgJ0NvbEZpcnN0JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdjb2xsYXN0JyAvKmNhc2UgJ0NvbExhc3QnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3dhbnRhZHZpc2UnIC8qY2FzZSAnV2FudEFkdmlzZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYm9vbGVhbicgLypjYXNlICdCb29sZWFuJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdlcnJvcicgLypjYXNlICdFcnJvcicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndGV4dCcgLypjYXNlICdUZXh0JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdvbGUnIC8qY2FzZSAnT0xFJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdub2F1dG9yZWNvdmVyJyAvKmNhc2UgJ05vQXV0b1JlY292ZXInKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3B1Ymxpc2hvYmplY3RzJyAvKmNhc2UgJ1B1Ymxpc2hPYmplY3RzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdkb25vdGNhbGN1bGF0ZWJlZm9yZXNhdmUnIC8qY2FzZSAnRG9Ob3RDYWxjdWxhdGVCZWZvcmVTYXZlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdudW1iZXInIC8qY2FzZSAnTnVtYmVyJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdyZWZtb2RlcjFjMScgLypjYXNlICdSZWZNb2RlUjFDMScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZW1iZWRzYXZlc21hcnR0YWdzJyAvKmNhc2UgJ0VtYmVkU2F2ZVNtYXJ0VGFncycqLzogYnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDogc2VlbiA9IGZhbHNlO1xuXHRcdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRcdC8qIFdvcmtib29rT3B0aW9ucyAqL1xuXHRcdFx0XHRjYXNlICd3b3JrYm9va29wdGlvbnMnIC8qY2FzZSAnV29ya2Jvb2tPcHRpb25zJyovOiBzd2l0Y2goUm5bM10pIHtcblx0XHRcdFx0XHRjYXNlICdvd2N2ZXJzaW9uJyAvKmNhc2UgJ09XQ1ZlcnNpb24nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2hlaWdodCcgLypjYXNlICdIZWlnaHQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3dpZHRoJyAvKmNhc2UgJ1dpZHRoJyovOiBicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OiBzZWVuID0gZmFsc2U7XG5cdFx0XHRcdH0gYnJlYWs7XG5cblx0XHRcdFx0LyogV29ya3NoZWV0T3B0aW9ucyAqL1xuXHRcdFx0XHRjYXNlICd3b3Jrc2hlZXRvcHRpb25zJyAvKmNhc2UgJ1dvcmtzaGVldE9wdGlvbnMnKi86IHN3aXRjaChSblszXSkge1xuXHRcdFx0XHRcdGNhc2UgJ3Zpc2libGUnIC8qY2FzZSAnVmlzaWJsZScqLzpcblx0XHRcdFx0XHRcdGlmKFJuWzBdLnNsaWNlKC0yKSA9PT0gXCIvPlwiKXsvKiBlbXB0eSAqL31cblx0XHRcdFx0XHRcdGVsc2UgaWYoUm5bMV09PT1cIi9cIikgc3dpdGNoKHN0ci5zbGljZShwaWR4LCBSbi5pbmRleCkpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSBcIlNoZWV0SGlkZGVuXCI6IHdzcHJvcHMuSGlkZGVuID0gMTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJTaGVldFZlcnlIaWRkZW5cIjogd3Nwcm9wcy5IaWRkZW4gPSAyOyBicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgcGlkeCA9IFJuLmluZGV4ICsgUm5bMF0ubGVuZ3RoO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnaGVhZGVyJyAvKmNhc2UgJ0hlYWRlcicqLzpcblx0XHRcdFx0XHRcdGlmKCFjdXJzaGVldFsnIW1hcmdpbnMnXSkgZGVmYXVsdF9tYXJnaW5zKGN1cnNoZWV0WychbWFyZ2lucyddPXt9LCAneGxtbCcpO1xuXHRcdFx0XHRcdFx0aWYoIWlzTmFOKCtwYXJzZXhtbHRhZyhSblswXSkuTWFyZ2luKSkgY3Vyc2hlZXRbJyFtYXJnaW5zJ10uaGVhZGVyID0gK3BhcnNleG1sdGFnKFJuWzBdKS5NYXJnaW47XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdmb290ZXInIC8qY2FzZSAnRm9vdGVyJyovOlxuXHRcdFx0XHRcdFx0aWYoIWN1cnNoZWV0WychbWFyZ2lucyddKSBkZWZhdWx0X21hcmdpbnMoY3Vyc2hlZXRbJyFtYXJnaW5zJ109e30sICd4bG1sJyk7XG5cdFx0XHRcdFx0XHRpZighaXNOYU4oK3BhcnNleG1sdGFnKFJuWzBdKS5NYXJnaW4pKSBjdXJzaGVldFsnIW1hcmdpbnMnXS5mb290ZXIgPSArcGFyc2V4bWx0YWcoUm5bMF0pLk1hcmdpbjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3BhZ2VtYXJnaW5zJyAvKmNhc2UgJ1BhZ2VNYXJnaW5zJyovOlxuXHRcdFx0XHRcdFx0dmFyIHBhZ2VtYXJnaW5zID0gcGFyc2V4bWx0YWcoUm5bMF0pO1xuXHRcdFx0XHRcdFx0aWYoIWN1cnNoZWV0WychbWFyZ2lucyddKSBkZWZhdWx0X21hcmdpbnMoY3Vyc2hlZXRbJyFtYXJnaW5zJ109e30sJ3hsbWwnKTtcblx0XHRcdFx0XHRcdGlmKCFpc05hTigrcGFnZW1hcmdpbnMuVG9wKSkgY3Vyc2hlZXRbJyFtYXJnaW5zJ10udG9wID0gK3BhZ2VtYXJnaW5zLlRvcDtcblx0XHRcdFx0XHRcdGlmKCFpc05hTigrcGFnZW1hcmdpbnMuTGVmdCkpIGN1cnNoZWV0WychbWFyZ2lucyddLmxlZnQgPSArcGFnZW1hcmdpbnMuTGVmdDtcblx0XHRcdFx0XHRcdGlmKCFpc05hTigrcGFnZW1hcmdpbnMuUmlnaHQpKSBjdXJzaGVldFsnIW1hcmdpbnMnXS5yaWdodCA9ICtwYWdlbWFyZ2lucy5SaWdodDtcblx0XHRcdFx0XHRcdGlmKCFpc05hTigrcGFnZW1hcmdpbnMuQm90dG9tKSkgY3Vyc2hlZXRbJyFtYXJnaW5zJ10uYm90dG9tID0gK3BhZ2VtYXJnaW5zLkJvdHRvbTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Rpc3BsYXlyaWdodHRvbGVmdCcgLypjYXNlICdEaXNwbGF5UmlnaHRUb0xlZnQnKi86XG5cdFx0XHRcdFx0XHRpZighV29ya2Jvb2suVmlld3MpIFdvcmtib29rLlZpZXdzID0gW107XG5cdFx0XHRcdFx0XHRpZighV29ya2Jvb2suVmlld3NbMF0pIFdvcmtib29rLlZpZXdzWzBdID0ge307XG5cdFx0XHRcdFx0XHRXb3JrYm9vay5WaWV3c1swXS5SVEwgPSB0cnVlO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdmcmVlemVwYW5lcycgLypjYXNlICdGcmVlemVQYW5lcycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZnJvemVubm9zcGxpdCcgLypjYXNlICdGcm96ZW5Ob1NwbGl0JyovOiBicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ3NwbGl0aG9yaXpvbnRhbCcgLypjYXNlICdTcGxpdEhvcml6b250YWwnKi86XG5cdFx0XHRcdFx0Y2FzZSAnc3BsaXR2ZXJ0aWNhbCcgLypjYXNlICdTcGxpdFZlcnRpY2FsJyovOlxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdkb25vdGRpc3BsYXlncmlkbGluZXMnIC8qY2FzZSAnRG9Ob3REaXNwbGF5R3JpZGxpbmVzJyovOlxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdhY3RpdmVyb3cnIC8qY2FzZSAnQWN0aXZlUm93JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdhY3RpdmVjb2wnIC8qY2FzZSAnQWN0aXZlQ29sJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICd0b3Byb3dib3R0b21wYW5lJyAvKmNhc2UgJ1RvcFJvd0JvdHRvbVBhbmUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2xlZnRjb2x1bW5yaWdodHBhbmUnIC8qY2FzZSAnTGVmdENvbHVtblJpZ2h0UGFuZScqLzogYnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICd1bnN5bmNlZCcgLypjYXNlICdVbnN5bmNlZCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncHJpbnQnIC8qY2FzZSAnUHJpbnQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ByaW50ZXJyb3JzJyAvKmNhc2UgJ1ByaW50RXJyb3JzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdwYW5lcycgLypjYXNlICdQYW5lcycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc2NhbGUnIC8qY2FzZSAnU2NhbGUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3BhbmUnIC8qY2FzZSAnUGFuZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbnVtYmVyJyAvKmNhc2UgJ051bWJlcicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbGF5b3V0JyAvKmNhc2UgJ0xheW91dCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncGFnZXNldHVwJyAvKmNhc2UgJ1BhZ2VTZXR1cCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc2VsZWN0ZWQnIC8qY2FzZSAnU2VsZWN0ZWQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Byb3RlY3RvYmplY3RzJyAvKmNhc2UgJ1Byb3RlY3RPYmplY3RzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdlbmFibGVzZWxlY3Rpb24nIC8qY2FzZSAnRW5hYmxlU2VsZWN0aW9uJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdwcm90ZWN0c2NlbmFyaW9zJyAvKmNhc2UgJ1Byb3RlY3RTY2VuYXJpb3MnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ZhbGlkcHJpbnRlcmluZm8nIC8qY2FzZSAnVmFsaWRQcmludGVySW5mbycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnaG9yaXpvbnRhbHJlc29sdXRpb24nIC8qY2FzZSAnSG9yaXpvbnRhbFJlc29sdXRpb24nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ZlcnRpY2FscmVzb2x1dGlvbicgLypjYXNlICdWZXJ0aWNhbFJlc29sdXRpb24nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ251bWJlcm9mY29waWVzJyAvKmNhc2UgJ051bWJlcm9mQ29waWVzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdhY3RpdmVwYW5lJyAvKmNhc2UgJ0FjdGl2ZVBhbmUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3RvcHJvd3Zpc2libGUnIC8qY2FzZSAnVG9wUm93VmlzaWJsZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbGVmdGNvbHVtbnZpc2libGUnIC8qY2FzZSAnTGVmdENvbHVtblZpc2libGUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2ZpdHRvcGFnZScgLypjYXNlICdGaXRUb1BhZ2UnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Jhbmdlc2VsZWN0aW9uJyAvKmNhc2UgJ1JhbmdlU2VsZWN0aW9uJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdwYXBlcnNpemVpbmRleCcgLypjYXNlICdQYXBlclNpemVJbmRleCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncGFnZWxheW91dHpvb20nIC8qY2FzZSAnUGFnZUxheW91dFpvb20nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3BhZ2VicmVha3pvb20nIC8qY2FzZSAnUGFnZUJyZWFrWm9vbScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZmlsdGVyb24nIC8qY2FzZSAnRmlsdGVyT24nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2ZpdHdpZHRoJyAvKmNhc2UgJ0ZpdFdpZHRoJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdmaXRoZWlnaHQnIC8qY2FzZSAnRml0SGVpZ2h0JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdjb21tZW50c2xheW91dCcgLypjYXNlICdDb21tZW50c0xheW91dCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnem9vbScgLypjYXNlICdab29tJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdsZWZ0dG9yaWdodCcgLypjYXNlICdMZWZ0VG9SaWdodCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZ3JpZGxpbmVzJyAvKmNhc2UgJ0dyaWRsaW5lcycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYWxsb3dzb3J0JyAvKmNhc2UgJ0FsbG93U29ydCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYWxsb3dmaWx0ZXInIC8qY2FzZSAnQWxsb3dGaWx0ZXInKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2FsbG93aW5zZXJ0cm93cycgLypjYXNlICdBbGxvd0luc2VydFJvd3MnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2FsbG93ZGVsZXRlcm93cycgLypjYXNlICdBbGxvd0RlbGV0ZVJvd3MnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2FsbG93aW5zZXJ0Y29scycgLypjYXNlICdBbGxvd0luc2VydENvbHMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2FsbG93ZGVsZXRlY29scycgLypjYXNlICdBbGxvd0RlbGV0ZUNvbHMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2FsbG93aW5zZXJ0aHlwZXJsaW5rcycgLypjYXNlICdBbGxvd0luc2VydEh5cGVybGlua3MnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2FsbG93Zm9ybWF0Y2VsbHMnIC8qY2FzZSAnQWxsb3dGb3JtYXRDZWxscycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYWxsb3dzaXplY29scycgLypjYXNlICdBbGxvd1NpemVDb2xzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdhbGxvd3NpemVyb3dzJyAvKmNhc2UgJ0FsbG93U2l6ZVJvd3MnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ25vc3VtbWFyeXJvd3NiZWxvd2RldGFpbCcgLypjYXNlICdOb1N1bW1hcnlSb3dzQmVsb3dEZXRhaWwnKi86XG5cdFx0XHRcdFx0XHRpZighY3Vyc2hlZXRbXCIhb3V0bGluZVwiXSkgY3Vyc2hlZXRbXCIhb3V0bGluZVwiXSA9IHt9O1xuXHRcdFx0XHRcdFx0Y3Vyc2hlZXRbXCIhb3V0bGluZVwiXS5hYm92ZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICd0YWJjb2xvcmluZGV4JyAvKmNhc2UgJ1RhYkNvbG9ySW5kZXgnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Rvbm90ZGlzcGxheWhlYWRpbmdzJyAvKmNhc2UgJ0RvTm90RGlzcGxheUhlYWRpbmdzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdzaG93cGFnZWxheW91dHpvb20nIC8qY2FzZSAnU2hvd1BhZ2VMYXlvdXRab29tJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdub3N1bW1hcnljb2x1bW5zcmlnaHRkZXRhaWwnIC8qY2FzZSAnTm9TdW1tYXJ5Q29sdW1uc1JpZ2h0RGV0YWlsJyovOlxuXHRcdFx0XHRcdFx0aWYoIWN1cnNoZWV0W1wiIW91dGxpbmVcIl0pIGN1cnNoZWV0W1wiIW91dGxpbmVcIl0gPSB7fTtcblx0XHRcdFx0XHRcdGN1cnNoZWV0W1wiIW91dGxpbmVcIl0ubGVmdCA9IHRydWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdibGFja2FuZHdoaXRlJyAvKmNhc2UgJ0JsYWNrQW5kV2hpdGUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Rvbm90ZGlzcGxheXplcm9zJyAvKmNhc2UgJ0RvTm90RGlzcGxheVplcm9zJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdkaXNwbGF5cGFnZWJyZWFrJyAvKmNhc2UgJ0Rpc3BsYXlQYWdlQnJlYWsnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Jvd2NvbGhlYWRpbmdzJyAvKmNhc2UgJ1Jvd0NvbEhlYWRpbmdzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdkb25vdGRpc3BsYXlvdXRsaW5lJyAvKmNhc2UgJ0RvTm90RGlzcGxheU91dGxpbmUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ25vb3JpZW50YXRpb24nIC8qY2FzZSAnTm9PcmllbnRhdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYWxsb3d1c2VwaXZvdHRhYmxlcycgLypjYXNlICdBbGxvd1VzZVBpdm90VGFibGVzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICd6ZXJvaGVpZ2h0JyAvKmNhc2UgJ1plcm9IZWlnaHQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ZpZXdhYmxlcmFuZ2UnIC8qY2FzZSAnVmlld2FibGVSYW5nZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc2VsZWN0aW9uJyAvKmNhc2UgJ1NlbGVjdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncHJvdGVjdGNvbnRlbnRzJyAvKmNhc2UgJ1Byb3RlY3RDb250ZW50cycqLzogYnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDogc2VlbiA9IGZhbHNlO1xuXHRcdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRcdC8qIFBpdm90VGFibGUgKi9cblx0XHRcdFx0Y2FzZSAncGl2b3R0YWJsZScgLypjYXNlICdQaXZvdFRhYmxlJyovOiBjYXNlICdwaXZvdGNhY2hlJyAvKmNhc2UgJ1Bpdm90Q2FjaGUnKi86IHN3aXRjaChSblszXSkge1xuXHRcdFx0XHRcdGNhc2UgJ2ltbWVkaWF0ZWl0ZW1zb25kcm9wJyAvKmNhc2UgJ0ltbWVkaWF0ZUl0ZW1zT25Ecm9wJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdzaG93cGFnZW11bHRpcGxlaXRlbWxhYmVsJyAvKmNhc2UgJ1Nob3dQYWdlTXVsdGlwbGVJdGVtTGFiZWwnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2NvbXBhY3Ryb3dpbmRlbnQnIC8qY2FzZSAnQ29tcGFjdFJvd0luZGVudCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbG9jYXRpb24nIC8qY2FzZSAnTG9jYXRpb24nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Bpdm90ZmllbGQnIC8qY2FzZSAnUGl2b3RGaWVsZCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnb3JpZW50YXRpb24nIC8qY2FzZSAnT3JpZW50YXRpb24nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2xheW91dGZvcm0nIC8qY2FzZSAnTGF5b3V0Rm9ybScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbGF5b3V0c3VidG90YWxsb2NhdGlvbicgLypjYXNlICdMYXlvdXRTdWJ0b3RhbExvY2F0aW9uJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdsYXlvdXRjb21wYWN0cm93JyAvKmNhc2UgJ0xheW91dENvbXBhY3RSb3cnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Bvc2l0aW9uJyAvKmNhc2UgJ1Bvc2l0aW9uJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdwaXZvdGl0ZW0nIC8qY2FzZSAnUGl2b3RJdGVtJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdkYXRhdHlwZScgLypjYXNlICdEYXRhVHlwZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZGF0YWZpZWxkJyAvKmNhc2UgJ0RhdGFGaWVsZCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc291cmNlbmFtZScgLypjYXNlICdTb3VyY2VOYW1lJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdwYXJlbnRmaWVsZCcgLypjYXNlICdQYXJlbnRGaWVsZCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncHRsaW5laXRlbXMnIC8qY2FzZSAnUFRMaW5lSXRlbXMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3B0bGluZWl0ZW0nIC8qY2FzZSAnUFRMaW5lSXRlbScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY291bnRvZnNhbWVpdGVtcycgLypjYXNlICdDb3VudE9mU2FtZUl0ZW1zJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdpdGVtJyAvKmNhc2UgJ0l0ZW0nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2l0ZW10eXBlJyAvKmNhc2UgJ0l0ZW1UeXBlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdwdHNvdXJjZScgLypjYXNlICdQVFNvdXJjZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY2FjaGVpbmRleCcgLypjYXNlICdDYWNoZUluZGV4JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdjb25zb2xpZGF0aW9ucmVmZXJlbmNlJyAvKmNhc2UgJ0NvbnNvbGlkYXRpb25SZWZlcmVuY2UnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2ZpbGVuYW1lJyAvKmNhc2UgJ0ZpbGVOYW1lJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdyZWZlcmVuY2UnIC8qY2FzZSAnUmVmZXJlbmNlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdub2NvbHVtbmdyYW5kJyAvKmNhc2UgJ05vQ29sdW1uR3JhbmQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ25vcm93Z3JhbmQnIC8qY2FzZSAnTm9Sb3dHcmFuZCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYmxhbmtsaW5lYWZ0ZXJpdGVtcycgLypjYXNlICdCbGFua0xpbmVBZnRlckl0ZW1zJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdoaWRkZW4nIC8qY2FzZSAnSGlkZGVuJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdzdWJ0b3RhbCcgLypjYXNlICdTdWJ0b3RhbCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYmFzZWZpZWxkJyAvKmNhc2UgJ0Jhc2VGaWVsZCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbWFwY2hpbGRpdGVtcycgLypjYXNlICdNYXBDaGlsZEl0ZW1zJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdmdW5jdGlvbicgLypjYXNlICdGdW5jdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncmVmcmVzaG9uZmlsZW9wZW4nIC8qY2FzZSAnUmVmcmVzaE9uRmlsZU9wZW4nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ByaW50c2V0dGl0bGVzJyAvKmNhc2UgJ1ByaW50U2V0VGl0bGVzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdtZXJnZWxhYmVscycgLypjYXNlICdNZXJnZUxhYmVscycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZGVmYXVsdHZlcnNpb24nIC8qY2FzZSAnRGVmYXVsdFZlcnNpb24nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3JlZnJlc2huYW1lJyAvKmNhc2UgJ1JlZnJlc2hOYW1lJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdyZWZyZXNoZGF0ZScgLypjYXNlICdSZWZyZXNoRGF0ZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncmVmcmVzaGRhdGVjb3B5JyAvKmNhc2UgJ1JlZnJlc2hEYXRlQ29weScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndmVyc2lvbmxhc3RyZWZyZXNoJyAvKmNhc2UgJ1ZlcnNpb25MYXN0UmVmcmVzaCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndmVyc2lvbmxhc3R1cGRhdGUnIC8qY2FzZSAnVmVyc2lvbkxhc3RVcGRhdGUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ZlcnNpb251cGRhdGVhYmxlbWluJyAvKmNhc2UgJ1ZlcnNpb25VcGRhdGVhYmxlTWluJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICd2ZXJzaW9ucmVmcmVzaGFibGVtaW4nIC8qY2FzZSAnVmVyc2lvblJlZnJlc2hhYmxlTWluJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdjYWxjdWxhdGlvbicgLypjYXNlICdDYWxjdWxhdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDogc2VlbiA9IGZhbHNlO1xuXHRcdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRcdC8qIFBhZ2VCcmVha3MgKi9cblx0XHRcdFx0Y2FzZSAncGFnZWJyZWFrcycgLypjYXNlICdQYWdlQnJlYWtzJyovOiBzd2l0Y2goUm5bM10pIHtcblx0XHRcdFx0XHRjYXNlICdjb2xicmVha3MnIC8qY2FzZSAnQ29sQnJlYWtzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdjb2xicmVhaycgLypjYXNlICdDb2xCcmVhaycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncm93YnJlYWtzJyAvKmNhc2UgJ1Jvd0JyZWFrcycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncm93YnJlYWsnIC8qY2FzZSAnUm93QnJlYWsnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2NvbHN0YXJ0JyAvKmNhc2UgJ0NvbFN0YXJ0JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdjb2xlbmQnIC8qY2FzZSAnQ29sRW5kJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdyb3dlbmQnIC8qY2FzZSAnUm93RW5kJyovOiBicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OiBzZWVuID0gZmFsc2U7XG5cdFx0XHRcdH0gYnJlYWs7XG5cblx0XHRcdFx0LyogQXV0b0ZpbHRlciAqL1xuXHRcdFx0XHRjYXNlICdhdXRvZmlsdGVyJyAvKmNhc2UgJ0F1dG9GaWx0ZXInKi86IHN3aXRjaChSblszXSkge1xuXHRcdFx0XHRcdGNhc2UgJ2F1dG9maWx0ZXJjb2x1bW4nIC8qY2FzZSAnQXV0b0ZpbHRlckNvbHVtbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYXV0b2ZpbHRlcmNvbmRpdGlvbicgLypjYXNlICdBdXRvRmlsdGVyQ29uZGl0aW9uJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdhdXRvZmlsdGVyYW5kJyAvKmNhc2UgJ0F1dG9GaWx0ZXJBbmQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2F1dG9maWx0ZXJvcicgLypjYXNlICdBdXRvRmlsdGVyT3InKi86IGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6IHNlZW4gPSBmYWxzZTtcblx0XHRcdFx0fSBicmVhaztcblxuXHRcdFx0XHQvKiBRdWVyeVRhYmxlICovXG5cdFx0XHRcdGNhc2UgJ3F1ZXJ5dGFibGUnIC8qY2FzZSAnUXVlcnlUYWJsZScqLzogc3dpdGNoKFJuWzNdKSB7XG5cdFx0XHRcdFx0Y2FzZSAnaWQnIC8qY2FzZSAnSWQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2F1dG9mb3JtYXRmb250JyAvKmNhc2UgJ0F1dG9Gb3JtYXRGb250JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdhdXRvZm9ybWF0cGF0dGVybicgLypjYXNlICdBdXRvRm9ybWF0UGF0dGVybicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncXVlcnlzb3VyY2UnIC8qY2FzZSAnUXVlcnlTb3VyY2UnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3F1ZXJ5dHlwZScgLypjYXNlICdRdWVyeVR5cGUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2VuYWJsZXJlZGlyZWN0aW9ucycgLypjYXNlICdFbmFibGVSZWRpcmVjdGlvbnMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3JlZnJlc2hlZGlueGw5JyAvKmNhc2UgJ1JlZnJlc2hlZEluWGw5JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICd1cmxzdHJpbmcnIC8qY2FzZSAnVVJMU3RyaW5nJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdodG1sdGFibGVzJyAvKmNhc2UgJ0hUTUxUYWJsZXMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Nvbm5lY3Rpb24nIC8qY2FzZSAnQ29ubmVjdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY29tbWFuZHRleHQnIC8qY2FzZSAnQ29tbWFuZFRleHQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3JlZnJlc2hpbmZvJyAvKmNhc2UgJ1JlZnJlc2hJbmZvJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdub3RpdGxlcycgLypjYXNlICdOb1RpdGxlcycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbmV4dGlkJyAvKmNhc2UgJ05leHRJZCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY29sdW1uaW5mbycgLypjYXNlICdDb2x1bW5JbmZvJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdvdmVyd3JpdGVjZWxscycgLypjYXNlICdPdmVyd3JpdGVDZWxscycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZG9ub3Rwcm9tcHRmb3JmaWxlJyAvKmNhc2UgJ0RvTm90UHJvbXB0Rm9yRmlsZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndGV4dHdpemFyZHNldHRpbmdzJyAvKmNhc2UgJ1RleHRXaXphcmRTZXR0aW5ncycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc291cmNlJyAvKmNhc2UgJ1NvdXJjZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbnVtYmVyJyAvKmNhc2UgJ051bWJlcicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZGVjaW1hbCcgLypjYXNlICdEZWNpbWFsJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICd0aG91c2FuZHNlcGFyYXRvcicgLypjYXNlICdUaG91c2FuZFNlcGFyYXRvcicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndHJhaWxpbmdtaW51c251bWJlcnMnIC8qY2FzZSAnVHJhaWxpbmdNaW51c051bWJlcnMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Zvcm1hdHNldHRpbmdzJyAvKmNhc2UgJ0Zvcm1hdFNldHRpbmdzJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdmaWVsZHR5cGUnIC8qY2FzZSAnRmllbGRUeXBlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdkZWxpbWl0ZXJzJyAvKmNhc2UgJ0RlbGltaXRlcnMnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3RhYicgLypjYXNlICdUYWInKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2NvbW1hJyAvKmNhc2UgJ0NvbW1hJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdhdXRvZm9ybWF0bmFtZScgLypjYXNlICdBdXRvRm9ybWF0TmFtZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndmVyc2lvbmxhc3RlZGl0JyAvKmNhc2UgJ1ZlcnNpb25MYXN0RWRpdCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndmVyc2lvbmxhc3RyZWZyZXNoJyAvKmNhc2UgJ1ZlcnNpb25MYXN0UmVmcmVzaCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDogc2VlbiA9IGZhbHNlO1xuXHRcdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ2RhdGF2YWxpZGF0aW9uJyAvKmNhc2UgJ0RhdGFWYWxpZGF0aW9uJyovOlxuXHRcdFx0XHRzd2l0Y2goUm5bM10pIHtcblx0XHRcdFx0XHRjYXNlICdyYW5nZScgLypjYXNlICdSYW5nZScqLzogYnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICd0eXBlJyAvKmNhc2UgJ1R5cGUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ21pbicgLypjYXNlICdNaW4nKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ21heCcgLypjYXNlICdNYXgnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3NvcnQnIC8qY2FzZSAnU29ydCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZGVzY2VuZGluZycgLypjYXNlICdEZXNjZW5kaW5nJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdvcmRlcicgLypjYXNlICdPcmRlcicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY2FzZXNlbnNpdGl2ZScgLypjYXNlICdDYXNlU2Vuc2l0aXZlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICd2YWx1ZScgLypjYXNlICdWYWx1ZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZXJyb3JzdHlsZScgLypjYXNlICdFcnJvclN0eWxlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdlcnJvcm1lc3NhZ2UnIC8qY2FzZSAnRXJyb3JNZXNzYWdlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdlcnJvcnRpdGxlJyAvKmNhc2UgJ0Vycm9yVGl0bGUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2lucHV0bWVzc2FnZScgLypjYXNlICdJbnB1dE1lc3NhZ2UnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2lucHV0dGl0bGUnIC8qY2FzZSAnSW5wdXRUaXRsZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY29tYm9oaWRlJyAvKmNhc2UgJ0NvbWJvSGlkZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnaW5wdXRoaWRlJyAvKmNhc2UgJ0lucHV0SGlkZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY29uZGl0aW9uJyAvKmNhc2UgJ0NvbmRpdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncXVhbGlmaWVyJyAvKmNhc2UgJ1F1YWxpZmllcicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndXNlYmxhbmsnIC8qY2FzZSAnVXNlQmxhbmsnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ZhbHVlMScgLypjYXNlICdWYWx1ZTEnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ZhbHVlMicgLypjYXNlICdWYWx1ZTInKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Zvcm1hdCcgLypjYXNlICdGb3JtYXQnKi86IGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnY2VsbHJhbmdlbGlzdCcgLypjYXNlICdDZWxsUmFuZ2VMaXN0JyovOiBicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OiBzZWVuID0gZmFsc2U7XG5cdFx0XHRcdH0gYnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnc29ydGluZycgLypjYXNlICdTb3J0aW5nJyovOlxuXHRcdFx0XHRjYXNlICdjb25kaXRpb25hbGZvcm1hdHRpbmcnIC8qY2FzZSAnQ29uZGl0aW9uYWxGb3JtYXR0aW5nJyovOlxuXHRcdFx0XHRzd2l0Y2goUm5bM10pIHtcblx0XHRcdFx0XHRjYXNlICdyYW5nZScgLypjYXNlICdSYW5nZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndHlwZScgLypjYXNlICdUeXBlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdtaW4nIC8qY2FzZSAnTWluJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdtYXgnIC8qY2FzZSAnTWF4JyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdzb3J0JyAvKmNhc2UgJ1NvcnQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Rlc2NlbmRpbmcnIC8qY2FzZSAnRGVzY2VuZGluZycqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnb3JkZXInIC8qY2FzZSAnT3JkZXInKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Nhc2VzZW5zaXRpdmUnIC8qY2FzZSAnQ2FzZVNlbnNpdGl2ZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndmFsdWUnIC8qY2FzZSAnVmFsdWUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Vycm9yc3R5bGUnIC8qY2FzZSAnRXJyb3JTdHlsZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZXJyb3JtZXNzYWdlJyAvKmNhc2UgJ0Vycm9yTWVzc2FnZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZXJyb3J0aXRsZScgLypjYXNlICdFcnJvclRpdGxlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdjZWxscmFuZ2VsaXN0JyAvKmNhc2UgJ0NlbGxSYW5nZUxpc3QnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2lucHV0bWVzc2FnZScgLypjYXNlICdJbnB1dE1lc3NhZ2UnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2lucHV0dGl0bGUnIC8qY2FzZSAnSW5wdXRUaXRsZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY29tYm9oaWRlJyAvKmNhc2UgJ0NvbWJvSGlkZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnaW5wdXRoaWRlJyAvKmNhc2UgJ0lucHV0SGlkZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY29uZGl0aW9uJyAvKmNhc2UgJ0NvbmRpdGlvbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncXVhbGlmaWVyJyAvKmNhc2UgJ1F1YWxpZmllcicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndXNlYmxhbmsnIC8qY2FzZSAnVXNlQmxhbmsnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ZhbHVlMScgLypjYXNlICdWYWx1ZTEnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3ZhbHVlMicgLypjYXNlICdWYWx1ZTInKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Zvcm1hdCcgLypjYXNlICdGb3JtYXQnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6IHNlZW4gPSBmYWxzZTtcblx0XHRcdFx0fSBicmVhaztcblxuXHRcdFx0XHQvKiBNYXBJbmZvIChzY2hlbWEpICovXG5cdFx0XHRcdGNhc2UgJ21hcGluZm8nIC8qY2FzZSAnTWFwSW5mbycqLzogY2FzZSAnc2NoZW1hJyAvKmNhc2UgJ1NjaGVtYScqLzogY2FzZSAnZGF0YScgLypjYXNlICdkYXRhJyovOiBzd2l0Y2goUm5bM10pIHtcblx0XHRcdFx0XHRjYXNlICdtYXAnIC8qY2FzZSAnTWFwJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdlbnRyeScgLypjYXNlICdFbnRyeScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncmFuZ2UnIC8qY2FzZSAnUmFuZ2UnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3hwYXRoJyAvKmNhc2UgJ1hQYXRoJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdmaWVsZCcgLypjYXNlICdGaWVsZCcqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAneHNkdHlwZScgLypjYXNlICdYU0RUeXBlJyovOiBicmVhaztcblx0XHRcdFx0XHRjYXNlICdmaWx0ZXJvbicgLypjYXNlICdGaWx0ZXJPbicqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYWdncmVnYXRlJyAvKmNhc2UgJ0FnZ3JlZ2F0ZScqLzogYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZWxlbWVudHR5cGUnIC8qY2FzZSAnRWxlbWVudFR5cGUnKi86IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2F0dHJpYnV0ZXR5cGUnIC8qY2FzZSAnQXR0cmlidXRlVHlwZScqLzogYnJlYWs7XG5cdFx0XHRcdC8qIFRoZXNlIGFyZSBmcm9tIHhzZCAoWE1MIFNjaGVtYSBEZWZpbml0aW9uKSAqL1xuXHRcdFx0XHRcdGNhc2UgJ3NjaGVtYScgLypjYXNlICdzY2hlbWEnKi86XG5cdFx0XHRcdFx0Y2FzZSAnZWxlbWVudCcgLypjYXNlICdlbGVtZW50JyovOlxuXHRcdFx0XHRcdGNhc2UgJ2NvbXBsZXh0eXBlJyAvKmNhc2UgJ2NvbXBsZXhUeXBlJyovOlxuXHRcdFx0XHRcdGNhc2UgJ2RhdGF0eXBlJyAvKmNhc2UgJ2RhdGF0eXBlJyovOlxuXHRcdFx0XHRcdGNhc2UgJ2FsbCcgLypjYXNlICdhbGwnKi86XG5cdFx0XHRcdFx0Y2FzZSAnYXR0cmlidXRlJyAvKmNhc2UgJ2F0dHJpYnV0ZScqLzpcblx0XHRcdFx0XHRjYXNlICdleHRlbmRzJyAvKmNhc2UgJ2V4dGVuZHMnKi86IGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAncm93JyAvKmNhc2UgJ3JvdycqLzogYnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDogc2VlbiA9IGZhbHNlO1xuXHRcdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRcdC8qIFNtYXJ0VGFncyAoY2FuIGJlIGFueXRoaW5nKSAqL1xuXHRcdFx0XHRjYXNlICdzbWFydHRhZ3MnIC8qY2FzZSAnU21hcnRUYWdzJyovOiBicmVhaztcblxuXHRcdFx0XHRkZWZhdWx0OiBzZWVuID0gZmFsc2U7IGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYoc2VlbikgYnJlYWs7XG5cdFx0XHQvKiBDdXN0b21Eb2N1bWVudFByb3BlcnRpZXMgKi9cblx0XHRcdGlmKFJuWzNdLm1hdGNoKC8hXFxbQ0RBVEEvKSkgYnJlYWs7XG5cdFx0XHRpZighc3RhdGVbc3RhdGUubGVuZ3RoLTFdWzFdKSB0aHJvdyAnVW5yZWNvZ25pemVkIHRhZzogJyArIFJuWzNdICsgXCJ8XCIgKyBzdGF0ZS5qb2luKFwifFwiKTtcblx0XHRcdGlmKHN0YXRlW3N0YXRlLmxlbmd0aC0xXVswXT09PS8qJ0N1c3RvbURvY3VtZW50UHJvcGVydGllcycqLydjdXN0b21kb2N1bWVudHByb3BlcnRpZXMnKSB7XG5cdFx0XHRcdGlmKFJuWzBdLnNsaWNlKC0yKSA9PT0gXCIvPlwiKSBicmVhaztcblx0XHRcdFx0ZWxzZSBpZihSblsxXT09PVwiL1wiKSB4bG1sX3NldF9jdXN0cHJvcChDdXN0cHJvcHMsIHJhd19SbjMsIGNwLCBzdHIuc2xpY2UocGlkeCwgUm4uaW5kZXgpKTtcblx0XHRcdFx0ZWxzZSB7IGNwID0gUm47IHBpZHggPSBSbi5pbmRleCArIFJuWzBdLmxlbmd0aDsgfVxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmKG9wdHMuV1RGKSB0aHJvdyAnVW5yZWNvZ25pemVkIHRhZzogJyArIFJuWzNdICsgXCJ8XCIgKyBzdGF0ZS5qb2luKFwifFwiKTtcblx0fVxuXHR2YXIgb3V0ID0gKHt9Lyo6YW55Ki8pO1xuXHRpZighb3B0cy5ib29rU2hlZXRzICYmICFvcHRzLmJvb2tQcm9wcykgb3V0LlNoZWV0cyA9IHNoZWV0cztcblx0b3V0LlNoZWV0TmFtZXMgPSBzaGVldG5hbWVzO1xuXHRvdXQuV29ya2Jvb2sgPSBXb3JrYm9vaztcblx0b3V0LlNTRiA9IGR1cCh0YWJsZV9mbXQpO1xuXHRvdXQuUHJvcHMgPSBQcm9wcztcblx0b3V0LkN1c3Rwcm9wcyA9IEN1c3Rwcm9wcztcblx0b3V0LmJvb2tUeXBlID0gXCJ4bG1sXCI7XG5cdHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX3hsbWwoZGF0YS8qOlJhd0J5dGVzfHN0cmluZyovLCBvcHRzKS8qOldvcmtib29rKi8ge1xuXHRmaXhfcmVhZF9vcHRzKG9wdHM9b3B0c3x8e30pO1xuXHRzd2l0Y2gob3B0cy50eXBlfHxcImJhc2U2NFwiKSB7XG5cdFx0Y2FzZSBcImJhc2U2NFwiOiByZXR1cm4gcGFyc2VfeGxtbF94bWwoQmFzZTY0X2RlY29kZShkYXRhKSwgb3B0cyk7XG5cdFx0Y2FzZSBcImJpbmFyeVwiOiBjYXNlIFwiYnVmZmVyXCI6IGNhc2UgXCJmaWxlXCI6IHJldHVybiBwYXJzZV94bG1sX3htbChkYXRhLCBvcHRzKTtcblx0XHRjYXNlIFwiYXJyYXlcIjogcmV0dXJuIHBhcnNlX3hsbWxfeG1sKGEycyhkYXRhKSwgb3B0cyk7XG5cdH1cblx0Lyo6OiB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCB0eXBlIFwiICsgb3B0cy50eXBlKTsgKi9cbn1cblxuLyogVE9ETyAqL1xuZnVuY3Rpb24gd3JpdGVfcHJvcHNfeGxtbCh3Yi8qOldvcmtib29rKi8sIG9wdHMpLyo6c3RyaW5nKi8ge1xuXHR2YXIgby8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHQvKiBEb2N1bWVudFByb3BlcnRpZXMgKi9cblx0aWYod2IuUHJvcHMpIG8ucHVzaCh4bG1sX3dyaXRlX2RvY3Byb3BzKHdiLlByb3BzLCBvcHRzKSk7XG5cdC8qIEN1c3RvbURvY3VtZW50UHJvcGVydGllcyAqL1xuXHRpZih3Yi5DdXN0cHJvcHMpIG8ucHVzaCh4bG1sX3dyaXRlX2N1c3Rwcm9wcyh3Yi5Qcm9wcywgd2IuQ3VzdHByb3BzLCBvcHRzKSk7XG5cdHJldHVybiBvLmpvaW4oXCJcIik7XG59XG4vKiBUT0RPICovXG5mdW5jdGlvbiB3cml0ZV93Yl94bG1sKHdiLyo6Oiwgb3B0cyovKS8qOnN0cmluZyovIHtcblx0LyogT2ZmaWNlRG9jdW1lbnRTZXR0aW5ncyAqL1xuXHQvKiBFeGNlbFdvcmtib29rICovXG5cdGlmKCgoKHdifHx7fSkuV29ya2Jvb2t8fHt9KS5XQlByb3BzfHx7fSkuZGF0ZTE5MDQpIHJldHVybiAnPEV4Y2VsV29ya2Jvb2sgeG1sbnM9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpleGNlbFwiPjxEYXRlMTkwNC8+PC9FeGNlbFdvcmtib29rPic7XG5cdHJldHVybiBcIlwiO1xufVxuLyogVE9ETyAqL1xuZnVuY3Rpb24gd3JpdGVfc3R5X3hsbWwod2IsIG9wdHMpLyo6c3RyaW5nKi8ge1xuXHQvKiBTdHlsZXMgKi9cblx0dmFyIHN0eWxlcy8qOkFycmF5PHN0cmluZz4qLyA9IFsnPFN0eWxlIHNzOklEPVwiRGVmYXVsdFwiIHNzOk5hbWU9XCJOb3JtYWxcIj48TnVtYmVyRm9ybWF0Lz48L1N0eWxlPiddO1xuXHRvcHRzLmNlbGxYZnMuZm9yRWFjaChmdW5jdGlvbih4ZiwgaWQpIHtcblx0XHR2YXIgcGF5bG9hZC8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHRcdHBheWxvYWQucHVzaCh3cml0ZXh0YWcoJ051bWJlckZvcm1hdCcsIG51bGwsIHtcInNzOkZvcm1hdFwiOiBlc2NhcGV4bWwodGFibGVfZm10W3hmLm51bUZtdElkXSl9KSk7XG5cblx0XHR2YXIgbyA9IC8qOjooKi97XCJzczpJRFwiOiBcInNcIiArICgyMStpZCl9Lyo6OiA6YW55KSovO1xuXHRcdHN0eWxlcy5wdXNoKHdyaXRleHRhZygnU3R5bGUnLCBwYXlsb2FkLmpvaW4oXCJcIiksIG8pKTtcblx0fSk7XG5cdHJldHVybiB3cml0ZXh0YWcoXCJTdHlsZXNcIiwgc3R5bGVzLmpvaW4oXCJcIikpO1xufVxuZnVuY3Rpb24gd3JpdGVfbmFtZV94bG1sKG4pIHsgcmV0dXJuIHdyaXRleHRhZyhcIk5hbWVkUmFuZ2VcIiwgbnVsbCwge1wic3M6TmFtZVwiOiBuLk5hbWUuc2xpY2UoMCw2KSA9PSBcIl94bG5tLlwiID8gbi5OYW1lLnNsaWNlKDYpIDogbi5OYW1lLCBcInNzOlJlZmVyc1RvXCI6XCI9XCIgKyBhMV90b19yYyhuLlJlZiwge3I6MCxjOjB9KX0pOyB9XG5mdW5jdGlvbiB3cml0ZV9uYW1lc194bG1sKHdiLyo6Oiwgb3B0cyovKS8qOnN0cmluZyovIHtcblx0aWYoISgod2J8fHt9KS5Xb3JrYm9va3x8e30pLk5hbWVzKSByZXR1cm4gXCJcIjtcblx0Lyo6OiBpZighd2IgfHwgIXdiLldvcmtib29rIHx8ICF3Yi5Xb3JrYm9vay5OYW1lcykgdGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGVcIik7ICovXG5cdHZhciBuYW1lcy8qOkFycmF5PGFueT4qLyA9IHdiLldvcmtib29rLk5hbWVzO1xuXHR2YXIgb3V0Lyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xuXHRcdHZhciBuID0gbmFtZXNbaV07XG5cdFx0aWYobi5TaGVldCAhPSBudWxsKSBjb250aW51ZTtcblx0XHRpZihuLk5hbWUubWF0Y2goL15feGxmblxcLi8pKSBjb250aW51ZTtcblx0XHRvdXQucHVzaCh3cml0ZV9uYW1lX3hsbWwobikpO1xuXHR9XG5cdHJldHVybiB3cml0ZXh0YWcoXCJOYW1lc1wiLCBvdXQuam9pbihcIlwiKSk7XG59XG5mdW5jdGlvbiB3cml0ZV93c194bG1sX25hbWVzKHdzLyo6V29ya3NoZWV0Ki8sIG9wdHMsIGlkeC8qOm51bWJlciovLCB3Yi8qOldvcmtib29rKi8pLyo6c3RyaW5nKi8ge1xuXHRpZighd3MpIHJldHVybiBcIlwiO1xuXHRpZighKCh3Ynx8e30pLldvcmtib29rfHx7fSkuTmFtZXMpIHJldHVybiBcIlwiO1xuXHQvKjo6IGlmKCF3YiB8fCAhd2IuV29ya2Jvb2sgfHwgIXdiLldvcmtib29rLk5hbWVzKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bnJlYWNoYWJsZVwiKTsgKi9cblx0dmFyIG5hbWVzLyo6QXJyYXk8YW55PiovID0gd2IuV29ya2Jvb2suTmFtZXM7XG5cdHZhciBvdXQvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgKytpKSB7XG5cdFx0dmFyIG4gPSBuYW1lc1tpXTtcblx0XHRpZihuLlNoZWV0ICE9IGlkeCkgY29udGludWU7XG5cdFx0Lypzd2l0Y2gobi5OYW1lKSB7XG5cdFx0XHRjYXNlIFwiX1wiOiBjb250aW51ZTtcblx0XHR9Ki9cblx0XHRpZihuLk5hbWUubWF0Y2goL15feGxmblxcLi8pKSBjb250aW51ZTtcblx0XHRvdXQucHVzaCh3cml0ZV9uYW1lX3hsbWwobikpO1xuXHR9XG5cdHJldHVybiBvdXQuam9pbihcIlwiKTtcbn1cbi8qIFdvcmtzaGVldE9wdGlvbnMgKi9cbmZ1bmN0aW9uIHdyaXRlX3dzX3hsbWxfd3NvcHRzKHdzLyo6V29ya3NoZWV0Ki8sIG9wdHMsIGlkeC8qOm51bWJlciovLCB3Yi8qOldvcmtib29rKi8pLyo6c3RyaW5nKi8ge1xuXHRpZighd3MpIHJldHVybiBcIlwiO1xuXHR2YXIgby8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHQvKiBOT1RFOiBzcGVjIHRlY2huaWNhbGx5IGFsbG93cyBhbnkgb3JkZXIsIGJ1dCBzdGljayB3aXRoIGltcGxpZWQgb3JkZXIgKi9cblxuXHQvKiBGaXRUb1BhZ2UgKi9cblx0LyogRG9Ob3REaXNwbGF5Q29sSGVhZGVycyAqL1xuXHQvKiBEb05vdERpc3BsYXlSb3dIZWFkZXJzICovXG5cdC8qIFZpZXdhYmxlUmFuZ2UgKi9cblx0LyogU2VsZWN0aW9uICovXG5cdC8qIEdyaWRsaW5lQ29sb3IgKi9cblx0LyogTmFtZSAqL1xuXHQvKiBFeGNlbFdvcmtzaGVldFR5cGUgKi9cblx0LyogSW50bE1hY3JvICovXG5cdC8qIFVuc3luY2VkICovXG5cdC8qIFNlbGVjdGVkICovXG5cdC8qIENvZGVOYW1lICovXG5cblx0aWYod3NbJyFtYXJnaW5zJ10pIHtcblx0XHRvLnB1c2goXCI8UGFnZVNldHVwPlwiKTtcblx0XHRpZih3c1snIW1hcmdpbnMnXS5oZWFkZXIpIG8ucHVzaCh3cml0ZXh0YWcoXCJIZWFkZXJcIiwgbnVsbCwgeyd4Ok1hcmdpbic6d3NbJyFtYXJnaW5zJ10uaGVhZGVyfSkpO1xuXHRcdGlmKHdzWychbWFyZ2lucyddLmZvb3Rlcikgby5wdXNoKHdyaXRleHRhZyhcIkZvb3RlclwiLCBudWxsLCB7J3g6TWFyZ2luJzp3c1snIW1hcmdpbnMnXS5mb290ZXJ9KSk7XG5cdFx0by5wdXNoKHdyaXRleHRhZyhcIlBhZ2VNYXJnaW5zXCIsIG51bGwsIHtcblx0XHRcdCd4OkJvdHRvbSc6IHdzWychbWFyZ2lucyddLmJvdHRvbSB8fCBcIjAuNzVcIixcblx0XHRcdCd4OkxlZnQnOiB3c1snIW1hcmdpbnMnXS5sZWZ0IHx8IFwiMC43XCIsXG5cdFx0XHQneDpSaWdodCc6IHdzWychbWFyZ2lucyddLnJpZ2h0IHx8IFwiMC43XCIsXG5cdFx0XHQneDpUb3AnOiB3c1snIW1hcmdpbnMnXS50b3AgfHwgXCIwLjc1XCJcblx0XHR9KSk7XG5cdFx0by5wdXNoKFwiPC9QYWdlU2V0dXA+XCIpO1xuXHR9XG5cblx0LyogUGFnZVNldHVwICovXG5cdC8qIERpc3BsYXlQYWdlQnJlYWsgKi9cblx0LyogVHJhbnNpdGlvbkV4cHJlc3Npb25FdmFsdWF0aW9uICovXG5cdC8qIFRyYW5zaXRpb25Gb3JtdWxhRW50cnkgKi9cblx0LyogUHJpbnQgKi9cblx0LyogWm9vbSAqL1xuXHQvKiBQYWdlTGF5b3V0Wm9vbSAqL1xuXHQvKiBQYWdlQnJlYWtab29tICovXG5cdC8qIFNob3dQYWdlQnJlYWtab29tICovXG5cdC8qIERlZmF1bHRSb3dIZWlnaHQgKi9cblx0LyogRGVmYXVsdENvbHVtbldpZHRoICovXG5cdC8qIFN0YW5kYXJkV2lkdGggKi9cblxuXHRpZih3YiAmJiB3Yi5Xb3JrYm9vayAmJiB3Yi5Xb3JrYm9vay5TaGVldHMgJiYgd2IuV29ya2Jvb2suU2hlZXRzW2lkeF0pIHtcblx0XHQvKiBWaXNpYmxlICovXG5cdFx0aWYod2IuV29ya2Jvb2suU2hlZXRzW2lkeF0uSGlkZGVuKSBvLnB1c2god3JpdGV4dGFnKFwiVmlzaWJsZVwiLCAod2IuV29ya2Jvb2suU2hlZXRzW2lkeF0uSGlkZGVuID09IDEgPyBcIlNoZWV0SGlkZGVuXCIgOiBcIlNoZWV0VmVyeUhpZGRlblwiKSwge30pKTtcblx0XHRlbHNlIHtcblx0XHRcdC8qIFNlbGVjdGVkICovXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaWR4OyArK2kpIGlmKHdiLldvcmtib29rLlNoZWV0c1tpXSAmJiAhd2IuV29ya2Jvb2suU2hlZXRzW2ldLkhpZGRlbikgYnJlYWs7XG5cdFx0XHRpZihpID09IGlkeCkgby5wdXNoKFwiPFNlbGVjdGVkLz5cIik7XG5cdFx0fVxuXHR9XG5cblx0LyogTGVmdENvbHVtblZpc2libGUgKi9cblxuXHRpZigoKCgod2J8fHt9KS5Xb3JrYm9va3x8e30pLlZpZXdzfHxbXSlbMF18fHt9KS5SVEwpIG8ucHVzaChcIjxEaXNwbGF5UmlnaHRUb0xlZnQvPlwiKTtcblxuXHQvKiBHcmlkbGluZUNvbG9ySW5kZXggKi9cblx0LyogRGlzcGxheUZvcm11bGFzICovXG5cdC8qIERvTm90RGlzcGxheUdyaWRsaW5lcyAqL1xuXHQvKiBEb05vdERpc3BsYXlIZWFkaW5ncyAqL1xuXHQvKiBEb05vdERpc3BsYXlPdXRsaW5lICovXG5cdC8qIEFwcGx5QXV0b21hdGljT3V0bGluZVN0eWxlcyAqL1xuXHQvKiBOb1N1bW1hcnlSb3dzQmVsb3dEZXRhaWwgKi9cblx0LyogTm9TdW1tYXJ5Q29sdW1uc1JpZ2h0RGV0YWlsICovXG5cdC8qIERvTm90RGlzcGxheVplcm9zICovXG5cdC8qIEFjdGl2ZVJvdyAqL1xuXHQvKiBBY3RpdmVDb2x1bW4gKi9cblx0LyogRmlsdGVyT24gKi9cblx0LyogUmFuZ2VTZWxlY3Rpb24gKi9cblx0LyogVG9wUm93VmlzaWJsZSAqL1xuXHQvKiBUb3BSb3dCb3R0b21QYW5lICovXG5cdC8qIExlZnRDb2x1bW5SaWdodFBhbmUgKi9cblx0LyogQWN0aXZlUGFuZSAqL1xuXHQvKiBTcGxpdEhvcml6b250YWwgKi9cblx0LyogU3BsaXRWZXJ0aWNhbCAqL1xuXHQvKiBGcmVlemVQYW5lcyAqL1xuXHQvKiBGcm96ZW5Ob1NwbGl0ICovXG5cdC8qIFRhYkNvbG9ySW5kZXggKi9cblx0LyogUGFuZXMgKi9cblxuXHQvKiBOT1RFOiBQYXNzd29yZCBub3Qgc3VwcG9ydGVkIGluIFhMTUwgRm9ybWF0ICovXG5cdGlmKHdzWychcHJvdGVjdCddKSB7XG5cdFx0by5wdXNoKHdyaXRldGFnKFwiUHJvdGVjdENvbnRlbnRzXCIsIFwiVHJ1ZVwiKSk7XG5cdFx0aWYod3NbJyFwcm90ZWN0J10ub2JqZWN0cykgby5wdXNoKHdyaXRldGFnKFwiUHJvdGVjdE9iamVjdHNcIiwgXCJUcnVlXCIpKTtcblx0XHRpZih3c1snIXByb3RlY3QnXS5zY2VuYXJpb3MpIG8ucHVzaCh3cml0ZXRhZyhcIlByb3RlY3RTY2VuYXJpb3NcIiwgXCJUcnVlXCIpKTtcblx0XHRpZih3c1snIXByb3RlY3QnXS5zZWxlY3RMb2NrZWRDZWxscyAhPSBudWxsICYmICF3c1snIXByb3RlY3QnXS5zZWxlY3RMb2NrZWRDZWxscykgby5wdXNoKHdyaXRldGFnKFwiRW5hYmxlU2VsZWN0aW9uXCIsIFwiTm9TZWxlY3Rpb25cIikpO1xuXHRcdGVsc2UgaWYod3NbJyFwcm90ZWN0J10uc2VsZWN0VW5sb2NrZWRDZWxscyAhPSBudWxsICYmICF3c1snIXByb3RlY3QnXS5zZWxlY3RVbmxvY2tlZENlbGxzKSBvLnB1c2god3JpdGV0YWcoXCJFbmFibGVTZWxlY3Rpb25cIiwgXCJVbmxvY2tlZENlbGxzXCIpKTtcblx0W1xuXHRcdFsgXCJmb3JtYXRDZWxsc1wiLCBcIkFsbG93Rm9ybWF0Q2VsbHNcIiBdLFxuXHRcdFsgXCJmb3JtYXRDb2x1bW5zXCIsIFwiQWxsb3dTaXplQ29sc1wiIF0sXG5cdFx0WyBcImZvcm1hdFJvd3NcIiwgXCJBbGxvd1NpemVSb3dzXCIgXSxcblx0XHRbIFwiaW5zZXJ0Q29sdW1uc1wiLCBcIkFsbG93SW5zZXJ0Q29sc1wiIF0sXG5cdFx0WyBcImluc2VydFJvd3NcIiwgXCJBbGxvd0luc2VydFJvd3NcIiBdLFxuXHRcdFsgXCJpbnNlcnRIeXBlcmxpbmtzXCIsIFwiQWxsb3dJbnNlcnRIeXBlcmxpbmtzXCIgXSxcblx0XHRbIFwiZGVsZXRlQ29sdW1uc1wiLCBcIkFsbG93RGVsZXRlQ29sc1wiIF0sXG5cdFx0WyBcImRlbGV0ZVJvd3NcIiwgXCJBbGxvd0RlbGV0ZVJvd3NcIiBdLFxuXHRcdFsgXCJzb3J0XCIsIFwiQWxsb3dTb3J0XCIgXSxcblx0XHRbIFwiYXV0b0ZpbHRlclwiLCBcIkFsbG93RmlsdGVyXCIgXSxcblx0XHRbIFwicGl2b3RUYWJsZXNcIiwgXCJBbGxvd1VzZVBpdm90VGFibGVzXCIgXVxuXHRdLmZvckVhY2goZnVuY3Rpb24oeCkgeyBpZih3c1snIXByb3RlY3QnXVt4WzBdXSkgby5wdXNoKFwiPFwiK3hbMV0rXCIvPlwiKTsgfSk7XG5cdH1cblxuXHRpZihvLmxlbmd0aCA9PSAwKSByZXR1cm4gXCJcIjtcblx0cmV0dXJuIHdyaXRleHRhZyhcIldvcmtzaGVldE9wdGlvbnNcIiwgby5qb2luKFwiXCIpLCB7eG1sbnM6WExNTE5TLnh9KTtcbn1cbmZ1bmN0aW9uIHdyaXRlX3dzX3hsbWxfY29tbWVudChjb21tZW50cy8qOkFycmF5PGFueT4qLykvKjpzdHJpbmcqLyB7XG5cdC8qIFRPRE86IHRlc3QgbXVsdGlwbGUgY29tbWVudHMgKi9cblx0cmV0dXJuIGNvbW1lbnRzLm1hcChmdW5jdGlvbihjKSB7XG5cdFx0Ly8gVE9ETzogZm9ybWF0dGVkIHRleHRcblx0XHR2YXIgdCA9IHhsbWxfdW5maXhzdHIoYy50fHxcIlwiKTtcblx0XHR2YXIgZCA9d3JpdGV4dGFnKFwic3M6RGF0YVwiLCB0LCB7XCJ4bWxuc1wiOlwiaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MFwifSk7XG5cdFx0dmFyIHAgPSB7fTtcblx0XHRpZihjLmEpIHBbXCJzczpBdXRob3JcIl0gPSBjLmE7XG5cdFx0aWYoIWNvbW1lbnRzLmhpZGRlbikgcFtcInNzOlNob3dBbHdheXNcIl0gPSBcIjFcIjtcblx0XHRyZXR1cm4gd3JpdGV4dGFnKFwiQ29tbWVudFwiLCBkLCBwKTtcblx0fSkuam9pbihcIlwiKTtcbn1cbmZ1bmN0aW9uIHdyaXRlX3dzX3hsbWxfY2VsbChjZWxsLCByZWYvKjpzdHJpbmcqLywgd3MsIG9wdHMsIGlkeC8qOm51bWJlciovLCB3YiwgYWRkcikvKjpzdHJpbmcqL3tcblx0aWYoIWNlbGwgfHwgKGNlbGwudiA9PSB1bmRlZmluZWQgJiYgY2VsbC5mID09IHVuZGVmaW5lZCkpIHJldHVybiBcIlwiO1xuXG5cdHZhciBhdHRyID0ge307XG5cdGlmKGNlbGwuZikgYXR0cltcInNzOkZvcm11bGFcIl0gPSBcIj1cIiArIGVzY2FwZXhtbChhMV90b19yYyhjZWxsLmYsIGFkZHIpKTtcblx0aWYoY2VsbC5GICYmIGNlbGwuRi5zbGljZSgwLCByZWYubGVuZ3RoKSA9PSByZWYpIHtcblx0XHR2YXIgZW5kID0gZGVjb2RlX2NlbGwoY2VsbC5GLnNsaWNlKHJlZi5sZW5ndGggKyAxKSk7XG5cdFx0YXR0cltcInNzOkFycmF5UmFuZ2VcIl0gPSBcIlJDOlJcIiArIChlbmQuciA9PSBhZGRyLnIgPyBcIlwiIDogXCJbXCIgKyAoZW5kLnIgLSBhZGRyLnIpICsgXCJdXCIpICsgXCJDXCIgKyAoZW5kLmMgPT0gYWRkci5jID8gXCJcIiA6IFwiW1wiICsgKGVuZC5jIC0gYWRkci5jKSArIFwiXVwiKTtcblx0fVxuXG5cdGlmKGNlbGwubCAmJiBjZWxsLmwuVGFyZ2V0KSB7XG5cdFx0YXR0cltcInNzOkhSZWZcIl0gPSBlc2NhcGV4bWwoY2VsbC5sLlRhcmdldCk7XG5cdFx0aWYoY2VsbC5sLlRvb2x0aXApIGF0dHJbXCJ4OkhSZWZTY3JlZW5UaXBcIl0gPSBlc2NhcGV4bWwoY2VsbC5sLlRvb2x0aXApO1xuXHR9XG5cblx0aWYod3NbJyFtZXJnZXMnXSkge1xuXHRcdHZhciBtYXJyID0gd3NbJyFtZXJnZXMnXTtcblx0XHRmb3IodmFyIG1pID0gMDsgbWkgIT0gbWFyci5sZW5ndGg7ICsrbWkpIHtcblx0XHRcdGlmKG1hcnJbbWldLnMuYyAhPSBhZGRyLmMgfHwgbWFyclttaV0ucy5yICE9IGFkZHIucikgY29udGludWU7XG5cdFx0XHRpZihtYXJyW21pXS5lLmMgPiBtYXJyW21pXS5zLmMpIGF0dHJbJ3NzOk1lcmdlQWNyb3NzJ10gPSBtYXJyW21pXS5lLmMgLSBtYXJyW21pXS5zLmM7XG5cdFx0XHRpZihtYXJyW21pXS5lLnIgPiBtYXJyW21pXS5zLnIpIGF0dHJbJ3NzOk1lcmdlRG93biddID0gbWFyclttaV0uZS5yIC0gbWFyclttaV0ucy5yO1xuXHRcdH1cblx0fVxuXG5cdHZhciB0ID0gXCJcIiwgcCA9IFwiXCI7XG5cdHN3aXRjaChjZWxsLnQpIHtcblx0XHRjYXNlICd6JzogaWYoIW9wdHMuc2hlZXRTdHVicykgcmV0dXJuIFwiXCI7IGJyZWFrO1xuXHRcdGNhc2UgJ24nOiB7XG5cdFx0XHRpZighaXNGaW5pdGUoY2VsbC52KSkge1xuXHRcdFx0XHR0ID0gJ0Vycm9yJzsgcCA9IEJFcnJbaXNOYU4oY2VsbC52KSA/IDB4MjQgOiAweDA3XTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHQgPSAnTnVtYmVyJzsgcCA9IFN0cmluZyhjZWxsLnYpO1xuXHRcdFx0fVxuXHRcdH0gYnJlYWs7XG5cdFx0Y2FzZSAnYic6IHQgPSAnQm9vbGVhbic7IHAgPSAoY2VsbC52ID8gXCIxXCIgOiBcIjBcIik7IGJyZWFrO1xuXHRcdGNhc2UgJ2UnOiB0ID0gJ0Vycm9yJzsgcCA9IEJFcnJbY2VsbC52XTsgYnJlYWs7XG5cdFx0Y2FzZSAnZCc6IHQgPSAnRGF0ZVRpbWUnOyBwID0gbmV3IERhdGUoY2VsbC52KS50b0lTT1N0cmluZygpOyBpZihjZWxsLnogPT0gbnVsbCkgY2VsbC56ID0gY2VsbC56IHx8IHRhYmxlX2ZtdFsxNF07IGJyZWFrO1xuXHRcdGNhc2UgJ3MnOiB0ID0gJ1N0cmluZyc7IHAgPSBlc2NhcGV4bG1sKGNlbGwudnx8XCJcIik7IGJyZWFrO1xuXHR9XG5cdC8qIFRPRE86IGNlbGwgc3R5bGUgKi9cblx0dmFyIG9zID0gZ2V0X2NlbGxfc3R5bGUob3B0cy5jZWxsWGZzLCBjZWxsLCBvcHRzKTtcblx0YXR0cltcInNzOlN0eWxlSURcIl0gPSBcInNcIiArICgyMStvcyk7XG5cdGF0dHJbXCJzczpJbmRleFwiXSA9IGFkZHIuYyArIDE7XG5cdHZhciBfdiA9IChjZWxsLnYgIT0gbnVsbCA/IHAgOiBcIlwiKTtcblx0dmFyIG0gPSBjZWxsLnQgPT0gJ3onID8gXCJcIiA6ICgnPERhdGEgc3M6VHlwZT1cIicgKyB0ICsgJ1wiPicgKyBfdiArICc8L0RhdGE+Jyk7XG5cblx0aWYoKGNlbGwuY3x8W10pLmxlbmd0aCA+IDApIG0gKz0gd3JpdGVfd3NfeGxtbF9jb21tZW50KGNlbGwuYyk7XG5cblx0cmV0dXJuIHdyaXRleHRhZyhcIkNlbGxcIiwgbSwgYXR0cik7XG59XG5mdW5jdGlvbiB3cml0ZV93c194bG1sX3JvdyhSLyo6bnVtYmVyKi8sIHJvdykvKjpzdHJpbmcqLyB7XG5cdHZhciBvID0gJzxSb3cgc3M6SW5kZXg9XCInICsgKFIrMSkgKyAnXCInO1xuXHRpZihyb3cpIHtcblx0XHRpZihyb3cuaHB0ICYmICFyb3cuaHB4KSByb3cuaHB4ID0gcHQycHgocm93LmhwdCk7XG5cdFx0aWYocm93LmhweCkgbyArPSAnIHNzOkF1dG9GaXRIZWlnaHQ9XCIwXCIgc3M6SGVpZ2h0PVwiJyArIHJvdy5ocHggKyAnXCInO1xuXHRcdGlmKHJvdy5oaWRkZW4pIG8gKz0gJyBzczpIaWRkZW49XCIxXCInO1xuXHR9XG5cdHJldHVybiBvICsgJz4nO1xufVxuLyogVE9ETyAqL1xuZnVuY3Rpb24gd3JpdGVfd3NfeGxtbF90YWJsZSh3cy8qOldvcmtzaGVldCovLCBvcHRzLCBpZHgvKjpudW1iZXIqLywgd2IvKjpXb3JrYm9vayovKS8qOnN0cmluZyovIHtcblx0aWYoIXdzWychcmVmJ10pIHJldHVybiBcIlwiO1xuXHR2YXIgcmFuZ2UvKjpSYW5nZSovID0gc2FmZV9kZWNvZGVfcmFuZ2Uod3NbJyFyZWYnXSk7XG5cdHZhciBtYXJyLyo6QXJyYXk8UmFuZ2U+Ki8gPSB3c1snIW1lcmdlcyddIHx8IFtdLCBtaSA9IDA7XG5cdHZhciBvLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdGlmKHdzWychY29scyddKSB3c1snIWNvbHMnXS5mb3JFYWNoKGZ1bmN0aW9uKG4sIGkpIHtcblx0XHRwcm9jZXNzX2NvbChuKTtcblx0XHR2YXIgdyA9ICEhbi53aWR0aDtcblx0XHR2YXIgcCA9IGNvbF9vYmpfdyhpLCBuKTtcblx0XHR2YXIgay8qOmFueSovID0ge1wic3M6SW5kZXhcIjppKzF9O1xuXHRcdGlmKHcpIGtbJ3NzOldpZHRoJ10gPSB3aWR0aDJweChwLndpZHRoKTtcblx0XHRpZihuLmhpZGRlbikga1snc3M6SGlkZGVuJ109XCIxXCI7XG5cdFx0by5wdXNoKHdyaXRleHRhZyhcIkNvbHVtblwiLG51bGwsaykpO1xuXHR9KTtcblx0dmFyIGRlbnNlID0gd3NbXCIhZGF0YVwiXSAhPSBudWxsO1xuXHR2YXIgYWRkciA9IHtyOjAsYzowfTtcblx0Zm9yKHZhciBSID0gcmFuZ2Uucy5yOyBSIDw9IHJhbmdlLmUucjsgKytSKSB7XG5cdFx0dmFyIHJvdyA9IFt3cml0ZV93c194bG1sX3JvdyhSLCAod3NbJyFyb3dzJ118fFtdKVtSXSldO1xuXHRcdGFkZHIuciA9IFI7XG5cdFx0Zm9yKHZhciBDID0gcmFuZ2Uucy5jOyBDIDw9IHJhbmdlLmUuYzsgKytDKSB7XG5cdFx0XHRhZGRyLmMgPSBDO1xuXHRcdFx0dmFyIHNraXAgPSBmYWxzZTtcblx0XHRcdGZvcihtaSA9IDA7IG1pICE9IG1hcnIubGVuZ3RoOyArK21pKSB7XG5cdFx0XHRcdGlmKG1hcnJbbWldLnMuYyA+IEMpIGNvbnRpbnVlO1xuXHRcdFx0XHRpZihtYXJyW21pXS5zLnIgPiBSKSBjb250aW51ZTtcblx0XHRcdFx0aWYobWFyclttaV0uZS5jIDwgQykgY29udGludWU7XG5cdFx0XHRcdGlmKG1hcnJbbWldLmUuciA8IFIpIGNvbnRpbnVlO1xuXHRcdFx0XHRpZihtYXJyW21pXS5zLmMgIT0gQyB8fCBtYXJyW21pXS5zLnIgIT0gUikgc2tpcCA9IHRydWU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYoc2tpcCkgY29udGludWU7XG5cdFx0XHR2YXIgcmVmID0gZW5jb2RlX2NvbChDKSArIGVuY29kZV9yb3coUiksIGNlbGwgPSBkZW5zZSA/ICh3c1tcIiFkYXRhXCJdW1JdfHxbXSlbQ10gOiB3c1tyZWZdO1xuXHRcdFx0cm93LnB1c2god3JpdGVfd3NfeGxtbF9jZWxsKGNlbGwsIHJlZiwgd3MsIG9wdHMsIGlkeCwgd2IsIGFkZHIpKTtcblx0XHR9XG5cdFx0cm93LnB1c2goXCI8L1Jvdz5cIik7XG5cdFx0aWYocm93Lmxlbmd0aCA+IDIpIG8ucHVzaChyb3cuam9pbihcIlwiKSk7XG5cdH1cblx0cmV0dXJuIG8uam9pbihcIlwiKTtcbn1cbmZ1bmN0aW9uIHdyaXRlX3dzX3hsbWwoaWR4Lyo6bnVtYmVyKi8sIG9wdHMsIHdiLyo6V29ya2Jvb2sqLykvKjpzdHJpbmcqLyB7XG5cdHZhciBvLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHZhciBzID0gd2IuU2hlZXROYW1lc1tpZHhdO1xuXHR2YXIgd3MgPSB3Yi5TaGVldHNbc107XG5cblx0dmFyIHQvKjpzdHJpbmcqLyA9IHdzID8gd3JpdGVfd3NfeGxtbF9uYW1lcyh3cywgb3B0cywgaWR4LCB3YikgOiBcIlwiO1xuXHRpZih0Lmxlbmd0aCA+IDApIG8ucHVzaChcIjxOYW1lcz5cIiArIHQgKyBcIjwvTmFtZXM+XCIpO1xuXG5cdC8qIFRhYmxlICovXG5cdHQgPSB3cyA/IHdyaXRlX3dzX3hsbWxfdGFibGUod3MsIG9wdHMsIGlkeCwgd2IpIDogXCJcIjtcblx0aWYodC5sZW5ndGggPiAwKSBvLnB1c2goXCI8VGFibGU+XCIgKyB0ICsgXCI8L1RhYmxlPlwiKTtcblxuXHQvKiBXb3Jrc2hlZXRPcHRpb25zICovXG5cdG8ucHVzaCh3cml0ZV93c194bG1sX3dzb3B0cyh3cywgb3B0cywgaWR4LCB3YikpO1xuXG5cdGlmKHdzICYmIHdzW1wiIWF1dG9maWx0ZXJcIl0pIG8ucHVzaCgnPEF1dG9GaWx0ZXIgeDpSYW5nZT1cIicgKyBhMV90b19yYyhmaXhfcmFuZ2Uod3NbXCIhYXV0b2ZpbHRlclwiXS5yZWYpLCB7cjowLGM6MH0pICsgJ1wiIHhtbG5zPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6ZXhjZWxcIj48L0F1dG9GaWx0ZXI+Jyk7XG5cblx0cmV0dXJuIG8uam9pbihcIlwiKTtcbn1cbmZ1bmN0aW9uIHdyaXRlX3hsbWwod2IsIG9wdHMpLyo6c3RyaW5nKi8ge1xuXHRpZighb3B0cykgb3B0cyA9IHt9O1xuXHRpZighd2IuU1NGKSB3Yi5TU0YgPSBkdXAodGFibGVfZm10KTtcblx0aWYod2IuU1NGKSB7XG5cdFx0bWFrZV9zc2YoKTsgU1NGX2xvYWRfdGFibGUod2IuU1NGKTtcblx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdG9wdHMucmV2c3NmID0gZXZlcnRfbnVtKHdiLlNTRik7IG9wdHMucmV2c3NmW3diLlNTRls2NTUzNV1dID0gMDtcblx0XHRvcHRzLnNzZiA9IHdiLlNTRjtcblx0XHRvcHRzLmNlbGxYZnMgPSBbXTtcblx0XHRnZXRfY2VsbF9zdHlsZShvcHRzLmNlbGxYZnMsIHt9LCB7cmV2c3NmOntcIkdlbmVyYWxcIjowfX0pO1xuXHR9XG5cdHZhciBkLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdGQucHVzaCh3cml0ZV9wcm9wc194bG1sKHdiLCBvcHRzKSk7XG5cdGQucHVzaCh3cml0ZV93Yl94bG1sKHdiLCBvcHRzKSk7XG5cdGQucHVzaChcIlwiKTtcblx0ZC5wdXNoKHdyaXRlX25hbWVzX3hsbWwod2IsIG9wdHMpKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK2kpXG5cdFx0ZC5wdXNoKHdyaXRleHRhZyhcIldvcmtzaGVldFwiLCB3cml0ZV93c194bG1sKGksIG9wdHMsIHdiKSwge1wic3M6TmFtZVwiOmVzY2FwZXhtbCh3Yi5TaGVldE5hbWVzW2ldKX0pKTtcblx0ZFsyXSA9IHdyaXRlX3N0eV94bG1sKHdiLCBvcHRzKTtcblx0cmV0dXJuIFhNTF9IRUFERVIgKyB3cml0ZXh0YWcoXCJXb3JrYm9va1wiLCBkLmpvaW4oXCJcIiksIHtcblx0XHQneG1sbnMnOiAgICAgIFhMTUxOUy5zcyxcblx0XHQneG1sbnM6byc6ICAgIFhMTUxOUy5vLFxuXHRcdCd4bWxuczp4JzogICAgWExNTE5TLngsXG5cdFx0J3htbG5zOnNzJzogICBYTE1MTlMuc3MsXG5cdFx0J3htbG5zOmR0JzogICBYTE1MTlMuZHQsXG5cdFx0J3htbG5zOmh0bWwnOiBYTE1MTlMuaHRtbFxuXHR9KTtcbn1cbi8qIFtNUy1PTEVEU10gMi4zLjggQ29tcE9ialN0cmVhbSAqL1xuZnVuY3Rpb24gcGFyc2VfY29tcG9iaihvYmovKjpDRkJFbnRyeSovKSB7XG5cdHZhciB2ID0ge307XG5cdHZhciBvID0gb2JqLmNvbnRlbnQ7XG5cdC8qOjogaWYobyA9PSBudWxsKSByZXR1cm47ICovXG5cblx0LyogW01TLU9MRURTXSAyLjMuNyBDb21wT2JqSGVhZGVyIC0tIEFsbCBmaWVsZHMgTVVTVCBiZSBpZ25vcmVkICovXG5cdG8ubCA9IDI4O1xuXG5cdHYuQW5zaVVzZXJUeXBlID0gby5yZWFkX3NoaWZ0KDAsIFwibHBzdHItYW5zaVwiKTtcblx0di5BbnNpQ2xpcGJvYXJkRm9ybWF0ID0gcGFyc2VfQ2xpcGJvYXJkRm9ybWF0T3JBbnNpU3RyaW5nKG8pO1xuXG5cdGlmKG8ubGVuZ3RoIC0gby5sIDw9IDQpIHJldHVybiB2O1xuXG5cdHZhciBtLyo6bnVtYmVyKi8gPSBvLnJlYWRfc2hpZnQoNCk7XG5cdGlmKG0gPT0gMCB8fCBtID4gNDApIHJldHVybiB2O1xuXHRvLmwtPTQ7IHYuUmVzZXJ2ZWQxID0gby5yZWFkX3NoaWZ0KDAsIFwibHBzdHItYW5zaVwiKTtcblxuXHRpZihvLmxlbmd0aCAtIG8ubCA8PSA0KSByZXR1cm4gdjtcblx0bSA9IG8ucmVhZF9zaGlmdCg0KTtcblx0aWYobSAhPT0gMHg3MWIyMzlmNCkgcmV0dXJuIHY7XG5cdHYuVW5pY29kZUNsaXBib2FyZEZvcm1hdCA9IHBhcnNlX0NsaXBib2FyZEZvcm1hdE9yVW5pY29kZVN0cmluZyhvKTtcblxuXHRtID0gby5yZWFkX3NoaWZ0KDQpO1xuXHRpZihtID09IDAgfHwgbSA+IDQwKSByZXR1cm4gdjtcblx0by5sLT00OyB2LlJlc2VydmVkMiA9IG8ucmVhZF9zaGlmdCgwLCBcImxwd3N0clwiKTtcbn1cblxuLypcblx0Q29udGludWUgbG9naWMgZm9yOlxuXHQtIDIuNC41OCBDb250aW51ZSAgICAgICAgICAweDAwM2Ncblx0LSAyLjQuNTkgQ29udGludWVCaWdOYW1lICAgMHgwNDNjXG5cdC0gMi40LjYwIENvbnRpbnVlRnJ0ICAgICAgIDB4MDgxMlxuXHQtIDIuNC42MSBDb250aW51ZUZydDExICAgICAweDA4NzVcblx0LSAyLjQuNjIgQ29udGludWVGcnQxMiAgICAgMHgwODdmXG4qL1xudmFyIENPTlRJTlVFX1JUID0gWyAweDAwM2MsIDB4MDQzYywgMHgwODEyLCAweDA4NzUsIDB4MDg3ZiBdO1xuZnVuY3Rpb24gc2x1cnAoUmVjb3JkVHlwZSwgUiwgYmxvYiwgbGVuZ3RoLyo6bnVtYmVyKi8sIG9wdHMpLyo6YW55Ki8ge1xuXHR2YXIgbCA9IGxlbmd0aDtcblx0dmFyIGJ1ZnMgPSBbXTtcblx0dmFyIGQgPSBibG9iLnNsaWNlKGJsb2IubCxibG9iLmwrbCk7XG5cdGlmKG9wdHMgJiYgb3B0cy5lbmMgJiYgb3B0cy5lbmMuaW5zaXR1ICYmIGQubGVuZ3RoID4gMCkgc3dpdGNoKFJlY29yZFR5cGUpIHtcblx0Y2FzZSAweDAwMDk6IGNhc2UgMHgwMjA5OiBjYXNlIDB4MDQwOTogY2FzZSAweDA4MDkvKiBCT0YgKi86IGNhc2UgMHgwMDJGIC8qIEZpbGVQYXNzICovOiBjYXNlIDB4MDE5NSAvKiBGaWxlTG9jayAqLzogY2FzZSAweDAwRTEgLyogSW50ZXJmYWNlSGRyICovOiBjYXNlIDB4MDE5NiAvKiBSUkRJbmZvICovOiBjYXNlIDB4MDEzOCAvKiBSUkRIZWFkICovOiBjYXNlIDB4MDE5NCAvKiBVc3JFeGNsICovOiBjYXNlIDB4MDAwYSAvKiBFT0YgKi86XG5cdFx0YnJlYWs7XG5cdGNhc2UgMHgwMDg1IC8qIEJvdW5kU2hlZXQ4ICovOlxuXHRcdGJyZWFrO1xuXHRkZWZhdWx0OlxuXHRcdG9wdHMuZW5jLmluc2l0dShkKTtcblx0fVxuXHRidWZzLnB1c2goZCk7XG5cdGJsb2IubCArPSBsO1xuXHR2YXIgbmV4dHJ0ID0gX19yZWFkVUludDE2TEUoYmxvYixibG9iLmwpLCBuZXh0ID0gWExTUmVjb3JkRW51bVtuZXh0cnRdO1xuXHR2YXIgc3RhcnQgPSAwO1xuXHR3aGlsZShuZXh0ICE9IG51bGwgJiYgQ09OVElOVUVfUlQuaW5kZXhPZihuZXh0cnQpID4gLTEpIHtcblx0XHRsID0gX19yZWFkVUludDE2TEUoYmxvYixibG9iLmwrMik7XG5cdFx0c3RhcnQgPSBibG9iLmwgKyA0O1xuXHRcdGlmKG5leHRydCA9PSAweDA4MTIgLyogQ29udGludWVGcnQgKi8pIHN0YXJ0ICs9IDQ7XG5cdFx0ZWxzZSBpZihuZXh0cnQgPT0gMHgwODc1IHx8IG5leHRydCA9PSAweDA4N2YpIHtcblx0XHRcdHN0YXJ0ICs9IDEyO1xuXHRcdH1cblx0XHRkID0gYmxvYi5zbGljZShzdGFydCxibG9iLmwrNCtsKTtcblx0XHRidWZzLnB1c2goZCk7XG5cdFx0YmxvYi5sICs9IDQrbDtcblx0XHRuZXh0ID0gKFhMU1JlY29yZEVudW1bbmV4dHJ0ID0gX19yZWFkVUludDE2TEUoYmxvYiwgYmxvYi5sKV0pO1xuXHR9XG5cdHZhciBiID0gKGJjb25jYXQoYnVmcykvKjphbnkqLyk7XG5cdHByZXBfYmxvYihiLCAwKTtcblx0dmFyIGxsID0gMDsgYi5sZW5zID0gW107XG5cdGZvcih2YXIgaiA9IDA7IGogPCBidWZzLmxlbmd0aDsgKytqKSB7IGIubGVucy5wdXNoKGxsKTsgbGwgKz0gYnVmc1tqXS5sZW5ndGg7IH1cblx0aWYoYi5sZW5ndGggPCBsZW5ndGgpIHRocm93IFwiWExTIFJlY29yZCAweFwiICsgUmVjb3JkVHlwZS50b1N0cmluZygxNikgKyBcIiBUcnVuY2F0ZWQ6IFwiICsgYi5sZW5ndGggKyBcIiA8IFwiICsgbGVuZ3RoO1xuXHRyZXR1cm4gUi5mKGIsIGIubGVuZ3RoLCBvcHRzKTtcbn1cblxuZnVuY3Rpb24gc2FmZV9mb3JtYXRfeGYocC8qOmFueSovLCBvcHRzLyo6UGFyc2VPcHRzKi8sIGRhdGUxOTA0Lyo6P2Jvb2xlYW4qLykge1xuXHRpZihwLnQgPT09ICd6JykgcmV0dXJuO1xuXHRpZighcC5YRikgcmV0dXJuO1xuXHR2YXIgZm10aWQgPSAwO1xuXHR0cnkge1xuXHRcdGZtdGlkID0gcC56IHx8IHAuWEYubnVtRm10SWQgfHwgMDtcblx0XHRpZihvcHRzLmNlbGxORiAmJiBwLnogPT0gbnVsbCkgcC56ID0gdGFibGVfZm10W2ZtdGlkXTtcblx0fSBjYXRjaChlKSB7IGlmKG9wdHMuV1RGKSB0aHJvdyBlOyB9XG5cdGlmKCFvcHRzIHx8IG9wdHMuY2VsbFRleHQgIT09IGZhbHNlKSB0cnkge1xuXHRcdGlmKHAudCA9PT0gJ2UnKSB7IHAudyA9IHAudyB8fCBCRXJyW3Audl07IH1cblx0XHRlbHNlIGlmKGZtdGlkID09PSAwIHx8IGZtdGlkID09IFwiR2VuZXJhbFwiKSB7XG5cdFx0XHRpZihwLnQgPT09ICduJykge1xuXHRcdFx0XHRpZigocC52fDApID09PSBwLnYpIHAudyA9IHAudi50b1N0cmluZygxMCk7XG5cdFx0XHRcdGVsc2UgcC53ID0gU1NGX2dlbmVyYWxfbnVtKHAudik7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHAudyA9IFNTRl9nZW5lcmFsKHAudik7XG5cdFx0fVxuXHRcdGVsc2UgcC53ID0gU1NGX2Zvcm1hdChmbXRpZCxwLnYsIHtkYXRlMTkwNDohIWRhdGUxOTA0LCBkYXRlTkY6IG9wdHMgJiYgb3B0cy5kYXRlTkZ9KTtcblx0fSBjYXRjaChlKSB7IGlmKG9wdHMuV1RGKSB0aHJvdyBlOyB9XG5cdGlmKG9wdHMuY2VsbERhdGVzICYmIGZtdGlkICYmIHAudCA9PSAnbicgJiYgZm10X2lzX2RhdGUodGFibGVfZm10W2ZtdGlkXSB8fCBTdHJpbmcoZm10aWQpKSkge1xuXHRcdHZhciBfZCA9IFNTRl9wYXJzZV9kYXRlX2NvZGUocC52ICsgKGRhdGUxOTA0ID8gMTQ2MiA6IDApKTsgaWYoX2QpIHsgcC50ID0gJ2QnOyBwLnYgPSBuZXcgRGF0ZShEYXRlLlVUQyhfZC55LCBfZC5tLTEsX2QuZCxfZC5ILF9kLk0sX2QuUyxfZC51KSk7IH1cblx0fVxufVxuXG5mdW5jdGlvbiBtYWtlX2NlbGwodmFsLCBpeGZlLCB0KS8qOkNlbGwqLyB7XG5cdHJldHVybiAoe3Y6dmFsLCBpeGZlOml4ZmUsIHQ6dH0vKjphbnkqLyk7XG59XG5cbi8vIDIuMy4yXG5mdW5jdGlvbiBwYXJzZV93b3JrYm9vayhibG9iLCBvcHRpb25zLyo6UGFyc2VPcHRzKi8pLyo6V29ya2Jvb2sqLyB7XG5cdHZhciB3YiA9ICh7b3B0czp7fX0vKjphbnkqLyk7XG5cdHZhciBTaGVldHMgPSB7fTtcblx0aWYoREVOU0UgIT0gbnVsbCAmJiBvcHRpb25zLmRlbnNlID09IG51bGwpIG9wdGlvbnMuZGVuc2UgPSBERU5TRTtcblx0dmFyIG91dC8qOldvcmtzaGVldCovID0gKHt9Lyo6YW55Ki8pOyBpZihvcHRpb25zLmRlbnNlKSBvdXRbXCIhZGF0YVwiXSA9IFtdO1xuXHR2YXIgRGlyZWN0b3J5ID0ge307XG5cdHZhciByYW5nZS8qOlJhbmdlKi8gPSAoe30vKjphbnkqLyk7XG5cdHZhciBsYXN0X2Zvcm11bGEgPSBudWxsO1xuXHR2YXIgc3N0Lyo6U1NUKi8gPSAoW10vKjphbnkqLyk7XG5cdHZhciBjdXJfc2hlZXQgPSBcIlwiO1xuXHR2YXIgUHJlYW1ibGUgPSB7fTtcblx0dmFyIGxhc3RjZWxsLCBsYXN0X2NlbGwgPSBcIlwiLCBjYy8qOkNlbGwqLywgY21udCwgcm5nQywgcm5nUjtcblx0dmFyIHNoYXJlZGYgPSB7fTtcblx0dmFyIGFycmF5Zi8qOkFycmF5PFtSYW5nZSwgc3RyaW5nXT4qLyA9IFtdO1xuXHR2YXIgdGVtcF92YWwvKjpDZWxsKi87XG5cdHZhciBjb3VudHJ5O1xuXHR2YXIgWEZzID0gW107IC8qIFhGIHJlY29yZHMgKi9cblx0dmFyIHBhbGV0dGUvKjpBcnJheTxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0+Ki8gPSBbXTtcblx0dmFyIFdvcmtib29rLyo6V0JXQlByb3BzKi8gPSAoeyBTaGVldHM6W10sIFdCUHJvcHM6e2RhdGUxOTA0OmZhbHNlfSwgVmlld3M6W3t9XSB9Lyo6YW55Ki8pLCB3c3Byb3BzID0ge307XG5cdHZhciBiaWZmNHcgPSBmYWxzZTtcblx0dmFyIGdldF9yZ2IgPSBmdW5jdGlvbiBnZXRyZ2IoaWN2Lyo6bnVtYmVyKi8pLyo6W251bWJlciwgbnVtYmVyLCBudW1iZXJdKi8ge1xuXHRcdGlmKGljdiA8IDgpIHJldHVybiBYTFNJY3ZbaWN2XTtcblx0XHRpZihpY3YgPCA2NCkgcmV0dXJuIHBhbGV0dGVbaWN2LThdIHx8IFhMU0ljdltpY3ZdO1xuXHRcdHJldHVybiBYTFNJY3ZbaWN2XTtcblx0fTtcblx0dmFyIHByb2Nlc3NfY2VsbF9zdHlsZSA9IGZ1bmN0aW9uIHBjcyhsaW5lLyo6YW55Ki8sIG9wdGlvbnMpIHtcblx0XHR2YXIgeGZkID0gbGluZS5YRi5kYXRhO1xuXHRcdGlmKCF4ZmQgfHwgIXhmZC5wYXR0ZXJuVHlwZSB8fCAhb3B0aW9ucyB8fCAhb3B0aW9ucy5jZWxsU3R5bGVzKSByZXR1cm47XG5cdFx0bGluZS5zID0gKHt9Lyo6YW55Ki8pO1xuXHRcdGxpbmUucy5wYXR0ZXJuVHlwZSA9IHhmZC5wYXR0ZXJuVHlwZTtcblx0XHR2YXIgdDtcblx0XHRpZigodCA9IHJnYjJIZXgoZ2V0X3JnYih4ZmQuaWN2Rm9yZSkpKSkgeyBsaW5lLnMuZmdDb2xvciA9IHtyZ2I6dH07IH1cblx0XHRpZigodCA9IHJnYjJIZXgoZ2V0X3JnYih4ZmQuaWN2QmFjaykpKSkgeyBsaW5lLnMuYmdDb2xvciA9IHtyZ2I6dH07IH1cblx0fTtcblx0dmFyIGFkZGNlbGwgPSBmdW5jdGlvbiBhZGRjZWxsKGNlbGwvKjphbnkqLywgbGluZS8qOmFueSovLCBvcHRpb25zLyo6YW55Ki8pIHtcblx0XHRpZighYmlmZjR3ICYmIGZpbGVfZGVwdGggPiAxKSByZXR1cm47XG5cdFx0aWYob3B0aW9ucy5zaGVldFJvd3MgJiYgY2VsbC5yID49IG9wdGlvbnMuc2hlZXRSb3dzKSByZXR1cm47XG5cdFx0aWYob3B0aW9ucy5jZWxsU3R5bGVzICYmIGxpbmUuWEYgJiYgbGluZS5YRi5kYXRhKSBwcm9jZXNzX2NlbGxfc3R5bGUobGluZSwgb3B0aW9ucyk7XG5cdFx0ZGVsZXRlIGxpbmUuaXhmZTsgZGVsZXRlIGxpbmUuWEY7XG5cdFx0bGFzdGNlbGwgPSBjZWxsO1xuXHRcdGxhc3RfY2VsbCA9IGVuY29kZV9jZWxsKGNlbGwpO1xuXHRcdGlmKCFyYW5nZSB8fCAhcmFuZ2UucyB8fCAhcmFuZ2UuZSkgcmFuZ2UgPSB7czp7cjowLGM6MH0sZTp7cjowLGM6MH19O1xuXHRcdGlmKGNlbGwuciA8IHJhbmdlLnMucikgcmFuZ2Uucy5yID0gY2VsbC5yO1xuXHRcdGlmKGNlbGwuYyA8IHJhbmdlLnMuYykgcmFuZ2Uucy5jID0gY2VsbC5jO1xuXHRcdGlmKGNlbGwuciArIDEgPiByYW5nZS5lLnIpIHJhbmdlLmUuciA9IGNlbGwuciArIDE7XG5cdFx0aWYoY2VsbC5jICsgMSA+IHJhbmdlLmUuYykgcmFuZ2UuZS5jID0gY2VsbC5jICsgMTtcblx0XHRpZihvcHRpb25zLmNlbGxGb3JtdWxhICYmIGxpbmUuZikge1xuXHRcdFx0Zm9yKHZhciBhZmkgPSAwOyBhZmkgPCBhcnJheWYubGVuZ3RoOyArK2FmaSkge1xuXHRcdFx0XHRpZihhcnJheWZbYWZpXVswXS5zLmMgPiBjZWxsLmMgfHwgYXJyYXlmW2FmaV1bMF0ucy5yID4gY2VsbC5yKSBjb250aW51ZTtcblx0XHRcdFx0aWYoYXJyYXlmW2FmaV1bMF0uZS5jIDwgY2VsbC5jIHx8IGFycmF5ZlthZmldWzBdLmUuciA8IGNlbGwucikgY29udGludWU7XG5cdFx0XHRcdGxpbmUuRiA9IGVuY29kZV9yYW5nZShhcnJheWZbYWZpXVswXSk7XG5cdFx0XHRcdGlmKGFycmF5ZlthZmldWzBdLnMuYyAhPSBjZWxsLmMgfHwgYXJyYXlmW2FmaV1bMF0ucy5yICE9IGNlbGwucikgZGVsZXRlIGxpbmUuZjtcblx0XHRcdFx0aWYobGluZS5mKSBsaW5lLmYgPSBcIlwiICsgc3RyaW5naWZ5X2Zvcm11bGEoYXJyYXlmW2FmaV1bMV0sIHJhbmdlLCBjZWxsLCBzdXBib29rcywgb3B0cyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR7XG5cdFx0XHRpZihvcHRpb25zLmRlbnNlKSB7XG5cdFx0XHRcdGlmKCFvdXRbXCIhZGF0YVwiXVtjZWxsLnJdKSBvdXRbXCIhZGF0YVwiXVtjZWxsLnJdID0gW107XG5cdFx0XHRcdG91dFtcIiFkYXRhXCJdW2NlbGwucl1bY2VsbC5jXSA9IGxpbmU7XG5cdFx0XHR9IGVsc2Ugb3V0W2xhc3RfY2VsbF0gPSBsaW5lO1xuXHRcdH1cblx0fTtcblx0dmFyIG9wdHMgPSAoe1xuXHRcdGVuYzogZmFsc2UsIC8vIGVuY3J5cHRlZFxuXHRcdHNiY2NoOiAwLCAvLyBjY2ggaW4gdGhlIHByZWNlZGluZyBTdXBCb29rXG5cdFx0c25hbWVzOiBbXSwgLy8gc2hlZXRuYW1lc1xuXHRcdHNoYXJlZGY6IHNoYXJlZGYsIC8vIHNoYXJlZCBmb3JtdWxhZSBieSBhZGRyZXNzXG5cdFx0YXJyYXlmOiBhcnJheWYsIC8vIGFycmF5IGZvcm11bGFlIGFycmF5XG5cdFx0cnJ0YWJpZDogW10sIC8vIFJSVGFiSWRcblx0XHRsYXN0dXNlcjogXCJcIiwgLy8gTGFzdCBVc2VyIGZyb20gV3JpdGVBY2Nlc3Ncblx0XHRiaWZmOiA4LCAvLyBCSUZGIHZlcnNpb25cblx0XHRjb2RlcGFnZTogMCwgLy8gQ1AgZnJvbSBDb2RlUGFnZSByZWNvcmRcblx0XHR3aW5sb2NrZWQ6IDAsIC8vIGZMb2NrV24gZnJvbSBXaW5Qcm90ZWN0XG5cdFx0Y2VsbFN0eWxlczogISFvcHRpb25zICYmICEhb3B0aW9ucy5jZWxsU3R5bGVzLFxuXHRcdFdURjogISFvcHRpb25zICYmICEhb3B0aW9ucy53dGZcblx0fS8qOmFueSovKTtcblx0aWYob3B0aW9ucy5wYXNzd29yZCkgb3B0cy5wYXNzd29yZCA9IG9wdGlvbnMucGFzc3dvcmQ7XG5cdHZhciB0aGVtZXM7XG5cdHZhciBtZXJnZXMvKjpBcnJheTxSYW5nZT4qLyA9IFtdO1xuXHR2YXIgb2JqZWN0cyA9IFtdO1xuXHR2YXIgY29saW5mby8qOkFycmF5PENvbEluZm8+Ki8gPSBbXSwgcm93aW5mby8qOkFycmF5PFJvd0luZm8+Ki8gPSBbXTtcblx0dmFyIHNlZW5jb2wgPSBmYWxzZTtcblx0dmFyIHN1cGJvb2tzID0gKFtdLyo6YW55Ki8pOyAvLyAxLWluZGV4ZWQsIHdpbGwgaG9sZCBleHRlcm4gbmFtZXNcblx0c3VwYm9va3MuU2hlZXROYW1lcyA9IG9wdHMuc25hbWVzO1xuXHRzdXBib29rcy5zaGFyZWRmID0gb3B0cy5zaGFyZWRmO1xuXHRzdXBib29rcy5hcnJheWYgPSBvcHRzLmFycmF5Zjtcblx0c3VwYm9va3MubmFtZXMgPSBbXTtcblx0c3VwYm9va3MuWFRJID0gW107XG5cdHZhciBsYXN0X1JUID0gMDtcblx0dmFyIGZpbGVfZGVwdGggPSAwOyAvKiBUT0RPOiBtYWtlIGEgcmVhbCBzdGFjayAqL1xuXHR2YXIgQklGRjJGbXQgPSAwLCBCSUZGMkZtdFRhYmxlLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHZhciBGaWx0ZXJEYXRhYmFzZXMgPSBbXTsgLyogVE9ETzogc29ydCBvdXQgc3VwYm9va3MgYW5kIHByb2Nlc3MgZWxzZXdoZXJlICovXG5cdHZhciBsYXN0X2xibC8qOj9EZWZpbmVkTmFtZSovO1xuXG5cdC8qIGV4cGxpY2l0IG92ZXJyaWRlIGZvciBzb21lIGJyb2tlbiB3cml0ZXJzICovXG5cdG9wdHMuY29kZXBhZ2UgPSAxMjAwO1xuXHRzZXRfY3AoMTIwMCk7XG5cdHZhciBzZWVuX2NvZGVwYWdlID0gZmFsc2U7XG5cdHdoaWxlKGJsb2IubCA8IGJsb2IubGVuZ3RoIC0gMSkge1xuXHRcdHZhciBzID0gYmxvYi5sO1xuXHRcdHZhciBSZWNvcmRUeXBlID0gYmxvYi5yZWFkX3NoaWZ0KDIpO1xuXHRcdGlmKFJlY29yZFR5cGUgPT09IDAgJiYgbGFzdF9SVCA9PT0gMHgwMDBhIC8qIEVPRiAqLykgYnJlYWs7XG5cdFx0dmFyIGxlbmd0aCA9IChibG9iLmwgPT09IGJsb2IubGVuZ3RoID8gMCA6IGJsb2IucmVhZF9zaGlmdCgyKSk7XG5cdFx0dmFyIFIgPSBYTFNSZWNvcmRFbnVtW1JlY29yZFR5cGVdO1xuXHRcdGlmKGZpbGVfZGVwdGggPT0gMCAmJiBbMHgwMDA5LCAweDAyMDksIDB4MDQwOSwgMHgwODA5XS5pbmRleE9mKFJlY29yZFR5cGUpID09IC0xIC8qIEJPRiAqLykgYnJlYWs7XG5cdFx0Ly9jb25zb2xlLmxvZyhSZWNvcmRUeXBlLnRvU3RyaW5nKDE2KSwgUmVjb3JkVHlwZSwgUiwgYmxvYi5sLCBsZW5ndGgsIGJsb2IubGVuZ3RoKTtcblx0XHQvL2lmKCFSKSBjb25zb2xlLmxvZyhibG9iLnNsaWNlKGJsb2IubCwgYmxvYi5sICsgbGVuZ3RoKSk7XG5cdFx0aWYoUiAmJiBSLmYpIHtcblx0XHRcdGlmKG9wdGlvbnMuYm9va1NoZWV0cykge1xuXHRcdFx0XHRpZihsYXN0X1JUID09PSAweDAwODUgLyogQm91bmRTaGVldDggKi8gJiYgUmVjb3JkVHlwZSAhPT0gMHgwMDg1IC8qIFIubiAhPT0gJ0JvdW5kU2hlZXQ4JyAqLykgYnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRsYXN0X1JUID0gUmVjb3JkVHlwZTtcblx0XHRcdGlmKFIuciA9PT0gMiB8fCBSLnIgPT0gMTIpIHtcblx0XHRcdFx0dmFyIHJ0ID0gYmxvYi5yZWFkX3NoaWZ0KDIpOyBsZW5ndGggLT0gMjtcblx0XHRcdFx0aWYoIW9wdHMuZW5jICYmIHJ0ICE9PSBSZWNvcmRUeXBlICYmICgoKHJ0JjB4RkYpPDw4KXwocnQ+PjgpKSAhPT0gUmVjb3JkVHlwZSkgdGhyb3cgbmV3IEVycm9yKFwicnQgbWlzbWF0Y2g6IFwiICsgcnQgKyBcIiE9XCIgKyBSZWNvcmRUeXBlKTtcblx0XHRcdFx0aWYoUi5yID09IDEyKXtcblx0XHRcdFx0XHRibG9iLmwgKz0gMTA7IGxlbmd0aCAtPSAxMDtcblx0XHRcdFx0fSAvLyBza2lwIEZSVFxuXHRcdFx0fVxuXHRcdFx0Ly9jb25zb2xlLmVycm9yKFIsYmxvYi5sLGxlbmd0aCxibG9iLmxlbmd0aCk7XG5cdFx0XHR2YXIgdmFsLyo6YW55Ki8gPSAoe30vKjphbnkqLyk7XG5cdFx0XHRpZihSZWNvcmRUeXBlID09PSAweDAwMGEgLyogRU9GICovKSB2YWwgPSAvKjo6KCovUi5mKGJsb2IsIGxlbmd0aCwgb3B0cykvKjo6IDphbnkpKi87XG5cdFx0XHRlbHNlIHZhbCA9IC8qOjooKi9zbHVycChSZWNvcmRUeXBlLCBSLCBibG9iLCBsZW5ndGgsIG9wdHMpLyo6OiA6YW55KSovO1xuXHRcdFx0Lyo6OiB2YWwgPSAodmFsOmFueSk7ICovXG5cdFx0XHRpZihmaWxlX2RlcHRoID09IDAgJiYgWzB4MDAwOSwgMHgwMjA5LCAweDA0MDksIDB4MDgwOV0uaW5kZXhPZihsYXN0X1JUKSA9PT0gLTEgLyogQk9GICovKSBjb250aW51ZTtcblx0XHRcdHN3aXRjaChSZWNvcmRUeXBlKSB7XG5cdFx0XHRcdGNhc2UgMHgwMDIyIC8qIERhdGUxOTA0ICovOlxuXHRcdFx0XHRcdC8qOjogaWYoIVdvcmtib29rLldCUHJvcHMpIFdvcmtib29rLldCUHJvcHMgPSB7fTsgKi9cblx0XHRcdFx0XHR3Yi5vcHRzLkRhdGUxOTA0ID0gV29ya2Jvb2suV0JQcm9wcy5kYXRlMTkwNCA9IHZhbDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMDg2IC8qIFdyaXRlUHJvdGVjdCAqLzogd2Iub3B0cy5Xcml0ZVByb3RlY3QgPSB0cnVlOyBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMmYgLyogRmlsZVBhc3MgKi86XG5cdFx0XHRcdFx0aWYoIW9wdHMuZW5jKSBibG9iLmwgPSAwO1xuXHRcdFx0XHRcdG9wdHMuZW5jID0gdmFsO1xuXHRcdFx0XHRcdGlmKCFvcHRpb25zLnBhc3N3b3JkKSB0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIGlzIHBhc3N3b3JkLXByb3RlY3RlZFwiKTtcblx0XHRcdFx0XHRpZih2YWwudmFsaWQgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGlvbiBzY2hlbWUgdW5zdXBwb3J0ZWRcIik7XG5cdFx0XHRcdFx0aWYoIXZhbC52YWxpZCkgdGhyb3cgbmV3IEVycm9yKFwiUGFzc3dvcmQgaXMgaW5jb3JyZWN0XCIpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDA1YyAvKiBXcml0ZUFjY2VzcyAqLzogb3B0cy5sYXN0dXNlciA9IHZhbDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMDQyIC8qIENvZGVQYWdlICovOlxuXHRcdFx0XHRcdHZhciBjcHZhbCA9IE51bWJlcih2YWwpO1xuXHRcdFx0XHRcdC8qIG92ZXJyaWRlcyBiYXNlZCBvbiB0ZXN0IGNhc2VzICovXG5cdFx0XHRcdFx0c3dpdGNoKGNwdmFsKSB7XG5cdFx0XHRcdFx0XHRjYXNlIDB4NTIxMjogY3B2YWwgPSAgMTIwMDsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIDB4ODAwMDogY3B2YWwgPSAxMDAwMDsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIDB4ODAwMTogY3B2YWwgPSAgMTI1MjsgYnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNldF9jcChvcHRzLmNvZGVwYWdlID0gY3B2YWwpO1xuXHRcdFx0XHRcdHNlZW5fY29kZXBhZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDEzZCAvKiBSUlRhYklkICovOiBvcHRzLnJydGFiaWQgPSB2YWw7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDAxOSAvKiBXaW5Qcm90ZWN0ICovOiBvcHRzLndpbmxvY2tlZCA9IHZhbDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMWI3IC8qIFJlZnJlc2hBbGwgKi86IHdiLm9wdHNbXCJSZWZyZXNoQWxsXCJdID0gdmFsOyBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMGMgLyogQ2FsY0NvdW50ICovOiB3Yi5vcHRzW1wiQ2FsY0NvdW50XCJdID0gdmFsOyBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMTAgLyogQ2FsY0RlbHRhICovOiB3Yi5vcHRzW1wiQ2FsY0RlbHRhXCJdID0gdmFsOyBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMTEgLyogQ2FsY0l0ZXIgKi86IHdiLm9wdHNbXCJDYWxjSXRlclwiXSA9IHZhbDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMDBkIC8qIENhbGNNb2RlICovOiB3Yi5vcHRzW1wiQ2FsY01vZGVcIl0gPSB2YWw7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDAwZSAvKiBDYWxjUHJlY2lzaW9uICovOiB3Yi5vcHRzW1wiQ2FsY1ByZWNpc2lvblwiXSA9IHZhbDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMDVmIC8qIENhbGNTYXZlUmVjYWxjICovOiB3Yi5vcHRzW1wiQ2FsY1NhdmVSZWNhbGNcIl0gPSB2YWw7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDAwZiAvKiBDYWxjUmVmTW9kZSAqLzogb3B0cy5DYWxjUmVmTW9kZSA9IHZhbDsgYnJlYWs7IC8vIFRPRE86IGltcGxlbWVudCBSMUMxXG5cdFx0XHRcdGNhc2UgMHgwOGEzIC8qIEZvcmNlRnVsbENhbGN1bGF0aW9uICovOiB3Yi5vcHRzLkZ1bGxDYWxjID0gdmFsOyBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwODEgLyogV3NCb29sICovOlxuXHRcdFx0XHRcdGlmKHZhbC5mRGlhbG9nKSBvdXRbXCIhdHlwZVwiXSA9IFwiZGlhbG9nXCI7XG5cdFx0XHRcdFx0aWYoIXZhbC5mQmVsb3cpIChvdXRbXCIhb3V0bGluZVwiXSB8fCAob3V0W1wiIW91dGxpbmVcIl0gPSB7fSkpLmFib3ZlID0gdHJ1ZTtcblx0XHRcdFx0XHRpZighdmFsLmZSaWdodCkgKG91dFtcIiFvdXRsaW5lXCJdIHx8IChvdXRbXCIhb3V0bGluZVwiXSA9IHt9KSkubGVmdCA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7IC8vIFRPRE9cblx0XHRcdFx0Y2FzZSAweDAwNDM6IC8qIEJJRkYyWEYgKi8gY2FzZSAweDAyNDM6IC8qIEJJRkYzWEYgKi8gY2FzZSAweDA0NDM6IC8qIEJJRkY0WEYgKi9cblx0XHRcdFx0Y2FzZSAweDAwZTAgLyogWEYgKi86XG5cdFx0XHRcdFx0WEZzLnB1c2godmFsKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMWFlIC8qIFN1cEJvb2sgKi86XG5cdFx0XHRcdFx0c3VwYm9va3MucHVzaChbdmFsXSk7XG5cdFx0XHRcdFx0c3VwYm9va3Nbc3VwYm9va3MubGVuZ3RoLTFdLlhUSSA9IFtdO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDAyMzogY2FzZSAweDAyMjMgLyogRXh0ZXJuTmFtZSAqLzpcblx0XHRcdFx0XHRzdXBib29rc1tzdXBib29rcy5sZW5ndGgtMV0ucHVzaCh2YWwpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDAxODogY2FzZSAweDAyMTggLyogTGJsICovOlxuXHRcdFx0XHRcdGxhc3RfbGJsID0gKHtcblx0XHRcdFx0XHRcdE5hbWU6IHZhbC5OYW1lLFxuXHRcdFx0XHRcdFx0UmVmOiBzdHJpbmdpZnlfZm9ybXVsYSh2YWwucmdjZSxyYW5nZSxudWxsLHN1cGJvb2tzLG9wdHMpXG5cdFx0XHRcdFx0fS8qOkRlZmluZWROYW1lKi8pO1xuXHRcdFx0XHRcdGlmKHZhbC5pdGFiID4gMCkgbGFzdF9sYmwuU2hlZXQgPSB2YWwuaXRhYiAtIDE7XG5cdFx0XHRcdFx0c3VwYm9va3MubmFtZXMucHVzaChsYXN0X2xibCk7XG5cdFx0XHRcdFx0aWYoIXN1cGJvb2tzWzBdKSB7IHN1cGJvb2tzWzBdID0gW107IHN1cGJvb2tzWzBdLlhUSSA9IFtdOyB9XG5cdFx0XHRcdFx0c3VwYm9va3Nbc3VwYm9va3MubGVuZ3RoLTFdLnB1c2godmFsKTtcblx0XHRcdFx0XHRpZih2YWwuTmFtZSA9PSBcIl94bG5tLl9GaWx0ZXJEYXRhYmFzZVwiICYmIHZhbC5pdGFiID4gMClcblx0XHRcdFx0XHRcdGlmKHZhbC5yZ2NlICYmIHZhbC5yZ2NlWzBdICYmIHZhbC5yZ2NlWzBdWzBdICYmIHZhbC5yZ2NlWzBdWzBdWzBdID09ICdQdGdBcmVhM2QnKVxuXHRcdFx0XHRcdFx0XHRGaWx0ZXJEYXRhYmFzZXNbdmFsLml0YWIgLSAxXSA9IHsgcmVmOiBlbmNvZGVfcmFuZ2UodmFsLnJnY2VbMF1bMF1bMV1bMl0pIH07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMDE2IC8qIEV4dGVybkNvdW50ICovOiBvcHRzLkV4dGVybkNvdW50ID0gdmFsOyBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMTcgLyogRXh0ZXJuU2hlZXQgKi86XG5cdFx0XHRcdFx0aWYoc3VwYm9va3MubGVuZ3RoID09IDApIHsgc3VwYm9va3NbMF0gPSBbXTsgc3VwYm9va3NbMF0uWFRJID0gW107IH1cblx0XHRcdFx0XHRzdXBib29rc1tzdXBib29rcy5sZW5ndGggLSAxXS5YVEkgPSBzdXBib29rc1tzdXBib29rcy5sZW5ndGggLSAxXS5YVEkuY29uY2F0KHZhbCk7IHN1cGJvb2tzLlhUSSA9IHN1cGJvb2tzLlhUSS5jb25jYXQodmFsKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwODk0IC8qIE5hbWVDbXQgKi86XG5cdFx0XHRcdFx0LyogVE9ETzogc2VhcmNoIGZvciBjb3JyZWN0IG5hbWUgKi9cblx0XHRcdFx0XHRpZihvcHRzLmJpZmYgPCA4KSBicmVhaztcblx0XHRcdFx0XHRpZihsYXN0X2xibCAhPSBudWxsKSBsYXN0X2xibC5Db21tZW50ID0gdmFsWzFdO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDAxMiAvKiBQcm90ZWN0ICovOiBvdXRbXCIhcHJvdGVjdFwiXSA9IHZhbDsgYnJlYWs7IC8qIGZvciBzaGVldCBvciBib29rICovXG5cdFx0XHRcdGNhc2UgMHgwMDEzIC8qIFBhc3N3b3JkICovOiBpZih2YWwgIT09IDAgJiYgb3B0cy5XVEYpIGNvbnNvbGUuZXJyb3IoXCJQYXNzd29yZCB2ZXJpZmllcjogXCIgKyB2YWwpOyBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwODUgLyogQm91bmRTaGVldDggKi86IHtcblx0XHRcdFx0XHREaXJlY3Rvcnlbb3B0cy5iaWZmID09IDQgPyBvcHRzLnNuYW1lcy5sZW5ndGggOiB2YWwucG9zXSA9IHZhbDtcblx0XHRcdFx0XHRvcHRzLnNuYW1lcy5wdXNoKHZhbC5uYW1lKTtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMGEgLyogRU9GICovOiB7XG5cdFx0XHRcdFx0aWYoLS1maWxlX2RlcHRoID8gIWJpZmY0dyA6IGJpZmY0dykgYnJlYWs7XG5cdFx0XHRcdFx0aWYocmFuZ2UuZSkge1xuXHRcdFx0XHRcdFx0aWYocmFuZ2UuZS5yID4gMCAmJiByYW5nZS5lLmMgPiAwKSB7XG5cdFx0XHRcdFx0XHRcdHJhbmdlLmUuci0tOyByYW5nZS5lLmMtLTtcblx0XHRcdFx0XHRcdFx0b3V0W1wiIXJlZlwiXSA9IGVuY29kZV9yYW5nZShyYW5nZSk7XG5cdFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMuc2hlZXRSb3dzICYmIG9wdGlvbnMuc2hlZXRSb3dzIDw9IHJhbmdlLmUucikge1xuXHRcdFx0XHRcdFx0XHRcdHZhciB0bXByaSA9IHJhbmdlLmUucjtcblx0XHRcdFx0XHRcdFx0XHRyYW5nZS5lLnIgPSBvcHRpb25zLnNoZWV0Um93cyAtIDE7XG5cdFx0XHRcdFx0XHRcdFx0b3V0W1wiIWZ1bGxyZWZcIl0gPSBvdXRbXCIhcmVmXCJdO1xuXHRcdFx0XHRcdFx0XHRcdG91dFtcIiFyZWZcIl0gPSBlbmNvZGVfcmFuZ2UocmFuZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdHJhbmdlLmUuciA9IHRtcHJpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJhbmdlLmUucisrOyByYW5nZS5lLmMrKztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKG1lcmdlcy5sZW5ndGggPiAwKSBvdXRbXCIhbWVyZ2VzXCJdID0gbWVyZ2VzO1xuXHRcdFx0XHRcdFx0aWYob2JqZWN0cy5sZW5ndGggPiAwKSBvdXRbXCIhb2JqZWN0c1wiXSA9IG9iamVjdHM7XG5cdFx0XHRcdFx0XHRpZihjb2xpbmZvLmxlbmd0aCA+IDApIG91dFtcIiFjb2xzXCJdID0gY29saW5mbztcblx0XHRcdFx0XHRcdGlmKHJvd2luZm8ubGVuZ3RoID4gMCkgb3V0W1wiIXJvd3NcIl0gPSByb3dpbmZvO1xuXHRcdFx0XHRcdFx0V29ya2Jvb2suU2hlZXRzLnB1c2god3Nwcm9wcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKGN1cl9zaGVldCA9PT0gXCJcIikgUHJlYW1ibGUgPSBvdXQ7IGVsc2UgU2hlZXRzW2N1cl9zaGVldF0gPSBvdXQ7XG5cdFx0XHRcdFx0b3V0ID0gKHt9Lyo6YW55Ki8pOyBpZihvcHRpb25zLmRlbnNlKSBvdXRbXCIhZGF0YVwiXSA9IFtdO1xuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDAwOTogY2FzZSAweDAyMDk6IGNhc2UgMHgwNDA5OiBjYXNlIDB4MDgwOSAvKiBCT0YgKi86IHtcblx0XHRcdFx0XHRpZihvcHRzLmJpZmYgPT09IDgpIG9wdHMuYmlmZiA9IHtcblx0XHRcdFx0XHRcdDB4MDAwOTogMixcblx0XHRcdFx0XHRcdDB4MDIwOTogMyxcblx0XHRcdFx0XHRcdDB4MDQwOTogNFxuXHRcdFx0XHRcdH1bUmVjb3JkVHlwZV0gfHwge1xuXHRcdFx0XHRcdFx0MHgwMjAwOiAyLFxuXHRcdFx0XHRcdFx0MHgwMzAwOiAzLFxuXHRcdFx0XHRcdFx0MHgwNDAwOiA0LFxuXHRcdFx0XHRcdFx0MHgwNTAwOiA1LFxuXHRcdFx0XHRcdFx0MHgwNjAwOiA4LFxuXHRcdFx0XHRcdFx0MHgwMDAyOiAyLFxuXHRcdFx0XHRcdFx0MHgwMDA3OiAyXG5cdFx0XHRcdFx0fVt2YWwuQklGRlZlcl0gfHwgODtcblx0XHRcdFx0XHRvcHRzLmJpZmZndWVzcyA9IHZhbC5CSUZGVmVyID09IDA7XG5cdFx0XHRcdFx0aWYodmFsLkJJRkZWZXIgPT0gMCAmJiB2YWwuZHQgPT0gMHgxMDAwKSB7IG9wdHMuYmlmZiA9IDU7IHNlZW5fY29kZXBhZ2UgPSB0cnVlOyBzZXRfY3Aob3B0cy5jb2RlcGFnZSA9IDI4NTkxKTsgfVxuXHRcdFx0XHRcdGlmKG9wdHMuYmlmZiA9PSA0ICYmIHZhbC5kdCAmIDB4MTAwKSBiaWZmNHcgPSB0cnVlO1xuXHRcdFx0XHRcdGlmKG9wdHMuYmlmZiA9PSA4ICYmIHZhbC5CSUZGVmVyID09IDAgJiYgdmFsLmR0ID09IDE2KSBvcHRzLmJpZmYgPSAyO1xuXHRcdFx0XHRcdGlmKGZpbGVfZGVwdGgrKyAmJiAhYmlmZjR3KSBicmVhaztcblx0XHRcdFx0XHRvdXQgPSAoe30vKjphbnkqLyk7IGlmKG9wdGlvbnMuZGVuc2UpIG91dFtcIiFkYXRhXCJdID0gW107XG5cblx0XHRcdFx0XHRpZihvcHRzLmJpZmYgPCA4ICYmICFzZWVuX2NvZGVwYWdlKSB7IHNlZW5fY29kZXBhZ2UgPSB0cnVlOyBzZXRfY3Aob3B0cy5jb2RlcGFnZSA9IG9wdGlvbnMuY29kZXBhZ2UgfHwgMTI1Mik7IH1cblx0XHRcdFx0XHRpZihvcHRzLmJpZmYgPT0gNCAmJiBiaWZmNHcpIHtcblx0XHRcdFx0XHRcdGN1cl9zaGVldCA9IChEaXJlY3Rvcnlbb3B0cy5zbmFtZXMuaW5kZXhPZihjdXJfc2hlZXQpKzFdIHx8IHtuYW1lOlwiXCJ9KS5uYW1lO1xuXHRcdFx0XHRcdH0gZWxzZSBpZihvcHRzLmJpZmYgPCA1IHx8IHZhbC5CSUZGVmVyID09IDAgJiYgdmFsLmR0ID09IDB4MTAwMCkge1xuXHRcdFx0XHRcdFx0aWYoY3VyX3NoZWV0ID09PSBcIlwiKSBjdXJfc2hlZXQgPSBcIlNoZWV0MVwiO1xuXHRcdFx0XHRcdFx0cmFuZ2UgPSB7czp7cjowLGM6MH0sZTp7cjowLGM6MH19O1xuXHRcdFx0XHRcdFx0LyogZmFrZSBCb3VuZFNoZWV0OCAqL1xuXHRcdFx0XHRcdFx0dmFyIGZha2ViczggPSB7cG9zOiBibG9iLmwgLSBsZW5ndGgsIG5hbWU6Y3VyX3NoZWV0fTtcblx0XHRcdFx0XHRcdERpcmVjdG9yeVtmYWtlYnM4LnBvc10gPSBmYWtlYnM4O1xuXHRcdFx0XHRcdFx0b3B0cy5zbmFtZXMucHVzaChjdXJfc2hlZXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGN1cl9zaGVldCA9IChEaXJlY3Rvcnlbc10gfHwge25hbWU6XCJcIn0pLm5hbWU7XG5cdFx0XHRcdFx0aWYodmFsLmR0ID09IDB4MjApIG91dFtcIiF0eXBlXCJdID0gXCJjaGFydFwiO1xuXHRcdFx0XHRcdGlmKHZhbC5kdCA9PSAweDQwKSBvdXRbXCIhdHlwZVwiXSA9IFwibWFjcm9cIjtcblx0XHRcdFx0XHRtZXJnZXMgPSBbXTtcblx0XHRcdFx0XHRvYmplY3RzID0gW107XG5cdFx0XHRcdFx0b3B0cy5hcnJheWYgPSBhcnJheWYgPSBbXTtcblx0XHRcdFx0XHRjb2xpbmZvID0gW107IHJvd2luZm8gPSBbXTtcblx0XHRcdFx0XHRzZWVuY29sID0gZmFsc2U7XG5cdFx0XHRcdFx0d3Nwcm9wcyA9IHtIaWRkZW46KERpcmVjdG9yeVtzXXx8e2hzOjB9KS5ocywgbmFtZTpjdXJfc2hlZXQgfTtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAyMDMgLyogTnVtYmVyICovOiBjYXNlIDB4MDAwMyAvKiBCSUZGMk5VTSAqLzogY2FzZSAweDAwMDIgLyogQklGRjJJTlQgKi86IHtcblx0XHRcdFx0XHRpZihvdXRbXCIhdHlwZVwiXSA9PSBcImNoYXJ0XCIpIGlmKG9wdGlvbnMuZGVuc2UgPyAob3V0W1wiIWRhdGFcIl1bdmFsLnJdfHxbXSlbdmFsLmNdOiBvdXRbZW5jb2RlX2NvbCh2YWwuYykgKyBlbmNvZGVfcm93KHZhbC5yKV0pICsrdmFsLmM7XG5cdFx0XHRcdFx0dGVtcF92YWwgPSAoe2l4ZmU6IHZhbC5peGZlLCBYRjogWEZzW3ZhbC5peGZlXXx8e30sIHY6dmFsLnZhbCwgdDonbid9Lyo6YW55Ki8pO1xuXHRcdFx0XHRcdGlmKEJJRkYyRm10ID4gMCkgdGVtcF92YWwueiA9ICh0ZW1wX3ZhbC5YRiAmJiB0ZW1wX3ZhbC5YRi5udW1GbXRJZCkgJiYgQklGRjJGbXRUYWJsZVt0ZW1wX3ZhbC5YRi5udW1GbXRJZF0gfHwgQklGRjJGbXRUYWJsZVsodGVtcF92YWwuaXhmZT4+OCkgJiAweDNGXTtcblx0XHRcdFx0XHRzYWZlX2Zvcm1hdF94Zih0ZW1wX3ZhbCwgb3B0aW9ucywgd2Iub3B0cy5EYXRlMTkwNCk7XG5cdFx0XHRcdFx0YWRkY2VsbCh7Yzp2YWwuYywgcjp2YWwucn0sIHRlbXBfdmFsLCBvcHRpb25zKTtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMDU6IGNhc2UgMHgwMjA1IC8qIEJvb2xFcnIgKi86IHtcblx0XHRcdFx0XHR0ZW1wX3ZhbCA9ICh7aXhmZTogdmFsLml4ZmUsIFhGOiBYRnNbdmFsLml4ZmVdLCB2OnZhbC52YWwsIHQ6dmFsLnR9Lyo6YW55Ki8pO1xuXHRcdFx0XHRcdGlmKEJJRkYyRm10ID4gMCkgdGVtcF92YWwueiA9ICh0ZW1wX3ZhbC5YRiAmJiB0ZW1wX3ZhbC5YRi5udW1GbXRJZCkgJiYgQklGRjJGbXRUYWJsZVt0ZW1wX3ZhbC5YRi5udW1GbXRJZF0gfHwgQklGRjJGbXRUYWJsZVsodGVtcF92YWwuaXhmZT4+OCkgJiAweDNGXTtcblx0XHRcdFx0XHRzYWZlX2Zvcm1hdF94Zih0ZW1wX3ZhbCwgb3B0aW9ucywgd2Iub3B0cy5EYXRlMTkwNCk7XG5cdFx0XHRcdFx0YWRkY2VsbCh7Yzp2YWwuYywgcjp2YWwucn0sIHRlbXBfdmFsLCBvcHRpb25zKTtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAyN2UgLyogUksgKi86IHtcblx0XHRcdFx0XHR0ZW1wX3ZhbCA9ICh7aXhmZTogdmFsLml4ZmUsIFhGOiBYRnNbdmFsLml4ZmVdLCB2OnZhbC5ya251bSwgdDonbid9Lyo6YW55Ki8pO1xuXHRcdFx0XHRcdGlmKEJJRkYyRm10ID4gMCkgdGVtcF92YWwueiA9ICh0ZW1wX3ZhbC5YRiAmJiB0ZW1wX3ZhbC5YRi5udW1GbXRJZCkgJiYgQklGRjJGbXRUYWJsZVt0ZW1wX3ZhbC5YRi5udW1GbXRJZF0gfHwgQklGRjJGbXRUYWJsZVsodGVtcF92YWwuaXhmZT4+OCkgJiAweDNGXTtcblx0XHRcdFx0XHRzYWZlX2Zvcm1hdF94Zih0ZW1wX3ZhbCwgb3B0aW9ucywgd2Iub3B0cy5EYXRlMTkwNCk7XG5cdFx0XHRcdFx0YWRkY2VsbCh7Yzp2YWwuYywgcjp2YWwucn0sIHRlbXBfdmFsLCBvcHRpb25zKTtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwYmQgLyogTXVsUmsgKi86IHtcblx0XHRcdFx0XHRmb3IodmFyIGogPSB2YWwuYzsgaiA8PSB2YWwuQzsgKytqKSB7XG5cdFx0XHRcdFx0XHR2YXIgaXhmZSA9IHZhbC5ya3JlY1tqLXZhbC5jXVswXTtcblx0XHRcdFx0XHRcdHRlbXBfdmFsPSAoe2l4ZmU6aXhmZSwgWEY6WEZzW2l4ZmVdLCB2OnZhbC5ya3JlY1tqLXZhbC5jXVsxXSwgdDonbid9Lyo6YW55Ki8pO1xuXHRcdFx0XHRcdFx0aWYoQklGRjJGbXQgPiAwKSB0ZW1wX3ZhbC56ID0gKHRlbXBfdmFsLlhGICYmIHRlbXBfdmFsLlhGLm51bUZtdElkKSAmJiBCSUZGMkZtdFRhYmxlW3RlbXBfdmFsLlhGLm51bUZtdElkXSB8fCBCSUZGMkZtdFRhYmxlWyh0ZW1wX3ZhbC5peGZlPj44KSAmIDB4M0ZdO1xuXHRcdFx0XHRcdFx0c2FmZV9mb3JtYXRfeGYodGVtcF92YWwsIG9wdGlvbnMsIHdiLm9wdHMuRGF0ZTE5MDQpO1xuXHRcdFx0XHRcdFx0YWRkY2VsbCh7YzpqLCByOnZhbC5yfSwgdGVtcF92YWwsIG9wdGlvbnMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMDY6IGNhc2UgMHgwMjA2OiBjYXNlIDB4MDQwNiAvKiBGb3JtdWxhICovOiB7XG5cdFx0XHRcdFx0aWYodmFsLnZhbCA9PSAnU3RyaW5nJykgeyBsYXN0X2Zvcm11bGEgPSB2YWw7IGJyZWFrOyB9XG5cdFx0XHRcdFx0dGVtcF92YWwgPSBtYWtlX2NlbGwodmFsLnZhbCwgdmFsLmNlbGwuaXhmZSwgdmFsLnR0KTtcblx0XHRcdFx0XHR0ZW1wX3ZhbC5YRiA9IFhGc1t0ZW1wX3ZhbC5peGZlXTtcblx0XHRcdFx0XHRpZihvcHRpb25zLmNlbGxGb3JtdWxhKSB7XG5cdFx0XHRcdFx0XHR2YXIgX2YgPSB2YWwuZm9ybXVsYTtcblx0XHRcdFx0XHRcdGlmKF9mICYmIF9mWzBdICYmIF9mWzBdWzBdICYmIF9mWzBdWzBdWzBdID09ICdQdGdFeHAnKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBfZnIgPSBfZlswXVswXVsxXVswXSwgX2ZjID0gX2ZbMF1bMF1bMV1bMV07XG5cdFx0XHRcdFx0XHRcdHZhciBfZmUgPSBlbmNvZGVfY2VsbCh7cjpfZnIsIGM6X2ZjfSk7XG5cdFx0XHRcdFx0XHRcdGlmKHNoYXJlZGZbX2ZlXSkgdGVtcF92YWwuZiA9IFwiXCIrc3RyaW5naWZ5X2Zvcm11bGEodmFsLmZvcm11bGEscmFuZ2UsdmFsLmNlbGwsc3VwYm9va3MsIG9wdHMpO1xuXHRcdFx0XHRcdFx0XHRlbHNlIHRlbXBfdmFsLkYgPSAoKG9wdGlvbnMuZGVuc2UgPyAob3V0W1wiIWRhdGFcIl1bX2ZyXXx8W10pW19mY106IG91dFtfZmVdKSB8fCB7fSkuRjtcblx0XHRcdFx0XHRcdH0gZWxzZSB0ZW1wX3ZhbC5mID0gXCJcIitzdHJpbmdpZnlfZm9ybXVsYSh2YWwuZm9ybXVsYSxyYW5nZSx2YWwuY2VsbCxzdXBib29rcywgb3B0cyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKEJJRkYyRm10ID4gMCkgdGVtcF92YWwueiA9ICh0ZW1wX3ZhbC5YRiAmJiB0ZW1wX3ZhbC5YRi5udW1GbXRJZCkgJiYgQklGRjJGbXRUYWJsZVt0ZW1wX3ZhbC5YRi5udW1GbXRJZF0gfHwgQklGRjJGbXRUYWJsZVsodGVtcF92YWwuaXhmZT4+OCkgJiAweDNGXTtcblx0XHRcdFx0XHRzYWZlX2Zvcm1hdF94Zih0ZW1wX3ZhbCwgb3B0aW9ucywgd2Iub3B0cy5EYXRlMTkwNCk7XG5cdFx0XHRcdFx0YWRkY2VsbCh2YWwuY2VsbCwgdGVtcF92YWwsIG9wdGlvbnMpO1xuXHRcdFx0XHRcdGxhc3RfZm9ybXVsYSA9IHZhbDtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMDc6IGNhc2UgMHgwMjA3IC8qIFN0cmluZyAqLzoge1xuXHRcdFx0XHRcdGlmKGxhc3RfZm9ybXVsYSkgeyAvKiB0ZWNobmljYWxseSBhbHdheXMgdHJ1ZSAqL1xuXHRcdFx0XHRcdFx0bGFzdF9mb3JtdWxhLnZhbCA9IHZhbDtcblx0XHRcdFx0XHRcdHRlbXBfdmFsID0gbWFrZV9jZWxsKHZhbCwgbGFzdF9mb3JtdWxhLmNlbGwuaXhmZSwgJ3MnKTtcblx0XHRcdFx0XHRcdHRlbXBfdmFsLlhGID0gWEZzW3RlbXBfdmFsLml4ZmVdO1xuXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5jZWxsRm9ybXVsYSkge1xuXHRcdFx0XHRcdFx0XHR0ZW1wX3ZhbC5mID0gXCJcIitzdHJpbmdpZnlfZm9ybXVsYShsYXN0X2Zvcm11bGEuZm9ybXVsYSwgcmFuZ2UsIGxhc3RfZm9ybXVsYS5jZWxsLCBzdXBib29rcywgb3B0cyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZihCSUZGMkZtdCA+IDApIHRlbXBfdmFsLnogPSAodGVtcF92YWwuWEYgJiYgdGVtcF92YWwuWEYubnVtRm10SWQpICYmIEJJRkYyRm10VGFibGVbdGVtcF92YWwuWEYubnVtRm10SWRdIHx8IEJJRkYyRm10VGFibGVbKHRlbXBfdmFsLml4ZmU+PjgpICYgMHgzRl07XG5cdFx0XHRcdFx0XHRzYWZlX2Zvcm1hdF94Zih0ZW1wX3ZhbCwgb3B0aW9ucywgd2Iub3B0cy5EYXRlMTkwNCk7XG5cdFx0XHRcdFx0XHRhZGRjZWxsKGxhc3RfZm9ybXVsYS5jZWxsLCB0ZW1wX3ZhbCwgb3B0aW9ucyk7XG5cdFx0XHRcdFx0XHRsYXN0X2Zvcm11bGEgPSBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJTdHJpbmcgcmVjb3JkIGV4cGVjdHMgRm9ybXVsYVwiKTtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMjE6IGNhc2UgMHgwMjIxIC8qIEFycmF5ICovOiB7XG5cdFx0XHRcdFx0YXJyYXlmLnB1c2godmFsKTtcblx0XHRcdFx0XHR2YXIgX2FycmF5c3RhcnQgPSBlbmNvZGVfY2VsbCh2YWxbMF0ucyk7XG5cdFx0XHRcdFx0Y2MgPSBvcHRpb25zLmRlbnNlID8gKG91dFtcIiFkYXRhXCJdW3ZhbFswXS5zLnJdfHxbXSlbdmFsWzBdLnMuY10gOiBvdXRbX2FycmF5c3RhcnRdO1xuXHRcdFx0XHRcdGlmKG9wdGlvbnMuY2VsbEZvcm11bGEgJiYgY2MpIHtcblx0XHRcdFx0XHRcdGlmKCFsYXN0X2Zvcm11bGEpIGJyZWFrOyAvKiB0ZWNobmljYWxseSB1bnJlYWNoYWJsZSAqL1xuXHRcdFx0XHRcdFx0aWYoIV9hcnJheXN0YXJ0IHx8ICFjYykgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYy5mID0gXCJcIitzdHJpbmdpZnlfZm9ybXVsYSh2YWxbMV0sIHJhbmdlLCB2YWxbMF0sIHN1cGJvb2tzLCBvcHRzKTtcblx0XHRcdFx0XHRcdGNjLkYgPSBlbmNvZGVfcmFuZ2UodmFsWzBdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwNGJjIC8qIFNockZtbGEgKi86IHtcblx0XHRcdFx0XHRpZighb3B0aW9ucy5jZWxsRm9ybXVsYSkgYnJlYWs7XG5cdFx0XHRcdFx0aWYobGFzdF9jZWxsKSB7XG5cdFx0XHRcdFx0XHQvKiBUT0RPOiBjYXB0dXJlIHJhbmdlICovXG5cdFx0XHRcdFx0XHRpZighbGFzdF9mb3JtdWxhKSBicmVhazsgLyogdGVjaG5pY2FsbHkgdW5yZWFjaGFibGUgKi9cblx0XHRcdFx0XHRcdHNoYXJlZGZbZW5jb2RlX2NlbGwobGFzdF9mb3JtdWxhLmNlbGwpXT0gdmFsWzBdO1xuXHRcdFx0XHRcdFx0Y2MgPSBvcHRpb25zLmRlbnNlID8gKG91dFtcIiFkYXRhXCJdW2xhc3RfZm9ybXVsYS5jZWxsLnJdfHxbXSlbbGFzdF9mb3JtdWxhLmNlbGwuY10gOiBvdXRbZW5jb2RlX2NlbGwobGFzdF9mb3JtdWxhLmNlbGwpXTtcblx0XHRcdFx0XHRcdChjY3x8e30pLmYgPSBcIlwiK3N0cmluZ2lmeV9mb3JtdWxhKHZhbFswXSwgcmFuZ2UsIGxhc3RjZWxsLCBzdXBib29rcywgb3B0cyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDBmZCAvKiBMYWJlbFNzdCAqLzpcblx0XHRcdFx0XHR0ZW1wX3ZhbD1tYWtlX2NlbGwoc3N0W3ZhbC5pc3N0XS50LCB2YWwuaXhmZSwgJ3MnKTtcblx0XHRcdFx0XHRpZihzc3RbdmFsLmlzc3RdLmgpIHRlbXBfdmFsLmggPSBzc3RbdmFsLmlzc3RdLmg7XG5cdFx0XHRcdFx0dGVtcF92YWwuWEYgPSBYRnNbdGVtcF92YWwuaXhmZV07XG5cdFx0XHRcdFx0aWYoQklGRjJGbXQgPiAwKSB0ZW1wX3ZhbC56ID0gKHRlbXBfdmFsLlhGICYmIHRlbXBfdmFsLlhGLm51bUZtdElkKSAmJiBCSUZGMkZtdFRhYmxlW3RlbXBfdmFsLlhGLm51bUZtdElkXSB8fCBCSUZGMkZtdFRhYmxlWyh0ZW1wX3ZhbC5peGZlPj44KSAmIDB4M0ZdO1xuXHRcdFx0XHRcdHNhZmVfZm9ybWF0X3hmKHRlbXBfdmFsLCBvcHRpb25zLCB3Yi5vcHRzLkRhdGUxOTA0KTtcblx0XHRcdFx0XHRhZGRjZWxsKHtjOnZhbC5jLCByOnZhbC5yfSwgdGVtcF92YWwsIG9wdGlvbnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDIwMSAvKiBCbGFuayAqLzogaWYob3B0aW9ucy5zaGVldFN0dWJzKSB7XG5cdFx0XHRcdFx0dGVtcF92YWwgPSAoe2l4ZmU6IHZhbC5peGZlLCBYRjogWEZzW3ZhbC5peGZlXSwgdDoneid9Lyo6YW55Ki8pO1xuXHRcdFx0XHRcdGlmKEJJRkYyRm10ID4gMCkgdGVtcF92YWwueiA9ICh0ZW1wX3ZhbC5YRiAmJiB0ZW1wX3ZhbC5YRi5udW1GbXRJZCkgJiYgQklGRjJGbXRUYWJsZVt0ZW1wX3ZhbC5YRi5udW1GbXRJZF0gfHwgQklGRjJGbXRUYWJsZVsodGVtcF92YWwuaXhmZT4+OCkgJiAweDNGXTtcblx0XHRcdFx0XHRzYWZlX2Zvcm1hdF94Zih0ZW1wX3ZhbCwgb3B0aW9ucywgd2Iub3B0cy5EYXRlMTkwNCk7XG5cdFx0XHRcdFx0YWRkY2VsbCh7Yzp2YWwuYywgcjp2YWwucn0sIHRlbXBfdmFsLCBvcHRpb25zKTtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwYmUgLyogTXVsQmxhbmsgKi86IGlmKG9wdGlvbnMuc2hlZXRTdHVicykge1xuXHRcdFx0XHRcdGZvcih2YXIgX2ogPSB2YWwuYzsgX2ogPD0gdmFsLkM7ICsrX2opIHtcblx0XHRcdFx0XHRcdHZhciBfaXhmZSA9IHZhbC5peGZlW19qLXZhbC5jXTtcblx0XHRcdFx0XHRcdHRlbXBfdmFsPSAoe2l4ZmU6X2l4ZmUsIFhGOlhGc1tfaXhmZV0sIHQ6J3onfS8qOmFueSovKTtcblx0XHRcdFx0XHRcdGlmKEJJRkYyRm10ID4gMCkgdGVtcF92YWwueiA9ICh0ZW1wX3ZhbC5YRiAmJiB0ZW1wX3ZhbC5YRi5udW1GbXRJZCkgJiYgQklGRjJGbXRUYWJsZVt0ZW1wX3ZhbC5YRi5udW1GbXRJZF0gfHwgQklGRjJGbXRUYWJsZVsodGVtcF92YWwuaXhmZT4+OCkgJiAweDNGXTtcblx0XHRcdFx0XHRcdHNhZmVfZm9ybWF0X3hmKHRlbXBfdmFsLCBvcHRpb25zLCB3Yi5vcHRzLkRhdGUxOTA0KTtcblx0XHRcdFx0XHRcdGFkZGNlbGwoe2M6X2osIHI6dmFsLnJ9LCB0ZW1wX3ZhbCwgb3B0aW9ucyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDBkNiAvKiBSU3RyaW5nICovOlxuXHRcdFx0XHRjYXNlIDB4MDIwNCAvKiBMYWJlbCAqLzogY2FzZSAweDAwMDQgLyogQklGRjJTVFIgKi86XG5cdFx0XHRcdFx0dGVtcF92YWw9bWFrZV9jZWxsKHZhbC52YWwsIHZhbC5peGZlLCAncycpO1xuXHRcdFx0XHRcdHRlbXBfdmFsLlhGID0gWEZzW3RlbXBfdmFsLml4ZmVdO1xuXHRcdFx0XHRcdGlmKEJJRkYyRm10ID4gMCkgdGVtcF92YWwueiA9ICh0ZW1wX3ZhbC5YRiAmJiB0ZW1wX3ZhbC5YRi5udW1GbXRJZCkgJiYgQklGRjJGbXRUYWJsZVt0ZW1wX3ZhbC5YRi5udW1GbXRJZF0gfHwgQklGRjJGbXRUYWJsZVsodGVtcF92YWwuaXhmZT4+OCkgJiAweDNGXTtcblx0XHRcdFx0XHRzYWZlX2Zvcm1hdF94Zih0ZW1wX3ZhbCwgb3B0aW9ucywgd2Iub3B0cy5EYXRlMTkwNCk7XG5cdFx0XHRcdFx0YWRkY2VsbCh7Yzp2YWwuYywgcjp2YWwucn0sIHRlbXBfdmFsLCBvcHRpb25zKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDB4MDAwMDogY2FzZSAweDAyMDAgLyogRGltZW5zaW9ucyAqLzoge1xuXHRcdFx0XHRcdGlmKGZpbGVfZGVwdGggPT09IDEpIHJhbmdlID0gdmFsOyAvKiBUT0RPOiBzdGFjayAqL1xuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDBmYyAvKiBTU1QgKi86IHtcblx0XHRcdFx0XHRzc3QgPSB2YWw7XG5cdFx0XHRcdH0gYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwNDFlIC8qIEZvcm1hdCAqLzogeyAvKiB2YWwgPSBbaWQsIGZtdF0gKi9cblx0XHRcdFx0XHRpZihvcHRzLmJpZmYgPj0gMyAmJiBvcHRzLmJpZmYgPD0gNCkge1xuXHRcdFx0XHRcdFx0QklGRjJGbXRUYWJsZVtCSUZGMkZtdCsrXSA9IHZhbFsxXTtcblx0XHRcdFx0XHRcdGZvcih2YXIgYjRpZHggPSAwOyBiNGlkeCA8IEJJRkYyRm10ICsgMTYzOyArK2I0aWR4KSBpZih0YWJsZV9mbXRbYjRpZHhdID09IHZhbFsxXSkgYnJlYWs7XG5cdFx0XHRcdFx0XHRpZihiNGlkeCA+PSAxNjMpIFNTRl9fbG9hZCh2YWxbMV0sIEJJRkYyRm10ICsgMTYzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBTU0ZfX2xvYWQodmFsWzFdLCB2YWxbMF0pO1xuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDAxZSAvKiBCSUZGMkZPUk1BVCAqLzoge1xuXHRcdFx0XHRcdEJJRkYyRm10VGFibGVbQklGRjJGbXQrK10gPSB2YWw7XG5cdFx0XHRcdFx0Zm9yKHZhciBiMmlkeCA9IDA7IGIyaWR4IDwgQklGRjJGbXQgKyAxNjM7ICsrYjJpZHgpIGlmKHRhYmxlX2ZtdFtiMmlkeF0gPT0gdmFsKSBicmVhaztcblx0XHRcdFx0XHRpZihiMmlkeCA+PSAxNjMpIFNTRl9fbG9hZCh2YWwsIEJJRkYyRm10ICsgMTYzKTtcblx0XHRcdFx0fSBicmVhaztcblxuXHRcdFx0XHRjYXNlIDB4MDBlNSAvKiBNZXJnZUNlbGxzICovOiBtZXJnZXMgPSBtZXJnZXMuY29uY2F0KHZhbCk7IGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMHgwMDVkIC8qIE9iaiAqLzogb2JqZWN0c1t2YWwuY21vWzBdXSA9IG9wdHMubGFzdG9iaiA9IHZhbDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMWI2IC8qIFR4TyAqLzogb3B0cy5sYXN0b2JqLlR4TyA9IHZhbDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMDdmIC8qIEltRGF0YSAqLzogb3B0cy5sYXN0b2JqLkltRGF0YSA9IHZhbDsgYnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAweDAxYjggLyogSExpbmsgKi86IHtcblx0XHRcdFx0XHRmb3Iocm5nUiA9IHZhbFswXS5zLnI7IHJuZ1IgPD0gdmFsWzBdLmUucjsgKytybmdSKVxuXHRcdFx0XHRcdFx0Zm9yKHJuZ0MgPSB2YWxbMF0ucy5jOyBybmdDIDw9IHZhbFswXS5lLmM7ICsrcm5nQykge1xuXHRcdFx0XHRcdFx0XHRjYyA9IG9wdGlvbnMuZGVuc2UgPyAob3V0W1wiIWRhdGFcIl1bcm5nUl18fFtdKVtybmdDXSA6IG91dFtlbmNvZGVfY2VsbCh7YzpybmdDLHI6cm5nUn0pXTtcblx0XHRcdFx0XHRcdFx0aWYoY2MpIGNjLmwgPSB2YWxbMV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwODAwIC8qIEhMaW5rVG9vbHRpcCAqLzoge1xuXHRcdFx0XHRcdGZvcihybmdSID0gdmFsWzBdLnMucjsgcm5nUiA8PSB2YWxbMF0uZS5yOyArK3JuZ1IpXG5cdFx0XHRcdFx0XHRmb3Iocm5nQyA9IHZhbFswXS5zLmM7IHJuZ0MgPD0gdmFsWzBdLmUuYzsgKytybmdDKSB7XG5cdFx0XHRcdFx0XHRcdGNjID0gb3B0aW9ucy5kZW5zZSA/IChvdXRbXCIhZGF0YVwiXVtybmdSXXx8W10pW3JuZ0NdIDogb3V0W2VuY29kZV9jZWxsKHtjOnJuZ0MscjpybmdSfSldO1xuXHRcdFx0XHRcdFx0XHRpZihjYyAmJiBjYy5sKSBjYy5sLlRvb2x0aXAgPSB2YWxbMV07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMWMgLyogTm90ZSAqLzoge1xuXHRcdFx0XHRcdC8qIFRPRE86IGNvbW1lbnQgY29udGludWF0aW9uIChyb3cgPT0gLTEgLyAweEZGRkYpICovXG5cdFx0XHRcdFx0Y2MgPSBvcHRpb25zLmRlbnNlID8gKG91dFtcIiFkYXRhXCJdW3ZhbFswXS5yXXx8W10pW3ZhbFswXS5jXSA6IG91dFtlbmNvZGVfY2VsbCh2YWxbMF0pXTtcblx0XHRcdFx0XHRpZighY2MpIHtcblx0XHRcdFx0XHRcdGlmKG9wdGlvbnMuZGVuc2UpIHtcblx0XHRcdFx0XHRcdFx0aWYoIW91dFtcIiFkYXRhXCJdW3ZhbFswXS5yXSkgb3V0W1wiIWRhdGFcIl1bdmFsWzBdLnJdID0gW107XG5cdFx0XHRcdFx0XHRcdGNjID0gb3V0W1wiIWRhdGFcIl1bdmFsWzBdLnJdW3ZhbFswXS5jXSA9ICh7dDpcInpcIn0vKjphbnkqLyk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjYyA9IG91dFtlbmNvZGVfY2VsbCh2YWxbMF0pXSA9ICh7dDpcInpcIn0vKjphbnkqLyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyYW5nZS5lLnIgPSBNYXRoLm1heChyYW5nZS5lLnIsIHZhbFswXS5yKTtcblx0XHRcdFx0XHRcdHJhbmdlLnMuciA9IE1hdGgubWluKHJhbmdlLnMuciwgdmFsWzBdLnIpO1xuXHRcdFx0XHRcdFx0cmFuZ2UuZS5jID0gTWF0aC5tYXgocmFuZ2UuZS5jLCB2YWxbMF0uYyk7XG5cdFx0XHRcdFx0XHRyYW5nZS5zLmMgPSBNYXRoLm1pbihyYW5nZS5zLmMsIHZhbFswXS5jKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYoIWNjLmMpIGNjLmMgPSBbXTtcblx0XHRcdFx0XHRpZihvcHRzLmJpZmYgPD0gNSAmJiBvcHRzLmJpZmYgPj0gMikgY21udCA9IHthOlwiU2hlZXRKNVwiLCB0OnZhbFsxXX07XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHR2YXIgbm90ZW9iaiA9IG9iamVjdHNbdmFsWzJdXTtcblx0XHRcdFx0XHRcdGNtbnQgPSB7YTp2YWxbMV0sdDpub3Rlb2JqLlR4Ty50fTtcblx0XHRcdFx0XHRcdGlmKHZhbFszXSAhPSBudWxsICYmICEodmFsWzNdICYgMHgwMikpIGNjLmMuaGlkZGVuID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2MuYy5wdXNoKGNtbnQpO1xuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDg3ZCAvKiBYRkV4dCAqLzogdXBkYXRlX3hmZXh0KFhGc1t2YWwuaXhmZV0sIHZhbC5leHQpOyBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwN2QgLyogQ29sSW5mbyAqLzoge1xuXHRcdFx0XHRcdGlmKCFvcHRzLmNlbGxTdHlsZXMpIGJyZWFrO1xuXHRcdFx0XHRcdHdoaWxlKHZhbC5lID49IHZhbC5zKSB7XG5cdFx0XHRcdFx0XHRjb2xpbmZvW3ZhbC5lLS1dID0geyB3aWR0aDogdmFsLncvMjU2LCBsZXZlbDogKHZhbC5sZXZlbCB8fCAwKSwgaGlkZGVuOiAhISh2YWwuZmxhZ3MgJiAxKSB9O1xuXHRcdFx0XHRcdFx0aWYoIXNlZW5jb2wpIHsgc2VlbmNvbCA9IHRydWU7IGZpbmRfbWR3X2NvbHcodmFsLncvMjU2KTsgfVxuXHRcdFx0XHRcdFx0cHJvY2Vzc19jb2woY29saW5mb1t2YWwuZSsxXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDIwOCAvKiBSb3cgKi86IHtcblx0XHRcdFx0XHR2YXIgcm93b2JqID0ge307XG5cdFx0XHRcdFx0aWYodmFsLmxldmVsICE9IG51bGwpIHsgcm93aW5mb1t2YWwucl0gPSByb3dvYmo7IHJvd29iai5sZXZlbCA9IHZhbC5sZXZlbDsgfVxuXHRcdFx0XHRcdGlmKHZhbC5oaWRkZW4pIHsgcm93aW5mb1t2YWwucl0gPSByb3dvYmo7IHJvd29iai5oaWRkZW4gPSB0cnVlOyB9XG5cdFx0XHRcdFx0aWYodmFsLmhwdCkge1xuXHRcdFx0XHRcdFx0cm93aW5mb1t2YWwucl0gPSByb3dvYmo7XG5cdFx0XHRcdFx0XHRyb3dvYmouaHB0ID0gdmFsLmhwdDsgcm93b2JqLmhweCA9IHB0MnB4KHZhbC5ocHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwMjYgLyogTGVmdE1hcmdpbiAqLzpcblx0XHRcdFx0Y2FzZSAweDAwMjcgLyogUmlnaHRNYXJnaW4gKi86XG5cdFx0XHRcdGNhc2UgMHgwMDI4IC8qIFRvcE1hcmdpbiAqLzpcblx0XHRcdFx0Y2FzZSAweDAwMjkgLyogQm90dG9tTWFyZ2luICovOlxuXHRcdFx0XHRcdGlmKCFvdXRbJyFtYXJnaW5zJ10pIGRlZmF1bHRfbWFyZ2lucyhvdXRbJyFtYXJnaW5zJ10gPSB7fSk7XG5cdFx0XHRcdFx0b3V0WychbWFyZ2lucyddWyh7MHgyNjogXCJsZWZ0XCIsIDB4Mjc6XCJyaWdodFwiLCAweDI4OlwidG9wXCIsIDB4Mjk6XCJib3R0b21cIn0pW1JlY29yZFR5cGVdXSA9IHZhbDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAweDAwYTEgLyogU2V0dXAgKi86IC8vIFRPRE9cblx0XHRcdFx0XHRpZighb3V0WychbWFyZ2lucyddKSBkZWZhdWx0X21hcmdpbnMob3V0WychbWFyZ2lucyddID0ge30pO1xuXHRcdFx0XHRcdG91dFsnIW1hcmdpbnMnXS5oZWFkZXIgPSB2YWwuaGVhZGVyO1xuXHRcdFx0XHRcdG91dFsnIW1hcmdpbnMnXS5mb290ZXIgPSB2YWwuZm9vdGVyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDIzZSAvKiBXaW5kb3cyICovOiAvLyBUT0RPXG5cdFx0XHRcdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHRcdFx0XHRpZih2YWwuUlRMKSBXb3JrYm9vay5WaWV3c1swXS5SVEwgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDA5MiAvKiBQYWxldHRlICovOiBwYWxldHRlID0gdmFsOyBicmVhaztcblx0XHRcdFx0Y2FzZSAweDA4OTYgLyogVGhlbWUgKi86IHRoZW1lcyA9IHZhbDsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMHgwMDhjIC8qIENvdW50cnkgKi86IGNvdW50cnkgPSB2YWw7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDB4MDFiYSAvKiBDb2RlTmFtZSAqLzoge1xuXHRcdFx0XHRcdC8qOjogaWYoIVdvcmtib29rLldCUHJvcHMpIFdvcmtib29rLldCUHJvcHMgPSB7fTsgKi9cblx0XHRcdFx0XHRpZighY3VyX3NoZWV0KSBXb3JrYm9vay5XQlByb3BzLkNvZGVOYW1lID0gdmFsIHx8IFwiVGhpc1dvcmtib29rXCI7XG5cdFx0XHRcdFx0ZWxzZSB3c3Byb3BzLkNvZGVOYW1lID0gdmFsIHx8IHdzcHJvcHMubmFtZTtcblx0XHRcdFx0fSBicmVhaztcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYoIVIpIGNvbnNvbGUuZXJyb3IoXCJNaXNzaW5nIEluZm8gZm9yIFhMUyBSZWNvcmQgMHhcIiArIFJlY29yZFR5cGUudG9TdHJpbmcoMTYpKTtcblx0XHRcdGJsb2IubCArPSBsZW5ndGg7XG5cdFx0fVxuXHR9XG5cdHdiLlNoZWV0TmFtZXM9a2V5cyhEaXJlY3RvcnkpLnNvcnQoZnVuY3Rpb24oYSxiKSB7IHJldHVybiBOdW1iZXIoYSkgLSBOdW1iZXIoYik7IH0pLm1hcChmdW5jdGlvbih4KXtyZXR1cm4gRGlyZWN0b3J5W3hdLm5hbWU7fSk7XG5cdGlmKCFvcHRpb25zLmJvb2tTaGVldHMpIHdiLlNoZWV0cz1TaGVldHM7XG5cdGlmKCF3Yi5TaGVldE5hbWVzLmxlbmd0aCAmJiBQcmVhbWJsZVtcIiFyZWZcIl0pIHtcblx0XHR3Yi5TaGVldE5hbWVzLnB1c2goXCJTaGVldDFcIik7XG5cdFx0Lypqc2hpbnQgLVcwNjkgKi9cblx0XHRpZih3Yi5TaGVldHMpIHdiLlNoZWV0c1tcIlNoZWV0MVwiXSA9IFByZWFtYmxlO1xuXHRcdC8qanNoaW50ICtXMDY5ICovXG5cdH0gZWxzZSB3Yi5QcmVhbWJsZT1QcmVhbWJsZTtcblx0aWYod2IuU2hlZXRzKSBGaWx0ZXJEYXRhYmFzZXMuZm9yRWFjaChmdW5jdGlvbihyLGkpIHsgd2IuU2hlZXRzW3diLlNoZWV0TmFtZXNbaV1dWychYXV0b2ZpbHRlciddID0gcjsgfSk7XG5cdHdiLlN0cmluZ3MgPSBzc3Q7XG5cdHdiLlNTRiA9IGR1cCh0YWJsZV9mbXQpO1xuXHRpZihvcHRzLmVuYykgd2IuRW5jcnlwdGlvbiA9IG9wdHMuZW5jO1xuXHRpZih0aGVtZXMpIHdiLlRoZW1lcyA9IHRoZW1lcztcblx0d2IuTWV0YWRhdGEgPSB7fTtcblx0aWYoY291bnRyeSAhPT0gdW5kZWZpbmVkKSB3Yi5NZXRhZGF0YS5Db3VudHJ5ID0gY291bnRyeTtcblx0aWYoc3VwYm9va3MubmFtZXMubGVuZ3RoID4gMCkgV29ya2Jvb2suTmFtZXMgPSBzdXBib29rcy5uYW1lcztcblx0d2IuV29ya2Jvb2sgPSBXb3JrYm9vaztcblx0cmV0dXJuIHdiO1xufVxuXG4vKiBUT0RPOiBzcGxpdCBwcm9wcyovXG52YXIgUFNDTFNJRCA9IHtcblx0U0k6IFwiZTA4NTlmZjJmOTRmNjgxMGFiOTEwODAwMmIyN2IzZDlcIixcblx0RFNJOiBcIjAyZDVjZGQ1OWMyZTFiMTA5Mzk3MDgwMDJiMmNmOWFlXCIsXG5cdFVESTogXCIwNWQ1Y2RkNTljMmUxYjEwOTM5NzA4MDAyYjJjZjlhZVwiXG59O1xuZnVuY3Rpb24gcGFyc2VfeGxzX3Byb3BzKGNmYi8qOkNGQkNvbnRhaW5lciovLCBwcm9wcywgbykge1xuXHQvKiBbTVMtT1NIQVJFRF0gMi4zLjMuMi4yIERvY3VtZW50IFN1bW1hcnkgSW5mb3JtYXRpb24gUHJvcGVydHkgU2V0ICovXG5cdHZhciBEU0kgPSBDRkIuZmluZChjZmIsICcvIURvY3VtZW50U3VtbWFyeUluZm9ybWF0aW9uJyk7XG5cdGlmKERTSSAmJiBEU0kuc2l6ZSA+IDApIHRyeSB7XG5cdFx0dmFyIERvY1N1bW1hcnkgPSBwYXJzZV9Qcm9wZXJ0eVNldFN0cmVhbShEU0ksIERvY1N1bW1hcnlQSUREU0ksIFBTQ0xTSUQuRFNJKTtcblx0XHRmb3IodmFyIGQgaW4gRG9jU3VtbWFyeSkgcHJvcHNbZF0gPSBEb2NTdW1tYXJ5W2RdO1xuXHR9IGNhdGNoKGUpIHtpZihvLldURikgdGhyb3cgZTsvKiBlbXB0eSAqL31cblxuXHQvKiBbTVMtT1NIQVJFRF0gMi4zLjMuMi4xIFN1bW1hcnkgSW5mb3JtYXRpb24gUHJvcGVydHkgU2V0Ki9cblx0dmFyIFNJID0gQ0ZCLmZpbmQoY2ZiLCAnLyFTdW1tYXJ5SW5mb3JtYXRpb24nKTtcblx0aWYoU0kgJiYgU0kuc2l6ZSA+IDApIHRyeSB7XG5cdFx0dmFyIFN1bW1hcnkgPSBwYXJzZV9Qcm9wZXJ0eVNldFN0cmVhbShTSSwgU3VtbWFyeVBJRFNJLCBQU0NMU0lELlNJKTtcblx0XHRmb3IodmFyIHMgaW4gU3VtbWFyeSkgaWYocHJvcHNbc10gPT0gbnVsbCkgcHJvcHNbc10gPSBTdW1tYXJ5W3NdO1xuXHR9IGNhdGNoKGUpIHtpZihvLldURikgdGhyb3cgZTsvKiBlbXB0eSAqL31cblxuXHRpZihwcm9wcy5IZWFkaW5nUGFpcnMgJiYgcHJvcHMuVGl0bGVzT2ZQYXJ0cykge1xuXHRcdGxvYWRfcHJvcHNfcGFpcnMocHJvcHMuSGVhZGluZ1BhaXJzLCBwcm9wcy5UaXRsZXNPZlBhcnRzLCBwcm9wcywgbyk7XG5cdFx0ZGVsZXRlIHByb3BzLkhlYWRpbmdQYWlyczsgZGVsZXRlIHByb3BzLlRpdGxlc09mUGFydHM7XG5cdH1cbn1cbmZ1bmN0aW9uIHdyaXRlX3hsc19wcm9wcyh3Yi8qOldvcmtib29rKi8sIGNmYi8qOkNGQkNvbnRhaW5lciovKSB7XG5cdHZhciBEU0VudHJpZXMgPSBbXSwgU0VudHJpZXMgPSBbXSwgQ0VudHJpZXMgPSBbXTtcblx0dmFyIGkgPSAwLCBLZXlzO1xuXHR2YXIgRG9jU3VtbWFyeVJFLyo6e1trZXk6c3RyaW5nXTpzdHJpbmd9Ki8gPSBldmVydF9rZXkoRG9jU3VtbWFyeVBJRERTSSwgXCJuXCIpO1xuXHR2YXIgU3VtbWFyeVJFLyo6e1trZXk6c3RyaW5nXTpzdHJpbmd9Ki8gPSBldmVydF9rZXkoU3VtbWFyeVBJRFNJLCBcIm5cIik7XG5cdGlmKHdiLlByb3BzKSB7XG5cdFx0S2V5cyA9IGtleXMod2IuUHJvcHMpO1xuXHRcdC8vICRGbG93SWdub3JlXG5cdFx0Zm9yKGkgPSAwOyBpIDwgS2V5cy5sZW5ndGg7ICsraSkgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChEb2NTdW1tYXJ5UkUsIEtleXNbaV0pID8gRFNFbnRyaWVzIDogT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFN1bW1hcnlSRSwgS2V5c1tpXSkgPyBTRW50cmllcyA6IENFbnRyaWVzKS5wdXNoKFtLZXlzW2ldLCB3Yi5Qcm9wc1tLZXlzW2ldXV0pO1xuXHR9XG5cdGlmKHdiLkN1c3Rwcm9wcykge1xuXHRcdEtleXMgPSBrZXlzKHdiLkN1c3Rwcm9wcyk7XG5cdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHRmb3IoaSA9IDA7IGkgPCBLZXlzLmxlbmd0aDsgKytpKSBpZighT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCh3Yi5Qcm9wc3x8e30pLCBLZXlzW2ldKSkgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChEb2NTdW1tYXJ5UkUsIEtleXNbaV0pID8gRFNFbnRyaWVzIDogT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFN1bW1hcnlSRSwgS2V5c1tpXSkgPyBTRW50cmllcyA6IENFbnRyaWVzKS5wdXNoKFtLZXlzW2ldLCB3Yi5DdXN0cHJvcHNbS2V5c1tpXV1dKTtcblx0fVxuXHR2YXIgQ0VudHJpZXMyID0gW107XG5cdGZvcihpID0gMDsgaSA8IENFbnRyaWVzLmxlbmd0aDsgKytpKSB7XG5cdFx0aWYoWExTUFNTa2lwLmluZGV4T2YoQ0VudHJpZXNbaV1bMF0pID4gLTEgfHwgUHNldWRvUHJvcHNQYWlycy5pbmRleE9mKENFbnRyaWVzW2ldWzBdKSA+IC0xKSBjb250aW51ZTtcblx0XHRpZihDRW50cmllc1tpXVsxXSA9PSBudWxsKSBjb250aW51ZTtcblx0XHRDRW50cmllczIucHVzaChDRW50cmllc1tpXSk7XG5cdH1cblx0aWYoU0VudHJpZXMubGVuZ3RoKSBDRkIudXRpbHMuY2ZiX2FkZChjZmIsIFwiL1xcdTAwMDVTdW1tYXJ5SW5mb3JtYXRpb25cIiwgd3JpdGVfUHJvcGVydHlTZXRTdHJlYW0oU0VudHJpZXMsIFBTQ0xTSUQuU0ksIFN1bW1hcnlSRSwgU3VtbWFyeVBJRFNJKSk7XG5cdGlmKERTRW50cmllcy5sZW5ndGggfHwgQ0VudHJpZXMyLmxlbmd0aCkgQ0ZCLnV0aWxzLmNmYl9hZGQoY2ZiLCBcIi9cXHUwMDA1RG9jdW1lbnRTdW1tYXJ5SW5mb3JtYXRpb25cIiwgd3JpdGVfUHJvcGVydHlTZXRTdHJlYW0oRFNFbnRyaWVzLCBQU0NMU0lELkRTSSwgRG9jU3VtbWFyeVJFLCBEb2NTdW1tYXJ5UElERFNJLCBDRW50cmllczIubGVuZ3RoID8gQ0VudHJpZXMyIDogbnVsbCwgUFNDTFNJRC5VREkpKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VfeGxzY2ZiKGNmYi8qOmFueSovLCBvcHRpb25zLyo6P1BhcnNlT3B0cyovKS8qOldvcmtib29rKi8ge1xuaWYoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbmZpeF9yZWFkX29wdHMob3B0aW9ucyk7XG5yZXNldF9jcCgpO1xuaWYob3B0aW9ucy5jb2RlcGFnZSkgc2V0X2Fuc2kob3B0aW9ucy5jb2RlcGFnZSk7XG52YXIgQ29tcE9iai8qOj9DRkJFbnRyeSovLCBXQi8qOj9hbnkqLztcbmlmKGNmYi5GdWxsUGF0aHMpIHtcblx0aWYoQ0ZCLmZpbmQoY2ZiLCAnL2VuY3J5cHRpb24nKSkgdGhyb3cgbmV3IEVycm9yKFwiRmlsZSBpcyBwYXNzd29yZC1wcm90ZWN0ZWRcIik7XG5cdENvbXBPYmogPSBDRkIuZmluZChjZmIsICchQ29tcE9iaicpO1xuXHRXQiA9IENGQi5maW5kKGNmYiwgJy9Xb3JrYm9vaycpIHx8IENGQi5maW5kKGNmYiwgJy9Cb29rJyk7XG59IGVsc2Uge1xuXHRzd2l0Y2gob3B0aW9ucy50eXBlKSB7XG5cdFx0Y2FzZSAnYmFzZTY0JzogY2ZiID0gczJhKEJhc2U2NF9kZWNvZGUoY2ZiKSk7IGJyZWFrO1xuXHRcdGNhc2UgJ2JpbmFyeSc6IGNmYiA9IHMyYShjZmIpOyBicmVhaztcblx0XHRjYXNlICdidWZmZXInOiBicmVhaztcblx0XHRjYXNlICdhcnJheSc6IGlmKCFBcnJheS5pc0FycmF5KGNmYikpIGNmYiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNmYik7IGJyZWFrO1xuXHR9XG5cdHByZXBfYmxvYihjZmIsIDApO1xuXHRXQiA9ICh7Y29udGVudDogY2ZifS8qOmFueSovKTtcbn1cbnZhciAvKjo6Q29tcE9ialAsICovV29ya2Jvb2tQLyo6OiA6V29ya2Jvb2sgPSBYTFNYLnV0aWxzLmJvb2tfbmV3KCk7ICovO1xuXG52YXIgX2RhdGEvKjo/YW55Ki87XG5pZihDb21wT2JqKSAvKjo6Q29tcE9ialAgPSAqL3BhcnNlX2NvbXBvYmooQ29tcE9iaik7XG5pZihvcHRpb25zLmJvb2tQcm9wcyAmJiAhb3B0aW9ucy5ib29rU2hlZXRzKSBXb3JrYm9va1AgPSAoe30vKjphbnkqLyk7XG5lbHNlLyo6OiBpZihjZmIgaW5zdGFuY2VvZiBDRkJDb250YWluZXIpICovIHtcblx0dmFyIFQgPSBoYXNfYnVmID8gJ2J1ZmZlcicgOiAnYXJyYXknO1xuXHRpZihXQiAmJiBXQi5jb250ZW50KSBXb3JrYm9va1AgPSBwYXJzZV93b3JrYm9vayhXQi5jb250ZW50LCBvcHRpb25zKTtcblx0LyogUXVhdHRybyBQcm8gNy04ICovXG5cdGVsc2UgaWYoKF9kYXRhPUNGQi5maW5kKGNmYiwgJ1BlcmZlY3RPZmZpY2VfTUFJTicpKSAmJiBfZGF0YS5jb250ZW50KSBXb3JrYm9va1AgPSBXS18udG9fd29ya2Jvb2soX2RhdGEuY29udGVudCwgKG9wdGlvbnMudHlwZSA9IFQsIG9wdGlvbnMpKTtcblx0LyogUXVhdHRybyBQcm8gOSAqL1xuXHRlbHNlIGlmKChfZGF0YT1DRkIuZmluZChjZmIsICdOYXRpdmVDb250ZW50X01BSU4nKSkgJiYgX2RhdGEuY29udGVudCkgV29ya2Jvb2tQID0gV0tfLnRvX3dvcmtib29rKF9kYXRhLmNvbnRlbnQsIChvcHRpb25zLnR5cGUgPSBULCBvcHRpb25zKSk7XG5cdC8qIFdvcmtzIDQgZm9yIE1hYyAqL1xuXHRlbHNlIGlmKChfZGF0YT1DRkIuZmluZChjZmIsICdNTjAnKSkgJiYgX2RhdGEuY29udGVudCkgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgV29ya3MgNCBmb3IgTWFjIGZpbGVcIik7XG5cdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgV29ya2Jvb2sgc3RyZWFtXCIpO1xuXHRpZihvcHRpb25zLmJvb2tWQkEgJiYgY2ZiLkZ1bGxQYXRocyAmJiBDRkIuZmluZChjZmIsICcvX1ZCQV9QUk9KRUNUX0NVUi9WQkEvZGlyJykpIFdvcmtib29rUC52YmFyYXcgPSBtYWtlX3ZiYV94bHMoY2ZiKTtcbn1cblxudmFyIHByb3BzID0ge307XG5pZihjZmIuRnVsbFBhdGhzKSBwYXJzZV94bHNfcHJvcHMoLyo6OigoKi9jZmIvKjo6IDphbnkpOkNGQkNvbnRhaW5lcikqLywgcHJvcHMsIG9wdGlvbnMpO1xuXG5Xb3JrYm9va1AuUHJvcHMgPSBXb3JrYm9va1AuQ3VzdHByb3BzID0gcHJvcHM7IC8qIFRPRE86IHNwbGl0IHVwIHByb3BlcnRpZXMgKi9cbmlmKG9wdGlvbnMuYm9va0ZpbGVzKSBXb3JrYm9va1AuY2ZiID0gY2ZiO1xuLypXb3JrYm9va1AuQ29tcE9ialAgPSBDb21wT2JqUDsgLy8gVE9ETzogc3RvcmFnZT8gKi9cbnJldHVybiBXb3JrYm9va1A7XG59XG5cblxuZnVuY3Rpb24gd3JpdGVfeGxzY2ZiKHdiLyo6V29ya2Jvb2sqLywgb3B0cy8qOldyaXRlT3B0cyovKS8qOkNGQkNvbnRhaW5lciovIHtcblx0dmFyIG8gPSBvcHRzIHx8IHt9O1xuXHR2YXIgY2ZiID0gQ0ZCLnV0aWxzLmNmYl9uZXcoe3Jvb3Q6XCJSXCJ9KTtcblx0dmFyIHdicGF0aCA9IFwiL1dvcmtib29rXCI7XG5cdHN3aXRjaChvLmJvb2tUeXBlIHx8IFwieGxzXCIpIHtcblx0XHRjYXNlIFwieGxzXCI6IG8uYm9va1R5cGUgPSBcImJpZmY4XCI7XG5cdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdGNhc2UgXCJ4bGFcIjogaWYoIW8uYm9va1R5cGUpIG8uYm9va1R5cGUgPSBcInhsYVwiO1xuXHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRjYXNlIFwiYmlmZjhcIjogd2JwYXRoID0gXCIvV29ya2Jvb2tcIjsgby5iaWZmID0gODsgYnJlYWs7XG5cdFx0Y2FzZSBcImJpZmY1XCI6IHdicGF0aCA9IFwiL0Jvb2tcIjsgby5iaWZmID0gNTsgYnJlYWs7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB0eXBlIFwiICsgby5ib29rVHlwZSArIFwiIGZvciBYTFMgQ0ZCXCIpO1xuXHR9XG5cdENGQi51dGlscy5jZmJfYWRkKGNmYiwgd2JwYXRoLCB3cml0ZV9iaWZmX2J1Zih3YiwgbykpO1xuXHRpZihvLmJpZmYgPT0gOCAmJiAod2IuUHJvcHMgfHwgd2IuQ3VzdHByb3BzKSkgd3JpdGVfeGxzX3Byb3BzKHdiLCBjZmIpO1xuXHQvLyBUT0RPOiBTSSwgRFNJLCBDT1xuXHRpZihvLmJpZmYgPT0gOCAmJiB3Yi52YmFyYXcpIGZpbGxfdmJhX3hscyhjZmIsIENGQi5yZWFkKHdiLnZiYXJhdywge3R5cGU6IHR5cGVvZiB3Yi52YmFyYXcgPT0gXCJzdHJpbmdcIiA/IFwiYmluYXJ5XCIgOiBcImJ1ZmZlclwifSkpO1xuXHRyZXR1cm4gY2ZiO1xufVxuLyogW01TLVhMU0JdIDIuMyBSZWNvcmQgRW51bWVyYXRpb24gKi9cbnZhciBYTFNCUmVjb3JkRW51bSA9IHtcblx0MHgwMDAwOiB7IC8qIG46XCJCcnRSb3dIZHJcIiwgKi8gZjpwYXJzZV9CcnRSb3dIZHIgfSxcblx0MHgwMDAxOiB7IC8qIG46XCJCcnRDZWxsQmxhbmtcIiwgKi8gZjpwYXJzZV9CcnRDZWxsQmxhbmsgfSxcblx0MHgwMDAyOiB7IC8qIG46XCJCcnRDZWxsUmtcIiwgKi8gZjpwYXJzZV9CcnRDZWxsUmsgfSxcblx0MHgwMDAzOiB7IC8qIG46XCJCcnRDZWxsRXJyb3JcIiwgKi8gZjpwYXJzZV9CcnRDZWxsRXJyb3IgfSxcblx0MHgwMDA0OiB7IC8qIG46XCJCcnRDZWxsQm9vbFwiLCAqLyBmOnBhcnNlX0JydENlbGxCb29sIH0sXG5cdDB4MDAwNTogeyAvKiBuOlwiQnJ0Q2VsbFJlYWxcIiwgKi8gZjpwYXJzZV9CcnRDZWxsUmVhbCB9LFxuXHQweDAwMDY6IHsgLyogbjpcIkJydENlbGxTdFwiLCAqLyBmOnBhcnNlX0JydENlbGxTdCB9LFxuXHQweDAwMDc6IHsgLyogbjpcIkJydENlbGxJc3N0XCIsICovIGY6cGFyc2VfQnJ0Q2VsbElzc3QgfSxcblx0MHgwMDA4OiB7IC8qIG46XCJCcnRGbWxhU3RyaW5nXCIsICovIGY6cGFyc2VfQnJ0Rm1sYVN0cmluZyB9LFxuXHQweDAwMDk6IHsgLyogbjpcIkJydEZtbGFOdW1cIiwgKi8gZjpwYXJzZV9CcnRGbWxhTnVtIH0sXG5cdDB4MDAwQTogeyAvKiBuOlwiQnJ0Rm1sYUJvb2xcIiwgKi8gZjpwYXJzZV9CcnRGbWxhQm9vbCB9LFxuXHQweDAwMEI6IHsgLyogbjpcIkJydEZtbGFFcnJvclwiLCAqLyBmOnBhcnNlX0JydEZtbGFFcnJvciB9LFxuXHQweDAwMEM6IHsgLyogbjpcIkJydFNob3J0QmxhbmtcIiwgKi8gZjpwYXJzZV9CcnRTaG9ydEJsYW5rIH0sXG5cdDB4MDAwRDogeyAvKiBuOlwiQnJ0U2hvcnRSa1wiLCAqLyBmOnBhcnNlX0JydFNob3J0UmsgfSxcblx0MHgwMDBFOiB7IC8qIG46XCJCcnRTaG9ydEVycm9yXCIsICovIGY6cGFyc2VfQnJ0U2hvcnRFcnJvciB9LFxuXHQweDAwMEY6IHsgLyogbjpcIkJydFNob3J0Qm9vbFwiLCAqLyBmOnBhcnNlX0JydFNob3J0Qm9vbCB9LFxuXHQweDAwMTA6IHsgLyogbjpcIkJydFNob3J0UmVhbFwiLCAqLyBmOnBhcnNlX0JydFNob3J0UmVhbCB9LFxuXHQweDAwMTE6IHsgLyogbjpcIkJydFNob3J0U3RcIiwgKi8gZjpwYXJzZV9CcnRTaG9ydFN0IH0sXG5cdDB4MDAxMjogeyAvKiBuOlwiQnJ0U2hvcnRJc3N0XCIsICovIGY6cGFyc2VfQnJ0U2hvcnRJc3N0IH0sXG5cdDB4MDAxMzogeyAvKiBuOlwiQnJ0U1NUSXRlbVwiLCAqLyBmOnBhcnNlX1JpY2hTdHIgfSxcblx0MHgwMDE0OiB7IC8qIG46XCJCcnRQQ0RJTWlzc2luZ1wiICovIH0sXG5cdDB4MDAxNTogeyAvKiBuOlwiQnJ0UENESU51bWJlclwiICovIH0sXG5cdDB4MDAxNjogeyAvKiBuOlwiQnJ0UENESUJvb2xlYW5cIiAqLyB9LFxuXHQweDAwMTc6IHsgLyogbjpcIkJydFBDRElFcnJvclwiICovIH0sXG5cdDB4MDAxODogeyAvKiBuOlwiQnJ0UENESVN0cmluZ1wiICovIH0sXG5cdDB4MDAxOTogeyAvKiBuOlwiQnJ0UENESURhdGV0aW1lXCIgKi8gfSxcblx0MHgwMDFBOiB7IC8qIG46XCJCcnRQQ0RJSW5kZXhcIiAqLyB9LFxuXHQweDAwMUI6IHsgLyogbjpcIkJydFBDRElBTWlzc2luZ1wiICovIH0sXG5cdDB4MDAxQzogeyAvKiBuOlwiQnJ0UENESUFOdW1iZXJcIiAqLyB9LFxuXHQweDAwMUQ6IHsgLyogbjpcIkJydFBDRElBQm9vbGVhblwiICovIH0sXG5cdDB4MDAxRTogeyAvKiBuOlwiQnJ0UENESUFFcnJvclwiICovIH0sXG5cdDB4MDAxRjogeyAvKiBuOlwiQnJ0UENESUFTdHJpbmdcIiAqLyB9LFxuXHQweDAwMjA6IHsgLyogbjpcIkJydFBDRElBRGF0ZXRpbWVcIiAqLyB9LFxuXHQweDAwMjE6IHsgLyogbjpcIkJydFBDUlJlY29yZFwiICovIH0sXG5cdDB4MDAyMjogeyAvKiBuOlwiQnJ0UENSUmVjb3JkRHRcIiAqLyB9LFxuXHQweDAwMjM6IHsgLyogbjpcIkJydEZSVEJlZ2luXCIsICovIFQ6MSB9LFxuXHQweDAwMjQ6IHsgLyogbjpcIkJydEZSVEVuZFwiLCAqLyBUOi0xIH0sXG5cdDB4MDAyNTogeyAvKiBuOlwiQnJ0QUNCZWdpblwiLCAqLyBUOjEgfSxcblx0MHgwMDI2OiB7IC8qIG46XCJCcnRBQ0VuZFwiLCAqLyBUOi0xIH0sXG5cdDB4MDAyNzogeyAvKiBuOlwiQnJ0TmFtZVwiLCAqLyBmOnBhcnNlX0JydE5hbWUgfSxcblx0MHgwMDI4OiB7IC8qIG46XCJCcnRJbmRleFJvd0Jsb2NrXCIgKi8gfSxcblx0MHgwMDJBOiB7IC8qIG46XCJCcnRJbmRleEJsb2NrXCIgKi8gfSxcblx0MHgwMDJCOiB7IC8qIG46XCJCcnRGb250XCIsICovIGY6cGFyc2VfQnJ0Rm9udCB9LFxuXHQweDAwMkM6IHsgLyogbjpcIkJydEZtdFwiLCAqLyBmOnBhcnNlX0JydEZtdCB9LFxuXHQweDAwMkQ6IHsgLyogbjpcIkJydEZpbGxcIiwgKi8gZjpwYXJzZV9CcnRGaWxsIH0sXG5cdDB4MDAyRTogeyAvKiBuOlwiQnJ0Qm9yZGVyXCIsICovIGY6cGFyc2VfQnJ0Qm9yZGVyIH0sXG5cdDB4MDAyRjogeyAvKiBuOlwiQnJ0WEZcIiwgKi8gZjpwYXJzZV9CcnRYRiB9LFxuXHQweDAwMzA6IHsgLyogbjpcIkJydFN0eWxlXCIgKi8gfSxcblx0MHgwMDMxOiB7IC8qIG46XCJCcnRDZWxsTWV0YVwiLCAqLyBmOnBhcnNlX0ludDMyTEUgfSxcblx0MHgwMDMyOiB7IC8qIG46XCJCcnRWYWx1ZU1ldGFcIiAqLyB9LFxuXHQweDAwMzM6IHsgLyogbjpcIkJydE1kYlwiICovIGY6cGFyc2VfQnJ0TWRiIH0sXG5cdDB4MDAzNDogeyAvKiBuOlwiQnJ0QmVnaW5GbWRcIiwgKi8gVDoxIH0sXG5cdDB4MDAzNTogeyAvKiBuOlwiQnJ0RW5kRm1kXCIsICovIFQ6LTEgfSxcblx0MHgwMDM2OiB7IC8qIG46XCJCcnRCZWdpbk1keFwiLCAqLyBUOjEgfSxcblx0MHgwMDM3OiB7IC8qIG46XCJCcnRFbmRNZHhcIiwgKi8gVDotMSB9LFxuXHQweDAwMzg6IHsgLyogbjpcIkJydEJlZ2luTWR4VHVwbGVcIiwgKi8gVDoxIH0sXG5cdDB4MDAzOTogeyAvKiBuOlwiQnJ0RW5kTWR4VHVwbGVcIiwgKi8gVDotMSB9LFxuXHQweDAwM0E6IHsgLyogbjpcIkJydE1keE1icklzdHJcIiAqLyB9LFxuXHQweDAwM0I6IHsgLyogbjpcIkJydFN0clwiICovIH0sXG5cdDB4MDAzQzogeyAvKiBuOlwiQnJ0Q29sSW5mb1wiLCAqLyBmOnBhcnNlX0NvbEluZm8gfSxcblx0MHgwMDNFOiB7IC8qIG46XCJCcnRDZWxsUlN0cmluZ1wiLCAqLyBmOnBhcnNlX0JydENlbGxSU3RyaW5nIH0sXG5cdDB4MDAzRjogeyAvKiBuOlwiQnJ0Q2FsY0NoYWluSXRlbSRcIiwgKi8gZjpwYXJzZV9CcnRDYWxjQ2hhaW5JdGVtJCB9LFxuXHQweDAwNDA6IHsgLyogbjpcIkJydERWYWxcIiwgKi8gZjpwYXJzZV9CcnREVmFsIH0sXG5cdDB4MDA0MTogeyAvKiBuOlwiQnJ0U3h2Y2VsbE51bVwiICovIH0sXG5cdDB4MDA0MjogeyAvKiBuOlwiQnJ0U3h2Y2VsbFN0clwiICovIH0sXG5cdDB4MDA0MzogeyAvKiBuOlwiQnJ0U3h2Y2VsbEJvb2xcIiAqLyB9LFxuXHQweDAwNDQ6IHsgLyogbjpcIkJydFN4dmNlbGxFcnJcIiAqLyB9LFxuXHQweDAwNDU6IHsgLyogbjpcIkJydFN4dmNlbGxEYXRlXCIgKi8gfSxcblx0MHgwMDQ2OiB7IC8qIG46XCJCcnRTeHZjZWxsTmlsXCIgKi8gfSxcblx0MHgwMDgwOiB7IC8qIG46XCJCcnRGaWxlVmVyc2lvblwiICovIH0sXG5cdDB4MDA4MTogeyAvKiBuOlwiQnJ0QmVnaW5TaGVldFwiLCAqLyBUOjEgfSxcblx0MHgwMDgyOiB7IC8qIG46XCJCcnRFbmRTaGVldFwiLCAqLyBUOi0xIH0sXG5cdDB4MDA4MzogeyAvKiBuOlwiQnJ0QmVnaW5Cb29rXCIsICovIFQ6MSwgZjpwYXJzZW5vb3AsIHA6MCB9LFxuXHQweDAwODQ6IHsgLyogbjpcIkJydEVuZEJvb2tcIiwgKi8gVDotMSB9LFxuXHQweDAwODU6IHsgLyogbjpcIkJydEJlZ2luV3NWaWV3c1wiLCAqLyBUOjEgfSxcblx0MHgwMDg2OiB7IC8qIG46XCJCcnRFbmRXc1ZpZXdzXCIsICovIFQ6LTEgfSxcblx0MHgwMDg3OiB7IC8qIG46XCJCcnRCZWdpbkJvb2tWaWV3c1wiLCAqLyBUOjEgfSxcblx0MHgwMDg4OiB7IC8qIG46XCJCcnRFbmRCb29rVmlld3NcIiwgKi8gVDotMSB9LFxuXHQweDAwODk6IHsgLyogbjpcIkJydEJlZ2luV3NWaWV3XCIsICovIFQ6MSwgZjpwYXJzZV9CcnRCZWdpbldzVmlldyB9LFxuXHQweDAwOEE6IHsgLyogbjpcIkJydEVuZFdzVmlld1wiLCAqLyBUOi0xIH0sXG5cdDB4MDA4QjogeyAvKiBuOlwiQnJ0QmVnaW5Dc1ZpZXdzXCIsICovIFQ6MSB9LFxuXHQweDAwOEM6IHsgLyogbjpcIkJydEVuZENzVmlld3NcIiwgKi8gVDotMSB9LFxuXHQweDAwOEQ6IHsgLyogbjpcIkJydEJlZ2luQ3NWaWV3XCIsICovIFQ6MSB9LFxuXHQweDAwOEU6IHsgLyogbjpcIkJydEVuZENzVmlld1wiLCAqLyBUOi0xIH0sXG5cdDB4MDA4RjogeyAvKiBuOlwiQnJ0QmVnaW5CdW5kbGVTaHNcIiwgKi8gVDoxIH0sXG5cdDB4MDA5MDogeyAvKiBuOlwiQnJ0RW5kQnVuZGxlU2hzXCIsICovIFQ6LTEgfSxcblx0MHgwMDkxOiB7IC8qIG46XCJCcnRCZWdpblNoZWV0RGF0YVwiLCAqLyBUOjEgfSxcblx0MHgwMDkyOiB7IC8qIG46XCJCcnRFbmRTaGVldERhdGFcIiwgKi8gVDotMSB9LFxuXHQweDAwOTM6IHsgLyogbjpcIkJydFdzUHJvcFwiLCAqLyBmOnBhcnNlX0JydFdzUHJvcCB9LFxuXHQweDAwOTQ6IHsgLyogbjpcIkJydFdzRGltXCIsICovIGY6cGFyc2VfQnJ0V3NEaW0sIHA6MTYgfSxcblx0MHgwMDk3OiB7IC8qIG46XCJCcnRQYW5lXCIsICovIGY6cGFyc2VfQnJ0UGFuZSB9LFxuXHQweDAwOTg6IHsgLyogbjpcIkJydFNlbFwiICovIH0sXG5cdDB4MDA5OTogeyAvKiBuOlwiQnJ0V2JQcm9wXCIsICovIGY6cGFyc2VfQnJ0V2JQcm9wIH0sXG5cdDB4MDA5QTogeyAvKiBuOlwiQnJ0V2JGYWN0b2lkXCIgKi8gfSxcblx0MHgwMDlCOiB7IC8qIG46XCJCcnRGaWxlUmVjb3ZlclwiICovIH0sXG5cdDB4MDA5QzogeyAvKiBuOlwiQnJ0QnVuZGxlU2hcIiwgKi8gZjpwYXJzZV9CcnRCdW5kbGVTaCB9LFxuXHQweDAwOUQ6IHsgLyogbjpcIkJydENhbGNQcm9wXCIgKi8gfSxcblx0MHgwMDlFOiB7IC8qIG46XCJCcnRCb29rVmlld1wiICovIH0sXG5cdDB4MDA5RjogeyAvKiBuOlwiQnJ0QmVnaW5Tc3RcIiwgKi8gVDoxLCBmOnBhcnNlX0JydEJlZ2luU3N0IH0sXG5cdDB4MDBBMDogeyAvKiBuOlwiQnJ0RW5kU3N0XCIsICovIFQ6LTEgfSxcblx0MHgwMEExOiB7IC8qIG46XCJCcnRCZWdpbkFGaWx0ZXJcIiwgKi8gVDoxLCBmOnBhcnNlX1VuY2hlY2tlZFJmWCB9LFxuXHQweDAwQTI6IHsgLyogbjpcIkJydEVuZEFGaWx0ZXJcIiwgKi8gVDotMSB9LFxuXHQweDAwQTM6IHsgLyogbjpcIkJydEJlZ2luRmlsdGVyQ29sdW1uXCIsICovIFQ6MSB9LFxuXHQweDAwQTQ6IHsgLyogbjpcIkJydEVuZEZpbHRlckNvbHVtblwiLCAqLyBUOi0xIH0sXG5cdDB4MDBBNTogeyAvKiBuOlwiQnJ0QmVnaW5GaWx0ZXJzXCIsICovIFQ6MSB9LFxuXHQweDAwQTY6IHsgLyogbjpcIkJydEVuZEZpbHRlcnNcIiwgKi8gVDotMSB9LFxuXHQweDAwQTc6IHsgLyogbjpcIkJydEZpbHRlclwiICovIH0sXG5cdDB4MDBBODogeyAvKiBuOlwiQnJ0Q29sb3JGaWx0ZXJcIiAqLyB9LFxuXHQweDAwQTk6IHsgLyogbjpcIkJydEljb25GaWx0ZXJcIiAqLyB9LFxuXHQweDAwQUE6IHsgLyogbjpcIkJydFRvcDEwRmlsdGVyXCIgKi8gfSxcblx0MHgwMEFCOiB7IC8qIG46XCJCcnREeW5hbWljRmlsdGVyXCIgKi8gfSxcblx0MHgwMEFDOiB7IC8qIG46XCJCcnRCZWdpbkN1c3RvbUZpbHRlcnNcIiwgKi8gVDoxIH0sXG5cdDB4MDBBRDogeyAvKiBuOlwiQnJ0RW5kQ3VzdG9tRmlsdGVyc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDBBRTogeyAvKiBuOlwiQnJ0Q3VzdG9tRmlsdGVyXCIgKi8gfSxcblx0MHgwMEFGOiB7IC8qIG46XCJCcnRBRmlsdGVyRGF0ZUdyb3VwSXRlbVwiICovIH0sXG5cdDB4MDBCMDogeyAvKiBuOlwiQnJ0TWVyZ2VDZWxsXCIsICovIGY6cGFyc2VfQnJ0TWVyZ2VDZWxsIH0sXG5cdDB4MDBCMTogeyAvKiBuOlwiQnJ0QmVnaW5NZXJnZUNlbGxzXCIsICovIFQ6MSB9LFxuXHQweDAwQjI6IHsgLyogbjpcIkJydEVuZE1lcmdlQ2VsbHNcIiwgKi8gVDotMSB9LFxuXHQweDAwQjM6IHsgLyogbjpcIkJydEJlZ2luUGl2b3RDYWNoZURlZlwiLCAqLyBUOjEgfSxcblx0MHgwMEI0OiB7IC8qIG46XCJCcnRFbmRQaXZvdENhY2hlRGVmXCIsICovIFQ6LTEgfSxcblx0MHgwMEI1OiB7IC8qIG46XCJCcnRCZWdpblBDREZpZWxkc1wiLCAqLyBUOjEgfSxcblx0MHgwMEI2OiB7IC8qIG46XCJCcnRFbmRQQ0RGaWVsZHNcIiwgKi8gVDotMSB9LFxuXHQweDAwQjc6IHsgLyogbjpcIkJydEJlZ2luUENERmllbGRcIiwgKi8gVDoxIH0sXG5cdDB4MDBCODogeyAvKiBuOlwiQnJ0RW5kUENERmllbGRcIiwgKi8gVDotMSB9LFxuXHQweDAwQjk6IHsgLyogbjpcIkJydEJlZ2luUENEU291cmNlXCIsICovIFQ6MSB9LFxuXHQweDAwQkE6IHsgLyogbjpcIkJydEVuZFBDRFNvdXJjZVwiLCAqLyBUOi0xIH0sXG5cdDB4MDBCQjogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RTUmFuZ2VcIiwgKi8gVDoxIH0sXG5cdDB4MDBCQzogeyAvKiBuOlwiQnJ0RW5kUENEU1JhbmdlXCIsICovIFQ6LTEgfSxcblx0MHgwMEJEOiB7IC8qIG46XCJCcnRCZWdpblBDREZBdGJsXCIsICovIFQ6MSB9LFxuXHQweDAwQkU6IHsgLyogbjpcIkJydEVuZFBDREZBdGJsXCIsICovIFQ6LTEgfSxcblx0MHgwMEJGOiB7IC8qIG46XCJCcnRCZWdpblBDRElSdW5cIiwgKi8gVDoxIH0sXG5cdDB4MDBDMDogeyAvKiBuOlwiQnJ0RW5kUENESVJ1blwiLCAqLyBUOi0xIH0sXG5cdDB4MDBDMTogeyAvKiBuOlwiQnJ0QmVnaW5QaXZvdENhY2hlUmVjb3Jkc1wiLCAqLyBUOjEgfSxcblx0MHgwMEMyOiB7IC8qIG46XCJCcnRFbmRQaXZvdENhY2hlUmVjb3Jkc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDBDMzogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RIaWVyYXJjaGllc1wiLCAqLyBUOjEgfSxcblx0MHgwMEM0OiB7IC8qIG46XCJCcnRFbmRQQ0RIaWVyYXJjaGllc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDBDNTogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RIaWVyYXJjaHlcIiwgKi8gVDoxIH0sXG5cdDB4MDBDNjogeyAvKiBuOlwiQnJ0RW5kUENESGllcmFyY2h5XCIsICovIFQ6LTEgfSxcblx0MHgwMEM3OiB7IC8qIG46XCJCcnRCZWdpblBDREhGaWVsZHNVc2FnZVwiLCAqLyBUOjEgfSxcblx0MHgwMEM4OiB7IC8qIG46XCJCcnRFbmRQQ0RIRmllbGRzVXNhZ2VcIiwgKi8gVDotMSB9LFxuXHQweDAwQzk6IHsgLyogbjpcIkJydEJlZ2luRXh0Q29ubmVjdGlvblwiLCAqLyBUOjEgfSxcblx0MHgwMENBOiB7IC8qIG46XCJCcnRFbmRFeHRDb25uZWN0aW9uXCIsICovIFQ6LTEgfSxcblx0MHgwMENCOiB7IC8qIG46XCJCcnRCZWdpbkVDRGJQcm9wc1wiLCAqLyBUOjEgfSxcblx0MHgwMENDOiB7IC8qIG46XCJCcnRFbmRFQ0RiUHJvcHNcIiwgKi8gVDotMSB9LFxuXHQweDAwQ0Q6IHsgLyogbjpcIkJydEJlZ2luRUNPbGFwUHJvcHNcIiwgKi8gVDoxIH0sXG5cdDB4MDBDRTogeyAvKiBuOlwiQnJ0RW5kRUNPbGFwUHJvcHNcIiwgKi8gVDotMSB9LFxuXHQweDAwQ0Y6IHsgLyogbjpcIkJydEJlZ2luUENEU0NvbnNvbFwiLCAqLyBUOjEgfSxcblx0MHgwMEQwOiB7IC8qIG46XCJCcnRFbmRQQ0RTQ29uc29sXCIsICovIFQ6LTEgfSxcblx0MHgwMEQxOiB7IC8qIG46XCJCcnRCZWdpblBDRFNDUGFnZXNcIiwgKi8gVDoxIH0sXG5cdDB4MDBEMjogeyAvKiBuOlwiQnJ0RW5kUENEU0NQYWdlc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDBEMzogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RTQ1BhZ2VcIiwgKi8gVDoxIH0sXG5cdDB4MDBENDogeyAvKiBuOlwiQnJ0RW5kUENEU0NQYWdlXCIsICovIFQ6LTEgfSxcblx0MHgwMEQ1OiB7IC8qIG46XCJCcnRCZWdpblBDRFNDUEl0ZW1cIiwgKi8gVDoxIH0sXG5cdDB4MDBENjogeyAvKiBuOlwiQnJ0RW5kUENEU0NQSXRlbVwiLCAqLyBUOi0xIH0sXG5cdDB4MDBENzogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RTQ1NldHNcIiwgKi8gVDoxIH0sXG5cdDB4MDBEODogeyAvKiBuOlwiQnJ0RW5kUENEU0NTZXRzXCIsICovIFQ6LTEgfSxcblx0MHgwMEQ5OiB7IC8qIG46XCJCcnRCZWdpblBDRFNDU2V0XCIsICovIFQ6MSB9LFxuXHQweDAwREE6IHsgLyogbjpcIkJydEVuZFBDRFNDU2V0XCIsICovIFQ6LTEgfSxcblx0MHgwMERCOiB7IC8qIG46XCJCcnRCZWdpblBDREZHcm91cFwiLCAqLyBUOjEgfSxcblx0MHgwMERDOiB7IC8qIG46XCJCcnRFbmRQQ0RGR3JvdXBcIiwgKi8gVDotMSB9LFxuXHQweDAwREQ6IHsgLyogbjpcIkJydEJlZ2luUENERkdJdGVtc1wiLCAqLyBUOjEgfSxcblx0MHgwMERFOiB7IC8qIG46XCJCcnRFbmRQQ0RGR0l0ZW1zXCIsICovIFQ6LTEgfSxcblx0MHgwMERGOiB7IC8qIG46XCJCcnRCZWdpblBDREZHUmFuZ2VcIiwgKi8gVDoxIH0sXG5cdDB4MDBFMDogeyAvKiBuOlwiQnJ0RW5kUENERkdSYW5nZVwiLCAqLyBUOi0xIH0sXG5cdDB4MDBFMTogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RGR0Rpc2NyZXRlXCIsICovIFQ6MSB9LFxuXHQweDAwRTI6IHsgLyogbjpcIkJydEVuZFBDREZHRGlzY3JldGVcIiwgKi8gVDotMSB9LFxuXHQweDAwRTM6IHsgLyogbjpcIkJydEJlZ2luUENEU0RUdXBsZUNhY2hlXCIsICovIFQ6MSB9LFxuXHQweDAwRTQ6IHsgLyogbjpcIkJydEVuZFBDRFNEVHVwbGVDYWNoZVwiLCAqLyBUOi0xIH0sXG5cdDB4MDBFNTogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RTRFRDRW50cmllc1wiLCAqLyBUOjEgfSxcblx0MHgwMEU2OiB7IC8qIG46XCJCcnRFbmRQQ0RTRFRDRW50cmllc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDBFNzogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RTRFRDRU1lbWJlcnNcIiwgKi8gVDoxIH0sXG5cdDB4MDBFODogeyAvKiBuOlwiQnJ0RW5kUENEU0RUQ0VNZW1iZXJzXCIsICovIFQ6LTEgfSxcblx0MHgwMEU5OiB7IC8qIG46XCJCcnRCZWdpblBDRFNEVENFTWVtYmVyXCIsICovIFQ6MSB9LFxuXHQweDAwRUE6IHsgLyogbjpcIkJydEVuZFBDRFNEVENFTWVtYmVyXCIsICovIFQ6LTEgfSxcblx0MHgwMEVCOiB7IC8qIG46XCJCcnRCZWdpblBDRFNEVENRdWVyaWVzXCIsICovIFQ6MSB9LFxuXHQweDAwRUM6IHsgLyogbjpcIkJydEVuZFBDRFNEVENRdWVyaWVzXCIsICovIFQ6LTEgfSxcblx0MHgwMEVEOiB7IC8qIG46XCJCcnRCZWdpblBDRFNEVENRdWVyeVwiLCAqLyBUOjEgfSxcblx0MHgwMEVFOiB7IC8qIG46XCJCcnRFbmRQQ0RTRFRDUXVlcnlcIiwgKi8gVDotMSB9LFxuXHQweDAwRUY6IHsgLyogbjpcIkJydEJlZ2luUENEU0RUQ1NldHNcIiwgKi8gVDoxIH0sXG5cdDB4MDBGMDogeyAvKiBuOlwiQnJ0RW5kUENEU0RUQ1NldHNcIiwgKi8gVDotMSB9LFxuXHQweDAwRjE6IHsgLyogbjpcIkJydEJlZ2luUENEU0RUQ1NldFwiLCAqLyBUOjEgfSxcblx0MHgwMEYyOiB7IC8qIG46XCJCcnRFbmRQQ0RTRFRDU2V0XCIsICovIFQ6LTEgfSxcblx0MHgwMEYzOiB7IC8qIG46XCJCcnRCZWdpblBDRENhbGNJdGVtc1wiLCAqLyBUOjEgfSxcblx0MHgwMEY0OiB7IC8qIG46XCJCcnRFbmRQQ0RDYWxjSXRlbXNcIiwgKi8gVDotMSB9LFxuXHQweDAwRjU6IHsgLyogbjpcIkJydEJlZ2luUENEQ2FsY0l0ZW1cIiwgKi8gVDoxIH0sXG5cdDB4MDBGNjogeyAvKiBuOlwiQnJ0RW5kUENEQ2FsY0l0ZW1cIiwgKi8gVDotMSB9LFxuXHQweDAwRjc6IHsgLyogbjpcIkJydEJlZ2luUFJ1bGVcIiwgKi8gVDoxIH0sXG5cdDB4MDBGODogeyAvKiBuOlwiQnJ0RW5kUFJ1bGVcIiwgKi8gVDotMSB9LFxuXHQweDAwRjk6IHsgLyogbjpcIkJydEJlZ2luUFJGaWx0ZXJzXCIsICovIFQ6MSB9LFxuXHQweDAwRkE6IHsgLyogbjpcIkJydEVuZFBSRmlsdGVyc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDBGQjogeyAvKiBuOlwiQnJ0QmVnaW5QUkZpbHRlclwiLCAqLyBUOjEgfSxcblx0MHgwMEZDOiB7IC8qIG46XCJCcnRFbmRQUkZpbHRlclwiLCAqLyBUOi0xIH0sXG5cdDB4MDBGRDogeyAvKiBuOlwiQnJ0QmVnaW5QTmFtZXNcIiwgKi8gVDoxIH0sXG5cdDB4MDBGRTogeyAvKiBuOlwiQnJ0RW5kUE5hbWVzXCIsICovIFQ6LTEgfSxcblx0MHgwMEZGOiB7IC8qIG46XCJCcnRCZWdpblBOYW1lXCIsICovIFQ6MSB9LFxuXHQweDAxMDA6IHsgLyogbjpcIkJydEVuZFBOYW1lXCIsICovIFQ6LTEgfSxcblx0MHgwMTAxOiB7IC8qIG46XCJCcnRCZWdpblBOUGFpcnNcIiwgKi8gVDoxIH0sXG5cdDB4MDEwMjogeyAvKiBuOlwiQnJ0RW5kUE5QYWlyc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDEwMzogeyAvKiBuOlwiQnJ0QmVnaW5QTlBhaXJcIiwgKi8gVDoxIH0sXG5cdDB4MDEwNDogeyAvKiBuOlwiQnJ0RW5kUE5QYWlyXCIsICovIFQ6LTEgfSxcblx0MHgwMTA1OiB7IC8qIG46XCJCcnRCZWdpbkVDV2ViUHJvcHNcIiwgKi8gVDoxIH0sXG5cdDB4MDEwNjogeyAvKiBuOlwiQnJ0RW5kRUNXZWJQcm9wc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDEwNzogeyAvKiBuOlwiQnJ0QmVnaW5FY1dwVGFibGVzXCIsICovIFQ6MSB9LFxuXHQweDAxMDg6IHsgLyogbjpcIkJydEVuZEVDV1BUYWJsZXNcIiwgKi8gVDotMSB9LFxuXHQweDAxMDk6IHsgLyogbjpcIkJydEJlZ2luRUNQYXJhbXNcIiwgKi8gVDoxIH0sXG5cdDB4MDEwQTogeyAvKiBuOlwiQnJ0RW5kRUNQYXJhbXNcIiwgKi8gVDotMSB9LFxuXHQweDAxMEI6IHsgLyogbjpcIkJydEJlZ2luRUNQYXJhbVwiLCAqLyBUOjEgfSxcblx0MHgwMTBDOiB7IC8qIG46XCJCcnRFbmRFQ1BhcmFtXCIsICovIFQ6LTEgfSxcblx0MHgwMTBEOiB7IC8qIG46XCJCcnRCZWdpblBDREtQSXNcIiwgKi8gVDoxIH0sXG5cdDB4MDEwRTogeyAvKiBuOlwiQnJ0RW5kUENES1BJc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDEwRjogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RLUElcIiwgKi8gVDoxIH0sXG5cdDB4MDExMDogeyAvKiBuOlwiQnJ0RW5kUENES1BJXCIsICovIFQ6LTEgfSxcblx0MHgwMTExOiB7IC8qIG46XCJCcnRCZWdpbkRpbXNcIiwgKi8gVDoxIH0sXG5cdDB4MDExMjogeyAvKiBuOlwiQnJ0RW5kRGltc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDExMzogeyAvKiBuOlwiQnJ0QmVnaW5EaW1cIiwgKi8gVDoxIH0sXG5cdDB4MDExNDogeyAvKiBuOlwiQnJ0RW5kRGltXCIsICovIFQ6LTEgfSxcblx0MHgwMTE1OiB7IC8qIG46XCJCcnRJbmRleFBhcnRFbmRcIiAqLyB9LFxuXHQweDAxMTY6IHsgLyogbjpcIkJydEJlZ2luU3R5bGVTaGVldFwiLCAqLyBUOjEgfSxcblx0MHgwMTE3OiB7IC8qIG46XCJCcnRFbmRTdHlsZVNoZWV0XCIsICovIFQ6LTEgfSxcblx0MHgwMTE4OiB7IC8qIG46XCJCcnRCZWdpblNYVmlld1wiLCAqLyBUOjEgfSxcblx0MHgwMTE5OiB7IC8qIG46XCJCcnRFbmRTWFZJXCIsICovIFQ6LTEgfSxcblx0MHgwMTFBOiB7IC8qIG46XCJCcnRCZWdpblNYVklcIiwgKi8gVDoxIH0sXG5cdDB4MDExQjogeyAvKiBuOlwiQnJ0QmVnaW5TWFZJc1wiLCAqLyBUOjEgfSxcblx0MHgwMTFDOiB7IC8qIG46XCJCcnRFbmRTWFZJc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDExRDogeyAvKiBuOlwiQnJ0QmVnaW5TWFZEXCIsICovIFQ6MSB9LFxuXHQweDAxMUU6IHsgLyogbjpcIkJydEVuZFNYVkRcIiwgKi8gVDotMSB9LFxuXHQweDAxMUY6IHsgLyogbjpcIkJydEJlZ2luU1hWRHNcIiwgKi8gVDoxIH0sXG5cdDB4MDEyMDogeyAvKiBuOlwiQnJ0RW5kU1hWRHNcIiwgKi8gVDotMSB9LFxuXHQweDAxMjE6IHsgLyogbjpcIkJydEJlZ2luU1hQSVwiLCAqLyBUOjEgfSxcblx0MHgwMTIyOiB7IC8qIG46XCJCcnRFbmRTWFBJXCIsICovIFQ6LTEgfSxcblx0MHgwMTIzOiB7IC8qIG46XCJCcnRCZWdpblNYUElzXCIsICovIFQ6MSB9LFxuXHQweDAxMjQ6IHsgLyogbjpcIkJydEVuZFNYUElzXCIsICovIFQ6LTEgfSxcblx0MHgwMTI1OiB7IC8qIG46XCJCcnRCZWdpblNYRElcIiwgKi8gVDoxIH0sXG5cdDB4MDEyNjogeyAvKiBuOlwiQnJ0RW5kU1hESVwiLCAqLyBUOi0xIH0sXG5cdDB4MDEyNzogeyAvKiBuOlwiQnJ0QmVnaW5TWERJc1wiLCAqLyBUOjEgfSxcblx0MHgwMTI4OiB7IC8qIG46XCJCcnRFbmRTWERJc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDEyOTogeyAvKiBuOlwiQnJ0QmVnaW5TWExJXCIsICovIFQ6MSB9LFxuXHQweDAxMkE6IHsgLyogbjpcIkJydEVuZFNYTElcIiwgKi8gVDotMSB9LFxuXHQweDAxMkI6IHsgLyogbjpcIkJydEJlZ2luU1hMSVJ3c1wiLCAqLyBUOjEgfSxcblx0MHgwMTJDOiB7IC8qIG46XCJCcnRFbmRTWExJUndzXCIsICovIFQ6LTEgfSxcblx0MHgwMTJEOiB7IC8qIG46XCJCcnRCZWdpblNYTElDb2xzXCIsICovIFQ6MSB9LFxuXHQweDAxMkU6IHsgLyogbjpcIkJydEVuZFNYTElDb2xzXCIsICovIFQ6LTEgfSxcblx0MHgwMTJGOiB7IC8qIG46XCJCcnRCZWdpblNYRm9ybWF0XCIsICovIFQ6MSB9LFxuXHQweDAxMzA6IHsgLyogbjpcIkJydEVuZFNYRm9ybWF0XCIsICovIFQ6LTEgfSxcblx0MHgwMTMxOiB7IC8qIG46XCJCcnRCZWdpblNYRm9ybWF0c1wiLCAqLyBUOjEgfSxcblx0MHgwMTMyOiB7IC8qIG46XCJCcnRFbmRTeEZvcm1hdHNcIiwgKi8gVDotMSB9LFxuXHQweDAxMzM6IHsgLyogbjpcIkJydEJlZ2luU3hTZWxlY3RcIiwgKi8gVDoxIH0sXG5cdDB4MDEzNDogeyAvKiBuOlwiQnJ0RW5kU3hTZWxlY3RcIiwgKi8gVDotMSB9LFxuXHQweDAxMzU6IHsgLyogbjpcIkJydEJlZ2luSVNYVkRSd3NcIiwgKi8gVDoxIH0sXG5cdDB4MDEzNjogeyAvKiBuOlwiQnJ0RW5kSVNYVkRSd3NcIiwgKi8gVDotMSB9LFxuXHQweDAxMzc6IHsgLyogbjpcIkJydEJlZ2luSVNYVkRDb2xzXCIsICovIFQ6MSB9LFxuXHQweDAxMzg6IHsgLyogbjpcIkJydEVuZElTWFZEQ29sc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDEzOTogeyAvKiBuOlwiQnJ0RW5kU1hMb2NhdGlvblwiLCAqLyBUOi0xIH0sXG5cdDB4MDEzQTogeyAvKiBuOlwiQnJ0QmVnaW5TWExvY2F0aW9uXCIsICovIFQ6MSB9LFxuXHQweDAxM0I6IHsgLyogbjpcIkJydEVuZFNYVmlld1wiLCAqLyBUOi0xIH0sXG5cdDB4MDEzQzogeyAvKiBuOlwiQnJ0QmVnaW5TWFRIc1wiLCAqLyBUOjEgfSxcblx0MHgwMTNEOiB7IC8qIG46XCJCcnRFbmRTWFRIc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDEzRTogeyAvKiBuOlwiQnJ0QmVnaW5TWFRIXCIsICovIFQ6MSB9LFxuXHQweDAxM0Y6IHsgLyogbjpcIkJydEVuZFNYVEhcIiwgKi8gVDotMSB9LFxuXHQweDAxNDA6IHsgLyogbjpcIkJydEJlZ2luSVNYVEhSd3NcIiwgKi8gVDoxIH0sXG5cdDB4MDE0MTogeyAvKiBuOlwiQnJ0RW5kSVNYVEhSd3NcIiwgKi8gVDotMSB9LFxuXHQweDAxNDI6IHsgLyogbjpcIkJydEJlZ2luSVNYVEhDb2xzXCIsICovIFQ6MSB9LFxuXHQweDAxNDM6IHsgLyogbjpcIkJydEVuZElTWFRIQ29sc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDE0NDogeyAvKiBuOlwiQnJ0QmVnaW5TWFRETVBTXCIsICovIFQ6MSB9LFxuXHQweDAxNDU6IHsgLyogbjpcIkJydEVuZFNYVERNUHNcIiwgKi8gVDotMSB9LFxuXHQweDAxNDY6IHsgLyogbjpcIkJydEJlZ2luU1hURE1QXCIsICovIFQ6MSB9LFxuXHQweDAxNDc6IHsgLyogbjpcIkJydEVuZFNYVERNUFwiLCAqLyBUOi0xIH0sXG5cdDB4MDE0ODogeyAvKiBuOlwiQnJ0QmVnaW5TWFRISXRlbXNcIiwgKi8gVDoxIH0sXG5cdDB4MDE0OTogeyAvKiBuOlwiQnJ0RW5kU1hUSEl0ZW1zXCIsICovIFQ6LTEgfSxcblx0MHgwMTRBOiB7IC8qIG46XCJCcnRCZWdpblNYVEhJdGVtXCIsICovIFQ6MSB9LFxuXHQweDAxNEI6IHsgLyogbjpcIkJydEVuZFNYVEhJdGVtXCIsICovIFQ6LTEgfSxcblx0MHgwMTRDOiB7IC8qIG46XCJCcnRCZWdpbk1ldGFkYXRhXCIsICovIFQ6MSB9LFxuXHQweDAxNEQ6IHsgLyogbjpcIkJydEVuZE1ldGFkYXRhXCIsICovIFQ6LTEgfSxcblx0MHgwMTRFOiB7IC8qIG46XCJCcnRCZWdpbkVzbWR0aW5mb1wiLCAqLyBUOjEgfSxcblx0MHgwMTRGOiB7IC8qIG46XCJCcnRNZHRpbmZvXCIsICovIGY6cGFyc2VfQnJ0TWR0aW5mbyB9LFxuXHQweDAxNTA6IHsgLyogbjpcIkJydEVuZEVzbWR0aW5mb1wiLCAqLyBUOi0xIH0sXG5cdDB4MDE1MTogeyAvKiBuOlwiQnJ0QmVnaW5Fc21kYlwiLCAqLyBmOnBhcnNlX0JydEJlZ2luRXNtZGIsIFQ6MSB9LFxuXHQweDAxNTI6IHsgLyogbjpcIkJydEVuZEVzbWRiXCIsICovIFQ6LTEgfSxcblx0MHgwMTUzOiB7IC8qIG46XCJCcnRCZWdpbkVzZm1kXCIsICovIFQ6MSB9LFxuXHQweDAxNTQ6IHsgLyogbjpcIkJydEVuZEVzZm1kXCIsICovIFQ6LTEgfSxcblx0MHgwMTU1OiB7IC8qIG46XCJCcnRCZWdpblNpbmdsZUNlbGxzXCIsICovIFQ6MSB9LFxuXHQweDAxNTY6IHsgLyogbjpcIkJydEVuZFNpbmdsZUNlbGxzXCIsICovIFQ6LTEgfSxcblx0MHgwMTU3OiB7IC8qIG46XCJCcnRCZWdpbkxpc3RcIiwgKi8gVDoxIH0sXG5cdDB4MDE1ODogeyAvKiBuOlwiQnJ0RW5kTGlzdFwiLCAqLyBUOi0xIH0sXG5cdDB4MDE1OTogeyAvKiBuOlwiQnJ0QmVnaW5MaXN0Q29sc1wiLCAqLyBUOjEgfSxcblx0MHgwMTVBOiB7IC8qIG46XCJCcnRFbmRMaXN0Q29sc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDE1QjogeyAvKiBuOlwiQnJ0QmVnaW5MaXN0Q29sXCIsICovIFQ6MSB9LFxuXHQweDAxNUM6IHsgLyogbjpcIkJydEVuZExpc3RDb2xcIiwgKi8gVDotMSB9LFxuXHQweDAxNUQ6IHsgLyogbjpcIkJydEJlZ2luTGlzdFhtbENQclwiLCAqLyBUOjEgfSxcblx0MHgwMTVFOiB7IC8qIG46XCJCcnRFbmRMaXN0WG1sQ1ByXCIsICovIFQ6LTEgfSxcblx0MHgwMTVGOiB7IC8qIG46XCJCcnRMaXN0Q0NGbWxhXCIgKi8gfSxcblx0MHgwMTYwOiB7IC8qIG46XCJCcnRMaXN0VHJGbWxhXCIgKi8gfSxcblx0MHgwMTYxOiB7IC8qIG46XCJCcnRCZWdpbkV4dGVybmFsc1wiLCAqLyBUOjEgfSxcblx0MHgwMTYyOiB7IC8qIG46XCJCcnRFbmRFeHRlcm5hbHNcIiwgKi8gVDotMSB9LFxuXHQweDAxNjM6IHsgLyogbjpcIkJydFN1cEJvb2tTcmNcIiwgKi8gZjpwYXJzZV9SZWxJRH0sXG5cdDB4MDE2NTogeyAvKiBuOlwiQnJ0U3VwU2VsZlwiICovIH0sXG5cdDB4MDE2NjogeyAvKiBuOlwiQnJ0U3VwU2FtZVwiICovIH0sXG5cdDB4MDE2NzogeyAvKiBuOlwiQnJ0U3VwVGFic1wiICovIH0sXG5cdDB4MDE2ODogeyAvKiBuOlwiQnJ0QmVnaW5TdXBCb29rXCIsICovIFQ6MSB9LFxuXHQweDAxNjk6IHsgLyogbjpcIkJydFBsYWNlaG9sZGVyTmFtZVwiICovIH0sXG5cdDB4MDE2QTogeyAvKiBuOlwiQnJ0RXh0ZXJuU2hlZXRcIiwgKi8gZjpwYXJzZV9FeHRlcm5TaGVldCB9LFxuXHQweDAxNkI6IHsgLyogbjpcIkJydEV4dGVyblRhYmxlU3RhcnRcIiAqLyB9LFxuXHQweDAxNkM6IHsgLyogbjpcIkJydEV4dGVyblRhYmxlRW5kXCIgKi8gfSxcblx0MHgwMTZFOiB7IC8qIG46XCJCcnRFeHRlcm5Sb3dIZHJcIiAqLyB9LFxuXHQweDAxNkY6IHsgLyogbjpcIkJydEV4dGVybkNlbGxCbGFua1wiICovIH0sXG5cdDB4MDE3MDogeyAvKiBuOlwiQnJ0RXh0ZXJuQ2VsbFJlYWxcIiAqLyB9LFxuXHQweDAxNzE6IHsgLyogbjpcIkJydEV4dGVybkNlbGxCb29sXCIgKi8gfSxcblx0MHgwMTcyOiB7IC8qIG46XCJCcnRFeHRlcm5DZWxsRXJyb3JcIiAqLyB9LFxuXHQweDAxNzM6IHsgLyogbjpcIkJydEV4dGVybkNlbGxTdHJpbmdcIiAqLyB9LFxuXHQweDAxNzQ6IHsgLyogbjpcIkJydEJlZ2luRXNtZHhcIiwgKi8gVDoxIH0sXG5cdDB4MDE3NTogeyAvKiBuOlwiQnJ0RW5kRXNtZHhcIiwgKi8gVDotMSB9LFxuXHQweDAxNzY6IHsgLyogbjpcIkJydEJlZ2luTWR4U2V0XCIsICovIFQ6MSB9LFxuXHQweDAxNzc6IHsgLyogbjpcIkJydEVuZE1keFNldFwiLCAqLyBUOi0xIH0sXG5cdDB4MDE3ODogeyAvKiBuOlwiQnJ0QmVnaW5NZHhNYnJQcm9wXCIsICovIFQ6MSB9LFxuXHQweDAxNzk6IHsgLyogbjpcIkJydEVuZE1keE1iclByb3BcIiwgKi8gVDotMSB9LFxuXHQweDAxN0E6IHsgLyogbjpcIkJydEJlZ2luTWR4S1BJXCIsICovIFQ6MSB9LFxuXHQweDAxN0I6IHsgLyogbjpcIkJydEVuZE1keEtQSVwiLCAqLyBUOi0xIH0sXG5cdDB4MDE3QzogeyAvKiBuOlwiQnJ0QmVnaW5Fc3N0clwiLCAqLyBUOjEgfSxcblx0MHgwMTdEOiB7IC8qIG46XCJCcnRFbmRFc3N0clwiLCAqLyBUOi0xIH0sXG5cdDB4MDE3RTogeyAvKiBuOlwiQnJ0QmVnaW5QUkZJdGVtXCIsICovIFQ6MSB9LFxuXHQweDAxN0Y6IHsgLyogbjpcIkJydEVuZFBSRkl0ZW1cIiwgKi8gVDotMSB9LFxuXHQweDAxODA6IHsgLyogbjpcIkJydEJlZ2luUGl2b3RDYWNoZUlEc1wiLCAqLyBUOjEgfSxcblx0MHgwMTgxOiB7IC8qIG46XCJCcnRFbmRQaXZvdENhY2hlSURzXCIsICovIFQ6LTEgfSxcblx0MHgwMTgyOiB7IC8qIG46XCJCcnRCZWdpblBpdm90Q2FjaGVJRFwiLCAqLyBUOjEgfSxcblx0MHgwMTgzOiB7IC8qIG46XCJCcnRFbmRQaXZvdENhY2hlSURcIiwgKi8gVDotMSB9LFxuXHQweDAxODQ6IHsgLyogbjpcIkJydEJlZ2luSVNYVklzXCIsICovIFQ6MSB9LFxuXHQweDAxODU6IHsgLyogbjpcIkJydEVuZElTWFZJc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDE4NjogeyAvKiBuOlwiQnJ0QmVnaW5Db2xJbmZvc1wiLCAqLyBUOjEgfSxcblx0MHgwMTg3OiB7IC8qIG46XCJCcnRFbmRDb2xJbmZvc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDE4ODogeyAvKiBuOlwiQnJ0QmVnaW5Sd0Jya1wiLCAqLyBUOjEgfSxcblx0MHgwMTg5OiB7IC8qIG46XCJCcnRFbmRSd0Jya1wiLCAqLyBUOi0xIH0sXG5cdDB4MDE4QTogeyAvKiBuOlwiQnJ0QmVnaW5Db2xCcmtcIiwgKi8gVDoxIH0sXG5cdDB4MDE4QjogeyAvKiBuOlwiQnJ0RW5kQ29sQnJrXCIsICovIFQ6LTEgfSxcblx0MHgwMThDOiB7IC8qIG46XCJCcnRCcmtcIiAqLyB9LFxuXHQweDAxOEQ6IHsgLyogbjpcIkJydFVzZXJCb29rVmlld1wiICovIH0sXG5cdDB4MDE4RTogeyAvKiBuOlwiQnJ0SW5mb1wiICovIH0sXG5cdDB4MDE4RjogeyAvKiBuOlwiQnJ0Q1VzclwiICovIH0sXG5cdDB4MDE5MDogeyAvKiBuOlwiQnJ0VXNyXCIgKi8gfSxcblx0MHgwMTkxOiB7IC8qIG46XCJCcnRCZWdpblVzZXJzXCIsICovIFQ6MSB9LFxuXHQweDAxOTM6IHsgLyogbjpcIkJydEVPRlwiICovIH0sXG5cdDB4MDE5NDogeyAvKiBuOlwiQnJ0VUNSXCIgKi8gfSxcblx0MHgwMTk1OiB7IC8qIG46XCJCcnRSUkluc0RlbFwiICovIH0sXG5cdDB4MDE5NjogeyAvKiBuOlwiQnJ0UlJFbmRJbnNEZWxcIiAqLyB9LFxuXHQweDAxOTc6IHsgLyogbjpcIkJydFJSTW92ZVwiICovIH0sXG5cdDB4MDE5ODogeyAvKiBuOlwiQnJ0UlJFbmRNb3ZlXCIgKi8gfSxcblx0MHgwMTk5OiB7IC8qIG46XCJCcnRSUkNoZ0NlbGxcIiAqLyB9LFxuXHQweDAxOUE6IHsgLyogbjpcIkJydFJSRW5kQ2hnQ2VsbFwiICovIH0sXG5cdDB4MDE5QjogeyAvKiBuOlwiQnJ0UlJIZWFkZXJcIiAqLyB9LFxuXHQweDAxOUM6IHsgLyogbjpcIkJydFJSVXNlclZpZXdcIiAqLyB9LFxuXHQweDAxOUQ6IHsgLyogbjpcIkJydFJSUmVuU2hlZXRcIiAqLyB9LFxuXHQweDAxOUU6IHsgLyogbjpcIkJydFJSSW5zZXJ0U2hcIiAqLyB9LFxuXHQweDAxOUY6IHsgLyogbjpcIkJydFJSRGVmTmFtZVwiICovIH0sXG5cdDB4MDFBMDogeyAvKiBuOlwiQnJ0UlJOb3RlXCIgKi8gfSxcblx0MHgwMUExOiB7IC8qIG46XCJCcnRSUkNvbmZsaWN0XCIgKi8gfSxcblx0MHgwMUEyOiB7IC8qIG46XCJCcnRSUlRRU0lGXCIgKi8gfSxcblx0MHgwMUEzOiB7IC8qIG46XCJCcnRSUkZvcm1hdFwiICovIH0sXG5cdDB4MDFBNDogeyAvKiBuOlwiQnJ0UlJFbmRGb3JtYXRcIiAqLyB9LFxuXHQweDAxQTU6IHsgLyogbjpcIkJydFJSQXV0b0ZtdFwiICovIH0sXG5cdDB4MDFBNjogeyAvKiBuOlwiQnJ0QmVnaW5Vc2VyU2hWaWV3c1wiLCAqLyBUOjEgfSxcblx0MHgwMUE3OiB7IC8qIG46XCJCcnRCZWdpblVzZXJTaFZpZXdcIiwgKi8gVDoxIH0sXG5cdDB4MDFBODogeyAvKiBuOlwiQnJ0RW5kVXNlclNoVmlld1wiLCAqLyBUOi0xIH0sXG5cdDB4MDFBOTogeyAvKiBuOlwiQnJ0RW5kVXNlclNoVmlld3NcIiwgKi8gVDotMSB9LFxuXHQweDAxQUE6IHsgLyogbjpcIkJydEFyckZtbGFcIiwgKi8gZjpwYXJzZV9CcnRBcnJGbWxhIH0sXG5cdDB4MDFBQjogeyAvKiBuOlwiQnJ0U2hyRm1sYVwiLCAqLyBmOnBhcnNlX0JydFNockZtbGEgfSxcblx0MHgwMUFDOiB7IC8qIG46XCJCcnRUYWJsZVwiICovIH0sXG5cdDB4MDFBRDogeyAvKiBuOlwiQnJ0QmVnaW5FeHRDb25uZWN0aW9uc1wiLCAqLyBUOjEgfSxcblx0MHgwMUFFOiB7IC8qIG46XCJCcnRFbmRFeHRDb25uZWN0aW9uc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDFBRjogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RDYWxjTWVtc1wiLCAqLyBUOjEgfSxcblx0MHgwMUIwOiB7IC8qIG46XCJCcnRFbmRQQ0RDYWxjTWVtc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDFCMTogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RDYWxjTWVtXCIsICovIFQ6MSB9LFxuXHQweDAxQjI6IHsgLyogbjpcIkJydEVuZFBDRENhbGNNZW1cIiwgKi8gVDotMSB9LFxuXHQweDAxQjM6IHsgLyogbjpcIkJydEJlZ2luUENESEdMZXZlbHNcIiwgKi8gVDoxIH0sXG5cdDB4MDFCNDogeyAvKiBuOlwiQnJ0RW5kUENESEdMZXZlbHNcIiwgKi8gVDotMSB9LFxuXHQweDAxQjU6IHsgLyogbjpcIkJydEJlZ2luUENESEdMZXZlbFwiLCAqLyBUOjEgfSxcblx0MHgwMUI2OiB7IC8qIG46XCJCcnRFbmRQQ0RIR0xldmVsXCIsICovIFQ6LTEgfSxcblx0MHgwMUI3OiB7IC8qIG46XCJCcnRCZWdpblBDREhHTEdyb3Vwc1wiLCAqLyBUOjEgfSxcblx0MHgwMUI4OiB7IC8qIG46XCJCcnRFbmRQQ0RIR0xHcm91cHNcIiwgKi8gVDotMSB9LFxuXHQweDAxQjk6IHsgLyogbjpcIkJydEJlZ2luUENESEdMR3JvdXBcIiwgKi8gVDoxIH0sXG5cdDB4MDFCQTogeyAvKiBuOlwiQnJ0RW5kUENESEdMR3JvdXBcIiwgKi8gVDotMSB9LFxuXHQweDAxQkI6IHsgLyogbjpcIkJydEJlZ2luUENESEdMR01lbWJlcnNcIiwgKi8gVDoxIH0sXG5cdDB4MDFCQzogeyAvKiBuOlwiQnJ0RW5kUENESEdMR01lbWJlcnNcIiwgKi8gVDotMSB9LFxuXHQweDAxQkQ6IHsgLyogbjpcIkJydEJlZ2luUENESEdMR01lbWJlclwiLCAqLyBUOjEgfSxcblx0MHgwMUJFOiB7IC8qIG46XCJCcnRFbmRQQ0RIR0xHTWVtYmVyXCIsICovIFQ6LTEgfSxcblx0MHgwMUJGOiB7IC8qIG46XCJCcnRCZWdpblFTSVwiLCAqLyBUOjEgfSxcblx0MHgwMUMwOiB7IC8qIG46XCJCcnRFbmRRU0lcIiwgKi8gVDotMSB9LFxuXHQweDAxQzE6IHsgLyogbjpcIkJydEJlZ2luUVNJUlwiLCAqLyBUOjEgfSxcblx0MHgwMUMyOiB7IC8qIG46XCJCcnRFbmRRU0lSXCIsICovIFQ6LTEgfSxcblx0MHgwMUMzOiB7IC8qIG46XCJCcnRCZWdpbkRlbGV0ZWROYW1lc1wiLCAqLyBUOjEgfSxcblx0MHgwMUM0OiB7IC8qIG46XCJCcnRFbmREZWxldGVkTmFtZXNcIiwgKi8gVDotMSB9LFxuXHQweDAxQzU6IHsgLyogbjpcIkJydEJlZ2luRGVsZXRlZE5hbWVcIiwgKi8gVDoxIH0sXG5cdDB4MDFDNjogeyAvKiBuOlwiQnJ0RW5kRGVsZXRlZE5hbWVcIiwgKi8gVDotMSB9LFxuXHQweDAxQzc6IHsgLyogbjpcIkJydEJlZ2luUVNJRnNcIiwgKi8gVDoxIH0sXG5cdDB4MDFDODogeyAvKiBuOlwiQnJ0RW5kUVNJRnNcIiwgKi8gVDotMSB9LFxuXHQweDAxQzk6IHsgLyogbjpcIkJydEJlZ2luUVNJRlwiLCAqLyBUOjEgfSxcblx0MHgwMUNBOiB7IC8qIG46XCJCcnRFbmRRU0lGXCIsICovIFQ6LTEgfSxcblx0MHgwMUNCOiB7IC8qIG46XCJCcnRCZWdpbkF1dG9Tb3J0U2NvcGVcIiwgKi8gVDoxIH0sXG5cdDB4MDFDQzogeyAvKiBuOlwiQnJ0RW5kQXV0b1NvcnRTY29wZVwiLCAqLyBUOi0xIH0sXG5cdDB4MDFDRDogeyAvKiBuOlwiQnJ0QmVnaW5Db25kaXRpb25hbEZvcm1hdHRpbmdcIiwgKi8gVDoxIH0sXG5cdDB4MDFDRTogeyAvKiBuOlwiQnJ0RW5kQ29uZGl0aW9uYWxGb3JtYXR0aW5nXCIsICovIFQ6LTEgfSxcblx0MHgwMUNGOiB7IC8qIG46XCJCcnRCZWdpbkNGUnVsZVwiLCAqLyBUOjEgfSxcblx0MHgwMUQwOiB7IC8qIG46XCJCcnRFbmRDRlJ1bGVcIiwgKi8gVDotMSB9LFxuXHQweDAxRDE6IHsgLyogbjpcIkJydEJlZ2luSWNvblNldFwiLCAqLyBUOjEgfSxcblx0MHgwMUQyOiB7IC8qIG46XCJCcnRFbmRJY29uU2V0XCIsICovIFQ6LTEgfSxcblx0MHgwMUQzOiB7IC8qIG46XCJCcnRCZWdpbkRhdGFiYXJcIiwgKi8gVDoxIH0sXG5cdDB4MDFENDogeyAvKiBuOlwiQnJ0RW5kRGF0YWJhclwiLCAqLyBUOi0xIH0sXG5cdDB4MDFENTogeyAvKiBuOlwiQnJ0QmVnaW5Db2xvclNjYWxlXCIsICovIFQ6MSB9LFxuXHQweDAxRDY6IHsgLyogbjpcIkJydEVuZENvbG9yU2NhbGVcIiwgKi8gVDotMSB9LFxuXHQweDAxRDc6IHsgLyogbjpcIkJydENGVk9cIiAqLyB9LFxuXHQweDAxRDg6IHsgLyogbjpcIkJydEV4dGVyblZhbHVlTWV0YVwiICovIH0sXG5cdDB4MDFEOTogeyAvKiBuOlwiQnJ0QmVnaW5Db2xvclBhbGV0dGVcIiwgKi8gVDoxIH0sXG5cdDB4MDFEQTogeyAvKiBuOlwiQnJ0RW5kQ29sb3JQYWxldHRlXCIsICovIFQ6LTEgfSxcblx0MHgwMURCOiB7IC8qIG46XCJCcnRJbmRleGVkQ29sb3JcIiAqLyB9LFxuXHQweDAxREM6IHsgLyogbjpcIkJydE1hcmdpbnNcIiwgKi8gZjpwYXJzZV9CcnRNYXJnaW5zIH0sXG5cdDB4MDFERDogeyAvKiBuOlwiQnJ0UHJpbnRPcHRpb25zXCIgKi8gfSxcblx0MHgwMURFOiB7IC8qIG46XCJCcnRQYWdlU2V0dXBcIiAqLyB9LFxuXHQweDAxREY6IHsgLyogbjpcIkJydEJlZ2luSGVhZGVyRm9vdGVyXCIsICovIFQ6MSB9LFxuXHQweDAxRTA6IHsgLyogbjpcIkJydEVuZEhlYWRlckZvb3RlclwiLCAqLyBUOi0xIH0sXG5cdDB4MDFFMTogeyAvKiBuOlwiQnJ0QmVnaW5TWENydEZvcm1hdFwiLCAqLyBUOjEgfSxcblx0MHgwMUUyOiB7IC8qIG46XCJCcnRFbmRTWENydEZvcm1hdFwiLCAqLyBUOi0xIH0sXG5cdDB4MDFFMzogeyAvKiBuOlwiQnJ0QmVnaW5TWENydEZvcm1hdHNcIiwgKi8gVDoxIH0sXG5cdDB4MDFFNDogeyAvKiBuOlwiQnJ0RW5kU1hDcnRGb3JtYXRzXCIsICovIFQ6LTEgfSxcblx0MHgwMUU1OiB7IC8qIG46XCJCcnRXc0ZtdEluZm9cIiwgKi8gZjpwYXJzZV9CcnRXc0ZtdEluZm8gfSxcblx0MHgwMUU2OiB7IC8qIG46XCJCcnRCZWdpbk1nc1wiLCAqLyBUOjEgfSxcblx0MHgwMUU3OiB7IC8qIG46XCJCcnRFbmRNR3NcIiwgKi8gVDotMSB9LFxuXHQweDAxRTg6IHsgLyogbjpcIkJydEJlZ2luTUdNYXBzXCIsICovIFQ6MSB9LFxuXHQweDAxRTk6IHsgLyogbjpcIkJydEVuZE1HTWFwc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDFFQTogeyAvKiBuOlwiQnJ0QmVnaW5NR1wiLCAqLyBUOjEgfSxcblx0MHgwMUVCOiB7IC8qIG46XCJCcnRFbmRNR1wiLCAqLyBUOi0xIH0sXG5cdDB4MDFFQzogeyAvKiBuOlwiQnJ0QmVnaW5NYXBcIiwgKi8gVDoxIH0sXG5cdDB4MDFFRDogeyAvKiBuOlwiQnJ0RW5kTWFwXCIsICovIFQ6LTEgfSxcblx0MHgwMUVFOiB7IC8qIG46XCJCcnRITGlua1wiLCAqLyBmOnBhcnNlX0JydEhMaW5rIH0sXG5cdDB4MDFFRjogeyAvKiBuOlwiQnJ0QmVnaW5EQ29uXCIsICovIFQ6MSB9LFxuXHQweDAxRjA6IHsgLyogbjpcIkJydEVuZERDb25cIiwgKi8gVDotMSB9LFxuXHQweDAxRjE6IHsgLyogbjpcIkJydEJlZ2luRFJlZnNcIiwgKi8gVDoxIH0sXG5cdDB4MDFGMjogeyAvKiBuOlwiQnJ0RW5kRFJlZnNcIiwgKi8gVDotMSB9LFxuXHQweDAxRjM6IHsgLyogbjpcIkJydERSZWZcIiAqLyB9LFxuXHQweDAxRjQ6IHsgLyogbjpcIkJydEJlZ2luU2Nlbk1hblwiLCAqLyBUOjEgfSxcblx0MHgwMUY1OiB7IC8qIG46XCJCcnRFbmRTY2VuTWFuXCIsICovIFQ6LTEgfSxcblx0MHgwMUY2OiB7IC8qIG46XCJCcnRCZWdpblNjdFwiLCAqLyBUOjEgfSxcblx0MHgwMUY3OiB7IC8qIG46XCJCcnRFbmRTY3RcIiwgKi8gVDotMSB9LFxuXHQweDAxRjg6IHsgLyogbjpcIkJydFNsY1wiICovIH0sXG5cdDB4MDFGOTogeyAvKiBuOlwiQnJ0QmVnaW5EWEZzXCIsICovIFQ6MSB9LFxuXHQweDAxRkE6IHsgLyogbjpcIkJydEVuZERYRnNcIiwgKi8gVDotMSB9LFxuXHQweDAxRkI6IHsgLyogbjpcIkJydERYRlwiICovIH0sXG5cdDB4MDFGQzogeyAvKiBuOlwiQnJ0QmVnaW5UYWJsZVN0eWxlc1wiLCAqLyBUOjEgfSxcblx0MHgwMUZEOiB7IC8qIG46XCJCcnRFbmRUYWJsZVN0eWxlc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDFGRTogeyAvKiBuOlwiQnJ0QmVnaW5UYWJsZVN0eWxlXCIsICovIFQ6MSB9LFxuXHQweDAxRkY6IHsgLyogbjpcIkJydEVuZFRhYmxlU3R5bGVcIiwgKi8gVDotMSB9LFxuXHQweDAyMDA6IHsgLyogbjpcIkJydFRhYmxlU3R5bGVFbGVtZW50XCIgKi8gfSxcblx0MHgwMjAxOiB7IC8qIG46XCJCcnRUYWJsZVN0eWxlQ2xpZW50XCIgKi8gfSxcblx0MHgwMjAyOiB7IC8qIG46XCJCcnRCZWdpblZvbERlcHNcIiwgKi8gVDoxIH0sXG5cdDB4MDIwMzogeyAvKiBuOlwiQnJ0RW5kVm9sRGVwc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDIwNDogeyAvKiBuOlwiQnJ0QmVnaW5Wb2xUeXBlXCIsICovIFQ6MSB9LFxuXHQweDAyMDU6IHsgLyogbjpcIkJydEVuZFZvbFR5cGVcIiwgKi8gVDotMSB9LFxuXHQweDAyMDY6IHsgLyogbjpcIkJydEJlZ2luVm9sTWFpblwiLCAqLyBUOjEgfSxcblx0MHgwMjA3OiB7IC8qIG46XCJCcnRFbmRWb2xNYWluXCIsICovIFQ6LTEgfSxcblx0MHgwMjA4OiB7IC8qIG46XCJCcnRCZWdpblZvbFRvcGljXCIsICovIFQ6MSB9LFxuXHQweDAyMDk6IHsgLyogbjpcIkJydEVuZFZvbFRvcGljXCIsICovIFQ6LTEgfSxcblx0MHgwMjBBOiB7IC8qIG46XCJCcnRWb2xTdWJ0b3BpY1wiICovIH0sXG5cdDB4MDIwQjogeyAvKiBuOlwiQnJ0Vm9sUmVmXCIgKi8gfSxcblx0MHgwMjBDOiB7IC8qIG46XCJCcnRWb2xOdW1cIiAqLyB9LFxuXHQweDAyMEQ6IHsgLyogbjpcIkJydFZvbEVyclwiICovIH0sXG5cdDB4MDIwRTogeyAvKiBuOlwiQnJ0Vm9sU3RyXCIgKi8gfSxcblx0MHgwMjBGOiB7IC8qIG46XCJCcnRWb2xCb29sXCIgKi8gfSxcblx0MHgwMjEwOiB7IC8qIG46XCJCcnRCZWdpbkNhbGNDaGFpbiRcIiwgKi8gVDoxIH0sXG5cdDB4MDIxMTogeyAvKiBuOlwiQnJ0RW5kQ2FsY0NoYWluJFwiLCAqLyBUOi0xIH0sXG5cdDB4MDIxMjogeyAvKiBuOlwiQnJ0QmVnaW5Tb3J0U3RhdGVcIiwgKi8gVDoxIH0sXG5cdDB4MDIxMzogeyAvKiBuOlwiQnJ0RW5kU29ydFN0YXRlXCIsICovIFQ6LTEgfSxcblx0MHgwMjE0OiB7IC8qIG46XCJCcnRCZWdpblNvcnRDb25kXCIsICovIFQ6MSB9LFxuXHQweDAyMTU6IHsgLyogbjpcIkJydEVuZFNvcnRDb25kXCIsICovIFQ6LTEgfSxcblx0MHgwMjE2OiB7IC8qIG46XCJCcnRCb29rUHJvdGVjdGlvblwiICovIH0sXG5cdDB4MDIxNzogeyAvKiBuOlwiQnJ0U2hlZXRQcm90ZWN0aW9uXCIgKi8gfSxcblx0MHgwMjE4OiB7IC8qIG46XCJCcnRSYW5nZVByb3RlY3Rpb25cIiAqLyB9LFxuXHQweDAyMTk6IHsgLyogbjpcIkJydFBob25ldGljSW5mb1wiICovIH0sXG5cdDB4MDIxQTogeyAvKiBuOlwiQnJ0QmVnaW5FQ1R4dFdpelwiLCAqLyBUOjEgfSxcblx0MHgwMjFCOiB7IC8qIG46XCJCcnRFbmRFQ1R4dFdpelwiLCAqLyBUOi0xIH0sXG5cdDB4MDIxQzogeyAvKiBuOlwiQnJ0QmVnaW5FQ1RXRmxkSW5mb0xzdFwiLCAqLyBUOjEgfSxcblx0MHgwMjFEOiB7IC8qIG46XCJCcnRFbmRFQ1RXRmxkSW5mb0xzdFwiLCAqLyBUOi0xIH0sXG5cdDB4MDIxRTogeyAvKiBuOlwiQnJ0QmVnaW5FQ1R3RmxkSW5mb1wiLCAqLyBUOjEgfSxcblx0MHgwMjI0OiB7IC8qIG46XCJCcnRGaWxlU2hhcmluZ1wiICovIH0sXG5cdDB4MDIyNTogeyAvKiBuOlwiQnJ0T2xlU2l6ZVwiICovIH0sXG5cdDB4MDIyNjogeyAvKiBuOlwiQnJ0RHJhd2luZ1wiLCAqLyBmOnBhcnNlX1JlbElEIH0sXG5cdDB4MDIyNzogeyAvKiBuOlwiQnJ0TGVnYWN5RHJhd2luZ1wiLCAqLyBmOnBhcnNlX1hMTnVsbGFibGVXaWRlU3RyaW5nIH0sXG5cdDB4MDIyODogeyAvKiBuOlwiQnJ0TGVnYWN5RHJhd2luZ0hGXCIgKi8gfSxcblx0MHgwMjI5OiB7IC8qIG46XCJCcnRXZWJPcHRcIiAqLyB9LFxuXHQweDAyMkE6IHsgLyogbjpcIkJydEJlZ2luV2ViUHViSXRlbXNcIiwgKi8gVDoxIH0sXG5cdDB4MDIyQjogeyAvKiBuOlwiQnJ0RW5kV2ViUHViSXRlbXNcIiwgKi8gVDotMSB9LFxuXHQweDAyMkM6IHsgLyogbjpcIkJydEJlZ2luV2ViUHViSXRlbVwiLCAqLyBUOjEgfSxcblx0MHgwMjJEOiB7IC8qIG46XCJCcnRFbmRXZWJQdWJJdGVtXCIsICovIFQ6LTEgfSxcblx0MHgwMjJFOiB7IC8qIG46XCJCcnRCZWdpblNYQ29uZEZtdFwiLCAqLyBUOjEgfSxcblx0MHgwMjJGOiB7IC8qIG46XCJCcnRFbmRTWENvbmRGbXRcIiwgKi8gVDotMSB9LFxuXHQweDAyMzA6IHsgLyogbjpcIkJydEJlZ2luU1hDb25kRm10c1wiLCAqLyBUOjEgfSxcblx0MHgwMjMxOiB7IC8qIG46XCJCcnRFbmRTWENvbmRGbXRzXCIsICovIFQ6LTEgfSxcblx0MHgwMjMyOiB7IC8qIG46XCJCcnRCa0hpbVwiICovIH0sXG5cdDB4MDIzNDogeyAvKiBuOlwiQnJ0Q29sb3JcIiAqLyB9LFxuXHQweDAyMzU6IHsgLyogbjpcIkJydEJlZ2luSW5kZXhlZENvbG9yc1wiLCAqLyBUOjEgfSxcblx0MHgwMjM2OiB7IC8qIG46XCJCcnRFbmRJbmRleGVkQ29sb3JzXCIsICovIFQ6LTEgfSxcblx0MHgwMjM5OiB7IC8qIG46XCJCcnRCZWdpbk1SVUNvbG9yc1wiLCAqLyBUOjEgfSxcblx0MHgwMjNBOiB7IC8qIG46XCJCcnRFbmRNUlVDb2xvcnNcIiwgKi8gVDotMSB9LFxuXHQweDAyM0M6IHsgLyogbjpcIkJydE1SVUNvbG9yXCIgKi8gfSxcblx0MHgwMjNEOiB7IC8qIG46XCJCcnRCZWdpbkRWYWxzXCIsICovIFQ6MSB9LFxuXHQweDAyM0U6IHsgLyogbjpcIkJydEVuZERWYWxzXCIsICovIFQ6LTEgfSxcblx0MHgwMjQxOiB7IC8qIG46XCJCcnRTdXBOYW1lU3RhcnRcIiAqLyB9LFxuXHQweDAyNDI6IHsgLyogbjpcIkJydFN1cE5hbWVWYWx1ZVN0YXJ0XCIgKi8gfSxcblx0MHgwMjQzOiB7IC8qIG46XCJCcnRTdXBOYW1lVmFsdWVFbmRcIiAqLyB9LFxuXHQweDAyNDQ6IHsgLyogbjpcIkJydFN1cE5hbWVOdW1cIiAqLyB9LFxuXHQweDAyNDU6IHsgLyogbjpcIkJydFN1cE5hbWVFcnJcIiAqLyB9LFxuXHQweDAyNDY6IHsgLyogbjpcIkJydFN1cE5hbWVTdFwiICovIH0sXG5cdDB4MDI0NzogeyAvKiBuOlwiQnJ0U3VwTmFtZU5pbFwiICovIH0sXG5cdDB4MDI0ODogeyAvKiBuOlwiQnJ0U3VwTmFtZUJvb2xcIiAqLyB9LFxuXHQweDAyNDk6IHsgLyogbjpcIkJydFN1cE5hbWVGbWxhXCIgKi8gfSxcblx0MHgwMjRBOiB7IC8qIG46XCJCcnRTdXBOYW1lQml0c1wiICovIH0sXG5cdDB4MDI0QjogeyAvKiBuOlwiQnJ0U3VwTmFtZUVuZFwiICovIH0sXG5cdDB4MDI0QzogeyAvKiBuOlwiQnJ0RW5kU3VwQm9va1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI0RDogeyAvKiBuOlwiQnJ0Q2VsbFNtYXJ0VGFnUHJvcGVydHlcIiAqLyB9LFxuXHQweDAyNEU6IHsgLyogbjpcIkJydEJlZ2luQ2VsbFNtYXJ0VGFnXCIsICovIFQ6MSB9LFxuXHQweDAyNEY6IHsgLyogbjpcIkJydEVuZENlbGxTbWFydFRhZ1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI1MDogeyAvKiBuOlwiQnJ0QmVnaW5DZWxsU21hcnRUYWdzXCIsICovIFQ6MSB9LFxuXHQweDAyNTE6IHsgLyogbjpcIkJydEVuZENlbGxTbWFydFRhZ3NcIiwgKi8gVDotMSB9LFxuXHQweDAyNTI6IHsgLyogbjpcIkJydEJlZ2luU21hcnRUYWdzXCIsICovIFQ6MSB9LFxuXHQweDAyNTM6IHsgLyogbjpcIkJydEVuZFNtYXJ0VGFnc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI1NDogeyAvKiBuOlwiQnJ0U21hcnRUYWdUeXBlXCIgKi8gfSxcblx0MHgwMjU1OiB7IC8qIG46XCJCcnRCZWdpblNtYXJ0VGFnVHlwZXNcIiwgKi8gVDoxIH0sXG5cdDB4MDI1NjogeyAvKiBuOlwiQnJ0RW5kU21hcnRUYWdUeXBlc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI1NzogeyAvKiBuOlwiQnJ0QmVnaW5TWEZpbHRlcnNcIiwgKi8gVDoxIH0sXG5cdDB4MDI1ODogeyAvKiBuOlwiQnJ0RW5kU1hGaWx0ZXJzXCIsICovIFQ6LTEgfSxcblx0MHgwMjU5OiB7IC8qIG46XCJCcnRCZWdpblNYRklMVEVSXCIsICovIFQ6MSB9LFxuXHQweDAyNUE6IHsgLyogbjpcIkJydEVuZFNYRmlsdGVyXCIsICovIFQ6LTEgfSxcblx0MHgwMjVCOiB7IC8qIG46XCJCcnRCZWdpbkZpbGxzXCIsICovIFQ6MSB9LFxuXHQweDAyNUM6IHsgLyogbjpcIkJydEVuZEZpbGxzXCIsICovIFQ6LTEgfSxcblx0MHgwMjVEOiB7IC8qIG46XCJCcnRCZWdpbkNlbGxXYXRjaGVzXCIsICovIFQ6MSB9LFxuXHQweDAyNUU6IHsgLyogbjpcIkJydEVuZENlbGxXYXRjaGVzXCIsICovIFQ6LTEgfSxcblx0MHgwMjVGOiB7IC8qIG46XCJCcnRDZWxsV2F0Y2hcIiAqLyB9LFxuXHQweDAyNjA6IHsgLyogbjpcIkJydEJlZ2luQ1JFcnJzXCIsICovIFQ6MSB9LFxuXHQweDAyNjE6IHsgLyogbjpcIkJydEVuZENSRXJyc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI2MjogeyAvKiBuOlwiQnJ0Q3Jhc2hSZWNFcnJcIiAqLyB9LFxuXHQweDAyNjM6IHsgLyogbjpcIkJydEJlZ2luRm9udHNcIiwgKi8gVDoxIH0sXG5cdDB4MDI2NDogeyAvKiBuOlwiQnJ0RW5kRm9udHNcIiwgKi8gVDotMSB9LFxuXHQweDAyNjU6IHsgLyogbjpcIkJydEJlZ2luQm9yZGVyc1wiLCAqLyBUOjEgfSxcblx0MHgwMjY2OiB7IC8qIG46XCJCcnRFbmRCb3JkZXJzXCIsICovIFQ6LTEgfSxcblx0MHgwMjY3OiB7IC8qIG46XCJCcnRCZWdpbkZtdHNcIiwgKi8gVDoxIH0sXG5cdDB4MDI2ODogeyAvKiBuOlwiQnJ0RW5kRm10c1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI2OTogeyAvKiBuOlwiQnJ0QmVnaW5DZWxsWEZzXCIsICovIFQ6MSB9LFxuXHQweDAyNkE6IHsgLyogbjpcIkJydEVuZENlbGxYRnNcIiwgKi8gVDotMSB9LFxuXHQweDAyNkI6IHsgLyogbjpcIkJydEJlZ2luU3R5bGVzXCIsICovIFQ6MSB9LFxuXHQweDAyNkM6IHsgLyogbjpcIkJydEVuZFN0eWxlc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI3MTogeyAvKiBuOlwiQnJ0QmlnTmFtZVwiICovIH0sXG5cdDB4MDI3MjogeyAvKiBuOlwiQnJ0QmVnaW5DZWxsU3R5bGVYRnNcIiwgKi8gVDoxIH0sXG5cdDB4MDI3MzogeyAvKiBuOlwiQnJ0RW5kQ2VsbFN0eWxlWEZzXCIsICovIFQ6LTEgfSxcblx0MHgwMjc0OiB7IC8qIG46XCJCcnRCZWdpbkNvbW1lbnRzXCIsICovIFQ6MSB9LFxuXHQweDAyNzU6IHsgLyogbjpcIkJydEVuZENvbW1lbnRzXCIsICovIFQ6LTEgfSxcblx0MHgwMjc2OiB7IC8qIG46XCJCcnRCZWdpbkNvbW1lbnRBdXRob3JzXCIsICovIFQ6MSB9LFxuXHQweDAyNzc6IHsgLyogbjpcIkJydEVuZENvbW1lbnRBdXRob3JzXCIsICovIFQ6LTEgfSxcblx0MHgwMjc4OiB7IC8qIG46XCJCcnRDb21tZW50QXV0aG9yXCIsICovIGY6cGFyc2VfQnJ0Q29tbWVudEF1dGhvciB9LFxuXHQweDAyNzk6IHsgLyogbjpcIkJydEJlZ2luQ29tbWVudExpc3RcIiwgKi8gVDoxIH0sXG5cdDB4MDI3QTogeyAvKiBuOlwiQnJ0RW5kQ29tbWVudExpc3RcIiwgKi8gVDotMSB9LFxuXHQweDAyN0I6IHsgLyogbjpcIkJydEJlZ2luQ29tbWVudFwiLCAqLyBUOjEsIGY6cGFyc2VfQnJ0QmVnaW5Db21tZW50fSxcblx0MHgwMjdDOiB7IC8qIG46XCJCcnRFbmRDb21tZW50XCIsICovIFQ6LTEgfSxcblx0MHgwMjdEOiB7IC8qIG46XCJCcnRDb21tZW50VGV4dFwiLCAqLyBmOnBhcnNlX0JydENvbW1lbnRUZXh0IH0sXG5cdDB4MDI3RTogeyAvKiBuOlwiQnJ0QmVnaW5PbGVPYmplY3RzXCIsICovIFQ6MSB9LFxuXHQweDAyN0Y6IHsgLyogbjpcIkJydE9sZU9iamVjdFwiICovIH0sXG5cdDB4MDI4MDogeyAvKiBuOlwiQnJ0RW5kT2xlT2JqZWN0c1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI4MTogeyAvKiBuOlwiQnJ0QmVnaW5TeHJ1bGVzXCIsICovIFQ6MSB9LFxuXHQweDAyODI6IHsgLyogbjpcIkJydEVuZFN4UnVsZXNcIiwgKi8gVDotMSB9LFxuXHQweDAyODM6IHsgLyogbjpcIkJydEJlZ2luQWN0aXZlWENvbnRyb2xzXCIsICovIFQ6MSB9LFxuXHQweDAyODQ6IHsgLyogbjpcIkJydEFjdGl2ZVhcIiAqLyB9LFxuXHQweDAyODU6IHsgLyogbjpcIkJydEVuZEFjdGl2ZVhDb250cm9sc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI4NjogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RTRFRDRU1lbWJlcnNTb3J0QnlcIiwgKi8gVDoxIH0sXG5cdDB4MDI4ODogeyAvKiBuOlwiQnJ0QmVnaW5DZWxsSWdub3JlRUNzXCIsICovIFQ6MSB9LFxuXHQweDAyODk6IHsgLyogbjpcIkJydENlbGxJZ25vcmVFQ1wiICovIH0sXG5cdDB4MDI4QTogeyAvKiBuOlwiQnJ0RW5kQ2VsbElnbm9yZUVDc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDI4QjogeyAvKiBuOlwiQnJ0Q3NQcm9wXCIsICovIGY6cGFyc2VfQnJ0Q3NQcm9wIH0sXG5cdDB4MDI4QzogeyAvKiBuOlwiQnJ0Q3NQYWdlU2V0dXBcIiAqLyB9LFxuXHQweDAyOEQ6IHsgLyogbjpcIkJydEJlZ2luVXNlckNzVmlld3NcIiwgKi8gVDoxIH0sXG5cdDB4MDI4RTogeyAvKiBuOlwiQnJ0RW5kVXNlckNzVmlld3NcIiwgKi8gVDotMSB9LFxuXHQweDAyOEY6IHsgLyogbjpcIkJydEJlZ2luVXNlckNzVmlld1wiLCAqLyBUOjEgfSxcblx0MHgwMjkwOiB7IC8qIG46XCJCcnRFbmRVc2VyQ3NWaWV3XCIsICovIFQ6LTEgfSxcblx0MHgwMjkxOiB7IC8qIG46XCJCcnRCZWdpblBjZFNGQ0lFbnRyaWVzXCIsICovIFQ6MSB9LFxuXHQweDAyOTI6IHsgLyogbjpcIkJydEVuZFBDRFNGQ0lFbnRyaWVzXCIsICovIFQ6LTEgfSxcblx0MHgwMjkzOiB7IC8qIG46XCJCcnRQQ0RTRkNJRW50cnlcIiAqLyB9LFxuXHQweDAyOTQ6IHsgLyogbjpcIkJydEJlZ2luTGlzdFBhcnRzXCIsICovIFQ6MSB9LFxuXHQweDAyOTU6IHsgLyogbjpcIkJydExpc3RQYXJ0XCIgKi8gfSxcblx0MHgwMjk2OiB7IC8qIG46XCJCcnRFbmRMaXN0UGFydHNcIiwgKi8gVDotMSB9LFxuXHQweDAyOTc6IHsgLyogbjpcIkJydFNoZWV0Q2FsY1Byb3BcIiAqLyB9LFxuXHQweDAyOTg6IHsgLyogbjpcIkJydEJlZ2luRm5Hcm91cFwiLCAqLyBUOjEgfSxcblx0MHgwMjk5OiB7IC8qIG46XCJCcnRGbkdyb3VwXCIgKi8gfSxcblx0MHgwMjlBOiB7IC8qIG46XCJCcnRFbmRGbkdyb3VwXCIsICovIFQ6LTEgfSxcblx0MHgwMjlCOiB7IC8qIG46XCJCcnRTdXBBZGRpblwiICovIH0sXG5cdDB4MDI5QzogeyAvKiBuOlwiQnJ0U1hURE1QT3JkZXJcIiAqLyB9LFxuXHQweDAyOUQ6IHsgLyogbjpcIkJydENzUHJvdGVjdGlvblwiICovIH0sXG5cdDB4MDI5RjogeyAvKiBuOlwiQnJ0QmVnaW5Xc1NvcnRNYXBcIiwgKi8gVDoxIH0sXG5cdDB4MDJBMDogeyAvKiBuOlwiQnJ0RW5kV3NTb3J0TWFwXCIsICovIFQ6LTEgfSxcblx0MHgwMkExOiB7IC8qIG46XCJCcnRCZWdpblJSU29ydFwiLCAqLyBUOjEgfSxcblx0MHgwMkEyOiB7IC8qIG46XCJCcnRFbmRSUlNvcnRcIiwgKi8gVDotMSB9LFxuXHQweDAyQTM6IHsgLyogbjpcIkJydFJSU29ydEl0ZW1cIiAqLyB9LFxuXHQweDAyQTQ6IHsgLyogbjpcIkJydEZpbGVTaGFyaW5nSXNvXCIgKi8gfSxcblx0MHgwMkE1OiB7IC8qIG46XCJCcnRCb29rUHJvdGVjdGlvbklzb1wiICovIH0sXG5cdDB4MDJBNjogeyAvKiBuOlwiQnJ0U2hlZXRQcm90ZWN0aW9uSXNvXCIgKi8gfSxcblx0MHgwMkE3OiB7IC8qIG46XCJCcnRDc1Byb3RlY3Rpb25Jc29cIiAqLyB9LFxuXHQweDAyQTg6IHsgLyogbjpcIkJydFJhbmdlUHJvdGVjdGlvbklzb1wiICovIH0sXG5cdDB4MDJBOTogeyAvKiBuOlwiQnJ0RFZhbExpc3RcIiAqLyB9LFxuXHQweDA0MDA6IHsgLyogbjpcIkJydFJ3RGVzY2VudFwiICovIH0sXG5cdDB4MDQwMTogeyAvKiBuOlwiQnJ0S25vd25Gb250c1wiICovIH0sXG5cdDB4MDQwMjogeyAvKiBuOlwiQnJ0QmVnaW5TWFR1cGxlU2V0XCIsICovIFQ6MSB9LFxuXHQweDA0MDM6IHsgLyogbjpcIkJydEVuZFNYVHVwbGVTZXRcIiwgKi8gVDotMSB9LFxuXHQweDA0MDQ6IHsgLyogbjpcIkJydEJlZ2luU1hUdXBsZVNldEhlYWRlclwiLCAqLyBUOjEgfSxcblx0MHgwNDA1OiB7IC8qIG46XCJCcnRFbmRTWFR1cGxlU2V0SGVhZGVyXCIsICovIFQ6LTEgfSxcblx0MHgwNDA2OiB7IC8qIG46XCJCcnRTWFR1cGxlU2V0SGVhZGVySXRlbVwiICovIH0sXG5cdDB4MDQwNzogeyAvKiBuOlwiQnJ0QmVnaW5TWFR1cGxlU2V0RGF0YVwiLCAqLyBUOjEgfSxcblx0MHgwNDA4OiB7IC8qIG46XCJCcnRFbmRTWFR1cGxlU2V0RGF0YVwiLCAqLyBUOi0xIH0sXG5cdDB4MDQwOTogeyAvKiBuOlwiQnJ0QmVnaW5TWFR1cGxlU2V0Um93XCIsICovIFQ6MSB9LFxuXHQweDA0MEE6IHsgLyogbjpcIkJydEVuZFNYVHVwbGVTZXRSb3dcIiwgKi8gVDotMSB9LFxuXHQweDA0MEI6IHsgLyogbjpcIkJydFNYVHVwbGVTZXRSb3dJdGVtXCIgKi8gfSxcblx0MHgwNDBDOiB7IC8qIG46XCJCcnROYW1lRXh0XCIgKi8gfSxcblx0MHgwNDBEOiB7IC8qIG46XCJCcnRQQ0RIMTRcIiAqLyB9LFxuXHQweDA0MEU6IHsgLyogbjpcIkJydEJlZ2luUENEQ2FsY01lbTE0XCIsICovIFQ6MSB9LFxuXHQweDA0MEY6IHsgLyogbjpcIkJydEVuZFBDRENhbGNNZW0xNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQxMDogeyAvKiBuOlwiQnJ0U1hUSDE0XCIgKi8gfSxcblx0MHgwNDExOiB7IC8qIG46XCJCcnRCZWdpblNwYXJrbGluZUdyb3VwXCIsICovIFQ6MSB9LFxuXHQweDA0MTI6IHsgLyogbjpcIkJydEVuZFNwYXJrbGluZUdyb3VwXCIsICovIFQ6LTEgfSxcblx0MHgwNDEzOiB7IC8qIG46XCJCcnRTcGFya2xpbmVcIiAqLyB9LFxuXHQweDA0MTQ6IHsgLyogbjpcIkJydFNYREkxNFwiICovIH0sXG5cdDB4MDQxNTogeyAvKiBuOlwiQnJ0V3NGbXRJbmZvRXgxNFwiICovIH0sXG5cdDB4MDQxNjogeyAvKiBuOlwiQnJ0QmVnaW5Db25kaXRpb25hbEZvcm1hdHRpbmcxNFwiLCAqLyBUOjEgfSxcblx0MHgwNDE3OiB7IC8qIG46XCJCcnRFbmRDb25kaXRpb25hbEZvcm1hdHRpbmcxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQxODogeyAvKiBuOlwiQnJ0QmVnaW5DRlJ1bGUxNFwiLCAqLyBUOjEgfSxcblx0MHgwNDE5OiB7IC8qIG46XCJCcnRFbmRDRlJ1bGUxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQxQTogeyAvKiBuOlwiQnJ0Q0ZWTzE0XCIgKi8gfSxcblx0MHgwNDFCOiB7IC8qIG46XCJCcnRCZWdpbkRhdGFiYXIxNFwiLCAqLyBUOjEgfSxcblx0MHgwNDFDOiB7IC8qIG46XCJCcnRCZWdpbkljb25TZXQxNFwiLCAqLyBUOjEgfSxcblx0MHgwNDFEOiB7IC8qIG46XCJCcnREVmFsMTRcIiwgKi8gZjogcGFyc2VfQnJ0RFZhbDE0IH0sXG5cdDB4MDQxRTogeyAvKiBuOlwiQnJ0QmVnaW5EVmFsczE0XCIsICovIFQ6MSB9LFxuXHQweDA0MUY6IHsgLyogbjpcIkJydENvbG9yMTRcIiAqLyB9LFxuXHQweDA0MjA6IHsgLyogbjpcIkJydEJlZ2luU3BhcmtsaW5lc1wiLCAqLyBUOjEgfSxcblx0MHgwNDIxOiB7IC8qIG46XCJCcnRFbmRTcGFya2xpbmVzXCIsICovIFQ6LTEgfSxcblx0MHgwNDIyOiB7IC8qIG46XCJCcnRCZWdpblNwYXJrbGluZUdyb3Vwc1wiLCAqLyBUOjEgfSxcblx0MHgwNDIzOiB7IC8qIG46XCJCcnRFbmRTcGFya2xpbmVHcm91cHNcIiwgKi8gVDotMSB9LFxuXHQweDA0MjU6IHsgLyogbjpcIkJydFNYVkQxNFwiICovIH0sXG5cdDB4MDQyNjogeyAvKiBuOlwiQnJ0QmVnaW5TWFZpZXcxNFwiLCAqLyBUOjEgfSxcblx0MHgwNDI3OiB7IC8qIG46XCJCcnRFbmRTWFZpZXcxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQyODogeyAvKiBuOlwiQnJ0QmVnaW5TWFZpZXcxNlwiLCAqLyBUOjEgfSxcblx0MHgwNDI5OiB7IC8qIG46XCJCcnRFbmRTWFZpZXcxNlwiLCAqLyBUOi0xIH0sXG5cdDB4MDQyQTogeyAvKiBuOlwiQnJ0QmVnaW5QQ0QxNFwiLCAqLyBUOjEgfSxcblx0MHgwNDJCOiB7IC8qIG46XCJCcnRFbmRQQ0QxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQyQzogeyAvKiBuOlwiQnJ0QmVnaW5FeHRDb25uMTRcIiwgKi8gVDoxIH0sXG5cdDB4MDQyRDogeyAvKiBuOlwiQnJ0RW5kRXh0Q29ubjE0XCIsICovIFQ6LTEgfSxcblx0MHgwNDJFOiB7IC8qIG46XCJCcnRCZWdpblNsaWNlckNhY2hlSURzXCIsICovIFQ6MSB9LFxuXHQweDA0MkY6IHsgLyogbjpcIkJydEVuZFNsaWNlckNhY2hlSURzXCIsICovIFQ6LTEgfSxcblx0MHgwNDMwOiB7IC8qIG46XCJCcnRCZWdpblNsaWNlckNhY2hlSURcIiwgKi8gVDoxIH0sXG5cdDB4MDQzMTogeyAvKiBuOlwiQnJ0RW5kU2xpY2VyQ2FjaGVJRFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQzMzogeyAvKiBuOlwiQnJ0QmVnaW5TbGljZXJDYWNoZVwiLCAqLyBUOjEgfSxcblx0MHgwNDM0OiB7IC8qIG46XCJCcnRFbmRTbGljZXJDYWNoZVwiLCAqLyBUOi0xIH0sXG5cdDB4MDQzNTogeyAvKiBuOlwiQnJ0QmVnaW5TbGljZXJDYWNoZURlZlwiLCAqLyBUOjEgfSxcblx0MHgwNDM2OiB7IC8qIG46XCJCcnRFbmRTbGljZXJDYWNoZURlZlwiLCAqLyBUOi0xIH0sXG5cdDB4MDQzNzogeyAvKiBuOlwiQnJ0QmVnaW5TbGljZXJzRXhcIiwgKi8gVDoxIH0sXG5cdDB4MDQzODogeyAvKiBuOlwiQnJ0RW5kU2xpY2Vyc0V4XCIsICovIFQ6LTEgfSxcblx0MHgwNDM5OiB7IC8qIG46XCJCcnRCZWdpblNsaWNlckV4XCIsICovIFQ6MSB9LFxuXHQweDA0M0E6IHsgLyogbjpcIkJydEVuZFNsaWNlckV4XCIsICovIFQ6LTEgfSxcblx0MHgwNDNCOiB7IC8qIG46XCJCcnRCZWdpblNsaWNlclwiLCAqLyBUOjEgfSxcblx0MHgwNDNDOiB7IC8qIG46XCJCcnRFbmRTbGljZXJcIiwgKi8gVDotMSB9LFxuXHQweDA0M0Q6IHsgLyogbjpcIkJydFNsaWNlckNhY2hlUGl2b3RUYWJsZXNcIiAqLyB9LFxuXHQweDA0M0U6IHsgLyogbjpcIkJydEJlZ2luU2xpY2VyQ2FjaGVPbGFwSW1wbFwiLCAqLyBUOjEgfSxcblx0MHgwNDNGOiB7IC8qIG46XCJCcnRFbmRTbGljZXJDYWNoZU9sYXBJbXBsXCIsICovIFQ6LTEgfSxcblx0MHgwNDQwOiB7IC8qIG46XCJCcnRCZWdpblNsaWNlckNhY2hlTGV2ZWxzRGF0YVwiLCAqLyBUOjEgfSxcblx0MHgwNDQxOiB7IC8qIG46XCJCcnRFbmRTbGljZXJDYWNoZUxldmVsc0RhdGFcIiwgKi8gVDotMSB9LFxuXHQweDA0NDI6IHsgLyogbjpcIkJydEJlZ2luU2xpY2VyQ2FjaGVMZXZlbERhdGFcIiwgKi8gVDoxIH0sXG5cdDB4MDQ0MzogeyAvKiBuOlwiQnJ0RW5kU2xpY2VyQ2FjaGVMZXZlbERhdGFcIiwgKi8gVDotMSB9LFxuXHQweDA0NDQ6IHsgLyogbjpcIkJydEJlZ2luU2xpY2VyQ2FjaGVTaVJhbmdlc1wiLCAqLyBUOjEgfSxcblx0MHgwNDQ1OiB7IC8qIG46XCJCcnRFbmRTbGljZXJDYWNoZVNpUmFuZ2VzXCIsICovIFQ6LTEgfSxcblx0MHgwNDQ2OiB7IC8qIG46XCJCcnRCZWdpblNsaWNlckNhY2hlU2lSYW5nZVwiLCAqLyBUOjEgfSxcblx0MHgwNDQ3OiB7IC8qIG46XCJCcnRFbmRTbGljZXJDYWNoZVNpUmFuZ2VcIiwgKi8gVDotMSB9LFxuXHQweDA0NDg6IHsgLyogbjpcIkJydFNsaWNlckNhY2hlT2xhcEl0ZW1cIiAqLyB9LFxuXHQweDA0NDk6IHsgLyogbjpcIkJydEJlZ2luU2xpY2VyQ2FjaGVTZWxlY3Rpb25zXCIsICovIFQ6MSB9LFxuXHQweDA0NEE6IHsgLyogbjpcIkJydFNsaWNlckNhY2hlU2VsZWN0aW9uXCIgKi8gfSxcblx0MHgwNDRCOiB7IC8qIG46XCJCcnRFbmRTbGljZXJDYWNoZVNlbGVjdGlvbnNcIiwgKi8gVDotMSB9LFxuXHQweDA0NEM6IHsgLyogbjpcIkJydEJlZ2luU2xpY2VyQ2FjaGVOYXRpdmVcIiwgKi8gVDoxIH0sXG5cdDB4MDQ0RDogeyAvKiBuOlwiQnJ0RW5kU2xpY2VyQ2FjaGVOYXRpdmVcIiwgKi8gVDotMSB9LFxuXHQweDA0NEU6IHsgLyogbjpcIkJydFNsaWNlckNhY2hlTmF0aXZlSXRlbVwiICovIH0sXG5cdDB4MDQ0RjogeyAvKiBuOlwiQnJ0UmFuZ2VQcm90ZWN0aW9uMTRcIiAqLyB9LFxuXHQweDA0NTA6IHsgLyogbjpcIkJydFJhbmdlUHJvdGVjdGlvbklzbzE0XCIgKi8gfSxcblx0MHgwNDUxOiB7IC8qIG46XCJCcnRDZWxsSWdub3JlRUMxNFwiICovIH0sXG5cdDB4MDQ1NzogeyAvKiBuOlwiQnJ0TGlzdDE0XCIgKi8gfSxcblx0MHgwNDU4OiB7IC8qIG46XCJCcnRDRkljb25cIiAqLyB9LFxuXHQweDA0NTk6IHsgLyogbjpcIkJydEJlZ2luU2xpY2VyQ2FjaGVzUGl2b3RDYWNoZUlEc1wiLCAqLyBUOjEgfSxcblx0MHgwNDVBOiB7IC8qIG46XCJCcnRFbmRTbGljZXJDYWNoZXNQaXZvdENhY2hlSURzXCIsICovIFQ6LTEgfSxcblx0MHgwNDVCOiB7IC8qIG46XCJCcnRCZWdpblNsaWNlcnNcIiwgKi8gVDoxIH0sXG5cdDB4MDQ1QzogeyAvKiBuOlwiQnJ0RW5kU2xpY2Vyc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDQ1RDogeyAvKiBuOlwiQnJ0V2JQcm9wMTRcIiAqLyB9LFxuXHQweDA0NUU6IHsgLyogbjpcIkJydEJlZ2luU1hFZGl0XCIsICovIFQ6MSB9LFxuXHQweDA0NUY6IHsgLyogbjpcIkJydEVuZFNYRWRpdFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQ2MDogeyAvKiBuOlwiQnJ0QmVnaW5TWEVkaXRzXCIsICovIFQ6MSB9LFxuXHQweDA0NjE6IHsgLyogbjpcIkJydEVuZFNYRWRpdHNcIiwgKi8gVDotMSB9LFxuXHQweDA0NjI6IHsgLyogbjpcIkJydEJlZ2luU1hDaGFuZ2VcIiwgKi8gVDoxIH0sXG5cdDB4MDQ2MzogeyAvKiBuOlwiQnJ0RW5kU1hDaGFuZ2VcIiwgKi8gVDotMSB9LFxuXHQweDA0NjQ6IHsgLyogbjpcIkJydEJlZ2luU1hDaGFuZ2VzXCIsICovIFQ6MSB9LFxuXHQweDA0NjU6IHsgLyogbjpcIkJydEVuZFNYQ2hhbmdlc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDQ2NjogeyAvKiBuOlwiQnJ0U1hUdXBsZUl0ZW1zXCIgKi8gfSxcblx0MHgwNDY4OiB7IC8qIG46XCJCcnRCZWdpblNsaWNlclN0eWxlXCIsICovIFQ6MSB9LFxuXHQweDA0Njk6IHsgLyogbjpcIkJydEVuZFNsaWNlclN0eWxlXCIsICovIFQ6LTEgfSxcblx0MHgwNDZBOiB7IC8qIG46XCJCcnRTbGljZXJTdHlsZUVsZW1lbnRcIiAqLyB9LFxuXHQweDA0NkI6IHsgLyogbjpcIkJydEJlZ2luU3R5bGVTaGVldEV4dDE0XCIsICovIFQ6MSB9LFxuXHQweDA0NkM6IHsgLyogbjpcIkJydEVuZFN0eWxlU2hlZXRFeHQxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQ2RDogeyAvKiBuOlwiQnJ0QmVnaW5TbGljZXJDYWNoZXNQaXZvdENhY2hlSURcIiwgKi8gVDoxIH0sXG5cdDB4MDQ2RTogeyAvKiBuOlwiQnJ0RW5kU2xpY2VyQ2FjaGVzUGl2b3RDYWNoZUlEXCIsICovIFQ6LTEgfSxcblx0MHgwNDZGOiB7IC8qIG46XCJCcnRCZWdpbkNvbmRpdGlvbmFsRm9ybWF0dGluZ3NcIiwgKi8gVDoxIH0sXG5cdDB4MDQ3MDogeyAvKiBuOlwiQnJ0RW5kQ29uZGl0aW9uYWxGb3JtYXR0aW5nc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDQ3MTogeyAvKiBuOlwiQnJ0QmVnaW5QQ0RDYWxjTWVtRXh0XCIsICovIFQ6MSB9LFxuXHQweDA0NzI6IHsgLyogbjpcIkJydEVuZFBDRENhbGNNZW1FeHRcIiwgKi8gVDotMSB9LFxuXHQweDA0NzM6IHsgLyogbjpcIkJydEJlZ2luUENEQ2FsY01lbXNFeHRcIiwgKi8gVDoxIH0sXG5cdDB4MDQ3NDogeyAvKiBuOlwiQnJ0RW5kUENEQ2FsY01lbXNFeHRcIiwgKi8gVDotMSB9LFxuXHQweDA0NzU6IHsgLyogbjpcIkJydFBDREZpZWxkMTRcIiAqLyB9LFxuXHQweDA0NzY6IHsgLyogbjpcIkJydEJlZ2luU2xpY2VyU3R5bGVzXCIsICovIFQ6MSB9LFxuXHQweDA0Nzc6IHsgLyogbjpcIkJydEVuZFNsaWNlclN0eWxlc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDQ3ODogeyAvKiBuOlwiQnJ0QmVnaW5TbGljZXJTdHlsZUVsZW1lbnRzXCIsICovIFQ6MSB9LFxuXHQweDA0Nzk6IHsgLyogbjpcIkJydEVuZFNsaWNlclN0eWxlRWxlbWVudHNcIiwgKi8gVDotMSB9LFxuXHQweDA0N0E6IHsgLyogbjpcIkJydENGUnVsZUV4dFwiICovIH0sXG5cdDB4MDQ3QjogeyAvKiBuOlwiQnJ0QmVnaW5TWENvbmRGbXQxNFwiLCAqLyBUOjEgfSxcblx0MHgwNDdDOiB7IC8qIG46XCJCcnRFbmRTWENvbmRGbXQxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQ3RDogeyAvKiBuOlwiQnJ0QmVnaW5TWENvbmRGbXRzMTRcIiwgKi8gVDoxIH0sXG5cdDB4MDQ3RTogeyAvKiBuOlwiQnJ0RW5kU1hDb25kRm10czE0XCIsICovIFQ6LTEgfSxcblx0MHgwNDgwOiB7IC8qIG46XCJCcnRCZWdpblNvcnRDb25kMTRcIiwgKi8gVDoxIH0sXG5cdDB4MDQ4MTogeyAvKiBuOlwiQnJ0RW5kU29ydENvbmQxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQ4MjogeyAvKiBuOlwiQnJ0RW5kRFZhbHMxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQ4MzogeyAvKiBuOlwiQnJ0RW5kSWNvblNldDE0XCIsICovIFQ6LTEgfSxcblx0MHgwNDg0OiB7IC8qIG46XCJCcnRFbmREYXRhYmFyMTRcIiwgKi8gVDotMSB9LFxuXHQweDA0ODU6IHsgLyogbjpcIkJydEJlZ2luQ29sb3JTY2FsZTE0XCIsICovIFQ6MSB9LFxuXHQweDA0ODY6IHsgLyogbjpcIkJydEVuZENvbG9yU2NhbGUxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQ4NzogeyAvKiBuOlwiQnJ0QmVnaW5TeHJ1bGVzMTRcIiwgKi8gVDoxIH0sXG5cdDB4MDQ4ODogeyAvKiBuOlwiQnJ0RW5kU3hydWxlczE0XCIsICovIFQ6LTEgfSxcblx0MHgwNDg5OiB7IC8qIG46XCJCcnRCZWdpblBSdWxlMTRcIiwgKi8gVDoxIH0sXG5cdDB4MDQ4QTogeyAvKiBuOlwiQnJ0RW5kUFJ1bGUxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQ4QjogeyAvKiBuOlwiQnJ0QmVnaW5QUkZpbHRlcnMxNFwiLCAqLyBUOjEgfSxcblx0MHgwNDhDOiB7IC8qIG46XCJCcnRFbmRQUkZpbHRlcnMxNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQ4RDogeyAvKiBuOlwiQnJ0QmVnaW5QUkZpbHRlcjE0XCIsICovIFQ6MSB9LFxuXHQweDA0OEU6IHsgLyogbjpcIkJydEVuZFBSRmlsdGVyMTRcIiwgKi8gVDotMSB9LFxuXHQweDA0OEY6IHsgLyogbjpcIkJydEJlZ2luUFJGSXRlbTE0XCIsICovIFQ6MSB9LFxuXHQweDA0OTA6IHsgLyogbjpcIkJydEVuZFBSRkl0ZW0xNFwiLCAqLyBUOi0xIH0sXG5cdDB4MDQ5MTogeyAvKiBuOlwiQnJ0QmVnaW5DZWxsSWdub3JlRUNzMTRcIiwgKi8gVDoxIH0sXG5cdDB4MDQ5MjogeyAvKiBuOlwiQnJ0RW5kQ2VsbElnbm9yZUVDczE0XCIsICovIFQ6LTEgfSxcblx0MHgwNDkzOiB7IC8qIG46XCJCcnREeGYxNFwiICovIH0sXG5cdDB4MDQ5NDogeyAvKiBuOlwiQnJ0QmVnaW5EeEYxNHNcIiwgKi8gVDoxIH0sXG5cdDB4MDQ5NTogeyAvKiBuOlwiQnJ0RW5kRHhmMTRzXCIsICovIFQ6LTEgfSxcblx0MHgwNDk5OiB7IC8qIG46XCJCcnRGaWx0ZXIxNFwiICovIH0sXG5cdDB4MDQ5QTogeyAvKiBuOlwiQnJ0QmVnaW5DdXN0b21GaWx0ZXJzMTRcIiwgKi8gVDoxIH0sXG5cdDB4MDQ5QzogeyAvKiBuOlwiQnJ0Q3VzdG9tRmlsdGVyMTRcIiAqLyB9LFxuXHQweDA0OUQ6IHsgLyogbjpcIkJydEljb25GaWx0ZXIxNFwiICovIH0sXG5cdDB4MDQ5RTogeyAvKiBuOlwiQnJ0UGl2b3RDYWNoZUNvbm5lY3Rpb25OYW1lXCIgKi8gfSxcblx0MHgwODAwOiB7IC8qIG46XCJCcnRCZWdpbkRlY291cGxlZFBpdm90Q2FjaGVJRHNcIiwgKi8gVDoxIH0sXG5cdDB4MDgwMTogeyAvKiBuOlwiQnJ0RW5kRGVjb3VwbGVkUGl2b3RDYWNoZUlEc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDgwMjogeyAvKiBuOlwiQnJ0RGVjb3VwbGVkUGl2b3RDYWNoZUlEXCIgKi8gfSxcblx0MHgwODAzOiB7IC8qIG46XCJCcnRCZWdpblBpdm90VGFibGVSZWZzXCIsICovIFQ6MSB9LFxuXHQweDA4MDQ6IHsgLyogbjpcIkJydEVuZFBpdm90VGFibGVSZWZzXCIsICovIFQ6LTEgfSxcblx0MHgwODA1OiB7IC8qIG46XCJCcnRQaXZvdFRhYmxlUmVmXCIgKi8gfSxcblx0MHgwODA2OiB7IC8qIG46XCJCcnRTbGljZXJDYWNoZUJvb2tQaXZvdFRhYmxlc1wiICovIH0sXG5cdDB4MDgwNzogeyAvKiBuOlwiQnJ0QmVnaW5TeHZjZWxsc1wiLCAqLyBUOjEgfSxcblx0MHgwODA4OiB7IC8qIG46XCJCcnRFbmRTeHZjZWxsc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDgwOTogeyAvKiBuOlwiQnJ0QmVnaW5TeFJvd1wiLCAqLyBUOjEgfSxcblx0MHgwODBBOiB7IC8qIG46XCJCcnRFbmRTeFJvd1wiLCAqLyBUOi0xIH0sXG5cdDB4MDgwQzogeyAvKiBuOlwiQnJ0UGNkQ2FsY01lbTE1XCIgKi8gfSxcblx0MHgwODEzOiB7IC8qIG46XCJCcnRRc2kxNVwiICovIH0sXG5cdDB4MDgxNDogeyAvKiBuOlwiQnJ0QmVnaW5XZWJFeHRlbnNpb25zXCIsICovIFQ6MSB9LFxuXHQweDA4MTU6IHsgLyogbjpcIkJydEVuZFdlYkV4dGVuc2lvbnNcIiwgKi8gVDotMSB9LFxuXHQweDA4MTY6IHsgLyogbjpcIkJydFdlYkV4dGVuc2lvblwiICovIH0sXG5cdDB4MDgxNzogeyAvKiBuOlwiQnJ0QWJzUGF0aDE1XCIgKi8gfSxcblx0MHgwODE4OiB7IC8qIG46XCJCcnRCZWdpblBpdm90VGFibGVVSVNldHRpbmdzXCIsICovIFQ6MSB9LFxuXHQweDA4MTk6IHsgLyogbjpcIkJydEVuZFBpdm90VGFibGVVSVNldHRpbmdzXCIsICovIFQ6LTEgfSxcblx0MHgwODFCOiB7IC8qIG46XCJCcnRUYWJsZVNsaWNlckNhY2hlSURzXCIgKi8gfSxcblx0MHgwODFDOiB7IC8qIG46XCJCcnRUYWJsZVNsaWNlckNhY2hlSURcIiAqLyB9LFxuXHQweDA4MUQ6IHsgLyogbjpcIkJydEJlZ2luVGFibGVTbGljZXJDYWNoZVwiLCAqLyBUOjEgfSxcblx0MHgwODFFOiB7IC8qIG46XCJCcnRFbmRUYWJsZVNsaWNlckNhY2hlXCIsICovIFQ6LTEgfSxcblx0MHgwODFGOiB7IC8qIG46XCJCcnRTeEZpbHRlcjE1XCIgKi8gfSxcblx0MHgwODIwOiB7IC8qIG46XCJCcnRCZWdpblRpbWVsaW5lQ2FjaGVQaXZvdENhY2hlSURzXCIsICovIFQ6MSB9LFxuXHQweDA4MjE6IHsgLyogbjpcIkJydEVuZFRpbWVsaW5lQ2FjaGVQaXZvdENhY2hlSURzXCIsICovIFQ6LTEgfSxcblx0MHgwODIyOiB7IC8qIG46XCJCcnRUaW1lbGluZUNhY2hlUGl2b3RDYWNoZUlEXCIgKi8gfSxcblx0MHgwODIzOiB7IC8qIG46XCJCcnRCZWdpblRpbWVsaW5lQ2FjaGVJRHNcIiwgKi8gVDoxIH0sXG5cdDB4MDgyNDogeyAvKiBuOlwiQnJ0RW5kVGltZWxpbmVDYWNoZUlEc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDgyNTogeyAvKiBuOlwiQnJ0QmVnaW5UaW1lbGluZUNhY2hlSURcIiwgKi8gVDoxIH0sXG5cdDB4MDgyNjogeyAvKiBuOlwiQnJ0RW5kVGltZWxpbmVDYWNoZUlEXCIsICovIFQ6LTEgfSxcblx0MHgwODI3OiB7IC8qIG46XCJCcnRCZWdpblRpbWVsaW5lc0V4XCIsICovIFQ6MSB9LFxuXHQweDA4Mjg6IHsgLyogbjpcIkJydEVuZFRpbWVsaW5lc0V4XCIsICovIFQ6LTEgfSxcblx0MHgwODI5OiB7IC8qIG46XCJCcnRCZWdpblRpbWVsaW5lRXhcIiwgKi8gVDoxIH0sXG5cdDB4MDgyQTogeyAvKiBuOlwiQnJ0RW5kVGltZWxpbmVFeFwiLCAqLyBUOi0xIH0sXG5cdDB4MDgyQjogeyAvKiBuOlwiQnJ0V29ya0Jvb2tQcjE1XCIgKi8gfSxcblx0MHgwODJDOiB7IC8qIG46XCJCcnRQQ0RIMTVcIiAqLyB9LFxuXHQweDA4MkQ6IHsgLyogbjpcIkJydEJlZ2luVGltZWxpbmVTdHlsZVwiLCAqLyBUOjEgfSxcblx0MHgwODJFOiB7IC8qIG46XCJCcnRFbmRUaW1lbGluZVN0eWxlXCIsICovIFQ6LTEgfSxcblx0MHgwODJGOiB7IC8qIG46XCJCcnRUaW1lbGluZVN0eWxlRWxlbWVudFwiICovIH0sXG5cdDB4MDgzMDogeyAvKiBuOlwiQnJ0QmVnaW5UaW1lbGluZVN0eWxlc2hlZXRFeHQxNVwiLCAqLyBUOjEgfSxcblx0MHgwODMxOiB7IC8qIG46XCJCcnRFbmRUaW1lbGluZVN0eWxlc2hlZXRFeHQxNVwiLCAqLyBUOi0xIH0sXG5cdDB4MDgzMjogeyAvKiBuOlwiQnJ0QmVnaW5UaW1lbGluZVN0eWxlc1wiLCAqLyBUOjEgfSxcblx0MHgwODMzOiB7IC8qIG46XCJCcnRFbmRUaW1lbGluZVN0eWxlc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDgzNDogeyAvKiBuOlwiQnJ0QmVnaW5UaW1lbGluZVN0eWxlRWxlbWVudHNcIiwgKi8gVDoxIH0sXG5cdDB4MDgzNTogeyAvKiBuOlwiQnJ0RW5kVGltZWxpbmVTdHlsZUVsZW1lbnRzXCIsICovIFQ6LTEgfSxcblx0MHgwODM2OiB7IC8qIG46XCJCcnREeGYxNVwiICovIH0sXG5cdDB4MDgzNzogeyAvKiBuOlwiQnJ0QmVnaW5EeGZzMTVcIiwgKi8gVDoxIH0sXG5cdDB4MDgzODogeyAvKiBuOlwiQnJ0RW5kRHhmczE1XCIsICovIFQ6LTEgfSxcblx0MHgwODM5OiB7IC8qIG46XCJCcnRTbGljZXJDYWNoZUhpZGVJdGVtc1dpdGhOb0RhdGFcIiAqLyB9LFxuXHQweDA4M0E6IHsgLyogbjpcIkJydEJlZ2luSXRlbVVuaXF1ZU5hbWVzXCIsICovIFQ6MSB9LFxuXHQweDA4M0I6IHsgLyogbjpcIkJydEVuZEl0ZW1VbmlxdWVOYW1lc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDgzQzogeyAvKiBuOlwiQnJ0SXRlbVVuaXF1ZU5hbWVcIiAqLyB9LFxuXHQweDA4M0Q6IHsgLyogbjpcIkJydEJlZ2luRXh0Q29ubjE1XCIsICovIFQ6MSB9LFxuXHQweDA4M0U6IHsgLyogbjpcIkJydEVuZEV4dENvbm4xNVwiLCAqLyBUOi0xIH0sXG5cdDB4MDgzRjogeyAvKiBuOlwiQnJ0QmVnaW5PbGVkYlByMTVcIiwgKi8gVDoxIH0sXG5cdDB4MDg0MDogeyAvKiBuOlwiQnJ0RW5kT2xlZGJQcjE1XCIsICovIFQ6LTEgfSxcblx0MHgwODQxOiB7IC8qIG46XCJCcnRCZWdpbkRhdGFGZWVkUHIxNVwiLCAqLyBUOjEgfSxcblx0MHgwODQyOiB7IC8qIG46XCJCcnRFbmREYXRhRmVlZFByMTVcIiwgKi8gVDotMSB9LFxuXHQweDA4NDM6IHsgLyogbjpcIkJydFRleHRQcjE1XCIgKi8gfSxcblx0MHgwODQ0OiB7IC8qIG46XCJCcnRSYW5nZVByMTVcIiAqLyB9LFxuXHQweDA4NDU6IHsgLyogbjpcIkJydERiQ29tbWFuZDE1XCIgKi8gfSxcblx0MHgwODQ2OiB7IC8qIG46XCJCcnRCZWdpbkRiVGFibGVzMTVcIiwgKi8gVDoxIH0sXG5cdDB4MDg0NzogeyAvKiBuOlwiQnJ0RW5kRGJUYWJsZXMxNVwiLCAqLyBUOi0xIH0sXG5cdDB4MDg0ODogeyAvKiBuOlwiQnJ0RGJUYWJsZTE1XCIgKi8gfSxcblx0MHgwODQ5OiB7IC8qIG46XCJCcnRCZWdpbkRhdGFNb2RlbFwiLCAqLyBUOjEgfSxcblx0MHgwODRBOiB7IC8qIG46XCJCcnRFbmREYXRhTW9kZWxcIiwgKi8gVDotMSB9LFxuXHQweDA4NEI6IHsgLyogbjpcIkJydEJlZ2luTW9kZWxUYWJsZXNcIiwgKi8gVDoxIH0sXG5cdDB4MDg0QzogeyAvKiBuOlwiQnJ0RW5kTW9kZWxUYWJsZXNcIiwgKi8gVDotMSB9LFxuXHQweDA4NEQ6IHsgLyogbjpcIkJydE1vZGVsVGFibGVcIiAqLyB9LFxuXHQweDA4NEU6IHsgLyogbjpcIkJydEJlZ2luTW9kZWxSZWxhdGlvbnNoaXBzXCIsICovIFQ6MSB9LFxuXHQweDA4NEY6IHsgLyogbjpcIkJydEVuZE1vZGVsUmVsYXRpb25zaGlwc1wiLCAqLyBUOi0xIH0sXG5cdDB4MDg1MDogeyAvKiBuOlwiQnJ0TW9kZWxSZWxhdGlvbnNoaXBcIiAqLyB9LFxuXHQweDA4NTE6IHsgLyogbjpcIkJydEJlZ2luRUNUeHRXaXoxNVwiLCAqLyBUOjEgfSxcblx0MHgwODUyOiB7IC8qIG46XCJCcnRFbmRFQ1R4dFdpejE1XCIsICovIFQ6LTEgfSxcblx0MHgwODUzOiB7IC8qIG46XCJCcnRCZWdpbkVDVFdGbGRJbmZvTHN0MTVcIiwgKi8gVDoxIH0sXG5cdDB4MDg1NDogeyAvKiBuOlwiQnJ0RW5kRUNUV0ZsZEluZm9Mc3QxNVwiLCAqLyBUOi0xIH0sXG5cdDB4MDg1NTogeyAvKiBuOlwiQnJ0QmVnaW5FQ1RXRmxkSW5mbzE1XCIsICovIFQ6MSB9LFxuXHQweDA4NTY6IHsgLyogbjpcIkJydEZpZWxkTGlzdEFjdGl2ZUl0ZW1cIiAqLyB9LFxuXHQweDA4NTc6IHsgLyogbjpcIkJydFBpdm90Q2FjaGVJZFZlcnNpb25cIiAqLyB9LFxuXHQweDA4NTg6IHsgLyogbjpcIkJydFNYREkxNVwiICovIH0sXG5cdDB4MDg1OTogeyAvKiBuOlwiQnJ0QmVnaW5Nb2RlbFRpbWVHcm91cGluZ3NcIiwgKi8gVDoxIH0sXG5cdDB4MDg1QTogeyAvKiBuOlwiQnJ0RW5kTW9kZWxUaW1lR3JvdXBpbmdzXCIsICovIFQ6LTEgfSxcblx0MHgwODVCOiB7IC8qIG46XCJCcnRCZWdpbk1vZGVsVGltZUdyb3VwaW5nXCIsICovIFQ6MSB9LFxuXHQweDA4NUM6IHsgLyogbjpcIkJydEVuZE1vZGVsVGltZUdyb3VwaW5nXCIsICovIFQ6LTEgfSxcblx0MHgwODVEOiB7IC8qIG46XCJCcnRNb2RlbFRpbWVHcm91cGluZ0NhbGNDb2xcIiAqLyB9LFxuXHQweDBDMDA6IHsgLyogbjpcIkJydFVpZFwiICovIH0sXG5cdDB4MEMwMTogeyAvKiBuOlwiQnJ0UmV2aXNpb25QdHJcIiAqLyB9LFxuXHQweDEwMDA6IHsgLyogbjpcIkJydEJlZ2luRHluYW1pY0FycmF5UHJcIiwgKi8gVDoxIH0sXG5cdDB4MTAwMTogeyAvKiBuOlwiQnJ0RW5kRHluYW1pY0FycmF5UHJcIiwgKi8gVDotMSB9LFxuXHQweDEzOEE6IHsgLyogbjpcIkJydEJlZ2luUmljaFZhbHVlQmxvY2tcIiwgKi8gVDoxIH0sXG5cdDB4MTM4QjogeyAvKiBuOlwiQnJ0RW5kUmljaFZhbHVlQmxvY2tcIiwgKi8gVDotMSB9LFxuXHQweDEzRDk6IHsgLyogbjpcIkJydEJlZ2luUmljaEZpbHRlcnNcIiwgKi8gVDoxIH0sXG5cdDB4MTNEQTogeyAvKiBuOlwiQnJ0RW5kUmljaEZpbHRlcnNcIiwgKi8gVDotMSB9LFxuXHQweDEzREI6IHsgLyogbjpcIkJydFJpY2hGaWx0ZXJcIiAqLyB9LFxuXHQweDEzREM6IHsgLyogbjpcIkJydEJlZ2luUmljaEZpbHRlckNvbHVtblwiLCAqLyBUOjEgfSxcblx0MHgxM0REOiB7IC8qIG46XCJCcnRFbmRSaWNoRmlsdGVyQ29sdW1uXCIsICovIFQ6LTEgfSxcblx0MHgxM0RFOiB7IC8qIG46XCJCcnRCZWdpbkN1c3RvbVJpY2hGaWx0ZXJzXCIsICovIFQ6MSB9LFxuXHQweDEzREY6IHsgLyogbjpcIkJydEVuZEN1c3RvbVJpY2hGaWx0ZXJzXCIsICovIFQ6LTEgfSxcblx0MHgxM0UwOiB7IC8qIG46XCJCcnRDdXN0b21SaWNoRmlsdGVyXCIgKi8gfSxcblx0MHgxM0UxOiB7IC8qIG46XCJCcnRUb3AxMFJpY2hGaWx0ZXJcIiAqLyB9LFxuXHQweDEzRTI6IHsgLyogbjpcIkJydER5bmFtaWNSaWNoRmlsdGVyXCIgKi8gfSxcblx0MHgxM0U0OiB7IC8qIG46XCJCcnRCZWdpblJpY2hTb3J0Q29uZGl0aW9uXCIsICovIFQ6MSB9LFxuXHQweDEzRTU6IHsgLyogbjpcIkJydEVuZFJpY2hTb3J0Q29uZGl0aW9uXCIsICovIFQ6LTEgfSxcblx0MHgxM0U2OiB7IC8qIG46XCJCcnRSaWNoRmlsdGVyRGF0ZUdyb3VwSXRlbVwiICovIH0sXG5cdDB4MTNFNzogeyAvKiBuOlwiQnJ0QmVnaW5DYWxjRmVhdHVyZXNcIiwgKi8gVDoxIH0sXG5cdDB4MTNFODogeyAvKiBuOlwiQnJ0RW5kQ2FsY0ZlYXR1cmVzXCIsICovIFQ6LTEgfSxcblx0MHgxM0U5OiB7IC8qIG46XCJCcnRDYWxjRmVhdHVyZVwiICovIH0sXG5cdDB4MTNFQjogeyAvKiBuOlwiQnJ0RXh0ZXJuYWxMaW5rc1ByXCIgKi8gfSxcblx0MHhGRkZGOiB7IG46XCJcIiB9XG59O1xuXG4vKiBbTVMtWExTXSAyLjMgUmVjb3JkIEVudW1lcmF0aW9uIChhbmQgb3RoZXIgc291cmNlcykgKi9cbnZhciBYTFNSZWNvcmRFbnVtID0ge1xuXHQvKiBbTVMtWExTXSAyLjMgUmVjb3JkIEVudW1lcmF0aW9uIDIwMjEtMDgtMTcgKi9cblx0MHgwMDA2OiB7IC8qIG46XCJGb3JtdWxhXCIsICovIGY6cGFyc2VfRm9ybXVsYSB9LFxuXHQweDAwMGE6IHsgLyogbjpcIkVPRlwiLCAqLyBmOnBhcnNlbm9vcDIgfSxcblx0MHgwMDBjOiB7IC8qIG46XCJDYWxjQ291bnRcIiwgKi8gZjpwYXJzZXVpbnQxNiB9LCAvL1xuXHQweDAwMGQ6IHsgLyogbjpcIkNhbGNNb2RlXCIsICovIGY6cGFyc2V1aW50MTYgfSwgLy9cblx0MHgwMDBlOiB7IC8qIG46XCJDYWxjUHJlY2lzaW9uXCIsICovIGY6cGFyc2Vib29sIH0sIC8vXG5cdDB4MDAwZjogeyAvKiBuOlwiQ2FsY1JlZk1vZGVcIiwgKi8gZjpwYXJzZWJvb2wgfSwgLy9cblx0MHgwMDEwOiB7IC8qIG46XCJDYWxjRGVsdGFcIiwgKi8gZjpwYXJzZV9YbnVtIH0sIC8vXG5cdDB4MDAxMTogeyAvKiBuOlwiQ2FsY0l0ZXJcIiwgKi8gZjpwYXJzZWJvb2wgfSwgLy9cblx0MHgwMDEyOiB7IC8qIG46XCJQcm90ZWN0XCIsICovIGY6cGFyc2Vib29sIH0sXG5cdDB4MDAxMzogeyAvKiBuOlwiUGFzc3dvcmRcIiwgKi8gZjpwYXJzZXVpbnQxNiB9LFxuXHQweDAwMTQ6IHsgLyogbjpcIkhlYWRlclwiLCAqLyBmOnBhcnNlX1hMSGVhZGVyRm9vdGVyIH0sXG5cdDB4MDAxNTogeyAvKiBuOlwiRm9vdGVyXCIsICovIGY6cGFyc2VfWExIZWFkZXJGb290ZXIgfSxcblx0MHgwMDE3OiB7IC8qIG46XCJFeHRlcm5TaGVldFwiLCAqLyBmOnBhcnNlX0V4dGVyblNoZWV0IH0sXG5cdDB4MDAxODogeyAvKiBuOlwiTGJsXCIsICovIGY6cGFyc2VfTGJsIH0sXG5cdDB4MDAxOTogeyAvKiBuOlwiV2luUHJvdGVjdFwiLCAqLyBmOnBhcnNlYm9vbCB9LFxuXHQweDAwMWE6IHsgLyogbjpcIlZlcnRpY2FsUGFnZUJyZWFrc1wiLCAqLyB9LFxuXHQweDAwMWI6IHsgLyogbjpcIkhvcml6b250YWxQYWdlQnJlYWtzXCIsICovIH0sXG5cdDB4MDAxYzogeyAvKiBuOlwiTm90ZVwiLCAqLyBmOnBhcnNlX05vdGUgfSxcblx0MHgwMDFkOiB7IC8qIG46XCJTZWxlY3Rpb25cIiwgKi8gfSxcblx0MHgwMDIyOiB7IC8qIG46XCJEYXRlMTkwNFwiLCAqLyBmOnBhcnNlYm9vbCB9LFxuXHQweDAwMjM6IHsgLyogbjpcIkV4dGVybk5hbWVcIiwgKi8gZjpwYXJzZV9FeHRlcm5OYW1lIH0sXG5cdDB4MDAyNjogeyAvKiBuOlwiTGVmdE1hcmdpblwiLCAqLyBmOnBhcnNlX1hudW0gfSwgLy8gKlxuXHQweDAwMjc6IHsgLyogbjpcIlJpZ2h0TWFyZ2luXCIsICovIGY6cGFyc2VfWG51bSB9LCAvLyAqXG5cdDB4MDAyODogeyAvKiBuOlwiVG9wTWFyZ2luXCIsICovIGY6cGFyc2VfWG51bSB9LCAvLyAqXG5cdDB4MDAyOTogeyAvKiBuOlwiQm90dG9tTWFyZ2luXCIsICovIGY6cGFyc2VfWG51bSB9LCAvLyAqXG5cdDB4MDAyYTogeyAvKiBuOlwiUHJpbnRSb3dDb2xcIiwgKi8gZjpwYXJzZWJvb2wgfSxcblx0MHgwMDJiOiB7IC8qIG46XCJQcmludEdyaWRcIiwgKi8gZjpwYXJzZWJvb2wgfSxcblx0MHgwMDJmOiB7IC8qIG46XCJGaWxlUGFzc1wiLCAqLyBmOnBhcnNlX0ZpbGVQYXNzIH0sXG5cdDB4MDAzMTogeyAvKiBuOlwiRm9udFwiLCAqLyBmOnBhcnNlX0ZvbnQgfSxcblx0MHgwMDMzOiB7IC8qIG46XCJQcmludFNpemVcIiwgKi8gZjpwYXJzZXVpbnQxNiB9LFxuXHQweDAwM2M6IHsgLyogbjpcIkNvbnRpbnVlXCIsICovIH0sXG5cdDB4MDAzZDogeyAvKiBuOlwiV2luZG93MVwiLCAqLyBmOnBhcnNlX1dpbmRvdzEgfSxcblx0MHgwMDQwOiB7IC8qIG46XCJCYWNrdXBcIiwgKi8gZjpwYXJzZWJvb2wgfSxcblx0MHgwMDQxOiB7IC8qIG46XCJQYW5lXCIsICovIGY6cGFyc2VfUGFuZSB9LFxuXHQweDAwNDI6IHsgLyogbjpcIkNvZGVQYWdlXCIsICovIGY6cGFyc2V1aW50MTYgfSxcblx0MHgwMDRkOiB7IC8qIG46XCJQbHNcIiwgKi8gfSxcblx0MHgwMDUwOiB7IC8qIG46XCJEQ29uXCIsICovIH0sXG5cdDB4MDA1MTogeyAvKiBuOlwiRENvblJlZlwiLCAqLyB9LFxuXHQweDAwNTI6IHsgLyogbjpcIkRDb25OYW1lXCIsICovIH0sXG5cdDB4MDA1NTogeyAvKiBuOlwiRGVmQ29sV2lkdGhcIiwgKi8gZjpwYXJzZXVpbnQxNiB9LFxuXHQweDAwNTk6IHsgLyogbjpcIlhDVFwiLCAqLyB9LFxuXHQweDAwNWE6IHsgLyogbjpcIkNSTlwiLCAqLyB9LFxuXHQweDAwNWI6IHsgLyogbjpcIkZpbGVTaGFyaW5nXCIsICovIH0sXG5cdDB4MDA1YzogeyAvKiBuOlwiV3JpdGVBY2Nlc3NcIiwgKi8gZjpwYXJzZV9Xcml0ZUFjY2VzcyB9LFxuXHQweDAwNWQ6IHsgLyogbjpcIk9ialwiLCAqLyBmOnBhcnNlX09iaiB9LFxuXHQweDAwNWU6IHsgLyogbjpcIlVuY2FsY2VkXCIsICovIH0sXG5cdDB4MDA1ZjogeyAvKiBuOlwiQ2FsY1NhdmVSZWNhbGNcIiwgKi8gZjpwYXJzZWJvb2wgfSwgLy9cblx0MHgwMDYwOiB7IC8qIG46XCJUZW1wbGF0ZVwiLCAqLyB9LFxuXHQweDAwNjE6IHsgLyogbjpcIkludGxcIiwgKi8gfSxcblx0MHgwMDYzOiB7IC8qIG46XCJPYmpQcm90ZWN0XCIsICovIGY6cGFyc2Vib29sIH0sXG5cdDB4MDA3ZDogeyAvKiBuOlwiQ29sSW5mb1wiLCAqLyBmOnBhcnNlX0NvbEluZm8gfSxcblx0MHgwMDgwOiB7IC8qIG46XCJHdXRzXCIsICovIGY6cGFyc2VfR3V0cyB9LFxuXHQweDAwODE6IHsgLyogbjpcIldzQm9vbFwiLCAqLyBmOnBhcnNlX1dzQm9vbCB9LFxuXHQweDAwODI6IHsgLyogbjpcIkdyaWRTZXRcIiwgKi8gZjpwYXJzZXVpbnQxNiB9LFxuXHQweDAwODM6IHsgLyogbjpcIkhDZW50ZXJcIiwgKi8gZjpwYXJzZWJvb2wgfSxcblx0MHgwMDg0OiB7IC8qIG46XCJWQ2VudGVyXCIsICovIGY6cGFyc2Vib29sIH0sXG5cdDB4MDA4NTogeyAvKiBuOlwiQm91bmRTaGVldDhcIiwgKi8gZjpwYXJzZV9Cb3VuZFNoZWV0OCB9LFxuXHQweDAwODY6IHsgLyogbjpcIldyaXRlUHJvdGVjdFwiLCAqLyB9LFxuXHQweDAwOGM6IHsgLyogbjpcIkNvdW50cnlcIiwgKi8gZjpwYXJzZV9Db3VudHJ5IH0sXG5cdDB4MDA4ZDogeyAvKiBuOlwiSGlkZU9ialwiLCAqLyBmOnBhcnNldWludDE2IH0sXG5cdDB4MDA5MDogeyAvKiBuOlwiU29ydFwiLCAqLyB9LFxuXHQweDAwOTI6IHsgLyogbjpcIlBhbGV0dGVcIiwgKi8gZjpwYXJzZV9QYWxldHRlIH0sXG5cdDB4MDA5NzogeyAvKiBuOlwiU3luY1wiLCAqLyB9LFxuXHQweDAwOTg6IHsgLyogbjpcIkxQclwiLCAqLyB9LFxuXHQweDAwOTk6IHsgLyogbjpcIkR4R0NvbFwiLCAqLyB9LFxuXHQweDAwOWE6IHsgLyogbjpcIkZuR3JvdXBOYW1lXCIsICovIH0sXG5cdDB4MDA5YjogeyAvKiBuOlwiRmlsdGVyTW9kZVwiLCAqLyB9LFxuXHQweDAwOWM6IHsgLyogbjpcIkJ1aWx0SW5Gbkdyb3VwQ291bnRcIiwgKi8gZjpwYXJzZXVpbnQxNiB9LFxuXHQweDAwOWQ6IHsgLyogbjpcIkF1dG9GaWx0ZXJJbmZvXCIsICovIH0sXG5cdDB4MDA5ZTogeyAvKiBuOlwiQXV0b0ZpbHRlclwiLCAqLyB9LFxuXHQweDAwYTA6IHsgLyogbjpcIlNjbFwiLCAqLyBmOnBhcnNlX1NjbCB9LFxuXHQweDAwYTE6IHsgLyogbjpcIlNldHVwXCIsICovIGY6cGFyc2VfU2V0dXAgfSxcblx0MHgwMGFlOiB7IC8qIG46XCJTY2VuTWFuXCIsICovIH0sXG5cdDB4MDBhZjogeyAvKiBuOlwiU0NFTkFSSU9cIiwgKi8gfSxcblx0MHgwMGIwOiB7IC8qIG46XCJTeFZpZXdcIiwgKi8gfSxcblx0MHgwMGIxOiB7IC8qIG46XCJTeHZkXCIsICovIH0sXG5cdDB4MDBiMjogeyAvKiBuOlwiU1hWSVwiLCAqLyB9LFxuXHQweDAwYjQ6IHsgLyogbjpcIlN4SXZkXCIsICovIH0sXG5cdDB4MDBiNTogeyAvKiBuOlwiU1hMSVwiLCAqLyB9LFxuXHQweDAwYjY6IHsgLyogbjpcIlNYUElcIiwgKi8gfSxcblx0MHgwMGI4OiB7IC8qIG46XCJEb2NSb3V0ZVwiLCAqLyB9LFxuXHQweDAwYjk6IHsgLyogbjpcIlJlY2lwTmFtZVwiLCAqLyB9LFxuXHQweDAwYmQ6IHsgLyogbjpcIk11bFJrXCIsICovIGY6cGFyc2VfTXVsUmsgfSxcblx0MHgwMGJlOiB7IC8qIG46XCJNdWxCbGFua1wiLCAqLyBmOnBhcnNlX011bEJsYW5rIH0sXG5cdDB4MDBjMTogeyAvKiBuOlwiTW1zXCIsICovIGY6cGFyc2Vub29wMiB9LFxuXHQweDAwYzU6IHsgLyogbjpcIlNYRElcIiwgKi8gfSxcblx0MHgwMGM2OiB7IC8qIG46XCJTWERCXCIsICovIH0sXG5cdDB4MDBjNzogeyAvKiBuOlwiU1hGREJcIiwgKi8gfSxcblx0MHgwMGM4OiB7IC8qIG46XCJTWERCQlwiLCAqLyB9LFxuXHQweDAwYzk6IHsgLyogbjpcIlNYTnVtXCIsICovIH0sXG5cdDB4MDBjYTogeyAvKiBuOlwiU3hCb29sXCIsICovIGY6cGFyc2Vib29sIH0sXG5cdDB4MDBjYjogeyAvKiBuOlwiU3hFcnJcIiwgKi8gfSxcblx0MHgwMGNjOiB7IC8qIG46XCJTWEludFwiLCAqLyB9LFxuXHQweDAwY2Q6IHsgLyogbjpcIlNYU3RyaW5nXCIsICovIH0sXG5cdDB4MDBjZTogeyAvKiBuOlwiU1hEdHJcIiwgKi8gfSxcblx0MHgwMGNmOiB7IC8qIG46XCJTeE5pbFwiLCAqLyB9LFxuXHQweDAwZDA6IHsgLyogbjpcIlNYVGJsXCIsICovIH0sXG5cdDB4MDBkMTogeyAvKiBuOlwiU1hUQlJHSUlUTVwiLCAqLyB9LFxuXHQweDAwZDI6IHsgLyogbjpcIlN4VGJwZ1wiLCAqLyB9LFxuXHQweDAwZDM6IHsgLyogbjpcIk9iUHJvalwiLCAqLyB9LFxuXHQweDAwZDU6IHsgLyogbjpcIlNYU3RyZWFtSURcIiwgKi8gfSxcblx0MHgwMGQ3OiB7IC8qIG46XCJEQkNlbGxcIiwgKi8gfSxcblx0MHgwMGQ4OiB7IC8qIG46XCJTWFJuZ1wiLCAqLyB9LFxuXHQweDAwZDk6IHsgLyogbjpcIlN4SXN4b3BlclwiLCAqLyB9LFxuXHQweDAwZGE6IHsgLyogbjpcIkJvb2tCb29sXCIsICovIGY6cGFyc2V1aW50MTYgfSxcblx0MHgwMGRjOiB7IC8qIG46XCJEYk9yUGFyYW1RcnlcIiwgKi8gfSxcblx0MHgwMGRkOiB7IC8qIG46XCJTY2VuYXJpb1Byb3RlY3RcIiwgKi8gZjpwYXJzZWJvb2wgfSxcblx0MHgwMGRlOiB7IC8qIG46XCJPbGVPYmplY3RTaXplXCIsICovIH0sXG5cdDB4MDBlMDogeyAvKiBuOlwiWEZcIiwgKi8gZjpwYXJzZV9YRiB9LFxuXHQweDAwZTE6IHsgLyogbjpcIkludGVyZmFjZUhkclwiLCAqLyBmOnBhcnNlX0ludGVyZmFjZUhkciB9LFxuXHQweDAwZTI6IHsgLyogbjpcIkludGVyZmFjZUVuZFwiLCAqLyBmOnBhcnNlbm9vcDIgfSxcblx0MHgwMGUzOiB7IC8qIG46XCJTWFZTXCIsICovIH0sXG5cdDB4MDBlNTogeyAvKiBuOlwiTWVyZ2VDZWxsc1wiLCAqLyBmOnBhcnNlX01lcmdlQ2VsbHMgfSxcblx0MHgwMGU5OiB7IC8qIG46XCJCa0hpbVwiLCAqLyB9LFxuXHQweDAwZWI6IHsgLyogbjpcIk1zb0RyYXdpbmdHcm91cFwiLCAqLyB9LFxuXHQweDAwZWM6IHsgLyogbjpcIk1zb0RyYXdpbmdcIiwgKi8gfSxcblx0MHgwMGVkOiB7IC8qIG46XCJNc29EcmF3aW5nU2VsZWN0aW9uXCIsICovIH0sXG5cdDB4MDBlZjogeyAvKiBuOlwiUGhvbmV0aWNJbmZvXCIsICovIH0sXG5cdDB4MDBmMDogeyAvKiBuOlwiU3hSdWxlXCIsICovIH0sXG5cdDB4MDBmMTogeyAvKiBuOlwiU1hFeFwiLCAqLyB9LFxuXHQweDAwZjI6IHsgLyogbjpcIlN4RmlsdFwiLCAqLyB9LFxuXHQweDAwZjQ6IHsgLyogbjpcIlN4RFhGXCIsICovIH0sXG5cdDB4MDBmNTogeyAvKiBuOlwiU3hJdG1cIiwgKi8gfSxcblx0MHgwMGY2OiB7IC8qIG46XCJTeE5hbWVcIiwgKi8gfSxcblx0MHgwMGY3OiB7IC8qIG46XCJTeFNlbGVjdFwiLCAqLyB9LFxuXHQweDAwZjg6IHsgLyogbjpcIlNYUGFpclwiLCAqLyB9LFxuXHQweDAwZjk6IHsgLyogbjpcIlN4Rm1sYVwiLCAqLyB9LFxuXHQweDAwZmI6IHsgLyogbjpcIlN4Rm9ybWF0XCIsICovIH0sXG5cdDB4MDBmYzogeyAvKiBuOlwiU1NUXCIsICovIGY6cGFyc2VfU1NUIH0sXG5cdDB4MDBmZDogeyAvKiBuOlwiTGFiZWxTc3RcIiwgKi8gZjpwYXJzZV9MYWJlbFNzdCB9LFxuXHQweDAwZmY6IHsgLyogbjpcIkV4dFNTVFwiLCAqLyBmOnBhcnNlX0V4dFNTVCB9LFxuXHQweDAxMDA6IHsgLyogbjpcIlNYVkRFeFwiLCAqLyB9LFxuXHQweDAxMDM6IHsgLyogbjpcIlNYRm9ybXVsYVwiLCAqLyB9LFxuXHQweDAxMjI6IHsgLyogbjpcIlNYREJFeFwiLCAqLyB9LFxuXHQweDAxMzc6IHsgLyogbjpcIlJSREluc0RlbFwiLCAqLyB9LFxuXHQweDAxMzg6IHsgLyogbjpcIlJSREhlYWRcIiwgKi8gfSxcblx0MHgwMTNiOiB7IC8qIG46XCJSUkRDaGdDZWxsXCIsICovIH0sXG5cdDB4MDEzZDogeyAvKiBuOlwiUlJUYWJJZFwiLCAqLyBmOnBhcnNldWludDE2YSB9LFxuXHQweDAxM2U6IHsgLyogbjpcIlJSRFJlblNoZWV0XCIsICovIH0sXG5cdDB4MDEzZjogeyAvKiBuOlwiUlJTb3J0XCIsICovIH0sXG5cdDB4MDE0MDogeyAvKiBuOlwiUlJETW92ZVwiLCAqLyB9LFxuXHQweDAxNGE6IHsgLyogbjpcIlJSRm9ybWF0XCIsICovIH0sXG5cdDB4MDE0YjogeyAvKiBuOlwiUlJBdXRvRm10XCIsICovIH0sXG5cdDB4MDE0ZDogeyAvKiBuOlwiUlJJbnNlcnRTaFwiLCAqLyB9LFxuXHQweDAxNGU6IHsgLyogbjpcIlJSRE1vdmVCZWdpblwiLCAqLyB9LFxuXHQweDAxNGY6IHsgLyogbjpcIlJSRE1vdmVFbmRcIiwgKi8gfSxcblx0MHgwMTUwOiB7IC8qIG46XCJSUkRJbnNEZWxCZWdpblwiLCAqLyB9LFxuXHQweDAxNTE6IHsgLyogbjpcIlJSREluc0RlbEVuZFwiLCAqLyB9LFxuXHQweDAxNTI6IHsgLyogbjpcIlJSRENvbmZsaWN0XCIsICovIH0sXG5cdDB4MDE1MzogeyAvKiBuOlwiUlJERGVmTmFtZVwiLCAqLyB9LFxuXHQweDAxNTQ6IHsgLyogbjpcIlJSRFJzdEV0eHBcIiwgKi8gfSxcblx0MHgwMTVmOiB7IC8qIG46XCJMUm5nXCIsICovIH0sXG5cdDB4MDE2MDogeyAvKiBuOlwiVXNlc0VMRnNcIiwgKi8gZjpwYXJzZWJvb2wgfSxcblx0MHgwMTYxOiB7IC8qIG46XCJEU0ZcIiwgKi8gZjpwYXJzZW5vb3AyIH0sXG5cdDB4MDE5MTogeyAvKiBuOlwiQ1VzclwiLCAqLyB9LFxuXHQweDAxOTI6IHsgLyogbjpcIkNiVXNyXCIsICovIH0sXG5cdDB4MDE5MzogeyAvKiBuOlwiVXNySW5mb1wiLCAqLyB9LFxuXHQweDAxOTQ6IHsgLyogbjpcIlVzckV4Y2xcIiwgKi8gfSxcblx0MHgwMTk1OiB7IC8qIG46XCJGaWxlTG9ja1wiLCAqLyB9LFxuXHQweDAxOTY6IHsgLyogbjpcIlJSREluZm9cIiwgKi8gfSxcblx0MHgwMTk3OiB7IC8qIG46XCJCQ1VzcnNcIiwgKi8gfSxcblx0MHgwMTk4OiB7IC8qIG46XCJVc3JDaGtcIiwgKi8gfSxcblx0MHgwMWE5OiB7IC8qIG46XCJVc2VyQlZpZXdcIiwgKi8gfSxcblx0MHgwMWFhOiB7IC8qIG46XCJVc2VyU1ZpZXdCZWdpblwiLCAqLyB9LFxuXHQweDAxYWI6IHsgLyogbjpcIlVzZXJTVmlld0VuZFwiLCAqLyB9LFxuXHQweDAxYWM6IHsgLyogbjpcIlJSRFVzZXJWaWV3XCIsICovIH0sXG5cdDB4MDFhZDogeyAvKiBuOlwiUXNpXCIsICovIH0sXG5cdDB4MDFhZTogeyAvKiBuOlwiU3VwQm9va1wiLCAqLyBmOnBhcnNlX1N1cEJvb2sgfSxcblx0MHgwMWFmOiB7IC8qIG46XCJQcm90NFJldlwiLCAqLyBmOnBhcnNlYm9vbCB9LFxuXHQweDAxYjA6IHsgLyogbjpcIkNvbmRGbXRcIiwgKi8gfSxcblx0MHgwMWIxOiB7IC8qIG46XCJDRlwiLCAqLyB9LFxuXHQweDAxYjI6IHsgLyogbjpcIkRWYWxcIiwgKi8gfSxcblx0MHgwMWI1OiB7IC8qIG46XCJEQ29uQmluXCIsICovIH0sXG5cdDB4MDFiNjogeyAvKiBuOlwiVHhPXCIsICovIGY6cGFyc2VfVHhPIH0sXG5cdDB4MDFiNzogeyAvKiBuOlwiUmVmcmVzaEFsbFwiLCAqLyBmOnBhcnNlYm9vbCB9LCAvL1xuXHQweDAxYjg6IHsgLyogbjpcIkhMaW5rXCIsICovIGY6cGFyc2VfSExpbmsgfSxcblx0MHgwMWI5OiB7IC8qIG46XCJMZWxcIiwgKi8gfSxcblx0MHgwMWJhOiB7IC8qIG46XCJDb2RlTmFtZVwiLCAqLyBmOnBhcnNlX1hMVW5pY29kZVN0cmluZyB9LFxuXHQweDAxYmI6IHsgLyogbjpcIlNYRkRCVHlwZVwiLCAqLyB9LFxuXHQweDAxYmM6IHsgLyogbjpcIlByb3Q0UmV2UGFzc1wiLCAqLyBmOnBhcnNldWludDE2IH0sXG5cdDB4MDFiZDogeyAvKiBuOlwiT2JOb01hY3Jvc1wiLCAqLyB9LFxuXHQweDAxYmU6IHsgLyogbjpcIkR2XCIsICovIH0sXG5cdDB4MDFjMDogeyAvKiBuOlwiRXhjZWw5RmlsZVwiLCAqLyBmOnBhcnNlbm9vcDIgfSxcblx0MHgwMWMxOiB7IC8qIG46XCJSZWNhbGNJZFwiLCAqLyBmOnBhcnNlX1JlY2FsY0lkLCByOjJ9LFxuXHQweDAxYzI6IHsgLyogbjpcIkVudEV4VTJcIiwgKi8gZjpwYXJzZW5vb3AyIH0sXG5cdDB4MDIwMDogeyAvKiBuOlwiRGltZW5zaW9uc1wiLCAqLyBmOnBhcnNlX0RpbWVuc2lvbnMgfSxcblx0MHgwMjAxOiB7IC8qIG46XCJCbGFua1wiLCAqLyBmOnBhcnNlX0JsYW5rIH0sXG5cdDB4MDIwMzogeyAvKiBuOlwiTnVtYmVyXCIsICovIGY6cGFyc2VfTnVtYmVyIH0sXG5cdDB4MDIwNDogeyAvKiBuOlwiTGFiZWxcIiwgKi8gZjpwYXJzZV9MYWJlbCB9LFxuXHQweDAyMDU6IHsgLyogbjpcIkJvb2xFcnJcIiwgKi8gZjpwYXJzZV9Cb29sRXJyIH0sXG5cdDB4MDIwNzogeyAvKiBuOlwiU3RyaW5nXCIsICovIGY6cGFyc2VfU3RyaW5nIH0sXG5cdDB4MDIwODogeyAvKiBuOlwiUm93XCIsICovIGY6cGFyc2VfUm93IH0sXG5cdDB4MDIwYjogeyAvKiBuOlwiSW5kZXhcIiwgKi8gfSxcblx0MHgwMjIxOiB7IC8qIG46XCJBcnJheVwiLCAqLyBmOnBhcnNlX0FycmF5IH0sXG5cdDB4MDIyNTogeyAvKiBuOlwiRGVmYXVsdFJvd0hlaWdodFwiLCAqLyBmOnBhcnNlX0RlZmF1bHRSb3dIZWlnaHQgfSxcblx0MHgwMjM2OiB7IC8qIG46XCJUYWJsZVwiLCAqLyB9LFxuXHQweDAyM2U6IHsgLyogbjpcIldpbmRvdzJcIiwgKi8gZjpwYXJzZV9XaW5kb3cyIH0sXG5cdDB4MDI3ZTogeyAvKiBuOlwiUktcIiwgKi8gZjpwYXJzZV9SSyB9LFxuXHQweDAyOTM6IHsgLyogbjpcIlN0eWxlXCIsICovIH0sXG5cdDB4MDQxODogeyAvKiBuOlwiQmlnTmFtZVwiLCAqLyB9LFxuXHQweDA0MWU6IHsgLyogbjpcIkZvcm1hdFwiLCAqLyBmOnBhcnNlX0Zvcm1hdCB9LFxuXHQweDA0M2M6IHsgLyogbjpcIkNvbnRpbnVlQmlnTmFtZVwiLCAqLyB9LFxuXHQweDA0YmM6IHsgLyogbjpcIlNockZtbGFcIiwgKi8gZjpwYXJzZV9TaHJGbWxhIH0sXG5cdDB4MDgwMDogeyAvKiBuOlwiSExpbmtUb29sdGlwXCIsICovIGY6cGFyc2VfSExpbmtUb29sdGlwIH0sXG5cdDB4MDgwMTogeyAvKiBuOlwiV2ViUHViXCIsICovIH0sXG5cdDB4MDgwMjogeyAvKiBuOlwiUXNpU1hUYWdcIiwgKi8gfSxcblx0MHgwODAzOiB7IC8qIG46XCJEQlF1ZXJ5RXh0XCIsICovIH0sXG5cdDB4MDgwNDogeyAvKiBuOlwiRXh0U3RyaW5nXCIsICovIH0sXG5cdDB4MDgwNTogeyAvKiBuOlwiVHh0UXJ5XCIsICovIH0sXG5cdDB4MDgwNjogeyAvKiBuOlwiUXNpclwiLCAqLyB9LFxuXHQweDA4MDc6IHsgLyogbjpcIlFzaWZcIiwgKi8gfSxcblx0MHgwODA4OiB7IC8qIG46XCJSUkRUUVNJRlwiLCAqLyB9LFxuXHQweDA4MDk6IHsgLyogbjpcIkJPRlwiLCAqLyBmOnBhcnNlX0JPRiB9LFxuXHQweDA4MGE6IHsgLyogbjpcIk9sZURiQ29ublwiLCAqLyB9LFxuXHQweDA4MGI6IHsgLyogbjpcIldPcHRcIiwgKi8gfSxcblx0MHgwODBjOiB7IC8qIG46XCJTWFZpZXdFeFwiLCAqLyB9LFxuXHQweDA4MGQ6IHsgLyogbjpcIlNYVEhcIiwgKi8gfSxcblx0MHgwODBlOiB7IC8qIG46XCJTWFBJRXhcIiwgKi8gfSxcblx0MHgwODBmOiB7IC8qIG46XCJTWFZEVEV4XCIsICovIH0sXG5cdDB4MDgxMDogeyAvKiBuOlwiU1hWaWV3RXg5XCIsICovIH0sXG5cdDB4MDgxMjogeyAvKiBuOlwiQ29udGludWVGcnRcIiwgKi8gfSxcblx0MHgwODEzOiB7IC8qIG46XCJSZWFsVGltZURhdGFcIiwgKi8gfSxcblx0MHgwODUwOiB7IC8qIG46XCJDaGFydEZydEluZm9cIiwgKi8gfSxcblx0MHgwODUxOiB7IC8qIG46XCJGcnRXcmFwcGVyXCIsICovIH0sXG5cdDB4MDg1MjogeyAvKiBuOlwiU3RhcnRCbG9ja1wiLCAqLyB9LFxuXHQweDA4NTM6IHsgLyogbjpcIkVuZEJsb2NrXCIsICovIH0sXG5cdDB4MDg1NDogeyAvKiBuOlwiU3RhcnRPYmplY3RcIiwgKi8gfSxcblx0MHgwODU1OiB7IC8qIG46XCJFbmRPYmplY3RcIiwgKi8gfSxcblx0MHgwODU2OiB7IC8qIG46XCJDYXRMYWJcIiwgKi8gfSxcblx0MHgwODU3OiB7IC8qIG46XCJZTXVsdFwiLCAqLyB9LFxuXHQweDA4NTg6IHsgLyogbjpcIlNYVmlld0xpbmtcIiwgKi8gfSxcblx0MHgwODU5OiB7IC8qIG46XCJQaXZvdENoYXJ0Qml0c1wiLCAqLyB9LFxuXHQweDA4NWE6IHsgLyogbjpcIkZydEZvbnRMaXN0XCIsICovIH0sXG5cdDB4MDg2MjogeyAvKiBuOlwiU2hlZXRFeHRcIiwgKi8gfSxcblx0MHgwODYzOiB7IC8qIG46XCJCb29rRXh0XCIsICovIHI6MTJ9LFxuXHQweDA4NjQ6IHsgLyogbjpcIlNYQWRkbFwiLCAqLyB9LFxuXHQweDA4NjU6IHsgLyogbjpcIkNyRXJyXCIsICovIH0sXG5cdDB4MDg2NjogeyAvKiBuOlwiSEZQaWN0dXJlXCIsICovIH0sXG5cdDB4MDg2NzogeyAvKiBuOlwiRmVhdEhkclwiLCAqLyBmOnBhcnNlbm9vcDIgfSxcblx0MHgwODY4OiB7IC8qIG46XCJGZWF0XCIsICovIH0sXG5cdDB4MDg2YTogeyAvKiBuOlwiRGF0YUxhYkV4dFwiLCAqLyB9LFxuXHQweDA4NmI6IHsgLyogbjpcIkRhdGFMYWJFeHRDb250ZW50c1wiLCAqLyB9LFxuXHQweDA4NmM6IHsgLyogbjpcIkNlbGxXYXRjaFwiLCAqLyB9LFxuXHQweDA4NzE6IHsgLyogbjpcIkZlYXRIZHIxMVwiLCAqLyB9LFxuXHQweDA4NzI6IHsgLyogbjpcIkZlYXR1cmUxMVwiLCAqLyB9LFxuXHQweDA4NzQ6IHsgLyogbjpcIkRyb3BEb3duT2JqSWRzXCIsICovIH0sXG5cdDB4MDg3NTogeyAvKiBuOlwiQ29udGludWVGcnQxMVwiLCAqLyB9LFxuXHQweDA4NzY6IHsgLyogbjpcIkRDb25uXCIsICovIH0sXG5cdDB4MDg3NzogeyAvKiBuOlwiTGlzdDEyXCIsICovIH0sXG5cdDB4MDg3ODogeyAvKiBuOlwiRmVhdHVyZTEyXCIsICovIH0sXG5cdDB4MDg3OTogeyAvKiBuOlwiQ29uZEZtdDEyXCIsICovIH0sXG5cdDB4MDg3YTogeyAvKiBuOlwiQ0YxMlwiLCAqLyB9LFxuXHQweDA4N2I6IHsgLyogbjpcIkNGRXhcIiwgKi8gfSxcblx0MHgwODdjOiB7IC8qIG46XCJYRkNSQ1wiLCAqLyBmOnBhcnNlX1hGQ1JDLCByOjEyIH0sXG5cdDB4MDg3ZDogeyAvKiBuOlwiWEZFeHRcIiwgKi8gZjpwYXJzZV9YRkV4dCwgcjoxMiB9LFxuXHQweDA4N2U6IHsgLyogbjpcIkF1dG9GaWx0ZXIxMlwiLCAqLyB9LFxuXHQweDA4N2Y6IHsgLyogbjpcIkNvbnRpbnVlRnJ0MTJcIiwgKi8gfSxcblx0MHgwODg0OiB7IC8qIG46XCJNRFRJbmZvXCIsICovIH0sXG5cdDB4MDg4NTogeyAvKiBuOlwiTURYU3RyXCIsICovIH0sXG5cdDB4MDg4NjogeyAvKiBuOlwiTURYVHVwbGVcIiwgKi8gfSxcblx0MHgwODg3OiB7IC8qIG46XCJNRFhTZXRcIiwgKi8gfSxcblx0MHgwODg4OiB7IC8qIG46XCJNRFhQcm9wXCIsICovIH0sXG5cdDB4MDg4OTogeyAvKiBuOlwiTURYS1BJXCIsICovIH0sXG5cdDB4MDg4YTogeyAvKiBuOlwiTURCXCIsICovIH0sXG5cdDB4MDg4YjogeyAvKiBuOlwiUExWXCIsICovIH0sXG5cdDB4MDg4YzogeyAvKiBuOlwiQ29tcGF0MTJcIiwgKi8gZjpwYXJzZWJvb2wsIHI6MTIgfSxcblx0MHgwODhkOiB7IC8qIG46XCJEWEZcIiwgKi8gfSxcblx0MHgwODhlOiB7IC8qIG46XCJUYWJsZVN0eWxlc1wiLCAqLyByOjEyIH0sXG5cdDB4MDg4ZjogeyAvKiBuOlwiVGFibGVTdHlsZVwiLCAqLyB9LFxuXHQweDA4OTA6IHsgLyogbjpcIlRhYmxlU3R5bGVFbGVtZW50XCIsICovIH0sXG5cdDB4MDg5MjogeyAvKiBuOlwiU3R5bGVFeHRcIiwgKi8gfSxcblx0MHgwODkzOiB7IC8qIG46XCJOYW1lUHVibGlzaFwiLCAqLyB9LFxuXHQweDA4OTQ6IHsgLyogbjpcIk5hbWVDbXRcIiwgKi8gZjpwYXJzZV9OYW1lQ210LCByOjEyIH0sXG5cdDB4MDg5NTogeyAvKiBuOlwiU29ydERhdGFcIiwgKi8gfSxcblx0MHgwODk2OiB7IC8qIG46XCJUaGVtZVwiLCAqLyBmOnBhcnNlX1RoZW1lLCByOjEyIH0sXG5cdDB4MDg5NzogeyAvKiBuOlwiR1VJRFR5cGVMaWJcIiwgKi8gfSxcblx0MHgwODk4OiB7IC8qIG46XCJGbkdycDEyXCIsICovIH0sXG5cdDB4MDg5OTogeyAvKiBuOlwiTmFtZUZuR3JwMTJcIiwgKi8gfSxcblx0MHgwODlhOiB7IC8qIG46XCJNVFJTZXR0aW5nc1wiLCAqLyBmOnBhcnNlX01UUlNldHRpbmdzLCByOjEyIH0sXG5cdDB4MDg5YjogeyAvKiBuOlwiQ29tcHJlc3NQaWN0dXJlc1wiLCAqLyBmOnBhcnNlbm9vcDIgfSxcblx0MHgwODljOiB7IC8qIG46XCJIZWFkZXJGb290ZXJcIiwgKi8gfSxcblx0MHgwODlkOiB7IC8qIG46XCJDcnRMYXlvdXQxMlwiLCAqLyB9LFxuXHQweDA4OWU6IHsgLyogbjpcIkNydE1sRnJ0XCIsICovIH0sXG5cdDB4MDg5ZjogeyAvKiBuOlwiQ3J0TWxGcnRDb250aW51ZVwiLCAqLyB9LFxuXHQweDA4YTM6IHsgLyogbjpcIkZvcmNlRnVsbENhbGN1bGF0aW9uXCIsICovIGY6cGFyc2VfRm9yY2VGdWxsQ2FsY3VsYXRpb24gfSxcblx0MHgwOGE0OiB7IC8qIG46XCJTaGFwZVByb3BzU3RyZWFtXCIsICovIH0sXG5cdDB4MDhhNTogeyAvKiBuOlwiVGV4dFByb3BzU3RyZWFtXCIsICovIH0sXG5cdDB4MDhhNjogeyAvKiBuOlwiUmljaFRleHRTdHJlYW1cIiwgKi8gfSxcblx0MHgwOGE3OiB7IC8qIG46XCJDcnRMYXlvdXQxMkFcIiwgKi8gfSxcblx0MHgxMDAxOiB7IC8qIG46XCJVbml0c1wiLCAqLyB9LFxuXHQweDEwMDI6IHsgLyogbjpcIkNoYXJ0XCIsICovIH0sXG5cdDB4MTAwMzogeyAvKiBuOlwiU2VyaWVzXCIsICovIH0sXG5cdDB4MTAwNjogeyAvKiBuOlwiRGF0YUZvcm1hdFwiLCAqLyB9LFxuXHQweDEwMDc6IHsgLyogbjpcIkxpbmVGb3JtYXRcIiwgKi8gfSxcblx0MHgxMDA5OiB7IC8qIG46XCJNYXJrZXJGb3JtYXRcIiwgKi8gfSxcblx0MHgxMDBhOiB7IC8qIG46XCJBcmVhRm9ybWF0XCIsICovIH0sXG5cdDB4MTAwYjogeyAvKiBuOlwiUGllRm9ybWF0XCIsICovIH0sXG5cdDB4MTAwYzogeyAvKiBuOlwiQXR0YWNoZWRMYWJlbFwiLCAqLyB9LFxuXHQweDEwMGQ6IHsgLyogbjpcIlNlcmllc1RleHRcIiwgKi8gfSxcblx0MHgxMDE0OiB7IC8qIG46XCJDaGFydEZvcm1hdFwiLCAqLyB9LFxuXHQweDEwMTU6IHsgLyogbjpcIkxlZ2VuZFwiLCAqLyB9LFxuXHQweDEwMTY6IHsgLyogbjpcIlNlcmllc0xpc3RcIiwgKi8gfSxcblx0MHgxMDE3OiB7IC8qIG46XCJCYXJcIiwgKi8gfSxcblx0MHgxMDE4OiB7IC8qIG46XCJMaW5lXCIsICovIH0sXG5cdDB4MTAxOTogeyAvKiBuOlwiUGllXCIsICovIH0sXG5cdDB4MTAxYTogeyAvKiBuOlwiQXJlYVwiLCAqLyB9LFxuXHQweDEwMWI6IHsgLyogbjpcIlNjYXR0ZXJcIiwgKi8gfSxcblx0MHgxMDFjOiB7IC8qIG46XCJDcnRMaW5lXCIsICovIH0sXG5cdDB4MTAxZDogeyAvKiBuOlwiQXhpc1wiLCAqLyB9LFxuXHQweDEwMWU6IHsgLyogbjpcIlRpY2tcIiwgKi8gfSxcblx0MHgxMDFmOiB7IC8qIG46XCJWYWx1ZVJhbmdlXCIsICovIH0sXG5cdDB4MTAyMDogeyAvKiBuOlwiQ2F0U2VyUmFuZ2VcIiwgKi8gfSxcblx0MHgxMDIxOiB7IC8qIG46XCJBeGlzTGluZVwiLCAqLyB9LFxuXHQweDEwMjI6IHsgLyogbjpcIkNydExpbmtcIiwgKi8gfSxcblx0MHgxMDI0OiB7IC8qIG46XCJEZWZhdWx0VGV4dFwiLCAqLyB9LFxuXHQweDEwMjU6IHsgLyogbjpcIlRleHRcIiwgKi8gfSxcblx0MHgxMDI2OiB7IC8qIG46XCJGb250WFwiLCAqLyBmOnBhcnNldWludDE2IH0sXG5cdDB4MTAyNzogeyAvKiBuOlwiT2JqZWN0TGlua1wiLCAqLyB9LFxuXHQweDEwMzI6IHsgLyogbjpcIkZyYW1lXCIsICovIH0sXG5cdDB4MTAzMzogeyAvKiBuOlwiQmVnaW5cIiwgKi8gfSxcblx0MHgxMDM0OiB7IC8qIG46XCJFbmRcIiwgKi8gfSxcblx0MHgxMDM1OiB7IC8qIG46XCJQbG90QXJlYVwiLCAqLyB9LFxuXHQweDEwM2E6IHsgLyogbjpcIkNoYXJ0M2RcIiwgKi8gfSxcblx0MHgxMDNjOiB7IC8qIG46XCJQaWNGXCIsICovIH0sXG5cdDB4MTAzZDogeyAvKiBuOlwiRHJvcEJhclwiLCAqLyB9LFxuXHQweDEwM2U6IHsgLyogbjpcIlJhZGFyXCIsICovIH0sXG5cdDB4MTAzZjogeyAvKiBuOlwiU3VyZlwiLCAqLyB9LFxuXHQweDEwNDA6IHsgLyogbjpcIlJhZGFyQXJlYVwiLCAqLyB9LFxuXHQweDEwNDE6IHsgLyogbjpcIkF4aXNQYXJlbnRcIiwgKi8gfSxcblx0MHgxMDQzOiB7IC8qIG46XCJMZWdlbmRFeGNlcHRpb25cIiwgKi8gfSxcblx0MHgxMDQ0OiB7IC8qIG46XCJTaHRQcm9wc1wiLCAqLyBmOnBhcnNlX1NodFByb3BzIH0sXG5cdDB4MTA0NTogeyAvKiBuOlwiU2VyVG9DcnRcIiwgKi8gfSxcblx0MHgxMDQ2OiB7IC8qIG46XCJBeGVzVXNlZFwiLCAqLyB9LFxuXHQweDEwNDg6IHsgLyogbjpcIlNCYXNlUmVmXCIsICovIH0sXG5cdDB4MTA0YTogeyAvKiBuOlwiU2VyUGFyZW50XCIsICovIH0sXG5cdDB4MTA0YjogeyAvKiBuOlwiU2VyQXV4VHJlbmRcIiwgKi8gfSxcblx0MHgxMDRlOiB7IC8qIG46XCJJRm10UmVjb3JkXCIsICovIH0sXG5cdDB4MTA0ZjogeyAvKiBuOlwiUG9zXCIsICovIH0sXG5cdDB4MTA1MDogeyAvKiBuOlwiQWxSdW5zXCIsICovIH0sXG5cdDB4MTA1MTogeyAvKiBuOlwiQlJBSVwiLCAqLyB9LFxuXHQweDEwNWI6IHsgLyogbjpcIlNlckF1eEVyckJhclwiLCAqLyB9LFxuXHQweDEwNWM6IHsgLyogbjpcIkNscnRDbGllbnRcIiwgKi8gZjpwYXJzZV9DbHJ0Q2xpZW50IH0sXG5cdDB4MTA1ZDogeyAvKiBuOlwiU2VyRm10XCIsICovIH0sXG5cdDB4MTA1ZjogeyAvKiBuOlwiQ2hhcnQzREJhclNoYXBlXCIsICovIH0sXG5cdDB4MTA2MDogeyAvKiBuOlwiRmJpXCIsICovIH0sXG5cdDB4MTA2MTogeyAvKiBuOlwiQm9wUG9wXCIsICovIH0sXG5cdDB4MTA2MjogeyAvKiBuOlwiQXhjRXh0XCIsICovIH0sXG5cdDB4MTA2MzogeyAvKiBuOlwiRGF0XCIsICovIH0sXG5cdDB4MTA2NDogeyAvKiBuOlwiUGxvdEdyb3d0aFwiLCAqLyB9LFxuXHQweDEwNjU6IHsgLyogbjpcIlNJSW5kZXhcIiwgKi8gfSxcblx0MHgxMDY2OiB7IC8qIG46XCJHZWxGcmFtZVwiLCAqLyB9LFxuXHQweDEwNjc6IHsgLyogbjpcIkJvcFBvcEN1c3RvbVwiLCAqLyB9LFxuXHQweDEwNjg6IHsgLyogbjpcIkZiaTJcIiwgKi8gfSxcblxuXHQweDAwMDA6IHsgLyogbjpcIkRpbWVuc2lvbnNcIiwgKi8gZjpwYXJzZV9EaW1lbnNpb25zIH0sXG5cdDB4MDAwMTogeyAvKiBuOlwiQklGRjJCTEFOS1wiLCAqLyB9LFxuXHQweDAwMDI6IHsgLyogbjpcIkJJRkYySU5UXCIsICovIGY6cGFyc2VfQklGRjJJTlQgfSxcblx0MHgwMDAzOiB7IC8qIG46XCJCSUZGMk5VTVwiLCAqLyBmOnBhcnNlX0JJRkYyTlVNIH0sXG5cdDB4MDAwNDogeyAvKiBuOlwiQklGRjJTVFJcIiwgKi8gZjpwYXJzZV9CSUZGMlNUUiB9LFxuXHQweDAwMDU6IHsgLyogbjpcIkJJRkYyQk9PTEVSUlwiLCAqLyBmOnBhcnNlX0JJRkYyQk9PTEVSUiB9LFxuXHQweDAwMDc6IHsgLyogbjpcIlN0cmluZ1wiLCAqLyBmOnBhcnNlX0JJRkYyU1RSSU5HIH0sXG5cdDB4MDAwODogeyAvKiBuOlwiQklGRjJST1dcIiwgKi8gfSxcblx0MHgwMDA5OiB7IC8qIG46XCJCT0ZcIiwgKi8gZjpwYXJzZV9CT0YgfSxcblx0MHgwMDBiOiB7IC8qIG46XCJJbmRleFwiLCAqLyB9LFxuXHQweDAwMTY6IHsgLyogbjpcIkV4dGVybkNvdW50XCIsICovIGY6cGFyc2V1aW50MTYgfSxcblx0MHgwMDFlOiB7IC8qIG46XCJCSUZGMkZPUk1BVFwiLCAqLyBmOnBhcnNlX0JJRkYyRm9ybWF0IH0sXG5cdDB4MDAxZjogeyAvKiBuOlwiQklGRjJGTVRDTlRcIiwgKi8gfSwgLyogMTYtYml0IGNudCBvZiBCSUZGMkZPUk1BVCByZWNvcmRzICovXG5cdDB4MDAyMDogeyAvKiBuOlwiQklGRjJDT0xJTkZPXCIsICovIH0sXG5cdDB4MDAyMTogeyAvKiBuOlwiQXJyYXlcIiwgKi8gZjpwYXJzZV9BcnJheSB9LFxuXHQweDAwMjQ6IHsgLyogbjpcIkNPTFdJRFRIXCIsICovIH0sXG5cdDB4MDAyNTogeyAvKiBuOlwiRGVmYXVsdFJvd0hlaWdodFwiLCAqLyBmOnBhcnNlX0RlZmF1bHRSb3dIZWlnaHQgfSxcblx0Ly8gMHgwMDJjID8/XG5cdC8vIDB4MDAyZCA/P1xuXHQvLyAweDAwMmUgPz9cblx0Ly8gMHgwMDMwIEZPTlRDT1VOVDogbnVtYmVyIG9mIGZvbnRzXG5cdDB4MDAzMjogeyAvKiBuOlwiQklGRjJGT05UWFRSQVwiLCAqLyBmOnBhcnNlX0JJRkYyRk9OVFhUUkEgfSxcblx0Ly8gMHgwMDM1OiBJTkZPT1BUU1xuXHQvLyAweDAwMzY6IFRBQkxFIChCSUZGMiBvbmx5KVxuXHQvLyAweDAwMzc6IFRBQkxFMiAoQklGRjIgb25seSlcblx0Ly8gMHgwMDM4OiBXTkRFU0tcblx0Ly8gMHgwMDM5ID8/XG5cdC8vIDB4MDAzYTogQkVHSU5QUkVGXG5cdC8vIDB4MDAzYjogRU5EUFJFRlxuXHQweDAwM2U6IHsgLyogbjpcIkJJRkYyV0lORE9XMlwiLCAqLyB9LFxuXHQvLyAweDAwM2YgPz9cblx0Ly8gMHgwMDQ2OiBTSE9XU0NST0xMXG5cdC8vIDB4MDA0NzogU0hPV0ZPUk1VTEFcblx0Ly8gMHgwMDQ4OiBTVEFUVVNCQVJcblx0Ly8gMHgwMDQ5OiBTSE9SVE1FTlVTXG5cdC8vIDB4MDA0QTpcblx0Ly8gMHgwMDRCOlxuXHQvLyAweDAwNEM6XG5cdC8vIDB4MDA0RTpcblx0Ly8gMHgwMDRGOlxuXHQvLyAweDAwNTg6IFRPT0xCQVIgKEJJRkYzKVxuXG5cdC8qIC0gLSAtICovXG5cdDB4MDAzNDogeyAvKiBuOlwiRERFT2JqTmFtZVwiLCAqLyB9LFxuXHQweDAwNDM6IHsgLyogbjpcIkJJRkYyWEZcIiwgKi8gZjpwYXJzZV9CSUZGMlhGIH0sXG5cdDB4MDA0NDogeyAvKiBuOlwiQklGRjJYRklOREVYXCIsICovIGY6cGFyc2V1aW50MTYgfSxcblx0MHgwMDQ1OiB7IC8qIG46XCJCSUZGMkZPTlRDTFJcIiwgKi8gfSxcblx0MHgwMDU2OiB7IC8qIG46XCJCSUZGNEZNVENOVFwiLCAqLyB9LCAvKiAxNi1iaXQgY250LCBzaW1pbGFyIHRvIEJJRkYyICovXG5cdDB4MDA3ZTogeyAvKiBuOlwiUktcIiwgKi8gfSwgLyogTm90IG5lY2Vzc2FyaWx5IHNhbWUgYXMgMHgwMjdlICovXG5cdDB4MDA3ZjogeyAvKiBuOlwiSW1EYXRhXCIsICovIGY6cGFyc2VfSW1EYXRhIH0sXG5cdDB4MDA4NzogeyAvKiBuOlwiQWRkaW5cIiwgKi8gfSxcblx0MHgwMDg4OiB7IC8qIG46XCJFZGdcIiwgKi8gfSxcblx0MHgwMDg5OiB7IC8qIG46XCJQdWJcIiwgKi8gfSxcblx0Ly8gMHg4QVxuXHQvLyAweDhCIExIOiBhbHRlcm5hdGUgbWVudSBrZXkgZmxhZyAoQklGRjMvNClcblx0Ly8gMHg4RVxuXHQweDAwOEY6IHsgLyogbjpcIkJJRkY0U2hlZXRJbmZvXCIsICovIGY6cGFyc2VfQklGRjRTaGVldEluZm8gfSxcblx0MHgwMDkxOiB7IC8qIG46XCJTdWJcIiwgKi8gfSxcblx0Ly8gMHg5MyBTVFlMRVxuXHQweDAwOTQ6IHsgLyogbjpcIkxIUmVjb3JkXCIsICovIH0sXG5cdDB4MDA5NTogeyAvKiBuOlwiTEhOR3JhcGhcIiwgKi8gfSxcblx0MHgwMDk2OiB7IC8qIG46XCJTb3VuZFwiLCAqLyB9LFxuXHQvLyAweEEyIEZOUFJPVE86IGZ1bmN0aW9uIHByb3RvdHlwZXMgKEJJRkY0KVxuXHQvLyAweEEzXG5cdC8vIDB4QThcblx0MHgwMGE5OiB7IC8qIG46XCJDb29yZExpc3RcIiwgKi8gfSxcblx0MHgwMGFiOiB7IC8qIG46XCJHQ1dcIiwgKi8gfSxcblx0MHgwMGJjOiB7IC8qIG46XCJTaHJGbWxhXCIsICovIH0sIC8qIE5vdCBuZWNlc3NhcmlseSBzYW1lIGFzIDB4MDRiYyAqL1xuXHQweDAwYmY6IHsgLyogbjpcIlRvb2xiYXJIZHJcIiwgKi8gfSxcblx0MHgwMGMwOiB7IC8qIG46XCJUb29sYmFyRW5kXCIsICovIH0sXG5cdDB4MDBjMjogeyAvKiBuOlwiQWRkTWVudVwiLCAqLyB9LFxuXHQweDAwYzM6IHsgLyogbjpcIkRlbE1lbnVcIiwgKi8gfSxcblx0MHgwMGQ2OiB7IC8qIG46XCJSU3RyaW5nXCIsICovIGY6cGFyc2VfUlN0cmluZyB9LFxuXHQweDAwZGY6IHsgLyogbjpcIlVERGVzY1wiLCAqLyB9LFxuXHQweDAwZWE6IHsgLyogbjpcIlRhYklkQ29uZlwiLCAqLyB9LFxuXHQweDAxNjI6IHsgLyogbjpcIlhMNU1vZGlmeVwiLCAqLyB9LFxuXHQweDAxYTU6IHsgLyogbjpcIkZpbGVTaGFyaW5nMlwiLCAqLyB9LFxuXHQweDAyMDY6IHsgLyogbjpcIkZvcm11bGFcIiwgKi8gZjpwYXJzZV9Gb3JtdWxhIH0sXG5cdDB4MDIwOTogeyAvKiBuOlwiQk9GXCIsICovIGY6cGFyc2VfQk9GIH0sXG5cdDB4MDIxODogeyAvKiBuOlwiTGJsXCIsICovIGY6cGFyc2VfTGJsIH0sXG5cdDB4MDIyMzogeyAvKiBuOlwiRXh0ZXJuTmFtZVwiLCAqLyBmOnBhcnNlX0V4dGVybk5hbWUgfSxcblx0MHgwMjMxOiB7IC8qIG46XCJGb250XCIsICovIH0sXG5cdDB4MDI0MzogeyAvKiBuOlwiQklGRjNYRlwiLCAqLyBmOnBhcnNlX0JJRkYzWEYgfSxcblx0MHgwNDA2OiB7IC8qIG46XCJGb3JtdWxhXCIsICovIGY6cGFyc2VfRm9ybXVsYSB9LFxuXHQweDA0MDk6IHsgLyogbjpcIkJPRlwiLCAqLyBmOnBhcnNlX0JPRiB9LFxuXHQweDA0NDM6IHsgLyogbjpcIkJJRkY0WEZcIiwgKi8gZjpwYXJzZV9CSUZGNFhGIH0sXG5cdDB4MDg2ZDogeyAvKiBuOlwiRmVhdEluZm9cIiwgKi8gfSxcblx0MHgwODczOiB7IC8qIG46XCJGZWF0SW5mbzExXCIsICovIH0sXG5cdDB4MDg4MTogeyAvKiBuOlwiU1hBZGRsMTJcIiwgKi8gfSxcblx0MHgwOGMwOiB7IC8qIG46XCJBdXRvV2ViUHViXCIsICovIH0sXG5cdDB4MDhjMTogeyAvKiBuOlwiTGlzdE9ialwiLCAqLyB9LFxuXHQweDA4YzI6IHsgLyogbjpcIkxpc3RGaWVsZFwiLCAqLyB9LFxuXHQweDA4YzM6IHsgLyogbjpcIkxpc3REVlwiLCAqLyB9LFxuXHQweDA4YzQ6IHsgLyogbjpcIkxpc3RDb25kRm10XCIsICovIH0sXG5cdDB4MDhjNTogeyAvKiBuOlwiTGlzdENGXCIsICovIH0sXG5cdDB4MDhjNjogeyAvKiBuOlwiRk1RcnlcIiwgKi8gfSxcblx0MHgwOGM3OiB7IC8qIG46XCJGTVNRcnlcIiwgKi8gfSxcblx0MHgwOGM4OiB7IC8qIG46XCJQTFZcIiwgKi8gfSxcblx0MHgwOGM5OiB7IC8qIG46XCJMbkV4dFwiLCAqLyB9LFxuXHQweDA4Y2E6IHsgLyogbjpcIk1rckV4dFwiLCAqLyB9LFxuXHQweDA4Y2I6IHsgLyogbjpcIkNydENvb3B0XCIsICovIH0sXG5cdDB4MDhkNjogeyAvKiBuOlwiRlJUQXJjaElkJFwiLCAqLyByOjEyIH0sXG5cblx0LyogLS0tIG11bHRpcGxhbiA0IHJlY29yZHMgLS0tICovXG5cdDB4MDA2NTogeyAvKiBuOlwiXCIsICovIH0sIC8vIG9uZSBwZXIgd2luZG93XG5cdDB4MDA2NjogeyAvKiBuOlwiXCIsICovIH0sIC8vIGNhbGMgc2V0dGluZ3Ncblx0MHgwMDY5OiB7IC8qIG46XCJcIiwgKi8gfSwgLy8gcHJpbnQgaGVhZGVyXG5cdDB4MDA2YTogeyAvKiBuOlwiXCIsICovIH0sIC8vIHByaW50IGZvb3RlclxuXHQweDAwNmI6IHsgLyogbjpcIlwiLCAqLyB9LCAvLyBwcmludCBzZXR0aW5nc1xuXHQweDAwNmQ6IHsgLyogbjpcIlwiLCAqLyB9LCAvLyBvbmUgcGVyIHdpbmRvd1xuXHQweDAwNzA6IHsgLyogbjpcIlwiLCAqLyB9LCAvLyBpbmNsdWRlcyBkZWZhdWx0IGNvbCB3aWR0aFxuXHQweDAwNzI6IHsgLyogbjpcIlwiLCAqLyB9LCAvLyBpbmNsdWRlcyBzZWxlY3RlZCBjZWxsXG5cblx0MHg3MjYyOiB7fVxufTtcblxuZnVuY3Rpb24gd3JpdGVfYmlmZl9yZWMoYmEvKjpCdWZBcnJheSovLCB0eXBlLyo6bnVtYmVyKi8sIHBheWxvYWQsIGxlbmd0aC8qOj9udW1iZXIqLykvKjp2b2lkKi8ge1xuXHR2YXIgdC8qOm51bWJlciovID0gdHlwZTtcblx0aWYoaXNOYU4odCkpIHJldHVybjtcblx0dmFyIGxlbiA9IGxlbmd0aCB8fCAocGF5bG9hZHx8W10pLmxlbmd0aCB8fCAwO1xuXHR2YXIgbyA9IGJhLm5leHQoNCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgdCk7XG5cdG8ud3JpdGVfc2hpZnQoMiwgbGVuKTtcblx0aWYoLyo6OiBsZW4gIT0gbnVsbCAmJiovbGVuID4gMCAmJiBpc19idWYocGF5bG9hZCkpIGJhLnB1c2gocGF5bG9hZCk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX2JpZmZfY29udGludWUoYmEvKjpCdWZBcnJheSovLCB0eXBlLyo6bnVtYmVyKi8sIHBheWxvYWQsIGxlbmd0aC8qOj9udW1iZXIqLykvKjp2b2lkKi8ge1xuXHR2YXIgbGVuID0gbGVuZ3RoIHx8IChwYXlsb2FkfHxbXSkubGVuZ3RoIHx8IDA7XG5cdGlmKGxlbiA8PSA4MjI0KSByZXR1cm4gd3JpdGVfYmlmZl9yZWMoYmEsIHR5cGUsIHBheWxvYWQsIGxlbik7XG5cdHZhciB0ID0gdHlwZTtcblx0aWYoaXNOYU4odCkpIHJldHVybjtcblx0dmFyIHBhcnRzID0gcGF5bG9hZC5wYXJ0cyB8fCBbXSwgc2lkeCA9IDA7XG5cdHZhciBpID0gMCwgdyA9IDA7XG5cdHdoaWxlKHcgKyAocGFydHNbc2lkeF0gfHwgODIyNCkgPD0gODIyNCkgeyB3Kz0gKHBhcnRzW3NpZHhdIHx8IDgyMjQpOyBzaWR4Kys7IH1cblx0dmFyIG8gPSBiYS5uZXh0KDQpO1xuXHRvLndyaXRlX3NoaWZ0KDIsIHQpO1xuXHRvLndyaXRlX3NoaWZ0KDIsIHcpO1xuXHRiYS5wdXNoKHBheWxvYWQuc2xpY2UoaSwgaSArIHcpKTtcblx0aSArPSB3O1xuXHR3aGlsZShpIDwgbGVuKSB7XG5cdFx0byA9IGJhLm5leHQoNCk7XG5cdFx0by53cml0ZV9zaGlmdCgyLCAweDNjKTsgLy8gVE9ETzogZmlndXJlIG91dCBjb3JyZWN0IGNvbnRpbnVlIHR5cGVcblx0XHR3ID0gMDtcblx0XHR3aGlsZSh3ICsgKHBhcnRzW3NpZHhdIHx8IDgyMjQpIDw9IDgyMjQpIHsgdys9IChwYXJ0c1tzaWR4XSB8fCA4MjI0KTsgc2lkeCsrOyB9XG5cdFx0by53cml0ZV9zaGlmdCgyLCB3KTtcblx0XHRiYS5wdXNoKHBheWxvYWQuc2xpY2UoaSwgaSt3KSk7IGkrPSB3O1xuXHR9XG59XG5cbmZ1bmN0aW9uIHdyaXRlX0JJRkYyQkVSUihyLyo6bnVtYmVyKi8sIGMvKjpudW1iZXIqLywgdmFsLCB0Lyo6P3N0cmluZyovKSB7XG5cdHZhciBvdXQgPSBuZXdfYnVmKDkpO1xuXHR3cml0ZV9CSUZGMkNlbGwob3V0LCByLCBjKTtcblx0d3JpdGVfQmVzKHZhbCwgdCB8fCAnYicsIG91dCk7XG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIFRPRE86IGNvZGVwYWdlLCBsYXJnZSBzdHJpbmdzICovXG5mdW5jdGlvbiB3cml0ZV9CSUZGMkxBQkVMKHIvKjpudW1iZXIqLywgYy8qOm51bWJlciovLCB2YWwpIHtcblx0dmFyIG91dCA9IG5ld19idWYoOCArIDIqdmFsLmxlbmd0aCk7XG5cdHdyaXRlX0JJRkYyQ2VsbChvdXQsIHIsIGMpO1xuXHRvdXQud3JpdGVfc2hpZnQoMSwgdmFsLmxlbmd0aCk7XG5cdG91dC53cml0ZV9zaGlmdCh2YWwubGVuZ3RoLCB2YWwsICdzYmNzJyk7XG5cdHJldHVybiBvdXQubCA8IG91dC5sZW5ndGggPyBvdXQuc2xpY2UoMCwgb3V0LmwpIDogb3V0O1xufVxuXG5mdW5jdGlvbiB3cml0ZV9jb21tZW50c19iaWZmMihiYS8qOkJ1ZkFycmF5Ki8sIGNvbW1lbnRzLyo6QXJyYXk8W0NvbW1lbnRbXSwgbnVtYmVyLCBudW1iZXJdPiovKSB7XG5cdGNvbW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZGF0YSkge1xuXHRcdHZhciB0ZXh0ID0gZGF0YVswXS5tYXAoZnVuY3Rpb24oY2MpIHsgcmV0dXJuIGNjLnQ7IH0pLmpvaW4oXCJcIik7XG5cdFx0Ly8gVE9ETzogc2hvdWxkICdcXG4nIGJlIHRyYW5zbGF0ZWQgdG8gJ1xccicgdG8gY29ycmVjdCBmb3IgRXhjZWwgNS4wIGJ1ZyB3aGVuIGV4cG9ydGluZyB0byBCSUZGMi8zID9cblx0XHRpZih0ZXh0Lmxlbmd0aCA8PSAyMDQ4KSByZXR1cm4gd3JpdGVfYmlmZl9yZWMoYmEsIDB4MDAxQywgd3JpdGVfTk9URV9CSUZGMih0ZXh0LCBkYXRhWzFdLCBkYXRhWzJdKSk7XG5cdFx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDAxQywgd3JpdGVfTk9URV9CSUZGMih0ZXh0LnNsaWNlKDAsIDIwNDgpLCBkYXRhWzFdLCBkYXRhWzJdLCB0ZXh0Lmxlbmd0aCkpO1xuXHRcdGZvcih2YXIgaSA9IDIwNDg7IGkgPCB0ZXh0Lmxlbmd0aDsgaSArPSAyMDQ4KVxuXHRcdFx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDAxQywgd3JpdGVfTk9URV9CSUZGMih0ZXh0LnNsaWNlKGksIE1hdGgubWluKGkrMjA0OCwgdGV4dC5sZW5ndGgpKSwgLTEsIC0xLCBNYXRoLm1pbigyMDQ4LCB0ZXh0Lmxlbmd0aCAtIGkpKSk7XG5cdH0pO1xufVxuXG4vKiBUT0RPOiBCSUZGMy80IHVzZSBkaWZmZXJlbnQgcmVjb3JkcyAtLSBzZWUgY29tbWVudHMqL1xuZnVuY3Rpb24gd3JpdGVfd3NfYmlmZjJfY2VsbChiYS8qOkJ1ZkFycmF5Ki8sIGNlbGwvKjpDZWxsKi8sIFIvKjpudW1iZXIqLywgQy8qOm51bWJlciovLCBvcHRzLCBkYXRlMTkwNC8qOmJvb2xlYW4qLykge1xuXHR2YXIgaWZtdCA9IDA7XG5cdGlmKGNlbGwueiAhPSBudWxsKSB7XG5cdFx0aWZtdCA9IG9wdHMuX0JJRkYyRm10VGFibGUuaW5kZXhPZihjZWxsLnopO1xuXHRcdGlmKGlmbXQgPT0gLTEpIHsgb3B0cy5fQklGRjJGbXRUYWJsZS5wdXNoKGNlbGwueik7IGlmbXQgPSBvcHRzLl9CSUZGMkZtdFRhYmxlLmxlbmd0aCAtIDE7IH1cblx0fVxuXHR2YXIgaXhmZSA9IDA7XG5cdGlmKGNlbGwueiAhPSBudWxsKSB7XG5cdFx0Zm9yKDsgaXhmZSA8IG9wdHMuY2VsbFhmcy5sZW5ndGg7ICsraXhmZSkgaWYob3B0cy5jZWxsWGZzW2l4ZmVdLm51bUZtdElkID09IGlmbXQpIGJyZWFrO1xuXHRcdGlmKGl4ZmUgPT0gb3B0cy5jZWxsWGZzLmxlbmd0aCkgb3B0cy5jZWxsWGZzLnB1c2goe251bUZtdElkOiBpZm10fSk7XG5cdH1cblx0aWYoY2VsbC52ICE9IG51bGwpIHN3aXRjaChjZWxsLnQpIHtcblx0XHRjYXNlICdkJzogY2FzZSAnbic6XG5cdFx0XHR2YXIgdiA9IGNlbGwudCA9PSAnZCcgPyBkYXRlbnVtKHBhcnNlRGF0ZShjZWxsLnYsIGRhdGUxOTA0KSwgZGF0ZTE5MDQpIDogY2VsbC52O1xuXHRcdFx0aWYob3B0cy5iaWZmID09IDIgJiYgKHYgPT0gKHZ8MCkpICYmICh2ID49IDApICYmICh2IDwgNjU1MzYpKVxuXHRcdFx0XHQvLyAweDAyN0UgKFJLKSBpbiBCSUZGMy80XG5cdFx0XHRcdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwMDIsIHdyaXRlX0JJRkYySU5UKFIsIEMsIHYsIGl4ZmUsIGlmbXQpKTtcblx0XHRcdGVsc2UgaWYoaXNOYU4odikpXG5cdFx0XHRcdC8vIDB4MDIwNSBpbiBCSUZGMy80XG5cdFx0XHRcdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwMDUsIHdyaXRlX0JJRkYyQkVSUihSLCBDLCAweDI0LCBcImVcIikpOyAvLyAjTlVNIVxuXHRcdFx0ZWxzZSBpZighaXNGaW5pdGUodikpXG5cdFx0XHRcdC8vIDB4MDIwNSBpbiBCSUZGMy80XG5cdFx0XHRcdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwMDUsIHdyaXRlX0JJRkYyQkVSUihSLCBDLCAweDA3LCBcImVcIikpOyAvLyAjRElWLzAhXG5cdFx0XHRlbHNlXG5cdFx0XHRcdC8vIDB4MDIwMyBpbiBCSUZGMy80XG5cdFx0XHRcdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwMDMsIHdyaXRlX0JJRkYyTlVNKFIsQywgdiwgaXhmZSwgaWZtdCkpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdGNhc2UgJ2InOiBjYXNlICdlJzpcblx0XHRcdC8vIDB4MDIwNSBpbiBCSUZGMy80XG5cdFx0XHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMDA1LCB3cml0ZV9CSUZGMkJFUlIoUiwgQywgY2VsbC52LCBjZWxsLnQpKTsgcmV0dXJuO1xuXHRcdC8qIFRPRE86IGNvZGVwYWdlLCBzc3QgKi9cblx0XHRjYXNlICdzJzogY2FzZSAnc3RyJzpcblx0XHRcdC8vIDB4MDIwNCBpbiBCSUZGMy80XG5cdFx0XHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMDA0LCB3cml0ZV9CSUZGMkxBQkVMKFIsIEMsIGNlbGwudiA9PSBudWxsID8gXCJcIiA6IFN0cmluZyhjZWxsLnYpLnNsaWNlKDAsMjU1KSkpO1xuXHRcdFx0cmV0dXJuO1xuXHR9XG5cdC8vIDB4MDIwMSBpbiBCSUZGMy80XG5cdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwMDEsIHdyaXRlX0JJRkYyQ2VsbChudWxsLCBSLCBDKSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3dzX2JpZmYyKGJhLyo6QnVmQXJyYXkqLywgd3MvKjpXb3Jrc2hlZXQqLywgaWR4Lyo6bnVtYmVyKi8sIG9wdHMsIHdiLyo6V29ya2Jvb2sqLykge1xuXHR2YXIgZGVuc2UgPSB3c1tcIiFkYXRhXCJdICE9IG51bGw7XG5cdHZhciByYW5nZSA9IHNhZmVfZGVjb2RlX3JhbmdlKHdzWychcmVmJ10gfHwgXCJBMVwiKSwgcnIgPSBcIlwiLCBjb2xzLyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdGlmKHJhbmdlLmUuYyA+IDB4RkYgfHwgcmFuZ2UuZS5yID4gMHgzRkZGKSB7XG5cdFx0aWYob3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcihcIlJhbmdlIFwiICsgKHdzWychcmVmJ10gfHwgXCJBMVwiKSArIFwiIGV4Y2VlZHMgZm9ybWF0IGxpbWl0IEExOklWMTYzODRcIik7XG5cdFx0cmFuZ2UuZS5jID0gTWF0aC5taW4ocmFuZ2UuZS5jLCAweEZGKTtcblx0XHRyYW5nZS5lLnIgPSBNYXRoLm1pbihyYW5nZS5lLnIsIDB4M0ZGRik7XG5cdH1cblx0dmFyIGRhdGUxOTA0ID0gKCgod2J8fHt9KS5Xb3JrYm9va3x8e30pLldCUHJvcHN8fHt9KS5kYXRlMTkwNDtcblx0dmFyIHJvdyA9IFtdLCBjb21tZW50cyA9IFtdO1xuXHQvKiBUT0RPOiAweDAwMDAgLyAweDAyMDAgZGltZW5zaW9ucz8gKi9cblx0Zm9yKHZhciBDID0gcmFuZ2Uucy5jOyBDIDw9IHJhbmdlLmUuYzsgKytDKSBjb2xzW0NdID0gZW5jb2RlX2NvbChDKTtcblx0Zm9yKHZhciBSID0gcmFuZ2Uucy5yOyBSIDw9IHJhbmdlLmUucjsgKytSKSB7XG5cdFx0aWYoZGVuc2UpIHJvdyA9IHdzW1wiIWRhdGFcIl1bUl0gfHwgW107XG5cdFx0cnIgPSBlbmNvZGVfcm93KFIpO1xuXHRcdGZvcihDID0gcmFuZ2Uucy5jOyBDIDw9IHJhbmdlLmUuYzsgKytDKSB7XG5cdFx0XHR2YXIgY2VsbCA9IGRlbnNlID8gcm93W0NdIDogd3NbY29sc1tDXSArIHJyXTtcblx0XHRcdGlmKCFjZWxsKSBjb250aW51ZTtcblx0XHRcdC8qIHdyaXRlIGNlbGwgKi9cblx0XHRcdHdyaXRlX3dzX2JpZmYyX2NlbGwoYmEsIGNlbGwsIFIsIEMsIG9wdHMsIGRhdGUxOTA0KTtcblx0XHRcdGlmKGNlbGwuYykgY29tbWVudHMucHVzaChbY2VsbC5jLCBSLCBDXSk7XG5cdFx0fVxuXHR9XG5cblx0LyogLi4uIDB4MTIgMHgxOSAweDEzIChQYXNzd29yZCkgKi9cblx0d3JpdGVfY29tbWVudHNfYmlmZjIoYmEsIGNvbW1lbnRzKTtcblx0LyogMHgzZCAoV2luZG93MSkgLi4uICovXG59XG5cbi8qIEJhc2VkIG9uIHRlc3QgZmlsZXMgKi9cbmZ1bmN0aW9uIHdyaXRlX2JpZmYyX2J1Zih3Yi8qOldvcmtib29rKi8sIG9wdHMvKjpXcml0ZU9wdHMqLykge1xuXHR2YXIgbyA9IG9wdHMgfHwge307XG5cblx0dmFyIGJhID0gYnVmX2FycmF5KCk7XG5cdHZhciBpZHggPSAwO1xuXHRmb3IodmFyIGk9MDtpPHdiLlNoZWV0TmFtZXMubGVuZ3RoOysraSkgaWYod2IuU2hlZXROYW1lc1tpXSA9PSBvLnNoZWV0KSBpZHg9aTtcblx0aWYoaWR4ID09IDAgJiYgISFvLnNoZWV0ICYmIHdiLlNoZWV0TmFtZXNbMF0gIT0gby5zaGVldCkgdGhyb3cgbmV3IEVycm9yKFwiU2hlZXQgbm90IGZvdW5kOiBcIiArIG8uc2hlZXQpO1xuXHR3cml0ZV9iaWZmX3JlYyhiYSwgKG8uYmlmZiA9PSA0ID8gMHgwNDA5IDogKG8uYmlmZiA9PSAzID8gMHgwMjA5IDogMHgwMDA5KSksIHdyaXRlX0JPRih3YiwgMHgxMCwgbykpO1xuXHRpZigoKHdiLldvcmtib29rfHx7fSkuV0JQcm9wc3x8e30pLmRhdGUxOTA0KSB3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMDIyLCB3cml0ZWJvb2wodHJ1ZSkpO1xuXHRvLmNlbGxYZnMgPSBbe251bUZtdElkOiAwfV07XG5cdG8uX0JJRkYyRm10VGFibGUvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXCJHZW5lcmFsXCJdOyBvLl9Gb250cyA9IFtdO1xuXHR2YXIgYm9keSA9IGJ1Zl9hcnJheSgpO1xuXHR3cml0ZV93c19iaWZmMihib2R5LCB3Yi5TaGVldHNbd2IuU2hlZXROYW1lc1tpZHhdXSwgaWR4LCBvLCB3Yik7XG5cblx0by5fQklGRjJGbXRUYWJsZS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcblx0XHRpZihvLmJpZmYgPD0gMykgd3JpdGVfYmlmZl9yZWMoYmEsIDB4MDAxRSwgd3JpdGVfQklGRjJGb3JtYXQoZikpO1xuXHRcdGVsc2Ugd3JpdGVfYmlmZl9yZWMoYmEsIDB4MDQxRSwgd3JpdGVfQklGRjRGb3JtYXQoZikpO1xuXHR9KTtcblx0by5jZWxsWGZzLmZvckVhY2goZnVuY3Rpb24oeGYpIHtcblx0XHRzd2l0Y2goby5iaWZmKSB7XG5cdFx0XHRjYXNlIDI6IHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwNDMsIHdyaXRlX0JJRkYyWEYoeGYpKTsgYnJlYWs7XG5cdFx0XHRjYXNlIDM6IHdyaXRlX2JpZmZfcmVjKGJhLCAweDAyNDMsIHdyaXRlX0JJRkYzWEYoeGYpKTsgYnJlYWs7XG5cdFx0XHRjYXNlIDQ6IHdyaXRlX2JpZmZfcmVjKGJhLCAweDA0NDMsIHdyaXRlX0JJRkY0WEYoeGYpKTsgYnJlYWs7XG5cdFx0fVxuXHR9KTtcblx0ZGVsZXRlIG8uX0JJRkYyRm10VGFibGU7IGRlbGV0ZSBvLmNlbGxYZnM7IGRlbGV0ZSBvLl9Gb250cztcblxuXHRiYS5wdXNoKGJvZHkuZW5kKCkpO1xuXHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMDBBKTtcblx0cmV0dXJuIGJhLmVuZCgpO1xufVxuXG52YXIgYjhvaWQgPSAxLCBiOG9jbnRzLyo6QXJyYXk8W251bWJlciwgbnVtYmVyLCBudW1iZXJdPiovID0gW107XG5mdW5jdGlvbiB3cml0ZV9Nc29EcmF3aW5nR3JvdXAoKSB7XG5cdHZhciBidWYgPSBuZXdfYnVmKDgyICsgOCAqIGI4b2NudHMubGVuZ3RoKTtcblx0LyogW01TLU9EUkFXXSAyLjIuMTIgT2ZmaWNlQXJ0RGdnQ29udGFpbmVyICovXG5cdGJ1Zi53cml0ZV9zaGlmdCgyLCAweDBGKTtcblx0YnVmLndyaXRlX3NoaWZ0KDIsIDB4RjAwMCk7XG5cdGJ1Zi53cml0ZV9zaGlmdCg0LCA3NCArIDggKiBiOG9jbnRzLmxlbmd0aCk7XG5cdC8qIDIuMi40OCBPZmZpY2VBcnRGREdHQmxvY2sgKi9cblx0e1xuXHRcdGJ1Zi53cml0ZV9zaGlmdCgyLCAwKTtcblx0XHRidWYud3JpdGVfc2hpZnQoMiwgMHhGMDA2KTtcblx0XHRidWYud3JpdGVfc2hpZnQoNCwgMTYgKyA4ICogYjhvY250cy5sZW5ndGgpO1xuXHRcdC8qIDIuMi40NyBPZmZpY2VBcnRGREdHICovXG5cdFx0e1xuXHRcdFx0YnVmLndyaXRlX3NoaWZ0KDQsIGI4b2lkKTtcblx0XHRcdGJ1Zi53cml0ZV9zaGlmdCg0LCBiOG9jbnRzLmxlbmd0aCsxKTtcblx0XHRcdHZhciBhY2MgPSAwOyBmb3IodmFyIGkgPSAwOyBpIDwgYjhvY250cy5sZW5ndGg7ICsraSkgYWNjICs9IChiOG9jbnRzW2ldICYmIGI4b2NudHNbaV1bMV0gfHwgMCk7IGJ1Zi53cml0ZV9zaGlmdCg0LCBhY2MpO1xuXHRcdFx0YnVmLndyaXRlX3NoaWZ0KDQsIGI4b2NudHMubGVuZ3RoKTtcblx0XHR9XG5cdFx0LyogMi4yLjQ2IE9mZmljZUFydElEQ0wgKyAqL1xuXHRcdGI4b2NudHMuZm9yRWFjaChmdW5jdGlvbihiOCkge1xuXHRcdFx0YnVmLndyaXRlX3NoaWZ0KDQsIGI4WzBdKTtcblx0XHRcdGJ1Zi53cml0ZV9zaGlmdCg0LCBiOFsyXSk7XG5cdFx0fSk7XG5cdH1cblx0LyogMi4yLjkgT2ZmaWNlQXJ0Rk9QVCAqL1xuXHR7XG5cdFx0YnVmLndyaXRlX3NoaWZ0KDIsIDB4MzMpOyAvLyAweDAzIHwgKDMgPDwgNClcblx0XHRidWYud3JpdGVfc2hpZnQoMiwgMHhGMDBCKTtcblx0XHRidWYud3JpdGVfc2hpZnQoNCwgMHgxMik7IC8vIDMgKiA2XG5cdFx0LyogMi4zLjIxLjE1IFRleHQgQm9vbGVhbiBQcm9wZXJ0aWVzICovXG5cdFx0YnVmLndyaXRlX3NoaWZ0KDIsIDB4QkYpOyBidWYud3JpdGVfc2hpZnQoNCwgMHgwMDA4MDAwOCk7XG5cdFx0LyogMi4zLjcuMiBmaWxsQ29sb3IgKi9cblx0XHRidWYud3JpdGVfc2hpZnQoMiwgMHgwMTgxKTsgYnVmLndyaXRlX3NoaWZ0KDQsIDB4MDgwMDAwNDEpO1xuXHRcdC8qIDIuMy44LjEgbGluZUNvbG9yICovXG5cdFx0YnVmLndyaXRlX3NoaWZ0KDIsIDB4MDFDMCk7IGJ1Zi53cml0ZV9zaGlmdCg0LCAweDA4MDAwMDQwKTtcblx0fVxuXHQvKiAyLjIuNDUgT2ZmaWNlQXJ0U3BsaXRNZW51Q29sb3JDb250YWluZXIgKi9cblx0e1xuXHRcdGJ1Zi53cml0ZV9zaGlmdCgyLCAweDQwKTtcblx0XHRidWYud3JpdGVfc2hpZnQoMiwgMHhGMTFFKTtcblx0XHRidWYud3JpdGVfc2hpZnQoNCwgMTYpO1xuXHRcdGJ1Zi53cml0ZV9zaGlmdCg0LCAweDA4MDAwMDBEKTtcblx0XHRidWYud3JpdGVfc2hpZnQoNCwgMHgwODAwMDAwQyk7XG5cdFx0YnVmLndyaXRlX3NoaWZ0KDQsIDB4MDgwMDAwMTcpO1xuXHRcdGJ1Zi53cml0ZV9zaGlmdCg0LCAweDEwMDAwMEY3KTtcblx0fVxuXHRyZXR1cm4gYnVmO1xufVxuZnVuY3Rpb24gd3JpdGVfY29tbWVudHNfYmlmZjgoYmEvKjpCdWZBcnJheSovLCBjb21tZW50cy8qOkFycmF5PFtDb21tZW50W10sIG51bWJlciwgbnVtYmVyXT4qLykge1xuXHR2YXIgbm90ZXMvKjpBcnJheTxSYXdEYXRhPiovID0gW10sIHN6ID0gMCwgcGwgPSBidWZfYXJyYXkoKSwgYmFzZWlkID0gYjhvaWQ7XG5cdHZhciBfb2FzYztcblx0Y29tbWVudHMuZm9yRWFjaChmdW5jdGlvbihjLCBjaSkge1xuXHRcdHZhciBhdXRob3IgPSBcIlwiO1xuXHRcdHZhciB0ZXh0ID0gY1swXS5tYXAoZnVuY3Rpb24odCkgeyBpZih0LmEgJiYgIWF1dGhvcikgYXV0aG9yID0gdC5hOyByZXR1cm4gdC50OyB9KS5qb2luKFwiXCIpO1xuXHRcdCsrYjhvaWQ7XG5cblx0XHQvKiAyLjIuMTQgT2ZmaWNlQXJ0U3BDb250YWluZXIgKi9cblx0XHR7XG5cdFx0XHR2YXIgb2FzYyA9IG5ld19idWYoMHg5Nik7XG5cdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4MEYpO1xuXHRcdFx0b2FzYy53cml0ZV9zaGlmdCgyLCAweEYwMDQpO1xuXHRcdFx0b2FzYy53cml0ZV9zaGlmdCg0LCAweDk2KTtcblx0XHRcdC8qIDIuMi40MCBPZmZpY2VBcnRGU1AgKi9cblx0XHRcdHtcblx0XHRcdFx0b2FzYy53cml0ZV9zaGlmdCgyLCAweGNhMik7IC8vIDB4MDIgfCAoMHhjYSA8PCA0KVxuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4RjAwQSk7XG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoNCwgOCk7XG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoNCwgYjhvaWQpO1xuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDQsIDB4QTAwKTtcblx0XHRcdH1cblx0XHRcdC8qIDIuMi45IE9mZmljZUFydEZPUFQgKi9cblx0XHRcdHtcblx0XHRcdFx0b2FzYy53cml0ZV9zaGlmdCgyLCAweEUzKTsgLy8gMHgwMyB8ICgxNCA8PCA0KVxuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4RjAwQik7XG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoNCwgMHg1NCk7IC8vIDE0ICogNlxuXHRcdFx0XHQvKiAyLjMuMjEuMSBJVHhpZCAqL1xuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4ODApOyBvYXNjLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRcdFx0XHQvKiAyLjMuMjEuMTIgdHhkaXIgKi9cblx0XHRcdFx0b2FzYy53cml0ZV9zaGlmdCgyLCAweDhCKTsgb2FzYy53cml0ZV9zaGlmdCg0LCAweDAyKTtcblx0XHRcdFx0LyogMi4zLjIxLjE1IFRleHQgQm9vbGVhbiBQcm9wZXJ0aWVzICovXG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoMiwgMHhCRik7IG9hc2Mud3JpdGVfc2hpZnQoNCwgMHgwMDA4MDAwOCk7XG5cdFx0XHRcdC8qIDIuMy42LjMwIGN4ayAqL1xuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4MDE1OCk7IG9hc2MubCArPSA0O1xuXHRcdFx0XHQvKiAyLjMuNy4yIGZpbGxDb2xvciAqL1xuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4MDE4MSk7IG9hc2Mud3JpdGVfc2hpZnQoNCwgMHgwODAwMDA1MCk7XG5cdFx0XHRcdC8qIDIuMy43LjQgZmlsbEJhY2tDb2xvciAqL1xuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4MDE4Myk7IG9hc2Mud3JpdGVfc2hpZnQoNCwgMHgwODAwMDA1MCk7XG5cdFx0XHRcdC8qIDIuMy43LjYgZmlsbENyTW9kICovXG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoMiwgMHgwMTg1KTsgb2FzYy53cml0ZV9zaGlmdCg0LCAweDEwMDAwMEY0KTtcblx0XHRcdFx0LyogMi4zLjcuNDMgRmlsbCBTdHlsZSBCb29sZWFuIFByb3BlcnRpZXMgKi9cblx0XHRcdFx0b2FzYy53cml0ZV9zaGlmdCgyLCAweDAxQkYpOyBvYXNjLndyaXRlX3NoaWZ0KDQsIDB4MDAxMDAwMTApO1xuXHRcdFx0XHQvKiAyLjMuOC4xIGxpbmVDb2xvciAqL1xuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4MDFDMCk7IG9hc2Mud3JpdGVfc2hpZnQoNCwgMHgwODAwMDA1MSk7XG5cdFx0XHRcdC8qIDIuMy44LjQgbGluZUNyTW9kICovXG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoMiwgMHgwMUMzKTsgb2FzYy53cml0ZV9zaGlmdCg0LCAweDEwMDAwMEY0KTtcblx0XHRcdFx0LyogMi4zLjEzLjIgc2hhZG93Q29sb3IgKi9cblx0XHRcdFx0b2FzYy53cml0ZV9zaGlmdCgyLCAweDAyMDEpOyBvYXNjLndyaXRlX3NoaWZ0KDQsIDB4MDgwMDAwNTEpO1xuXHRcdFx0XHQvKiAyLjMuMTMuNCBzaGFkb3dDck1vZCAqL1xuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4MDIwMyk7IG9hc2Mud3JpdGVfc2hpZnQoNCwgMHgxMDAwMDBGNCk7XG5cdFx0XHRcdC8qIDIuMy4xMy4yMyBTaGFkb3cgU3R5bGUgQm9vbGVhbiBQcm9wZXJ0aWVzICovXG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoMiwgMHgwMjNGKTsgb2FzYy53cml0ZV9zaGlmdCg0LCAweDAwMDMwMDAxKTtcblx0XHRcdFx0LyogMi4zLjQuNDQgR3JvdXAgU2hhcGUgQm9vbGVhbiBQcm9wZXJ0aWVzICovXG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoMiwgMHgwM0JGKTsgb2FzYy53cml0ZV9zaGlmdCg0LCAweDAwMDIwMDAwIHwgKGNbMF0uaGlkZGVuID8gMiA6IDApKTtcblx0XHRcdH1cblx0XHRcdC8qIFtNUy1YTFNdIDIuNS4xOTMgT2ZmaWNlQXJ0Q2xpZW50QW5jaG9yU2hlZXQgKi9cblx0XHRcdHtcblx0XHRcdFx0b2FzYy5sICs9IDI7XG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoMiwgMHhGMDEwKTtcblx0XHRcdFx0b2FzYy53cml0ZV9zaGlmdCg0LCAweDEyKTtcblx0XHRcdFx0b2FzYy53cml0ZV9zaGlmdCgyLCAweDMpOyAvLyBkbyBub3QgbW92ZSBvciBzaXplIHdpdGggY2VsbHNcblx0XHRcdFx0b2FzYy53cml0ZV9zaGlmdCgyLCBjWzJdICsgMik7IG9hc2MubCArPSAyO1xuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIGNbMV0gKyAxKTsgb2FzYy5sICs9IDI7XG5cdFx0XHRcdG9hc2Mud3JpdGVfc2hpZnQoMiwgY1syXSArIDQpOyBvYXNjLmwgKz0gMjtcblx0XHRcdFx0b2FzYy53cml0ZV9zaGlmdCgyLCBjWzFdICsgNSk7IG9hc2MubCArPSAyO1xuXHRcdFx0fVxuXHRcdFx0LyogW01TLVhMU10gMi41LjE5NCBPZmZpY2VBcnRDbGllbnREYXRhICovXG5cdFx0XHR7XG5cdFx0XHRcdG9hc2MubCArPSAyO1xuXHRcdFx0XHRvYXNjLndyaXRlX3NoaWZ0KDIsIDB4RjAxMSk7XG5cdFx0XHRcdG9hc2MubCArPSA0O1xuXHRcdFx0fVxuXHRcdFx0b2FzYy5sID0gMHg5Njtcblx0XHRcdGlmKGNpID09IDApIC8qIHdyaXRlX2JpZmZfcmVjKHBsLCAweDAwM0MsIG9hc2MpOyAqLyBfb2FzYyA9IG9hc2M7XG5cdFx0XHRlbHNlIHdyaXRlX2JpZmZfcmVjKHBsLCAweDAwRUMsIG9hc2MpO1xuXHRcdH1cblx0XHRzeiArPSAweDk2O1xuXG5cdFx0LyogW01TLVhMU10gMi40LjE4MSBPYmogKi9cblx0XHR7XG5cdFx0XHR2YXIgb2JqID0gbmV3X2J1Zig1Mik7IC8vIDIyICsgMjYgKyA0XG5cdFx0XHQvKiBbTVMtWExTXSAyLjUuMTQzIEZ0Q21vICovXG5cdFx0XHRvYmoud3JpdGVfc2hpZnQoMiwgMHgxNSk7XG5cdFx0XHRvYmoud3JpdGVfc2hpZnQoMiwgMHgxMik7XG5cdFx0XHRvYmoud3JpdGVfc2hpZnQoMiwgMHgxOSk7XG5cdFx0XHRvYmoud3JpdGVfc2hpZnQoMiwgYjhvaWQpO1xuXHRcdFx0b2JqLndyaXRlX3NoaWZ0KDIsIDApO1xuXHRcdFx0b2JqLmwgPSAyMjtcblx0XHRcdC8qIFtNUy1YTFNdIDIuNS4xNDkgRnROdHMgKi9cblx0XHRcdG9iai53cml0ZV9zaGlmdCgyLCAweDBEKTtcblx0XHRcdG9iai53cml0ZV9zaGlmdCgyLCAweDE2KTtcblx0XHRcdG9iai53cml0ZV9zaGlmdCg0LCAweDYyNzI2MjcyKTtcblx0XHRcdG9iai53cml0ZV9zaGlmdCg0LCAweDk1Mzc0MzA1KTtcblx0XHRcdG9iai53cml0ZV9zaGlmdCg0LCAweDgwMzAxMzI4KTtcblx0XHRcdG9iai53cml0ZV9zaGlmdCg0LCAweDY5Njk2OTA0ICsgYjhvaWQqMjU2KTtcblx0XHRcdG9iai53cml0ZV9zaGlmdCgyLDApO1xuXHRcdFx0b2JqLndyaXRlX3NoaWZ0KDQsMCk7XG5cdFx0XHQvLyByZXNlcnZlZFxuXHRcdFx0b2JqLmwgKz0gNDtcblx0XHRcdHdyaXRlX2JpZmZfcmVjKHBsLCAweDAwNUQsIG9iaik7XG5cdFx0fVxuXG5cdFx0LyogW01TLVhMU10gMi41LjE5NSBPZmZpY2VBcnRDbGllbnRUZXh0Ym94ICovXG5cdFx0e1xuXHRcdFx0dmFyIG9hY3QgPSBuZXdfYnVmKDgpO1xuXHRcdFx0b2FjdC5sICs9IDI7XG5cdFx0XHRvYWN0LndyaXRlX3NoaWZ0KDIsIDB4RjAwRCk7XG5cdFx0XHRvYWN0LmwgKz0gNDtcblx0XHRcdHdyaXRlX2JpZmZfcmVjKHBsLCAweDAwRUMsIG9hY3QpO1xuXHRcdH1cblx0XHRzeiArPSA4O1xuXG5cdFx0LyogW01TLVhMU10gMi40LjMyOSBUeE8gKi9cblx0XHR7XG5cdFx0XHR2YXIgdHhvID0gbmV3X2J1ZigxOCk7XG5cdFx0XHR0eG8ud3JpdGVfc2hpZnQoMiwgMHgxMik7XG5cdFx0XHR0eG8ubCArPSA4O1xuXHRcdFx0dHhvLndyaXRlX3NoaWZ0KDIsIHRleHQubGVuZ3RoKTtcblx0XHRcdHR4by53cml0ZV9zaGlmdCgyLCAweDEwKTtcblx0XHRcdHR4by5sICs9IDQ7XG5cdFx0XHR3cml0ZV9iaWZmX3JlYyhwbCwgMHgwMWI2LCB0eG8pO1xuXHRcdFx0LyogdGV4dCBjb250aW51ZSByZWNvcmQgVE9ETzogc3dpdGNoIHRvIHdpZGUgc3RyaW5ncyAqL1xuXHRcdFx0e1xuXHRcdFx0XHR2YXIgY29udCA9IG5ld19idWYoMSArIHRleHQubGVuZ3RoKTtcblx0XHRcdFx0Y29udC53cml0ZV9zaGlmdCgxLCAwKTtcblx0XHRcdFx0Y29udC53cml0ZV9zaGlmdCh0ZXh0Lmxlbmd0aCwgdGV4dCwgXCJzYmNzXCIpO1xuXHRcdFx0XHR3cml0ZV9iaWZmX3JlYyhwbCwgMHgwMDNDLCBjb250KTtcblx0XHRcdH1cblx0XHRcdC8qIGZvcm1hdHRpbmcgY29udGludWUgcmVjb3JkcyAqL1xuXHRcdFx0e1xuXHRcdFx0XHR2YXIgY29uZiA9IG5ld19idWYoMHgxMCk7XG5cdFx0XHRcdGNvbmYubCArPSA4O1xuXHRcdFx0XHRjb25mLndyaXRlX3NoaWZ0KDIsIHRleHQubGVuZ3RoKTtcblx0XHRcdFx0Y29uZi5sICs9IDY7XG5cdFx0XHRcdHdyaXRlX2JpZmZfcmVjKHBsLCAweDAwM0MsIGNvbmYpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qIDIuNC4xNzkgTm90ZSAqL1xuXHRcdHtcblx0XHRcdHZhciBub3Rlc2ggPSBuZXdfYnVmKDEyICsgYXV0aG9yLmxlbmd0aCk7XG5cdFx0XHRub3Rlc2gud3JpdGVfc2hpZnQoMiwgY1sxXSk7XG5cdFx0XHRub3Rlc2gud3JpdGVfc2hpZnQoMiwgY1syXSk7XG5cdFx0XHRub3Rlc2gud3JpdGVfc2hpZnQoMiwgMCB8IChjWzBdLmhpZGRlbiA/IDAgOiAyKSk7XG5cdFx0XHRub3Rlc2gud3JpdGVfc2hpZnQoMiwgYjhvaWQpO1xuXHRcdFx0bm90ZXNoLndyaXRlX3NoaWZ0KDIsIGF1dGhvci5sZW5ndGgpO1xuXHRcdFx0bm90ZXNoLndyaXRlX3NoaWZ0KDEsIDApO1xuXHRcdFx0bm90ZXNoLndyaXRlX3NoaWZ0KGF1dGhvci5sZW5ndGgsIGF1dGhvciwgXCJzYmNzXCIpO1xuXHRcdFx0bm90ZXNoLmwgKys7XG5cdFx0XHRub3Rlcy5wdXNoKG5vdGVzaCk7XG5cdFx0fVxuXHR9KTtcblx0LyogW01TLU9EUkFXXSAyLjIuMTMgT2ZmaWNlQXJ0RGdDb250YWluZXIgKi9cblx0e1xuXHRcdHZhciBoZHIgPSBuZXdfYnVmKDgwKTtcblx0XHRoZHIud3JpdGVfc2hpZnQoMiwgMHgwRik7XG5cdFx0aGRyLndyaXRlX3NoaWZ0KDIsIDB4RjAwMik7XG5cdFx0aGRyLndyaXRlX3NoaWZ0KDQsIHN6ICsgaGRyLmxlbmd0aCAtIDgpO1xuXHRcdC8qIFtNUy1PRFJBV10gMi4yLjQ5IE9mZmljZUFydEZERyAqL1xuXHRcdHtcblx0XHRcdGhkci53cml0ZV9zaGlmdCgyLCAweDEwKTtcblx0XHRcdGhkci53cml0ZV9zaGlmdCgyLCAweEYwMDgpO1xuXHRcdFx0aGRyLndyaXRlX3NoaWZ0KDQsIDB4MDgpO1xuXHRcdFx0aGRyLndyaXRlX3NoaWZ0KDQsIGNvbW1lbnRzLmxlbmd0aCArIDEpO1xuXHRcdFx0aGRyLndyaXRlX3NoaWZ0KDQsIGI4b2lkKTtcblx0XHR9XG5cdFx0LyogW01TLU9EUkFXXSAyLjIuMTYgT2ZmaWNlQXJ0U3BnckNvbnRhaW5lciAqL1xuXHRcdHtcblx0XHRcdGhkci53cml0ZV9zaGlmdCgyLCAweDBmKTtcblx0XHRcdGhkci53cml0ZV9zaGlmdCgyLCAweEYwMDMpO1xuXHRcdFx0aGRyLndyaXRlX3NoaWZ0KDQsIHN6ICsgMHgzMCk7XG5cdFx0XHQvKiBbTVMtT0RSQVddIDIuMi4xNCBPZmZpY2VBcnRTcENvbnRhaW5lciAqL1xuXHRcdFx0e1xuXHRcdFx0XHRoZHIud3JpdGVfc2hpZnQoMiwgMHgwZik7XG5cdFx0XHRcdGhkci53cml0ZV9zaGlmdCgyLCAweEYwMDQpO1xuXHRcdFx0XHRoZHIud3JpdGVfc2hpZnQoNCwgMHgyOCk7XG5cdFx0XHRcdC8qIFtNUy1PRFJBV10gMi4yLjM4IE9mZmljZUFydEZTUEdSICovXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRoZHIud3JpdGVfc2hpZnQoMiwgMHgwMSk7XG5cdFx0XHRcdFx0aGRyLndyaXRlX3NoaWZ0KDIsIDB4RjAwOSk7XG5cdFx0XHRcdFx0aGRyLndyaXRlX3NoaWZ0KDQsIDB4MTApO1xuXHRcdFx0XHRcdGhkci5sICs9IDE2O1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8qIFtNUy1PRFJBV10gMi4yLjQwIE9mZmljZUFydEZTUCAqL1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aGRyLndyaXRlX3NoaWZ0KDIsIDB4MDIpO1xuXHRcdFx0XHRcdGhkci53cml0ZV9zaGlmdCgyLCAweEYwMEEpO1xuXHRcdFx0XHRcdGhkci53cml0ZV9zaGlmdCg0LCAweDA4KTtcblx0XHRcdFx0XHRoZHIud3JpdGVfc2hpZnQoNCwgYmFzZWlkKTtcblx0XHRcdFx0XHRoZHIud3JpdGVfc2hpZnQoNCwgMHgwNSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDBFQywgLyogaGRyICovIF9vYXNjID8gYmNvbmNhdChbaGRyLCBfb2FzY10pIDogaGRyKTtcblx0fVxuXHRiYS5wdXNoKHBsLmVuZCgpKTtcblx0bm90ZXMuZm9yRWFjaChmdW5jdGlvbihuKSB7IHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwMUMsIG4pOyB9KTtcblx0YjhvY250cy5wdXNoKFtiYXNlaWQsIGNvbW1lbnRzLmxlbmd0aCArIDEsIGI4b2lkXSk7XG5cdCsrYjhvaWQ7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX0ZPTlRTX2JpZmY4KGJhLCBkYXRhLCBvcHRzKSB7XG5cdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwMzEgLyogRm9udCAqLywgd3JpdGVfRm9udCh7XG5cdFx0c3o6MTIsXG5cdFx0Y29sb3I6IHt0aGVtZToxfSxcblx0XHRuYW1lOiBcIkFyaWFsXCIsXG5cdFx0ZmFtaWx5OiAyLFxuXHRcdHNjaGVtZTogXCJtaW5vclwiXG5cdH0sIG9wdHMpKTtcbn1cblxuXG5mdW5jdGlvbiB3cml0ZV9GTVRTX2JpZmY4KGJhLCBORi8qOj9TU0ZUYWJsZSovLCBvcHRzKSB7XG5cdGlmKCFORikgcmV0dXJuO1xuXHRbWzUsOF0sWzIzLDI2XSxbNDEsNDRdLFsvKjYzKi81MCwvKjY2XSxbMTY0LCovMzkyXV0uZm9yRWFjaChmdW5jdGlvbihyKSB7XG5cdFx0Lyo6OiBpZighTkYpIHJldHVybjsgKi9cblx0XHRmb3IodmFyIGkgPSByWzBdOyBpIDw9IHJbMV07ICsraSkgaWYoTkZbaV0gIT0gbnVsbCkgd3JpdGVfYmlmZl9yZWMoYmEsIDB4MDQxRSAvKiBGb3JtYXQgKi8sIHdyaXRlX0Zvcm1hdChpLCBORltpXSwgb3B0cykpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfRkVBVChiYSwgd3MpIHtcblx0LyogW01TLVhMU10gMi40LjExMiAqL1xuXHR2YXIgbyA9IG5ld19idWYoMTkpO1xuXHRvLndyaXRlX3NoaWZ0KDQsIDB4ODY3KTsgby53cml0ZV9zaGlmdCg0LCAwKTsgby53cml0ZV9zaGlmdCg0LCAwKTtcblx0by53cml0ZV9zaGlmdCgyLCAzKTsgby53cml0ZV9zaGlmdCgxLCAxKTsgby53cml0ZV9zaGlmdCg0LCAwKTtcblx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDg2NyAvKiBGZWF0SGRyICovLCBvKTtcblx0LyogW01TLVhMU10gMi40LjExMSAqL1xuXHRvID0gbmV3X2J1ZigzOSk7XG5cdG8ud3JpdGVfc2hpZnQoNCwgMHg4NjgpOyBvLndyaXRlX3NoaWZ0KDQsIDApOyBvLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRvLndyaXRlX3NoaWZ0KDIsIDMpOyBvLndyaXRlX3NoaWZ0KDEsIDApOyBvLndyaXRlX3NoaWZ0KDQsIDApO1xuXHRvLndyaXRlX3NoaWZ0KDIsIDEpOyBvLndyaXRlX3NoaWZ0KDQsIDQpOyBvLndyaXRlX3NoaWZ0KDIsIDApO1xuXHR3cml0ZV9SZWY4VShzYWZlX2RlY29kZV9yYW5nZSh3c1snIXJlZiddfHxcIkExXCIpLCBvKTtcblx0by53cml0ZV9zaGlmdCg0LCA0KTtcblx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDg2OCAvKiBGZWF0ICovLCBvKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfQ0VMTFhGU19iaWZmOChiYSwgb3B0cykge1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkgd3JpdGVfYmlmZl9yZWMoYmEsIDB4MDBlMCAvKiBYRiAqLywgd3JpdGVfWEYoe251bUZtdElkOjAsIHN0eWxlOnRydWV9LCAwLCBvcHRzKSk7XG5cdG9wdHMuY2VsbFhmcy5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcblx0XHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMGUwIC8qIFhGICovLCB3cml0ZV9YRihjLCAwLCBvcHRzKSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiB3cml0ZV93c19iaWZmOF9obGlua3MoYmEvKjpCdWZBcnJheSovLCB3cykge1xuXHRmb3IodmFyIFI9MDsgUjx3c1snIWxpbmtzJ10ubGVuZ3RoOyArK1IpIHtcblx0XHR2YXIgSEwgPSB3c1snIWxpbmtzJ11bUl07XG5cdFx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDFiOCAvKiBITGluayAqLywgd3JpdGVfSExpbmsoSEwpKTtcblx0XHRpZihITFsxXS5Ub29sdGlwKSB3cml0ZV9iaWZmX3JlYyhiYSwgMHgwODAwIC8qIEhMaW5rVG9vbHRpcCAqLywgd3JpdGVfSExpbmtUb29sdGlwKEhMKSk7XG5cdH1cblx0ZGVsZXRlIHdzWychbGlua3MnXTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfd3NfY29sc19iaWZmOChiYSwgY29scykge1xuXHRpZighY29scykgcmV0dXJuO1xuXHR2YXIgY250ID0gMDtcblx0Y29scy5mb3JFYWNoKGZ1bmN0aW9uKGNvbCwgaWR4KSB7XG5cdFx0aWYoKytjbnQgPD0gMjU2ICYmIGNvbCkge1xuXHRcdFx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDA3ZCAvKiBDb2xJbmZvICovLCB3cml0ZV9Db2xJbmZvKGNvbF9vYmpfdyhpZHgsIGNvbCksIGlkeCkpO1xuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3dzX2JpZmY4X2NlbGwoYmEvKjpCdWZBcnJheSovLCBjZWxsLyo6Q2VsbCovLCBSLyo6bnVtYmVyKi8sIEMvKjpudW1iZXIqLywgb3B0cywgZGF0ZTE5MDQvKjpib29sZWFuKi8pIHtcblx0dmFyIG9zID0gMTYgKyBnZXRfY2VsbF9zdHlsZShvcHRzLmNlbGxYZnMsIGNlbGwsIG9wdHMpO1xuXHRpZihjZWxsLnYgPT0gbnVsbCAmJiAhY2VsbC5iZikge1xuXHRcdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAyMDEgLyogQmxhbmsgKi8sIHdyaXRlX1hMU0NlbGwoUiwgQywgb3MpKTtcblx0XHRyZXR1cm47XG5cdH1cblx0aWYoY2VsbC5iZikgd3JpdGVfYmlmZl9yZWMoYmEsIDB4MDAwNiAvKiBGb3JtdWxhICovLCB3cml0ZV9Gb3JtdWxhKGNlbGwsIFIsIEMsIG9wdHMsIG9zKSk7XG5cdGVsc2Ugc3dpdGNoKGNlbGwudCkge1xuXHRcdGNhc2UgJ2QnOiBjYXNlICduJzpcblx0XHRcdHZhciB2ID0gY2VsbC50ID09ICdkJyA/IGRhdGVudW0ocGFyc2VEYXRlKGNlbGwudiwgZGF0ZTE5MDQpLCBkYXRlMTkwNCkgOiBjZWxsLnY7XG5cdFx0XHRpZihpc05hTih2KSkgd3JpdGVfYmlmZl9yZWMoYmEsIDB4MDIwNSAvKiBCb29sRXJyICovLCB3cml0ZV9Cb29sRXJyKFIsIEMsIDB4MjQsIG9zLCBvcHRzLCBcImVcIikpOyAvLyAjTlVNIVxuXHRcdFx0ZWxzZSBpZighaXNGaW5pdGUodikpIHdyaXRlX2JpZmZfcmVjKGJhLCAweDAyMDUgLyogQm9vbEVyciAqLywgd3JpdGVfQm9vbEVycihSLCBDLCAweDA3LCBvcywgb3B0cywgXCJlXCIpKTsgLy8gI0RJVi8wIVxuXHRcdFx0LyogVE9ETzogZW1pdCBSSyBhcyBhcHByb3ByaWF0ZSAqL1xuXHRcdFx0ZWxzZSB3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMjAzIC8qIE51bWJlciAqLywgd3JpdGVfTnVtYmVyKFIsIEMsIHYsIG9zLCBvcHRzKSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdiJzogY2FzZSAnZSc6XG5cdFx0XHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMjA1IC8qIEJvb2xFcnIgKi8sIHdyaXRlX0Jvb2xFcnIoUiwgQywgY2VsbC52LCBvcywgb3B0cywgY2VsbC50KSk7XG5cdFx0XHRicmVhaztcblx0XHQvKiBUT0RPOiBjb2RlcGFnZSwgc3N0ICovXG5cdFx0Y2FzZSAncyc6IGNhc2UgJ3N0cic6XG5cdFx0XHRpZihvcHRzLmJvb2tTU1QpIHtcblx0XHRcdFx0dmFyIGlzc3QgPSBnZXRfc3N0X2lkKG9wdHMuU3RyaW5ncywgY2VsbC52ID09IG51bGwgPyBcIlwiIDogU3RyaW5nKGNlbGwudiksIG9wdHMucmV2U3RyaW5ncyk7XG5cdFx0XHRcdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwZmQgLyogTGFiZWxTc3QgKi8sIHdyaXRlX0xhYmVsU3N0KFIsIEMsIGlzc3QsIG9zLCBvcHRzKSk7XG5cdFx0XHR9IGVsc2Ugd3JpdGVfYmlmZl9yZWMoYmEsIDB4MDIwNCAvKiBMYWJlbCAqLywgd3JpdGVfTGFiZWwoUiwgQywgKGNlbGwudiA9PSBudWxsID8gXCJcIiA6IFN0cmluZyhjZWxsLnYpKS5zbGljZSgwLDI1NSksIG9zLCBvcHRzKSk7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDIwMSAvKiBCbGFuayAqLywgd3JpdGVfWExTQ2VsbChSLCBDLCBvcykpO1xuXHR9XG59XG5cbi8qIFtNUy1YTFNdIDIuMS43LjIwLjUgKi9cbmZ1bmN0aW9uIHdyaXRlX3dzX2JpZmY4KGlkeC8qOm51bWJlciovLCBvcHRzLCB3Yi8qOldvcmtib29rKi8pIHtcblx0dmFyIGJhID0gYnVmX2FycmF5KCk7XG5cdHZhciBzID0gd2IuU2hlZXROYW1lc1tpZHhdLCB3cyA9IHdiLlNoZWV0c1tzXSB8fCB7fTtcblx0dmFyIF9XQi8qOldCV0JQcm9wcyovID0gKCh3Ynx8e30pLldvcmtib29rfHx7fS8qOmFueSovKTtcblx0dmFyIF9zaGVldC8qOldCV1NQcm9wKi8gPSAoKF9XQi5TaGVldHN8fFtdKVtpZHhdfHx7fS8qOmFueSovKTtcblx0dmFyIGRlbnNlID0gd3NbXCIhZGF0YVwiXSAhPSBudWxsO1xuXHR2YXIgYjggPSBvcHRzLmJpZmYgPT0gODtcblx0dmFyIHJlZi8qOnN0cmluZyovLCByciA9IFwiXCIsIGNvbHMvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0dmFyIHJhbmdlID0gc2FmZV9kZWNvZGVfcmFuZ2Uod3NbJyFyZWYnXSB8fCBcIkExXCIpO1xuXHR2YXIgTUFYX1JPV1MgPSBiOCA/IDY1NTM2IDogMTYzODQ7XG5cdGlmKHJhbmdlLmUuYyA+IDB4RkYgfHwgcmFuZ2UuZS5yID49IE1BWF9ST1dTKSB7XG5cdFx0aWYob3B0cy5XVEYpIHRocm93IG5ldyBFcnJvcihcIlJhbmdlIFwiICsgKHdzWychcmVmJ10gfHwgXCJBMVwiKSArIFwiIGV4Y2VlZHMgZm9ybWF0IGxpbWl0IEExOklWXCIgKyBNQVhfUk9XUyk7XG5cdFx0cmFuZ2UuZS5jID0gTWF0aC5taW4ocmFuZ2UuZS5jLCAweEZGKTtcblx0XHRyYW5nZS5lLnIgPSBNYXRoLm1pbihyYW5nZS5lLnIsIE1BWF9ST1dTLTEpO1xuXHR9XG5cblx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDgwOSwgd3JpdGVfQk9GKHdiLCAweDEwLCBvcHRzKSk7XG5cdC8qIFtVbmNhbGNlZF0gSW5kZXggKi9cblx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDAwZCAvKiBDYWxjTW9kZSAqLywgd3JpdGV1aW50MTYoMSkpO1xuXHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMDBjIC8qIENhbGNDb3VudCAqLywgd3JpdGV1aW50MTYoMTAwKSk7XG5cdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwMGYgLyogQ2FsY1JlZk1vZGUgKi8sIHdyaXRlYm9vbCh0cnVlKSk7XG5cdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwMTEgLyogQ2FsY0l0ZXIgKi8sIHdyaXRlYm9vbChmYWxzZSkpO1xuXHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMDEwIC8qIENhbGNEZWx0YSAqLywgd3JpdGVfWG51bSgwLjAwMSkpO1xuXHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMDVmIC8qIENhbGNTYXZlUmVjYWxjICovLCB3cml0ZWJvb2wodHJ1ZSkpO1xuXHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMDJhIC8qIFByaW50Um93Q29sICovLCB3cml0ZWJvb2woZmFsc2UpKTtcblx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDAyYiAvKiBQcmludEdyaWQgKi8sIHdyaXRlYm9vbChmYWxzZSkpO1xuXHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMDgyIC8qIEdyaWRTZXQgKi8sIHdyaXRldWludDE2KDEpKTtcblx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDA4MCAvKiBHdXRzICovLCB3cml0ZV9HdXRzKFswLDBdKSk7XG5cdC8qIERlZmF1bHRSb3dIZWlnaHQgV3NCb29sIFtTeW5jXSBbTFByXSBbSG9yaXpvbnRhbFBhZ2VCcmVha3NdIFtWZXJ0aWNhbFBhZ2VCcmVha3NdICovXG5cdC8qIEhlYWRlciAoc3RyaW5nKSAqL1xuXHQvKiBGb290ZXIgKHN0cmluZykgKi9cblx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDA4MyAvKiBIQ2VudGVyICovLCB3cml0ZWJvb2woZmFsc2UpKTtcblx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDA4NCAvKiBWQ2VudGVyICovLCB3cml0ZWJvb2woZmFsc2UpKTtcblx0LyogLi4uICovXG5cdGlmKGI4KSB3cml0ZV93c19jb2xzX2JpZmY4KGJhLCB3c1tcIiFjb2xzXCJdKTtcblx0LyogLi4uICovXG5cdHdyaXRlX2JpZmZfcmVjKGJhLCAweDAyMDAgLyogRGltZW5zaW9ucyAqLywgd3JpdGVfRGltZW5zaW9ucyhyYW5nZSwgb3B0cykpO1xuXHQvKiAuLi4gKi9cblxuXHR2YXIgZGF0ZTE5MDQgPSAoKCh3Ynx8e30pLldvcmtib29rfHx7fSkuV0JQcm9wc3x8e30pLmRhdGUxOTA0O1xuXHRpZihiOCkgd3NbJyFsaW5rcyddID0gW107XG5cdGZvcih2YXIgQyA9IHJhbmdlLnMuYzsgQyA8PSByYW5nZS5lLmM7ICsrQykgY29sc1tDXSA9IGVuY29kZV9jb2woQyk7XG5cdHZhciBjb21tZW50cyA9IFtdO1xuXHR2YXIgcm93ID0gW107XG5cdGZvcih2YXIgUiA9IHJhbmdlLnMucjsgUiA8PSByYW5nZS5lLnI7ICsrUikge1xuXHRcdGlmKGRlbnNlKSByb3cgPSB3c1tcIiFkYXRhXCJdW1JdIHx8IFtdO1xuXHRcdHJyID0gZW5jb2RlX3JvdyhSKTtcblx0XHRmb3IoQyA9IHJhbmdlLnMuYzsgQyA8PSByYW5nZS5lLmM7ICsrQykge1xuXHRcdFx0dmFyIGNlbGwgPSBkZW5zZSA/IHJvd1tDXSA6IHdzW2NvbHNbQ10gKyBycl07XG5cdFx0XHRpZighY2VsbCkgY29udGludWU7XG5cdFx0XHQvKiB3cml0ZSBjZWxsICovXG5cdFx0XHR3cml0ZV93c19iaWZmOF9jZWxsKGJhLCBjZWxsLCBSLCBDLCBvcHRzLCBkYXRlMTkwNCk7XG5cdFx0XHRpZihiOCAmJiBjZWxsLmwpIHdzWychbGlua3MnXS5wdXNoKFtjb2xzW0NdICsgcnIsIGNlbGwubF0pO1xuXHRcdFx0aWYoY2VsbC5jKSBjb21tZW50cy5wdXNoKFtjZWxsLmMsIFIsIENdKTtcblx0XHR9XG5cdH1cblx0dmFyIGNuYW1lLyo6c3RyaW5nKi8gPSBfc2hlZXQuQ29kZU5hbWUgfHwgX3NoZWV0Lm5hbWUgfHwgcztcblx0LyogLi4uICovXG5cdGlmKGI4KSB3cml0ZV9jb21tZW50c19iaWZmOChiYSwgY29tbWVudHMpOyBlbHNlIHdyaXRlX2NvbW1lbnRzX2JpZmYyKGJhLCBjb21tZW50cyk7XG5cdC8qIC4uLiAqL1xuXHRpZihiOCkgd3JpdGVfYmlmZl9yZWMoYmEsIDB4MDIzZSAvKiBXaW5kb3cyICovLCB3cml0ZV9XaW5kb3cyKChfV0IuVmlld3N8fFtdKVswXSkpO1xuXHQvKiAuLi4gKi9cblx0aWYoYjggJiYgKHdzWychbWVyZ2VzJ118fFtdKS5sZW5ndGgpIHdyaXRlX2JpZmZfcmVjKGJhLCAweDAwZTUgLyogTWVyZ2VDZWxscyAqLywgd3JpdGVfTWVyZ2VDZWxscyh3c1snIW1lcmdlcyddKSk7XG5cdC8qIFtMUm5nXSAqUVVFUllUQUJMRSBbUEhPTkVUSUNJTkZPXSBDT05ERk1UUyAqL1xuXHRpZihiOCkgd3JpdGVfd3NfYmlmZjhfaGxpbmtzKGJhLCB3cyk7XG5cdC8qIFtEVkFMXSAqL1xuXHR3cml0ZV9iaWZmX3JlYyhiYSwgMHgwMWJhIC8qIENvZGVOYW1lICovLCB3cml0ZV9YTFVuaWNvZGVTdHJpbmcoY25hbWUsIG9wdHMpKTtcblx0LyogKldlYlB1YiAqQ2VsbFdhdGNoIFtTaGVldEV4dF0gKi9cblx0aWYoYjgpIHdyaXRlX0ZFQVQoYmEsIHdzKTtcblx0LyogKkZFQVQxMSAqUkVDT1JEMTIgKi9cblx0d3JpdGVfYmlmZl9yZWMoYmEsIDB4MDAwYSAvKiBFT0YgKi8pO1xuXHRyZXR1cm4gYmEuZW5kKCk7XG59XG5cbi8qIFtNUy1YTFNdIDIuMS43LjIwLjMgKi9cbmZ1bmN0aW9uIHdyaXRlX2JpZmY4X2dsb2JhbCh3Yi8qOldvcmtib29rKi8sIGJ1ZnMsIG9wdHMvKjpXcml0ZU9wdHMqLykge1xuXHR2YXIgQSA9IGJ1Zl9hcnJheSgpO1xuXHR2YXIgX1dCLyo6V0JXQlByb3BzKi8gPSAoKHdifHx7fSkuV29ya2Jvb2t8fHt9Lyo6YW55Ki8pO1xuXHR2YXIgX3NoZWV0cy8qOkFycmF5PFdCV1NQcm9wPiovID0gKF9XQi5TaGVldHN8fFtdKTtcblx0dmFyIF93Yi8qOldCUHJvcHMqLyA9IC8qOjooKCovX1dCLldCUHJvcHN8fHsvKjo6Q29kZU5hbWU6XCJUaGlzV29ya2Jvb2tcIiovfS8qOjogKTphbnkpKi87XG5cdHZhciBiOCA9IG9wdHMuYmlmZiA9PSA4LCBiNSA9IG9wdHMuYmlmZiA9PSA1O1xuXHR3cml0ZV9iaWZmX3JlYyhBLCAweDA4MDksIHdyaXRlX0JPRih3YiwgMHgwNSwgb3B0cykpO1xuXHRpZihvcHRzLmJvb2tUeXBlID09IFwieGxhXCIpIHdyaXRlX2JpZmZfcmVjKEEsIDB4MDA4NyAvKiBBZGRpbiAqLyk7XG5cdHdyaXRlX2JpZmZfcmVjKEEsIDB4MDBlMSAvKiBJbnRlcmZhY2VIZHIgKi8sIGI4ID8gd3JpdGV1aW50MTYoMHgwNGIwKSA6IG51bGwpO1xuXHR3cml0ZV9iaWZmX3JlYyhBLCAweDAwYzEgLyogTW1zICovLCB3cml0ZXplcm9lcygyKSk7XG5cdGlmKGI1KSB3cml0ZV9iaWZmX3JlYyhBLCAweDAwYmYgLyogVG9vbGJhckhkciAqLyk7XG5cdGlmKGI1KSB3cml0ZV9iaWZmX3JlYyhBLCAweDAwYzAgLyogVG9vbGJhckVuZCAqLyk7XG5cdHdyaXRlX2JpZmZfcmVjKEEsIDB4MDBlMiAvKiBJbnRlcmZhY2VFbmQgKi8pO1xuXHR3cml0ZV9iaWZmX3JlYyhBLCAweDAwNWMgLyogV3JpdGVBY2Nlc3MgKi8sIHdyaXRlX1dyaXRlQWNjZXNzKFwiU2hlZXRKU1wiLCBvcHRzKSk7XG5cdC8qIFtGaWxlU2hhcmluZ10gKi9cblx0d3JpdGVfYmlmZl9yZWMoQSwgMHgwMDQyIC8qIENvZGVQYWdlICovLCB3cml0ZXVpbnQxNihiOCA/IDB4MDRiMCA6IDB4MDRFNCkpO1xuXHQvKiAqMjA0NyBMZWwgKi9cblx0aWYoYjgpIHdyaXRlX2JpZmZfcmVjKEEsIDB4MDE2MSAvKiBEU0YgKi8sIHdyaXRldWludDE2KDApKTtcblx0aWYoYjgpIHdyaXRlX2JpZmZfcmVjKEEsIDB4MDFjMCAvKiBFeGNlbDlGaWxlICovKTtcblx0d3JpdGVfYmlmZl9yZWMoQSwgMHgwMTNkIC8qIFJSVGFiSWQgKi8sIHdyaXRlX1JSVGFiSWQod2IuU2hlZXROYW1lcy5sZW5ndGgpKTtcblx0aWYoYjggJiYgd2IudmJhcmF3KSB3cml0ZV9iaWZmX3JlYyhBLCAweDAwZDMgLyogT2JQcm9qICovKTtcblx0LyogW09iTm9NYWNyb3NdICovXG5cdGlmKGI4ICYmIHdiLnZiYXJhdykge1xuXHRcdHZhciBjbmFtZS8qOnN0cmluZyovID0gX3diLkNvZGVOYW1lIHx8IFwiVGhpc1dvcmtib29rXCI7XG5cdFx0d3JpdGVfYmlmZl9yZWMoQSwgMHgwMWJhIC8qIENvZGVOYW1lICovLCB3cml0ZV9YTFVuaWNvZGVTdHJpbmcoY25hbWUsIG9wdHMpKTtcblx0fVxuXHR3cml0ZV9iaWZmX3JlYyhBLCAweDAwOWMgLyogQnVpbHRJbkZuR3JvdXBDb3VudCAqLywgd3JpdGV1aW50MTYoMHgxMSkpO1xuXHQvKiAqRm5Hcm91cE5hbWUgKkZuR3JwMTIgKi9cblx0LyogKkxibCAqL1xuXHQvKiBbT2xlT2JqZWN0U2l6ZV0gKi9cblx0d3JpdGVfYmlmZl9yZWMoQSwgMHgwMDE5IC8qIFdpblByb3RlY3QgKi8sIHdyaXRlYm9vbChmYWxzZSkpO1xuXHR3cml0ZV9iaWZmX3JlYyhBLCAweDAwMTIgLyogUHJvdGVjdCAqLywgd3JpdGVib29sKGZhbHNlKSk7XG5cdHdyaXRlX2JpZmZfcmVjKEEsIDB4MDAxMyAvKiBQYXNzd29yZCAqLywgd3JpdGV1aW50MTYoMCkpO1xuXHRpZihiOCkgd3JpdGVfYmlmZl9yZWMoQSwgMHgwMWFmIC8qIFByb3Q0UmV2ICovLCB3cml0ZWJvb2woZmFsc2UpKTtcblx0aWYoYjgpIHdyaXRlX2JpZmZfcmVjKEEsIDB4MDFiYyAvKiBQcm90NFJldlBhc3MgKi8sIHdyaXRldWludDE2KDApKTtcblx0d3JpdGVfYmlmZl9yZWMoQSwgMHgwMDNkIC8qIFdpbmRvdzEgKi8sIHdyaXRlX1dpbmRvdzEob3B0cykpO1xuXHR3cml0ZV9iaWZmX3JlYyhBLCAweDAwNDAgLyogQmFja3VwICovLCB3cml0ZWJvb2woZmFsc2UpKTtcblx0d3JpdGVfYmlmZl9yZWMoQSwgMHgwMDhkIC8qIEhpZGVPYmogKi8sIHdyaXRldWludDE2KDApKTtcblx0d3JpdGVfYmlmZl9yZWMoQSwgMHgwMDIyIC8qIERhdGUxOTA0ICovLCB3cml0ZWJvb2woc2FmZTE5MDQod2IpPT1cInRydWVcIikpO1xuXHR3cml0ZV9iaWZmX3JlYyhBLCAweDAwMGUgLyogQ2FsY1ByZWNpc2lvbiAqLywgd3JpdGVib29sKHRydWUpKTtcblx0aWYoYjgpIHdyaXRlX2JpZmZfcmVjKEEsIDB4MDFiNyAvKiBSZWZyZXNoQWxsICovLCB3cml0ZWJvb2woZmFsc2UpKTtcblx0d3JpdGVfYmlmZl9yZWMoQSwgMHgwMERBIC8qIEJvb2tCb29sICovLCB3cml0ZXVpbnQxNigwKSk7XG5cdC8qIC4uLiAqL1xuXHR3cml0ZV9GT05UU19iaWZmOChBLCB3Yiwgb3B0cyk7XG5cdHdyaXRlX0ZNVFNfYmlmZjgoQSwgd2IuU1NGLCBvcHRzKTtcblx0d3JpdGVfQ0VMTFhGU19iaWZmOChBLCBvcHRzKTtcblx0LyogLi4uICovXG5cdGlmKGI4KSB3cml0ZV9iaWZmX3JlYyhBLCAweDAxNjAgLyogVXNlc0VMRnMgKi8sIHdyaXRlYm9vbChmYWxzZSkpO1xuXHR2YXIgYSA9IEEuZW5kKCk7XG5cblx0dmFyIEMgPSBidWZfYXJyYXkoKTtcblx0LyogTUVUQURBVEEgW01UUlNldHRpbmdzXSBbRm9yY2VGdWxsQ2FsY3VsYXRpb25dICovXG5cdGlmKGI4KSB3cml0ZV9iaWZmX3JlYyhDLCAweDAwOEMgLyogQ291bnRyeSAqLywgd3JpdGVfQ291bnRyeSgpKTtcblx0LyogKlNVUEJPT0sgKkxCTCAqUlREIFtSZWNhbGNJZF0gKkhGUGljdHVyZSAqL1xuXG5cdC8qIEJJRkY4OiBNc29EcmF3aW5nR3JvdXAgWypDb250aW51ZV0gKi9cblx0aWYoYjggJiYgYjhvY250cy5sZW5ndGgpIHdyaXRlX2JpZmZfcmVjKEMsIDB4MDBFQiAvKiBNc29EcmF3aW5nR3JvdXAgKi8sIHdyaXRlX01zb0RyYXdpbmdHcm91cCgpKTtcblx0LyogQklGRjg6IFtTU1QgKkNvbnRpbnVlXSBFeHRTU1QgKi9cblx0aWYoYjggJiYgb3B0cy5TdHJpbmdzKSB3cml0ZV9iaWZmX2NvbnRpbnVlKEMsIDB4MDBGQyAvKiBTU1QgKi8sIHdyaXRlX1NTVChvcHRzLlN0cmluZ3MsIG9wdHMpKTtcblxuXHQvKiAqV2ViUHViIFtXT3B0XSBbQ3JFcnJdIFtCb29rRXh0XSAqRmVhdEhkciAqRENvbm4gW1RIRU1FXSBbQ29tcHJlc3NQaWN0dXJlc10gW0NvbXBhdDEyXSBbR1VJRFR5cGVMaWJdICovXG5cdHdyaXRlX2JpZmZfcmVjKEMsIDB4MDAwQSAvKiBFT0YgKi8pO1xuXHR2YXIgYyA9IEMuZW5kKCk7XG5cblx0dmFyIEIgPSBidWZfYXJyYXkoKTtcblx0dmFyIGJsZW4gPSAwLCBqID0gMDtcblx0Zm9yKGogPSAwOyBqIDwgd2IuU2hlZXROYW1lcy5sZW5ndGg7ICsraikgYmxlbiArPSAoYjggPyAxMiA6IDExKSArIChiOCA/IDIgOiAxKSAqIHdiLlNoZWV0TmFtZXNbal0ubGVuZ3RoO1xuXHR2YXIgc3RhcnQgPSBhLmxlbmd0aCArIGJsZW4gKyBjLmxlbmd0aDtcblx0Zm9yKGogPSAwOyBqIDwgd2IuU2hlZXROYW1lcy5sZW5ndGg7ICsraikge1xuXHRcdHZhciBfc2hlZXQvKjpXQldTUHJvcCovID0gX3NoZWV0c1tqXSB8fCAoe30vKjphbnkqLyk7XG5cdFx0d3JpdGVfYmlmZl9yZWMoQiwgMHgwMDg1IC8qIEJvdW5kU2hlZXQ4ICovLCB3cml0ZV9Cb3VuZFNoZWV0OCh7cG9zOnN0YXJ0LCBoczpfc2hlZXQuSGlkZGVufHwwLCBkdDowLCBuYW1lOndiLlNoZWV0TmFtZXNbal19LCBvcHRzKSk7XG5cdFx0c3RhcnQgKz0gYnVmc1tqXS5sZW5ndGg7XG5cdH1cblx0LyogMSpCb3VuZFNoZWV0OCAqL1xuXHR2YXIgYiA9IEIuZW5kKCk7XG5cdGlmKGJsZW4gIT0gYi5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIkJTOCBcIiArIGJsZW4gKyBcIiAhPSBcIiArIGIubGVuZ3RoKTtcblxuXHR2YXIgb3V0ID0gW107XG5cdGlmKGEubGVuZ3RoKSBvdXQucHVzaChhKTtcblx0aWYoYi5sZW5ndGgpIG91dC5wdXNoKGIpO1xuXHRpZihjLmxlbmd0aCkgb3V0LnB1c2goYyk7XG5cdHJldHVybiBiY29uY2F0KG91dCk7XG59XG5cbi8qIFtNUy1YTFNdIDIuMS43LjIwIFdvcmtib29rIFN0cmVhbSAqL1xuZnVuY3Rpb24gd3JpdGVfYmlmZjhfYnVmKHdiLyo6V29ya2Jvb2sqLywgb3B0cy8qOldyaXRlT3B0cyovKSB7XG5cdHZhciBvID0gb3B0cyB8fCB7fTtcblx0dmFyIGJ1ZnMgPSBbXTtcblxuXHRpZih3YiAmJiAhd2IuU1NGKSB7XG5cdFx0d2IuU1NGID0gZHVwKHRhYmxlX2ZtdCk7XG5cdH1cblx0aWYod2IgJiYgd2IuU1NGKSB7XG5cdFx0bWFrZV9zc2YoKTsgU1NGX2xvYWRfdGFibGUod2IuU1NGKTtcblx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdG8ucmV2c3NmID0gZXZlcnRfbnVtKHdiLlNTRik7IG8ucmV2c3NmW3diLlNTRls2NTUzNV1dID0gMDtcblx0XHRvLnNzZiA9IHdiLlNTRjtcblx0fVxuXG5cdGI4b2lkID0gMTsgYjhvY250cyA9IFtdO1xuXHRvLlN0cmluZ3MgPSAvKjo6KCgqL1tdLyo6OiA6YW55KTpTU1QpKi87IG8uU3RyaW5ncy5Db3VudCA9IDA7IG8uU3RyaW5ncy5VbmlxdWUgPSAwO1xuXHRmaXhfd3JpdGVfb3B0cyhvKTtcblxuXHRvLmNlbGxYZnMgPSBbXTtcblx0Z2V0X2NlbGxfc3R5bGUoby5jZWxsWGZzLCB7fSwge3JldnNzZjp7XCJHZW5lcmFsXCI6MH19KTtcblxuXHRpZighd2IuUHJvcHMpIHdiLlByb3BzID0ge307XG5cblx0Zm9yKHZhciBpID0gMDsgaSA8IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK2kpIGJ1ZnNbYnVmcy5sZW5ndGhdID0gd3JpdGVfd3NfYmlmZjgoaSwgbywgd2IpO1xuXHRidWZzLnVuc2hpZnQod3JpdGVfYmlmZjhfZ2xvYmFsKHdiLCBidWZzLCBvKSk7XG5cdHJldHVybiBiY29uY2F0KGJ1ZnMpO1xufVxuXG5mdW5jdGlvbiB3cml0ZV9iaWZmX2J1Zih3Yi8qOldvcmtib29rKi8sIG9wdHMvKjpXcml0ZU9wdHMqLykge1xuXHRmb3IodmFyIGkgPSAwOyBpIDw9IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK2kpIHtcblx0XHR2YXIgd3MgPSB3Yi5TaGVldHNbd2IuU2hlZXROYW1lc1tpXV07XG5cdFx0aWYoIXdzIHx8ICF3c1tcIiFyZWZcIl0pIGNvbnRpbnVlO1xuXHRcdHZhciByYW5nZSA9IGRlY29kZV9yYW5nZSh3c1tcIiFyZWZcIl0pO1xuXHRcdGlmKHJhbmdlLmUuYyA+IDI1NSkgeyAvLyBub3RlOiAyNTUgaXMgSVZcblx0XHRcdGlmKHR5cGVvZiBjb25zb2xlICE9IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZS5lcnJvcikgY29uc29sZS5lcnJvcihcIldvcmtzaGVldCAnXCIgKyB3Yi5TaGVldE5hbWVzW2ldICsgXCInIGV4dGVuZHMgYmV5b25kIGNvbHVtbiBJViAoMjU1KS4gIERhdGEgbWF5IGJlIGxvc3QuXCIpO1xuXHRcdH1cblx0XHRpZihyYW5nZS5lLnIgPiA2NTUzNSkge1xuXHRcdFx0aWYodHlwZW9mIGNvbnNvbGUgIT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlLmVycm9yKSBjb25zb2xlLmVycm9yKFwiV29ya3NoZWV0ICdcIiArIHdiLlNoZWV0TmFtZXNbaV0gKyBcIicgZXh0ZW5kcyBiZXlvbmQgcm93IDY1NTM2LiAgRGF0YSBtYXkgYmUgbG9zdC5cIik7XG5cdFx0fVxuXHR9XG5cblx0dmFyIG8gPSBvcHRzIHx8IHt9O1xuXHRzd2l0Y2goby5iaWZmIHx8IDIpIHtcblx0XHRjYXNlIDg6IGNhc2UgNTogcmV0dXJuIHdyaXRlX2JpZmY4X2J1Zih3Yiwgb3B0cyk7XG5cdFx0Y2FzZSA0OiBjYXNlIDM6IGNhc2UgMjogcmV0dXJuIHdyaXRlX2JpZmYyX2J1Zih3Yiwgb3B0cyk7XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB0eXBlIFwiICsgby5ib29rVHlwZSArIFwiIGZvciBCSUZGXCIpO1xufVxuLyogbm90ZTogYnJvd3NlciBET00gZWxlbWVudCBjYW5ub3Qgc2VlIG1zby0gc3R5bGUgYXR0cnMsIG11c3QgcGFyc2UgKi9cbmZ1bmN0aW9uIGh0bWxfdG9fc2hlZXQoc3RyLyo6c3RyaW5nKi8sIF9vcHRzKS8qOldvcmtib29rKi8ge1xuXHR2YXIgb3B0cyA9IF9vcHRzIHx8IHt9O1xuXHR2YXIgZGVuc2UgPSAob3B0cy5kZW5zZSAhPSBudWxsKSA/IG9wdHMuZGVuc2UgOiBERU5TRTtcblx0dmFyIHdzLyo6V29ya3NoZWV0Ki8gPSAoe30vKjphbnkqLyk7IGlmKGRlbnNlKSB3c1tcIiFkYXRhXCJdID0gW107XG5cdHN0ciA9IHN0cl9yZW1vdmVfbmcoc3RyLCBcIjwhLS1cIiwgXCItLT5cIik7XG5cdHZhciBtdGNoLyo6YW55Ki8gPSBzdHIubWF0Y2goLzx0YWJsZS9pKTtcblx0aWYoIW10Y2gpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSFRNTDogY291bGQgbm90IGZpbmQgPHRhYmxlPlwiKTtcblx0dmFyIG10Y2gyLyo6YW55Ki8gPSBzdHIubWF0Y2goLzxcXC90YWJsZS9pKTtcblx0dmFyIGkvKjpudW1iZXIqLyA9IG10Y2guaW5kZXgsIGovKjpudW1iZXIqLyA9IG10Y2gyICYmIG10Y2gyLmluZGV4IHx8IHN0ci5sZW5ndGg7XG5cdHZhciByb3dzID0gc3BsaXRfcmVnZXgoc3RyLnNsaWNlKGksIGopLCAvKDo/PHRyW148Pl0qPikvaSwgXCI8dHI+XCIpO1xuXHR2YXIgUiA9IC0xLCBDID0gMCwgUlMgPSAwLCBDUyA9IDA7XG5cdHZhciByYW5nZS8qOlJhbmdlKi8gPSB7czp7cjoxMDAwMDAwMCwgYzoxMDAwMDAwMH0sZTp7cjowLGM6MH19O1xuXHR2YXIgbWVyZ2VzLyo6QXJyYXk8UmFuZ2U+Ki8gPSBbXTtcblx0Zm9yKGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7ICsraSkge1xuXHRcdHZhciByb3cgPSByb3dzW2ldLnRyaW0oKTtcblx0XHR2YXIgaGQgPSByb3cuc2xpY2UoMCwzKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGlmKGhkID09IFwiPHRyXCIpIHsgKytSOyBpZihvcHRzLnNoZWV0Um93cyAmJiBvcHRzLnNoZWV0Um93cyA8PSBSKSB7IC0tUjsgYnJlYWs7IH0gQyA9IDA7IGNvbnRpbnVlOyB9XG5cdFx0aWYoaGQgIT0gXCI8dGRcIiAmJiBoZCAhPSBcIjx0aFwiKSBjb250aW51ZTtcblx0XHR2YXIgY2VsbHMgPSByb3cuc3BsaXQoLzxcXC90W2RoXT4vaSk7XG5cdFx0Zm9yKGogPSAwOyBqIDwgY2VsbHMubGVuZ3RoOyArK2opIHtcblx0XHRcdHZhciBjZWxsID0gY2VsbHNbal0udHJpbSgpO1xuXHRcdFx0aWYoIWNlbGwubWF0Y2goLzx0W2RoXS9pKSkgY29udGludWU7XG5cdFx0XHR2YXIgbSA9IGNlbGwsIGNjID0gMDtcblx0XHRcdC8qIFRPRE86IHBhcnNlIHN0eWxlcyBldGMgKi9cblx0XHRcdHdoaWxlKG0uY2hhckF0KDApID09IFwiPFwiICYmIChjYyA9IG0uaW5kZXhPZihcIj5cIikpID4gLTEpIG0gPSBtLnNsaWNlKGNjKzEpO1xuXHRcdFx0Zm9yKHZhciBtaWR4ID0gMDsgbWlkeCA8IG1lcmdlcy5sZW5ndGg7ICsrbWlkeCkge1xuXHRcdFx0XHR2YXIgX21lcmdlLyo6UmFuZ2UqLyA9IG1lcmdlc1ttaWR4XTtcblx0XHRcdFx0aWYoX21lcmdlLnMuYyA9PSBDICYmIF9tZXJnZS5zLnIgPCBSICYmIFIgPD0gX21lcmdlLmUucikgeyBDID0gX21lcmdlLmUuYyArIDE7IG1pZHggPSAtMTsgfVxuXHRcdFx0fVxuXHRcdFx0dmFyIHRhZyA9IHBhcnNleG1sdGFnKGNlbGwuc2xpY2UoMCwgY2VsbC5pbmRleE9mKFwiPlwiKSkpO1xuXHRcdFx0Q1MgPSB0YWcuY29sc3BhbiA/ICt0YWcuY29sc3BhbiA6IDE7XG5cdFx0XHRpZigoUlMgPSArdGFnLnJvd3NwYW4pPjEgfHwgQ1M+MSkgbWVyZ2VzLnB1c2goe3M6e3I6UixjOkN9LGU6e3I6UiArIChSU3x8MSkgLSAxLCBjOkMgKyBDUyAtIDF9fSk7XG5cdFx0XHR2YXIgX3QvKjpzdHJpbmcqLyA9IHRhZy50IHx8IHRhZ1tcImRhdGEtdFwiXSB8fCBcIlwiO1xuXHRcdFx0LyogVE9ETzogZ2VuZXJhdGUgc3R1YiBjZWxscyAqL1xuXHRcdFx0aWYoIW0ubGVuZ3RoKSB7IEMgKz0gQ1M7IGNvbnRpbnVlOyB9XG5cdFx0XHRtID0gaHRtbGRlY29kZShtKTtcblx0XHRcdGlmKHJhbmdlLnMuciA+IFIpIHJhbmdlLnMuciA9IFI7IGlmKHJhbmdlLmUuciA8IFIpIHJhbmdlLmUuciA9IFI7XG5cdFx0XHRpZihyYW5nZS5zLmMgPiBDKSByYW5nZS5zLmMgPSBDOyBpZihyYW5nZS5lLmMgPCBDKSByYW5nZS5lLmMgPSBDO1xuXHRcdFx0aWYoIW0ubGVuZ3RoKSB7IEMgKz0gQ1M7IGNvbnRpbnVlOyB9XG5cdFx0XHR2YXIgby8qOkNlbGwqLyA9IHt0OidzJywgdjptfTtcblx0XHRcdGlmKG9wdHMucmF3IHx8ICFtLnRyaW0oKS5sZW5ndGggfHwgX3QgPT0gJ3MnKXt9XG5cdFx0XHRlbHNlIGlmKG0gPT09ICdUUlVFJykgbyA9IHt0OidiJywgdjp0cnVlfTtcblx0XHRcdGVsc2UgaWYobSA9PT0gJ0ZBTFNFJykgbyA9IHt0OidiJywgdjpmYWxzZX07XG5cdFx0XHRlbHNlIGlmKCFpc05hTihmdXp6eW51bShtKSkpIG8gPSB7dDonbicsIHY6ZnV6enludW0obSl9O1xuXHRcdFx0ZWxzZSBpZighaXNOYU4oZnV6enlkYXRlKG0pLmdldERhdGUoKSkpIHtcblx0XHRcdFx0byA9ICh7dDonZCcsIHY6cGFyc2VEYXRlKG0pfS8qOmFueSovKTtcblx0XHRcdFx0aWYob3B0cy5VVEMgPT09IGZhbHNlKSBvLnYgPSB1dGNfdG9fbG9jYWwoby52KTtcblx0XHRcdFx0aWYoIW9wdHMuY2VsbERhdGVzKSBvID0gKHt0OiduJywgdjpkYXRlbnVtKG8udil9Lyo6YW55Ki8pO1xuXHRcdFx0XHRvLnogPSBvcHRzLmRhdGVORiB8fCB0YWJsZV9mbXRbMTRdO1xuXHRcdFx0fSBlbHNlIGlmKG0uY2hhckNvZGVBdCgwKSA9PSAzNSAvKiAjICovICYmIFJCRXJyW21dICE9IG51bGwpIHtcblx0XHRcdFx0by50ID0gJ2UnOyBvLncgPSBtOyBvLnYgPSBSQkVyclttXTtcblx0XHRcdH1cblx0XHRcdGlmKG8uY2VsbFRleHQgIT09IGZhbHNlKSBvLncgPSBtO1xuXHRcdFx0aWYoZGVuc2UpIHsgaWYoIXdzW1wiIWRhdGFcIl1bUl0pIHdzW1wiIWRhdGFcIl1bUl0gPSBbXTsgd3NbXCIhZGF0YVwiXVtSXVtDXSA9IG87IH1cblx0XHRcdGVsc2Ugd3NbZW5jb2RlX2NlbGwoe3I6UiwgYzpDfSldID0gbztcblx0XHRcdEMgKz0gQ1M7XG5cdFx0fVxuXHR9XG5cdHdzWychcmVmJ10gPSBlbmNvZGVfcmFuZ2UocmFuZ2UpO1xuXHRpZihtZXJnZXMubGVuZ3RoKSB3c1tcIiFtZXJnZXNcIl0gPSBtZXJnZXM7XG5cdHJldHVybiB3cztcbn1cbmZ1bmN0aW9uIG1ha2VfaHRtbF9yb3cod3MvKjpXb3Jrc2hlZXQqLywgci8qOlJhbmdlKi8sIFIvKjpudW1iZXIqLywgby8qOlNoZWV0MkhUTUxPcHRzKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgTS8qOkFycmF5PFJhbmdlPiovID0gKHdzWychbWVyZ2VzJ10gfHxbXSk7XG5cdHZhciBvby8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHR2YXIgc3AgPSAoe30vKjphbnkqLyk7XG5cdHZhciBkZW5zZSA9IHdzW1wiIWRhdGFcIl0gIT0gbnVsbDtcblx0Zm9yKHZhciBDID0gci5zLmM7IEMgPD0gci5lLmM7ICsrQykge1xuXHRcdHZhciBSUyA9IDAsIENTID0gMDtcblx0XHRmb3IodmFyIGogPSAwOyBqIDwgTS5sZW5ndGg7ICsraikge1xuXHRcdFx0aWYoTVtqXS5zLnIgPiBSIHx8IE1bal0ucy5jID4gQykgY29udGludWU7XG5cdFx0XHRpZihNW2pdLmUuciA8IFIgfHwgTVtqXS5lLmMgPCBDKSBjb250aW51ZTtcblx0XHRcdGlmKE1bal0ucy5yIDwgUiB8fCBNW2pdLnMuYyA8IEMpIHsgUlMgPSAtMTsgYnJlYWs7IH1cblx0XHRcdFJTID0gTVtqXS5lLnIgLSBNW2pdLnMuciArIDE7IENTID0gTVtqXS5lLmMgLSBNW2pdLnMuYyArIDE7IGJyZWFrO1xuXHRcdH1cblx0XHRpZihSUyA8IDApIGNvbnRpbnVlO1xuXHRcdHZhciBjb29yZCA9IGVuY29kZV9jb2woQykgKyBlbmNvZGVfcm93KFIpO1xuXHRcdHZhciBjZWxsID0gZGVuc2UgPyAod3NbXCIhZGF0YVwiXVtSXXx8W10pW0NdIDogd3NbY29vcmRdO1xuXHRcdGlmKGNlbGwgJiYgY2VsbC50ID09ICduJyAmJiBjZWxsLnYgIT0gbnVsbCAmJiAhaXNGaW5pdGUoY2VsbC52KSkge1xuXHRcdFx0aWYoaXNOYU4oY2VsbC52KSkgY2VsbCA9ICh7dDonZScsIHY6MHgyNCwgdzpCRXJyWzB4MjRdfSk7XG5cdFx0XHRlbHNlIGNlbGwgPSAoe3Q6J2UnLCB2OjB4MDcsIHc6QkVyclsweDA3XX0pO1xuXHRcdH1cblx0XHQvKiBUT0RPOiBodG1sIGVudGl0aWVzICovXG5cdFx0dmFyIHcgPSAoY2VsbCAmJiBjZWxsLnYgIT0gbnVsbCkgJiYgKGNlbGwuaCB8fCBlc2NhcGVodG1sKGNlbGwudyB8fCAoZm9ybWF0X2NlbGwoY2VsbCksIGNlbGwudykgfHwgXCJcIikpIHx8IFwiXCI7XG5cdFx0c3AgPSAoe30vKjphbnkqLyk7XG5cdFx0aWYoUlMgPiAxKSBzcC5yb3dzcGFuID0gUlM7XG5cdFx0aWYoQ1MgPiAxKSBzcC5jb2xzcGFuID0gQ1M7XG5cdFx0aWYoby5lZGl0YWJsZSkgdyA9ICc8c3BhbiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+JyArIHcgKyAnPC9zcGFuPic7XG5cdFx0ZWxzZSBpZihjZWxsKSB7XG5cdFx0XHRzcFtcImRhdGEtdFwiXSA9IGNlbGwgJiYgY2VsbC50IHx8ICd6Jztcblx0XHRcdC8vIG5vdGU6IGRhdGEtdiBpcyB1bmFmZmVjdGVkIGJ5IHRoZSB0aW1lem9uZSBpbnRlcnByZXRhdGlvblxuXHRcdFx0aWYoY2VsbC52ICE9IG51bGwpIHNwW1wiZGF0YS12XCJdID0gZXNjYXBlaHRtbChjZWxsLnYgaW5zdGFuY2VvZiBEYXRlID8gY2VsbC52LnRvSVNPU3RyaW5nKCkgOiBjZWxsLnYpO1xuXHRcdFx0aWYoY2VsbC56ICE9IG51bGwpIHNwW1wiZGF0YS16XCJdID0gY2VsbC56O1xuXHRcdFx0aWYoY2VsbC5sICYmIChjZWxsLmwuVGFyZ2V0IHx8IFwiI1wiKS5jaGFyQXQoMCkgIT0gXCIjXCIpIHcgPSAnPGEgaHJlZj1cIicgKyBlc2NhcGVodG1sKGNlbGwubC5UYXJnZXQpICsnXCI+JyArIHcgKyAnPC9hPic7XG5cdFx0fVxuXHRcdHNwLmlkID0gKG8uaWQgfHwgXCJzanNcIikgKyBcIi1cIiArIGNvb3JkO1xuXHRcdG9vLnB1c2god3JpdGV4dGFnKCd0ZCcsIHcsIHNwKSk7XG5cdH1cblx0dmFyIHByZWFtYmxlID0gXCI8dHI+XCI7XG5cdHJldHVybiBwcmVhbWJsZSArIG9vLmpvaW4oXCJcIikgKyBcIjwvdHI+XCI7XG59XG5cbnZhciBIVE1MX0JFR0lOID0gJzxodG1sPjxoZWFkPjxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiLz48dGl0bGU+U2hlZXRKUyBUYWJsZSBFeHBvcnQ8L3RpdGxlPjwvaGVhZD48Ym9keT4nO1xudmFyIEhUTUxfRU5EID0gJzwvYm9keT48L2h0bWw+JztcblxuZnVuY3Rpb24gaHRtbF90b193b3JrYm9vayhzdHIvKjpzdHJpbmcqLywgb3B0cykvKjpXb3JrYm9vayovIHtcblx0dmFyIG10Y2ggPSBzdHJfbWF0Y2hfeG1sX2lnKHN0ciwgXCJ0YWJsZVwiKTtcblx0aWYoIW10Y2ggfHwgbXRjaC5sZW5ndGggPT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBIVE1MOiBjb3VsZCBub3QgZmluZCA8dGFibGU+XCIpO1xuXHRpZihtdGNoLmxlbmd0aCA9PSAxKSB7XG5cdFx0dmFyIHcgPSBzaGVldF90b193b3JrYm9vayhodG1sX3RvX3NoZWV0KG10Y2hbMF0sIG9wdHMpLCBvcHRzKTtcblx0XHR3LmJvb2tUeXBlID0gXCJodG1sXCI7XG5cdFx0cmV0dXJuIHc7XG5cdH1cblx0dmFyIHdiID0gYm9va19uZXcoKTtcblx0bXRjaC5mb3JFYWNoKGZ1bmN0aW9uKHMsIGlkeCkgeyBib29rX2FwcGVuZF9zaGVldCh3YiwgaHRtbF90b19zaGVldChzLCBvcHRzKSwgXCJTaGVldFwiICsgKGlkeCsxKSk7IH0pO1xuXHR3Yi5ib29rVHlwZSA9IFwiaHRtbFwiO1xuXHRyZXR1cm4gd2I7XG59XG5cbmZ1bmN0aW9uIG1ha2VfaHRtbF9wcmVhbWJsZSh3cy8qOldvcmtzaGVldCovLCBSLyo6UmFuZ2UqLywgby8qOlNoZWV0MkhUTUxPcHRzKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgb3V0Lyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHJldHVybiBvdXQuam9pbihcIlwiKSArICc8dGFibGUnICsgKG8gJiYgby5pZCA/ICcgaWQ9XCInICsgby5pZCArICdcIicgOiBcIlwiKSArICc+Jztcbn1cblxuZnVuY3Rpb24gc2hlZXRfdG9faHRtbCh3cy8qOldvcmtzaGVldCovLCBvcHRzLyo6P1NoZWV0MkhUTUxPcHRzKi8vKiwgd2I6P1dvcmtib29rKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgbyA9IG9wdHMgfHwge307XG5cdHZhciBoZWFkZXIgPSBvLmhlYWRlciAhPSBudWxsID8gby5oZWFkZXIgOiBIVE1MX0JFR0lOO1xuXHR2YXIgZm9vdGVyID0gby5mb290ZXIgIT0gbnVsbCA/IG8uZm9vdGVyIDogSFRNTF9FTkQ7XG5cdHZhciBvdXQvKjpBcnJheTxzdHJpbmc+Ki8gPSBbaGVhZGVyXTtcblx0dmFyIHIgPSBkZWNvZGVfcmFuZ2Uod3NbJyFyZWYnXSB8fCBcIkExXCIpO1xuXHRvdXQucHVzaChtYWtlX2h0bWxfcHJlYW1ibGUod3MsIHIsIG8pKTtcblx0aWYod3NbXCIhcmVmXCJdKSBmb3IodmFyIFIgPSByLnMucjsgUiA8PSByLmUucjsgKytSKSBvdXQucHVzaChtYWtlX2h0bWxfcm93KHdzLCByLCBSLCBvKSk7XG5cdG91dC5wdXNoKFwiPC90YWJsZT5cIiArIGZvb3Rlcik7XG5cdHJldHVybiBvdXQuam9pbihcIlwiKTtcbn1cblxuZnVuY3Rpb24gc2hlZXRfYWRkX2RvbSh3cy8qOldvcmtzaGVldCovLCB0YWJsZS8qOkhUTUxFbGVtZW50Ki8sIF9vcHRzLyo6P2FueSovKS8qOldvcmtzaGVldCovIHtcblx0dmFyIHJvd3MvKjpIVE1MQ29sbGVjdGlvbjxIVE1MVGFibGVSb3dFbGVtZW50PiovID0gdGFibGUucm93cztcblx0aWYoIXJvd3MpIHtcblx0XHQvKiBub3QgYW4gSFRNTCBUQUJMRSAqL1xuXHRcdHRocm93IFwiVW5zdXBwb3J0ZWQgb3JpZ2luIHdoZW4gXCIgKyB0YWJsZS50YWdOYW1lICsgXCIgaXMgbm90IGEgVEFCTEVcIjtcblx0fVxuXG5cdHZhciBvcHRzID0gX29wdHMgfHwge307XG5cdHZhciBkZW5zZSA9IHdzW1wiIWRhdGFcIl0gIT0gbnVsbDtcblx0dmFyIG9yX1IgPSAwLCBvcl9DID0gMDtcblx0aWYob3B0cy5vcmlnaW4gIT0gbnVsbCkge1xuXHRcdGlmKHR5cGVvZiBvcHRzLm9yaWdpbiA9PSAnbnVtYmVyJykgb3JfUiA9IG9wdHMub3JpZ2luO1xuXHRcdGVsc2Uge1xuXHRcdFx0dmFyIF9vcmlnaW4vKjpDZWxsQWRkcmVzcyovID0gdHlwZW9mIG9wdHMub3JpZ2luID09IFwic3RyaW5nXCIgPyBkZWNvZGVfY2VsbChvcHRzLm9yaWdpbikgOiBvcHRzLm9yaWdpbjtcblx0XHRcdG9yX1IgPSBfb3JpZ2luLnI7IG9yX0MgPSBfb3JpZ2luLmM7XG5cdFx0fVxuXHR9XG5cblx0dmFyIHNoZWV0Um93cyA9IE1hdGgubWluKG9wdHMuc2hlZXRSb3dzfHwxMDAwMDAwMCwgcm93cy5sZW5ndGgpO1xuXHR2YXIgcmFuZ2UvKjpSYW5nZSovID0ge3M6e3I6MCxjOjB9LGU6e3I6b3JfUixjOm9yX0N9fTtcblx0aWYod3NbXCIhcmVmXCJdKSB7XG5cdFx0dmFyIF9yYW5nZS8qOlJhbmdlKi8gPSBkZWNvZGVfcmFuZ2Uod3NbXCIhcmVmXCJdKTtcblx0XHRyYW5nZS5zLnIgPSBNYXRoLm1pbihyYW5nZS5zLnIsIF9yYW5nZS5zLnIpO1xuXHRcdHJhbmdlLnMuYyA9IE1hdGgubWluKHJhbmdlLnMuYywgX3JhbmdlLnMuYyk7XG5cdFx0cmFuZ2UuZS5yID0gTWF0aC5tYXgocmFuZ2UuZS5yLCBfcmFuZ2UuZS5yKTtcblx0XHRyYW5nZS5lLmMgPSBNYXRoLm1heChyYW5nZS5lLmMsIF9yYW5nZS5lLmMpO1xuXHRcdGlmKG9yX1IgPT0gLTEpIHJhbmdlLmUuciA9IG9yX1IgPSBfcmFuZ2UuZS5yICsgMTtcblx0fVxuXHR2YXIgbWVyZ2VzLyo6QXJyYXk8UmFuZ2U+Ki8gPSBbXSwgbWlkeCA9IDA7XG5cdHZhciByb3dpbmZvLyo6QXJyYXk8Um93SW5mbz4qLyA9IHdzW1wiIXJvd3NcIl0gfHwgKHdzW1wiIXJvd3NcIl0gPSBbXSk7XG5cdHZhciBfUiA9IDAsIFIgPSAwLCBfQyA9IDAsIEMgPSAwLCBSUyA9IDAsIENTID0gMDtcblx0aWYoIXdzW1wiIWNvbHNcIl0pIHdzWychY29scyddID0gW107XG5cdGZvcig7IF9SIDwgcm93cy5sZW5ndGggJiYgUiA8IHNoZWV0Um93czsgKytfUikge1xuXHRcdHZhciByb3cvKjpIVE1MVGFibGVSb3dFbGVtZW50Ki8gPSByb3dzW19SXTtcblx0XHRpZiAoaXNfZG9tX2VsZW1lbnRfaGlkZGVuKHJvdykpIHtcblx0XHRcdGlmIChvcHRzLmRpc3BsYXkpIGNvbnRpbnVlO1xuXHRcdFx0cm93aW5mb1tSXSA9IHtoaWRkZW46IHRydWV9O1xuXHRcdH1cblx0XHR2YXIgZWx0cy8qOkhUTUxDb2xsZWN0aW9uPEhUTUxUYWJsZUNlbGxFbGVtZW50PiovID0gKHJvdy5jZWxscyk7XG5cdFx0Zm9yKF9DID0gQyA9IDA7IF9DIDwgZWx0cy5sZW5ndGg7ICsrX0MpIHtcblx0XHRcdHZhciBlbHQvKjpIVE1MVGFibGVDZWxsRWxlbWVudCovID0gZWx0c1tfQ107XG5cdFx0XHRpZiAob3B0cy5kaXNwbGF5ICYmIGlzX2RvbV9lbGVtZW50X2hpZGRlbihlbHQpKSBjb250aW51ZTtcblx0XHRcdHZhciB2Lyo6P3N0cmluZyovID0gZWx0Lmhhc0F0dHJpYnV0ZSgnZGF0YS12JykgPyBlbHQuZ2V0QXR0cmlidXRlKCdkYXRhLXYnKSA6IGVsdC5oYXNBdHRyaWJ1dGUoJ3YnKSA/IGVsdC5nZXRBdHRyaWJ1dGUoJ3YnKSA6IGh0bWxkZWNvZGUoZWx0LmlubmVySFRNTCk7XG5cdFx0XHR2YXIgei8qOj9zdHJpbmcqLyA9IGVsdC5nZXRBdHRyaWJ1dGUoJ2RhdGEteicpIHx8IGVsdC5nZXRBdHRyaWJ1dGUoJ3onKTtcblx0XHRcdGZvcihtaWR4ID0gMDsgbWlkeCA8IG1lcmdlcy5sZW5ndGg7ICsrbWlkeCkge1xuXHRcdFx0XHR2YXIgbS8qOlJhbmdlKi8gPSBtZXJnZXNbbWlkeF07XG5cdFx0XHRcdGlmKG0ucy5jID09IEMgKyBvcl9DICYmIG0ucy5yIDwgUiArIG9yX1IgJiYgUiArIG9yX1IgPD0gbS5lLnIpIHsgQyA9IG0uZS5jKzEgLSBvcl9DOyBtaWR4ID0gLTE7IH1cblx0XHRcdH1cblx0XHRcdC8qIFRPRE86IGZpZ3VyZSBvdXQgaG93IHRvIGV4dHJhY3Qgbm9uc3RhbmRhcmQgbXNvLSBzdHlsZSAqL1xuXHRcdFx0Q1MgPSArZWx0LmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIikgfHwgMTtcblx0XHRcdGlmKCAoKFJTID0gKCtlbHQuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKSB8fCAxKSkpPjEgfHwgQ1M+MSkgbWVyZ2VzLnB1c2goe3M6e3I6UiArIG9yX1IsYzpDICsgb3JfQ30sZTp7cjpSICsgb3JfUiArIChSU3x8MSkgLSAxLCBjOkMgKyBvcl9DICsgKENTfHwxKSAtIDF9fSk7XG5cdFx0XHR2YXIgby8qOkNlbGwqLyA9IHt0OidzJywgdjp2fTtcblx0XHRcdHZhciBfdC8qOnN0cmluZyovID0gZWx0LmdldEF0dHJpYnV0ZShcImRhdGEtdFwiKSB8fCBlbHQuZ2V0QXR0cmlidXRlKFwidFwiKSB8fCBcIlwiO1xuXHRcdFx0aWYodiAhPSBudWxsKSB7XG5cdFx0XHRcdGlmKHYubGVuZ3RoID09IDApIG8udCA9IF90IHx8ICd6Jztcblx0XHRcdFx0ZWxzZSBpZihvcHRzLnJhdyB8fCB2LnRyaW0oKS5sZW5ndGggPT0gMCB8fCBfdCA9PSBcInNcIil7fVxuXHRcdFx0XHRlbHNlIGlmKF90ID09IFwiZVwiICYmIEJFcnJbK3ZdKSBvID0ge3Q6J2UnLCB2Oit2LCB3OiBCRXJyWyt2XX07XG5cdFx0XHRcdGVsc2UgaWYodiA9PT0gJ1RSVUUnKSBvID0ge3Q6J2InLCB2OnRydWV9O1xuXHRcdFx0XHRlbHNlIGlmKHYgPT09ICdGQUxTRScpIG8gPSB7dDonYicsIHY6ZmFsc2V9O1xuXHRcdFx0XHRlbHNlIGlmKCFpc05hTihmdXp6eW51bSh2KSkpIG8gPSB7dDonbicsIHY6ZnV6enludW0odil9O1xuXHRcdFx0XHRlbHNlIGlmKCFpc05hTihmdXp6eWRhdGUodikuZ2V0RGF0ZSgpKSkge1xuXHRcdFx0XHRcdG8gPSAoe3Q6J2QnLCB2OnBhcnNlRGF0ZSh2KX0vKjphbnkqLyk7XG5cdFx0XHRcdFx0aWYob3B0cy5VVEMpIG8udiA9IGxvY2FsX3RvX3V0YyhvLnYpO1xuXHRcdFx0XHRcdGlmKCFvcHRzLmNlbGxEYXRlcykgbyA9ICh7dDonbicsIHY6ZGF0ZW51bShvLnYpfS8qOmFueSovKTtcblx0XHRcdFx0XHRvLnogPSBvcHRzLmRhdGVORiB8fCB0YWJsZV9mbXRbMTRdO1xuXHRcdFx0XHR9IGVsc2UgaWYodi5jaGFyQ29kZUF0KDApID09IDM1IC8qICMgKi8gJiYgUkJFcnJbdl0gIT0gbnVsbCkgbyA9ICh7dDonZScsIHY6IFJCRXJyW3ZdLCB3OiB2fSk7XG5cdFx0XHR9XG5cdFx0XHRpZihvLnogPT09IHVuZGVmaW5lZCAmJiB6ICE9IG51bGwpIG8ueiA9IHo7XG5cdFx0XHQvKiBUaGUgZmlyc3QgbGluayBpcyB1c2VkLiAgTGlua3MgYXJlIGFzc3VtZWQgdG8gYmUgZnVsbHkgc3BlY2lmaWVkLlxuXHRcdFx0ICogVE9ETzogVGhlIHJpZ2h0IHdheSB0byBwcm9jZXNzIHJlbGF0aXZlIGxpbmtzIGlzIHRvIG1ha2UgYSBuZXcgPGE+ICovXG5cdFx0XHR2YXIgbCA9IFwiXCIsIEFlbHRzID0gZWx0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiQVwiKTtcblx0XHRcdGlmKEFlbHRzICYmIEFlbHRzLmxlbmd0aCkgZm9yKHZhciBBZWx0aSA9IDA7IEFlbHRpIDwgQWVsdHMubGVuZ3RoOyArK0FlbHRpKVx0aWYoQWVsdHNbQWVsdGldLmhhc0F0dHJpYnV0ZShcImhyZWZcIikpIHtcblx0XHRcdFx0bCA9IEFlbHRzW0FlbHRpXS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpOyBpZihsLmNoYXJBdCgwKSAhPSBcIiNcIikgYnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZihsICYmIGwuY2hhckF0KDApICE9IFwiI1wiICYmXHRsLnNsaWNlKDAsIDExKS50b0xvd2VyQ2FzZSgpICE9ICdqYXZhc2NyaXB0OicpIG8ubCA9ICh7IFRhcmdldDogbCB9KTtcblx0XHRcdGlmKGRlbnNlKSB7IGlmKCF3c1tcIiFkYXRhXCJdW1IgKyBvcl9SXSkgd3NbXCIhZGF0YVwiXVtSICsgb3JfUl0gPSBbXTsgd3NbXCIhZGF0YVwiXVtSICsgb3JfUl1bQyArIG9yX0NdID0gbzsgfVxuXHRcdFx0ZWxzZSB3c1tlbmNvZGVfY2VsbCh7YzpDICsgb3JfQywgcjpSICsgb3JfUn0pXSA9IG87XG5cdFx0XHRpZihyYW5nZS5lLmMgPCBDICsgb3JfQykgcmFuZ2UuZS5jID0gQyArIG9yX0M7XG5cdFx0XHRDICs9IENTO1xuXHRcdH1cblx0XHQrK1I7XG5cdH1cblx0aWYobWVyZ2VzLmxlbmd0aCkgd3NbJyFtZXJnZXMnXSA9ICh3c1tcIiFtZXJnZXNcIl0gfHwgW10pLmNvbmNhdChtZXJnZXMpO1xuXHRyYW5nZS5lLnIgPSBNYXRoLm1heChyYW5nZS5lLnIsIFIgLSAxICsgb3JfUik7XG5cdHdzWychcmVmJ10gPSBlbmNvZGVfcmFuZ2UocmFuZ2UpO1xuXHRpZihSID49IHNoZWV0Um93cykgd3NbJyFmdWxscmVmJ10gPSBlbmNvZGVfcmFuZ2UoKHJhbmdlLmUuciA9IHJvd3MubGVuZ3RoLV9SK1ItMSArIG9yX1IscmFuZ2UpKTsgLy8gV2UgY2FuIGNvdW50IHRoZSByZWFsIG51bWJlciBvZiByb3dzIHRvIHBhcnNlIGJ1dCB3ZSBkb24ndCB0byBpbXByb3ZlIHRoZSBwZXJmb3JtYW5jZVxuXHRyZXR1cm4gd3M7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX2RvbV90YWJsZSh0YWJsZS8qOkhUTUxFbGVtZW50Ki8sIF9vcHRzLyo6P2FueSovKS8qOldvcmtzaGVldCovIHtcblx0dmFyIG9wdHMgPSBfb3B0cyB8fCB7fTtcblx0dmFyIHdzLyo6V29ya3NoZWV0Ki8gPSAoe30vKjphbnkqLyk7IGlmKG9wdHMuZGVuc2UpIHdzW1wiIWRhdGFcIl0gPSBbXTtcblx0cmV0dXJuIHNoZWV0X2FkZF9kb20od3MsIHRhYmxlLCBfb3B0cyk7XG59XG5cbmZ1bmN0aW9uIHRhYmxlX3RvX2Jvb2sodGFibGUvKjpIVE1MRWxlbWVudCovLCBvcHRzLyo6P2FueSovKS8qOldvcmtib29rKi8ge1xuXHR2YXIgbyA9IHNoZWV0X3RvX3dvcmtib29rKHBhcnNlX2RvbV90YWJsZSh0YWJsZSwgb3B0cyksIG9wdHMpO1xuXHQvL28uYm9va1R5cGUgPSBcImRvbVwiOyAvLyBUT0RPOiBkZWZpbmUgYSB0eXBlIGZvciB0aGlzXG5cdHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBpc19kb21fZWxlbWVudF9oaWRkZW4oZWxlbWVudC8qOkhUTUxFbGVtZW50Ki8pLyo6Ym9vbGVhbiovIHtcblx0dmFyIGRpc3BsYXkvKjpzdHJpbmcqLyA9ICcnO1xuXHR2YXIgZ2V0X2NvbXB1dGVkX3N0eWxlLyo6P2Z1bmN0aW9uKi8gPSBnZXRfZ2V0X2NvbXB1dGVkX3N0eWxlX2Z1bmN0aW9uKGVsZW1lbnQpO1xuXHRpZihnZXRfY29tcHV0ZWRfc3R5bGUpIGRpc3BsYXkgPSBnZXRfY29tcHV0ZWRfc3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnZGlzcGxheScpO1xuXHRpZighZGlzcGxheSkgZGlzcGxheSA9IGVsZW1lbnQuc3R5bGUgJiYgZWxlbWVudC5zdHlsZS5kaXNwbGF5O1xuXHRyZXR1cm4gZGlzcGxheSA9PT0gJ25vbmUnO1xufVxuXG4vKiBnbG9iYWwgZ2V0Q29tcHV0ZWRTdHlsZSAqL1xuZnVuY3Rpb24gZ2V0X2dldF9jb21wdXRlZF9zdHlsZV9mdW5jdGlvbihlbGVtZW50Lyo6SFRNTEVsZW1lbnQqLykvKjo/ZnVuY3Rpb24qLyB7XG5cdC8vIFRoZSBwcm9wZXIgZ2V0Q29tcHV0ZWRTdHlsZSBpbXBsZW1lbnRhdGlvbiBpcyB0aGUgb25lIGRlZmluZWQgaW4gdGhlIGVsZW1lbnQgd2luZG93XG5cdGlmKGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyAmJiB0eXBlb2YgZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUgPT09ICdmdW5jdGlvbicpIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZTtcblx0Ly8gSWYgaXQgaXMgbm90IGF2YWlsYWJsZSwgdHJ5IHRvIGdldCBvbmUgZnJvbSB0aGUgZ2xvYmFsIG5hbWVzcGFjZVxuXHRpZih0eXBlb2YgZ2V0Q29tcHV0ZWRTdHlsZSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGdldENvbXB1dGVkU3R5bGU7XG5cdHJldHVybiBudWxsO1xufVxuLyogT3BlbkRvY3VtZW50ICovXG5mdW5jdGlvbiBwYXJzZV90ZXh0X3AodGV4dC8qOnN0cmluZyovLyo6OiwgdGFnKi8pLyo6QXJyYXk8YW55PiovIHtcblx0LyogNi4xLjIgV2hpdGUgU3BhY2UgQ2hhcmFjdGVycyAqL1xuXHR2YXIgZml4ZWQgPSB0ZXh0XG5cdFx0LnJlcGxhY2UoL1tcXHRcXHJcXG5dL2csIFwiIFwiKS50cmltKCkucmVwbGFjZSgvICsvZywgXCIgXCIpXG5cdFx0LnJlcGxhY2UoLzx0ZXh0OnNcXC8+L2csXCIgXCIpXG5cdFx0LnJlcGxhY2UoLzx0ZXh0OnMgdGV4dDpjPVwiKFxcZCspXCJcXC8+L2csIGZ1bmN0aW9uKCQkLCQxKSB7IHJldHVybiBBcnJheShwYXJzZUludCgkMSwxMCkrMSkuam9pbihcIiBcIik7IH0pXG5cdFx0LnJlcGxhY2UoLzx0ZXh0OnRhYltePD5dKlxcLz4vZyxcIlxcdFwiKVxuXHRcdC5yZXBsYWNlKC88dGV4dDpsaW5lLWJyZWFrXFwvPi9nLFwiXFxuXCIpO1xuXHR2YXIgdiA9IHVuZXNjYXBleG1sKGZpeGVkLnJlcGxhY2UoLzxbXjw+XSo+L2csXCJcIikpO1xuXG5cdHJldHVybiBbdl07XG59XG5cbi8qIE5vdGU6IE9EUyBjYW4gc3RpY2sgc3R5bGVzIGluIGNvbnRlbnQueG1sIG9yIHN0eWxlcy54bWwsIEZPRFMgYmx1cnMgbGluZXMgKi9cbmZ1bmN0aW9uIHBhcnNlX29kc19zdHlsZXMoZC8qOnN0cmluZyovLCBfb3B0cywgX25mbSkge1xuXHR2YXIgbnVtYmVyX2Zvcm1hdF9tYXAgPSBfbmZtIHx8IHt9O1xuXHR2YXIgc3RyID0geGxtbF9ub3JtYWxpemUoZCk7XG5cdHhsbWxyZWdleC5sYXN0SW5kZXggPSAwO1xuXHRzdHIgPSByZW1vdmVfZG9jdHlwZShzdHJfcmVtb3ZlX25nKHN0ciwgXCI8IS0tXCIsIFwiLS0+XCIpKTtcblx0dmFyIFJuLCBORnRhZywgTkYgPSBcIlwiLCB0TkYgPSBcIlwiLCB5LCBldHBvcyA9IDAsIHRpZHggPSAtMSwgaW5mbXQgPSBmYWxzZSwgcGF5bG9hZCA9IFwiXCI7XG5cdHdoaWxlKChSbiA9IHhsbWxyZWdleC5leGVjKHN0cikpKSB7XG5cdFx0c3dpdGNoKChSblszXT1SblszXS5yZXBsYWNlKC9fW1xcc1xcU10qJC8sXCJcIikpKSB7XG5cdFx0LyogTnVtYmVyIEZvcm1hdCBEZWZpbml0aW9ucyAqL1xuXHRcdGNhc2UgJ251bWJlci1zdHlsZSc6IC8vIDxudW1iZXI6bnVtYmVyLXN0eWxlPiAxNi4yOS4yXG5cdFx0Y2FzZSAnY3VycmVuY3ktc3R5bGUnOiAvLyA8bnVtYmVyOmN1cnJlbmN5LXN0eWxlPiAxNi4yOS44XG5cdFx0Y2FzZSAncGVyY2VudGFnZS1zdHlsZSc6IC8vIDxudW1iZXI6cGVyY2VudGFnZS1zdHlsZT4gMTYuMjkuMTBcblx0XHRjYXNlICdkYXRlLXN0eWxlJzogLy8gPG51bWJlcjpkYXRlLXN0eWxlPiAxNi4yOS4xMVxuXHRcdGNhc2UgJ3RpbWUtc3R5bGUnOiAvLyA8bnVtYmVyOnRpbWUtc3R5bGU+IDE2LjI5LjE5XG5cdFx0Y2FzZSAndGV4dC1zdHlsZSc6IC8vIDxudW1iZXI6dGV4dC1zdHlsZT4gMTYuMjkuMjZcblx0XHRcdGlmKFJuWzFdPT09Jy8nKSB7XG5cdFx0XHRcdGluZm10ID0gZmFsc2U7XG5cdFx0XHRcdGlmKE5GdGFnWyd0cnVuY2F0ZS1vbi1vdmVyZmxvdyddID09IFwiZmFsc2VcIikge1xuXHRcdFx0XHRcdGlmKE5GLm1hdGNoKC9oLykpIE5GID0gTkYucmVwbGFjZSgvaCsvLCBcIlskJl1cIik7XG5cdFx0XHRcdFx0ZWxzZSBpZihORi5tYXRjaCgvbS8pKSBORiA9IE5GLnJlcGxhY2UoL20rLywgXCJbJCZdXCIpO1xuXHRcdFx0XHRcdGVsc2UgaWYoTkYubWF0Y2goL3MvKSkgTkYgPSBORi5yZXBsYWNlKC9zKy8sIFwiWyQmXVwiKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRudW1iZXJfZm9ybWF0X21hcFtORnRhZy5uYW1lXSA9IE5GO1xuXHRcdFx0XHRORiA9IFwiXCI7XG5cdFx0XHR9IGVsc2UgaWYoUm5bMF0uY2hhckF0KFJuWzBdLmxlbmd0aC0yKSAhPT0gJy8nKSB7XG5cdFx0XHRcdGluZm10ID0gdHJ1ZTtcblx0XHRcdFx0TkYgPSBcIlwiO1xuXHRcdFx0XHRORnRhZyA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHR9IGJyZWFrO1xuXG5cdFx0Ly8gTGlicmVPZmZpY2UgYnVnIGh0dHBzOi8vYnVncy5kb2N1bWVudGZvdW5kYXRpb24ub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDk0ODRcblx0XHRjYXNlICdib29sZWFuLXN0eWxlJzogLy8gPG51bWJlcjpib29sZWFuLXN0eWxlPiAxNi4yOS4yNFxuXHRcdFx0aWYoUm5bMV09PT0nLycpIHtcblx0XHRcdFx0aW5mbXQgPSBmYWxzZTtcblx0XHRcdFx0bnVtYmVyX2Zvcm1hdF9tYXBbTkZ0YWcubmFtZV0gPSBcIkdlbmVyYWxcIjtcblx0XHRcdFx0TkYgPSBcIlwiO1xuXHRcdFx0fSBlbHNlIGlmKFJuWzBdLmNoYXJBdChSblswXS5sZW5ndGgtMikgIT09ICcvJykge1xuXHRcdFx0XHRpbmZtdCA9IHRydWU7XG5cdFx0XHRcdE5GID0gXCJcIjtcblx0XHRcdFx0TkZ0YWcgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuXHRcdFx0fSBicmVhaztcblxuXHRcdC8qIE51bWJlciBGb3JtYXQgRWxlbWVudHMgKi9cblx0XHRjYXNlICdib29sZWFuJzogLy8gPG51bWJlcjpib29sZWFuPiAxNi4yOS4yNVxuXHRcdFx0TkYgKz0gXCJHZW5lcmFsXCI7IC8vIE9ERiBzcGVjIGlzIHVuZm9ydHVuYXRlbHkgdW5kZXJzcGVjaWZpZWQgaGVyZVxuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICd0ZXh0JzogLy8gPG51bWJlcjp0ZXh0PiAxNi4yOS4yN1xuXHRcdFx0aWYoUm5bMV09PT0nLycpIHtcblx0XHRcdFx0cGF5bG9hZCA9IHN0ci5zbGljZSh0aWR4LCB4bG1scmVnZXgubGFzdEluZGV4IC0gUm5bMF0ubGVuZ3RoKTtcblx0XHRcdFx0Ly8gTk9URTogRXhjZWwgaGFzIGEgZGlmZmVyZW50IGludGVycHJldGF0aW9uIG9mIFwiJSVcIiBhbmQgZnJpZW5kc1xuXHRcdFx0XHRpZihwYXlsb2FkID09IFwiJVwiICYmIE5GdGFnWzBdID09ICc8bnVtYmVyOnBlcmNlbnRhZ2Utc3R5bGUnKSBORiArPSBcIiVcIjtcblx0XHRcdFx0ZWxzZSBORiArPSAnXCInICsgcGF5bG9hZC5yZXBsYWNlKC9cIi9nLCAnXCJcIicpICsgJ1wiJztcblx0XHRcdH0gZWxzZSBpZihSblswXS5jaGFyQXQoUm5bMF0ubGVuZ3RoLTIpICE9PSAnLycpIHtcblx0XHRcdFx0dGlkeCA9IHhsbWxyZWdleC5sYXN0SW5kZXg7XG5cdFx0XHR9IGJyZWFrO1xuXG5cblx0XHRjYXNlICdkYXknOiB7IC8vIDxudW1iZXI6ZGF5PiAxNi4yOS4xMlxuXHRcdFx0eSA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRzd2l0Y2goeVtcInN0eWxlXCJdKSB7XG5cdFx0XHRcdGNhc2UgXCJzaG9ydFwiOiBORiArPSBcImRcIjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJsb25nXCI6IE5GICs9IFwiZGRcIjsgYnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6IE5GICs9IFwiZGRcIjsgYnJlYWs7IC8vIFRPRE86IGVycm9yIGNvbmRpdGlvblxuXHRcdFx0fVxuXHRcdH0gYnJlYWs7XG5cblx0XHRjYXNlICdkYXktb2Ytd2Vlayc6IHsgLy8gPG51bWJlcjpkYXktb2Ytd2Vlaz4gMTYuMjkuMTZcblx0XHRcdHkgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuXHRcdFx0c3dpdGNoKHlbXCJzdHlsZVwiXSkge1xuXHRcdFx0XHRjYXNlIFwic2hvcnRcIjogTkYgKz0gXCJkZGRcIjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJsb25nXCI6IE5GICs9IFwiZGRkZFwiOyBicmVhaztcblx0XHRcdFx0ZGVmYXVsdDogTkYgKz0gXCJkZGRcIjsgYnJlYWs7XG5cdFx0XHR9XG5cdFx0fSBicmVhaztcblxuXHRcdGNhc2UgJ2VyYSc6IHsgLy8gPG51bWJlcjplcmE+IDE2LjI5LjE1IFRPRE86IHByb3BlciBtYXBwaW5nXG5cdFx0XHR5ID0gcGFyc2V4bWx0YWcoUm5bMF0sIGZhbHNlKTtcblx0XHRcdHN3aXRjaCh5W1wic3R5bGVcIl0pIHtcblx0XHRcdFx0Y2FzZSBcInNob3J0XCI6IE5GICs9IFwiZWVcIjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJsb25nXCI6IE5GICs9IFwiZWVlZVwiOyBicmVhaztcblx0XHRcdFx0ZGVmYXVsdDogTkYgKz0gXCJlZWVlXCI7IGJyZWFrOyAvLyBUT0RPOiBlcnJvciBjb25kaXRpb25cblx0XHRcdH1cblx0XHR9IGJyZWFrO1xuXG5cdFx0Y2FzZSAnaG91cnMnOiB7IC8vIDxudW1iZXI6aG91cnM+IDE2LjI5LjIwXG5cdFx0XHR5ID0gcGFyc2V4bWx0YWcoUm5bMF0sIGZhbHNlKTtcblx0XHRcdHN3aXRjaCh5W1wic3R5bGVcIl0pIHtcblx0XHRcdFx0Y2FzZSBcInNob3J0XCI6IE5GICs9IFwiaFwiOyBicmVhaztcblx0XHRcdFx0Y2FzZSBcImxvbmdcIjogTkYgKz0gXCJoaFwiOyBicmVhaztcblx0XHRcdFx0ZGVmYXVsdDogTkYgKz0gXCJoaFwiOyBicmVhazsgLy8gVE9ETzogZXJyb3IgY29uZGl0aW9uXG5cdFx0XHR9XG5cdFx0fSBicmVhaztcblxuXHRcdGNhc2UgJ21pbnV0ZXMnOiB7IC8vIDxudW1iZXI6bWludXRlcz4gMTYuMjkuMjFcblx0XHRcdHkgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuXHRcdFx0c3dpdGNoKHlbXCJzdHlsZVwiXSkge1xuXHRcdFx0XHRjYXNlIFwic2hvcnRcIjogTkYgKz0gXCJtXCI7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwibG9uZ1wiOiBORiArPSBcIm1tXCI7IGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OiBORiArPSBcIm1tXCI7IGJyZWFrOyAvLyBUT0RPOiBlcnJvciBjb25kaXRpb25cblx0XHRcdH1cblx0XHR9IGJyZWFrO1xuXG5cdFx0Y2FzZSAnbW9udGgnOiB7IC8vIDxudW1iZXI6bW9udGg+IDE2LjI5LjEzXG5cdFx0XHR5ID0gcGFyc2V4bWx0YWcoUm5bMF0sIGZhbHNlKTtcblx0XHRcdGlmKHlbXCJ0ZXh0dWFsXCJdKSBORiArPSBcIm1tXCI7XG5cdFx0XHRzd2l0Y2goeVtcInN0eWxlXCJdKSB7XG5cdFx0XHRcdGNhc2UgXCJzaG9ydFwiOiBORiArPSBcIm1cIjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJsb25nXCI6IE5GICs9IFwibW1cIjsgYnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6IE5GICs9IFwibVwiOyBicmVhaztcblx0XHRcdH1cblx0XHR9IGJyZWFrO1xuXG5cdFx0Y2FzZSAnc2Vjb25kcyc6IHsgLy8gPG51bWJlcjpzZWNvbmRzPiAxNi4yOS4yMlxuXHRcdFx0eSA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRzd2l0Y2goeVtcInN0eWxlXCJdKSB7XG5cdFx0XHRcdGNhc2UgXCJzaG9ydFwiOiBORiArPSBcInNcIjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJsb25nXCI6IE5GICs9IFwic3NcIjsgYnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6IE5GICs9IFwic3NcIjsgYnJlYWs7IC8vIFRPRE86IGVycm9yIGNvbmRpdGlvblxuXHRcdFx0fVxuXHRcdFx0aWYoeVtcImRlY2ltYWwtcGxhY2VzXCJdKSBORiArPSBcIi5cIiArIGZpbGwoXCIwXCIsICt5W1wiZGVjaW1hbC1wbGFjZXNcIl0pO1xuXHRcdH0gYnJlYWs7XG5cblx0XHRjYXNlICd5ZWFyJzogeyAvLyA8bnVtYmVyOnllYXI+IDE2LjI5LjE0XG5cdFx0XHR5ID0gcGFyc2V4bWx0YWcoUm5bMF0sIGZhbHNlKTtcblx0XHRcdHN3aXRjaCh5W1wic3R5bGVcIl0pIHtcblx0XHRcdFx0Y2FzZSBcInNob3J0XCI6IE5GICs9IFwieXlcIjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJsb25nXCI6IE5GICs9IFwieXl5eVwiOyBicmVhaztcblx0XHRcdFx0ZGVmYXVsdDogTkYgKz0gXCJ5eVwiOyBicmVhazsgLy8gVE9ETzogZXJyb3IgY29uZGl0aW9uXG5cdFx0XHR9XG5cdFx0fSBicmVhaztcblxuXHRcdGNhc2UgJ2FtLXBtJzogLy8gPG51bWJlcjphbS1wbT4gMTYuMjkuMjNcblx0XHRcdE5GICs9IFwiQU0vUE1cIjsgLy8gTE8gYXV0b2NvcnJlY3RzIEEvUCAtPiBBTS9QTVxuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICd3ZWVrLW9mLXllYXInOiAvLyA8bnVtYmVyOndlZWstb2YteWVhcj4gMTYuMjkuMTdcblx0XHRjYXNlICdxdWFydGVyJzogLy8gPG51bWJlcjpxdWFydGVyPiAxNi4yOS4xOFxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkV4Y2VsIGRvZXMgbm90IHN1cHBvcnQgT0RTIGZvcm1hdCB0b2tlbiBcIiArIFJuWzNdKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnZmlsbC1jaGFyYWN0ZXInOiAvLyA8bnVtYmVyOmZpbGwtY2hhcmFjdGVyPiAxNi4yOS41XG5cdFx0XHRpZihSblsxXT09PScvJykge1xuXHRcdFx0XHRwYXlsb2FkID0gc3RyLnNsaWNlKHRpZHgsIHhsbWxyZWdleC5sYXN0SW5kZXggLSBSblswXS5sZW5ndGgpO1xuXHRcdFx0XHQvLyBOT1RFOiBFeGNlbCBoYXMgYSBkaWZmZXJlbnQgaW50ZXJwcmV0YXRpb24gb2YgXCIlJVwiIGFuZCBmcmllbmRzXG5cdFx0XHRcdE5GICs9ICdcIicgKyBwYXlsb2FkLnJlcGxhY2UoL1wiL2csICdcIlwiJykgKyAnXCIqJztcblx0XHRcdH0gZWxzZSBpZihSblswXS5jaGFyQXQoUm5bMF0ubGVuZ3RoLTIpICE9PSAnLycpIHtcblx0XHRcdFx0dGlkeCA9IHhsbWxyZWdleC5sYXN0SW5kZXg7XG5cdFx0XHR9IGJyZWFrO1xuXG5cdFx0Y2FzZSAnc2NpZW50aWZpYy1udW1iZXInOiAvLyA8bnVtYmVyOnNjaWVudGlmaWMtbnVtYmVyPiAxNi4yOS42XG5cdFx0XHQvLyBUT0RPOiBmaW5kIGEgbWFwcGluZyBmb3IgYWxsIHBhcmFtZXRlcnNcblx0XHRcdHkgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuXHRcdFx0TkYgKz0gXCIwLlwiICsgZmlsbChcIjBcIiwgK3lbXCJtaW4tZGVjaW1hbC1wbGFjZXNcIl0gfHwgK3lbXCJkZWNpbWFsLXBsYWNlc1wiXSB8fCAyKSArIGZpbGwoXCI/XCIsICt5W1wiZGVjaW1hbC1wbGFjZXNcIl0gLSAreVtcIm1pbi1kZWNpbWFsLXBsYWNlc1wiXSB8fCAwKSArIFwiRVwiICsgKHBhcnNleG1sYm9vbCh5W1wiZm9yY2VkLWV4cG9uZW50LXNpZ25cIl0pID8gXCIrXCIgOiBcIlwiKSArIGZpbGwoXCIwXCIsICt5W1wibWluLWV4cG9uZW50LWRpZ2l0c1wiXSB8fCAyKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnZnJhY3Rpb24nOiAvLyA8bnVtYmVyOmZyYWN0aW9uPiAxNi4yOS43XG5cdFx0XHQvLyBUT0RPOiBmaW5kIGEgbWFwcGluZyBmb3IgYWxsIHBhcmFtZXRlcnNcblx0XHRcdHkgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuXHRcdFx0aWYoISt5W1wibWluLWludGVnZXItZGlnaXRzXCJdKSBORiArPSBcIiNcIjtcblx0XHRcdGVsc2UgTkYgKz0gZmlsbChcIjBcIiwgK3lbXCJtaW4taW50ZWdlci1kaWdpdHNcIl0pO1xuXHRcdFx0TkYgKz0gXCIgXCI7XG5cdFx0XHRORiArPSBmaWxsKFwiP1wiLCAreVtcIm1pbi1udW1lcmF0b3ItZGlnaXRzXCJdIHx8IDEpO1xuXHRcdFx0TkYgKz0gXCIvXCI7XG5cdFx0XHRpZigreVtcImRlbm9taW5hdG9yLXZhbHVlXCJdKSBORiArPSB5W1wiZGVub21pbmF0b3ItdmFsdWVcIl07XG5cdFx0XHRlbHNlIE5GICs9IGZpbGwoXCI/XCIsICt5W1wibWluLWRlbm9taW5hdG9yLWRpZ2l0c1wiXSB8fCAxKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnY3VycmVuY3ktc3ltYm9sJzogLy8gPG51bWJlcjpjdXJyZW5jeS1zeW1ib2w+IDE2LjI5Ljlcblx0XHRcdC8vIFRPRE86IGxvY2FsaXphdGlvbiB3aXRoIFskLS4uLl1cblx0XHRcdGlmKFJuWzFdPT09Jy8nKSB7XG5cdFx0XHRcdE5GICs9ICdcIicgKyBzdHIuc2xpY2UodGlkeCwgeGxtbHJlZ2V4Lmxhc3RJbmRleCAtIFJuWzBdLmxlbmd0aCkucmVwbGFjZSgvXCIvZywgJ1wiXCInKSArICdcIic7XG5cdFx0XHR9IGVsc2UgaWYoUm5bMF0uY2hhckF0KFJuWzBdLmxlbmd0aC0yKSAhPT0gJy8nKSB7XG5cdFx0XHRcdHRpZHggPSB4bG1scmVnZXgubGFzdEluZGV4O1xuXHRcdFx0fSBlbHNlIE5GICs9IFwiJFwiO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICd0ZXh0LXByb3BlcnRpZXMnOiAvLyA8c3R5bGU6dGV4dC1wcm9wZXJ0aWVzPiAxNi4yOS4yOVxuXHRcdFx0eSA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRzd2l0Y2goKHlbXCJjb2xvclwiXXx8XCJcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwiI1wiLCBcIlwiKSkge1xuXHRcdFx0XHRjYXNlIFwiZmYwMDAwXCI6IGNhc2UgXCJyZWRcIjogTkYgPSBcIltSZWRdXCIgKyBORjsgYnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ3RleHQtY29udGVudCc6IC8vIDxudW1iZXI6dGV4dC1jb250ZW50PiAxNi4yOS4yOFxuXHRcdFx0TkYgKz0gXCJAXCI7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ21hcCc6IC8vIDxzdHlsZTptYXA+IDE2LjNcblx0XHRcdC8vIFRPRE86IGhhbmRsZSBtb3JlIGNvbXBsZXggbWFwc1xuXHRcdFx0eSA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRpZih1bmVzY2FwZXhtbCh5W1wiY29uZGl0aW9uXCJdKSA9PSBcInZhbHVlKCk+PTBcIikgTkYgPSBudW1iZXJfZm9ybWF0X21hcFt5W1wiYXBwbHktc3R5bGUtbmFtZVwiXV0gKyBcIjtcIiArIE5GO1xuXHRcdFx0ZWxzZSBjb25zb2xlLmVycm9yKFwiT0RTIG51bWJlciBmb3JtYXQgbWF5IGJlIGluY29ycmVjdDogXCIgKyB5W1wiY29uZGl0aW9uXCJdKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnbnVtYmVyJzogLy8gPG51bWJlcjpudW1iZXI+IDE2LjI5LjNcblx0XHRcdC8vIFRPRE86IGhhbmRsZSBhbGwgdGhlIGF0dHJpYnV0ZXNcblx0XHRcdGlmKFJuWzFdPT09Jy8nKSBicmVhaztcblx0XHRcdHkgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuXHRcdFx0dE5GID0gXCJcIjtcblx0XHRcdHRORiArPSBmaWxsKFwiMFwiLCAreVtcIm1pbi1pbnRlZ2VyLWRpZ2l0c1wiXSB8fCAxKTtcblx0XHRcdGlmKHBhcnNleG1sYm9vbCh5W1wiZ3JvdXBpbmdcIl0pKSB0TkYgPSBjb21tYWlmeShmaWxsKFwiI1wiLCBNYXRoLm1heCgwLCA0IC0gdE5GLmxlbmd0aCkpICsgdE5GKTtcblx0XHRcdGlmKCt5W1wibWluLWRlY2ltYWwtcGxhY2VzXCJdIHx8ICt5W1wiZGVjaW1hbC1wbGFjZXNcIl0pIHRORiArPSBcIi5cIjtcblx0XHRcdGlmKCt5W1wibWluLWRlY2ltYWwtcGxhY2VzXCJdKSB0TkYgKz0gZmlsbChcIjBcIiwgK3lbXCJtaW4tZGVjaW1hbC1wbGFjZXNcIl0gfHwgMSk7XG5cdFx0XHRpZigreVtcImRlY2ltYWwtcGxhY2VzXCJdIC0gKCt5W1wibWluLWRlY2ltYWwtcGxhY2VzXCJdfHwwKSkgdE5GICs9IGZpbGwoXCIwXCIsICt5W1wiZGVjaW1hbC1wbGFjZXNcIl0gLSAoK3lbXCJtaW4tZGVjaW1hbC1wbGFjZXNcIl18fDApKTsgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgXCIjXCIgP1xuXHRcdFx0TkYgKz0gdE5GO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICdlbWJlZGRlZC10ZXh0JzogLy8gPG51bWJlcjplbWJlZGRlZC10ZXh0PiAxNi4yOS40XG5cdFx0XHQvLyBUT0RPOiB2ZXJpZnkgaW50ZXJwbGF5IHdpdGggZ3JvdXBpbmcgZXQgYWxcblx0XHRcdGlmKFJuWzFdPT09Jy8nKSB7XG5cdFx0XHRcdGlmKGV0cG9zID09IDApIE5GICs9ICdcIicgKyBzdHIuc2xpY2UodGlkeCwgeGxtbHJlZ2V4Lmxhc3RJbmRleCAtIFJuWzBdLmxlbmd0aCkucmVwbGFjZSgvXCIvZywgJ1wiXCInKSArICdcIic7XG5cdFx0XHRcdGVsc2UgTkYgPSBORi5zbGljZSgwLCBldHBvcykgKyAnXCInICsgc3RyLnNsaWNlKHRpZHgsIHhsbWxyZWdleC5sYXN0SW5kZXggLSBSblswXS5sZW5ndGgpLnJlcGxhY2UoL1wiL2csICdcIlwiJykgKyAnXCInICsgTkYuc2xpY2UoZXRwb3MpO1xuXHRcdFx0fSBlbHNlIGlmKFJuWzBdLmNoYXJBdChSblswXS5sZW5ndGgtMikgIT09ICcvJykge1xuXHRcdFx0XHR0aWR4ID0geGxtbHJlZ2V4Lmxhc3RJbmRleDtcblx0XHRcdFx0ZXRwb3MgPSAtK3BhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSlbXCJwb3NpdGlvblwiXSB8fCAwO1xuXHRcdFx0fSBicmVhaztcblxuXHR9fVxuXHRyZXR1cm4gbnVtYmVyX2Zvcm1hdF9tYXA7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX2NvbnRlbnRfeG1sKGQvKjpzdHJpbmcqLywgX29wdHMsIF9uZm0pLyo6V29ya2Jvb2sqLyB7XG5cdFx0dmFyIG9wdHMgPSBfb3B0cyB8fCB7fTtcblx0XHRpZihERU5TRSAhPSBudWxsICYmIG9wdHMuZGVuc2UgPT0gbnVsbCkgb3B0cy5kZW5zZSA9IERFTlNFO1xuXHRcdHZhciBzdHIgPSB4bG1sX25vcm1hbGl6ZShkKTtcblx0XHR2YXIgc3RhdGUvKjpBcnJheTxhbnk+Ki8gPSBbXSwgdG1wO1xuXHRcdHZhciB0YWcvKjo6ID0ge30qLztcblx0XHR2YXIgbmZpZHgsIE5GID0gXCJcIiwgcGlkeCA9IDA7XG5cdFx0dmFyIHNoZWV0YWcvKjo6ID0ge25hbWU6XCJcIiwgJ+WQjeensCc6XCJcIn0qLztcblx0XHR2YXIgcm93dGFnLyo6OiA9IHsn6KGM5Y+3JzpcIlwifSovO1xuXHRcdHZhciBTaGVldHMgPSB7fSwgU2hlZXROYW1lcy8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHRcdHZhciB3cyA9ICh7fS8qOmFueSovKTsgaWYob3B0cy5kZW5zZSkgd3NbXCIhZGF0YVwiXSA9IFtdO1xuXHRcdHZhciBSbiwgcS8qOjogOmFueSA9ICh7dDpcIlwiLCB2Om51bGwsIHo6bnVsbCwgdzpcIlwiLGM6W10sfTphbnkpKi87XG5cdFx0dmFyIGN0YWcgPSAoe3ZhbHVlOlwiXCJ9Lyo6YW55Ki8pLCBjdGFnMiA9ICh7fS8qOmFueSovKTtcblx0XHR2YXIgdGV4dHAgPSBcIlwiLCB0ZXh0cGlkeCA9IDAsIHRleHRwdGFnLyo6OiA9IHt9Ki8sIG9sZHRleHRwID0gXCJcIiwgb2xkdGV4dHBpZHggPSAwO1xuXHRcdHZhciB0ZXh0UiA9IFtdLCBvbGR0ZXh0UiA9IFtdO1xuXHRcdHZhciBSID0gLTEsIEMgPSAtMSwgcmFuZ2UgPSB7czoge3I6MTAwMDAwMCxjOjEwMDAwMDAwfSwgZToge3I6MCwgYzowfX07XG5cdFx0dmFyIHJvd19vbCA9IDA7XG5cdFx0dmFyIG51bWJlcl9mb3JtYXRfbWFwID0gX25mbSB8fCB7fSwgc3R5bGVzID0ge307XG5cdFx0dmFyIG1lcmdlcy8qOkFycmF5PFJhbmdlPiovID0gW10sIG1yYW5nZSA9IHt9LCBtUiA9IDAsIG1DID0gMDtcblx0XHR2YXIgcm93aW5mby8qOkFycmF5PFJvd0luZm8+Ki8gPSBbXSwgcm93cGVhdCA9IDEsIGNvbHBlYXQgPSAxO1xuXHRcdHZhciBhcnJheWYvKjpBcnJheTxbUmFuZ2UsIHN0cmluZ10+Ki8gPSBbXTtcblx0XHR2YXIgV0IgPSB7TmFtZXM6W10sIFdCUHJvcHM6e319O1xuXHRcdHZhciBhdGFnID0gKHt9Lyo6YW55Ki8pO1xuXHRcdHZhciBfUmVmLyo6W3N0cmluZywgc3RyaW5nXSovID0gW1wiXCIsIFwiXCJdO1xuXHRcdHZhciBjb21tZW50cy8qOkFycmF5PENvbW1lbnQ+Ki8gPSBbXSwgY29tbWVudC8qOkNvbW1lbnQqLyA9ICh7fS8qOmFueSovKTtcblx0XHR2YXIgY3JlYXRvciA9IFwiXCIsIGNyZWF0b3JpZHggPSAwO1xuXHRcdHZhciBpc3N0dWIgPSBmYWxzZSwgaW50YWJsZSA9IGZhbHNlO1xuXHRcdHZhciBpID0gMDtcblx0XHR4bG1scmVnZXgubGFzdEluZGV4ID0gMDtcblx0XHRzdHIgPSByZW1vdmVfZG9jdHlwZShzdHJfcmVtb3ZlX25nKHN0ciwgXCI8IS0tXCIsIFwiLS0+XCIpKTtcblx0XHR3aGlsZSgoUm4gPSB4bG1scmVnZXguZXhlYyhzdHIpKSkgc3dpdGNoKChSblszXT1SblszXS5yZXBsYWNlKC9fW1xcc1xcU10qJC8sXCJcIikpKSB7XG5cblx0XHRcdGNhc2UgJ3RhYmxlJzogY2FzZSAn5bel5L2c6KGoJzogLy8gOS4xLjIgPHRhYmxlOnRhYmxlPlxuXHRcdFx0XHRpZihSblsxXT09PScvJykge1xuXHRcdFx0XHRcdGlmKHJhbmdlLmUuYyA+PSByYW5nZS5zLmMgJiYgcmFuZ2UuZS5yID49IHJhbmdlLnMucikgd3NbJyFyZWYnXSA9IGVuY29kZV9yYW5nZShyYW5nZSk7XG5cdFx0XHRcdFx0ZWxzZSB3c1snIXJlZiddID0gXCJBMTpBMVwiO1xuXHRcdFx0XHRcdGlmKG9wdHMuc2hlZXRSb3dzID4gMCAmJiBvcHRzLnNoZWV0Um93cyA8PSByYW5nZS5lLnIpIHtcblx0XHRcdFx0XHRcdHdzWychZnVsbHJlZiddID0gd3NbJyFyZWYnXTtcblx0XHRcdFx0XHRcdHJhbmdlLmUuciA9IG9wdHMuc2hlZXRSb3dzIC0gMTtcblx0XHRcdFx0XHRcdHdzWychcmVmJ10gPSBlbmNvZGVfcmFuZ2UocmFuZ2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZihtZXJnZXMubGVuZ3RoKSB3c1snIW1lcmdlcyddID0gbWVyZ2VzO1xuXHRcdFx0XHRcdGlmKHJvd2luZm8ubGVuZ3RoKSB3c1tcIiFyb3dzXCJdID0gcm93aW5mbztcblx0XHRcdFx0XHRzaGVldGFnLm5hbWUgPSBzaGVldGFnWyflkI3np7AnXSB8fCBzaGVldGFnLm5hbWU7XG5cdFx0XHRcdFx0aWYodHlwZW9mIEpTT04gIT09ICd1bmRlZmluZWQnKSBKU09OLnN0cmluZ2lmeShzaGVldGFnKTtcblx0XHRcdFx0XHRTaGVldE5hbWVzLnB1c2goc2hlZXRhZy5uYW1lKTtcblx0XHRcdFx0XHRTaGVldHNbc2hlZXRhZy5uYW1lXSA9IHdzO1xuXHRcdFx0XHRcdGludGFibGUgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmKFJuWzBdLmNoYXJBdChSblswXS5sZW5ndGgtMikgIT09ICcvJykge1xuXHRcdFx0XHRcdHNoZWV0YWcgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuXHRcdFx0XHRcdFIgPSBDID0gLTE7XG5cdFx0XHRcdFx0cmFuZ2Uucy5yID0gcmFuZ2Uucy5jID0gMTAwMDAwMDA7IHJhbmdlLmUuciA9IHJhbmdlLmUuYyA9IDA7XG5cdFx0XHRcdFx0d3MgPSAoe30vKjphbnkqLyk7IGlmKG9wdHMuZGVuc2UpIHdzW1wiIWRhdGFcIl0gPSBbXTsgbWVyZ2VzID0gW107XG5cdFx0XHRcdFx0cm93aW5mbyA9IFtdO1xuXHRcdFx0XHRcdGludGFibGUgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICd0YWJsZS1yb3ctZ3JvdXAnOiAvLyA5LjEuOSA8dGFibGU6dGFibGUtcm93LWdyb3VwPlxuXHRcdFx0XHRpZihSblsxXSA9PT0gXCIvXCIpIC0tcm93X29sOyBlbHNlICsrcm93X29sO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3RhYmxlLXJvdyc6IGNhc2UgJ+ihjCc6IC8vIDkuMS4zIDx0YWJsZTp0YWJsZS1yb3c+XG5cdFx0XHRcdGlmKFJuWzFdID09PSAnLycpIHsgUis9cm93cGVhdDsgcm93cGVhdCA9IDE7IGJyZWFrOyB9XG5cdFx0XHRcdHJvd3RhZyA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRcdGlmKHJvd3RhZ1sn6KGM5Y+3J10pIFIgPSByb3d0YWdbJ+ihjOWPtyddIC0gMTsgZWxzZSBpZihSID09IC0xKSBSID0gMDtcblx0XHRcdFx0cm93cGVhdCA9ICtyb3d0YWdbJ251bWJlci1yb3dzLXJlcGVhdGVkJ10gfHwgMTtcblx0XHRcdFx0LyogVE9ETzogcmVtb3ZlIG1hZ2ljICovXG5cdFx0XHRcdGlmKHJvd3BlYXQgPCAxMCkgZm9yKGkgPSAwOyBpIDwgcm93cGVhdDsgKytpKSBpZihyb3dfb2wgPiAwKSByb3dpbmZvW1IgKyBpXSA9IHtsZXZlbDogcm93X29sfTtcblx0XHRcdFx0QyA9IC0xOyBicmVhaztcblx0XHRcdGNhc2UgJ2NvdmVyZWQtdGFibGUtY2VsbCc6IC8vIDkuMS41IDx0YWJsZTpjb3ZlcmVkLXRhYmxlLWNlbGw+XG5cdFx0XHRcdGlmKFJuWzFdICE9PSAnLycpIHtcblx0XHRcdFx0XHQrK0M7XG5cdFx0XHRcdFx0Y3RhZyA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRcdFx0Y29scGVhdCA9IHBhcnNlSW50KGN0YWdbJ251bWJlci1jb2x1bW5zLXJlcGVhdGVkJ118fFwiMVwiLDEwKSB8fCAxO1xuXHRcdFx0XHRcdGlmKG9wdHMuc2hlZXRTdHVicykge1xuXHRcdFx0XHRcdFx0d2hpbGUoY29scGVhdC0tID4gMCkge1xuXHRcdFx0XHRcdFx0XHRpZihvcHRzLmRlbnNlKSB7IGlmKCF3c1tcIiFkYXRhXCJdW1JdKSB3c1tcIiFkYXRhXCJdW1JdID0gW107IHdzW1wiIWRhdGFcIl1bUl1bQ10gPSB7dDoneid9OyB9XG5cdFx0XHRcdFx0XHRcdGVsc2Ugd3NbZW5jb2RlX2NlbGwoe3I6UixjOkN9KV0gPSB7dDoneid9O1xuXHRcdFx0XHRcdFx0XHQrK0M7XG5cdFx0XHRcdFx0XHR9IC0tQztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBDICs9IGNvbHBlYXQgLSAxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRleHRwID0gXCJcIjsgdGV4dFIgPSBbXTtcblx0XHRcdFx0YnJlYWs7IC8qIHN0dWIgKi9cblx0XHRcdGNhc2UgJ3RhYmxlLWNlbGwnOiBjYXNlICfmlbDmja4nOlxuXHRcdFx0XHRpZihSblswXS5jaGFyQXQoUm5bMF0ubGVuZ3RoLTIpID09PSAnLycpIHtcblx0XHRcdFx0XHQrK0M7XG5cdFx0XHRcdFx0Y3RhZyA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRcdFx0Y29scGVhdCA9IHBhcnNlSW50KGN0YWdbJ251bWJlci1jb2x1bW5zLXJlcGVhdGVkJ118fFwiMVwiLCAxMCl8fDE7XG5cdFx0XHRcdFx0cSA9ICh7dDoneicsIHY6bnVsbC8qOjogLCB6Om51bGwsIHc6XCJcIixjOltdKi99Lyo6YW55Ki8pO1xuXHRcdFx0XHRcdGlmKGN0YWcuZm9ybXVsYSAmJiBvcHRzLmNlbGxGb3JtdWxhICE9IGZhbHNlKSBxLmYgPSBvZHNfdG9fY3NmX2Zvcm11bGEodW5lc2NhcGV4bWwoY3RhZy5mb3JtdWxhKSk7XG5cdFx0XHRcdFx0aWYoY3RhZ1tcInN0eWxlLW5hbWVcIl0gJiYgc3R5bGVzW2N0YWdbXCJzdHlsZS1uYW1lXCJdXSkgcS56ID0gc3R5bGVzW2N0YWdbXCJzdHlsZS1uYW1lXCJdXTtcblx0XHRcdFx0XHRpZigoY3RhZ1sn5pWw5o2u57G75Z6LJ10gfHwgY3RhZ1sndmFsdWUtdHlwZSddKSA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0XHRxLnQgPSBcInNcIjsgcS52ID0gdW5lc2NhcGV4bWwoY3RhZ1snc3RyaW5nLXZhbHVlJ10gfHwgXCJcIik7XG5cdFx0XHRcdFx0XHRpZihvcHRzLmRlbnNlKSB7XG5cdFx0XHRcdFx0XHRcdGlmKCF3c1tcIiFkYXRhXCJdW1JdKSB3c1tcIiFkYXRhXCJdW1JdID0gW107XG5cdFx0XHRcdFx0XHRcdHdzW1wiIWRhdGFcIl1bUl1bQ10gPSBxO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0d3NbZW5jb2RlX2NvbChDKSArIGVuY29kZV9yb3coUildID0gcTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Qys9IGNvbHBlYXQtMTtcblx0XHRcdFx0fSBlbHNlIGlmKFJuWzFdIT09Jy8nKSB7XG5cdFx0XHRcdFx0KytDO1xuXHRcdFx0XHRcdHRleHRwID0gb2xkdGV4dHAgPSBcIlwiOyB0ZXh0cGlkeCA9IG9sZHRleHRwaWR4ID0gMDsgdGV4dFIgPSBbXTsgb2xkdGV4dFIgPSBbXTtcblx0XHRcdFx0XHRjb2xwZWF0ID0gMTtcblx0XHRcdFx0XHR2YXIgcnB0UiA9IHJvd3BlYXQgPyBSICsgcm93cGVhdCAtIDEgOiBSO1xuXHRcdFx0XHRcdGlmKEMgPiByYW5nZS5lLmMpIHJhbmdlLmUuYyA9IEM7XG5cdFx0XHRcdFx0aWYoQyA8IHJhbmdlLnMuYykgcmFuZ2Uucy5jID0gQztcblx0XHRcdFx0XHRpZihSIDwgcmFuZ2Uucy5yKSByYW5nZS5zLnIgPSBSO1xuXHRcdFx0XHRcdGlmKHJwdFIgPiByYW5nZS5lLnIpIHJhbmdlLmUuciA9IHJwdFI7XG5cdFx0XHRcdFx0Y3RhZyA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRcdFx0Y3RhZzIgPSBwYXJzZXhtbHRhZ3JhdyhSblswXSwgdHJ1ZSk7XG5cdFx0XHRcdFx0Y29tbWVudHMgPSBbXTsgY29tbWVudCA9ICh7fS8qOmFueSovKTtcblx0XHRcdFx0XHRxID0gKHt0OmN0YWdbJ+aVsOaNruexu+WeiyddIHx8IGN0YWdbJ3ZhbHVlLXR5cGUnXSwgdjpudWxsLyo6OiAsIHo6bnVsbCwgdzpcIlwiLGM6W10qL30vKjphbnkqLyk7XG5cdFx0XHRcdFx0aWYoY3RhZ1tcInN0eWxlLW5hbWVcIl0gJiYgc3R5bGVzW2N0YWdbXCJzdHlsZS1uYW1lXCJdXSkgcS56ID0gc3R5bGVzW2N0YWdbXCJzdHlsZS1uYW1lXCJdXTtcblx0XHRcdFx0XHRpZihvcHRzLmNlbGxGb3JtdWxhKSB7XG5cdFx0XHRcdFx0XHRpZihjdGFnLmZvcm11bGEpIGN0YWcuZm9ybXVsYSA9IHVuZXNjYXBleG1sKGN0YWcuZm9ybXVsYSk7XG5cdFx0XHRcdFx0XHRpZihjdGFnWydudW1iZXItbWF0cml4LWNvbHVtbnMtc3Bhbm5lZCddICYmIGN0YWdbJ251bWJlci1tYXRyaXgtcm93cy1zcGFubmVkJ10pIHtcblx0XHRcdFx0XHRcdFx0bVIgPSBwYXJzZUludChjdGFnWydudW1iZXItbWF0cml4LXJvd3Mtc3Bhbm5lZCddLDEwKSB8fCAwO1xuXHRcdFx0XHRcdFx0XHRtQyA9IHBhcnNlSW50KGN0YWdbJ251bWJlci1tYXRyaXgtY29sdW1ucy1zcGFubmVkJ10sMTApIHx8IDA7XG5cdFx0XHRcdFx0XHRcdG1yYW5nZSA9IHtzOiB7cjpSLGM6Q30sIGU6e3I6UiArIG1SLTEsYzpDICsgbUMtMX19O1xuXHRcdFx0XHRcdFx0XHRxLkYgPSBlbmNvZGVfcmFuZ2UobXJhbmdlKTtcblx0XHRcdFx0XHRcdFx0YXJyYXlmLnB1c2goW21yYW5nZSwgcS5GXSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZihjdGFnLmZvcm11bGEpIHEuZiA9IG9kc190b19jc2ZfZm9ybXVsYShjdGFnLmZvcm11bGEpO1xuXHRcdFx0XHRcdFx0ZWxzZSBmb3IoaSA9IDA7IGkgPCBhcnJheWYubGVuZ3RoOyArK2kpXG5cdFx0XHRcdFx0XHRcdGlmKFIgPj0gYXJyYXlmW2ldWzBdLnMuciAmJiBSIDw9IGFycmF5ZltpXVswXS5lLnIpXG5cdFx0XHRcdFx0XHRcdFx0aWYoQyA+PSBhcnJheWZbaV1bMF0ucy5jICYmIEMgPD0gYXJyYXlmW2ldWzBdLmUuYylcblx0XHRcdFx0XHRcdFx0XHRcdHEuRiA9IGFycmF5ZltpXVsxXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYoY3RhZ1snbnVtYmVyLWNvbHVtbnMtc3Bhbm5lZCddIHx8IGN0YWdbJ251bWJlci1yb3dzLXNwYW5uZWQnXSkge1xuXHRcdFx0XHRcdFx0bVIgPSBwYXJzZUludChjdGFnWydudW1iZXItcm93cy1zcGFubmVkJ118fFwiMVwiLDEwKSB8fCAxO1xuXHRcdFx0XHRcdFx0bUMgPSBwYXJzZUludChjdGFnWydudW1iZXItY29sdW1ucy1zcGFubmVkJ118fFwiMVwiLDEwKSB8fCAxO1xuXHRcdFx0XHRcdFx0aWYobVIgKiBtQyA+IDEpIHtcblx0XHRcdFx0XHRcdFx0bXJhbmdlID0ge3M6IHtyOlIsYzpDfSwgZTp7cjpSICsgbVItMSxjOkMgKyBtQy0xfX07XG5cdFx0XHRcdFx0XHRcdG1lcmdlcy5wdXNoKG1yYW5nZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0LyogMTkuNjc1LjIgdGFibGU6bnVtYmVyLWNvbHVtbnMtcmVwZWF0ZWQgKi9cblx0XHRcdFx0XHRpZihjdGFnWydudW1iZXItY29sdW1ucy1yZXBlYXRlZCddKSBjb2xwZWF0ID0gcGFyc2VJbnQoY3RhZ1snbnVtYmVyLWNvbHVtbnMtcmVwZWF0ZWQnXSwgMTApO1xuXG5cdFx0XHRcdFx0LyogMTkuMzg1IG9mZmljZTp2YWx1ZS10eXBlIFRPRE86IHZlcmlmeSBPRFMgYW5kIFVPUyAqL1xuXHRcdFx0XHRcdHN3aXRjaChxLnQpIHtcblx0XHRcdFx0XHRcdGNhc2UgJ2Jvb2xlYW4nOiBxLnQgPSAnYic7IHEudiA9IHBhcnNleG1sYm9vbChjdGFnWydib29sZWFuLXZhbHVlJ10pIHx8ICgrY3RhZ1snYm9vbGVhbi12YWx1ZSddID49IDEpOyBicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgJ2Zsb2F0JzogcS50ID0gJ24nOyBxLnYgPSBwYXJzZUZsb2F0KGN0YWcudmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRpZihvcHRzLmNlbGxEYXRlcyAmJiBxLnogJiYgZm10X2lzX2RhdGUocS56KSkgeyBxLnYgPSBudW1kYXRlKHEudiArIChXQi5XQlByb3BzLmRhdGUxOTA0ID8gMTQ2MiA6IDApKTsgcS50ID0gdHlwZW9mIHEudiA9PSBcIm51bWJlclwiID8gJ24nIDogJ2QnOyB9XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAncGVyY2VudGFnZSc6IHEudCA9ICduJzsgcS52ID0gcGFyc2VGbG9hdChjdGFnLnZhbHVlKTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlICdjdXJyZW5jeSc6IHEudCA9ICduJzsgcS52ID0gcGFyc2VGbG9hdChjdGFnLnZhbHVlKTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlICdkYXRlJzogcS50ID0gJ2QnOyBxLnYgPSBwYXJzZURhdGUoY3RhZ1snZGF0ZS12YWx1ZSddLCBXQi5XQlByb3BzLmRhdGUxOTA0KTtcblx0XHRcdFx0XHRcdFx0aWYoIW9wdHMuY2VsbERhdGVzKSB7IHEudCA9ICduJzsgcS52ID0gZGF0ZW51bShxLnYsIFdCLldCUHJvcHMuZGF0ZTE5MDQpOyB9XG5cdFx0XHRcdFx0XHRcdGlmKCFxLnopIHEueiA9ICdtL2QveXknOyBicmVhaztcblx0XHRcdFx0XHRcdC8qIE5PVEU6IGZvciBgdGltZWAsIEV4Y2VsIE9EUyBleHBvcnQgaW5jb3JyZWN0bHkgdXNlcyBkdXJhdGlvbnMgcmVsYXRpdmUgdG8gMTkwMCBlcG9jaCBldmVuIGlmIDE5MDQgaXMgc3BlY2lmaWVkICovXG5cdFx0XHRcdFx0XHRjYXNlICd0aW1lJzogcS50ID0gJ24nOyBxLnYgPSBwYXJzZV9pc29kdXIoY3RhZ1sndGltZS12YWx1ZSddKS84NjQwMDtcblx0XHRcdFx0XHRcdFx0aWYob3B0cy5jZWxsRGF0ZXMpIHsgcS52ID0gbnVtZGF0ZShxLnYpOyBxLnQgPSB0eXBlb2YgcS52ID09IFwibnVtYmVyXCIgPyAnbicgOiAnZCc7IH1cblx0XHRcdFx0XHRcdFx0aWYoIXEueikgcS56ID0gJ0hIOk1NOlNTJzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlICdudW1iZXInOiBxLnQgPSAnbic7IHEudiA9IHBhcnNlRmxvYXQoY3RhZ1sn5pWw5o2u5pWw5YC8J10pO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdGlmKHEudCA9PT0gJ3N0cmluZycgfHwgcS50ID09PSAndGV4dCcgfHwgIXEudCkge1xuXHRcdFx0XHRcdFx0XHRcdHEudCA9ICdzJztcblx0XHRcdFx0XHRcdFx0XHRpZihjdGFnWydzdHJpbmctdmFsdWUnXSAhPSBudWxsKSB7IHRleHRwID0gdW5lc2NhcGV4bWwoY3RhZ1snc3RyaW5nLXZhbHVlJ10pOyB0ZXh0UiA9IFtdOyB9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHZhbHVlIHR5cGUgJyArIHEudCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlzc3R1YiA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmKGN0YWcyWydjYWxjZXh0OnZhbHVlLXR5cGUnXSA9PSBcImVycm9yXCIgJiYgUkJFcnJbdGV4dHBdICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdHEudCA9ICdlJzsgcS53ID0gdGV4dHA7IHEudiA9IFJCRXJyW3RleHRwXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYocS50ID09PSAncycpIHtcblx0XHRcdFx0XHRcdHEudiA9IHRleHRwIHx8ICcnO1xuXHRcdFx0XHRcdFx0aWYodGV4dFIubGVuZ3RoKSBxLlIgPSB0ZXh0Ujtcblx0XHRcdFx0XHRcdGlzc3R1YiA9IHRleHRwaWR4ID09IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKGF0YWcuVGFyZ2V0KSBxLmwgPSBhdGFnO1xuXHRcdFx0XHRcdGlmKGNvbW1lbnRzLmxlbmd0aCA+IDApIHsgcS5jID0gY29tbWVudHM7IGNvbW1lbnRzID0gW107IH1cblx0XHRcdFx0XHRpZih0ZXh0cCAmJiBvcHRzLmNlbGxUZXh0ICE9PSBmYWxzZSkgcS53ID0gdGV4dHA7XG5cdFx0XHRcdFx0aWYoaXNzdHViKSB7IHEudCA9IFwielwiOyBkZWxldGUgcS52OyB9XG5cdFx0XHRcdFx0aWYoIWlzc3R1YiB8fCBvcHRzLnNoZWV0U3R1YnMpIHtcblx0XHRcdFx0XHRcdGlmKCEob3B0cy5zaGVldFJvd3MgJiYgb3B0cy5zaGVldFJvd3MgPD0gUikpIHtcblx0XHRcdFx0XHRcdFx0Zm9yKHZhciBycHQgPSAwOyBycHQgPCByb3dwZWF0OyArK3JwdCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbHBlYXQgPSBwYXJzZUludChjdGFnWydudW1iZXItY29sdW1ucy1yZXBlYXRlZCddfHxcIjFcIiwgMTApO1xuXHRcdFx0XHRcdFx0XHRcdGlmKG9wdHMuZGVuc2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmKCF3c1tcIiFkYXRhXCJdW1IgKyBycHRdKSB3c1tcIiFkYXRhXCJdW1IgKyBycHRdID0gW107XG5cdFx0XHRcdFx0XHRcdFx0XHR3c1tcIiFkYXRhXCJdW1IgKyBycHRdW0NdID0gcnB0ID09IDAgPyBxIDogZHVwKHEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUoLS1jb2xwZWF0ID4gMCkgd3NbXCIhZGF0YVwiXVtSICsgcnB0XVtDICsgY29scGVhdF0gPSBkdXAocSk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdHdzW2VuY29kZV9jZWxsKHtyOlIgKyBycHQsYzpDfSldID0gcTtcblx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlKC0tY29scGVhdCA+IDApIHdzW2VuY29kZV9jZWxsKHtyOlIgKyBycHQsYzpDICsgY29scGVhdH0pXSA9IGR1cChxKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYocmFuZ2UuZS5jIDw9IEMpIHJhbmdlLmUuYyA9IEM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29scGVhdCA9IHBhcnNlSW50KGN0YWdbJ251bWJlci1jb2x1bW5zLXJlcGVhdGVkJ118fFwiMVwiLCAxMCk7XG5cdFx0XHRcdFx0QyArPSBjb2xwZWF0LTE7IGNvbHBlYXQgPSAwO1xuXHRcdFx0XHRcdHEgPSB7Lyo6OiB0OlwiXCIsIHY6bnVsbCwgejpudWxsLCB3OlwiXCIsYzpbXSovfTtcblx0XHRcdFx0XHR0ZXh0cCA9IFwiXCI7IHRleHRSID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0YXRhZyA9ICh7fS8qOmFueSovKTtcblx0XHRcdFx0YnJlYWs7IC8vIDkuMS40IDx0YWJsZTp0YWJsZS1jZWxsPlxuXG5cdFx0XHQvKiBwdXJlIHN0YXRlICovXG5cdFx0XHRjYXNlICdkb2N1bWVudCc6IC8vIFRPRE86IDxvZmZpY2U6ZG9jdW1lbnQ+IGlzIHRoZSByb290IGZvciBGT0RTXG5cdFx0XHRjYXNlICdkb2N1bWVudC1jb250ZW50JzogY2FzZSAn55S15a2Q6KGo5qC85paH5qGjJzogLy8gMy4xLjMuMiA8b2ZmaWNlOmRvY3VtZW50LWNvbnRlbnQ+XG5cdFx0XHRjYXNlICdzcHJlYWRzaGVldCc6IGNhc2UgJ+S4u+S9kyc6IC8vIDMuNyA8b2ZmaWNlOnNwcmVhZHNoZWV0PlxuXHRcdFx0Y2FzZSAnc2NyaXB0cyc6IC8vIDMuMTIgPG9mZmljZTpzY3JpcHRzPlxuXHRcdFx0Y2FzZSAnc3R5bGVzJzogLy8gVE9ETyA8b2ZmaWNlOnN0eWxlcz5cblx0XHRcdGNhc2UgJ2ZvbnQtZmFjZS1kZWNscyc6IC8vIDMuMTQgPG9mZmljZTpmb250LWZhY2UtZGVjbHM+XG5cdFx0XHRjYXNlICdtYXN0ZXItc3R5bGVzJzogLy8gMy4xNS40IDxvZmZpY2U6bWFzdGVyLXN0eWxlcz4gLS0gcmVsZXZhbnQgZm9yIEZPRFNcblx0XHRcdFx0aWYoUm5bMV09PT0nLycpe2lmKCh0bXA9c3RhdGUucG9wKCkpWzBdIT09Um5bM10pIHRocm93IFwiQmFkIHN0YXRlOiBcIit0bXA7fVxuXHRcdFx0XHRlbHNlIGlmKFJuWzBdLmNoYXJBdChSblswXS5sZW5ndGgtMikgIT09ICcvJykgc3RhdGUucHVzaChbUm5bM10sIHRydWVdKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ2Fubm90YXRpb24nOiAvLyAxNC4xIDxvZmZpY2U6YW5ub3RhdGlvbj5cblx0XHRcdFx0aWYoUm5bMV09PT0nLycpe1xuXHRcdFx0XHRcdGlmKCh0bXA9c3RhdGUucG9wKCkpWzBdIT09Um5bM10pIHRocm93IFwiQmFkIHN0YXRlOiBcIit0bXA7XG5cdFx0XHRcdFx0Y29tbWVudC50ID0gdGV4dHA7XG5cdFx0XHRcdFx0aWYodGV4dFIubGVuZ3RoKSAvKjo6KCovY29tbWVudC8qOjogOmFueSkqLy5SID0gdGV4dFI7XG5cdFx0XHRcdFx0Y29tbWVudC5hID0gY3JlYXRvcjtcblx0XHRcdFx0XHRjb21tZW50cy5wdXNoKGNvbW1lbnQpO1xuXHRcdFx0XHRcdHRleHRwID0gb2xkdGV4dHA7IHRleHRwaWR4ID0gb2xkdGV4dHBpZHg7IHRleHRSID0gb2xkdGV4dFI7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZihSblswXS5jaGFyQXQoUm5bMF0ubGVuZ3RoLTIpICE9PSAnLycpIHtcblx0XHRcdFx0XHRzdGF0ZS5wdXNoKFtSblszXSwgZmFsc2VdKTtcblx0XHRcdFx0XHR2YXIgYW5ub3RhZyA9IHBhcnNleG1sdGFnKFJuWzBdLCB0cnVlKTtcblx0XHRcdFx0XHQvKiBvZmZpY2U6ZGlzcGxheSBUT0RPOiBjaGVjayBpZiB0aGVyZSBpcyBhIGdsb2JhbCBvdmVycmlkZSAqL1xuXHRcdFx0XHRcdGlmKCEoYW5ub3RhZ1tcImRpc3BsYXlcIl0gJiYgcGFyc2V4bWxib29sKGFubm90YWdbXCJkaXNwbGF5XCJdKSkpIGNvbW1lbnRzLmhpZGRlbiA9IHRydWU7XG5cdFx0XHRcdFx0b2xkdGV4dHAgPSB0ZXh0cDsgb2xkdGV4dHBpZHggPSB0ZXh0cGlkeDsgb2xkdGV4dFIgPSB0ZXh0Ujtcblx0XHRcdFx0XHR0ZXh0cCA9IFwiXCI7IHRleHRwaWR4ID0gMDsgdGV4dFIgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjcmVhdG9yID0gXCJcIjsgY3JlYXRvcmlkeCA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdjcmVhdG9yJzogLy8gNC4zLjIuNyA8ZGM6Y3JlYXRvcj5cblx0XHRcdFx0aWYoUm5bMV09PT0nLycpIHsgY3JlYXRvciA9IHN0ci5zbGljZShjcmVhdG9yaWR4LFJuLmluZGV4KTsgfVxuXHRcdFx0XHRlbHNlIGNyZWF0b3JpZHggPSBSbi5pbmRleCArIFJuWzBdLmxlbmd0aDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8qIGlnbm9yZSBzdGF0ZSAqL1xuXHRcdFx0Y2FzZSAnbWV0YSc6IGNhc2UgJ+WFg+aVsOaNric6IC8vIFRPRE86IDxvZmZpY2U6bWV0YT4gPHVvZjrlhYPmlbDmja4+IEZPRFMvVU9GXG5cdFx0XHRjYXNlICdzZXR0aW5ncyc6IC8vIFRPRE86IDxvZmZpY2U6c2V0dGluZ3M+XG5cdFx0XHRjYXNlICdjb25maWctaXRlbS1zZXQnOiAvLyBUT0RPOiA8b2ZmaWNlOmNvbmZpZy1pdGVtLXNldD5cblx0XHRcdGNhc2UgJ2NvbmZpZy1pdGVtLW1hcC1pbmRleGVkJzogLy8gVE9ETzogPG9mZmljZTpjb25maWctaXRlbS1tYXAtaW5kZXhlZD5cblx0XHRcdGNhc2UgJ2NvbmZpZy1pdGVtLW1hcC1lbnRyeSc6IC8vIFRPRE86IDxvZmZpY2U6Y29uZmlnLWl0ZW0tbWFwLWVudHJ5PlxuXHRcdFx0Y2FzZSAnY29uZmlnLWl0ZW0tbWFwLW5hbWVkJzogLy8gVE9ETzogPG9mZmljZTpjb25maWctaXRlbS1tYXAtZW50cnk+XG5cdFx0XHRjYXNlICdzaGFwZXMnOiAvLyA5LjIuOCA8dGFibGU6c2hhcGVzPlxuXHRcdFx0Y2FzZSAnZnJhbWUnOiAvLyAxMC40LjIgPGRyYXc6ZnJhbWU+XG5cdFx0XHRjYXNlICd0ZXh0LWJveCc6IC8vIDEwLjQuMyA8ZHJhdzp0ZXh0LWJveD5cblx0XHRcdGNhc2UgJ2ltYWdlJzogLy8gMTAuNC40IDxkcmF3OmltYWdlPlxuXHRcdFx0Y2FzZSAnZGF0YS1waWxvdC10YWJsZXMnOiAvLyA5LjYuMiA8dGFibGU6ZGF0YS1waWxvdC10YWJsZXM+XG5cdFx0XHRjYXNlICdsaXN0LXN0eWxlJzogLy8gMTYuMzAgPHRleHQ6bGlzdC1zdHlsZT5cblx0XHRcdGNhc2UgJ2Zvcm0nOiAvLyAxMy4xMyA8Zm9ybTpmb3JtPlxuXHRcdFx0Y2FzZSAnZGRlLWxpbmtzJzogLy8gOS44IDx0YWJsZTpkZGUtbGlua3M+XG5cdFx0XHRjYXNlICdldmVudC1saXN0ZW5lcnMnOiAvLyBUT0RPXG5cdFx0XHRjYXNlICdjaGFydCc6IC8vIFRPRE9cblx0XHRcdFx0aWYoUm5bMV09PT0nLycpe2lmKCh0bXA9c3RhdGUucG9wKCkpWzBdIT09Um5bM10pIHRocm93IFwiQmFkIHN0YXRlOiBcIit0bXA7fVxuXHRcdFx0XHRlbHNlIGlmKFJuWzBdLmNoYXJBdChSblswXS5sZW5ndGgtMikgIT09ICcvJykgc3RhdGUucHVzaChbUm5bM10sIGZhbHNlXSk7XG5cdFx0XHRcdHRleHRwID0gXCJcIjsgdGV4dHBpZHggPSAwOyB0ZXh0UiA9IFtdO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnc2NpZW50aWZpYy1udW1iZXInOiAvLyA8bnVtYmVyOnNjaWVudGlmaWMtbnVtYmVyPlxuXHRcdFx0Y2FzZSAnY3VycmVuY3ktc3ltYm9sJzogLy8gPG51bWJlcjpjdXJyZW5jeS1zeW1ib2w+XG5cdFx0XHRjYXNlICdmaWxsLWNoYXJhY3Rlcic6IC8vIDE2LjI5LjUgPG51bWJlcjpmaWxsLWNoYXJhY3Rlcj5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ3RleHQtc3R5bGUnOiAvLyAxNi4yNy4yNSA8bnVtYmVyOnRleHQtc3R5bGU+XG5cdFx0XHRjYXNlICdib29sZWFuLXN0eWxlJzogLy8gMTYuMjcuMjMgPG51bWJlcjpib29sZWFuLXN0eWxlPlxuXHRcdFx0Y2FzZSAnbnVtYmVyLXN0eWxlJzogLy8gMTYuMjcuMiA8bnVtYmVyOm51bWJlci1zdHlsZT5cblx0XHRcdGNhc2UgJ2N1cnJlbmN5LXN0eWxlJzogLy8gMTYuMjkuOCA8bnVtYmVyOmN1cnJlbmN5LXN0eWxlPlxuXHRcdFx0Y2FzZSAncGVyY2VudGFnZS1zdHlsZSc6IC8vIDE2LjI3LjkgPG51bWJlcjpwZXJjZW50YWdlLXN0eWxlPlxuXHRcdFx0Y2FzZSAnZGF0ZS1zdHlsZSc6IC8vIDE2LjI3LjEwIDxudW1iZXI6ZGF0ZS1zdHlsZT5cblx0XHRcdGNhc2UgJ3RpbWUtc3R5bGUnOiAvLyAxNi4yNy4xOCA8bnVtYmVyOnRpbWUtc3R5bGU+XG5cdFx0XHRcdGlmKFJuWzFdPT09Jy8nKXtcblx0XHRcdFx0XHR2YXIgeGxtbGlkeCA9IHhsbWxyZWdleC5sYXN0SW5kZXg7XG5cdFx0XHRcdFx0cGFyc2Vfb2RzX3N0eWxlcyhzdHIuc2xpY2UobmZpZHgsIHhsbWxyZWdleC5sYXN0SW5kZXgpLCBfb3B0cywgbnVtYmVyX2Zvcm1hdF9tYXApO1xuXHRcdFx0XHRcdHhsbWxyZWdleC5sYXN0SW5kZXggPSB4bG1saWR4O1xuXHRcdFx0XHR9IGVsc2UgaWYoUm5bMF0uY2hhckF0KFJuWzBdLmxlbmd0aC0yKSAhPT0gJy8nKSB7XG5cdFx0XHRcdFx0bmZpZHggPSB4bG1scmVnZXgubGFzdEluZGV4IC0gUm5bMF0ubGVuZ3RoO1xuXHRcdFx0XHR9IGJyZWFrO1xuXG5cdFx0XHRjYXNlICdzY3JpcHQnOiBicmVhazsgLy8gMy4xMyA8b2ZmaWNlOnNjcmlwdD5cblx0XHRcdGNhc2UgJ2xpYnJhcmllcyc6IGJyZWFrOyAvLyBUT0RPOiA8b29vOmxpYnJhcmllcz5cblx0XHRcdGNhc2UgJ2F1dG9tYXRpYy1zdHlsZXMnOiBicmVhazsgLy8gMy4xNS4zIDxvZmZpY2U6YXV0b21hdGljLXN0eWxlcz5cblxuXHRcdFx0Y2FzZSAnZGVmYXVsdC1zdHlsZSc6IC8vIFRPRE86IDxzdHlsZTpkZWZhdWx0LXN0eWxlPlxuXHRcdFx0Y2FzZSAncGFnZS1sYXlvdXQnOiBicmVhazsgLy8gVE9ETzogPHN0eWxlOnBhZ2UtbGF5b3V0PlxuXHRcdFx0Y2FzZSAnc3R5bGUnOiB7IC8vIDE2LjIgPHN0eWxlOnN0eWxlPlxuXHRcdFx0XHR2YXIgc3R5bGV0YWcgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuXHRcdFx0XHRpZihzdHlsZXRhZ1tcImZhbWlseVwiXSA9PSBcInRhYmxlLWNlbGxcIiAmJiBudW1iZXJfZm9ybWF0X21hcFtzdHlsZXRhZ1tcImRhdGEtc3R5bGUtbmFtZVwiXV0pIHN0eWxlc1tzdHlsZXRhZ1tcIm5hbWVcIl1dID0gbnVtYmVyX2Zvcm1hdF9tYXBbc3R5bGV0YWdbXCJkYXRhLXN0eWxlLW5hbWVcIl1dO1xuXHRcdFx0fSBicmVhaztcblx0XHRcdGNhc2UgJ21hcCc6IGJyZWFrOyAvLyAxNi4zIDxzdHlsZTptYXA+XG5cdFx0XHRjYXNlICdmb250LWZhY2UnOiBicmVhazsgLy8gMTYuMjEgPHN0eWxlOmZvbnQtZmFjZT5cblxuXHRcdFx0Y2FzZSAncGFyYWdyYXBoLXByb3BlcnRpZXMnOiBicmVhazsgLy8gMTcuNiA8c3R5bGU6cGFyYWdyYXBoLXByb3BlcnRpZXM+XG5cdFx0XHRjYXNlICd0YWJsZS1wcm9wZXJ0aWVzJzogYnJlYWs7IC8vIDE3LjE1IDxzdHlsZTp0YWJsZS1wcm9wZXJ0aWVzPlxuXHRcdFx0Y2FzZSAndGFibGUtY29sdW1uLXByb3BlcnRpZXMnOiBicmVhazsgLy8gMTcuMTYgPHN0eWxlOnRhYmxlLWNvbHVtbi1wcm9wZXJ0aWVzPlxuXHRcdFx0Y2FzZSAndGFibGUtcm93LXByb3BlcnRpZXMnOiBicmVhazsgLy8gMTcuMTcgPHN0eWxlOnRhYmxlLXJvdy1wcm9wZXJ0aWVzPlxuXHRcdFx0Y2FzZSAndGFibGUtY2VsbC1wcm9wZXJ0aWVzJzogYnJlYWs7IC8vIDE3LjE4IDxzdHlsZTp0YWJsZS1jZWxsLXByb3BlcnRpZXM+XG5cblx0XHRcdGNhc2UgJ251bWJlcic6IC8vIDE2LjI3LjMgPG51bWJlcjpudW1iZXI+XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdmcmFjdGlvbic6IGJyZWFrOyAvLyBUT0RPIDE2LjI3LjYgPG51bWJlcjpmcmFjdGlvbj5cblxuXHRcdFx0Y2FzZSAnZGF5JzogLy8gMTYuMjcuMTEgPG51bWJlcjpkYXk+XG5cdFx0XHRjYXNlICdtb250aCc6IC8vIDE2LjI3LjEyIDxudW1iZXI6bW9udGg+XG5cdFx0XHRjYXNlICd5ZWFyJzogLy8gMTYuMjcuMTMgPG51bWJlcjp5ZWFyPlxuXHRcdFx0Y2FzZSAnZXJhJzogLy8gMTYuMjcuMTQgPG51bWJlcjplcmE+XG5cdFx0XHRjYXNlICdkYXktb2Ytd2Vlayc6IC8vIDE2LjI3LjE1IDxudW1iZXI6ZGF5LW9mLXdlZWs+XG5cdFx0XHRjYXNlICd3ZWVrLW9mLXllYXInOiAvLyAxNi4yNy4xNiA8bnVtYmVyOndlZWstb2YteWVhcj5cblx0XHRcdGNhc2UgJ3F1YXJ0ZXInOiAvLyAxNi4yNy4xNyA8bnVtYmVyOnF1YXJ0ZXI+XG5cdFx0XHRjYXNlICdob3Vycyc6IC8vIDE2LjI3LjE5IDxudW1iZXI6aG91cnM+XG5cdFx0XHRjYXNlICdtaW51dGVzJzogLy8gMTYuMjcuMjAgPG51bWJlcjptaW51dGVzPlxuXHRcdFx0Y2FzZSAnc2Vjb25kcyc6IC8vIDE2LjI3LjIxIDxudW1iZXI6c2Vjb25kcz5cblx0XHRcdGNhc2UgJ2FtLXBtJzogLy8gMTYuMjcuMjIgPG51bWJlcjphbS1wbT5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ2Jvb2xlYW4nOiBicmVhazsgLy8gMTYuMjcuMjQgPG51bWJlcjpib29sZWFuPlxuXHRcdFx0Y2FzZSAndGV4dCc6IC8vIDE2LjI3LjI2IDxudW1iZXI6dGV4dD5cblx0XHRcdFx0aWYoUm5bMF0uc2xpY2UoLTIpID09PSBcIi8+XCIpIGJyZWFrO1xuXHRcdFx0XHRlbHNlIGlmKFJuWzFdPT09XCIvXCIpIHN3aXRjaChzdGF0ZVtzdGF0ZS5sZW5ndGgtMV1bMF0pIHtcblx0XHRcdFx0XHRjYXNlICdudW1iZXItc3R5bGUnOlxuXHRcdFx0XHRcdGNhc2UgJ2RhdGUtc3R5bGUnOlxuXHRcdFx0XHRcdGNhc2UgJ3RpbWUtc3R5bGUnOlxuXHRcdFx0XHRcdFx0TkYgKz0gc3RyLnNsaWNlKHBpZHgsIFJuLmluZGV4KTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgcGlkeCA9IFJuLmluZGV4ICsgUm5bMF0ubGVuZ3RoO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnbmFtZWQtcmFuZ2UnOiAvLyA5LjQuMTIgPHRhYmxlOm5hbWVkLXJhbmdlPlxuXHRcdFx0XHR0YWcgPSBwYXJzZXhtbHRhZyhSblswXSwgZmFsc2UpO1xuXHRcdFx0XHRfUmVmID0gb2RzX3RvX2NzZl8zRCh0YWdbJ2NlbGwtcmFuZ2UtYWRkcmVzcyddKTtcblx0XHRcdFx0dmFyIG5yYW5nZSA9ICh7TmFtZTp0YWcubmFtZSwgUmVmOl9SZWZbMF0gKyAnIScgKyBfUmVmWzFdfS8qOmFueSovKTtcblx0XHRcdFx0aWYoaW50YWJsZSkgbnJhbmdlLlNoZWV0ID0gU2hlZXROYW1lcy5sZW5ndGg7XG5cdFx0XHRcdFdCLk5hbWVzLnB1c2gobnJhbmdlKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ3RleHQtY29udGVudCc6IGJyZWFrOyAvLyAxNi4yNy4yNyA8bnVtYmVyOnRleHQtY29udGVudD5cblx0XHRcdGNhc2UgJ3RleHQtcHJvcGVydGllcyc6IGJyZWFrOyAvLyAxNi4yNy4yNyA8c3R5bGU6dGV4dC1wcm9wZXJ0aWVzPlxuXHRcdFx0Y2FzZSAnZW1iZWRkZWQtdGV4dCc6IGJyZWFrOyAvLyAxNi4yNy40IDxudW1iZXI6ZW1iZWRkZWQtdGV4dD5cblxuXHRcdFx0Y2FzZSAnYm9keSc6IGNhc2UgJ+eUteWtkOihqOagvCc6IGJyZWFrOyAvLyAzLjMgMTYuOS42IDE5LjcyNi4zXG5cblx0XHRcdGNhc2UgJ2Zvcm1zJzogYnJlYWs7IC8vIDEyLjI1LjIgMTMuMlxuXHRcdFx0Y2FzZSAndGFibGUtY29sdW1uJzogYnJlYWs7IC8vIDkuMS42IDx0YWJsZTp0YWJsZS1jb2x1bW4+XG5cdFx0XHRjYXNlICd0YWJsZS1oZWFkZXItcm93cyc6IGJyZWFrOyAvLyA5LjEuNyA8dGFibGU6dGFibGUtaGVhZGVyLXJvd3M+XG5cdFx0XHRjYXNlICd0YWJsZS1yb3dzJzogYnJlYWs7IC8vIDkuMS4xMiA8dGFibGU6dGFibGUtcm93cz5cblx0XHRcdC8qIFRPRE86IG91dGxpbmUgbGV2ZWxzICovXG5cdFx0XHRjYXNlICd0YWJsZS1jb2x1bW4tZ3JvdXAnOiBicmVhazsgLy8gOS4xLjEwIDx0YWJsZTp0YWJsZS1jb2x1bW4tZ3JvdXA+XG5cdFx0XHRjYXNlICd0YWJsZS1oZWFkZXItY29sdW1ucyc6IGJyZWFrOyAvLyA5LjEuMTEgPHRhYmxlOnRhYmxlLWhlYWRlci1jb2x1bW5zPlxuXHRcdFx0Y2FzZSAndGFibGUtY29sdW1ucyc6IGJyZWFrOyAvLyA5LjEuMTIgPHRhYmxlOnRhYmxlLWNvbHVtbnM+XG5cblx0XHRcdGNhc2UgJ251bGwtZGF0ZSc6IC8vIDkuNC4yIDx0YWJsZTpudWxsLWRhdGU+XG5cdFx0XHRcdHRhZyA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRcdHN3aXRjaCh0YWdbXCJkYXRlLXZhbHVlXCJdKSB7XG5cdFx0XHRcdFx0Y2FzZSBcIjE5MDQtMDEtMDFcIjogV0IuV0JQcm9wcy5kYXRlMTkwNCA9IHRydWU7IGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdncmFwaGljLXByb3BlcnRpZXMnOiBicmVhazsgLy8gMTcuMjEgPHN0eWxlOmdyYXBoaWMtcHJvcGVydGllcz5cblx0XHRcdGNhc2UgJ2NhbGN1bGF0aW9uLXNldHRpbmdzJzogYnJlYWs7IC8vIDkuNC4xIDx0YWJsZTpjYWxjdWxhdGlvbi1zZXR0aW5ncz5cblx0XHRcdGNhc2UgJ25hbWVkLWV4cHJlc3Npb25zJzogYnJlYWs7IC8vIDkuNC4xMSA8dGFibGU6bmFtZWQtZXhwcmVzc2lvbnM+XG5cdFx0XHRjYXNlICdsYWJlbC1yYW5nZSc6IGJyZWFrOyAvLyA5LjQuOSA8dGFibGU6bGFiZWwtcmFuZ2U+XG5cdFx0XHRjYXNlICdsYWJlbC1yYW5nZXMnOiBicmVhazsgLy8gOS40LjEwIDx0YWJsZTpsYWJlbC1yYW5nZXM+XG5cdFx0XHRjYXNlICduYW1lZC1leHByZXNzaW9uJzogYnJlYWs7IC8vIDkuNC4xMyA8dGFibGU6bmFtZWQtZXhwcmVzc2lvbj5cblx0XHRcdGNhc2UgJ3NvcnQnOiBicmVhazsgLy8gOS40LjE5IDx0YWJsZTpzb3J0PlxuXHRcdFx0Y2FzZSAnc29ydC1ieSc6IGJyZWFrOyAvLyA5LjQuMjAgPHRhYmxlOnNvcnQtYnk+XG5cdFx0XHRjYXNlICdzb3J0LWdyb3Vwcyc6IGJyZWFrOyAvLyA5LjQuMjIgPHRhYmxlOnNvcnQtZ3JvdXBzPlxuXG5cdFx0XHRjYXNlICd0YWInOiBicmVhazsgLy8gNi4xLjQgPHRleHQ6dGFiPlxuXHRcdFx0Y2FzZSAnbGluZS1icmVhayc6IGJyZWFrOyAvLyA2LjEuNSA8dGV4dDpsaW5lLWJyZWFrPlxuXHRcdFx0Y2FzZSAnc3Bhbic6IGJyZWFrOyAvLyA2LjEuNyA8dGV4dDpzcGFuPlxuXHRcdFx0Y2FzZSAncCc6IGNhc2UgJ+aWh+acrOS4sic6IC8vIDUuMS4zIDx0ZXh0OnA+XG5cdFx0XHRcdGlmKFsnbWFzdGVyLXN0eWxlcyddLmluZGV4T2Yoc3RhdGVbc3RhdGUubGVuZ3RoLTFdWzBdKSA+IC0xKSBicmVhaztcblx0XHRcdFx0aWYoUm5bMV09PT0nLycgJiYgKCFjdGFnIHx8ICFjdGFnWydzdHJpbmctdmFsdWUnXSkpIHtcblx0XHRcdFx0XHR2YXIgcHRwID0gcGFyc2VfdGV4dF9wKHN0ci5zbGljZSh0ZXh0cGlkeCxSbi5pbmRleCksIHRleHRwdGFnKTtcblx0XHRcdFx0XHR0ZXh0cCA9ICh0ZXh0cC5sZW5ndGggPiAwID8gdGV4dHAgKyBcIlxcblwiIDogXCJcIikgKyBwdHBbMF07XG5cdFx0XHRcdH0gZWxzZSBpZihSblswXS5zbGljZSgtMikgPT0gXCIvPlwiKSB7XG5cdFx0XHRcdFx0LyogVE9ETzogaXMgc2VsZi1jbG9zaW5nIOaWh+acrOS4siB2YWxpZD8gKi9cblx0XHRcdFx0XHR0ZXh0cCArPSBcIlxcblwiO1xuXHRcdFx0XHR9IGVsc2UgeyB0ZXh0cHRhZyA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7IHRleHRwaWR4ID0gUm4uaW5kZXggKyBSblswXS5sZW5ndGg7IH1cblx0XHRcdFx0YnJlYWs7IC8vIDx0ZXh0OnA+XG5cdFx0XHRjYXNlICdzJzogYnJlYWs7IC8vIDx0ZXh0OnM+XG5cblx0XHRcdGNhc2UgJ2RhdGFiYXNlLXJhbmdlJzogLy8gOS40LjE1IDx0YWJsZTpkYXRhYmFzZS1yYW5nZT5cblx0XHRcdFx0aWYoUm5bMV09PT0nLycpIGJyZWFrO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdF9SZWYgPSBvZHNfdG9fY3NmXzNEKHBhcnNleG1sdGFnKFJuWzBdKVsndGFyZ2V0LXJhbmdlLWFkZHJlc3MnXSk7XG5cdFx0XHRcdFx0U2hlZXRzW19SZWZbMF1dWychYXV0b2ZpbHRlciddID0geyByZWY6X1JlZlsxXSB9O1xuXHRcdFx0XHR9IGNhdGNoKGUpIHsvKiBlbXB0eSAqL31cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ2RhdGUnOiBicmVhazsgLy8gPCo6ZGF0ZT5cblxuXHRcdFx0Y2FzZSAnb2JqZWN0JzogYnJlYWs7IC8vIDEwLjQuNi4yIDxkcmF3Om9iamVjdD5cblx0XHRcdGNhc2UgJ3RpdGxlJzogY2FzZSAn5qCH6aKYJzogYnJlYWs7IC8vIDwqOnRpdGxlPiBPUiA8dW9mOuagh+mimD5cblx0XHRcdGNhc2UgJ2Rlc2MnOiBicmVhazsgLy8gPCo6ZGVzYz5cblx0XHRcdGNhc2UgJ2JpbmFyeS1kYXRhJzogYnJlYWs7IC8vIDEwLjQuNSBUT0RPOiBiNjQgYmxvYlxuXG5cdFx0XHQvKiA5LjIgQWR2YW5jZWQgVGFibGVzICovXG5cdFx0XHRjYXNlICd0YWJsZS1zb3VyY2UnOiBicmVhazsgLy8gOS4yLjZcblx0XHRcdGNhc2UgJ3NjZW5hcmlvJzogYnJlYWs7IC8vIDkuMi42XG5cblx0XHRcdGNhc2UgJ2l0ZXJhdGlvbic6IGJyZWFrOyAvLyA5LjQuMyA8dGFibGU6aXRlcmF0aW9uPlxuXHRcdFx0Y2FzZSAnY29udGVudC12YWxpZGF0aW9ucyc6IGJyZWFrOyAvLyA5LjQuNCA8dGFibGU6XG5cdFx0XHRjYXNlICdjb250ZW50LXZhbGlkYXRpb24nOiBicmVhazsgLy8gOS40LjUgPHRhYmxlOlxuXHRcdFx0Y2FzZSAnaGVscC1tZXNzYWdlJzogYnJlYWs7IC8vIDkuNC42IDx0YWJsZTpcblx0XHRcdGNhc2UgJ2Vycm9yLW1lc3NhZ2UnOiBicmVhazsgLy8gOS40LjcgPHRhYmxlOlxuXHRcdFx0Y2FzZSAnZGF0YWJhc2UtcmFuZ2VzJzogYnJlYWs7IC8vIDkuNC4xNCA8dGFibGU6ZGF0YWJhc2UtcmFuZ2VzPlxuXG5cdFx0XHQvKiA5LjUgRmlsdGVycyAqL1xuXHRcdFx0Y2FzZSAnZmlsdGVyJzogYnJlYWs7IC8vIDkuNS4yIDx0YWJsZTpmaWx0ZXI+XG5cdFx0XHRjYXNlICdmaWx0ZXItYW5kJzogYnJlYWs7IC8vIDkuNS4zIDx0YWJsZTpmaWx0ZXItYW5kPlxuXHRcdFx0Y2FzZSAnZmlsdGVyLW9yJzogYnJlYWs7IC8vIDkuNS40IDx0YWJsZTpmaWx0ZXItb3I+XG5cdFx0XHRjYXNlICdmaWx0ZXItY29uZGl0aW9uJzogYnJlYWs7IC8vIDkuNS41IDx0YWJsZTpmaWx0ZXItY29uZGl0aW9uPlxuXHRcdFx0Y2FzZSAnZmlsdGVyLXNldC1pdGVtJzogYnJlYWs7IC8vIDkuNS42IDx0YWJsZTpmaWx0ZXItY29uZGl0aW9uPlxuXG5cdFx0XHRjYXNlICdsaXN0LWxldmVsLXN0eWxlLWJ1bGxldCc6IGJyZWFrOyAvLyAxNi4zMSA8dGV4dDpcblx0XHRcdGNhc2UgJ2xpc3QtbGV2ZWwtc3R5bGUtbnVtYmVyJzogYnJlYWs7IC8vIDE2LjMyIDx0ZXh0OlxuXHRcdFx0Y2FzZSAnbGlzdC1sZXZlbC1wcm9wZXJ0aWVzJzogYnJlYWs7IC8vIDE3LjE5IDxzdHlsZTpcblxuXHRcdFx0LyogNy4zIERvY3VtZW50IEZpZWxkcyAqL1xuXHRcdFx0Y2FzZSAnc2VuZGVyLWZpcnN0bmFtZSc6IC8vIDcuMy42LjJcblx0XHRcdGNhc2UgJ3NlbmRlci1sYXN0bmFtZSc6IC8vIDcuMy42LjNcblx0XHRcdGNhc2UgJ3NlbmRlci1pbml0aWFscyc6IC8vIDcuMy42LjRcblx0XHRcdGNhc2UgJ3NlbmRlci10aXRsZSc6IC8vIDcuMy42LjVcblx0XHRcdGNhc2UgJ3NlbmRlci1wb3NpdGlvbic6IC8vIDcuMy42LjZcblx0XHRcdGNhc2UgJ3NlbmRlci1lbWFpbCc6IC8vIDcuMy42Ljdcblx0XHRcdGNhc2UgJ3NlbmRlci1waG9uZS1wcml2YXRlJzogLy8gNy4zLjYuOFxuXHRcdFx0Y2FzZSAnc2VuZGVyLWZheCc6IC8vIDcuMy42Ljlcblx0XHRcdGNhc2UgJ3NlbmRlci1jb21wYW55JzogLy8gNy4zLjYuMTBcblx0XHRcdGNhc2UgJ3NlbmRlci1waG9uZS13b3JrJzogLy8gNy4zLjYuMTFcblx0XHRcdGNhc2UgJ3NlbmRlci1zdHJlZXQnOiAvLyA3LjMuNi4xMlxuXHRcdFx0Y2FzZSAnc2VuZGVyLWNpdHknOiAvLyA3LjMuNi4xM1xuXHRcdFx0Y2FzZSAnc2VuZGVyLXBvc3RhbC1jb2RlJzogLy8gNy4zLjYuMTRcblx0XHRcdGNhc2UgJ3NlbmRlci1jb3VudHJ5JzogLy8gNy4zLjYuMTVcblx0XHRcdGNhc2UgJ3NlbmRlci1zdGF0ZS1vci1wcm92aW5jZSc6IC8vIDcuMy42LjE2XG5cdFx0XHRjYXNlICdhdXRob3ItbmFtZSc6IC8vIDcuMy43LjFcblx0XHRcdGNhc2UgJ2F1dGhvci1pbml0aWFscyc6IC8vIDcuMy43LjJcblx0XHRcdGNhc2UgJ2NoYXB0ZXInOiAvLyA3LjMuOFxuXHRcdFx0Y2FzZSAnZmlsZS1uYW1lJzogLy8gNy4zLjlcblx0XHRcdGNhc2UgJ3RlbXBsYXRlLW5hbWUnOiAvLyA3LjMuOVxuXHRcdFx0Y2FzZSAnc2hlZXQtbmFtZSc6IC8vIDcuMy45XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdldmVudC1saXN0ZW5lcic6XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0LyogVE9ETzogRk9EUyBQcm9wZXJ0aWVzICovXG5cdFx0XHRjYXNlICdpbml0aWFsLWNyZWF0b3InOlxuXHRcdFx0Y2FzZSAnY3JlYXRpb24tZGF0ZSc6XG5cdFx0XHRjYXNlICdwcmludC1kYXRlJzpcblx0XHRcdGNhc2UgJ2dlbmVyYXRvcic6XG5cdFx0XHRjYXNlICdkb2N1bWVudC1zdGF0aXN0aWMnOlxuXHRcdFx0Y2FzZSAndXNlci1kZWZpbmVkJzpcblx0XHRcdGNhc2UgJ2VkaXRpbmctZHVyYXRpb24nOlxuXHRcdFx0Y2FzZSAnZWRpdGluZy1jeWNsZXMnOlxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0LyogVE9ETzogRk9EUyBDb25maWcgKi9cblx0XHRcdGNhc2UgJ2NvbmZpZy1pdGVtJzpcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8qIFRPRE86IHN0eWxlIHRva2VucyAqL1xuXHRcdFx0Y2FzZSAncGFnZS1udW1iZXInOiBicmVhazsgLy8gVE9ETyA8dGV4dDpwYWdlLW51bWJlcj5cblx0XHRcdGNhc2UgJ3BhZ2UtY291bnQnOiBicmVhazsgLy8gVE9ETyA8dGV4dDpwYWdlLWNvdW50PlxuXHRcdFx0Y2FzZSAndGltZSc6IGJyZWFrOyAvLyBUT0RPIDx0ZXh0OnRpbWU+XG5cblx0XHRcdC8qIDkuMyBBZHZhbmNlZCBUYWJsZSBDZWxscyAqL1xuXHRcdFx0Y2FzZSAnY2VsbC1yYW5nZS1zb3VyY2UnOiBicmVhazsgLy8gOS4zLjEgPHRhYmxlOlxuXHRcdFx0Y2FzZSAnZGV0ZWN0aXZlJzogYnJlYWs7IC8vIDkuMy4yIDx0YWJsZTpcblx0XHRcdGNhc2UgJ29wZXJhdGlvbic6IGJyZWFrOyAvLyA5LjMuMyA8dGFibGU6XG5cdFx0XHRjYXNlICdoaWdobGlnaHRlZC1yYW5nZSc6IGJyZWFrOyAvLyA5LjMuNCA8dGFibGU6XG5cblx0XHRcdC8qIDkuNiBEYXRhIFBpbG90IFRhYmxlcyA8dGFibGU6ICovXG5cdFx0XHRjYXNlICdkYXRhLXBpbG90LXRhYmxlJzogLy8gOS42LjNcblx0XHRcdGNhc2UgJ3NvdXJjZS1jZWxsLXJhbmdlJzogLy8gOS42LjVcblx0XHRcdGNhc2UgJ3NvdXJjZS1zZXJ2aWNlJzogLy8gOS42LjZcblx0XHRcdGNhc2UgJ2RhdGEtcGlsb3QtZmllbGQnOiAvLyA5LjYuN1xuXHRcdFx0Y2FzZSAnZGF0YS1waWxvdC1sZXZlbCc6IC8vIDkuNi44XG5cdFx0XHRjYXNlICdkYXRhLXBpbG90LXN1YnRvdGFscyc6IC8vIDkuNi45XG5cdFx0XHRjYXNlICdkYXRhLXBpbG90LXN1YnRvdGFsJzogLy8gOS42LjEwXG5cdFx0XHRjYXNlICdkYXRhLXBpbG90LW1lbWJlcnMnOiAvLyA5LjYuMTFcblx0XHRcdGNhc2UgJ2RhdGEtcGlsb3QtbWVtYmVyJzogLy8gOS42LjEyXG5cdFx0XHRjYXNlICdkYXRhLXBpbG90LWRpc3BsYXktaW5mbyc6IC8vIDkuNi4xM1xuXHRcdFx0Y2FzZSAnZGF0YS1waWxvdC1zb3J0LWluZm8nOiAvLyA5LjYuMTRcblx0XHRcdGNhc2UgJ2RhdGEtcGlsb3QtbGF5b3V0LWluZm8nOiAvLyA5LjYuMTVcblx0XHRcdGNhc2UgJ2RhdGEtcGlsb3QtZmllbGQtcmVmZXJlbmNlJzogLy8gOS42LjE2XG5cdFx0XHRjYXNlICdkYXRhLXBpbG90LWdyb3Vwcyc6IC8vIDkuNi4xN1xuXHRcdFx0Y2FzZSAnZGF0YS1waWxvdC1ncm91cCc6IC8vIDkuNi4xOFxuXHRcdFx0Y2FzZSAnZGF0YS1waWxvdC1ncm91cC1tZW1iZXInOiAvLyA5LjYuMTlcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8qIDEwLjMgRHJhd2luZyBTaGFwZXMgKi9cblx0XHRcdGNhc2UgJ3JlY3QnOiAvLyAxMC4zLjJcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8qIDE0LjYgRERFIENvbm5lY3Rpb25zICovXG5cdFx0XHRjYXNlICdkZGUtY29ubmVjdGlvbi1kZWNscyc6IC8vIDE0LjYuMiA8dGV4dDpcblx0XHRcdGNhc2UgJ2RkZS1jb25uZWN0aW9uLWRlY2wnOiAvLyAxNC42LjMgPHRleHQ6XG5cdFx0XHRjYXNlICdkZGUtbGluayc6IC8vIDE0LjYuNCA8dGFibGU6XG5cdFx0XHRjYXNlICdkZGUtc291cmNlJzogLy8gMTQuNi41IDxvZmZpY2U6XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdwcm9wZXJ0aWVzJzogYnJlYWs7IC8vIDEzLjcgPGZvcm06cHJvcGVydGllcz5cblx0XHRcdGNhc2UgJ3Byb3BlcnR5JzogYnJlYWs7IC8vIDEzLjggPGZvcm06cHJvcGVydHk+XG5cblx0XHRcdGNhc2UgJ2EnOiAvLyA2LjEuOCBoeXBlcmxpbmtcblx0XHRcdFx0aWYoUm5bMV0hPT0gJy8nKSB7XG5cdFx0XHRcdFx0YXRhZyA9IHBhcnNleG1sdGFnKFJuWzBdLCBmYWxzZSk7XG5cdFx0XHRcdFx0aWYoIWF0YWcuaHJlZikgYnJlYWs7XG5cdFx0XHRcdFx0YXRhZy5UYXJnZXQgPSB1bmVzY2FwZXhtbChhdGFnLmhyZWYpOyBkZWxldGUgYXRhZy5ocmVmO1xuXHRcdFx0XHRcdGlmKGF0YWcuVGFyZ2V0LmNoYXJBdCgwKSA9PSBcIiNcIiAmJiBhdGFnLlRhcmdldC5pbmRleE9mKFwiLlwiKSA+IC0xKSB7XG5cdFx0XHRcdFx0XHRfUmVmID0gb2RzX3RvX2NzZl8zRChhdGFnLlRhcmdldC5zbGljZSgxKSk7XG5cdFx0XHRcdFx0XHRhdGFnLlRhcmdldCA9IFwiI1wiICsgX1JlZlswXSArIFwiIVwiICsgX1JlZlsxXTtcblx0XHRcdFx0XHR9IGVsc2UgaWYoYXRhZy5UYXJnZXQubWF0Y2goL15cXC5cXC5bXFxcXFxcL10vKSkgYXRhZy5UYXJnZXQgPSBhdGFnLlRhcmdldC5zbGljZSgzKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Lyogbm9uLXN0YW5kYXJkICovXG5cdFx0XHRjYXNlICd0YWJsZS1wcm90ZWN0aW9uJzogYnJlYWs7XG5cdFx0XHRjYXNlICdkYXRhLXBpbG90LWdyYW5kLXRvdGFsJzogYnJlYWs7IC8vIDx0YWJsZTpcblx0XHRcdGNhc2UgJ29mZmljZS1kb2N1bWVudC1jb21tb24tYXR0cnMnOiBicmVhazsgLy8gYmFyZVxuXHRcdFx0ZGVmYXVsdDogc3dpdGNoKFJuWzJdKSB7XG5cdFx0XHRcdGNhc2UgJ2RjOic6ICAgICAgIC8vIFRPRE86IHByb3BlcnRpZXNcblx0XHRcdFx0Y2FzZSAnY2FsY2V4dDonOiAgLy8gaWdub3JlIHVuZG9jdW1lbnRlZCBleHRlbnNpb25zXG5cdFx0XHRcdGNhc2UgJ2xvZXh0Oic6ICAgIC8vIGlnbm9yZSB1bmRvY3VtZW50ZWQgZXh0ZW5zaW9uc1xuXHRcdFx0XHRjYXNlICdvb286JzogICAgICAvLyBpZ25vcmUgdW5kb2N1bWVudGVkIGV4dGVuc2lvbnNcblx0XHRcdFx0Y2FzZSAnY2hhcnRvb286JzogLy8gaWdub3JlIHVuZG9jdW1lbnRlZCBleHRlbnNpb25zXG5cdFx0XHRcdGNhc2UgJ2RyYXc6JzogICAgIC8vIFRPRE86IGRyYXdpbmdcblx0XHRcdFx0Y2FzZSAnc3R5bGU6JzogICAgLy8gVE9ETzogc3R5bGVzXG5cdFx0XHRcdGNhc2UgJ2NoYXJ0Oic6ICAgIC8vIFRPRE86IGNoYXJ0c1xuXHRcdFx0XHRjYXNlICdmb3JtOic6ICAgICAvLyBUT0RPOiBmb3Jtc1xuXHRcdFx0XHRjYXNlICd1b2Y6JzogICAgICAvLyBUT0RPOiB1b2Zcblx0XHRcdFx0Y2FzZSAn6KGoOic6ICAgICAgIC8vIFRPRE86IHVvZlxuXHRcdFx0XHRjYXNlICflrZc6JzogICAgICAgLy8gVE9ETzogdW9mXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6IGlmKG9wdHMuV1RGKSB0aHJvdyBuZXcgRXJyb3IoUm4pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR2YXIgb3V0Lyo6V29ya2Jvb2sqLyA9ICh7XG5cdFx0XHRTaGVldHM6IFNoZWV0cyxcblx0XHRcdFNoZWV0TmFtZXM6IFNoZWV0TmFtZXMsXG5cdFx0XHRXb3JrYm9vazogV0Jcblx0XHR9Lyo6YW55Ki8pO1xuXHRcdGlmKG9wdHMuYm9va1NoZWV0cykgZGVsZXRlIC8qOjooKi9vdXQvKjo6IDphbnkpKi8uU2hlZXRzO1xuXHRcdHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX29kcyh6aXAvKjpaSVBGaWxlKi8sIG9wdHMvKjo/UGFyc2VPcHRzKi8pLyo6V29ya2Jvb2sqLyB7XG5cdG9wdHMgPSBvcHRzIHx8ICh7fS8qOmFueSovKTtcblx0aWYoc2FmZWdldHppcGZpbGUoemlwLCAnTUVUQS1JTkYvbWFuaWZlc3QueG1sJykpIHBhcnNlX21hbmlmZXN0KGdldHppcGRhdGEoemlwLCAnTUVUQS1JTkYvbWFuaWZlc3QueG1sJyksIG9wdHMpO1xuXHR2YXIgc3R5bGVzID0gZ2V0emlwc3RyKHppcCwgJ3N0eWxlcy54bWwnKTtcblx0dmFyIFN0eWxlcyA9IHN0eWxlcyAmJiBwYXJzZV9vZHNfc3R5bGVzKHV0ZjhyZWFkKHN0eWxlcyksIG9wdHMpO1xuXHR2YXIgY29udGVudCA9IGdldHppcHN0cih6aXAsICdjb250ZW50LnhtbCcpO1xuXHRpZighY29udGVudCkgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBjb250ZW50LnhtbCBpbiBPRFMgLyBVT0YgZmlsZVwiKTtcblx0dmFyIHdiID0gcGFyc2VfY29udGVudF94bWwodXRmOHJlYWQoY29udGVudCksIG9wdHMsIFN0eWxlcyk7XG5cdGlmKHNhZmVnZXR6aXBmaWxlKHppcCwgJ21ldGEueG1sJykpIHdiLlByb3BzID0gcGFyc2VfY29yZV9wcm9wcyhnZXR6aXBkYXRhKHppcCwgJ21ldGEueG1sJykpO1xuXHR3Yi5ib29rVHlwZSA9IFwib2RzXCI7XG5cdHJldHVybiB3Yjtcbn1cbmZ1bmN0aW9uIHBhcnNlX2ZvZHMoZGF0YS8qOnN0cmluZyovLCBvcHRzLyo6P1BhcnNlT3B0cyovKS8qOldvcmtib29rKi8ge1xuXHR2YXIgd2IgPSBwYXJzZV9jb250ZW50X3htbChkYXRhLCBvcHRzKTtcblx0d2IuYm9va1R5cGUgPSBcImZvZHNcIjtcblx0cmV0dXJuIHdiO1xufVxuLyogT3BlbkRvY3VtZW50ICovXG52YXIgd3JpdGVfc3R5bGVzX29kcy8qOnsod2I6YW55LCBvcHRzOmFueSk6c3RyaW5nfSovID0gLyogQF9fUFVSRV9fICovKGZ1bmN0aW9uKCkge1xuXHR2YXIgbWFzdGVyX3N0eWxlcyA9IFtcblx0XHQnPG9mZmljZTptYXN0ZXItc3R5bGVzPicsXG5cdFx0XHQnPHN0eWxlOm1hc3Rlci1wYWdlIHN0eWxlOm5hbWU9XCJtcDFcIiBzdHlsZTpwYWdlLWxheW91dC1uYW1lPVwibXAxXCI+Jyxcblx0XHRcdFx0JzxzdHlsZTpoZWFkZXIvPicsXG5cdFx0XHRcdCc8c3R5bGU6aGVhZGVyLWxlZnQgc3R5bGU6ZGlzcGxheT1cImZhbHNlXCIvPicsXG5cdFx0XHRcdCc8c3R5bGU6Zm9vdGVyLz4nLFxuXHRcdFx0XHQnPHN0eWxlOmZvb3Rlci1sZWZ0IHN0eWxlOmRpc3BsYXk9XCJmYWxzZVwiLz4nLFxuXHRcdFx0Jzwvc3R5bGU6bWFzdGVyLXBhZ2U+Jyxcblx0XHQnPC9vZmZpY2U6bWFzdGVyLXN0eWxlcz4nXG5cdF0uam9pbihcIlwiKTtcblxuXHR2YXIgcGF5bG9hZCA9ICc8b2ZmaWNlOmRvY3VtZW50LXN0eWxlcyAnICsgd3h0X2hlbHBlcih7XG5cdFx0J3htbG5zOm9mZmljZSc6ICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOm9mZmljZToxLjBcIixcblx0XHQneG1sbnM6dGFibGUnOiAgICBcInVybjpvYXNpczpuYW1lczp0YzpvcGVuZG9jdW1lbnQ6eG1sbnM6dGFibGU6MS4wXCIsXG5cdFx0J3htbG5zOnN0eWxlJzogICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOnN0eWxlOjEuMFwiLFxuXHRcdCd4bWxuczp0ZXh0JzogICAgIFwidXJuOm9hc2lzOm5hbWVzOnRjOm9wZW5kb2N1bWVudDp4bWxuczp0ZXh0OjEuMFwiLFxuXHRcdCd4bWxuczpkcmF3JzogICAgIFwidXJuOm9hc2lzOm5hbWVzOnRjOm9wZW5kb2N1bWVudDp4bWxuczpkcmF3aW5nOjEuMFwiLFxuXHRcdCd4bWxuczpmbyc6ICAgICAgIFwidXJuOm9hc2lzOm5hbWVzOnRjOm9wZW5kb2N1bWVudDp4bWxuczp4c2wtZm8tY29tcGF0aWJsZToxLjBcIixcblx0XHQneG1sbnM6eGxpbmsnOiAgICBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcblx0XHQneG1sbnM6ZGMnOiAgICAgICBcImh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvXCIsXG5cdFx0J3htbG5zOm51bWJlcic6ICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOmRhdGFzdHlsZToxLjBcIixcblx0XHQneG1sbnM6c3ZnJzogICAgICBcInVybjpvYXNpczpuYW1lczp0YzpvcGVuZG9jdW1lbnQ6eG1sbnM6c3ZnLWNvbXBhdGlibGU6MS4wXCIsXG5cdFx0J3htbG5zOm9mJzogICAgICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOm9mOjEuMlwiLFxuXHRcdCdvZmZpY2U6dmVyc2lvbic6IFwiMS4yXCJcblx0fSkgKyAnPicgKyBtYXN0ZXJfc3R5bGVzICsgJzwvb2ZmaWNlOmRvY3VtZW50LXN0eWxlcz4nO1xuXG5cdHJldHVybiBmdW5jdGlvbiB3c28oLyo6OndiLCBvcHRzKi8pIHtcblx0XHRyZXR1cm4gWE1MX0hFQURFUiArIHBheWxvYWQ7XG5cdH07XG59KSgpO1xuXG4vLyBUT0RPOiBmaW5kIG91dCBpZiBhbnlvbmUgYWN0dWFsbHkgcmVhZCB0aGUgc3BlYy4gIExPIGhhcyBzb21lIHdpbGQgZXJyb3JzXG5mdW5jdGlvbiB3cml0ZV9udW1iZXJfZm9ybWF0X29kcyhuZi8qOnN0cmluZyovLCBuZmlkeC8qOnN0cmluZyovKS8qOnN0cmluZyovIHtcblx0dmFyIHR5cGUgPSBcIm51bWJlclwiLCBwYXlsb2FkID0gXCJcIiwgbm9wdHMgPSB7IFwic3R5bGU6bmFtZVwiOiBuZmlkeCB9LCBjID0gXCJcIiwgaSA9IDA7XG5cdG5mID0gbmYucmVwbGFjZSgvXCJbJF1cIi9nLCBcIiRcIik7XG5cdC8qIFRPRE86IHJlcGxhY2Ugd2l0aCBhbiBhY3R1YWwgcGFyc2VyIGJhc2VkIG9uIGEgcmVhbCBncmFtbWFyICovXG5cdGo6IHtcblx0XHQvLyBUT0RPOiBzdXBwb3J0IHN0eWxlIG1hcHNcblx0XHRpZihuZi5pbmRleE9mKFwiO1wiKSA+IC0xKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiVW5zdXBwb3J0ZWQgT0RTIFN0eWxlIE1hcCBleHBvcnRlZC4gIFVzaW5nIGZpcnN0IGJyYW5jaCBvZiBcIiArIG5mKTtcblx0XHRcdG5mID0gbmYuc2xpY2UoMCwgbmYuaW5kZXhPZihcIjtcIikpO1xuXHRcdH1cblxuXHRcdGlmKG5mID09IFwiQFwiKSB7IHR5cGUgPSBcInRleHRcIjsgcGF5bG9hZCA9IFwiPG51bWJlcjp0ZXh0LWNvbnRlbnQvPlwiOyBicmVhayBqOyB9XG5cblx0XHQvKiBjdXJyZW5jeSBmbGFnICovXG5cdFx0aWYobmYuaW5kZXhPZigvXFwkLykgPiAtMSkgeyB0eXBlID0gXCJjdXJyZW5jeVwiOyB9XG5cblx0XHQvKiBvcGVuaW5nIHN0cmluZyBsaXRlcmFsICovXG5cdFx0aWYobmZbaV0gPT0gJ1wiJykge1xuXHRcdFx0YyA9IFwiXCI7XG5cdFx0XHR3aGlsZShuZlsrK2ldICE9ICdcIicgfHwgbmZbKytpXSA9PSAnXCInKSBjICs9IG5mW2ldOyAtLWk7XG5cdFx0XHRpZihuZltpKzFdID09IFwiKlwiKSB7XG5cdFx0XHRcdGkrKztcblx0XHRcdFx0cGF5bG9hZCArPSAnPG51bWJlcjpmaWxsLWNoYXJhY3Rlcj4nICsgZXNjYXBleG1sKGMucmVwbGFjZSgvXCJcIi9nLCAnXCInKSkgKyAnPC9udW1iZXI6ZmlsbC1jaGFyYWN0ZXI+Jztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBheWxvYWQgKz0gJzxudW1iZXI6dGV4dD4nICsgZXNjYXBleG1sKGMucmVwbGFjZSgvXCJcIi9nLCAnXCInKSkgKyAnPC9udW1iZXI6dGV4dD4nO1xuXHRcdFx0fVxuXHRcdFx0bmYgPSBuZi5zbGljZShpKzEpOyBpID0gMDtcblx0XHR9XG5cblx0XHQvKiBmcmFjdGlvbnMgKi9cblx0XHR2YXIgdCA9IG5mLm1hdGNoKC8jIChcXD8rKVxcLyhcXD8rKS8pO1xuXHRcdGlmKHQpIHsgcGF5bG9hZCArPSB3cml0ZXh0YWcoXCJudW1iZXI6ZnJhY3Rpb25cIiwgbnVsbCwge1wibnVtYmVyOm1pbi1pbnRlZ2VyLWRpZ2l0c1wiOjAsIFwibnVtYmVyOm1pbi1udW1lcmF0b3ItZGlnaXRzXCI6IHRbMV0ubGVuZ3RoLCBcIm51bWJlcjptYXgtZGVub21pbmF0b3ItdmFsdWVcIjogTWF0aC5tYXgoKyh0WzFdLnJlcGxhY2UoLy4vZywgXCI5XCIpKSwgKyh0WzJdLnJlcGxhY2UoLy4vZywgXCI5XCIpKSkgfSk7IGJyZWFrIGo7IH1cblx0XHRpZigodD1uZi5tYXRjaCgvIyAoXFw/KylcXC8oXFxkKykvKSkpIHsgcGF5bG9hZCArPSB3cml0ZXh0YWcoXCJudW1iZXI6ZnJhY3Rpb25cIiwgbnVsbCwge1wibnVtYmVyOm1pbi1pbnRlZ2VyLWRpZ2l0c1wiOjAsIFwibnVtYmVyOm1pbi1udW1lcmF0b3ItZGlnaXRzXCI6IHRbMV0ubGVuZ3RoLCBcIm51bWJlcjpkZW5vbWluYXRvci12YWx1ZVwiOiArdFsyXX0pOyBicmVhayBqOyB9XG5cblx0XHQvKiBwZXJjZW50YWdlcyAqL1xuXHRcdGlmKCh0PW5mLm1hdGNoKC9cXGIoXFxkKykofFxcLlxcZCspJS8pKSkgeyB0eXBlID0gXCJwZXJjZW50YWdlXCI7IHBheWxvYWQgKz0gd3JpdGV4dGFnKFwibnVtYmVyOm51bWJlclwiLCBudWxsLCB7XCJudW1iZXI6ZGVjaW1hbC1wbGFjZXNcIjogdFsyXSAmJiB0Lmxlbmd0aCAtIDEgfHwgMCwgXCJudW1iZXI6bWluLWRlY2ltYWwtcGxhY2VzXCI6IHRbMl0gJiYgdC5sZW5ndGggLSAxIHx8IDAsIFwibnVtYmVyOm1pbi1pbnRlZ2VyLWRpZ2l0c1wiOiB0WzFdLmxlbmd0aCB9KSArIFwiPG51bWJlcjp0ZXh0PiU8L251bWJlcjp0ZXh0PlwiOyBicmVhayBqOyB9XG5cblx0XHQvKiBkYXRldGltZSAqL1xuXHRcdHZhciBoYXNfdGltZSA9IGZhbHNlO1xuXHRcdGlmKFtcInlcIixcIm1cIixcImRcIl0uaW5kZXhPZihuZlswXSkgPiAtMSkge1xuXHRcdFx0dHlwZSA9IFwiZGF0ZVwiO1xuXHRcdFx0azogZm9yKDsgaSA8IG5mLmxlbmd0aDsgKytpKSBzd2l0Y2goKGMgPSBuZltpXS50b0xvd2VyQ2FzZSgpKSkge1xuXHRcdFx0XHRjYXNlIFwiaFwiOiBjYXNlIFwic1wiOiBoYXNfdGltZSA9IHRydWU7IC0taTsgYnJlYWsgaztcblx0XHRcdFx0Y2FzZSBcIm1cIjpcblx0XHRcdFx0XHRsOiBmb3IodmFyIGggPSBpKzE7IGggPCBuZi5sZW5ndGg7ICsraCkgc3dpdGNoKG5mW2hdKSB7XG5cdFx0XHRcdFx0XHRjYXNlIFwieVwiOiBjYXNlIFwiZFwiOiBicmVhayBsO1xuXHRcdFx0XHRcdFx0Y2FzZSBcImhcIjogY2FzZSBcInNcIjogaGFzX3RpbWUgPSB0cnVlOyAtLWk7IGJyZWFrIGs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdFx0Y2FzZSBcInlcIjogY2FzZSBcImRcIjpcblx0XHRcdFx0XHR3aGlsZSgobmZbKytpXXx8XCJcIikudG9Mb3dlckNhc2UoKSA9PSBjWzBdKSBjICs9IGNbMF07IC0taTtcblx0XHRcdFx0XHRzd2l0Y2goYykge1xuXHRcdFx0XHRcdFx0Y2FzZSBcInlcIjogY2FzZSBcInl5XCI6IHBheWxvYWQgKz0gXCI8bnVtYmVyOnllYXIvPlwiOyBicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJ5eXlcIjogY2FzZSBcInl5eXlcIjogcGF5bG9hZCArPSAnPG51bWJlcjp5ZWFyIG51bWJlcjpzdHlsZT1cImxvbmdcIi8+JzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwibW1tbW1cIjogY29uc29sZS5lcnJvcihcIk9EUyBoYXMgbm8gZXF1aXZhbGVudCBvZiBmb3JtYXQgfG1tbW1tfFwiKTtcblx0XHRcdFx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0XHRcdFx0Y2FzZSBcIm1cIjogY2FzZSBcIm1tXCI6IGNhc2UgXCJtbW1cIjogY2FzZSBcIm1tbW1cIjpcblx0XHRcdFx0XHRcdFx0cGF5bG9hZCArPSAnPG51bWJlcjptb250aCBudW1iZXI6c3R5bGU9XCInICsgKGMubGVuZ3RoICUgMiA/IFwic2hvcnRcIiA6IFwibG9uZ1wiKSArICdcIiBudW1iZXI6dGV4dHVhbD1cIicgKyAoYy5sZW5ndGggPj0gMyA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKSArICdcIi8+Jztcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwiZFwiOiBjYXNlIFwiZGRcIjogcGF5bG9hZCArPSAnPG51bWJlcjpkYXkgbnVtYmVyOnN0eWxlPVwiJyArIChjLmxlbmd0aCAlIDIgPyBcInNob3J0XCIgOiBcImxvbmdcIikgKyAnXCIvPic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcImRkZFwiOiBjYXNlIFwiZGRkZFwiOiBwYXlsb2FkICs9ICc8bnVtYmVyOmRheS1vZi13ZWVrIG51bWJlcjpzdHlsZT1cIicgKyAoYy5sZW5ndGggJSAyID8gXCJzaG9ydFwiIDogXCJsb25nXCIpICsgJ1wiLz4nOyBicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ1wiJzpcblx0XHRcdFx0XHR3aGlsZShuZlsrK2ldICE9ICdcIicgfHwgbmZbKytpXSA9PSAnXCInKSBjICs9IG5mW2ldOyAtLWk7XG5cdFx0XHRcdFx0cGF5bG9hZCArPSAnPG51bWJlcjp0ZXh0PicgKyBlc2NhcGV4bWwoYy5zbGljZSgxKS5yZXBsYWNlKC9cIlwiL2csICdcIicpKSArICc8L251bWJlcjp0ZXh0Pic7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ1xcXFwnOiBjID0gbmZbKytpXTtcblx0XHRcdFx0XHRwYXlsb2FkICs9ICc8bnVtYmVyOnRleHQ+JyArIGVzY2FwZXhtbChjKSArICc8L251bWJlcjp0ZXh0Pic7IGJyZWFrO1xuXHRcdFx0XHRjYXNlICcvJzogY2FzZSAnOic6IHBheWxvYWQgKz0gJzxudW1iZXI6dGV4dD4nICsgZXNjYXBleG1sKGMpICsgJzwvbnVtYmVyOnRleHQ+JzsgYnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnNvbGUuZXJyb3IoXCJ1bnJlY29nbml6ZWQgY2hhcmFjdGVyIFwiICsgYyArIFwiIGluIE9ERiBmb3JtYXQgXCIgKyBuZik7XG5cdFx0XHR9XG5cdFx0XHRpZighaGFzX3RpbWUpIGJyZWFrIGo7XG5cdFx0XHRuZiA9IG5mLnNsaWNlKGkrMSk7IGkgPSAwO1xuXHRcdH1cblx0XHRpZihuZi5tYXRjaCgvXlxcWz9baG1zXS8pKSB7XG5cdFx0XHRpZih0eXBlID09IFwibnVtYmVyXCIpIHR5cGUgPSBcInRpbWVcIjtcblx0XHRcdGlmKG5mLm1hdGNoKC9cXFsvKSkge1xuXHRcdFx0XHRuZiA9IG5mLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXCIpO1xuXHRcdFx0XHRub3B0c1snbnVtYmVyOnRydW5jYXRlLW9uLW92ZXJmbG93J10gPSBcImZhbHNlXCI7XG5cdFx0XHR9XG5cdFx0XHRmb3IoOyBpIDwgbmYubGVuZ3RoOyArK2kpIHN3aXRjaCgoYyA9IG5mW2ldLnRvTG93ZXJDYXNlKCkpKSB7XG5cdFx0XHRcdGNhc2UgXCJoXCI6IGNhc2UgXCJtXCI6IGNhc2UgXCJzXCI6XG5cdFx0XHRcdFx0d2hpbGUoKG5mWysraV18fFwiXCIpLnRvTG93ZXJDYXNlKCkgPT0gY1swXSkgYyArPSBjWzBdOyAtLWk7XG5cdFx0XHRcdFx0c3dpdGNoKGMpIHtcblx0XHRcdFx0XHRcdGNhc2UgXCJoXCI6IGNhc2UgXCJoaFwiOiBwYXlsb2FkICs9ICc8bnVtYmVyOmhvdXJzIG51bWJlcjpzdHlsZT1cIicgKyAoYy5sZW5ndGggJSAyID8gXCJzaG9ydFwiIDogXCJsb25nXCIpICsgJ1wiLz4nOyBicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJtXCI6IGNhc2UgXCJtbVwiOiBwYXlsb2FkICs9ICc8bnVtYmVyOm1pbnV0ZXMgbnVtYmVyOnN0eWxlPVwiJyArIChjLmxlbmd0aCAlIDIgPyBcInNob3J0XCIgOiBcImxvbmdcIikgKyAnXCIvPic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcInNcIjogY2FzZSBcInNzXCI6XG5cdFx0XHRcdFx0XHRcdGlmKG5mW2krMV0gPT0gXCIuXCIpIGRvIHsgYyArPSBuZltpKzFdOyArK2k7IH0gd2hpbGUobmZbaSsxXSA9PSBcIjBcIik7XG5cdFx0XHRcdFx0XHRcdHBheWxvYWQgKz0gJzxudW1iZXI6c2Vjb25kcyBudW1iZXI6c3R5bGU9XCInICsgKGMubWF0Y2goXCJzc1wiKSA/IFwibG9uZ1wiIDogXCJzaG9ydFwiKSArICdcIicgKyAoYy5tYXRjaCgvXFwuLykgPyAnIG51bWJlcjpkZWNpbWFsLXBsYWNlcz1cIicgKyAoYy5tYXRjaCgvMCsvKXx8W1wiXCJdKVswXS5sZW5ndGggKyAnXCInIDogXCJcIikrICcvPic7IGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnXCInOlxuXHRcdFx0XHRcdHdoaWxlKG5mWysraV0gIT0gJ1wiJyB8fCBuZlsrK2ldID09ICdcIicpIGMgKz0gbmZbaV07IC0taTtcblx0XHRcdFx0XHRwYXlsb2FkICs9ICc8bnVtYmVyOnRleHQ+JyArIGVzY2FwZXhtbChjLnNsaWNlKDEpLnJlcGxhY2UoL1wiXCIvZywgJ1wiJykpICsgJzwvbnVtYmVyOnRleHQ+Jztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnLyc6IGNhc2UgJzonOiBwYXlsb2FkICs9ICc8bnVtYmVyOnRleHQ+JyArIGVzY2FwZXhtbChjKSArICc8L251bWJlcjp0ZXh0Pic7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiYVwiOlxuXHRcdFx0XHRcdGlmKG5mLnNsaWNlKGksIGkrMykudG9Mb3dlckNhc2UoKSA9PSBcImEvcFwiKSB7IHBheWxvYWQgKz0gJzxudW1iZXI6YW0tcG0vPic7IGkgKz0gMjsgYnJlYWs7IH0gLy8gTm90ZTogT0RGIGRvZXMgbm90IHN1cHBvcnQgQS9QXG5cdFx0XHRcdFx0aWYobmYuc2xpY2UoaSwgaSs1KS50b0xvd2VyQ2FzZSgpID09IFwiYW0vcG1cIikgIHsgcGF5bG9hZCArPSAnPG51bWJlcjphbS1wbS8+JzsgaSArPSA0OyBicmVhazsgfVxuXHRcdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdFx0ZGVmYXVsdDogY29uc29sZS5lcnJvcihcInVucmVjb2duaXplZCBjaGFyYWN0ZXIgXCIgKyBjICsgXCIgaW4gT0RGIGZvcm1hdCBcIiArIG5mKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrIGo7XG5cdFx0fVxuXG5cdFx0LyogY3VycmVuY3kgZmxhZyAqL1xuXHRcdGlmKG5mLmluZGV4T2YoL1xcJC8pID4gLTEpIHsgdHlwZSA9IFwiY3VycmVuY3lcIjsgfVxuXG5cdFx0Lyogc2hvdWxkIGJlIGluIGEgY2hhciBsb29wICovXG5cdFx0aWYobmZbMF0gPT0gXCIkXCIpIHsgcGF5bG9hZCArPSAnPG51bWJlcjpjdXJyZW5jeS1zeW1ib2wgbnVtYmVyOmxhbmd1YWdlPVwiZW5cIiBudW1iZXI6Y291bnRyeT1cIlVTXCI+JDwvbnVtYmVyOmN1cnJlbmN5LXN5bWJvbD4nOyBuZiA9IG5mLnNsaWNlKDEpOyBpID0gMDsgfVxuXHRcdGkgPSAwOyBpZihuZltpXSA9PSAnXCInKSB7XG5cdFx0XHR3aGlsZShuZlsrK2ldICE9ICdcIicgfHwgbmZbKytpXSA9PSAnXCInKSBjICs9IG5mW2ldOyAtLWk7XG5cdFx0XHRpZihuZltpKzFdID09IFwiKlwiKSB7XG5cdFx0XHRcdGkrKztcblx0XHRcdFx0cGF5bG9hZCArPSAnPG51bWJlcjpmaWxsLWNoYXJhY3Rlcj4nICsgZXNjYXBleG1sKGMucmVwbGFjZSgvXCJcIi9nLCAnXCInKSkgKyAnPC9udW1iZXI6ZmlsbC1jaGFyYWN0ZXI+Jztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBheWxvYWQgKz0gJzxudW1iZXI6dGV4dD4nICsgZXNjYXBleG1sKGMucmVwbGFjZSgvXCJcIi9nLCAnXCInKSkgKyAnPC9udW1iZXI6dGV4dD4nO1xuXHRcdFx0fVxuXHRcdFx0bmYgPSBuZi5zbGljZShpKzEpOyBpID0gMDtcblx0XHR9XG5cblx0XHQvKiBudW1iZXIgVE9ETzogaW50ZXJzdGl0aWFsIHRleHQgZS5nLiAwMDApMDAwLTAwMDAgKi9cblx0XHR2YXIgbnAgPSBuZi5tYXRjaCgvKFsjMF1bMCMsXSopKFxcLlswI10qfCkoRVsrXT8wKnwpL2kpO1xuXHRcdGlmKCFucCB8fCAhbnBbMF0pIGNvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3QgZmluZCBudW1lcmljIHBhcnQgb2YgXCIgKyBuZik7XG5cdFx0ZWxzZSB7XG5cdFx0XHR2YXIgYmFzZSA9IG5wWzFdLnJlcGxhY2UoLywvZywgXCJcIik7XG5cdFx0XHRwYXlsb2FkICs9ICc8bnVtYmVyOicgKyAobnBbM10gPyBcInNjaWVudGlmaWMtXCIgOiBcIlwiKSsgJ251bWJlcicgK1xuXHRcdFx0XHQnIG51bWJlcjptaW4taW50ZWdlci1kaWdpdHM9XCInICsgKGJhc2UuaW5kZXhPZihcIjBcIikgPT0gLTEgPyBcIjBcIiA6IGJhc2UubGVuZ3RoIC0gYmFzZS5pbmRleE9mKFwiMFwiKSkgKyAnXCInICtcblx0XHRcdFx0KG5wWzBdLmluZGV4T2YoXCIsXCIpID4gLTEgPyAnIG51bWJlcjpncm91cGluZz1cInRydWVcIicgOiBcIlwiKSArXG5cdFx0XHRcdChucFsyXSAmJiAnIG51bWJlcjpkZWNpbWFsLXBsYWNlcz1cIicgKyAobnBbMl0ubGVuZ3RoIC0gMSkgKyAnXCInIHx8ICcgbnVtYmVyOmRlY2ltYWwtcGxhY2VzPVwiMFwiJykgK1xuXHRcdFx0XHQobnBbM10gJiYgbnBbM10uaW5kZXhPZihcIitcIikgPiAtMSA/ICcgbnVtYmVyOmZvcmNlZC1leHBvbmVudC1zaWduPVwidHJ1ZVwiJyA6IFwiXCIgKSArXG5cdFx0XHRcdChucFszXSA/ICcgbnVtYmVyOm1pbi1leHBvbmVudC1kaWdpdHM9XCInICsgbnBbM10ubWF0Y2goLzArLylbMF0ubGVuZ3RoICsgJ1wiJyA6IFwiXCIgKSArXG5cdFx0XHRcdCc+JyArXG5cdFx0XHRcdC8qIFRPRE86IGludGVyc3RpdGlhbCB0ZXh0IHBsYWNlaG9sZGVycyAqL1xuXHRcdFx0XHQnPC9udW1iZXI6JyArIChucFszXSA/IFwic2NpZW50aWZpYy1cIiA6IFwiXCIpICsgJ251bWJlcj4nO1xuXHRcdFx0aSA9IG5wLmluZGV4ICsgbnBbMF0ubGVuZ3RoO1xuXHRcdH1cblxuXHRcdC8qIHJlc2lkdWFsIHRleHQgKi9cblx0XHRpZihuZltpXSA9PSAnXCInKSB7XG5cdFx0XHRjID0gXCJcIjtcblx0XHRcdHdoaWxlKG5mWysraV0gIT0gJ1wiJyB8fCBuZlsrK2ldID09ICdcIicpIGMgKz0gbmZbaV07IC0taTtcblx0XHRcdHBheWxvYWQgKz0gJzxudW1iZXI6dGV4dD4nICsgZXNjYXBleG1sKGMucmVwbGFjZSgvXCJcIi9nLCAnXCInKSkgKyAnPC9udW1iZXI6dGV4dD4nO1xuXHRcdH1cblx0fVxuXG5cdGlmKCFwYXlsb2FkKSB7IGNvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3QgZ2VuZXJhdGUgT0RTIG51bWJlciBmb3JtYXQgZm9yIHxcIiArIG5mICsgXCJ8XCIpOyByZXR1cm4gXCJcIjsgfVxuXHRyZXR1cm4gd3JpdGV4dGFnKFwibnVtYmVyOlwiICsgdHlwZSArIFwiLXN0eWxlXCIsIHBheWxvYWQsIG5vcHRzKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfbmFtZXNfb2RzKE5hbWVzLCBTaGVldE5hbWVzLCBpZHgpIHtcblx0Ly92YXIgc2NvcGVkID0gTmFtZXMuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpIHsgcmV0dXJuIG5hbWUuU2hlZXQgPT0gKGlkeCA9PSAtMSA/IG51bGwgOiBpZHgpOyB9KTtcblx0dmFyIHNjb3BlZCA9IFtdOyBmb3IodmFyIG5hbWVpID0gMDsgbmFtZWkgPCBOYW1lcy5sZW5ndGg7ICsrbmFtZWkpIHtcblx0XHR2YXIgbmFtZSA9IE5hbWVzW25hbWVpXTtcblx0XHRpZighbmFtZSkgY29udGludWU7XG5cdFx0aWYobmFtZS5TaGVldCA9PSAoaWR4ID09IC0xID8gbnVsbCA6IGlkeCkpIHNjb3BlZC5wdXNoKG5hbWUpO1xuXHR9XG5cdGlmKCFzY29wZWQubGVuZ3RoKSByZXR1cm4gXCJcIjtcblx0cmV0dXJuIFwiICAgICAgPHRhYmxlOm5hbWVkLWV4cHJlc3Npb25zPlxcblwiICsgc2NvcGVkLm1hcChmdW5jdGlvbihuYW1lKSB7XG5cdFx0dmFyIG9kc3JlZiA9ICAoaWR4ID09IC0xID8gXCIkXCIgOiBcIlwiKSArIGNzZl90b19vZHNfM0QobmFtZS5SZWYpO1xuXHRcdHJldHVybiBcIiAgICAgICAgXCIgKyB3cml0ZXh0YWcoXCJ0YWJsZTpuYW1lZC1yYW5nZVwiLCBudWxsLCB7XG5cdFx0XHRcInRhYmxlOm5hbWVcIjogbmFtZS5OYW1lLFxuXHRcdFx0XCJ0YWJsZTpjZWxsLXJhbmdlLWFkZHJlc3NcIjogb2RzcmVmLFxuXHRcdFx0XCJ0YWJsZTpiYXNlLWNlbGwtYWRkcmVzc1wiOiBvZHNyZWYucmVwbGFjZSgvW1xcLl1bXlxcLl0qJC8sIFwiLiRBJDFcIilcblx0XHR9KTtcblx0fSkuam9pbihcIlxcblwiKSArIFwiXFxuICAgICAgPC90YWJsZTpuYW1lZC1leHByZXNzaW9ucz5cXG5cIjtcbn1cbnZhciB3cml0ZV9jb250ZW50X29kcy8qOnsod2I6YW55LCBvcHRzOmFueSk6c3RyaW5nfSovID0gLyogQF9fUFVSRV9fICovKGZ1bmN0aW9uKCkge1xuXHQvKiA2LjEuMiBXaGl0ZSBTcGFjZSBDaGFyYWN0ZXJzICovXG5cdHZhciB3cml0ZV90ZXh0X3AgPSBmdW5jdGlvbih0ZXh0Lyo6c3RyaW5nKi8sIHNwYW4pLyo6c3RyaW5nKi8ge1xuXHRcdHJldHVybiBlc2NhcGV4bWwodGV4dClcblx0XHRcdC5yZXBsYWNlKC8gICsvZywgZnVuY3Rpb24oJCQpe3JldHVybiAnPHRleHQ6cyB0ZXh0OmM9XCInKyQkLmxlbmd0aCsnXCIvPic7fSlcblx0XHRcdC5yZXBsYWNlKC9cXHQvZywgXCI8dGV4dDp0YWIvPlwiKVxuXHRcdFx0LnJlcGxhY2UoL1xcbi9nLCBzcGFuID8gXCI8dGV4dDpsaW5lLWJyZWFrLz5cIjogXCI8L3RleHQ6cD48dGV4dDpwPlwiKVxuXHRcdFx0LnJlcGxhY2UoL14gLywgXCI8dGV4dDpzLz5cIikucmVwbGFjZSgvICQvLCBcIjx0ZXh0OnMvPlwiKTtcblx0fTtcblxuXHR2YXIgbnVsbF9jZWxsX3htbCA9ICcgICAgICAgICAgPHRhYmxlOnRhYmxlLWNlbGwgLz5cXG4nO1xuXHR2YXIgd3JpdGVfd3MgPSBmdW5jdGlvbih3cywgd2IvKjpXb3JrYm9vayovLCBpLyo6bnVtYmVyKi8sIG9wdHMsIG5mcywgZGF0ZTE5MDQpLyo6c3RyaW5nKi8ge1xuXHRcdC8qIFNlY3Rpb24gOSBUYWJsZXMgKi9cblx0XHR2YXIgby8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHRcdG8ucHVzaCgnICAgICAgPHRhYmxlOnRhYmxlIHRhYmxlOm5hbWU9XCInICsgZXNjYXBleG1sKHdiLlNoZWV0TmFtZXNbaV0pICsgJ1wiIHRhYmxlOnN0eWxlLW5hbWU9XCJ0YTFcIj5cXG4nKTtcblx0XHR2YXIgUj0wLEM9MCwgcmFuZ2UgPSBkZWNvZGVfcmFuZ2Uod3NbJyFyZWYnXXx8XCJBMVwiKTtcblx0XHR2YXIgbWFyci8qOkFycmF5PFJhbmdlPiovID0gd3NbJyFtZXJnZXMnXSB8fCBbXSwgbWkgPSAwO1xuXHRcdHZhciBkZW5zZSA9IHdzW1wiIWRhdGFcIl0gIT0gbnVsbDtcblx0XHRpZih3c1tcIiFjb2xzXCJdKSB7XG5cdFx0XHRmb3IoQyA9IDA7IEMgPD0gcmFuZ2UuZS5jOyArK0MpIG8ucHVzaCgnICAgICAgICA8dGFibGU6dGFibGUtY29sdW1uJyArICh3c1tcIiFjb2xzXCJdW0NdID8gJyB0YWJsZTpzdHlsZS1uYW1lPVwiY28nICsgd3NbXCIhY29sc1wiXVtDXS5vZHMgKyAnXCInIDogJycpICsgJz48L3RhYmxlOnRhYmxlLWNvbHVtbj5cXG4nKTtcblx0XHR9XG5cdFx0dmFyIEggPSBcIlwiLCBST1dTID0gd3NbXCIhcm93c1wiXXx8W107XG5cdFx0Zm9yKFIgPSAwOyBSIDwgcmFuZ2Uucy5yOyArK1IpIHtcblx0XHRcdEggPSBST1dTW1JdID8gJyB0YWJsZTpzdHlsZS1uYW1lPVwicm8nICsgUk9XU1tSXS5vZHMgKyAnXCInIDogXCJcIjtcblx0XHRcdG8ucHVzaCgnICAgICAgICA8dGFibGU6dGFibGUtcm93JyArIEggKyAnPjwvdGFibGU6dGFibGUtcm93PlxcbicpO1xuXHRcdH1cblx0XHRmb3IoOyBSIDw9IHJhbmdlLmUucjsgKytSKSB7XG5cdFx0XHRIID0gUk9XU1tSXSA/ICcgdGFibGU6c3R5bGUtbmFtZT1cInJvJyArIFJPV1NbUl0ub2RzICsgJ1wiJyA6IFwiXCI7XG5cdFx0XHRvLnB1c2goJyAgICAgICAgPHRhYmxlOnRhYmxlLXJvdycgKyBIICsgJz5cXG4nKTtcblx0XHRcdGZvcihDPTA7IEMgPCByYW5nZS5zLmM7ICsrQykgby5wdXNoKG51bGxfY2VsbF94bWwpO1xuXHRcdFx0Zm9yKDsgQyA8PSByYW5nZS5lLmM7ICsrQykge1xuXHRcdFx0XHR2YXIgc2tpcCA9IGZhbHNlLCBjdCA9IHt9LCB0ZXh0cCA9IFwiXCI7XG5cdFx0XHRcdGZvcihtaSA9IDA7IG1pICE9IG1hcnIubGVuZ3RoOyArK21pKSB7XG5cdFx0XHRcdFx0aWYobWFyclttaV0ucy5jID4gQykgY29udGludWU7XG5cdFx0XHRcdFx0aWYobWFyclttaV0ucy5yID4gUikgY29udGludWU7XG5cdFx0XHRcdFx0aWYobWFyclttaV0uZS5jIDwgQykgY29udGludWU7XG5cdFx0XHRcdFx0aWYobWFyclttaV0uZS5yIDwgUikgY29udGludWU7XG5cdFx0XHRcdFx0aWYobWFyclttaV0ucy5jICE9IEMgfHwgbWFyclttaV0ucy5yICE9IFIpIHNraXAgPSB0cnVlO1xuXHRcdFx0XHRcdGN0Wyd0YWJsZTpudW1iZXItY29sdW1ucy1zcGFubmVkJ10gPSAobWFyclttaV0uZS5jIC0gbWFyclttaV0ucy5jICsgMSk7XG5cdFx0XHRcdFx0Y3RbJ3RhYmxlOm51bWJlci1yb3dzLXNwYW5uZWQnXSA9ICAgIChtYXJyW21pXS5lLnIgLSBtYXJyW21pXS5zLnIgKyAxKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihza2lwKSB7IG8ucHVzaCgnICAgICAgICAgIDx0YWJsZTpjb3ZlcmVkLXRhYmxlLWNlbGwvPlxcbicpOyBjb250aW51ZTsgfVxuXHRcdFx0XHR2YXIgcmVmID0gZW5jb2RlX2NlbGwoe3I6UiwgYzpDfSksIGNlbGwgPSBkZW5zZSA/ICh3c1tcIiFkYXRhXCJdW1JdfHxbXSlbQ106IHdzW3JlZl07XG5cdFx0XHRcdGlmKGNlbGwgJiYgY2VsbC5mKSB7XG5cdFx0XHRcdFx0Y3RbJ3RhYmxlOmZvcm11bGEnXSA9IGVzY2FwZXhtbChjc2ZfdG9fb2RzX2Zvcm11bGEoY2VsbC5mKSk7XG5cdFx0XHRcdFx0aWYoY2VsbC5GKSB7XG5cdFx0XHRcdFx0XHRpZihjZWxsLkYuc2xpY2UoMCwgcmVmLmxlbmd0aCkgPT0gcmVmKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBfRnJlZiA9IGRlY29kZV9yYW5nZShjZWxsLkYpO1xuXHRcdFx0XHRcdFx0XHRjdFsndGFibGU6bnVtYmVyLW1hdHJpeC1jb2x1bW5zLXNwYW5uZWQnXSA9IChfRnJlZi5lLmMgLSBfRnJlZi5zLmMgKyAxKTtcblx0XHRcdFx0XHRcdFx0Y3RbJ3RhYmxlOm51bWJlci1tYXRyaXgtcm93cy1zcGFubmVkJ10gPSAgICAoX0ZyZWYuZS5yIC0gX0ZyZWYucy5yICsgMSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKCFjZWxsKSB7IG8ucHVzaChudWxsX2NlbGxfeG1sKTsgY29udGludWU7IH1cblx0XHRcdFx0c3dpdGNoKGNlbGwudCkge1xuXHRcdFx0XHRcdGNhc2UgJ2InOlxuXHRcdFx0XHRcdFx0dGV4dHAgPSAoY2VsbC52ID8gJ1RSVUUnIDogJ0ZBTFNFJyk7XG5cdFx0XHRcdFx0XHRjdFsnb2ZmaWNlOnZhbHVlLXR5cGUnXSA9IFwiYm9vbGVhblwiO1xuXHRcdFx0XHRcdFx0Y3RbJ29mZmljZTpib29sZWFuLXZhbHVlJ10gPSAoY2VsbC52ID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICduJzpcblx0XHRcdFx0XHRcdGlmKCFpc0Zpbml0ZShjZWxsLnYpKSB7XG5cdFx0XHRcdFx0XHRcdGlmKGlzTmFOKGNlbGwudikpIHtcblx0XHRcdFx0XHRcdFx0XHR0ZXh0cCA9IFwiI05VTSFcIjtcblx0XHRcdFx0XHRcdFx0XHRjdFsndGFibGU6Zm9ybXVsYSddID0gXCJvZjo9I05VTSFcIjtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0ZXh0cCA9IFwiI0RJVi8wIVwiO1xuXHRcdFx0XHRcdFx0XHRcdGN0Wyd0YWJsZTpmb3JtdWxhJ10gPSBcIm9mOj1cIiArIChjZWxsLnYgPCAwID8gXCItXCIgOiBcIlwiKSArIFwiMS8wXCI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y3RbJ29mZmljZTpzdHJpbmctdmFsdWUnXSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRcdGN0WydvZmZpY2U6dmFsdWUtdHlwZSddID0gXCJzdHJpbmdcIjtcblx0XHRcdFx0XHRcdFx0Y3RbJ2NhbGNleHQ6dmFsdWUtdHlwZSddID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGV4dHAgPSAoY2VsbC53fHxTdHJpbmcoY2VsbC52fHwwKSk7XG5cdFx0XHRcdFx0XHRcdGN0WydvZmZpY2U6dmFsdWUtdHlwZSddID0gXCJmbG9hdFwiO1xuXHRcdFx0XHRcdFx0XHRjdFsnb2ZmaWNlOnZhbHVlJ10gPSAoY2VsbC52fHwwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3MnOiBjYXNlICdzdHInOlxuXHRcdFx0XHRcdFx0dGV4dHAgPSBjZWxsLnYgPT0gbnVsbCA/IFwiXCIgOiBjZWxsLnY7XG5cdFx0XHRcdFx0XHRjdFsnb2ZmaWNlOnZhbHVlLXR5cGUnXSA9IFwic3RyaW5nXCI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdkJzpcblx0XHRcdFx0XHRcdHRleHRwID0gKGNlbGwud3x8KHBhcnNlRGF0ZShjZWxsLnYsIGRhdGUxOTA0KS50b0lTT1N0cmluZygpKSk7XG5cdFx0XHRcdFx0XHRjdFsnb2ZmaWNlOnZhbHVlLXR5cGUnXSA9IFwiZGF0ZVwiO1xuXHRcdFx0XHRcdFx0Y3RbJ29mZmljZTpkYXRlLXZhbHVlJ10gPSAocGFyc2VEYXRlKGNlbGwudiwgZGF0ZTE5MDQpLnRvSVNPU3RyaW5nKCkpO1xuXHRcdFx0XHRcdFx0Y3RbJ3RhYmxlOnN0eWxlLW5hbWUnXSA9IFwiY2UxXCI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHQvL2Nhc2UgJ2UnOiAvLyBUT0RPOiB0cmFuc2xhdGUgdG8gT0RTIGVycm9yc1xuXHRcdFx0XHRcdGRlZmF1bHQ6IG8ucHVzaChudWxsX2NlbGxfeG1sKTsgY29udGludWU7IC8vIFRPRE86IGVtcHR5IGNlbGwgd2l0aCBjb21tZW50c1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciB0ZXh0X3AgPSB3cml0ZV90ZXh0X3AodGV4dHApO1xuXHRcdFx0XHRpZihjZWxsLmwgJiYgY2VsbC5sLlRhcmdldCkge1xuXHRcdFx0XHRcdHZhciBfdGd0ID0gY2VsbC5sLlRhcmdldDtcblx0XHRcdFx0XHRfdGd0ID0gX3RndC5jaGFyQXQoMCkgPT0gXCIjXCIgPyBcIiNcIiArIGNzZl90b19vZHNfM0QoX3RndC5zbGljZSgxKSkgOiBfdGd0O1xuXHRcdFx0XHRcdC8vIFRPRE86IGNob29zZSBjb3JyZWN0IHBhcmVudCBwYXRoIGZvcm1hdCBiYXNlZCBvbiBsaW5rIGRlbGltaXRlcnNcblx0XHRcdFx0XHRpZihfdGd0LmNoYXJBdCgwKSAhPSBcIiNcIiAmJiAhX3RndC5tYXRjaCgvXlxcdys6LykpIF90Z3QgPSAnLi4vJyArIF90Z3Q7XG5cdFx0XHRcdFx0dGV4dF9wID0gd3JpdGV4dGFnKCd0ZXh0OmEnLCB0ZXh0X3AsIHsneGxpbms6aHJlZic6IF90Z3QucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpfSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYobmZzW2NlbGwuel0pIGN0W1widGFibGU6c3R5bGUtbmFtZVwiXSA9IFwiY2VcIiArIG5mc1tjZWxsLnpdLnNsaWNlKDEpO1xuXHRcdFx0XHR2YXIgcGF5bG9hZCA9IHdyaXRleHRhZygndGV4dDpwJywgdGV4dF9wLCB7fSk7XG5cdFx0XHRcdGlmKGNlbGwuYykge1xuXHRcdFx0XHRcdHZhciBhY3JlYXRvciA9IFwiXCIsIGFwYXlsb2FkID0gXCJcIiwgYXByb3BzID0ge307XG5cdFx0XHRcdFx0Zm9yKHZhciBjaSA9IDA7IGNpIDwgY2VsbC5jLmxlbmd0aDsgKytjaSkge1xuXHRcdFx0XHRcdFx0aWYoIWFjcmVhdG9yICYmIGNlbGwuY1tjaV0uYSkgYWNyZWF0b3IgPSBjZWxsLmNbY2ldLmE7XG5cdFx0XHRcdFx0XHRhcGF5bG9hZCArPSBcIjx0ZXh0OnA+XCIgKyB3cml0ZV90ZXh0X3AoY2VsbC5jW2NpXS50KSArIFwiPC90ZXh0OnA+XCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKCFjZWxsLmMuaGlkZGVuKSBhcHJvcHNbXCJvZmZpY2U6ZGlzcGxheVwiXSA9IHRydWU7XG5cdFx0XHRcdFx0cGF5bG9hZCA9IHdyaXRleHRhZygnb2ZmaWNlOmFubm90YXRpb24nLCBhcGF5bG9hZCwgYXByb3BzKSArIHBheWxvYWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0by5wdXNoKCcgICAgICAgICAgJyArIHdyaXRleHRhZygndGFibGU6dGFibGUtY2VsbCcsIHBheWxvYWQsIGN0KSArICdcXG4nKTtcblx0XHRcdH1cblx0XHRcdG8ucHVzaCgnICAgICAgICA8L3RhYmxlOnRhYmxlLXJvdz5cXG4nKTtcblx0XHR9XG5cdFx0aWYoKHdiLldvcmtib29rfHx7fSkuTmFtZXMpIG8ucHVzaCh3cml0ZV9uYW1lc19vZHMod2IuV29ya2Jvb2suTmFtZXMsIHdiLlNoZWV0TmFtZXMsIGkpKTtcblx0XHRvLnB1c2goJyAgICAgIDwvdGFibGU6dGFibGU+XFxuJyk7XG5cdFx0cmV0dXJuIG8uam9pbihcIlwiKTtcblx0fTtcblxuXHR2YXIgd3JpdGVfYXV0b21hdGljX3N0eWxlc19vZHMgPSBmdW5jdGlvbihvLyo6QXJyYXk8c3RyaW5nPiovLCB3Yikge1xuXHRcdG8ucHVzaCgnIDxvZmZpY2U6YXV0b21hdGljLXN0eWxlcz5cXG4nKTtcblxuXHRcdC8qIGNvbHVtbiBzdHlsZXMgKi9cblx0XHR2YXIgY2lkeCA9IDA7XG5cdFx0d2IuU2hlZXROYW1lcy5tYXAoZnVuY3Rpb24obikgeyByZXR1cm4gd2IuU2hlZXRzW25dOyB9KS5mb3JFYWNoKGZ1bmN0aW9uKHdzKSB7XG5cdFx0XHRpZighd3MpIHJldHVybjtcblx0XHRcdGlmKHdzW1wiIWNvbHNcIl0pIHtcblx0XHRcdFx0Zm9yKHZhciBDID0gMDsgQyA8IHdzW1wiIWNvbHNcIl0ubGVuZ3RoOyArK0MpIGlmKHdzW1wiIWNvbHNcIl1bQ10pIHtcblx0XHRcdFx0XHR2YXIgY29sb2JqID0gd3NbXCIhY29sc1wiXVtDXTtcblx0XHRcdFx0XHRpZihjb2xvYmoud2lkdGggPT0gbnVsbCAmJiBjb2xvYmoud3B4ID09IG51bGwgJiYgY29sb2JqLndjaCA9PSBudWxsKSBjb250aW51ZTtcblx0XHRcdFx0XHRwcm9jZXNzX2NvbChjb2xvYmopO1xuXHRcdFx0XHRcdGNvbG9iai5vZHMgPSBjaWR4O1xuXHRcdFx0XHRcdHZhciB3ID0gd3NbXCIhY29sc1wiXVtDXS53cHggKyBcInB4XCI7XG5cdFx0XHRcdFx0by5wdXNoKCcgIDxzdHlsZTpzdHlsZSBzdHlsZTpuYW1lPVwiY28nICsgY2lkeCArICdcIiBzdHlsZTpmYW1pbHk9XCJ0YWJsZS1jb2x1bW5cIj5cXG4nKTtcblx0XHRcdFx0XHRvLnB1c2goJyAgIDxzdHlsZTp0YWJsZS1jb2x1bW4tcHJvcGVydGllcyBmbzpicmVhay1iZWZvcmU9XCJhdXRvXCIgc3R5bGU6Y29sdW1uLXdpZHRoPVwiJyArIHcgKyAnXCIvPlxcbicpO1xuXHRcdFx0XHRcdG8ucHVzaCgnICA8L3N0eWxlOnN0eWxlPlxcbicpO1xuXHRcdFx0XHRcdCsrY2lkeDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Lyogcm93IHN0eWxlcyAqL1xuXHRcdHZhciByaWR4ID0gMDtcblx0XHR3Yi5TaGVldE5hbWVzLm1hcChmdW5jdGlvbihuKSB7IHJldHVybiB3Yi5TaGVldHNbbl07IH0pLmZvckVhY2goZnVuY3Rpb24od3MpIHtcblx0XHRcdGlmKCF3cykgcmV0dXJuO1xuXHRcdFx0aWYod3NbXCIhcm93c1wiXSkge1xuXHRcdFx0XHRmb3IodmFyIFIgPSAwOyBSIDwgd3NbXCIhcm93c1wiXS5sZW5ndGg7ICsrUikgaWYod3NbXCIhcm93c1wiXVtSXSkge1xuXHRcdFx0XHRcdHdzW1wiIXJvd3NcIl1bUl0ub2RzID0gcmlkeDtcblx0XHRcdFx0XHR2YXIgaCA9IHdzW1wiIXJvd3NcIl1bUl0uaHB4ICsgXCJweFwiO1xuXHRcdFx0XHRcdG8ucHVzaCgnICA8c3R5bGU6c3R5bGUgc3R5bGU6bmFtZT1cInJvJyArIHJpZHggKyAnXCIgc3R5bGU6ZmFtaWx5PVwidGFibGUtcm93XCI+XFxuJyk7XG5cdFx0XHRcdFx0by5wdXNoKCcgICA8c3R5bGU6dGFibGUtcm93LXByb3BlcnRpZXMgZm86YnJlYWstYmVmb3JlPVwiYXV0b1wiIHN0eWxlOnJvdy1oZWlnaHQ9XCInICsgaCArICdcIi8+XFxuJyk7XG5cdFx0XHRcdFx0by5wdXNoKCcgIDwvc3R5bGU6c3R5bGU+XFxuJyk7XG5cdFx0XHRcdFx0KytyaWR4O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvKiB0YWJsZSAqL1xuXHRcdG8ucHVzaCgnICA8c3R5bGU6c3R5bGUgc3R5bGU6bmFtZT1cInRhMVwiIHN0eWxlOmZhbWlseT1cInRhYmxlXCIgc3R5bGU6bWFzdGVyLXBhZ2UtbmFtZT1cIm1wMVwiPlxcbicpO1xuXHRcdG8ucHVzaCgnICAgPHN0eWxlOnRhYmxlLXByb3BlcnRpZXMgdGFibGU6ZGlzcGxheT1cInRydWVcIiBzdHlsZTp3cml0aW5nLW1vZGU9XCJsci10YlwiLz5cXG4nKTtcblx0XHRvLnB1c2goJyAgPC9zdHlsZTpzdHlsZT5cXG4nKTtcblxuXHRcdG8ucHVzaCgnICA8bnVtYmVyOmRhdGUtc3R5bGUgc3R5bGU6bmFtZT1cIk4zN1wiIG51bWJlcjphdXRvbWF0aWMtb3JkZXI9XCJ0cnVlXCI+XFxuJyk7XG5cdFx0by5wdXNoKCcgICA8bnVtYmVyOm1vbnRoIG51bWJlcjpzdHlsZT1cImxvbmdcIi8+XFxuJyk7XG5cdFx0by5wdXNoKCcgICA8bnVtYmVyOnRleHQ+LzwvbnVtYmVyOnRleHQ+XFxuJyk7XG5cdFx0by5wdXNoKCcgICA8bnVtYmVyOmRheSBudW1iZXI6c3R5bGU9XCJsb25nXCIvPlxcbicpO1xuXHRcdG8ucHVzaCgnICAgPG51bWJlcjp0ZXh0Pi88L251bWJlcjp0ZXh0PlxcbicpO1xuXHRcdG8ucHVzaCgnICAgPG51bWJlcjp5ZWFyLz5cXG4nKTtcblx0XHRvLnB1c2goJyAgPC9udW1iZXI6ZGF0ZS1zdHlsZT5cXG4nKTtcblxuXHRcdC8qIG51bWJlciBmb3JtYXRzLCB0YWJsZSBjZWxscywgdGV4dCAqL1xuXHRcdHZhciBuZnMgPSB7fTtcblx0XHR2YXIgbmZpID0gNjk7XG5cdFx0d2IuU2hlZXROYW1lcy5tYXAoZnVuY3Rpb24obikgeyByZXR1cm4gd2IuU2hlZXRzW25dOyB9KS5mb3JFYWNoKGZ1bmN0aW9uKHdzKSB7XG5cdFx0XHRpZighd3MpIHJldHVybjtcblx0XHRcdHZhciBkZW5zZSA9ICh3c1tcIiFkYXRhXCJdICE9IG51bGwpO1xuXHRcdFx0aWYoIXdzW1wiIXJlZlwiXSkgcmV0dXJuO1xuXHRcdFx0dmFyIHJhbmdlID0gZGVjb2RlX3JhbmdlKHdzW1wiIXJlZlwiXSk7XG5cdFx0XHRmb3IodmFyIFIgPSAwOyBSIDw9IHJhbmdlLmUucjsgKytSKSBmb3IodmFyIEMgPSAwOyBDIDw9IHJhbmdlLmUuYzsgKytDKSB7XG5cdFx0XHRcdHZhciBjID0gZGVuc2UgPyAod3NbXCIhZGF0YVwiXVtSXXx8W10pW0NdIDogd3NbZW5jb2RlX2NlbGwoe3I6UixjOkN9KV07XG5cdFx0XHRcdGlmKCFjIHx8ICFjLnogfHwgYy56LnRvTG93ZXJDYXNlKCkgPT0gXCJnZW5lcmFsXCIpIGNvbnRpbnVlO1xuXHRcdFx0XHRpZighbmZzW2Muel0pIHtcblx0XHRcdFx0XHR2YXIgb3V0ID0gd3JpdGVfbnVtYmVyX2Zvcm1hdF9vZHMoYy56LCBcIk5cIiArIG5maSk7XG5cdFx0XHRcdFx0aWYob3V0KSB7IG5mc1tjLnpdID0gXCJOXCIgKyBuZmk7ICsrbmZpOyBvLnB1c2gob3V0ICsgXCJcXG5cIik7IH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG8ucHVzaCgnICA8c3R5bGU6c3R5bGUgc3R5bGU6bmFtZT1cImNlMVwiIHN0eWxlOmZhbWlseT1cInRhYmxlLWNlbGxcIiBzdHlsZTpwYXJlbnQtc3R5bGUtbmFtZT1cIkRlZmF1bHRcIiBzdHlsZTpkYXRhLXN0eWxlLW5hbWU9XCJOMzdcIi8+XFxuJyk7XG5cdFx0a2V5cyhuZnMpLmZvckVhY2goZnVuY3Rpb24obmYpIHtcblx0XHRcdG8ucHVzaCgnPHN0eWxlOnN0eWxlIHN0eWxlOm5hbWU9XCJjZScgKyBuZnNbbmZdLnNsaWNlKDEpICsgJ1wiIHN0eWxlOmZhbWlseT1cInRhYmxlLWNlbGxcIiBzdHlsZTpwYXJlbnQtc3R5bGUtbmFtZT1cIkRlZmF1bHRcIiBzdHlsZTpkYXRhLXN0eWxlLW5hbWU9XCInICsgbmZzW25mXSArICdcIi8+XFxuJyk7XG5cdFx0fSk7XG5cblx0XHQvKiBwYWdlLWxheW91dCAqL1xuXG5cdFx0by5wdXNoKCcgPC9vZmZpY2U6YXV0b21hdGljLXN0eWxlcz5cXG4nKTtcblx0XHRyZXR1cm4gbmZzO1xuXHR9O1xuXG5cdHJldHVybiBmdW5jdGlvbiB3Y3god2IsIG9wdHMpIHtcblx0XHR2YXIgbyA9IFtYTUxfSEVBREVSXTtcblx0XHQvKiAzLjEuMy4yICovXG5cdFx0dmFyIGF0dHIgPSB3eHRfaGVscGVyKHtcblx0XHRcdCd4bWxuczpvZmZpY2UnOiAgICAgICBcInVybjpvYXNpczpuYW1lczp0YzpvcGVuZG9jdW1lbnQ6eG1sbnM6b2ZmaWNlOjEuMFwiLFxuXHRcdFx0J3htbG5zOnRhYmxlJzogICAgICAgIFwidXJuOm9hc2lzOm5hbWVzOnRjOm9wZW5kb2N1bWVudDp4bWxuczp0YWJsZToxLjBcIixcblx0XHRcdCd4bWxuczpzdHlsZSc6ICAgICAgICBcInVybjpvYXNpczpuYW1lczp0YzpvcGVuZG9jdW1lbnQ6eG1sbnM6c3R5bGU6MS4wXCIsXG5cdFx0XHQneG1sbnM6dGV4dCc6ICAgICAgICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOnRleHQ6MS4wXCIsXG5cdFx0XHQneG1sbnM6ZHJhdyc6ICAgICAgICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOmRyYXdpbmc6MS4wXCIsXG5cdFx0XHQneG1sbnM6Zm8nOiAgICAgICAgICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOnhzbC1mby1jb21wYXRpYmxlOjEuMFwiLFxuXHRcdFx0J3htbG5zOnhsaW5rJzogICAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuXHRcdFx0J3htbG5zOmRjJzogICAgICAgICAgIFwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIixcblx0XHRcdCd4bWxuczptZXRhJzogICAgICAgICBcInVybjpvYXNpczpuYW1lczp0YzpvcGVuZG9jdW1lbnQ6eG1sbnM6bWV0YToxLjBcIixcblx0XHRcdCd4bWxuczpudW1iZXInOiAgICAgICBcInVybjpvYXNpczpuYW1lczp0YzpvcGVuZG9jdW1lbnQ6eG1sbnM6ZGF0YXN0eWxlOjEuMFwiLFxuXHRcdFx0J3htbG5zOnByZXNlbnRhdGlvbic6IFwidXJuOm9hc2lzOm5hbWVzOnRjOm9wZW5kb2N1bWVudDp4bWxuczpwcmVzZW50YXRpb246MS4wXCIsXG5cdFx0XHQneG1sbnM6c3ZnJzogICAgICAgICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOnN2Zy1jb21wYXRpYmxlOjEuMFwiLFxuXHRcdFx0J3htbG5zOmNoYXJ0JzogICAgICAgIFwidXJuOm9hc2lzOm5hbWVzOnRjOm9wZW5kb2N1bWVudDp4bWxuczpjaGFydDoxLjBcIixcblx0XHRcdCd4bWxuczpkcjNkJzogICAgICAgICBcInVybjpvYXNpczpuYW1lczp0YzpvcGVuZG9jdW1lbnQ6eG1sbnM6ZHIzZDoxLjBcIixcblx0XHRcdCd4bWxuczptYXRoJzogICAgICAgICBcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIixcblx0XHRcdCd4bWxuczpmb3JtJzogICAgICAgICBcInVybjpvYXNpczpuYW1lczp0YzpvcGVuZG9jdW1lbnQ6eG1sbnM6Zm9ybToxLjBcIixcblx0XHRcdCd4bWxuczpzY3JpcHQnOiAgICAgICBcInVybjpvYXNpczpuYW1lczp0YzpvcGVuZG9jdW1lbnQ6eG1sbnM6c2NyaXB0OjEuMFwiLFxuXHRcdFx0J3htbG5zOm9vbyc6ICAgICAgICAgIFwiaHR0cDovL29wZW5vZmZpY2Uub3JnLzIwMDQvb2ZmaWNlXCIsXG5cdFx0XHQneG1sbnM6b29vdyc6ICAgICAgICAgXCJodHRwOi8vb3Blbm9mZmljZS5vcmcvMjAwNC93cml0ZXJcIixcblx0XHRcdCd4bWxuczpvb29jJzogICAgICAgICBcImh0dHA6Ly9vcGVub2ZmaWNlLm9yZy8yMDA0L2NhbGNcIixcblx0XHRcdCd4bWxuczpkb20nOiAgICAgICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDEveG1sLWV2ZW50c1wiLFxuXHRcdFx0J3htbG5zOnhmb3Jtcyc6ICAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMi94Zm9ybXNcIixcblx0XHRcdCd4bWxuczp4c2QnOiAgICAgICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hXCIsXG5cdFx0XHQneG1sbnM6eHNpJzogICAgICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiLFxuXHRcdFx0J3htbG5zOnNoZWV0JzogICAgICAgIFwidXJuOm9hc2lzOm5hbWVzOnRjOm9wZW5kb2N1bWVudDpzaDMzdGpzOjEuMFwiLFxuXHRcdFx0J3htbG5zOnJwdCc6ICAgICAgICAgIFwiaHR0cDovL29wZW5vZmZpY2Uub3JnLzIwMDUvcmVwb3J0XCIsXG5cdFx0XHQneG1sbnM6b2YnOiAgICAgICAgICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOm9mOjEuMlwiLFxuXHRcdFx0J3htbG5zOnhodG1sJzogICAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFxuXHRcdFx0J3htbG5zOmdyZGRsJzogICAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMy9nL2RhdGEtdmlldyNcIixcblx0XHRcdCd4bWxuczp0YWJsZW9vbyc6ICAgICBcImh0dHA6Ly9vcGVub2ZmaWNlLm9yZy8yMDA5L3RhYmxlXCIsXG5cdFx0XHQneG1sbnM6ZHJhd29vbyc6ICAgICAgXCJodHRwOi8vb3Blbm9mZmljZS5vcmcvMjAxMC9kcmF3XCIsXG5cdFx0XHQneG1sbnM6Y2FsY2V4dCc6ICAgICAgXCJ1cm46b3JnOmRvY3VtZW50Zm91bmRhdGlvbjpuYW1lczpleHBlcmltZW50YWw6Y2FsYzp4bWxuczpjYWxjZXh0OjEuMFwiLFxuXHRcdFx0J3htbG5zOmxvZXh0JzogICAgICAgIFwidXJuOm9yZzpkb2N1bWVudGZvdW5kYXRpb246bmFtZXM6ZXhwZXJpbWVudGFsOm9mZmljZTp4bWxuczpsb2V4dDoxLjBcIixcblx0XHRcdCd4bWxuczpmaWVsZCc6ICAgICAgICBcInVybjpvcGVub2ZmaWNlOm5hbWVzOmV4cGVyaW1lbnRhbDpvb28tbXMtaW50ZXJvcDp4bWxuczpmaWVsZDoxLjBcIixcblx0XHRcdCd4bWxuczpmb3JteCc6ICAgICAgICBcInVybjpvcGVub2ZmaWNlOm5hbWVzOmV4cGVyaW1lbnRhbDpvb3htbC1vZGYtaW50ZXJvcDp4bWxuczpmb3JtOjEuMFwiLFxuXHRcdFx0J3htbG5zOmNzczN0JzogICAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy10ZXh0L1wiLFxuXHRcdFx0J29mZmljZTp2ZXJzaW9uJzogICAgIFwiMS4yXCJcblx0XHR9KTtcblxuXHRcdHZhciBmb2RzID0gd3h0X2hlbHBlcih7XG5cdFx0XHQneG1sbnM6Y29uZmlnJzogICAgXCJ1cm46b2FzaXM6bmFtZXM6dGM6b3BlbmRvY3VtZW50OnhtbG5zOmNvbmZpZzoxLjBcIixcblx0XHRcdCdvZmZpY2U6bWltZXR5cGUnOiBcImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXRcIlxuXHRcdH0pO1xuXG5cdFx0aWYob3B0cy5ib29rVHlwZSA9PSBcImZvZHNcIikge1xuXHRcdFx0by5wdXNoKCc8b2ZmaWNlOmRvY3VtZW50JyArIGF0dHIgKyBmb2RzICsgJz5cXG4nKTtcblx0XHRcdG8ucHVzaCh3cml0ZV9tZXRhX29kcygpLnJlcGxhY2UoLzxvZmZpY2U6ZG9jdW1lbnQtbWV0YVtePD5dKj8+LywgXCJcIikucmVwbGFjZSgvPFxcL29mZmljZTpkb2N1bWVudC1tZXRhPi8sIFwiXCIpICsgXCJcXG5cIik7XG5cdFx0XHQvLyBUT0RPOiBzZXR0aW5ncyAoZXF1aXYgb2Ygc2V0dGluZ3MueG1sIGZvciBPRFMpXG5cdFx0fSBlbHNlIG8ucHVzaCgnPG9mZmljZTpkb2N1bWVudC1jb250ZW50JyArIGF0dHIgICsgJz5cXG4nKTtcblx0XHQvLyBvLnB1c2goJyAgPG9mZmljZTpzY3JpcHRzLz5cXG4nKTtcblx0XHR2YXIgbmZzID0gd3JpdGVfYXV0b21hdGljX3N0eWxlc19vZHMobywgd2IpO1xuXHRcdG8ucHVzaCgnICA8b2ZmaWNlOmJvZHk+XFxuJyk7XG5cdFx0by5wdXNoKCcgICAgPG9mZmljZTpzcHJlYWRzaGVldD5cXG4nKTtcblx0XHRpZigoKHdiLldvcmtib29rfHx7fSkuV0JQcm9wc3x8e30pLmRhdGUxOTA0KSBvLnB1c2goJyAgICAgIDx0YWJsZTpjYWxjdWxhdGlvbi1zZXR0aW5ncyB0YWJsZTpjYXNlLXNlbnNpdGl2ZT1cImZhbHNlXCIgdGFibGU6c2VhcmNoLWNyaXRlcmlhLW11c3QtYXBwbHktdG8td2hvbGUtY2VsbD1cInRydWVcIiB0YWJsZTp1c2Utd2lsZGNhcmRzPVwidHJ1ZVwiIHRhYmxlOnVzZS1yZWd1bGFyLWV4cHJlc3Npb25zPVwiZmFsc2VcIiB0YWJsZTphdXRvbWF0aWMtZmluZC1sYWJlbHM9XCJmYWxzZVwiPlxcbiAgICAgICAgPHRhYmxlOm51bGwtZGF0ZSB0YWJsZTpkYXRlLXZhbHVlPVwiMTkwNC0wMS0wMVwiLz5cXG4gICAgICA8L3RhYmxlOmNhbGN1bGF0aW9uLXNldHRpbmdzPlxcbicpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgIT0gd2IuU2hlZXROYW1lcy5sZW5ndGg7ICsraSkgby5wdXNoKHdyaXRlX3dzKHdiLlNoZWV0c1t3Yi5TaGVldE5hbWVzW2ldXSwgd2IsIGksIG9wdHMsIG5mcywgKCh3Yi5Xb3JrYm9va3x8e30pLldCUHJvcHN8fHt9KS5kYXRlMTkwNCkpO1xuXHRcdGlmKCh3Yi5Xb3JrYm9va3x8e30pLk5hbWVzKSBvLnB1c2god3JpdGVfbmFtZXNfb2RzKHdiLldvcmtib29rLk5hbWVzLCB3Yi5TaGVldE5hbWVzLCAtMSkpO1xuXHRcdG8ucHVzaCgnICAgIDwvb2ZmaWNlOnNwcmVhZHNoZWV0PlxcbicpO1xuXHRcdG8ucHVzaCgnICA8L29mZmljZTpib2R5PlxcbicpO1xuXHRcdGlmKG9wdHMuYm9va1R5cGUgPT0gXCJmb2RzXCIpIG8ucHVzaCgnPC9vZmZpY2U6ZG9jdW1lbnQ+Jyk7XG5cdFx0ZWxzZSBvLnB1c2goJzwvb2ZmaWNlOmRvY3VtZW50LWNvbnRlbnQ+Jyk7XG5cdFx0cmV0dXJuIG8uam9pbihcIlwiKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIHdyaXRlX29kcyh3Yi8qOmFueSovLCBvcHRzLyo6YW55Ki8pIHtcblx0aWYob3B0cy5ib29rVHlwZSA9PSBcImZvZHNcIikgcmV0dXJuIHdyaXRlX2NvbnRlbnRfb2RzKHdiLCBvcHRzKTtcblxuXHR2YXIgemlwID0gemlwX25ldygpO1xuXHR2YXIgZiA9IFwiXCI7XG5cblx0dmFyIG1hbmlmZXN0Lyo6QXJyYXk8QXJyYXk8c3RyaW5nPiA+Ki8gPSBbXTtcblx0dmFyIHJkZi8qOkFycmF5PFtzdHJpbmcsIHN0cmluZ10+Ki8gPSBbXTtcblxuXHQvKiBQYXJ0IDMgU2VjdGlvbiAzLjMgTUlNRSBNZWRpYSBUeXBlICovXG5cdGYgPSBcIm1pbWV0eXBlXCI7XG5cdHppcF9hZGRfZmlsZSh6aXAsIGYsIFwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5zcHJlYWRzaGVldFwiKTtcblxuXHQvKiBQYXJ0IDEgU2VjdGlvbiAyLjIgRG9jdW1lbnRzICovXG5cdGYgPSBcImNvbnRlbnQueG1sXCI7XG5cdHppcF9hZGRfZmlsZSh6aXAsIGYsIHdyaXRlX2NvbnRlbnRfb2RzKHdiLCBvcHRzKSk7XG5cdG1hbmlmZXN0LnB1c2goW2YsIFwidGV4dC94bWxcIl0pO1xuXHRyZGYucHVzaChbZiwgXCJDb250ZW50RmlsZVwiXSk7XG5cblx0LyogVE9ETzogdGhlc2UgYXJlIGhhcmQtY29kZWQgc3R5bGVzIHRvIHNhdGlhdGUgZXhjZWwgKi9cblx0ZiA9IFwic3R5bGVzLnhtbFwiO1xuXHR6aXBfYWRkX2ZpbGUoemlwLCBmLCB3cml0ZV9zdHlsZXNfb2RzKHdiLCBvcHRzKSk7XG5cdG1hbmlmZXN0LnB1c2goW2YsIFwidGV4dC94bWxcIl0pO1xuXHRyZGYucHVzaChbZiwgXCJTdHlsZXNGaWxlXCJdKTtcblxuXHQvKiBUT0RPOiB0aGlzIGlzIGhhcmQtY29kZWQgdG8gc2F0aWF0ZSBleGNlbCAqL1xuXHRmID0gXCJtZXRhLnhtbFwiO1xuXHR6aXBfYWRkX2ZpbGUoemlwLCBmLCBYTUxfSEVBREVSICsgd3JpdGVfbWV0YV9vZHMoLyo6OndiLCBvcHRzKi8pKTtcblx0bWFuaWZlc3QucHVzaChbZiwgXCJ0ZXh0L3htbFwiXSk7XG5cdHJkZi5wdXNoKFtmLCBcIk1ldGFkYXRhRmlsZVwiXSk7XG5cblx0LyogUGFydCAzIFNlY3Rpb24gNiBNZXRhZGF0YSBNYW5pZmVzdCBGaWxlICovXG5cdGYgPSBcIm1hbmlmZXN0LnJkZlwiO1xuXHR6aXBfYWRkX2ZpbGUoemlwLCBmLCB3cml0ZV9yZGYocmRmLyosIG9wdHMqLykpO1xuXHRtYW5pZmVzdC5wdXNoKFtmLCBcImFwcGxpY2F0aW9uL3JkZit4bWxcIl0pO1xuXG5cdC8qIFBhcnQgMyBTZWN0aW9uIDQgTWFuaWZlc3QgRmlsZSAqL1xuXHRmID0gXCJNRVRBLUlORi9tYW5pZmVzdC54bWxcIjtcblx0emlwX2FkZF9maWxlKHppcCwgZiwgd3JpdGVfbWFuaWZlc3QobWFuaWZlc3QvKiwgb3B0cyovKSk7XG5cblx0cmV0dXJuIHppcDtcbn1cblxuLyohIHNoZWV0anMgKEMpIDIwMTMtcHJlc2VudCBTaGVldEpTIC0tIGh0dHA6Ly9zaGVldGpzLmNvbSAqL1xudmFyIHN1YmFycmF5ID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiBVaW50OEFycmF5ID09IFwidW5kZWZpbmVkXCIpXG4gICAgICByZXR1cm4gXCJzbGljZVwiO1xuICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuc3ViYXJyYXkgPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgIHJldHVybiBcInNsaWNlXCI7XG4gICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGlmICh0eXBlb2YgQnVmZmVyLnByb3RvdHlwZS5zdWJhcnJheSA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gXCJzbGljZVwiO1xuICAgICAgaWYgKCh0eXBlb2YgQnVmZmVyLmZyb20gPT0gXCJmdW5jdGlvblwiID8gQnVmZmVyLmZyb20oWzcyLCA2Ml0pIDogbmV3IEJ1ZmZlcihbNzIsIDYyXSkpIGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAgcmV0dXJuIFwic3ViYXJyYXlcIjtcbiAgICAgIHJldHVybiBcInNsaWNlXCI7XG4gICAgfVxuICAgIHJldHVybiBcInN1YmFycmF5XCI7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gXCJzbGljZVwiO1xuICB9XG59KCk7XG5mdW5jdGlvbiB1OF90b19kYXRhdmlldyhhcnJheSkge1xuICByZXR1cm4gbmV3IERhdGFWaWV3KGFycmF5LmJ1ZmZlciwgYXJyYXkuYnl0ZU9mZnNldCwgYXJyYXkuYnl0ZUxlbmd0aCk7XG59XG5mdW5jdGlvbiB1OHN0cih1OCkge1xuICByZXR1cm4gdHlwZW9mIFRleHREZWNvZGVyICE9IFwidW5kZWZpbmVkXCIgPyBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodTgpIDogdXRmOHJlYWQoYTJzKHU4KSk7XG59XG5mdW5jdGlvbiBzdHJ1OChzdHIpIHtcbiAgcmV0dXJuIHR5cGVvZiBUZXh0RW5jb2RlciAhPSBcInVuZGVmaW5lZFwiID8gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cikgOiBzMmEodXRmOHdyaXRlKHN0cikpO1xufVxuZnVuY3Rpb24gdThjb25jYXQodThhKSB7XG4gIHZhciBsZW4gPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHU4YS5sZW5ndGg7ICsraSlcbiAgICBsZW4gKz0gdThhW2ldLmxlbmd0aDtcbiAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gIHZhciBvZmYgPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgdThhLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHU4ID0gdThhW2ldLCBMID0gdTgubGVuZ3RoO1xuICAgIGlmIChMIDwgMjUwKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IEw7ICsrailcbiAgICAgICAgb3V0W29mZisrXSA9IHU4W2pdO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQuc2V0KHU4LCBvZmYpO1xuICAgICAgb2ZmICs9IEw7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiBwb3BjbnQoeCkge1xuICB4IC09IHggPj4gMSAmIDE0MzE2NTU3NjU7XG4gIHggPSAoeCAmIDg1ODk5MzQ1OSkgKyAoeCA+PiAyICYgODU4OTkzNDU5KTtcbiAgcmV0dXJuICh4ICsgKHggPj4gNCkgJiAyNTI2NDUxMzUpICogMTY4NDMwMDkgPj4+IDI0O1xufVxuZnVuY3Rpb24gcmVhZERlY2ltYWwxMjhMRShidWYsIG9mZnNldCkge1xuICB2YXIgZXhwID0gKGJ1ZltvZmZzZXQgKyAxNV0gJiAxMjcpIDw8IDcgfCBidWZbb2Zmc2V0ICsgMTRdID4+IDE7XG4gIHZhciBtYW50aXNzYSA9IGJ1ZltvZmZzZXQgKyAxNF0gJiAxO1xuICBmb3IgKHZhciBqID0gb2Zmc2V0ICsgMTM7IGogPj0gb2Zmc2V0OyAtLWopXG4gICAgbWFudGlzc2EgPSBtYW50aXNzYSAqIDI1NiArIGJ1ZltqXTtcbiAgcmV0dXJuIChidWZbb2Zmc2V0ICsgMTVdICYgMTI4ID8gLW1hbnRpc3NhIDogbWFudGlzc2EpICogTWF0aC5wb3coMTAsIGV4cCAtIDYxNzYpO1xufVxuZnVuY3Rpb24gd3JpdGVEZWNpbWFsMTI4TEUoYnVmLCBvZmZzZXQsIHZhbHVlKSB7XG4gIHZhciBleHAgPSBNYXRoLmZsb29yKHZhbHVlID09IDAgPyAwIDogTWF0aC5MT0cxMEUgKiBNYXRoLmxvZyhNYXRoLmFicyh2YWx1ZSkpKSArIDYxNzYgLSAxNjtcbiAgdmFyIG1hbnRpc3NhID0gdmFsdWUgLyBNYXRoLnBvdygxMCwgZXhwIC0gNjE3Nik7XG4gIGJ1ZltvZmZzZXQgKyAxNV0gfD0gZXhwID4+IDc7XG4gIGJ1ZltvZmZzZXQgKyAxNF0gfD0gKGV4cCAmIDEyNykgPDwgMTtcbiAgZm9yICh2YXIgaSA9IDA7IG1hbnRpc3NhID49IDE7ICsraSwgbWFudGlzc2EgLz0gMjU2KVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IG1hbnRpc3NhICYgMjU1O1xuICBidWZbb2Zmc2V0ICsgMTVdIHw9IHZhbHVlID49IDAgPyAwIDogMTI4O1xufVxuZnVuY3Rpb24gcGFyc2VfdmFyaW50NDkoYnVmLCBwdHIpIHtcbiAgdmFyIGwgPSBwdHIubDtcbiAgdmFyIHVzeiA9IGJ1ZltsXSAmIDEyNztcbiAgdmFyaW50OlxuICAgIGlmIChidWZbbCsrXSA+PSAxMjgpIHtcbiAgICAgIHVzeiB8PSAoYnVmW2xdICYgMTI3KSA8PCA3O1xuICAgICAgaWYgKGJ1ZltsKytdIDwgMTI4KVxuICAgICAgICBicmVhayB2YXJpbnQ7XG4gICAgICB1c3ogfD0gKGJ1ZltsXSAmIDEyNykgPDwgMTQ7XG4gICAgICBpZiAoYnVmW2wrK10gPCAxMjgpXG4gICAgICAgIGJyZWFrIHZhcmludDtcbiAgICAgIHVzeiB8PSAoYnVmW2xdICYgMTI3KSA8PCAyMTtcbiAgICAgIGlmIChidWZbbCsrXSA8IDEyOClcbiAgICAgICAgYnJlYWsgdmFyaW50O1xuICAgICAgdXN6ICs9IChidWZbbF0gJiAxMjcpICogTWF0aC5wb3coMiwgMjgpO1xuICAgICAgKytsO1xuICAgICAgaWYgKGJ1ZltsKytdIDwgMTI4KVxuICAgICAgICBicmVhayB2YXJpbnQ7XG4gICAgICB1c3ogKz0gKGJ1ZltsXSAmIDEyNykgKiBNYXRoLnBvdygyLCAzNSk7XG4gICAgICArK2w7XG4gICAgICBpZiAoYnVmW2wrK10gPCAxMjgpXG4gICAgICAgIGJyZWFrIHZhcmludDtcbiAgICAgIHVzeiArPSAoYnVmW2xdICYgMTI3KSAqIE1hdGgucG93KDIsIDQyKTtcbiAgICAgICsrbDtcbiAgICAgIGlmIChidWZbbCsrXSA8IDEyOClcbiAgICAgICAgYnJlYWsgdmFyaW50O1xuICAgIH1cbiAgcHRyLmwgPSBsO1xuICByZXR1cm4gdXN6O1xufVxuZnVuY3Rpb24gd3JpdGVfdmFyaW50NDkodikge1xuICB2YXIgdXN6ID0gbmV3IFVpbnQ4QXJyYXkoNyk7XG4gIHVzelswXSA9IHYgJiAxMjc7XG4gIHZhciBMID0gMTtcbiAgc3o6XG4gICAgaWYgKHYgPiAxMjcpIHtcbiAgICAgIHVzeltMIC0gMV0gfD0gMTI4O1xuICAgICAgdXN6W0xdID0gdiA+PiA3ICYgMTI3O1xuICAgICAgKytMO1xuICAgICAgaWYgKHYgPD0gMTYzODMpXG4gICAgICAgIGJyZWFrIHN6O1xuICAgICAgdXN6W0wgLSAxXSB8PSAxMjg7XG4gICAgICB1c3pbTF0gPSB2ID4+IDE0ICYgMTI3O1xuICAgICAgKytMO1xuICAgICAgaWYgKHYgPD0gMjA5NzE1MSlcbiAgICAgICAgYnJlYWsgc3o7XG4gICAgICB1c3pbTCAtIDFdIHw9IDEyODtcbiAgICAgIHVzeltMXSA9IHYgPj4gMjEgJiAxMjc7XG4gICAgICArK0w7XG4gICAgICBpZiAodiA8PSAyNjg0MzU0NTUpXG4gICAgICAgIGJyZWFrIHN6O1xuICAgICAgdXN6W0wgLSAxXSB8PSAxMjg7XG4gICAgICB1c3pbTF0gPSB2IC8gMjU2ID4+PiAyMSAmIDEyNztcbiAgICAgICsrTDtcbiAgICAgIGlmICh2IDw9IDM0MzU5NzM4MzY3KVxuICAgICAgICBicmVhayBzejtcbiAgICAgIHVzeltMIC0gMV0gfD0gMTI4O1xuICAgICAgdXN6W0xdID0gdiAvIDY1NTM2ID4+PiAyMSAmIDEyNztcbiAgICAgICsrTDtcbiAgICAgIGlmICh2IDw9IDQzOTgwNDY1MTExMDMpXG4gICAgICAgIGJyZWFrIHN6O1xuICAgICAgdXN6W0wgLSAxXSB8PSAxMjg7XG4gICAgICB1c3pbTF0gPSB2IC8gMTY3NzcyMTYgPj4+IDIxICYgMTI3O1xuICAgICAgKytMO1xuICAgIH1cbiAgcmV0dXJuIHVzeltzdWJhcnJheV0oMCwgTCk7XG59XG5mdW5jdGlvbiBwYXJzZV9wYWNrZWRfdmFyaW50cyhidWYpIHtcbiAgdmFyIHB0ciA9IHsgbDogMCB9O1xuICB2YXIgb3V0ID0gW107XG4gIHdoaWxlIChwdHIubCA8IGJ1Zi5sZW5ndGgpXG4gICAgb3V0LnB1c2gocGFyc2VfdmFyaW50NDkoYnVmLCBwdHIpKTtcbiAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHdyaXRlX3BhY2tlZF92YXJpbnRzKG51bXMpIHtcbiAgcmV0dXJuIHU4Y29uY2F0KG51bXMubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gd3JpdGVfdmFyaW50NDkoeCk7XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIHZhcmludF90b19pMzIoYnVmKSB7XG4gIHZhciBsID0gMCwgaTMyID0gYnVmW2xdICYgMTI3O1xuICBpZiAoYnVmW2wrK10gPCAxMjgpXG4gICAgcmV0dXJuIGkzMjtcbiAgaTMyIHw9IChidWZbbF0gJiAxMjcpIDw8IDc7XG4gIGlmIChidWZbbCsrXSA8IDEyOClcbiAgICByZXR1cm4gaTMyO1xuICBpMzIgfD0gKGJ1ZltsXSAmIDEyNykgPDwgMTQ7XG4gIGlmIChidWZbbCsrXSA8IDEyOClcbiAgICByZXR1cm4gaTMyO1xuICBpMzIgfD0gKGJ1ZltsXSAmIDEyNykgPDwgMjE7XG4gIGlmIChidWZbbCsrXSA8IDEyOClcbiAgICByZXR1cm4gaTMyO1xuICBpMzIgfD0gKGJ1ZltsXSAmIDE1KSA8PCAyODtcbiAgcmV0dXJuIGkzMjtcbn1cbmZ1bmN0aW9uIHZhcmludF90b191NjQoYnVmKSB7XG4gIHZhciBsID0gMCwgbG8gPSBidWZbbF0gJiAxMjcsIGhpID0gMDtcbiAgdmFyaW50OlxuICAgIGlmIChidWZbbCsrXSA+PSAxMjgpIHtcbiAgICAgIGxvIHw9IChidWZbbF0gJiAxMjcpIDw8IDc7XG4gICAgICBpZiAoYnVmW2wrK10gPCAxMjgpXG4gICAgICAgIGJyZWFrIHZhcmludDtcbiAgICAgIGxvIHw9IChidWZbbF0gJiAxMjcpIDw8IDE0O1xuICAgICAgaWYgKGJ1ZltsKytdIDwgMTI4KVxuICAgICAgICBicmVhayB2YXJpbnQ7XG4gICAgICBsbyB8PSAoYnVmW2xdICYgMTI3KSA8PCAyMTtcbiAgICAgIGlmIChidWZbbCsrXSA8IDEyOClcbiAgICAgICAgYnJlYWsgdmFyaW50O1xuICAgICAgbG8gfD0gKGJ1ZltsXSAmIDEyNykgPDwgMjg7XG4gICAgICBoaSA9IGJ1ZltsXSA+PiA0ICYgNztcbiAgICAgIGlmIChidWZbbCsrXSA8IDEyOClcbiAgICAgICAgYnJlYWsgdmFyaW50O1xuICAgICAgaGkgfD0gKGJ1ZltsXSAmIDEyNykgPDwgMztcbiAgICAgIGlmIChidWZbbCsrXSA8IDEyOClcbiAgICAgICAgYnJlYWsgdmFyaW50O1xuICAgICAgaGkgfD0gKGJ1ZltsXSAmIDEyNykgPDwgMTA7XG4gICAgICBpZiAoYnVmW2wrK10gPCAxMjgpXG4gICAgICAgIGJyZWFrIHZhcmludDtcbiAgICAgIGhpIHw9IChidWZbbF0gJiAxMjcpIDw8IDE3O1xuICAgICAgaWYgKGJ1ZltsKytdIDwgMTI4KVxuICAgICAgICBicmVhayB2YXJpbnQ7XG4gICAgICBoaSB8PSAoYnVmW2xdICYgMTI3KSA8PCAyNDtcbiAgICAgIGlmIChidWZbbCsrXSA8IDEyOClcbiAgICAgICAgYnJlYWsgdmFyaW50O1xuICAgICAgaGkgfD0gKGJ1ZltsXSAmIDEyNykgPDwgMzE7XG4gICAgfVxuICByZXR1cm4gW2xvID4+PiAwLCBoaSA+Pj4gMF07XG59XG5mdW5jdGlvbiBwYXJzZV9zaGFsbG93KGJ1Zikge1xuICB2YXIgb3V0ID0gW10sIHB0ciA9IHsgbDogMCB9O1xuICB3aGlsZSAocHRyLmwgPCBidWYubGVuZ3RoKSB7XG4gICAgdmFyIG9mZiA9IHB0ci5sO1xuICAgIHZhciBudW0gPSBwYXJzZV92YXJpbnQ0OShidWYsIHB0cik7XG4gICAgdmFyIHR5cGUgPSBudW0gJiA3O1xuICAgIG51bSA9IG51bSAvIDggfCAwO1xuICAgIHZhciBkYXRhO1xuICAgIHZhciBsID0gcHRyLmw7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHtcbiAgICAgICAgICB3aGlsZSAoYnVmW2wrK10gPj0gMTI4KVxuICAgICAgICAgICAgO1xuICAgICAgICAgIGRhdGEgPSBidWZbc3ViYXJyYXldKHB0ci5sLCBsKTtcbiAgICAgICAgICBwdHIubCA9IGw7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHtcbiAgICAgICAgICBkYXRhID0gYnVmW3N1YmFycmF5XShsLCBsICsgOCk7XG4gICAgICAgICAgcHRyLmwgPSBsICsgODtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBsZW4gPSBwYXJzZV92YXJpbnQ0OShidWYsIHB0cik7XG4gICAgICAgICAgZGF0YSA9IGJ1ZltzdWJhcnJheV0ocHRyLmwsIHB0ci5sICsgbGVuKTtcbiAgICAgICAgICBwdHIubCArPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDU6XG4gICAgICAgIHtcbiAgICAgICAgICBkYXRhID0gYnVmW3N1YmFycmF5XShsLCBsICsgNCk7XG4gICAgICAgICAgcHRyLmwgPSBsICsgNDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBCIFR5cGUgXCIuY29uY2F0KHR5cGUsIFwiIGZvciBGaWVsZCBcIikuY29uY2F0KG51bSwgXCIgYXQgb2Zmc2V0IFwiKS5jb25jYXQob2ZmKSk7XG4gICAgfVxuICAgIHZhciB2ID0geyBkYXRhOiBkYXRhLCB0eXBlOiB0eXBlIH07XG4gICAgaWYgKG91dFtudW1dID09IG51bGwpXG4gICAgICBvdXRbbnVtXSA9IFtdO1xuICAgIG91dFtudW1dLnB1c2godik7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHdyaXRlX3NoYWxsb3cocHJvdG8pIHtcbiAgdmFyIG91dCA9IFtdO1xuICBwcm90by5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkLCBpZHgpIHtcbiAgICBpZiAoaWR4ID09IDApXG4gICAgICByZXR1cm47XG4gICAgZmllbGQuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoIWl0ZW0uZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgb3V0LnB1c2god3JpdGVfdmFyaW50NDkoaWR4ICogOCArIGl0ZW0udHlwZSkpO1xuICAgICAgaWYgKGl0ZW0udHlwZSA9PSAyKVxuICAgICAgICBvdXQucHVzaCh3cml0ZV92YXJpbnQ0OShpdGVtLmRhdGEubGVuZ3RoKSk7XG4gICAgICBvdXQucHVzaChpdGVtLmRhdGEpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHU4Y29uY2F0KG91dCk7XG59XG5mdW5jdGlvbiBtYXBwYShkYXRhLCBjYikge1xuICByZXR1cm4gKGRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGRhdGEubWFwKGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gY2IoZC5kYXRhKTtcbiAgfSkpIHx8IFtdO1xufVxuZnVuY3Rpb24gcGFyc2VfaXdhX2ZpbGUoYnVmKSB7XG4gIHZhciBfYTtcbiAgdmFyIG91dCA9IFtdLCBwdHIgPSB7IGw6IDAgfTtcbiAgd2hpbGUgKHB0ci5sIDwgYnVmLmxlbmd0aCkge1xuICAgIHZhciBsZW4gPSBwYXJzZV92YXJpbnQ0OShidWYsIHB0cik7XG4gICAgdmFyIGFpID0gcGFyc2Vfc2hhbGxvdyhidWZbc3ViYXJyYXldKHB0ci5sLCBwdHIubCArIGxlbikpO1xuICAgIHB0ci5sICs9IGxlbjtcbiAgICB2YXIgcmVzID0ge1xuICAgICAgaWQ6IHZhcmludF90b19pMzIoYWlbMV1bMF0uZGF0YSksXG4gICAgICBtZXNzYWdlczogW11cbiAgICB9O1xuICAgIGFpWzJdLmZvckVhY2goZnVuY3Rpb24oYikge1xuICAgICAgdmFyIG1pID0gcGFyc2Vfc2hhbGxvdyhiLmRhdGEpO1xuICAgICAgdmFyIGZsID0gdmFyaW50X3RvX2kzMihtaVszXVswXS5kYXRhKTtcbiAgICAgIHJlcy5tZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgbWV0YTogbWksXG4gICAgICAgIGRhdGE6IGJ1ZltzdWJhcnJheV0ocHRyLmwsIHB0ci5sICsgZmwpXG4gICAgICB9KTtcbiAgICAgIHB0ci5sICs9IGZsO1xuICAgIH0pO1xuICAgIGlmICgoX2EgPSBhaVszXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKVxuICAgICAgcmVzLm1lcmdlID0gdmFyaW50X3RvX2kzMihhaVszXVswXS5kYXRhKSA+Pj4gMCA+IDA7XG4gICAgb3V0LnB1c2gocmVzKTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gd3JpdGVfaXdhX2ZpbGUoaWFzKSB7XG4gIHZhciBidWZzID0gW107XG4gIGlhcy5mb3JFYWNoKGZ1bmN0aW9uKGlhKSB7XG4gICAgdmFyIGFpID0gW1xuICAgICAgW10sXG4gICAgICBbeyBkYXRhOiB3cml0ZV92YXJpbnQ0OShpYS5pZCksIHR5cGU6IDAgfV0sXG4gICAgICBbXVxuICAgIF07XG4gICAgaWYgKGlhLm1lcmdlICE9IG51bGwpXG4gICAgICBhaVszXSA9IFt7IGRhdGE6IHdyaXRlX3ZhcmludDQ5KCshIWlhLm1lcmdlKSwgdHlwZTogMCB9XTtcbiAgICB2YXIgbWlkYXRhID0gW107XG4gICAgaWEubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihtaSkge1xuICAgICAgbWlkYXRhLnB1c2gobWkuZGF0YSk7XG4gICAgICBtaS5tZXRhWzNdID0gW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkobWkuZGF0YS5sZW5ndGgpIH1dO1xuICAgICAgYWlbMl0ucHVzaCh7IGRhdGE6IHdyaXRlX3NoYWxsb3cobWkubWV0YSksIHR5cGU6IDIgfSk7XG4gICAgfSk7XG4gICAgdmFyIGFpcGF5bG9hZCA9IHdyaXRlX3NoYWxsb3coYWkpO1xuICAgIGJ1ZnMucHVzaCh3cml0ZV92YXJpbnQ0OShhaXBheWxvYWQubGVuZ3RoKSk7XG4gICAgYnVmcy5wdXNoKGFpcGF5bG9hZCk7XG4gICAgbWlkYXRhLmZvckVhY2goZnVuY3Rpb24obWlkKSB7XG4gICAgICByZXR1cm4gYnVmcy5wdXNoKG1pZCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdThjb25jYXQoYnVmcyk7XG59XG5mdW5jdGlvbiBwYXJzZV9zbmFwcHlfY2h1bmsodHlwZSwgYnVmKSB7XG4gIGlmICh0eXBlICE9IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBTbmFwcHkgY2h1bmsgdHlwZSBcIi5jb25jYXQodHlwZSkpO1xuICB2YXIgcHRyID0geyBsOiAwIH07XG4gIHZhciB1c3ogPSBwYXJzZV92YXJpbnQ0OShidWYsIHB0cik7XG4gIHZhciBjaHVua3MgPSBbXTtcbiAgdmFyIGwgPSBwdHIubDtcbiAgd2hpbGUgKGwgPCBidWYubGVuZ3RoKSB7XG4gICAgdmFyIHRhZyA9IGJ1ZltsXSAmIDM7XG4gICAgaWYgKHRhZyA9PSAwKSB7XG4gICAgICB2YXIgbGVuID0gYnVmW2wrK10gPj4gMjtcbiAgICAgIGlmIChsZW4gPCA2MClcbiAgICAgICAgKytsZW47XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGMgPSBsZW4gLSA1OTtcbiAgICAgICAgbGVuID0gYnVmW2xdO1xuICAgICAgICBpZiAoYyA+IDEpXG4gICAgICAgICAgbGVuIHw9IGJ1ZltsICsgMV0gPDwgODtcbiAgICAgICAgaWYgKGMgPiAyKVxuICAgICAgICAgIGxlbiB8PSBidWZbbCArIDJdIDw8IDE2O1xuICAgICAgICBpZiAoYyA+IDMpXG4gICAgICAgICAgbGVuIHw9IGJ1ZltsICsgM10gPDwgMjQ7XG4gICAgICAgIGxlbiA+Pj49IDA7XG4gICAgICAgIGxlbisrO1xuICAgICAgICBsICs9IGM7XG4gICAgICB9XG4gICAgICBjaHVua3MucHVzaChidWZbc3ViYXJyYXldKGwsIGwgKyBsZW4pKTtcbiAgICAgIGwgKz0gbGVuO1xuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBvZmZzZXQgPSAwLCBsZW5ndGggPSAwO1xuICAgICAgaWYgKHRhZyA9PSAxKSB7XG4gICAgICAgIGxlbmd0aCA9IChidWZbbF0gPj4gMiAmIDcpICsgNDtcbiAgICAgICAgb2Zmc2V0ID0gKGJ1ZltsKytdICYgMjI0KSA8PCAzO1xuICAgICAgICBvZmZzZXQgfD0gYnVmW2wrK107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZW5ndGggPSAoYnVmW2wrK10gPj4gMikgKyAxO1xuICAgICAgICBpZiAodGFnID09IDIpIHtcbiAgICAgICAgICBvZmZzZXQgPSBidWZbbF0gfCBidWZbbCArIDFdIDw8IDg7XG4gICAgICAgICAgbCArPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9mZnNldCA9IChidWZbbF0gfCBidWZbbCArIDFdIDw8IDggfCBidWZbbCArIDJdIDw8IDE2IHwgYnVmW2wgKyAzXSA8PCAyNCkgPj4+IDA7XG4gICAgICAgICAgbCArPSA0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAob2Zmc2V0ID09IDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb2Zmc2V0IDBcIik7XG4gICAgICB2YXIgaiA9IGNodW5rcy5sZW5ndGggLSAxLCBvZmYgPSBvZmZzZXQ7XG4gICAgICB3aGlsZSAoaiA+PSAwICYmIG9mZiA+PSBjaHVua3Nbal0ubGVuZ3RoKSB7XG4gICAgICAgIG9mZiAtPSBjaHVua3Nbal0ubGVuZ3RoO1xuICAgICAgICAtLWo7XG4gICAgICB9XG4gICAgICBpZiAoaiA8IDApIHtcbiAgICAgICAgaWYgKG9mZiA9PSAwKVxuICAgICAgICAgIG9mZiA9IGNodW5rc1tqID0gMF0ubGVuZ3RoO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvZmZzZXQgYmV5b25kIGxlbmd0aFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPCBvZmYpXG4gICAgICAgIGNodW5rcy5wdXNoKGNodW5rc1tqXVtzdWJhcnJheV0oY2h1bmtzW2pdLmxlbmd0aCAtIG9mZiwgY2h1bmtzW2pdLmxlbmd0aCAtIG9mZiArIGxlbmd0aCkpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChvZmYgPiAwKSB7XG4gICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmtzW2pdW3N1YmFycmF5XShjaHVua3Nbal0ubGVuZ3RoIC0gb2ZmKSk7XG4gICAgICAgICAgbGVuZ3RoIC09IG9mZjtcbiAgICAgICAgfVxuICAgICAgICArK2o7XG4gICAgICAgIHdoaWxlIChsZW5ndGggPj0gY2h1bmtzW2pdLmxlbmd0aCkge1xuICAgICAgICAgIGNodW5rcy5wdXNoKGNodW5rc1tqXSk7XG4gICAgICAgICAgbGVuZ3RoIC09IGNodW5rc1tqXS5sZW5ndGg7XG4gICAgICAgICAgKytqO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW5ndGgpXG4gICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmtzW2pdW3N1YmFycmF5XSgwLCBsZW5ndGgpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjaHVua3MubGVuZ3RoID4gMjUpXG4gICAgICAgIGNodW5rcyA9IFt1OGNvbmNhdChjaHVua3MpXTtcbiAgICB9XG4gIH1cbiAgdmFyIGNsZW4gPSAwO1xuICBmb3IgKHZhciB1OGkgPSAwOyB1OGkgPCBjaHVua3MubGVuZ3RoOyArK3U4aSlcbiAgICBjbGVuICs9IGNodW5rc1t1OGldLmxlbmd0aDtcbiAgaWYgKGNsZW4gIT0gdXN6KVxuICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgbGVuZ3RoOiBcIi5jb25jYXQoY2xlbiwgXCIgIT0gXCIpLmNvbmNhdCh1c3opKTtcbiAgcmV0dXJuIGNodW5rcztcbn1cbmZ1bmN0aW9uIGRlY29tcHJlc3NfaXdhX2ZpbGUoYnVmKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGJ1ZikpXG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcbiAgdmFyIG91dCA9IFtdO1xuICB2YXIgbCA9IDA7XG4gIHdoaWxlIChsIDwgYnVmLmxlbmd0aCkge1xuICAgIHZhciB0ID0gYnVmW2wrK107XG4gICAgdmFyIGxlbiA9IGJ1ZltsXSB8IGJ1ZltsICsgMV0gPDwgOCB8IGJ1ZltsICsgMl0gPDwgMTY7XG4gICAgbCArPSAzO1xuICAgIG91dC5wdXNoLmFwcGx5KG91dCwgcGFyc2Vfc25hcHB5X2NodW5rKHQsIGJ1ZltzdWJhcnJheV0obCwgbCArIGxlbikpKTtcbiAgICBsICs9IGxlbjtcbiAgfVxuICBpZiAobCAhPT0gYnVmLmxlbmd0aClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIGlzIG5vdCBhIHZhbGlkIGZyYW1lZCBzdHJlYW0hXCIpO1xuICByZXR1cm4gb3V0Lmxlbmd0aCA9PSAxID8gb3V0WzBdIDogdThjb25jYXQob3V0KTtcbn1cbmZ1bmN0aW9uIGNvbXByZXNzX2l3YV9maWxlKGJ1Zikge1xuICB2YXIgb3V0ID0gW107XG4gIHZhciBsID0gMDtcbiAgd2hpbGUgKGwgPCBidWYubGVuZ3RoKSB7XG4gICAgdmFyIGMgPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gbCwgMjY4NDM1NDU1KTtcbiAgICB2YXIgZnJhbWUgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICBvdXQucHVzaChmcmFtZSk7XG4gICAgdmFyIHVzeiA9IHdyaXRlX3ZhcmludDQ5KGMpO1xuICAgIHZhciBMID0gdXN6Lmxlbmd0aDtcbiAgICBvdXQucHVzaCh1c3opO1xuICAgIGlmIChjIDw9IDYwKSB7XG4gICAgICBMKys7XG4gICAgICBvdXQucHVzaChuZXcgVWludDhBcnJheShbYyAtIDEgPDwgMl0pKTtcbiAgICB9IGVsc2UgaWYgKGMgPD0gMjU2KSB7XG4gICAgICBMICs9IDI7XG4gICAgICBvdXQucHVzaChuZXcgVWludDhBcnJheShbMjQwLCBjIC0gMSAmIDI1NV0pKTtcbiAgICB9IGVsc2UgaWYgKGMgPD0gNjU1MzYpIHtcbiAgICAgIEwgKz0gMztcbiAgICAgIG91dC5wdXNoKG5ldyBVaW50OEFycmF5KFsyNDQsIGMgLSAxICYgMjU1LCBjIC0gMSA+PiA4ICYgMjU1XSkpO1xuICAgIH0gZWxzZSBpZiAoYyA8PSAxNjc3NzIxNikge1xuICAgICAgTCArPSA0O1xuICAgICAgb3V0LnB1c2gobmV3IFVpbnQ4QXJyYXkoWzI0OCwgYyAtIDEgJiAyNTUsIGMgLSAxID4+IDggJiAyNTUsIGMgLSAxID4+IDE2ICYgMjU1XSkpO1xuICAgIH0gZWxzZSBpZiAoYyA8PSA0Mjk0OTY3Mjk2KSB7XG4gICAgICBMICs9IDU7XG4gICAgICBvdXQucHVzaChuZXcgVWludDhBcnJheShbMjUyLCBjIC0gMSAmIDI1NSwgYyAtIDEgPj4gOCAmIDI1NSwgYyAtIDEgPj4gMTYgJiAyNTUsIGMgLSAxID4+PiAyNCAmIDI1NV0pKTtcbiAgICB9XG4gICAgb3V0LnB1c2goYnVmW3N1YmFycmF5XShsLCBsICsgYykpO1xuICAgIEwgKz0gYztcbiAgICBmcmFtZVswXSA9IDA7XG4gICAgZnJhbWVbMV0gPSBMICYgMjU1O1xuICAgIGZyYW1lWzJdID0gTCA+PiA4ICYgMjU1O1xuICAgIGZyYW1lWzNdID0gTCA+PiAxNiAmIDI1NTtcbiAgICBsICs9IGM7XG4gIH1cbiAgcmV0dXJuIHU4Y29uY2F0KG91dCk7XG59XG52YXIgbnVtYmVyc19sdXRfbmV3ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7IHNzdDogW10sIHJzc3Q6IFtdLCBvZm10OiBbXSwgbmZtdDogW10sIGZtbGE6IFtdLCBmZXJyOiBbXSwgY21udDogW10gfTtcbn07XG5mdW5jdGlvbiBudW1iZXJzX2Zvcm1hdF9jZWxsKGNlbGwsIHQsIGZsYWdzLCBvZm10LCBuZm10KSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgdmFyIGN0eXBlID0gdCAmIDI1NSwgdmVyID0gdCA+PiA4O1xuICB2YXIgZm10ID0gdmVyID49IDUgPyBuZm10IDogb2ZtdDtcbiAgZHVyOlxuICAgIGlmIChmbGFncyAmICh2ZXIgPiA0ID8gOCA6IDQpICYmIGNlbGwudCA9PSBcIm5cIiAmJiBjdHlwZSA9PSA3KSB7XG4gICAgICB2YXIgZHN0eWxlID0gKChfYSA9IGZtdFs3XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKSA/IHZhcmludF90b19pMzIoZm10WzddWzBdLmRhdGEpIDogLTE7XG4gICAgICBpZiAoZHN0eWxlID09IC0xKVxuICAgICAgICBicmVhayBkdXI7XG4gICAgICB2YXIgZG1pbiA9ICgoX2IgPSBmbXRbMTVdKSA9PSBudWxsID8gdm9pZCAwIDogX2JbMF0pID8gdmFyaW50X3RvX2kzMihmbXRbMTVdWzBdLmRhdGEpIDogLTE7XG4gICAgICB2YXIgZG1heCA9ICgoX2MgPSBmbXRbMTZdKSA9PSBudWxsID8gdm9pZCAwIDogX2NbMF0pID8gdmFyaW50X3RvX2kzMihmbXRbMTZdWzBdLmRhdGEpIDogLTE7XG4gICAgICB2YXIgYXV0byA9ICgoX2QgPSBmbXRbNDBdKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF0pID8gdmFyaW50X3RvX2kzMihmbXRbNDBdWzBdLmRhdGEpIDogLTE7XG4gICAgICB2YXIgZCA9IGNlbGwudiwgZGQgPSBkO1xuICAgICAgYXV0b2R1cjpcbiAgICAgICAgaWYgKGF1dG8pIHtcbiAgICAgICAgICBpZiAoZCA9PSAwKSB7XG4gICAgICAgICAgICBkbWluID0gZG1heCA9IDI7XG4gICAgICAgICAgICBicmVhayBhdXRvZHVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZCA+PSA2MDQ4MDApXG4gICAgICAgICAgICBkbWluID0gMTtcbiAgICAgICAgICBlbHNlIGlmIChkID49IDg2NDAwKVxuICAgICAgICAgICAgZG1pbiA9IDI7XG4gICAgICAgICAgZWxzZSBpZiAoZCA+PSAzNjAwKVxuICAgICAgICAgICAgZG1pbiA9IDQ7XG4gICAgICAgICAgZWxzZSBpZiAoZCA+PSA2MClcbiAgICAgICAgICAgIGRtaW4gPSA4O1xuICAgICAgICAgIGVsc2UgaWYgKGQgPj0gMSlcbiAgICAgICAgICAgIGRtaW4gPSAxNjtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkbWluID0gMzI7XG4gICAgICAgICAgaWYgKE1hdGguZmxvb3IoZCkgIT0gZClcbiAgICAgICAgICAgIGRtYXggPSAzMjtcbiAgICAgICAgICBlbHNlIGlmIChkICUgNjApXG4gICAgICAgICAgICBkbWF4ID0gMTY7XG4gICAgICAgICAgZWxzZSBpZiAoZCAlIDM2MDApXG4gICAgICAgICAgICBkbWF4ID0gODtcbiAgICAgICAgICBlbHNlIGlmIChkICUgODY0MDApXG4gICAgICAgICAgICBkbWF4ID0gNDtcbiAgICAgICAgICBlbHNlIGlmIChkICUgNjA0ODAwKVxuICAgICAgICAgICAgZG1heCA9IDI7XG4gICAgICAgICAgaWYgKGRtYXggPCBkbWluKVxuICAgICAgICAgICAgZG1heCA9IGRtaW47XG4gICAgICAgIH1cbiAgICAgIGlmIChkbWluID09IC0xIHx8IGRtYXggPT0gLTEpXG4gICAgICAgIGJyZWFrIGR1cjtcbiAgICAgIHZhciBkc3RyID0gW10sIHpzdHIgPSBbXTtcbiAgICAgIGlmIChkbWluID09IDEpIHtcbiAgICAgICAgZGQgPSBkIC8gNjA0ODAwO1xuICAgICAgICBpZiAoZG1heCA9PSAxKSB7XG4gICAgICAgICAgenN0ci5wdXNoKCdkXCJkXCInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZCB8PSAwO1xuICAgICAgICAgIGQgLT0gNjA0ODAwICogZGQ7XG4gICAgICAgIH1cbiAgICAgICAgZHN0ci5wdXNoKGRkICsgKGRzdHlsZSA9PSAyID8gXCIgd2Vla1wiICsgKGRkID09IDEgPyBcIlwiIDogXCJzXCIpIDogZHN0eWxlID09IDEgPyBcIndcIiA6IFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGlmIChkbWluIDw9IDIgJiYgZG1heCA+PSAyKSB7XG4gICAgICAgIGRkID0gZCAvIDg2NDAwO1xuICAgICAgICBpZiAoZG1heCA+IDIpIHtcbiAgICAgICAgICBkZCB8PSAwO1xuICAgICAgICAgIGQgLT0gODY0MDAgKiBkZDtcbiAgICAgICAgfVxuICAgICAgICB6c3RyLnB1c2goJ2RcImRcIicpO1xuICAgICAgICBkc3RyLnB1c2goZGQgKyAoZHN0eWxlID09IDIgPyBcIiBkYXlcIiArIChkZCA9PSAxID8gXCJcIiA6IFwic1wiKSA6IGRzdHlsZSA9PSAxID8gXCJkXCIgOiBcIlwiKSk7XG4gICAgICB9XG4gICAgICBpZiAoZG1pbiA8PSA0ICYmIGRtYXggPj0gNCkge1xuICAgICAgICBkZCA9IGQgLyAzNjAwO1xuICAgICAgICBpZiAoZG1heCA+IDQpIHtcbiAgICAgICAgICBkZCB8PSAwO1xuICAgICAgICAgIGQgLT0gMzYwMCAqIGRkO1xuICAgICAgICB9XG4gICAgICAgIHpzdHIucHVzaCgoZG1pbiA+PSA0ID8gXCJbaF1cIiA6IFwiaFwiKSArICdcImhcIicpO1xuICAgICAgICBkc3RyLnB1c2goZGQgKyAoZHN0eWxlID09IDIgPyBcIiBob3VyXCIgKyAoZGQgPT0gMSA/IFwiXCIgOiBcInNcIikgOiBkc3R5bGUgPT0gMSA/IFwiaFwiIDogXCJcIikpO1xuICAgICAgfVxuICAgICAgaWYgKGRtaW4gPD0gOCAmJiBkbWF4ID49IDgpIHtcbiAgICAgICAgZGQgPSBkIC8gNjA7XG4gICAgICAgIGlmIChkbWF4ID4gOCkge1xuICAgICAgICAgIGRkIHw9IDA7XG4gICAgICAgICAgZCAtPSA2MCAqIGRkO1xuICAgICAgICB9XG4gICAgICAgIHpzdHIucHVzaCgoZG1pbiA+PSA4ID8gXCJbbV1cIiA6IFwibVwiKSArICdcIm1cIicpO1xuICAgICAgICBpZiAoZHN0eWxlID09IDApXG4gICAgICAgICAgZHN0ci5wdXNoKChkbWluID09IDggJiYgZG1heCA9PSA4IHx8IGRkID49IDEwID8gXCJcIiA6IFwiMFwiKSArIGRkKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGRzdHIucHVzaChkZCArIChkc3R5bGUgPT0gMiA/IFwiIG1pbnV0ZVwiICsgKGRkID09IDEgPyBcIlwiIDogXCJzXCIpIDogZHN0eWxlID09IDEgPyBcIm1cIiA6IFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGlmIChkbWluIDw9IDE2ICYmIGRtYXggPj0gMTYpIHtcbiAgICAgICAgZGQgPSBkO1xuICAgICAgICBpZiAoZG1heCA+IDE2KSB7XG4gICAgICAgICAgZGQgfD0gMDtcbiAgICAgICAgICBkIC09IGRkO1xuICAgICAgICB9XG4gICAgICAgIHpzdHIucHVzaCgoZG1pbiA+PSAxNiA/IFwiW3NdXCIgOiBcInNcIikgKyAnXCJzXCInKTtcbiAgICAgICAgaWYgKGRzdHlsZSA9PSAwKVxuICAgICAgICAgIGRzdHIucHVzaCgoZG1heCA9PSAxNiAmJiBkbWluID09IDE2IHx8IGRkID49IDEwID8gXCJcIiA6IFwiMFwiKSArIGRkKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGRzdHIucHVzaChkZCArIChkc3R5bGUgPT0gMiA/IFwiIHNlY29uZFwiICsgKGRkID09IDEgPyBcIlwiIDogXCJzXCIpIDogZHN0eWxlID09IDEgPyBcInNcIiA6IFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGlmIChkbWF4ID49IDMyKSB7XG4gICAgICAgIGRkID0gTWF0aC5yb3VuZCgxZTMgKiBkKTtcbiAgICAgICAgaWYgKGRtaW4gPCAzMilcbiAgICAgICAgICB6c3RyLnB1c2goJy4wMDBcIm1zXCInKTtcbiAgICAgICAgaWYgKGRzdHlsZSA9PSAwKVxuICAgICAgICAgIGRzdHIucHVzaCgoZGQgPj0gMTAwID8gXCJcIiA6IGRkID49IDEwID8gXCIwXCIgOiBcIjAwXCIpICsgZGQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZHN0ci5wdXNoKGRkICsgKGRzdHlsZSA9PSAyID8gXCIgbWlsbGlzZWNvbmRcIiArIChkZCA9PSAxID8gXCJcIiA6IFwic1wiKSA6IGRzdHlsZSA9PSAxID8gXCJtc1wiIDogXCJcIikpO1xuICAgICAgfVxuICAgICAgY2VsbC53ID0gZHN0ci5qb2luKGRzdHlsZSA9PSAwID8gXCI6XCIgOiBcIiBcIik7XG4gICAgICBjZWxsLnogPSB6c3RyLmpvaW4oZHN0eWxlID09IDAgPyAnXCI6XCInIDogXCIgXCIpO1xuICAgICAgaWYgKGRzdHlsZSA9PSAwKVxuICAgICAgICBjZWxsLncgPSBjZWxsLncucmVwbGFjZSgvOihcXGRcXGRcXGQpJC8sIFwiLiQxXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlX29sZF9zdG9yYWdlKGJ1ZiwgbHV0LCB2LCBvcHRzKSB7XG4gIHZhciBkdiA9IHU4X3RvX2RhdGF2aWV3KGJ1Zik7XG4gIHZhciBmbGFncyA9IGR2LmdldFVpbnQzMig0LCB0cnVlKTtcbiAgdmFyIHJpZHggPSAtMSwgc2lkeCA9IC0xLCB6aWR4ID0gLTEsIGllZWUgPSBOYU4sIGRjID0gMCwgZHQgPSBuZXcgRGF0ZShEYXRlLlVUQygyMDAxLCAwLCAxKSk7XG4gIHZhciBkb2ZmID0gdiA+IDEgPyAxMiA6IDg7XG4gIGlmIChmbGFncyAmIDIpIHtcbiAgICB6aWR4ID0gZHYuZ2V0VWludDMyKGRvZmYsIHRydWUpO1xuICAgIGRvZmYgKz0gNDtcbiAgfVxuICBkb2ZmICs9IHBvcGNudChmbGFncyAmICh2ID4gMSA/IDM0NjggOiAzOTYpKSAqIDQ7XG4gIGlmIChmbGFncyAmIDUxMikge1xuICAgIHJpZHggPSBkdi5nZXRVaW50MzIoZG9mZiwgdHJ1ZSk7XG4gICAgZG9mZiArPSA0O1xuICB9XG4gIGRvZmYgKz0gcG9wY250KGZsYWdzICYgKHYgPiAxID8gMTIyODggOiA0MDk2KSkgKiA0O1xuICBpZiAoZmxhZ3MgJiAxNikge1xuICAgIHNpZHggPSBkdi5nZXRVaW50MzIoZG9mZiwgdHJ1ZSk7XG4gICAgZG9mZiArPSA0O1xuICB9XG4gIGlmIChmbGFncyAmIDMyKSB7XG4gICAgaWVlZSA9IGR2LmdldEZsb2F0NjQoZG9mZiwgdHJ1ZSk7XG4gICAgZG9mZiArPSA4O1xuICB9XG4gIGlmIChmbGFncyAmIDY0KSB7XG4gICAgZHQuc2V0VGltZShkdC5nZXRUaW1lKCkgKyAoZGMgPSBkdi5nZXRGbG9hdDY0KGRvZmYsIHRydWUpKSAqIDFlMyk7XG4gICAgZG9mZiArPSA4O1xuICB9XG4gIGlmICh2ID4gMSkge1xuICAgIGZsYWdzID0gZHYuZ2V0VWludDMyKDgsIHRydWUpID4+PiAxNjtcbiAgICBpZiAoZmxhZ3MgJiAyNTUpIHtcbiAgICAgIGlmICh6aWR4ID09IC0xKVxuICAgICAgICB6aWR4ID0gZHYuZ2V0VWludDMyKGRvZmYsIHRydWUpO1xuICAgICAgZG9mZiArPSA0O1xuICAgIH1cbiAgfVxuICB2YXIgcmV0O1xuICB2YXIgdCA9IGJ1Zlt2ID49IDQgPyAxIDogMl07XG4gIHN3aXRjaCAodCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgY2FzZSAyOlxuICAgICAgcmV0ID0geyB0OiBcIm5cIiwgdjogaWVlZSB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgcmV0ID0geyB0OiBcInNcIiwgdjogbHV0LnNzdFtzaWR4XSB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA1OlxuICAgICAge1xuICAgICAgICBpZiAob3B0cyA9PSBudWxsID8gdm9pZCAwIDogb3B0cy5jZWxsRGF0ZXMpXG4gICAgICAgICAgcmV0ID0geyB0OiBcImRcIiwgdjogZHQgfTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldCA9IHsgdDogXCJuXCIsIHY6IGRjIC8gODY0MDAgKyAzNTQzMCwgejogdGFibGVfZm10WzE0XSB9O1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSA2OlxuICAgICAgcmV0ID0geyB0OiBcImJcIiwgdjogaWVlZSA+IDAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNzpcbiAgICAgIHJldCA9IHsgdDogXCJuXCIsIHY6IGllZWUgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgODpcbiAgICAgIHJldCA9IHsgdDogXCJlXCIsIHY6IDAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgOTpcbiAgICAgIHtcbiAgICAgICAgaWYgKHJpZHggPiAtMSkge1xuICAgICAgICAgIHZhciBydHMgPSBsdXQucnNzdFtyaWR4XTtcbiAgICAgICAgICByZXQgPSB7IHQ6IFwic1wiLCB2OiBydHMudiB9O1xuICAgICAgICAgIGlmIChydHMubClcbiAgICAgICAgICAgIHJldC5sID0geyBUYXJnZXQ6IHJ0cy5sIH07XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGNlbGwgdHlwZSBcIi5jb25jYXQoYnVmW3N1YmFycmF5XSgwLCA0KSkpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGNlbGwgdHlwZSBcIi5jb25jYXQoYnVmW3N1YmFycmF5XSgwLCA0KSkpO1xuICB9XG4gIGlmICh6aWR4ID4gLTEpXG4gICAgbnVtYmVyc19mb3JtYXRfY2VsbChyZXQsIHQgfCB2IDw8IDgsIGZsYWdzLCBsdXQub2ZtdFt6aWR4XSwgbHV0Lm5mbXRbemlkeF0pO1xuICBpZiAodCA9PSA3KVxuICAgIHJldC52IC89IDg2NDAwO1xuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gcGFyc2VfbmV3X3N0b3JhZ2UoYnVmLCBsdXQsIG9wdHMpIHtcbiAgdmFyIGR2ID0gdThfdG9fZGF0YXZpZXcoYnVmKTtcbiAgdmFyIGZsYWdzID0gZHYuZ2V0VWludDMyKDQsIHRydWUpO1xuICB2YXIgZmllbGRzID0gZHYuZ2V0VWludDMyKDgsIHRydWUpO1xuICB2YXIgZG9mZiA9IDEyO1xuICB2YXIgcmlkeCA9IC0xLCBzaWR4ID0gLTEsIHppZHggPSAtMSwgZDEyOCA9IE5hTiwgaWVlZSA9IE5hTiwgZGMgPSAwLCBkdCA9IG5ldyBEYXRlKERhdGUuVVRDKDIwMDEsIDAsIDEpKSwgZWlkeCA9IC0xLCBmaWR4ID0gLTE7XG4gIGlmIChmaWVsZHMgJiAxKSB7XG4gICAgZDEyOCA9IHJlYWREZWNpbWFsMTI4TEUoYnVmLCBkb2ZmKTtcbiAgICBkb2ZmICs9IDE2O1xuICB9XG4gIGlmIChmaWVsZHMgJiAyKSB7XG4gICAgaWVlZSA9IGR2LmdldEZsb2F0NjQoZG9mZiwgdHJ1ZSk7XG4gICAgZG9mZiArPSA4O1xuICB9XG4gIGlmIChmaWVsZHMgJiA0KSB7XG4gICAgZHQuc2V0VGltZShkdC5nZXRUaW1lKCkgKyAoZGMgPSBkdi5nZXRGbG9hdDY0KGRvZmYsIHRydWUpKSAqIDFlMyk7XG4gICAgZG9mZiArPSA4O1xuICB9XG4gIGlmIChmaWVsZHMgJiA4KSB7XG4gICAgc2lkeCA9IGR2LmdldFVpbnQzMihkb2ZmLCB0cnVlKTtcbiAgICBkb2ZmICs9IDQ7XG4gIH1cbiAgaWYgKGZpZWxkcyAmIDE2KSB7XG4gICAgcmlkeCA9IGR2LmdldFVpbnQzMihkb2ZmLCB0cnVlKTtcbiAgICBkb2ZmICs9IDQ7XG4gIH1cbiAgZG9mZiArPSBwb3BjbnQoZmllbGRzICYgNDgwKSAqIDQ7XG4gIGlmIChmaWVsZHMgJiA1MTIpIHtcbiAgICBmaWR4ID0gZHYuZ2V0VWludDMyKGRvZmYsIHRydWUpO1xuICAgIGRvZmYgKz0gNDtcbiAgfVxuICBkb2ZmICs9IHBvcGNudChmaWVsZHMgJiAxMDI0KSAqIDQ7XG4gIGlmIChmaWVsZHMgJiAyMDQ4KSB7XG4gICAgZWlkeCA9IGR2LmdldFVpbnQzMihkb2ZmLCB0cnVlKTtcbiAgICBkb2ZmICs9IDQ7XG4gIH1cbiAgdmFyIHJldDtcbiAgdmFyIHQgPSBidWZbMV07XG4gIHN3aXRjaCAodCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHJldCA9IHsgdDogXCJ6XCIgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIHJldCA9IHsgdDogXCJuXCIsIHY6IGQxMjggfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzpcbiAgICAgIHJldCA9IHsgdDogXCJzXCIsIHY6IGx1dC5zc3Rbc2lkeF0gfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNTpcbiAgICAgIHtcbiAgICAgICAgaWYgKG9wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdHMuY2VsbERhdGVzKVxuICAgICAgICAgIHJldCA9IHsgdDogXCJkXCIsIHY6IGR0IH07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXQgPSB7IHQ6IFwiblwiLCB2OiBkYyAvIDg2NDAwICsgMzU0MzAsIHo6IHRhYmxlX2ZtdFsxNF0gfTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNjpcbiAgICAgIHJldCA9IHsgdDogXCJiXCIsIHY6IGllZWUgPiAwIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIDc6XG4gICAgICByZXQgPSB7IHQ6IFwiblwiLCB2OiBpZWVlIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIDg6XG4gICAgICByZXQgPSB7IHQ6IFwiZVwiLCB2OiAwIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIDk6XG4gICAgICB7XG4gICAgICAgIGlmIChyaWR4ID4gLTEpIHtcbiAgICAgICAgICB2YXIgcnRzID0gbHV0LnJzc3RbcmlkeF07XG4gICAgICAgICAgcmV0ID0geyB0OiBcInNcIiwgdjogcnRzLnYgfTtcbiAgICAgICAgICBpZiAocnRzLmwpXG4gICAgICAgICAgICByZXQubCA9IHsgVGFyZ2V0OiBydHMubCB9O1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBjZWxsIHR5cGUgXCIuY29uY2F0KGJ1ZlsxXSwgXCIgOiBcIikuY29uY2F0KGZpZWxkcyAmIDMxLCBcIiA6IFwiKS5jb25jYXQoYnVmW3N1YmFycmF5XSgwLCA0KSkpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxMDpcbiAgICAgIHJldCA9IHsgdDogXCJuXCIsIHY6IGQxMjggfTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBjZWxsIHR5cGUgXCIuY29uY2F0KGJ1ZlsxXSwgXCIgOiBcIikuY29uY2F0KGZpZWxkcyAmIDMxLCBcIiA6IFwiKS5jb25jYXQoYnVmW3N1YmFycmF5XSgwLCA0KSkpO1xuICB9XG4gIGRvZmYgKz0gcG9wY250KGZpZWxkcyAmIDQwOTYpICogNDtcbiAgaWYgKGZpZWxkcyAmIDUxNjA5Nikge1xuICAgIGlmICh6aWR4ID09IC0xKVxuICAgICAgemlkeCA9IGR2LmdldFVpbnQzMihkb2ZmLCB0cnVlKTtcbiAgICBkb2ZmICs9IDQ7XG4gIH1cbiAgaWYgKGZpZWxkcyAmIDUyNDI4OCkge1xuICAgIHZhciBjbW50aWR4ID0gZHYuZ2V0VWludDMyKGRvZmYsIHRydWUpO1xuICAgIGRvZmYgKz0gNDtcbiAgICBpZiAobHV0LmNtbnRbY21udGlkeF0pXG4gICAgICByZXQuYyA9IGl3YV90b19zNXNfY29tbWVudChsdXQuY21udFtjbW50aWR4XSk7XG4gIH1cbiAgaWYgKHppZHggPiAtMSlcbiAgICBudW1iZXJzX2Zvcm1hdF9jZWxsKHJldCwgdCB8IDUgPDwgOCwgZmllbGRzID4+IDEzLCBsdXQub2ZtdFt6aWR4XSwgbHV0Lm5mbXRbemlkeF0pO1xuICBpZiAodCA9PSA3KVxuICAgIHJldC52IC89IDg2NDAwO1xuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gd3JpdGVfbmV3X3N0b3JhZ2UoY2VsbCwgbHV0KSB7XG4gIHZhciBvdXQgPSBuZXcgVWludDhBcnJheSgzMiksIGR2ID0gdThfdG9fZGF0YXZpZXcob3V0KSwgbCA9IDEyLCBmaWVsZHMgPSAwO1xuICBvdXRbMF0gPSA1O1xuICBzd2l0Y2ggKGNlbGwudCkge1xuICAgIGNhc2UgXCJuXCI6XG4gICAgICBpZiAoY2VsbC56ICYmIGZtdF9pc19kYXRlKGNlbGwueikpIHtcbiAgICAgICAgb3V0WzFdID0gNTtcbiAgICAgICAgZHYuc2V0RmxvYXQ2NChsLCAobnVtZGF0ZShjZWxsLnYgKyAxNDYyKS5nZXRUaW1lKCkgLSBEYXRlLlVUQygyMDAxLCAwLCAxKSkgLyAxZTMsIHRydWUpO1xuICAgICAgICBmaWVsZHMgfD0gNDtcbiAgICAgICAgbCArPSA4O1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dFsxXSA9IDI7XG4gICAgICAgIHdyaXRlRGVjaW1hbDEyOExFKG91dCwgbCwgY2VsbC52KTtcbiAgICAgICAgZmllbGRzIHw9IDE7XG4gICAgICAgIGwgKz0gMTY7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYlwiOlxuICAgICAgb3V0WzFdID0gNjtcbiAgICAgIGR2LnNldEZsb2F0NjQobCwgY2VsbC52ID8gMSA6IDAsIHRydWUpO1xuICAgICAgZmllbGRzIHw9IDI7XG4gICAgICBsICs9IDg7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwic1wiOlxuICAgICAge1xuICAgICAgICB2YXIgcyA9IGNlbGwudiA9PSBudWxsID8gXCJcIiA6IFN0cmluZyhjZWxsLnYpO1xuICAgICAgICBpZiAoY2VsbC5sKSB7XG4gICAgICAgICAgdmFyIGlyc3N0ID0gbHV0LnJzc3QuZmluZEluZGV4KGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiB2LnYgPT0gcyAmJiB2LmwgPT0gKChfYSA9IGNlbGwubCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLlRhcmdldCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGlyc3N0ID09IC0xKVxuICAgICAgICAgICAgbHV0LnJzc3RbaXJzc3QgPSBsdXQucnNzdC5sZW5ndGhdID0geyB2OiBzLCBsOiBjZWxsLmwuVGFyZ2V0IH07XG4gICAgICAgICAgb3V0WzFdID0gOTtcbiAgICAgICAgICBkdi5zZXRVaW50MzIobCwgaXJzc3QsIHRydWUpO1xuICAgICAgICAgIGZpZWxkcyB8PSAxNjtcbiAgICAgICAgICBsICs9IDQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGlzc3QgPSBsdXQuc3N0LmluZGV4T2Yocyk7XG4gICAgICAgICAgaWYgKGlzc3QgPT0gLTEpXG4gICAgICAgICAgICBsdXQuc3N0W2lzc3QgPSBsdXQuc3N0Lmxlbmd0aF0gPSBzO1xuICAgICAgICAgIG91dFsxXSA9IDM7XG4gICAgICAgICAgZHYuc2V0VWludDMyKGwsIGlzc3QsIHRydWUpO1xuICAgICAgICAgIGZpZWxkcyB8PSA4O1xuICAgICAgICAgIGwgKz0gNDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImRcIjpcbiAgICAgIG91dFsxXSA9IDU7XG4gICAgICBkdi5zZXRGbG9hdDY0KGwsIChjZWxsLnYuZ2V0VGltZSgpIC0gRGF0ZS5VVEMoMjAwMSwgMCwgMSkpIC8gMWUzLCB0cnVlKTtcbiAgICAgIGZpZWxkcyB8PSA0O1xuICAgICAgbCArPSA4O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInpcIjpcbiAgICAgIG91dFsxXSA9IDA7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgXCJ1bnN1cHBvcnRlZCBjZWxsIHR5cGUgXCIgKyBjZWxsLnQ7XG4gIH1cbiAgaWYgKGNlbGwuYykge1xuICAgIGx1dC5jbW50LnB1c2goczVzX3RvX2l3YV9jb21tZW50KGNlbGwuYykpO1xuICAgIGR2LnNldFVpbnQzMihsLCBsdXQuY21udC5sZW5ndGggLSAxLCB0cnVlKTtcbiAgICBmaWVsZHMgfD0gNTI0Mjg4O1xuICAgIGwgKz0gNDtcbiAgfVxuICBkdi5zZXRVaW50MzIoOCwgZmllbGRzLCB0cnVlKTtcbiAgcmV0dXJuIG91dFtzdWJhcnJheV0oMCwgbCk7XG59XG5mdW5jdGlvbiB3cml0ZV9vbGRfc3RvcmFnZShjZWxsLCBsdXQpIHtcbiAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KDMyKSwgZHYgPSB1OF90b19kYXRhdmlldyhvdXQpLCBsID0gMTIsIGZpZWxkcyA9IDAsIHMgPSBcIlwiO1xuICBvdXRbMF0gPSA0O1xuICBzd2l0Y2ggKGNlbGwudCkge1xuICAgIGNhc2UgXCJuXCI6XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYlwiOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInNcIjpcbiAgICAgIHtcbiAgICAgICAgcyA9IGNlbGwudiA9PSBudWxsID8gXCJcIiA6IFN0cmluZyhjZWxsLnYpO1xuICAgICAgICBpZiAoY2VsbC5sKSB7XG4gICAgICAgICAgdmFyIGlyc3N0ID0gbHV0LnJzc3QuZmluZEluZGV4KGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiB2LnYgPT0gcyAmJiB2LmwgPT0gKChfYSA9IGNlbGwubCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLlRhcmdldCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGlyc3N0ID09IC0xKVxuICAgICAgICAgICAgbHV0LnJzc3RbaXJzc3QgPSBsdXQucnNzdC5sZW5ndGhdID0geyB2OiBzLCBsOiBjZWxsLmwuVGFyZ2V0IH07XG4gICAgICAgICAgb3V0WzFdID0gOTtcbiAgICAgICAgICBkdi5zZXRVaW50MzIobCwgaXJzc3QsIHRydWUpO1xuICAgICAgICAgIGZpZWxkcyB8PSA1MTI7XG4gICAgICAgICAgbCArPSA0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZFwiOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImVcIjpcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJ6XCI6XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgXCJ1bnN1cHBvcnRlZCBjZWxsIHR5cGUgXCIgKyBjZWxsLnQ7XG4gIH1cbiAgaWYgKGNlbGwuYykge1xuICAgIGR2LnNldFVpbnQzMihsLCBsdXQuY21udC5sZW5ndGggLSAxLCB0cnVlKTtcbiAgICBmaWVsZHMgfD0gNDA5NjtcbiAgICBsICs9IDQ7XG4gIH1cbiAgc3dpdGNoIChjZWxsLnQpIHtcbiAgICBjYXNlIFwiblwiOlxuICAgICAgb3V0WzFdID0gMjtcbiAgICAgIGR2LnNldEZsb2F0NjQobCwgY2VsbC52LCB0cnVlKTtcbiAgICAgIGZpZWxkcyB8PSAzMjtcbiAgICAgIGwgKz0gODtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJiXCI6XG4gICAgICBvdXRbMV0gPSA2O1xuICAgICAgZHYuc2V0RmxvYXQ2NChsLCBjZWxsLnYgPyAxIDogMCwgdHJ1ZSk7XG4gICAgICBmaWVsZHMgfD0gMzI7XG4gICAgICBsICs9IDg7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwic1wiOlxuICAgICAge1xuICAgICAgICBzID0gY2VsbC52ID09IG51bGwgPyBcIlwiIDogU3RyaW5nKGNlbGwudik7XG4gICAgICAgIGlmIChjZWxsLmwpIHtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaXNzdCA9IGx1dC5zc3QuaW5kZXhPZihzKTtcbiAgICAgICAgICBpZiAoaXNzdCA9PSAtMSlcbiAgICAgICAgICAgIGx1dC5zc3RbaXNzdCA9IGx1dC5zc3QubGVuZ3RoXSA9IHM7XG4gICAgICAgICAgb3V0WzFdID0gMztcbiAgICAgICAgICBkdi5zZXRVaW50MzIobCwgaXNzdCwgdHJ1ZSk7XG4gICAgICAgICAgZmllbGRzIHw9IDE2O1xuICAgICAgICAgIGwgKz0gNDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImRcIjpcbiAgICAgIG91dFsxXSA9IDU7XG4gICAgICBkdi5zZXRGbG9hdDY0KGwsIChjZWxsLnYuZ2V0VGltZSgpIC0gRGF0ZS5VVEMoMjAwMSwgMCwgMSkpIC8gMWUzLCB0cnVlKTtcbiAgICAgIGZpZWxkcyB8PSA2NDtcbiAgICAgIGwgKz0gODtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJ6XCI6XG4gICAgICBvdXRbMV0gPSAwO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFwidW5zdXBwb3J0ZWQgY2VsbCB0eXBlIFwiICsgY2VsbC50O1xuICB9XG4gIGR2LnNldFVpbnQzMig4LCBmaWVsZHMsIHRydWUpO1xuICByZXR1cm4gb3V0W3N1YmFycmF5XSgwLCBsKTtcbn1cbmZ1bmN0aW9uIHBhcnNlX2NlbGxfc3RvcmFnZShidWYsIGx1dCwgb3B0cykge1xuICBzd2l0Y2ggKGJ1ZlswXSkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIDE6XG4gICAgY2FzZSAyOlxuICAgIGNhc2UgMzpcbiAgICBjYXNlIDQ6XG4gICAgICByZXR1cm4gcGFyc2Vfb2xkX3N0b3JhZ2UoYnVmLCBsdXQsIGJ1ZlswXSwgb3B0cyk7XG4gICAgY2FzZSA1OlxuICAgICAgcmV0dXJuIHBhcnNlX25ld19zdG9yYWdlKGJ1ZiwgbHV0LCBvcHRzKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgcGF5bG9hZCB2ZXJzaW9uIFwiLmNvbmNhdChidWZbMF0pKTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VfVFNQX1JlZmVyZW5jZShidWYpIHtcbiAgdmFyIHBiID0gcGFyc2Vfc2hhbGxvdyhidWYpO1xuICByZXR1cm4gdmFyaW50X3RvX2kzMihwYlsxXVswXS5kYXRhKTtcbn1cbmZ1bmN0aW9uIHdyaXRlX1RTUF9SZWZlcmVuY2UoaWR4KSB7XG4gIHJldHVybiB3cml0ZV9zaGFsbG93KFtcbiAgICBbXSxcbiAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OShpZHgpIH1dXG4gIF0pO1xufVxuZnVuY3Rpb24gbnVtYmVyc19hZGRfb3JlZihpd2EsIHJlZikge1xuICB2YXIgX2E7XG4gIHZhciBvcmVmcyA9ICgoX2EgPSBpd2EubWVzc2FnZXNbMF0ubWV0YVs1XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKSA/IHBhcnNlX3BhY2tlZF92YXJpbnRzKGl3YS5tZXNzYWdlc1swXS5tZXRhWzVdWzBdLmRhdGEpIDogW107XG4gIHZhciBvcmVmaWR4ID0gb3JlZnMuaW5kZXhPZihyZWYpO1xuICBpZiAob3JlZmlkeCA9PSAtMSkge1xuICAgIG9yZWZzLnB1c2gocmVmKTtcbiAgICBpd2EubWVzc2FnZXNbMF0ubWV0YVs1XSA9IFt7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX3BhY2tlZF92YXJpbnRzKG9yZWZzKSB9XTtcbiAgfVxufVxuZnVuY3Rpb24gbnVtYmVyc19kZWxfb3JlZihpd2EsIHJlZikge1xuICB2YXIgX2E7XG4gIHZhciBvcmVmcyA9ICgoX2EgPSBpd2EubWVzc2FnZXNbMF0ubWV0YVs1XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKSA/IHBhcnNlX3BhY2tlZF92YXJpbnRzKGl3YS5tZXNzYWdlc1swXS5tZXRhWzVdWzBdLmRhdGEpIDogW107XG4gIGl3YS5tZXNzYWdlc1swXS5tZXRhWzVdID0gW3sgdHlwZTogMiwgZGF0YTogd3JpdGVfcGFja2VkX3ZhcmludHMob3JlZnMuZmlsdGVyKGZ1bmN0aW9uKHIpIHtcbiAgICByZXR1cm4gciAhPSByZWY7XG4gIH0pKSB9XTtcbn1cbmZ1bmN0aW9uIHBhcnNlX1RTVF9UYWJsZURhdGFMaXN0KE0sIHJvb3QpIHtcbiAgdmFyIHBiID0gcGFyc2Vfc2hhbGxvdyhyb290LmRhdGEpO1xuICB2YXIgdHlwZSA9IHZhcmludF90b19pMzIocGJbMV1bMF0uZGF0YSk7XG4gIHZhciBlbnRyaWVzID0gcGJbM107XG4gIHZhciBkYXRhID0gW107XG4gIChlbnRyaWVzIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICB2YXIgbGUgPSBwYXJzZV9zaGFsbG93KGVudHJ5LmRhdGEpO1xuICAgIGlmICghbGVbMV0pXG4gICAgICByZXR1cm47XG4gICAgdmFyIGtleSA9IHZhcmludF90b19pMzIobGVbMV1bMF0uZGF0YSkgPj4+IDA7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGRhdGFba2V5XSA9IHU4c3RyKGxlWzNdWzBdLmRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgODpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBydCA9IE1bcGFyc2VfVFNQX1JlZmVyZW5jZShsZVs5XVswXS5kYXRhKV1bMF07XG4gICAgICAgICAgdmFyIHJ0cCA9IHBhcnNlX3NoYWxsb3cocnQuZGF0YSk7XG4gICAgICAgICAgdmFyIHJ0cHJlZiA9IE1bcGFyc2VfVFNQX1JlZmVyZW5jZShydHBbMV1bMF0uZGF0YSldWzBdO1xuICAgICAgICAgIHZhciBtdHlwZSA9IHZhcmludF90b19pMzIocnRwcmVmLm1ldGFbMV1bMF0uZGF0YSk7XG4gICAgICAgICAgaWYgKG10eXBlICE9IDIwMDEpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIyMDAwIHVuZXhwZWN0ZWQgcmVmZXJlbmNlIHRvIFwiLmNvbmNhdChtdHlwZSkpO1xuICAgICAgICAgIHZhciB0c3dwc2EgPSBwYXJzZV9zaGFsbG93KHJ0cHJlZi5kYXRhKTtcbiAgICAgICAgICB2YXIgcmljaHRleHQgPSB7IHY6IHRzd3BzYVszXS5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgcmV0dXJuIHU4c3RyKHguZGF0YSk7XG4gICAgICAgICAgfSkuam9pbihcIlwiKSB9O1xuICAgICAgICAgIGRhdGFba2V5XSA9IHJpY2h0ZXh0O1xuICAgICAgICAgIHNmaWVsZHM6XG4gICAgICAgICAgICBpZiAoKF9hID0gdHN3cHNhID09IG51bGwgPyB2b2lkIDAgOiB0c3dwc2FbMTFdKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF0pIHtcbiAgICAgICAgICAgICAgdmFyIHNtYXJ0ZmllbGRzID0gKF9iID0gcGFyc2Vfc2hhbGxvdyh0c3dwc2FbMTFdWzBdLmRhdGEpKSA9PSBudWxsID8gdm9pZCAwIDogX2JbMV07XG4gICAgICAgICAgICAgIGlmICghc21hcnRmaWVsZHMpXG4gICAgICAgICAgICAgICAgYnJlYWsgc2ZpZWxkcztcbiAgICAgICAgICAgICAgc21hcnRmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihzZikge1xuICAgICAgICAgICAgICAgIHZhciBfYTIsIF9iMiwgX2M7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHIgPSBwYXJzZV9zaGFsbG93KHNmLmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmICgoX2EyID0gYXR0clsyXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMlswXSkge1xuICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IE1bcGFyc2VfVFNQX1JlZmVyZW5jZSgoX2IyID0gYXR0clsyXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMlswXS5kYXRhKV1bMF07XG4gICAgICAgICAgICAgICAgICB2YXIgb2JqdHlwZSA9IHZhcmludF90b19pMzIob2JqLm1ldGFbMV1bMF0uZGF0YSk7XG4gICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9ianR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDMyOlxuICAgICAgICAgICAgICAgICAgICAgIHZhciBobGluayA9IHBhcnNlX3NoYWxsb3cob2JqLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgoKF9jID0gaGxpbmsgPT0gbnVsbCA/IHZvaWQgMCA6IGhsaW5rWzJdKSA9PSBudWxsID8gdm9pZCAwIDogX2NbMF0pICYmICFyaWNodGV4dC5sKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmljaHRleHQubCA9IHU4c3RyKGhsaW5rWzJdWzBdLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIwMzk6XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1bnJlY29nbml6ZWQgT2JqZWN0QXR0cmlidXRlIHR5cGUgXCIuY29uY2F0KG9ianR5cGUpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBkYXRhW2tleV0gPSBwYXJzZV9zaGFsbG93KGxlWzZdWzBdLmRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgZGF0YVtrZXldID0gcGFyc2Vfc2hhbGxvdyhsZVs1XVswXS5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDEwOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGNzID0gTVtwYXJzZV9UU1BfUmVmZXJlbmNlKGxlWzEwXVswXS5kYXRhKV1bMF07XG4gICAgICAgICAgZGF0YVtrZXldID0gcGFyc2VfVFNEX0NvbW1lbnRTdG9yYWdlQXJjaGl2ZShNLCBjcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IHR5cGU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiBwYXJzZV9UU1RfVGlsZVJvd0luZm8odTgsIHR5cGUpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qLCBfaywgX2wsIF9tLCBfbjtcbiAgdmFyIHBiID0gcGFyc2Vfc2hhbGxvdyh1OCk7XG4gIHZhciBSID0gdmFyaW50X3RvX2kzMihwYlsxXVswXS5kYXRhKSA+Pj4gMDtcbiAgdmFyIGNudCA9IHZhcmludF90b19pMzIocGJbMl1bMF0uZGF0YSkgPj4+IDA7XG4gIHZhciB3aWRlX29mZnNldHMgPSAoKF9iID0gKF9hID0gcGJbOF0pID09IG51bGwgPyB2b2lkIDAgOiBfYVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmRhdGEpICYmIHZhcmludF90b19pMzIocGJbOF1bMF0uZGF0YSkgPiAwIHx8IGZhbHNlO1xuICB2YXIgdXNlZF9zdG9yYWdlX3U4LCB1c2VkX3N0b3JhZ2U7XG4gIGlmICgoKF9kID0gKF9jID0gcGJbN10pID09IG51bGwgPyB2b2lkIDAgOiBfY1swXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmRhdGEpICYmIHR5cGUgIT0gMCkge1xuICAgIHVzZWRfc3RvcmFnZV91OCA9IChfZiA9IChfZSA9IHBiWzddKSA9PSBudWxsID8gdm9pZCAwIDogX2VbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfZi5kYXRhO1xuICAgIHVzZWRfc3RvcmFnZSA9IChfaCA9IChfZyA9IHBiWzZdKSA9PSBudWxsID8gdm9pZCAwIDogX2dbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfaC5kYXRhO1xuICB9IGVsc2UgaWYgKCgoX2ogPSAoX2kgPSBwYls0XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2ouZGF0YSkgJiYgdHlwZSAhPSAxKSB7XG4gICAgdXNlZF9zdG9yYWdlX3U4ID0gKF9sID0gKF9rID0gcGJbNF0pID09IG51bGwgPyB2b2lkIDAgOiBfa1swXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9sLmRhdGE7XG4gICAgdXNlZF9zdG9yYWdlID0gKF9uID0gKF9tID0gcGJbM10pID09IG51bGwgPyB2b2lkIDAgOiBfbVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uLmRhdGE7XG4gIH0gZWxzZVxuICAgIHRocm93IFwiTlVNQkVSUyBUaWxlIG1pc3NpbmcgXCIuY29uY2F0KHR5cGUsIFwiIGNlbGwgc3RvcmFnZVwiKTtcbiAgdmFyIHdpZHRoID0gd2lkZV9vZmZzZXRzID8gNCA6IDE7XG4gIHZhciB1c2VkX3N0b3JhZ2Vfb2Zmc2V0cyA9IHU4X3RvX2RhdGF2aWV3KHVzZWRfc3RvcmFnZV91OCk7XG4gIHZhciBvZmZzZXRzID0gW107XG4gIGZvciAodmFyIEMgPSAwOyBDIDwgdXNlZF9zdG9yYWdlX3U4Lmxlbmd0aCAvIDI7ICsrQykge1xuICAgIHZhciBvZmYgPSB1c2VkX3N0b3JhZ2Vfb2Zmc2V0cy5nZXRVaW50MTYoQyAqIDIsIHRydWUpO1xuICAgIGlmIChvZmYgPCA2NTUzNSlcbiAgICAgIG9mZnNldHMucHVzaChbQywgb2ZmXSk7XG4gIH1cbiAgaWYgKG9mZnNldHMubGVuZ3RoICE9IGNudClcbiAgICB0aHJvdyBcIkV4cGVjdGVkIFwiLmNvbmNhdChjbnQsIFwiIGNlbGxzLCBmb3VuZCBcIikuY29uY2F0KG9mZnNldHMubGVuZ3RoKTtcbiAgdmFyIGNlbGxzID0gW107XG4gIGZvciAoQyA9IDA7IEMgPCBvZmZzZXRzLmxlbmd0aCAtIDE7ICsrQylcbiAgICBjZWxsc1tvZmZzZXRzW0NdWzBdXSA9IHVzZWRfc3RvcmFnZVtzdWJhcnJheV0ob2Zmc2V0c1tDXVsxXSAqIHdpZHRoLCBvZmZzZXRzW0MgKyAxXVsxXSAqIHdpZHRoKTtcbiAgaWYgKG9mZnNldHMubGVuZ3RoID49IDEpXG4gICAgY2VsbHNbb2Zmc2V0c1tvZmZzZXRzLmxlbmd0aCAtIDFdWzBdXSA9IHVzZWRfc3RvcmFnZVtzdWJhcnJheV0ob2Zmc2V0c1tvZmZzZXRzLmxlbmd0aCAtIDFdWzFdICogd2lkdGgpO1xuICByZXR1cm4geyBSOiBSLCBjZWxsczogY2VsbHMgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlX1RTVF9UaWxlKE0sIHJvb3QpIHtcbiAgdmFyIF9hO1xuICB2YXIgcGIgPSBwYXJzZV9zaGFsbG93KHJvb3QuZGF0YSk7XG4gIHZhciBzdG9yYWdlID0gLTE7XG4gIGlmICgoX2EgPSBwYiA9PSBudWxsID8gdm9pZCAwIDogcGJbN10pID09IG51bGwgPyB2b2lkIDAgOiBfYVswXSkge1xuICAgIGlmICh2YXJpbnRfdG9faTMyKHBiWzddWzBdLmRhdGEpID4+PiAwKVxuICAgICAgc3RvcmFnZSA9IDE7XG4gICAgZWxzZVxuICAgICAgc3RvcmFnZSA9IDA7XG4gIH1cbiAgdmFyIHJpID0gbWFwcGEocGJbNV0sIGZ1bmN0aW9uKHU4KSB7XG4gICAgcmV0dXJuIHBhcnNlX1RTVF9UaWxlUm93SW5mbyh1OCwgc3RvcmFnZSk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIG5yb3dzOiB2YXJpbnRfdG9faTMyKHBiWzRdWzBdLmRhdGEpID4+PiAwLFxuICAgIGRhdGE6IHJpLnJlZHVjZShmdW5jdGlvbihhY2MsIHgpIHtcbiAgICAgIGlmICghYWNjW3guUl0pXG4gICAgICAgIGFjY1t4LlJdID0gW107XG4gICAgICB4LmNlbGxzLmZvckVhY2goZnVuY3Rpb24oY2VsbCwgQykge1xuICAgICAgICBpZiAoYWNjW3guUl1bQ10pXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIGNlbGwgcj1cIi5jb25jYXQoeC5SLCBcIiBjPVwiKS5jb25jYXQoQykpO1xuICAgICAgICBhY2NbeC5SXVtDXSA9IGNlbGw7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pXG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZV9UU0RfQ29tbWVudFN0b3JhZ2VBcmNoaXZlKE0sIGRhdGEpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qO1xuICB2YXIgb3V0ID0geyB0OiBcIlwiLCBhOiBcIlwiIH07XG4gIHZhciBjc3AgPSBwYXJzZV9zaGFsbG93KGRhdGEpO1xuICBpZiAoKF9iID0gKF9hID0gY3NwID09IG51bGwgPyB2b2lkIDAgOiBjc3BbMV0pID09IG51bGwgPyB2b2lkIDAgOiBfYVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmRhdGEpXG4gICAgb3V0LnQgPSB1OHN0cigoX2QgPSAoX2MgPSBjc3AgPT0gbnVsbCA/IHZvaWQgMCA6IGNzcFsxXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2QuZGF0YSkgfHwgXCJcIjtcbiAgaWYgKChfZiA9IChfZSA9IGNzcCA9PSBudWxsID8gdm9pZCAwIDogY3NwWzNdKSA9PSBudWxsID8gdm9pZCAwIDogX2VbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfZi5kYXRhKSB7XG4gICAgdmFyIGFzID0gTVtwYXJzZV9UU1BfUmVmZXJlbmNlKChfaCA9IChfZyA9IGNzcCA9PSBudWxsID8gdm9pZCAwIDogY3NwWzNdKSA9PSBudWxsID8gdm9pZCAwIDogX2dbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfaC5kYXRhKV1bMF07XG4gICAgdmFyIGFzcCA9IHBhcnNlX3NoYWxsb3coYXMuZGF0YSk7XG4gICAgaWYgKChfaiA9IChfaSA9IGFzcFsxXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2ouZGF0YSlcbiAgICAgIG91dC5hID0gdThzdHIoYXNwWzFdWzBdLmRhdGEpO1xuICB9XG4gIGlmIChjc3AgPT0gbnVsbCA/IHZvaWQgMCA6IGNzcFs0XSkge1xuICAgIG91dC5yZXBsaWVzID0gW107XG4gICAgY3NwWzRdLmZvckVhY2goZnVuY3Rpb24ocGkpIHtcbiAgICAgIHZhciBjcyA9IE1bcGFyc2VfVFNQX1JlZmVyZW5jZShwaS5kYXRhKV1bMF07XG4gICAgICBvdXQucmVwbGllcy5wdXNoKHBhcnNlX1RTRF9Db21tZW50U3RvcmFnZUFyY2hpdmUoTSwgY3MuZGF0YSkpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiBpd2FfdG9fczVzX2NvbW1lbnQoaXdhKSB7XG4gIHZhciBvdXQgPSBbXTtcbiAgb3V0LnB1c2goeyB0OiBpd2EudCB8fCBcIlwiLCBhOiBpd2EuYSwgVDogaXdhLnJlcGxpZXMgJiYgaXdhLnJlcGxpZXMubGVuZ3RoID4gMCB9KTtcbiAgaWYgKGl3YS5yZXBsaWVzKVxuICAgIGl3YS5yZXBsaWVzLmZvckVhY2goZnVuY3Rpb24ocmVwbHkpIHtcbiAgICAgIG91dC5wdXNoKHsgdDogcmVwbHkudCB8fCBcIlwiLCBhOiByZXBseS5hLCBUOiB0cnVlIH0pO1xuICAgIH0pO1xuICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gczVzX3RvX2l3YV9jb21tZW50KHM1cykge1xuICB2YXIgb3V0ID0geyBhOiBcIlwiLCB0OiBcIlwiLCByZXBsaWVzOiBbXSB9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHM1cy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChpID09IDApIHtcbiAgICAgIG91dC5hID0gczVzW2ldLmE7XG4gICAgICBvdXQudCA9IHM1c1tpXS50O1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQucmVwbGllcy5wdXNoKHsgYTogczVzW2ldLmEsIHQ6IHM1c1tpXS50IH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gcGFyc2VfVFNUX1RhYmxlTW9kZWxBcmNoaXZlKE0sIHJvb3QsIHdzLCBvcHRzKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pLCBfaiwgX2ssIF9sLCBfbSwgX247XG4gIHZhciBwYiA9IHBhcnNlX3NoYWxsb3cocm9vdC5kYXRhKTtcbiAgdmFyIHJhbmdlID0geyBzOiB7IHI6IDAsIGM6IDAgfSwgZTogeyByOiAwLCBjOiAwIH0gfTtcbiAgcmFuZ2UuZS5yID0gKHZhcmludF90b19pMzIocGJbNl1bMF0uZGF0YSkgPj4+IDApIC0gMTtcbiAgaWYgKHJhbmdlLmUuciA8IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByb3cgdmFyaW50IFwiLmNvbmNhdChwYls2XVswXS5kYXRhKSk7XG4gIHJhbmdlLmUuYyA9ICh2YXJpbnRfdG9faTMyKHBiWzddWzBdLmRhdGEpID4+PiAwKSAtIDE7XG4gIGlmIChyYW5nZS5lLmMgPCAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29sIHZhcmludCBcIi5jb25jYXQocGJbN11bMF0uZGF0YSkpO1xuICB3c1tcIiFyZWZcIl0gPSBlbmNvZGVfcmFuZ2UocmFuZ2UpO1xuICB2YXIgZGVuc2UgPSB3c1tcIiFkYXRhXCJdICE9IG51bGwsIGR3cyA9IHdzO1xuICB2YXIgc3RvcmUgPSBwYXJzZV9zaGFsbG93KHBiWzRdWzBdLmRhdGEpO1xuICB2YXIgbHV0ID0gbnVtYmVyc19sdXRfbmV3KCk7XG4gIGlmICgoX2EgPSBzdG9yZVs0XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKVxuICAgIGx1dC5zc3QgPSBwYXJzZV9UU1RfVGFibGVEYXRhTGlzdChNLCBNW3BhcnNlX1RTUF9SZWZlcmVuY2Uoc3RvcmVbNF1bMF0uZGF0YSldWzBdKTtcbiAgaWYgKChfYiA9IHN0b3JlWzZdKSA9PSBudWxsID8gdm9pZCAwIDogX2JbMF0pXG4gICAgbHV0LmZtbGEgPSBwYXJzZV9UU1RfVGFibGVEYXRhTGlzdChNLCBNW3BhcnNlX1RTUF9SZWZlcmVuY2Uoc3RvcmVbNl1bMF0uZGF0YSldWzBdKTtcbiAgaWYgKChfYyA9IHN0b3JlWzExXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jWzBdKVxuICAgIGx1dC5vZm10ID0gcGFyc2VfVFNUX1RhYmxlRGF0YUxpc3QoTSwgTVtwYXJzZV9UU1BfUmVmZXJlbmNlKHN0b3JlWzExXVswXS5kYXRhKV1bMF0pO1xuICBpZiAoKF9kID0gc3RvcmVbMTJdKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF0pXG4gICAgbHV0LmZlcnIgPSBwYXJzZV9UU1RfVGFibGVEYXRhTGlzdChNLCBNW3BhcnNlX1RTUF9SZWZlcmVuY2Uoc3RvcmVbMTJdWzBdLmRhdGEpXVswXSk7XG4gIGlmICgoX2UgPSBzdG9yZVsxN10pID09IG51bGwgPyB2b2lkIDAgOiBfZVswXSlcbiAgICBsdXQucnNzdCA9IHBhcnNlX1RTVF9UYWJsZURhdGFMaXN0KE0sIE1bcGFyc2VfVFNQX1JlZmVyZW5jZShzdG9yZVsxN11bMF0uZGF0YSldWzBdKTtcbiAgaWYgKChfZiA9IHN0b3JlWzE5XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mWzBdKVxuICAgIGx1dC5jbW50ID0gcGFyc2VfVFNUX1RhYmxlRGF0YUxpc3QoTSwgTVtwYXJzZV9UU1BfUmVmZXJlbmNlKHN0b3JlWzE5XVswXS5kYXRhKV1bMF0pO1xuICBpZiAoKF9nID0gc3RvcmVbMjJdKSA9PSBudWxsID8gdm9pZCAwIDogX2dbMF0pXG4gICAgbHV0Lm5mbXQgPSBwYXJzZV9UU1RfVGFibGVEYXRhTGlzdChNLCBNW3BhcnNlX1RTUF9SZWZlcmVuY2Uoc3RvcmVbMjJdWzBdLmRhdGEpXVswXSk7XG4gIHZhciB0aWxlID0gcGFyc2Vfc2hhbGxvdyhzdG9yZVszXVswXS5kYXRhKTtcbiAgdmFyIF9SID0gMDtcbiAgaWYgKCEoKF9oID0gc3RvcmVbOV0pID09IG51bGwgPyB2b2lkIDAgOiBfaFswXSkpXG4gICAgdGhyb3cgXCJOVU1CRVJTIGZpbGUgbWlzc2luZyByb3cgdHJlZVwiO1xuICB2YXIgcnR0ID0gcGFyc2Vfc2hhbGxvdyhzdG9yZVs5XVswXS5kYXRhKVsxXS5tYXAoZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiBwYXJzZV9zaGFsbG93KHAuZGF0YSk7XG4gIH0pO1xuICBydHQuZm9yRWFjaChmdW5jdGlvbihrdikge1xuICAgIF9SID0gdmFyaW50X3RvX2kzMihrdlsxXVswXS5kYXRhKTtcbiAgICB2YXIgdGlkeCA9IHZhcmludF90b19pMzIoa3ZbMl1bMF0uZGF0YSk7XG4gICAgdmFyIHQgPSB0aWxlWzFdW3RpZHhdO1xuICAgIGlmICghdClcbiAgICAgIHRocm93IFwiTlVNQkVSUyBtaXNzaW5nIHRpbGUgXCIgKyB0aWR4O1xuICAgIHZhciB0bCA9IHBhcnNlX3NoYWxsb3codC5kYXRhKTtcbiAgICB2YXIgcmVmMiA9IE1bcGFyc2VfVFNQX1JlZmVyZW5jZSh0bFsyXVswXS5kYXRhKV1bMF07XG4gICAgdmFyIG10eXBlMiA9IHZhcmludF90b19pMzIocmVmMi5tZXRhWzFdWzBdLmRhdGEpO1xuICAgIGlmIChtdHlwZTIgIT0gNjAwMilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIjYwMDEgdW5leHBlY3RlZCByZWZlcmVuY2UgdG8gXCIuY29uY2F0KG10eXBlMikpO1xuICAgIHZhciBfdGlsZSA9IHBhcnNlX1RTVF9UaWxlKE0sIHJlZjIpO1xuICAgIF90aWxlLmRhdGEuZm9yRWFjaChmdW5jdGlvbihyb3csIFIpIHtcbiAgICAgIHJvdy5mb3JFYWNoKGZ1bmN0aW9uKGJ1ZiwgQykge1xuICAgICAgICB2YXIgcmVzID0gcGFyc2VfY2VsbF9zdG9yYWdlKGJ1ZiwgbHV0LCBvcHRzKTtcbiAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgIGlmIChkZW5zZSkge1xuICAgICAgICAgICAgaWYgKCFkd3NbXCIhZGF0YVwiXVtfUiArIFJdKVxuICAgICAgICAgICAgICBkd3NbXCIhZGF0YVwiXVtfUiArIFJdID0gW107XG4gICAgICAgICAgICBkd3NbXCIhZGF0YVwiXVtfUiArIFJdW0NdID0gcmVzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3c1tlbmNvZGVfY29sKEMpICsgZW5jb2RlX3JvdyhfUiArIFIpXSA9IHJlcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIF9SICs9IF90aWxlLm5yb3dzO1xuICB9KTtcbiAgaWYgKChfaSA9IHN0b3JlWzEzXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pWzBdKSB7XG4gICAgdmFyIHJlZiA9IE1bcGFyc2VfVFNQX1JlZmVyZW5jZShzdG9yZVsxM11bMF0uZGF0YSldWzBdO1xuICAgIHZhciBtdHlwZSA9IHZhcmludF90b19pMzIocmVmLm1ldGFbMV1bMF0uZGF0YSk7XG4gICAgaWYgKG10eXBlICE9IDYxNDQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBtZXJnZSB0eXBlIDYxNDQsIGZvdW5kIFwiLmNvbmNhdChtdHlwZSkpO1xuICAgIHdzW1wiIW1lcmdlc1wiXSA9IChfaiA9IHBhcnNlX3NoYWxsb3cocmVmLmRhdGEpKSA9PSBudWxsID8gdm9pZCAwIDogX2pbMV0ubWFwKGZ1bmN0aW9uKHBpKSB7XG4gICAgICB2YXIgbWVyZ2UgPSBwYXJzZV9zaGFsbG93KHBpLmRhdGEpO1xuICAgICAgdmFyIG9yaWdpbiA9IHU4X3RvX2RhdGF2aWV3KHBhcnNlX3NoYWxsb3cobWVyZ2VbMV1bMF0uZGF0YSlbMV1bMF0uZGF0YSksIHNpemUgPSB1OF90b19kYXRhdmlldyhwYXJzZV9zaGFsbG93KG1lcmdlWzJdWzBdLmRhdGEpWzFdWzBdLmRhdGEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgczogeyByOiBvcmlnaW4uZ2V0VWludDE2KDAsIHRydWUpLCBjOiBvcmlnaW4uZ2V0VWludDE2KDIsIHRydWUpIH0sXG4gICAgICAgIGU6IHtcbiAgICAgICAgICByOiBvcmlnaW4uZ2V0VWludDE2KDAsIHRydWUpICsgc2l6ZS5nZXRVaW50MTYoMCwgdHJ1ZSkgLSAxLFxuICAgICAgICAgIGM6IG9yaWdpbi5nZXRVaW50MTYoMiwgdHJ1ZSkgKyBzaXplLmdldFVpbnQxNigyLCB0cnVlKSAtIDFcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICBpZiAoISgoX2sgPSB3c1tcIiFtZXJnZXNcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfay5sZW5ndGgpICYmICgoX2wgPSBwYls0N10pID09IG51bGwgPyB2b2lkIDAgOiBfbFswXSkpIHtcbiAgICB2YXIgbWVyZ2Vfb3duZXIgPSBwYXJzZV9zaGFsbG93KHBiWzQ3XVswXS5kYXRhKTtcbiAgICBpZiAoKF9tID0gbWVyZ2Vfb3duZXJbMl0pID09IG51bGwgPyB2b2lkIDAgOiBfbVswXSkge1xuICAgICAgdmFyIGZvcm11bGFfc3RvcmUgPSBwYXJzZV9zaGFsbG93KG1lcmdlX293bmVyWzJdWzBdLmRhdGEpO1xuICAgICAgaWYgKChfbiA9IGZvcm11bGFfc3RvcmVbM10pID09IG51bGwgPyB2b2lkIDAgOiBfblswXSkge1xuICAgICAgICB3c1tcIiFtZXJnZXNcIl0gPSBtYXBwYShmb3JtdWxhX3N0b3JlWzNdLCBmdW5jdGlvbih1KSB7XG4gICAgICAgICAgdmFyIF9hMiwgX2IyLCBfYzIsIF9kMiwgX2UyO1xuICAgICAgICAgIHZhciBmb3JtdWxhX3BhaXIgPSBwYXJzZV9zaGFsbG93KHUpO1xuICAgICAgICAgIHZhciBmb3JtdWxhID0gcGFyc2Vfc2hhbGxvdyhmb3JtdWxhX3BhaXJbMl1bMF0uZGF0YSk7XG4gICAgICAgICAgdmFyIEFTVF9ub2RlX2FycmF5ID0gcGFyc2Vfc2hhbGxvdyhmb3JtdWxhWzFdWzBdLmRhdGEpO1xuICAgICAgICAgIGlmICghKChfYTIgPSBBU1Rfbm9kZV9hcnJheVsxXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMlswXSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgdmFyIEFTVF9ub2RlMCA9IHBhcnNlX3NoYWxsb3coQVNUX25vZGVfYXJyYXlbMV1bMF0uZGF0YSk7XG4gICAgICAgICAgdmFyIEFTVF9ub2RlX3R5cGUgPSB2YXJpbnRfdG9faTMyKEFTVF9ub2RlMFsxXVswXS5kYXRhKTtcbiAgICAgICAgICBpZiAoQVNUX25vZGVfdHlwZSAhPSA2NylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB2YXIgQVNUX2NvbG9uX3RyYWN0ID0gcGFyc2Vfc2hhbGxvdyhBU1Rfbm9kZTBbNDBdWzBdLmRhdGEpO1xuICAgICAgICAgIGlmICghKChfYjIgPSBBU1RfY29sb25fdHJhY3RbM10pID09IG51bGwgPyB2b2lkIDAgOiBfYjJbMF0pIHx8ICEoKF9jMiA9IEFTVF9jb2xvbl90cmFjdFs0XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jMlswXSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgdmFyIGNvbHJhbmdlID0gcGFyc2Vfc2hhbGxvdyhBU1RfY29sb25fdHJhY3RbM11bMF0uZGF0YSk7XG4gICAgICAgICAgdmFyIHJvd3JhbmdlID0gcGFyc2Vfc2hhbGxvdyhBU1RfY29sb25fdHJhY3RbNF1bMF0uZGF0YSk7XG4gICAgICAgICAgdmFyIGMgPSB2YXJpbnRfdG9faTMyKGNvbHJhbmdlWzFdWzBdLmRhdGEpO1xuICAgICAgICAgIHZhciBDID0gKChfZDIgPSBjb2xyYW5nZVsyXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kMlswXSkgPyB2YXJpbnRfdG9faTMyKGNvbHJhbmdlWzJdWzBdLmRhdGEpIDogYztcbiAgICAgICAgICB2YXIgciA9IHZhcmludF90b19pMzIocm93cmFuZ2VbMV1bMF0uZGF0YSk7XG4gICAgICAgICAgdmFyIFIgPSAoKF9lMiA9IHJvd3JhbmdlWzJdKSA9PSBudWxsID8gdm9pZCAwIDogX2UyWzBdKSA/IHZhcmludF90b19pMzIocm93cmFuZ2VbMl1bMF0uZGF0YSkgOiByO1xuICAgICAgICAgIHJldHVybiB7IHM6IHsgcjogciwgYzogYyB9LCBlOiB7IHI6IFIsIGM6IEMgfSB9O1xuICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24oeCkge1xuICAgICAgICAgIHJldHVybiB4ICE9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VfVFNUX1RhYmxlSW5mb0FyY2hpdmUoTSwgcm9vdCwgb3B0cykge1xuICB2YXIgcGIgPSBwYXJzZV9zaGFsbG93KHJvb3QuZGF0YSk7XG4gIHZhciBvdXQgPSB7IFwiIXJlZlwiOiBcIkExXCIgfTtcbiAgaWYgKG9wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdHMuZGVuc2UpXG4gICAgb3V0W1wiIWRhdGFcIl0gPSBbXTtcbiAgdmFyIHRhYmxlcmVmID0gTVtwYXJzZV9UU1BfUmVmZXJlbmNlKHBiWzJdWzBdLmRhdGEpXTtcbiAgdmFyIG10eXBlID0gdmFyaW50X3RvX2kzMih0YWJsZXJlZlswXS5tZXRhWzFdWzBdLmRhdGEpO1xuICBpZiAobXR5cGUgIT0gNjAwMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCI2MDAwIHVuZXhwZWN0ZWQgcmVmZXJlbmNlIHRvIFwiLmNvbmNhdChtdHlwZSkpO1xuICBwYXJzZV9UU1RfVGFibGVNb2RlbEFyY2hpdmUoTSwgdGFibGVyZWZbMF0sIG91dCwgb3B0cyk7XG4gIHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiBwYXJzZV9UTl9TaGVldEFyY2hpdmUoTSwgcm9vdCwgb3B0cykge1xuICB2YXIgX2E7XG4gIHZhciBwYiA9IHBhcnNlX3NoYWxsb3cocm9vdC5kYXRhKTtcbiAgdmFyIG91dCA9IHtcbiAgICBuYW1lOiAoKF9hID0gcGJbMV0pID09IG51bGwgPyB2b2lkIDAgOiBfYVswXSkgPyB1OHN0cihwYlsxXVswXS5kYXRhKSA6IFwiXCIsXG4gICAgc2hlZXRzOiBbXVxuICB9O1xuICB2YXIgc2hhcGVvZmZzID0gbWFwcGEocGJbMl0sIHBhcnNlX1RTUF9SZWZlcmVuY2UpO1xuICBzaGFwZW9mZnMuZm9yRWFjaChmdW5jdGlvbihvZmYpIHtcbiAgICBNW29mZl0uZm9yRWFjaChmdW5jdGlvbihtKSB7XG4gICAgICB2YXIgbXR5cGUgPSB2YXJpbnRfdG9faTMyKG0ubWV0YVsxXVswXS5kYXRhKTtcbiAgICAgIGlmIChtdHlwZSA9PSA2ZTMpXG4gICAgICAgIG91dC5zaGVldHMucHVzaChwYXJzZV9UU1RfVGFibGVJbmZvQXJjaGl2ZShNLCBtLCBvcHRzKSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gcGFyc2VfVE5fRG9jdW1lbnRBcmNoaXZlKE0sIHJvb3QsIG9wdHMpIHtcbiAgdmFyIF9hO1xuICB2YXIgb3V0ID0gYm9va19uZXcoKTtcbiAgb3V0Lldvcmtib29rID0geyBXQlByb3BzOiB7IGRhdGUxOTA0OiB0cnVlIH0gfTtcbiAgdmFyIHBiID0gcGFyc2Vfc2hhbGxvdyhyb290LmRhdGEpO1xuICBpZiAoKF9hID0gcGJbMl0pID09IG51bGwgPyB2b2lkIDAgOiBfYVswXSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJLZXlub3RlIHByZXNlbnRhdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWRcIik7XG4gIHZhciBzaGVldG9mZnMgPSBtYXBwYShwYlsxXSwgcGFyc2VfVFNQX1JlZmVyZW5jZSk7XG4gIHNoZWV0b2Zmcy5mb3JFYWNoKGZ1bmN0aW9uKG9mZikge1xuICAgIE1bb2ZmXS5mb3JFYWNoKGZ1bmN0aW9uKG0pIHtcbiAgICAgIHZhciBtdHlwZSA9IHZhcmludF90b19pMzIobS5tZXRhWzFdWzBdLmRhdGEpO1xuICAgICAgaWYgKG10eXBlID09IDIpIHtcbiAgICAgICAgdmFyIHJvb3QyID0gcGFyc2VfVE5fU2hlZXRBcmNoaXZlKE0sIG0sIG9wdHMpO1xuICAgICAgICByb290Mi5zaGVldHMuZm9yRWFjaChmdW5jdGlvbihzaGVldCwgaWR4KSB7XG4gICAgICAgICAgYm9va19hcHBlbmRfc2hlZXQob3V0LCBzaGVldCwgaWR4ID09IDAgPyByb290Mi5uYW1lIDogcm9vdDIubmFtZSArIFwiX1wiICsgaWR4LCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBpZiAob3V0LlNoZWV0TmFtZXMubGVuZ3RoID09IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRW1wdHkgTlVNQkVSUyBmaWxlXCIpO1xuICBvdXQuYm9va1R5cGUgPSBcIm51bWJlcnNcIjtcbiAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHBhcnNlX251bWJlcnNfaXdhKGNmYiwgb3B0cykge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gIHZhciBNID0ge30sIGluZGljZXMgPSBbXTtcbiAgY2ZiLkZ1bGxQYXRocy5mb3JFYWNoKGZ1bmN0aW9uKHApIHtcbiAgICBpZiAocC5tYXRjaCgvXFwuaXdwdjIvKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHBhc3N3b3JkIHByb3RlY3Rpb25cIik7XG4gIH0pO1xuICBjZmIuRmlsZUluZGV4LmZvckVhY2goZnVuY3Rpb24ocykge1xuICAgIGlmICghcy5uYW1lLm1hdGNoKC9cXC5pd2EkLykpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHMuY29udGVudFswXSAhPSAwKVxuICAgICAgcmV0dXJuO1xuICAgIHZhciBvO1xuICAgIHRyeSB7XG4gICAgICBvID0gZGVjb21wcmVzc19pd2FfZmlsZShzLmNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIj8/IFwiICsgcy5jb250ZW50Lmxlbmd0aCArIFwiIFwiICsgKGUubWVzc2FnZSB8fCBlKSk7XG4gICAgfVxuICAgIHZhciBwYWNrZXRzO1xuICAgIHRyeSB7XG4gICAgICBwYWNrZXRzID0gcGFyc2VfaXdhX2ZpbGUobyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFwiIyMgXCIgKyAoZS5tZXNzYWdlIHx8IGUpKTtcbiAgICB9XG4gICAgcGFja2V0cy5mb3JFYWNoKGZ1bmN0aW9uKHBhY2tldCkge1xuICAgICAgTVtwYWNrZXQuaWRdID0gcGFja2V0Lm1lc3NhZ2VzO1xuICAgICAgaW5kaWNlcy5wdXNoKHBhY2tldC5pZCk7XG4gICAgfSk7XG4gIH0pO1xuICBpZiAoIWluZGljZXMubGVuZ3RoKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkZpbGUgaGFzIG5vIG1lc3NhZ2VzXCIpO1xuICBpZiAoKChfYyA9IChfYiA9IChfYSA9IE0gPT0gbnVsbCA/IHZvaWQgMCA6IE1bMV0pID09IG51bGwgPyB2b2lkIDAgOiBfYVswXS5tZXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2JbMV0pID09IG51bGwgPyB2b2lkIDAgOiBfY1swXS5kYXRhKSAmJiB2YXJpbnRfdG9faTMyKE1bMV1bMF0ubWV0YVsxXVswXS5kYXRhKSA9PSAxZTQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGFnZXMgZG9jdW1lbnRzIGFyZSBub3Qgc3VwcG9ydGVkXCIpO1xuICB2YXIgZG9jcm9vdCA9ICgoX2cgPSAoX2YgPSAoX2UgPSAoX2QgPSBNID09IG51bGwgPyB2b2lkIDAgOiBNWzFdKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfZS5tZXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2ZbMV0pID09IG51bGwgPyB2b2lkIDAgOiBfZ1swXS5kYXRhKSAmJiB2YXJpbnRfdG9faTMyKE1bMV1bMF0ubWV0YVsxXVswXS5kYXRhKSA9PSAxICYmIE1bMV1bMF07XG4gIGlmICghZG9jcm9vdClcbiAgICBpbmRpY2VzLmZvckVhY2goZnVuY3Rpb24oaWR4KSB7XG4gICAgICBNW2lkeF0uZm9yRWFjaChmdW5jdGlvbihpd2FtKSB7XG4gICAgICAgIHZhciBtdHlwZSA9IHZhcmludF90b19pMzIoaXdhbS5tZXRhWzFdWzBdLmRhdGEpID4+PiAwO1xuICAgICAgICBpZiAobXR5cGUgPT0gMSkge1xuICAgICAgICAgIGlmICghZG9jcm9vdClcbiAgICAgICAgICAgIGRvY3Jvb3QgPSBpd2FtO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IGhhcyBtdWx0aXBsZSByb290c1wiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIGlmICghZG9jcm9vdClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBEb2N1bWVudCByb290XCIpO1xuICByZXR1cm4gcGFyc2VfVE5fRG9jdW1lbnRBcmNoaXZlKE0sIGRvY3Jvb3QsIG9wdHMpO1xufVxuZnVuY3Rpb24gd3JpdGVfVFNUX1RpbGVSb3dJbmZvKGRhdGEsIGx1dCwgd2lkZSkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgdmFyIHRyaSA9IFtcbiAgICBbXSxcbiAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OSgwKSB9XSxcbiAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OSgwKSB9XSxcbiAgICBbeyB0eXBlOiAyLCBkYXRhOiBuZXcgVWludDhBcnJheShbXSkgfV0sXG4gICAgW3sgdHlwZTogMiwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoQXJyYXkuZnJvbSh7IGxlbmd0aDogNTEwIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIDI1NTtcbiAgICB9KSkgfV0sXG4gICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoNSkgfV0sXG4gICAgW3sgdHlwZTogMiwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoW10pIH1dLFxuICAgIFt7IHR5cGU6IDIsIGRhdGE6IG5ldyBVaW50OEFycmF5KEFycmF5LmZyb20oeyBsZW5ndGg6IDUxMCB9LCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAyNTU7XG4gICAgfSkpIH1dLFxuICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KDEpIH1dXG4gIF07XG4gIGlmICghKChfYSA9IHRyaVs2XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKSB8fCAhKChfYiA9IHRyaVs3XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iWzBdKSlcbiAgICB0aHJvdyBcIk11dGF0aW9uIG9ubHkgd29ya3Mgb24gcG9zdC1CTkMgc3RvcmFnZXMhXCI7XG4gIHZhciBjbnQgPSAwO1xuICBpZiAodHJpWzddWzBdLmRhdGEubGVuZ3RoIDwgMiAqIGRhdGEubGVuZ3RoKSB7XG4gICAgdmFyIG5ld183ID0gbmV3IFVpbnQ4QXJyYXkoMiAqIGRhdGEubGVuZ3RoKTtcbiAgICBuZXdfNy5zZXQodHJpWzddWzBdLmRhdGEpO1xuICAgIHRyaVs3XVswXS5kYXRhID0gbmV3Xzc7XG4gIH1cbiAgaWYgKHRyaVs0XVswXS5kYXRhLmxlbmd0aCA8IDIgKiBkYXRhLmxlbmd0aCkge1xuICAgIHZhciBuZXdfNCA9IG5ldyBVaW50OEFycmF5KDIgKiBkYXRhLmxlbmd0aCk7XG4gICAgbmV3XzQuc2V0KHRyaVs0XVswXS5kYXRhKTtcbiAgICB0cmlbNF1bMF0uZGF0YSA9IG5ld180O1xuICB9XG4gIHZhciBkdiA9IHU4X3RvX2RhdGF2aWV3KHRyaVs3XVswXS5kYXRhKSwgbGFzdF9vZmZzZXQgPSAwLCBjZWxsX3N0b3JhZ2UgPSBbXTtcbiAgdmFyIF9kdiA9IHU4X3RvX2RhdGF2aWV3KHRyaVs0XVswXS5kYXRhKSwgX2xhc3Rfb2Zmc2V0ID0gMCwgX2NlbGxfc3RvcmFnZSA9IFtdO1xuICB2YXIgd2lkdGggPSB3aWRlID8gNCA6IDE7XG4gIGZvciAodmFyIEMgPSAwOyBDIDwgZGF0YS5sZW5ndGg7ICsrQykge1xuICAgIGlmIChkYXRhW0NdID09IG51bGwgfHwgZGF0YVtDXS50ID09IFwielwiICYmICEoKF9jID0gZGF0YVtDXS5jKSA9PSBudWxsID8gdm9pZCAwIDogX2MubGVuZ3RoKSB8fCBkYXRhW0NdLnQgPT0gXCJlXCIpIHtcbiAgICAgIGR2LnNldFVpbnQxNihDICogMiwgNjU1MzUsIHRydWUpO1xuICAgICAgX2R2LnNldFVpbnQxNihDICogMiwgNjU1MzUpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGR2LnNldFVpbnQxNihDICogMiwgbGFzdF9vZmZzZXQgLyB3aWR0aCwgdHJ1ZSk7XG4gICAgX2R2LnNldFVpbnQxNihDICogMiwgX2xhc3Rfb2Zmc2V0IC8gd2lkdGgsIHRydWUpO1xuICAgIHZhciBjZWxsb2FkLCBfY2VsbG9hZDtcbiAgICBzd2l0Y2ggKGRhdGFbQ10udCkge1xuICAgICAgY2FzZSBcImRcIjpcbiAgICAgICAgaWYgKGRhdGFbQ10udiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICBjZWxsb2FkID0gd3JpdGVfbmV3X3N0b3JhZ2UoZGF0YVtDXSwgbHV0KTtcbiAgICAgICAgICBfY2VsbG9hZCA9IHdyaXRlX29sZF9zdG9yYWdlKGRhdGFbQ10sIGx1dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2VsbG9hZCA9IHdyaXRlX25ld19zdG9yYWdlKGRhdGFbQ10sIGx1dCk7XG4gICAgICAgIF9jZWxsb2FkID0gd3JpdGVfb2xkX3N0b3JhZ2UoZGF0YVtDXSwgbHV0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic1wiOlxuICAgICAgY2FzZSBcIm5cIjpcbiAgICAgIGNhc2UgXCJiXCI6XG4gICAgICBjYXNlIFwielwiOlxuICAgICAgICBjZWxsb2FkID0gd3JpdGVfbmV3X3N0b3JhZ2UoZGF0YVtDXSwgbHV0KTtcbiAgICAgICAgX2NlbGxvYWQgPSB3cml0ZV9vbGRfc3RvcmFnZShkYXRhW0NdLCBsdXQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHZhbHVlIFwiICsgZGF0YVtDXSk7XG4gICAgfVxuICAgIGNlbGxfc3RvcmFnZS5wdXNoKGNlbGxvYWQpO1xuICAgIGxhc3Rfb2Zmc2V0ICs9IGNlbGxvYWQubGVuZ3RoO1xuICAgIHtcbiAgICAgIF9jZWxsX3N0b3JhZ2UucHVzaChfY2VsbG9hZCk7XG4gICAgICBfbGFzdF9vZmZzZXQgKz0gX2NlbGxvYWQubGVuZ3RoO1xuICAgIH1cbiAgICArK2NudDtcbiAgfVxuICB0cmlbMl1bMF0uZGF0YSA9IHdyaXRlX3ZhcmludDQ5KGNudCk7XG4gIHRyaVs1XVswXS5kYXRhID0gd3JpdGVfdmFyaW50NDkoNSk7XG4gIGZvciAoOyBDIDwgdHJpWzddWzBdLmRhdGEubGVuZ3RoIC8gMjsgKytDKSB7XG4gICAgZHYuc2V0VWludDE2KEMgKiAyLCA2NTUzNSwgdHJ1ZSk7XG4gICAgX2R2LnNldFVpbnQxNihDICogMiwgNjU1MzUsIHRydWUpO1xuICB9XG4gIHRyaVs2XVswXS5kYXRhID0gdThjb25jYXQoY2VsbF9zdG9yYWdlKTtcbiAgdHJpWzNdWzBdLmRhdGEgPSB1OGNvbmNhdChfY2VsbF9zdG9yYWdlKTtcbiAgdHJpWzhdID0gW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkod2lkZSA/IDEgOiAwKSB9XTtcbiAgcmV0dXJuIHRyaTtcbn1cbmZ1bmN0aW9uIHdyaXRlX2l3YW0odHlwZSwgcGF5bG9hZCkge1xuICByZXR1cm4ge1xuICAgIG1ldGE6IFtcbiAgICAgIFtdLFxuICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkodHlwZSkgfV1cbiAgICBdLFxuICAgIGRhdGE6IHBheWxvYWRcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldF91bmlxdWVfbXNnaWQoZGVwLCBkZXBlbmRlbnRzKSB7XG4gIGlmICghZGVwZW5kZW50cy5sYXN0KVxuICAgIGRlcGVuZGVudHMubGFzdCA9IDkyNzI2MjtcbiAgZm9yICh2YXIgaSA9IGRlcGVuZGVudHMubGFzdDsgaSA8IDJlNjsgKytpKVxuICAgIGlmICghZGVwZW5kZW50c1tpXSkge1xuICAgICAgZGVwZW5kZW50c1tkZXBlbmRlbnRzLmxhc3QgPSBpXSA9IGRlcDtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIG1hbnkgbWVzc2FnZXNcIik7XG59XG5mdW5jdGlvbiBidWlsZF9udW1iZXJzX2RlcHMoY2ZiKSB7XG4gIHZhciBkZXBlbmRlbnRzID0ge307XG4gIHZhciBpbmRpY2VzID0gW107XG4gIGNmYi5GaWxlSW5kZXgubWFwKGZ1bmN0aW9uKGZpLCBpZHgpIHtcbiAgICByZXR1cm4gW2ZpLCBjZmIuRnVsbFBhdGhzW2lkeF1dO1xuICB9KS5mb3JFYWNoKGZ1bmN0aW9uKHJvdykge1xuICAgIHZhciBmaSA9IHJvd1swXSwgZnAgPSByb3dbMV07XG4gICAgaWYgKGZpLnR5cGUgIT0gMilcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIWZpLm5hbWUubWF0Y2goL1xcLml3YS8pKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChmaS5jb250ZW50WzBdICE9IDApXG4gICAgICByZXR1cm47XG4gICAgcGFyc2VfaXdhX2ZpbGUoZGVjb21wcmVzc19pd2FfZmlsZShmaS5jb250ZW50KSkuZm9yRWFjaChmdW5jdGlvbihwYWNrZXQpIHtcbiAgICAgIGluZGljZXMucHVzaChwYWNrZXQuaWQpO1xuICAgICAgZGVwZW5kZW50c1twYWNrZXQuaWRdID0geyBkZXBzOiBbXSwgbG9jYXRpb246IGZwLCB0eXBlOiB2YXJpbnRfdG9faTMyKHBhY2tldC5tZXNzYWdlc1swXS5tZXRhWzFdWzBdLmRhdGEpIH07XG4gICAgfSk7XG4gIH0pO1xuICBjZmIuRmlsZUluZGV4LmZvckVhY2goZnVuY3Rpb24oZmkpIHtcbiAgICBpZiAoIWZpLm5hbWUubWF0Y2goL1xcLml3YS8pKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChmaS5jb250ZW50WzBdICE9IDApXG4gICAgICByZXR1cm47XG4gICAgcGFyc2VfaXdhX2ZpbGUoZGVjb21wcmVzc19pd2FfZmlsZShmaS5jb250ZW50KSkuZm9yRWFjaChmdW5jdGlvbihpYSkge1xuICAgICAgaWEubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihtZXNzKSB7XG4gICAgICAgIFs1LCA2XS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICBpZiAoIW1lc3MubWV0YVtmXSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBtZXNzLm1ldGFbZl0uZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICBkZXBlbmRlbnRzW2lhLmlkXS5kZXBzLnB1c2godmFyaW50X3RvX2kzMih4LmRhdGEpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBkZXBlbmRlbnRzO1xufVxuZnVuY3Rpb24gd3JpdGVfVFNQX0NvbG9yX1JHQihyLCBnLCBiKSB7XG4gIHJldHVybiB3cml0ZV9zaGFsbG93KFtcbiAgICBbXSxcbiAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OSgxKSB9XSxcbiAgICBbXSxcbiAgICBbeyB0eXBlOiA1LCBkYXRhOiBuZXcgVWludDhBcnJheShGbG9hdDMyQXJyYXkuZnJvbShbciAvIDI1NV0pLmJ1ZmZlcikgfV0sXG4gICAgW3sgdHlwZTogNSwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoRmxvYXQzMkFycmF5LmZyb20oW2cgLyAyNTVdKS5idWZmZXIpIH1dLFxuICAgIFt7IHR5cGU6IDUsIGRhdGE6IG5ldyBVaW50OEFycmF5KEZsb2F0MzJBcnJheS5mcm9tKFtiIC8gMjU1XSkuYnVmZmVyKSB9XSxcbiAgICBbeyB0eXBlOiA1LCBkYXRhOiBuZXcgVWludDhBcnJheShGbG9hdDMyQXJyYXkuZnJvbShbMV0pLmJ1ZmZlcikgfV0sXG4gICAgW10sXG4gICAgW10sXG4gICAgW10sXG4gICAgW10sXG4gICAgW10sXG4gICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoMSkgfV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRfYXV0aG9yX2NvbG9yKG4pIHtcbiAgc3dpdGNoIChuKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIHdyaXRlX1RTUF9Db2xvcl9SR0IoOTksIDIyMiwgMTcxKTtcbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4gd3JpdGVfVFNQX0NvbG9yX1JHQigxNjIsIDE5NywgMjQwKTtcbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4gd3JpdGVfVFNQX0NvbG9yX1JHQigyNTUsIDE4OSwgMTg5KTtcbiAgfVxuICByZXR1cm4gd3JpdGVfVFNQX0NvbG9yX1JHQihNYXRoLnJhbmRvbSgpICogMjU1LCBNYXRoLnJhbmRvbSgpICogMjU1LCBNYXRoLnJhbmRvbSgpICogMjU1KTtcbn1cbmZ1bmN0aW9uIHdyaXRlX251bWJlcnNfaXdhKHdiLCBvcHRzKSB7XG4gIGlmICghb3B0cyB8fCAhb3B0cy5udW1iZXJzKVxuICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcGFzcyBhIGBudW1iZXJzYCBvcHRpb24gLS0gY2hlY2sgdGhlIFJFQURNRVwiKTtcbiAgdmFyIGNmYiA9IENGQi5yZWFkKG9wdHMubnVtYmVycywgeyB0eXBlOiBcImJhc2U2NFwiIH0pO1xuICB2YXIgZGVwcyA9IGJ1aWxkX251bWJlcnNfZGVwcyhjZmIpO1xuICB2YXIgZG9jcm9vdCA9IG51bWJlcnNfaXdhX2ZpbmQoY2ZiLCBkZXBzLCAxKTtcbiAgaWYgKGRvY3Jvb3QgPT0gbnVsbClcbiAgICB0aHJvdyBcIkNvdWxkIG5vdCBmaW5kIG1lc3NhZ2UgXCIuY29uY2F0KDEsIFwiIGluIE51bWJlcnMgdGVtcGxhdGVcIik7XG4gIHZhciBzaGVldHJlZnMgPSBtYXBwYShwYXJzZV9zaGFsbG93KGRvY3Jvb3QubWVzc2FnZXNbMF0uZGF0YSlbMV0sIHBhcnNlX1RTUF9SZWZlcmVuY2UpO1xuICBpZiAoc2hlZXRyZWZzLmxlbmd0aCA+IDEpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGVtcGxhdGUgTlVNQkVSUyBmaWxlIG11c3QgaGF2ZSBleGFjdGx5IG9uZSBzaGVldFwiKTtcbiAgd2IuU2hlZXROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUsIGlkeCkge1xuICAgIGlmIChpZHggPj0gMSkge1xuICAgICAgbnVtYmVyc19hZGRfd3MoY2ZiLCBkZXBzLCBpZHggKyAxKTtcbiAgICAgIGRvY3Jvb3QgPSBudW1iZXJzX2l3YV9maW5kKGNmYiwgZGVwcywgMSk7XG4gICAgICBzaGVldHJlZnMgPSBtYXBwYShwYXJzZV9zaGFsbG93KGRvY3Jvb3QubWVzc2FnZXNbMF0uZGF0YSlbMV0sIHBhcnNlX1RTUF9SZWZlcmVuY2UpO1xuICAgIH1cbiAgICB3cml0ZV9udW1iZXJzX3dzKGNmYiwgZGVwcywgd2IuU2hlZXRzW25hbWVdLCBuYW1lLCBpZHgsIHNoZWV0cmVmc1tpZHhdKTtcbiAgfSk7XG4gIHJldHVybiBjZmI7XG59XG5mdW5jdGlvbiBudW1iZXJzX2l3YV9kb2l0KGNmYiwgZGVwcywgaWQsIGNiKSB7XG4gIHZhciBlbnRyeSA9IENGQi5maW5kKGNmYiwgZGVwc1tpZF0ubG9jYXRpb24pO1xuICBpZiAoIWVudHJ5KVxuICAgIHRocm93IFwiQ291bGQgbm90IGZpbmQgXCIuY29uY2F0KGRlcHNbaWRdLmxvY2F0aW9uLCBcIiBpbiBOdW1iZXJzIHRlbXBsYXRlXCIpO1xuICB2YXIgeCA9IHBhcnNlX2l3YV9maWxlKGRlY29tcHJlc3NfaXdhX2ZpbGUoZW50cnkuY29udGVudCkpO1xuICB2YXIgYWluZm8gPSB4LmZpbmQoZnVuY3Rpb24ocGFja2V0KSB7XG4gICAgcmV0dXJuIHBhY2tldC5pZCA9PSBpZDtcbiAgfSk7XG4gIGNiKGFpbmZvLCB4KTtcbiAgZW50cnkuY29udGVudCA9IGNvbXByZXNzX2l3YV9maWxlKHdyaXRlX2l3YV9maWxlKHgpKTtcbiAgZW50cnkuc2l6ZSA9IGVudHJ5LmNvbnRlbnQubGVuZ3RoO1xufVxuZnVuY3Rpb24gbnVtYmVyc19pd2FfZmluZChjZmIsIGRlcHMsIGlkKSB7XG4gIHZhciBlbnRyeSA9IENGQi5maW5kKGNmYiwgZGVwc1tpZF0ubG9jYXRpb24pO1xuICBpZiAoIWVudHJ5KVxuICAgIHRocm93IFwiQ291bGQgbm90IGZpbmQgXCIuY29uY2F0KGRlcHNbaWRdLmxvY2F0aW9uLCBcIiBpbiBOdW1iZXJzIHRlbXBsYXRlXCIpO1xuICB2YXIgeCA9IHBhcnNlX2l3YV9maWxlKGRlY29tcHJlc3NfaXdhX2ZpbGUoZW50cnkuY29udGVudCkpO1xuICB2YXIgYWluZm8gPSB4LmZpbmQoZnVuY3Rpb24ocGFja2V0KSB7XG4gICAgcmV0dXJuIHBhY2tldC5pZCA9PSBpZDtcbiAgfSk7XG4gIHJldHVybiBhaW5mbztcbn1cbmZ1bmN0aW9uIG51bWJlcnNfYWRkX21ldGEobWxpc3QsIG5ld2lkLCBuZXdsb2MpIHtcbiAgbWxpc3RbM10ucHVzaCh7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX3NoYWxsb3coW1xuICAgIFtdLFxuICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KG5ld2lkKSB9XSxcbiAgICBbeyB0eXBlOiAyLCBkYXRhOiBzdHJ1OChuZXdsb2MucmVwbGFjZSgvLVtcXHNcXFNdKiQvLCBcIlwiKSkgfV0sXG4gICAgW3sgdHlwZTogMiwgZGF0YTogc3RydTgobmV3bG9jKSB9XSxcbiAgICBbeyB0eXBlOiAyLCBkYXRhOiBuZXcgVWludDhBcnJheShbMiwgMCwgMF0pIH1dLFxuICAgIFt7IHR5cGU6IDIsIGRhdGE6IG5ldyBVaW50OEFycmF5KFsyLCAwLCAwXSkgfV0sXG4gICAgW10sXG4gICAgW10sXG4gICAgW10sXG4gICAgW10sXG4gICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoMCkgfV0sXG4gICAgW10sXG4gICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoMCkgfV1cbiAgXSkgfSk7XG4gIG1saXN0WzFdID0gW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoTWF0aC5tYXgobmV3aWQgKyAxLCB2YXJpbnRfdG9faTMyKG1saXN0WzFdWzBdLmRhdGEpKSkgfV07XG59XG5mdW5jdGlvbiBudW1iZXJzX2FkZF9tc2coY2ZiLCB0eXBlLCBtc2csIHBhdGgsIGRlcHMsIGlkKSB7XG4gIGlmICghaWQpXG4gICAgaWQgPSBnZXRfdW5pcXVlX21zZ2lkKHsgZGVwczogW10sIGxvY2F0aW9uOiBcIlwiLCB0eXBlOiB0eXBlIH0sIGRlcHMpO1xuICB2YXIgbG9jID0gXCJcIi5jb25jYXQocGF0aCwgXCItXCIpLmNvbmNhdChpZCwgXCIuaXdhXCIpO1xuICBkZXBzW2lkXS5sb2NhdGlvbiA9IFwiUm9vdCBFbnRyeVwiICsgbG9jO1xuICBDRkIudXRpbHMuY2ZiX2FkZChjZmIsIGxvYywgY29tcHJlc3NfaXdhX2ZpbGUod3JpdGVfaXdhX2ZpbGUoW3tcbiAgICBpZDogaWQsXG4gICAgbWVzc2FnZXM6IFt3cml0ZV9pd2FtKHR5cGUsIHdyaXRlX3NoYWxsb3cobXNnKSldXG4gIH1dKSkpO1xuICB2YXIgbmV3bG9jID0gbG9jLnJlcGxhY2UoL15bXFwvXS8sIFwiXCIpLnJlcGxhY2UoL15JbmRleFxcLy8sIFwiXCIpLnJlcGxhY2UoL1xcLml3YSQvLCBcIlwiKTtcbiAgbnVtYmVyc19pd2FfZG9pdChjZmIsIGRlcHMsIDIsIGZ1bmN0aW9uKGFpKSB7XG4gICAgdmFyIG1saXN0ID0gcGFyc2Vfc2hhbGxvdyhhaS5tZXNzYWdlc1swXS5kYXRhKTtcbiAgICBudW1iZXJzX2FkZF9tZXRhKG1saXN0LCBpZCB8fCAwLCBuZXdsb2MpO1xuICAgIGFpLm1lc3NhZ2VzWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KG1saXN0KTtcbiAgfSk7XG4gIHJldHVybiBpZDtcbn1cbmZ1bmN0aW9uIG51bWJlcnNfbWV0YV9hZGRfZGVwKG1saXN0LCBkZXBzLCBpZCwgZGVwKSB7XG4gIHZhciBsb2MgPSBkZXBzW2lkXS5sb2NhdGlvbi5yZXBsYWNlKC9eUm9vdCBFbnRyeVxcLy8sIFwiXCIpLnJlcGxhY2UoL15JbmRleFxcLy8sIFwiXCIpLnJlcGxhY2UoL1xcLml3YSQvLCBcIlwiKTtcbiAgdmFyIHBhcmVudGlkeCA9IG1saXN0WzNdLmZpbmRJbmRleChmdW5jdGlvbihtKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICB2YXIgbW0gPSBwYXJzZV9zaGFsbG93KG0uZGF0YSk7XG4gICAgaWYgKChfYSA9IG1tWzNdKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF0pXG4gICAgICByZXR1cm4gdThzdHIobW1bM11bMF0uZGF0YSkgPT0gbG9jO1xuICAgIGlmICgoKF9iID0gbW1bMl0pID09IG51bGwgPyB2b2lkIDAgOiBfYlswXSkgJiYgdThzdHIobW1bMl1bMF0uZGF0YSkgPT0gbG9jKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgdmFyIHBhcmVudCA9IHBhcnNlX3NoYWxsb3cobWxpc3RbM11bcGFyZW50aWR4XS5kYXRhKTtcbiAgaWYgKCFwYXJlbnRbNl0pXG4gICAgcGFyZW50WzZdID0gW107XG4gIChBcnJheS5pc0FycmF5KGRlcCkgPyBkZXAgOiBbZGVwXSkuZm9yRWFjaChmdW5jdGlvbihkZXAyKSB7XG4gICAgcGFyZW50WzZdLnB1c2goe1xuICAgICAgdHlwZTogMixcbiAgICAgIGRhdGE6IHdyaXRlX3NoYWxsb3coW1xuICAgICAgICBbXSxcbiAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoZGVwMikgfV1cbiAgICAgIF0pXG4gICAgfSk7XG4gIH0pO1xuICBtbGlzdFszXVtwYXJlbnRpZHhdLmRhdGEgPSB3cml0ZV9zaGFsbG93KHBhcmVudCk7XG59XG5mdW5jdGlvbiBudW1iZXJzX21ldGFfZGVsX2RlcChtbGlzdCwgZGVwcywgaWQsIGRlcCkge1xuICB2YXIgbG9jID0gZGVwc1tpZF0ubG9jYXRpb24ucmVwbGFjZSgvXlJvb3QgRW50cnlcXC8vLCBcIlwiKS5yZXBsYWNlKC9eSW5kZXhcXC8vLCBcIlwiKS5yZXBsYWNlKC9cXC5pd2EkLywgXCJcIik7XG4gIHZhciBwYXJlbnRpZHggPSBtbGlzdFszXS5maW5kSW5kZXgoZnVuY3Rpb24obSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIG1tID0gcGFyc2Vfc2hhbGxvdyhtLmRhdGEpO1xuICAgIGlmICgoX2EgPSBtbVszXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKVxuICAgICAgcmV0dXJuIHU4c3RyKG1tWzNdWzBdLmRhdGEpID09IGxvYztcbiAgICBpZiAoKChfYiA9IG1tWzJdKSA9PSBudWxsID8gdm9pZCAwIDogX2JbMF0pICYmIHU4c3RyKG1tWzJdWzBdLmRhdGEpID09IGxvYylcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gIHZhciBwYXJlbnQgPSBwYXJzZV9zaGFsbG93KG1saXN0WzNdW3BhcmVudGlkeF0uZGF0YSk7XG4gIGlmICghcGFyZW50WzZdKVxuICAgIHBhcmVudFs2XSA9IFtdO1xuICBwYXJlbnRbNl0gPSBwYXJlbnRbNl0uZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICByZXR1cm4gdmFyaW50X3RvX2kzMihwYXJzZV9zaGFsbG93KG0uZGF0YSlbMV1bMF0uZGF0YSkgIT0gZGVwO1xuICB9KTtcbiAgbWxpc3RbM11bcGFyZW50aWR4XS5kYXRhID0gd3JpdGVfc2hhbGxvdyhwYXJlbnQpO1xufVxuZnVuY3Rpb24gbnVtYmVyc19hZGRfd3MoY2ZiLCBkZXBzLCB3c2lkeCkge1xuICB2YXIgc2hlZXRyZWYgPSAtMSwgbmV3c2hlZXRyZWYgPSAtMTtcbiAgdmFyIHJlbWFwID0ge307XG4gIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCAxLCBmdW5jdGlvbihkb2Nyb290LCBhcmNoKSB7XG4gICAgdmFyIGRvYyA9IHBhcnNlX3NoYWxsb3coZG9jcm9vdC5tZXNzYWdlc1swXS5kYXRhKTtcbiAgICBzaGVldHJlZiA9IHBhcnNlX1RTUF9SZWZlcmVuY2UocGFyc2Vfc2hhbGxvdyhkb2Nyb290Lm1lc3NhZ2VzWzBdLmRhdGEpWzFdWzBdLmRhdGEpO1xuICAgIG5ld3NoZWV0cmVmID0gZ2V0X3VuaXF1ZV9tc2dpZCh7IGRlcHM6IFsxXSwgbG9jYXRpb246IGRlcHNbc2hlZXRyZWZdLmxvY2F0aW9uLCB0eXBlOiAyIH0sIGRlcHMpO1xuICAgIHJlbWFwW3NoZWV0cmVmXSA9IG5ld3NoZWV0cmVmO1xuICAgIG51bWJlcnNfYWRkX29yZWYoZG9jcm9vdCwgbmV3c2hlZXRyZWYpO1xuICAgIGRvY1sxXS5wdXNoKHsgdHlwZTogMiwgZGF0YTogd3JpdGVfVFNQX1JlZmVyZW5jZShuZXdzaGVldHJlZikgfSk7XG4gICAgdmFyIHNoZWV0ID0gbnVtYmVyc19pd2FfZmluZChjZmIsIGRlcHMsIHNoZWV0cmVmKTtcbiAgICBzaGVldC5pZCA9IG5ld3NoZWV0cmVmO1xuICAgIGlmIChkZXBzWzFdLmxvY2F0aW9uID09IGRlcHNbbmV3c2hlZXRyZWZdLmxvY2F0aW9uKVxuICAgICAgYXJjaC5wdXNoKHNoZWV0KTtcbiAgICBlbHNlXG4gICAgICBudW1iZXJzX2l3YV9kb2l0KGNmYiwgZGVwcywgbmV3c2hlZXRyZWYsIGZ1bmN0aW9uKF8sIHgpIHtcbiAgICAgICAgcmV0dXJuIHgucHVzaChzaGVldCk7XG4gICAgICB9KTtcbiAgICBkb2Nyb290Lm1lc3NhZ2VzWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KGRvYyk7XG4gIH0pO1xuICB2YXIgdGlhcmVmID0gLTE7XG4gIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCBuZXdzaGVldHJlZiwgZnVuY3Rpb24oc2hlZXRyb290LCBhcmNoKSB7XG4gICAgdmFyIHNhID0gcGFyc2Vfc2hhbGxvdyhzaGVldHJvb3QubWVzc2FnZXNbMF0uZGF0YSk7XG4gICAgZm9yICh2YXIgaSA9IDM7IGkgPD0gNjk7ICsraSlcbiAgICAgIGRlbGV0ZSBzYVtpXTtcbiAgICB2YXIgZHJhd2FibGVzID0gbWFwcGEoc2FbMl0sIHBhcnNlX1RTUF9SZWZlcmVuY2UpO1xuICAgIGRyYXdhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uKG4pIHtcbiAgICAgIHJldHVybiBudW1iZXJzX2RlbF9vcmVmKHNoZWV0cm9vdCwgbik7XG4gICAgfSk7XG4gICAgdGlhcmVmID0gZ2V0X3VuaXF1ZV9tc2dpZCh7IGRlcHM6IFtuZXdzaGVldHJlZl0sIGxvY2F0aW9uOiBkZXBzW2RyYXdhYmxlc1swXV0ubG9jYXRpb24sIHR5cGU6IGRlcHNbZHJhd2FibGVzWzBdXS50eXBlIH0sIGRlcHMpO1xuICAgIG51bWJlcnNfYWRkX29yZWYoc2hlZXRyb290LCB0aWFyZWYpO1xuICAgIHJlbWFwW2RyYXdhYmxlc1swXV0gPSB0aWFyZWY7XG4gICAgc2FbMl0gPSBbeyB0eXBlOiAyLCBkYXRhOiB3cml0ZV9UU1BfUmVmZXJlbmNlKHRpYXJlZikgfV07XG4gICAgdmFyIHRpYSA9IG51bWJlcnNfaXdhX2ZpbmQoY2ZiLCBkZXBzLCBkcmF3YWJsZXNbMF0pO1xuICAgIHRpYS5pZCA9IHRpYXJlZjtcbiAgICBpZiAoZGVwc1tkcmF3YWJsZXNbMF1dLmxvY2F0aW9uID09IGRlcHNbbmV3c2hlZXRyZWZdLmxvY2F0aW9uKVxuICAgICAgYXJjaC5wdXNoKHRpYSk7XG4gICAgZWxzZSB7XG4gICAgICBudW1iZXJzX2l3YV9kb2l0KGNmYiwgZGVwcywgMiwgZnVuY3Rpb24oYWkpIHtcbiAgICAgICAgdmFyIG1saXN0ID0gcGFyc2Vfc2hhbGxvdyhhaS5tZXNzYWdlc1swXS5kYXRhKTtcbiAgICAgICAgbnVtYmVyc19tZXRhX2FkZF9kZXAobWxpc3QsIGRlcHMsIG5ld3NoZWV0cmVmLCB0aWFyZWYpO1xuICAgICAgICBhaS5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyhtbGlzdCk7XG4gICAgICB9KTtcbiAgICAgIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCB0aWFyZWYsIGZ1bmN0aW9uKF8sIHgpIHtcbiAgICAgICAgcmV0dXJuIHgucHVzaCh0aWEpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHNoZWV0cm9vdC5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyhzYSk7XG4gIH0pO1xuICB2YXIgdG1hcmVmID0gLTE7XG4gIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCB0aWFyZWYsIGZ1bmN0aW9uKHRpYXJvb3QsIGFyY2gpIHtcbiAgICB2YXIgdGlhID0gcGFyc2Vfc2hhbGxvdyh0aWFyb290Lm1lc3NhZ2VzWzBdLmRhdGEpO1xuICAgIHZhciBkYSA9IHBhcnNlX3NoYWxsb3codGlhWzFdWzBdLmRhdGEpO1xuICAgIGZvciAodmFyIGkgPSAzOyBpIDw9IDY5OyArK2kpXG4gICAgICBkZWxldGUgZGFbaV07XG4gICAgdmFyIGRhcCA9IHBhcnNlX1RTUF9SZWZlcmVuY2UoZGFbMl1bMF0uZGF0YSk7XG4gICAgZGFbMl1bMF0uZGF0YSA9IHdyaXRlX1RTUF9SZWZlcmVuY2UocmVtYXBbZGFwXSk7XG4gICAgdGlhWzFdWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KGRhKTtcbiAgICB2YXIgb2xkdG1hcmVmID0gcGFyc2VfVFNQX1JlZmVyZW5jZSh0aWFbMl1bMF0uZGF0YSk7XG4gICAgbnVtYmVyc19kZWxfb3JlZih0aWFyb290LCBvbGR0bWFyZWYpO1xuICAgIHRtYXJlZiA9IGdldF91bmlxdWVfbXNnaWQoeyBkZXBzOiBbdGlhcmVmXSwgbG9jYXRpb246IGRlcHNbb2xkdG1hcmVmXS5sb2NhdGlvbiwgdHlwZTogZGVwc1tvbGR0bWFyZWZdLnR5cGUgfSwgZGVwcyk7XG4gICAgbnVtYmVyc19hZGRfb3JlZih0aWFyb290LCB0bWFyZWYpO1xuICAgIHJlbWFwW29sZHRtYXJlZl0gPSB0bWFyZWY7XG4gICAgdGlhWzJdWzBdLmRhdGEgPSB3cml0ZV9UU1BfUmVmZXJlbmNlKHRtYXJlZik7XG4gICAgdmFyIHRtYSA9IG51bWJlcnNfaXdhX2ZpbmQoY2ZiLCBkZXBzLCBvbGR0bWFyZWYpO1xuICAgIHRtYS5pZCA9IHRtYXJlZjtcbiAgICBpZiAoZGVwc1t0aWFyZWZdLmxvY2F0aW9uID09IGRlcHNbdG1hcmVmXS5sb2NhdGlvbilcbiAgICAgIGFyY2gucHVzaCh0bWEpO1xuICAgIGVsc2VcbiAgICAgIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCB0bWFyZWYsIGZ1bmN0aW9uKF8sIHgpIHtcbiAgICAgICAgcmV0dXJuIHgucHVzaCh0bWEpO1xuICAgICAgfSk7XG4gICAgdGlhcm9vdC5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyh0aWEpO1xuICB9KTtcbiAgbnVtYmVyc19pd2FfZG9pdChjZmIsIGRlcHMsIHRtYXJlZiwgZnVuY3Rpb24odG1hcm9vdCwgYXJjaCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIHRtYSA9IHBhcnNlX3NoYWxsb3codG1hcm9vdC5tZXNzYWdlc1swXS5kYXRhKTtcbiAgICB2YXIgdXVpZCA9IHU4c3RyKHRtYVsxXVswXS5kYXRhKSwgbmV3X3V1aWQgPSB1dWlkLnJlcGxhY2UoLy1bQS1aMC05XSovLCBcIi1cIi5jb25jYXQoKFwiMDAwMFwiICsgd3NpZHgudG9TdHJpbmcoMTYpKS5zbGljZSgtNCkpKTtcbiAgICB0bWFbMV1bMF0uZGF0YSA9IHN0cnU4KG5ld191dWlkKTtcbiAgICBbMTIsIDEzLCAyOSwgMzEsIDMyLCAzMywgMzksIDQ0LCA0NywgODEsIDgyLCA4NF0uZm9yRWFjaChmdW5jdGlvbihuKSB7XG4gICAgICByZXR1cm4gZGVsZXRlIHRtYVtuXTtcbiAgICB9KTtcbiAgICBpZiAodG1hWzQ1XSkge1xuICAgICAgdmFyIHNycnRhID0gcGFyc2Vfc2hhbGxvdyh0bWFbNDVdWzBdLmRhdGEpO1xuICAgICAgdmFyIHJlZiA9IHBhcnNlX1RTUF9SZWZlcmVuY2Uoc3JydGFbMV1bMF0uZGF0YSk7XG4gICAgICBudW1iZXJzX2RlbF9vcmVmKHRtYXJvb3QsIHJlZik7XG4gICAgICBkZWxldGUgdG1hWzQ1XTtcbiAgICB9XG4gICAgaWYgKHRtYVs3MF0pIHtcbiAgICAgIHZhciBoc29hID0gcGFyc2Vfc2hhbGxvdyh0bWFbNzBdWzBdLmRhdGEpO1xuICAgICAgKF9hID0gaHNvYVsyXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB2YXIgaHNhID0gcGFyc2Vfc2hhbGxvdyhpdGVtLmRhdGEpO1xuICAgICAgICBbMiwgM10ubWFwKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICByZXR1cm4gaHNhW25dWzBdO1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGhzZWFkYXRhKSB7XG4gICAgICAgICAgdmFyIGhzZWEgPSBwYXJzZV9zaGFsbG93KGhzZWFkYXRhLmRhdGEpO1xuICAgICAgICAgIGlmICghaHNlYVs4XSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB2YXIgcmVmMiA9IHBhcnNlX1RTUF9SZWZlcmVuY2UoaHNlYVs4XVswXS5kYXRhKTtcbiAgICAgICAgICBudW1iZXJzX2RlbF9vcmVmKHRtYXJvb3QsIHJlZjIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgZGVsZXRlIHRtYVs3MF07XG4gICAgfVxuICAgIFtcbiAgICAgIDQ2LFxuICAgICAgMzAsXG4gICAgICAzNCxcbiAgICAgIDM1LFxuICAgICAgMzYsXG4gICAgICAzOCxcbiAgICAgIDQ4LFxuICAgICAgNDksXG4gICAgICA2MCxcbiAgICAgIDYxLFxuICAgICAgNjIsXG4gICAgICA2MyxcbiAgICAgIDY0LFxuICAgICAgNzEsXG4gICAgICA3MixcbiAgICAgIDczLFxuICAgICAgNzQsXG4gICAgICA3NSxcbiAgICAgIDg1LFxuICAgICAgODYsXG4gICAgICA4NyxcbiAgICAgIDg4LFxuICAgICAgODlcbiAgICBdLmZvckVhY2goZnVuY3Rpb24obikge1xuICAgICAgaWYgKCF0bWFbbl0pXG4gICAgICAgIHJldHVybjtcbiAgICAgIHZhciByZWYyID0gcGFyc2VfVFNQX1JlZmVyZW5jZSh0bWFbbl1bMF0uZGF0YSk7XG4gICAgICBkZWxldGUgdG1hW25dO1xuICAgICAgbnVtYmVyc19kZWxfb3JlZih0bWFyb290LCByZWYyKTtcbiAgICB9KTtcbiAgICB2YXIgc3RvcmUgPSBwYXJzZV9zaGFsbG93KHRtYVs0XVswXS5kYXRhKTtcbiAgICB7XG4gICAgICBbMiwgNCwgNSwgNiwgMTEsIDEyLCAxMywgMTUsIDE2LCAxNywgMTgsIDE5LCAyMCwgMjEsIDIyXS5mb3JFYWNoKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgaWYgKCEoKF9hMiA9IHN0b3JlW25dKSA9PSBudWxsID8gdm9pZCAwIDogX2EyWzBdKSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBvbGRyZWYgPSBwYXJzZV9UU1BfUmVmZXJlbmNlKHN0b3JlW25dWzBdLmRhdGEpO1xuICAgICAgICB2YXIgbmV3cmVmID0gZ2V0X3VuaXF1ZV9tc2dpZCh7IGRlcHM6IFt0bWFyZWZdLCBsb2NhdGlvbjogZGVwc1tvbGRyZWZdLmxvY2F0aW9uLCB0eXBlOiBkZXBzW29sZHJlZl0udHlwZSB9LCBkZXBzKTtcbiAgICAgICAgbnVtYmVyc19kZWxfb3JlZih0bWFyb290LCBvbGRyZWYpO1xuICAgICAgICBudW1iZXJzX2FkZF9vcmVmKHRtYXJvb3QsIG5ld3JlZik7XG4gICAgICAgIHJlbWFwW29sZHJlZl0gPSBuZXdyZWY7XG4gICAgICAgIHZhciBtc2cgPSBudW1iZXJzX2l3YV9maW5kKGNmYiwgZGVwcywgb2xkcmVmKTtcbiAgICAgICAgbXNnLmlkID0gbmV3cmVmO1xuICAgICAgICBpZiAoZGVwc1tvbGRyZWZdLmxvY2F0aW9uID09IGRlcHNbdG1hcmVmXS5sb2NhdGlvbilcbiAgICAgICAgICBhcmNoLnB1c2gobXNnKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVwc1tuZXdyZWZdLmxvY2F0aW9uID0gZGVwc1tvbGRyZWZdLmxvY2F0aW9uLnJlcGxhY2Uob2xkcmVmLnRvU3RyaW5nKCksIG5ld3JlZi50b1N0cmluZygpKTtcbiAgICAgICAgICBpZiAoZGVwc1tuZXdyZWZdLmxvY2F0aW9uID09IGRlcHNbb2xkcmVmXS5sb2NhdGlvbilcbiAgICAgICAgICAgIGRlcHNbbmV3cmVmXS5sb2NhdGlvbiA9IGRlcHNbbmV3cmVmXS5sb2NhdGlvbi5yZXBsYWNlKC9cXC5pd2EvLCBcIi1cIi5jb25jYXQobmV3cmVmLCBcIi5pd2FcIikpO1xuICAgICAgICAgIENGQi51dGlscy5jZmJfYWRkKGNmYiwgZGVwc1tuZXdyZWZdLmxvY2F0aW9uLCBjb21wcmVzc19pd2FfZmlsZSh3cml0ZV9pd2FfZmlsZShbbXNnXSkpKTtcbiAgICAgICAgICB2YXIgbmV3bG9jID0gZGVwc1tuZXdyZWZdLmxvY2F0aW9uLnJlcGxhY2UoL15Sb290IEVudHJ5XFwvLywgXCJcIikucmVwbGFjZSgvXkluZGV4XFwvLywgXCJcIikucmVwbGFjZSgvXFwuaXdhJC8sIFwiXCIpO1xuICAgICAgICAgIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCAyLCBmdW5jdGlvbihhaSkge1xuICAgICAgICAgICAgdmFyIG1saXN0ID0gcGFyc2Vfc2hhbGxvdyhhaS5tZXNzYWdlc1swXS5kYXRhKTtcbiAgICAgICAgICAgIG51bWJlcnNfYWRkX21ldGEobWxpc3QsIG5ld3JlZiwgbmV3bG9jKTtcbiAgICAgICAgICAgIG51bWJlcnNfbWV0YV9hZGRfZGVwKG1saXN0LCBkZXBzLCB0bWFyZWYsIG5ld3JlZik7XG4gICAgICAgICAgICBhaS5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyhtbGlzdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcmVbbl1bMF0uZGF0YSA9IHdyaXRlX1RTUF9SZWZlcmVuY2UobmV3cmVmKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHJvd19oZWFkZXJzID0gcGFyc2Vfc2hhbGxvdyhzdG9yZVsxXVswXS5kYXRhKTtcbiAgICAgIHtcbiAgICAgICAgKF9iID0gcm93X2hlYWRlcnNbMl0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5mb3JFYWNoKGZ1bmN0aW9uKHRzcHJlZikge1xuICAgICAgICAgIHZhciBvbGRyZWYgPSBwYXJzZV9UU1BfUmVmZXJlbmNlKHRzcHJlZi5kYXRhKTtcbiAgICAgICAgICB2YXIgbmV3cmVmID0gZ2V0X3VuaXF1ZV9tc2dpZCh7IGRlcHM6IFt0bWFyZWZdLCBsb2NhdGlvbjogZGVwc1tvbGRyZWZdLmxvY2F0aW9uLCB0eXBlOiBkZXBzW29sZHJlZl0udHlwZSB9LCBkZXBzKTtcbiAgICAgICAgICBudW1iZXJzX2RlbF9vcmVmKHRtYXJvb3QsIG9sZHJlZik7XG4gICAgICAgICAgbnVtYmVyc19hZGRfb3JlZih0bWFyb290LCBuZXdyZWYpO1xuICAgICAgICAgIHJlbWFwW29sZHJlZl0gPSBuZXdyZWY7XG4gICAgICAgICAgdmFyIG1zZyA9IG51bWJlcnNfaXdhX2ZpbmQoY2ZiLCBkZXBzLCBvbGRyZWYpO1xuICAgICAgICAgIG1zZy5pZCA9IG5ld3JlZjtcbiAgICAgICAgICBpZiAoZGVwc1tvbGRyZWZdLmxvY2F0aW9uID09IGRlcHNbdG1hcmVmXS5sb2NhdGlvbikge1xuICAgICAgICAgICAgYXJjaC5wdXNoKG1zZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlcHNbbmV3cmVmXS5sb2NhdGlvbiA9IGRlcHNbb2xkcmVmXS5sb2NhdGlvbi5yZXBsYWNlKG9sZHJlZi50b1N0cmluZygpLCBuZXdyZWYudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAoZGVwc1tuZXdyZWZdLmxvY2F0aW9uID09IGRlcHNbb2xkcmVmXS5sb2NhdGlvbilcbiAgICAgICAgICAgICAgZGVwc1tuZXdyZWZdLmxvY2F0aW9uID0gZGVwc1tuZXdyZWZdLmxvY2F0aW9uLnJlcGxhY2UoL1xcLml3YS8sIFwiLVwiLmNvbmNhdChuZXdyZWYsIFwiLml3YVwiKSk7XG4gICAgICAgICAgICBDRkIudXRpbHMuY2ZiX2FkZChjZmIsIGRlcHNbbmV3cmVmXS5sb2NhdGlvbiwgY29tcHJlc3NfaXdhX2ZpbGUod3JpdGVfaXdhX2ZpbGUoW21zZ10pKSk7XG4gICAgICAgICAgICB2YXIgbmV3bG9jID0gZGVwc1tuZXdyZWZdLmxvY2F0aW9uLnJlcGxhY2UoL15Sb290IEVudHJ5XFwvLywgXCJcIikucmVwbGFjZSgvXkluZGV4XFwvLywgXCJcIikucmVwbGFjZSgvXFwuaXdhJC8sIFwiXCIpO1xuICAgICAgICAgICAgbnVtYmVyc19pd2FfZG9pdChjZmIsIGRlcHMsIDIsIGZ1bmN0aW9uKGFpKSB7XG4gICAgICAgICAgICAgIHZhciBtbGlzdCA9IHBhcnNlX3NoYWxsb3coYWkubWVzc2FnZXNbMF0uZGF0YSk7XG4gICAgICAgICAgICAgIG51bWJlcnNfYWRkX21ldGEobWxpc3QsIG5ld3JlZiwgbmV3bG9jKTtcbiAgICAgICAgICAgICAgbnVtYmVyc19tZXRhX2FkZF9kZXAobWxpc3QsIGRlcHMsIHRtYXJlZiwgbmV3cmVmKTtcbiAgICAgICAgICAgICAgYWkubWVzc2FnZXNbMF0uZGF0YSA9IHdyaXRlX3NoYWxsb3cobWxpc3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRzcHJlZi5kYXRhID0gd3JpdGVfVFNQX1JlZmVyZW5jZShuZXdyZWYpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHN0b3JlWzFdWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KHJvd19oZWFkZXJzKTtcbiAgICAgIHZhciB0aWxlcyA9IHBhcnNlX3NoYWxsb3coc3RvcmVbM11bMF0uZGF0YSk7XG4gICAgICB7XG4gICAgICAgIHRpbGVzWzFdLmZvckVhY2goZnVuY3Rpb24odCkge1xuICAgICAgICAgIHZhciB0c3QgPSBwYXJzZV9zaGFsbG93KHQuZGF0YSk7XG4gICAgICAgICAgdmFyIG9sZHRpbGVyZWYgPSBwYXJzZV9UU1BfUmVmZXJlbmNlKHRzdFsyXVswXS5kYXRhKTtcbiAgICAgICAgICB2YXIgbmV3dGlsZXJlZiA9IHJlbWFwW29sZHRpbGVyZWZdO1xuICAgICAgICAgIGlmICghcmVtYXBbb2xkdGlsZXJlZl0pIHtcbiAgICAgICAgICAgIG5ld3RpbGVyZWYgPSBnZXRfdW5pcXVlX21zZ2lkKHsgZGVwczogW3RtYXJlZl0sIGxvY2F0aW9uOiBcIlwiLCB0eXBlOiBkZXBzW29sZHRpbGVyZWZdLnR5cGUgfSwgZGVwcyk7XG4gICAgICAgICAgICBkZXBzW25ld3RpbGVyZWZdLmxvY2F0aW9uID0gXCJSb290IEVudHJ5L0luZGV4L1RhYmxlcy9UaWxlLVwiLmNvbmNhdChuZXd0aWxlcmVmLCBcIi5pd2FcIik7XG4gICAgICAgICAgICByZW1hcFtvbGR0aWxlcmVmXSA9IG5ld3RpbGVyZWY7XG4gICAgICAgICAgICB2YXIgb2xkdGlsZSA9IG51bWJlcnNfaXdhX2ZpbmQoY2ZiLCBkZXBzLCBvbGR0aWxlcmVmKTtcbiAgICAgICAgICAgIG9sZHRpbGUuaWQgPSBuZXd0aWxlcmVmO1xuICAgICAgICAgICAgbnVtYmVyc19kZWxfb3JlZih0bWFyb290LCBvbGR0aWxlcmVmKTtcbiAgICAgICAgICAgIG51bWJlcnNfYWRkX29yZWYodG1hcm9vdCwgbmV3dGlsZXJlZik7XG4gICAgICAgICAgICBDRkIudXRpbHMuY2ZiX2FkZChjZmIsIFwiL0luZGV4L1RhYmxlcy9UaWxlLVwiLmNvbmNhdChuZXd0aWxlcmVmLCBcIi5pd2FcIiksIGNvbXByZXNzX2l3YV9maWxlKHdyaXRlX2l3YV9maWxlKFtvbGR0aWxlXSkpKTtcbiAgICAgICAgICAgIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCAyLCBmdW5jdGlvbihhaSkge1xuICAgICAgICAgICAgICB2YXIgbWxpc3QgPSBwYXJzZV9zaGFsbG93KGFpLm1lc3NhZ2VzWzBdLmRhdGEpO1xuICAgICAgICAgICAgICBtbGlzdFszXS5wdXNoKHsgdHlwZTogMiwgZGF0YTogd3JpdGVfc2hhbGxvdyhbXG4gICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkobmV3dGlsZXJlZikgfV0sXG4gICAgICAgICAgICAgICAgW3sgdHlwZTogMiwgZGF0YTogc3RydTgoXCJUYWJsZXMvVGlsZVwiKSB9XSxcbiAgICAgICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiBzdHJ1OChcIlRhYmxlcy9UaWxlLVwiLmNvbmNhdChuZXd0aWxlcmVmKSkgfV0sXG4gICAgICAgICAgICAgICAgW3sgdHlwZTogMiwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoWzIsIDAsIDBdKSB9XSxcbiAgICAgICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiBuZXcgVWludDhBcnJheShbMiwgMCwgMF0pIH1dLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KDApIH1dLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KDApIH1dXG4gICAgICAgICAgICAgIF0pIH0pO1xuICAgICAgICAgICAgICBtbGlzdFsxXSA9IFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KE1hdGgubWF4KG5ld3RpbGVyZWYgKyAxLCB2YXJpbnRfdG9faTMyKG1saXN0WzFdWzBdLmRhdGEpKSkgfV07XG4gICAgICAgICAgICAgIG51bWJlcnNfbWV0YV9hZGRfZGVwKG1saXN0LCBkZXBzLCB0bWFyZWYsIG5ld3RpbGVyZWYpO1xuICAgICAgICAgICAgICBhaS5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyhtbGlzdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHN0WzJdWzBdLmRhdGEgPSB3cml0ZV9UU1BfUmVmZXJlbmNlKG5ld3RpbGVyZWYpO1xuICAgICAgICAgIHQuZGF0YSA9IHdyaXRlX3NoYWxsb3codHN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBzdG9yZVszXVswXS5kYXRhID0gd3JpdGVfc2hhbGxvdyh0aWxlcyk7XG4gICAgfVxuICAgIHRtYVs0XVswXS5kYXRhID0gd3JpdGVfc2hhbGxvdyhzdG9yZSk7XG4gICAgdG1hcm9vdC5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyh0bWEpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHdyaXRlX251bWJlcnNfd3MoY2ZiLCBkZXBzLCB3cywgd3NuYW1lLCBzaGVldGlkeCwgcm9vdHJlZikge1xuICB2YXIgZHJhd2FibGVzID0gW107XG4gIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCByb290cmVmLCBmdW5jdGlvbihkb2Nyb290KSB7XG4gICAgdmFyIHNoZWV0cmVmID0gcGFyc2Vfc2hhbGxvdyhkb2Nyb290Lm1lc3NhZ2VzWzBdLmRhdGEpO1xuICAgIHtcbiAgICAgIHNoZWV0cmVmWzFdID0gW3sgdHlwZTogMiwgZGF0YTogc3RydTgod3NuYW1lKSB9XTtcbiAgICAgIGRyYXdhYmxlcyA9IG1hcHBhKHNoZWV0cmVmWzJdLCBwYXJzZV9UU1BfUmVmZXJlbmNlKTtcbiAgICB9XG4gICAgZG9jcm9vdC5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyhzaGVldHJlZik7XG4gIH0pO1xuICB2YXIgdGlhID0gbnVtYmVyc19pd2FfZmluZChjZmIsIGRlcHMsIGRyYXdhYmxlc1swXSk7XG4gIHZhciB0bWFyZWYgPSBwYXJzZV9UU1BfUmVmZXJlbmNlKHBhcnNlX3NoYWxsb3codGlhLm1lc3NhZ2VzWzBdLmRhdGEpWzJdWzBdLmRhdGEpO1xuICBudW1iZXJzX2l3YV9kb2l0KGNmYiwgZGVwcywgdG1hcmVmLCBmdW5jdGlvbihkb2Nyb290LCB4KSB7XG4gICAgcmV0dXJuIHdyaXRlX251bWJlcnNfdG1hKGNmYiwgZGVwcywgd3MsIGRvY3Jvb3QsIHgsIHRtYXJlZik7XG4gIH0pO1xufVxudmFyIFVTRV9XSURFX1JPV1MgPSB0cnVlO1xuZnVuY3Rpb24gd3JpdGVfbnVtYmVyc190bWEoY2ZiLCBkZXBzLCB3cywgdG1hcm9vdCwgdG1hZmlsZSwgdG1hcmVmKSB7XG4gIGlmICghd3NbXCIhcmVmXCJdKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHBvcnQgZW1wdHkgc2hlZXQgdG8gTlVNQkVSU1wiKTtcbiAgdmFyIHJhbmdlID0gZGVjb2RlX3JhbmdlKHdzW1wiIXJlZlwiXSk7XG4gIHJhbmdlLnMuciA9IHJhbmdlLnMuYyA9IDA7XG4gIHZhciB0cnVuYyA9IGZhbHNlO1xuICBpZiAocmFuZ2UuZS5jID4gOTk5KSB7XG4gICAgdHJ1bmMgPSB0cnVlO1xuICAgIHJhbmdlLmUuYyA9IDk5OTtcbiAgfVxuICBpZiAocmFuZ2UuZS5yID4gOTk5OTk5KSB7XG4gICAgdHJ1bmMgPSB0cnVlO1xuICAgIHJhbmdlLmUuciA9IDk5OTk5OTtcbiAgfVxuICBpZiAodHJ1bmMpXG4gICAgY29uc29sZS5lcnJvcihcIlRydW5jYXRpbmcgdG8gXCIuY29uY2F0KGVuY29kZV9yYW5nZShyYW5nZSkpKTtcbiAgdmFyIGRhdGEgPSBbXTtcbiAgaWYgKHdzW1wiIWRhdGFcIl0pXG4gICAgZGF0YSA9IHdzW1wiIWRhdGFcIl07XG4gIGVsc2Uge1xuICAgIHZhciBjb2xzdHIgPSBbXTtcbiAgICBmb3IgKHZhciBfQyA9IDA7IF9DIDw9IHJhbmdlLmUuYzsgKytfQylcbiAgICAgIGNvbHN0cltfQ10gPSBlbmNvZGVfY29sKF9DKTtcbiAgICBmb3IgKHZhciBSXyA9IDA7IFJfIDw9IHJhbmdlLmUucjsgKytSXykge1xuICAgICAgZGF0YVtSX10gPSBbXTtcbiAgICAgIHZhciBfUiA9IFwiXCIgKyAoUl8gKyAxKTtcbiAgICAgIGZvciAoX0MgPSAwOyBfQyA8PSByYW5nZS5lLmM7ICsrX0MpIHtcbiAgICAgICAgdmFyIF9jZWxsID0gd3NbY29sc3RyW19DXSArIF9SXTtcbiAgICAgICAgaWYgKCFfY2VsbClcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgZGF0YVtSX11bX0NdID0gX2NlbGw7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBMVVQgPSB7XG4gICAgY21udDogW3sgYTogXCJ+NTRlZTc3U35cIiwgdDogXCIuLi4gdGhlIHBlb3BsZSB3aG8gYXJlIGNyYXp5IGVub3VnaCB0byB0aGluayB0aGV5IGNhbiBjaGFuZ2UgdGhlIHdvcmxkLCBhcmUgdGhlIG9uZXMgd2hvIGRvLlwiIH1dLFxuICAgIGZlcnI6IFtdLFxuICAgIGZtbGE6IFtdLFxuICAgIG5mbXQ6IFtdLFxuICAgIG9mbXQ6IFtdLFxuICAgIHJzc3Q6IFt7IHY6IFwifjU0ZWU3N1N+XCIsIGw6IFwiaHR0cHM6Ly9zaGVldGpzLmNvbS9cIiB9XSxcbiAgICBzc3Q6IFtcIn5TaDMzdEo1flwiXVxuICB9O1xuICB2YXIgcGIgPSBwYXJzZV9zaGFsbG93KHRtYXJvb3QubWVzc2FnZXNbMF0uZGF0YSk7XG4gIHtcbiAgICBwYls2XVswXS5kYXRhID0gd3JpdGVfdmFyaW50NDkocmFuZ2UuZS5yICsgMSk7XG4gICAgcGJbN11bMF0uZGF0YSA9IHdyaXRlX3ZhcmludDQ5KHJhbmdlLmUuYyArIDEpO1xuICAgIGRlbGV0ZSBwYls0Nl07XG4gICAgdmFyIHN0b3JlID0gcGFyc2Vfc2hhbGxvdyhwYls0XVswXS5kYXRhKTtcbiAgICB7XG4gICAgICB2YXIgcm93X2hlYWRlcl9yZWYgPSBwYXJzZV9UU1BfUmVmZXJlbmNlKHBhcnNlX3NoYWxsb3coc3RvcmVbMV1bMF0uZGF0YSlbMl1bMF0uZGF0YSk7XG4gICAgICBudW1iZXJzX2l3YV9kb2l0KGNmYiwgZGVwcywgcm93X2hlYWRlcl9yZWYsIGZ1bmN0aW9uKHJvd2hlYWQsIF94KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGJhc2VfYnVja2V0ID0gcGFyc2Vfc2hhbGxvdyhyb3doZWFkLm1lc3NhZ2VzWzBdLmRhdGEpO1xuICAgICAgICBpZiAoKF9hID0gYmFzZV9idWNrZXQgPT0gbnVsbCA/IHZvaWQgMCA6IGJhc2VfYnVja2V0WzJdKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF0pXG4gICAgICAgICAgZm9yICh2YXIgUjIgPSAwOyBSMiA8IGRhdGEubGVuZ3RoOyArK1IyKSB7XG4gICAgICAgICAgICB2YXIgX2J1Y2tldCA9IHBhcnNlX3NoYWxsb3coYmFzZV9idWNrZXRbMl1bMF0uZGF0YSk7XG4gICAgICAgICAgICBfYnVja2V0WzFdWzBdLmRhdGEgPSB3cml0ZV92YXJpbnQ0OShSMik7XG4gICAgICAgICAgICBfYnVja2V0WzRdWzBdLmRhdGEgPSB3cml0ZV92YXJpbnQ0OShkYXRhW1IyXS5sZW5ndGgpO1xuICAgICAgICAgICAgYmFzZV9idWNrZXRbMl1bUjJdID0geyB0eXBlOiBiYXNlX2J1Y2tldFsyXVswXS50eXBlLCBkYXRhOiB3cml0ZV9zaGFsbG93KF9idWNrZXQpIH07XG4gICAgICAgICAgfVxuICAgICAgICByb3doZWFkLm1lc3NhZ2VzWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KGJhc2VfYnVja2V0KTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbF9oZWFkZXJfcmVmID0gcGFyc2VfVFNQX1JlZmVyZW5jZShzdG9yZVsyXVswXS5kYXRhKTtcbiAgICAgIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCBjb2xfaGVhZGVyX3JlZiwgZnVuY3Rpb24oY29saGVhZCwgX3gpIHtcbiAgICAgICAgdmFyIGJhc2VfYnVja2V0ID0gcGFyc2Vfc2hhbGxvdyhjb2xoZWFkLm1lc3NhZ2VzWzBdLmRhdGEpO1xuICAgICAgICBmb3IgKHZhciBDID0gMDsgQyA8PSByYW5nZS5lLmM7ICsrQykge1xuICAgICAgICAgIHZhciBfYnVja2V0ID0gcGFyc2Vfc2hhbGxvdyhiYXNlX2J1Y2tldFsyXVswXS5kYXRhKTtcbiAgICAgICAgICBfYnVja2V0WzFdWzBdLmRhdGEgPSB3cml0ZV92YXJpbnQ0OShDKTtcbiAgICAgICAgICBfYnVja2V0WzRdWzBdLmRhdGEgPSB3cml0ZV92YXJpbnQ0OShyYW5nZS5lLnIgKyAxKTtcbiAgICAgICAgICBiYXNlX2J1Y2tldFsyXVtDXSA9IHsgdHlwZTogYmFzZV9idWNrZXRbMl1bMF0udHlwZSwgZGF0YTogd3JpdGVfc2hhbGxvdyhfYnVja2V0KSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbGhlYWQubWVzc2FnZXNbMF0uZGF0YSA9IHdyaXRlX3NoYWxsb3coYmFzZV9idWNrZXQpO1xuICAgICAgfSk7XG4gICAgICB2YXIgcmJ0cmVlID0gcGFyc2Vfc2hhbGxvdyhzdG9yZVs5XVswXS5kYXRhKTtcbiAgICAgIHJidHJlZVsxXSA9IFtdO1xuICAgICAgdmFyIHRpbGVzdG9yZSA9IHBhcnNlX3NoYWxsb3coc3RvcmVbM11bMF0uZGF0YSk7XG4gICAgICB7XG4gICAgICAgIHZhciB0c3RyaWRlID0gMjU2O1xuICAgICAgICB0aWxlc3RvcmVbMl0gPSBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OSh0c3RyaWRlKSB9XTtcbiAgICAgICAgdmFyIHRpbGVyZWYgPSBwYXJzZV9UU1BfUmVmZXJlbmNlKHBhcnNlX3NoYWxsb3codGlsZXN0b3JlWzFdWzBdLmRhdGEpWzJdWzBdLmRhdGEpO1xuICAgICAgICB2YXIgc2F2ZV90b2tlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBtZXRhZGF0YSA9IG51bWJlcnNfaXdhX2ZpbmQoY2ZiLCBkZXBzLCAyKTtcbiAgICAgICAgICB2YXIgbWxpc3QgPSBwYXJzZV9zaGFsbG93KG1ldGFkYXRhLm1lc3NhZ2VzWzBdLmRhdGEpO1xuICAgICAgICAgIHZhciBtbHN0ID0gbWxpc3RbM10uZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB2YXJpbnRfdG9faTMyKHBhcnNlX3NoYWxsb3cobS5kYXRhKVsxXVswXS5kYXRhKSA9PSB0aWxlcmVmO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiAobWxzdCA9PSBudWxsID8gdm9pZCAwIDogbWxzdC5sZW5ndGgpID8gdmFyaW50X3RvX2kzMihwYXJzZV9zaGFsbG93KG1sc3RbMF0uZGF0YSlbMTJdWzBdLmRhdGEpIDogMDtcbiAgICAgICAgfSgpO1xuICAgICAgICB7XG4gICAgICAgICAgQ0ZCLnV0aWxzLmNmYl9kZWwoY2ZiLCBkZXBzW3RpbGVyZWZdLmxvY2F0aW9uKTtcbiAgICAgICAgICBudW1iZXJzX2l3YV9kb2l0KGNmYiwgZGVwcywgMiwgZnVuY3Rpb24oYWkpIHtcbiAgICAgICAgICAgIHZhciBtbGlzdCA9IHBhcnNlX3NoYWxsb3coYWkubWVzc2FnZXNbMF0uZGF0YSk7XG4gICAgICAgICAgICBtbGlzdFszXSA9IG1saXN0WzNdLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YXJpbnRfdG9faTMyKHBhcnNlX3NoYWxsb3cobS5kYXRhKVsxXVswXS5kYXRhKSAhPSB0aWxlcmVmO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBudW1iZXJzX21ldGFfZGVsX2RlcChtbGlzdCwgZGVwcywgdG1hcmVmLCB0aWxlcmVmKTtcbiAgICAgICAgICAgIGFpLm1lc3NhZ2VzWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KG1saXN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBudW1iZXJzX2RlbF9vcmVmKHRtYXJvb3QsIHRpbGVyZWYpO1xuICAgICAgICB9XG4gICAgICAgIHRpbGVzdG9yZVsxXSA9IFtdO1xuICAgICAgICB2YXIgbnRpbGVzID0gTWF0aC5jZWlsKChyYW5nZS5lLnIgKyAxKSAvIHRzdHJpZGUpO1xuICAgICAgICBmb3IgKHZhciB0aWR4ID0gMDsgdGlkeCA8IG50aWxlczsgKyt0aWR4KSB7XG4gICAgICAgICAgdmFyIG5ld3RpbGVpZCA9IGdldF91bmlxdWVfbXNnaWQoe1xuICAgICAgICAgICAgZGVwczogW10sXG4gICAgICAgICAgICBsb2NhdGlvbjogXCJcIixcbiAgICAgICAgICAgIHR5cGU6IDYwMDJcbiAgICAgICAgICB9LCBkZXBzKTtcbiAgICAgICAgICBkZXBzW25ld3RpbGVpZF0ubG9jYXRpb24gPSBcIlJvb3QgRW50cnkvSW5kZXgvVGFibGVzL1RpbGUtXCIuY29uY2F0KG5ld3RpbGVpZCwgXCIuaXdhXCIpO1xuICAgICAgICAgIHZhciB0aWxlZGF0YSA9IFtcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoMCkgfV0sXG4gICAgICAgICAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OShNYXRoLm1pbihyYW5nZS5lLnIgKyAxLCAodGlkeCArIDEpICogdHN0cmlkZSkpIH1dLFxuICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoMCkgfV0sXG4gICAgICAgICAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OShNYXRoLm1pbigodGlkeCArIDEpICogdHN0cmlkZSwgcmFuZ2UuZS5yICsgMSkgLSB0aWR4ICogdHN0cmlkZSkgfV0sXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KDUpIH1dLFxuICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoMSkgfV0sXG4gICAgICAgICAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OShVU0VfV0lERV9ST1dTID8gMSA6IDApIH1dXG4gICAgICAgICAgXTtcbiAgICAgICAgICBmb3IgKHZhciBSID0gdGlkeCAqIHRzdHJpZGU7IFIgPD0gTWF0aC5taW4ocmFuZ2UuZS5yLCAodGlkeCArIDEpICogdHN0cmlkZSAtIDEpOyArK1IpIHtcbiAgICAgICAgICAgIHZhciB0aWxlcm93ID0gd3JpdGVfVFNUX1RpbGVSb3dJbmZvKGRhdGFbUl0sIExVVCwgVVNFX1dJREVfUk9XUyk7XG4gICAgICAgICAgICB0aWxlcm93WzFdWzBdLmRhdGEgPSB3cml0ZV92YXJpbnQ0OShSIC0gdGlkeCAqIHRzdHJpZGUpO1xuICAgICAgICAgICAgdGlsZWRhdGFbNV0ucHVzaCh7IGRhdGE6IHdyaXRlX3NoYWxsb3codGlsZXJvdyksIHR5cGU6IDIgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRpbGVzdG9yZVsxXS5wdXNoKHsgdHlwZTogMiwgZGF0YTogd3JpdGVfc2hhbGxvdyhbXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KHRpZHgpIH1dLFxuICAgICAgICAgICAgW3sgdHlwZTogMiwgZGF0YTogd3JpdGVfVFNQX1JlZmVyZW5jZShuZXd0aWxlaWQpIH1dXG4gICAgICAgICAgXSkgfSk7XG4gICAgICAgICAgdmFyIG5ld3RpbGUgPSB7XG4gICAgICAgICAgICBpZDogbmV3dGlsZWlkLFxuICAgICAgICAgICAgbWVzc2FnZXM6IFt3cml0ZV9pd2FtKDYwMDIsIHdyaXRlX3NoYWxsb3codGlsZWRhdGEpKV1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciB0aWxlY29udGVudCA9IGNvbXByZXNzX2l3YV9maWxlKHdyaXRlX2l3YV9maWxlKFtuZXd0aWxlXSkpO1xuICAgICAgICAgIENGQi51dGlscy5jZmJfYWRkKGNmYiwgXCIvSW5kZXgvVGFibGVzL1RpbGUtXCIuY29uY2F0KG5ld3RpbGVpZCwgXCIuaXdhXCIpLCB0aWxlY29udGVudCk7XG4gICAgICAgICAgbnVtYmVyc19pd2FfZG9pdChjZmIsIGRlcHMsIDIsIGZ1bmN0aW9uKGFpKSB7XG4gICAgICAgICAgICB2YXIgbWxpc3QgPSBwYXJzZV9zaGFsbG93KGFpLm1lc3NhZ2VzWzBdLmRhdGEpO1xuICAgICAgICAgICAgbWxpc3RbM10ucHVzaCh7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX3NoYWxsb3coW1xuICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkobmV3dGlsZWlkKSB9XSxcbiAgICAgICAgICAgICAgW3sgdHlwZTogMiwgZGF0YTogc3RydTgoXCJUYWJsZXMvVGlsZVwiKSB9XSxcbiAgICAgICAgICAgICAgW3sgdHlwZTogMiwgZGF0YTogc3RydTgoXCJUYWJsZXMvVGlsZS1cIi5jb25jYXQobmV3dGlsZWlkKSkgfV0sXG4gICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IG5ldyBVaW50OEFycmF5KFsyLCAwLCAwXSkgfV0sXG4gICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IG5ldyBVaW50OEFycmF5KFsyLCAwLCAwXSkgfV0sXG4gICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OSgwKSB9XSxcbiAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KHNhdmVfdG9rZW4pIH1dXG4gICAgICAgICAgICBdKSB9KTtcbiAgICAgICAgICAgIG1saXN0WzFdID0gW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoTWF0aC5tYXgobmV3dGlsZWlkICsgMSwgdmFyaW50X3RvX2kzMihtbGlzdFsxXVswXS5kYXRhKSkpIH1dO1xuICAgICAgICAgICAgbnVtYmVyc19tZXRhX2FkZF9kZXAobWxpc3QsIGRlcHMsIHRtYXJlZiwgbmV3dGlsZWlkKTtcbiAgICAgICAgICAgIGFpLm1lc3NhZ2VzWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KG1saXN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBudW1iZXJzX2FkZF9vcmVmKHRtYXJvb3QsIG5ld3RpbGVpZCk7XG4gICAgICAgICAgcmJ0cmVlWzFdLnB1c2goeyB0eXBlOiAyLCBkYXRhOiB3cml0ZV9zaGFsbG93KFtcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkodGlkeCAqIHRzdHJpZGUpIH1dLFxuICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkodGlkeCkgfV1cbiAgICAgICAgICBdKSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RvcmVbM11bMF0uZGF0YSA9IHdyaXRlX3NoYWxsb3codGlsZXN0b3JlKTtcbiAgICAgIHN0b3JlWzldWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KHJidHJlZSk7XG4gICAgICBzdG9yZVsxMF0gPSBbeyB0eXBlOiAyLCBkYXRhOiBuZXcgVWludDhBcnJheShbXSkgfV07XG4gICAgICBpZiAod3NbXCIhbWVyZ2VzXCJdKSB7XG4gICAgICAgIHZhciBtZXJnZWlkID0gZ2V0X3VuaXF1ZV9tc2dpZCh7XG4gICAgICAgICAgdHlwZTogNjE0NCxcbiAgICAgICAgICBkZXBzOiBbdG1hcmVmXSxcbiAgICAgICAgICBsb2NhdGlvbjogZGVwc1t0bWFyZWZdLmxvY2F0aW9uXG4gICAgICAgIH0sIGRlcHMpO1xuICAgICAgICB0bWFmaWxlLnB1c2goe1xuICAgICAgICAgIGlkOiBtZXJnZWlkLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbd3JpdGVfaXdhbSg2MTQ0LCB3cml0ZV9zaGFsbG93KFtcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgd3NbXCIhbWVyZ2VzXCJdLm1hcChmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX3NoYWxsb3coW1xuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX3NoYWxsb3coW1xuICAgICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAgICBbeyB0eXBlOiA1LCBkYXRhOiBuZXcgVWludDhBcnJheShuZXcgVWludDE2QXJyYXkoW20ucy5yLCBtLnMuY10pLmJ1ZmZlcikgfV1cbiAgICAgICAgICAgICAgICBdKSB9XSxcbiAgICAgICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiB3cml0ZV9zaGFsbG93KFtcbiAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgW3sgdHlwZTogNSwgZGF0YTogbmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQxNkFycmF5KFttLmUuciAtIG0ucy5yICsgMSwgbS5lLmMgLSBtLnMuYyArIDFdKS5idWZmZXIpIH1dXG4gICAgICAgICAgICAgICAgXSkgfV1cbiAgICAgICAgICAgICAgXSkgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXSkpXVxuICAgICAgICB9KTtcbiAgICAgICAgc3RvcmVbMTNdID0gW3sgdHlwZTogMiwgZGF0YTogd3JpdGVfVFNQX1JlZmVyZW5jZShtZXJnZWlkKSB9XTtcbiAgICAgICAgbnVtYmVyc19pd2FfZG9pdChjZmIsIGRlcHMsIDIsIGZ1bmN0aW9uKGFpKSB7XG4gICAgICAgICAgdmFyIG1saXN0ID0gcGFyc2Vfc2hhbGxvdyhhaS5tZXNzYWdlc1swXS5kYXRhKTtcbiAgICAgICAgICBudW1iZXJzX21ldGFfYWRkX2RlcChtbGlzdCwgZGVwcywgdG1hcmVmLCBtZXJnZWlkKTtcbiAgICAgICAgICBhaS5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyhtbGlzdCk7XG4gICAgICAgIH0pO1xuICAgICAgICBudW1iZXJzX2FkZF9vcmVmKHRtYXJvb3QsIG1lcmdlaWQpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGRlbGV0ZSBzdG9yZVsxM107XG4gICAgICB2YXIgc3N0cmVmID0gcGFyc2VfVFNQX1JlZmVyZW5jZShzdG9yZVs0XVswXS5kYXRhKTtcbiAgICAgIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCBzc3RyZWYsIGZ1bmN0aW9uKHNzdHJvb3QpIHtcbiAgICAgICAgdmFyIHNzdGRhdGEgPSBwYXJzZV9zaGFsbG93KHNzdHJvb3QubWVzc2FnZXNbMF0uZGF0YSk7XG4gICAgICAgIHtcbiAgICAgICAgICBzc3RkYXRhWzNdID0gW107XG4gICAgICAgICAgTFVULnNzdC5mb3JFYWNoKGZ1bmN0aW9uKHN0ciwgaSkge1xuICAgICAgICAgICAgaWYgKGkgPT0gMClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc3N0ZGF0YVszXS5wdXNoKHsgdHlwZTogMiwgZGF0YTogd3JpdGVfc2hhbGxvdyhbXG4gICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OShpKSB9XSxcbiAgICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoMSkgfV0sXG4gICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IHN0cnU4KHN0cikgfV1cbiAgICAgICAgICAgIF0pIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNzdHJvb3QubWVzc2FnZXNbMF0uZGF0YSA9IHdyaXRlX3NoYWxsb3coc3N0ZGF0YSk7XG4gICAgICB9KTtcbiAgICAgIHZhciByc3N0cmVmID0gcGFyc2VfVFNQX1JlZmVyZW5jZShzdG9yZVsxN11bMF0uZGF0YSk7XG4gICAgICBudW1iZXJzX2l3YV9kb2l0KGNmYiwgZGVwcywgcnNzdHJlZiwgZnVuY3Rpb24ocnNzdHJvb3QpIHtcbiAgICAgICAgdmFyIHJzc3RkYXRhID0gcGFyc2Vfc2hhbGxvdyhyc3N0cm9vdC5tZXNzYWdlc1swXS5kYXRhKTtcbiAgICAgICAgcnNzdGRhdGFbM10gPSBbXTtcbiAgICAgICAgdmFyIHN0eWxlX2luZGljZXMgPSBbXG4gICAgICAgICAgOTA0OTgwLFxuICAgICAgICAgIDkwMzgzNSxcbiAgICAgICAgICA5MDM4MTUsXG4gICAgICAgICAgOTAzODQ1XG4gICAgICAgIF07XG4gICAgICAgIExVVC5yc3N0LmZvckVhY2goZnVuY3Rpb24ocnNzdCwgaSkge1xuICAgICAgICAgIGlmIChpID09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgdmFyIHRzd3BzYSA9IFtcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoWzVdKSB9XSxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgW3sgdHlwZTogMiwgZGF0YTogc3RydTgocnNzdC52KSB9XVxuICAgICAgICAgIF07XG4gICAgICAgICAgdHN3cHNhWzEwXSA9IFt7IHR5cGU6IDAsIGRhdGE6IG5ldyBVaW50OEFycmF5KFsxXSkgfV07XG4gICAgICAgICAgdHN3cHNhWzE5XSA9IFt7IHR5cGU6IDIsIGRhdGE6IG5ldyBVaW50OEFycmF5KFsxMCwgNiwgOCwgMCwgMTgsIDIsIDEwMSwgMTEwXSkgfV07XG4gICAgICAgICAgdHN3cHNhWzVdID0gW3sgdHlwZTogMiwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoWzEwLCA4LCA4LCAwLCAxOCwgNCwgOCwgMTU1LCAxNDksIDU1XSkgfV07XG4gICAgICAgICAgdHN3cHNhWzJdID0gW3sgdHlwZTogMiwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoWzgsIDE0OCwgMTU4LCA1NV0pIH1dO1xuICAgICAgICAgIHRzd3BzYVs2XSA9IFt7IHR5cGU6IDIsIGRhdGE6IG5ldyBVaW50OEFycmF5KFsxMCwgNiwgOCwgMCwgMTYsIDAsIDI0LCAwXSkgfV07XG4gICAgICAgICAgdHN3cHNhWzddID0gW3sgdHlwZTogMiwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoWzEwLCA4LCA4LCAwLCAxOCwgNCwgOCwgMTM1LCAxNDksIDU1XSkgfV07XG4gICAgICAgICAgdHN3cHNhWzhdID0gW3sgdHlwZTogMiwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoWzEwLCA4LCA4LCAwLCAxOCwgNCwgOCwgMTY1LCAxNDksIDU1XSkgfV07XG4gICAgICAgICAgdHN3cHNhWzE0XSA9IFt7IHR5cGU6IDIsIGRhdGE6IG5ldyBVaW50OEFycmF5KFsxMCwgNiwgOCwgMCwgMTYsIDAsIDI0LCAwXSkgfV07XG4gICAgICAgICAgdHN3cHNhWzI0XSA9IFt7IHR5cGU6IDIsIGRhdGE6IG5ldyBVaW50OEFycmF5KFsxMCwgNiwgOCwgMCwgMTYsIDAsIDI0LCAwXSkgfV07XG4gICAgICAgICAgdmFyIHRzd3BzYWlkID0gZ2V0X3VuaXF1ZV9tc2dpZCh7IGRlcHM6IFtdLCBsb2NhdGlvbjogXCJcIiwgdHlwZTogMjAwMSB9LCBkZXBzKTtcbiAgICAgICAgICB2YXIgdHN3cHNhcmVmcyA9IFtdO1xuICAgICAgICAgIGlmIChyc3N0LmwpIHtcbiAgICAgICAgICAgIHZhciBuZXdobGlua2lkID0gbnVtYmVyc19hZGRfbXNnKGNmYiwgMjAzMiwgW1xuICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IHN0cnU4KHJzc3QubCkgfV1cbiAgICAgICAgICAgIF0sIFwiL0luZGV4L1RhYmxlcy9EYXRhTGlzdFwiLCBkZXBzKTtcbiAgICAgICAgICAgIHRzd3BzYVsxMV0gPSBbXTtcbiAgICAgICAgICAgIHZhciBzbWFydGZpZWxkID0gW1tdLCBbXV07XG4gICAgICAgICAgICBpZiAoIXNtYXJ0ZmllbGRbMV0pXG4gICAgICAgICAgICAgIHNtYXJ0ZmllbGRbMV0gPSBbXTtcbiAgICAgICAgICAgIHNtYXJ0ZmllbGRbMV0ucHVzaCh7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX3NoYWxsb3coW1xuICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoMCkgfV0sXG4gICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX1RTUF9SZWZlcmVuY2UobmV3aGxpbmtpZCkgfV1cbiAgICAgICAgICAgIF0pIH0pO1xuICAgICAgICAgICAgdHN3cHNhWzExXVswXSA9IHsgdHlwZTogMiwgZGF0YTogd3JpdGVfc2hhbGxvdyhzbWFydGZpZWxkKSB9O1xuICAgICAgICAgICAgdHN3cHNhcmVmcy5wdXNoKG5ld2hsaW5raWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBudW1iZXJzX2FkZF9tc2coY2ZiLCAyMDAxLCB0c3dwc2EsIFwiL0luZGV4L1RhYmxlcy9EYXRhTGlzdFwiLCBkZXBzLCB0c3dwc2FpZCk7XG4gICAgICAgICAgbnVtYmVyc19pd2FfZG9pdChjZmIsIGRlcHMsIHRzd3BzYWlkLCBmdW5jdGlvbihpd2EpIHtcbiAgICAgICAgICAgIHN0eWxlX2luZGljZXMuZm9yRWFjaChmdW5jdGlvbihyZWYpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcnNfYWRkX29yZWYoaXdhLCByZWYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0c3dwc2FyZWZzLmZvckVhY2goZnVuY3Rpb24ocmVmKSB7XG4gICAgICAgICAgICAgIHJldHVybiBudW1iZXJzX2FkZF9vcmVmKGl3YSwgcmVmKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBydHBhaWQgPSBudW1iZXJzX2FkZF9tc2coY2ZiLCA2MjE4LCBbXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX1RTUF9SZWZlcmVuY2UodHN3cHNhaWQpIH1dLFxuICAgICAgICAgICAgW10sXG4gICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiBuZXcgVWludDhBcnJheShbMTMsIDI1NSwgMjU1LCAyNTUsIDAsIDE4LCAxMCwgMTYsIDI1NSwgMjU1LCAxLCAyNCwgMjU1LCAyNTUsIDI1NSwgMjU1LCA3XSkgfV1cbiAgICAgICAgICBdLCBcIi9JbmRleC9UYWJsZXMvRGF0YUxpc3RcIiwgZGVwcyk7XG4gICAgICAgICAgbnVtYmVyc19pd2FfZG9pdChjZmIsIGRlcHMsIHJ0cGFpZCwgZnVuY3Rpb24oaXdhKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyc19hZGRfb3JlZihpd2EsIHRzd3BzYWlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByc3N0ZGF0YVszXS5wdXNoKHsgdHlwZTogMiwgZGF0YTogd3JpdGVfc2hhbGxvdyhbXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KGkpIH1dLFxuICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoMSkgfV0sXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgW10sXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgW10sXG4gICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiB3cml0ZV9UU1BfUmVmZXJlbmNlKHJ0cGFpZCkgfV1cbiAgICAgICAgICBdKSB9KTtcbiAgICAgICAgICBudW1iZXJzX2FkZF9vcmVmKHJzc3Ryb290LCBydHBhaWQpO1xuICAgICAgICAgIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCAyLCBmdW5jdGlvbihhaSkge1xuICAgICAgICAgICAgdmFyIG1saXN0ID0gcGFyc2Vfc2hhbGxvdyhhaS5tZXNzYWdlc1swXS5kYXRhKTtcbiAgICAgICAgICAgIG51bWJlcnNfbWV0YV9hZGRfZGVwKG1saXN0LCBkZXBzLCByc3N0cmVmLCBydHBhaWQpO1xuICAgICAgICAgICAgbnVtYmVyc19tZXRhX2FkZF9kZXAobWxpc3QsIGRlcHMsIHJ0cGFpZCwgdHN3cHNhaWQpO1xuICAgICAgICAgICAgbnVtYmVyc19tZXRhX2FkZF9kZXAobWxpc3QsIGRlcHMsIHRzd3BzYWlkLCB0c3dwc2FyZWZzKTtcbiAgICAgICAgICAgIG51bWJlcnNfbWV0YV9hZGRfZGVwKG1saXN0LCBkZXBzLCB0c3dwc2FpZCwgc3R5bGVfaW5kaWNlcyk7XG4gICAgICAgICAgICBhaS5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyhtbGlzdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByc3N0cm9vdC5tZXNzYWdlc1swXS5kYXRhID0gd3JpdGVfc2hhbGxvdyhyc3N0ZGF0YSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChMVVQuY21udC5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBjbW50cmVmID0gcGFyc2VfVFNQX1JlZmVyZW5jZShzdG9yZVsxOV1bMF0uZGF0YSk7XG4gICAgICAgIHZhciBhdXRob3JzID0ge30sIGlhdXRob3IgPSAwO1xuICAgICAgICBudW1iZXJzX2l3YV9kb2l0KGNmYiwgZGVwcywgY21udHJlZiwgZnVuY3Rpb24oY21udHJvb3QpIHtcbiAgICAgICAgICB2YXIgY21udGRhdGEgPSBwYXJzZV9zaGFsbG93KGNtbnRyb290Lm1lc3NhZ2VzWzBdLmRhdGEpO1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNtbnRkYXRhWzNdID0gW107XG4gICAgICAgICAgICBMVVQuY21udC5mb3JFYWNoKGZ1bmN0aW9uKGNjLCBpKSB7XG4gICAgICAgICAgICAgIGlmIChpID09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB2YXIgcmVwbGllcyA9IFtdO1xuICAgICAgICAgICAgICBpZiAoY2MucmVwbGllcylcbiAgICAgICAgICAgICAgICBjYy5yZXBsaWVzLmZvckVhY2goZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICAgICAgaWYgKCFhdXRob3JzW2MuYSB8fCBcIlwiXSlcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yc1tjLmEgfHwgXCJcIl0gPSBudW1iZXJzX2FkZF9tc2coY2ZiLCAyMTIsIFtcbiAgICAgICAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiBzdHJ1OChjLmEgfHwgXCJcIikgfV0sXG4gICAgICAgICAgICAgICAgICAgICAgW3sgdHlwZTogMiwgZGF0YTogZ2V0X2F1dGhvcl9jb2xvcigrK2lhdXRob3IpIH1dLFxuICAgICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KDApIH1dXG4gICAgICAgICAgICAgICAgICAgIF0sIFwiL0luZGV4L1RhYmxlcy9EYXRhTGlzdFwiLCBkZXBzKTtcbiAgICAgICAgICAgICAgICAgIHZhciBhYWFpZDIgPSBhdXRob3JzW2MuYSB8fCBcIlwiXTtcbiAgICAgICAgICAgICAgICAgIHZhciBjc2FpZDIgPSBudW1iZXJzX2FkZF9tc2coY2ZiLCAzMDU2LCBbXG4gICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiBzdHJ1OChjLnQgfHwgXCJcIikgfV0sXG4gICAgICAgICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX3NoYWxsb3coW1xuICAgICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICAgIFt7IHR5cGU6IDEsIGRhdGE6IG5ldyBVaW50OEFycmF5KFswLCAwLCAwLCAxMjgsIDExNiwgMTA5LCAxODIsIDY1XSkgfV1cbiAgICAgICAgICAgICAgICAgICAgXSkgfV0sXG4gICAgICAgICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX1RTUF9SZWZlcmVuY2UoYWFhaWQyKSB9XVxuICAgICAgICAgICAgICAgICAgXSwgXCIvSW5kZXgvVGFibGVzL0RhdGFMaXN0XCIsIGRlcHMpO1xuICAgICAgICAgICAgICAgICAgbnVtYmVyc19pd2FfZG9pdChjZmIsIGRlcHMsIGNzYWlkMiwgZnVuY3Rpb24oaXdhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXJzX2FkZF9vcmVmKGl3YSwgYWFhaWQyKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgcmVwbGllcy5wdXNoKGNzYWlkMik7XG4gICAgICAgICAgICAgICAgICBudW1iZXJzX2l3YV9kb2l0KGNmYiwgZGVwcywgMiwgZnVuY3Rpb24oYWkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1saXN0ID0gcGFyc2Vfc2hhbGxvdyhhaS5tZXNzYWdlc1swXS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyc19tZXRhX2FkZF9kZXAobWxpc3QsIGRlcHMsIGNzYWlkMiwgYWFhaWQyKTtcbiAgICAgICAgICAgICAgICAgICAgYWkubWVzc2FnZXNbMF0uZGF0YSA9IHdyaXRlX3NoYWxsb3cobWxpc3QpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmICghYXV0aG9yc1tjYy5hIHx8IFwiXCJdKVxuICAgICAgICAgICAgICAgIGF1dGhvcnNbY2MuYSB8fCBcIlwiXSA9IG51bWJlcnNfYWRkX21zZyhjZmIsIDIxMiwgW1xuICAgICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiBzdHJ1OChjYy5hIHx8IFwiXCIpIH1dLFxuICAgICAgICAgICAgICAgICAgW3sgdHlwZTogMiwgZGF0YTogZ2V0X2F1dGhvcl9jb2xvcigrK2lhdXRob3IpIH1dLFxuICAgICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OSgwKSB9XVxuICAgICAgICAgICAgICAgIF0sIFwiL0luZGV4L1RhYmxlcy9EYXRhTGlzdFwiLCBkZXBzKTtcbiAgICAgICAgICAgICAgdmFyIGFhYWlkID0gYXV0aG9yc1tjYy5hIHx8IFwiXCJdO1xuICAgICAgICAgICAgICB2YXIgY3NhaWQgPSBudW1iZXJzX2FkZF9tc2coY2ZiLCAzMDU2LCBbXG4gICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAgW3sgdHlwZTogMiwgZGF0YTogc3RydTgoY2MudCB8fCBcIlwiKSB9XSxcbiAgICAgICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiB3cml0ZV9zaGFsbG93KFtcbiAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgW3sgdHlwZTogMSwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoWzAsIDAsIDAsIDEyOCwgMTE2LCAxMDksIDE4MiwgNjVdKSB9XVxuICAgICAgICAgICAgICAgIF0pIH1dLFxuICAgICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX1RTUF9SZWZlcmVuY2UoYWFhaWQpIH1dLFxuICAgICAgICAgICAgICAgIHJlcGxpZXMubWFwKGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX1RTUF9SZWZlcmVuY2UocikgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBbeyB0eXBlOiAyLCBkYXRhOiB3cml0ZV9zaGFsbG93KFtcbiAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgW3sgdHlwZTogMCwgZGF0YTogd3JpdGVfdmFyaW50NDkoaSkgfV0sXG4gICAgICAgICAgICAgICAgICBbeyB0eXBlOiAwLCBkYXRhOiB3cml0ZV92YXJpbnQ0OSgwKSB9XVxuICAgICAgICAgICAgICAgIF0pIH1dXG4gICAgICAgICAgICAgIF0sIFwiL0luZGV4L1RhYmxlcy9EYXRhTGlzdFwiLCBkZXBzKTtcbiAgICAgICAgICAgICAgbnVtYmVyc19pd2FfZG9pdChjZmIsIGRlcHMsIGNzYWlkLCBmdW5jdGlvbihpd2EpIHtcbiAgICAgICAgICAgICAgICBudW1iZXJzX2FkZF9vcmVmKGl3YSwgYWFhaWQpO1xuICAgICAgICAgICAgICAgIHJlcGxpZXMuZm9yRWFjaChmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyc19hZGRfb3JlZihpd2EsIHIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY21udGRhdGFbM10ucHVzaCh7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX3NoYWxsb3coW1xuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KGkpIH1dLFxuICAgICAgICAgICAgICAgIFt7IHR5cGU6IDAsIGRhdGE6IHdyaXRlX3ZhcmludDQ5KDEpIH1dLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIFt7IHR5cGU6IDIsIGRhdGE6IHdyaXRlX1RTUF9SZWZlcmVuY2UoY3NhaWQpIH1dXG4gICAgICAgICAgICAgIF0pIH0pO1xuICAgICAgICAgICAgICBudW1iZXJzX2FkZF9vcmVmKGNtbnRyb290LCBjc2FpZCk7XG4gICAgICAgICAgICAgIG51bWJlcnNfaXdhX2RvaXQoY2ZiLCBkZXBzLCAyLCBmdW5jdGlvbihhaSkge1xuICAgICAgICAgICAgICAgIHZhciBtbGlzdCA9IHBhcnNlX3NoYWxsb3coYWkubWVzc2FnZXNbMF0uZGF0YSk7XG4gICAgICAgICAgICAgICAgbnVtYmVyc19tZXRhX2FkZF9kZXAobWxpc3QsIGRlcHMsIGNtbnRyZWYsIGNzYWlkKTtcbiAgICAgICAgICAgICAgICBudW1iZXJzX21ldGFfYWRkX2RlcChtbGlzdCwgZGVwcywgY3NhaWQsIGFhYWlkKTtcbiAgICAgICAgICAgICAgICBpZiAocmVwbGllcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICBudW1iZXJzX21ldGFfYWRkX2RlcChtbGlzdCwgZGVwcywgY3NhaWQsIHJlcGxpZXMpO1xuICAgICAgICAgICAgICAgIGFpLm1lc3NhZ2VzWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KG1saXN0KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY21udGRhdGFbMl1bMF0uZGF0YSA9IHdyaXRlX3ZhcmludDQ5KExVVC5jbW50Lmxlbmd0aCArIDEpO1xuICAgICAgICAgIGNtbnRyb290Lm1lc3NhZ2VzWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KGNtbnRkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHBiWzRdWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KHN0b3JlKTtcbiAgfVxuICB0bWFyb290Lm1lc3NhZ2VzWzBdLmRhdGEgPSB3cml0ZV9zaGFsbG93KHBiKTtcbn1cbmZ1bmN0aW9uIGZpeF9vcHRzX2Z1bmMoZGVmYXVsdHMvKjpBcnJheTxBcnJheTxhbnk+ID4qLykvKjp7KG86YW55KTp2b2lkfSovIHtcblx0cmV0dXJuIGZ1bmN0aW9uIGZpeF9vcHRzKG9wdHMpIHtcblx0XHRmb3IodmFyIGkgPSAwOyBpICE9IGRlZmF1bHRzLmxlbmd0aDsgKytpKSB7XG5cdFx0XHR2YXIgZCA9IGRlZmF1bHRzW2ldO1xuXHRcdFx0aWYob3B0c1tkWzBdXSA9PT0gdW5kZWZpbmVkKSBvcHRzW2RbMF1dID0gZFsxXTtcblx0XHRcdGlmKGRbMl0gPT09ICduJykgb3B0c1tkWzBdXSA9IE51bWJlcihvcHRzW2RbMF1dKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGZpeF9yZWFkX29wdHMob3B0cykge1xuZml4X29wdHNfZnVuYyhbXG5cdFsnY2VsbE5GJywgZmFsc2VdLCAvKiBlbWl0IGNlbGwgbnVtYmVyIGZvcm1hdCBzdHJpbmcgYXMgLnogKi9cblx0WydjZWxsSFRNTCcsIHRydWVdLCAvKiBlbWl0IGh0bWwgc3RyaW5nIGFzIC5oICovXG5cdFsnY2VsbEZvcm11bGEnLCB0cnVlXSwgLyogZW1pdCBmb3JtdWxhZSBhcyAuZiAqL1xuXHRbJ2NlbGxTdHlsZXMnLCBmYWxzZV0sIC8qIGVtaXRzIHN0eWxlL3RoZW1lIGFzIC5zICovXG5cdFsnY2VsbFRleHQnLCB0cnVlXSwgLyogZW1pdCBmb3JtYXR0ZWQgdGV4dCBhcyAudyAqL1xuXHRbJ2NlbGxEYXRlcycsIGZhbHNlXSwgLyogZW1pdCBkYXRlIGNlbGxzIHdpdGggdHlwZSBgZGAgKi9cblxuXHRbJ3NoZWV0U3R1YnMnLCBmYWxzZV0sIC8qIGVtaXQgZW1wdHkgY2VsbHMgKi9cblx0WydzaGVldFJvd3MnLCAwLCAnbiddLCAvKiByZWFkIG4gcm93cyAoMCA9IHJlYWQgYWxsIHJvd3MpICovXG5cblx0Wydib29rRGVwcycsIGZhbHNlXSwgLyogcGFyc2UgY2FsY3VsYXRpb24gY2hhaW5zICovXG5cdFsnYm9va1NoZWV0cycsIGZhbHNlXSwgLyogb25seSB0cnkgdG8gZ2V0IHNoZWV0IG5hbWVzIChubyBTaGVldHMpICovXG5cdFsnYm9va1Byb3BzJywgZmFsc2VdLCAvKiBvbmx5IHRyeSB0byBnZXQgcHJvcGVydGllcyAobm8gU2hlZXRzKSAqL1xuXHRbJ2Jvb2tGaWxlcycsIGZhbHNlXSwgLyogaW5jbHVkZSByYXcgZmlsZSBzdHJ1Y3R1cmUgKGtleXMsIGZpbGVzLCBjZmIpICovXG5cdFsnYm9va1ZCQScsIGZhbHNlXSwgLyogaW5jbHVkZSB2YmEgcmF3IGRhdGEgKHZiYXJhdykgKi9cblxuXHRbJ3Bhc3N3b3JkJywnJ10sIC8qIHBhc3N3b3JkICovXG5cdFsnV1RGJywgZmFsc2VdIC8qIFdURiBtb2RlICh0aHJvd3MgZXJyb3JzKSAqL1xuXSkob3B0cyk7XG59XG5cbmZ1bmN0aW9uIGZpeF93cml0ZV9vcHRzKG9wdHMpIHtcbmZpeF9vcHRzX2Z1bmMoW1xuXHRbJ2NlbGxEYXRlcycsIGZhbHNlXSwgLyogd3JpdGUgZGF0ZSBjZWxscyB3aXRoIHR5cGUgYGRgICovXG5cblx0Wydib29rU1NUJywgZmFsc2VdLCAvKiBHZW5lcmF0ZSBTaGFyZWQgU3RyaW5nIFRhYmxlICovXG5cblx0Wydib29rVHlwZScsICd4bHN4J10sIC8qIFR5cGUgb2Ygd29ya2Jvb2sgKHhsc3gvbS9iKSAqL1xuXG5cdFsnY29tcHJlc3Npb24nLCBmYWxzZV0sIC8qIFVzZSBmaWxlIGNvbXByZXNzaW9uICovXG5cblx0WydXVEYnLCBmYWxzZV0gLyogV1RGIG1vZGUgKHRocm93cyBlcnJvcnMpICovXG5dKShvcHRzKTtcbn1cbmZ1bmN0aW9uIGdldF9zaGVldF90eXBlKG4vKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7XG5cdGlmKFJFTFMuV1MuaW5kZXhPZihuKSA+IC0xKSByZXR1cm4gXCJzaGVldFwiO1xuXHRpZihSRUxTLkNTICYmIG4gPT0gUkVMUy5DUykgcmV0dXJuIFwiY2hhcnRcIjtcblx0aWYoUkVMUy5EUyAmJiBuID09IFJFTFMuRFMpIHJldHVybiBcImRpYWxvZ1wiO1xuXHRpZihSRUxTLk1TICYmIG4gPT0gUkVMUy5NUykgcmV0dXJuIFwibWFjcm9cIjtcblx0cmV0dXJuIChuICYmIG4ubGVuZ3RoKSA/IG4gOiBcInNoZWV0XCI7XG59XG5mdW5jdGlvbiBzYWZlX3BhcnNlX3dicmVscyh3YnJlbHMsIHNoZWV0cykge1xuXHRpZighd2JyZWxzKSByZXR1cm4gMDtcblx0dHJ5IHtcblx0XHR3YnJlbHMgPSBzaGVldHMubWFwKGZ1bmN0aW9uIHB3YnIodykgeyBpZighdy5pZCkgdy5pZCA9IHcuc3RyUmVsSUQ7IHJldHVybiBbdy5uYW1lLCB3YnJlbHNbJyFpZCddW3cuaWRdLlRhcmdldCwgZ2V0X3NoZWV0X3R5cGUod2JyZWxzWychaWQnXVt3LmlkXS5UeXBlKV07IH0pO1xuXHR9IGNhdGNoKGUpIHsgcmV0dXJuIG51bGw7IH1cblx0cmV0dXJuICF3YnJlbHMgfHwgd2JyZWxzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiB3YnJlbHM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX3NoZWV0X2xlZ2FjeV9kcmF3aW5nKHNoZWV0LCB0eXBlLCB6aXAsIHBhdGgsIGlkeCwgb3B0cywgd2IsIGNvbW1lbnRzKSB7XG5cdGlmKCFzaGVldCB8fCAhc2hlZXRbJyFsZWdkcmF3ZWwnXSkgcmV0dXJuO1xuXHR2YXIgZGZpbGUgPSByZXNvbHZlX3BhdGgoc2hlZXRbJyFsZWdkcmF3ZWwnXS5UYXJnZXQsIHBhdGgpO1xuXHR2YXIgZHJhdyA9IGdldHppcHN0cih6aXAsIGRmaWxlLCB0cnVlKTtcblx0aWYoZHJhdykgcGFyc2Vfdm1sKHV0ZjhyZWFkKGRyYXcpLCBzaGVldCwgY29tbWVudHN8fFtdKTtcbn1cblxuZnVuY3Rpb24gc2FmZV9wYXJzZV9zaGVldCh6aXAsIHBhdGgvKjpzdHJpbmcqLywgcmVsc1BhdGgvKjpzdHJpbmcqLywgc2hlZXQsIGlkeC8qOm51bWJlciovLCBzaGVldFJlbHMsIHNoZWV0cywgc3R5cGUvKjpzdHJpbmcqLywgb3B0cywgd2IsIHRoZW1lcywgc3R5bGVzKSB7XG5cdHRyeSB7XG5cdFx0c2hlZXRSZWxzW3NoZWV0XT1wYXJzZV9yZWxzKGdldHppcHN0cih6aXAsIHJlbHNQYXRoLCB0cnVlKSwgcGF0aCk7XG5cdFx0dmFyIGRhdGEgPSBnZXR6aXBkYXRhKHppcCwgcGF0aCk7XG5cdFx0dmFyIF93cztcblx0XHRzd2l0Y2goc3R5cGUpIHtcblx0XHRcdGNhc2UgJ3NoZWV0JzogIF93cyA9IHBhcnNlX3dzKGRhdGEsIHBhdGgsIGlkeCwgb3B0cywgc2hlZXRSZWxzW3NoZWV0XSwgd2IsIHRoZW1lcywgc3R5bGVzKTsgYnJlYWs7XG5cdFx0XHRjYXNlICdjaGFydCc6ICBfd3MgPSBwYXJzZV9jcyhkYXRhLCBwYXRoLCBpZHgsIG9wdHMsIHNoZWV0UmVsc1tzaGVldF0sIHdiLCB0aGVtZXMsIHN0eWxlcyk7XG5cdFx0XHRcdGlmKCFfd3MgfHwgIV93c1snIWRyYXdlbCddKSBicmVhaztcblx0XHRcdFx0dmFyIGRmaWxlID0gcmVzb2x2ZV9wYXRoKF93c1snIWRyYXdlbCddLlRhcmdldCwgcGF0aCk7XG5cdFx0XHRcdHZhciBkcmVsc3AgPSBnZXRfcmVsc19wYXRoKGRmaWxlKTtcblx0XHRcdFx0dmFyIGRyYXcgPSBwYXJzZV9kcmF3aW5nKGdldHppcHN0cih6aXAsIGRmaWxlLCB0cnVlKSwgcGFyc2VfcmVscyhnZXR6aXBzdHIoemlwLCBkcmVsc3AsIHRydWUpLCBkZmlsZSkpO1xuXHRcdFx0XHR2YXIgY2hhcnRwID0gcmVzb2x2ZV9wYXRoKGRyYXcsIGRmaWxlKTtcblx0XHRcdFx0dmFyIGNyZWxzcCA9IGdldF9yZWxzX3BhdGgoY2hhcnRwKTtcblx0XHRcdFx0X3dzID0gcGFyc2VfY2hhcnQoZ2V0emlwc3RyKHppcCwgY2hhcnRwLCB0cnVlKSwgY2hhcnRwLCBvcHRzLCBwYXJzZV9yZWxzKGdldHppcHN0cih6aXAsIGNyZWxzcCwgdHJ1ZSksIGNoYXJ0cCksIHdiLCBfd3MpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ21hY3JvJzogIF93cyA9IHBhcnNlX21zKGRhdGEsIHBhdGgsIGlkeCwgb3B0cywgc2hlZXRSZWxzW3NoZWV0XSwgd2IsIHRoZW1lcywgc3R5bGVzKTsgYnJlYWs7XG5cdFx0XHRjYXNlICdkaWFsb2cnOiBfd3MgPSBwYXJzZV9kcyhkYXRhLCBwYXRoLCBpZHgsIG9wdHMsIHNoZWV0UmVsc1tzaGVldF0sIHdiLCB0aGVtZXMsIHN0eWxlcyk7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHNoZWV0IHR5cGUgXCIgKyBzdHlwZSk7XG5cdFx0fVxuXHRcdHNoZWV0c1tzaGVldF0gPSBfd3M7XG5cblx0XHQvKiBzY2FuIHJlbHMgZm9yIGNvbW1lbnRzIGFuZCB0aHJlYWRlZCBjb21tZW50cyAqL1xuXHRcdHZhciBjb21tZW50cyA9IFtdLCB0Y29tbWVudHMgPSBbXTtcblx0XHRpZihzaGVldFJlbHMgJiYgc2hlZXRSZWxzW3NoZWV0XSkga2V5cyhzaGVldFJlbHNbc2hlZXRdKS5mb3JFYWNoKGZ1bmN0aW9uKG4pIHtcblx0XHRcdHZhciBkZmlsZSA9IFwiXCI7XG5cdFx0XHRpZihzaGVldFJlbHNbc2hlZXRdW25dLlR5cGUgPT0gUkVMUy5DTU5UKSB7XG5cdFx0XHRcdGRmaWxlID0gcmVzb2x2ZV9wYXRoKHNoZWV0UmVsc1tzaGVldF1bbl0uVGFyZ2V0LCBwYXRoKTtcblx0XHRcdFx0Y29tbWVudHMgPSBwYXJzZV9jbW50KGdldHppcGRhdGEoemlwLCBkZmlsZSwgdHJ1ZSksIGRmaWxlLCBvcHRzKTtcblx0XHRcdFx0aWYoIWNvbW1lbnRzIHx8ICFjb21tZW50cy5sZW5ndGgpIHJldHVybjtcblx0XHRcdFx0c2hlZXRfaW5zZXJ0X2NvbW1lbnRzKF93cywgY29tbWVudHMsIGZhbHNlKTtcblx0XHRcdH1cblx0XHRcdGlmKHNoZWV0UmVsc1tzaGVldF1bbl0uVHlwZSA9PSBSRUxTLlRDTU5UKSB7XG5cdFx0XHRcdGRmaWxlID0gcmVzb2x2ZV9wYXRoKHNoZWV0UmVsc1tzaGVldF1bbl0uVGFyZ2V0LCBwYXRoKTtcblx0XHRcdFx0dGNvbW1lbnRzID0gdGNvbW1lbnRzLmNvbmNhdChwYXJzZV90Y21udF94bWwoZ2V0emlwZGF0YSh6aXAsIGRmaWxlLCB0cnVlKSwgb3B0cykpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGlmKHRjb21tZW50cyAmJiB0Y29tbWVudHMubGVuZ3RoKSBzaGVldF9pbnNlcnRfY29tbWVudHMoX3dzLCB0Y29tbWVudHMsIHRydWUsIG9wdHMucGVvcGxlIHx8IFtdKTtcblx0XHRwYXJzZV9zaGVldF9sZWdhY3lfZHJhd2luZyhfd3MsIHN0eXBlLCB6aXAsIHBhdGgsIGlkeCwgb3B0cywgd2IsIGNvbW1lbnRzKTtcblx0fSBjYXRjaChlKSB7IGlmKG9wdHMuV1RGKSB0aHJvdyBlOyB9XG59XG5cbmZ1bmN0aW9uIHN0cmlwX2Zyb250X3NsYXNoKHgvKjpzdHJpbmcqLykvKjpzdHJpbmcqLyB7IHJldHVybiB4LmNoYXJBdCgwKSA9PSAnLycgPyB4LnNsaWNlKDEpIDogeDsgfVxuXG5mdW5jdGlvbiBwYXJzZV96aXAoemlwLyo6WklQKi8sIG9wdHMvKjo/UGFyc2VPcHRzKi8pLyo6V29ya2Jvb2sqLyB7XG5cdG1ha2Vfc3NmKCk7XG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXHRmaXhfcmVhZF9vcHRzKG9wdHMpO1xuXG5cdC8qIE9wZW5Eb2N1bWVudCBQYXJ0IDMgU2VjdGlvbiAyLjIuMSBPcGVuRG9jdW1lbnQgUGFja2FnZSAqL1xuXHRpZihzYWZlZ2V0emlwZmlsZSh6aXAsICdNRVRBLUlORi9tYW5pZmVzdC54bWwnKSkgcmV0dXJuIHBhcnNlX29kcyh6aXAsIG9wdHMpO1xuXHQvKiBVT0MgKi9cblx0aWYoc2FmZWdldHppcGZpbGUoemlwLCAnb2JqZWN0ZGF0YS54bWwnKSkgcmV0dXJuIHBhcnNlX29kcyh6aXAsIG9wdHMpO1xuXHQvKiBOdW1iZXJzICovXG5cdGlmKHNhZmVnZXR6aXBmaWxlKHppcCwgJ0luZGV4L0RvY3VtZW50Lml3YScpKSB7XG5cdFx0aWYodHlwZW9mIFVpbnQ4QXJyYXkgPT0gXCJ1bmRlZmluZWRcIikgdGhyb3cgbmV3IEVycm9yKCdOVU1CRVJTIGZpbGUgcGFyc2luZyByZXF1aXJlcyBVaW50OEFycmF5IHN1cHBvcnQnKTtcblx0XHRpZih0eXBlb2YgcGFyc2VfbnVtYmVyc19pd2EgIT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0aWYoemlwLkZpbGVJbmRleCkgcmV0dXJuIHBhcnNlX251bWJlcnNfaXdhKHppcCwgb3B0cyk7XG5cdFx0XHR2YXIgX3ppcCA9IENGQi51dGlscy5jZmJfbmV3KCk7XG5cdFx0XHR6aXBlbnRyaWVzKHppcCkuZm9yRWFjaChmdW5jdGlvbihlKSB7IHppcF9hZGRfZmlsZShfemlwLCBlLCBnZXR6aXBiaW4oemlwLCBlKSk7IH0pO1xuXHRcdFx0cmV0dXJuIHBhcnNlX251bWJlcnNfaXdhKF96aXAsIG9wdHMpO1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIE5VTUJFUlMgZmlsZScpO1xuXHR9XG5cdGlmKCFzYWZlZ2V0emlwZmlsZSh6aXAsICdbQ29udGVudF9UeXBlc10ueG1sJykpIHtcblx0XHRpZihzYWZlZ2V0emlwZmlsZSh6aXAsICdpbmRleC54bWwuZ3onKSkgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBOVU1CRVJTIDA4IGZpbGUnKTtcblx0XHRpZihzYWZlZ2V0emlwZmlsZSh6aXAsICdpbmRleC54bWwnKSkgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBOVU1CRVJTIDA5IGZpbGUnKTtcblx0XHR2YXIgaW5kZXhfemlwID0gQ0ZCLmZpbmQoemlwLCAnSW5kZXguemlwJyk7XG5cdFx0aWYoaW5kZXhfemlwKSB7XG5cdFx0XHRvcHRzID0gZHVwKG9wdHMpO1xuXHRcdFx0ZGVsZXRlIG9wdHMudHlwZTtcblx0XHRcdGlmKHR5cGVvZiBpbmRleF96aXAuY29udGVudCA9PSBcInN0cmluZ1wiKSBvcHRzLnR5cGUgPSBcImJpbmFyeVwiO1xuXHRcdFx0Ly8gVE9ETzogQnVuIGJ1ZmZlciBidWdcblx0XHRcdGlmKHR5cGVvZiBCdW4gIT09IFwidW5kZWZpbmVkXCIgJiYgQnVmZmVyLmlzQnVmZmVyKGluZGV4X3ppcC5jb250ZW50KSkgcmV0dXJuIHJlYWRTeW5jKG5ldyBVaW50OEFycmF5KGluZGV4X3ppcC5jb250ZW50KSwgb3B0cyk7XG5cdFx0XHRyZXR1cm4gcmVhZFN5bmMoaW5kZXhfemlwLmNvbnRlbnQsIG9wdHMpO1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIFpJUCBmaWxlJyk7XG5cdH1cblxuXHR2YXIgZW50cmllcyA9IHppcGVudHJpZXMoemlwKTtcblx0dmFyIGRpciA9IHBhcnNlX2N0KChnZXR6aXBzdHIoemlwLCAnW0NvbnRlbnRfVHlwZXNdLnhtbCcpLyo6P2FueSovKSk7XG5cdHZhciB4bHNiID0gZmFsc2U7XG5cdHZhciBzaGVldHMsIGJpbm5hbWU7XG5cdGlmKGRpci53b3JrYm9va3MubGVuZ3RoID09PSAwKSB7XG5cdFx0YmlubmFtZSA9IFwieGwvd29ya2Jvb2sueG1sXCI7XG5cdFx0aWYoZ2V0emlwZGF0YSh6aXAsYmlubmFtZSwgdHJ1ZSkpIGRpci53b3JrYm9va3MucHVzaChiaW5uYW1lKTtcblx0fVxuXHRpZihkaXIud29ya2Jvb2tzLmxlbmd0aCA9PT0gMCkge1xuXHRcdGJpbm5hbWUgPSBcInhsL3dvcmtib29rLmJpblwiO1xuXHRcdGlmKCFnZXR6aXBkYXRhKHppcCxiaW5uYW1lLHRydWUpKSB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCB3b3JrYm9va1wiKTtcblx0XHRkaXIud29ya2Jvb2tzLnB1c2goYmlubmFtZSk7XG5cdFx0eGxzYiA9IHRydWU7XG5cdH1cblx0aWYoZGlyLndvcmtib29rc1swXS5zbGljZSgtMykgPT0gXCJiaW5cIikgeGxzYiA9IHRydWU7XG5cblx0dmFyIHRoZW1lcyA9ICh7fS8qOmFueSovKTtcblx0dmFyIHN0eWxlcyA9ICh7fS8qOmFueSovKTtcblx0aWYoIW9wdHMuYm9va1NoZWV0cyAmJiAhb3B0cy5ib29rUHJvcHMpIHtcblx0XHRzdHJzID0gW107XG5cdFx0aWYoZGlyLnNzdCkgdHJ5IHsgc3Rycz1wYXJzZV9zc3QoZ2V0emlwZGF0YSh6aXAsIHN0cmlwX2Zyb250X3NsYXNoKGRpci5zc3QpKSwgZGlyLnNzdCwgb3B0cyk7IH0gY2F0Y2goZSkgeyBpZihvcHRzLldURikgdGhyb3cgZTsgfVxuXG5cdFx0aWYob3B0cy5jZWxsU3R5bGVzICYmIGRpci50aGVtZXMubGVuZ3RoKSB0aGVtZXMgPSBwYXJzZV90aGVtZV94bWwoZ2V0emlwc3RyKHppcCwgZGlyLnRoZW1lc1swXS5yZXBsYWNlKC9eXFwvLywnJyksIHRydWUpfHxcIlwiLCBvcHRzKTtcblxuXHRcdGlmKGRpci5zdHlsZSkgc3R5bGVzID0gcGFyc2Vfc3R5KGdldHppcGRhdGEoemlwLCBzdHJpcF9mcm9udF9zbGFzaChkaXIuc3R5bGUpKSwgZGlyLnN0eWxlLCB0aGVtZXMsIG9wdHMpO1xuXHR9XG5cblx0Lyp2YXIgZXh0ZXJuYm9va3MgPSAqL2Rpci5saW5rcy5tYXAoZnVuY3Rpb24obGluaykge1xuXHRcdHRyeSB7XG5cdFx0XHR2YXIgcmVscyA9IHBhcnNlX3JlbHMoZ2V0emlwc3RyKHppcCwgZ2V0X3JlbHNfcGF0aChzdHJpcF9mcm9udF9zbGFzaChsaW5rKSkpLCBsaW5rKTtcblx0XHRcdHJldHVybiBwYXJzZV94bGluayhnZXR6aXBkYXRhKHppcCwgc3RyaXBfZnJvbnRfc2xhc2gobGluaykpLCByZWxzLCBsaW5rLCBvcHRzKTtcblx0XHR9IGNhdGNoKGUpIHt9XG5cdH0pO1xuXG5cdHZhciB3YiA9IHBhcnNlX3diKGdldHppcGRhdGEoemlwLCBzdHJpcF9mcm9udF9zbGFzaChkaXIud29ya2Jvb2tzWzBdKSksIGRpci53b3JrYm9va3NbMF0sIG9wdHMpO1xuXG5cdHZhciBwcm9wcyA9IHt9LCBwcm9wZGF0YSA9IFwiXCI7XG5cblx0aWYoZGlyLmNvcmVwcm9wcy5sZW5ndGgpIHtcblx0XHRwcm9wZGF0YSA9IGdldHppcGRhdGEoemlwLCBzdHJpcF9mcm9udF9zbGFzaChkaXIuY29yZXByb3BzWzBdKSwgdHJ1ZSk7XG5cdFx0aWYocHJvcGRhdGEpIHByb3BzID0gcGFyc2VfY29yZV9wcm9wcyhwcm9wZGF0YSk7XG5cdFx0aWYoZGlyLmV4dHByb3BzLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0cHJvcGRhdGEgPSBnZXR6aXBkYXRhKHppcCwgc3RyaXBfZnJvbnRfc2xhc2goZGlyLmV4dHByb3BzWzBdKSwgdHJ1ZSk7XG5cdFx0XHRpZihwcm9wZGF0YSkgcGFyc2VfZXh0X3Byb3BzKHByb3BkYXRhLCBwcm9wcywgb3B0cyk7XG5cdFx0fVxuXHR9XG5cblx0dmFyIGN1c3Rwcm9wcyA9IHt9O1xuXHRpZighb3B0cy5ib29rU2hlZXRzIHx8IG9wdHMuYm9va1Byb3BzKSB7XG5cdFx0aWYgKGRpci5jdXN0cHJvcHMubGVuZ3RoICE9PSAwKSB7XG5cdFx0XHRwcm9wZGF0YSA9IGdldHppcHN0cih6aXAsIHN0cmlwX2Zyb250X3NsYXNoKGRpci5jdXN0cHJvcHNbMF0pLCB0cnVlKTtcblx0XHRcdGlmKHByb3BkYXRhKSBjdXN0cHJvcHMgPSBwYXJzZV9jdXN0X3Byb3BzKHByb3BkYXRhLCBvcHRzKTtcblx0XHR9XG5cdH1cblxuXHR2YXIgb3V0ID0gKHt9Lyo6YW55Ki8pO1xuXHRpZihvcHRzLmJvb2tTaGVldHMgfHwgb3B0cy5ib29rUHJvcHMpIHtcblx0XHRpZih3Yi5TaGVldHMpIHNoZWV0cyA9IHdiLlNoZWV0cy5tYXAoZnVuY3Rpb24gcGx1Y2soeCl7IHJldHVybiB4Lm5hbWU7IH0pO1xuXHRcdGVsc2UgaWYocHJvcHMuV29ya3NoZWV0cyAmJiBwcm9wcy5TaGVldE5hbWVzLmxlbmd0aCA+IDApIHNoZWV0cz1wcm9wcy5TaGVldE5hbWVzO1xuXHRcdGlmKG9wdHMuYm9va1Byb3BzKSB7IG91dC5Qcm9wcyA9IHByb3BzOyBvdXQuQ3VzdHByb3BzID0gY3VzdHByb3BzOyB9XG5cdFx0aWYob3B0cy5ib29rU2hlZXRzICYmIHR5cGVvZiBzaGVldHMgIT09ICd1bmRlZmluZWQnKSBvdXQuU2hlZXROYW1lcyA9IHNoZWV0cztcblx0XHRpZihvcHRzLmJvb2tTaGVldHMgPyBvdXQuU2hlZXROYW1lcyA6IG9wdHMuYm9va1Byb3BzKSByZXR1cm4gb3V0O1xuXHR9XG5cdHNoZWV0cyA9IHt9O1xuXG5cdHZhciBkZXBzID0ge307XG5cdGlmKG9wdHMuYm9va0RlcHMgJiYgZGlyLmNhbGNjaGFpbikgZGVwcz1wYXJzZV9jYyhnZXR6aXBkYXRhKHppcCwgc3RyaXBfZnJvbnRfc2xhc2goZGlyLmNhbGNjaGFpbikpLGRpci5jYWxjY2hhaW4sb3B0cyk7XG5cblx0dmFyIGk9MDtcblx0dmFyIHNoZWV0UmVscyA9ICh7fS8qOmFueSovKTtcblx0dmFyIHBhdGgsIHJlbHNQYXRoO1xuXG5cdHtcblx0XHR2YXIgd2JzaGVldHMgPSB3Yi5TaGVldHM7XG5cdFx0cHJvcHMuV29ya3NoZWV0cyA9IHdic2hlZXRzLmxlbmd0aDtcblx0XHRwcm9wcy5TaGVldE5hbWVzID0gW107XG5cdFx0Zm9yKHZhciBqID0gMDsgaiAhPSB3YnNoZWV0cy5sZW5ndGg7ICsraikge1xuXHRcdFx0cHJvcHMuU2hlZXROYW1lc1tqXSA9IHdic2hlZXRzW2pdLm5hbWU7XG5cdFx0fVxuXHR9XG5cblx0dmFyIHdiZXh0ID0geGxzYiA/IFwiYmluXCIgOiBcInhtbFwiO1xuXHR2YXIgd2JyZWxzaSA9IGRpci53b3JrYm9va3NbMF0ubGFzdEluZGV4T2YoXCIvXCIpO1xuXHR2YXIgd2JyZWxzZmlsZSA9IChkaXIud29ya2Jvb2tzWzBdLnNsaWNlKDAsIHdicmVsc2krMSkgKyBcIl9yZWxzL1wiICsgZGlyLndvcmtib29rc1swXS5zbGljZSh3YnJlbHNpKzEpICsgXCIucmVsc1wiKS5yZXBsYWNlKC9eXFwvLyxcIlwiKTtcblx0aWYoIXNhZmVnZXR6aXBmaWxlKHppcCwgd2JyZWxzZmlsZSkpIHdicmVsc2ZpbGUgPSAneGwvX3JlbHMvd29ya2Jvb2suJyArIHdiZXh0ICsgJy5yZWxzJztcblx0dmFyIHdicmVscyA9IHBhcnNlX3JlbHMoZ2V0emlwc3RyKHppcCwgd2JyZWxzZmlsZSwgdHJ1ZSksIHdicmVsc2ZpbGUucmVwbGFjZSgvX3JlbHMuKi8sIFwiczVzXCIpKTtcblxuXHRpZigoZGlyLm1ldGFkYXRhIHx8IFtdKS5sZW5ndGggPj0gMSkge1xuXHRcdC8qIFRPRE86IE1EWCBhbmQgb3RoZXIgdHlwZXMgb2YgbWV0YWRhdGEgKi9cblx0XHRvcHRzLnhsbWV0YSA9IHBhcnNlX3hsbWV0YShnZXR6aXBkYXRhKHppcCwgc3RyaXBfZnJvbnRfc2xhc2goZGlyLm1ldGFkYXRhWzBdKSksZGlyLm1ldGFkYXRhWzBdLG9wdHMpO1xuXHR9XG5cblx0aWYoKGRpci5wZW9wbGUgfHwgW10pLmxlbmd0aCA+PSAxKSB7XG5cdFx0b3B0cy5wZW9wbGUgPSBwYXJzZV9wZW9wbGVfeG1sKGdldHppcGRhdGEoemlwLCBzdHJpcF9mcm9udF9zbGFzaChkaXIucGVvcGxlWzBdKSksb3B0cyk7XG5cdH1cblxuXHRpZih3YnJlbHMpIHdicmVscyA9IHNhZmVfcGFyc2Vfd2JyZWxzKHdicmVscywgd2IuU2hlZXRzKTtcblxuXHQvKiBOdW1iZXJzIGlPUyBoYWNrICovXG5cdHZhciBubW9kZSA9IChnZXR6aXBkYXRhKHppcCxcInhsL3dvcmtzaGVldHMvc2hlZXQueG1sXCIsdHJ1ZSkpPzE6MDtcblx0d3Nsb29wOiBmb3IoaSA9IDA7IGkgIT0gcHJvcHMuV29ya3NoZWV0czsgKytpKSB7XG5cdFx0dmFyIHN0eXBlID0gXCJzaGVldFwiO1xuXHRcdGlmKHdicmVscyAmJiB3YnJlbHNbaV0pIHtcblx0XHRcdHBhdGggPSAneGwvJyArICh3YnJlbHNbaV1bMV0pLnJlcGxhY2UoL1tcXC9dP3hsXFwvLywgXCJcIik7XG5cdFx0XHRpZighc2FmZWdldHppcGZpbGUoemlwLCBwYXRoKSkgcGF0aCA9IHdicmVsc1tpXVsxXTtcblx0XHRcdGlmKCFzYWZlZ2V0emlwZmlsZSh6aXAsIHBhdGgpKSBwYXRoID0gd2JyZWxzZmlsZS5yZXBsYWNlKC9fcmVsc1xcL1tcXFNcXHNdKiQvLFwiXCIpICsgd2JyZWxzW2ldWzFdO1xuXHRcdFx0c3R5cGUgPSB3YnJlbHNbaV1bMl07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhdGggPSAneGwvd29ya3NoZWV0cy9zaGVldCcrKGkrMS1ubW9kZSkrXCIuXCIgKyB3YmV4dDtcblx0XHRcdHBhdGggPSBwYXRoLnJlcGxhY2UoL3NoZWV0MFxcLi8sXCJzaGVldC5cIik7XG5cdFx0fVxuXHRcdHJlbHNQYXRoID0gcGF0aC5yZXBsYWNlKC9eKC4qKShcXC8pKFteXFwvXSopJC8sIFwiJDEvX3JlbHMvJDMucmVsc1wiKTtcblx0XHRpZihvcHRzICYmIG9wdHMuc2hlZXRzICE9IG51bGwpIHN3aXRjaCh0eXBlb2Ygb3B0cy5zaGVldHMpIHtcblx0XHRcdGNhc2UgXCJudW1iZXJcIjogaWYoaSAhPSBvcHRzLnNoZWV0cykgY29udGludWUgd3Nsb29wOyBicmVhaztcblx0XHRcdGNhc2UgXCJzdHJpbmdcIjogaWYocHJvcHMuU2hlZXROYW1lc1tpXS50b0xvd2VyQ2FzZSgpICE9IG9wdHMuc2hlZXRzLnRvTG93ZXJDYXNlKCkpIGNvbnRpbnVlIHdzbG9vcDsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiBpZihBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkob3B0cy5zaGVldHMpKSB7XG5cdFx0XHRcdHZhciBzbmpzZWVuID0gZmFsc2U7XG5cdFx0XHRcdGZvcih2YXIgc25qID0gMDsgc25qICE9IG9wdHMuc2hlZXRzLmxlbmd0aDsgKytzbmopIHtcblx0XHRcdFx0XHRpZih0eXBlb2Ygb3B0cy5zaGVldHNbc25qXSA9PSBcIm51bWJlclwiICYmIG9wdHMuc2hlZXRzW3Nual0gPT0gaSkgc25qc2Vlbj0xO1xuXHRcdFx0XHRcdGlmKHR5cGVvZiBvcHRzLnNoZWV0c1tzbmpdID09IFwic3RyaW5nXCIgJiYgb3B0cy5zaGVldHNbc25qXS50b0xvd2VyQ2FzZSgpID09IHByb3BzLlNoZWV0TmFtZXNbaV0udG9Mb3dlckNhc2UoKSkgc25qc2VlbiA9IDE7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoIXNuanNlZW4pIGNvbnRpbnVlIHdzbG9vcDtcblx0XHRcdH1cblx0XHR9XG5cdFx0c2FmZV9wYXJzZV9zaGVldCh6aXAsIHBhdGgsIHJlbHNQYXRoLCBwcm9wcy5TaGVldE5hbWVzW2ldLCBpLCBzaGVldFJlbHMsIHNoZWV0cywgc3R5cGUsIG9wdHMsIHdiLCB0aGVtZXMsIHN0eWxlcyk7XG5cdH1cblxuXHRvdXQgPSAoe1xuXHRcdERpcmVjdG9yeTogZGlyLFxuXHRcdFdvcmtib29rOiB3Yixcblx0XHRQcm9wczogcHJvcHMsXG5cdFx0Q3VzdHByb3BzOiBjdXN0cHJvcHMsXG5cdFx0RGVwczogZGVwcyxcblx0XHRTaGVldHM6IHNoZWV0cyxcblx0XHRTaGVldE5hbWVzOiBwcm9wcy5TaGVldE5hbWVzLFxuXHRcdFN0cmluZ3M6IHN0cnMsXG5cdFx0U3R5bGVzOiBzdHlsZXMsXG5cdFx0VGhlbWVzOiB0aGVtZXMsXG5cdFx0U1NGOiBkdXAodGFibGVfZm10KVxuXHR9Lyo6YW55Ki8pO1xuXHRpZihvcHRzICYmIG9wdHMuYm9va0ZpbGVzKSB7XG5cdFx0aWYoemlwLmZpbGVzKSB7XG5cdFx0XHRvdXQua2V5cyA9IGVudHJpZXM7XG5cdFx0XHRvdXQuZmlsZXMgPSB6aXAuZmlsZXM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG91dC5rZXlzID0gW107XG5cdFx0XHRvdXQuZmlsZXMgPSB7fTtcblx0XHRcdHppcC5GdWxsUGF0aHMuZm9yRWFjaChmdW5jdGlvbihwLCBpZHgpIHtcblx0XHRcdFx0cCA9IHAucmVwbGFjZSgvXlJvb3QgRW50cnlbXFwvXS8sIFwiXCIpO1xuXHRcdFx0XHRvdXQua2V5cy5wdXNoKHApO1xuXHRcdFx0XHRvdXQuZmlsZXNbcF0gPSB6aXAuRmlsZUluZGV4W2lkeF07XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblx0aWYob3B0cyAmJiBvcHRzLmJvb2tWQkEpIHtcblx0XHRpZihkaXIudmJhLmxlbmd0aCA+IDApIG91dC52YmFyYXcgPSBnZXR6aXBkYXRhKHppcCxzdHJpcF9mcm9udF9zbGFzaChkaXIudmJhWzBdKSx0cnVlKTtcblx0XHRlbHNlIGlmKGRpci5kZWZhdWx0cyAmJiBkaXIuZGVmYXVsdHMuYmluID09PSBDVF9WQkEpIG91dC52YmFyYXcgPSBnZXR6aXBkYXRhKHppcCwgJ3hsL3ZiYVByb2plY3QuYmluJyx0cnVlKTtcblx0fVxuXHQvLyBUT0RPOiBwYXNzIGJhY2sgY29udGVudCB0eXBlcyBtZXRhZGF0YSBmb3IgeGxzbS94bHN4IHJlc29sdXRpb25cblx0b3V0LmJvb2tUeXBlID0geGxzYiA/IFwieGxzYlwiIDogXCJ4bHN4XCI7XG5cdHJldHVybiBvdXQ7XG59XG5cbi8qIFtNUy1PRkZDUllQVE9dIDIuMS4xICovXG5mdW5jdGlvbiBwYXJzZV94bHN4Y2ZiKGNmYiwgX29wdHMvKjo/UGFyc2VPcHRzKi8pLyo6V29ya2Jvb2sqLyB7XG5cdHZhciBvcHRzID0gX29wdHMgfHwge307XG5cdHZhciBmID0gJ1dvcmtib29rJywgZGF0YSA9IENGQi5maW5kKGNmYiwgZik7XG5cdHRyeSB7XG5cdGYgPSAnLyFEYXRhU3BhY2VzL1ZlcnNpb24nO1xuXHRkYXRhID0gQ0ZCLmZpbmQoY2ZiLCBmKTsgaWYoIWRhdGEgfHwgIWRhdGEuY29udGVudCkgdGhyb3cgbmV3IEVycm9yKFwiRUNNQS0zNzYgRW5jcnlwdGVkIGZpbGUgbWlzc2luZyBcIiArIGYpO1xuXHQvKnZhciB2ZXJzaW9uID0gKi9wYXJzZV9EYXRhU3BhY2VWZXJzaW9uSW5mbyhkYXRhLmNvbnRlbnQpO1xuXG5cdC8qIDIuMy40LjEgKi9cblx0ZiA9ICcvIURhdGFTcGFjZXMvRGF0YVNwYWNlTWFwJztcblx0ZGF0YSA9IENGQi5maW5kKGNmYiwgZik7IGlmKCFkYXRhIHx8ICFkYXRhLmNvbnRlbnQpIHRocm93IG5ldyBFcnJvcihcIkVDTUEtMzc2IEVuY3J5cHRlZCBmaWxlIG1pc3NpbmcgXCIgKyBmKTtcblx0dmFyIGRzbSA9IHBhcnNlX0RhdGFTcGFjZU1hcChkYXRhLmNvbnRlbnQpO1xuXHRpZihkc20ubGVuZ3RoICE9PSAxIHx8IGRzbVswXS5jb21wcy5sZW5ndGggIT09IDEgfHwgZHNtWzBdLmNvbXBzWzBdLnQgIT09IDAgfHwgZHNtWzBdLm5hbWUgIT09IFwiU3Ryb25nRW5jcnlwdGlvbkRhdGFTcGFjZVwiIHx8IGRzbVswXS5jb21wc1swXS52ICE9PSBcIkVuY3J5cHRlZFBhY2thZ2VcIilcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJFQ01BLTM3NiBFbmNyeXB0ZWQgZmlsZSBiYWQgXCIgKyBmKTtcblxuXHQvKiAyLjMuNC4yICovXG5cdGYgPSAnLyFEYXRhU3BhY2VzL0RhdGFTcGFjZUluZm8vU3Ryb25nRW5jcnlwdGlvbkRhdGFTcGFjZSc7XG5cdGRhdGEgPSBDRkIuZmluZChjZmIsIGYpOyBpZighZGF0YSB8fCAhZGF0YS5jb250ZW50KSB0aHJvdyBuZXcgRXJyb3IoXCJFQ01BLTM3NiBFbmNyeXB0ZWQgZmlsZSBtaXNzaW5nIFwiICsgZik7XG5cdHZhciBzZWRzID0gcGFyc2VfRGF0YVNwYWNlRGVmaW5pdGlvbihkYXRhLmNvbnRlbnQpO1xuXHRpZihzZWRzLmxlbmd0aCAhPSAxIHx8IHNlZHNbMF0gIT0gXCJTdHJvbmdFbmNyeXB0aW9uVHJhbnNmb3JtXCIpXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiRUNNQS0zNzYgRW5jcnlwdGVkIGZpbGUgYmFkIFwiICsgZik7XG5cblx0LyogMi4zLjQuMyAqL1xuXHRmID0gJy8hRGF0YVNwYWNlcy9UcmFuc2Zvcm1JbmZvL1N0cm9uZ0VuY3J5cHRpb25UcmFuc2Zvcm0vIVByaW1hcnknO1xuXHRkYXRhID0gQ0ZCLmZpbmQoY2ZiLCBmKTsgaWYoIWRhdGEgfHwgIWRhdGEuY29udGVudCkgdGhyb3cgbmV3IEVycm9yKFwiRUNNQS0zNzYgRW5jcnlwdGVkIGZpbGUgbWlzc2luZyBcIiArIGYpO1xuXHQvKnZhciBoZHIgPSAqL3BhcnNlX1ByaW1hcnkoZGF0YS5jb250ZW50KTtcblx0fSBjYXRjaChlKSB7fVxuXG5cdGYgPSAnL0VuY3J5cHRpb25JbmZvJztcblx0ZGF0YSA9IENGQi5maW5kKGNmYiwgZik7IGlmKCFkYXRhIHx8ICFkYXRhLmNvbnRlbnQpIHRocm93IG5ldyBFcnJvcihcIkVDTUEtMzc2IEVuY3J5cHRlZCBmaWxlIG1pc3NpbmcgXCIgKyBmKTtcblx0dmFyIGVpbmZvID0gcGFyc2VfRW5jcnlwdGlvbkluZm8oZGF0YS5jb250ZW50KTtcblxuXHQvKiAyLjMuNC40ICovXG5cdGYgPSAnL0VuY3J5cHRlZFBhY2thZ2UnO1xuXHRkYXRhID0gQ0ZCLmZpbmQoY2ZiLCBmKTsgaWYoIWRhdGEgfHwgIWRhdGEuY29udGVudCkgdGhyb3cgbmV3IEVycm9yKFwiRUNNQS0zNzYgRW5jcnlwdGVkIGZpbGUgbWlzc2luZyBcIiArIGYpO1xuXG4vKmdsb2JhbCBkZWNyeXB0X2FnaWxlICovXG4vKjo6IGRlY2xhcmUgdmFyIGRlY3J5cHRfYWdpbGU6YW55OyAqL1xuXHRpZihlaW5mb1swXSA9PSAweDA0ICYmIHR5cGVvZiBkZWNyeXB0X2FnaWxlICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIGRlY3J5cHRfYWdpbGUoZWluZm9bMV0sIGRhdGEuY29udGVudCwgb3B0cy5wYXNzd29yZCB8fCBcIlwiLCBvcHRzKTtcbi8qZ2xvYmFsIGRlY3J5cHRfc3RkNzYgKi9cbi8qOjogZGVjbGFyZSB2YXIgZGVjcnlwdF9zdGQ3Njphbnk7ICovXG5cdGlmKGVpbmZvWzBdID09IDB4MDIgJiYgdHlwZW9mIGRlY3J5cHRfc3RkNzYgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gZGVjcnlwdF9zdGQ3NihlaW5mb1sxXSwgZGF0YS5jb250ZW50LCBvcHRzLnBhc3N3b3JkIHx8IFwiXCIsIG9wdHMpO1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIGlzIHBhc3N3b3JkLXByb3RlY3RlZFwiKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfemlwX3hsc2Iod2IvKjpXb3JrYm9vayovLCBvcHRzLyo6V3JpdGVPcHRzKi8pLyo6WklQKi8ge1xuXHRpZih3YiAmJiAhd2IuU1NGKSB7XG5cdFx0d2IuU1NGID0gZHVwKHRhYmxlX2ZtdCk7XG5cdH1cblx0aWYod2IgJiYgd2IuU1NGKSB7XG5cdFx0bWFrZV9zc2YoKTsgU1NGX2xvYWRfdGFibGUod2IuU1NGKTtcblx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdG9wdHMucmV2c3NmID0gZXZlcnRfbnVtKHdiLlNTRik7IG9wdHMucmV2c3NmW3diLlNTRls2NTUzNV1dID0gMDtcblx0XHRvcHRzLnNzZiA9IHdiLlNTRjtcblx0fVxuXHRvcHRzLnJlbHMgPSB7fTsgb3B0cy53YnJlbHMgPSB7fTtcblx0b3B0cy5TdHJpbmdzID0gLyo6OigoKi9bXS8qOjogOmFueSk6U1NUKSovOyBvcHRzLlN0cmluZ3MuQ291bnQgPSAwOyBvcHRzLlN0cmluZ3MuVW5pcXVlID0gMDtcblx0aWYoYnJvd3Nlcl9oYXNfTWFwKSBvcHRzLnJldlN0cmluZ3MgPSBuZXcgTWFwKCk7XG5cdGVsc2UgeyBvcHRzLnJldlN0cmluZ3MgPSB7fTsgb3B0cy5yZXZTdHJpbmdzLmZvbyA9IFtdOyBkZWxldGUgb3B0cy5yZXZTdHJpbmdzLmZvbzsgfVxuXHR2YXIgd2JleHQgPSBcImJpblwiO1xuXHR2YXIgdmJhZm10ID0gdHJ1ZTtcblx0dmFyIGN0ID0gbmV3X2N0KCk7XG5cdGZpeF93cml0ZV9vcHRzKG9wdHMgPSBvcHRzIHx8IHt9KTtcblx0dmFyIHppcCA9IHppcF9uZXcoKTtcblx0dmFyIGYgPSBcIlwiLCBySWQgPSAwO1xuXG5cdG9wdHMuY2VsbFhmcyA9IFtdO1xuXHRnZXRfY2VsbF9zdHlsZShvcHRzLmNlbGxYZnMsIHt9LCB7cmV2c3NmOntcIkdlbmVyYWxcIjowfX0pO1xuXG5cdGlmKCF3Yi5Qcm9wcykgd2IuUHJvcHMgPSB7fTtcblxuXHRmID0gXCJkb2NQcm9wcy9jb3JlLnhtbFwiO1xuXHR6aXBfYWRkX2ZpbGUoemlwLCBmLCB3cml0ZV9jb3JlX3Byb3BzKHdiLlByb3BzLCBvcHRzKSk7XG5cdGN0LmNvcmVwcm9wcy5wdXNoKGYpO1xuXHRhZGRfcmVscyhvcHRzLnJlbHMsIDIsIGYsIFJFTFMuQ09SRV9QUk9QUyk7XG5cblx0Lyo6OmlmKCF3Yi5Qcm9wcykgdGhyb3cgXCJ1bnJlYWNoYWJsZVwiOyAqL1xuXHRmID0gXCJkb2NQcm9wcy9hcHAueG1sXCI7XG5cdGlmKHdiLlByb3BzICYmIHdiLlByb3BzLlNoZWV0TmFtZXMpey8qIGVtcHR5ICovfVxuXHRlbHNlIGlmKCF3Yi5Xb3JrYm9vayB8fCAhd2IuV29ya2Jvb2suU2hlZXRzKSB3Yi5Qcm9wcy5TaGVldE5hbWVzID0gd2IuU2hlZXROYW1lcztcblx0ZWxzZSB7XG5cdFx0dmFyIF9zbiA9IFtdO1xuXHRcdGZvcih2YXIgX2kgPSAwOyBfaSA8IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK19pKVxuXHRcdFx0aWYoKHdiLldvcmtib29rLlNoZWV0c1tfaV18fHt9KS5IaWRkZW4gIT0gMikgX3NuLnB1c2god2IuU2hlZXROYW1lc1tfaV0pO1xuXHRcdHdiLlByb3BzLlNoZWV0TmFtZXMgPSBfc247XG5cdH1cblx0d2IuUHJvcHMuV29ya3NoZWV0cyA9IHdiLlByb3BzLlNoZWV0TmFtZXMubGVuZ3RoO1xuXHR6aXBfYWRkX2ZpbGUoemlwLCBmLCB3cml0ZV9leHRfcHJvcHMod2IuUHJvcHMsIG9wdHMpKTtcblx0Y3QuZXh0cHJvcHMucHVzaChmKTtcblx0YWRkX3JlbHMob3B0cy5yZWxzLCAzLCBmLCBSRUxTLkVYVF9QUk9QUyk7XG5cblx0aWYod2IuQ3VzdHByb3BzICE9PSB3Yi5Qcm9wcyAmJiBrZXlzKHdiLkN1c3Rwcm9wc3x8e30pLmxlbmd0aCA+IDApIHtcblx0XHRmID0gXCJkb2NQcm9wcy9jdXN0b20ueG1sXCI7XG5cdFx0emlwX2FkZF9maWxlKHppcCwgZiwgd3JpdGVfY3VzdF9wcm9wcyh3Yi5DdXN0cHJvcHMsIG9wdHMpKTtcblx0XHRjdC5jdXN0cHJvcHMucHVzaChmKTtcblx0XHRhZGRfcmVscyhvcHRzLnJlbHMsIDQsIGYsIFJFTFMuQ1VTVF9QUk9QUyk7XG5cdH1cblxuXHR2YXIgcGVvcGxlID0gW1wiU2hlZXRKNVwiXTtcblx0b3B0cy50Y2lkID0gMDtcblxuXHRmb3IocklkPTE7cklkIDw9IHdiLlNoZWV0TmFtZXMubGVuZ3RoOyArK3JJZCkge1xuXHRcdHZhciB3c3JlbHMgPSB7JyFpZCc6e319O1xuXHRcdHZhciB3cyA9IHdiLlNoZWV0c1t3Yi5TaGVldE5hbWVzW3JJZC0xXV07XG5cdFx0dmFyIF90eXBlID0gKHdzIHx8IHt9KVtcIiF0eXBlXCJdIHx8IFwic2hlZXRcIjtcblx0XHRzd2l0Y2goX3R5cGUpIHtcblx0XHRjYXNlIFwiY2hhcnRcIjpcblx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRkZWZhdWx0OlxuXHRcdFx0ZiA9IFwieGwvd29ya3NoZWV0cy9zaGVldFwiICsgcklkICsgXCIuXCIgKyB3YmV4dDtcblx0XHRcdHppcF9hZGRfZmlsZSh6aXAsIGYsIHdyaXRlX3dzX2JpbihySWQtMSwgb3B0cywgd2IsIHdzcmVscykpO1xuXHRcdFx0Y3Quc2hlZXRzLnB1c2goZik7XG5cdFx0XHRhZGRfcmVscyhvcHRzLndicmVscywgLTEsIFwid29ya3NoZWV0cy9zaGVldFwiICsgcklkICsgXCIuXCIgKyB3YmV4dCwgUkVMUy5XU1swXSk7XG5cdFx0fVxuXG5cdFx0aWYod3MpIHtcblx0XHRcdHZhciBjb21tZW50cyA9IHdzWychY29tbWVudHMnXTtcblx0XHRcdHZhciBuZWVkX3ZtbCA9IGZhbHNlO1xuXHRcdFx0dmFyIGNmID0gXCJcIjtcblx0XHRcdGlmKGNvbW1lbnRzICYmIGNvbW1lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0dmFyIG5lZWR0YyA9IGZhbHNlO1xuXHRcdFx0XHRjb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNhcnIpIHtcblx0XHRcdFx0XHRjYXJyWzFdLmZvckVhY2goZnVuY3Rpb24oYykgeyBpZihjLlQgPT0gdHJ1ZSkgbmVlZHRjID0gdHJ1ZTsgfSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZihuZWVkdGMpIHtcblx0XHRcdFx0XHRjZiA9IFwieGwvdGhyZWFkZWRDb21tZW50cy90aHJlYWRlZENvbW1lbnRcIiArIHJJZCArIFwiLnhtbFwiO1xuXHRcdFx0XHRcdHppcF9hZGRfZmlsZSh6aXAsIGNmLCB3cml0ZV90Y21udF94bWwoY29tbWVudHMsIHBlb3BsZSwgb3B0cykpO1xuXHRcdFx0XHRcdGN0LnRocmVhZGVkY29tbWVudHMucHVzaChjZik7XG5cdFx0XHRcdFx0YWRkX3JlbHMod3NyZWxzLCAtMSwgXCIuLi90aHJlYWRlZENvbW1lbnRzL3RocmVhZGVkQ29tbWVudFwiICsgcklkICsgXCIueG1sXCIsIFJFTFMuVENNTlQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2YgPSBcInhsL2NvbW1lbnRzXCIgKyBySWQgKyBcIi5cIiArIHdiZXh0O1xuXHRcdFx0XHR6aXBfYWRkX2ZpbGUoemlwLCBjZiwgd3JpdGVfY29tbWVudHNfYmluKGNvbW1lbnRzLCBvcHRzKSk7XG5cdFx0XHRcdGN0LmNvbW1lbnRzLnB1c2goY2YpO1xuXHRcdFx0XHRhZGRfcmVscyh3c3JlbHMsIC0xLCBcIi4uL2NvbW1lbnRzXCIgKyBySWQgKyBcIi5cIiArIHdiZXh0LCBSRUxTLkNNTlQpO1xuXHRcdFx0XHRuZWVkX3ZtbCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRpZih3c1snIWxlZ2FjeSddKSB7XG5cdFx0XHRcdGlmKG5lZWRfdm1sKSB6aXBfYWRkX2ZpbGUoemlwLCBcInhsL2RyYXdpbmdzL3ZtbERyYXdpbmdcIiArIChySWQpICsgXCIudm1sXCIsIHdyaXRlX3ZtbChySWQsIHdzWychY29tbWVudHMnXSkpO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlIHdzWychY29tbWVudHMnXTtcblx0XHRcdGRlbGV0ZSB3c1snIWxlZ2FjeSddO1xuXHRcdH1cblxuXHRcdGlmKHdzcmVsc1snIWlkJ10ucklkMSkgemlwX2FkZF9maWxlKHppcCwgZ2V0X3JlbHNfcGF0aChmKSwgd3JpdGVfcmVscyh3c3JlbHMpKTtcblx0fVxuXG5cdGlmKG9wdHMuU3RyaW5ncyAhPSBudWxsICYmIG9wdHMuU3RyaW5ncy5sZW5ndGggPiAwKSB7XG5cdFx0ZiA9IFwieGwvc2hhcmVkU3RyaW5ncy5cIiArIHdiZXh0O1xuXHRcdHppcF9hZGRfZmlsZSh6aXAsIGYsIHdyaXRlX3NzdF9iaW4ob3B0cy5TdHJpbmdzLCBvcHRzKSk7XG5cdFx0Y3Quc3Rycy5wdXNoKGYpO1xuXHRcdGFkZF9yZWxzKG9wdHMud2JyZWxzLCAtMSwgXCJzaGFyZWRTdHJpbmdzLlwiICsgd2JleHQsIFJFTFMuU1NUKTtcblx0fVxuXG5cdGYgPSBcInhsL3dvcmtib29rLlwiICsgd2JleHQ7XG5cdHppcF9hZGRfZmlsZSh6aXAsIGYsIHdyaXRlX3diX2Jpbih3Yiwgb3B0cykpO1xuXHRjdC53b3JrYm9va3MucHVzaChmKTtcblx0YWRkX3JlbHMob3B0cy5yZWxzLCAxLCBmLCBSRUxTLldCKTtcblxuXHQvKiBUT0RPOiBzb21ldGhpbmcgbW9yZSBpbnRlbGxpZ2VudCB3aXRoIHRoZW1lcyAqL1xuXG5cdGYgPSBcInhsL3RoZW1lL3RoZW1lMS54bWxcIjtcblx0dmFyIHd3ID0gd3JpdGVfdGhlbWUod2IuVGhlbWVzLCBvcHRzKTtcblx0emlwX2FkZF9maWxlKHppcCwgZiwgd3cpO1xuXHRjdC50aGVtZXMucHVzaChmKTtcblx0YWRkX3JlbHMob3B0cy53YnJlbHMsIC0xLCBcInRoZW1lL3RoZW1lMS54bWxcIiwgUkVMUy5USEVNRSk7XG5cblx0LyogVE9ETzogc29tZXRoaW5nIG1vcmUgaW50ZWxsaWdlbnQgd2l0aCBzdHlsZXMgKi9cblxuXHRmID0gXCJ4bC9zdHlsZXMuXCIgKyB3YmV4dDtcblx0emlwX2FkZF9maWxlKHppcCwgZiwgd3JpdGVfc3R5X2Jpbih3Yiwgb3B0cykpO1xuXHRjdC5zdHlsZXMucHVzaChmKTtcblx0YWRkX3JlbHMob3B0cy53YnJlbHMsIC0xLCBcInN0eWxlcy5cIiArIHdiZXh0LCBSRUxTLlNUWSk7XG5cblx0aWYod2IudmJhcmF3ICYmIHZiYWZtdCkge1xuXHRcdGYgPSBcInhsL3ZiYVByb2plY3QuYmluXCI7XG5cdFx0emlwX2FkZF9maWxlKHppcCwgZiwgd2IudmJhcmF3KTtcblx0XHRjdC52YmEucHVzaChmKTtcblx0XHRhZGRfcmVscyhvcHRzLndicmVscywgLTEsIFwidmJhUHJvamVjdC5iaW5cIiwgUkVMUy5WQkEpO1xuXHR9XG5cblx0ZiA9IFwieGwvbWV0YWRhdGEuXCIgKyB3YmV4dDtcblx0emlwX2FkZF9maWxlKHppcCwgZiwgd3JpdGVfeGxtZXRhX2JpbigpKTtcblx0Y3QubWV0YWRhdGEucHVzaChmKTtcblx0YWRkX3JlbHMob3B0cy53YnJlbHMsIC0xLCBcIm1ldGFkYXRhLlwiICsgd2JleHQsIFJFTFMuWExNRVRBKTtcblxuXHRpZihwZW9wbGUubGVuZ3RoID4gMSkge1xuXHRcdGYgPSBcInhsL3BlcnNvbnMvcGVyc29uLnhtbFwiO1xuXHRcdHppcF9hZGRfZmlsZSh6aXAsIGYsIHdyaXRlX3Blb3BsZV94bWwocGVvcGxlLCBvcHRzKSk7XG5cdFx0Y3QucGVvcGxlLnB1c2goZik7XG5cdFx0YWRkX3JlbHMob3B0cy53YnJlbHMsIC0xLCBcInBlcnNvbnMvcGVyc29uLnhtbFwiLCBSRUxTLlBFT1BMRSk7XG5cdH1cblxuXHR6aXBfYWRkX2ZpbGUoemlwLCBcIltDb250ZW50X1R5cGVzXS54bWxcIiwgd3JpdGVfY3QoY3QsIG9wdHMpKTtcblx0emlwX2FkZF9maWxlKHppcCwgJ19yZWxzLy5yZWxzJywgd3JpdGVfcmVscyhvcHRzLnJlbHMpKTtcblx0emlwX2FkZF9maWxlKHppcCwgJ3hsL19yZWxzL3dvcmtib29rLicgKyB3YmV4dCArICcucmVscycsIHdyaXRlX3JlbHMob3B0cy53YnJlbHMpKTtcblxuXHRkZWxldGUgb3B0cy5yZXZzc2Y7IGRlbGV0ZSBvcHRzLnNzZjtcblx0cmV0dXJuIHppcDtcbn1cblxuZnVuY3Rpb24gd3JpdGVfemlwX3hsc3god2IvKjpXb3JrYm9vayovLCBvcHRzLyo6V3JpdGVPcHRzKi8pLyo6WklQKi8ge1xuXHRpZih3YiAmJiAhd2IuU1NGKSB7XG5cdFx0d2IuU1NGID0gZHVwKHRhYmxlX2ZtdCk7XG5cdH1cblx0aWYod2IgJiYgd2IuU1NGKSB7XG5cdFx0bWFrZV9zc2YoKTsgU1NGX2xvYWRfdGFibGUod2IuU1NGKTtcblx0XHQvLyAkRmxvd0lnbm9yZVxuXHRcdG9wdHMucmV2c3NmID0gZXZlcnRfbnVtKHdiLlNTRik7IG9wdHMucmV2c3NmW3diLlNTRls2NTUzNV1dID0gMDtcblx0XHRvcHRzLnNzZiA9IHdiLlNTRjtcblx0fVxuXHRvcHRzLnJlbHMgPSB7fTsgb3B0cy53YnJlbHMgPSB7fTtcblx0b3B0cy5TdHJpbmdzID0gLyo6OigoKi9bXS8qOjogOmFueSk6U1NUKSovOyBvcHRzLlN0cmluZ3MuQ291bnQgPSAwOyBvcHRzLlN0cmluZ3MuVW5pcXVlID0gMDtcblx0aWYoYnJvd3Nlcl9oYXNfTWFwKSBvcHRzLnJldlN0cmluZ3MgPSBuZXcgTWFwKCk7XG5cdGVsc2UgeyBvcHRzLnJldlN0cmluZ3MgPSB7fTsgb3B0cy5yZXZTdHJpbmdzLmZvbyA9IFtdOyBkZWxldGUgb3B0cy5yZXZTdHJpbmdzLmZvbzsgfVxuXHR2YXIgd2JleHQgPSBcInhtbFwiO1xuXHR2YXIgdmJhZm10ID0gVkJBRk1UUy5pbmRleE9mKG9wdHMuYm9va1R5cGUpID4gLTE7XG5cdHZhciBjdCA9IG5ld19jdCgpO1xuXHRmaXhfd3JpdGVfb3B0cyhvcHRzID0gb3B0cyB8fCB7fSk7XG5cdHZhciB6aXAgPSB6aXBfbmV3KCk7XG5cdHZhciBmID0gXCJcIiwgcklkID0gMDtcblxuXHRvcHRzLmNlbGxYZnMgPSBbXTtcblx0Z2V0X2NlbGxfc3R5bGUob3B0cy5jZWxsWGZzLCB7fSwge3JldnNzZjp7XCJHZW5lcmFsXCI6MH19KTtcblxuXHRpZighd2IuUHJvcHMpIHdiLlByb3BzID0ge307XG5cblx0ZiA9IFwiZG9jUHJvcHMvY29yZS54bWxcIjtcblx0emlwX2FkZF9maWxlKHppcCwgZiwgd3JpdGVfY29yZV9wcm9wcyh3Yi5Qcm9wcywgb3B0cykpO1xuXHRjdC5jb3JlcHJvcHMucHVzaChmKTtcblx0YWRkX3JlbHMob3B0cy5yZWxzLCAyLCBmLCBSRUxTLkNPUkVfUFJPUFMpO1xuXG5cdC8qOjppZighd2IuUHJvcHMpIHRocm93IFwidW5yZWFjaGFibGVcIjsgKi9cblx0ZiA9IFwiZG9jUHJvcHMvYXBwLnhtbFwiO1xuXHRpZih3Yi5Qcm9wcyAmJiB3Yi5Qcm9wcy5TaGVldE5hbWVzKXsvKiBlbXB0eSAqL31cblx0ZWxzZSBpZighd2IuV29ya2Jvb2sgfHwgIXdiLldvcmtib29rLlNoZWV0cykgd2IuUHJvcHMuU2hlZXROYW1lcyA9IHdiLlNoZWV0TmFtZXM7XG5cdGVsc2Uge1xuXHRcdHZhciBfc24gPSBbXTtcblx0XHRmb3IodmFyIF9pID0gMDsgX2kgPCB3Yi5TaGVldE5hbWVzLmxlbmd0aDsgKytfaSlcblx0XHRcdGlmKCh3Yi5Xb3JrYm9vay5TaGVldHNbX2ldfHx7fSkuSGlkZGVuICE9IDIpIF9zbi5wdXNoKHdiLlNoZWV0TmFtZXNbX2ldKTtcblx0XHR3Yi5Qcm9wcy5TaGVldE5hbWVzID0gX3NuO1xuXHR9XG5cdHdiLlByb3BzLldvcmtzaGVldHMgPSB3Yi5Qcm9wcy5TaGVldE5hbWVzLmxlbmd0aDtcblx0emlwX2FkZF9maWxlKHppcCwgZiwgd3JpdGVfZXh0X3Byb3BzKHdiLlByb3BzLCBvcHRzKSk7XG5cdGN0LmV4dHByb3BzLnB1c2goZik7XG5cdGFkZF9yZWxzKG9wdHMucmVscywgMywgZiwgUkVMUy5FWFRfUFJPUFMpO1xuXG5cdGlmKHdiLkN1c3Rwcm9wcyAhPT0gd2IuUHJvcHMgJiYga2V5cyh3Yi5DdXN0cHJvcHN8fHt9KS5sZW5ndGggPiAwKSB7XG5cdFx0ZiA9IFwiZG9jUHJvcHMvY3VzdG9tLnhtbFwiO1xuXHRcdHppcF9hZGRfZmlsZSh6aXAsIGYsIHdyaXRlX2N1c3RfcHJvcHMod2IuQ3VzdHByb3BzLCBvcHRzKSk7XG5cdFx0Y3QuY3VzdHByb3BzLnB1c2goZik7XG5cdFx0YWRkX3JlbHMob3B0cy5yZWxzLCA0LCBmLCBSRUxTLkNVU1RfUFJPUFMpO1xuXHR9XG5cblx0dmFyIHBlb3BsZSA9IFtcIlNoZWV0SjVcIl07XG5cdG9wdHMudGNpZCA9IDA7XG5cblx0Zm9yKHJJZD0xO3JJZCA8PSB3Yi5TaGVldE5hbWVzLmxlbmd0aDsgKytySWQpIHtcblx0XHR2YXIgd3NyZWxzID0geychaWQnOnt9fTtcblx0XHR2YXIgd3MgPSB3Yi5TaGVldHNbd2IuU2hlZXROYW1lc1tySWQtMV1dO1xuXHRcdHZhciBfdHlwZSA9ICh3cyB8fCB7fSlbXCIhdHlwZVwiXSB8fCBcInNoZWV0XCI7XG5cdFx0c3dpdGNoKF90eXBlKSB7XG5cdFx0Y2FzZSBcImNoYXJ0XCI6XG5cdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0ZGVmYXVsdDpcblx0XHRcdGYgPSBcInhsL3dvcmtzaGVldHMvc2hlZXRcIiArIHJJZCArIFwiLlwiICsgd2JleHQ7XG5cdFx0XHR6aXBfYWRkX2ZpbGUoemlwLCBmLCB3cml0ZV93c194bWwocklkLTEsIG9wdHMsIHdiLCB3c3JlbHMpKTtcblx0XHRcdGN0LnNoZWV0cy5wdXNoKGYpO1xuXHRcdFx0YWRkX3JlbHMob3B0cy53YnJlbHMsIC0xLCBcIndvcmtzaGVldHMvc2hlZXRcIiArIHJJZCArIFwiLlwiICsgd2JleHQsIFJFTFMuV1NbMF0pO1xuXHRcdH1cblxuXHRcdGlmKHdzKSB7XG5cdFx0XHR2YXIgY29tbWVudHMgPSB3c1snIWNvbW1lbnRzJ107XG5cdFx0XHR2YXIgbmVlZF92bWwgPSBmYWxzZTtcblx0XHRcdHZhciBjZiA9IFwiXCI7XG5cdFx0XHRpZihjb21tZW50cyAmJiBjb21tZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBuZWVkdGMgPSBmYWxzZTtcblx0XHRcdFx0Y29tbWVudHMuZm9yRWFjaChmdW5jdGlvbihjYXJyKSB7XG5cdFx0XHRcdFx0Y2FyclsxXS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHsgaWYoYy5UID09IHRydWUpIG5lZWR0YyA9IHRydWU7IH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYobmVlZHRjKSB7XG5cdFx0XHRcdFx0Y2YgPSBcInhsL3RocmVhZGVkQ29tbWVudHMvdGhyZWFkZWRDb21tZW50XCIgKyBySWQgKyBcIi54bWxcIjtcblx0XHRcdFx0XHR6aXBfYWRkX2ZpbGUoemlwLCBjZiwgd3JpdGVfdGNtbnRfeG1sKGNvbW1lbnRzLCBwZW9wbGUsIG9wdHMpKTtcblx0XHRcdFx0XHRjdC50aHJlYWRlZGNvbW1lbnRzLnB1c2goY2YpO1xuXHRcdFx0XHRcdGFkZF9yZWxzKHdzcmVscywgLTEsIFwiLi4vdGhyZWFkZWRDb21tZW50cy90aHJlYWRlZENvbW1lbnRcIiArIHJJZCArIFwiLnhtbFwiLCBSRUxTLlRDTU5UKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNmID0gXCJ4bC9jb21tZW50c1wiICsgcklkICsgXCIuXCIgKyB3YmV4dDtcblx0XHRcdFx0emlwX2FkZF9maWxlKHppcCwgY2YsIHdyaXRlX2NvbW1lbnRzX3htbChjb21tZW50cywgb3B0cykpO1xuXHRcdFx0XHRjdC5jb21tZW50cy5wdXNoKGNmKTtcblx0XHRcdFx0YWRkX3JlbHMod3NyZWxzLCAtMSwgXCIuLi9jb21tZW50c1wiICsgcklkICsgXCIuXCIgKyB3YmV4dCwgUkVMUy5DTU5UKTtcblx0XHRcdFx0bmVlZF92bWwgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYod3NbJyFsZWdhY3knXSkge1xuXHRcdFx0XHRpZihuZWVkX3ZtbCkgemlwX2FkZF9maWxlKHppcCwgXCJ4bC9kcmF3aW5ncy92bWxEcmF3aW5nXCIgKyAocklkKSArIFwiLnZtbFwiLCB3cml0ZV92bWwocklkLCB3c1snIWNvbW1lbnRzJ10pKTtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSB3c1snIWNvbW1lbnRzJ107XG5cdFx0XHRkZWxldGUgd3NbJyFsZWdhY3knXTtcblx0XHR9XG5cblx0XHRpZih3c3JlbHNbJyFpZCddLnJJZDEpIHppcF9hZGRfZmlsZSh6aXAsIGdldF9yZWxzX3BhdGgoZiksIHdyaXRlX3JlbHMod3NyZWxzKSk7XG5cdH1cblxuXHRpZihvcHRzLlN0cmluZ3MgIT0gbnVsbCAmJiBvcHRzLlN0cmluZ3MubGVuZ3RoID4gMCkge1xuXHRcdGYgPSBcInhsL3NoYXJlZFN0cmluZ3MuXCIgKyB3YmV4dDtcblx0XHR6aXBfYWRkX2ZpbGUoemlwLCBmLCB3cml0ZV9zc3RfeG1sKG9wdHMuU3RyaW5ncywgb3B0cykpO1xuXHRcdGN0LnN0cnMucHVzaChmKTtcblx0XHRhZGRfcmVscyhvcHRzLndicmVscywgLTEsIFwic2hhcmVkU3RyaW5ncy5cIiArIHdiZXh0LCBSRUxTLlNTVCk7XG5cdH1cblxuXHRmID0gXCJ4bC93b3JrYm9vay5cIiArIHdiZXh0O1xuXHR6aXBfYWRkX2ZpbGUoemlwLCBmLCB3cml0ZV93Yl94bWwod2IsIG9wdHMpKTtcblx0Y3Qud29ya2Jvb2tzLnB1c2goZik7XG5cdGFkZF9yZWxzKG9wdHMucmVscywgMSwgZiwgUkVMUy5XQik7XG5cblx0LyogVE9ETzogc29tZXRoaW5nIG1vcmUgaW50ZWxsaWdlbnQgd2l0aCB0aGVtZXMgKi9cblxuXHRmID0gXCJ4bC90aGVtZS90aGVtZTEueG1sXCI7XG5cdHppcF9hZGRfZmlsZSh6aXAsIGYsIHdyaXRlX3RoZW1lKHdiLlRoZW1lcywgb3B0cykpO1xuXHRjdC50aGVtZXMucHVzaChmKTtcblx0YWRkX3JlbHMob3B0cy53YnJlbHMsIC0xLCBcInRoZW1lL3RoZW1lMS54bWxcIiwgUkVMUy5USEVNRSk7XG5cblx0LyogVE9ETzogc29tZXRoaW5nIG1vcmUgaW50ZWxsaWdlbnQgd2l0aCBzdHlsZXMgKi9cblxuXHRmID0gXCJ4bC9zdHlsZXMuXCIgKyB3YmV4dDtcblx0emlwX2FkZF9maWxlKHppcCwgZiwgd3JpdGVfc3R5X3htbCh3Yiwgb3B0cykpO1xuXHRjdC5zdHlsZXMucHVzaChmKTtcblx0YWRkX3JlbHMob3B0cy53YnJlbHMsIC0xLCBcInN0eWxlcy5cIiArIHdiZXh0LCBSRUxTLlNUWSk7XG5cblx0aWYod2IudmJhcmF3ICYmIHZiYWZtdCkge1xuXHRcdGYgPSBcInhsL3ZiYVByb2plY3QuYmluXCI7XG5cdFx0emlwX2FkZF9maWxlKHppcCwgZiwgd2IudmJhcmF3KTtcblx0XHRjdC52YmEucHVzaChmKTtcblx0XHRhZGRfcmVscyhvcHRzLndicmVscywgLTEsIFwidmJhUHJvamVjdC5iaW5cIiwgUkVMUy5WQkEpO1xuXHR9XG5cblx0ZiA9IFwieGwvbWV0YWRhdGEuXCIgKyB3YmV4dDtcblx0emlwX2FkZF9maWxlKHppcCwgZiwgd3JpdGVfeGxtZXRhX3htbCgpKTtcblx0Y3QubWV0YWRhdGEucHVzaChmKTtcblx0YWRkX3JlbHMob3B0cy53YnJlbHMsIC0xLCBcIm1ldGFkYXRhLlwiICsgd2JleHQsIFJFTFMuWExNRVRBKTtcblxuXHRpZihwZW9wbGUubGVuZ3RoID4gMSkge1xuXHRcdGYgPSBcInhsL3BlcnNvbnMvcGVyc29uLnhtbFwiO1xuXHRcdHppcF9hZGRfZmlsZSh6aXAsIGYsIHdyaXRlX3Blb3BsZV94bWwocGVvcGxlLCBvcHRzKSk7XG5cdFx0Y3QucGVvcGxlLnB1c2goZik7XG5cdFx0YWRkX3JlbHMob3B0cy53YnJlbHMsIC0xLCBcInBlcnNvbnMvcGVyc29uLnhtbFwiLCBSRUxTLlBFT1BMRSk7XG5cdH1cblxuXHR6aXBfYWRkX2ZpbGUoemlwLCBcIltDb250ZW50X1R5cGVzXS54bWxcIiwgd3JpdGVfY3QoY3QsIG9wdHMpKTtcblx0emlwX2FkZF9maWxlKHppcCwgJ19yZWxzLy5yZWxzJywgd3JpdGVfcmVscyhvcHRzLnJlbHMpKTtcblx0emlwX2FkZF9maWxlKHppcCwgJ3hsL19yZWxzL3dvcmtib29rLicgKyB3YmV4dCArICcucmVscycsIHdyaXRlX3JlbHMob3B0cy53YnJlbHMpKTtcblxuXHRkZWxldGUgb3B0cy5yZXZzc2Y7IGRlbGV0ZSBvcHRzLnNzZjtcblx0cmV0dXJuIHppcDtcbn1cblxuZnVuY3Rpb24gZmlyc3RieXRlKGYvKjpSYXdEYXRhKi8sby8qOj9UeXBlT3B0cyovKS8qOkFycmF5PG51bWJlcj4qLyB7XG5cdHZhciB4ID0gXCJcIjtcblx0c3dpdGNoKChvfHx7fSkudHlwZSB8fCBcImJhc2U2NFwiKSB7XG5cdFx0Y2FzZSAnYnVmZmVyJzogcmV0dXJuIFtmWzBdLCBmWzFdLCBmWzJdLCBmWzNdLCBmWzRdLCBmWzVdLCBmWzZdLCBmWzddXTtcblx0XHRjYXNlICdiYXNlNjQnOiB4ID0gQmFzZTY0X2RlY29kZShmLnNsaWNlKDAsMTIpKTsgYnJlYWs7XG5cdFx0Y2FzZSAnYmluYXJ5JzogeCA9IGY7IGJyZWFrO1xuXHRcdGNhc2UgJ2FycmF5JzogIHJldHVybiBbZlswXSwgZlsxXSwgZlsyXSwgZlszXSwgZls0XSwgZls1XSwgZls2XSwgZls3XV07XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHR5cGUgXCIgKyAobyAmJiBvLnR5cGUgfHwgXCJ1bmRlZmluZWRcIikpO1xuXHR9XG5cdHJldHVybiBbeC5jaGFyQ29kZUF0KDApLCB4LmNoYXJDb2RlQXQoMSksIHguY2hhckNvZGVBdCgyKSwgeC5jaGFyQ29kZUF0KDMpLCB4LmNoYXJDb2RlQXQoNCksIHguY2hhckNvZGVBdCg1KSwgeC5jaGFyQ29kZUF0KDYpLCB4LmNoYXJDb2RlQXQoNyldO1xufVxuXG5mdW5jdGlvbiByZWFkX2NmYihjZmIvKjpDRkJDb250YWluZXIqLywgb3B0cy8qOj9QYXJzZU9wdHMqLykvKjpXb3JrYm9vayovIHtcblx0aWYoQ0ZCLmZpbmQoY2ZiLCBcIkVuY3J5cHRlZFBhY2thZ2VcIikpIHJldHVybiBwYXJzZV94bHN4Y2ZiKGNmYiwgb3B0cyk7XG5cdHJldHVybiBwYXJzZV94bHNjZmIoY2ZiLCBvcHRzKTtcbn1cblxuZnVuY3Rpb24gcmVhZF96aXAoZGF0YS8qOlJhd0RhdGEqLywgb3B0cy8qOj9QYXJzZU9wdHMqLykvKjpXb3JrYm9vayovIHtcblx0dmFyIHppcCwgZCA9IGRhdGE7XG5cdHZhciBvID0gb3B0c3x8e307XG5cdGlmKCFvLnR5cGUpIG8udHlwZSA9IChoYXNfYnVmICYmIEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSkgPyBcImJ1ZmZlclwiIDogXCJiYXNlNjRcIjtcblx0emlwID0gemlwX3JlYWQoZCwgbyk7XG5cdHJldHVybiBwYXJzZV96aXAoemlwLCBvKTtcbn1cblxuZnVuY3Rpb24gcmVhZF9wbGFpbnRleHQoZGF0YS8qOnN0cmluZyovLCBvLyo6UGFyc2VPcHRzKi8pLyo6V29ya2Jvb2sqLyB7XG5cdHZhciBpID0gMDtcblx0bWFpbjogd2hpbGUoaSA8IGRhdGEubGVuZ3RoKSBzd2l0Y2goZGF0YS5jaGFyQ29kZUF0KGkpKSB7XG5cdFx0Y2FzZSAweDBBOiBjYXNlIDB4MEQ6IGNhc2UgMHgyMDogKytpOyBicmVhaztcblx0XHRjYXNlIDB4M0M6IHJldHVybiBwYXJzZV94bG1sKGRhdGEuc2xpY2UoaSksbyk7XG5cdFx0ZGVmYXVsdDogYnJlYWsgbWFpbjtcblx0fVxuXHRyZXR1cm4gUFJOLnRvX3dvcmtib29rKGRhdGEsIG8pO1xufVxuXG5mdW5jdGlvbiByZWFkX3BsYWludGV4dF9yYXcoZGF0YS8qOlJhd0RhdGEqLywgby8qOlBhcnNlT3B0cyovKS8qOldvcmtib29rKi8ge1xuXHR2YXIgc3RyID0gXCJcIiwgYnl0ZXMgPSBmaXJzdGJ5dGUoZGF0YSwgbyk7XG5cdHN3aXRjaChvLnR5cGUpIHtcblx0XHRjYXNlICdiYXNlNjQnOiBzdHIgPSBCYXNlNjRfZGVjb2RlKGRhdGEpOyBicmVhaztcblx0XHRjYXNlICdiaW5hcnknOiBzdHIgPSBkYXRhOyBicmVhaztcblx0XHRjYXNlICdidWZmZXInOiBzdHIgPSBkYXRhLnRvU3RyaW5nKCdiaW5hcnknKTsgYnJlYWs7XG5cdFx0Y2FzZSAnYXJyYXknOiBzdHIgPSBjYzJzdHIoZGF0YSk7IGJyZWFrO1xuXHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCB0eXBlIFwiICsgby50eXBlKTtcblx0fVxuXHRpZihieXRlc1swXSA9PSAweEVGICYmIGJ5dGVzWzFdID09IDB4QkIgJiYgYnl0ZXNbMl0gPT0gMHhCRikgc3RyID0gdXRmOHJlYWQoc3RyKTtcblx0by50eXBlID0gXCJiaW5hcnlcIjtcblx0cmV0dXJuIHJlYWRfcGxhaW50ZXh0KHN0ciwgbyk7XG59XG5cbmZ1bmN0aW9uIHJlYWRfdXRmMTYoZGF0YS8qOlJhd0RhdGEqLywgby8qOlBhcnNlT3B0cyovKS8qOldvcmtib29rKi8ge1xuXHR2YXIgZCA9IGRhdGE7XG5cdGlmKG8udHlwZSA9PSAnYmFzZTY0JykgZCA9IEJhc2U2NF9kZWNvZGUoZCk7XG5cdGlmKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIGQgPSBuZXcgVWludDhBcnJheShkYXRhKTtcblx0ZCA9IHR5cGVvZiAkY3B0YWJsZSAhPT0gXCJ1bmRlZmluZWRcIiA/ICRjcHRhYmxlLnV0aWxzLmRlY29kZSgxMjAwLCBkLnNsaWNlKDIpLCAnc3RyJykgOiAoXG5cdFx0KGhhc19idWYgJiYgQnVmZmVyLmlzQnVmZmVyKGRhdGEpKSA/IGRhdGEuc2xpY2UoMikudG9TdHJpbmcoXCJ1dGYxNmxlXCIpIDpcblx0XHQodHlwZW9mIFVpbnQ4QXJyYXkgIT09IFwidW5kZWZpbmVkXCIgJiYgZCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpID8gKFxuXHRcdFx0dHlwZW9mIFRleHREZWNvZGVyICE9PSBcInVuZGVmaW5lZFwiID8gbmV3IFRleHREZWNvZGVyKFwidXRmLTE2bGVcIikuZGVjb2RlKGQuc2xpY2UoMikpIDogdXRmMTZsZXJlYWR1KGQuc2xpY2UoMikpXG5cdFx0KSA6IHV0ZjE2bGVyZWFkKGQuc2xpY2UoMikpXG5cdCk7XG5cdG8udHlwZSA9IFwiYmluYXJ5XCI7XG5cdHJldHVybiByZWFkX3BsYWludGV4dChkLCBvKTtcbn1cblxuZnVuY3Rpb24gYnN0cmlmeShkYXRhLyo6c3RyaW5nKi8pLyo6c3RyaW5nKi8ge1xuXHRyZXR1cm4gIWRhdGEubWF0Y2goL1teXFx4MDAtXFx4N0ZdLykgPyBkYXRhIDogdXRmOHdyaXRlKGRhdGEpO1xufVxuXG5mdW5jdGlvbiByZWFkX3BybihkYXRhLCBkLCBvLCBzdHIpIHtcblx0aWYoc3RyKSB7IG8udHlwZSA9IFwic3RyaW5nXCI7IHJldHVybiBQUk4udG9fd29ya2Jvb2soZGF0YSwgbyk7IH1cblx0cmV0dXJuIFBSTi50b193b3JrYm9vayhkLCBvKTtcbn1cblxuZnVuY3Rpb24gcmVhZFN5bmMoZGF0YS8qOlJhd0RhdGEqLywgb3B0cy8qOj9QYXJzZU9wdHMqLykvKjpXb3JrYm9vayovIHtcblx0cmVzZXRfY3AoKTtcblx0dmFyIG8gPSBvcHRzfHx7fTtcblx0aWYoby5jb2RlcGFnZSAmJiB0eXBlb2YgJGNwdGFibGUgPT09IFwidW5kZWZpbmVkXCIpIGNvbnNvbGUuZXJyb3IoXCJDb2RlcGFnZSB0YWJsZXMgYXJlIG5vdCBsb2FkZWQuICBOb24tQVNDSUkgY2hhcmFjdGVycyBtYXkgbm90IGdpdmUgZXhwZWN0ZWQgcmVzdWx0c1wiKTtcblx0aWYodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHJldHVybiByZWFkU3luYyhuZXcgVWludDhBcnJheShkYXRhKSwgKG8gPSBkdXAobyksIG8udHlwZSA9IFwiYXJyYXlcIiwgbykpO1xuXHQvKiBKYXZldCBwcm9qZWN0cyBgYnl0ZVtdYCB0byBgSW50OEFycmF5YCAqL1xuXHRpZih0eXBlb2YgSW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhIGluc3RhbmNlb2YgSW50OEFycmF5KSByZXR1cm4gcmVhZFN5bmMobmV3IFVpbnQ4QXJyYXkoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5sZW5ndGgpLCBvKTtcblx0aWYodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmICFvLnR5cGUpIG8udHlwZSA9IHR5cGVvZiBEZW5vICE9PSBcInVuZGVmaW5lZFwiID8gXCJidWZmZXJcIiA6IFwiYXJyYXlcIjtcblx0dmFyIGQgPSBkYXRhLCBuID0gWzAsMCwwLDBdLCBzdHIgPSBmYWxzZTtcblx0aWYoby5jZWxsU3R5bGVzKSB7IG8uY2VsbE5GID0gdHJ1ZTsgby5zaGVldFN0dWJzID0gdHJ1ZTsgfVxuXHRfc3Nmb3B0cyA9IHt9O1xuXHRpZihvLmRhdGVORikgX3NzZm9wdHMuZGF0ZU5GID0gby5kYXRlTkY7XG5cdGlmKCFvLnR5cGUpIG8udHlwZSA9IChoYXNfYnVmICYmIEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSkgPyBcImJ1ZmZlclwiIDogXCJiYXNlNjRcIjtcblx0aWYoby50eXBlID09IFwiZmlsZVwiKSB7IG8udHlwZSA9IGhhc19idWYgPyBcImJ1ZmZlclwiIDogXCJiaW5hcnlcIjsgZCA9IHJlYWRfYmluYXJ5KGRhdGEpOyBpZih0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgIWhhc19idWYpIG8udHlwZSA9IFwiYXJyYXlcIjsgfVxuXHRpZihvLnR5cGUgPT0gXCJzdHJpbmdcIikgeyBzdHIgPSB0cnVlOyBvLnR5cGUgPSBcImJpbmFyeVwiOyBvLmNvZGVwYWdlID0gNjUwMDE7IGQgPSBic3RyaWZ5KGRhdGEpOyB9XG5cdGlmKG8udHlwZSA9PSAnYXJyYXknICYmIHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSAmJiB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHR2YXIgYWI9bmV3IEFycmF5QnVmZmVyKDMpLCB2dT1uZXcgVWludDhBcnJheShhYik7IHZ1LmZvbz1cImJhclwiO1xuXHRcdC8vICRGbG93SWdub3JlXG5cdFx0aWYoIXZ1LmZvbykge289ZHVwKG8pOyBvLnR5cGU9J2FycmF5JzsgcmV0dXJuIHJlYWRTeW5jKGFiMmEoZCksIG8pO31cblx0fVxuXHRzd2l0Y2goKG4gPSBmaXJzdGJ5dGUoZCwgbykpWzBdKSB7XG5cdFx0Y2FzZSAweEQwOiBpZihuWzFdID09PSAweENGICYmIG5bMl0gPT09IDB4MTEgJiYgblszXSA9PT0gMHhFMCAmJiBuWzRdID09PSAweEExICYmIG5bNV0gPT09IDB4QjEgJiYgbls2XSA9PT0gMHgxQSAmJiBuWzddID09PSAweEUxKSByZXR1cm4gcmVhZF9jZmIoQ0ZCLnJlYWQoZCwgbyksIG8pOyBicmVhaztcblx0XHRjYXNlIDB4MDk6IGlmKG5bMV0gPD0gMHgwOCkgcmV0dXJuIHBhcnNlX3hsc2NmYihkLCBvKTsgYnJlYWs7XG5cdFx0Y2FzZSAweDNDOiByZXR1cm4gcGFyc2VfeGxtbChkLCBvKTtcblx0XHRjYXNlIDB4NDk6XG5cdFx0XHRpZihuWzFdID09PSAweDQ5ICYmIG5bMl0gPT09IDB4MmEgJiYgblszXSA9PT0gMHgwMCkgdGhyb3cgbmV3IEVycm9yKFwiVElGRiBJbWFnZSBGaWxlIGlzIG5vdCBhIHNwcmVhZHNoZWV0XCIpO1xuXHRcdFx0aWYoblsxXSA9PT0gMHg0NCkgcmV0dXJuIHJlYWRfd2JfSUQoZCwgbyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIDB4NTQ6IGlmKG5bMV0gPT09IDB4NDEgJiYgblsyXSA9PT0gMHg0MiAmJiBuWzNdID09PSAweDRDKSByZXR1cm4gRElGLnRvX3dvcmtib29rKGQsIG8pOyBicmVhaztcblx0XHRjYXNlIDB4NTA6IHJldHVybiAoblsxXSA9PT0gMHg0QiAmJiBuWzJdIDwgMHgwOSAmJiBuWzNdIDwgMHgwOSkgPyByZWFkX3ppcChkLCBvKSA6IHJlYWRfcHJuKGRhdGEsIGQsIG8sIHN0cik7XG5cdFx0Y2FzZSAweEVGOiByZXR1cm4gblszXSA9PT0gMHgzQyA/IHBhcnNlX3hsbWwoZCwgbykgOiByZWFkX3BybihkYXRhLCBkLCBvLCBzdHIpO1xuXHRcdGNhc2UgMHhGRjpcblx0XHRcdGlmKG5bMV0gPT09IDB4RkUpIHsgcmV0dXJuIHJlYWRfdXRmMTYoZCwgbyk7IH1cblx0XHRcdGVsc2UgaWYoblsxXSA9PT0gMHgwMCAmJiBuWzJdID09PSAweDAyICYmIG5bM10gPT09IDB4MDApIHJldHVybiBXS18udG9fd29ya2Jvb2soZCwgbyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIDB4MDA6XG5cdFx0XHRpZihuWzFdID09PSAweDAwKSB7XG5cdFx0XHRcdGlmKG5bMl0gPj0gMHgwMiAmJiBuWzNdID09PSAweDAwKSByZXR1cm4gV0tfLnRvX3dvcmtib29rKGQsIG8pO1xuXHRcdFx0XHRpZihuWzJdID09PSAweDAwICYmIChuWzNdID09PSAweDA4IHx8IG5bM10gPT09IDB4MDkpKSByZXR1cm4gV0tfLnRvX3dvcmtib29rKGQsIG8pO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAweDAzOiBjYXNlIDB4ODM6IGNhc2UgMHg4QjogY2FzZSAweDhDOiByZXR1cm4gREJGLnRvX3dvcmtib29rKGQsIG8pO1xuXHRcdGNhc2UgMHg3QjogaWYoblsxXSA9PT0gMHg1QyAmJiBuWzJdID09PSAweDcyICYmIG5bM10gPT09IDB4NzQpIHJldHVybiBydGZfdG9fd29ya2Jvb2soZCwgbyk7IGJyZWFrO1xuXHRcdGNhc2UgMHgwQTogY2FzZSAweDBEOiBjYXNlIDB4MjA6IHJldHVybiByZWFkX3BsYWludGV4dF9yYXcoZCwgbyk7XG5cdFx0Y2FzZSAweDg5OiBpZihuWzFdID09PSAweDUwICYmIG5bMl0gPT09IDB4NEUgJiYgblszXSA9PT0gMHg0NykgdGhyb3cgbmV3IEVycm9yKFwiUE5HIEltYWdlIEZpbGUgaXMgbm90IGEgc3ByZWFkc2hlZXRcIik7IGJyZWFrO1xuXHRcdGNhc2UgMHgwODogaWYoblsxXSA9PT0gMHhFNykgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgTXVsdGlwbGFuIDEueCBmaWxlIVwiKTsgYnJlYWs7XG5cdFx0Y2FzZSAweDBDOlxuXHRcdFx0aWYoblsxXSA9PT0gMHhFQykgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgTXVsdGlwbGFuIDIueCBmaWxlIVwiKTtcblx0XHRcdGlmKG5bMV0gPT09IDB4RUQpIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIE11bHRpcGxhbiAzLnggZmlsZSFcIik7XG5cdFx0XHRicmVhaztcblx0fVxuXHRpZihEQkZfU1VQUE9SVEVEX1ZFUlNJT05TLmluZGV4T2YoblswXSkgPiAtMSAmJiBuWzJdIDw9IDEyICYmIG5bM10gPD0gMzEpIHJldHVybiBEQkYudG9fd29ya2Jvb2soZCwgbyk7XG5cdHJldHVybiByZWFkX3BybihkYXRhLCBkLCBvLCBzdHIpO1xufVxuXG5mdW5jdGlvbiByZWFkRmlsZVN5bmMoZmlsZW5hbWUvKjpzdHJpbmcqLywgb3B0cy8qOj9QYXJzZU9wdHMqLykvKjpXb3JrYm9vayovIHtcblx0dmFyIG8gPSBvcHRzfHx7fTsgby50eXBlID0gJ2ZpbGUnO1xuXHRyZXR1cm4gcmVhZFN5bmMoZmlsZW5hbWUsIG8pO1xufVxuZnVuY3Rpb24gd3JpdGVfY2ZiX2N0cihjZmIvKjpDRkJDb250YWluZXIqLywgby8qOldyaXRlT3B0cyovKS8qOmFueSovIHtcblx0c3dpdGNoKG8udHlwZSkge1xuXHRcdGNhc2UgXCJiYXNlNjRcIjogY2FzZSBcImJpbmFyeVwiOiBicmVhaztcblx0XHRjYXNlIFwiYnVmZmVyXCI6IGNhc2UgXCJhcnJheVwiOiBvLnR5cGUgPSBcIlwiOyBicmVhaztcblx0XHRjYXNlIFwiZmlsZVwiOiByZXR1cm4gd3JpdGVfZGwoby5maWxlLCBDRkIud3JpdGUoY2ZiLCB7dHlwZTpoYXNfYnVmID8gJ2J1ZmZlcicgOiBcIlwifSkpO1xuXHRcdGNhc2UgXCJzdHJpbmdcIjogdGhyb3cgbmV3IEVycm9yKFwiJ3N0cmluZycgb3V0cHV0IHR5cGUgaW52YWxpZCBmb3IgJ1wiICsgby5ib29rVHlwZSArIFwiJyBmaWxlc1wiKTtcblx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgdHlwZSBcIiArIG8udHlwZSk7XG5cdH1cblx0cmV0dXJuIENGQi53cml0ZShjZmIsIG8pO1xufVxuXG5mdW5jdGlvbiB3cml0ZV96aXAod2IvKjpXb3JrYm9vayovLCBvcHRzLyo6V3JpdGVPcHRzKi8pLyo6WklQKi8ge1xuXHRzd2l0Y2gob3B0cy5ib29rVHlwZSkge1xuXHRcdGNhc2UgXCJvZHNcIjogcmV0dXJuIHdyaXRlX29kcyh3Yiwgb3B0cyk7XG5cdFx0Y2FzZSBcIm51bWJlcnNcIjogcmV0dXJuIHdyaXRlX251bWJlcnNfaXdhKHdiLCBvcHRzKTtcblx0XHRjYXNlIFwieGxzYlwiOiByZXR1cm4gd3JpdGVfemlwX3hsc2Iod2IsIG9wdHMpO1xuXHRcdGRlZmF1bHQ6IHJldHVybiB3cml0ZV96aXBfeGxzeCh3Yiwgb3B0cyk7XG5cdH1cbn1cblxuLyo6OiBkZWNsYXJlIHZhciBlbmNyeXB0X2FnaWxlOmFueTsgKi9cbmZ1bmN0aW9uIHdyaXRlX3ppcF90eXBlKHdiLyo6V29ya2Jvb2sqLywgb3B0cy8qOj9Xcml0ZU9wdHMqLykvKjphbnkqLyB7XG5cdHZhciBvID0gZHVwKG9wdHN8fHt9KTtcblx0dmFyIHogPSB3cml0ZV96aXAod2IsIG8pO1xuXHRyZXR1cm4gd3JpdGVfemlwX2Rlbm91ZW1lbnQoeiwgbyk7XG59XG5mdW5jdGlvbiB3cml0ZV96aXBfdHlwZVhMU1god2IvKjpXb3JrYm9vayovLCBvcHRzLyo6P1dyaXRlT3B0cyovKS8qOmFueSovIHtcblx0dmFyIG8gPSBkdXAob3B0c3x8e30pO1xuXHR2YXIgeiA9IHdyaXRlX3ppcF94bHN4KHdiLCBvKTtcblx0cmV0dXJuIHdyaXRlX3ppcF9kZW5vdWVtZW50KHosIG8pO1xufVxuZnVuY3Rpb24gd3JpdGVfemlwX2Rlbm91ZW1lbnQoei8qOmFueSovLCBvLyo6P1dyaXRlT3B0cyovKS8qOmFueSovIHtcblx0dmFyIG9vcHRzID0ge307XG5cdHZhciBmdHlwZSA9IGhhc19idWYgPyBcIm5vZGVidWZmZXJcIiA6ICh0eXBlb2YgVWludDhBcnJheSAhPT0gXCJ1bmRlZmluZWRcIiA/IFwiYXJyYXlcIiA6IFwic3RyaW5nXCIpO1xuXHRpZihvLmNvbXByZXNzaW9uKSBvb3B0cy5jb21wcmVzc2lvbiA9ICdERUZMQVRFJztcblx0aWYoby5wYXNzd29yZCkgb29wdHMudHlwZSA9IGZ0eXBlO1xuXHRlbHNlIHN3aXRjaChvLnR5cGUpIHtcblx0XHRjYXNlIFwiYmFzZTY0XCI6IG9vcHRzLnR5cGUgPSBcImJhc2U2NFwiOyBicmVhaztcblx0XHRjYXNlIFwiYmluYXJ5XCI6IG9vcHRzLnR5cGUgPSBcInN0cmluZ1wiOyBicmVhaztcblx0XHRjYXNlIFwic3RyaW5nXCI6IHRocm93IG5ldyBFcnJvcihcIidzdHJpbmcnIG91dHB1dCB0eXBlIGludmFsaWQgZm9yICdcIiArIG8uYm9va1R5cGUgKyBcIicgZmlsZXNcIik7XG5cdFx0Y2FzZSBcImJ1ZmZlclwiOlxuXHRcdGNhc2UgXCJmaWxlXCI6IG9vcHRzLnR5cGUgPSBmdHlwZTsgYnJlYWs7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHR5cGUgXCIgKyBvLnR5cGUpO1xuXHR9XG5cdHZhciBvdXQgPSB6LkZ1bGxQYXRocyA/IENGQi53cml0ZSh6LCB7ZmlsZVR5cGU6XCJ6aXBcIiwgdHlwZTogLyo6OigqL3tcIm5vZGVidWZmZXJcIjogXCJidWZmZXJcIiwgXCJzdHJpbmdcIjogXCJiaW5hcnlcIn0vKjo6IDphbnkpKi9bb29wdHMudHlwZV0gfHwgb29wdHMudHlwZSwgY29tcHJlc3Npb246ICEhby5jb21wcmVzc2lvbn0pIDogei5nZW5lcmF0ZShvb3B0cyk7XG5cdGlmKHR5cGVvZiBEZW5vICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0aWYodHlwZW9mIG91dCA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRpZihvLnR5cGUgPT0gXCJiaW5hcnlcIiB8fCBvLnR5cGUgPT0gXCJiYXNlNjRcIikgcmV0dXJuIG91dDtcblx0XHRcdG91dCA9IG5ldyBVaW50OEFycmF5KHMyYWIob3V0KSk7XG5cdFx0fVxuXHR9XG4vKmpzaGludCAtVzA4MyAqL1xuXHRpZihvLnBhc3N3b3JkICYmIHR5cGVvZiBlbmNyeXB0X2FnaWxlICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHdyaXRlX2NmYl9jdHIoZW5jcnlwdF9hZ2lsZShvdXQsIG8ucGFzc3dvcmQpLCBvKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuLypqc2hpbnQgK1cwODMgKi9cblx0aWYoby50eXBlID09PSBcImZpbGVcIikgcmV0dXJuIHdyaXRlX2RsKG8uZmlsZSwgb3V0KTtcblx0cmV0dXJuIG8udHlwZSA9PSBcInN0cmluZ1wiID8gdXRmOHJlYWQoLyo6OigqL291dC8qOjogOmFueSkqLykgOiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX2NmYl90eXBlKHdiLyo6V29ya2Jvb2sqLywgb3B0cy8qOj9Xcml0ZU9wdHMqLykvKjphbnkqLyB7XG5cdHZhciBvID0gb3B0c3x8e307XG5cdHZhciBjZmIvKjpDRkJDb250YWluZXIqLyA9IHdyaXRlX3hsc2NmYih3Yiwgbyk7XG5cdHJldHVybiB3cml0ZV9jZmJfY3RyKGNmYiwgbyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3N0cmluZ190eXBlKG91dC8qOnN0cmluZyovLCBvcHRzLyo6V3JpdGVPcHRzKi8sIGJvbS8qOj9zdHJpbmcqLykvKjphbnkqLyB7XG5cdGlmKCFib20pIGJvbSA9IFwiXCI7XG5cdHZhciBvID0gYm9tICsgb3V0O1xuXHRzd2l0Y2gob3B0cy50eXBlKSB7XG5cdFx0Y2FzZSBcImJhc2U2NFwiOiByZXR1cm4gQmFzZTY0X2VuY29kZSh1dGY4d3JpdGUobykpO1xuXHRcdGNhc2UgXCJiaW5hcnlcIjogcmV0dXJuIHV0Zjh3cml0ZShvKTtcblx0XHRjYXNlIFwic3RyaW5nXCI6IHJldHVybiBvdXQ7XG5cdFx0Y2FzZSBcImZpbGVcIjogcmV0dXJuIHdyaXRlX2RsKG9wdHMuZmlsZSwgbywgJ3V0ZjgnKTtcblx0XHRjYXNlIFwiYnVmZmVyXCI6IHtcblx0XHRcdGlmKGhhc19idWYpIHJldHVybiBCdWZmZXJfZnJvbShvLCAndXRmOCcpO1xuXHRcdFx0ZWxzZSBpZih0eXBlb2YgVGV4dEVuY29kZXIgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUobyk7XG5cdFx0XHRlbHNlIHJldHVybiB3cml0ZV9zdHJpbmdfdHlwZShvLCB7dHlwZTonYmluYXJ5J30pLnNwbGl0KFwiXCIpLm1hcChmdW5jdGlvbihjKSB7IHJldHVybiBjLmNoYXJDb2RlQXQoMCk7IH0pO1xuXHRcdH1cblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgdHlwZSBcIiArIG9wdHMudHlwZSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3N0eHRfdHlwZShvdXQvKjpzdHJpbmcqLywgb3B0cy8qOldyaXRlT3B0cyovKS8qOmFueSovIHtcblx0c3dpdGNoKG9wdHMudHlwZSkge1xuXHRcdGNhc2UgXCJiYXNlNjRcIjogcmV0dXJuIEJhc2U2NF9lbmNvZGVfcGFzcyhvdXQpO1xuXHRcdGNhc2UgXCJiaW5hcnlcIjogcmV0dXJuIG91dDtcblx0XHRjYXNlIFwic3RyaW5nXCI6IHJldHVybiBvdXQ7IC8qIG92ZXJyaWRlIGluIHNoZWV0X3RvX3R4dCAqL1xuXHRcdGNhc2UgXCJmaWxlXCI6IHJldHVybiB3cml0ZV9kbChvcHRzLmZpbGUsIG91dCwgJ2JpbmFyeScpO1xuXHRcdGNhc2UgXCJidWZmZXJcIjoge1xuXHRcdFx0aWYoaGFzX2J1ZikgcmV0dXJuIEJ1ZmZlcl9mcm9tKG91dCwgJ2JpbmFyeScpO1xuXHRcdFx0ZWxzZSByZXR1cm4gb3V0LnNwbGl0KFwiXCIpLm1hcChmdW5jdGlvbihjKSB7IHJldHVybiBjLmNoYXJDb2RlQXQoMCk7IH0pO1xuXHRcdH1cblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgdHlwZSBcIiArIG9wdHMudHlwZSk7XG59XG5cbi8qIFRPRE86IHRlc3QgY29uc2lzdGVuY3kgKi9cbmZ1bmN0aW9uIHdyaXRlX2JpbmFyeV90eXBlKG91dCwgb3B0cy8qOldyaXRlT3B0cyovKS8qOmFueSovIHtcblx0c3dpdGNoKG9wdHMudHlwZSkge1xuXHRcdGNhc2UgXCJzdHJpbmdcIjpcblx0XHRjYXNlIFwiYmFzZTY0XCI6XG5cdFx0Y2FzZSBcImJpbmFyeVwiOlxuXHRcdFx0dmFyIGJzdHIgPSBcIlwiO1xuXHRcdFx0Ly8gJEZsb3dJZ25vcmVcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXQubGVuZ3RoOyArK2kpIGJzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShvdXRbaV0pO1xuXHRcdFx0cmV0dXJuIG9wdHMudHlwZSA9PSAnYmFzZTY0JyA/IEJhc2U2NF9lbmNvZGUoYnN0cikgOiBvcHRzLnR5cGUgPT0gJ3N0cmluZycgPyB1dGY4cmVhZChic3RyKSA6IGJzdHI7XG5cdFx0Y2FzZSBcImZpbGVcIjogcmV0dXJuIHdyaXRlX2RsKG9wdHMuZmlsZSwgb3V0KTtcblx0XHRjYXNlIFwiYnVmZmVyXCI6IHJldHVybiBvdXQ7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHR5cGUgXCIgKyBvcHRzLnR5cGUpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHdyaXRlU3luY1hMU1god2IvKjpXb3JrYm9vayovLCBvcHRzLyo6P1dyaXRlT3B0cyovKSB7XG5cdHJlc2V0X2NwKCk7XG5cdGNoZWNrX3diKHdiKTtcblx0dmFyIG8gPSBkdXAob3B0c3x8e30pO1xuXHRpZihvLmNlbGxTdHlsZXMpIHsgby5jZWxsTkYgPSB0cnVlOyBvLnNoZWV0U3R1YnMgPSB0cnVlOyB9XG5cdGlmKG8udHlwZSA9PSBcImFycmF5XCIpIHsgby50eXBlID0gXCJiaW5hcnlcIjsgdmFyIG91dC8qOnN0cmluZyovID0gKHdyaXRlU3luY1hMU1god2IsIG8pLyo6YW55Ki8pOyBvLnR5cGUgPSBcImFycmF5XCI7IHJldHVybiBzMmFiKG91dCk7IH1cblx0cmV0dXJuIHdyaXRlX3ppcF90eXBlWExTWCh3Yiwgbyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlU3luYyh3Yi8qOldvcmtib29rKi8sIG9wdHMvKjo/V3JpdGVPcHRzKi8pIHtcblx0cmVzZXRfY3AoKTtcblx0Y2hlY2tfd2Iod2IpO1xuXHR2YXIgbyA9IGR1cChvcHRzfHx7fSk7XG5cdGlmKG8uY2VsbFN0eWxlcykgeyBvLmNlbGxORiA9IHRydWU7IG8uc2hlZXRTdHVicyA9IHRydWU7IH1cblx0aWYoby50eXBlID09IFwiYXJyYXlcIikgeyBvLnR5cGUgPSBcImJpbmFyeVwiOyB2YXIgb3V0Lyo6c3RyaW5nKi8gPSAod3JpdGVTeW5jKHdiLCBvKS8qOmFueSovKTsgby50eXBlID0gXCJhcnJheVwiOyByZXR1cm4gczJhYihvdXQpOyB9XG5cdHZhciBpZHggPSAwO1xuXHRpZihvLnNoZWV0KSB7XG5cdFx0aWYodHlwZW9mIG8uc2hlZXQgPT0gXCJudW1iZXJcIikgaWR4ID0gby5zaGVldDtcblx0XHRlbHNlIGlkeCA9IHdiLlNoZWV0TmFtZXMuaW5kZXhPZihvLnNoZWV0KTtcblx0XHRpZighd2IuU2hlZXROYW1lc1tpZHhdKSB0aHJvdyBuZXcgRXJyb3IoXCJTaGVldCBub3QgZm91bmQ6IFwiICsgby5zaGVldCArIFwiIDogXCIgKyAodHlwZW9mIG8uc2hlZXQpKTtcblx0fVxuXHRzd2l0Y2goby5ib29rVHlwZSB8fCAneGxzYicpIHtcblx0XHRjYXNlICd4bWwnOlxuXHRcdGNhc2UgJ3hsbWwnOiByZXR1cm4gd3JpdGVfc3RyaW5nX3R5cGUod3JpdGVfeGxtbCh3YiwgbyksIG8pO1xuXHRcdGNhc2UgJ3Nsayc6XG5cdFx0Y2FzZSAnc3lsayc6IHJldHVybiB3cml0ZV9zdHJpbmdfdHlwZShTWUxLLmZyb21fc2hlZXQod2IuU2hlZXRzW3diLlNoZWV0TmFtZXNbaWR4XV0sIG8sIHdiKSwgbyk7XG5cdFx0Y2FzZSAnaHRtJzpcblx0XHRjYXNlICdodG1sJzogcmV0dXJuIHdyaXRlX3N0cmluZ190eXBlKHNoZWV0X3RvX2h0bWwod2IuU2hlZXRzW3diLlNoZWV0TmFtZXNbaWR4XV0sIG8pLCBvKTtcblx0XHRjYXNlICd0eHQnOiByZXR1cm4gd3JpdGVfc3R4dF90eXBlKHNoZWV0X3RvX3R4dCh3Yi5TaGVldHNbd2IuU2hlZXROYW1lc1tpZHhdXSwgbyksIG8pO1xuXHRcdGNhc2UgJ2Nzdic6IHJldHVybiB3cml0ZV9zdHJpbmdfdHlwZShzaGVldF90b19jc3Yod2IuU2hlZXRzW3diLlNoZWV0TmFtZXNbaWR4XV0sIG8pLCBvLCBcIlxcdWZlZmZcIik7XG5cdFx0Y2FzZSAnZGlmJzogcmV0dXJuIHdyaXRlX3N0cmluZ190eXBlKERJRi5mcm9tX3NoZWV0KHdiLlNoZWV0c1t3Yi5TaGVldE5hbWVzW2lkeF1dLCBvKSwgbyk7XG5cdFx0Y2FzZSAnZGJmJzogcmV0dXJuIHdyaXRlX2JpbmFyeV90eXBlKERCRi5mcm9tX3NoZWV0KHdiLlNoZWV0c1t3Yi5TaGVldE5hbWVzW2lkeF1dLCBvKSwgbyk7XG5cdFx0Y2FzZSAncHJuJzogcmV0dXJuIHdyaXRlX3N0cmluZ190eXBlKFBSTi5mcm9tX3NoZWV0KHdiLlNoZWV0c1t3Yi5TaGVldE5hbWVzW2lkeF1dLCBvKSwgbyk7XG5cdFx0Y2FzZSAncnRmJzogcmV0dXJuIHdyaXRlX3N0cmluZ190eXBlKHNoZWV0X3RvX3J0Zih3Yi5TaGVldHNbd2IuU2hlZXROYW1lc1tpZHhdXSwgbyksIG8pO1xuXHRcdGNhc2UgJ2V0aCc6IHJldHVybiB3cml0ZV9zdHJpbmdfdHlwZShFVEguZnJvbV9zaGVldCh3Yi5TaGVldHNbd2IuU2hlZXROYW1lc1tpZHhdXSwgbyksIG8pO1xuXHRcdGNhc2UgJ2ZvZHMnOiByZXR1cm4gd3JpdGVfc3RyaW5nX3R5cGUod3JpdGVfb2RzKHdiLCBvKSwgbyk7XG5cdFx0Y2FzZSAnd2sxJzogcmV0dXJuIHdyaXRlX2JpbmFyeV90eXBlKFdLXy5zaGVldF90b193azEod2IuU2hlZXRzW3diLlNoZWV0TmFtZXNbaWR4XV0sIG8pLCBvKTtcblx0XHRjYXNlICd3azMnOiByZXR1cm4gd3JpdGVfYmluYXJ5X3R5cGUoV0tfLmJvb2tfdG9fd2szKHdiLCBvKSwgbyk7XG5cdFx0Y2FzZSAnYmlmZjInOiBpZighby5iaWZmKSBvLmJpZmYgPSAyOyAvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0Y2FzZSAnYmlmZjMnOiBpZighby5iaWZmKSBvLmJpZmYgPSAzOyAvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0Y2FzZSAnYmlmZjQnOiBpZighby5iaWZmKSBvLmJpZmYgPSA0OyByZXR1cm4gd3JpdGVfYmluYXJ5X3R5cGUod3JpdGVfYmlmZl9idWYod2IsIG8pLCBvKTtcblx0XHRjYXNlICdiaWZmNSc6IGlmKCFvLmJpZmYpIG8uYmlmZiA9IDU7IC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRjYXNlICdiaWZmOCc6XG5cdFx0Y2FzZSAneGxhJzpcblx0XHRjYXNlICd4bHMnOiBpZighby5iaWZmKSBvLmJpZmYgPSA4OyByZXR1cm4gd3JpdGVfY2ZiX3R5cGUod2IsIG8pO1xuXHRcdGNhc2UgJ3hsc3gnOlxuXHRcdGNhc2UgJ3hsc20nOlxuXHRcdGNhc2UgJ3hsYW0nOlxuXHRcdGNhc2UgJ3hsc2InOlxuXHRcdGNhc2UgJ251bWJlcnMnOlxuXHRcdGNhc2UgJ29kcyc6IHJldHVybiB3cml0ZV96aXBfdHlwZSh3Yiwgbyk7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yIChcIlVucmVjb2duaXplZCBib29rVHlwZSB8XCIgKyBvLmJvb2tUeXBlICsgXCJ8XCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVfYm9va190eXBlKG8vKjpXcml0ZUZpbGVPcHRzKi8pIHtcblx0aWYoby5ib29rVHlwZSkgcmV0dXJuO1xuXHR2YXIgX0JUID0ge1xuXHRcdFwieGxzXCI6IFwiYmlmZjhcIixcblx0XHRcImh0bVwiOiBcImh0bWxcIixcblx0XHRcInNsa1wiOiBcInN5bGtcIixcblx0XHRcInNvY2lhbGNhbGNcIjogXCJldGhcIixcblx0XHRcIlNoMzN0SlNcIjogXCJXVEZcIlxuXHR9O1xuXHR2YXIgZXh0ID0gby5maWxlLnNsaWNlKG8uZmlsZS5sYXN0SW5kZXhPZihcIi5cIikpLnRvTG93ZXJDYXNlKCk7XG5cdGlmKGV4dC5tYXRjaCgvXlxcLlthLXpdKyQvKSkgby5ib29rVHlwZSA9IGV4dC5zbGljZSgxKTtcblx0by5ib29rVHlwZSA9IF9CVFtvLmJvb2tUeXBlXSB8fCBvLmJvb2tUeXBlO1xufVxuXG5mdW5jdGlvbiB3cml0ZUZpbGVTeW5jKHdiLyo6V29ya2Jvb2sqLywgZmlsZW5hbWUvKjpzdHJpbmcqLywgb3B0cy8qOj9Xcml0ZUZpbGVPcHRzKi8pIHtcblx0dmFyIG8gPSBvcHRzfHx7fTsgby50eXBlID0gJ2ZpbGUnO1xuXHRvLmZpbGUgPSBmaWxlbmFtZTtcblx0cmVzb2x2ZV9ib29rX3R5cGUobyk7XG5cdHJldHVybiB3cml0ZVN5bmMod2IsIG8pO1xufVxuXG5mdW5jdGlvbiB3cml0ZUZpbGVTeW5jWExTWCh3Yi8qOldvcmtib29rKi8sIGZpbGVuYW1lLyo6c3RyaW5nKi8sIG9wdHMvKjo/V3JpdGVGaWxlT3B0cyovKSB7XG5cdHZhciBvID0gb3B0c3x8e307IG8udHlwZSA9ICdmaWxlJztcblx0by5maWxlID0gZmlsZW5hbWU7XG5cdHJlc29sdmVfYm9va190eXBlKG8pO1xuXHRyZXR1cm4gd3JpdGVTeW5jWExTWCh3Yiwgbyk7XG59XG5cblxuZnVuY3Rpb24gd3JpdGVGaWxlQXN5bmMoZmlsZW5hbWUvKjpzdHJpbmcqLywgd2IvKjpXb3JrYm9vayovLCBvcHRzLyo6P1dyaXRlRmlsZU9wdHMqLywgY2IvKjo/KGU/OkVycm5vRXJyb3IpPT52b2lkKi8pIHtcblx0dmFyIG8gPSBvcHRzfHx7fTsgby50eXBlID0gJ2ZpbGUnO1xuXHRvLmZpbGUgPSBmaWxlbmFtZTtcblx0cmVzb2x2ZV9ib29rX3R5cGUobyk7XG5cdG8udHlwZSA9ICdidWZmZXInO1xuXHR2YXIgX2NiID0gY2I7IGlmKCEoX2NiIGluc3RhbmNlb2YgRnVuY3Rpb24pKSBfY2IgPSAob3B0cy8qOmFueSovKTtcblx0cmV0dXJuIF9mcy53cml0ZUZpbGUoZmlsZW5hbWUsIHdyaXRlU3luYyh3YiwgbyksIF9jYik7XG59XG4vKjo6XG50eXBlIE1KUk9iamVjdCA9IHtcblx0cm93OiBhbnk7XG5cdGlzZW1wdHk6IGJvb2xlYW47XG59O1xuKi9cbmZ1bmN0aW9uIG1ha2VfanNvbl9yb3coc2hlZXQvKjpXb3Jrc2hlZXQqLywgci8qOlJhbmdlKi8sIFIvKjpudW1iZXIqLywgY29scy8qOkFycmF5PHN0cmluZz4qLywgaGVhZGVyLyo6bnVtYmVyKi8sIGhkci8qOkFycmF5PGFueT4qLywgby8qOlNoZWV0MkpTT05PcHRzKi8pLyo6TUpST2JqZWN0Ki8ge1xuXHR2YXIgcnIgPSBlbmNvZGVfcm93KFIpO1xuXHR2YXIgZGVmdmFsID0gby5kZWZ2YWwsIHJhdyA9IG8ucmF3IHx8ICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgXCJyYXdcIik7XG5cdHZhciBpc2VtcHR5ID0gdHJ1ZSwgZGVuc2UgPSAoc2hlZXRbXCIhZGF0YVwiXSAhPSBudWxsKTtcblx0dmFyIHJvdy8qOmFueSovID0gKGhlYWRlciA9PT0gMSkgPyBbXSA6IHt9O1xuXHRpZihoZWFkZXIgIT09IDEpIHtcblx0XHRpZihPYmplY3QuZGVmaW5lUHJvcGVydHkpIHRyeSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3csICdfX3Jvd051bV9fJywge3ZhbHVlOlIsIGVudW1lcmFibGU6ZmFsc2V9KTsgfSBjYXRjaChlKSB7IHJvdy5fX3Jvd051bV9fID0gUjsgfVxuXHRcdGVsc2Ugcm93Ll9fcm93TnVtX18gPSBSO1xuXHR9XG5cdGlmKCFkZW5zZSB8fCBzaGVldFtcIiFkYXRhXCJdW1JdKSBmb3IgKHZhciBDID0gci5zLmM7IEMgPD0gci5lLmM7ICsrQykge1xuXHRcdHZhciB2YWwgPSBkZW5zZSA/IChzaGVldFtcIiFkYXRhXCJdW1JdfHxbXSlbQ10gOiBzaGVldFtjb2xzW0NdICsgcnJdO1xuXHRcdGlmKHZhbCA9PSBudWxsIHx8IHZhbC50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmKGRlZnZhbCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcblx0XHRcdGlmKGhkcltDXSAhPSBudWxsKSB7IHJvd1toZHJbQ11dID0gZGVmdmFsOyB9XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0dmFyIHYgPSB2YWwudjtcblx0XHRzd2l0Y2godmFsLnQpe1xuXHRcdFx0Y2FzZSAneic6IGlmKHYgPT0gbnVsbCkgYnJlYWs7IGNvbnRpbnVlO1xuXHRcdFx0Y2FzZSAnZSc6IHYgPSAodiA9PSAwID8gbnVsbCA6IHZvaWQgMCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAncyc6IGNhc2UgJ2InOlxuXHRcdFx0Y2FzZSAnbic6IGlmKCF2YWwueiB8fCAhZm10X2lzX2RhdGUodmFsLnopKSBicmVhaztcblx0XHRcdHYgPSBudW1kYXRlKHYpOyAvLyBUT0RPOiBkYXRlMTkwNCBzZXR0aW5nIHNob3VsZCBhbHNvIGJlIHN0b3JlZCBpbiB3b3Jrc2hlZXQgb2JqZWN0XG5cdFx0XHRpZih0eXBlb2YgdiA9PSBcIm51bWJlclwiKSBicmVhaztcblx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJ2QnOiBpZighKG8gJiYgKG8uVVRDfHwoby5yYXcgPT09IGZhbHNlKSkpKSB2ID0gdXRjX3RvX2xvY2FsKG5ldyBEYXRlKHYpKTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCB0eXBlICcgKyB2YWwudCk7XG5cdFx0fVxuXHRcdGlmKGhkcltDXSAhPSBudWxsKSB7XG5cdFx0XHRpZih2ID09IG51bGwpIHtcblx0XHRcdFx0aWYodmFsLnQgPT0gXCJlXCIgJiYgdiA9PT0gbnVsbCkgcm93W2hkcltDXV0gPSBudWxsO1xuXHRcdFx0XHRlbHNlIGlmKGRlZnZhbCAhPT0gdW5kZWZpbmVkKSByb3dbaGRyW0NdXSA9IGRlZnZhbDtcblx0XHRcdFx0ZWxzZSBpZihyYXcgJiYgdiA9PT0gbnVsbCkgcm93W2hkcltDXV0gPSBudWxsO1xuXHRcdFx0XHRlbHNlIGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cm93W2hkcltDXV0gPSAodmFsLnQgPT09ICduJyAmJiB0eXBlb2Ygby5yYXdOdW1iZXJzID09PSAnYm9vbGVhbicgPyBvLnJhd051bWJlcnMgOiByYXcpID8gdiA6IGZvcm1hdF9jZWxsKHZhbCwgdiwgbyk7XG5cdFx0XHR9XG5cdFx0XHRpZih2ICE9IG51bGwpIGlzZW1wdHkgPSBmYWxzZTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHsgcm93OiByb3csIGlzZW1wdHk6IGlzZW1wdHkgfTtcbn1cblxuXG5mdW5jdGlvbiBzaGVldF90b19qc29uKHNoZWV0Lyo6V29ya3NoZWV0Ki8sIG9wdHMvKjo/U2hlZXQySlNPTk9wdHMqLykge1xuXHRpZihzaGVldCA9PSBudWxsIHx8IHNoZWV0W1wiIXJlZlwiXSA9PSBudWxsKSByZXR1cm4gW107XG5cdHZhciB2YWwgPSB7dDonbicsdjowfSwgaGVhZGVyID0gMCwgb2Zmc2V0ID0gMSwgaGRyLyo6QXJyYXk8YW55PiovID0gW10sIHY9MCwgdnY9XCJcIjtcblx0dmFyIHIgPSB7czp7cjowLGM6MH0sZTp7cjowLGM6MH19O1xuXHR2YXIgbyA9IG9wdHMgfHwge307XG5cdHZhciByYW5nZSA9IG8ucmFuZ2UgIT0gbnVsbCA/IG8ucmFuZ2UgOiBzaGVldFtcIiFyZWZcIl07XG5cdGlmKG8uaGVhZGVyID09PSAxKSBoZWFkZXIgPSAxO1xuXHRlbHNlIGlmKG8uaGVhZGVyID09PSBcIkFcIikgaGVhZGVyID0gMjtcblx0ZWxzZSBpZihBcnJheS5pc0FycmF5KG8uaGVhZGVyKSkgaGVhZGVyID0gMztcblx0ZWxzZSBpZihvLmhlYWRlciA9PSBudWxsKSBoZWFkZXIgPSAwO1xuXHRzd2l0Y2godHlwZW9mIHJhbmdlKSB7XG5cdFx0Y2FzZSAnc3RyaW5nJzogciA9IHNhZmVfZGVjb2RlX3JhbmdlKHJhbmdlKTsgYnJlYWs7XG5cdFx0Y2FzZSAnbnVtYmVyJzogciA9IHNhZmVfZGVjb2RlX3JhbmdlKHNoZWV0W1wiIXJlZlwiXSk7IHIucy5yID0gcmFuZ2U7IGJyZWFrO1xuXHRcdGRlZmF1bHQ6IHIgPSByYW5nZTtcblx0fVxuXHRpZihoZWFkZXIgPiAwKSBvZmZzZXQgPSAwO1xuXHR2YXIgcnIgPSBlbmNvZGVfcm93KHIucy5yKTtcblx0dmFyIGNvbHMvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0dmFyIG91dC8qOkFycmF5PGFueT4qLyA9IFtdO1xuXHR2YXIgb3V0aSA9IDAsIGNvdW50ZXIgPSAwO1xuXHR2YXIgZGVuc2UgPSBzaGVldFtcIiFkYXRhXCJdICE9IG51bGw7XG5cdHZhciBSID0gci5zLnIsIEMgPSAwO1xuXHR2YXIgaGVhZGVyX2NudCA9IHt9O1xuXHRpZihkZW5zZSAmJiAhc2hlZXRbXCIhZGF0YVwiXVtSXSkgc2hlZXRbXCIhZGF0YVwiXVtSXSA9IFtdO1xuXHR2YXIgY29saW5mby8qOkFycmF5PENvbEluZm8+Ki8gPSBvLnNraXBIaWRkZW4gJiYgc2hlZXRbXCIhY29sc1wiXSB8fCBbXTtcblx0dmFyIHJvd2luZm8vKjpBcnJheTxDb2xJbmZvPiovID0gby5za2lwSGlkZGVuICYmIHNoZWV0W1wiIXJvd3NcIl0gfHwgW107XG5cdGZvcihDID0gci5zLmM7IEMgPD0gci5lLmM7ICsrQykge1xuXHRcdGlmKCgoY29saW5mb1tDXXx8e30pLmhpZGRlbikpIGNvbnRpbnVlO1xuXHRcdGNvbHNbQ10gPSBlbmNvZGVfY29sKEMpO1xuXHRcdHZhbCA9IGRlbnNlID8gc2hlZXRbXCIhZGF0YVwiXVtSXVtDXSA6IHNoZWV0W2NvbHNbQ10gKyBycl07XG5cdFx0c3dpdGNoKGhlYWRlcikge1xuXHRcdFx0Y2FzZSAxOiBoZHJbQ10gPSBDIC0gci5zLmM7IGJyZWFrO1xuXHRcdFx0Y2FzZSAyOiBoZHJbQ10gPSBjb2xzW0NdOyBicmVhaztcblx0XHRcdGNhc2UgMzogaGRyW0NdID0gby5oZWFkZXJbQyAtIHIucy5jXTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRpZih2YWwgPT0gbnVsbCkgdmFsID0ge3c6IFwiX19FTVBUWVwiLCB0OiBcInNcIn07XG5cdFx0XHRcdHZ2ID0gdiA9IGZvcm1hdF9jZWxsKHZhbCwgbnVsbCwgbyk7XG5cdFx0XHRcdGNvdW50ZXIgPSBoZWFkZXJfY250W3ZdIHx8IDA7XG5cdFx0XHRcdGlmKCFjb3VudGVyKSBoZWFkZXJfY250W3ZdID0gMTtcblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0ZG8geyB2diA9IHYgKyBcIl9cIiArIChjb3VudGVyKyspOyB9IHdoaWxlKGhlYWRlcl9jbnRbdnZdKTsgaGVhZGVyX2NudFt2XSA9IGNvdW50ZXI7XG5cdFx0XHRcdFx0aGVhZGVyX2NudFt2dl0gPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGhkcltDXSA9IHZ2O1xuXHRcdH1cblx0fVxuXHRmb3IgKFIgPSByLnMuciArIG9mZnNldDsgUiA8PSByLmUucjsgKytSKSB7XG5cdFx0aWYgKChyb3dpbmZvW1JdfHx7fSkuaGlkZGVuKSBjb250aW51ZTtcblx0XHR2YXIgcm93ID0gbWFrZV9qc29uX3JvdyhzaGVldCwgciwgUiwgY29scywgaGVhZGVyLCBoZHIsIG8pO1xuXHRcdGlmKChyb3cuaXNlbXB0eSA9PT0gZmFsc2UpIHx8IChoZWFkZXIgPT09IDEgPyBvLmJsYW5rcm93cyAhPT0gZmFsc2UgOiAhIW8uYmxhbmtyb3dzKSkgb3V0W291dGkrK10gPSByb3cucm93O1xuXHR9XG5cdG91dC5sZW5ndGggPSBvdXRpO1xuXHRyZXR1cm4gb3V0O1xufVxuXG52YXIgcXJlZyA9IC9cIi9nO1xuZnVuY3Rpb24gbWFrZV9jc3Zfcm93KHNoZWV0Lyo6V29ya3NoZWV0Ki8sIHIvKjpSYW5nZSovLCBSLyo6bnVtYmVyKi8sIGNvbHMvKjpBcnJheTxzdHJpbmc+Ki8sIGZzLyo6bnVtYmVyKi8sIHJzLyo6bnVtYmVyKi8sIEZTLyo6c3RyaW5nKi8sIHcvKjpudW1iZXIqLywgby8qOlNoZWV0MkNTVk9wdHMqLykvKjo/c3RyaW5nKi8ge1xuXHR2YXIgaXNlbXB0eSA9IHRydWU7XG5cdHZhciByb3cvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXSwgdHh0ID0gXCJcIiwgcnIgPSBlbmNvZGVfcm93KFIpO1xuXHR2YXIgZGVuc2UgPSBzaGVldFtcIiFkYXRhXCJdICE9IG51bGw7XG5cdHZhciBkYXRhcm93ID0gZGVuc2UgJiYgc2hlZXRbXCIhZGF0YVwiXVtSXSB8fCBbXTtcblx0Zm9yKHZhciBDID0gci5zLmM7IEMgPD0gci5lLmM7ICsrQykge1xuXHRcdGlmICghY29sc1tDXSkgY29udGludWU7XG5cdFx0dmFyIHZhbCA9IGRlbnNlID8gZGF0YXJvd1tDXTogc2hlZXRbY29sc1tDXSArIHJyXTtcblx0XHRpZih2YWwgPT0gbnVsbCkgdHh0ID0gXCJcIjtcblx0XHRlbHNlIGlmKHZhbC52ICE9IG51bGwpIHtcblx0XHRcdGlzZW1wdHkgPSBmYWxzZTtcblx0XHRcdHR4dCA9ICcnKyhvLnJhd051bWJlcnMgJiYgdmFsLnQgPT0gXCJuXCIgPyB2YWwudiA6IGZvcm1hdF9jZWxsKHZhbCwgbnVsbCwgbykpO1xuXHRcdFx0Zm9yKHZhciBpID0gMCwgY2MgPSAwOyBpICE9PSB0eHQubGVuZ3RoOyArK2kpIGlmKChjYyA9IHR4dC5jaGFyQ29kZUF0KGkpKSA9PT0gZnMgfHwgY2MgPT09IHJzIHx8IGNjID09PSAzNCB8fCBvLmZvcmNlUXVvdGVzKSB7dHh0ID0gXCJcXFwiXCIgKyB0eHQucmVwbGFjZShxcmVnLCAnXCJcIicpICsgXCJcXFwiXCI7IGJyZWFrOyB9XG5cdFx0XHRpZih0eHQgPT0gXCJJRFwiICYmIHcgPT0gMCAmJiByb3cubGVuZ3RoID09IDApIHR4dCA9ICdcIklEXCInO1xuXHRcdH0gZWxzZSBpZih2YWwuZiAhPSBudWxsICYmICF2YWwuRikge1xuXHRcdFx0aXNlbXB0eSA9IGZhbHNlO1xuXHRcdFx0dHh0ID0gJz0nICsgdmFsLmY7IGlmKHR4dC5pbmRleE9mKFwiLFwiKSA+PSAwKSB0eHQgPSAnXCInICsgdHh0LnJlcGxhY2UocXJlZywgJ1wiXCInKSArICdcIic7XG5cdFx0fSBlbHNlIHR4dCA9IFwiXCI7XG5cdFx0LyogTk9URTogRXhjZWwgQ1NWIGRvZXMgbm90IHN1cHBvcnQgYXJyYXkgZm9ybXVsYWUgKi9cblx0XHRyb3cucHVzaCh0eHQpO1xuXHR9XG5cdGlmKG8uc3RyaXApIHdoaWxlKHJvd1tyb3cubGVuZ3RoIC0gMV0gPT09IFwiXCIpIC0tcm93Lmxlbmd0aDtcblx0aWYoby5ibGFua3Jvd3MgPT09IGZhbHNlICYmIGlzZW1wdHkpIHJldHVybiBudWxsO1xuXHRyZXR1cm4gcm93LmpvaW4oRlMpO1xufVxuXG5mdW5jdGlvbiBzaGVldF90b19jc3Yoc2hlZXQvKjpXb3Jrc2hlZXQqLywgb3B0cy8qOj9TaGVldDJDU1ZPcHRzKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgb3V0Lyo6QXJyYXk8c3RyaW5nPiovID0gW107XG5cdHZhciBvID0gb3B0cyA9PSBudWxsID8ge30gOiBvcHRzO1xuXHRpZihzaGVldCA9PSBudWxsIHx8IHNoZWV0W1wiIXJlZlwiXSA9PSBudWxsKSByZXR1cm4gXCJcIjtcblx0dmFyIHIgPSBzYWZlX2RlY29kZV9yYW5nZShzaGVldFtcIiFyZWZcIl0pO1xuXHR2YXIgRlMgPSBvLkZTICE9PSB1bmRlZmluZWQgPyBvLkZTIDogXCIsXCIsIGZzID0gRlMuY2hhckNvZGVBdCgwKTtcblx0dmFyIFJTID0gby5SUyAhPT0gdW5kZWZpbmVkID8gby5SUyA6IFwiXFxuXCIsIHJzID0gUlMuY2hhckNvZGVBdCgwKTtcblx0dmFyIHJvdyA9IFwiXCIsIGNvbHMvKjpBcnJheTxzdHJpbmc+Ki8gPSBbXTtcblx0dmFyIGNvbGluZm8vKjpBcnJheTxDb2xJbmZvPiovID0gby5za2lwSGlkZGVuICYmIHNoZWV0W1wiIWNvbHNcIl0gfHwgW107XG5cdHZhciByb3dpbmZvLyo6QXJyYXk8Q29sSW5mbz4qLyA9IG8uc2tpcEhpZGRlbiAmJiBzaGVldFtcIiFyb3dzXCJdIHx8IFtdO1xuXHRmb3IodmFyIEMgPSByLnMuYzsgQyA8PSByLmUuYzsgKytDKSBpZiAoISgoY29saW5mb1tDXXx8e30pLmhpZGRlbikpIGNvbHNbQ10gPSBlbmNvZGVfY29sKEMpO1xuXHR2YXIgdyA9IDA7XG5cdGZvcih2YXIgUiA9IHIucy5yOyBSIDw9IHIuZS5yOyArK1IpIHtcblx0XHRpZiAoKHJvd2luZm9bUl18fHt9KS5oaWRkZW4pIGNvbnRpbnVlO1xuXHRcdHJvdyA9IG1ha2VfY3N2X3JvdyhzaGVldCwgciwgUiwgY29scywgZnMsIHJzLCBGUywgdywgbyk7XG5cdFx0aWYocm93ID09IG51bGwpIHsgY29udGludWU7IH1cblx0XHRpZihyb3cgfHwgKG8uYmxhbmtyb3dzICE9PSBmYWxzZSkpIG91dC5wdXNoKCh3KysgPyBSUyA6IFwiXCIpICsgcm93KTtcblx0fVxuXHRyZXR1cm4gb3V0LmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIHNoZWV0X3RvX3R4dChzaGVldC8qOldvcmtzaGVldCovLCBvcHRzLyo6P1NoZWV0MkNTVk9wdHMqLykge1xuXHRpZighb3B0cykgb3B0cyA9IHt9OyBvcHRzLkZTID0gXCJcXHRcIjsgb3B0cy5SUyA9IFwiXFxuXCI7XG5cdHZhciBzID0gc2hlZXRfdG9fY3N2KHNoZWV0LCBvcHRzKTtcblx0aWYodHlwZW9mICRjcHRhYmxlID09ICd1bmRlZmluZWQnIHx8IG9wdHMudHlwZSA9PSAnc3RyaW5nJykgcmV0dXJuIHM7XG5cdHZhciBvID0gJGNwdGFibGUudXRpbHMuZW5jb2RlKDEyMDAsIHMsICdzdHInKTtcblx0cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoMjU1KSArIFN0cmluZy5mcm9tQ2hhckNvZGUoMjU0KSArIG87XG59XG5cbmZ1bmN0aW9uIHNoZWV0X3RvX2Zvcm11bGFlKHNoZWV0Lyo6V29ya3NoZWV0Ki8sIG9wdHMvKjo/U2hlZXQyRm9ybXVsYU9wdHMqLykvKjpBcnJheTxzdHJpbmc+Ki8ge1xuXHR2YXIgeSA9IFwiXCIsIHgsIHZhbD1cIlwiO1xuXHRpZihzaGVldCA9PSBudWxsIHx8IHNoZWV0W1wiIXJlZlwiXSA9PSBudWxsKSByZXR1cm4gW107XG5cdHZhciByID0gc2FmZV9kZWNvZGVfcmFuZ2Uoc2hlZXRbJyFyZWYnXSksIHJyID0gXCJcIiwgY29scy8qOkFycmF5PHN0cmluZz4qLyA9IFtdLCBDO1xuXHR2YXIgY21kcy8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHR2YXIgZGVuc2UgPSBzaGVldFtcIiFkYXRhXCJdICE9IG51bGw7XG5cdGZvcihDID0gci5zLmM7IEMgPD0gci5lLmM7ICsrQykgY29sc1tDXSA9IGVuY29kZV9jb2woQyk7XG5cdGZvcih2YXIgUiA9IHIucy5yOyBSIDw9IHIuZS5yOyArK1IpIHtcblx0XHRyciA9IGVuY29kZV9yb3coUik7XG5cdFx0Zm9yKEMgPSByLnMuYzsgQyA8PSByLmUuYzsgKytDKSB7XG5cdFx0XHR5ID0gY29sc1tDXSArIHJyO1xuXHRcdFx0eCA9IGRlbnNlID8gKHNoZWV0W1wiIWRhdGFcIl1bUl18fFtdKVtDXSA6IHNoZWV0W3ldO1xuXHRcdFx0dmFsID0gXCJcIjtcblx0XHRcdGlmKHggPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cdFx0XHRlbHNlIGlmKHguRiAhPSBudWxsKSB7XG5cdFx0XHRcdHkgPSB4LkY7XG5cdFx0XHRcdGlmKCF4LmYpIGNvbnRpbnVlO1xuXHRcdFx0XHR2YWwgPSB4LmY7XG5cdFx0XHRcdGlmKHkuaW5kZXhPZihcIjpcIikgPT0gLTEpIHkgPSB5ICsgXCI6XCIgKyB5O1xuXHRcdFx0fVxuXHRcdFx0aWYoeC5mICE9IG51bGwpIHZhbCA9IHguZjtcblx0XHRcdGVsc2UgaWYob3B0cyAmJiBvcHRzLnZhbHVlcyA9PT0gZmFsc2UpIGNvbnRpbnVlO1xuXHRcdFx0ZWxzZSBpZih4LnQgPT0gJ3onKSBjb250aW51ZTtcblx0XHRcdGVsc2UgaWYoeC50ID09ICduJyAmJiB4LnYgIT0gbnVsbCkgdmFsID0gXCJcIiArIHgudjtcblx0XHRcdGVsc2UgaWYoeC50ID09ICdiJykgdmFsID0geC52ID8gXCJUUlVFXCIgOiBcIkZBTFNFXCI7XG5cdFx0XHRlbHNlIGlmKHgudyAhPT0gdW5kZWZpbmVkKSB2YWwgPSBcIidcIiArIHgudztcblx0XHRcdGVsc2UgaWYoeC52ID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXHRcdFx0ZWxzZSBpZih4LnQgPT0gJ3MnKSB2YWwgPSBcIidcIiArIHgudjtcblx0XHRcdGVsc2UgdmFsID0gXCJcIit4LnY7XG5cdFx0XHRjbWRzW2NtZHMubGVuZ3RoXSA9IHkgKyBcIj1cIiArIHZhbDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGNtZHM7XG59XG5cbmZ1bmN0aW9uIHNoZWV0X2FkZF9qc29uKF93cy8qOj9Xb3Jrc2hlZXQqLywganMvKjpBcnJheTxhbnk+Ki8sIG9wdHMpLyo6V29ya3NoZWV0Ki8ge1xuXHR2YXIgbyA9IG9wdHMgfHwge307XG5cdHZhciBkZW5zZSA9IF93cyA/IChfd3NbXCIhZGF0YVwiXSAhPSBudWxsKSA6IG8uZGVuc2U7XG5cdGlmKERFTlNFICE9IG51bGwgJiYgZGVuc2UgPT0gbnVsbCkgZGVuc2UgPSBERU5TRTtcblx0dmFyIG9mZnNldCA9ICshby5za2lwSGVhZGVyO1xuXHR2YXIgd3MvKjpXb3Jrc2hlZXQqLyA9IF93cyB8fCAoe30pO1xuXHRpZighX3dzICYmIGRlbnNlKSB3c1tcIiFkYXRhXCJdID0gW107XG5cdHZhciBfUiA9IDAsIF9DID0gMDtcblx0aWYod3MgJiYgby5vcmlnaW4gIT0gbnVsbCkge1xuXHRcdGlmKHR5cGVvZiBvLm9yaWdpbiA9PSAnbnVtYmVyJykgX1IgPSBvLm9yaWdpbjtcblx0XHRlbHNlIHtcblx0XHRcdHZhciBfb3JpZ2luLyo6Q2VsbEFkZHJlc3MqLyA9IHR5cGVvZiBvLm9yaWdpbiA9PSBcInN0cmluZ1wiID8gZGVjb2RlX2NlbGwoby5vcmlnaW4pIDogby5vcmlnaW47XG5cdFx0XHRfUiA9IF9vcmlnaW4ucjsgX0MgPSBfb3JpZ2luLmM7XG5cdFx0fVxuXHR9XG5cdHZhciByYW5nZS8qOlJhbmdlKi8gPSAoe3M6IHtjOjAsIHI6MH0sIGU6IHtjOl9DLCByOl9SICsganMubGVuZ3RoIC0gMSArIG9mZnNldH19Lyo6YW55Ki8pO1xuXHRpZih3c1snIXJlZiddKSB7XG5cdFx0dmFyIF9yYW5nZSA9IHNhZmVfZGVjb2RlX3JhbmdlKHdzWychcmVmJ10pO1xuXHRcdHJhbmdlLmUuYyA9IE1hdGgubWF4KHJhbmdlLmUuYywgX3JhbmdlLmUuYyk7XG5cdFx0cmFuZ2UuZS5yID0gTWF0aC5tYXgocmFuZ2UuZS5yLCBfcmFuZ2UuZS5yKTtcblx0XHRpZihfUiA9PSAtMSkgeyBfUiA9IF9yYW5nZS5lLnIgKyAxOyByYW5nZS5lLnIgPSBfUiArIGpzLmxlbmd0aCAtIDEgKyBvZmZzZXQ7IH1cblx0fSBlbHNlIHtcblx0XHRpZihfUiA9PSAtMSkgeyBfUiA9IDA7IHJhbmdlLmUuciA9IGpzLmxlbmd0aCAtIDEgKyBvZmZzZXQ7IH1cblx0fVxuXHR2YXIgaGRyLyo6QXJyYXk8c3RyaW5nPiovID0gby5oZWFkZXIgfHwgW10sIEMgPSAwO1xuXHR2YXIgUk9XID0gW107XG5cdGpzLmZvckVhY2goZnVuY3Rpb24gKEpTLCBSLyo6bnVtYmVyKi8pIHtcblx0XHRpZihkZW5zZSAmJiAhd3NbXCIhZGF0YVwiXVtfUiArIFIgKyBvZmZzZXRdKSB3c1tcIiFkYXRhXCJdW19SICsgUiArIG9mZnNldF0gPSBbXTtcblx0XHRpZihkZW5zZSkgUk9XID0gd3NbXCIhZGF0YVwiXVtfUiArIFIgKyBvZmZzZXRdO1xuXHRcdGtleXMoSlMpLmZvckVhY2goZnVuY3Rpb24oaykge1xuXHRcdFx0aWYoKEM9aGRyLmluZGV4T2YoaykpID09IC0xKSBoZHJbQz1oZHIubGVuZ3RoXSA9IGs7XG5cdFx0XHR2YXIgdiA9IEpTW2tdO1xuXHRcdFx0dmFyIHQgPSAneic7XG5cdFx0XHR2YXIgeiA9IFwiXCI7XG5cdFx0XHR2YXIgcmVmID0gZGVuc2UgPyBcIlwiIDogKGVuY29kZV9jb2woX0MgKyBDKSArIGVuY29kZV9yb3coX1IgKyBSICsgb2Zmc2V0KSk7XG5cdFx0XHR2YXIgY2VsbC8qOkNlbGwqLyA9IGRlbnNlID8gUk9XW19DICsgQ10gOiB3c1tyZWZdO1xuXHRcdFx0aWYodiAmJiB0eXBlb2YgdiA9PT0gJ29iamVjdCcgJiYgISh2IGluc3RhbmNlb2YgRGF0ZSkpe1xuXHRcdFx0XHRpZihkZW5zZSkgUk9XW19DICsgQ10gPSB2O1xuXHRcdFx0XHRlbHNlIHdzW3JlZl0gPSB2O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYodHlwZW9mIHYgPT0gJ251bWJlcicpIHQgPSAnbic7XG5cdFx0XHRcdGVsc2UgaWYodHlwZW9mIHYgPT0gJ2Jvb2xlYW4nKSB0ID0gJ2InO1xuXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiB2ID09ICdzdHJpbmcnKSB0ID0gJ3MnO1xuXHRcdFx0XHRlbHNlIGlmKHYgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdFx0XHRcdFx0dCA9ICdkJztcblx0XHRcdFx0XHRpZighby5VVEMpIHYgPSBsb2NhbF90b191dGModik7XG5cdFx0XHRcdFx0aWYoIW8uY2VsbERhdGVzKSB7IHQgPSAnbic7IHYgPSBkYXRlbnVtKHYpOyB9XG5cdFx0XHRcdFx0eiA9IChjZWxsICE9IG51bGwgJiYgY2VsbC56ICYmIGZtdF9pc19kYXRlKGNlbGwueikpID8gY2VsbC56IDogKG8uZGF0ZU5GIHx8IHRhYmxlX2ZtdFsxNF0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYodiA9PT0gbnVsbCAmJiBvLm51bGxFcnJvcikgeyB0ID0gJ2UnOyB2ID0gMDsgfVxuXHRcdFx0XHRpZighY2VsbCkge1xuXHRcdFx0XHRcdGlmKCFkZW5zZSkgd3NbcmVmXSA9IGNlbGwgPSAoe3Q6dCwgdjp2fS8qOmFueSovKTtcblx0XHRcdFx0XHRlbHNlIFJPV1tfQyArIENdID0gY2VsbCA9ICh7dDp0LCB2OnZ9Lyo6YW55Ki8pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNlbGwudCA9IHQ7IGNlbGwudiA9IHY7XG5cdFx0XHRcdFx0ZGVsZXRlIGNlbGwudzsgZGVsZXRlIGNlbGwuUjtcblx0XHRcdFx0XHRpZih6KSBjZWxsLnogPSB6O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKHopIGNlbGwueiA9IHo7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRyYW5nZS5lLmMgPSBNYXRoLm1heChyYW5nZS5lLmMsIF9DICsgaGRyLmxlbmd0aCAtIDEpO1xuXHR2YXIgX19SID0gZW5jb2RlX3JvdyhfUik7XG5cdGlmKGRlbnNlICYmICF3c1tcIiFkYXRhXCJdW19SXSkgd3NbXCIhZGF0YVwiXVtfUl0gPSBbXTtcblx0aWYob2Zmc2V0KSBmb3IoQyA9IDA7IEMgPCBoZHIubGVuZ3RoOyArK0MpIHtcblx0XHRpZihkZW5zZSkgd3NbXCIhZGF0YVwiXVtfUl1bQyArIF9DXSA9IHt0OidzJywgdjpoZHJbQ119O1xuXHRcdGVsc2Ugd3NbZW5jb2RlX2NvbChDICsgX0MpICsgX19SXSA9IHt0OidzJywgdjpoZHJbQ119O1xuXHR9XG5cdHdzWychcmVmJ10gPSBlbmNvZGVfcmFuZ2UocmFuZ2UpO1xuXHRyZXR1cm4gd3M7XG59XG5mdW5jdGlvbiBqc29uX3RvX3NoZWV0KGpzLyo6QXJyYXk8YW55PiovLCBvcHRzKS8qOldvcmtzaGVldCovIHsgcmV0dXJuIHNoZWV0X2FkZF9qc29uKG51bGwsIGpzLCBvcHRzKTsgfVxuXG4vKiBnZXQgY2VsbCwgY3JlYXRpbmcgYSBzdHViIGlmIG5lY2Vzc2FyeSAqL1xuZnVuY3Rpb24gd3NfZ2V0X2NlbGxfc3R1Yih3cy8qOldvcmtzaGVldCovLCBSLCBDLyo6P251bWJlciovKS8qOkNlbGwqLyB7XG5cdC8qIEExIGNlbGwgYWRkcmVzcyAqL1xuXHRpZih0eXBlb2YgUiA9PSBcInN0cmluZ1wiKSB7XG5cdFx0aWYod3NbXCIhZGF0YVwiXSAhPSBudWxsKSB7XG5cdFx0XHR2YXIgUkMgPSBkZWNvZGVfY2VsbChSKTtcblx0XHRcdGlmKCF3c1tcIiFkYXRhXCJdW1JDLnJdKSB3c1tcIiFkYXRhXCJdW1JDLnJdID0gW107XG5cdFx0XHRyZXR1cm4gd3NbXCIhZGF0YVwiXVtSQy5yXVtSQy5jXSB8fCAod3NbXCIhZGF0YVwiXVtSQy5yXVtSQy5jXSA9IHt0Oid6J30pO1xuXHRcdH1cblx0XHRyZXR1cm4gd3NbUl0gfHwgKHdzW1JdID0ge3Q6J3onfSk7XG5cdH1cblx0LyogY2VsbCBhZGRyZXNzIG9iamVjdCAqL1xuXHRpZih0eXBlb2YgUiAhPSBcIm51bWJlclwiKSByZXR1cm4gd3NfZ2V0X2NlbGxfc3R1Yih3cywgZW5jb2RlX2NlbGwoUikpO1xuXHQvKiBSIGFuZCBDIGFyZSAwLWJhc2VkIGluZGljZXMgKi9cblx0cmV0dXJuIHdzX2dldF9jZWxsX3N0dWIod3MsIGVuY29kZV9jb2woQ3x8MCkgKyBlbmNvZGVfcm93KFIpKTtcbn1cblxuLyogZmluZCBzaGVldCBpbmRleCBmb3IgZ2l2ZW4gbmFtZSAvIHZhbGlkYXRlIGluZGV4ICovXG5mdW5jdGlvbiB3Yl9zaGVldF9pZHgod2IvKjpXb3JrYm9vayovLCBzaC8qOm51bWJlcnxzdHJpbmcqLykge1xuXHRpZih0eXBlb2Ygc2ggPT0gXCJudW1iZXJcIikge1xuXHRcdGlmKHNoID49IDAgJiYgd2IuU2hlZXROYW1lcy5sZW5ndGggPiBzaCkgcmV0dXJuIHNoO1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNoZWV0ICMgXCIgKyBzaCk7XG5cdH0gZWxzZSBpZih0eXBlb2Ygc2ggPT0gXCJzdHJpbmdcIikge1xuXHRcdHZhciBpZHggPSB3Yi5TaGVldE5hbWVzLmluZGV4T2Yoc2gpO1xuXHRcdGlmKGlkeCA+IC0xKSByZXR1cm4gaWR4O1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNoZWV0IG5hbWUgfFwiICsgc2ggKyBcInxcIik7XG5cdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzaGVldCB8XCIgKyBzaCArIFwifFwiKTtcbn1cblxuLyogc2ltcGxlIGJsYW5rIG9yIHNpbmdsZS1zaGVldCB3b3JrYm9vayBvYmplY3QgKi9cbmZ1bmN0aW9uIGJvb2tfbmV3KHdzLyo6P1dvcmtzaGVldCovLCB3c25hbWUvKjo/c3RyaW5nKi8pLyo6V29ya2Jvb2sqLyB7XG5cdHZhciB3YiA9IHsgU2hlZXROYW1lczogW10sIFNoZWV0czoge30gfTtcblx0aWYod3MpIGJvb2tfYXBwZW5kX3NoZWV0KHdiLCB3cywgd3NuYW1lIHx8IFwiU2hlZXQxXCIpO1xuXHRyZXR1cm4gd2I7XG59XG5cbi8qIGFkZCBhIHdvcmtzaGVldCB0byB0aGUgZW5kIG9mIGEgZ2l2ZW4gd29ya2Jvb2sgKi9cbmZ1bmN0aW9uIGJvb2tfYXBwZW5kX3NoZWV0KHdiLyo6V29ya2Jvb2sqLywgd3MvKjpXb3Jrc2hlZXQqLywgbmFtZS8qOj9zdHJpbmcqLywgcm9sbC8qOj9ib29sZWFuKi8pLyo6c3RyaW5nKi8ge1xuXHR2YXIgaSA9IDE7XG5cdGlmKCFuYW1lKSBmb3IoOyBpIDw9IDB4RkZGRjsgKytpLCBuYW1lID0gdW5kZWZpbmVkKSBpZih3Yi5TaGVldE5hbWVzLmluZGV4T2YobmFtZSA9IFwiU2hlZXRcIiArIGkpID09IC0xKSBicmVhaztcblx0aWYoIW5hbWUgfHwgd2IuU2hlZXROYW1lcy5sZW5ndGggPj0gMHhGRkZGKSB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbWFueSB3b3Jrc2hlZXRzXCIpO1xuXHRpZihyb2xsICYmIHdiLlNoZWV0TmFtZXMuaW5kZXhPZihuYW1lKSA+PSAwICYmIG5hbWUubGVuZ3RoIDwgMzIpIHtcblx0XHR2YXIgbSA9IG5hbWUubWF0Y2goL1xcZCskLyk7IC8vIGF0IHRoaXMgcG9pbnQsIG5hbWUgbGVuZ3RoIGlzIGNhcHBlZCBhdCAzMlxuXHRcdGkgPSBtICYmICttWzBdIHx8IDA7XG5cdFx0dmFyIHJvb3QgPSBtICYmIG5hbWUuc2xpY2UoMCwgbS5pbmRleCkgfHwgbmFtZTtcblx0XHRmb3IoKytpOyBpIDw9IDB4RkZGRjsgKytpKSBpZih3Yi5TaGVldE5hbWVzLmluZGV4T2YobmFtZSA9IHJvb3QgKyBpKSA9PSAtMSkgYnJlYWs7XG5cdH1cblx0Y2hlY2tfd3NfbmFtZShuYW1lKTtcblx0aWYod2IuU2hlZXROYW1lcy5pbmRleE9mKG5hbWUpID49IDApIHRocm93IG5ldyBFcnJvcihcIldvcmtzaGVldCB3aXRoIG5hbWUgfFwiICsgbmFtZSArIFwifCBhbHJlYWR5IGV4aXN0cyFcIik7XG5cblx0d2IuU2hlZXROYW1lcy5wdXNoKG5hbWUpO1xuXHR3Yi5TaGVldHNbbmFtZV0gPSB3cztcblx0cmV0dXJuIG5hbWU7XG59XG5cbi8qIHNldCBzaGVldCB2aXNpYmlsaXR5ICh2aXNpYmxlL2hpZGRlbi92ZXJ5IGhpZGRlbikgKi9cbmZ1bmN0aW9uIGJvb2tfc2V0X3NoZWV0X3Zpc2liaWxpdHkod2IvKjpXb3JrYm9vayovLCBzaC8qOm51bWJlcnxzdHJpbmcqLywgdmlzLyo6bnVtYmVyKi8pIHtcblx0aWYoIXdiLldvcmtib29rKSB3Yi5Xb3JrYm9vayA9IHt9O1xuXHRpZighd2IuV29ya2Jvb2suU2hlZXRzKSB3Yi5Xb3JrYm9vay5TaGVldHMgPSBbXTtcblxuXHR2YXIgaWR4ID0gd2Jfc2hlZXRfaWR4KHdiLCBzaCk7XG5cdC8vICRGbG93SWdub3JlXG5cdGlmKCF3Yi5Xb3JrYm9vay5TaGVldHNbaWR4XSkgd2IuV29ya2Jvb2suU2hlZXRzW2lkeF0gPSB7fTtcblxuXHRzd2l0Y2godmlzKSB7XG5cdFx0Y2FzZSAwOiBjYXNlIDE6IGNhc2UgMjogYnJlYWs7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiQmFkIHNoZWV0IHZpc2liaWxpdHkgc2V0dGluZyBcIiArIHZpcyk7XG5cdH1cblx0Ly8gJEZsb3dJZ25vcmVcblx0d2IuV29ya2Jvb2suU2hlZXRzW2lkeF0uSGlkZGVuID0gdmlzO1xufVxuXG4vKiBzZXQgbnVtYmVyIGZvcm1hdCAqL1xuZnVuY3Rpb24gY2VsbF9zZXRfbnVtYmVyX2Zvcm1hdChjZWxsLyo6Q2VsbCovLCBmbXQvKjpzdHJpbmd8bnVtYmVyKi8pIHtcblx0Y2VsbC56ID0gZm10O1xuXHRyZXR1cm4gY2VsbDtcbn1cblxuLyogc2V0IGNlbGwgaHlwZXJsaW5rICovXG5mdW5jdGlvbiBjZWxsX3NldF9oeXBlcmxpbmsoY2VsbC8qOkNlbGwqLywgdGFyZ2V0Lyo6c3RyaW5nKi8sIHRvb2x0aXAvKjo/c3RyaW5nKi8pIHtcblx0aWYoIXRhcmdldCkge1xuXHRcdGRlbGV0ZSBjZWxsLmw7XG5cdH0gZWxzZSB7XG5cdFx0Y2VsbC5sID0gKHsgVGFyZ2V0OiB0YXJnZXQgfS8qOkh5cGVybGluayovKTtcblx0XHRpZih0b29sdGlwKSBjZWxsLmwuVG9vbHRpcCA9IHRvb2x0aXA7XG5cdH1cblx0cmV0dXJuIGNlbGw7XG59XG5mdW5jdGlvbiBjZWxsX3NldF9pbnRlcm5hbF9saW5rKGNlbGwvKjpDZWxsKi8sIHJhbmdlLyo6c3RyaW5nKi8sIHRvb2x0aXAvKjo/c3RyaW5nKi8pIHsgcmV0dXJuIGNlbGxfc2V0X2h5cGVybGluayhjZWxsLCBcIiNcIiArIHJhbmdlLCB0b29sdGlwKTsgfVxuXG4vKiBhZGQgdG8gY2VsbCBjb21tZW50cyAqL1xuZnVuY3Rpb24gY2VsbF9hZGRfY29tbWVudChjZWxsLyo6Q2VsbCovLCB0ZXh0Lyo6c3RyaW5nKi8sIGF1dGhvci8qOj9zdHJpbmcqLykge1xuXHRpZighY2VsbC5jKSBjZWxsLmMgPSBbXTtcblx0Y2VsbC5jLnB1c2goe3Q6dGV4dCwgYTphdXRob3J8fFwiU2hlZXRKU1wifSk7XG59XG5cbi8qIHNldCBhcnJheSBmb3JtdWxhIGFuZCBmbHVzaCByZWxhdGVkIGNlbGxzICovXG5mdW5jdGlvbiBzaGVldF9zZXRfYXJyYXlfZm9ybXVsYSh3cy8qOldvcmtzaGVldCovLCByYW5nZSwgZm9ybXVsYS8qOnN0cmluZyovLCBkeW5hbWljLyo6Ym9vbGVhbiovKSB7XG5cdHZhciBybmcgPSB0eXBlb2YgcmFuZ2UgIT0gXCJzdHJpbmdcIiA/IHJhbmdlIDogc2FmZV9kZWNvZGVfcmFuZ2UocmFuZ2UpO1xuXHR2YXIgcm5nc3RyID0gdHlwZW9mIHJhbmdlID09IFwic3RyaW5nXCIgPyByYW5nZSA6IGVuY29kZV9yYW5nZShyYW5nZSk7XG5cdGZvcih2YXIgUiA9IHJuZy5zLnI7IFIgPD0gcm5nLmUucjsgKytSKSBmb3IodmFyIEMgPSBybmcucy5jOyBDIDw9IHJuZy5lLmM7ICsrQykge1xuXHRcdHZhciBjZWxsID0gd3NfZ2V0X2NlbGxfc3R1Yih3cywgUiwgQyk7XG5cdFx0Y2VsbC50ID0gJ24nO1xuXHRcdGNlbGwuRiA9IHJuZ3N0cjtcblx0XHRkZWxldGUgY2VsbC52O1xuXHRcdGlmKFIgPT0gcm5nLnMuciAmJiBDID09IHJuZy5zLmMpIHtcblx0XHRcdGNlbGwuZiA9IGZvcm11bGE7XG5cdFx0XHRpZihkeW5hbWljKSBjZWxsLkQgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHR2YXIgd3NyID0gZGVjb2RlX3JhbmdlKHdzW1wiIXJlZlwiXSk7XG5cdGlmKHdzci5zLnIgPiBybmcucy5yKSB3c3Iucy5yID0gcm5nLnMucjtcblx0aWYod3NyLnMuYyA+IHJuZy5zLmMpIHdzci5zLmMgPSBybmcucy5jO1xuXHRpZih3c3IuZS5yIDwgcm5nLmUucikgd3NyLmUuciA9IHJuZy5lLnI7XG5cdGlmKHdzci5lLmMgPCBybmcuZS5jKSB3c3IuZS5jID0gcm5nLmUuYztcblx0d3NbXCIhcmVmXCJdID0gZW5jb2RlX3JhbmdlKHdzcik7XG5cdHJldHVybiB3cztcbn1cblxudmFyIHV0aWxzLyo6YW55Ki8gPSB7XG5cdGVuY29kZV9jb2w6IGVuY29kZV9jb2wsXG5cdGVuY29kZV9yb3c6IGVuY29kZV9yb3csXG5cdGVuY29kZV9jZWxsOiBlbmNvZGVfY2VsbCxcblx0ZW5jb2RlX3JhbmdlOiBlbmNvZGVfcmFuZ2UsXG5cdGRlY29kZV9jb2w6IGRlY29kZV9jb2wsXG5cdGRlY29kZV9yb3c6IGRlY29kZV9yb3csXG5cdHNwbGl0X2NlbGw6IHNwbGl0X2NlbGwsXG5cdGRlY29kZV9jZWxsOiBkZWNvZGVfY2VsbCxcblx0ZGVjb2RlX3JhbmdlOiBkZWNvZGVfcmFuZ2UsXG5cdGZvcm1hdF9jZWxsOiBmb3JtYXRfY2VsbCxcblx0c2hlZXRfbmV3OiBzaGVldF9uZXcsXG5cdHNoZWV0X2FkZF9hb2E6IHNoZWV0X2FkZF9hb2EsXG5cdHNoZWV0X2FkZF9qc29uOiBzaGVldF9hZGRfanNvbixcblx0c2hlZXRfYWRkX2RvbTogc2hlZXRfYWRkX2RvbSxcblx0YW9hX3RvX3NoZWV0OiBhb2FfdG9fc2hlZXQsXG5cdGpzb25fdG9fc2hlZXQ6IGpzb25fdG9fc2hlZXQsXG5cdHRhYmxlX3RvX3NoZWV0OiBwYXJzZV9kb21fdGFibGUsXG5cdHRhYmxlX3RvX2Jvb2s6IHRhYmxlX3RvX2Jvb2ssXG5cdHNoZWV0X3RvX2Nzdjogc2hlZXRfdG9fY3N2LFxuXHRzaGVldF90b190eHQ6IHNoZWV0X3RvX3R4dCxcblx0c2hlZXRfdG9fanNvbjogc2hlZXRfdG9fanNvbixcblx0c2hlZXRfdG9faHRtbDogc2hlZXRfdG9faHRtbCxcblx0c2hlZXRfdG9fZm9ybXVsYWU6IHNoZWV0X3RvX2Zvcm11bGFlLFxuXHRzaGVldF90b19yb3dfb2JqZWN0X2FycmF5OiBzaGVldF90b19qc29uLFxuXHRzaGVldF9nZXRfY2VsbDogd3NfZ2V0X2NlbGxfc3R1Yixcblx0Ym9va19uZXc6IGJvb2tfbmV3LFxuXHRib29rX2FwcGVuZF9zaGVldDogYm9va19hcHBlbmRfc2hlZXQsXG5cdGJvb2tfc2V0X3NoZWV0X3Zpc2liaWxpdHk6IGJvb2tfc2V0X3NoZWV0X3Zpc2liaWxpdHksXG5cdGNlbGxfc2V0X251bWJlcl9mb3JtYXQ6IGNlbGxfc2V0X251bWJlcl9mb3JtYXQsXG5cdGNlbGxfc2V0X2h5cGVybGluazogY2VsbF9zZXRfaHlwZXJsaW5rLFxuXHRjZWxsX3NldF9pbnRlcm5hbF9saW5rOiBjZWxsX3NldF9pbnRlcm5hbF9saW5rLFxuXHRjZWxsX2FkZF9jb21tZW50OiBjZWxsX2FkZF9jb21tZW50LFxuXHRzaGVldF9zZXRfYXJyYXlfZm9ybXVsYTogc2hlZXRfc2V0X2FycmF5X2Zvcm11bGEsXG5cdGNvbnN0czoge1xuXHRcdFNIRUVUX1ZJU0lCTEU6IDAsXG5cdFx0U0hFRVRfSElEREVOOiAxLFxuXHRcdFNIRUVUX1ZFUllfSElEREVOOiAyXG5cdH1cbn07XG5cbnZhciBfUmVhZGFibGU7XG5mdW5jdGlvbiBzZXRfcmVhZGFibGUoUikgeyBfUmVhZGFibGUgPSBSOyB9XG5cbmZ1bmN0aW9uIHdyaXRlX2Nzdl9zdHJlYW0oc2hlZXQvKjpXb3Jrc2hlZXQqLywgb3B0cy8qOj9TaGVldDJDU1ZPcHRzKi8pIHtcblx0dmFyIHN0cmVhbSA9IF9SZWFkYWJsZSgpO1xuXHR2YXIgbyA9IG9wdHMgPT0gbnVsbCA/IHt9IDogb3B0cztcblx0aWYoc2hlZXQgPT0gbnVsbCB8fCBzaGVldFtcIiFyZWZcIl0gPT0gbnVsbCkgeyBzdHJlYW0ucHVzaChudWxsKTsgcmV0dXJuIHN0cmVhbTsgfVxuXHR2YXIgciA9IHNhZmVfZGVjb2RlX3JhbmdlKHNoZWV0W1wiIXJlZlwiXSk7XG5cdHZhciBGUyA9IG8uRlMgIT09IHVuZGVmaW5lZCA/IG8uRlMgOiBcIixcIiwgZnMgPSBGUy5jaGFyQ29kZUF0KDApO1xuXHR2YXIgUlMgPSBvLlJTICE9PSB1bmRlZmluZWQgPyBvLlJTIDogXCJcXG5cIiwgcnMgPSBSUy5jaGFyQ29kZUF0KDApO1xuXHR2YXIgcm93Lyo6P3N0cmluZyovID0gXCJcIiwgY29scy8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHR2YXIgY29saW5mby8qOkFycmF5PENvbEluZm8+Ki8gPSBvLnNraXBIaWRkZW4gJiYgc2hlZXRbXCIhY29sc1wiXSB8fCBbXTtcblx0dmFyIHJvd2luZm8vKjpBcnJheTxSb3dJbmZvPiovID0gby5za2lwSGlkZGVuICYmIHNoZWV0W1wiIXJvd3NcIl0gfHwgW107XG5cdGZvcih2YXIgQyA9IHIucy5jOyBDIDw9IHIuZS5jOyArK0MpIGlmICghKChjb2xpbmZvW0NdfHx7fSkuaGlkZGVuKSkgY29sc1tDXSA9IGVuY29kZV9jb2woQyk7XG5cdHZhciBSID0gci5zLnI7XG5cdHZhciBCT00gPSBmYWxzZSwgdyA9IDA7XG5cdHN0cmVhbS5fcmVhZCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmKCFCT00pIHsgQk9NID0gdHJ1ZTsgcmV0dXJuIHN0cmVhbS5wdXNoKFwiXFx1RkVGRlwiKTsgfVxuXHRcdHdoaWxlKFIgPD0gci5lLnIpIHtcblx0XHRcdCsrUjtcblx0XHRcdGlmICgocm93aW5mb1tSLTFdfHx7fSkuaGlkZGVuKSBjb250aW51ZTtcblx0XHRcdHJvdyA9IG1ha2VfY3N2X3JvdyhzaGVldCwgciwgUi0xLCBjb2xzLCBmcywgcnMsIEZTLCB3LCBvKTtcblx0XHRcdGlmKHJvdyAhPSBudWxsKSB7XG5cdFx0XHRcdGlmKHJvdyB8fCAoby5ibGFua3Jvd3MgIT09IGZhbHNlKSkgcmV0dXJuIHN0cmVhbS5wdXNoKCh3KysgPyBSUyA6IFwiXCIpICsgcm93KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpO1xuXHR9O1xuXHRyZXR1cm4gc3RyZWFtO1xufVxuXG5mdW5jdGlvbiB3cml0ZV9odG1sX3N0cmVhbSh3cy8qOldvcmtzaGVldCovLCBvcHRzLyo6P1NoZWV0MkhUTUxPcHRzKi8pIHtcblx0dmFyIHN0cmVhbSA9IF9SZWFkYWJsZSgpO1xuXG5cdHZhciBvID0gb3B0cyB8fCB7fTtcblx0dmFyIGhlYWRlciA9IG8uaGVhZGVyICE9IG51bGwgPyBvLmhlYWRlciA6IEhUTUxfQkVHSU47XG5cdHZhciBmb290ZXIgPSBvLmZvb3RlciAhPSBudWxsID8gby5mb290ZXIgOiBIVE1MX0VORDtcblx0c3RyZWFtLnB1c2goaGVhZGVyKTtcblx0dmFyIHIgPSBkZWNvZGVfcmFuZ2Uod3NbJyFyZWYnXSk7XG5cdHN0cmVhbS5wdXNoKG1ha2VfaHRtbF9wcmVhbWJsZSh3cywgciwgbykpO1xuXHR2YXIgUiA9IHIucy5yO1xuXHR2YXIgZW5kID0gZmFsc2U7XG5cdHN0cmVhbS5fcmVhZCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmKFIgPiByLmUucikge1xuXHRcdFx0aWYoIWVuZCkgeyBlbmQgPSB0cnVlOyBzdHJlYW0ucHVzaChcIjwvdGFibGU+XCIgKyBmb290ZXIpOyB9XG5cdFx0XHRyZXR1cm4gc3RyZWFtLnB1c2gobnVsbCk7XG5cdFx0fVxuXHRcdHdoaWxlKFIgPD0gci5lLnIpIHtcblx0XHRcdHN0cmVhbS5wdXNoKG1ha2VfaHRtbF9yb3cod3MsIHIsIFIsIG8pKTtcblx0XHRcdCsrUjtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fTtcblx0cmV0dXJuIHN0cmVhbTtcbn1cblxuZnVuY3Rpb24gd3JpdGVfanNvbl9zdHJlYW0oc2hlZXQvKjpXb3Jrc2hlZXQqLywgb3B0cy8qOj9TaGVldDJDU1ZPcHRzKi8pIHtcblx0dmFyIHN0cmVhbSA9IF9SZWFkYWJsZSh7b2JqZWN0TW9kZTp0cnVlfSk7XG5cblx0aWYoc2hlZXQgPT0gbnVsbCB8fCBzaGVldFtcIiFyZWZcIl0gPT0gbnVsbCkgeyBzdHJlYW0ucHVzaChudWxsKTsgcmV0dXJuIHN0cmVhbTsgfVxuXHR2YXIgdmFsID0ge3Q6J24nLHY6MH0sIGhlYWRlciA9IDAsIG9mZnNldCA9IDEsIGhkci8qOkFycmF5PGFueT4qLyA9IFtdLCB2PTAsIHZ2PVwiXCI7XG5cdHZhciByID0ge3M6e3I6MCxjOjB9LGU6e3I6MCxjOjB9fTtcblx0dmFyIG8gPSBvcHRzIHx8IHt9O1xuXHR2YXIgcmFuZ2UgPSBvLnJhbmdlICE9IG51bGwgPyBvLnJhbmdlIDogc2hlZXRbXCIhcmVmXCJdO1xuXHRpZihvLmhlYWRlciA9PT0gMSkgaGVhZGVyID0gMTtcblx0ZWxzZSBpZihvLmhlYWRlciA9PT0gXCJBXCIpIGhlYWRlciA9IDI7XG5cdGVsc2UgaWYoQXJyYXkuaXNBcnJheShvLmhlYWRlcikpIGhlYWRlciA9IDM7XG5cdHN3aXRjaCh0eXBlb2YgcmFuZ2UpIHtcblx0XHRjYXNlICdzdHJpbmcnOiByID0gc2FmZV9kZWNvZGVfcmFuZ2UocmFuZ2UpOyBicmVhaztcblx0XHRjYXNlICdudW1iZXInOiByID0gc2FmZV9kZWNvZGVfcmFuZ2Uoc2hlZXRbXCIhcmVmXCJdKTsgci5zLnIgPSByYW5nZTsgYnJlYWs7XG5cdFx0ZGVmYXVsdDogciA9IHJhbmdlO1xuXHR9XG5cdGlmKGhlYWRlciA+IDApIG9mZnNldCA9IDA7XG5cdHZhciByciA9IGVuY29kZV9yb3coci5zLnIpO1xuXHR2YXIgY29scy8qOkFycmF5PHN0cmluZz4qLyA9IFtdO1xuXHR2YXIgY291bnRlciA9IDA7XG5cdHZhciBkZW5zZSA9IHNoZWV0W1wiIWRhdGFcIl0gIT0gbnVsbDtcblx0dmFyIFIgPSByLnMuciwgQyA9IDA7XG5cdHZhciBoZWFkZXJfY250ID0ge307XG5cdGlmKGRlbnNlICYmICFzaGVldFtcIiFkYXRhXCJdW1JdKSBzaGVldFtcIiFkYXRhXCJdW1JdID0gW107XG5cdHZhciBjb2xpbmZvLyo6QXJyYXk8Q29sSW5mbz4qLyA9IG8uc2tpcEhpZGRlbiAmJiBzaGVldFtcIiFjb2xzXCJdIHx8IFtdO1xuXHR2YXIgcm93aW5mby8qOkFycmF5PFJvd0luZm8+Ki8gPSBvLnNraXBIaWRkZW4gJiYgc2hlZXRbXCIhcm93c1wiXSB8fCBbXTtcblx0Zm9yKEMgPSByLnMuYzsgQyA8PSByLmUuYzsgKytDKSB7XG5cdFx0aWYoKChjb2xpbmZvW0NdfHx7fSkuaGlkZGVuKSkgY29udGludWU7XG5cdFx0Y29sc1tDXSA9IGVuY29kZV9jb2woQyk7XG5cdFx0dmFsID0gZGVuc2UgPyBzaGVldFtcIiFkYXRhXCJdW1JdW0NdIDogc2hlZXRbY29sc1tDXSArIHJyXTtcblx0XHRzd2l0Y2goaGVhZGVyKSB7XG5cdFx0XHRjYXNlIDE6IGhkcltDXSA9IEMgLSByLnMuYzsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6IGhkcltDXSA9IGNvbHNbQ107IGJyZWFrO1xuXHRcdFx0Y2FzZSAzOiBoZHJbQ10gPSBvLmhlYWRlcltDIC0gci5zLmNdOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGlmKHZhbCA9PSBudWxsKSB2YWwgPSB7dzogXCJfX0VNUFRZXCIsIHQ6IFwic1wifTtcblx0XHRcdFx0dnYgPSB2ID0gZm9ybWF0X2NlbGwodmFsLCBudWxsLCBvKTtcblx0XHRcdFx0Y291bnRlciA9IGhlYWRlcl9jbnRbdl0gfHwgMDtcblx0XHRcdFx0aWYoIWNvdW50ZXIpIGhlYWRlcl9jbnRbdl0gPSAxO1xuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRkbyB7IHZ2ID0gdiArIFwiX1wiICsgKGNvdW50ZXIrKyk7IH0gd2hpbGUoaGVhZGVyX2NudFt2dl0pOyBoZWFkZXJfY250W3ZdID0gY291bnRlcjtcblx0XHRcdFx0XHRoZWFkZXJfY250W3Z2XSA9IDE7XG5cdFx0XHRcdH1cblx0XHRcdFx0aGRyW0NdID0gdnY7XG5cdFx0fVxuXHR9XG5cdFIgPSByLnMuciArIG9mZnNldDtcblx0c3RyZWFtLl9yZWFkID0gZnVuY3Rpb24oKSB7XG5cdFx0d2hpbGUoUiA8PSByLmUucikge1xuXHRcdFx0aWYgKChyb3dpbmZvW1ItMV18fHt9KS5oaWRkZW4pIGNvbnRpbnVlO1xuXHRcdFx0dmFyIHJvdyA9IG1ha2VfanNvbl9yb3coc2hlZXQsIHIsIFIsIGNvbHMsIGhlYWRlciwgaGRyLCBvKTtcblx0XHRcdCsrUjtcblx0XHRcdGlmKChyb3cuaXNlbXB0eSA9PT0gZmFsc2UpIHx8IChoZWFkZXIgPT09IDEgPyBvLmJsYW5rcm93cyAhPT0gZmFsc2UgOiAhIW8uYmxhbmtyb3dzKSkge1xuXHRcdFx0XHRzdHJlYW0ucHVzaChyb3cucm93KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gc3RyZWFtLnB1c2gobnVsbCk7XG5cdH07XG5cdHJldHVybiBzdHJlYW07XG59XG5cbmZ1bmN0aW9uIHdyaXRlX3hsbWxfc3RyZWFtKHdiLyo6V29ya2Jvb2sqLywgby8qOj9TaGVldDJYTE1MT3B0cyovKSB7XG5cdHZhciBzdHJlYW0gPSBfUmVhZGFibGUoKTtcblx0dmFyIG9wdHMgPSBvID09IG51bGwgPyB7fSA6IG87XG5cdHZhciBzdHJpZGUgPSArb3B0cy5zdHJpZGUgfHwgMTA7XG5cdGlmKCF3Yi5TU0YpIHdiLlNTRiA9IGR1cCh0YWJsZV9mbXQpO1xuXHRpZih3Yi5TU0YpIHtcblx0XHRtYWtlX3NzZigpOyBTU0ZfbG9hZF90YWJsZSh3Yi5TU0YpO1xuXHRcdC8vICRGbG93SWdub3JlXG5cdFx0b3B0cy5yZXZzc2YgPSBldmVydF9udW0od2IuU1NGKTsgb3B0cy5yZXZzc2Zbd2IuU1NGWzY1NTM1XV0gPSAwO1xuXHRcdG9wdHMuc3NmID0gd2IuU1NGO1xuXHRcdG9wdHMuY2VsbFhmcyA9IFtdO1xuXHRcdGdldF9jZWxsX3N0eWxlKG9wdHMuY2VsbFhmcywge30sIHtyZXZzc2Y6e1wiR2VuZXJhbFwiOjB9fSk7XG5cdH1cblxuXHQvKiBkbyBvbmUgcGFzcyB0byBkZXRlcm1pbmUgc3R5bGVzIHNpbmNlIHRoZXkgbXVzdCBiZSBhZGRlZCBiZWZvcmUgdGFibGVzICovXG5cdHdiLlNoZWV0TmFtZXMuZm9yRWFjaChmdW5jdGlvbihuKSB7XG5cdFx0dmFyIHdzID0gd2IuU2hlZXRzW25dO1xuXHRcdGlmKCF3cyB8fCAhd3NbXCIhcmVmXCJdKSByZXR1cm47XG5cdFx0dmFyIHJhbmdlID0gZGVjb2RlX3JhbmdlKHdzW1wiIXJlZlwiXSk7XG5cdFx0dmFyIGRlbnNlID0gd3NbXCIhZGF0YVwiXSAhPSBudWxsO1xuXHRcdHZhciBkZGF0YSA9IGRlbnNlID8gd3NbXCIhZGF0YVwiXSA6IFtdO1xuXHRcdHZhciBhZGRyID0ge3I6MCxjOjB9O1xuXHRcdGZvcih2YXIgUiA9IHJhbmdlLnMucjsgUiA8PSByYW5nZS5lLnI7ICsrUikge1xuXHRcdFx0YWRkci5yID0gUjtcblx0XHRcdGlmKGRlbnNlICYmICFkZGF0YVtSXSkgY29udGludWU7XG5cdFx0XHRmb3IodmFyIEMgPSByYW5nZS5zLmM7IEMgPD0gcmFuZ2UuZS5jOyArK0MpIHtcblx0XHRcdFx0YWRkci5jID0gQztcblx0XHRcdFx0dmFyIGNlbGwgPSBkZW5zZSA/IGRkYXRhW1JdW0NdIDogd3NbZW5jb2RlX2NvbChDKSArIGVuY29kZV9yb3coUildO1xuXHRcdFx0XHRpZighY2VsbCkgY29udGludWU7XG5cdFx0XHRcdGlmKGNlbGwudCA9PSBcImRcIiAmJiBjZWxsLnogPT0gbnVsbCkgeyBjZWxsID0gZHVwKGNlbGwpOyBjZWxsLnogPSB0YWJsZV9mbXRbMTRdOyB9XG5cdFx0XHRcdHZvaWQgZ2V0X2NlbGxfc3R5bGUob3B0cy5jZWxsWGZzLCBjZWxsLCBvcHRzKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXHR2YXIgc3R5ID0gd3JpdGVfc3R5X3hsbWwod2IsIG9wdHMpO1xuXG5cdHZhciBzdGFnZSA9IDAsIHdzaWR4ID0gMCwgd3MgPSB3Yi5TaGVldHNbd2IuU2hlZXROYW1lc1t3c2lkeF1dLCByYW5nZSA9IHNhZmVfZGVjb2RlX3JhbmdlKHdzKSwgUiA9IC0xLCBUID0gZmFsc2U7XG5cblx0dmFyIG1hcnIgPSBbXSwgbWkgPSAwLCBkZW5zZSA9IGZhbHNlLCBkYXJyID0gW10sIGFkZHIgPSB7cjowLGM6MH07XG5cblx0c3RyZWFtLl9yZWFkID0gZnVuY3Rpb24oKSB7IHN3aXRjaChzdGFnZSkge1xuXHRcdC8qIGhlYWRlciAqL1xuXHRcdGNhc2UgMDoge1xuXHRcdFx0c3RhZ2UgPSAxO1xuXHRcdFx0c3RyZWFtLnB1c2goWE1MX0hFQURFUik7XG5cdFx0XHRzdHJlYW0ucHVzaChcIjxXb3JrYm9va1wiICsgd3h0X2hlbHBlcih7XG5cdFx0XHRcdCd4bWxucyc6ICAgICAgWExNTE5TLnNzLFxuXHRcdFx0XHQneG1sbnM6byc6ICAgIFhMTUxOUy5vLFxuXHRcdFx0XHQneG1sbnM6eCc6ICAgIFhMTUxOUy54LFxuXHRcdFx0XHQneG1sbnM6c3MnOiAgIFhMTUxOUy5zcyxcblx0XHRcdFx0J3htbG5zOmR0JzogICBYTE1MTlMuZHQsXG5cdFx0XHRcdCd4bWxuczpodG1sJzogWExNTE5TLmh0bWxcblx0XHRcdH0pICsgXCI+XCIpO1xuXHRcdH0gYnJlYWs7XG5cblx0XHQvKiBwcmVhbWJsZSAqL1xuXHRcdGNhc2UgMToge1xuXHRcdFx0c3RhZ2UgPSAyO1xuXHRcdFx0c3RyZWFtLnB1c2god3JpdGVfcHJvcHNfeGxtbCh3Yiwgb3B0cykpO1xuXHRcdFx0c3RyZWFtLnB1c2god3JpdGVfd2JfeGxtbCh3Yiwgb3B0cykpO1xuXHRcdH0gYnJlYWs7XG5cblx0XHQvKiBzdHlsZSBhbmQgbmFtZSB0YWJsZXMgKi9cblx0XHRjYXNlIDI6IHtcblx0XHRcdHN0YWdlID0gMztcblx0XHRcdHN0cmVhbS5wdXNoKHN0eSk7XG5cdFx0XHRzdHJlYW0ucHVzaCh3cml0ZV9uYW1lc194bG1sKHdiLCBvcHRzKSk7XG5cdFx0fSBicmVhaztcblxuXHRcdC8qIHdvcmtzaGVldCBwcmVhbWJsZSAqL1xuXHRcdGNhc2UgMzoge1xuXHRcdFx0VCA9IGZhbHNlO1xuXHRcdFx0aWYod3NpZHggPj0gd2IuU2hlZXROYW1lcy5sZW5ndGgpIHsgc3RhZ2UgPSAtMTsgc3RyZWFtLnB1c2goXCJcIik7IGJyZWFrOyB9XG5cblx0XHRcdHN0cmVhbS5wdXNoKFwiPFdvcmtzaGVldFwiICsgd3h0X2hlbHBlcih7IFwic3M6TmFtZVwiOiBlc2NhcGV4bWwod2IuU2hlZXROYW1lc1t3c2lkeF0pfSkgKyBcIj5cIik7XG5cblx0XHRcdHdzID0gd2IuU2hlZXRzW3diLlNoZWV0TmFtZXNbd3NpZHhdXTtcblx0XHRcdGlmKCF3cykgeyBzdHJlYW0ucHVzaChcIjwvV29ya3NoZWV0PlwiKTsgcmV0dXJuIHZvaWQgKyt3c2lkeDsgfVxuXG5cdFx0XHR2YXIgbmFtZXMgPSB3cml0ZV93c194bG1sX25hbWVzKHdzLCBvcHRzLCB3c2lkeCwgd2IpO1xuXHRcdFx0aWYobmFtZXMubGVuZ3RoKSBzdHJlYW0ucHVzaChcIjxOYW1lcz5cIiArIG5hbWVzICsgXCI8L05hbWVzPlwiKTtcblxuXHRcdFx0aWYoIXdzW1wiIXJlZlwiXSkgcmV0dXJuIChzdGFnZSA9IDUpO1xuXHRcdFx0cmFuZ2UgPSBzYWZlX2RlY29kZV9yYW5nZSh3c1tcIiFyZWZcIl0pO1xuXHRcdFx0UiA9IHJhbmdlLnMucjtcblx0XHRcdHN0YWdlID0gNDtcblx0XHR9IGJyZWFrO1xuXG5cdFx0Lyogd29ya3NoZWV0IGludHJhbWJsZSAqL1xuXHRcdGNhc2UgNDoge1xuXHRcdFx0aWYoUiA8IDAgfHwgUiA+IHJhbmdlLmUucikgeyBpZihUKSBzdHJlYW0ucHVzaChcIjwvVGFibGU+XCIpOyByZXR1cm4gdm9pZCAoc3RhZ2UgPSA1KTsgfVxuXG5cdFx0XHRpZihSIDw9IHJhbmdlLnMucikge1xuXHRcdFx0XHRpZih3c1snIWNvbHMnXSkgd3NbJyFjb2xzJ10uZm9yRWFjaChmdW5jdGlvbihuLCBpKSB7XG5cdFx0XHRcdFx0cHJvY2Vzc19jb2wobik7XG5cdFx0XHRcdFx0dmFyIHcgPSAhIW4ud2lkdGg7XG5cdFx0XHRcdFx0dmFyIHAgPSBjb2xfb2JqX3coaSwgbik7XG5cdFx0XHRcdFx0dmFyIGsvKjphbnkqLyA9IHtcInNzOkluZGV4XCI6aSsxfTtcblx0XHRcdFx0XHRpZih3KSBrWydzczpXaWR0aCddID0gd2lkdGgycHgocC53aWR0aCk7XG5cdFx0XHRcdFx0aWYobi5oaWRkZW4pIGtbJ3NzOkhpZGRlbiddPVwiMVwiO1xuXHRcdFx0XHRcdGlmKCFUKSB7IFQgPSB0cnVlOyBzdHJlYW0ucHVzaChcIjxUYWJsZT5cIik7IH1cblx0XHRcdFx0XHRzdHJlYW0ucHVzaCh3cml0ZXh0YWcoXCJDb2x1bW5cIixudWxsLGspKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGRlbnNlID0gd3NbXCIhZGF0YVwiXSAhPSBudWxsO1xuXHRcdFx0XHRpZihkZW5zZSkgZGFyciA9IHdzW1wiIWRhdGFcIl07XG5cdFx0XHRcdGFkZHIuciA9IGFkZHIuYyA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdC8qIHByb2Nlc3MgYHN0cmlkZWAgcm93cyBwZXIgaW52b2NhdGlvbiAqL1xuXHRcdFx0Zm9yKHZhciBjbnQgPSAwOyBSIDw9IHJhbmdlLmUuciAmJiBjbnQgPCBzdHJpZGU7ICsrUiwgKytjbnQpIHtcblx0XHRcdFx0dmFyIHJvdyA9IFt3cml0ZV93c194bG1sX3JvdyhSLCAod3NbJyFyb3dzJ118fFtdKVtSXSldO1xuXHRcdFx0XHRhZGRyLnIgPSBSO1xuXHRcdFx0XHRpZighKGRlbnNlICYmICFkYXJyW1JdKSkgZm9yKHZhciBDID0gcmFuZ2Uucy5jOyBDIDw9IHJhbmdlLmUuYzsgKytDKSB7XG5cdFx0XHRcdFx0YWRkci5jID0gQztcblx0XHRcdFx0XHR2YXIgc2tpcCA9IGZhbHNlO1xuXHRcdFx0XHRcdGZvcihtaSA9IDA7IG1pICE9IG1hcnIubGVuZ3RoOyArK21pKSB7XG5cdFx0XHRcdFx0XHRpZihtYXJyW21pXS5zLmMgPiBDKSBjb250aW51ZTtcblx0XHRcdFx0XHRcdGlmKG1hcnJbbWldLnMuciA+IFIpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0aWYobWFyclttaV0uZS5jIDwgQykgY29udGludWU7XG5cdFx0XHRcdFx0XHRpZihtYXJyW21pXS5lLnIgPCBSKSBjb250aW51ZTtcblx0XHRcdFx0XHRcdGlmKG1hcnJbbWldLnMuYyAhPSBDIHx8IG1hcnJbbWldLnMuciAhPSBSKSBza2lwID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZihza2lwKSBjb250aW51ZTtcblx0XHRcdFx0XHR2YXIgcmVmID0gZW5jb2RlX2NvbChDKSArIGVuY29kZV9yb3coUiksIGNlbGwgPSBkZW5zZSA/IGRhcnJbUl1bQ10gOiB3c1tyZWZdO1xuXHRcdFx0XHRcdHJvdy5wdXNoKHdyaXRlX3dzX3hsbWxfY2VsbChjZWxsLCByZWYsIHdzLCBvcHRzLCB3c2lkeCwgd2IsIGFkZHIpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyb3cucHVzaChcIjwvUm93PlwiKTtcblx0XHRcdFx0aWYoIVQpIHsgVCA9IHRydWU7IHN0cmVhbS5wdXNoKFwiPFRhYmxlPlwiKTsgfVxuXHRcdFx0XHRzdHJlYW0ucHVzaChyb3cuam9pbihcIlwiKSk7XG5cdFx0XHR9XG5cdFx0fSBicmVhaztcblxuXHRcdC8qIHdvcmtzaGVldCBwb3N0YW1ibGUgKi9cblx0XHRjYXNlIDU6IHtcblx0XHRcdHN0cmVhbS5wdXNoKHdyaXRlX3dzX3hsbWxfd3NvcHRzKHdzLCBvcHRzLCB3c2lkeCwgd2IpKTtcblx0XHRcdGlmKHdzICYmIHdzW1wiIWF1dG9maWx0ZXJcIl0pIHN0cmVhbS5wdXNoKCc8QXV0b0ZpbHRlciB4OlJhbmdlPVwiJyArIGExX3RvX3JjKGZpeF9yYW5nZSh3c1tcIiFhdXRvZmlsdGVyXCJdLnJlZiksIHtyOjAsYzowfSkgKyAnXCIgeG1sbnM9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpleGNlbFwiPjwvQXV0b0ZpbHRlcj4nKTtcblx0XHRcdHN0cmVhbS5wdXNoKFwiPC9Xb3Jrc2hlZXQ+XCIpO1xuXHRcdFx0d3NpZHgrKzsgUiA9IC0xO1xuXHRcdFx0cmV0dXJuIHZvaWQgKHN0YWdlID0gMyk7XG5cdFx0fVxuXG5cdFx0LyogZm9vdGVyICovXG5cdFx0Y2FzZSAtMToge1xuXHRcdFx0c3RhZ2UgPSAtMjtcblx0XHRcdHN0cmVhbS5wdXNoKFwiPC9Xb3JrYm9vaz5cIik7XG5cdFx0fSBicmVhaztcblxuXHRcdC8qIGV4ZXVudCAqL1xuXHRcdGNhc2UgLTI6IHN0cmVhbS5wdXNoKG51bGwpOyBicmVhaztcblx0fX07XG5cdHJldHVybiBzdHJlYW07XG59XG5cbnZhciBfX3N0cmVhbSA9IHtcblx0dG9fanNvbjogd3JpdGVfanNvbl9zdHJlYW0sXG5cdHRvX2h0bWw6IHdyaXRlX2h0bWxfc3RyZWFtLFxuXHR0b19jc3Y6IHdyaXRlX2Nzdl9zdHJlYW0sXG5cdHRvX3hsbWw6IHdyaXRlX3hsbWxfc3RyZWFtLFxuXHRzZXRfcmVhZGFibGU6IHNldF9yZWFkYWJsZVxufTtcbmV4cG9ydCBjb25zdCB2ZXJzaW9uID0gWExTWC52ZXJzaW9uO1xuZXhwb3J0IHtcblx0cGFyc2VfeGxzY2ZiLFxuXHRwYXJzZV96aXAsXG5cdHJlYWRTeW5jIGFzIHJlYWQsXG5cdHJlYWRGaWxlU3luYyBhcyByZWFkRmlsZSxcblx0cmVhZEZpbGVTeW5jLFxuXHR3cml0ZVN5bmMgYXMgd3JpdGUsXG5cdHdyaXRlRmlsZVN5bmMgYXMgd3JpdGVGaWxlLFxuXHR3cml0ZUZpbGVTeW5jLFxuXHR3cml0ZUZpbGVBc3luYyxcblx0d3JpdGVTeW5jWExTWCBhcyB3cml0ZVhMU1gsXG5cdHdyaXRlRmlsZVN5bmNYTFNYIGFzIHdyaXRlRmlsZVhMU1gsXG5cdHV0aWxzLFxuXHRzZXRfZnMsXG5cdHNldF9jcHRhYmxlLFxuXHRfX3N0cmVhbSBhcyBzdHJlYW0sXG5cdFNTRixcblx0Q0ZCXG59O1xuZXhwb3J0IGRlZmF1bHQge1xuXHRwYXJzZV94bHNjZmIsXG5cdHBhcnNlX3ppcCxcblx0cmVhZDogcmVhZFN5bmMsXG5cdHJlYWRGaWxlOiByZWFkRmlsZVN5bmMsXG5cdHJlYWRGaWxlU3luYyxcblx0d3JpdGU6IHdyaXRlU3luYyxcblx0d3JpdGVGaWxlOiB3cml0ZUZpbGVTeW5jLFxuXHR3cml0ZUZpbGVTeW5jLFxuXHR3cml0ZUZpbGVBc3luYyxcblx0d3JpdGVYTFNYOiB3cml0ZVN5bmNYTFNYLFxuXHR3cml0ZUZpbGVYTFNYOiB3cml0ZUZpbGVTeW5jWExTWCxcblx0dXRpbHMsXG5cdHNldF9mcyxcblx0c2V0X2NwdGFibGUsXG5cdHN0cmVhbTogX19zdHJlYW0sXG5cdFNTRixcblx0Q0ZCXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/xlsx/xlsx.mjs\n\n}");

/***/ }),

/***/ "./packages/superset-ui-core/node_modules/react-js-cron/dist/esm/index.js":
/*!********************************************************************************!*\
  !*** ./packages/superset-ui-core/node_modules/react-js-cron/dist/esm/index.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ J)\n/* harmony export */ });\n/* unused harmony exports Cron, converter */\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd */ \"webpack/sharing/consume/default/antd/antd\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\nvar c=function(){return c=Object.assign||function(e){for(var o,n=1,r=arguments.length;n<r;n++)for(var t in o=arguments[n])Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);return e},c.apply(this,arguments)};function s(e,o){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&o.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var t=0;for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)o.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(n[r[t]]=e[r[t]])}return n}function v(e,o,n){if(n||2===arguments.length)for(var r,t=0,l=o.length;t<l;t++)!r&&t in o||(r||(r=Array.prototype.slice.call(o,0,t)),r[t]=o[t]);return e.concat(r||Array.prototype.slice.call(o))}var p=[{name:\"@yearly\",value:\"0 0 1 1 *\"},{name:\"@annually\",value:\"0 0 1 1 *\"},{name:\"@monthly\",value:\"0 0 1 * *\"},{name:\"@weekly\",value:\"0 0 * * 0\"},{name:\"@daily\",value:\"0 0 * * *\"},{name:\"@midnight\",value:\"0 0 * * *\"},{name:\"@hourly\",value:\"0 * * * *\"}],m=[{type:\"minutes\",min:0,max:59,total:60},{type:\"hours\",min:0,max:23,total:24},{type:\"month-days\",min:1,max:31,total:31},{type:\"months\",min:1,max:12,total:12,alt:[\"JAN\",\"FEB\",\"MAR\",\"APR\",\"MAY\",\"JUN\",\"JUL\",\"AUG\",\"SEP\",\"OCT\",\"NOV\",\"DEC\"]},{type:\"week-days\",min:0,max:6,total:7,alt:[\"SUN\",\"MON\",\"TUE\",\"WED\",\"THU\",\"FRI\",\"SAT\"]}],f={everyText:\"every\",emptyMonths:\"every month\",emptyMonthDays:\"every day of the month\",emptyMonthDaysShort:\"day of the month\",emptyWeekDays:\"every day of the week\",emptyWeekDaysShort:\"day of the week\",emptyHours:\"every hour\",emptyMinutes:\"every minute\",emptyMinutesForHourPeriod:\"every\",yearOption:\"year\",monthOption:\"month\",weekOption:\"week\",dayOption:\"day\",hourOption:\"hour\",minuteOption:\"minute\",rebootOption:\"reboot\",prefixPeriod:\"Every\",prefixMonths:\"in\",prefixMonthDays:\"on\",prefixWeekDays:\"on\",prefixWeekDaysForMonthAndYearPeriod:\"and\",prefixHours:\"at\",prefixMinutes:\":\",prefixMinutesForHourPeriod:\"at\",suffixMinutesForHourPeriod:\"minute(s)\",errorInvalidCron:\"Invalid cron expression\",clearButtonText:\"Clear\",weekDays:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],altWeekDays:[\"SUN\",\"MON\",\"TUE\",\"WED\",\"THU\",\"FRI\",\"SAT\"],altMonths:[\"JAN\",\"FEB\",\"MAR\",\"APR\",\"MAY\",\"JUN\",\"JUL\",\"AUG\",\"SEP\",\"OCT\",\"NOV\",\"DEC\"]};function y(e,o){for(var n=[],r=e;r<=o;r++)n.push(r);return n}function h(e){return e.sort((function(e,o){return e-o})),e}function g(e){var o=[];return e.forEach((function(e){o.indexOf(e)<0&&o.push(e)})),o}function w(e){return Object.entries(e).filter((function(e){var o=e[0],n=e[1];return o&&n})).map((function(e){return e[0]})).join(\" \")}function O(e,o){e&&e({type:\"invalid_cron\",description:o.errorInvalidCron||f.errorInvalidCron})}function b(e){var o=parseInt(e,10),n=Number(e);return o===n?n:NaN}function k(e,o,n,r,t,l,i,a,u,d,c,s,v,m){n&&n(void 0),o(!1);var f=!1;if(!e){if(\"always\"===r||l&&\"for-default-value\"===r)return;f=!0}if(!f){if(a&&(!0===a||a.includes(e))){if(\"@reboot\"===e)return void m(\"reboot\");var y=p.find((function(o){return o.name===e}));y&&(e=y.value)}try{var h=P(e),g=function(e){if(e[3].length>0)return\"year\";if(e[2].length>0)return\"month\";if(e[4].length>0)return\"week\";if(e[1].length>0)return\"day\";if(e[0].length>0)return\"hour\";return\"minute\"}(h);m(g),u(h[0]),d(h[1]),c(h[2]),s(h[3]),v(h[4])}catch(e){f=!0}}f&&(t.current=e,o(!0),O(n,i))}function C(e,o,n,r,t,l,i,a){if(\"reboot\"===e)return\"@reboot\";var u=function(e,o,n){return e.map((function(e,r){var t,l=m[r],i=x(e,l),a=null==n?void 0:n[l.type];return N(i,l,null!==(t=null==a?void 0:a.humanizeValue)&&void 0!==t?t:o)}))}([\"minute\"!==e&&l?l:[],\"minute\"!==e&&\"hour\"!==e&&t?t:[],\"year\"!==e&&\"month\"!==e||!n?[]:n,\"year\"===e&&o?o:[],\"year\"!==e&&\"month\"!==e&&\"week\"!==e||!r?[]:r],i,a);return u.join(\" \")}function N(e,o,n,r,t){var l=\"\";if(function(e,o){return e.length===o.max-o.min+1}(e,o)||0===e.length)l=\"*\";else{var i=function(e){if(e.length>2){var o=e[1]-e[0];if(o>1)return o}}(e);l=i&&function(e,o){for(var n=1;n<e.length;n++){var r=e[n-1];if(e[n]-r!==o)return!1}return!0}(e,i)?function(e,o,n){var r=S(e),t=F(e),l=e.length===(t-r)/n+1;if(r===o.min&&t+n>o.max&&l)return!0;return!1}(e,o,i)?\"*/\".concat(i):\"\".concat(D(S(e),o,n,r,t),\"-\").concat(D(F(e),o,n,r,t),\"/\").concat(i):function(e){var o=[],n=null;return e.forEach((function(e,r,t){e!==t[r+1]-1?null!==n?(o.push([n,e]),n=null):o.push(e):null===n&&(n=e)})),o}(e).map((function(e){return Array.isArray(e)?\"\".concat(D(e[0],o,n,r,t),\"-\").concat(D(e[1],o,n,r,t)):D(e,o,n,r,t)})).join(\",\")}return l}function D(e,o,n,r,t){var l=e.toString(),i=o.type,a=o.alt,u=o.min,d=r&&(!0===r||r.includes(i)),c=\"24-hour-clock\"===t&&(\"hours\"===i||\"minutes\"===i);if(n&&\"week-days\"===i||n&&\"months\"===i?l=a[e-u]:e<10&&(d||c)&&(l=l.padStart(2,\"0\")),\"hours\"===i&&\"12-hour-clock\"===t){var s=e>=12?\"PM\":\"AM\",v=e%12||12;v<10&&d&&(v=v.toString().padStart(2,\"0\")),l=\"\".concat(v).concat(s)}return l}function x(e,o){var n=h(g(M(e,o)));if(0===n.length)return n;var r=j(n,o);if(void 0!==r)throw new Error('Value \"'.concat(r,'\" out of range for ').concat(o.type));return n}function P(e){if(\"string\"!=typeof e)throw new Error(\"Invalid cron string\");var o=e.replace(/\\s+/g,\" \").trim().split(\" \");if(5===o.length)return o.map((function(e,o){return function(e,o){if(\"*\"===e||\"*/1\"===e)return[];var n=h(g(M(function(e,o,n){if(n){e=e.toUpperCase();for(var r=0;r<n.length;r++)e=e.replace(n[r],\"\".concat(r+o))}return e}(e,o.min,o.alt).split(\",\").map((function(n){var r,t=n.split(\"/\");if(t.length>2)throw new Error('Invalid value \"'.concat(e,' for \"').concat(o.type,'\"'));var l=t[0],i=t[1];r=\"*\"===l?y(o.min,o.max):function(e,o,n){var r=e.split(\"-\");if(1===r.length){var t=b(r[0]);if(isNaN(t))throw new Error('Invalid value \"'.concat(o,'\" for ').concat(n.type));return[t]}if(2===r.length){var l=b(r[0]),i=b(r[1]);if(isNaN(l)||isNaN(i))throw new Error('Invalid value \"'.concat(o,'\" for ').concat(n.type));if(i<l)throw new Error('Max range is less than min range in \"'.concat(e,'\" for ').concat(n.type));return y(l,i)}throw new Error('Invalid value \"'.concat(e,'\" for ').concat(n.type))}(l,e,o);var a=function(e,o){if(void 0!==e){var n=b(e);if(isNaN(n)||n<1)throw new Error('Invalid interval step value \"'.concat(e,'\" for ').concat(o.type));return n}}(i,o),u=function(e,o){if(o){var n=e[0];e=e.filter((function(e){return e%o==n%o||e===n}))}return e}(r,a);return u})).flat(),o))),r=j(n,o);if(void 0!==r)throw new Error('Value \"'.concat(r,'\" out of range for ').concat(o.type));if(n.length===o.total)return[];return n}(e,m[o])}));throw new Error(\"Invalid cron string format\")}function M(e,o){return\"week-days\"===o.type&&(e=e.map((function(e){return 7===e?0:e}))),e}function j(e,o){var n=e[0],r=e[e.length-1];return n<o.min?n:r>o.max?r:void 0}function S(e){return e[0]}function F(e){return e[e.length-1]}var A=Object.freeze({__proto__:null,setValuesFromCronString:k,getCronStringFromValues:C,partToString:N,formatValue:D,parsePartArray:x,parseCronString:P});function V(n){var t=n.value,i=n.grid,d=void 0===i||i,p=n.optionsList,m=n.setValue,y=n.locale,g=n.className,O=n.humanizeLabels,b=n.disabled,k=n.readOnly,C=n.leadingZero,P=n.clockFormat,M=n.period,j=n.unit,S=n.periodicityOnDoubleClick,F=n.mode,A=n.allowClear,V=n.filterOption,E=void 0===V?function(){return!0}:V,W=n.getPopupContainer,H=s(n,[\"value\",\"grid\",\"optionsList\",\"setValue\",\"locale\",\"className\",\"humanizeLabels\",\"disabled\",\"readOnly\",\"leadingZero\",\"clockFormat\",\"period\",\"unit\",\"periodicityOnDoubleClick\",\"mode\",\"allowClear\",\"filterOption\",\"getPopupContainer\"]),T=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){if(t&&Array.isArray(t))return t.map((function(e){return e.toString()}))}),[t]),I=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){return p?p.map((function(e,o){return{value:(0===j.min?o:o+1).toString(),label:e}})).filter(E):v([],Array(j.total),!0).map((function(e,o){var n=0===j.min?o:o+1;return{value:n.toString(),label:D(n,j,O,C,P)}})).filter(E)}),[p,C,O,P]),L=JSON.stringify(y),J=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(n){var r=n.value;if(!t||t[0]!==Number(r))return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{});var l=N(x(t,j),j,O,C,P),i=l.match(/^\\*\\/([0-9]+),?/)||[];return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\",{children:i[1]?\"\".concat(y.everyText||f.everyText,\" \").concat(i[1]):l})}),[t,L,O,C,P]),Z=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(e){var o=Array.isArray(e)?h(e):[e],n=o;t&&(n=\"single\"===F?[]:v([],t,!0),o.forEach((function(e){var o=Number(e);n=t.some((function(e){return e===o}))?n.filter((function(e){return e!==o})):h(v(v([],n,!0),[o],!1))}))),n.length===j.total?m([]):m(n)}),[m,t]),z=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(e){if(0!==e&&1!==e){for(var o=j.total+j.min,n=[],r=j.min;r<o;r++)r%e==0&&n.push(r);var l=t&&n&&t.length===n.length&&t.every((function(e,o){return e===n[o]})),i=n.length===I.length;m(i||l?[]:n)}else m([])}),[t,I,m]),U=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)([]),B=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(e){if(!k){var o=U.current;o.push({time:(new Date).getTime(),value:Number(e)});var n=window.setTimeout((function(){S&&o.length>1&&o[o.length-1].time-o[o.length-2].time<300?o[o.length-1].value===o[o.length-2].value?z(Number(e)):Z([o[o.length-2].value,o[o.length-1].value]):Z(Number(e)),U.current=[]}),300);return function(){window.clearTimeout(n)}}}),[U,Z,z,k,S]),R=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(){k||m([])}),[m,k]),Y=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-select\":!0,\"react-js-cron-custom-select\":!0})[\"\".concat(g,\"-select\")]=!!g,e))}),[g]),_=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-select-dropdown\":!0})[\"react-js-cron-select-dropdown-\".concat(j.type)]=!0,e[\"react-js-cron-custom-select-dropdown\"]=!0,e[\"react-js-cron-custom-select-dropdown-\".concat(j.type)]=!0,e[\"react-js-cron-custom-select-dropdown-minutes-large\"]=\"minutes\"===j.type&&\"hour\"!==M&&\"day\"!==M,e[\"react-js-cron-custom-select-dropdown-minutes-medium\"]=\"minutes\"===j.type&&(\"day\"===M||\"hour\"===M),e[\"react-js-cron-custom-select-dropdown-hours-twelve-hour-clock\"]=\"hours\"===j.type&&\"12-hour-clock\"===P,e[\"react-js-cron-custom-select-dropdown-grid\"]=!!d,e[\"\".concat(g,\"-select-dropdown\")]=!!g,e[\"\".concat(g,\"-select-dropdown-\").concat(j.type)]=!!g,e))}),[g,d,P,M]);return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_1__.Select,c({mode:\"single\"!==F||S?\"multiple\":void 0,allowClear:null!=A?A:!k,virtual:!1,open:!k&&void 0,value:T,onClear:R,tagRender:J,className:Y,popupClassName:_,options:I,showSearch:!1,suffixIcon:k?null:void 0,menuItemSelectedIcon:null,popupMatchSelectWidth:!1,onSelect:B,onDeselect:B,disabled:b,dropdownAlign:\"minutes\"!==j.type&&\"hours\"!==j.type||\"day\"===M||\"hour\"===M?void 0:{points:[\"tr\",\"br\"]},\"data-testid\":\"custom-select-\".concat(j.type),getPopupContainer:W},H))}function E(o){var r=o.value,t=o.setValue,l=o.locale,i=o.className,u=o.disabled,d=o.readOnly,s=o.leadingZero,v=o.clockFormat,p=o.period,y=o.periodicityOnDoubleClick,h=o.mode,g=o.allowClear,O=o.filterOption,b=o.getPopupContainer,k=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-field\":!0,\"react-js-cron-hours\":!0})[\"\".concat(i,\"-field\")]=!!i,e[\"\".concat(i,\"-hours\")]=!!i,e))}),[i]);return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\",c({className:k},{children:[\"\"!==l.prefixHours&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\",{children:l.prefixHours||f.prefixHours}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(V,{placeholder:l.emptyHours||f.emptyHours,value:r,unit:m[1],setValue:t,locale:l,className:i,disabled:u,readOnly:d,leadingZero:s,clockFormat:v,period:p,periodicityOnDoubleClick:y,mode:h,allowClear:g,filterOption:O,getPopupContainer:b})]}))}function W(o){var r=o.value,t=o.setValue,l=o.locale,i=o.className,u=o.disabled,d=o.readOnly,s=o.leadingZero,v=o.clockFormat,p=o.period,y=o.periodicityOnDoubleClick,h=o.mode,g=o.allowClear,O=o.filterOption,b=o.getPopupContainer,k=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-field\":!0,\"react-js-cron-minutes\":!0})[\"\".concat(i,\"-field\")]=!!i,e[\"\".concat(i,\"-minutes\")]=!!i,e))}),[i]);return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\",c({className:k},{children:[\"hour\"===p?\"\"!==l.prefixMinutesForHourPeriod&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\",{children:l.prefixMinutesForHourPeriod||f.prefixMinutesForHourPeriod}):\"\"!==l.prefixMinutes&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\",{children:l.prefixMinutes||f.prefixMinutes}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(V,{placeholder:\"hour\"===p?l.emptyMinutesForHourPeriod||f.emptyMinutesForHourPeriod:l.emptyMinutes||f.emptyMinutes,value:r,unit:m[0],setValue:t,locale:l,className:i,disabled:u,readOnly:d,leadingZero:s,clockFormat:v,period:p,periodicityOnDoubleClick:y,mode:h,allowClear:g,filterOption:O,getPopupContainer:b}),\"hour\"===p&&\"\"!==l.suffixMinutesForHourPeriod&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\",{children:l.suffixMinutesForHourPeriod||f.suffixMinutesForHourPeriod})]}))}function H(o){var r=o.value,t=o.setValue,l=o.locale,i=o.className,u=o.weekDays,d=o.disabled,s=o.readOnly,v=o.leadingZero,p=o.period,y=o.periodicityOnDoubleClick,h=o.mode,g=o.allowClear,O=o.filterOption,b=o.getPopupContainer,k=!u||0===u.length,C=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-field\":!0,\"react-js-cron-month-days\":!0,\"react-js-cron-month-days-placeholder\":!k})[\"\".concat(i,\"-field\")]=!!i,e[\"\".concat(i,\"-month-days\")]=!!i,e))}),[i,k]),N=JSON.stringify(l),D=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){return k?l.emptyMonthDays||f.emptyMonthDays:l.emptyMonthDaysShort||f.emptyMonthDaysShort}),[k,N]);return!s||r&&r.length>0||(!r||0===r.length)&&(!u||0===u.length)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\",c({className:C},{children:[\"\"!==l.prefixMonthDays&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\",{children:l.prefixMonthDays||f.prefixMonthDays}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(V,{placeholder:D,value:r,setValue:t,unit:m[2],locale:l,className:i,disabled:d,readOnly:s,leadingZero:v,period:p,periodicityOnDoubleClick:y,mode:h,allowClear:g,filterOption:O,getPopupContainer:b})]})):null}function T(o){var r=o.value,t=o.setValue,l=o.locale,i=o.className,u=o.humanizeLabels,d=o.disabled,s=o.readOnly,v=o.period,p=o.periodicityOnDoubleClick,y=o.mode,h=o.allowClear,g=o.filterOption,O=o.getPopupContainer,b=l.months||f.months,k=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-field\":!0,\"react-js-cron-months\":!0})[\"\".concat(i,\"-field\")]=!!i,e[\"\".concat(i,\"-months\")]=!!i,e))}),[i]);return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\",c({className:k},{children:[\"\"!==l.prefixMonths&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\",{children:l.prefixMonths||f.prefixMonths}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(V,{placeholder:l.emptyMonths||f.emptyMonths,optionsList:b,grid:!1,value:r,unit:c(c({},m[3]),{alt:l.altMonths||f.altMonths}),setValue:t,locale:l,className:i,humanizeLabels:u,disabled:d,readOnly:s,period:v,periodicityOnDoubleClick:p,mode:y,allowClear:h,filterOption:g,getPopupContainer:O})]}))}function I(o){var t=o.value,l=o.setValue,i=o.locale,d=o.className,s=o.disabled,v=o.readOnly,p=o.shortcuts,m=o.allowedPeriods,y=o.allowClear,h=o.getPopupContainer,g=[];m.includes(\"year\")&&g.push({value:\"year\",label:i.yearOption||f.yearOption}),m.includes(\"month\")&&g.push({value:\"month\",label:i.monthOption||f.monthOption}),m.includes(\"week\")&&g.push({value:\"week\",label:i.weekOption||f.weekOption}),m.includes(\"day\")&&g.push({value:\"day\",label:i.dayOption||f.dayOption}),m.includes(\"hour\")&&g.push({value:\"hour\",label:i.hourOption||f.hourOption}),m.includes(\"minute\")&&g.push({value:\"minute\",label:i.minuteOption||f.minuteOption}),m.includes(\"reboot\")&&p&&(!0===p||p.includes(\"@reboot\"))&&g.push({value:\"reboot\",label:i.rebootOption||f.rebootOption});var O=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(e){v||l(e)}),[l,v]),b=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-field\":!0,\"react-js-cron-period\":!0})[\"\".concat(d,\"-field\")]=!!d,e[\"\".concat(d,\"-period\")]=!!d,e))}),[d]),k=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-select\":!0,\"react-js-cron-select-no-prefix\":\"\"===i.prefixPeriod})[\"\".concat(d,\"-select\")]=!!d,e))}),[d,i.prefixPeriod]),C=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-select-dropdown\":!0,\"react-js-cron-select-dropdown-period\":!0})[\"\".concat(d,\"-select-dropdown\")]=!!d,e[\"\".concat(d,\"-select-dropdown-period\")]=!!d,e))}),[d]);return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\",c({className:b},{children:[\"\"!==i.prefixPeriod&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\",{children:i.prefixPeriod||f.prefixPeriod}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_1__.Select,{defaultValue:t,value:t,onChange:O,options:g,className:k,popupClassName:C,disabled:s,suffixIcon:v?null:void 0,open:!v&&void 0,\"data-testid\":\"select-period\",allowClear:y,getPopupContainer:h},JSON.stringify(i))]}))}function L(o){var r=o.value,t=o.setValue,l=o.locale,i=o.className,u=o.humanizeLabels,d=o.monthDays,s=o.disabled,v=o.readOnly,p=o.period,y=o.periodicityOnDoubleClick,h=o.mode,g=o.allowClear,O=o.filterOption,b=o.getPopupContainer,k=l.weekDays||f.weekDays,C=\"week\"===p||!d||0===d.length,N=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-field\":!0,\"react-js-cron-week-days\":!0,\"react-js-cron-week-days-placeholder\":!C})[\"\".concat(i,\"-field\")]=!!i,e[\"\".concat(i,\"-week-days\")]=!!i,e))}),[i,C]),D=JSON.stringify(l),x=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){return C?l.emptyWeekDays||f.emptyWeekDays:l.emptyWeekDaysShort||f.emptyWeekDaysShort}),[C,D]),P=\"week\"===p||!v||r&&r.length>0||(!r||0===r.length)&&(!d||0===d.length),M=!v||d&&d.length>0||(!d||0===d.length)&&(!r||0===r.length);return P?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\",c({className:N},{children:[\"\"!==l.prefixWeekDays&&(\"week\"===p||!M)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\",{children:l.prefixWeekDays||f.prefixWeekDays}),\"\"!==l.prefixWeekDaysForMonthAndYearPeriod&&\"week\"!==p&&M&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\",{children:l.prefixWeekDaysForMonthAndYearPeriod||f.prefixWeekDaysForMonthAndYearPeriod}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(V,{placeholder:x,optionsList:k,grid:!1,value:r,unit:c(c({},m[4]),{alt:l.altWeekDays||f.altWeekDays}),setValue:t,locale:l,className:i,humanizeLabels:u,disabled:s,readOnly:v,period:p,periodicityOnDoubleClick:y,mode:h,allowClear:g,filterOption:O,getPopupContainer:b})]})):null}function J(r){var v,p,m,y,h,g,b,N,D,x,P,M,j,S,F,A,V,J,Z,z,U,B,R,Y,_,G,q,K,Q,X,$,ee,oe,ne,re,te,le,ie,ae,ue,de,ce,se,ve,pe,me,fe,ye,he,ge,we,Oe,be,ke,Ce,Ne,De,xe,Pe,Me,je,Se,Fe,Ae,Ve,Ee,We,He,Te,Ie,Le,Je=r.clearButton,Ze=void 0===Je||Je,ze=r.clearButtonProps,Ue=void 0===ze?{}:ze,Be=r.clearButtonAction,Re=void 0===Be?\"fill-with-every\":Be,Ye=r.locale,_e=void 0===Ye?f:Ye,Ge=r.value,qe=void 0===Ge?\"\":Ge,Ke=r.setValue,Qe=r.displayError,Xe=void 0===Qe||Qe,$e=r.onError,eo=r.className,oo=r.defaultPeriod,no=void 0===oo?\"day\":oo,ro=r.allowEmpty,to=void 0===ro?\"for-default-value\":ro,lo=r.humanizeLabels,io=void 0===lo||lo,ao=r.humanizeValue,uo=void 0!==ao&&ao,co=r.disabled,so=void 0!==co&&co,vo=r.readOnly,po=void 0!==vo&&vo,mo=r.leadingZero,fo=void 0!==mo&&mo,yo=r.shortcuts,ho=void 0===yo?[\"@yearly\",\"@annually\",\"@monthly\",\"@weekly\",\"@daily\",\"@midnight\",\"@hourly\"]:yo,go=r.clockFormat,wo=r.periodicityOnDoubleClick,Oo=void 0===wo||wo,bo=r.mode,ko=void 0===bo?\"multiple\":bo,Co=r.allowedDropdowns,No=void 0===Co?[\"period\",\"months\",\"month-days\",\"week-days\",\"hours\",\"minutes\"]:Co,Do=r.allowedPeriods,xo=void 0===Do?[\"year\",\"month\",\"week\",\"day\",\"hour\",\"minute\",\"reboot\"]:Do,Po=r.allowClear,Mo=r.dropdownsConfig,jo=r.getPopupContainer,So=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(qe),Fo=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(no),Ao=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(),Vo=Ao[0],Eo=Ao[1],Wo=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(),Ho=Wo[0],To=Wo[1],Io=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(),Lo=Io[0],Jo=Io[1],Zo=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(),zo=Zo[0],Uo=Zo[1],Bo=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(),Ro=Bo[0],Yo=Bo[1],_o=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(),Go=_o[0],qo=_o[1],Ko=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),Qo=Ko[0],Xo=Ko[1],$o=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),en=$o[0],on=$o[1],nn=function(e){var o=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(e);return (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){o.current=e}),[e]),o.current}(en),rn=JSON.stringify(_e);(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){k(qe,Xo,$e,to,So,!0,_e,ho,qo,Yo,To,Jo,Uo,Eo)}),[]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){qe!==So.current&&k(qe,Xo,$e,to,So,!1,_e,ho,qo,Yo,To,Jo,Uo,Eo)}),[qe,So,rn,to,ho]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){if(!(Vo||Go||Lo||Ho||zo||Ro)||en||nn)en&&on(!1);else{var e=Vo||Fo.current,o=C(e,Lo,Ho,zo,Ro,Go,uo,Mo);Ke(o,{selectedPeriod:e}),So.current=o,$e&&$e(void 0),Xo(!1)}}),[Vo,Ho,Lo,zo,Ro,Go,uo,en,Mo]);var tn=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(){To(void 0),Jo(void 0),Uo(void 0),Yo(void 0),qo(void 0);var e=\"\",o=\"reboot\"!==Vo&&Vo?Vo:Fo.current;(o!==Vo&&Eo(o),\"fill-with-every\"===Re)&&(e=C(o,void 0,void 0,void 0,void 0,void 0,void 0,void 0));Ke(e,{selectedPeriod:o}),So.current=e,on(!0),\"never\"===to&&\"empty\"===Re?(Xo(!0),O($e,_e)):($e&&$e(void 0),Xo(!1))}),[Vo,Ke,$e,Re]),ln=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron\":!0,\"react-js-cron-error\":Qo&&Xe,\"react-js-cron-disabled\":so,\"react-js-cron-read-only\":po})[\"\".concat(eo)]=!!eo,e[\"\".concat(eo,\"-error\")]=Qo&&Xe&&!!eo,e[\"\".concat(eo,\"-disabled\")]=so&&!!eo,e[\"\".concat(eo,\"-read-only\")]=po&&!!eo,e))}),[eo,Qo,Xe,so,po]),an=Ue.className,un=s(Ue,[\"className\"]),dn=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var e;return w(((e={\"react-js-cron-clear-button\":!0})[\"\".concat(eo,\"-clear-button\")]=!!eo,e[\"\".concat(an)]=!!an,e))}),[eo,an]),cn=JSON.stringify(un),sn=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){return Ze&&!po?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_1__.Button,c({className:dn,danger:!0,type:\"primary\",disabled:so},un,{onClick:tn},{children:_e.clearButtonText||f.clearButtonText})):null}),[Ze,po,rn,dn,so,cn,tn]),vn=Vo||Fo.current;return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\",c({className:ln},{children:[No.includes(\"period\")&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(I,{value:vn,setValue:Eo,locale:_e,className:eo,disabled:null!==(p=null===(v=null==Mo?void 0:Mo.period)||void 0===v?void 0:v.disabled)&&void 0!==p?p:so,readOnly:null!==(y=null===(m=null==Mo?void 0:Mo.period)||void 0===m?void 0:m.readOnly)&&void 0!==y?y:po,shortcuts:ho,allowedPeriods:xo,allowClear:null!==(g=null===(h=null==Mo?void 0:Mo.period)||void 0===h?void 0:h.allowClear)&&void 0!==g?g:Po,getPopupContainer:jo}),\"reboot\"===vn?sn:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[\"year\"===vn&&No.includes(\"months\")&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(T,{value:Lo,setValue:Jo,locale:_e,className:eo,humanizeLabels:null!==(N=null===(b=null==Mo?void 0:Mo.months)||void 0===b?void 0:b.humanizeLabels)&&void 0!==N?N:io,disabled:null!==(x=null===(D=null==Mo?void 0:Mo.months)||void 0===D?void 0:D.disabled)&&void 0!==x?x:so,readOnly:null!==(M=null===(P=null==Mo?void 0:Mo.months)||void 0===P?void 0:P.readOnly)&&void 0!==M?M:po,period:vn,periodicityOnDoubleClick:null!==(S=null===(j=null==Mo?void 0:Mo.months)||void 0===j?void 0:j.periodicityOnDoubleClick)&&void 0!==S?S:Oo,mode:null!==(A=null===(F=null==Mo?void 0:Mo.months)||void 0===F?void 0:F.mode)&&void 0!==A?A:ko,allowClear:null!==(J=null===(V=null==Mo?void 0:Mo.months)||void 0===V?void 0:V.allowClear)&&void 0!==J?J:Po,filterOption:null===(Z=null==Mo?void 0:Mo.months)||void 0===Z?void 0:Z.filterOption,getPopupContainer:jo}),(\"year\"===vn||\"month\"===vn)&&No.includes(\"month-days\")&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(H,{value:Ho,setValue:To,locale:_e,className:eo,weekDays:zo,disabled:null!==(U=null===(z=null==Mo?void 0:Mo[\"month-days\"])||void 0===z?void 0:z.disabled)&&void 0!==U?U:so,readOnly:null!==(R=null===(B=null==Mo?void 0:Mo[\"month-days\"])||void 0===B?void 0:B.readOnly)&&void 0!==R?R:po,leadingZero:null!==(_=null===(Y=null==Mo?void 0:Mo[\"month-days\"])||void 0===Y?void 0:Y.leadingZero)&&void 0!==_?_:fo,period:vn,periodicityOnDoubleClick:null!==(q=null===(G=null==Mo?void 0:Mo[\"month-days\"])||void 0===G?void 0:G.periodicityOnDoubleClick)&&void 0!==q?q:Oo,mode:null!==(Q=null===(K=null==Mo?void 0:Mo[\"month-days\"])||void 0===K?void 0:K.mode)&&void 0!==Q?Q:ko,allowClear:null!==($=null===(X=null==Mo?void 0:Mo[\"month-days\"])||void 0===X?void 0:X.allowClear)&&void 0!==$?$:Po,filterOption:null===(ee=null==Mo?void 0:Mo[\"month-days\"])||void 0===ee?void 0:ee.filterOption,getPopupContainer:jo}),(\"year\"===vn||\"month\"===vn||\"week\"===vn)&&No.includes(\"week-days\")&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(L,{value:zo,setValue:Uo,locale:_e,className:eo,humanizeLabels:null!==(ne=null===(oe=null==Mo?void 0:Mo[\"week-days\"])||void 0===oe?void 0:oe.humanizeLabels)&&void 0!==ne?ne:io,monthDays:Ho,disabled:null!==(te=null===(re=null==Mo?void 0:Mo[\"week-days\"])||void 0===re?void 0:re.disabled)&&void 0!==te?te:so,readOnly:null!==(ie=null===(le=null==Mo?void 0:Mo[\"week-days\"])||void 0===le?void 0:le.readOnly)&&void 0!==ie?ie:po,period:vn,periodicityOnDoubleClick:null!==(ue=null===(ae=null==Mo?void 0:Mo[\"week-days\"])||void 0===ae?void 0:ae.periodicityOnDoubleClick)&&void 0!==ue?ue:Oo,mode:null!==(ce=null===(de=null==Mo?void 0:Mo[\"week-days\"])||void 0===de?void 0:de.mode)&&void 0!==ce?ce:ko,allowClear:null!==(ve=null===(se=null==Mo?void 0:Mo[\"week-days\"])||void 0===se?void 0:se.allowClear)&&void 0!==ve?ve:Po,filterOption:null===(pe=null==Mo?void 0:Mo[\"week-days\"])||void 0===pe?void 0:pe.filterOption,getPopupContainer:jo}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\",{children:[\"minute\"!==vn&&\"hour\"!==vn&&No.includes(\"hours\")&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(E,{value:Ro,setValue:Yo,locale:_e,className:eo,disabled:null!==(fe=null===(me=null==Mo?void 0:Mo.hours)||void 0===me?void 0:me.disabled)&&void 0!==fe?fe:so,readOnly:null!==(he=null===(ye=null==Mo?void 0:Mo.hours)||void 0===ye?void 0:ye.readOnly)&&void 0!==he?he:po,leadingZero:null!==(we=null===(ge=null==Mo?void 0:Mo.hours)||void 0===ge?void 0:ge.leadingZero)&&void 0!==we?we:fo,clockFormat:go,period:vn,periodicityOnDoubleClick:null!==(be=null===(Oe=null==Mo?void 0:Mo.hours)||void 0===Oe?void 0:Oe.periodicityOnDoubleClick)&&void 0!==be?be:Oo,mode:null!==(Ce=null===(ke=null==Mo?void 0:Mo.hours)||void 0===ke?void 0:ke.mode)&&void 0!==Ce?Ce:ko,allowClear:null!==(De=null===(Ne=null==Mo?void 0:Mo.hours)||void 0===Ne?void 0:Ne.allowClear)&&void 0!==De?De:Po,filterOption:null===(xe=null==Mo?void 0:Mo.hours)||void 0===xe?void 0:xe.filterOption,getPopupContainer:jo}),\"minute\"!==vn&&No.includes(\"minutes\")&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(W,{value:Go,setValue:qo,locale:_e,period:vn,className:eo,disabled:null!==(Me=null===(Pe=null==Mo?void 0:Mo.minutes)||void 0===Pe?void 0:Pe.disabled)&&void 0!==Me?Me:so,readOnly:null!==(Se=null===(je=null==Mo?void 0:Mo.minutes)||void 0===je?void 0:je.readOnly)&&void 0!==Se?Se:po,leadingZero:null!==(Ae=null===(Fe=null==Mo?void 0:Mo.minutes)||void 0===Fe?void 0:Fe.leadingZero)&&void 0!==Ae?Ae:fo,clockFormat:go,periodicityOnDoubleClick:null!==(Ee=null===(Ve=null==Mo?void 0:Mo.minutes)||void 0===Ve?void 0:Ve.periodicityOnDoubleClick)&&void 0!==Ee?Ee:Oo,mode:null!==(He=null===(We=null==Mo?void 0:Mo.minutes)||void 0===We?void 0:We.mode)&&void 0!==He?He:ko,allowClear:null!==(Ie=null===(Te=null==Mo?void 0:Mo.minutes)||void 0===Te?void 0:Te.allowClear)&&void 0!==Ie?Ie:Po,filterOption:null===(Le=null==Mo?void 0:Mo.minutes)||void 0===Le?void 0:Le.filterOption,getPopupContainer:jo}),sn]})]})]}))}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9zdXBlcnNldC11aS1jb3JlL25vZGVfbW9kdWxlcy9yZWFjdC1qcy1jcm9uL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9wYWNrYWdlcy9zdXBlcnNldC11aS1jb3JlL25vZGVfbW9kdWxlcy9yZWFjdC1qcy1jcm9uL2Rpc3QvZXNtL2luZGV4LmpzPzE1MjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2pzeCBhcyBlLEZyYWdtZW50IGFzIG8sanN4cyBhcyBufWZyb21cInJlYWN0L2pzeC1ydW50aW1lXCI7aW1wb3J0e1NlbGVjdCBhcyByLEJ1dHRvbiBhcyB0fWZyb21cImFudGRcIjtpbXBvcnR7dXNlUmVmIGFzIGwsdXNlRWZmZWN0IGFzIGksdXNlTWVtbyBhcyBhLHVzZUNhbGxiYWNrIGFzIHUsdXNlU3RhdGUgYXMgZH1mcm9tXCJyZWFjdFwiO3ZhciBjPWZ1bmN0aW9uKCl7cmV0dXJuIGM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciBvLG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIHQgaW4gbz1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sdCkmJihlW3RdPW9bdF0pO3JldHVybiBlfSxjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gcyhlLG8pe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZvLmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHQ9MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3Q8ci5sZW5ndGg7dCsrKW8uaW5kZXhPZihyW3RdKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyW3RdKSYmKG5bclt0XV09ZVtyW3RdXSl9cmV0dXJuIG59ZnVuY3Rpb24gdihlLG8sbil7aWYobnx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciByLHQ9MCxsPW8ubGVuZ3RoO3Q8bDt0KyspIXImJnQgaW4gb3x8KHJ8fChyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG8sMCx0KSksclt0XT1vW3RdKTtyZXR1cm4gZS5jb25jYXQocnx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobykpfXZhciBwPVt7bmFtZTpcIkB5ZWFybHlcIix2YWx1ZTpcIjAgMCAxIDEgKlwifSx7bmFtZTpcIkBhbm51YWxseVwiLHZhbHVlOlwiMCAwIDEgMSAqXCJ9LHtuYW1lOlwiQG1vbnRobHlcIix2YWx1ZTpcIjAgMCAxICogKlwifSx7bmFtZTpcIkB3ZWVrbHlcIix2YWx1ZTpcIjAgMCAqICogMFwifSx7bmFtZTpcIkBkYWlseVwiLHZhbHVlOlwiMCAwICogKiAqXCJ9LHtuYW1lOlwiQG1pZG5pZ2h0XCIsdmFsdWU6XCIwIDAgKiAqICpcIn0se25hbWU6XCJAaG91cmx5XCIsdmFsdWU6XCIwICogKiAqICpcIn1dLG09W3t0eXBlOlwibWludXRlc1wiLG1pbjowLG1heDo1OSx0b3RhbDo2MH0se3R5cGU6XCJob3Vyc1wiLG1pbjowLG1heDoyMyx0b3RhbDoyNH0se3R5cGU6XCJtb250aC1kYXlzXCIsbWluOjEsbWF4OjMxLHRvdGFsOjMxfSx7dHlwZTpcIm1vbnRoc1wiLG1pbjoxLG1heDoxMix0b3RhbDoxMixhbHQ6W1wiSkFOXCIsXCJGRUJcIixcIk1BUlwiLFwiQVBSXCIsXCJNQVlcIixcIkpVTlwiLFwiSlVMXCIsXCJBVUdcIixcIlNFUFwiLFwiT0NUXCIsXCJOT1ZcIixcIkRFQ1wiXX0se3R5cGU6XCJ3ZWVrLWRheXNcIixtaW46MCxtYXg6Nix0b3RhbDo3LGFsdDpbXCJTVU5cIixcIk1PTlwiLFwiVFVFXCIsXCJXRURcIixcIlRIVVwiLFwiRlJJXCIsXCJTQVRcIl19XSxmPXtldmVyeVRleHQ6XCJldmVyeVwiLGVtcHR5TW9udGhzOlwiZXZlcnkgbW9udGhcIixlbXB0eU1vbnRoRGF5czpcImV2ZXJ5IGRheSBvZiB0aGUgbW9udGhcIixlbXB0eU1vbnRoRGF5c1Nob3J0OlwiZGF5IG9mIHRoZSBtb250aFwiLGVtcHR5V2Vla0RheXM6XCJldmVyeSBkYXkgb2YgdGhlIHdlZWtcIixlbXB0eVdlZWtEYXlzU2hvcnQ6XCJkYXkgb2YgdGhlIHdlZWtcIixlbXB0eUhvdXJzOlwiZXZlcnkgaG91clwiLGVtcHR5TWludXRlczpcImV2ZXJ5IG1pbnV0ZVwiLGVtcHR5TWludXRlc0ZvckhvdXJQZXJpb2Q6XCJldmVyeVwiLHllYXJPcHRpb246XCJ5ZWFyXCIsbW9udGhPcHRpb246XCJtb250aFwiLHdlZWtPcHRpb246XCJ3ZWVrXCIsZGF5T3B0aW9uOlwiZGF5XCIsaG91ck9wdGlvbjpcImhvdXJcIixtaW51dGVPcHRpb246XCJtaW51dGVcIixyZWJvb3RPcHRpb246XCJyZWJvb3RcIixwcmVmaXhQZXJpb2Q6XCJFdmVyeVwiLHByZWZpeE1vbnRoczpcImluXCIscHJlZml4TW9udGhEYXlzOlwib25cIixwcmVmaXhXZWVrRGF5czpcIm9uXCIscHJlZml4V2Vla0RheXNGb3JNb250aEFuZFllYXJQZXJpb2Q6XCJhbmRcIixwcmVmaXhIb3VyczpcImF0XCIscHJlZml4TWludXRlczpcIjpcIixwcmVmaXhNaW51dGVzRm9ySG91clBlcmlvZDpcImF0XCIsc3VmZml4TWludXRlc0ZvckhvdXJQZXJpb2Q6XCJtaW51dGUocylcIixlcnJvckludmFsaWRDcm9uOlwiSW52YWxpZCBjcm9uIGV4cHJlc3Npb25cIixjbGVhckJ1dHRvblRleHQ6XCJDbGVhclwiLHdlZWtEYXlzOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLG1vbnRoczpbXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl0sYWx0V2Vla0RheXM6W1wiU1VOXCIsXCJNT05cIixcIlRVRVwiLFwiV0VEXCIsXCJUSFVcIixcIkZSSVwiLFwiU0FUXCJdLGFsdE1vbnRoczpbXCJKQU5cIixcIkZFQlwiLFwiTUFSXCIsXCJBUFJcIixcIk1BWVwiLFwiSlVOXCIsXCJKVUxcIixcIkFVR1wiLFwiU0VQXCIsXCJPQ1RcIixcIk5PVlwiLFwiREVDXCJdfTtmdW5jdGlvbiB5KGUsbyl7Zm9yKHZhciBuPVtdLHI9ZTtyPD1vO3IrKyluLnB1c2gocik7cmV0dXJuIG59ZnVuY3Rpb24gaChlKXtyZXR1cm4gZS5zb3J0KChmdW5jdGlvbihlLG8pe3JldHVybiBlLW99KSksZX1mdW5jdGlvbiBnKGUpe3ZhciBvPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe28uaW5kZXhPZihlKTwwJiZvLnB1c2goZSl9KSksb31mdW5jdGlvbiB3KGUpe3JldHVybiBPYmplY3QuZW50cmllcyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciBvPWVbMF0sbj1lWzFdO3JldHVybiBvJiZufSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF19KSkuam9pbihcIiBcIil9ZnVuY3Rpb24gTyhlLG8pe2UmJmUoe3R5cGU6XCJpbnZhbGlkX2Nyb25cIixkZXNjcmlwdGlvbjpvLmVycm9ySW52YWxpZENyb258fGYuZXJyb3JJbnZhbGlkQ3Jvbn0pfWZ1bmN0aW9uIGIoZSl7dmFyIG89cGFyc2VJbnQoZSwxMCksbj1OdW1iZXIoZSk7cmV0dXJuIG89PT1uP246TmFOfWZ1bmN0aW9uIGsoZSxvLG4scix0LGwsaSxhLHUsZCxjLHMsdixtKXtuJiZuKHZvaWQgMCksbyghMSk7dmFyIGY9ITE7aWYoIWUpe2lmKFwiYWx3YXlzXCI9PT1yfHxsJiZcImZvci1kZWZhdWx0LXZhbHVlXCI9PT1yKXJldHVybjtmPSEwfWlmKCFmKXtpZihhJiYoITA9PT1hfHxhLmluY2x1ZGVzKGUpKSl7aWYoXCJAcmVib290XCI9PT1lKXJldHVybiB2b2lkIG0oXCJyZWJvb3RcIik7dmFyIHk9cC5maW5kKChmdW5jdGlvbihvKXtyZXR1cm4gby5uYW1lPT09ZX0pKTt5JiYoZT15LnZhbHVlKX10cnl7dmFyIGg9UChlKSxnPWZ1bmN0aW9uKGUpe2lmKGVbM10ubGVuZ3RoPjApcmV0dXJuXCJ5ZWFyXCI7aWYoZVsyXS5sZW5ndGg+MClyZXR1cm5cIm1vbnRoXCI7aWYoZVs0XS5sZW5ndGg+MClyZXR1cm5cIndlZWtcIjtpZihlWzFdLmxlbmd0aD4wKXJldHVyblwiZGF5XCI7aWYoZVswXS5sZW5ndGg+MClyZXR1cm5cImhvdXJcIjtyZXR1cm5cIm1pbnV0ZVwifShoKTttKGcpLHUoaFswXSksZChoWzFdKSxjKGhbMl0pLHMoaFszXSksdihoWzRdKX1jYXRjaChlKXtmPSEwfX1mJiYodC5jdXJyZW50PWUsbyghMCksTyhuLGkpKX1mdW5jdGlvbiBDKGUsbyxuLHIsdCxsLGksYSl7aWYoXCJyZWJvb3RcIj09PWUpcmV0dXJuXCJAcmVib290XCI7dmFyIHU9ZnVuY3Rpb24oZSxvLG4pe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSxyKXt2YXIgdCxsPW1bcl0saT14KGUsbCksYT1udWxsPT1uP3ZvaWQgMDpuW2wudHlwZV07cmV0dXJuIE4oaSxsLG51bGwhPT0odD1udWxsPT1hP3ZvaWQgMDphLmh1bWFuaXplVmFsdWUpJiZ2b2lkIDAhPT10P3Q6byl9KSl9KFtcIm1pbnV0ZVwiIT09ZSYmbD9sOltdLFwibWludXRlXCIhPT1lJiZcImhvdXJcIiE9PWUmJnQ/dDpbXSxcInllYXJcIiE9PWUmJlwibW9udGhcIiE9PWV8fCFuP1tdOm4sXCJ5ZWFyXCI9PT1lJiZvP286W10sXCJ5ZWFyXCIhPT1lJiZcIm1vbnRoXCIhPT1lJiZcIndlZWtcIiE9PWV8fCFyP1tdOnJdLGksYSk7cmV0dXJuIHUuam9pbihcIiBcIil9ZnVuY3Rpb24gTihlLG8sbixyLHQpe3ZhciBsPVwiXCI7aWYoZnVuY3Rpb24oZSxvKXtyZXR1cm4gZS5sZW5ndGg9PT1vLm1heC1vLm1pbisxfShlLG8pfHwwPT09ZS5sZW5ndGgpbD1cIipcIjtlbHNle3ZhciBpPWZ1bmN0aW9uKGUpe2lmKGUubGVuZ3RoPjIpe3ZhciBvPWVbMV0tZVswXTtpZihvPjEpcmV0dXJuIG99fShlKTtsPWkmJmZ1bmN0aW9uKGUsbyl7Zm9yKHZhciBuPTE7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbi0xXTtpZihlW25dLXIhPT1vKXJldHVybiExfXJldHVybiEwfShlLGkpP2Z1bmN0aW9uKGUsbyxuKXt2YXIgcj1TKGUpLHQ9RihlKSxsPWUubGVuZ3RoPT09KHQtcikvbisxO2lmKHI9PT1vLm1pbiYmdCtuPm8ubWF4JiZsKXJldHVybiEwO3JldHVybiExfShlLG8saSk/XCIqL1wiLmNvbmNhdChpKTpcIlwiLmNvbmNhdChEKFMoZSksbyxuLHIsdCksXCItXCIpLmNvbmNhdChEKEYoZSksbyxuLHIsdCksXCIvXCIpLmNvbmNhdChpKTpmdW5jdGlvbihlKXt2YXIgbz1bXSxuPW51bGw7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSxyLHQpe2UhPT10W3IrMV0tMT9udWxsIT09bj8oby5wdXNoKFtuLGVdKSxuPW51bGwpOm8ucHVzaChlKTpudWxsPT09biYmKG49ZSl9KSksb30oZSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9cIlwiLmNvbmNhdChEKGVbMF0sbyxuLHIsdCksXCItXCIpLmNvbmNhdChEKGVbMV0sbyxuLHIsdCkpOkQoZSxvLG4scix0KX0pKS5qb2luKFwiLFwiKX1yZXR1cm4gbH1mdW5jdGlvbiBEKGUsbyxuLHIsdCl7dmFyIGw9ZS50b1N0cmluZygpLGk9by50eXBlLGE9by5hbHQsdT1vLm1pbixkPXImJighMD09PXJ8fHIuaW5jbHVkZXMoaSkpLGM9XCIyNC1ob3VyLWNsb2NrXCI9PT10JiYoXCJob3Vyc1wiPT09aXx8XCJtaW51dGVzXCI9PT1pKTtpZihuJiZcIndlZWstZGF5c1wiPT09aXx8biYmXCJtb250aHNcIj09PWk/bD1hW2UtdV06ZTwxMCYmKGR8fGMpJiYobD1sLnBhZFN0YXJ0KDIsXCIwXCIpKSxcImhvdXJzXCI9PT1pJiZcIjEyLWhvdXItY2xvY2tcIj09PXQpe3ZhciBzPWU+PTEyP1wiUE1cIjpcIkFNXCIsdj1lJTEyfHwxMjt2PDEwJiZkJiYodj12LnRvU3RyaW5nKCkucGFkU3RhcnQoMixcIjBcIikpLGw9XCJcIi5jb25jYXQodikuY29uY2F0KHMpfXJldHVybiBsfWZ1bmN0aW9uIHgoZSxvKXt2YXIgbj1oKGcoTShlLG8pKSk7aWYoMD09PW4ubGVuZ3RoKXJldHVybiBuO3ZhciByPWoobixvKTtpZih2b2lkIDAhPT1yKXRocm93IG5ldyBFcnJvcignVmFsdWUgXCInLmNvbmNhdChyLCdcIiBvdXQgb2YgcmFuZ2UgZm9yICcpLmNvbmNhdChvLnR5cGUpKTtyZXR1cm4gbn1mdW5jdGlvbiBQKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY3JvbiBzdHJpbmdcIik7dmFyIG89ZS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLnRyaW0oKS5zcGxpdChcIiBcIik7aWYoNT09PW8ubGVuZ3RoKXJldHVybiBvLm1hcCgoZnVuY3Rpb24oZSxvKXtyZXR1cm4gZnVuY3Rpb24oZSxvKXtpZihcIipcIj09PWV8fFwiKi8xXCI9PT1lKXJldHVybltdO3ZhciBuPWgoZyhNKGZ1bmN0aW9uKGUsbyxuKXtpZihuKXtlPWUudG9VcHBlckNhc2UoKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyllPWUucmVwbGFjZShuW3JdLFwiXCIuY29uY2F0KHIrbykpfXJldHVybiBlfShlLG8ubWluLG8uYWx0KS5zcGxpdChcIixcIikubWFwKChmdW5jdGlvbihuKXt2YXIgcix0PW4uc3BsaXQoXCIvXCIpO2lmKHQubGVuZ3RoPjIpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIFwiJy5jb25jYXQoZSwnIGZvciBcIicpLmNvbmNhdChvLnR5cGUsJ1wiJykpO3ZhciBsPXRbMF0saT10WzFdO3I9XCIqXCI9PT1sP3koby5taW4sby5tYXgpOmZ1bmN0aW9uKGUsbyxuKXt2YXIgcj1lLnNwbGl0KFwiLVwiKTtpZigxPT09ci5sZW5ndGgpe3ZhciB0PWIoclswXSk7aWYoaXNOYU4odCkpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIFwiJy5jb25jYXQobywnXCIgZm9yICcpLmNvbmNhdChuLnR5cGUpKTtyZXR1cm5bdF19aWYoMj09PXIubGVuZ3RoKXt2YXIgbD1iKHJbMF0pLGk9YihyWzFdKTtpZihpc05hTihsKXx8aXNOYU4oaSkpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIFwiJy5jb25jYXQobywnXCIgZm9yICcpLmNvbmNhdChuLnR5cGUpKTtpZihpPGwpdGhyb3cgbmV3IEVycm9yKCdNYXggcmFuZ2UgaXMgbGVzcyB0aGFuIG1pbiByYW5nZSBpbiBcIicuY29uY2F0KGUsJ1wiIGZvciAnKS5jb25jYXQobi50eXBlKSk7cmV0dXJuIHkobCxpKX10aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgXCInLmNvbmNhdChlLCdcIiBmb3IgJykuY29uY2F0KG4udHlwZSkpfShsLGUsbyk7dmFyIGE9ZnVuY3Rpb24oZSxvKXtpZih2b2lkIDAhPT1lKXt2YXIgbj1iKGUpO2lmKGlzTmFOKG4pfHxuPDEpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGludGVydmFsIHN0ZXAgdmFsdWUgXCInLmNvbmNhdChlLCdcIiBmb3IgJykuY29uY2F0KG8udHlwZSkpO3JldHVybiBufX0oaSxvKSx1PWZ1bmN0aW9uKGUsbyl7aWYobyl7dmFyIG49ZVswXTtlPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSVvPT1uJW98fGU9PT1ufSkpfXJldHVybiBlfShyLGEpO3JldHVybiB1fSkpLmZsYXQoKSxvKSkpLHI9aihuLG8pO2lmKHZvaWQgMCE9PXIpdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBcIicuY29uY2F0KHIsJ1wiIG91dCBvZiByYW5nZSBmb3IgJykuY29uY2F0KG8udHlwZSkpO2lmKG4ubGVuZ3RoPT09by50b3RhbClyZXR1cm5bXTtyZXR1cm4gbn0oZSxtW29dKX0pKTt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNyb24gc3RyaW5nIGZvcm1hdFwiKX1mdW5jdGlvbiBNKGUsbyl7cmV0dXJuXCJ3ZWVrLWRheXNcIj09PW8udHlwZSYmKGU9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiA3PT09ZT8wOmV9KSkpLGV9ZnVuY3Rpb24gaihlLG8pe3ZhciBuPWVbMF0scj1lW2UubGVuZ3RoLTFdO3JldHVybiBuPG8ubWluP246cj5vLm1heD9yOnZvaWQgMH1mdW5jdGlvbiBTKGUpe3JldHVybiBlWzBdfWZ1bmN0aW9uIEYoZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV19dmFyIEE9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2V0VmFsdWVzRnJvbUNyb25TdHJpbmc6ayxnZXRDcm9uU3RyaW5nRnJvbVZhbHVlczpDLHBhcnRUb1N0cmluZzpOLGZvcm1hdFZhbHVlOkQscGFyc2VQYXJ0QXJyYXk6eCxwYXJzZUNyb25TdHJpbmc6UH0pO2Z1bmN0aW9uIFYobil7dmFyIHQ9bi52YWx1ZSxpPW4uZ3JpZCxkPXZvaWQgMD09PWl8fGkscD1uLm9wdGlvbnNMaXN0LG09bi5zZXRWYWx1ZSx5PW4ubG9jYWxlLGc9bi5jbGFzc05hbWUsTz1uLmh1bWFuaXplTGFiZWxzLGI9bi5kaXNhYmxlZCxrPW4ucmVhZE9ubHksQz1uLmxlYWRpbmdaZXJvLFA9bi5jbG9ja0Zvcm1hdCxNPW4ucGVyaW9kLGo9bi51bml0LFM9bi5wZXJpb2RpY2l0eU9uRG91YmxlQ2xpY2ssRj1uLm1vZGUsQT1uLmFsbG93Q2xlYXIsVj1uLmZpbHRlck9wdGlvbixFPXZvaWQgMD09PVY/ZnVuY3Rpb24oKXtyZXR1cm4hMH06VixXPW4uZ2V0UG9wdXBDb250YWluZXIsSD1zKG4sW1widmFsdWVcIixcImdyaWRcIixcIm9wdGlvbnNMaXN0XCIsXCJzZXRWYWx1ZVwiLFwibG9jYWxlXCIsXCJjbGFzc05hbWVcIixcImh1bWFuaXplTGFiZWxzXCIsXCJkaXNhYmxlZFwiLFwicmVhZE9ubHlcIixcImxlYWRpbmdaZXJvXCIsXCJjbG9ja0Zvcm1hdFwiLFwicGVyaW9kXCIsXCJ1bml0XCIsXCJwZXJpb2RpY2l0eU9uRG91YmxlQ2xpY2tcIixcIm1vZGVcIixcImFsbG93Q2xlYXJcIixcImZpbHRlck9wdGlvblwiLFwiZ2V0UG9wdXBDb250YWluZXJcIl0pLFQ9YSgoZnVuY3Rpb24oKXtpZih0JiZBcnJheS5pc0FycmF5KHQpKXJldHVybiB0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9TdHJpbmcoKX0pKX0pLFt0XSksST1hKChmdW5jdGlvbigpe3JldHVybiBwP3AubWFwKChmdW5jdGlvbihlLG8pe3JldHVybnt2YWx1ZTooMD09PWoubWluP286bysxKS50b1N0cmluZygpLGxhYmVsOmV9fSkpLmZpbHRlcihFKTp2KFtdLEFycmF5KGoudG90YWwpLCEwKS5tYXAoKGZ1bmN0aW9uKGUsbyl7dmFyIG49MD09PWoubWluP286bysxO3JldHVybnt2YWx1ZTpuLnRvU3RyaW5nKCksbGFiZWw6RChuLGosTyxDLFApfX0pKS5maWx0ZXIoRSl9KSxbcCxDLE8sUF0pLEw9SlNPTi5zdHJpbmdpZnkoeSksSj11KChmdW5jdGlvbihuKXt2YXIgcj1uLnZhbHVlO2lmKCF0fHx0WzBdIT09TnVtYmVyKHIpKXJldHVybiBlKG8se30pO3ZhciBsPU4oeCh0LGopLGosTyxDLFApLGk9bC5tYXRjaCgvXlxcKlxcLyhbMC05XSspLD8vKXx8W107cmV0dXJuIGUoXCJkaXZcIix7Y2hpbGRyZW46aVsxXT9cIlwiLmNvbmNhdCh5LmV2ZXJ5VGV4dHx8Zi5ldmVyeVRleHQsXCIgXCIpLmNvbmNhdChpWzFdKTpsfSl9KSxbdCxMLE8sQyxQXSksWj11KChmdW5jdGlvbihlKXt2YXIgbz1BcnJheS5pc0FycmF5KGUpP2goZSk6W2VdLG49bzt0JiYobj1cInNpbmdsZVwiPT09Rj9bXTp2KFtdLHQsITApLG8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG89TnVtYmVyKGUpO249dC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PW99KSk/bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09b30pKTpoKHYodihbXSxuLCEwKSxbb10sITEpKX0pKSksbi5sZW5ndGg9PT1qLnRvdGFsP20oW10pOm0obil9KSxbbSx0XSksej11KChmdW5jdGlvbihlKXtpZigwIT09ZSYmMSE9PWUpe2Zvcih2YXIgbz1qLnRvdGFsK2oubWluLG49W10scj1qLm1pbjtyPG87cisrKXIlZT09MCYmbi5wdXNoKHIpO3ZhciBsPXQmJm4mJnQubGVuZ3RoPT09bi5sZW5ndGgmJnQuZXZlcnkoKGZ1bmN0aW9uKGUsbyl7cmV0dXJuIGU9PT1uW29dfSkpLGk9bi5sZW5ndGg9PT1JLmxlbmd0aDttKGl8fGw/W106bil9ZWxzZSBtKFtdKX0pLFt0LEksbV0pLFU9bChbXSksQj11KChmdW5jdGlvbihlKXtpZighayl7dmFyIG89VS5jdXJyZW50O28ucHVzaCh7dGltZToobmV3IERhdGUpLmdldFRpbWUoKSx2YWx1ZTpOdW1iZXIoZSl9KTt2YXIgbj13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtTJiZvLmxlbmd0aD4xJiZvW28ubGVuZ3RoLTFdLnRpbWUtb1tvLmxlbmd0aC0yXS50aW1lPDMwMD9vW28ubGVuZ3RoLTFdLnZhbHVlPT09b1tvLmxlbmd0aC0yXS52YWx1ZT96KE51bWJlcihlKSk6Wihbb1tvLmxlbmd0aC0yXS52YWx1ZSxvW28ubGVuZ3RoLTFdLnZhbHVlXSk6WihOdW1iZXIoZSkpLFUuY3VycmVudD1bXX0pLDMwMCk7cmV0dXJuIGZ1bmN0aW9uKCl7d2luZG93LmNsZWFyVGltZW91dChuKX19fSksW1UsWix6LGssU10pLFI9dSgoZnVuY3Rpb24oKXtrfHxtKFtdKX0pLFttLGtdKSxZPWEoKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHcoKChlPXtcInJlYWN0LWpzLWNyb24tc2VsZWN0XCI6ITAsXCJyZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3RcIjohMH0pW1wiXCIuY29uY2F0KGcsXCItc2VsZWN0XCIpXT0hIWcsZSkpfSksW2ddKSxfPWEoKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHcoKChlPXtcInJlYWN0LWpzLWNyb24tc2VsZWN0LWRyb3Bkb3duXCI6ITB9KVtcInJlYWN0LWpzLWNyb24tc2VsZWN0LWRyb3Bkb3duLVwiLmNvbmNhdChqLnR5cGUpXT0hMCxlW1wicmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LWRyb3Bkb3duXCJdPSEwLGVbXCJyZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24tXCIuY29uY2F0KGoudHlwZSldPSEwLGVbXCJyZWFjdC1qcy1jcm9uLWN1c3RvbS1zZWxlY3QtZHJvcGRvd24tbWludXRlcy1sYXJnZVwiXT1cIm1pbnV0ZXNcIj09PWoudHlwZSYmXCJob3VyXCIhPT1NJiZcImRheVwiIT09TSxlW1wicmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LWRyb3Bkb3duLW1pbnV0ZXMtbWVkaXVtXCJdPVwibWludXRlc1wiPT09ai50eXBlJiYoXCJkYXlcIj09PU18fFwiaG91clwiPT09TSksZVtcInJlYWN0LWpzLWNyb24tY3VzdG9tLXNlbGVjdC1kcm9wZG93bi1ob3Vycy10d2VsdmUtaG91ci1jbG9ja1wiXT1cImhvdXJzXCI9PT1qLnR5cGUmJlwiMTItaG91ci1jbG9ja1wiPT09UCxlW1wicmVhY3QtanMtY3Jvbi1jdXN0b20tc2VsZWN0LWRyb3Bkb3duLWdyaWRcIl09ISFkLGVbXCJcIi5jb25jYXQoZyxcIi1zZWxlY3QtZHJvcGRvd25cIildPSEhZyxlW1wiXCIuY29uY2F0KGcsXCItc2VsZWN0LWRyb3Bkb3duLVwiKS5jb25jYXQoai50eXBlKV09ISFnLGUpKX0pLFtnLGQsUCxNXSk7cmV0dXJuIGUocixjKHttb2RlOlwic2luZ2xlXCIhPT1GfHxTP1wibXVsdGlwbGVcIjp2b2lkIDAsYWxsb3dDbGVhcjpudWxsIT1BP0E6IWssdmlydHVhbDohMSxvcGVuOiFrJiZ2b2lkIDAsdmFsdWU6VCxvbkNsZWFyOlIsdGFnUmVuZGVyOkosY2xhc3NOYW1lOlkscG9wdXBDbGFzc05hbWU6XyxvcHRpb25zOkksc2hvd1NlYXJjaDohMSxzdWZmaXhJY29uOms/bnVsbDp2b2lkIDAsbWVudUl0ZW1TZWxlY3RlZEljb246bnVsbCxwb3B1cE1hdGNoU2VsZWN0V2lkdGg6ITEsb25TZWxlY3Q6QixvbkRlc2VsZWN0OkIsZGlzYWJsZWQ6Yixkcm9wZG93bkFsaWduOlwibWludXRlc1wiIT09ai50eXBlJiZcImhvdXJzXCIhPT1qLnR5cGV8fFwiZGF5XCI9PT1NfHxcImhvdXJcIj09PU0/dm9pZCAwOntwb2ludHM6W1widHJcIixcImJyXCJdfSxcImRhdGEtdGVzdGlkXCI6XCJjdXN0b20tc2VsZWN0LVwiLmNvbmNhdChqLnR5cGUpLGdldFBvcHVwQ29udGFpbmVyOld9LEgpKX1mdW5jdGlvbiBFKG8pe3ZhciByPW8udmFsdWUsdD1vLnNldFZhbHVlLGw9by5sb2NhbGUsaT1vLmNsYXNzTmFtZSx1PW8uZGlzYWJsZWQsZD1vLnJlYWRPbmx5LHM9by5sZWFkaW5nWmVybyx2PW8uY2xvY2tGb3JtYXQscD1vLnBlcmlvZCx5PW8ucGVyaW9kaWNpdHlPbkRvdWJsZUNsaWNrLGg9by5tb2RlLGc9by5hbGxvd0NsZWFyLE89by5maWx0ZXJPcHRpb24sYj1vLmdldFBvcHVwQ29udGFpbmVyLGs9YSgoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdygoKGU9e1wicmVhY3QtanMtY3Jvbi1maWVsZFwiOiEwLFwicmVhY3QtanMtY3Jvbi1ob3Vyc1wiOiEwfSlbXCJcIi5jb25jYXQoaSxcIi1maWVsZFwiKV09ISFpLGVbXCJcIi5jb25jYXQoaSxcIi1ob3Vyc1wiKV09ISFpLGUpKX0pLFtpXSk7cmV0dXJuIG4oXCJkaXZcIixjKHtjbGFzc05hbWU6a30se2NoaWxkcmVuOltcIlwiIT09bC5wcmVmaXhIb3VycyYmZShcInNwYW5cIix7Y2hpbGRyZW46bC5wcmVmaXhIb3Vyc3x8Zi5wcmVmaXhIb3Vyc30pLGUoVix7cGxhY2Vob2xkZXI6bC5lbXB0eUhvdXJzfHxmLmVtcHR5SG91cnMsdmFsdWU6cix1bml0Om1bMV0sc2V0VmFsdWU6dCxsb2NhbGU6bCxjbGFzc05hbWU6aSxkaXNhYmxlZDp1LHJlYWRPbmx5OmQsbGVhZGluZ1plcm86cyxjbG9ja0Zvcm1hdDp2LHBlcmlvZDpwLHBlcmlvZGljaXR5T25Eb3VibGVDbGljazp5LG1vZGU6aCxhbGxvd0NsZWFyOmcsZmlsdGVyT3B0aW9uOk8sZ2V0UG9wdXBDb250YWluZXI6Yn0pXX0pKX1mdW5jdGlvbiBXKG8pe3ZhciByPW8udmFsdWUsdD1vLnNldFZhbHVlLGw9by5sb2NhbGUsaT1vLmNsYXNzTmFtZSx1PW8uZGlzYWJsZWQsZD1vLnJlYWRPbmx5LHM9by5sZWFkaW5nWmVybyx2PW8uY2xvY2tGb3JtYXQscD1vLnBlcmlvZCx5PW8ucGVyaW9kaWNpdHlPbkRvdWJsZUNsaWNrLGg9by5tb2RlLGc9by5hbGxvd0NsZWFyLE89by5maWx0ZXJPcHRpb24sYj1vLmdldFBvcHVwQ29udGFpbmVyLGs9YSgoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdygoKGU9e1wicmVhY3QtanMtY3Jvbi1maWVsZFwiOiEwLFwicmVhY3QtanMtY3Jvbi1taW51dGVzXCI6ITB9KVtcIlwiLmNvbmNhdChpLFwiLWZpZWxkXCIpXT0hIWksZVtcIlwiLmNvbmNhdChpLFwiLW1pbnV0ZXNcIildPSEhaSxlKSl9KSxbaV0pO3JldHVybiBuKFwiZGl2XCIsYyh7Y2xhc3NOYW1lOmt9LHtjaGlsZHJlbjpbXCJob3VyXCI9PT1wP1wiXCIhPT1sLnByZWZpeE1pbnV0ZXNGb3JIb3VyUGVyaW9kJiZlKFwic3BhblwiLHtjaGlsZHJlbjpsLnByZWZpeE1pbnV0ZXNGb3JIb3VyUGVyaW9kfHxmLnByZWZpeE1pbnV0ZXNGb3JIb3VyUGVyaW9kfSk6XCJcIiE9PWwucHJlZml4TWludXRlcyYmZShcInNwYW5cIix7Y2hpbGRyZW46bC5wcmVmaXhNaW51dGVzfHxmLnByZWZpeE1pbnV0ZXN9KSxlKFYse3BsYWNlaG9sZGVyOlwiaG91clwiPT09cD9sLmVtcHR5TWludXRlc0ZvckhvdXJQZXJpb2R8fGYuZW1wdHlNaW51dGVzRm9ySG91clBlcmlvZDpsLmVtcHR5TWludXRlc3x8Zi5lbXB0eU1pbnV0ZXMsdmFsdWU6cix1bml0Om1bMF0sc2V0VmFsdWU6dCxsb2NhbGU6bCxjbGFzc05hbWU6aSxkaXNhYmxlZDp1LHJlYWRPbmx5OmQsbGVhZGluZ1plcm86cyxjbG9ja0Zvcm1hdDp2LHBlcmlvZDpwLHBlcmlvZGljaXR5T25Eb3VibGVDbGljazp5LG1vZGU6aCxhbGxvd0NsZWFyOmcsZmlsdGVyT3B0aW9uOk8sZ2V0UG9wdXBDb250YWluZXI6Yn0pLFwiaG91clwiPT09cCYmXCJcIiE9PWwuc3VmZml4TWludXRlc0ZvckhvdXJQZXJpb2QmJmUoXCJzcGFuXCIse2NoaWxkcmVuOmwuc3VmZml4TWludXRlc0ZvckhvdXJQZXJpb2R8fGYuc3VmZml4TWludXRlc0ZvckhvdXJQZXJpb2R9KV19KSl9ZnVuY3Rpb24gSChvKXt2YXIgcj1vLnZhbHVlLHQ9by5zZXRWYWx1ZSxsPW8ubG9jYWxlLGk9by5jbGFzc05hbWUsdT1vLndlZWtEYXlzLGQ9by5kaXNhYmxlZCxzPW8ucmVhZE9ubHksdj1vLmxlYWRpbmdaZXJvLHA9by5wZXJpb2QseT1vLnBlcmlvZGljaXR5T25Eb3VibGVDbGljayxoPW8ubW9kZSxnPW8uYWxsb3dDbGVhcixPPW8uZmlsdGVyT3B0aW9uLGI9by5nZXRQb3B1cENvbnRhaW5lcixrPSF1fHwwPT09dS5sZW5ndGgsQz1hKChmdW5jdGlvbigpe3ZhciBlO3JldHVybiB3KCgoZT17XCJyZWFjdC1qcy1jcm9uLWZpZWxkXCI6ITAsXCJyZWFjdC1qcy1jcm9uLW1vbnRoLWRheXNcIjohMCxcInJlYWN0LWpzLWNyb24tbW9udGgtZGF5cy1wbGFjZWhvbGRlclwiOiFrfSlbXCJcIi5jb25jYXQoaSxcIi1maWVsZFwiKV09ISFpLGVbXCJcIi5jb25jYXQoaSxcIi1tb250aC1kYXlzXCIpXT0hIWksZSkpfSksW2ksa10pLE49SlNPTi5zdHJpbmdpZnkobCksRD1hKChmdW5jdGlvbigpe3JldHVybiBrP2wuZW1wdHlNb250aERheXN8fGYuZW1wdHlNb250aERheXM6bC5lbXB0eU1vbnRoRGF5c1Nob3J0fHxmLmVtcHR5TW9udGhEYXlzU2hvcnR9KSxbayxOXSk7cmV0dXJuIXN8fHImJnIubGVuZ3RoPjB8fCghcnx8MD09PXIubGVuZ3RoKSYmKCF1fHwwPT09dS5sZW5ndGgpP24oXCJkaXZcIixjKHtjbGFzc05hbWU6Q30se2NoaWxkcmVuOltcIlwiIT09bC5wcmVmaXhNb250aERheXMmJmUoXCJzcGFuXCIse2NoaWxkcmVuOmwucHJlZml4TW9udGhEYXlzfHxmLnByZWZpeE1vbnRoRGF5c30pLGUoVix7cGxhY2Vob2xkZXI6RCx2YWx1ZTpyLHNldFZhbHVlOnQsdW5pdDptWzJdLGxvY2FsZTpsLGNsYXNzTmFtZTppLGRpc2FibGVkOmQscmVhZE9ubHk6cyxsZWFkaW5nWmVybzp2LHBlcmlvZDpwLHBlcmlvZGljaXR5T25Eb3VibGVDbGljazp5LG1vZGU6aCxhbGxvd0NsZWFyOmcsZmlsdGVyT3B0aW9uOk8sZ2V0UG9wdXBDb250YWluZXI6Yn0pXX0pKTpudWxsfWZ1bmN0aW9uIFQobyl7dmFyIHI9by52YWx1ZSx0PW8uc2V0VmFsdWUsbD1vLmxvY2FsZSxpPW8uY2xhc3NOYW1lLHU9by5odW1hbml6ZUxhYmVscyxkPW8uZGlzYWJsZWQscz1vLnJlYWRPbmx5LHY9by5wZXJpb2QscD1vLnBlcmlvZGljaXR5T25Eb3VibGVDbGljayx5PW8ubW9kZSxoPW8uYWxsb3dDbGVhcixnPW8uZmlsdGVyT3B0aW9uLE89by5nZXRQb3B1cENvbnRhaW5lcixiPWwubW9udGhzfHxmLm1vbnRocyxrPWEoKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHcoKChlPXtcInJlYWN0LWpzLWNyb24tZmllbGRcIjohMCxcInJlYWN0LWpzLWNyb24tbW9udGhzXCI6ITB9KVtcIlwiLmNvbmNhdChpLFwiLWZpZWxkXCIpXT0hIWksZVtcIlwiLmNvbmNhdChpLFwiLW1vbnRoc1wiKV09ISFpLGUpKX0pLFtpXSk7cmV0dXJuIG4oXCJkaXZcIixjKHtjbGFzc05hbWU6a30se2NoaWxkcmVuOltcIlwiIT09bC5wcmVmaXhNb250aHMmJmUoXCJzcGFuXCIse2NoaWxkcmVuOmwucHJlZml4TW9udGhzfHxmLnByZWZpeE1vbnRoc30pLGUoVix7cGxhY2Vob2xkZXI6bC5lbXB0eU1vbnRoc3x8Zi5lbXB0eU1vbnRocyxvcHRpb25zTGlzdDpiLGdyaWQ6ITEsdmFsdWU6cix1bml0OmMoYyh7fSxtWzNdKSx7YWx0OmwuYWx0TW9udGhzfHxmLmFsdE1vbnRoc30pLHNldFZhbHVlOnQsbG9jYWxlOmwsY2xhc3NOYW1lOmksaHVtYW5pemVMYWJlbHM6dSxkaXNhYmxlZDpkLHJlYWRPbmx5OnMscGVyaW9kOnYscGVyaW9kaWNpdHlPbkRvdWJsZUNsaWNrOnAsbW9kZTp5LGFsbG93Q2xlYXI6aCxmaWx0ZXJPcHRpb246ZyxnZXRQb3B1cENvbnRhaW5lcjpPfSldfSkpfWZ1bmN0aW9uIEkobyl7dmFyIHQ9by52YWx1ZSxsPW8uc2V0VmFsdWUsaT1vLmxvY2FsZSxkPW8uY2xhc3NOYW1lLHM9by5kaXNhYmxlZCx2PW8ucmVhZE9ubHkscD1vLnNob3J0Y3V0cyxtPW8uYWxsb3dlZFBlcmlvZHMseT1vLmFsbG93Q2xlYXIsaD1vLmdldFBvcHVwQ29udGFpbmVyLGc9W107bS5pbmNsdWRlcyhcInllYXJcIikmJmcucHVzaCh7dmFsdWU6XCJ5ZWFyXCIsbGFiZWw6aS55ZWFyT3B0aW9ufHxmLnllYXJPcHRpb259KSxtLmluY2x1ZGVzKFwibW9udGhcIikmJmcucHVzaCh7dmFsdWU6XCJtb250aFwiLGxhYmVsOmkubW9udGhPcHRpb258fGYubW9udGhPcHRpb259KSxtLmluY2x1ZGVzKFwid2Vla1wiKSYmZy5wdXNoKHt2YWx1ZTpcIndlZWtcIixsYWJlbDppLndlZWtPcHRpb258fGYud2Vla09wdGlvbn0pLG0uaW5jbHVkZXMoXCJkYXlcIikmJmcucHVzaCh7dmFsdWU6XCJkYXlcIixsYWJlbDppLmRheU9wdGlvbnx8Zi5kYXlPcHRpb259KSxtLmluY2x1ZGVzKFwiaG91clwiKSYmZy5wdXNoKHt2YWx1ZTpcImhvdXJcIixsYWJlbDppLmhvdXJPcHRpb258fGYuaG91ck9wdGlvbn0pLG0uaW5jbHVkZXMoXCJtaW51dGVcIikmJmcucHVzaCh7dmFsdWU6XCJtaW51dGVcIixsYWJlbDppLm1pbnV0ZU9wdGlvbnx8Zi5taW51dGVPcHRpb259KSxtLmluY2x1ZGVzKFwicmVib290XCIpJiZwJiYoITA9PT1wfHxwLmluY2x1ZGVzKFwiQHJlYm9vdFwiKSkmJmcucHVzaCh7dmFsdWU6XCJyZWJvb3RcIixsYWJlbDppLnJlYm9vdE9wdGlvbnx8Zi5yZWJvb3RPcHRpb259KTt2YXIgTz11KChmdW5jdGlvbihlKXt2fHxsKGUpfSksW2wsdl0pLGI9YSgoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdygoKGU9e1wicmVhY3QtanMtY3Jvbi1maWVsZFwiOiEwLFwicmVhY3QtanMtY3Jvbi1wZXJpb2RcIjohMH0pW1wiXCIuY29uY2F0KGQsXCItZmllbGRcIildPSEhZCxlW1wiXCIuY29uY2F0KGQsXCItcGVyaW9kXCIpXT0hIWQsZSkpfSksW2RdKSxrPWEoKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHcoKChlPXtcInJlYWN0LWpzLWNyb24tc2VsZWN0XCI6ITAsXCJyZWFjdC1qcy1jcm9uLXNlbGVjdC1uby1wcmVmaXhcIjpcIlwiPT09aS5wcmVmaXhQZXJpb2R9KVtcIlwiLmNvbmNhdChkLFwiLXNlbGVjdFwiKV09ISFkLGUpKX0pLFtkLGkucHJlZml4UGVyaW9kXSksQz1hKChmdW5jdGlvbigpe3ZhciBlO3JldHVybiB3KCgoZT17XCJyZWFjdC1qcy1jcm9uLXNlbGVjdC1kcm9wZG93blwiOiEwLFwicmVhY3QtanMtY3Jvbi1zZWxlY3QtZHJvcGRvd24tcGVyaW9kXCI6ITB9KVtcIlwiLmNvbmNhdChkLFwiLXNlbGVjdC1kcm9wZG93blwiKV09ISFkLGVbXCJcIi5jb25jYXQoZCxcIi1zZWxlY3QtZHJvcGRvd24tcGVyaW9kXCIpXT0hIWQsZSkpfSksW2RdKTtyZXR1cm4gbihcImRpdlwiLGMoe2NsYXNzTmFtZTpifSx7Y2hpbGRyZW46W1wiXCIhPT1pLnByZWZpeFBlcmlvZCYmZShcInNwYW5cIix7Y2hpbGRyZW46aS5wcmVmaXhQZXJpb2R8fGYucHJlZml4UGVyaW9kfSksZShyLHtkZWZhdWx0VmFsdWU6dCx2YWx1ZTp0LG9uQ2hhbmdlOk8sb3B0aW9uczpnLGNsYXNzTmFtZTprLHBvcHVwQ2xhc3NOYW1lOkMsZGlzYWJsZWQ6cyxzdWZmaXhJY29uOnY/bnVsbDp2b2lkIDAsb3BlbjohdiYmdm9pZCAwLFwiZGF0YS10ZXN0aWRcIjpcInNlbGVjdC1wZXJpb2RcIixhbGxvd0NsZWFyOnksZ2V0UG9wdXBDb250YWluZXI6aH0sSlNPTi5zdHJpbmdpZnkoaSkpXX0pKX1mdW5jdGlvbiBMKG8pe3ZhciByPW8udmFsdWUsdD1vLnNldFZhbHVlLGw9by5sb2NhbGUsaT1vLmNsYXNzTmFtZSx1PW8uaHVtYW5pemVMYWJlbHMsZD1vLm1vbnRoRGF5cyxzPW8uZGlzYWJsZWQsdj1vLnJlYWRPbmx5LHA9by5wZXJpb2QseT1vLnBlcmlvZGljaXR5T25Eb3VibGVDbGljayxoPW8ubW9kZSxnPW8uYWxsb3dDbGVhcixPPW8uZmlsdGVyT3B0aW9uLGI9by5nZXRQb3B1cENvbnRhaW5lcixrPWwud2Vla0RheXN8fGYud2Vla0RheXMsQz1cIndlZWtcIj09PXB8fCFkfHwwPT09ZC5sZW5ndGgsTj1hKChmdW5jdGlvbigpe3ZhciBlO3JldHVybiB3KCgoZT17XCJyZWFjdC1qcy1jcm9uLWZpZWxkXCI6ITAsXCJyZWFjdC1qcy1jcm9uLXdlZWstZGF5c1wiOiEwLFwicmVhY3QtanMtY3Jvbi13ZWVrLWRheXMtcGxhY2Vob2xkZXJcIjohQ30pW1wiXCIuY29uY2F0KGksXCItZmllbGRcIildPSEhaSxlW1wiXCIuY29uY2F0KGksXCItd2Vlay1kYXlzXCIpXT0hIWksZSkpfSksW2ksQ10pLEQ9SlNPTi5zdHJpbmdpZnkobCkseD1hKChmdW5jdGlvbigpe3JldHVybiBDP2wuZW1wdHlXZWVrRGF5c3x8Zi5lbXB0eVdlZWtEYXlzOmwuZW1wdHlXZWVrRGF5c1Nob3J0fHxmLmVtcHR5V2Vla0RheXNTaG9ydH0pLFtDLERdKSxQPVwid2Vla1wiPT09cHx8IXZ8fHImJnIubGVuZ3RoPjB8fCghcnx8MD09PXIubGVuZ3RoKSYmKCFkfHwwPT09ZC5sZW5ndGgpLE09IXZ8fGQmJmQubGVuZ3RoPjB8fCghZHx8MD09PWQubGVuZ3RoKSYmKCFyfHwwPT09ci5sZW5ndGgpO3JldHVybiBQP24oXCJkaXZcIixjKHtjbGFzc05hbWU6Tn0se2NoaWxkcmVuOltcIlwiIT09bC5wcmVmaXhXZWVrRGF5cyYmKFwid2Vla1wiPT09cHx8IU0pJiZlKFwic3BhblwiLHtjaGlsZHJlbjpsLnByZWZpeFdlZWtEYXlzfHxmLnByZWZpeFdlZWtEYXlzfSksXCJcIiE9PWwucHJlZml4V2Vla0RheXNGb3JNb250aEFuZFllYXJQZXJpb2QmJlwid2Vla1wiIT09cCYmTSYmZShcInNwYW5cIix7Y2hpbGRyZW46bC5wcmVmaXhXZWVrRGF5c0Zvck1vbnRoQW5kWWVhclBlcmlvZHx8Zi5wcmVmaXhXZWVrRGF5c0Zvck1vbnRoQW5kWWVhclBlcmlvZH0pLGUoVix7cGxhY2Vob2xkZXI6eCxvcHRpb25zTGlzdDprLGdyaWQ6ITEsdmFsdWU6cix1bml0OmMoYyh7fSxtWzRdKSx7YWx0OmwuYWx0V2Vla0RheXN8fGYuYWx0V2Vla0RheXN9KSxzZXRWYWx1ZTp0LGxvY2FsZTpsLGNsYXNzTmFtZTppLGh1bWFuaXplTGFiZWxzOnUsZGlzYWJsZWQ6cyxyZWFkT25seTp2LHBlcmlvZDpwLHBlcmlvZGljaXR5T25Eb3VibGVDbGljazp5LG1vZGU6aCxhbGxvd0NsZWFyOmcsZmlsdGVyT3B0aW9uOk8sZ2V0UG9wdXBDb250YWluZXI6Yn0pXX0pKTpudWxsfWZ1bmN0aW9uIEoocil7dmFyIHYscCxtLHksaCxnLGIsTixELHgsUCxNLGosUyxGLEEsVixKLFoseixVLEIsUixZLF8sRyxxLEssUSxYLCQsZWUsb2UsbmUscmUsdGUsbGUsaWUsYWUsdWUsZGUsY2Usc2UsdmUscGUsbWUsZmUseWUsaGUsZ2Usd2UsT2UsYmUsa2UsQ2UsTmUsRGUseGUsUGUsTWUsamUsU2UsRmUsQWUsVmUsRWUsV2UsSGUsVGUsSWUsTGUsSmU9ci5jbGVhckJ1dHRvbixaZT12b2lkIDA9PT1KZXx8SmUsemU9ci5jbGVhckJ1dHRvblByb3BzLFVlPXZvaWQgMD09PXplP3t9OnplLEJlPXIuY2xlYXJCdXR0b25BY3Rpb24sUmU9dm9pZCAwPT09QmU/XCJmaWxsLXdpdGgtZXZlcnlcIjpCZSxZZT1yLmxvY2FsZSxfZT12b2lkIDA9PT1ZZT9mOlllLEdlPXIudmFsdWUscWU9dm9pZCAwPT09R2U/XCJcIjpHZSxLZT1yLnNldFZhbHVlLFFlPXIuZGlzcGxheUVycm9yLFhlPXZvaWQgMD09PVFlfHxRZSwkZT1yLm9uRXJyb3IsZW89ci5jbGFzc05hbWUsb289ci5kZWZhdWx0UGVyaW9kLG5vPXZvaWQgMD09PW9vP1wiZGF5XCI6b28scm89ci5hbGxvd0VtcHR5LHRvPXZvaWQgMD09PXJvP1wiZm9yLWRlZmF1bHQtdmFsdWVcIjpybyxsbz1yLmh1bWFuaXplTGFiZWxzLGlvPXZvaWQgMD09PWxvfHxsbyxhbz1yLmh1bWFuaXplVmFsdWUsdW89dm9pZCAwIT09YW8mJmFvLGNvPXIuZGlzYWJsZWQsc289dm9pZCAwIT09Y28mJmNvLHZvPXIucmVhZE9ubHkscG89dm9pZCAwIT09dm8mJnZvLG1vPXIubGVhZGluZ1plcm8sZm89dm9pZCAwIT09bW8mJm1vLHlvPXIuc2hvcnRjdXRzLGhvPXZvaWQgMD09PXlvP1tcIkB5ZWFybHlcIixcIkBhbm51YWxseVwiLFwiQG1vbnRobHlcIixcIkB3ZWVrbHlcIixcIkBkYWlseVwiLFwiQG1pZG5pZ2h0XCIsXCJAaG91cmx5XCJdOnlvLGdvPXIuY2xvY2tGb3JtYXQsd289ci5wZXJpb2RpY2l0eU9uRG91YmxlQ2xpY2ssT289dm9pZCAwPT09d298fHdvLGJvPXIubW9kZSxrbz12b2lkIDA9PT1ibz9cIm11bHRpcGxlXCI6Ym8sQ289ci5hbGxvd2VkRHJvcGRvd25zLE5vPXZvaWQgMD09PUNvP1tcInBlcmlvZFwiLFwibW9udGhzXCIsXCJtb250aC1kYXlzXCIsXCJ3ZWVrLWRheXNcIixcImhvdXJzXCIsXCJtaW51dGVzXCJdOkNvLERvPXIuYWxsb3dlZFBlcmlvZHMseG89dm9pZCAwPT09RG8/W1wieWVhclwiLFwibW9udGhcIixcIndlZWtcIixcImRheVwiLFwiaG91clwiLFwibWludXRlXCIsXCJyZWJvb3RcIl06RG8sUG89ci5hbGxvd0NsZWFyLE1vPXIuZHJvcGRvd25zQ29uZmlnLGpvPXIuZ2V0UG9wdXBDb250YWluZXIsU289bChxZSksRm89bChubyksQW89ZCgpLFZvPUFvWzBdLEVvPUFvWzFdLFdvPWQoKSxIbz1Xb1swXSxUbz1Xb1sxXSxJbz1kKCksTG89SW9bMF0sSm89SW9bMV0sWm89ZCgpLHpvPVpvWzBdLFVvPVpvWzFdLEJvPWQoKSxSbz1Cb1swXSxZbz1Cb1sxXSxfbz1kKCksR289X29bMF0scW89X29bMV0sS289ZCghMSksUW89S29bMF0sWG89S29bMV0sJG89ZCghMSksZW49JG9bMF0sb249JG9bMV0sbm49ZnVuY3Rpb24oZSl7dmFyIG89bChlKTtyZXR1cm4gaSgoZnVuY3Rpb24oKXtvLmN1cnJlbnQ9ZX0pLFtlXSksby5jdXJyZW50fShlbikscm49SlNPTi5zdHJpbmdpZnkoX2UpO2koKGZ1bmN0aW9uKCl7ayhxZSxYbywkZSx0byxTbywhMCxfZSxobyxxbyxZbyxUbyxKbyxVbyxFbyl9KSxbXSksaSgoZnVuY3Rpb24oKXtxZSE9PVNvLmN1cnJlbnQmJmsocWUsWG8sJGUsdG8sU28sITEsX2UsaG8scW8sWW8sVG8sSm8sVW8sRW8pfSksW3FlLFNvLHJuLHRvLGhvXSksaSgoZnVuY3Rpb24oKXtpZighKFZvfHxHb3x8TG98fEhvfHx6b3x8Um8pfHxlbnx8bm4pZW4mJm9uKCExKTtlbHNle3ZhciBlPVZvfHxGby5jdXJyZW50LG89QyhlLExvLEhvLHpvLFJvLEdvLHVvLE1vKTtLZShvLHtzZWxlY3RlZFBlcmlvZDplfSksU28uY3VycmVudD1vLCRlJiYkZSh2b2lkIDApLFhvKCExKX19KSxbVm8sSG8sTG8sem8sUm8sR28sdW8sZW4sTW9dKTt2YXIgdG49dSgoZnVuY3Rpb24oKXtUbyh2b2lkIDApLEpvKHZvaWQgMCksVW8odm9pZCAwKSxZbyh2b2lkIDApLHFvKHZvaWQgMCk7dmFyIGU9XCJcIixvPVwicmVib290XCIhPT1WbyYmVm8/Vm86Rm8uY3VycmVudDsobyE9PVZvJiZFbyhvKSxcImZpbGwtd2l0aC1ldmVyeVwiPT09UmUpJiYoZT1DKG8sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwKSk7S2UoZSx7c2VsZWN0ZWRQZXJpb2Q6b30pLFNvLmN1cnJlbnQ9ZSxvbighMCksXCJuZXZlclwiPT09dG8mJlwiZW1wdHlcIj09PVJlPyhYbyghMCksTygkZSxfZSkpOigkZSYmJGUodm9pZCAwKSxYbyghMSkpfSksW1ZvLEtlLCRlLFJlXSksbG49YSgoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdygoKGU9e1wicmVhY3QtanMtY3JvblwiOiEwLFwicmVhY3QtanMtY3Jvbi1lcnJvclwiOlFvJiZYZSxcInJlYWN0LWpzLWNyb24tZGlzYWJsZWRcIjpzbyxcInJlYWN0LWpzLWNyb24tcmVhZC1vbmx5XCI6cG99KVtcIlwiLmNvbmNhdChlbyldPSEhZW8sZVtcIlwiLmNvbmNhdChlbyxcIi1lcnJvclwiKV09UW8mJlhlJiYhIWVvLGVbXCJcIi5jb25jYXQoZW8sXCItZGlzYWJsZWRcIildPXNvJiYhIWVvLGVbXCJcIi5jb25jYXQoZW8sXCItcmVhZC1vbmx5XCIpXT1wbyYmISFlbyxlKSl9KSxbZW8sUW8sWGUsc28scG9dKSxhbj1VZS5jbGFzc05hbWUsdW49cyhVZSxbXCJjbGFzc05hbWVcIl0pLGRuPWEoKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHcoKChlPXtcInJlYWN0LWpzLWNyb24tY2xlYXItYnV0dG9uXCI6ITB9KVtcIlwiLmNvbmNhdChlbyxcIi1jbGVhci1idXR0b25cIildPSEhZW8sZVtcIlwiLmNvbmNhdChhbildPSEhYW4sZSkpfSksW2VvLGFuXSksY249SlNPTi5zdHJpbmdpZnkodW4pLHNuPWEoKGZ1bmN0aW9uKCl7cmV0dXJuIFplJiYhcG8/ZSh0LGMoe2NsYXNzTmFtZTpkbixkYW5nZXI6ITAsdHlwZTpcInByaW1hcnlcIixkaXNhYmxlZDpzb30sdW4se29uQ2xpY2s6dG59LHtjaGlsZHJlbjpfZS5jbGVhckJ1dHRvblRleHR8fGYuY2xlYXJCdXR0b25UZXh0fSkpOm51bGx9KSxbWmUscG8scm4sZG4sc28sY24sdG5dKSx2bj1Wb3x8Rm8uY3VycmVudDtyZXR1cm4gbihcImRpdlwiLGMoe2NsYXNzTmFtZTpsbn0se2NoaWxkcmVuOltOby5pbmNsdWRlcyhcInBlcmlvZFwiKSYmZShJLHt2YWx1ZTp2bixzZXRWYWx1ZTpFbyxsb2NhbGU6X2UsY2xhc3NOYW1lOmVvLGRpc2FibGVkOm51bGwhPT0ocD1udWxsPT09KHY9bnVsbD09TW8/dm9pZCAwOk1vLnBlcmlvZCl8fHZvaWQgMD09PXY/dm9pZCAwOnYuZGlzYWJsZWQpJiZ2b2lkIDAhPT1wP3A6c28scmVhZE9ubHk6bnVsbCE9PSh5PW51bGw9PT0obT1udWxsPT1Nbz92b2lkIDA6TW8ucGVyaW9kKXx8dm9pZCAwPT09bT92b2lkIDA6bS5yZWFkT25seSkmJnZvaWQgMCE9PXk/eTpwbyxzaG9ydGN1dHM6aG8sYWxsb3dlZFBlcmlvZHM6eG8sYWxsb3dDbGVhcjpudWxsIT09KGc9bnVsbD09PShoPW51bGw9PU1vP3ZvaWQgMDpNby5wZXJpb2QpfHx2b2lkIDA9PT1oP3ZvaWQgMDpoLmFsbG93Q2xlYXIpJiZ2b2lkIDAhPT1nP2c6UG8sZ2V0UG9wdXBDb250YWluZXI6am99KSxcInJlYm9vdFwiPT09dm4/c246bihvLHtjaGlsZHJlbjpbXCJ5ZWFyXCI9PT12biYmTm8uaW5jbHVkZXMoXCJtb250aHNcIikmJmUoVCx7dmFsdWU6TG8sc2V0VmFsdWU6Sm8sbG9jYWxlOl9lLGNsYXNzTmFtZTplbyxodW1hbml6ZUxhYmVsczpudWxsIT09KE49bnVsbD09PShiPW51bGw9PU1vP3ZvaWQgMDpNby5tb250aHMpfHx2b2lkIDA9PT1iP3ZvaWQgMDpiLmh1bWFuaXplTGFiZWxzKSYmdm9pZCAwIT09Tj9OOmlvLGRpc2FibGVkOm51bGwhPT0oeD1udWxsPT09KEQ9bnVsbD09TW8/dm9pZCAwOk1vLm1vbnRocyl8fHZvaWQgMD09PUQ/dm9pZCAwOkQuZGlzYWJsZWQpJiZ2b2lkIDAhPT14P3g6c28scmVhZE9ubHk6bnVsbCE9PShNPW51bGw9PT0oUD1udWxsPT1Nbz92b2lkIDA6TW8ubW9udGhzKXx8dm9pZCAwPT09UD92b2lkIDA6UC5yZWFkT25seSkmJnZvaWQgMCE9PU0/TTpwbyxwZXJpb2Q6dm4scGVyaW9kaWNpdHlPbkRvdWJsZUNsaWNrOm51bGwhPT0oUz1udWxsPT09KGo9bnVsbD09TW8/dm9pZCAwOk1vLm1vbnRocyl8fHZvaWQgMD09PWo/dm9pZCAwOmoucGVyaW9kaWNpdHlPbkRvdWJsZUNsaWNrKSYmdm9pZCAwIT09Uz9TOk9vLG1vZGU6bnVsbCE9PShBPW51bGw9PT0oRj1udWxsPT1Nbz92b2lkIDA6TW8ubW9udGhzKXx8dm9pZCAwPT09Rj92b2lkIDA6Ri5tb2RlKSYmdm9pZCAwIT09QT9BOmtvLGFsbG93Q2xlYXI6bnVsbCE9PShKPW51bGw9PT0oVj1udWxsPT1Nbz92b2lkIDA6TW8ubW9udGhzKXx8dm9pZCAwPT09Vj92b2lkIDA6Vi5hbGxvd0NsZWFyKSYmdm9pZCAwIT09Sj9KOlBvLGZpbHRlck9wdGlvbjpudWxsPT09KFo9bnVsbD09TW8/dm9pZCAwOk1vLm1vbnRocyl8fHZvaWQgMD09PVo/dm9pZCAwOlouZmlsdGVyT3B0aW9uLGdldFBvcHVwQ29udGFpbmVyOmpvfSksKFwieWVhclwiPT09dm58fFwibW9udGhcIj09PXZuKSYmTm8uaW5jbHVkZXMoXCJtb250aC1kYXlzXCIpJiZlKEgse3ZhbHVlOkhvLHNldFZhbHVlOlRvLGxvY2FsZTpfZSxjbGFzc05hbWU6ZW8sd2Vla0RheXM6em8sZGlzYWJsZWQ6bnVsbCE9PShVPW51bGw9PT0oej1udWxsPT1Nbz92b2lkIDA6TW9bXCJtb250aC1kYXlzXCJdKXx8dm9pZCAwPT09ej92b2lkIDA6ei5kaXNhYmxlZCkmJnZvaWQgMCE9PVU/VTpzbyxyZWFkT25seTpudWxsIT09KFI9bnVsbD09PShCPW51bGw9PU1vP3ZvaWQgMDpNb1tcIm1vbnRoLWRheXNcIl0pfHx2b2lkIDA9PT1CP3ZvaWQgMDpCLnJlYWRPbmx5KSYmdm9pZCAwIT09Uj9SOnBvLGxlYWRpbmdaZXJvOm51bGwhPT0oXz1udWxsPT09KFk9bnVsbD09TW8/dm9pZCAwOk1vW1wibW9udGgtZGF5c1wiXSl8fHZvaWQgMD09PVk/dm9pZCAwOlkubGVhZGluZ1plcm8pJiZ2b2lkIDAhPT1fP186Zm8scGVyaW9kOnZuLHBlcmlvZGljaXR5T25Eb3VibGVDbGljazpudWxsIT09KHE9bnVsbD09PShHPW51bGw9PU1vP3ZvaWQgMDpNb1tcIm1vbnRoLWRheXNcIl0pfHx2b2lkIDA9PT1HP3ZvaWQgMDpHLnBlcmlvZGljaXR5T25Eb3VibGVDbGljaykmJnZvaWQgMCE9PXE/cTpPbyxtb2RlOm51bGwhPT0oUT1udWxsPT09KEs9bnVsbD09TW8/dm9pZCAwOk1vW1wibW9udGgtZGF5c1wiXSl8fHZvaWQgMD09PUs/dm9pZCAwOksubW9kZSkmJnZvaWQgMCE9PVE/UTprbyxhbGxvd0NsZWFyOm51bGwhPT0oJD1udWxsPT09KFg9bnVsbD09TW8/dm9pZCAwOk1vW1wibW9udGgtZGF5c1wiXSl8fHZvaWQgMD09PVg/dm9pZCAwOlguYWxsb3dDbGVhcikmJnZvaWQgMCE9PSQ/JDpQbyxmaWx0ZXJPcHRpb246bnVsbD09PShlZT1udWxsPT1Nbz92b2lkIDA6TW9bXCJtb250aC1kYXlzXCJdKXx8dm9pZCAwPT09ZWU/dm9pZCAwOmVlLmZpbHRlck9wdGlvbixnZXRQb3B1cENvbnRhaW5lcjpqb30pLChcInllYXJcIj09PXZufHxcIm1vbnRoXCI9PT12bnx8XCJ3ZWVrXCI9PT12bikmJk5vLmluY2x1ZGVzKFwid2Vlay1kYXlzXCIpJiZlKEwse3ZhbHVlOnpvLHNldFZhbHVlOlVvLGxvY2FsZTpfZSxjbGFzc05hbWU6ZW8saHVtYW5pemVMYWJlbHM6bnVsbCE9PShuZT1udWxsPT09KG9lPW51bGw9PU1vP3ZvaWQgMDpNb1tcIndlZWstZGF5c1wiXSl8fHZvaWQgMD09PW9lP3ZvaWQgMDpvZS5odW1hbml6ZUxhYmVscykmJnZvaWQgMCE9PW5lP25lOmlvLG1vbnRoRGF5czpIbyxkaXNhYmxlZDpudWxsIT09KHRlPW51bGw9PT0ocmU9bnVsbD09TW8/dm9pZCAwOk1vW1wid2Vlay1kYXlzXCJdKXx8dm9pZCAwPT09cmU/dm9pZCAwOnJlLmRpc2FibGVkKSYmdm9pZCAwIT09dGU/dGU6c28scmVhZE9ubHk6bnVsbCE9PShpZT1udWxsPT09KGxlPW51bGw9PU1vP3ZvaWQgMDpNb1tcIndlZWstZGF5c1wiXSl8fHZvaWQgMD09PWxlP3ZvaWQgMDpsZS5yZWFkT25seSkmJnZvaWQgMCE9PWllP2llOnBvLHBlcmlvZDp2bixwZXJpb2RpY2l0eU9uRG91YmxlQ2xpY2s6bnVsbCE9PSh1ZT1udWxsPT09KGFlPW51bGw9PU1vP3ZvaWQgMDpNb1tcIndlZWstZGF5c1wiXSl8fHZvaWQgMD09PWFlP3ZvaWQgMDphZS5wZXJpb2RpY2l0eU9uRG91YmxlQ2xpY2spJiZ2b2lkIDAhPT11ZT91ZTpPbyxtb2RlOm51bGwhPT0oY2U9bnVsbD09PShkZT1udWxsPT1Nbz92b2lkIDA6TW9bXCJ3ZWVrLWRheXNcIl0pfHx2b2lkIDA9PT1kZT92b2lkIDA6ZGUubW9kZSkmJnZvaWQgMCE9PWNlP2NlOmtvLGFsbG93Q2xlYXI6bnVsbCE9PSh2ZT1udWxsPT09KHNlPW51bGw9PU1vP3ZvaWQgMDpNb1tcIndlZWstZGF5c1wiXSl8fHZvaWQgMD09PXNlP3ZvaWQgMDpzZS5hbGxvd0NsZWFyKSYmdm9pZCAwIT09dmU/dmU6UG8sZmlsdGVyT3B0aW9uOm51bGw9PT0ocGU9bnVsbD09TW8/dm9pZCAwOk1vW1wid2Vlay1kYXlzXCJdKXx8dm9pZCAwPT09cGU/dm9pZCAwOnBlLmZpbHRlck9wdGlvbixnZXRQb3B1cENvbnRhaW5lcjpqb30pLG4oXCJkaXZcIix7Y2hpbGRyZW46W1wibWludXRlXCIhPT12biYmXCJob3VyXCIhPT12biYmTm8uaW5jbHVkZXMoXCJob3Vyc1wiKSYmZShFLHt2YWx1ZTpSbyxzZXRWYWx1ZTpZbyxsb2NhbGU6X2UsY2xhc3NOYW1lOmVvLGRpc2FibGVkOm51bGwhPT0oZmU9bnVsbD09PShtZT1udWxsPT1Nbz92b2lkIDA6TW8uaG91cnMpfHx2b2lkIDA9PT1tZT92b2lkIDA6bWUuZGlzYWJsZWQpJiZ2b2lkIDAhPT1mZT9mZTpzbyxyZWFkT25seTpudWxsIT09KGhlPW51bGw9PT0oeWU9bnVsbD09TW8/dm9pZCAwOk1vLmhvdXJzKXx8dm9pZCAwPT09eWU/dm9pZCAwOnllLnJlYWRPbmx5KSYmdm9pZCAwIT09aGU/aGU6cG8sbGVhZGluZ1plcm86bnVsbCE9PSh3ZT1udWxsPT09KGdlPW51bGw9PU1vP3ZvaWQgMDpNby5ob3Vycyl8fHZvaWQgMD09PWdlP3ZvaWQgMDpnZS5sZWFkaW5nWmVybykmJnZvaWQgMCE9PXdlP3dlOmZvLGNsb2NrRm9ybWF0OmdvLHBlcmlvZDp2bixwZXJpb2RpY2l0eU9uRG91YmxlQ2xpY2s6bnVsbCE9PShiZT1udWxsPT09KE9lPW51bGw9PU1vP3ZvaWQgMDpNby5ob3Vycyl8fHZvaWQgMD09PU9lP3ZvaWQgMDpPZS5wZXJpb2RpY2l0eU9uRG91YmxlQ2xpY2spJiZ2b2lkIDAhPT1iZT9iZTpPbyxtb2RlOm51bGwhPT0oQ2U9bnVsbD09PShrZT1udWxsPT1Nbz92b2lkIDA6TW8uaG91cnMpfHx2b2lkIDA9PT1rZT92b2lkIDA6a2UubW9kZSkmJnZvaWQgMCE9PUNlP0NlOmtvLGFsbG93Q2xlYXI6bnVsbCE9PShEZT1udWxsPT09KE5lPW51bGw9PU1vP3ZvaWQgMDpNby5ob3Vycyl8fHZvaWQgMD09PU5lP3ZvaWQgMDpOZS5hbGxvd0NsZWFyKSYmdm9pZCAwIT09RGU/RGU6UG8sZmlsdGVyT3B0aW9uOm51bGw9PT0oeGU9bnVsbD09TW8/dm9pZCAwOk1vLmhvdXJzKXx8dm9pZCAwPT09eGU/dm9pZCAwOnhlLmZpbHRlck9wdGlvbixnZXRQb3B1cENvbnRhaW5lcjpqb30pLFwibWludXRlXCIhPT12biYmTm8uaW5jbHVkZXMoXCJtaW51dGVzXCIpJiZlKFcse3ZhbHVlOkdvLHNldFZhbHVlOnFvLGxvY2FsZTpfZSxwZXJpb2Q6dm4sY2xhc3NOYW1lOmVvLGRpc2FibGVkOm51bGwhPT0oTWU9bnVsbD09PShQZT1udWxsPT1Nbz92b2lkIDA6TW8ubWludXRlcyl8fHZvaWQgMD09PVBlP3ZvaWQgMDpQZS5kaXNhYmxlZCkmJnZvaWQgMCE9PU1lP01lOnNvLHJlYWRPbmx5Om51bGwhPT0oU2U9bnVsbD09PShqZT1udWxsPT1Nbz92b2lkIDA6TW8ubWludXRlcyl8fHZvaWQgMD09PWplP3ZvaWQgMDpqZS5yZWFkT25seSkmJnZvaWQgMCE9PVNlP1NlOnBvLGxlYWRpbmdaZXJvOm51bGwhPT0oQWU9bnVsbD09PShGZT1udWxsPT1Nbz92b2lkIDA6TW8ubWludXRlcyl8fHZvaWQgMD09PUZlP3ZvaWQgMDpGZS5sZWFkaW5nWmVybykmJnZvaWQgMCE9PUFlP0FlOmZvLGNsb2NrRm9ybWF0OmdvLHBlcmlvZGljaXR5T25Eb3VibGVDbGljazpudWxsIT09KEVlPW51bGw9PT0oVmU9bnVsbD09TW8/dm9pZCAwOk1vLm1pbnV0ZXMpfHx2b2lkIDA9PT1WZT92b2lkIDA6VmUucGVyaW9kaWNpdHlPbkRvdWJsZUNsaWNrKSYmdm9pZCAwIT09RWU/RWU6T28sbW9kZTpudWxsIT09KEhlPW51bGw9PT0oV2U9bnVsbD09TW8/dm9pZCAwOk1vLm1pbnV0ZXMpfHx2b2lkIDA9PT1XZT92b2lkIDA6V2UubW9kZSkmJnZvaWQgMCE9PUhlP0hlOmtvLGFsbG93Q2xlYXI6bnVsbCE9PShJZT1udWxsPT09KFRlPW51bGw9PU1vP3ZvaWQgMDpNby5taW51dGVzKXx8dm9pZCAwPT09VGU/dm9pZCAwOlRlLmFsbG93Q2xlYXIpJiZ2b2lkIDAhPT1JZT9JZTpQbyxmaWx0ZXJPcHRpb246bnVsbD09PShMZT1udWxsPT1Nbz92b2lkIDA6TW8ubWludXRlcyl8fHZvaWQgMD09PUxlP3ZvaWQgMDpMZS5maWx0ZXJPcHRpb24sZ2V0UG9wdXBDb250YWluZXI6am99KSxzbl19KV19KV19KSl9ZXhwb3J0e0ogYXMgQ3JvbixBIGFzIGNvbnZlcnRlcixKIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/superset-ui-core/node_modules/react-js-cron/dist/esm/index.js\n\n}");

/***/ }),

/***/ "./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css":
/*!******************************************************************************!*\
  !*** ./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css ***!
  \******************************************************************************/
/***/ ((module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("{/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!./styles.css */ \"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\nif (true) {\n  if (!_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n  var p;\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (!a[p]) {\n      return false;\n    }\n  }\n  return true;\n};\n    var isNamedExport = !_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals;\n    var oldLocals = isNamedExport ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals;\n\n    module.hot.accept(\n      /*! !!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!./styles.css */ \"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css\",\n      __WEBPACK_OUTDATED_DEPENDENCIES__ => { /* harmony import */ _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!./styles.css */ \"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css\");\n return (function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals;\n\n              update(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n      })(__WEBPACK_OUTDATED_DEPENDENCIES__); }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\n\n       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_5_use_1_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9zdXBlcnNldC11aS1jb3JlL25vZGVfbW9kdWxlcy9yZWFjdC1qcy1jcm9uL2Rpc3Qvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vcGFja2FnZXMvc3VwZXJzZXQtdWktY29yZS9ub2RlX21vZHVsZXMvcmVhY3QtanMtY3Jvbi9kaXN0L3N0eWxlcy5jc3M/YzI2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzVdLnVzZVsxXSEuL3N0eWxlcy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cbmlmIChtb2R1bGUuaG90KSB7XG4gIGlmICghY29udGVudC5sb2NhbHMgfHwgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKSB7XG4gICAgdmFyIGlzRXF1YWxMb2NhbHMgPSBmdW5jdGlvbiBpc0VxdWFsTG9jYWxzKGEsIGIsIGlzTmFtZWRFeHBvcnQpIHtcbiAgaWYgKCFhICYmIGIgfHwgYSAmJiAhYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcDtcbiAgZm9yIChwIGluIGEpIHtcbiAgICBpZiAoaXNOYW1lZEV4cG9ydCAmJiBwID09PSBcImRlZmF1bHRcIikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGFbcF0gIT09IGJbcF0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZm9yIChwIGluIGIpIHtcbiAgICBpZiAoaXNOYW1lZEV4cG9ydCAmJiBwID09PSBcImRlZmF1bHRcIikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCFhW3BdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufTtcbiAgICB2YXIgaXNOYW1lZEV4cG9ydCA9ICFjb250ZW50LmxvY2FscztcbiAgICB2YXIgb2xkTG9jYWxzID0gaXNOYW1lZEV4cG9ydCA/IG5hbWVkRXhwb3J0IDogY29udGVudC5sb2NhbHM7XG5cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcbiAgICAgIFwiISEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s1XS51c2VbMV0hLi9zdHlsZXMuY3NzXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaXNFcXVhbExvY2FscyhvbGRMb2NhbHMsIGlzTmFtZWRFeHBvcnQgPyBuYW1lZEV4cG9ydCA6IGNvbnRlbnQubG9jYWxzLCBpc05hbWVkRXhwb3J0KSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2xkTG9jYWxzID0gaXNOYW1lZEV4cG9ydCA/IG5hbWVkRXhwb3J0IDogY29udGVudC5sb2NhbHM7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNV0udXNlWzFdIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/superset-ui-core/node_modules/react-js-cron/dist/styles.css\n\n}");

/***/ })

}]);