"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["src_explore_components_controls_AnnotationLayerControl_AnnotationLayer_jsx"],{

/***/ "./src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx":
/*!************************************************************************************!*\
  !*** ./src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx ***!
  \************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-dev-runtime */ \"./node_modules/@emotion/react/jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.development.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var rison__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rison */ \"./node_modules/rison/js/rison.js\");\n/* harmony import */ var rison__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rison__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _superset_ui_core_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @superset-ui/core/components */ \"./packages/superset-ui-core/src/components/Select/AsyncSelect.tsx\");\n/* harmony import */ var _superset_ui_core_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @superset-ui/core/components */ \"./packages/superset-ui-core/src/components/Button/index.tsx\");\n/* harmony import */ var _superset_ui_core_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @superset-ui/core/components */ \"./packages/superset-ui-core/src/components/ColorPicker/index.tsx\");\n/* harmony import */ var _superset_ui_core_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @superset-ui/core/components */ \"./packages/superset-ui-core/src/components/EmptyState/index.tsx\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/translation/TranslatorSingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/connection/SupersetClient.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/validator/validateNonEmpty.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/color/CategoricalSchemeRegistrySingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/query/getColumnLabel.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/chart/registries/ChartMetadataRegistrySingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/math-expression/index.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/chart/types/VizType.ts\");\n/* harmony import */ var _apache_superset_core_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @apache-superset/core/ui */ \"./packages/superset-core/src/ui/theme/index.tsx\");\n/* harmony import */ var _apache_superset_core_ui__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @apache-superset/core/ui */ \"./node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js\");\n/* harmony import */ var src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! src/explore/components/controls/SelectControl */ \"./src/explore/components/controls/SelectControl.jsx\");\n/* harmony import */ var src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! src/explore/components/controls/TextControl */ \"./src/explore/components/controls/TextControl/index.tsx\");\n/* harmony import */ var src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! src/explore/components/controls/CheckboxControl */ \"./src/explore/components/controls/CheckboxControl.jsx\");\n/* harmony import */ var _superset_ui_core_components_PopoverSection__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @superset-ui/core/components/PopoverSection */ \"./packages/superset-ui-core/src/components/PopoverSection/index.tsx\");\n/* harmony import */ var src_explore_components_ControlHeader__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! src/explore/components/ControlHeader */ \"./src/explore/components/ControlHeader.tsx\");\n/* harmony import */ var _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./AnnotationTypes */ \"./src/explore/components/controls/AnnotationLayerControl/AnnotationTypes.js\");\n/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ \"./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js\");\n/* provided dependency */ var __react_refresh_error_overlay__ = __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js */ \"./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js\");\n__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ./node_modules/react-refresh/runtime.js */ \"./node_modules/react-refresh/runtime.js\");\n\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */ function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _extends() {\n    _extends = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst AUTOMATIC_COLOR = '';\nconst propTypes = {\n    name: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    annotationType: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    sourceType: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    color: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    opacity: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    style: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    width: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number),\n    showMarkers: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),\n    hideLine: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),\n    value: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOfType([\n        (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n        (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number)\n    ]),\n    overrides: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),\n    show: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),\n    showLabel: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),\n    titleColumn: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    descriptionColumns: prop_types__WEBPACK_IMPORTED_MODULE_3___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_3___default().string)),\n    timeColumn: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    intervalEndColumn: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    vizType: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    error: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    colorScheme: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    addAnnotationLayer: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func),\n    removeAnnotationLayer: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func),\n    close: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func)\n};\nconst defaultProps = {\n    name: '',\n    annotationType: _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.DEFAULT_ANNOTATION_TYPE,\n    sourceType: '',\n    color: AUTOMATIC_COLOR,\n    opacity: '',\n    style: 'solid',\n    width: 1,\n    showMarkers: false,\n    hideLine: false,\n    overrides: {},\n    colorScheme: 'd3Category10',\n    show: true,\n    showLabel: false,\n    titleColumn: '',\n    descriptionColumns: [],\n    timeColumn: '',\n    intervalEndColumn: '',\n    addAnnotationLayer: ()=>{},\n    removeAnnotationLayer: ()=>{},\n    close: ()=>{}\n};\nconst NotFoundContentWrapper = _apache_superset_core_ui__WEBPACK_IMPORTED_MODULE_16__.styled.div`\n  && > div:first-child {\n    padding-left: 0;\n    padding-right: 0;\n  }\n`;\n_c = NotFoundContentWrapper;\nconst NotFoundContent = ()=>/*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NotFoundContentWrapper, {\n        children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components__WEBPACK_IMPORTED_MODULE_7__.EmptyState, {\n            title: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('No annotation layers'),\n            size: \"small\",\n            description: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: [\n                    (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Add an annotation layer'),\n                    ' ',\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                        href: \"/annotationlayer/list\",\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\",\n                        children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('here')\n                    }, void 0, false, {\n                        fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                        lineNumber: 122,\n                        columnNumber: 11\n                    }, void 0),\n                    \".\"\n                ]\n            }, void 0, true, {\n                fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                lineNumber: 120,\n                columnNumber: 9\n            }, void 0),\n            image: \"empty.svg\"\n        }, void 0, false, {\n            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n            lineNumber: 116,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n        lineNumber: 115,\n        columnNumber: 3\n    }, undefined);\n_c1 = NotFoundContent;\nclass AnnotationLayer extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {\n    componentDidMount() {\n        if (this.shouldFetchAppliedAnnotation()) {\n            const { value } = this.state;\n            /* The value prop is the id of the chart/native. This function will set\n      value in state to an object with the id as value.value to be used by\n      AsyncSelect */ this.fetchAppliedAnnotation(value);\n        }\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (this.shouldFetchSliceData(prevState)) {\n            const { value } = this.state;\n            this.fetchSliceData(value.value);\n        }\n    }\n    getSupportedSourceTypes(annotationType) {\n        var _ANNOTATION_TYPES_METADATA_annotationType;\n        // Get vis types that can be source.\n        const sources = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__[\"default\"])().entries().filter(({ value: chartMetadata })=>chartMetadata.canBeAnnotationType(annotationType)).map(({ key, value: chartMetadata })=>({\n                value: key === _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__.VizType.Line ? 'line' : key,\n                label: chartMetadata.name\n            }));\n        // Prepend native source if applicable\n        if ((_ANNOTATION_TYPES_METADATA_annotationType = _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES_METADATA[annotationType]) == null ? void 0 : _ANNOTATION_TYPES_METADATA_annotationType.supportNativeSource) {\n            sources.unshift(_AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_SOURCE_TYPES_METADATA.NATIVE);\n        }\n        return sources;\n    }\n    shouldFetchAppliedAnnotation() {\n        const { value, sourceType } = this.state;\n        return value && (0,_AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.requiresQuery)(sourceType);\n    }\n    shouldFetchSliceData(prevState) {\n        const { value, sourceType } = this.state;\n        const isChart = sourceType !== _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_SOURCE_TYPES.NATIVE && (0,_AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.requiresQuery)(sourceType);\n        const valueIsNew = value && prevState.value !== value;\n        return valueIsNew && isChart;\n    }\n    isValidFormulaAnnotation(expression, annotationType) {\n        if (annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.FORMULA) {\n            return (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_14__.isValidExpression)(expression);\n        }\n        return true;\n    }\n    isValidForm() {\n        const { name, annotationType, sourceType, value, timeColumn, intervalEndColumn } = this.state;\n        const errors = [\n            (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(name),\n            (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(annotationType),\n            (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(value)\n        ];\n        if (sourceType !== _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_SOURCE_TYPES.NATIVE) {\n            if (annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.EVENT) {\n                errors.push((0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(timeColumn));\n            }\n            if (annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.INTERVAL) {\n                errors.push((0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(timeColumn));\n                errors.push((0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(intervalEndColumn));\n            }\n        }\n        errors.push(!this.isValidFormulaAnnotation(value, annotationType));\n        return !errors.filter((x)=>x).length;\n    }\n    handleAnnotationType(annotationType) {\n        this.setState({\n            annotationType,\n            sourceType: null,\n            value: null,\n            slice: null\n        });\n    }\n    handleAnnotationSourceType(sourceType) {\n        const { sourceType: prevSourceType } = this.state;\n        if (prevSourceType !== sourceType) {\n            this.setState({\n                sourceType,\n                value: null,\n                slice: null\n            });\n        }\n    }\n    handleSelectValue(selectedValueObject) {\n        this.setState({\n            value: selectedValueObject,\n            descriptionColumns: [],\n            intervalEndColumn: null,\n            timeColumn: null,\n            titleColumn: null,\n            overrides: {\n                time_range: null\n            }\n        });\n    }\n    handleTextValue(inputValue) {\n        this.setState({\n            value: inputValue\n        });\n    }\n    fetchAppliedChart(id) {\n        const { annotationType } = this.state;\n        const registry = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__[\"default\"])();\n        const queryParams = rison__WEBPACK_IMPORTED_MODULE_2___default().encode({\n            columns: [\n                'slice_name',\n                'query_context',\n                'viz_type'\n            ]\n        });\n        _superset_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"].get({\n            endpoint: `/api/v1/chart/${id}?q=${queryParams}`\n        }).then(({ json })=>{\n            const { result } = json;\n            const sliceName = result.slice_name;\n            const queryContext = result.query_context;\n            const vizType = result.viz_type;\n            const formData = JSON.parse(queryContext).form_data;\n            const metadata = registry.get(vizType);\n            const canBeAnnotationType = metadata && metadata.canBeAnnotationType(annotationType);\n            if (canBeAnnotationType) {\n                var _formData_groupby;\n                this.setState({\n                    value: {\n                        value: id,\n                        label: sliceName\n                    },\n                    slice: {\n                        data: _extends({}, formData, {\n                            groupby: (_formData_groupby = formData.groupby) == null ? void 0 : _formData_groupby.map((column)=>(0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(column))\n                        })\n                    }\n                });\n            }\n        });\n    }\n    fetchAppliedNativeAnnotation(id) {\n        _superset_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"].get({\n            endpoint: `/api/v1/annotation_layer/${id}`\n        }).then(({ json })=>{\n            const { result } = json;\n            const layer = result;\n            this.setState({\n                value: {\n                    value: layer.id,\n                    label: layer.name\n                }\n            });\n        });\n    }\n    fetchAppliedAnnotation(id) {\n        const { sourceType } = this.state;\n        if (sourceType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_SOURCE_TYPES.NATIVE) {\n            return this.fetchAppliedNativeAnnotation(id);\n        }\n        return this.fetchAppliedChart(id);\n    }\n    deleteAnnotation() {\n        this.props.removeAnnotationLayer();\n        this.props.close();\n    }\n    applyAnnotation() {\n        const { value, sourceType } = this.state;\n        if (this.isValidForm()) {\n            const annotationFields = [\n                'name',\n                'annotationType',\n                'sourceType',\n                'color',\n                'opacity',\n                'style',\n                'width',\n                'showMarkers',\n                'hideLine',\n                'overrides',\n                'show',\n                'showLabel',\n                'titleColumn',\n                'descriptionColumns',\n                'timeColumn',\n                'intervalEndColumn'\n            ];\n            const newAnnotation = {};\n            annotationFields.forEach((field)=>{\n                if (this.state[field] !== null) {\n                    newAnnotation[field] = this.state[field];\n                }\n            });\n            // Prepare newAnnotation.value for use in runAnnotationQuery()\n            const applicableValue = (0,_AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.requiresQuery)(sourceType) ? value.value : value;\n            newAnnotation.value = applicableValue;\n            if (newAnnotation.color === AUTOMATIC_COLOR) {\n                newAnnotation.color = null;\n            }\n            this.props.addAnnotationLayer(newAnnotation);\n            this.setState({\n                isNew: false\n            });\n        }\n    }\n    submitAnnotation() {\n        this.applyAnnotation();\n        this.props.close();\n    }\n    renderChartHeader(label, description, value) {\n        return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_ControlHeader__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n            hovered: true,\n            label: label,\n            description: description,\n            validationErrors: !value ? [\n                'Mandatory'\n            ] : []\n        }, void 0, false, {\n            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n            lineNumber: 562,\n            columnNumber: 7\n        }, this);\n    }\n    renderValueConfiguration() {\n        const { annotationType, sourceType, value } = this.state;\n        let label = '';\n        let description = '';\n        if ((0,_AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.requiresQuery)(sourceType)) {\n            if (sourceType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_SOURCE_TYPES.NATIVE) {\n                label = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer');\n                description = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Select the Annotation Layer you would like to use.');\n            } else {\n                label = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Chart');\n                description = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)(`Use another existing chart as a source for annotations and overlays.\n          Your chart must be one of these visualization types: [%s]`, this.getSupportedSourceTypes(annotationType).map((x)=>x.label).join(', '));\n            }\n        } else if (annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.FORMULA) {\n            label = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Formula');\n            description = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)(`Expects a formula with depending time parameter 'x'\n        in milliseconds since epoch. mathjs is used to evaluate the formulas.\n        Example: '2x+5'`);\n        }\n        if ((0,_AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.requiresQuery)(sourceType)) {\n            return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer value'),\n                name: \"annotation-layer-value\",\n                header: this.renderChartHeader(label, description, value),\n                options: this.fetchOptions,\n                value: value || null,\n                onChange: this.handleSelectValue,\n                notFoundContent: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NotFoundContent, {}, void 0, false, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 606,\n                    columnNumber: 28\n                }, void 0)\n            }, sourceType, false, {\n                fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                lineNumber: 597,\n                columnNumber: 9\n            }, this);\n        }\n        if (annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.FORMULA) {\n            return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                name: \"annotation-layer-value\",\n                hovered: true,\n                showHeader: true,\n                description: description,\n                label: label,\n                placeholder: \"\",\n                value: value,\n                onChange: this.handleTextValue,\n                validationErrors: !this.isValidFormulaAnnotation(value, annotationType) ? [\n                    (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Bad formula.')\n                ] : []\n            }, void 0, false, {\n                fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                lineNumber: 612,\n                columnNumber: 9\n            }, this);\n        }\n        return '';\n    }\n    renderSliceConfiguration() {\n        const { annotationType, sourceType, value, slice, overrides, titleColumn, timeColumn, intervalEndColumn, descriptionColumns } = this.state;\n        if (!slice || !value) {\n            return '';\n        }\n        if (sourceType !== _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_SOURCE_TYPES.NATIVE && slice) {\n            const columns = (slice.data.groupby || []).concat(slice.data.all_columns || []).map((x)=>({\n                    value: x,\n                    label: x\n                }));\n            const timeColumnOptions = slice.data.include_time ? [\n                {\n                    value: '__timestamp',\n                    label: '__timestamp'\n                }\n            ].concat(columns) : columns;\n            return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginRight: '2rem'\n                },\n                children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components_PopoverSection__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                    isSelected: true,\n                    title: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation Slice Configuration'),\n                    info: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)(`This section allows you to configure how to use the slice\n              to generate annotations.`),\n                    children: [\n                        (annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.EVENT || annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.INTERVAL) && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer time column'),\n                            hovered: true,\n                            name: \"annotation-layer-time-column\",\n                            label: annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.INTERVAL ? (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Interval start column') : (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Event time column'),\n                            description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('This column must contain date/time information.'),\n                            validationErrors: !timeColumn ? [\n                                'Mandatory'\n                            ] : [],\n                            clearable: false,\n                            options: timeColumnOptions,\n                            value: timeColumn,\n                            onChange: (v)=>this.setState({\n                                    timeColumn: v\n                                })\n                        }, void 0, false, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 666,\n                            columnNumber: 15\n                        }, this),\n                        annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.INTERVAL && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer interval end'),\n                            hovered: true,\n                            name: \"annotation-layer-intervalEnd\",\n                            label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Interval End column'),\n                            description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('This column must contain date/time information.'),\n                            validationErrors: !intervalEndColumn ? [\n                                'Mandatory'\n                            ] : [],\n                            options: columns,\n                            value: intervalEndColumn,\n                            onChange: (value)=>this.setState({\n                                    intervalEndColumn: value\n                                })\n                        }, void 0, false, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 686,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer title column'),\n                            hovered: true,\n                            name: \"annotation-layer-title\",\n                            label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Title Column'),\n                            description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Pick a title for you annotation.'),\n                            options: [\n                                {\n                                    value: '',\n                                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('None')\n                                }\n                            ].concat(columns),\n                            value: titleColumn,\n                            onChange: (value)=>this.setState({\n                                    titleColumn: value\n                                })\n                        }, void 0, false, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 700,\n                            columnNumber: 13\n                        }, this),\n                        annotationType !== _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.TIME_SERIES && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer description columns'),\n                            hovered: true,\n                            name: \"annotation-layer-title\",\n                            label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Description Columns'),\n                            description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)(\"Pick one or more columns that should be shown in the annotation. If you don't select a column all of them will be shown.\"),\n                            multi: true,\n                            options: columns,\n                            value: descriptionColumns,\n                            onChange: (value)=>this.setState({\n                                    descriptionColumns: value\n                                })\n                        }, void 0, false, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 711,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginTop: '1rem'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                    hovered: true,\n                                    name: \"annotation-override-time_range\",\n                                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Override time range'),\n                                    description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)(`This controls whether the \"time_range\" field from the current\n                  view should be passed down to the chart containing the annotation data.`),\n                                    value: 'time_range' in overrides,\n                                    onChange: (v)=>{\n                                        delete overrides.time_range;\n                                        if (v) {\n                                            this.setState({\n                                                overrides: _extends({}, overrides, {\n                                                    time_range: null\n                                                })\n                                            });\n                                        } else {\n                                            this.setState({\n                                                overrides: _extends({}, overrides)\n                                            });\n                                        }\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                    lineNumber: 726,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                    hovered: true,\n                                    name: \"annotation-override-timegrain\",\n                                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Override time grain'),\n                                    description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)(`This controls whether the time grain field from the current\n                  view should be passed down to the chart containing the annotation data.`),\n                                    value: 'time_grain_sqla' in overrides,\n                                    onChange: (v)=>{\n                                        delete overrides.time_grain_sqla;\n                                        delete overrides.granularity;\n                                        if (v) {\n                                            this.setState({\n                                                overrides: _extends({}, overrides, {\n                                                    time_grain_sqla: null,\n                                                    granularity: null\n                                                })\n                                            });\n                                        } else {\n                                            this.setState({\n                                                overrides: _extends({}, overrides)\n                                            });\n                                        }\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                    lineNumber: 744,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                    hovered: true,\n                                    name: \"annotation-layer-timeshift\",\n                                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Time Shift'),\n                                    description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)(`Time delta in natural language\n                  (example:  24 hours, 7 days, 56 weeks, 365 days)`),\n                                    placeholder: \"\",\n                                    value: overrides.time_shift,\n                                    onChange: (v)=>this.setState({\n                                            overrides: _extends({}, overrides, {\n                                                time_shift: v\n                                            })\n                                        })\n                                }, void 0, false, {\n                                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                    lineNumber: 767,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 725,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 658,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                lineNumber: 657,\n                columnNumber: 9\n            }, this);\n        }\n        return '';\n    }\n    renderDisplayConfiguration() {\n        const { color, opacity, style, width, showMarkers, hideLine, annotationType } = this.state;\n        const colorScheme = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_11__[\"default\"])().get(this.props.colorScheme).colors.concat();\n        if (color && color !== AUTOMATIC_COLOR && !colorScheme.find((x)=>x.toLowerCase() === color.toLowerCase())) {\n            colorScheme.push(color);\n        }\n        return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components_PopoverSection__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n            isSelected: true,\n            title: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Display configuration'),\n            info: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Configure your how you overlay is displayed here.'),\n            children: [\n                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                    ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer stroke'),\n                    name: \"annotation-layer-stroke\",\n                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Style'),\n                    // see '../../../visualizations/nvd3_vis.css'\n                    options: [\n                        {\n                            value: 'solid',\n                            label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Solid')\n                        },\n                        {\n                            value: 'dashed',\n                            label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Dashed')\n                        },\n                        {\n                            value: 'longDashed',\n                            label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Long dashed')\n                        },\n                        {\n                            value: 'dotted',\n                            label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Dotted')\n                        }\n                    ],\n                    value: style,\n                    clearable: false,\n                    onChange: (v)=>this.setState({\n                            style: v\n                        })\n                }, void 0, false, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 813,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                    ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer opacity'),\n                    name: \"annotation-layer-opacity\",\n                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Opacity'),\n                    // see '../../../visualizations/nvd3_vis.css'\n                    options: [\n                        {\n                            value: '',\n                            label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Solid')\n                        },\n                        {\n                            value: 'opacityLow',\n                            label: '0.2'\n                        },\n                        {\n                            value: 'opacityMedium',\n                            label: '0.5'\n                        },\n                        {\n                            value: 'opacityHigh',\n                            label: '0.8'\n                        }\n                    ],\n                    value: opacity,\n                    onChange: (value)=>this.setState({\n                            opacity: value\n                        })\n                }, void 0, false, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 828,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: this.props.theme.sizeUnit * 2,\n                        marginBottom: this.props.theme.sizeUnit * 2\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                            name: \"annotation-layer-automatic-color\",\n                            label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Use automatic color'),\n                            value: color === AUTOMATIC_COLOR,\n                            onChange: (useAutomatic)=>{\n                                if (useAutomatic) {\n                                    this.setState({\n                                        color: AUTOMATIC_COLOR\n                                    });\n                                } else {\n                                    // Set to first theme color or dark color as fallback\n                                    this.setState({\n                                        color: colorScheme[0] || this.props.theme.colorTextBase\n                                    });\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 848,\n                            columnNumber: 11\n                        }, this),\n                        color !== AUTOMATIC_COLOR && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginTop: this.props.theme.sizeUnit * 2\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_ControlHeader__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Color')\n                                }, void 0, false, {\n                                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                    lineNumber: 865,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components__WEBPACK_IMPORTED_MODULE_6__.ColorPicker, {\n                                    value: color,\n                                    presets: [\n                                        {\n                                            label: 'Theme colors',\n                                            colors: colorScheme\n                                        }\n                                    ],\n                                    onChangeComplete: (colorValue)=>this.setState({\n                                            color: colorValue.toHexString()\n                                        }),\n                                    showText: true\n                                }, void 0, false, {\n                                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                    lineNumber: 866,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 864,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 842,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                    name: \"annotation-layer-stroke-width\",\n                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Line width'),\n                    isInt: true,\n                    value: width,\n                    onChange: (v)=>this.setState({\n                            width: v\n                        })\n                }, void 0, false, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 877,\n                    columnNumber: 9\n                }, this),\n                annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.TIME_SERIES && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                    hovered: true,\n                    name: \"annotation-layer-show-markers\",\n                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Show Markers'),\n                    description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Shows or hides markers for the time series'),\n                    value: showMarkers,\n                    onChange: (v)=>this.setState({\n                            showMarkers: v\n                        })\n                }, void 0, false, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 885,\n                    columnNumber: 11\n                }, this),\n                annotationType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES.TIME_SERIES && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                    hovered: true,\n                    name: \"annotation-layer-hide-line\",\n                    label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Hide Line'),\n                    description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Hides the Line for the time series'),\n                    value: hideLine,\n                    onChange: (v)=>this.setState({\n                            hideLine: v\n                        })\n                }, void 0, false, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 895,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n            lineNumber: 808,\n            columnNumber: 7\n        }, this);\n    }\n    render() {\n        const { isNew, name, annotationType, sourceType, show, showLabel } = this.state;\n        const isValid = this.isValidForm();\n        const metadata = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__[\"default\"])().get(this.props.vizType);\n        const supportedAnnotationTypes = metadata ? metadata.supportedAnnotationTypes.map((type)=>_AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_TYPES_METADATA[type]) : [];\n        const supportedSourceTypes = this.getSupportedSourceTypes(annotationType);\n        return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                this.props.error && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        color: this.props.theme.colorError\n                    },\n                    children: [\n                        \"ERROR: \",\n                        this.props.error\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 923,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: 'flex',\n                        flexDirection: 'row'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginRight: '2rem'\n                            },\n                            children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components_PopoverSection__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                isSelected: true,\n                                title: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Layer configuration'),\n                                info: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Configure the basics of your Annotation Layer.'),\n                                children: [\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                        name: \"annotation-layer-name\",\n                                        label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Name'),\n                                        placeholder: \"\",\n                                        value: name,\n                                        onChange: (v)=>this.setState({\n                                                name: v\n                                            }),\n                                        validationErrors: !name ? [\n                                            (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Mandatory')\n                                        ] : []\n                                    }, void 0, false, {\n                                        fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                        lineNumber: 934,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        name: \"annotation-layer-hide\",\n                                        label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Hide layer'),\n                                        value: !show,\n                                        onChange: (v)=>this.setState({\n                                                show: !v\n                                            })\n                                    }, void 0, false, {\n                                        fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                        lineNumber: 942,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        name: \"annotation-label-show\",\n                                        label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Show label'),\n                                        value: showLabel,\n                                        hovered: true,\n                                        description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Whether to always show the annotation label'),\n                                        onChange: (v)=>this.setState({\n                                                showLabel: v\n                                            })\n                                    }, void 0, false, {\n                                        fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                        lineNumber: 948,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                        ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer type'),\n                                        hovered: true,\n                                        description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Choose the annotation layer type'),\n                                        label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation layer type'),\n                                        name: \"annotation-layer-type\",\n                                        clearable: false,\n                                        options: supportedAnnotationTypes,\n                                        value: annotationType,\n                                        onChange: this.handleAnnotationType\n                                    }, void 0, false, {\n                                        fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                        lineNumber: 956,\n                                        columnNumber: 15\n                                    }, this),\n                                    supportedSourceTypes.length > 0 && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                        ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation source type'),\n                                        hovered: true,\n                                        description: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Choose the source of your annotations'),\n                                        label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Annotation source'),\n                                        name: \"annotation-source-type\",\n                                        options: supportedSourceTypes,\n                                        notFoundContent: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NotFoundContent, {}, void 0, false, {\n                                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                            lineNumber: 975,\n                                            columnNumber: 36\n                                        }, void 0),\n                                        value: sourceType,\n                                        onChange: this.handleAnnotationSourceType,\n                                        validationErrors: !sourceType ? [\n                                            (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Mandatory')\n                                        ] : []\n                                    }, void 0, false, {\n                                        fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                        lineNumber: 968,\n                                        columnNumber: 17\n                                    }, this),\n                                    this.renderValueConfiguration()\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                lineNumber: 929,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 928,\n                            columnNumber: 11\n                        }, this),\n                        this.renderSliceConfiguration(),\n                        this.renderDisplayConfiguration()\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 927,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: 'flex',\n                        justifyContent: 'space-between'\n                    },\n                    children: [\n                        isNew ? /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                            buttonSize: \"small\",\n                            buttonStyle: \"secondary\",\n                            onClick: ()=>this.props.close(),\n                            children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Cancel')\n                        }, void 0, false, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 989,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                            buttonSize: \"small\",\n                            buttonStyle: \"secondary\",\n                            onClick: this.deleteAnnotation,\n                            children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Remove')\n                        }, void 0, false, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 997,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                    buttonSize: \"small\",\n                                    disabled: !isValid,\n                                    onClick: this.applyAnnotation,\n                                    children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Apply')\n                                }, void 0, false, {\n                                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                    lineNumber: 1006,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_superset_ui_core_components__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                    buttonSize: \"small\",\n                                    buttonStyle: \"primary\",\n                                    disabled: !isValid,\n                                    onClick: this.submitAnnotation,\n                                    children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('OK')\n                                }, void 0, false, {\n                                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                                    lineNumber: 1014,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                            lineNumber: 1005,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\",\n                    lineNumber: 987,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    constructor(props){\n        var _this;\n        super(props), _this = this, _this.fetchNativeAnnotations = (search, page, pageSize)=>_async_to_generator(function*() {\n                const queryParams = rison__WEBPACK_IMPORTED_MODULE_2___default().encode({\n                    filters: [\n                        {\n                            col: 'name',\n                            opr: 'ct',\n                            value: search\n                        }\n                    ],\n                    columns: [\n                        'id',\n                        'name'\n                    ],\n                    page,\n                    page_size: pageSize\n                });\n                const { json } = yield _superset_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"].get({\n                    endpoint: `/api/v1/annotation_layer/?q=${queryParams}`\n                });\n                const { result, count } = json;\n                const layersArray = result.map((layer)=>({\n                        value: layer.id,\n                        label: layer.name\n                    }));\n                return {\n                    data: layersArray,\n                    totalCount: count\n                };\n            })(), _this.fetchCharts = (search, page, pageSize)=>_async_to_generator(function*() {\n                const { annotationType } = _this.state;\n                const queryParams = rison__WEBPACK_IMPORTED_MODULE_2___default().encode({\n                    filters: [\n                        {\n                            col: 'slice_name',\n                            opr: 'chart_all_text',\n                            value: search\n                        },\n                        {\n                            col: 'id',\n                            opr: 'chart_owned_created_favored_by_me',\n                            value: true\n                        }\n                    ],\n                    columns: [\n                        'id',\n                        'slice_name',\n                        'viz_type'\n                    ],\n                    order_column: 'slice_name',\n                    order_direction: 'asc',\n                    page,\n                    page_size: pageSize\n                });\n                const { json } = yield _superset_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"].get({\n                    endpoint: `/api/v1/chart/?q=${queryParams}`\n                });\n                const { result, count } = json;\n                const registry = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__[\"default\"])();\n                const chartsArray = result.filter((chart)=>{\n                    const metadata = registry.get(chart.viz_type);\n                    return metadata && metadata.canBeAnnotationType(annotationType);\n                }).map((chart)=>({\n                        value: chart.id,\n                        label: chart.slice_name,\n                        viz_type: chart.viz_type\n                    }));\n                return {\n                    data: chartsArray,\n                    totalCount: count\n                };\n            })(), _this.fetchOptions = (search, page, pageSize)=>{\n            const { sourceType } = _this.state;\n            if (sourceType === _AnnotationTypes__WEBPACK_IMPORTED_MODULE_23__.ANNOTATION_SOURCE_TYPES.NATIVE) {\n                return _this.fetchNativeAnnotations(search, page, pageSize);\n            }\n            return _this.fetchCharts(search, page, pageSize);\n        }, _this.fetchSliceData = (id)=>{\n            const queryParams = rison__WEBPACK_IMPORTED_MODULE_2___default().encode({\n                columns: [\n                    'query_context'\n                ]\n            });\n            _superset_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"].get({\n                endpoint: `/api/v1/chart/${id}?q=${queryParams}`\n            }).then(({ json })=>{\n                var _formData_groupby;\n                const { result } = json;\n                const queryContext = result.query_context;\n                const formData = JSON.parse(queryContext).form_data;\n                const dataObject = {\n                    data: _extends({}, formData, {\n                        groupby: (_formData_groupby = formData.groupby) == null ? void 0 : _formData_groupby.map((column)=>(0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(column))\n                    })\n                };\n                _this.setState({\n                    slice: dataObject\n                });\n            });\n        };\n        const { name, annotationType, sourceType, color, opacity, style, width, showMarkers, hideLine, value, overrides, show, showLabel, titleColumn, descriptionColumns, timeColumn, intervalEndColumn, vizType } = props;\n        // Only allow override whole time_range\n        if ('since' in overrides || 'until' in overrides) {\n            overrides.time_range = null;\n            delete overrides.since;\n            delete overrides.until;\n        }\n        // Check if annotationType is supported by this chart\n        const metadata = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__[\"default\"])().get(vizType);\n        const supportedAnnotationTypes = (metadata == null ? void 0 : metadata.supportedAnnotationTypes) || [];\n        const validAnnotationType = supportedAnnotationTypes.includes(annotationType) ? annotationType : supportedAnnotationTypes[0];\n        _this.state = {\n            // base\n            name,\n            annotationType: validAnnotationType,\n            sourceType,\n            value,\n            overrides,\n            show,\n            showLabel,\n            // slice\n            titleColumn,\n            descriptionColumns,\n            timeColumn,\n            intervalEndColumn,\n            // display\n            color: color || AUTOMATIC_COLOR,\n            opacity,\n            style,\n            width,\n            showMarkers,\n            hideLine,\n            // refData\n            isNew: !name,\n            slice: null\n        };\n        _this.submitAnnotation = _this.submitAnnotation.bind(_this);\n        _this.deleteAnnotation = _this.deleteAnnotation.bind(_this);\n        _this.applyAnnotation = _this.applyAnnotation.bind(_this);\n        _this.isValidForm = _this.isValidForm.bind(_this);\n        // Handlers\n        _this.handleAnnotationType = _this.handleAnnotationType.bind(_this);\n        _this.handleAnnotationSourceType = _this.handleAnnotationSourceType.bind(_this);\n        _this.handleSelectValue = _this.handleSelectValue.bind(_this);\n        _this.handleTextValue = _this.handleTextValue.bind(_this);\n        // Fetch related functions\n        _this.fetchOptions = _this.fetchOptions.bind(_this);\n        _this.fetchCharts = _this.fetchCharts.bind(_this);\n        _this.fetchNativeAnnotations = _this.fetchNativeAnnotations.bind(_this);\n        _this.fetchAppliedAnnotation = _this.fetchAppliedAnnotation.bind(_this);\n        _this.fetchSliceData = _this.fetchSliceData.bind(_this);\n        _this.shouldFetchSliceData = _this.shouldFetchSliceData.bind(_this);\n        _this.fetchAppliedChart = _this.fetchAppliedChart.bind(_this);\n        _this.fetchAppliedNativeAnnotation = _this.fetchAppliedNativeAnnotation.bind(_this);\n        _this.shouldFetchAppliedAnnotation = _this.shouldFetchAppliedAnnotation.bind(_this);\n    }\n}\nAnnotationLayer.propTypes = propTypes;\nAnnotationLayer.defaultProps = defaultProps;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_c2 = (0,_apache_superset_core_ui__WEBPACK_IMPORTED_MODULE_17__.b)(AnnotationLayer));\nvar _c, _c1, _c2;\n__webpack_require__.$Refresh$.register(_c, \"NotFoundContentWrapper\");\n__webpack_require__.$Refresh$.register(_c1, \"NotFoundContent\");\n__webpack_require__.$Refresh$.register(_c2, \"%default%\");\n\n\nconst $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;\nconst $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(\n\t$ReactRefreshModuleId$\n);\n\nfunction $ReactRefreshModuleRuntime$(exports) {\n\tif (true) {\n\t\tlet errorOverlay;\n\t\tif (typeof __react_refresh_error_overlay__ !== 'undefined') {\n\t\t\terrorOverlay = __react_refresh_error_overlay__;\n\t\t}\n\t\tlet testMode;\n\t\tif (typeof __react_refresh_test__ !== 'undefined') {\n\t\t\ttestMode = __react_refresh_test__;\n\t\t}\n\t\treturn __react_refresh_utils__.executeRuntime(\n\t\t\texports,\n\t\t\t$ReactRefreshModuleId$,\n\t\t\tmodule.hot,\n\t\t\terrorOverlay,\n\t\t\ttestMode\n\t\t);\n\t}\n}\n\nif (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {\n\t$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);\n} else {\n\t$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0Fubm90YXRpb25MYXllckNvbnRyb2wvQW5ub3RhdGlvbkxheWVyLmpzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUxBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBQ0E7Ozs7Ozs7QUFJQTs7Ozs7Ozs7Ozs7QUFsQkE7QUF1QkE7QUF5RkE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFZQTtBQVhBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTBHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQVJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBUEE7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTs7Ozs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7QUFHQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUdBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUVBO0FBQ0E7QUFBQTtBQUFBOztBQUNBO0FBQUE7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7Ozs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7OztBQUtBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBQUE7QUFDQTs7Ozs7OztBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7QUFHQTs7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTs7Ozs7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFHQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUE7QUF4M0JBOztBQUNBO0FBaU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJUQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQW15QkE7QUFFQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL3NyYy9leHBsb3JlL2NvbXBvbmVudHMvY29udHJvbHMvQW5ub3RhdGlvbkxheWVyQ29udHJvbC9Bbm5vdGF0aW9uTGF5ZXIuanN4PzlhNGEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCByaXNvbiBmcm9tICdyaXNvbic7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBBc3luY1NlbGVjdCxcbiAgRW1wdHlTdGF0ZSxcbiAgQ29sb3JQaWNrZXIsXG59IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlL2NvbXBvbmVudHMnO1xuaW1wb3J0IHtcbiAgdCxcbiAgU3VwZXJzZXRDbGllbnQsXG4gIGdldENhdGVnb3JpY2FsU2NoZW1lUmVnaXN0cnksXG4gIGdldENoYXJ0TWV0YWRhdGFSZWdpc3RyeSxcbiAgdmFsaWRhdGVOb25FbXB0eSxcbiAgaXNWYWxpZEV4cHJlc3Npb24sXG4gIGdldENvbHVtbkxhYmVsLFxuICBWaXpUeXBlLFxufSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5pbXBvcnQgeyBzdHlsZWQsIHdpdGhUaGVtZSB9IGZyb20gJ0BhcGFjaGUtc3VwZXJzZXQvY29yZS91aSc7XG5pbXBvcnQgU2VsZWN0Q29udHJvbCBmcm9tICdzcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL1NlbGVjdENvbnRyb2wnO1xuaW1wb3J0IFRleHRDb250cm9sIGZyb20gJ3NyYy9leHBsb3JlL2NvbXBvbmVudHMvY29udHJvbHMvVGV4dENvbnRyb2wnO1xuaW1wb3J0IENoZWNrYm94Q29udHJvbCBmcm9tICdzcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0NoZWNrYm94Q29udHJvbCc7XG5pbXBvcnQgUG9wb3ZlclNlY3Rpb24gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUvY29tcG9uZW50cy9Qb3BvdmVyU2VjdGlvbic7XG5pbXBvcnQgQ29udHJvbEhlYWRlciBmcm9tICdzcmMvZXhwbG9yZS9jb21wb25lbnRzL0NvbnRyb2xIZWFkZXInO1xuaW1wb3J0IHtcbiAgQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVMsXG4gIEFOTk9UQVRJT05fVFlQRVMsXG4gIEFOTk9UQVRJT05fVFlQRVNfTUVUQURBVEEsXG4gIERFRkFVTFRfQU5OT1RBVElPTl9UWVBFLFxuICByZXF1aXJlc1F1ZXJ5LFxuICBBTk5PVEFUSU9OX1NPVVJDRV9UWVBFU19NRVRBREFUQSxcbn0gZnJvbSAnLi9Bbm5vdGF0aW9uVHlwZXMnO1xuXG5jb25zdCBBVVRPTUFUSUNfQ09MT1IgPSAnJztcblxuY29uc3QgcHJvcFR5cGVzID0ge1xuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBhbm5vdGF0aW9uVHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgc291cmNlVHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIG9wYWNpdHk6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0eWxlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlcixcbiAgc2hvd01hcmtlcnM6IFByb3BUeXBlcy5ib29sLFxuICBoaWRlTGluZTogUHJvcFR5cGVzLmJvb2wsXG4gIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSksXG4gIG92ZXJyaWRlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgc2hvdzogUHJvcFR5cGVzLmJvb2wsXG4gIHNob3dMYWJlbDogUHJvcFR5cGVzLmJvb2wsXG4gIHRpdGxlQ29sdW1uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBkZXNjcmlwdGlvbkNvbHVtbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICB0aW1lQ29sdW1uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpbnRlcnZhbEVuZENvbHVtbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgdml6VHlwZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICBlcnJvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgY29sb3JTY2hlbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgYWRkQW5ub3RhdGlvbkxheWVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgcmVtb3ZlQW5ub3RhdGlvbkxheWVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgY2xvc2U6IFByb3BUeXBlcy5mdW5jLFxufTtcblxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBuYW1lOiAnJyxcbiAgYW5ub3RhdGlvblR5cGU6IERFRkFVTFRfQU5OT1RBVElPTl9UWVBFLFxuICBzb3VyY2VUeXBlOiAnJyxcbiAgY29sb3I6IEFVVE9NQVRJQ19DT0xPUixcbiAgb3BhY2l0eTogJycsXG4gIHN0eWxlOiAnc29saWQnLFxuICB3aWR0aDogMSxcbiAgc2hvd01hcmtlcnM6IGZhbHNlLFxuICBoaWRlTGluZTogZmFsc2UsXG4gIG92ZXJyaWRlczoge30sXG4gIGNvbG9yU2NoZW1lOiAnZDNDYXRlZ29yeTEwJyxcbiAgc2hvdzogdHJ1ZSxcbiAgc2hvd0xhYmVsOiBmYWxzZSxcbiAgdGl0bGVDb2x1bW46ICcnLFxuICBkZXNjcmlwdGlvbkNvbHVtbnM6IFtdLFxuICB0aW1lQ29sdW1uOiAnJyxcbiAgaW50ZXJ2YWxFbmRDb2x1bW46ICcnLFxuXG4gIGFkZEFubm90YXRpb25MYXllcjogKCkgPT4ge30sXG4gIHJlbW92ZUFubm90YXRpb25MYXllcjogKCkgPT4ge30sXG4gIGNsb3NlOiAoKSA9PiB7fSxcbn07XG5cbmNvbnN0IE5vdEZvdW5kQ29udGVudFdyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICAmJiA+IGRpdjpmaXJzdC1jaGlsZCB7XG4gICAgcGFkZGluZy1sZWZ0OiAwO1xuICAgIHBhZGRpbmctcmlnaHQ6IDA7XG4gIH1cbmA7XG5cbmNvbnN0IE5vdEZvdW5kQ29udGVudCA9ICgpID0+IChcbiAgPE5vdEZvdW5kQ29udGVudFdyYXBwZXI+XG4gICAgPEVtcHR5U3RhdGVcbiAgICAgIHRpdGxlPXt0KCdObyBhbm5vdGF0aW9uIGxheWVycycpfVxuICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgIGRlc2NyaXB0aW9uPXtcbiAgICAgICAgPHNwYW4+XG4gICAgICAgICAge3QoJ0FkZCBhbiBhbm5vdGF0aW9uIGxheWVyJyl9eycgJ31cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgaHJlZj1cIi9hbm5vdGF0aW9ubGF5ZXIvbGlzdFwiXG4gICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3QoJ2hlcmUnKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgLlxuICAgICAgICA8L3NwYW4+XG4gICAgICB9XG4gICAgICBpbWFnZT1cImVtcHR5LnN2Z1wiXG4gICAgLz5cbiAgPC9Ob3RGb3VuZENvbnRlbnRXcmFwcGVyPlxuKTtcblxuY2xhc3MgQW5ub3RhdGlvbkxheWVyIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgIHNvdXJjZVR5cGUsXG4gICAgICBjb2xvcixcbiAgICAgIG9wYWNpdHksXG4gICAgICBzdHlsZSxcbiAgICAgIHdpZHRoLFxuICAgICAgc2hvd01hcmtlcnMsXG4gICAgICBoaWRlTGluZSxcbiAgICAgIHZhbHVlLFxuICAgICAgb3ZlcnJpZGVzLFxuICAgICAgc2hvdyxcbiAgICAgIHNob3dMYWJlbCxcbiAgICAgIHRpdGxlQ29sdW1uLFxuICAgICAgZGVzY3JpcHRpb25Db2x1bW5zLFxuICAgICAgdGltZUNvbHVtbixcbiAgICAgIGludGVydmFsRW5kQ29sdW1uLFxuICAgICAgdml6VHlwZSxcbiAgICB9ID0gcHJvcHM7XG5cbiAgICAvLyBPbmx5IGFsbG93IG92ZXJyaWRlIHdob2xlIHRpbWVfcmFuZ2VcbiAgICBpZiAoJ3NpbmNlJyBpbiBvdmVycmlkZXMgfHwgJ3VudGlsJyBpbiBvdmVycmlkZXMpIHtcbiAgICAgIG92ZXJyaWRlcy50aW1lX3JhbmdlID0gbnVsbDtcbiAgICAgIGRlbGV0ZSBvdmVycmlkZXMuc2luY2U7XG4gICAgICBkZWxldGUgb3ZlcnJpZGVzLnVudGlsO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGFubm90YXRpb25UeXBlIGlzIHN1cHBvcnRlZCBieSB0aGlzIGNoYXJ0XG4gICAgY29uc3QgbWV0YWRhdGEgPSBnZXRDaGFydE1ldGFkYXRhUmVnaXN0cnkoKS5nZXQodml6VHlwZSk7XG4gICAgY29uc3Qgc3VwcG9ydGVkQW5ub3RhdGlvblR5cGVzID0gbWV0YWRhdGE/LnN1cHBvcnRlZEFubm90YXRpb25UeXBlcyB8fCBbXTtcbiAgICBjb25zdCB2YWxpZEFubm90YXRpb25UeXBlID0gc3VwcG9ydGVkQW5ub3RhdGlvblR5cGVzLmluY2x1ZGVzKFxuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgKVxuICAgICAgPyBhbm5vdGF0aW9uVHlwZVxuICAgICAgOiBzdXBwb3J0ZWRBbm5vdGF0aW9uVHlwZXNbMF07XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgLy8gYmFzZVxuICAgICAgbmFtZSxcbiAgICAgIGFubm90YXRpb25UeXBlOiB2YWxpZEFubm90YXRpb25UeXBlLFxuICAgICAgc291cmNlVHlwZSxcbiAgICAgIHZhbHVlLFxuICAgICAgb3ZlcnJpZGVzLFxuICAgICAgc2hvdyxcbiAgICAgIHNob3dMYWJlbCxcbiAgICAgIC8vIHNsaWNlXG4gICAgICB0aXRsZUNvbHVtbixcbiAgICAgIGRlc2NyaXB0aW9uQ29sdW1ucyxcbiAgICAgIHRpbWVDb2x1bW4sXG4gICAgICBpbnRlcnZhbEVuZENvbHVtbixcbiAgICAgIC8vIGRpc3BsYXlcbiAgICAgIGNvbG9yOiBjb2xvciB8fCBBVVRPTUFUSUNfQ09MT1IsXG4gICAgICBvcGFjaXR5LFxuICAgICAgc3R5bGUsXG4gICAgICB3aWR0aCxcbiAgICAgIHNob3dNYXJrZXJzLFxuICAgICAgaGlkZUxpbmUsXG4gICAgICAvLyByZWZEYXRhXG4gICAgICBpc05ldzogIW5hbWUsXG4gICAgICBzbGljZTogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMuc3VibWl0QW5ub3RhdGlvbiA9IHRoaXMuc3VibWl0QW5ub3RhdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsZXRlQW5ub3RhdGlvbiA9IHRoaXMuZGVsZXRlQW5ub3RhdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXBwbHlBbm5vdGF0aW9uID0gdGhpcy5hcHBseUFubm90YXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmlzVmFsaWRGb3JtID0gdGhpcy5pc1ZhbGlkRm9ybS5iaW5kKHRoaXMpO1xuICAgIC8vIEhhbmRsZXJzXG4gICAgdGhpcy5oYW5kbGVBbm5vdGF0aW9uVHlwZSA9IHRoaXMuaGFuZGxlQW5ub3RhdGlvblR5cGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUFubm90YXRpb25Tb3VyY2VUeXBlID1cbiAgICAgIHRoaXMuaGFuZGxlQW5ub3RhdGlvblNvdXJjZVR5cGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVNlbGVjdFZhbHVlID0gdGhpcy5oYW5kbGVTZWxlY3RWYWx1ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlVGV4dFZhbHVlID0gdGhpcy5oYW5kbGVUZXh0VmFsdWUuYmluZCh0aGlzKTtcbiAgICAvLyBGZXRjaCByZWxhdGVkIGZ1bmN0aW9uc1xuICAgIHRoaXMuZmV0Y2hPcHRpb25zID0gdGhpcy5mZXRjaE9wdGlvbnMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZldGNoQ2hhcnRzID0gdGhpcy5mZXRjaENoYXJ0cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZmV0Y2hOYXRpdmVBbm5vdGF0aW9ucyA9IHRoaXMuZmV0Y2hOYXRpdmVBbm5vdGF0aW9ucy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZmV0Y2hBcHBsaWVkQW5ub3RhdGlvbiA9IHRoaXMuZmV0Y2hBcHBsaWVkQW5ub3RhdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZmV0Y2hTbGljZURhdGEgPSB0aGlzLmZldGNoU2xpY2VEYXRhLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zaG91bGRGZXRjaFNsaWNlRGF0YSA9IHRoaXMuc2hvdWxkRmV0Y2hTbGljZURhdGEuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZldGNoQXBwbGllZENoYXJ0ID0gdGhpcy5mZXRjaEFwcGxpZWRDaGFydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZmV0Y2hBcHBsaWVkTmF0aXZlQW5ub3RhdGlvbiA9XG4gICAgICB0aGlzLmZldGNoQXBwbGllZE5hdGl2ZUFubm90YXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLnNob3VsZEZldGNoQXBwbGllZEFubm90YXRpb24gPVxuICAgICAgdGhpcy5zaG91bGRGZXRjaEFwcGxpZWRBbm5vdGF0aW9uLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5zaG91bGRGZXRjaEFwcGxpZWRBbm5vdGF0aW9uKCkpIHtcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAvKiBUaGUgdmFsdWUgcHJvcCBpcyB0aGUgaWQgb2YgdGhlIGNoYXJ0L25hdGl2ZS4gVGhpcyBmdW5jdGlvbiB3aWxsIHNldFxuICAgICAgdmFsdWUgaW4gc3RhdGUgdG8gYW4gb2JqZWN0IHdpdGggdGhlIGlkIGFzIHZhbHVlLnZhbHVlIHRvIGJlIHVzZWQgYnlcbiAgICAgIEFzeW5jU2VsZWN0ICovXG4gICAgICB0aGlzLmZldGNoQXBwbGllZEFubm90YXRpb24odmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoU2xpY2VEYXRhKHByZXZTdGF0ZSkpIHtcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICB0aGlzLmZldGNoU2xpY2VEYXRhKHZhbHVlLnZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRTdXBwb3J0ZWRTb3VyY2VUeXBlcyhhbm5vdGF0aW9uVHlwZSkge1xuICAgIC8vIEdldCB2aXMgdHlwZXMgdGhhdCBjYW4gYmUgc291cmNlLlxuICAgIGNvbnN0IHNvdXJjZXMgPSBnZXRDaGFydE1ldGFkYXRhUmVnaXN0cnkoKVxuICAgICAgLmVudHJpZXMoKVxuICAgICAgLmZpbHRlcigoeyB2YWx1ZTogY2hhcnRNZXRhZGF0YSB9KSA9PlxuICAgICAgICBjaGFydE1ldGFkYXRhLmNhbkJlQW5ub3RhdGlvblR5cGUoYW5ub3RhdGlvblR5cGUpLFxuICAgICAgKVxuICAgICAgLm1hcCgoeyBrZXksIHZhbHVlOiBjaGFydE1ldGFkYXRhIH0pID0+ICh7XG4gICAgICAgIHZhbHVlOiBrZXkgPT09IFZpelR5cGUuTGluZSA/ICdsaW5lJyA6IGtleSxcbiAgICAgICAgbGFiZWw6IGNoYXJ0TWV0YWRhdGEubmFtZSxcbiAgICAgIH0pKTtcbiAgICAvLyBQcmVwZW5kIG5hdGl2ZSBzb3VyY2UgaWYgYXBwbGljYWJsZVxuICAgIGlmIChBTk5PVEFUSU9OX1RZUEVTX01FVEFEQVRBW2Fubm90YXRpb25UeXBlXT8uc3VwcG9ydE5hdGl2ZVNvdXJjZSkge1xuICAgICAgc291cmNlcy51bnNoaWZ0KEFOTk9UQVRJT05fU09VUkNFX1RZUEVTX01FVEFEQVRBLk5BVElWRSk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2VzO1xuICB9XG5cbiAgc2hvdWxkRmV0Y2hBcHBsaWVkQW5ub3RhdGlvbigpIHtcbiAgICBjb25zdCB7IHZhbHVlLCBzb3VyY2VUeXBlIH0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiB2YWx1ZSAmJiByZXF1aXJlc1F1ZXJ5KHNvdXJjZVR5cGUpO1xuICB9XG5cbiAgc2hvdWxkRmV0Y2hTbGljZURhdGEocHJldlN0YXRlKSB7XG4gICAgY29uc3QgeyB2YWx1ZSwgc291cmNlVHlwZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBpc0NoYXJ0ID1cbiAgICAgIHNvdXJjZVR5cGUgIT09IEFOTk9UQVRJT05fU09VUkNFX1RZUEVTLk5BVElWRSAmJlxuICAgICAgcmVxdWlyZXNRdWVyeShzb3VyY2VUeXBlKTtcbiAgICBjb25zdCB2YWx1ZUlzTmV3ID0gdmFsdWUgJiYgcHJldlN0YXRlLnZhbHVlICE9PSB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWVJc05ldyAmJiBpc0NoYXJ0O1xuICB9XG5cbiAgaXNWYWxpZEZvcm11bGFBbm5vdGF0aW9uKGV4cHJlc3Npb24sIGFubm90YXRpb25UeXBlKSB7XG4gICAgaWYgKGFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLkZPUk1VTEEpIHtcbiAgICAgIHJldHVybiBpc1ZhbGlkRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpc1ZhbGlkRm9ybSgpIHtcbiAgICBjb25zdCB7XG4gICAgICBuYW1lLFxuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICBzb3VyY2VUeXBlLFxuICAgICAgdmFsdWUsXG4gICAgICB0aW1lQ29sdW1uLFxuICAgICAgaW50ZXJ2YWxFbmRDb2x1bW4sXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgZXJyb3JzID0gW1xuICAgICAgdmFsaWRhdGVOb25FbXB0eShuYW1lKSxcbiAgICAgIHZhbGlkYXRlTm9uRW1wdHkoYW5ub3RhdGlvblR5cGUpLFxuICAgICAgdmFsaWRhdGVOb25FbXB0eSh2YWx1ZSksXG4gICAgXTtcbiAgICBpZiAoc291cmNlVHlwZSAhPT0gQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVMuTkFUSVZFKSB7XG4gICAgICBpZiAoYW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuRVZFTlQpIHtcbiAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGVOb25FbXB0eSh0aW1lQ29sdW1uKSk7XG4gICAgICB9XG4gICAgICBpZiAoYW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuSU5URVJWQUwpIHtcbiAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGVOb25FbXB0eSh0aW1lQ29sdW1uKSk7XG4gICAgICAgIGVycm9ycy5wdXNoKHZhbGlkYXRlTm9uRW1wdHkoaW50ZXJ2YWxFbmRDb2x1bW4pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZXJyb3JzLnB1c2goIXRoaXMuaXNWYWxpZEZvcm11bGFBbm5vdGF0aW9uKHZhbHVlLCBhbm5vdGF0aW9uVHlwZSkpO1xuICAgIHJldHVybiAhZXJyb3JzLmZpbHRlcih4ID0+IHgpLmxlbmd0aDtcbiAgfVxuXG4gIGhhbmRsZUFubm90YXRpb25UeXBlKGFubm90YXRpb25UeXBlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgIHNvdXJjZVR5cGU6IG51bGwsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHNsaWNlOiBudWxsLFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlQW5ub3RhdGlvblNvdXJjZVR5cGUoc291cmNlVHlwZSkge1xuICAgIGNvbnN0IHsgc291cmNlVHlwZTogcHJldlNvdXJjZVR5cGUgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAocHJldlNvdXJjZVR5cGUgIT09IHNvdXJjZVR5cGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzb3VyY2VUeXBlLFxuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgc2xpY2U6IG51bGwsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTZWxlY3RWYWx1ZShzZWxlY3RlZFZhbHVlT2JqZWN0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB2YWx1ZTogc2VsZWN0ZWRWYWx1ZU9iamVjdCxcbiAgICAgIGRlc2NyaXB0aW9uQ29sdW1uczogW10sXG4gICAgICBpbnRlcnZhbEVuZENvbHVtbjogbnVsbCxcbiAgICAgIHRpbWVDb2x1bW46IG51bGwsXG4gICAgICB0aXRsZUNvbHVtbjogbnVsbCxcbiAgICAgIG92ZXJyaWRlczogeyB0aW1lX3JhbmdlOiBudWxsIH0sXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVUZXh0VmFsdWUoaW5wdXRWYWx1ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdmFsdWU6IGlucHV0VmFsdWUsXG4gICAgfSk7XG4gIH1cblxuICBmZXRjaE5hdGl2ZUFubm90YXRpb25zID0gYXN5bmMgKHNlYXJjaCwgcGFnZSwgcGFnZVNpemUpID0+IHtcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHJpc29uLmVuY29kZSh7XG4gICAgICBmaWx0ZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBjb2w6ICduYW1lJyxcbiAgICAgICAgICBvcHI6ICdjdCcsXG4gICAgICAgICAgdmFsdWU6IHNlYXJjaCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBjb2x1bW5zOiBbJ2lkJywgJ25hbWUnXSxcbiAgICAgIHBhZ2UsXG4gICAgICBwYWdlX3NpemU6IHBhZ2VTaXplLFxuICAgIH0pO1xuXG4gICAgY29uc3QgeyBqc29uIH0gPSBhd2FpdCBTdXBlcnNldENsaWVudC5nZXQoe1xuICAgICAgZW5kcG9pbnQ6IGAvYXBpL3YxL2Fubm90YXRpb25fbGF5ZXIvP3E9JHtxdWVyeVBhcmFtc31gLFxuICAgIH0pO1xuXG4gICAgY29uc3QgeyByZXN1bHQsIGNvdW50IH0gPSBqc29uO1xuXG4gICAgY29uc3QgbGF5ZXJzQXJyYXkgPSByZXN1bHQubWFwKGxheWVyID0+ICh7XG4gICAgICB2YWx1ZTogbGF5ZXIuaWQsXG4gICAgICBsYWJlbDogbGF5ZXIubmFtZSxcbiAgICB9KSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogbGF5ZXJzQXJyYXksXG4gICAgICB0b3RhbENvdW50OiBjb3VudCxcbiAgICB9O1xuICB9O1xuXG4gIGZldGNoQ2hhcnRzID0gYXN5bmMgKHNlYXJjaCwgcGFnZSwgcGFnZVNpemUpID0+IHtcbiAgICBjb25zdCB7IGFubm90YXRpb25UeXBlIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSByaXNvbi5lbmNvZGUoe1xuICAgICAgZmlsdGVyczogW1xuICAgICAgICB7IGNvbDogJ3NsaWNlX25hbWUnLCBvcHI6ICdjaGFydF9hbGxfdGV4dCcsIHZhbHVlOiBzZWFyY2ggfSxcbiAgICAgICAge1xuICAgICAgICAgIGNvbDogJ2lkJyxcbiAgICAgICAgICBvcHI6ICdjaGFydF9vd25lZF9jcmVhdGVkX2Zhdm9yZWRfYnlfbWUnLFxuICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGNvbHVtbnM6IFsnaWQnLCAnc2xpY2VfbmFtZScsICd2aXpfdHlwZSddLFxuICAgICAgb3JkZXJfY29sdW1uOiAnc2xpY2VfbmFtZScsXG4gICAgICBvcmRlcl9kaXJlY3Rpb246ICdhc2MnLFxuICAgICAgcGFnZSxcbiAgICAgIHBhZ2Vfc2l6ZTogcGFnZVNpemUsXG4gICAgfSk7XG4gICAgY29uc3QgeyBqc29uIH0gPSBhd2FpdCBTdXBlcnNldENsaWVudC5nZXQoe1xuICAgICAgZW5kcG9pbnQ6IGAvYXBpL3YxL2NoYXJ0Lz9xPSR7cXVlcnlQYXJhbXN9YCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgcmVzdWx0LCBjb3VudCB9ID0ganNvbjtcbiAgICBjb25zdCByZWdpc3RyeSA9IGdldENoYXJ0TWV0YWRhdGFSZWdpc3RyeSgpO1xuXG4gICAgY29uc3QgY2hhcnRzQXJyYXkgPSByZXN1bHRcbiAgICAgIC5maWx0ZXIoY2hhcnQgPT4ge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHJlZ2lzdHJ5LmdldChjaGFydC52aXpfdHlwZSk7XG4gICAgICAgIHJldHVybiBtZXRhZGF0YSAmJiBtZXRhZGF0YS5jYW5CZUFubm90YXRpb25UeXBlKGFubm90YXRpb25UeXBlKTtcbiAgICAgIH0pXG4gICAgICAubWFwKGNoYXJ0ID0+ICh7XG4gICAgICAgIHZhbHVlOiBjaGFydC5pZCxcbiAgICAgICAgbGFiZWw6IGNoYXJ0LnNsaWNlX25hbWUsXG4gICAgICAgIHZpel90eXBlOiBjaGFydC52aXpfdHlwZSxcbiAgICAgIH0pKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBjaGFydHNBcnJheSxcbiAgICAgIHRvdGFsQ291bnQ6IGNvdW50LFxuICAgIH07XG4gIH07XG5cbiAgZmV0Y2hPcHRpb25zID0gKHNlYXJjaCwgcGFnZSwgcGFnZVNpemUpID0+IHtcbiAgICBjb25zdCB7IHNvdXJjZVR5cGUgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAoc291cmNlVHlwZSA9PT0gQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVMuTkFUSVZFKSB7XG4gICAgICByZXR1cm4gdGhpcy5mZXRjaE5hdGl2ZUFubm90YXRpb25zKHNlYXJjaCwgcGFnZSwgcGFnZVNpemUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mZXRjaENoYXJ0cyhzZWFyY2gsIHBhZ2UsIHBhZ2VTaXplKTtcbiAgfTtcblxuICBmZXRjaFNsaWNlRGF0YSA9IGlkID0+IHtcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHJpc29uLmVuY29kZSh7XG4gICAgICBjb2x1bW5zOiBbJ3F1ZXJ5X2NvbnRleHQnXSxcbiAgICB9KTtcbiAgICBTdXBlcnNldENsaWVudC5nZXQoe1xuICAgICAgZW5kcG9pbnQ6IGAvYXBpL3YxL2NoYXJ0LyR7aWR9P3E9JHtxdWVyeVBhcmFtc31gLFxuICAgIH0pLnRoZW4oKHsganNvbiB9KSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0ganNvbjtcbiAgICAgIGNvbnN0IHF1ZXJ5Q29udGV4dCA9IHJlc3VsdC5xdWVyeV9jb250ZXh0O1xuICAgICAgY29uc3QgZm9ybURhdGEgPSBKU09OLnBhcnNlKHF1ZXJ5Q29udGV4dCkuZm9ybV9kYXRhO1xuICAgICAgY29uc3QgZGF0YU9iamVjdCA9IHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgIGdyb3VwYnk6IGZvcm1EYXRhLmdyb3VwYnk/Lm1hcChjb2x1bW4gPT4gZ2V0Q29sdW1uTGFiZWwoY29sdW1uKSksXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNsaWNlOiBkYXRhT2JqZWN0LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZmV0Y2hBcHBsaWVkQ2hhcnQoaWQpIHtcbiAgICBjb25zdCB7IGFubm90YXRpb25UeXBlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJlZ2lzdHJ5ID0gZ2V0Q2hhcnRNZXRhZGF0YVJlZ2lzdHJ5KCk7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSByaXNvbi5lbmNvZGUoe1xuICAgICAgY29sdW1uczogWydzbGljZV9uYW1lJywgJ3F1ZXJ5X2NvbnRleHQnLCAndml6X3R5cGUnXSxcbiAgICB9KTtcbiAgICBTdXBlcnNldENsaWVudC5nZXQoe1xuICAgICAgZW5kcG9pbnQ6IGAvYXBpL3YxL2NoYXJ0LyR7aWR9P3E9JHtxdWVyeVBhcmFtc31gLFxuICAgIH0pLnRoZW4oKHsganNvbiB9KSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0ganNvbjtcbiAgICAgIGNvbnN0IHNsaWNlTmFtZSA9IHJlc3VsdC5zbGljZV9uYW1lO1xuICAgICAgY29uc3QgcXVlcnlDb250ZXh0ID0gcmVzdWx0LnF1ZXJ5X2NvbnRleHQ7XG4gICAgICBjb25zdCB2aXpUeXBlID0gcmVzdWx0LnZpel90eXBlO1xuICAgICAgY29uc3QgZm9ybURhdGEgPSBKU09OLnBhcnNlKHF1ZXJ5Q29udGV4dCkuZm9ybV9kYXRhO1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSByZWdpc3RyeS5nZXQodml6VHlwZSk7XG4gICAgICBjb25zdCBjYW5CZUFubm90YXRpb25UeXBlID1cbiAgICAgICAgbWV0YWRhdGEgJiYgbWV0YWRhdGEuY2FuQmVBbm5vdGF0aW9uVHlwZShhbm5vdGF0aW9uVHlwZSk7XG4gICAgICBpZiAoY2FuQmVBbm5vdGF0aW9uVHlwZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgdmFsdWU6IGlkLFxuICAgICAgICAgICAgbGFiZWw6IHNsaWNlTmFtZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNsaWNlOiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgICAgICBncm91cGJ5OiBmb3JtRGF0YS5ncm91cGJ5Py5tYXAoY29sdW1uID0+IGdldENvbHVtbkxhYmVsKGNvbHVtbikpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZldGNoQXBwbGllZE5hdGl2ZUFubm90YXRpb24oaWQpIHtcbiAgICBTdXBlcnNldENsaWVudC5nZXQoe1xuICAgICAgZW5kcG9pbnQ6IGAvYXBpL3YxL2Fubm90YXRpb25fbGF5ZXIvJHtpZH1gLFxuICAgIH0pLnRoZW4oKHsganNvbiB9KSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0ganNvbjtcbiAgICAgIGNvbnN0IGxheWVyID0gcmVzdWx0O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgdmFsdWU6IGxheWVyLmlkLFxuICAgICAgICAgIGxhYmVsOiBsYXllci5uYW1lLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmZXRjaEFwcGxpZWRBbm5vdGF0aW9uKGlkKSB7XG4gICAgY29uc3QgeyBzb3VyY2VUeXBlIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKHNvdXJjZVR5cGUgPT09IEFOTk9UQVRJT05fU09VUkNFX1RZUEVTLk5BVElWRSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hBcHBsaWVkTmF0aXZlQW5ub3RhdGlvbihpZCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZldGNoQXBwbGllZENoYXJ0KGlkKTtcbiAgfVxuXG4gIGRlbGV0ZUFubm90YXRpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5yZW1vdmVBbm5vdGF0aW9uTGF5ZXIoKTtcbiAgICB0aGlzLnByb3BzLmNsb3NlKCk7XG4gIH1cblxuICBhcHBseUFubm90YXRpb24oKSB7XG4gICAgY29uc3QgeyB2YWx1ZSwgc291cmNlVHlwZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAodGhpcy5pc1ZhbGlkRm9ybSgpKSB7XG4gICAgICBjb25zdCBhbm5vdGF0aW9uRmllbGRzID0gW1xuICAgICAgICAnbmFtZScsXG4gICAgICAgICdhbm5vdGF0aW9uVHlwZScsXG4gICAgICAgICdzb3VyY2VUeXBlJyxcbiAgICAgICAgJ2NvbG9yJyxcbiAgICAgICAgJ29wYWNpdHknLFxuICAgICAgICAnc3R5bGUnLFxuICAgICAgICAnd2lkdGgnLFxuICAgICAgICAnc2hvd01hcmtlcnMnLFxuICAgICAgICAnaGlkZUxpbmUnLFxuICAgICAgICAnb3ZlcnJpZGVzJyxcbiAgICAgICAgJ3Nob3cnLFxuICAgICAgICAnc2hvd0xhYmVsJyxcbiAgICAgICAgJ3RpdGxlQ29sdW1uJyxcbiAgICAgICAgJ2Rlc2NyaXB0aW9uQ29sdW1ucycsXG4gICAgICAgICd0aW1lQ29sdW1uJyxcbiAgICAgICAgJ2ludGVydmFsRW5kQ29sdW1uJyxcbiAgICAgIF07XG4gICAgICBjb25zdCBuZXdBbm5vdGF0aW9uID0ge307XG4gICAgICBhbm5vdGF0aW9uRmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZVtmaWVsZF0gIT09IG51bGwpIHtcbiAgICAgICAgICBuZXdBbm5vdGF0aW9uW2ZpZWxkXSA9IHRoaXMuc3RhdGVbZmllbGRdO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJlcGFyZSBuZXdBbm5vdGF0aW9uLnZhbHVlIGZvciB1c2UgaW4gcnVuQW5ub3RhdGlvblF1ZXJ5KClcbiAgICAgIGNvbnN0IGFwcGxpY2FibGVWYWx1ZSA9IHJlcXVpcmVzUXVlcnkoc291cmNlVHlwZSkgPyB2YWx1ZS52YWx1ZSA6IHZhbHVlO1xuICAgICAgbmV3QW5ub3RhdGlvbi52YWx1ZSA9IGFwcGxpY2FibGVWYWx1ZTtcblxuICAgICAgaWYgKG5ld0Fubm90YXRpb24uY29sb3IgPT09IEFVVE9NQVRJQ19DT0xPUikge1xuICAgICAgICBuZXdBbm5vdGF0aW9uLmNvbG9yID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9wcy5hZGRBbm5vdGF0aW9uTGF5ZXIobmV3QW5ub3RhdGlvbik7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNOZXc6IGZhbHNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHN1Ym1pdEFubm90YXRpb24oKSB7XG4gICAgdGhpcy5hcHBseUFubm90YXRpb24oKTtcbiAgICB0aGlzLnByb3BzLmNsb3NlKCk7XG4gIH1cblxuICByZW5kZXJDaGFydEhlYWRlcihsYWJlbCwgZGVzY3JpcHRpb24sIHZhbHVlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb250cm9sSGVhZGVyXG4gICAgICAgIGhvdmVyZWRcbiAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XG4gICAgICAgIHZhbGlkYXRpb25FcnJvcnM9eyF2YWx1ZSA/IFsnTWFuZGF0b3J5J10gOiBbXX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclZhbHVlQ29uZmlndXJhdGlvbigpIHtcbiAgICBjb25zdCB7IGFubm90YXRpb25UeXBlLCBzb3VyY2VUeXBlLCB2YWx1ZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBsZXQgbGFiZWwgPSAnJztcbiAgICBsZXQgZGVzY3JpcHRpb24gPSAnJztcbiAgICBpZiAocmVxdWlyZXNRdWVyeShzb3VyY2VUeXBlKSkge1xuICAgICAgaWYgKHNvdXJjZVR5cGUgPT09IEFOTk9UQVRJT05fU09VUkNFX1RZUEVTLk5BVElWRSkge1xuICAgICAgICBsYWJlbCA9IHQoJ0Fubm90YXRpb24gbGF5ZXInKTtcbiAgICAgICAgZGVzY3JpcHRpb24gPSB0KCdTZWxlY3QgdGhlIEFubm90YXRpb24gTGF5ZXIgeW91IHdvdWxkIGxpa2UgdG8gdXNlLicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFiZWwgPSB0KCdDaGFydCcpO1xuICAgICAgICBkZXNjcmlwdGlvbiA9IHQoXG4gICAgICAgICAgYFVzZSBhbm90aGVyIGV4aXN0aW5nIGNoYXJ0IGFzIGEgc291cmNlIGZvciBhbm5vdGF0aW9ucyBhbmQgb3ZlcmxheXMuXG4gICAgICAgICAgWW91ciBjaGFydCBtdXN0IGJlIG9uZSBvZiB0aGVzZSB2aXN1YWxpemF0aW9uIHR5cGVzOiBbJXNdYCxcbiAgICAgICAgICB0aGlzLmdldFN1cHBvcnRlZFNvdXJjZVR5cGVzKGFubm90YXRpb25UeXBlKVxuICAgICAgICAgICAgLm1hcCh4ID0+IHgubGFiZWwpXG4gICAgICAgICAgICAuam9pbignLCAnKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLkZPUk1VTEEpIHtcbiAgICAgIGxhYmVsID0gdCgnRm9ybXVsYScpO1xuICAgICAgZGVzY3JpcHRpb24gPSB0KGBFeHBlY3RzIGEgZm9ybXVsYSB3aXRoIGRlcGVuZGluZyB0aW1lIHBhcmFtZXRlciAneCdcbiAgICAgICAgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIGVwb2NoLiBtYXRoanMgaXMgdXNlZCB0byBldmFsdWF0ZSB0aGUgZm9ybXVsYXMuXG4gICAgICAgIEV4YW1wbGU6ICcyeCs1J2ApO1xuICAgIH1cbiAgICBpZiAocmVxdWlyZXNRdWVyeShzb3VyY2VUeXBlKSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEFzeW5jU2VsZWN0XG4gICAgICAgICAgLyoga2V5IHRvIGZvcmNlIHJlLXJlbmRlciBvbiBzb3VyY2VUeXBlIGNoYW5nZSAqL1xuICAgICAgICAgIGtleT17c291cmNlVHlwZX1cbiAgICAgICAgICBhcmlhTGFiZWw9e3QoJ0Fubm90YXRpb24gbGF5ZXIgdmFsdWUnKX1cbiAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci12YWx1ZVwiXG4gICAgICAgICAgaGVhZGVyPXt0aGlzLnJlbmRlckNoYXJ0SGVhZGVyKGxhYmVsLCBkZXNjcmlwdGlvbiwgdmFsdWUpfVxuICAgICAgICAgIG9wdGlvbnM9e3RoaXMuZmV0Y2hPcHRpb25zfVxuICAgICAgICAgIHZhbHVlPXt2YWx1ZSB8fCBudWxsfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVNlbGVjdFZhbHVlfVxuICAgICAgICAgIG5vdEZvdW5kQ29udGVudD17PE5vdEZvdW5kQ29udGVudCAvPn1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChhbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5GT1JNVUxBKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VGV4dENvbnRyb2xcbiAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci12YWx1ZVwiXG4gICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgIHNob3dIZWFkZXJcbiAgICAgICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XG4gICAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiXCJcbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlVGV4dFZhbHVlfVxuICAgICAgICAgIHZhbGlkYXRpb25FcnJvcnM9e1xuICAgICAgICAgICAgIXRoaXMuaXNWYWxpZEZvcm11bGFBbm5vdGF0aW9uKHZhbHVlLCBhbm5vdGF0aW9uVHlwZSlcbiAgICAgICAgICAgICAgPyBbdCgnQmFkIGZvcm11bGEuJyldXG4gICAgICAgICAgICAgIDogW11cbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZW5kZXJTbGljZUNvbmZpZ3VyYXRpb24oKSB7XG4gICAgY29uc3Qge1xuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICBzb3VyY2VUeXBlLFxuICAgICAgdmFsdWUsXG4gICAgICBzbGljZSxcbiAgICAgIG92ZXJyaWRlcyxcbiAgICAgIHRpdGxlQ29sdW1uLFxuICAgICAgdGltZUNvbHVtbixcbiAgICAgIGludGVydmFsRW5kQ29sdW1uLFxuICAgICAgZGVzY3JpcHRpb25Db2x1bW5zLFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKCFzbGljZSB8fCAhdmFsdWUpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBpZiAoc291cmNlVHlwZSAhPT0gQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVMuTkFUSVZFICYmIHNsaWNlKSB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gKHNsaWNlLmRhdGEuZ3JvdXBieSB8fCBbXSlcbiAgICAgICAgLmNvbmNhdChzbGljZS5kYXRhLmFsbF9jb2x1bW5zIHx8IFtdKVxuICAgICAgICAubWFwKHggPT4gKHsgdmFsdWU6IHgsIGxhYmVsOiB4IH0pKTtcbiAgICAgIGNvbnN0IHRpbWVDb2x1bW5PcHRpb25zID0gc2xpY2UuZGF0YS5pbmNsdWRlX3RpbWVcbiAgICAgICAgPyBbeyB2YWx1ZTogJ19fdGltZXN0YW1wJywgbGFiZWw6ICdfX3RpbWVzdGFtcCcgfV0uY29uY2F0KGNvbHVtbnMpXG4gICAgICAgIDogY29sdW1ucztcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6ICcycmVtJyB9fT5cbiAgICAgICAgICA8UG9wb3ZlclNlY3Rpb25cbiAgICAgICAgICAgIGlzU2VsZWN0ZWRcbiAgICAgICAgICAgIHRpdGxlPXt0KCdBbm5vdGF0aW9uIFNsaWNlIENvbmZpZ3VyYXRpb24nKX1cbiAgICAgICAgICAgIGluZm89e3QoYFRoaXMgc2VjdGlvbiBhbGxvd3MgeW91IHRvIGNvbmZpZ3VyZSBob3cgdG8gdXNlIHRoZSBzbGljZVxuICAgICAgICAgICAgICB0byBnZW5lcmF0ZSBhbm5vdGF0aW9ucy5gKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7KGFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLkVWRU5UIHx8XG4gICAgICAgICAgICAgIGFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLklOVEVSVkFMKSAmJiAoXG4gICAgICAgICAgICAgIDxTZWxlY3RDb250cm9sXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsPXt0KCdBbm5vdGF0aW9uIGxheWVyIHRpbWUgY29sdW1uJyl9XG4gICAgICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXRpbWUtY29sdW1uXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17XG4gICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5JTlRFUlZBTFxuICAgICAgICAgICAgICAgICAgICA/IHQoJ0ludGVydmFsIHN0YXJ0IGNvbHVtbicpXG4gICAgICAgICAgICAgICAgICAgIDogdCgnRXZlbnQgdGltZSBjb2x1bW4nKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17dChcbiAgICAgICAgICAgICAgICAgICdUaGlzIGNvbHVtbiBtdXN0IGNvbnRhaW4gZGF0ZS90aW1lIGluZm9ybWF0aW9uLicsXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3JzPXshdGltZUNvbHVtbiA/IFsnTWFuZGF0b3J5J10gOiBbXX1cbiAgICAgICAgICAgICAgICBjbGVhcmFibGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e3RpbWVDb2x1bW5PcHRpb25zfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aW1lQ29sdW1ufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHRoaXMuc2V0U3RhdGUoeyB0aW1lQ29sdW1uOiB2IH0pfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHthbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5JTlRFUlZBTCAmJiAoXG4gICAgICAgICAgICAgIDxTZWxlY3RDb250cm9sXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsPXt0KCdBbm5vdGF0aW9uIGxheWVyIGludGVydmFsIGVuZCcpfVxuICAgICAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1pbnRlcnZhbEVuZFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e3QoJ0ludGVydmFsIEVuZCBjb2x1bW4nKX1cbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17dChcbiAgICAgICAgICAgICAgICAgICdUaGlzIGNvbHVtbiBtdXN0IGNvbnRhaW4gZGF0ZS90aW1lIGluZm9ybWF0aW9uLicsXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3JzPXshaW50ZXJ2YWxFbmRDb2x1bW4gPyBbJ01hbmRhdG9yeSddIDogW119XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICB2YWx1ZT17aW50ZXJ2YWxFbmRDb2x1bW59XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3ZhbHVlID0+IHRoaXMuc2V0U3RhdGUoeyBpbnRlcnZhbEVuZENvbHVtbjogdmFsdWUgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICAgICAgYXJpYUxhYmVsPXt0KCdBbm5vdGF0aW9uIGxheWVyIHRpdGxlIGNvbHVtbicpfVxuICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXRpdGxlXCJcbiAgICAgICAgICAgICAgbGFiZWw9e3QoJ1RpdGxlIENvbHVtbicpfVxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17dCgnUGljayBhIHRpdGxlIGZvciB5b3UgYW5ub3RhdGlvbi4nKX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17W3sgdmFsdWU6ICcnLCBsYWJlbDogdCgnTm9uZScpIH1dLmNvbmNhdChjb2x1bW5zKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlQ29sdW1ufVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dmFsdWUgPT4gdGhpcy5zZXRTdGF0ZSh7IHRpdGxlQ29sdW1uOiB2YWx1ZSB9KX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7YW5ub3RhdGlvblR5cGUgIT09IEFOTk9UQVRJT05fVFlQRVMuVElNRV9TRVJJRVMgJiYgKFxuICAgICAgICAgICAgICA8U2VsZWN0Q29udHJvbFxuICAgICAgICAgICAgICAgIGFyaWFMYWJlbD17dCgnQW5ub3RhdGlvbiBsYXllciBkZXNjcmlwdGlvbiBjb2x1bW5zJyl9XG4gICAgICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXRpdGxlXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17dCgnRGVzY3JpcHRpb24gQ29sdW1ucycpfVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXt0KFxuICAgICAgICAgICAgICAgICAgXCJQaWNrIG9uZSBvciBtb3JlIGNvbHVtbnMgdGhhdCBzaG91bGQgYmUgc2hvd24gaW4gdGhlIGFubm90YXRpb24uIElmIHlvdSBkb24ndCBzZWxlY3QgYSBjb2x1bW4gYWxsIG9mIHRoZW0gd2lsbCBiZSBzaG93bi5cIixcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIG11bHRpXG4gICAgICAgICAgICAgICAgb3B0aW9ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICB2YWx1ZT17ZGVzY3JpcHRpb25Db2x1bW5zfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2YWx1ZSA9PiB0aGlzLnNldFN0YXRlKHsgZGVzY3JpcHRpb25Db2x1bW5zOiB2YWx1ZSB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzFyZW0nIH19PlxuICAgICAgICAgICAgICA8Q2hlY2tib3hDb250cm9sXG4gICAgICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLW92ZXJyaWRlLXRpbWVfcmFuZ2VcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXt0KCdPdmVycmlkZSB0aW1lIHJhbmdlJyl9XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb249e3QoYFRoaXMgY29udHJvbHMgd2hldGhlciB0aGUgXCJ0aW1lX3JhbmdlXCIgZmllbGQgZnJvbSB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgICAgdmlldyBzaG91bGQgYmUgcGFzc2VkIGRvd24gdG8gdGhlIGNoYXJ0IGNvbnRhaW5pbmcgdGhlIGFubm90YXRpb24gZGF0YS5gKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17J3RpbWVfcmFuZ2UnIGluIG92ZXJyaWRlc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgb3ZlcnJpZGVzLnRpbWVfcmFuZ2U7XG4gICAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZXM6IHsgLi4ub3ZlcnJpZGVzLCB0aW1lX3JhbmdlOiBudWxsIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG92ZXJyaWRlczogeyAuLi5vdmVycmlkZXMgfSB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hDb250cm9sXG4gICAgICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLW92ZXJyaWRlLXRpbWVncmFpblwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e3QoJ092ZXJyaWRlIHRpbWUgZ3JhaW4nKX1cbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17dChgVGhpcyBjb250cm9scyB3aGV0aGVyIHRoZSB0aW1lIGdyYWluIGZpZWxkIGZyb20gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgIHZpZXcgc2hvdWxkIGJlIHBhc3NlZCBkb3duIHRvIHRoZSBjaGFydCBjb250YWluaW5nIHRoZSBhbm5vdGF0aW9uIGRhdGEuYCl9XG4gICAgICAgICAgICAgICAgdmFsdWU9eyd0aW1lX2dyYWluX3NxbGEnIGluIG92ZXJyaWRlc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgb3ZlcnJpZGVzLnRpbWVfZ3JhaW5fc3FsYTtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvdmVycmlkZXMuZ3JhbnVsYXJpdHk7XG4gICAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm92ZXJyaWRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVfZ3JhaW5fc3FsYTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYW51bGFyaXR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG92ZXJyaWRlczogeyAuLi5vdmVycmlkZXMgfSB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8VGV4dENvbnRyb2xcbiAgICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItdGltZXNoaWZ0XCJcbiAgICAgICAgICAgICAgICBsYWJlbD17dCgnVGltZSBTaGlmdCcpfVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXt0KGBUaW1lIGRlbHRhIGluIG5hdHVyYWwgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAgIChleGFtcGxlOiAgMjQgaG91cnMsIDcgZGF5cywgNTYgd2Vla3MsIDM2NSBkYXlzKWApfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17b3ZlcnJpZGVzLnRpbWVfc2hpZnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT5cbiAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvdmVycmlkZXM6IHsgLi4ub3ZlcnJpZGVzLCB0aW1lX3NoaWZ0OiB2IH0gfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1BvcG92ZXJTZWN0aW9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHJlbmRlckRpc3BsYXlDb25maWd1cmF0aW9uKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbG9yLFxuICAgICAgb3BhY2l0eSxcbiAgICAgIHN0eWxlLFxuICAgICAgd2lkdGgsXG4gICAgICBzaG93TWFya2VycyxcbiAgICAgIGhpZGVMaW5lLFxuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgY29sb3JTY2hlbWUgPSBnZXRDYXRlZ29yaWNhbFNjaGVtZVJlZ2lzdHJ5KClcbiAgICAgIC5nZXQodGhpcy5wcm9wcy5jb2xvclNjaGVtZSlcbiAgICAgIC5jb2xvcnMuY29uY2F0KCk7XG4gICAgaWYgKFxuICAgICAgY29sb3IgJiZcbiAgICAgIGNvbG9yICE9PSBBVVRPTUFUSUNfQ09MT1IgJiZcbiAgICAgICFjb2xvclNjaGVtZS5maW5kKHggPT4geC50b0xvd2VyQ2FzZSgpID09PSBjb2xvci50b0xvd2VyQ2FzZSgpKVxuICAgICkge1xuICAgICAgY29sb3JTY2hlbWUucHVzaChjb2xvcik7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8UG9wb3ZlclNlY3Rpb25cbiAgICAgICAgaXNTZWxlY3RlZFxuICAgICAgICB0aXRsZT17dCgnRGlzcGxheSBjb25maWd1cmF0aW9uJyl9XG4gICAgICAgIGluZm89e3QoJ0NvbmZpZ3VyZSB5b3VyIGhvdyB5b3Ugb3ZlcmxheSBpcyBkaXNwbGF5ZWQgaGVyZS4nKX1cbiAgICAgID5cbiAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICBhcmlhTGFiZWw9e3QoJ0Fubm90YXRpb24gbGF5ZXIgc3Ryb2tlJyl9XG4gICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItc3Ryb2tlXCJcbiAgICAgICAgICBsYWJlbD17dCgnU3R5bGUnKX1cbiAgICAgICAgICAvLyBzZWUgJy4uLy4uLy4uL3Zpc3VhbGl6YXRpb25zL252ZDNfdmlzLmNzcydcbiAgICAgICAgICBvcHRpb25zPXtbXG4gICAgICAgICAgICB7IHZhbHVlOiAnc29saWQnLCBsYWJlbDogdCgnU29saWQnKSB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ2Rhc2hlZCcsIGxhYmVsOiB0KCdEYXNoZWQnKSB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ2xvbmdEYXNoZWQnLCBsYWJlbDogdCgnTG9uZyBkYXNoZWQnKSB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ2RvdHRlZCcsIGxhYmVsOiB0KCdEb3R0ZWQnKSB9LFxuICAgICAgICAgIF19XG4gICAgICAgICAgdmFsdWU9e3N0eWxlfVxuICAgICAgICAgIGNsZWFyYWJsZT17ZmFsc2V9XG4gICAgICAgICAgb25DaGFuZ2U9e3YgPT4gdGhpcy5zZXRTdGF0ZSh7IHN0eWxlOiB2IH0pfVxuICAgICAgICAvPlxuICAgICAgICA8U2VsZWN0Q29udHJvbFxuICAgICAgICAgIGFyaWFMYWJlbD17dCgnQW5ub3RhdGlvbiBsYXllciBvcGFjaXR5Jyl9XG4gICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItb3BhY2l0eVwiXG4gICAgICAgICAgbGFiZWw9e3QoJ09wYWNpdHknKX1cbiAgICAgICAgICAvLyBzZWUgJy4uLy4uLy4uL3Zpc3VhbGl6YXRpb25zL252ZDNfdmlzLmNzcydcbiAgICAgICAgICBvcHRpb25zPXtbXG4gICAgICAgICAgICB7IHZhbHVlOiAnJywgbGFiZWw6IHQoJ1NvbGlkJykgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICdvcGFjaXR5TG93JywgbGFiZWw6ICcwLjInIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAnb3BhY2l0eU1lZGl1bScsIGxhYmVsOiAnMC41JyB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ29wYWNpdHlIaWdoJywgbGFiZWw6ICcwLjgnIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgICB2YWx1ZT17b3BhY2l0eX1cbiAgICAgICAgICBvbkNoYW5nZT17dmFsdWUgPT4gdGhpcy5zZXRTdGF0ZSh7IG9wYWNpdHk6IHZhbHVlIH0pfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIG1hcmdpblRvcDogdGhpcy5wcm9wcy50aGVtZS5zaXplVW5pdCAqIDIsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IHRoaXMucHJvcHMudGhlbWUuc2l6ZVVuaXQgKiAyLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8Q2hlY2tib3hDb250cm9sXG4gICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1hdXRvbWF0aWMtY29sb3JcIlxuICAgICAgICAgICAgbGFiZWw9e3QoJ1VzZSBhdXRvbWF0aWMgY29sb3InKX1cbiAgICAgICAgICAgIHZhbHVlPXtjb2xvciA9PT0gQVVUT01BVElDX0NPTE9SfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3VzZUF1dG9tYXRpYyA9PiB7XG4gICAgICAgICAgICAgIGlmICh1c2VBdXRvbWF0aWMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29sb3I6IEFVVE9NQVRJQ19DT0xPUiB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgdG8gZmlyc3QgdGhlbWUgY29sb3Igb3IgZGFyayBjb2xvciBhcyBmYWxsYmFja1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yU2NoZW1lWzBdIHx8IHRoaXMucHJvcHMudGhlbWUuY29sb3JUZXh0QmFzZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIHtjb2xvciAhPT0gQVVUT01BVElDX0NPTE9SICYmIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiB0aGlzLnByb3BzLnRoZW1lLnNpemVVbml0ICogMiB9fT5cbiAgICAgICAgICAgICAgPENvbnRyb2xIZWFkZXIgbGFiZWw9e3QoJ0NvbG9yJyl9IC8+XG4gICAgICAgICAgICAgIDxDb2xvclBpY2tlclxuICAgICAgICAgICAgICAgIHZhbHVlPXtjb2xvcn1cbiAgICAgICAgICAgICAgICBwcmVzZXRzPXtbeyBsYWJlbDogJ1RoZW1lIGNvbG9ycycsIGNvbG9yczogY29sb3JTY2hlbWUgfV19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2VDb21wbGV0ZT17Y29sb3JWYWx1ZSA9PlxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbG9yOiBjb2xvclZhbHVlLnRvSGV4U3RyaW5nKCkgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2hvd1RleHRcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8VGV4dENvbnRyb2xcbiAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1zdHJva2Utd2lkdGhcIlxuICAgICAgICAgIGxhYmVsPXt0KCdMaW5lIHdpZHRoJyl9XG4gICAgICAgICAgaXNJbnRcbiAgICAgICAgICB2YWx1ZT17d2lkdGh9XG4gICAgICAgICAgb25DaGFuZ2U9e3YgPT4gdGhpcy5zZXRTdGF0ZSh7IHdpZHRoOiB2IH0pfVxuICAgICAgICAvPlxuICAgICAgICB7YW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuVElNRV9TRVJJRVMgJiYgKFxuICAgICAgICAgIDxDaGVja2JveENvbnRyb2xcbiAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXNob3ctbWFya2Vyc1wiXG4gICAgICAgICAgICBsYWJlbD17dCgnU2hvdyBNYXJrZXJzJyl9XG4gICAgICAgICAgICBkZXNjcmlwdGlvbj17dCgnU2hvd3Mgb3IgaGlkZXMgbWFya2VycyBmb3IgdGhlIHRpbWUgc2VyaWVzJyl9XG4gICAgICAgICAgICB2YWx1ZT17c2hvd01hcmtlcnN9XG4gICAgICAgICAgICBvbkNoYW5nZT17diA9PiB0aGlzLnNldFN0YXRlKHsgc2hvd01hcmtlcnM6IHYgfSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAge2Fubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLlRJTUVfU0VSSUVTICYmIChcbiAgICAgICAgICA8Q2hlY2tib3hDb250cm9sXG4gICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1oaWRlLWxpbmVcIlxuICAgICAgICAgICAgbGFiZWw9e3QoJ0hpZGUgTGluZScpfVxuICAgICAgICAgICAgZGVzY3JpcHRpb249e3QoJ0hpZGVzIHRoZSBMaW5lIGZvciB0aGUgdGltZSBzZXJpZXMnKX1cbiAgICAgICAgICAgIHZhbHVlPXtoaWRlTGluZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHRoaXMuc2V0U3RhdGUoeyBoaWRlTGluZTogdiB9KX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9Qb3BvdmVyU2VjdGlvbj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaXNOZXcsIG5hbWUsIGFubm90YXRpb25UeXBlLCBzb3VyY2VUeXBlLCBzaG93LCBzaG93TGFiZWwgfSA9XG4gICAgICB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGlzVmFsaWQgPSB0aGlzLmlzVmFsaWRGb3JtKCk7XG4gICAgY29uc3QgbWV0YWRhdGEgPSBnZXRDaGFydE1ldGFkYXRhUmVnaXN0cnkoKS5nZXQodGhpcy5wcm9wcy52aXpUeXBlKTtcbiAgICBjb25zdCBzdXBwb3J0ZWRBbm5vdGF0aW9uVHlwZXMgPSBtZXRhZGF0YVxuICAgICAgPyBtZXRhZGF0YS5zdXBwb3J0ZWRBbm5vdGF0aW9uVHlwZXMubWFwKFxuICAgICAgICAgIHR5cGUgPT4gQU5OT1RBVElPTl9UWVBFU19NRVRBREFUQVt0eXBlXSxcbiAgICAgICAgKVxuICAgICAgOiBbXTtcbiAgICBjb25zdCBzdXBwb3J0ZWRTb3VyY2VUeXBlcyA9IHRoaXMuZ2V0U3VwcG9ydGVkU291cmNlVHlwZXMoYW5ub3RhdGlvblR5cGUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIHt0aGlzLnByb3BzLmVycm9yICYmIChcbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogdGhpcy5wcm9wcy50aGVtZS5jb2xvckVycm9yIH19PlxuICAgICAgICAgICAgRVJST1I6IHt0aGlzLnByb3BzLmVycm9yfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdyb3cnIH19PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6ICcycmVtJyB9fT5cbiAgICAgICAgICAgIDxQb3BvdmVyU2VjdGlvblxuICAgICAgICAgICAgICBpc1NlbGVjdGVkXG4gICAgICAgICAgICAgIHRpdGxlPXt0KCdMYXllciBjb25maWd1cmF0aW9uJyl9XG4gICAgICAgICAgICAgIGluZm89e3QoJ0NvbmZpZ3VyZSB0aGUgYmFzaWNzIG9mIHlvdXIgQW5ub3RhdGlvbiBMYXllci4nKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFRleHRDb250cm9sXG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItbmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e3QoJ05hbWUnKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e25hbWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4gdGhpcy5zZXRTdGF0ZSh7IG5hbWU6IHYgfSl9XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9ycz17IW5hbWUgPyBbdCgnTWFuZGF0b3J5JyldIDogW119XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxDaGVja2JveENvbnRyb2xcbiAgICAgICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1oaWRlXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17dCgnSGlkZSBsYXllcicpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXshc2hvd31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB0aGlzLnNldFN0YXRlKHsgc2hvdzogIXYgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxDaGVja2JveENvbnRyb2xcbiAgICAgICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYWJlbC1zaG93XCJcbiAgICAgICAgICAgICAgICBsYWJlbD17dCgnU2hvdyBsYWJlbCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtzaG93TGFiZWx9XG4gICAgICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXt0KCdXaGV0aGVyIHRvIGFsd2F5cyBzaG93IHRoZSBhbm5vdGF0aW9uIGxhYmVsJyl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4gdGhpcy5zZXRTdGF0ZSh7IHNob3dMYWJlbDogdiB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICAgICAgICBhcmlhTGFiZWw9e3QoJ0Fubm90YXRpb24gbGF5ZXIgdHlwZScpfVxuICAgICAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17dCgnQ2hvb3NlIHRoZSBhbm5vdGF0aW9uIGxheWVyIHR5cGUnKX1cbiAgICAgICAgICAgICAgICBsYWJlbD17dCgnQW5ub3RhdGlvbiBsYXllciB0eXBlJyl9XG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItdHlwZVwiXG4gICAgICAgICAgICAgICAgY2xlYXJhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXtzdXBwb3J0ZWRBbm5vdGF0aW9uVHlwZXN9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2Fubm90YXRpb25UeXBlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUFubm90YXRpb25UeXBlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7c3VwcG9ydGVkU291cmNlVHlwZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICAgICAgICAgIGFyaWFMYWJlbD17dCgnQW5ub3RhdGlvbiBzb3VyY2UgdHlwZScpfVxuICAgICAgICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb249e3QoJ0Nob29zZSB0aGUgc291cmNlIG9mIHlvdXIgYW5ub3RhdGlvbnMnKX1cbiAgICAgICAgICAgICAgICAgIGxhYmVsPXt0KCdBbm5vdGF0aW9uIHNvdXJjZScpfVxuICAgICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tc291cmNlLXR5cGVcIlxuICAgICAgICAgICAgICAgICAgb3B0aW9ucz17c3VwcG9ydGVkU291cmNlVHlwZXN9XG4gICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9ezxOb3RGb3VuZENvbnRlbnQgLz59XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c291cmNlVHlwZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUFubm90YXRpb25Tb3VyY2VUeXBlfVxuICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9ycz17IXNvdXJjZVR5cGUgPyBbdCgnTWFuZGF0b3J5JyldIDogW119XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge3RoaXMucmVuZGVyVmFsdWVDb25maWd1cmF0aW9uKCl9XG4gICAgICAgICAgICA8L1BvcG92ZXJTZWN0aW9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLnJlbmRlclNsaWNlQ29uZmlndXJhdGlvbigpfVxuICAgICAgICAgIHt0aGlzLnJlbmRlckRpc3BsYXlDb25maWd1cmF0aW9uKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyB9fT5cbiAgICAgICAgICB7aXNOZXcgPyAoXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGJ1dHRvblNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgIGJ1dHRvblN0eWxlPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5wcm9wcy5jbG9zZSgpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dCgnQ2FuY2VsJyl9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBidXR0b25TaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICBidXR0b25TdHlsZT1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZGVsZXRlQW5ub3RhdGlvbn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3QoJ1JlbW92ZScpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBidXR0b25TaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzVmFsaWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYXBwbHlBbm5vdGF0aW9ufVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dCgnQXBwbHknKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGJ1dHRvblNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgIGJ1dHRvblN0eWxlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshaXNWYWxpZH1cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zdWJtaXRBbm5vdGF0aW9ufVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dCgnT0snKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbn1cblxuQW5ub3RhdGlvbkxheWVyLnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkFubm90YXRpb25MYXllci5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhUaGVtZShBbm5vdGF0aW9uTGF5ZXIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\n\n}");

/***/ }),

/***/ "./src/explore/components/controls/AnnotationLayerControl/AnnotationTypes.js":
/*!***********************************************************************************!*\
  !*** ./src/explore/components/controls/AnnotationLayerControl/AnnotationTypes.js ***!
  \***********************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ANNOTATION_SOURCE_TYPES: () => (/* binding */ ANNOTATION_SOURCE_TYPES),\n/* harmony export */   ANNOTATION_SOURCE_TYPES_METADATA: () => (/* binding */ ANNOTATION_SOURCE_TYPES_METADATA),\n/* harmony export */   ANNOTATION_TYPES: () => (/* binding */ ANNOTATION_TYPES),\n/* harmony export */   ANNOTATION_TYPES_METADATA: () => (/* binding */ ANNOTATION_TYPES_METADATA),\n/* harmony export */   DEFAULT_ANNOTATION_TYPE: () => (/* binding */ DEFAULT_ANNOTATION_TYPE),\n/* harmony export */   requiresQuery: () => (/* binding */ requiresQuery)\n/* harmony export */ });\n/* unused harmony export applyNativeColumns */\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/translation/TranslatorSingleton.ts\");\n/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ \"./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js\");\n/* provided dependency */ var __react_refresh_error_overlay__ = __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js */ \"./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js\");\n__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ./node_modules/react-refresh/runtime.js */ \"./node_modules/react-refresh/runtime.js\");\n\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */ function _extends() {\n    _extends = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nfunction extractTypes(metadata) {\n    return Object.keys(metadata).reduce((prev, key)=>{\n        const result = prev;\n        result[key] = key;\n        return result;\n    }, {});\n}\nconst ANNOTATION_TYPES_METADATA = {\n    FORMULA: {\n        value: 'FORMULA',\n        label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.t)('Formula')\n    },\n    EVENT: {\n        value: 'EVENT',\n        label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.t)('Event'),\n        supportNativeSource: true\n    },\n    INTERVAL: {\n        value: 'INTERVAL',\n        label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.t)('Interval'),\n        supportNativeSource: true\n    },\n    TIME_SERIES: {\n        value: 'TIME_SERIES',\n        label: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.t)('Time series')\n    }\n};\nconst ANNOTATION_TYPES = extractTypes(ANNOTATION_TYPES_METADATA);\n_c = ANNOTATION_TYPES;\nconst DEFAULT_ANNOTATION_TYPE = ANNOTATION_TYPES.FORMULA;\nconst ANNOTATION_SOURCE_TYPES_METADATA = {\n    NATIVE: {\n        value: 'NATIVE',\n        label: 'Superset annotation'\n    }\n};\nconst ANNOTATION_SOURCE_TYPES = extractTypes(ANNOTATION_SOURCE_TYPES_METADATA);\n_c1 = ANNOTATION_SOURCE_TYPES;\nfunction requiresQuery(annotationSourceType) {\n    return !!annotationSourceType;\n}\nconst NATIVE_COLUMN_NAMES = {\n    timeColumn: 'start_dttm',\n    intervalEndColumn: 'end_dttm',\n    titleColumn: 'short_descr',\n    descriptionColumns: [\n        'long_descr'\n    ]\n};\nfunction applyNativeColumns(annotation) {\n    if (annotation.sourceType === ANNOTATION_SOURCE_TYPES.NATIVE) {\n        return _extends({}, annotation, NATIVE_COLUMN_NAMES);\n    }\n    return annotation;\n}\nvar _c, _c1;\n__webpack_require__.$Refresh$.register(_c, \"ANNOTATION_TYPES\");\n__webpack_require__.$Refresh$.register(_c1, \"ANNOTATION_SOURCE_TYPES\");\n\n\nconst $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;\nconst $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(\n\t$ReactRefreshModuleId$\n);\n\nfunction $ReactRefreshModuleRuntime$(exports) {\n\tif (true) {\n\t\tlet errorOverlay;\n\t\tif (typeof __react_refresh_error_overlay__ !== 'undefined') {\n\t\t\terrorOverlay = __react_refresh_error_overlay__;\n\t\t}\n\t\tlet testMode;\n\t\tif (typeof __react_refresh_test__ !== 'undefined') {\n\t\t\ttestMode = __react_refresh_test__;\n\t\t}\n\t\treturn __react_refresh_utils__.executeRuntime(\n\t\t\texports,\n\t\t\t$ReactRefreshModuleId$,\n\t\t\tmodule.hot,\n\t\t\terrorOverlay,\n\t\t\ttestMode\n\t\t);\n\t}\n}\n\nif (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {\n\t$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);\n} else {\n\t$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0Fubm90YXRpb25MYXllckNvbnRyb2wvQW5ub3RhdGlvblR5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBOzs7Ozs7Ozs7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0Fubm90YXRpb25MYXllckNvbnRyb2wvQW5ub3RhdGlvblR5cGVzLmpzP2IzOWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgdCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcblxuZnVuY3Rpb24gZXh0cmFjdFR5cGVzKG1ldGFkYXRhKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhtZXRhZGF0YSkucmVkdWNlKChwcmV2LCBrZXkpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBwcmV2O1xuICAgIHJlc3VsdFtrZXldID0ga2V5O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIHt9KTtcbn1cblxuZXhwb3J0IGNvbnN0IEFOTk9UQVRJT05fVFlQRVNfTUVUQURBVEEgPSB7XG4gIEZPUk1VTEE6IHtcbiAgICB2YWx1ZTogJ0ZPUk1VTEEnLFxuICAgIGxhYmVsOiB0KCdGb3JtdWxhJyksXG4gIH0sXG4gIEVWRU5UOiB7XG4gICAgdmFsdWU6ICdFVkVOVCcsXG4gICAgbGFiZWw6IHQoJ0V2ZW50JyksXG4gICAgc3VwcG9ydE5hdGl2ZVNvdXJjZTogdHJ1ZSxcbiAgfSxcbiAgSU5URVJWQUw6IHtcbiAgICB2YWx1ZTogJ0lOVEVSVkFMJyxcbiAgICBsYWJlbDogdCgnSW50ZXJ2YWwnKSxcbiAgICBzdXBwb3J0TmF0aXZlU291cmNlOiB0cnVlLFxuICB9LFxuICBUSU1FX1NFUklFUzoge1xuICAgIHZhbHVlOiAnVElNRV9TRVJJRVMnLFxuICAgIGxhYmVsOiB0KCdUaW1lIHNlcmllcycpLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IEFOTk9UQVRJT05fVFlQRVMgPSBleHRyYWN0VHlwZXMoQU5OT1RBVElPTl9UWVBFU19NRVRBREFUQSk7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0FOTk9UQVRJT05fVFlQRSA9IEFOTk9UQVRJT05fVFlQRVMuRk9STVVMQTtcblxuZXhwb3J0IGNvbnN0IEFOTk9UQVRJT05fU09VUkNFX1RZUEVTX01FVEFEQVRBID0ge1xuICBOQVRJVkU6IHtcbiAgICB2YWx1ZTogJ05BVElWRScsXG4gICAgbGFiZWw6ICdTdXBlcnNldCBhbm5vdGF0aW9uJyxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBBTk5PVEFUSU9OX1NPVVJDRV9UWVBFUyA9IGV4dHJhY3RUeXBlcyhcbiAgQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVNfTUVUQURBVEEsXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZXNRdWVyeShhbm5vdGF0aW9uU291cmNlVHlwZSkge1xuICByZXR1cm4gISFhbm5vdGF0aW9uU291cmNlVHlwZTtcbn1cblxuY29uc3QgTkFUSVZFX0NPTFVNTl9OQU1FUyA9IHtcbiAgdGltZUNvbHVtbjogJ3N0YXJ0X2R0dG0nLFxuICBpbnRlcnZhbEVuZENvbHVtbjogJ2VuZF9kdHRtJyxcbiAgdGl0bGVDb2x1bW46ICdzaG9ydF9kZXNjcicsXG4gIGRlc2NyaXB0aW9uQ29sdW1uczogWydsb25nX2Rlc2NyJ10sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlOYXRpdmVDb2x1bW5zKGFubm90YXRpb24pIHtcbiAgaWYgKGFubm90YXRpb24uc291cmNlVHlwZSA9PT0gQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVMuTkFUSVZFKSB7XG4gICAgcmV0dXJuIHsgLi4uYW5ub3RhdGlvbiwgLi4uTkFUSVZFX0NPTFVNTl9OQU1FUyB9O1xuICB9XG4gIHJldHVybiBhbm5vdGF0aW9uO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/explore/components/controls/AnnotationLayerControl/AnnotationTypes.js\n\n}");

/***/ })

}]);